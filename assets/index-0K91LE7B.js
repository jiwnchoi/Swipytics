var lhe=Object.defineProperty;var LI=e=>{throw TypeError(e)};var uhe=(e,t,n)=>t in e?lhe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var che=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var ae=(e,t,n)=>uhe(e,typeof t!="symbol"?t+"":t,n),h$=(e,t,n)=>t.has(e)||LI("Cannot "+n);var B=(e,t,n)=>(h$(e,t,"read from private field"),n?n.call(e):t.get(e)),Me=(e,t,n)=>t.has(e)?LI("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),pe=(e,t,n,r)=>(h$(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),Ue=(e,t,n)=>(h$(e,t,"access private method"),n);var Ob=(e,t,n,r)=>({set _(i){pe(e,t,i,n)},get _(){return B(e,t,r)}});var uft=che((tdt,aI)=>{function Rq(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Li=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Da(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Oq={exports:{}},Kk={},Dq={exports:{}},je={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pv=Symbol.for("react.element"),fhe=Symbol.for("react.portal"),dhe=Symbol.for("react.fragment"),hhe=Symbol.for("react.strict_mode"),phe=Symbol.for("react.profiler"),ghe=Symbol.for("react.provider"),mhe=Symbol.for("react.context"),yhe=Symbol.for("react.forward_ref"),vhe=Symbol.for("react.suspense"),bhe=Symbol.for("react.memo"),xhe=Symbol.for("react.lazy"),II=Symbol.iterator;function whe(e){return e===null||typeof e!="object"?null:(e=II&&e[II]||e["@@iterator"],typeof e=="function"?e:null)}var Nq={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Lq=Object.assign,Iq={};function tm(e,t,n){this.props=e,this.context=t,this.refs=Iq,this.updater=n||Nq}tm.prototype.isReactComponent={};tm.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};tm.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function zq(){}zq.prototype=tm.prototype;function BF(e,t,n){this.props=e,this.context=t,this.refs=Iq,this.updater=n||Nq}var UF=BF.prototype=new zq;UF.constructor=BF;Lq(UF,tm.prototype);UF.isPureReactComponent=!0;var zI=Array.isArray,jq=Object.prototype.hasOwnProperty,VF={current:null},Bq={key:!0,ref:!0,__self:!0,__source:!0};function Uq(e,t,n){var r,i={},o=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(o=""+t.key),t)jq.call(t,r)&&!Bq.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:pv,type:e,key:o,ref:s,props:i,_owner:VF.current}}function She(e,t){return{$$typeof:pv,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function WF(e){return typeof e=="object"&&e!==null&&e.$$typeof===pv}function khe(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var jI=/\/+/g;function p$(e,t){return typeof e=="object"&&e!==null&&e.key!=null?khe(""+e.key):t.toString(36)}function lw(e,t,n,r,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case pv:case fhe:s=!0}}if(s)return s=e,i=i(s),e=r===""?"."+p$(s,0):r,zI(i)?(n="",e!=null&&(n=e.replace(jI,"$&/")+"/"),lw(i,t,n,"",function(u){return u})):i!=null&&(WF(i)&&(i=She(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(jI,"$&/")+"/")+e)),t.push(i)),1;if(s=0,r=r===""?".":r+":",zI(e))for(var a=0;a<e.length;a++){o=e[a];var l=r+p$(o,a);s+=lw(o,t,n,l,i)}else if(l=whe(e),typeof l=="function")for(e=l.call(e),a=0;!(o=e.next()).done;)o=o.value,l=r+p$(o,a++),s+=lw(o,t,n,l,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function Db(e,t,n){if(e==null)return e;var r=[],i=0;return lw(e,r,"","",function(o){return t.call(n,o,i++)}),r}function Che(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ei={current:null},uw={transition:null},Ehe={ReactCurrentDispatcher:ei,ReactCurrentBatchConfig:uw,ReactCurrentOwner:VF};function Vq(){throw Error("act(...) is not supported in production builds of React.")}je.Children={map:Db,forEach:function(e,t,n){Db(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Db(e,function(){t++}),t},toArray:function(e){return Db(e,function(t){return t})||[]},only:function(e){if(!WF(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};je.Component=tm;je.Fragment=dhe;je.Profiler=phe;je.PureComponent=BF;je.StrictMode=hhe;je.Suspense=vhe;je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ehe;je.act=Vq;je.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Lq({},e.props),i=e.key,o=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,s=VF.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)jq.call(t,l)&&!Bq.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:pv,type:e.type,key:i,ref:o,props:r,_owner:s}};je.createContext=function(e){return e={$$typeof:mhe,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:ghe,_context:e},e.Consumer=e};je.createElement=Uq;je.createFactory=function(e){var t=Uq.bind(null,e);return t.type=e,t};je.createRef=function(){return{current:null}};je.forwardRef=function(e){return{$$typeof:yhe,render:e}};je.isValidElement=WF;je.lazy=function(e){return{$$typeof:xhe,_payload:{_status:-1,_result:e},_init:Che}};je.memo=function(e,t){return{$$typeof:bhe,type:e,compare:t===void 0?null:t}};je.startTransition=function(e){var t=uw.transition;uw.transition={};try{e()}finally{uw.transition=t}};je.unstable_act=Vq;je.useCallback=function(e,t){return ei.current.useCallback(e,t)};je.useContext=function(e){return ei.current.useContext(e)};je.useDebugValue=function(){};je.useDeferredValue=function(e){return ei.current.useDeferredValue(e)};je.useEffect=function(e,t){return ei.current.useEffect(e,t)};je.useId=function(){return ei.current.useId()};je.useImperativeHandle=function(e,t,n){return ei.current.useImperativeHandle(e,t,n)};je.useInsertionEffect=function(e,t){return ei.current.useInsertionEffect(e,t)};je.useLayoutEffect=function(e,t){return ei.current.useLayoutEffect(e,t)};je.useMemo=function(e,t){return ei.current.useMemo(e,t)};je.useReducer=function(e,t,n){return ei.current.useReducer(e,t,n)};je.useRef=function(e){return ei.current.useRef(e)};je.useState=function(e){return ei.current.useState(e)};je.useSyncExternalStore=function(e,t,n){return ei.current.useSyncExternalStore(e,t,n)};je.useTransition=function(){return ei.current.useTransition()};je.version="18.3.1";Dq.exports=je;var M=Dq.exports;const Vi=Da(M),BI=Rq({__proto__:null,default:Vi},[M]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _he=M,$he=Symbol.for("react.element"),Ahe=Symbol.for("react.fragment"),The=Object.prototype.hasOwnProperty,Phe=_he.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Mhe={key:!0,ref:!0,__self:!0,__source:!0};function Wq(e,t,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)The.call(t,r)&&!Mhe.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:$he,type:e,key:o,ref:s,props:i,_owner:Phe.current}}Kk.Fragment=Ahe;Kk.jsx=Wq;Kk.jsxs=Wq;Oq.exports=Kk;var $=Oq.exports,Fhe=!1;function Rhe(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function Ohe(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var Dhe=function(){function e(n){var r=this;this._insertTag=function(i){var o;r.tags.length===0?r.insertionPoint?o=r.insertionPoint.nextSibling:r.prepend?o=r.container.firstChild:o=r.before:o=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,o),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!Fhe:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(r){r.forEach(this._insertTag)},t.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(Ohe(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var o=Rhe(i);try{o.insertRule(r,o.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},t.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},e}(),fr="-ms-",c2="-moz-",it="-webkit-",Hq="comm",HF="rule",qF="decl",Nhe="@import",qq="@keyframes",Lhe="@layer",Ihe=Math.abs,Qk=String.fromCharCode,zhe=Object.assign;function jhe(e,t){return qn(e,0)^45?(((t<<2^qn(e,0))<<2^qn(e,1))<<2^qn(e,2))<<2^qn(e,3):0}function Gq(e){return e.trim()}function Bhe(e,t){return(e=t.exec(e))?e[0]:e}function ot(e,t,n){return e.replace(t,n)}function h5(e,t){return e.indexOf(t)}function qn(e,t){return e.charCodeAt(t)|0}function Qy(e,t,n){return e.slice(t,n)}function ra(e){return e.length}function GF(e){return e.length}function Nb(e,t){return t.push(e),e}function Uhe(e,t){return e.map(t).join("")}var Jk=1,Jp=1,Yq=0,bi=0,hn=0,nm="";function Zk(e,t,n,r,i,o,s){return{value:e,root:t,parent:n,type:r,props:i,children:o,line:Jk,column:Jp,length:s,return:""}}function Im(e,t){return zhe(Zk("",null,null,"",null,null,0),e,{length:-e.length},t)}function Vhe(){return hn}function Whe(){return hn=bi>0?qn(nm,--bi):0,Jp--,hn===10&&(Jp=1,Jk--),hn}function Wi(){return hn=bi<Yq?qn(nm,bi++):0,Jp++,hn===10&&(Jp=1,Jk++),hn}function ma(){return qn(nm,bi)}function cw(){return bi}function gv(e,t){return Qy(nm,e,t)}function Jy(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Xq(e){return Jk=Jp=1,Yq=ra(nm=e),bi=0,[]}function Kq(e){return nm="",e}function fw(e){return Gq(gv(bi-1,p5(e===91?e+2:e===40?e+1:e)))}function Hhe(e){for(;(hn=ma())&&hn<33;)Wi();return Jy(e)>2||Jy(hn)>3?"":" "}function qhe(e,t){for(;--t&&Wi()&&!(hn<48||hn>102||hn>57&&hn<65||hn>70&&hn<97););return gv(e,cw()+(t<6&&ma()==32&&Wi()==32))}function p5(e){for(;Wi();)switch(hn){case e:return bi;case 34:case 39:e!==34&&e!==39&&p5(hn);break;case 40:e===41&&p5(e);break;case 92:Wi();break}return bi}function Ghe(e,t){for(;Wi()&&e+hn!==57;)if(e+hn===84&&ma()===47)break;return"/*"+gv(t,bi-1)+"*"+Qk(e===47?e:Wi())}function Yhe(e){for(;!Jy(ma());)Wi();return gv(e,bi)}function Xhe(e){return Kq(dw("",null,null,null,[""],e=Xq(e),0,[0],e))}function dw(e,t,n,r,i,o,s,a,l){for(var u=0,c=0,f=s,d=0,h=0,p=0,g=1,m=1,y=1,v=0,b="",x=i,w=o,k=r,S=b;m;)switch(p=v,v=Wi()){case 40:if(p!=108&&qn(S,f-1)==58){h5(S+=ot(fw(v),"&","&\f"),"&\f")!=-1&&(y=-1);break}case 34:case 39:case 91:S+=fw(v);break;case 9:case 10:case 13:case 32:S+=Hhe(p);break;case 92:S+=qhe(cw()-1,7);continue;case 47:switch(ma()){case 42:case 47:Nb(Khe(Ghe(Wi(),cw()),t,n),l);break;default:S+="/"}break;case 123*g:a[u++]=ra(S)*y;case 125*g:case 59:case 0:switch(v){case 0:case 125:m=0;case 59+c:y==-1&&(S=ot(S,/\f/g,"")),h>0&&ra(S)-f&&Nb(h>32?VI(S+";",r,n,f-1):VI(ot(S," ","")+";",r,n,f-2),l);break;case 59:S+=";";default:if(Nb(k=UI(S,t,n,u,c,i,a,b,x=[],w=[],f),o),v===123)if(c===0)dw(S,t,k,k,x,o,f,a,w);else switch(d===99&&qn(S,3)===110?100:d){case 100:case 108:case 109:case 115:dw(e,k,k,r&&Nb(UI(e,k,k,0,0,i,a,b,i,x=[],f),w),i,w,f,a,r?x:w);break;default:dw(S,k,k,k,[""],w,0,a,w)}}u=c=h=0,g=y=1,b=S="",f=s;break;case 58:f=1+ra(S),h=p;default:if(g<1){if(v==123)--g;else if(v==125&&g++==0&&Whe()==125)continue}switch(S+=Qk(v),v*g){case 38:y=c>0?1:(S+="\f",-1);break;case 44:a[u++]=(ra(S)-1)*y,y=1;break;case 64:ma()===45&&(S+=fw(Wi())),d=ma(),c=f=ra(b=S+=Yhe(cw())),v++;break;case 45:p===45&&ra(S)==2&&(g=0)}}return o}function UI(e,t,n,r,i,o,s,a,l,u,c){for(var f=i-1,d=i===0?o:[""],h=GF(d),p=0,g=0,m=0;p<r;++p)for(var y=0,v=Qy(e,f+1,f=Ihe(g=s[p])),b=e;y<h;++y)(b=Gq(g>0?d[y]+" "+v:ot(v,/&\f/g,d[y])))&&(l[m++]=b);return Zk(e,t,n,i===0?HF:a,l,u,c)}function Khe(e,t,n){return Zk(e,t,n,Hq,Qk(Vhe()),Qy(e,2,-2),0)}function VI(e,t,n,r){return Zk(e,t,n,qF,Qy(e,0,r),Qy(e,r+1,-1),r)}function yp(e,t){for(var n="",r=GF(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function Qhe(e,t,n,r){switch(e.type){case Lhe:if(e.children.length)break;case Nhe:case qF:return e.return=e.return||e.value;case Hq:return"";case qq:return e.return=e.value+"{"+yp(e.children,r)+"}";case HF:e.value=e.props.join(",")}return ra(n=yp(e.children,r))?e.return=e.value+"{"+n+"}":""}function Jhe(e){var t=GF(e);return function(n,r,i,o){for(var s="",a=0;a<t;a++)s+=e[a](n,r,i,o)||"";return s}}function Zhe(e){return function(t){t.root||(t=t.return)&&e(t)}}var WI=function(t){var n=new WeakMap;return function(r){if(n.has(r))return n.get(r);var i=t(r);return n.set(r,i),i}};function Qq(e){var t=Object.create(null);return function(n){return t[n]===void 0&&(t[n]=e(n)),t[n]}}var epe=function(t,n,r){for(var i=0,o=0;i=o,o=ma(),i===38&&o===12&&(n[r]=1),!Jy(o);)Wi();return gv(t,bi)},tpe=function(t,n){var r=-1,i=44;do switch(Jy(i)){case 0:i===38&&ma()===12&&(n[r]=1),t[r]+=epe(bi-1,n,r);break;case 2:t[r]+=fw(i);break;case 4:if(i===44){t[++r]=ma()===58?"&\f":"",n[r]=t[r].length;break}default:t[r]+=Qk(i)}while(i=Wi());return t},npe=function(t,n){return Kq(tpe(Xq(t),n))},HI=new WeakMap,rpe=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var n=t.value,r=t.parent,i=t.column===r.column&&t.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(t.props.length===1&&n.charCodeAt(0)!==58&&!HI.get(r))&&!i){HI.set(t,!0);for(var o=[],s=npe(n,o),a=r.props,l=0,u=0;l<s.length;l++)for(var c=0;c<a.length;c++,u++)t.props[u]=o[l]?s[l].replace(/&\f/g,a[c]):a[c]+" "+s[l]}}},ipe=function(t){if(t.type==="decl"){var n=t.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(t.return="",t.value="")}};function Jq(e,t){switch(jhe(e,t)){case 5103:return it+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return it+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return it+e+c2+e+fr+e+e;case 6828:case 4268:return it+e+fr+e+e;case 6165:return it+e+fr+"flex-"+e+e;case 5187:return it+e+ot(e,/(\w+).+(:[^]+)/,it+"box-$1$2"+fr+"flex-$1$2")+e;case 5443:return it+e+fr+"flex-item-"+ot(e,/flex-|-self/,"")+e;case 4675:return it+e+fr+"flex-line-pack"+ot(e,/align-content|flex-|-self/,"")+e;case 5548:return it+e+fr+ot(e,"shrink","negative")+e;case 5292:return it+e+fr+ot(e,"basis","preferred-size")+e;case 6060:return it+"box-"+ot(e,"-grow","")+it+e+fr+ot(e,"grow","positive")+e;case 4554:return it+ot(e,/([^-])(transform)/g,"$1"+it+"$2")+e;case 6187:return ot(ot(ot(e,/(zoom-|grab)/,it+"$1"),/(image-set)/,it+"$1"),e,"")+e;case 5495:case 3959:return ot(e,/(image-set\([^]*)/,it+"$1$`$1");case 4968:return ot(ot(e,/(.+:)(flex-)?(.*)/,it+"box-pack:$3"+fr+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+it+e+e;case 4095:case 3583:case 4068:case 2532:return ot(e,/(.+)-inline(.+)/,it+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(ra(e)-1-t>6)switch(qn(e,t+1)){case 109:if(qn(e,t+4)!==45)break;case 102:return ot(e,/(.+:)(.+)-([^]+)/,"$1"+it+"$2-$3$1"+c2+(qn(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~h5(e,"stretch")?Jq(ot(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(qn(e,t+1)!==115)break;case 6444:switch(qn(e,ra(e)-3-(~h5(e,"!important")&&10))){case 107:return ot(e,":",":"+it)+e;case 101:return ot(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+it+(qn(e,14)===45?"inline-":"")+"box$3$1"+it+"$2$3$1"+fr+"$2box$3")+e}break;case 5936:switch(qn(e,t+11)){case 114:return it+e+fr+ot(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return it+e+fr+ot(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return it+e+fr+ot(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return it+e+fr+e+e}return e}var ope=function(t,n,r,i){if(t.length>-1&&!t.return)switch(t.type){case qF:t.return=Jq(t.value,t.length);break;case qq:return yp([Im(t,{value:ot(t.value,"@","@"+it)})],i);case HF:if(t.length)return Uhe(t.props,function(o){switch(Bhe(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return yp([Im(t,{props:[ot(o,/:(read-\w+)/,":"+c2+"$1")]})],i);case"::placeholder":return yp([Im(t,{props:[ot(o,/:(plac\w+)/,":"+it+"input-$1")]}),Im(t,{props:[ot(o,/:(plac\w+)/,":"+c2+"$1")]}),Im(t,{props:[ot(o,/:(plac\w+)/,fr+"input-$1")]})],i)}return""})}},spe=[ope],ape=function(t){var n=t.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(g){var m=g.getAttribute("data-emotion");m.indexOf(" ")!==-1&&(document.head.appendChild(g),g.setAttribute("data-s",""))})}var i=t.stylisPlugins||spe,o={},s,a=[];s=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(g){for(var m=g.getAttribute("data-emotion").split(" "),y=1;y<m.length;y++)o[m[y]]=!0;a.push(g)});var l,u=[rpe,ipe];{var c,f=[Qhe,Zhe(function(g){c.insert(g)})],d=Jhe(u.concat(i,f)),h=function(m){return yp(Xhe(m),d)};l=function(m,y,v,b){c=v,h(m?m+"{"+y.styles+"}":y.styles),b&&(p.inserted[y.name]=!0)}}var p={key:n,sheet:new Dhe({key:n,container:s,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:o,registered:{},insert:l};return p.sheet.hydrate(a),p};function f2(){return f2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f2.apply(null,arguments)}var Zq={exports:{}},pt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zn=typeof Symbol=="function"&&Symbol.for,YF=zn?Symbol.for("react.element"):60103,XF=zn?Symbol.for("react.portal"):60106,eC=zn?Symbol.for("react.fragment"):60107,tC=zn?Symbol.for("react.strict_mode"):60108,nC=zn?Symbol.for("react.profiler"):60114,rC=zn?Symbol.for("react.provider"):60109,iC=zn?Symbol.for("react.context"):60110,KF=zn?Symbol.for("react.async_mode"):60111,oC=zn?Symbol.for("react.concurrent_mode"):60111,sC=zn?Symbol.for("react.forward_ref"):60112,aC=zn?Symbol.for("react.suspense"):60113,lpe=zn?Symbol.for("react.suspense_list"):60120,lC=zn?Symbol.for("react.memo"):60115,uC=zn?Symbol.for("react.lazy"):60116,upe=zn?Symbol.for("react.block"):60121,cpe=zn?Symbol.for("react.fundamental"):60117,fpe=zn?Symbol.for("react.responder"):60118,dpe=zn?Symbol.for("react.scope"):60119;function io(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case YF:switch(e=e.type,e){case KF:case oC:case eC:case nC:case tC:case aC:return e;default:switch(e=e&&e.$$typeof,e){case iC:case sC:case uC:case lC:case rC:return e;default:return t}}case XF:return t}}}function eG(e){return io(e)===oC}pt.AsyncMode=KF;pt.ConcurrentMode=oC;pt.ContextConsumer=iC;pt.ContextProvider=rC;pt.Element=YF;pt.ForwardRef=sC;pt.Fragment=eC;pt.Lazy=uC;pt.Memo=lC;pt.Portal=XF;pt.Profiler=nC;pt.StrictMode=tC;pt.Suspense=aC;pt.isAsyncMode=function(e){return eG(e)||io(e)===KF};pt.isConcurrentMode=eG;pt.isContextConsumer=function(e){return io(e)===iC};pt.isContextProvider=function(e){return io(e)===rC};pt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===YF};pt.isForwardRef=function(e){return io(e)===sC};pt.isFragment=function(e){return io(e)===eC};pt.isLazy=function(e){return io(e)===uC};pt.isMemo=function(e){return io(e)===lC};pt.isPortal=function(e){return io(e)===XF};pt.isProfiler=function(e){return io(e)===nC};pt.isStrictMode=function(e){return io(e)===tC};pt.isSuspense=function(e){return io(e)===aC};pt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===eC||e===oC||e===nC||e===tC||e===aC||e===lpe||typeof e=="object"&&e!==null&&(e.$$typeof===uC||e.$$typeof===lC||e.$$typeof===rC||e.$$typeof===iC||e.$$typeof===sC||e.$$typeof===cpe||e.$$typeof===fpe||e.$$typeof===dpe||e.$$typeof===upe)};pt.typeOf=io;Zq.exports=pt;var hpe=Zq.exports,tG=hpe,ppe={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},gpe={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},nG={};nG[tG.ForwardRef]=ppe;nG[tG.Memo]=gpe;var mpe=!0;function ype(e,t,n){var r="";return n.split(" ").forEach(function(i){e[i]!==void 0?t.push(e[i]+";"):r+=i+" "}),r}var rG=function(t,n,r){var i=t.key+"-"+n.name;(r===!1||mpe===!1)&&t.registered[i]===void 0&&(t.registered[i]=n.styles)},iG=function(t,n,r){rG(t,n,r);var i=t.key+"-"+n.name;if(t.inserted[n.name]===void 0){var o=n;do t.insert(n===o?"."+i:"",o,t.sheet,!0),o=o.next;while(o!==void 0)}};function vpe(e){for(var t=0,n,r=0,i=e.length;i>=4;++r,i-=4)n=e.charCodeAt(r)&255|(e.charCodeAt(++r)&255)<<8|(e.charCodeAt(++r)&255)<<16|(e.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,t=(n&65535)*1540483477+((n>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(i){case 3:t^=(e.charCodeAt(r+2)&255)<<16;case 2:t^=(e.charCodeAt(r+1)&255)<<8;case 1:t^=e.charCodeAt(r)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var bpe={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},xpe=!1,wpe=/[A-Z]|^ms/g,Spe=/_EMO_([^_]+?)_([^]*?)_EMO_/g,oG=function(t){return t.charCodeAt(1)===45},qI=function(t){return t!=null&&typeof t!="boolean"},g$=Qq(function(e){return oG(e)?e:e.replace(wpe,"-$&").toLowerCase()}),GI=function(t,n){switch(t){case"animation":case"animationName":if(typeof n=="string")return n.replace(Spe,function(r,i,o){return ia={name:i,styles:o,next:ia},i})}return bpe[t]!==1&&!oG(t)&&typeof n=="number"&&n!==0?n+"px":n},kpe="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function Zy(e,t,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var i=n;if(i.anim===1)return ia={name:i.name,styles:i.styles,next:ia},i.name;var o=n;if(o.styles!==void 0){var s=o.next;if(s!==void 0)for(;s!==void 0;)ia={name:s.name,styles:s.styles,next:ia},s=s.next;var a=o.styles+";";return a}return Cpe(e,t,n)}case"function":{if(e!==void 0){var l=ia,u=n(e);return ia=l,Zy(e,t,u)}break}}var c=n;if(t==null)return c;var f=t[c];return f!==void 0?f:c}function Cpe(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Zy(e,t,n[i])+";";else for(var o in n){var s=n[o];if(typeof s!="object"){var a=s;t!=null&&t[a]!==void 0?r+=o+"{"+t[a]+"}":qI(a)&&(r+=g$(o)+":"+GI(o,a)+";")}else{if(o==="NO_COMPONENT_SELECTOR"&&xpe)throw new Error(kpe);if(Array.isArray(s)&&typeof s[0]=="string"&&(t==null||t[s[0]]===void 0))for(var l=0;l<s.length;l++)qI(s[l])&&(r+=g$(o)+":"+GI(o,s[l])+";");else{var u=Zy(e,t,s);switch(o){case"animation":case"animationName":{r+=g$(o)+":"+u+";";break}default:r+=o+"{"+u+"}"}}}}return r}var YI=/label:\s*([^\s;\n{]+)\s*(;|$)/g,ia;function QF(e,t,n){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var r=!0,i="";ia=void 0;var o=e[0];if(o==null||o.raw===void 0)r=!1,i+=Zy(n,t,o);else{var s=o;i+=s[0]}for(var a=1;a<e.length;a++)if(i+=Zy(n,t,e[a]),r){var l=o;i+=l[a]}YI.lastIndex=0;for(var u="",c;(c=YI.exec(i))!==null;)u+="-"+c[1];var f=vpe(i)+u;return{name:f,styles:i,next:ia}}var Epe=function(t){return t()},sG=BI.useInsertionEffect?BI.useInsertionEffect:!1,_pe=sG||Epe,XI=sG||M.useLayoutEffect,aG=M.createContext(typeof HTMLElement<"u"?ape({key:"css"}):null);aG.Provider;var lG=function(t){return M.forwardRef(function(n,r){var i=M.useContext(aG);return t(n,i,r)})},e1=M.createContext({}),$pe=function(t,n){if(typeof n=="function"){var r=n(t);return r}return f2({},t,n)},Ape=WI(function(e){return WI(function(t){return $pe(e,t)})}),Tpe=function(t){var n=M.useContext(e1);return t.theme!==n&&(n=Ape(n)(t.theme)),M.createElement(e1.Provider,{value:n},t.children)},cC=lG(function(e,t){var n=e.styles,r=QF([n],void 0,M.useContext(e1)),i=M.useRef();return XI(function(){var o=t.key+"-global",s=new t.sheet.constructor({key:o,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),a=!1,l=document.querySelector('style[data-emotion="'+o+" "+r.name+'"]');return t.sheet.tags.length&&(s.before=t.sheet.tags[0]),l!==null&&(a=!0,l.setAttribute("data-emotion",o),s.hydrate([l])),i.current=[s,a],function(){s.flush()}},[t]),XI(function(){var o=i.current,s=o[0],a=o[1];if(a){o[1]=!1;return}if(r.next!==void 0&&iG(t,r.next,!0),s.tags.length){var l=s.tags[s.tags.length-1].nextElementSibling;s.before=l,s.flush()}t.insert("",r,s,!1)},[t,r.name]),null});function Ppe(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return QF(t)}var Mpe=function(){var t=Ppe.apply(void 0,arguments),n="animation-"+t.name;return{name:n,styles:"@keyframes "+n+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},uG=String.raw,cG=uG`
  :root,
  :host {
    --chakra-vh: 100vh;
  }

  @supports (height: -webkit-fill-available) {
    :root,
    :host {
      --chakra-vh: -webkit-fill-available;
    }
  }

  @supports (height: -moz-fill-available) {
    :root,
    :host {
      --chakra-vh: -moz-fill-available;
    }
  }

  @supports (height: 100dvh) {
    :root,
    :host {
      --chakra-vh: 100dvh;
    }
  }
`,Fpe=()=>$.jsx(cC,{styles:cG}),Rpe=({scope:e=""})=>$.jsx(cC,{styles:uG`
      html {
        line-height: 1.5;
        -webkit-text-size-adjust: 100%;
        font-family: system-ui, sans-serif;
        -webkit-font-smoothing: antialiased;
        text-rendering: optimizeLegibility;
        -moz-osx-font-smoothing: grayscale;
        touch-action: manipulation;
      }

      body {
        position: relative;
        min-height: 100%;
        margin: 0;
        font-feature-settings: "kern";
      }

      ${e} :where(*, *::before, *::after) {
        border-width: 0;
        border-style: solid;
        box-sizing: border-box;
        word-wrap: break-word;
      }

      main {
        display: block;
      }

      ${e} hr {
        border-top-width: 1px;
        box-sizing: content-box;
        height: 0;
        overflow: visible;
      }

      ${e} :where(pre, code, kbd,samp) {
        font-family: SFMono-Regular, Menlo, Monaco, Consolas, monospace;
        font-size: 1em;
      }

      ${e} a {
        background-color: transparent;
        color: inherit;
        text-decoration: inherit;
      }

      ${e} abbr[title] {
        border-bottom: none;
        text-decoration: underline;
        -webkit-text-decoration: underline dotted;
        text-decoration: underline dotted;
      }

      ${e} :where(b, strong) {
        font-weight: bold;
      }

      ${e} small {
        font-size: 80%;
      }

      ${e} :where(sub,sup) {
        font-size: 75%;
        line-height: 0;
        position: relative;
        vertical-align: baseline;
      }

      ${e} sub {
        bottom: -0.25em;
      }

      ${e} sup {
        top: -0.5em;
      }

      ${e} img {
        border-style: none;
      }

      ${e} :where(button, input, optgroup, select, textarea) {
        font-family: inherit;
        font-size: 100%;
        line-height: 1.15;
        margin: 0;
      }

      ${e} :where(button, input) {
        overflow: visible;
      }

      ${e} :where(button, select) {
        text-transform: none;
      }

      ${e} :where(
          button::-moz-focus-inner,
          [type="button"]::-moz-focus-inner,
          [type="reset"]::-moz-focus-inner,
          [type="submit"]::-moz-focus-inner
        ) {
        border-style: none;
        padding: 0;
      }

      ${e} fieldset {
        padding: 0.35em 0.75em 0.625em;
      }

      ${e} legend {
        box-sizing: border-box;
        color: inherit;
        display: table;
        max-width: 100%;
        padding: 0;
        white-space: normal;
      }

      ${e} progress {
        vertical-align: baseline;
      }

      ${e} textarea {
        overflow: auto;
      }

      ${e} :where([type="checkbox"], [type="radio"]) {
        box-sizing: border-box;
        padding: 0;
      }

      ${e} input[type="number"]::-webkit-inner-spin-button,
      ${e} input[type="number"]::-webkit-outer-spin-button {
        -webkit-appearance: none !important;
      }

      ${e} input[type="number"] {
        -moz-appearance: textfield;
      }

      ${e} input[type="search"] {
        -webkit-appearance: textfield;
        outline-offset: -2px;
      }

      ${e} input[type="search"]::-webkit-search-decoration {
        -webkit-appearance: none !important;
      }

      ${e} ::-webkit-file-upload-button {
        -webkit-appearance: button;
        font: inherit;
      }

      ${e} details {
        display: block;
      }

      ${e} summary {
        display: list-item;
      }

      template {
        display: none;
      }

      [hidden] {
        display: none !important;
      }

      ${e} :where(
          blockquote,
          dl,
          dd,
          h1,
          h2,
          h3,
          h4,
          h5,
          h6,
          hr,
          figure,
          p,
          pre
        ) {
        margin: 0;
      }

      ${e} button {
        background: transparent;
        padding: 0;
      }

      ${e} fieldset {
        margin: 0;
        padding: 0;
      }

      ${e} :where(ol, ul) {
        margin: 0;
        padding: 0;
      }

      ${e} textarea {
        resize: vertical;
      }

      ${e} :where(button, [role="button"]) {
        cursor: pointer;
      }

      ${e} button::-moz-focus-inner {
        border: 0 !important;
      }

      ${e} table {
        border-collapse: collapse;
      }

      ${e} :where(h1, h2, h3, h4, h5, h6) {
        font-size: inherit;
        font-weight: inherit;
      }

      ${e} :where(button, input, optgroup, select, textarea) {
        padding: 0;
        line-height: inherit;
        color: inherit;
      }

      ${e} :where(img, svg, video, canvas, audio, iframe, embed, object) {
        display: block;
      }

      ${e} :where(img, video) {
        max-width: 100%;
        height: auto;
      }

      [data-js-focus-visible]
        :focus:not([data-focus-visible-added]):not(
          [data-focus-visible-disabled]
        ) {
        outline: none;
        box-shadow: none;
      }

      ${e} select::-ms-expand {
        display: none;
      }

      ${cG}
    `});function Ope(e,t){return`${e} returned \`undefined\`. Seems you forgot to wrap component within ${t}`}function jn(e={}){const{name:t,strict:n=!0,hookName:r="useContext",providerName:i="Provider",errorMessage:o,defaultValue:s}=e,a=M.createContext(s);a.displayName=t;function l(){var u;const c=M.useContext(a);if(!c&&n){const f=new Error(o??Ope(r,i));throw f.name="ContextError",(u=Error.captureStackTrace)==null||u.call(Error,f,l),f}return c}return[a.Provider,l,a]}var[Dpe,Npe]=jn({strict:!1,name:"PortalManagerContext"});function fG(e){const{children:t,zIndex:n}=e;return $.jsx(Dpe,{value:{zIndex:n},children:t})}fG.displayName="PortalManager";var Zp=globalThis!=null&&globalThis.document?M.useLayoutEffect:M.useEffect,dG={exports:{}},oo={},hG={exports:{}},pG={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(D,I){var U=D.length;D.push(I);e:for(;0<U;){var V=U-1>>>1,oe=D[V];if(0<i(oe,I))D[V]=I,D[U]=oe,U=V;else break e}}function n(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var I=D[0],U=D.pop();if(U!==I){D[0]=U;e:for(var V=0,oe=D.length,Q=oe>>>1;V<Q;){var ye=2*(V+1)-1,Oe=D[ye],ut=ye+1,$n=D[ut];if(0>i(Oe,U))ut<oe&&0>i($n,Oe)?(D[V]=$n,D[ut]=U,V=ut):(D[V]=Oe,D[ye]=U,V=ye);else if(ut<oe&&0>i($n,U))D[V]=$n,D[ut]=U,V=ut;else break e}}return I}function i(D,I){var U=D.sortIndex-I.sortIndex;return U!==0?U:D.id-I.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();e.unstable_now=function(){return s.now()-a}}var l=[],u=[],c=1,f=null,d=3,h=!1,p=!1,g=!1,m=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(D){for(var I=n(u);I!==null;){if(I.callback===null)r(u);else if(I.startTime<=D)r(u),I.sortIndex=I.expirationTime,t(l,I);else break;I=n(u)}}function x(D){if(g=!1,b(D),!p)if(n(l)!==null)p=!0,P(w);else{var I=n(u);I!==null&&N(x,I.startTime-D)}}function w(D,I){p=!1,g&&(g=!1,y(C),C=-1),h=!0;var U=d;try{for(b(I),f=n(l);f!==null&&(!(f.expirationTime>I)||D&&!T());){var V=f.callback;if(typeof V=="function"){f.callback=null,d=f.priorityLevel;var oe=V(f.expirationTime<=I);I=e.unstable_now(),typeof oe=="function"?f.callback=oe:f===n(l)&&r(l),b(I)}else r(l);f=n(l)}if(f!==null)var Q=!0;else{var ye=n(u);ye!==null&&N(x,ye.startTime-I),Q=!1}return Q}finally{f=null,d=U,h=!1}}var k=!1,S=null,C=-1,E=5,A=-1;function T(){return!(e.unstable_now()-A<E)}function L(){if(S!==null){var D=e.unstable_now();A=D;var I=!0;try{I=S(!0,D)}finally{I?F():(k=!1,S=null)}}else k=!1}var F;if(typeof v=="function")F=function(){v(L)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,_=R.port2;R.port1.onmessage=L,F=function(){_.postMessage(null)}}else F=function(){m(L,0)};function P(D){S=D,k||(k=!0,F())}function N(D,I){C=m(function(){D(e.unstable_now())},I)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(D){D.callback=null},e.unstable_continueExecution=function(){p||h||(p=!0,P(w))},e.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<D?Math.floor(1e3/D):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(D){switch(d){case 1:case 2:case 3:var I=3;break;default:I=d}var U=d;d=I;try{return D()}finally{d=U}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(D,I){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var U=d;d=D;try{return I()}finally{d=U}},e.unstable_scheduleCallback=function(D,I,U){var V=e.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?V+U:V):U=V,D){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return oe=U+oe,D={id:c++,callback:I,priorityLevel:D,startTime:U,expirationTime:oe,sortIndex:-1},U>V?(D.sortIndex=U,t(u,D),n(l)===null&&D===n(u)&&(g?(y(C),C=-1):g=!0,N(x,U-V))):(D.sortIndex=oe,t(l,D),p||h||(p=!0,P(w))),D},e.unstable_shouldYield=T,e.unstable_wrapCallback=function(D){var I=d;return function(){var U=d;d=I;try{return D.apply(this,arguments)}finally{d=U}}}})(pG);hG.exports=pG;var Lpe=hG.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ipe=M,Ki=Lpe;function te(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var gG=new Set,t1={};function Bd(e,t){eg(e,t),eg(e+"Capture",t)}function eg(e,t){for(t1[e]=t,e=0;e<t.length;e++)gG.add(t[e])}var Rl=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),g5=Object.prototype.hasOwnProperty,zpe=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,KI={},QI={};function jpe(e){return g5.call(QI,e)?!0:g5.call(KI,e)?!1:zpe.test(e)?QI[e]=!0:(KI[e]=!0,!1)}function Bpe(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Upe(e,t,n,r){if(t===null||typeof t>"u"||Bpe(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ti(e,t,n,r,i,o,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var nr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){nr[e]=new ti(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];nr[t]=new ti(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){nr[e]=new ti(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){nr[e]=new ti(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){nr[e]=new ti(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){nr[e]=new ti(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){nr[e]=new ti(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){nr[e]=new ti(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){nr[e]=new ti(e,5,!1,e.toLowerCase(),null,!1,!1)});var JF=/[\-:]([a-z])/g;function ZF(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(JF,ZF);nr[t]=new ti(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(JF,ZF);nr[t]=new ti(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(JF,ZF);nr[t]=new ti(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){nr[e]=new ti(e,1,!1,e.toLowerCase(),null,!1,!1)});nr.xlinkHref=new ti("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){nr[e]=new ti(e,1,!1,e.toLowerCase(),null,!0,!0)});function e4(e,t,n,r){var i=nr.hasOwnProperty(t)?nr[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Upe(t,n,i,r)&&(n=null),r||i===null?jpe(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var ql=Ipe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Lb=Symbol.for("react.element"),Uh=Symbol.for("react.portal"),Vh=Symbol.for("react.fragment"),t4=Symbol.for("react.strict_mode"),m5=Symbol.for("react.profiler"),mG=Symbol.for("react.provider"),yG=Symbol.for("react.context"),n4=Symbol.for("react.forward_ref"),y5=Symbol.for("react.suspense"),v5=Symbol.for("react.suspense_list"),r4=Symbol.for("react.memo"),mu=Symbol.for("react.lazy"),vG=Symbol.for("react.offscreen"),JI=Symbol.iterator;function zm(e){return e===null||typeof e!="object"?null:(e=JI&&e[JI]||e["@@iterator"],typeof e=="function"?e:null)}var Gt=Object.assign,m$;function P0(e){if(m$===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);m$=t&&t[1]||""}return`
`+m$+e}var y$=!1;function v$(e,t){if(!e||y$)return"";y$=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=s&&0<=a);break}}}finally{y$=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?P0(e):""}function Vpe(e){switch(e.tag){case 5:return P0(e.type);case 16:return P0("Lazy");case 13:return P0("Suspense");case 19:return P0("SuspenseList");case 0:case 2:case 15:return e=v$(e.type,!1),e;case 11:return e=v$(e.type.render,!1),e;case 1:return e=v$(e.type,!0),e;default:return""}}function b5(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Vh:return"Fragment";case Uh:return"Portal";case m5:return"Profiler";case t4:return"StrictMode";case y5:return"Suspense";case v5:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case yG:return(e.displayName||"Context")+".Consumer";case mG:return(e._context.displayName||"Context")+".Provider";case n4:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case r4:return t=e.displayName||null,t!==null?t:b5(e.type)||"Memo";case mu:t=e._payload,e=e._init;try{return b5(e(t))}catch{}}return null}function Wpe(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return b5(t);case 8:return t===t4?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function uc(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function bG(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Hpe(e){var t=bG(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ib(e){e._valueTracker||(e._valueTracker=Hpe(e))}function xG(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=bG(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function d2(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function x5(e,t){var n=t.checked;return Gt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function ZI(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=uc(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function wG(e,t){t=t.checked,t!=null&&e4(e,"checked",t,!1)}function w5(e,t){wG(e,t);var n=uc(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?S5(e,t.type,n):t.hasOwnProperty("defaultValue")&&S5(e,t.type,uc(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function e8(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function S5(e,t,n){(t!=="number"||d2(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var M0=Array.isArray;function vp(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+uc(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function k5(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(te(91));return Gt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function t8(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(te(92));if(M0(n)){if(1<n.length)throw Error(te(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:uc(n)}}function SG(e,t){var n=uc(t.value),r=uc(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function n8(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function kG(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function C5(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?kG(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var zb,CG=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(zb=zb||document.createElement("div"),zb.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=zb.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function n1(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var hy={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qpe=["Webkit","ms","Moz","O"];Object.keys(hy).forEach(function(e){qpe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),hy[t]=hy[e]})});function EG(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||hy.hasOwnProperty(e)&&hy[e]?(""+t).trim():t+"px"}function _G(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=EG(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var Gpe=Gt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function E5(e,t){if(t){if(Gpe[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(te(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(te(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(te(61))}if(t.style!=null&&typeof t.style!="object")throw Error(te(62))}}function _5(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $5=null;function i4(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var A5=null,bp=null,xp=null;function r8(e){if(e=vv(e)){if(typeof A5!="function")throw Error(te(280));var t=e.stateNode;t&&(t=gC(t),A5(e.stateNode,e.type,t))}}function $G(e){bp?xp?xp.push(e):xp=[e]:bp=e}function AG(){if(bp){var e=bp,t=xp;if(xp=bp=null,r8(e),t)for(e=0;e<t.length;e++)r8(t[e])}}function TG(e,t){return e(t)}function PG(){}var b$=!1;function MG(e,t,n){if(b$)return e(t,n);b$=!0;try{return TG(e,t,n)}finally{b$=!1,(bp!==null||xp!==null)&&(PG(),AG())}}function r1(e,t){var n=e.stateNode;if(n===null)return null;var r=gC(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(te(231,t,typeof n));return n}var T5=!1;if(Rl)try{var jm={};Object.defineProperty(jm,"passive",{get:function(){T5=!0}}),window.addEventListener("test",jm,jm),window.removeEventListener("test",jm,jm)}catch{T5=!1}function Ype(e,t,n,r,i,o,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var py=!1,h2=null,p2=!1,P5=null,Xpe={onError:function(e){py=!0,h2=e}};function Kpe(e,t,n,r,i,o,s,a,l){py=!1,h2=null,Ype.apply(Xpe,arguments)}function Qpe(e,t,n,r,i,o,s,a,l){if(Kpe.apply(this,arguments),py){if(py){var u=h2;py=!1,h2=null}else throw Error(te(198));p2||(p2=!0,P5=u)}}function Ud(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function FG(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function i8(e){if(Ud(e)!==e)throw Error(te(188))}function Jpe(e){var t=e.alternate;if(!t){if(t=Ud(e),t===null)throw Error(te(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return i8(i),e;if(o===r)return i8(i),t;o=o.sibling}throw Error(te(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(te(189))}}if(n.alternate!==r)throw Error(te(190))}if(n.tag!==3)throw Error(te(188));return n.stateNode.current===n?e:t}function RG(e){return e=Jpe(e),e!==null?OG(e):null}function OG(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=OG(e);if(t!==null)return t;e=e.sibling}return null}var DG=Ki.unstable_scheduleCallback,o8=Ki.unstable_cancelCallback,Zpe=Ki.unstable_shouldYield,ege=Ki.unstable_requestPaint,rn=Ki.unstable_now,tge=Ki.unstable_getCurrentPriorityLevel,o4=Ki.unstable_ImmediatePriority,NG=Ki.unstable_UserBlockingPriority,g2=Ki.unstable_NormalPriority,nge=Ki.unstable_LowPriority,LG=Ki.unstable_IdlePriority,fC=null,ya=null;function rge(e){if(ya&&typeof ya.onCommitFiberRoot=="function")try{ya.onCommitFiberRoot(fC,e,void 0,(e.current.flags&128)===128)}catch{}}var vs=Math.clz32?Math.clz32:sge,ige=Math.log,oge=Math.LN2;function sge(e){return e>>>=0,e===0?32:31-(ige(e)/oge|0)|0}var jb=64,Bb=4194304;function F0(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function m2(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=F0(a):(o&=s,o!==0&&(r=F0(o)))}else s=n&~i,s!==0?r=F0(s):o!==0&&(r=F0(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-vs(t),i=1<<n,r|=e[n],t&=~i;return r}function age(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function lge(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-vs(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=age(a,t)):l<=t&&(e.expiredLanes|=a),o&=~a}}function M5(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function IG(){var e=jb;return jb<<=1,!(jb&4194240)&&(jb=64),e}function x$(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function mv(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-vs(t),e[t]=n}function uge(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-vs(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}function s4(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-vs(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var ht=0;function zG(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var jG,a4,BG,UG,VG,F5=!1,Ub=[],Gu=null,Yu=null,Xu=null,i1=new Map,o1=new Map,Eu=[],cge="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function s8(e,t){switch(e){case"focusin":case"focusout":Gu=null;break;case"dragenter":case"dragleave":Yu=null;break;case"mouseover":case"mouseout":Xu=null;break;case"pointerover":case"pointerout":i1.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":o1.delete(t.pointerId)}}function Bm(e,t,n,r,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},t!==null&&(t=vv(t),t!==null&&a4(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function fge(e,t,n,r,i){switch(t){case"focusin":return Gu=Bm(Gu,e,t,n,r,i),!0;case"dragenter":return Yu=Bm(Yu,e,t,n,r,i),!0;case"mouseover":return Xu=Bm(Xu,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return i1.set(o,Bm(i1.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,o1.set(o,Bm(o1.get(o)||null,e,t,n,r,i)),!0}return!1}function WG(e){var t=Pf(e.target);if(t!==null){var n=Ud(t);if(n!==null){if(t=n.tag,t===13){if(t=FG(n),t!==null){e.blockedOn=t,VG(e.priority,function(){BG(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function hw(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=R5(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);$5=r,n.target.dispatchEvent(r),$5=null}else return t=vv(n),t!==null&&a4(t),e.blockedOn=n,!1;t.shift()}return!0}function a8(e,t,n){hw(e)&&n.delete(t)}function dge(){F5=!1,Gu!==null&&hw(Gu)&&(Gu=null),Yu!==null&&hw(Yu)&&(Yu=null),Xu!==null&&hw(Xu)&&(Xu=null),i1.forEach(a8),o1.forEach(a8)}function Um(e,t){e.blockedOn===t&&(e.blockedOn=null,F5||(F5=!0,Ki.unstable_scheduleCallback(Ki.unstable_NormalPriority,dge)))}function s1(e){function t(i){return Um(i,e)}if(0<Ub.length){Um(Ub[0],e);for(var n=1;n<Ub.length;n++){var r=Ub[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Gu!==null&&Um(Gu,e),Yu!==null&&Um(Yu,e),Xu!==null&&Um(Xu,e),i1.forEach(t),o1.forEach(t),n=0;n<Eu.length;n++)r=Eu[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Eu.length&&(n=Eu[0],n.blockedOn===null);)WG(n),n.blockedOn===null&&Eu.shift()}var wp=ql.ReactCurrentBatchConfig,y2=!0;function hge(e,t,n,r){var i=ht,o=wp.transition;wp.transition=null;try{ht=1,l4(e,t,n,r)}finally{ht=i,wp.transition=o}}function pge(e,t,n,r){var i=ht,o=wp.transition;wp.transition=null;try{ht=4,l4(e,t,n,r)}finally{ht=i,wp.transition=o}}function l4(e,t,n,r){if(y2){var i=R5(e,t,n,r);if(i===null)P$(e,t,r,v2,n),s8(e,r);else if(fge(i,e,t,n,r))r.stopPropagation();else if(s8(e,r),t&4&&-1<cge.indexOf(e)){for(;i!==null;){var o=vv(i);if(o!==null&&jG(o),o=R5(e,t,n,r),o===null&&P$(e,t,r,v2,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else P$(e,t,r,null,n)}}var v2=null;function R5(e,t,n,r){if(v2=null,e=i4(r),e=Pf(e),e!==null)if(t=Ud(e),t===null)e=null;else if(n=t.tag,n===13){if(e=FG(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return v2=e,null}function HG(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(tge()){case o4:return 1;case NG:return 4;case g2:case nge:return 16;case LG:return 536870912;default:return 16}default:return 16}}var Du=null,u4=null,pw=null;function qG(){if(pw)return pw;var e,t=u4,n=t.length,r,i="value"in Du?Du.value:Du.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===i[o-r];r++);return pw=i.slice(e,1<r?1-r:void 0)}function gw(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Vb(){return!0}function l8(){return!1}function so(e){function t(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Vb:l8,this.isPropagationStopped=l8,this}return Gt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Vb)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Vb)},persist:function(){},isPersistent:Vb}),t}var rm={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},c4=so(rm),yv=Gt({},rm,{view:0,detail:0}),gge=so(yv),w$,S$,Vm,dC=Gt({},yv,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:f4,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Vm&&(Vm&&e.type==="mousemove"?(w$=e.screenX-Vm.screenX,S$=e.screenY-Vm.screenY):S$=w$=0,Vm=e),w$)},movementY:function(e){return"movementY"in e?e.movementY:S$}}),u8=so(dC),mge=Gt({},dC,{dataTransfer:0}),yge=so(mge),vge=Gt({},yv,{relatedTarget:0}),k$=so(vge),bge=Gt({},rm,{animationName:0,elapsedTime:0,pseudoElement:0}),xge=so(bge),wge=Gt({},rm,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Sge=so(wge),kge=Gt({},rm,{data:0}),c8=so(kge),Cge={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ege={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_ge={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $ge(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=_ge[e])?!!t[e]:!1}function f4(){return $ge}var Age=Gt({},yv,{key:function(e){if(e.key){var t=Cge[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=gw(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ege[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:f4,charCode:function(e){return e.type==="keypress"?gw(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?gw(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Tge=so(Age),Pge=Gt({},dC,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),f8=so(Pge),Mge=Gt({},yv,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:f4}),Fge=so(Mge),Rge=Gt({},rm,{propertyName:0,elapsedTime:0,pseudoElement:0}),Oge=so(Rge),Dge=Gt({},dC,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Nge=so(Dge),Lge=[9,13,27,32],d4=Rl&&"CompositionEvent"in window,gy=null;Rl&&"documentMode"in document&&(gy=document.documentMode);var Ige=Rl&&"TextEvent"in window&&!gy,GG=Rl&&(!d4||gy&&8<gy&&11>=gy),d8=" ",h8=!1;function YG(e,t){switch(e){case"keyup":return Lge.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function XG(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Wh=!1;function zge(e,t){switch(e){case"compositionend":return XG(t);case"keypress":return t.which!==32?null:(h8=!0,d8);case"textInput":return e=t.data,e===d8&&h8?null:e;default:return null}}function jge(e,t){if(Wh)return e==="compositionend"||!d4&&YG(e,t)?(e=qG(),pw=u4=Du=null,Wh=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return GG&&t.locale!=="ko"?null:t.data;default:return null}}var Bge={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function p8(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Bge[e.type]:t==="textarea"}function KG(e,t,n,r){$G(r),t=b2(t,"onChange"),0<t.length&&(n=new c4("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var my=null,a1=null;function Uge(e){aY(e,0)}function hC(e){var t=Gh(e);if(xG(t))return e}function Vge(e,t){if(e==="change")return t}var QG=!1;if(Rl){var C$;if(Rl){var E$="oninput"in document;if(!E$){var g8=document.createElement("div");g8.setAttribute("oninput","return;"),E$=typeof g8.oninput=="function"}C$=E$}else C$=!1;QG=C$&&(!document.documentMode||9<document.documentMode)}function m8(){my&&(my.detachEvent("onpropertychange",JG),a1=my=null)}function JG(e){if(e.propertyName==="value"&&hC(a1)){var t=[];KG(t,a1,e,i4(e)),MG(Uge,t)}}function Wge(e,t,n){e==="focusin"?(m8(),my=t,a1=n,my.attachEvent("onpropertychange",JG)):e==="focusout"&&m8()}function Hge(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return hC(a1)}function qge(e,t){if(e==="click")return hC(t)}function Gge(e,t){if(e==="input"||e==="change")return hC(t)}function Yge(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ss=typeof Object.is=="function"?Object.is:Yge;function l1(e,t){if(Ss(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!g5.call(t,i)||!Ss(e[i],t[i]))return!1}return!0}function y8(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function v8(e,t){var n=y8(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=y8(n)}}function ZG(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?ZG(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function eY(){for(var e=window,t=d2();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=d2(e.document)}return t}function h4(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Xge(e){var t=eY(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&ZG(n.ownerDocument.documentElement,n)){if(r!==null&&h4(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=v8(n,o);var s=v8(n,r);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Kge=Rl&&"documentMode"in document&&11>=document.documentMode,Hh=null,O5=null,yy=null,D5=!1;function b8(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;D5||Hh==null||Hh!==d2(r)||(r=Hh,"selectionStart"in r&&h4(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),yy&&l1(yy,r)||(yy=r,r=b2(O5,"onSelect"),0<r.length&&(t=new c4("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Hh)))}function Wb(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var qh={animationend:Wb("Animation","AnimationEnd"),animationiteration:Wb("Animation","AnimationIteration"),animationstart:Wb("Animation","AnimationStart"),transitionend:Wb("Transition","TransitionEnd")},_$={},tY={};Rl&&(tY=document.createElement("div").style,"AnimationEvent"in window||(delete qh.animationend.animation,delete qh.animationiteration.animation,delete qh.animationstart.animation),"TransitionEvent"in window||delete qh.transitionend.transition);function pC(e){if(_$[e])return _$[e];if(!qh[e])return e;var t=qh[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in tY)return _$[e]=t[n];return e}var nY=pC("animationend"),rY=pC("animationiteration"),iY=pC("animationstart"),oY=pC("transitionend"),sY=new Map,x8="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Mc(e,t){sY.set(e,t),Bd(t,[e])}for(var $$=0;$$<x8.length;$$++){var A$=x8[$$],Qge=A$.toLowerCase(),Jge=A$[0].toUpperCase()+A$.slice(1);Mc(Qge,"on"+Jge)}Mc(nY,"onAnimationEnd");Mc(rY,"onAnimationIteration");Mc(iY,"onAnimationStart");Mc("dblclick","onDoubleClick");Mc("focusin","onFocus");Mc("focusout","onBlur");Mc(oY,"onTransitionEnd");eg("onMouseEnter",["mouseout","mouseover"]);eg("onMouseLeave",["mouseout","mouseover"]);eg("onPointerEnter",["pointerout","pointerover"]);eg("onPointerLeave",["pointerout","pointerover"]);Bd("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Bd("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Bd("onBeforeInput",["compositionend","keypress","textInput","paste"]);Bd("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Bd("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Bd("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var R0="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Zge=new Set("cancel close invalid load scroll toggle".split(" ").concat(R0));function w8(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Qpe(r,t,void 0,e),e.currentTarget=null}function aY(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;w8(i,a,u),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,u=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;w8(i,a,u),o=l}}}if(p2)throw e=P5,p2=!1,P5=null,e}function Tt(e,t){var n=t[j5];n===void 0&&(n=t[j5]=new Set);var r=e+"__bubble";n.has(r)||(lY(t,e,2,!1),n.add(r))}function T$(e,t,n){var r=0;t&&(r|=4),lY(n,e,r,t)}var Hb="_reactListening"+Math.random().toString(36).slice(2);function u1(e){if(!e[Hb]){e[Hb]=!0,gG.forEach(function(n){n!=="selectionchange"&&(Zge.has(n)||T$(n,!1,e),T$(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Hb]||(t[Hb]=!0,T$("selectionchange",!1,t))}}function lY(e,t,n,r){switch(HG(t)){case 1:var i=hge;break;case 4:i=pge;break;default:i=l4}n=i.bind(null,t,n,e),i=void 0,!T5||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function P$(e,t,n,r,i){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=Pf(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}MG(function(){var u=o,c=i4(n),f=[];e:{var d=sY.get(e);if(d!==void 0){var h=c4,p=e;switch(e){case"keypress":if(gw(n)===0)break e;case"keydown":case"keyup":h=Tge;break;case"focusin":p="focus",h=k$;break;case"focusout":p="blur",h=k$;break;case"beforeblur":case"afterblur":h=k$;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=u8;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=yge;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=Fge;break;case nY:case rY:case iY:h=xge;break;case oY:h=Oge;break;case"scroll":h=gge;break;case"wheel":h=Nge;break;case"copy":case"cut":case"paste":h=Sge;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=f8}var g=(t&4)!==0,m=!g&&e==="scroll",y=g?d!==null?d+"Capture":null:d;g=[];for(var v=u,b;v!==null;){b=v;var x=b.stateNode;if(b.tag===5&&x!==null&&(b=x,y!==null&&(x=r1(v,y),x!=null&&g.push(c1(v,x,b)))),m)break;v=v.return}0<g.length&&(d=new h(d,p,null,n,c),f.push({event:d,listeners:g}))}}if(!(t&7)){e:{if(d=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",d&&n!==$5&&(p=n.relatedTarget||n.fromElement)&&(Pf(p)||p[Ol]))break e;if((h||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,h?(p=n.relatedTarget||n.toElement,h=u,p=p?Pf(p):null,p!==null&&(m=Ud(p),p!==m||p.tag!==5&&p.tag!==6)&&(p=null)):(h=null,p=u),h!==p)){if(g=u8,x="onMouseLeave",y="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(g=f8,x="onPointerLeave",y="onPointerEnter",v="pointer"),m=h==null?d:Gh(h),b=p==null?d:Gh(p),d=new g(x,v+"leave",h,n,c),d.target=m,d.relatedTarget=b,x=null,Pf(c)===u&&(g=new g(y,v+"enter",p,n,c),g.target=b,g.relatedTarget=m,x=g),m=x,h&&p)t:{for(g=h,y=p,v=0,b=g;b;b=mh(b))v++;for(b=0,x=y;x;x=mh(x))b++;for(;0<v-b;)g=mh(g),v--;for(;0<b-v;)y=mh(y),b--;for(;v--;){if(g===y||y!==null&&g===y.alternate)break t;g=mh(g),y=mh(y)}g=null}else g=null;h!==null&&S8(f,d,h,g,!1),p!==null&&m!==null&&S8(f,m,p,g,!0)}}e:{if(d=u?Gh(u):window,h=d.nodeName&&d.nodeName.toLowerCase(),h==="select"||h==="input"&&d.type==="file")var w=Vge;else if(p8(d))if(QG)w=Gge;else{w=Hge;var k=Wge}else(h=d.nodeName)&&h.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(w=qge);if(w&&(w=w(e,u))){KG(f,w,n,c);break e}k&&k(e,d,u),e==="focusout"&&(k=d._wrapperState)&&k.controlled&&d.type==="number"&&S5(d,"number",d.value)}switch(k=u?Gh(u):window,e){case"focusin":(p8(k)||k.contentEditable==="true")&&(Hh=k,O5=u,yy=null);break;case"focusout":yy=O5=Hh=null;break;case"mousedown":D5=!0;break;case"contextmenu":case"mouseup":case"dragend":D5=!1,b8(f,n,c);break;case"selectionchange":if(Kge)break;case"keydown":case"keyup":b8(f,n,c)}var S;if(d4)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Wh?YG(e,n)&&(C="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(GG&&n.locale!=="ko"&&(Wh||C!=="onCompositionStart"?C==="onCompositionEnd"&&Wh&&(S=qG()):(Du=c,u4="value"in Du?Du.value:Du.textContent,Wh=!0)),k=b2(u,C),0<k.length&&(C=new c8(C,e,null,n,c),f.push({event:C,listeners:k}),S?C.data=S:(S=XG(n),S!==null&&(C.data=S)))),(S=Ige?zge(e,n):jge(e,n))&&(u=b2(u,"onBeforeInput"),0<u.length&&(c=new c8("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:u}),c.data=S))}aY(f,t)})}function c1(e,t,n){return{instance:e,listener:t,currentTarget:n}}function b2(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=r1(e,n),o!=null&&r.unshift(c1(e,o,i)),o=r1(e,t),o!=null&&r.push(c1(e,o,i))),e=e.return}return r}function mh(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function S8(e,t,n,r,i){for(var o=t._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=r1(n,o),l!=null&&s.unshift(c1(n,l,a))):i||(l=r1(n,o),l!=null&&s.push(c1(n,l,a)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var eme=/\r\n?/g,tme=/\u0000|\uFFFD/g;function k8(e){return(typeof e=="string"?e:""+e).replace(eme,`
`).replace(tme,"")}function qb(e,t,n){if(t=k8(t),k8(e)!==t&&n)throw Error(te(425))}function x2(){}var N5=null,L5=null;function I5(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var z5=typeof setTimeout=="function"?setTimeout:void 0,nme=typeof clearTimeout=="function"?clearTimeout:void 0,C8=typeof Promise=="function"?Promise:void 0,rme=typeof queueMicrotask=="function"?queueMicrotask:typeof C8<"u"?function(e){return C8.resolve(null).then(e).catch(ime)}:z5;function ime(e){setTimeout(function(){throw e})}function M$(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),s1(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);s1(t)}function Ku(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function E8(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var im=Math.random().toString(36).slice(2),sa="__reactFiber$"+im,f1="__reactProps$"+im,Ol="__reactContainer$"+im,j5="__reactEvents$"+im,ome="__reactListeners$"+im,sme="__reactHandles$"+im;function Pf(e){var t=e[sa];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ol]||n[sa]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=E8(e);e!==null;){if(n=e[sa])return n;e=E8(e)}return t}e=n,n=e.parentNode}return null}function vv(e){return e=e[sa]||e[Ol],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Gh(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(te(33))}function gC(e){return e[f1]||null}var B5=[],Yh=-1;function Fc(e){return{current:e}}function Rt(e){0>Yh||(e.current=B5[Yh],B5[Yh]=null,Yh--)}function Et(e,t){Yh++,B5[Yh]=e.current,e.current=t}var cc={},$r=Fc(cc),hi=Fc(!1),fd=cc;function tg(e,t){var n=e.type.contextTypes;if(!n)return cc;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function pi(e){return e=e.childContextTypes,e!=null}function w2(){Rt(hi),Rt($r)}function _8(e,t,n){if($r.current!==cc)throw Error(te(168));Et($r,t),Et(hi,n)}function uY(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(te(108,Wpe(e)||"Unknown",i));return Gt({},n,r)}function S2(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||cc,fd=$r.current,Et($r,e),Et(hi,hi.current),!0}function $8(e,t,n){var r=e.stateNode;if(!r)throw Error(te(169));n?(e=uY(e,t,fd),r.__reactInternalMemoizedMergedChildContext=e,Rt(hi),Rt($r),Et($r,e)):Rt(hi),Et(hi,n)}var il=null,mC=!1,F$=!1;function cY(e){il===null?il=[e]:il.push(e)}function ame(e){mC=!0,cY(e)}function Rc(){if(!F$&&il!==null){F$=!0;var e=0,t=ht;try{var n=il;for(ht=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}il=null,mC=!1}catch(i){throw il!==null&&(il=il.slice(e+1)),DG(o4,Rc),i}finally{ht=t,F$=!1}}return null}var Xh=[],Kh=0,k2=null,C2=0,bo=[],xo=0,dd=null,fl=1,dl="";function df(e,t){Xh[Kh++]=C2,Xh[Kh++]=k2,k2=e,C2=t}function fY(e,t,n){bo[xo++]=fl,bo[xo++]=dl,bo[xo++]=dd,dd=e;var r=fl;e=dl;var i=32-vs(r)-1;r&=~(1<<i),n+=1;var o=32-vs(t)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,fl=1<<32-vs(t)+i|n<<i|r,dl=o+e}else fl=1<<o|n<<i|r,dl=e}function p4(e){e.return!==null&&(df(e,1),fY(e,1,0))}function g4(e){for(;e===k2;)k2=Xh[--Kh],Xh[Kh]=null,C2=Xh[--Kh],Xh[Kh]=null;for(;e===dd;)dd=bo[--xo],bo[xo]=null,dl=bo[--xo],bo[xo]=null,fl=bo[--xo],bo[xo]=null}var Hi=null,Ii=null,It=!1,is=null;function dY(e,t){var n=ko(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function A8(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Hi=e,Ii=Ku(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Hi=e,Ii=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=dd!==null?{id:fl,overflow:dl}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=ko(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Hi=e,Ii=null,!0):!1;default:return!1}}function U5(e){return(e.mode&1)!==0&&(e.flags&128)===0}function V5(e){if(It){var t=Ii;if(t){var n=t;if(!A8(e,t)){if(U5(e))throw Error(te(418));t=Ku(n.nextSibling);var r=Hi;t&&A8(e,t)?dY(r,n):(e.flags=e.flags&-4097|2,It=!1,Hi=e)}}else{if(U5(e))throw Error(te(418));e.flags=e.flags&-4097|2,It=!1,Hi=e}}}function T8(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Hi=e}function Gb(e){if(e!==Hi)return!1;if(!It)return T8(e),It=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!I5(e.type,e.memoizedProps)),t&&(t=Ii)){if(U5(e))throw hY(),Error(te(418));for(;t;)dY(e,t),t=Ku(t.nextSibling)}if(T8(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(te(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ii=Ku(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ii=null}}else Ii=Hi?Ku(e.stateNode.nextSibling):null;return!0}function hY(){for(var e=Ii;e;)e=Ku(e.nextSibling)}function ng(){Ii=Hi=null,It=!1}function m4(e){is===null?is=[e]:is.push(e)}var lme=ql.ReactCurrentBatchConfig;function Wm(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(te(309));var r=n.stateNode}if(!r)throw Error(te(147,e));var i=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(s){var a=i.refs;s===null?delete a[o]:a[o]=s},t._stringRef=o,t)}if(typeof e!="string")throw Error(te(284));if(!n._owner)throw Error(te(290,e))}return e}function Yb(e,t){throw e=Object.prototype.toString.call(t),Error(te(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function P8(e){var t=e._init;return t(e._payload)}function pY(e){function t(y,v){if(e){var b=y.deletions;b===null?(y.deletions=[v],y.flags|=16):b.push(v)}}function n(y,v){if(!e)return null;for(;v!==null;)t(y,v),v=v.sibling;return null}function r(y,v){for(y=new Map;v!==null;)v.key!==null?y.set(v.key,v):y.set(v.index,v),v=v.sibling;return y}function i(y,v){return y=ec(y,v),y.index=0,y.sibling=null,y}function o(y,v,b){return y.index=b,e?(b=y.alternate,b!==null?(b=b.index,b<v?(y.flags|=2,v):b):(y.flags|=2,v)):(y.flags|=1048576,v)}function s(y){return e&&y.alternate===null&&(y.flags|=2),y}function a(y,v,b,x){return v===null||v.tag!==6?(v=z$(b,y.mode,x),v.return=y,v):(v=i(v,b),v.return=y,v)}function l(y,v,b,x){var w=b.type;return w===Vh?c(y,v,b.props.children,x,b.key):v!==null&&(v.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===mu&&P8(w)===v.type)?(x=i(v,b.props),x.ref=Wm(y,v,b),x.return=y,x):(x=Sw(b.type,b.key,b.props,null,y.mode,x),x.ref=Wm(y,v,b),x.return=y,x)}function u(y,v,b,x){return v===null||v.tag!==4||v.stateNode.containerInfo!==b.containerInfo||v.stateNode.implementation!==b.implementation?(v=j$(b,y.mode,x),v.return=y,v):(v=i(v,b.children||[]),v.return=y,v)}function c(y,v,b,x,w){return v===null||v.tag!==7?(v=Gf(b,y.mode,x,w),v.return=y,v):(v=i(v,b),v.return=y,v)}function f(y,v,b){if(typeof v=="string"&&v!==""||typeof v=="number")return v=z$(""+v,y.mode,b),v.return=y,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Lb:return b=Sw(v.type,v.key,v.props,null,y.mode,b),b.ref=Wm(y,null,v),b.return=y,b;case Uh:return v=j$(v,y.mode,b),v.return=y,v;case mu:var x=v._init;return f(y,x(v._payload),b)}if(M0(v)||zm(v))return v=Gf(v,y.mode,b,null),v.return=y,v;Yb(y,v)}return null}function d(y,v,b,x){var w=v!==null?v.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return w!==null?null:a(y,v,""+b,x);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Lb:return b.key===w?l(y,v,b,x):null;case Uh:return b.key===w?u(y,v,b,x):null;case mu:return w=b._init,d(y,v,w(b._payload),x)}if(M0(b)||zm(b))return w!==null?null:c(y,v,b,x,null);Yb(y,b)}return null}function h(y,v,b,x,w){if(typeof x=="string"&&x!==""||typeof x=="number")return y=y.get(b)||null,a(v,y,""+x,w);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Lb:return y=y.get(x.key===null?b:x.key)||null,l(v,y,x,w);case Uh:return y=y.get(x.key===null?b:x.key)||null,u(v,y,x,w);case mu:var k=x._init;return h(y,v,b,k(x._payload),w)}if(M0(x)||zm(x))return y=y.get(b)||null,c(v,y,x,w,null);Yb(v,x)}return null}function p(y,v,b,x){for(var w=null,k=null,S=v,C=v=0,E=null;S!==null&&C<b.length;C++){S.index>C?(E=S,S=null):E=S.sibling;var A=d(y,S,b[C],x);if(A===null){S===null&&(S=E);break}e&&S&&A.alternate===null&&t(y,S),v=o(A,v,C),k===null?w=A:k.sibling=A,k=A,S=E}if(C===b.length)return n(y,S),It&&df(y,C),w;if(S===null){for(;C<b.length;C++)S=f(y,b[C],x),S!==null&&(v=o(S,v,C),k===null?w=S:k.sibling=S,k=S);return It&&df(y,C),w}for(S=r(y,S);C<b.length;C++)E=h(S,y,C,b[C],x),E!==null&&(e&&E.alternate!==null&&S.delete(E.key===null?C:E.key),v=o(E,v,C),k===null?w=E:k.sibling=E,k=E);return e&&S.forEach(function(T){return t(y,T)}),It&&df(y,C),w}function g(y,v,b,x){var w=zm(b);if(typeof w!="function")throw Error(te(150));if(b=w.call(b),b==null)throw Error(te(151));for(var k=w=null,S=v,C=v=0,E=null,A=b.next();S!==null&&!A.done;C++,A=b.next()){S.index>C?(E=S,S=null):E=S.sibling;var T=d(y,S,A.value,x);if(T===null){S===null&&(S=E);break}e&&S&&T.alternate===null&&t(y,S),v=o(T,v,C),k===null?w=T:k.sibling=T,k=T,S=E}if(A.done)return n(y,S),It&&df(y,C),w;if(S===null){for(;!A.done;C++,A=b.next())A=f(y,A.value,x),A!==null&&(v=o(A,v,C),k===null?w=A:k.sibling=A,k=A);return It&&df(y,C),w}for(S=r(y,S);!A.done;C++,A=b.next())A=h(S,y,C,A.value,x),A!==null&&(e&&A.alternate!==null&&S.delete(A.key===null?C:A.key),v=o(A,v,C),k===null?w=A:k.sibling=A,k=A);return e&&S.forEach(function(L){return t(y,L)}),It&&df(y,C),w}function m(y,v,b,x){if(typeof b=="object"&&b!==null&&b.type===Vh&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Lb:e:{for(var w=b.key,k=v;k!==null;){if(k.key===w){if(w=b.type,w===Vh){if(k.tag===7){n(y,k.sibling),v=i(k,b.props.children),v.return=y,y=v;break e}}else if(k.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===mu&&P8(w)===k.type){n(y,k.sibling),v=i(k,b.props),v.ref=Wm(y,k,b),v.return=y,y=v;break e}n(y,k);break}else t(y,k);k=k.sibling}b.type===Vh?(v=Gf(b.props.children,y.mode,x,b.key),v.return=y,y=v):(x=Sw(b.type,b.key,b.props,null,y.mode,x),x.ref=Wm(y,v,b),x.return=y,y=x)}return s(y);case Uh:e:{for(k=b.key;v!==null;){if(v.key===k)if(v.tag===4&&v.stateNode.containerInfo===b.containerInfo&&v.stateNode.implementation===b.implementation){n(y,v.sibling),v=i(v,b.children||[]),v.return=y,y=v;break e}else{n(y,v);break}else t(y,v);v=v.sibling}v=j$(b,y.mode,x),v.return=y,y=v}return s(y);case mu:return k=b._init,m(y,v,k(b._payload),x)}if(M0(b))return p(y,v,b,x);if(zm(b))return g(y,v,b,x);Yb(y,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,v!==null&&v.tag===6?(n(y,v.sibling),v=i(v,b),v.return=y,y=v):(n(y,v),v=z$(b,y.mode,x),v.return=y,y=v),s(y)):n(y,v)}return m}var rg=pY(!0),gY=pY(!1),E2=Fc(null),_2=null,Qh=null,y4=null;function v4(){y4=Qh=_2=null}function b4(e){var t=E2.current;Rt(E2),e._currentValue=t}function W5(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Sp(e,t){_2=e,y4=Qh=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(fi=!0),e.firstContext=null)}function Ro(e){var t=e._currentValue;if(y4!==e)if(e={context:e,memoizedValue:t,next:null},Qh===null){if(_2===null)throw Error(te(308));Qh=e,_2.dependencies={lanes:0,firstContext:e}}else Qh=Qh.next=e;return t}var Mf=null;function x4(e){Mf===null?Mf=[e]:Mf.push(e)}function mY(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,x4(t)):(n.next=i.next,i.next=n),t.interleaved=n,Dl(e,r)}function Dl(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var yu=!1;function w4(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function yY(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function xl(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Qu(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Ke&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Dl(e,n)}return i=r.interleaved,i===null?(t.next=t,x4(r)):(t.next=i.next,i.next=t),r.interleaved=t,Dl(e,n)}function mw(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,s4(e,n)}}function M8(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function $2(e,t,n,r){var i=e.updateQueue;yu=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,s===null?o=u:s.next=u,s=l;var c=e.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==s&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(o!==null){var f=i.baseState;s=0,c=u=l=null,a=o;do{var d=a.lane,h=a.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,g=a;switch(d=t,h=n,g.tag){case 1:if(p=g.payload,typeof p=="function"){f=p.call(h,f,d);break e}f=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=g.payload,d=typeof p=="function"?p.call(h,f,d):p,d==null)break e;f=Gt({},f,d);break e;case 2:yu=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,d=i.effects,d===null?i.effects=[a]:d.push(a))}else h={eventTime:h,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=h,l=f):c=c.next=h,s|=d;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;d=a,a=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(c===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);pd|=s,e.lanes=s,e.memoizedState=f}}function F8(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(te(191,i));i.call(r)}}}var bv={},va=Fc(bv),d1=Fc(bv),h1=Fc(bv);function Ff(e){if(e===bv)throw Error(te(174));return e}function S4(e,t){switch(Et(h1,t),Et(d1,e),Et(va,bv),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:C5(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=C5(t,e)}Rt(va),Et(va,t)}function ig(){Rt(va),Rt(d1),Rt(h1)}function vY(e){Ff(h1.current);var t=Ff(va.current),n=C5(t,e.type);t!==n&&(Et(d1,e),Et(va,n))}function k4(e){d1.current===e&&(Rt(va),Rt(d1))}var Ut=Fc(0);function A2(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var R$=[];function C4(){for(var e=0;e<R$.length;e++)R$[e]._workInProgressVersionPrimary=null;R$.length=0}var yw=ql.ReactCurrentDispatcher,O$=ql.ReactCurrentBatchConfig,hd=0,qt=null,yn=null,Tn=null,T2=!1,vy=!1,p1=0,ume=0;function ar(){throw Error(te(321))}function E4(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ss(e[n],t[n]))return!1;return!0}function _4(e,t,n,r,i,o){if(hd=o,qt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,yw.current=e===null||e.memoizedState===null?hme:pme,e=n(r,i),vy){o=0;do{if(vy=!1,p1=0,25<=o)throw Error(te(301));o+=1,Tn=yn=null,t.updateQueue=null,yw.current=gme,e=n(r,i)}while(vy)}if(yw.current=P2,t=yn!==null&&yn.next!==null,hd=0,Tn=yn=qt=null,T2=!1,t)throw Error(te(300));return e}function $4(){var e=p1!==0;return p1=0,e}function Xs(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tn===null?qt.memoizedState=Tn=e:Tn=Tn.next=e,Tn}function Oo(){if(yn===null){var e=qt.alternate;e=e!==null?e.memoizedState:null}else e=yn.next;var t=Tn===null?qt.memoizedState:Tn.next;if(t!==null)Tn=t,yn=e;else{if(e===null)throw Error(te(310));yn=e,e={memoizedState:yn.memoizedState,baseState:yn.baseState,baseQueue:yn.baseQueue,queue:yn.queue,next:null},Tn===null?qt.memoizedState=Tn=e:Tn=Tn.next=e}return Tn}function g1(e,t){return typeof t=="function"?t(e):t}function D$(e){var t=Oo(),n=t.queue;if(n===null)throw Error(te(311));n.lastRenderedReducer=e;var r=yn,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,u=o;do{var c=u.lane;if((hd&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=f,s=r):l=l.next=f,qt.lanes|=c,pd|=c}u=u.next}while(u!==null&&u!==o);l===null?s=r:l.next=a,Ss(r,t.memoizedState)||(fi=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do o=i.lane,qt.lanes|=o,pd|=o,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function N$(e){var t=Oo(),n=t.queue;if(n===null)throw Error(te(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=e(o,s.action),s=s.next;while(s!==i);Ss(o,t.memoizedState)||(fi=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function bY(){}function xY(e,t){var n=qt,r=Oo(),i=t(),o=!Ss(r.memoizedState,i);if(o&&(r.memoizedState=i,fi=!0),r=r.queue,A4(kY.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||Tn!==null&&Tn.memoizedState.tag&1){if(n.flags|=2048,m1(9,SY.bind(null,n,r,i,t),void 0,null),Nn===null)throw Error(te(349));hd&30||wY(n,t,i)}return i}function wY(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=qt.updateQueue,t===null?(t={lastEffect:null,stores:null},qt.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function SY(e,t,n,r){t.value=n,t.getSnapshot=r,CY(t)&&EY(e)}function kY(e,t,n){return n(function(){CY(t)&&EY(e)})}function CY(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ss(e,n)}catch{return!0}}function EY(e){var t=Dl(e,1);t!==null&&bs(t,e,1,-1)}function R8(e){var t=Xs();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:g1,lastRenderedState:e},t.queue=e,e=e.dispatch=dme.bind(null,qt,e),[t.memoizedState,e]}function m1(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=qt.updateQueue,t===null?(t={lastEffect:null,stores:null},qt.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function _Y(){return Oo().memoizedState}function vw(e,t,n,r){var i=Xs();qt.flags|=e,i.memoizedState=m1(1|t,n,void 0,r===void 0?null:r)}function yC(e,t,n,r){var i=Oo();r=r===void 0?null:r;var o=void 0;if(yn!==null){var s=yn.memoizedState;if(o=s.destroy,r!==null&&E4(r,s.deps)){i.memoizedState=m1(t,n,o,r);return}}qt.flags|=e,i.memoizedState=m1(1|t,n,o,r)}function O8(e,t){return vw(8390656,8,e,t)}function A4(e,t){return yC(2048,8,e,t)}function $Y(e,t){return yC(4,2,e,t)}function AY(e,t){return yC(4,4,e,t)}function TY(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function PY(e,t,n){return n=n!=null?n.concat([e]):null,yC(4,4,TY.bind(null,t,e),n)}function T4(){}function MY(e,t){var n=Oo();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&E4(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function FY(e,t){var n=Oo();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&E4(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function RY(e,t,n){return hd&21?(Ss(n,t)||(n=IG(),qt.lanes|=n,pd|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,fi=!0),e.memoizedState=n)}function cme(e,t){var n=ht;ht=n!==0&&4>n?n:4,e(!0);var r=O$.transition;O$.transition={};try{e(!1),t()}finally{ht=n,O$.transition=r}}function OY(){return Oo().memoizedState}function fme(e,t,n){var r=Zu(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},DY(e))NY(t,n);else if(n=mY(e,t,n,r),n!==null){var i=Gr();bs(n,e,r,i),LY(n,t,r)}}function dme(e,t,n){var r=Zu(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(DY(e))NY(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var s=t.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,Ss(a,s)){var l=t.interleaved;l===null?(i.next=i,x4(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=mY(e,t,i,r),n!==null&&(i=Gr(),bs(n,e,r,i),LY(n,t,r))}}function DY(e){var t=e.alternate;return e===qt||t!==null&&t===qt}function NY(e,t){vy=T2=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function LY(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,s4(e,n)}}var P2={readContext:Ro,useCallback:ar,useContext:ar,useEffect:ar,useImperativeHandle:ar,useInsertionEffect:ar,useLayoutEffect:ar,useMemo:ar,useReducer:ar,useRef:ar,useState:ar,useDebugValue:ar,useDeferredValue:ar,useTransition:ar,useMutableSource:ar,useSyncExternalStore:ar,useId:ar,unstable_isNewReconciler:!1},hme={readContext:Ro,useCallback:function(e,t){return Xs().memoizedState=[e,t===void 0?null:t],e},useContext:Ro,useEffect:O8,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,vw(4194308,4,TY.bind(null,t,e),n)},useLayoutEffect:function(e,t){return vw(4194308,4,e,t)},useInsertionEffect:function(e,t){return vw(4,2,e,t)},useMemo:function(e,t){var n=Xs();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Xs();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=fme.bind(null,qt,e),[r.memoizedState,e]},useRef:function(e){var t=Xs();return e={current:e},t.memoizedState=e},useState:R8,useDebugValue:T4,useDeferredValue:function(e){return Xs().memoizedState=e},useTransition:function(){var e=R8(!1),t=e[0];return e=cme.bind(null,e[1]),Xs().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=qt,i=Xs();if(It){if(n===void 0)throw Error(te(407));n=n()}else{if(n=t(),Nn===null)throw Error(te(349));hd&30||wY(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,O8(kY.bind(null,r,o,e),[e]),r.flags|=2048,m1(9,SY.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Xs(),t=Nn.identifierPrefix;if(It){var n=dl,r=fl;n=(r&~(1<<32-vs(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=p1++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=ume++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},pme={readContext:Ro,useCallback:MY,useContext:Ro,useEffect:A4,useImperativeHandle:PY,useInsertionEffect:$Y,useLayoutEffect:AY,useMemo:FY,useReducer:D$,useRef:_Y,useState:function(){return D$(g1)},useDebugValue:T4,useDeferredValue:function(e){var t=Oo();return RY(t,yn.memoizedState,e)},useTransition:function(){var e=D$(g1)[0],t=Oo().memoizedState;return[e,t]},useMutableSource:bY,useSyncExternalStore:xY,useId:OY,unstable_isNewReconciler:!1},gme={readContext:Ro,useCallback:MY,useContext:Ro,useEffect:A4,useImperativeHandle:PY,useInsertionEffect:$Y,useLayoutEffect:AY,useMemo:FY,useReducer:N$,useRef:_Y,useState:function(){return N$(g1)},useDebugValue:T4,useDeferredValue:function(e){var t=Oo();return yn===null?t.memoizedState=e:RY(t,yn.memoizedState,e)},useTransition:function(){var e=N$(g1)[0],t=Oo().memoizedState;return[e,t]},useMutableSource:bY,useSyncExternalStore:xY,useId:OY,unstable_isNewReconciler:!1};function Jo(e,t){if(e&&e.defaultProps){t=Gt({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function H5(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Gt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var vC={isMounted:function(e){return(e=e._reactInternals)?Ud(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Gr(),i=Zu(e),o=xl(r,i);o.payload=t,n!=null&&(o.callback=n),t=Qu(e,o,i),t!==null&&(bs(t,e,i,r),mw(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Gr(),i=Zu(e),o=xl(r,i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=Qu(e,o,i),t!==null&&(bs(t,e,i,r),mw(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Gr(),r=Zu(e),i=xl(n,r);i.tag=2,t!=null&&(i.callback=t),t=Qu(e,i,r),t!==null&&(bs(t,e,r,n),mw(t,e,r))}};function D8(e,t,n,r,i,o,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,s):t.prototype&&t.prototype.isPureReactComponent?!l1(n,r)||!l1(i,o):!0}function IY(e,t,n){var r=!1,i=cc,o=t.contextType;return typeof o=="object"&&o!==null?o=Ro(o):(i=pi(t)?fd:$r.current,r=t.contextTypes,o=(r=r!=null)?tg(e,i):cc),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=vC,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function N8(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&vC.enqueueReplaceState(t,t.state,null)}function q5(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},w4(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=Ro(o):(o=pi(t)?fd:$r.current,i.context=tg(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(H5(e,t,o,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&vC.enqueueReplaceState(i,i.state,null),$2(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function og(e,t){try{var n="",r=t;do n+=Vpe(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function L$(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function G5(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var mme=typeof WeakMap=="function"?WeakMap:Map;function zY(e,t,n){n=xl(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){F2||(F2=!0,r3=r),G5(e,t)},n}function jY(e,t,n){n=xl(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){G5(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){G5(e,t),typeof r!="function"&&(Ju===null?Ju=new Set([this]):Ju.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function L8(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new mme;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Pme.bind(null,e,t,n),t.then(e,e))}function I8(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function z8(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=xl(-1,1),t.tag=2,Qu(n,t,1))),n.lanes|=1),e)}var yme=ql.ReactCurrentOwner,fi=!1;function Lr(e,t,n,r){t.child=e===null?gY(t,null,n,r):rg(t,e.child,n,r)}function j8(e,t,n,r,i){n=n.render;var o=t.ref;return Sp(t,i),r=_4(e,t,n,r,o,i),n=$4(),e!==null&&!fi?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Nl(e,t,i)):(It&&n&&p4(t),t.flags|=1,Lr(e,t,r,i),t.child)}function B8(e,t,n,r,i){if(e===null){var o=n.type;return typeof o=="function"&&!L4(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,BY(e,t,o,r,i)):(e=Sw(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:l1,n(s,r)&&e.ref===t.ref)return Nl(e,t,i)}return t.flags|=1,e=ec(o,r),e.ref=t.ref,e.return=t,t.child=e}function BY(e,t,n,r,i){if(e!==null){var o=e.memoizedProps;if(l1(o,r)&&e.ref===t.ref)if(fi=!1,t.pendingProps=r=o,(e.lanes&i)!==0)e.flags&131072&&(fi=!0);else return t.lanes=e.lanes,Nl(e,t,i)}return Y5(e,t,n,r,i)}function UY(e,t,n){var r=t.pendingProps,i=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Et(Zh,Fi),Fi|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Et(Zh,Fi),Fi|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Et(Zh,Fi),Fi|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,Et(Zh,Fi),Fi|=r;return Lr(e,t,i,n),t.child}function VY(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Y5(e,t,n,r,i){var o=pi(n)?fd:$r.current;return o=tg(t,o),Sp(t,i),n=_4(e,t,n,r,o,i),r=$4(),e!==null&&!fi?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Nl(e,t,i)):(It&&r&&p4(t),t.flags|=1,Lr(e,t,n,i),t.child)}function U8(e,t,n,r,i){if(pi(n)){var o=!0;S2(t)}else o=!1;if(Sp(t,i),t.stateNode===null)bw(e,t),IY(t,n,r),q5(t,n,r,i),r=!0;else if(e===null){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=Ro(u):(u=pi(n)?fd:$r.current,u=tg(t,u));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==u)&&N8(t,s,r,u),yu=!1;var d=t.memoizedState;s.state=d,$2(t,r,s,i),l=t.memoizedState,a!==r||d!==l||hi.current||yu?(typeof c=="function"&&(H5(t,n,c,r),l=t.memoizedState),(a=yu||D8(t,n,a,r,d,l,u))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=u,r=a):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,yY(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:Jo(t.type,a),s.props=u,f=t.pendingProps,d=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=Ro(l):(l=pi(n)?fd:$r.current,l=tg(t,l));var h=n.getDerivedStateFromProps;(c=typeof h=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==f||d!==l)&&N8(t,s,r,l),yu=!1,d=t.memoizedState,s.state=d,$2(t,r,s,i);var p=t.memoizedState;a!==f||d!==p||hi.current||yu?(typeof h=="function"&&(H5(t,n,h,r),p=t.memoizedState),(u=yu||D8(t,n,u,r,d,p,l)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,p,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,p,l)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),s.props=r,s.state=p,s.context=l,r=u):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return X5(e,t,n,r,o,i)}function X5(e,t,n,r,i,o){VY(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return i&&$8(t,n,!1),Nl(e,t,o);r=t.stateNode,yme.current=t;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=rg(t,e.child,null,o),t.child=rg(t,null,a,o)):Lr(e,t,a,o),t.memoizedState=r.state,i&&$8(t,n,!0),t.child}function WY(e){var t=e.stateNode;t.pendingContext?_8(e,t.pendingContext,t.pendingContext!==t.context):t.context&&_8(e,t.context,!1),S4(e,t.containerInfo)}function V8(e,t,n,r,i){return ng(),m4(i),t.flags|=256,Lr(e,t,n,r),t.child}var K5={dehydrated:null,treeContext:null,retryLane:0};function Q5(e){return{baseLanes:e,cachePool:null,transitions:null}}function HY(e,t,n){var r=t.pendingProps,i=Ut.current,o=!1,s=(t.flags&128)!==0,a;if((a=s)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Et(Ut,i&1),e===null)return V5(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,o?(r=t.mode,o=t.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=wC(s,r,0,null),e=Gf(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Q5(n),t.memoizedState=K5,e):P4(t,s));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return vme(e,t,s,r,a,i,n);if(o){o=r.fallback,s=t.mode,i=e.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=ec(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=ec(a,o):(o=Gf(o,s,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,s=e.child.memoizedState,s=s===null?Q5(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=e.childLanes&~n,t.memoizedState=K5,r}return o=e.child,e=o.sibling,r=ec(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function P4(e,t){return t=wC({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Xb(e,t,n,r){return r!==null&&m4(r),rg(t,e.child,null,n),e=P4(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function vme(e,t,n,r,i,o,s){if(n)return t.flags&256?(t.flags&=-257,r=L$(Error(te(422))),Xb(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=wC({mode:"visible",children:r.children},i,0,null),o=Gf(o,i,s,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&rg(t,e.child,null,s),t.child.memoizedState=Q5(s),t.memoizedState=K5,o);if(!(t.mode&1))return Xb(e,t,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(te(419)),r=L$(o,r,void 0),Xb(e,t,s,r)}if(a=(s&e.childLanes)!==0,fi||a){if(r=Nn,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Dl(e,i),bs(r,e,i,-1))}return N4(),r=L$(Error(te(421))),Xb(e,t,s,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=Mme.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,Ii=Ku(i.nextSibling),Hi=t,It=!0,is=null,e!==null&&(bo[xo++]=fl,bo[xo++]=dl,bo[xo++]=dd,fl=e.id,dl=e.overflow,dd=t),t=P4(t,r.children),t.flags|=4096,t)}function W8(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),W5(e.return,t,n)}function I$(e,t,n,r,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function qY(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Lr(e,t,r.children,n),r=Ut.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&W8(e,n,t);else if(e.tag===19)W8(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Et(Ut,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&A2(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),I$(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&A2(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}I$(t,!0,n,null,o);break;case"together":I$(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function bw(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Nl(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),pd|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(te(153));if(t.child!==null){for(e=t.child,n=ec(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=ec(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function bme(e,t,n){switch(t.tag){case 3:WY(t),ng();break;case 5:vY(t);break;case 1:pi(t.type)&&S2(t);break;case 4:S4(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Et(E2,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Et(Ut,Ut.current&1),t.flags|=128,null):n&t.child.childLanes?HY(e,t,n):(Et(Ut,Ut.current&1),e=Nl(e,t,n),e!==null?e.sibling:null);Et(Ut,Ut.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return qY(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Et(Ut,Ut.current),r)break;return null;case 22:case 23:return t.lanes=0,UY(e,t,n)}return Nl(e,t,n)}var GY,J5,YY,XY;GY=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};J5=function(){};YY=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Ff(va.current);var o=null;switch(n){case"input":i=x5(e,i),r=x5(e,r),o=[];break;case"select":i=Gt({},i,{value:void 0}),r=Gt({},r,{value:void 0}),o=[];break;case"textarea":i=k5(e,i),r=k5(e,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=x2)}E5(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(t1.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(t1.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Tt("scroll",e),o||a===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};XY=function(e,t,n,r){n!==r&&(t.flags|=4)};function Hm(e,t){if(!It)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function lr(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function xme(e,t,n){var r=t.pendingProps;switch(g4(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lr(t),null;case 1:return pi(t.type)&&w2(),lr(t),null;case 3:return r=t.stateNode,ig(),Rt(hi),Rt($r),C4(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Gb(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,is!==null&&(s3(is),is=null))),J5(e,t),lr(t),null;case 5:k4(t);var i=Ff(h1.current);if(n=t.type,e!==null&&t.stateNode!=null)YY(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(te(166));return lr(t),null}if(e=Ff(va.current),Gb(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[sa]=t,r[f1]=o,e=(t.mode&1)!==0,n){case"dialog":Tt("cancel",r),Tt("close",r);break;case"iframe":case"object":case"embed":Tt("load",r);break;case"video":case"audio":for(i=0;i<R0.length;i++)Tt(R0[i],r);break;case"source":Tt("error",r);break;case"img":case"image":case"link":Tt("error",r),Tt("load",r);break;case"details":Tt("toggle",r);break;case"input":ZI(r,o),Tt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Tt("invalid",r);break;case"textarea":t8(r,o),Tt("invalid",r)}E5(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&qb(r.textContent,a,e),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&qb(r.textContent,a,e),i=["children",""+a]):t1.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&Tt("scroll",r)}switch(n){case"input":Ib(r),e8(r,o,!0);break;case"textarea":Ib(r),n8(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=x2)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=kG(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[sa]=t,e[f1]=r,GY(e,t,!1,!1),t.stateNode=e;e:{switch(s=_5(n,r),n){case"dialog":Tt("cancel",e),Tt("close",e),i=r;break;case"iframe":case"object":case"embed":Tt("load",e),i=r;break;case"video":case"audio":for(i=0;i<R0.length;i++)Tt(R0[i],e);i=r;break;case"source":Tt("error",e),i=r;break;case"img":case"image":case"link":Tt("error",e),Tt("load",e),i=r;break;case"details":Tt("toggle",e),i=r;break;case"input":ZI(e,r),i=x5(e,r),Tt("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Gt({},r,{value:void 0}),Tt("invalid",e);break;case"textarea":t8(e,r),i=k5(e,r),Tt("invalid",e);break;default:i=r}E5(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?_G(e,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&CG(e,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&n1(e,l):typeof l=="number"&&n1(e,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(t1.hasOwnProperty(o)?l!=null&&o==="onScroll"&&Tt("scroll",e):l!=null&&e4(e,o,l,s))}switch(n){case"input":Ib(e),e8(e,r,!1);break;case"textarea":Ib(e),n8(e);break;case"option":r.value!=null&&e.setAttribute("value",""+uc(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?vp(e,!!r.multiple,o,!1):r.defaultValue!=null&&vp(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=x2)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return lr(t),null;case 6:if(e&&t.stateNode!=null)XY(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(te(166));if(n=Ff(h1.current),Ff(va.current),Gb(t)){if(r=t.stateNode,n=t.memoizedProps,r[sa]=t,(o=r.nodeValue!==n)&&(e=Hi,e!==null))switch(e.tag){case 3:qb(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&qb(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[sa]=t,t.stateNode=r}return lr(t),null;case 13:if(Rt(Ut),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(It&&Ii!==null&&t.mode&1&&!(t.flags&128))hY(),ng(),t.flags|=98560,o=!1;else if(o=Gb(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(te(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(te(317));o[sa]=t}else ng(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;lr(t),o=!1}else is!==null&&(s3(is),is=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Ut.current&1?xn===0&&(xn=3):N4())),t.updateQueue!==null&&(t.flags|=4),lr(t),null);case 4:return ig(),J5(e,t),e===null&&u1(t.stateNode.containerInfo),lr(t),null;case 10:return b4(t.type._context),lr(t),null;case 17:return pi(t.type)&&w2(),lr(t),null;case 19:if(Rt(Ut),o=t.memoizedState,o===null)return lr(t),null;if(r=(t.flags&128)!==0,s=o.rendering,s===null)if(r)Hm(o,!1);else{if(xn!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=A2(e),s!==null){for(t.flags|=128,Hm(o,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Et(Ut,Ut.current&1|2),t.child}e=e.sibling}o.tail!==null&&rn()>sg&&(t.flags|=128,r=!0,Hm(o,!1),t.lanes=4194304)}else{if(!r)if(e=A2(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Hm(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!It)return lr(t),null}else 2*rn()-o.renderingStartTime>sg&&n!==1073741824&&(t.flags|=128,r=!0,Hm(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(n=o.last,n!==null?n.sibling=s:t.child=s,o.last=s)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=rn(),t.sibling=null,n=Ut.current,Et(Ut,r?n&1|2:n&1),t):(lr(t),null);case 22:case 23:return D4(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Fi&1073741824&&(lr(t),t.subtreeFlags&6&&(t.flags|=8192)):lr(t),null;case 24:return null;case 25:return null}throw Error(te(156,t.tag))}function wme(e,t){switch(g4(t),t.tag){case 1:return pi(t.type)&&w2(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ig(),Rt(hi),Rt($r),C4(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return k4(t),null;case 13:if(Rt(Ut),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(te(340));ng()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Rt(Ut),null;case 4:return ig(),null;case 10:return b4(t.type._context),null;case 22:case 23:return D4(),null;case 24:return null;default:return null}}var Kb=!1,br=!1,Sme=typeof WeakSet=="function"?WeakSet:Set,de=null;function Jh(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Jt(e,t,r)}else n.current=null}function Z5(e,t,n){try{n()}catch(r){Jt(e,t,r)}}var H8=!1;function kme(e,t){if(N5=y2,e=eY(),h4(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,u=0,c=0,f=e,d=null;t:for(;;){for(var h;f!==n||i!==0&&f.nodeType!==3||(a=s+i),f!==o||r!==0&&f.nodeType!==3||(l=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(h=f.firstChild)!==null;)d=f,f=h;for(;;){if(f===e)break t;if(d===n&&++u===i&&(a=s),d===o&&++c===r&&(l=s),(h=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=h}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(L5={focusedElem:e,selectionRange:n},y2=!1,de=t;de!==null;)if(t=de,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,de=e;else for(;de!==null;){t=de;try{var p=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var g=p.memoizedProps,m=p.memoizedState,y=t.stateNode,v=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:Jo(t.type,g),m);y.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(te(163))}}catch(x){Jt(t,t.return,x)}if(e=t.sibling,e!==null){e.return=t.return,de=e;break}de=t.return}return p=H8,H8=!1,p}function by(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&Z5(t,n,o)}i=i.next}while(i!==r)}}function bC(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function e3(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function KY(e){var t=e.alternate;t!==null&&(e.alternate=null,KY(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[sa],delete t[f1],delete t[j5],delete t[ome],delete t[sme])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function QY(e){return e.tag===5||e.tag===3||e.tag===4}function q8(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||QY(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function t3(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=x2));else if(r!==4&&(e=e.child,e!==null))for(t3(e,t,n),e=e.sibling;e!==null;)t3(e,t,n),e=e.sibling}function n3(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(n3(e,t,n),e=e.sibling;e!==null;)n3(e,t,n),e=e.sibling}var Wn=null,ts=!1;function ou(e,t,n){for(n=n.child;n!==null;)JY(e,t,n),n=n.sibling}function JY(e,t,n){if(ya&&typeof ya.onCommitFiberUnmount=="function")try{ya.onCommitFiberUnmount(fC,n)}catch{}switch(n.tag){case 5:br||Jh(n,t);case 6:var r=Wn,i=ts;Wn=null,ou(e,t,n),Wn=r,ts=i,Wn!==null&&(ts?(e=Wn,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Wn.removeChild(n.stateNode));break;case 18:Wn!==null&&(ts?(e=Wn,n=n.stateNode,e.nodeType===8?M$(e.parentNode,n):e.nodeType===1&&M$(e,n),s1(e)):M$(Wn,n.stateNode));break;case 4:r=Wn,i=ts,Wn=n.stateNode.containerInfo,ts=!0,ou(e,t,n),Wn=r,ts=i;break;case 0:case 11:case 14:case 15:if(!br&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&Z5(n,t,s),i=i.next}while(i!==r)}ou(e,t,n);break;case 1:if(!br&&(Jh(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Jt(n,t,a)}ou(e,t,n);break;case 21:ou(e,t,n);break;case 22:n.mode&1?(br=(r=br)||n.memoizedState!==null,ou(e,t,n),br=r):ou(e,t,n);break;default:ou(e,t,n)}}function G8(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Sme),t.forEach(function(r){var i=Fme.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function qo(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,a=s;e:for(;a!==null;){switch(a.tag){case 5:Wn=a.stateNode,ts=!1;break e;case 3:Wn=a.stateNode.containerInfo,ts=!0;break e;case 4:Wn=a.stateNode.containerInfo,ts=!0;break e}a=a.return}if(Wn===null)throw Error(te(160));JY(o,s,i),Wn=null,ts=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Jt(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)ZY(t,e),t=t.sibling}function ZY(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(qo(t,e),Us(e),r&4){try{by(3,e,e.return),bC(3,e)}catch(g){Jt(e,e.return,g)}try{by(5,e,e.return)}catch(g){Jt(e,e.return,g)}}break;case 1:qo(t,e),Us(e),r&512&&n!==null&&Jh(n,n.return);break;case 5:if(qo(t,e),Us(e),r&512&&n!==null&&Jh(n,n.return),e.flags&32){var i=e.stateNode;try{n1(i,"")}catch(g){Jt(e,e.return,g)}}if(r&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,s=n!==null?n.memoizedProps:o,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&wG(i,o),_5(a,s);var u=_5(a,o);for(s=0;s<l.length;s+=2){var c=l[s],f=l[s+1];c==="style"?_G(i,f):c==="dangerouslySetInnerHTML"?CG(i,f):c==="children"?n1(i,f):e4(i,c,f,u)}switch(a){case"input":w5(i,o);break;case"textarea":SG(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var h=o.value;h!=null?vp(i,!!o.multiple,h,!1):d!==!!o.multiple&&(o.defaultValue!=null?vp(i,!!o.multiple,o.defaultValue,!0):vp(i,!!o.multiple,o.multiple?[]:"",!1))}i[f1]=o}catch(g){Jt(e,e.return,g)}}break;case 6:if(qo(t,e),Us(e),r&4){if(e.stateNode===null)throw Error(te(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(g){Jt(e,e.return,g)}}break;case 3:if(qo(t,e),Us(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{s1(t.containerInfo)}catch(g){Jt(e,e.return,g)}break;case 4:qo(t,e),Us(e);break;case 13:qo(t,e),Us(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(R4=rn())),r&4&&G8(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(br=(u=br)||c,qo(t,e),br=u):qo(t,e),Us(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(de=e,c=e.child;c!==null;){for(f=de=c;de!==null;){switch(d=de,h=d.child,d.tag){case 0:case 11:case 14:case 15:by(4,d,d.return);break;case 1:Jh(d,d.return);var p=d.stateNode;if(typeof p.componentWillUnmount=="function"){r=d,n=d.return;try{t=r,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(g){Jt(r,n,g)}}break;case 5:Jh(d,d.return);break;case 22:if(d.memoizedState!==null){X8(f);continue}}h!==null?(h.return=d,de=h):X8(f)}c=c.sibling}e:for(c=null,f=e;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=EG("display",s))}catch(g){Jt(e,e.return,g)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(g){Jt(e,e.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:qo(t,e),Us(e),r&4&&G8(e);break;case 21:break;default:qo(t,e),Us(e)}}function Us(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(QY(n)){var r=n;break e}n=n.return}throw Error(te(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(n1(i,""),r.flags&=-33);var o=q8(e);n3(e,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=q8(e);t3(e,a,s);break;default:throw Error(te(161))}}catch(l){Jt(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Cme(e,t,n){de=e,eX(e)}function eX(e,t,n){for(var r=(e.mode&1)!==0;de!==null;){var i=de,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||Kb;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||br;a=Kb;var u=br;if(Kb=s,(br=l)&&!u)for(de=i;de!==null;)s=de,l=s.child,s.tag===22&&s.memoizedState!==null?K8(i):l!==null?(l.return=s,de=l):K8(i);for(;o!==null;)de=o,eX(o),o=o.sibling;de=i,Kb=a,br=u}Y8(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,de=o):Y8(e)}}function Y8(e){for(;de!==null;){var t=de;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:br||bC(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!br)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Jo(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&F8(t,o,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}F8(t,s,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&s1(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(te(163))}br||t.flags&512&&e3(t)}catch(d){Jt(t,t.return,d)}}if(t===e){de=null;break}if(n=t.sibling,n!==null){n.return=t.return,de=n;break}de=t.return}}function X8(e){for(;de!==null;){var t=de;if(t===e){de=null;break}var n=t.sibling;if(n!==null){n.return=t.return,de=n;break}de=t.return}}function K8(e){for(;de!==null;){var t=de;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{bC(4,t)}catch(l){Jt(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){Jt(t,i,l)}}var o=t.return;try{e3(t)}catch(l){Jt(t,o,l)}break;case 5:var s=t.return;try{e3(t)}catch(l){Jt(t,s,l)}}}catch(l){Jt(t,t.return,l)}if(t===e){de=null;break}var a=t.sibling;if(a!==null){a.return=t.return,de=a;break}de=t.return}}var Eme=Math.ceil,M2=ql.ReactCurrentDispatcher,M4=ql.ReactCurrentOwner,Po=ql.ReactCurrentBatchConfig,Ke=0,Nn=null,pn=null,Zn=0,Fi=0,Zh=Fc(0),xn=0,y1=null,pd=0,xC=0,F4=0,xy=null,ai=null,R4=0,sg=1/0,nl=null,F2=!1,r3=null,Ju=null,Qb=!1,Nu=null,R2=0,wy=0,i3=null,xw=-1,ww=0;function Gr(){return Ke&6?rn():xw!==-1?xw:xw=rn()}function Zu(e){return e.mode&1?Ke&2&&Zn!==0?Zn&-Zn:lme.transition!==null?(ww===0&&(ww=IG()),ww):(e=ht,e!==0||(e=window.event,e=e===void 0?16:HG(e.type)),e):1}function bs(e,t,n,r){if(50<wy)throw wy=0,i3=null,Error(te(185));mv(e,n,r),(!(Ke&2)||e!==Nn)&&(e===Nn&&(!(Ke&2)&&(xC|=n),xn===4&&_u(e,Zn)),gi(e,r),n===1&&Ke===0&&!(t.mode&1)&&(sg=rn()+500,mC&&Rc()))}function gi(e,t){var n=e.callbackNode;lge(e,t);var r=m2(e,e===Nn?Zn:0);if(r===0)n!==null&&o8(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&o8(n),t===1)e.tag===0?ame(Q8.bind(null,e)):cY(Q8.bind(null,e)),rme(function(){!(Ke&6)&&Rc()}),n=null;else{switch(zG(r)){case 1:n=o4;break;case 4:n=NG;break;case 16:n=g2;break;case 536870912:n=LG;break;default:n=g2}n=lX(n,tX.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function tX(e,t){if(xw=-1,ww=0,Ke&6)throw Error(te(327));var n=e.callbackNode;if(kp()&&e.callbackNode!==n)return null;var r=m2(e,e===Nn?Zn:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=O2(e,r);else{t=r;var i=Ke;Ke|=2;var o=rX();(Nn!==e||Zn!==t)&&(nl=null,sg=rn()+500,qf(e,t));do try{Ame();break}catch(a){nX(e,a)}while(!0);v4(),M2.current=o,Ke=i,pn!==null?t=0:(Nn=null,Zn=0,t=xn)}if(t!==0){if(t===2&&(i=M5(e),i!==0&&(r=i,t=o3(e,i))),t===1)throw n=y1,qf(e,0),_u(e,r),gi(e,rn()),n;if(t===6)_u(e,r);else{if(i=e.current.alternate,!(r&30)&&!_me(i)&&(t=O2(e,r),t===2&&(o=M5(e),o!==0&&(r=o,t=o3(e,o))),t===1))throw n=y1,qf(e,0),_u(e,r),gi(e,rn()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(te(345));case 2:hf(e,ai,nl);break;case 3:if(_u(e,r),(r&130023424)===r&&(t=R4+500-rn(),10<t)){if(m2(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Gr(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=z5(hf.bind(null,e,ai,nl),t);break}hf(e,ai,nl);break;case 4:if(_u(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-vs(r);o=1<<s,s=t[s],s>i&&(i=s),r&=~o}if(r=i,r=rn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Eme(r/1960))-r,10<r){e.timeoutHandle=z5(hf.bind(null,e,ai,nl),r);break}hf(e,ai,nl);break;case 5:hf(e,ai,nl);break;default:throw Error(te(329))}}}return gi(e,rn()),e.callbackNode===n?tX.bind(null,e):null}function o3(e,t){var n=xy;return e.current.memoizedState.isDehydrated&&(qf(e,t).flags|=256),e=O2(e,t),e!==2&&(t=ai,ai=n,t!==null&&s3(t)),e}function s3(e){ai===null?ai=e:ai.push.apply(ai,e)}function _me(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Ss(o(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function _u(e,t){for(t&=~F4,t&=~xC,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-vs(t),r=1<<n;e[n]=-1,t&=~r}}function Q8(e){if(Ke&6)throw Error(te(327));kp();var t=m2(e,0);if(!(t&1))return gi(e,rn()),null;var n=O2(e,t);if(e.tag!==0&&n===2){var r=M5(e);r!==0&&(t=r,n=o3(e,r))}if(n===1)throw n=y1,qf(e,0),_u(e,t),gi(e,rn()),n;if(n===6)throw Error(te(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,hf(e,ai,nl),gi(e,rn()),null}function O4(e,t){var n=Ke;Ke|=1;try{return e(t)}finally{Ke=n,Ke===0&&(sg=rn()+500,mC&&Rc())}}function gd(e){Nu!==null&&Nu.tag===0&&!(Ke&6)&&kp();var t=Ke;Ke|=1;var n=Po.transition,r=ht;try{if(Po.transition=null,ht=1,e)return e()}finally{ht=r,Po.transition=n,Ke=t,!(Ke&6)&&Rc()}}function D4(){Fi=Zh.current,Rt(Zh)}function qf(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,nme(n)),pn!==null)for(n=pn.return;n!==null;){var r=n;switch(g4(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&w2();break;case 3:ig(),Rt(hi),Rt($r),C4();break;case 5:k4(r);break;case 4:ig();break;case 13:Rt(Ut);break;case 19:Rt(Ut);break;case 10:b4(r.type._context);break;case 22:case 23:D4()}n=n.return}if(Nn=e,pn=e=ec(e.current,null),Zn=Fi=t,xn=0,y1=null,F4=xC=pd=0,ai=xy=null,Mf!==null){for(t=0;t<Mf.length;t++)if(n=Mf[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}Mf=null}return e}function nX(e,t){do{var n=pn;try{if(v4(),yw.current=P2,T2){for(var r=qt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}T2=!1}if(hd=0,Tn=yn=qt=null,vy=!1,p1=0,M4.current=null,n===null||n.return===null){xn=1,y1=t,pn=null;break}e:{var o=e,s=n.return,a=n,l=t;if(t=Zn,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var h=I8(s);if(h!==null){h.flags&=-257,z8(h,s,a,o,t),h.mode&1&&L8(o,u,t),t=h,l=u;var p=t.updateQueue;if(p===null){var g=new Set;g.add(l),t.updateQueue=g}else p.add(l);break e}else{if(!(t&1)){L8(o,u,t),N4();break e}l=Error(te(426))}}else if(It&&a.mode&1){var m=I8(s);if(m!==null){!(m.flags&65536)&&(m.flags|=256),z8(m,s,a,o,t),m4(og(l,a));break e}}o=l=og(l,a),xn!==4&&(xn=2),xy===null?xy=[o]:xy.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var y=zY(o,l,t);M8(o,y);break e;case 1:a=l;var v=o.type,b=o.stateNode;if(!(o.flags&128)&&(typeof v.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Ju===null||!Ju.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t;var x=jY(o,a,t);M8(o,x);break e}}o=o.return}while(o!==null)}oX(n)}catch(w){t=w,pn===n&&n!==null&&(pn=n=n.return);continue}break}while(!0)}function rX(){var e=M2.current;return M2.current=P2,e===null?P2:e}function N4(){(xn===0||xn===3||xn===2)&&(xn=4),Nn===null||!(pd&268435455)&&!(xC&268435455)||_u(Nn,Zn)}function O2(e,t){var n=Ke;Ke|=2;var r=rX();(Nn!==e||Zn!==t)&&(nl=null,qf(e,t));do try{$me();break}catch(i){nX(e,i)}while(!0);if(v4(),Ke=n,M2.current=r,pn!==null)throw Error(te(261));return Nn=null,Zn=0,xn}function $me(){for(;pn!==null;)iX(pn)}function Ame(){for(;pn!==null&&!Zpe();)iX(pn)}function iX(e){var t=aX(e.alternate,e,Fi);e.memoizedProps=e.pendingProps,t===null?oX(e):pn=t,M4.current=null}function oX(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=wme(n,t),n!==null){n.flags&=32767,pn=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{xn=6,pn=null;return}}else if(n=xme(n,t,Fi),n!==null){pn=n;return}if(t=t.sibling,t!==null){pn=t;return}pn=t=e}while(t!==null);xn===0&&(xn=5)}function hf(e,t,n){var r=ht,i=Po.transition;try{Po.transition=null,ht=1,Tme(e,t,n,r)}finally{Po.transition=i,ht=r}return null}function Tme(e,t,n,r){do kp();while(Nu!==null);if(Ke&6)throw Error(te(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(te(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(uge(e,o),e===Nn&&(pn=Nn=null,Zn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Qb||(Qb=!0,lX(g2,function(){return kp(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Po.transition,Po.transition=null;var s=ht;ht=1;var a=Ke;Ke|=4,M4.current=null,kme(e,n),ZY(n,e),Xge(L5),y2=!!N5,L5=N5=null,e.current=n,Cme(n),ege(),Ke=a,ht=s,Po.transition=o}else e.current=n;if(Qb&&(Qb=!1,Nu=e,R2=i),o=e.pendingLanes,o===0&&(Ju=null),rge(n.stateNode),gi(e,rn()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(F2)throw F2=!1,e=r3,r3=null,e;return R2&1&&e.tag!==0&&kp(),o=e.pendingLanes,o&1?e===i3?wy++:(wy=0,i3=e):wy=0,Rc(),null}function kp(){if(Nu!==null){var e=zG(R2),t=Po.transition,n=ht;try{if(Po.transition=null,ht=16>e?16:e,Nu===null)var r=!1;else{if(e=Nu,Nu=null,R2=0,Ke&6)throw Error(te(331));var i=Ke;for(Ke|=4,de=e.current;de!==null;){var o=de,s=o.child;if(de.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(de=u;de!==null;){var c=de;switch(c.tag){case 0:case 11:case 15:by(8,c,o)}var f=c.child;if(f!==null)f.return=c,de=f;else for(;de!==null;){c=de;var d=c.sibling,h=c.return;if(KY(c),c===u){de=null;break}if(d!==null){d.return=h,de=d;break}de=h}}}var p=o.alternate;if(p!==null){var g=p.child;if(g!==null){p.child=null;do{var m=g.sibling;g.sibling=null,g=m}while(g!==null)}}de=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,de=s;else e:for(;de!==null;){if(o=de,o.flags&2048)switch(o.tag){case 0:case 11:case 15:by(9,o,o.return)}var y=o.sibling;if(y!==null){y.return=o.return,de=y;break e}de=o.return}}var v=e.current;for(de=v;de!==null;){s=de;var b=s.child;if(s.subtreeFlags&2064&&b!==null)b.return=s,de=b;else e:for(s=v;de!==null;){if(a=de,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:bC(9,a)}}catch(w){Jt(a,a.return,w)}if(a===s){de=null;break e}var x=a.sibling;if(x!==null){x.return=a.return,de=x;break e}de=a.return}}if(Ke=i,Rc(),ya&&typeof ya.onPostCommitFiberRoot=="function")try{ya.onPostCommitFiberRoot(fC,e)}catch{}r=!0}return r}finally{ht=n,Po.transition=t}}return!1}function J8(e,t,n){t=og(n,t),t=zY(e,t,1),e=Qu(e,t,1),t=Gr(),e!==null&&(mv(e,1,t),gi(e,t))}function Jt(e,t,n){if(e.tag===3)J8(e,e,n);else for(;t!==null;){if(t.tag===3){J8(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ju===null||!Ju.has(r))){e=og(n,e),e=jY(t,e,1),t=Qu(t,e,1),e=Gr(),t!==null&&(mv(t,1,e),gi(t,e));break}}t=t.return}}function Pme(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Gr(),e.pingedLanes|=e.suspendedLanes&n,Nn===e&&(Zn&n)===n&&(xn===4||xn===3&&(Zn&130023424)===Zn&&500>rn()-R4?qf(e,0):F4|=n),gi(e,t)}function sX(e,t){t===0&&(e.mode&1?(t=Bb,Bb<<=1,!(Bb&130023424)&&(Bb=4194304)):t=1);var n=Gr();e=Dl(e,t),e!==null&&(mv(e,t,n),gi(e,n))}function Mme(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),sX(e,n)}function Fme(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(te(314))}r!==null&&r.delete(t),sX(e,n)}var aX;aX=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||hi.current)fi=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return fi=!1,bme(e,t,n);fi=!!(e.flags&131072)}else fi=!1,It&&t.flags&1048576&&fY(t,C2,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;bw(e,t),e=t.pendingProps;var i=tg(t,$r.current);Sp(t,n),i=_4(null,t,r,e,i,n);var o=$4();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,pi(r)?(o=!0,S2(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,w4(t),i.updater=vC,t.stateNode=i,i._reactInternals=t,q5(t,r,e,n),t=X5(null,t,r,!0,o,n)):(t.tag=0,It&&o&&p4(t),Lr(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(bw(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=Ome(r),e=Jo(r,e),i){case 0:t=Y5(null,t,r,e,n);break e;case 1:t=U8(null,t,r,e,n);break e;case 11:t=j8(null,t,r,e,n);break e;case 14:t=B8(null,t,r,Jo(r.type,e),n);break e}throw Error(te(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Jo(r,i),Y5(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Jo(r,i),U8(e,t,r,i,n);case 3:e:{if(WY(t),e===null)throw Error(te(387));r=t.pendingProps,o=t.memoizedState,i=o.element,yY(e,t),$2(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=og(Error(te(423)),t),t=V8(e,t,r,n,i);break e}else if(r!==i){i=og(Error(te(424)),t),t=V8(e,t,r,n,i);break e}else for(Ii=Ku(t.stateNode.containerInfo.firstChild),Hi=t,It=!0,is=null,n=gY(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ng(),r===i){t=Nl(e,t,n);break e}Lr(e,t,r,n)}t=t.child}return t;case 5:return vY(t),e===null&&V5(t),r=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,s=i.children,I5(r,i)?s=null:o!==null&&I5(r,o)&&(t.flags|=32),VY(e,t),Lr(e,t,s,n),t.child;case 6:return e===null&&V5(t),null;case 13:return HY(e,t,n);case 4:return S4(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=rg(t,null,r,n):Lr(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Jo(r,i),j8(e,t,r,i,n);case 7:return Lr(e,t,t.pendingProps,n),t.child;case 8:return Lr(e,t,t.pendingProps.children,n),t.child;case 12:return Lr(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,Et(E2,r._currentValue),r._currentValue=s,o!==null)if(Ss(o.value,s)){if(o.children===i.children&&!hi.current){t=Nl(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=xl(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),W5(o.return,n,t),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===t.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(te(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),W5(s,n,t),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===t){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}Lr(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Sp(t,n),i=Ro(i),r=r(i),t.flags|=1,Lr(e,t,r,n),t.child;case 14:return r=t.type,i=Jo(r,t.pendingProps),i=Jo(r.type,i),B8(e,t,r,i,n);case 15:return BY(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Jo(r,i),bw(e,t),t.tag=1,pi(r)?(e=!0,S2(t)):e=!1,Sp(t,n),IY(t,r,i),q5(t,r,i,n),X5(null,t,r,!0,e,n);case 19:return qY(e,t,n);case 22:return UY(e,t,n)}throw Error(te(156,t.tag))};function lX(e,t){return DG(e,t)}function Rme(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ko(e,t,n,r){return new Rme(e,t,n,r)}function L4(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ome(e){if(typeof e=="function")return L4(e)?1:0;if(e!=null){if(e=e.$$typeof,e===n4)return 11;if(e===r4)return 14}return 2}function ec(e,t){var n=e.alternate;return n===null?(n=ko(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Sw(e,t,n,r,i,o){var s=2;if(r=e,typeof e=="function")L4(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case Vh:return Gf(n.children,i,o,t);case t4:s=8,i|=8;break;case m5:return e=ko(12,n,t,i|2),e.elementType=m5,e.lanes=o,e;case y5:return e=ko(13,n,t,i),e.elementType=y5,e.lanes=o,e;case v5:return e=ko(19,n,t,i),e.elementType=v5,e.lanes=o,e;case vG:return wC(n,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case mG:s=10;break e;case yG:s=9;break e;case n4:s=11;break e;case r4:s=14;break e;case mu:s=16,r=null;break e}throw Error(te(130,e==null?e:typeof e,""))}return t=ko(s,n,t,i),t.elementType=e,t.type=r,t.lanes=o,t}function Gf(e,t,n,r){return e=ko(7,e,r,t),e.lanes=n,e}function wC(e,t,n,r){return e=ko(22,e,r,t),e.elementType=vG,e.lanes=n,e.stateNode={isHidden:!1},e}function z$(e,t,n){return e=ko(6,e,null,t),e.lanes=n,e}function j$(e,t,n){return t=ko(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Dme(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=x$(0),this.expirationTimes=x$(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=x$(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function I4(e,t,n,r,i,o,s,a,l){return e=new Dme(e,t,n,a,l),t===1?(t=1,o===!0&&(t|=8)):t=0,o=ko(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},w4(o),e}function Nme(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Uh,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function uX(e){if(!e)return cc;e=e._reactInternals;e:{if(Ud(e)!==e||e.tag!==1)throw Error(te(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(pi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(te(171))}if(e.tag===1){var n=e.type;if(pi(n))return uY(e,n,t)}return t}function cX(e,t,n,r,i,o,s,a,l){return e=I4(n,r,!0,e,i,o,s,a,l),e.context=uX(null),n=e.current,r=Gr(),i=Zu(n),o=xl(r,i),o.callback=t??null,Qu(n,o,i),e.current.lanes=i,mv(e,i,r),gi(e,r),e}function SC(e,t,n,r){var i=t.current,o=Gr(),s=Zu(i);return n=uX(n),t.context===null?t.context=n:t.pendingContext=n,t=xl(o,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Qu(i,t,s),e!==null&&(bs(e,i,s,o),mw(e,i,s)),s}function D2(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Z8(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function z4(e,t){Z8(e,t),(e=e.alternate)&&Z8(e,t)}function Lme(){return null}var fX=typeof reportError=="function"?reportError:function(e){console.error(e)};function j4(e){this._internalRoot=e}kC.prototype.render=j4.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(te(409));SC(e,t,null,null)};kC.prototype.unmount=j4.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;gd(function(){SC(null,e,null,null)}),t[Ol]=null}};function kC(e){this._internalRoot=e}kC.prototype.unstable_scheduleHydration=function(e){if(e){var t=UG();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Eu.length&&t!==0&&t<Eu[n].priority;n++);Eu.splice(n,0,e),n===0&&WG(e)}};function B4(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function CC(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function e9(){}function Ime(e,t,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=D2(s);o.call(u)}}var s=cX(t,r,e,0,null,!1,!1,"",e9);return e._reactRootContainer=s,e[Ol]=s.current,u1(e.nodeType===8?e.parentNode:e),gd(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=D2(l);a.call(u)}}var l=I4(e,0,!1,null,null,!1,!1,"",e9);return e._reactRootContainer=l,e[Ol]=l.current,u1(e.nodeType===8?e.parentNode:e),gd(function(){SC(t,l,n,r)}),l}function EC(e,t,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=D2(s);a.call(l)}}SC(t,s,e,i)}else s=Ime(n,t,e,i,r);return D2(s)}jG=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=F0(t.pendingLanes);n!==0&&(s4(t,n|1),gi(t,rn()),!(Ke&6)&&(sg=rn()+500,Rc()))}break;case 13:gd(function(){var r=Dl(e,1);if(r!==null){var i=Gr();bs(r,e,1,i)}}),z4(e,1)}};a4=function(e){if(e.tag===13){var t=Dl(e,134217728);if(t!==null){var n=Gr();bs(t,e,134217728,n)}z4(e,134217728)}};BG=function(e){if(e.tag===13){var t=Zu(e),n=Dl(e,t);if(n!==null){var r=Gr();bs(n,e,t,r)}z4(e,t)}};UG=function(){return ht};VG=function(e,t){var n=ht;try{return ht=e,t()}finally{ht=n}};A5=function(e,t,n){switch(t){case"input":if(w5(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=gC(r);if(!i)throw Error(te(90));xG(r),w5(r,i)}}}break;case"textarea":SG(e,n);break;case"select":t=n.value,t!=null&&vp(e,!!n.multiple,t,!1)}};TG=O4;PG=gd;var zme={usingClientEntryPoint:!1,Events:[vv,Gh,gC,$G,AG,O4]},qm={findFiberByHostInstance:Pf,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},jme={bundleType:qm.bundleType,version:qm.version,rendererPackageName:qm.rendererPackageName,rendererConfig:qm.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ql.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=RG(e),e===null?null:e.stateNode},findFiberByHostInstance:qm.findFiberByHostInstance||Lme,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Jb=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jb.isDisabled&&Jb.supportsFiber)try{fC=Jb.inject(jme),ya=Jb}catch{}}oo.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zme;oo.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!B4(t))throw Error(te(200));return Nme(e,t,null,n)};oo.createRoot=function(e,t){if(!B4(e))throw Error(te(299));var n=!1,r="",i=fX;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=I4(e,1,!1,null,null,n,!1,r,i),e[Ol]=t.current,u1(e.nodeType===8?e.parentNode:e),new j4(t)};oo.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(te(188)):(e=Object.keys(e).join(","),Error(te(268,e)));return e=RG(t),e=e===null?null:e.stateNode,e};oo.flushSync=function(e){return gd(e)};oo.hydrate=function(e,t,n){if(!CC(t))throw Error(te(200));return EC(null,e,t,!0,n)};oo.hydrateRoot=function(e,t,n){if(!B4(e))throw Error(te(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=fX;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=cX(t,null,e,1,n??null,i,!1,o,s),e[Ol]=t.current,u1(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new kC(t)};oo.render=function(e,t,n){if(!CC(t))throw Error(te(200));return EC(null,e,t,!1,n)};oo.unmountComponentAtNode=function(e){if(!CC(e))throw Error(te(40));return e._reactRootContainer?(gd(function(){EC(null,null,e,!1,function(){e._reactRootContainer=null,e[Ol]=null})}),!0):!1};oo.unstable_batchedUpdates=O4;oo.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!CC(n))throw Error(te(200));if(e==null||e._reactInternals===void 0)throw Error(te(38));return EC(e,t,n,!1,r)};oo.version="18.3.1-next-f1338f8080-20240426";function dX(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(dX)}catch(e){console.error(e)}}dX(),dG.exports=oo;var U4=dG.exports,[hX,Bme]=jn({strict:!1,name:"PortalContext"}),V4="chakra-portal",Ume=".chakra-portal",Vme=e=>$.jsx("div",{className:"chakra-portal-zIndex",style:{position:"absolute",zIndex:e.zIndex,top:0,left:0,right:0},children:e.children}),Wme=e=>{const{appendToParentPortal:t,children:n}=e,[r,i]=M.useState(null),o=M.useRef(null),[,s]=M.useState({});M.useEffect(()=>s({}),[]);const a=Bme(),l=Npe();Zp(()=>{if(!r)return;const c=r.ownerDocument,f=t?a??c.body:c.body;if(!f)return;o.current=c.createElement("div"),o.current.className=V4,f.appendChild(o.current),s({});const d=o.current;return()=>{f.contains(d)&&f.removeChild(d)}},[r]);const u=l!=null&&l.zIndex?$.jsx(Vme,{zIndex:l==null?void 0:l.zIndex,children:n}):n;return o.current?U4.createPortal($.jsx(hX,{value:o.current,children:u}),o.current):$.jsx("span",{ref:c=>{c&&i(c)}})},Hme=e=>{const{children:t,containerRef:n,appendToParentPortal:r}=e,i=n.current,o=i??(typeof window<"u"?document.body:void 0),s=M.useMemo(()=>{const l=i==null?void 0:i.ownerDocument.createElement("div");return l&&(l.className=V4),l},[i]),[,a]=M.useState({});return Zp(()=>a({}),[]),Zp(()=>{if(!(!s||!o))return o.appendChild(s),()=>{o.removeChild(s)}},[s,o]),o&&s?U4.createPortal($.jsx(hX,{value:r?s:null,children:t}),s):null};function xv(e){const t={appendToParentPortal:!0,...e},{containerRef:n,...r}=t;return n?$.jsx(Hme,{containerRef:n,...r}):$.jsx(Wme,{...r})}xv.className=V4;xv.selector=Ume;xv.displayName="Portal";function W4(){const e=M.useContext(e1);if(!e)throw Error("useTheme: `theme` is undefined. Seems you forgot to wrap your app in `<ChakraProvider />` or `<ThemeProvider />`");return e}var H4=M.createContext({});H4.displayName="ColorModeContext";function om(){const e=M.useContext(H4);if(e===void 0)throw new Error("useColorMode must be used within a ColorModeProvider");return e}function qs(e,t){const{colorMode:n}=om();return n==="dark"?t:e}var Zb={light:"chakra-ui-light",dark:"chakra-ui-dark"};function qme(e={}){const{preventTransition:t=!0}=e,n={setDataset:r=>{const i=t?n.preventTransition():void 0;document.documentElement.dataset.theme=r,document.documentElement.style.colorScheme=r,i==null||i()},setClassName(r){document.body.classList.add(r?Zb.dark:Zb.light),document.body.classList.remove(r?Zb.light:Zb.dark)},query(){return window.matchMedia("(prefers-color-scheme: dark)")},getSystemTheme(r){var i;return((i=n.query().matches)!=null?i:r==="dark")?"dark":"light"},addListener(r){const i=n.query(),o=s=>{r(s.matches?"dark":"light")};return typeof i.addListener=="function"?i.addListener(o):i.addEventListener("change",o),()=>{typeof i.removeListener=="function"?i.removeListener(o):i.removeEventListener("change",o)}},preventTransition(){const r=document.createElement("style");return r.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(r),()=>{window.getComputedStyle(document.body),requestAnimationFrame(()=>{requestAnimationFrame(()=>{document.head.removeChild(r)})})}}};return n}var Gme="chakra-ui-color-mode";function Yme(e){return{ssr:!1,type:"localStorage",get(t){if(!(globalThis!=null&&globalThis.document))return t;let n;try{n=localStorage.getItem(e)||t}catch{}return n||t},set(t){try{localStorage.setItem(e,t)}catch{}}}}var Xme=Yme(Gme),t9=()=>{};function n9(e,t){return e.type==="cookie"&&e.ssr?e.get(t):t}function pX(e){const{value:t,children:n,options:{useSystemColorMode:r,initialColorMode:i,disableTransitionOnChange:o}={},colorModeManager:s=Xme}=e,a=i==="dark"?"dark":"light",[l,u]=M.useState(()=>n9(s,a)),[c,f]=M.useState(()=>n9(s)),{getSystemTheme:d,setClassName:h,setDataset:p,addListener:g}=M.useMemo(()=>qme({preventTransition:o}),[o]),m=i==="system"&&!l?c:l,y=M.useCallback(x=>{const w=x==="system"?d():x;u(w),h(w==="dark"),p(w),s.set(w)},[s,d,h,p]);Zp(()=>{i==="system"&&f(d())},[]),M.useEffect(()=>{const x=s.get();if(x){y(x);return}if(i==="system"){y("system");return}y(a)},[s,a,i,y]);const v=M.useCallback(()=>{y(m==="dark"?"light":"dark")},[m,y]);M.useEffect(()=>{if(r)return g(y)},[r,g,y]);const b=M.useMemo(()=>({colorMode:t??m,toggleColorMode:t?t9:v,setColorMode:t?t9:y,forced:t!==void 0}),[m,v,y,t]);return $.jsx(H4.Provider,{value:b,children:n})}pX.displayName="ColorModeProvider";function gX(){const e=om(),t=W4();return{...e,theme:t}}var Xe=(...e)=>e.filter(Boolean).join(" ");function Kme(){return!1}function mi(e){const t=typeof e;return e!=null&&(t==="object"||t==="function")&&!Array.isArray(e)}var wv=e=>{const{condition:t,message:n}=e;t&&Kme()&&console.warn(n)};function fa(e,...t){return Qme(e)?e(...t):e}var Qme=e=>typeof e=="function",mo=e=>e?"":void 0,B$=e=>e?!0:void 0;function tc(...e){return function(n){e.some(r=>(r==null||r(n),n==null?void 0:n.defaultPrevented))}}var N2={exports:{}};N2.exports;(function(e,t){var n=200,r="__lodash_hash_undefined__",i=800,o=16,s=9007199254740991,a="[object Arguments]",l="[object Array]",u="[object AsyncFunction]",c="[object Boolean]",f="[object Date]",d="[object Error]",h="[object Function]",p="[object GeneratorFunction]",g="[object Map]",m="[object Number]",y="[object Null]",v="[object Object]",b="[object Proxy]",x="[object RegExp]",w="[object Set]",k="[object String]",S="[object Undefined]",C="[object WeakMap]",E="[object ArrayBuffer]",A="[object DataView]",T="[object Float32Array]",L="[object Float64Array]",F="[object Int8Array]",R="[object Int16Array]",_="[object Int32Array]",P="[object Uint8Array]",N="[object Uint8ClampedArray]",D="[object Uint16Array]",I="[object Uint32Array]",U=/[\\^$.*+?()[\]{}|]/g,V=/^\[object .+?Constructor\]$/,oe=/^(?:0|[1-9]\d*)$/,Q={};Q[T]=Q[L]=Q[F]=Q[R]=Q[_]=Q[P]=Q[N]=Q[D]=Q[I]=!0,Q[a]=Q[l]=Q[E]=Q[c]=Q[A]=Q[f]=Q[d]=Q[h]=Q[g]=Q[m]=Q[v]=Q[x]=Q[w]=Q[k]=Q[C]=!1;var ye=typeof Li=="object"&&Li&&Li.Object===Object&&Li,Oe=typeof self=="object"&&self&&self.Object===Object&&self,ut=ye||Oe||Function("return this")(),$n=t&&!t.nodeType&&t,sr=$n&&!0&&e&&!e.nodeType&&e,ce=sr&&sr.exports===$n,$e=ce&&ye.process,Ae=function(){try{var O=sr&&sr.require&&sr.require("util").types;return O||$e&&$e.binding&&$e.binding("util")}catch{}}(),J=Ae&&Ae.isTypedArray;function mn(O,j,W){switch(W.length){case 0:return O.call(j);case 1:return O.call(j,W[0]);case 2:return O.call(j,W[0],W[1]);case 3:return O.call(j,W[0],W[1],W[2])}return O.apply(j,W)}function tt(O,j){for(var W=-1,he=Array(O);++W<O;)he[W]=j(W);return he}function An(O){return function(j){return O(j)}}function fn(O,j){return O==null?void 0:O[j]}function ao(O,j){return function(W){return O(j(W))}}var hh=Array.prototype,tde=Function.prototype,_b=Object.prototype,n$=ut["__core-js_shared__"],$b=tde.toString,iu=_b.hasOwnProperty,bI=function(){var O=/[^.]+$/.exec(n$&&n$.keys&&n$.keys.IE_PROTO||"");return O?"Symbol(src)_1."+O:""}(),xI=_b.toString,nde=$b.call(Object),rde=RegExp("^"+$b.call(iu).replace(U,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ab=ce?ut.Buffer:void 0,wI=ut.Symbol,SI=ut.Uint8Array;Ab&&Ab.allocUnsafe;var kI=ao(Object.getPrototypeOf,Object),CI=Object.create,ide=_b.propertyIsEnumerable,ode=hh.splice,Kc=wI?wI.toStringTag:void 0,Tb=function(){try{var O=o$(Object,"defineProperty");return O({},"",{}),O}catch{}}(),sde=Ab?Ab.isBuffer:void 0,EI=Math.max,ade=Date.now,_I=o$(ut,"Map"),Dm=o$(Object,"create"),lde=function(){function O(){}return function(j){if(!Jc(j))return{};if(CI)return CI(j);O.prototype=j;var W=new O;return O.prototype=void 0,W}}();function Qc(O){var j=-1,W=O==null?0:O.length;for(this.clear();++j<W;){var he=O[j];this.set(he[0],he[1])}}function ude(){this.__data__=Dm?Dm(null):{},this.size=0}function cde(O){var j=this.has(O)&&delete this.__data__[O];return this.size-=j?1:0,j}function fde(O){var j=this.__data__;if(Dm){var W=j[O];return W===r?void 0:W}return iu.call(j,O)?j[O]:void 0}function dde(O){var j=this.__data__;return Dm?j[O]!==void 0:iu.call(j,O)}function hde(O,j){var W=this.__data__;return this.size+=this.has(O)?0:1,W[O]=Dm&&j===void 0?r:j,this}Qc.prototype.clear=ude,Qc.prototype.delete=cde,Qc.prototype.get=fde,Qc.prototype.has=dde,Qc.prototype.set=hde;function Xa(O){var j=-1,W=O==null?0:O.length;for(this.clear();++j<W;){var he=O[j];this.set(he[0],he[1])}}function pde(){this.__data__=[],this.size=0}function gde(O){var j=this.__data__,W=Pb(j,O);if(W<0)return!1;var he=j.length-1;return W==he?j.pop():ode.call(j,W,1),--this.size,!0}function mde(O){var j=this.__data__,W=Pb(j,O);return W<0?void 0:j[W][1]}function yde(O){return Pb(this.__data__,O)>-1}function vde(O,j){var W=this.__data__,he=Pb(W,O);return he<0?(++this.size,W.push([O,j])):W[he][1]=j,this}Xa.prototype.clear=pde,Xa.prototype.delete=gde,Xa.prototype.get=mde,Xa.prototype.has=yde,Xa.prototype.set=vde;function ph(O){var j=-1,W=O==null?0:O.length;for(this.clear();++j<W;){var he=O[j];this.set(he[0],he[1])}}function bde(){this.size=0,this.__data__={hash:new Qc,map:new(_I||Xa),string:new Qc}}function xde(O){var j=Fb(this,O).delete(O);return this.size-=j?1:0,j}function wde(O){return Fb(this,O).get(O)}function Sde(O){return Fb(this,O).has(O)}function kde(O,j){var W=Fb(this,O),he=W.size;return W.set(O,j),this.size+=W.size==he?0:1,this}ph.prototype.clear=bde,ph.prototype.delete=xde,ph.prototype.get=wde,ph.prototype.has=Sde,ph.prototype.set=kde;function gh(O){var j=this.__data__=new Xa(O);this.size=j.size}function Cde(){this.__data__=new Xa,this.size=0}function Ede(O){var j=this.__data__,W=j.delete(O);return this.size=j.size,W}function _de(O){return this.__data__.get(O)}function $de(O){return this.__data__.has(O)}function Ade(O,j){var W=this.__data__;if(W instanceof Xa){var he=W.__data__;if(!_I||he.length<n-1)return he.push([O,j]),this.size=++W.size,this;W=this.__data__=new ph(he)}return W.set(O,j),this.size=W.size,this}gh.prototype.clear=Cde,gh.prototype.delete=Ede,gh.prototype.get=_de,gh.prototype.has=$de,gh.prototype.set=Ade;function Tde(O,j){var W=l$(O),he=!W&&a$(O),Ge=!W&&!he&&MI(O),wt=!W&&!he&&!Ge&&RI(O),Ot=W||he||Ge||wt,nt=Ot?tt(O.length,String):[],Dt=nt.length;for(var Ho in O)Ot&&(Ho=="length"||Ge&&(Ho=="offset"||Ho=="parent")||wt&&(Ho=="buffer"||Ho=="byteLength"||Ho=="byteOffset")||TI(Ho,Dt))||nt.push(Ho);return nt}function r$(O,j,W){(W!==void 0&&!Rb(O[j],W)||W===void 0&&!(j in O))&&i$(O,j,W)}function Pde(O,j,W){var he=O[j];(!(iu.call(O,j)&&Rb(he,W))||W===void 0&&!(j in O))&&i$(O,j,W)}function Pb(O,j){for(var W=O.length;W--;)if(Rb(O[W][0],j))return W;return-1}function i$(O,j,W){j=="__proto__"&&Tb?Tb(O,j,{configurable:!0,enumerable:!0,value:W,writable:!0}):O[j]=W}var Mde=Wde();function Mb(O){return O==null?O===void 0?S:y:Kc&&Kc in Object(O)?Hde(O):Qde(O)}function $I(O){return Nm(O)&&Mb(O)==a}function Fde(O){if(!Jc(O)||Xde(O))return!1;var j=c$(O)?rde:V;return j.test(the(O))}function Rde(O){return Nm(O)&&FI(O.length)&&!!Q[Mb(O)]}function Ode(O){if(!Jc(O))return Kde(O);var j=PI(O),W=[];for(var he in O)he=="constructor"&&(j||!iu.call(O,he))||W.push(he);return W}function AI(O,j,W,he,Ge){O!==j&&Mde(j,function(wt,Ot){if(Ge||(Ge=new gh),Jc(wt))Dde(O,j,Ot,W,AI,he,Ge);else{var nt=he?he(s$(O,Ot),wt,Ot+"",O,j,Ge):void 0;nt===void 0&&(nt=wt),r$(O,Ot,nt)}},OI)}function Dde(O,j,W,he,Ge,wt,Ot){var nt=s$(O,W),Dt=s$(j,W),Ho=Ot.get(Dt);if(Ho){r$(O,W,Ho);return}var Ti=wt?wt(nt,Dt,W+"",O,j,Ot):void 0,Lm=Ti===void 0;if(Lm){var f$=l$(Dt),d$=!f$&&MI(Dt),NI=!f$&&!d$&&RI(Dt);Ti=Dt,f$||d$||NI?l$(nt)?Ti=nt:nhe(nt)?Ti=Bde(nt):d$?(Lm=!1,Ti=Ide(Dt)):NI?(Lm=!1,Ti=jde(Dt)):Ti=[]:rhe(Dt)||a$(Dt)?(Ti=nt,a$(nt)?Ti=ihe(nt):(!Jc(nt)||c$(nt))&&(Ti=qde(Dt))):Lm=!1}Lm&&(Ot.set(Dt,Ti),Ge(Ti,Dt,he,wt,Ot),Ot.delete(Dt)),r$(O,W,Ti)}function Nde(O,j){return Zde(Jde(O,j,DI),O+"")}var Lde=Tb?function(O,j){return Tb(O,"toString",{configurable:!0,enumerable:!1,value:she(j),writable:!0})}:DI;function Ide(O,j){return O.slice()}function zde(O){var j=new O.constructor(O.byteLength);return new SI(j).set(new SI(O)),j}function jde(O,j){var W=zde(O.buffer);return new O.constructor(W,O.byteOffset,O.length)}function Bde(O,j){var W=-1,he=O.length;for(j||(j=Array(he));++W<he;)j[W]=O[W];return j}function Ude(O,j,W,he){var Ge=!W;W||(W={});for(var wt=-1,Ot=j.length;++wt<Ot;){var nt=j[wt],Dt=void 0;Dt===void 0&&(Dt=O[nt]),Ge?i$(W,nt,Dt):Pde(W,nt,Dt)}return W}function Vde(O){return Nde(function(j,W){var he=-1,Ge=W.length,wt=Ge>1?W[Ge-1]:void 0,Ot=Ge>2?W[2]:void 0;for(wt=O.length>3&&typeof wt=="function"?(Ge--,wt):void 0,Ot&&Gde(W[0],W[1],Ot)&&(wt=Ge<3?void 0:wt,Ge=1),j=Object(j);++he<Ge;){var nt=W[he];nt&&O(j,nt,he,wt)}return j})}function Wde(O){return function(j,W,he){for(var Ge=-1,wt=Object(j),Ot=he(j),nt=Ot.length;nt--;){var Dt=Ot[++Ge];if(W(wt[Dt],Dt,wt)===!1)break}return j}}function Fb(O,j){var W=O.__data__;return Yde(j)?W[typeof j=="string"?"string":"hash"]:W.map}function o$(O,j){var W=fn(O,j);return Fde(W)?W:void 0}function Hde(O){var j=iu.call(O,Kc),W=O[Kc];try{O[Kc]=void 0;var he=!0}catch{}var Ge=xI.call(O);return he&&(j?O[Kc]=W:delete O[Kc]),Ge}function qde(O){return typeof O.constructor=="function"&&!PI(O)?lde(kI(O)):{}}function TI(O,j){var W=typeof O;return j=j??s,!!j&&(W=="number"||W!="symbol"&&oe.test(O))&&O>-1&&O%1==0&&O<j}function Gde(O,j,W){if(!Jc(W))return!1;var he=typeof j;return(he=="number"?u$(W)&&TI(j,W.length):he=="string"&&j in W)?Rb(W[j],O):!1}function Yde(O){var j=typeof O;return j=="string"||j=="number"||j=="symbol"||j=="boolean"?O!=="__proto__":O===null}function Xde(O){return!!bI&&bI in O}function PI(O){var j=O&&O.constructor,W=typeof j=="function"&&j.prototype||_b;return O===W}function Kde(O){var j=[];if(O!=null)for(var W in Object(O))j.push(W);return j}function Qde(O){return xI.call(O)}function Jde(O,j,W){return j=EI(j===void 0?O.length-1:j,0),function(){for(var he=arguments,Ge=-1,wt=EI(he.length-j,0),Ot=Array(wt);++Ge<wt;)Ot[Ge]=he[j+Ge];Ge=-1;for(var nt=Array(j+1);++Ge<j;)nt[Ge]=he[Ge];return nt[j]=W(Ot),mn(O,this,nt)}}function s$(O,j){if(!(j==="constructor"&&typeof O[j]=="function")&&j!="__proto__")return O[j]}var Zde=ehe(Lde);function ehe(O){var j=0,W=0;return function(){var he=ade(),Ge=o-(he-W);if(W=he,Ge>0){if(++j>=i)return arguments[0]}else j=0;return O.apply(void 0,arguments)}}function the(O){if(O!=null){try{return $b.call(O)}catch{}try{return O+""}catch{}}return""}function Rb(O,j){return O===j||O!==O&&j!==j}var a$=$I(function(){return arguments}())?$I:function(O){return Nm(O)&&iu.call(O,"callee")&&!ide.call(O,"callee")},l$=Array.isArray;function u$(O){return O!=null&&FI(O.length)&&!c$(O)}function nhe(O){return Nm(O)&&u$(O)}var MI=sde||ahe;function c$(O){if(!Jc(O))return!1;var j=Mb(O);return j==h||j==p||j==u||j==b}function FI(O){return typeof O=="number"&&O>-1&&O%1==0&&O<=s}function Jc(O){var j=typeof O;return O!=null&&(j=="object"||j=="function")}function Nm(O){return O!=null&&typeof O=="object"}function rhe(O){if(!Nm(O)||Mb(O)!=v)return!1;var j=kI(O);if(j===null)return!0;var W=iu.call(j,"constructor")&&j.constructor;return typeof W=="function"&&W instanceof W&&$b.call(W)==nde}var RI=J?An(J):Rde;function ihe(O){return Ude(O,OI(O))}function OI(O){return u$(O)?Tde(O):Ode(O)}var ohe=Vde(function(O,j,W,he){AI(O,j,W,he)});function she(O){return function(){return O}}function DI(O){return O}function ahe(){return!1}e.exports=ohe})(N2,N2.exports);var Jme=N2.exports;const Co=Da(Jme);var Zme=e=>/!(important)?$/.test(e),r9=e=>typeof e=="string"?e.replace(/!(important)?$/,"").trim():e,e0e=(e,t)=>n=>{const r=String(t),i=Zme(r),o=r9(r),s=e?`${e}.${o}`:o;let a=mi(n.__cssMap)&&s in n.__cssMap?n.__cssMap[s].varRef:t;return a=r9(a),i?`${a} !important`:a};function q4(e){const{scale:t,transform:n,compose:r}=e;return(o,s)=>{var a;const l=e0e(t,o)(s);let u=(a=n==null?void 0:n(l,s))!=null?a:l;return r&&(u=r(u,s)),u}}var ex=(...e)=>t=>e.reduce((n,r)=>r(n),t);function lo(e,t){return n=>{const r={property:n,scale:e};return r.transform=q4({scale:e,transform:t}),r}}var t0e=({rtl:e,ltr:t})=>n=>n.direction==="rtl"?e:t;function n0e(e){const{property:t,scale:n,transform:r}=e;return{scale:n,property:t0e(t),transform:n?q4({scale:n,compose:r}):r}}var mX=["rotate(var(--chakra-rotate, 0))","scaleX(var(--chakra-scale-x, 1))","scaleY(var(--chakra-scale-y, 1))","skewX(var(--chakra-skew-x, 0))","skewY(var(--chakra-skew-y, 0))"];function r0e(){return["translateX(var(--chakra-translate-x, 0))","translateY(var(--chakra-translate-y, 0))",...mX].join(" ")}function i0e(){return["translate3d(var(--chakra-translate-x, 0), var(--chakra-translate-y, 0), 0)",...mX].join(" ")}var o0e={"--chakra-blur":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-brightness":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-contrast":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-grayscale":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-hue-rotate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-invert":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-saturate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-sepia":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-drop-shadow":"var(--chakra-empty,/*!*/ /*!*/)",filter:["var(--chakra-blur)","var(--chakra-brightness)","var(--chakra-contrast)","var(--chakra-grayscale)","var(--chakra-hue-rotate)","var(--chakra-invert)","var(--chakra-saturate)","var(--chakra-sepia)","var(--chakra-drop-shadow)"].join(" ")},s0e={backdropFilter:["var(--chakra-backdrop-blur)","var(--chakra-backdrop-brightness)","var(--chakra-backdrop-contrast)","var(--chakra-backdrop-grayscale)","var(--chakra-backdrop-hue-rotate)","var(--chakra-backdrop-invert)","var(--chakra-backdrop-opacity)","var(--chakra-backdrop-saturate)","var(--chakra-backdrop-sepia)"].join(" "),"--chakra-backdrop-blur":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-brightness":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-contrast":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-grayscale":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-hue-rotate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-invert":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-opacity":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-saturate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-sepia":"var(--chakra-empty,/*!*/ /*!*/)"};function a0e(e){return{"--chakra-ring-offset-shadow":"var(--chakra-ring-inset) 0 0 0 var(--chakra-ring-offset-width) var(--chakra-ring-offset-color)","--chakra-ring-shadow":"var(--chakra-ring-inset) 0 0 0 calc(var(--chakra-ring-width) + var(--chakra-ring-offset-width)) var(--chakra-ring-color)","--chakra-ring-width":e,boxShadow:["var(--chakra-ring-offset-shadow)","var(--chakra-ring-shadow)","var(--chakra-shadow, 0 0 #0000)"].join(", ")}}var l0e={"row-reverse":{space:"--chakra-space-x-reverse",divide:"--chakra-divide-x-reverse"},"column-reverse":{space:"--chakra-space-y-reverse",divide:"--chakra-divide-y-reverse"}},a3={"to-t":"to top","to-tr":"to top right","to-r":"to right","to-br":"to bottom right","to-b":"to bottom","to-bl":"to bottom left","to-l":"to left","to-tl":"to top left"},u0e=new Set(Object.values(a3)),l3=new Set(["none","-moz-initial","inherit","initial","revert","unset"]),c0e=e=>e.trim();function f0e(e,t){if(e==null||l3.has(e))return e;if(!(u3(e)||l3.has(e)))return`url('${e}')`;const i=/(^[a-z-A-Z]+)\((.*)\)/g.exec(e),o=i==null?void 0:i[1],s=i==null?void 0:i[2];if(!o||!s)return e;const a=o.includes("-gradient")?o:`${o}-gradient`,[l,...u]=s.split(",").map(c0e).filter(Boolean);if((u==null?void 0:u.length)===0)return e;const c=l in a3?a3[l]:l;u.unshift(c);const f=u.map(d=>{if(u0e.has(d))return d;const h=d.indexOf(" "),[p,g]=h!==-1?[d.substr(0,h),d.substr(h+1)]:[d],m=u3(g)?g:g&&g.split(" "),y=`colors.${p}`,v=y in t.__cssMap?t.__cssMap[y].varRef:p;return m?[v,...Array.isArray(m)?m:[m]].join(" "):v});return`${a}(${f.join(", ")})`}var u3=e=>typeof e=="string"&&e.includes("(")&&e.includes(")"),d0e=(e,t)=>f0e(e,t??{});function h0e(e){return/^var\(--.+\)$/.test(e)}var p0e=e=>{const t=parseFloat(e.toString()),n=e.toString().replace(String(t),"");return{unitless:!n,value:t,unit:n}},Vs=e=>t=>`${e}(${t})`,We={filter(e){return e!=="auto"?e:o0e},backdropFilter(e){return e!=="auto"?e:s0e},ring(e){return a0e(We.px(e))},bgClip(e){return e==="text"?{color:"transparent",backgroundClip:"text"}:{backgroundClip:e}},transform(e){return e==="auto"?r0e():e==="auto-gpu"?i0e():e},vh(e){return e==="$100vh"?"var(--chakra-vh)":e},px(e){if(e==null)return e;const{unitless:t}=p0e(e);return t||typeof e=="number"?`${e}px`:e},fraction(e){return typeof e!="number"||e>1?e:`${e*100}%`},float(e,t){const n={left:"right",right:"left"};return t.direction==="rtl"?n[e]:e},degree(e){if(h0e(e)||e==null)return e;const t=typeof e=="string"&&!e.endsWith("deg");return typeof e=="number"||t?`${e}deg`:e},gradient:d0e,blur:Vs("blur"),opacity:Vs("opacity"),brightness:Vs("brightness"),contrast:Vs("contrast"),dropShadow:Vs("drop-shadow"),grayscale:Vs("grayscale"),hueRotate:e=>Vs("hue-rotate")(We.degree(e)),invert:Vs("invert"),saturate:Vs("saturate"),sepia:Vs("sepia"),bgImage(e){return e==null||u3(e)||l3.has(e)?e:`url(${e})`},outline(e){const t=String(e)==="0"||String(e)==="none";return e!==null&&t?{outline:"2px solid transparent",outlineOffset:"2px"}:{outline:e}},flexDirection(e){var t;const{space:n,divide:r}=(t=l0e[e])!=null?t:{},i={flexDirection:e};return n&&(i[n]=1),r&&(i[r]=1),i}},z={borderWidths:lo("borderWidths"),borderStyles:lo("borderStyles"),colors:lo("colors"),borders:lo("borders"),gradients:lo("gradients",We.gradient),radii:lo("radii",We.px),space:lo("space",ex(We.vh,We.px)),spaceT:lo("space",ex(We.vh,We.px)),degreeT(e){return{property:e,transform:We.degree}},prop(e,t,n){return{property:e,scale:t,...t&&{transform:q4({scale:t,transform:n})}}},propT(e,t){return{property:e,transform:t}},sizes:lo("sizes",ex(We.vh,We.px)),sizesT:lo("sizes",ex(We.vh,We.fraction)),shadows:lo("shadows"),logical:n0e,blur:lo("blur",We.blur)},kw={background:z.colors("background"),backgroundColor:z.colors("backgroundColor"),backgroundImage:z.gradients("backgroundImage"),backgroundSize:!0,backgroundPosition:!0,backgroundRepeat:!0,backgroundAttachment:!0,backgroundClip:{transform:We.bgClip},bgSize:z.prop("backgroundSize"),bgPosition:z.prop("backgroundPosition"),bg:z.colors("background"),bgColor:z.colors("backgroundColor"),bgPos:z.prop("backgroundPosition"),bgRepeat:z.prop("backgroundRepeat"),bgAttachment:z.prop("backgroundAttachment"),bgGradient:z.gradients("backgroundImage"),bgClip:{transform:We.bgClip}};Object.assign(kw,{bgImage:kw.backgroundImage,bgImg:kw.backgroundImage});var rt={border:z.borders("border"),borderWidth:z.borderWidths("borderWidth"),borderStyle:z.borderStyles("borderStyle"),borderColor:z.colors("borderColor"),borderRadius:z.radii("borderRadius"),borderTop:z.borders("borderTop"),borderBlockStart:z.borders("borderBlockStart"),borderTopLeftRadius:z.radii("borderTopLeftRadius"),borderStartStartRadius:z.logical({scale:"radii",property:{ltr:"borderTopLeftRadius",rtl:"borderTopRightRadius"}}),borderEndStartRadius:z.logical({scale:"radii",property:{ltr:"borderBottomLeftRadius",rtl:"borderBottomRightRadius"}}),borderTopRightRadius:z.radii("borderTopRightRadius"),borderStartEndRadius:z.logical({scale:"radii",property:{ltr:"borderTopRightRadius",rtl:"borderTopLeftRadius"}}),borderEndEndRadius:z.logical({scale:"radii",property:{ltr:"borderBottomRightRadius",rtl:"borderBottomLeftRadius"}}),borderRight:z.borders("borderRight"),borderInlineEnd:z.borders("borderInlineEnd"),borderBottom:z.borders("borderBottom"),borderBlockEnd:z.borders("borderBlockEnd"),borderBottomLeftRadius:z.radii("borderBottomLeftRadius"),borderBottomRightRadius:z.radii("borderBottomRightRadius"),borderLeft:z.borders("borderLeft"),borderInlineStart:{property:"borderInlineStart",scale:"borders"},borderInlineStartRadius:z.logical({scale:"radii",property:{ltr:["borderTopLeftRadius","borderBottomLeftRadius"],rtl:["borderTopRightRadius","borderBottomRightRadius"]}}),borderInlineEndRadius:z.logical({scale:"radii",property:{ltr:["borderTopRightRadius","borderBottomRightRadius"],rtl:["borderTopLeftRadius","borderBottomLeftRadius"]}}),borderX:z.borders(["borderLeft","borderRight"]),borderInline:z.borders("borderInline"),borderY:z.borders(["borderTop","borderBottom"]),borderBlock:z.borders("borderBlock"),borderTopWidth:z.borderWidths("borderTopWidth"),borderBlockStartWidth:z.borderWidths("borderBlockStartWidth"),borderTopColor:z.colors("borderTopColor"),borderBlockStartColor:z.colors("borderBlockStartColor"),borderTopStyle:z.borderStyles("borderTopStyle"),borderBlockStartStyle:z.borderStyles("borderBlockStartStyle"),borderBottomWidth:z.borderWidths("borderBottomWidth"),borderBlockEndWidth:z.borderWidths("borderBlockEndWidth"),borderBottomColor:z.colors("borderBottomColor"),borderBlockEndColor:z.colors("borderBlockEndColor"),borderBottomStyle:z.borderStyles("borderBottomStyle"),borderBlockEndStyle:z.borderStyles("borderBlockEndStyle"),borderLeftWidth:z.borderWidths("borderLeftWidth"),borderInlineStartWidth:z.borderWidths("borderInlineStartWidth"),borderLeftColor:z.colors("borderLeftColor"),borderInlineStartColor:z.colors("borderInlineStartColor"),borderLeftStyle:z.borderStyles("borderLeftStyle"),borderInlineStartStyle:z.borderStyles("borderInlineStartStyle"),borderRightWidth:z.borderWidths("borderRightWidth"),borderInlineEndWidth:z.borderWidths("borderInlineEndWidth"),borderRightColor:z.colors("borderRightColor"),borderInlineEndColor:z.colors("borderInlineEndColor"),borderRightStyle:z.borderStyles("borderRightStyle"),borderInlineEndStyle:z.borderStyles("borderInlineEndStyle"),borderTopRadius:z.radii(["borderTopLeftRadius","borderTopRightRadius"]),borderBottomRadius:z.radii(["borderBottomLeftRadius","borderBottomRightRadius"]),borderLeftRadius:z.radii(["borderTopLeftRadius","borderBottomLeftRadius"]),borderRightRadius:z.radii(["borderTopRightRadius","borderBottomRightRadius"])};Object.assign(rt,{rounded:rt.borderRadius,roundedTop:rt.borderTopRadius,roundedTopLeft:rt.borderTopLeftRadius,roundedTopRight:rt.borderTopRightRadius,roundedTopStart:rt.borderStartStartRadius,roundedTopEnd:rt.borderStartEndRadius,roundedBottom:rt.borderBottomRadius,roundedBottomLeft:rt.borderBottomLeftRadius,roundedBottomRight:rt.borderBottomRightRadius,roundedBottomStart:rt.borderEndStartRadius,roundedBottomEnd:rt.borderEndEndRadius,roundedLeft:rt.borderLeftRadius,roundedRight:rt.borderRightRadius,roundedStart:rt.borderInlineStartRadius,roundedEnd:rt.borderInlineEndRadius,borderStart:rt.borderInlineStart,borderEnd:rt.borderInlineEnd,borderTopStartRadius:rt.borderStartStartRadius,borderTopEndRadius:rt.borderStartEndRadius,borderBottomStartRadius:rt.borderEndStartRadius,borderBottomEndRadius:rt.borderEndEndRadius,borderStartRadius:rt.borderInlineStartRadius,borderEndRadius:rt.borderInlineEndRadius,borderStartWidth:rt.borderInlineStartWidth,borderEndWidth:rt.borderInlineEndWidth,borderStartColor:rt.borderInlineStartColor,borderEndColor:rt.borderInlineEndColor,borderStartStyle:rt.borderInlineStartStyle,borderEndStyle:rt.borderInlineEndStyle});var g0e={color:z.colors("color"),textColor:z.colors("color"),fill:z.colors("fill"),stroke:z.colors("stroke")},c3={boxShadow:z.shadows("boxShadow"),mixBlendMode:!0,blendMode:z.prop("mixBlendMode"),backgroundBlendMode:!0,bgBlendMode:z.prop("backgroundBlendMode"),opacity:!0};Object.assign(c3,{shadow:c3.boxShadow});var m0e={filter:{transform:We.filter},blur:z.blur("--chakra-blur"),brightness:z.propT("--chakra-brightness",We.brightness),contrast:z.propT("--chakra-contrast",We.contrast),hueRotate:z.propT("--chakra-hue-rotate",We.hueRotate),invert:z.propT("--chakra-invert",We.invert),saturate:z.propT("--chakra-saturate",We.saturate),dropShadow:z.propT("--chakra-drop-shadow",We.dropShadow),backdropFilter:{transform:We.backdropFilter},backdropBlur:z.blur("--chakra-backdrop-blur"),backdropBrightness:z.propT("--chakra-backdrop-brightness",We.brightness),backdropContrast:z.propT("--chakra-backdrop-contrast",We.contrast),backdropHueRotate:z.propT("--chakra-backdrop-hue-rotate",We.hueRotate),backdropInvert:z.propT("--chakra-backdrop-invert",We.invert),backdropSaturate:z.propT("--chakra-backdrop-saturate",We.saturate)},L2={alignItems:!0,alignContent:!0,justifyItems:!0,justifyContent:!0,flexWrap:!0,flexDirection:{transform:We.flexDirection},flex:!0,flexFlow:!0,flexGrow:!0,flexShrink:!0,flexBasis:z.sizes("flexBasis"),justifySelf:!0,alignSelf:!0,order:!0,placeItems:!0,placeContent:!0,placeSelf:!0,gap:z.space("gap"),rowGap:z.space("rowGap"),columnGap:z.space("columnGap")};Object.assign(L2,{flexDir:L2.flexDirection});var yX={gridGap:z.space("gridGap"),gridColumnGap:z.space("gridColumnGap"),gridRowGap:z.space("gridRowGap"),gridColumn:!0,gridRow:!0,gridAutoFlow:!0,gridAutoColumns:!0,gridColumnStart:!0,gridColumnEnd:!0,gridRowStart:!0,gridRowEnd:!0,gridAutoRows:!0,gridTemplate:!0,gridTemplateColumns:!0,gridTemplateRows:!0,gridTemplateAreas:!0,gridArea:!0},y0e={appearance:!0,cursor:!0,resize:!0,userSelect:!0,pointerEvents:!0,outline:{transform:We.outline},outlineOffset:!0,outlineColor:z.colors("outlineColor")},ho={width:z.sizesT("width"),inlineSize:z.sizesT("inlineSize"),height:z.sizes("height"),blockSize:z.sizes("blockSize"),boxSize:z.sizes(["width","height"]),minWidth:z.sizes("minWidth"),minInlineSize:z.sizes("minInlineSize"),minHeight:z.sizes("minHeight"),minBlockSize:z.sizes("minBlockSize"),maxWidth:z.sizes("maxWidth"),maxInlineSize:z.sizes("maxInlineSize"),maxHeight:z.sizes("maxHeight"),maxBlockSize:z.sizes("maxBlockSize"),overflow:!0,overflowX:!0,overflowY:!0,overscrollBehavior:!0,overscrollBehaviorX:!0,overscrollBehaviorY:!0,display:!0,aspectRatio:!0,hideFrom:{scale:"breakpoints",transform:(e,t)=>{var n,r,i;return{[`@media screen and (min-width: ${(i=(r=(n=t.__breakpoints)==null?void 0:n.get(e))==null?void 0:r.minW)!=null?i:e})`]:{display:"none"}}}},hideBelow:{scale:"breakpoints",transform:(e,t)=>{var n,r,i;return{[`@media screen and (max-width: ${(i=(r=(n=t.__breakpoints)==null?void 0:n.get(e))==null?void 0:r._minW)!=null?i:e})`]:{display:"none"}}}},verticalAlign:!0,boxSizing:!0,boxDecorationBreak:!0,float:z.propT("float",We.float),objectFit:!0,objectPosition:!0,visibility:!0,isolation:!0};Object.assign(ho,{w:ho.width,h:ho.height,minW:ho.minWidth,maxW:ho.maxWidth,minH:ho.minHeight,maxH:ho.maxHeight,overscroll:ho.overscrollBehavior,overscrollX:ho.overscrollBehaviorX,overscrollY:ho.overscrollBehaviorY});var v0e={listStyleType:!0,listStylePosition:!0,listStylePos:z.prop("listStylePosition"),listStyleImage:!0,listStyleImg:z.prop("listStyleImage")};function b0e(e,t,n,r){const i=typeof t=="string"?t.split("."):[t];for(r=0;r<i.length&&e;r+=1)e=e[i[r]];return e===void 0?n:e}var x0e=e=>{const t=new WeakMap;return(r,i,o,s)=>{if(typeof r>"u")return e(r,i,o);t.has(r)||t.set(r,new Map);const a=t.get(r);if(a.has(i))return a.get(i);const l=e(r,i,o,s);return a.set(i,l),l}},w0e=x0e(b0e),S0e={border:"0px",clip:"rect(0, 0, 0, 0)",width:"1px",height:"1px",margin:"-1px",padding:"0px",overflow:"hidden",whiteSpace:"nowrap",position:"absolute"},k0e={position:"static",width:"auto",height:"auto",clip:"auto",padding:"0",margin:"0",overflow:"visible",whiteSpace:"normal"},U$=(e,t,n)=>{const r={},i=w0e(e,t,{});for(const o in i)o in n&&n[o]!=null||(r[o]=i[o]);return r},C0e={srOnly:{transform(e){return e===!0?S0e:e==="focusable"?k0e:{}}},layerStyle:{processResult:!0,transform:(e,t,n)=>U$(t,`layerStyles.${e}`,n)},textStyle:{processResult:!0,transform:(e,t,n)=>U$(t,`textStyles.${e}`,n)},apply:{processResult:!0,transform:(e,t,n)=>U$(t,e,n)}},Sy={position:!0,pos:z.prop("position"),zIndex:z.prop("zIndex","zIndices"),inset:z.spaceT("inset"),insetX:z.spaceT(["left","right"]),insetInline:z.spaceT("insetInline"),insetY:z.spaceT(["top","bottom"]),insetBlock:z.spaceT("insetBlock"),top:z.spaceT("top"),insetBlockStart:z.spaceT("insetBlockStart"),bottom:z.spaceT("bottom"),insetBlockEnd:z.spaceT("insetBlockEnd"),left:z.spaceT("left"),insetInlineStart:z.logical({scale:"space",property:{ltr:"left",rtl:"right"}}),right:z.spaceT("right"),insetInlineEnd:z.logical({scale:"space",property:{ltr:"right",rtl:"left"}})};Object.assign(Sy,{insetStart:Sy.insetInlineStart,insetEnd:Sy.insetInlineEnd});var E0e={ring:{transform:We.ring},ringColor:z.colors("--chakra-ring-color"),ringOffset:z.prop("--chakra-ring-offset-width"),ringOffsetColor:z.colors("--chakra-ring-offset-color"),ringInset:z.prop("--chakra-ring-inset")},Pt={margin:z.spaceT("margin"),marginTop:z.spaceT("marginTop"),marginBlockStart:z.spaceT("marginBlockStart"),marginRight:z.spaceT("marginRight"),marginInlineEnd:z.spaceT("marginInlineEnd"),marginBottom:z.spaceT("marginBottom"),marginBlockEnd:z.spaceT("marginBlockEnd"),marginLeft:z.spaceT("marginLeft"),marginInlineStart:z.spaceT("marginInlineStart"),marginX:z.spaceT(["marginInlineStart","marginInlineEnd"]),marginInline:z.spaceT("marginInline"),marginY:z.spaceT(["marginTop","marginBottom"]),marginBlock:z.spaceT("marginBlock"),padding:z.space("padding"),paddingTop:z.space("paddingTop"),paddingBlockStart:z.space("paddingBlockStart"),paddingRight:z.space("paddingRight"),paddingBottom:z.space("paddingBottom"),paddingBlockEnd:z.space("paddingBlockEnd"),paddingLeft:z.space("paddingLeft"),paddingInlineStart:z.space("paddingInlineStart"),paddingInlineEnd:z.space("paddingInlineEnd"),paddingX:z.space(["paddingInlineStart","paddingInlineEnd"]),paddingInline:z.space("paddingInline"),paddingY:z.space(["paddingTop","paddingBottom"]),paddingBlock:z.space("paddingBlock")};Object.assign(Pt,{m:Pt.margin,mt:Pt.marginTop,mr:Pt.marginRight,me:Pt.marginInlineEnd,marginEnd:Pt.marginInlineEnd,mb:Pt.marginBottom,ml:Pt.marginLeft,ms:Pt.marginInlineStart,marginStart:Pt.marginInlineStart,mx:Pt.marginX,my:Pt.marginY,p:Pt.padding,pt:Pt.paddingTop,py:Pt.paddingY,px:Pt.paddingX,pb:Pt.paddingBottom,pl:Pt.paddingLeft,ps:Pt.paddingInlineStart,paddingStart:Pt.paddingInlineStart,pr:Pt.paddingRight,pe:Pt.paddingInlineEnd,paddingEnd:Pt.paddingInlineEnd});var _0e={textDecorationColor:z.colors("textDecorationColor"),textDecoration:!0,textDecor:{property:"textDecoration"},textDecorationLine:!0,textDecorationStyle:!0,textDecorationThickness:!0,textUnderlineOffset:!0,textShadow:z.shadows("textShadow")},$0e={clipPath:!0,transform:z.propT("transform",We.transform),transformOrigin:!0,translateX:z.spaceT("--chakra-translate-x"),translateY:z.spaceT("--chakra-translate-y"),skewX:z.degreeT("--chakra-skew-x"),skewY:z.degreeT("--chakra-skew-y"),scaleX:z.prop("--chakra-scale-x"),scaleY:z.prop("--chakra-scale-y"),scale:z.prop(["--chakra-scale-x","--chakra-scale-y"]),rotate:z.degreeT("--chakra-rotate")},A0e={transition:!0,transitionDelay:!0,animation:!0,willChange:!0,transitionDuration:z.prop("transitionDuration","transition.duration"),transitionProperty:z.prop("transitionProperty","transition.property"),transitionTimingFunction:z.prop("transitionTimingFunction","transition.easing")},T0e={fontFamily:z.prop("fontFamily","fonts"),fontSize:z.prop("fontSize","fontSizes",We.px),fontWeight:z.prop("fontWeight","fontWeights"),lineHeight:z.prop("lineHeight","lineHeights"),letterSpacing:z.prop("letterSpacing","letterSpacings"),textAlign:!0,fontStyle:!0,textIndent:!0,wordBreak:!0,overflowWrap:!0,textOverflow:!0,textTransform:!0,whiteSpace:!0,isTruncated:{transform(e){if(e===!0)return{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}}},noOfLines:{static:{overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitBoxOrient:"vertical",WebkitLineClamp:"var(--chakra-line-clamp)"},property:"--chakra-line-clamp"}},P0e={scrollBehavior:!0,scrollSnapAlign:!0,scrollSnapStop:!0,scrollSnapType:!0,scrollMargin:z.spaceT("scrollMargin"),scrollMarginTop:z.spaceT("scrollMarginTop"),scrollMarginBottom:z.spaceT("scrollMarginBottom"),scrollMarginLeft:z.spaceT("scrollMarginLeft"),scrollMarginRight:z.spaceT("scrollMarginRight"),scrollMarginX:z.spaceT(["scrollMarginLeft","scrollMarginRight"]),scrollMarginY:z.spaceT(["scrollMarginTop","scrollMarginBottom"]),scrollPadding:z.spaceT("scrollPadding"),scrollPaddingTop:z.spaceT("scrollPaddingTop"),scrollPaddingBottom:z.spaceT("scrollPaddingBottom"),scrollPaddingLeft:z.spaceT("scrollPaddingLeft"),scrollPaddingRight:z.spaceT("scrollPaddingRight"),scrollPaddingX:z.spaceT(["scrollPaddingLeft","scrollPaddingRight"]),scrollPaddingY:z.spaceT(["scrollPaddingTop","scrollPaddingBottom"])};function vX(e){return mi(e)&&e.reference?e.reference:String(e)}var _C=(e,...t)=>t.map(vX).join(` ${e} `).replace(/calc/g,""),i9=(...e)=>`calc(${_C("+",...e)})`,o9=(...e)=>`calc(${_C("-",...e)})`,f3=(...e)=>`calc(${_C("*",...e)})`,s9=(...e)=>`calc(${_C("/",...e)})`,a9=e=>{const t=vX(e);return t!=null&&!Number.isNaN(parseFloat(t))?String(t).startsWith("-")?String(t).slice(1):`-${t}`:f3(t,-1)},wf=Object.assign(e=>({add:(...t)=>wf(i9(e,...t)),subtract:(...t)=>wf(o9(e,...t)),multiply:(...t)=>wf(f3(e,...t)),divide:(...t)=>wf(s9(e,...t)),negate:()=>wf(a9(e)),toString:()=>e.toString()}),{add:i9,subtract:o9,multiply:f3,divide:s9,negate:a9});function M0e(e,t="-"){return e.replace(/\s+/g,t)}function F0e(e){const t=M0e(e.toString());return O0e(R0e(t))}function R0e(e){return e.includes("\\.")?e:!Number.isInteger(parseFloat(e.toString()))?e.replace(".","\\."):e}function O0e(e){return e.replace(/[!-,/:-@[-^`{-~]/g,"\\$&")}function D0e(e,t=""){return[t,e].filter(Boolean).join("-")}function N0e(e,t){return`var(${e}${t?`, ${t}`:""})`}function L0e(e,t=""){return F0e(`--${D0e(e,t)}`)}function Ee(e,t,n){const r=L0e(e,n);return{variable:r,reference:N0e(r,t)}}function I0e(e,t){const n={};for(const r of t){if(Array.isArray(r)){const[i,o]=r;n[i]=Ee(`${e}-${i}`,o);continue}n[r]=Ee(`${e}-${r}`)}return n}function z0e(e){const t=e==null?0:e.length;return t?e[t-1]:void 0}function j0e(e){const t=parseFloat(e.toString()),n=e.toString().replace(String(t),"");return{unitless:!n,value:t,unit:n}}function d3(e){if(e==null)return e;const{unitless:t}=j0e(e);return t||typeof e=="number"?`${e}px`:e}var bX=(e,t)=>parseInt(e[1],10)>parseInt(t[1],10)?1:-1,G4=e=>Object.fromEntries(Object.entries(e).sort(bX));function l9(e){const t=G4(e);return Object.assign(Object.values(t),t)}function B0e(e){const t=Object.keys(G4(e));return new Set(t)}function u9(e){var t;if(!e)return e;e=(t=d3(e))!=null?t:e;const n=-.02;return typeof e=="number"?`${e+n}`:e.replace(/(\d+\.?\d*)/u,r=>`${parseFloat(r)+n}`)}function O0(e,t){const n=["@media screen"];return e&&n.push("and",`(min-width: ${d3(e)})`),t&&n.push("and",`(max-width: ${d3(t)})`),n.join(" ")}function U0e(e){var t;if(!e)return null;e.base=(t=e.base)!=null?t:"0px";const n=l9(e),r=Object.entries(e).sort(bX).map(([s,a],l,u)=>{var c;let[,f]=(c=u[l+1])!=null?c:[];return f=parseFloat(f)>0?u9(f):void 0,{_minW:u9(a),breakpoint:s,minW:a,maxW:f,maxWQuery:O0(null,f),minWQuery:O0(a),minMaxQuery:O0(a,f)}}),i=B0e(e),o=Array.from(i.values());return{keys:i,normalized:n,isResponsive(s){const a=Object.keys(s);return a.length>0&&a.every(l=>i.has(l))},asObject:G4(e),asArray:l9(e),details:r,get(s){return r.find(a=>a.breakpoint===s)},media:[null,...n.map(s=>O0(s)).slice(1)],toArrayValue(s){if(!mi(s))throw new Error("toArrayValue: value must be an object");const a=o.map(l=>{var u;return(u=s[l])!=null?u:null});for(;z0e(a)===null;)a.pop();return a},toObjectValue(s){if(!Array.isArray(s))throw new Error("toObjectValue: value must be an array");return s.reduce((a,l,u)=>{const c=o[u];return c!=null&&l!=null&&(a[c]=l),a},{})}}}var Vn={hover:(e,t)=>`${e}:hover ${t}, ${e}[data-hover] ${t}`,focus:(e,t)=>`${e}:focus ${t}, ${e}[data-focus] ${t}`,focusVisible:(e,t)=>`${e}:focus-visible ${t}`,focusWithin:(e,t)=>`${e}:focus-within ${t}`,active:(e,t)=>`${e}:active ${t}, ${e}[data-active] ${t}`,disabled:(e,t)=>`${e}:disabled ${t}, ${e}[data-disabled] ${t}`,invalid:(e,t)=>`${e}:invalid ${t}, ${e}[data-invalid] ${t}`,checked:(e,t)=>`${e}:checked ${t}, ${e}[data-checked] ${t}`,indeterminate:(e,t)=>`${e}:indeterminate ${t}, ${e}[aria-checked=mixed] ${t}, ${e}[data-indeterminate] ${t}`,readOnly:(e,t)=>`${e}:read-only ${t}, ${e}[readonly] ${t}, ${e}[data-read-only] ${t}`,expanded:(e,t)=>`${e}:read-only ${t}, ${e}[aria-expanded=true] ${t}, ${e}[data-expanded] ${t}`,placeholderShown:(e,t)=>`${e}:placeholder-shown ${t}`},su=e=>xX(t=>e(t,"&"),"[role=group]","[data-group]",".group"),Ka=e=>xX(t=>e(t,"~ &"),"[data-peer]",".peer"),xX=(e,...t)=>t.map(e).join(", "),$C={_hover:"&:hover, &[data-hover]",_active:"&:active, &[data-active]",_focus:"&:focus, &[data-focus]",_highlighted:"&[data-highlighted]",_focusWithin:"&:focus-within",_focusVisible:"&:focus-visible, &[data-focus-visible]",_disabled:"&:disabled, &[disabled], &[aria-disabled=true], &[data-disabled]",_readOnly:"&[aria-readonly=true], &[readonly], &[data-readonly]",_before:"&::before",_after:"&::after",_empty:"&:empty",_expanded:"&[aria-expanded=true], &[data-expanded]",_checked:"&[aria-checked=true], &[data-checked]",_grabbed:"&[aria-grabbed=true], &[data-grabbed]",_pressed:"&[aria-pressed=true], &[data-pressed]",_invalid:"&[aria-invalid=true], &[data-invalid]",_valid:"&[data-valid], &[data-state=valid]",_loading:"&[data-loading], &[aria-busy=true]",_selected:"&[aria-selected=true], &[data-selected]",_hidden:"&[hidden], &[data-hidden]",_autofill:"&:-webkit-autofill",_even:"&:nth-of-type(even)",_odd:"&:nth-of-type(odd)",_first:"&:first-of-type",_firstLetter:"&::first-letter",_last:"&:last-of-type",_notFirst:"&:not(:first-of-type)",_notLast:"&:not(:last-of-type)",_visited:"&:visited",_activeLink:"&[aria-current=page]",_activeStep:"&[aria-current=step]",_indeterminate:"&:indeterminate, &[aria-checked=mixed], &[data-indeterminate]",_groupHover:su(Vn.hover),_peerHover:Ka(Vn.hover),_groupFocus:su(Vn.focus),_peerFocus:Ka(Vn.focus),_groupFocusVisible:su(Vn.focusVisible),_peerFocusVisible:Ka(Vn.focusVisible),_groupActive:su(Vn.active),_peerActive:Ka(Vn.active),_groupDisabled:su(Vn.disabled),_peerDisabled:Ka(Vn.disabled),_groupInvalid:su(Vn.invalid),_peerInvalid:Ka(Vn.invalid),_groupChecked:su(Vn.checked),_peerChecked:Ka(Vn.checked),_groupFocusWithin:su(Vn.focusWithin),_peerFocusWithin:Ka(Vn.focusWithin),_peerPlaceholderShown:Ka(Vn.placeholderShown),_placeholder:"&::placeholder",_placeholderShown:"&:placeholder-shown",_fullScreen:"&:fullscreen",_selection:"&::selection",_rtl:"[dir=rtl] &, &[dir=rtl]",_ltr:"[dir=ltr] &, &[dir=ltr]",_mediaDark:"@media (prefers-color-scheme: dark)",_mediaReduceMotion:"@media (prefers-reduced-motion: reduce)",_dark:".chakra-ui-dark &:not([data-theme]),[data-theme=dark] &:not([data-theme]),&[data-theme=dark]",_light:".chakra-ui-light &:not([data-theme]),[data-theme=light] &:not([data-theme]),&[data-theme=light]",_horizontal:"&[data-orientation=horizontal]",_vertical:"&[data-orientation=vertical]"},wX=Object.keys($C);function c9(e,t){return Ee(String(e).replace(/\./g,"-"),void 0,t)}function V0e(e,t){let n={};const r={};for(const[i,o]of Object.entries(e)){const{isSemantic:s,value:a}=o,{variable:l,reference:u}=c9(i,t==null?void 0:t.cssVarPrefix);if(!s){if(i.startsWith("space")){const d=i.split("."),[h,...p]=d,g=`${h}.-${p.join(".")}`,m=wf.negate(a),y=wf.negate(u);r[g]={value:m,var:l,varRef:y}}n[l]=a,r[i]={value:a,var:l,varRef:u};continue}const c=d=>{const p=[String(i).split(".")[0],d].join(".");if(!e[p])return d;const{reference:m}=c9(p,t==null?void 0:t.cssVarPrefix);return m},f=mi(a)?a:{default:a};n=Co(n,Object.entries(f).reduce((d,[h,p])=>{var g,m;if(!p)return d;const y=c(`${p}`);if(h==="default")return d[l]=y,d;const v=(m=(g=$C)==null?void 0:g[h])!=null?m:h;return d[v]={[l]:y},d},{})),r[i]={value:u,var:l,varRef:u}}return{cssVars:n,cssMap:r}}function W0e(e,t=[]){const n=Object.assign({},e);for(const r of t)r in n&&delete n[r];return n}function H0e(e,t){const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}function q0e(e){return typeof e=="object"&&e!=null&&!Array.isArray(e)}function f9(e,t,n={}){const{stop:r,getKey:i}=n;function o(s,a=[]){var l;if(q0e(s)||Array.isArray(s)){const u={};for(const[c,f]of Object.entries(s)){const d=(l=i==null?void 0:i(c))!=null?l:c,h=[...a,d];if(r!=null&&r(s,h))return t(s,a);u[d]=o(f,h)}return u}return t(s,a)}return o(e)}var G0e=["colors","borders","borderWidths","borderStyles","fonts","fontSizes","fontWeights","gradients","letterSpacings","lineHeights","radii","space","shadows","sizes","zIndices","transition","blur","breakpoints"];function Y0e(e){return H0e(e,G0e)}function X0e(e){return e.semanticTokens}function K0e(e){const{__cssMap:t,__cssVars:n,__breakpoints:r,...i}=e;return i}var Q0e=e=>wX.includes(e)||e==="default";function J0e({tokens:e,semanticTokens:t}){const n={};return f9(e,(r,i)=>{r!=null&&(n[i.join(".")]={isSemantic:!1,value:r})}),f9(t,(r,i)=>{r!=null&&(n[i.join(".")]={isSemantic:!0,value:r})},{stop:r=>Object.keys(r).every(Q0e)}),n}function Z0e(e){var t;const n=K0e(e),r=Y0e(n),i=X0e(n),o=J0e({tokens:r,semanticTokens:i}),s=(t=n.config)==null?void 0:t.cssVarPrefix,{cssMap:a,cssVars:l}=V0e(o,{cssVarPrefix:s});return Object.assign(n,{__cssVars:{...{"--chakra-ring-inset":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-ring-offset-width":"0px","--chakra-ring-offset-color":"#fff","--chakra-ring-color":"rgba(66, 153, 225, 0.6)","--chakra-ring-offset-shadow":"0 0 #0000","--chakra-ring-shadow":"0 0 #0000","--chakra-space-x-reverse":"0","--chakra-space-y-reverse":"0"},...l},__cssMap:a,__breakpoints:U0e(n.breakpoints)}),n}var Y4=Co({},kw,rt,g0e,L2,ho,m0e,E0e,y0e,yX,C0e,Sy,c3,Pt,P0e,T0e,_0e,$0e,v0e,A0e),eye=Object.assign({},Pt,ho,L2,yX,Sy),tye=Object.keys(eye),nye=[...Object.keys(Y4),...wX],rye={...Y4,...$C},iye=e=>e in rye,oye=e=>t=>{if(!t.__breakpoints)return e;const{isResponsive:n,toArrayValue:r,media:i}=t.__breakpoints,o={};for(const s in e){let a=fa(e[s],t);if(a==null)continue;if(a=mi(a)&&n(a)?r(a):a,!Array.isArray(a)){o[s]=a;continue}const l=a.slice(0,i.length).length;for(let u=0;u<l;u+=1){const c=i==null?void 0:i[u];if(!c){o[s]=a[u];continue}o[c]=o[c]||{},a[u]!=null&&(o[c][s]=a[u])}}return o};function sye(e){const t=[];let n="",r=!1;for(let i=0;i<e.length;i++){const o=e[i];o==="("?(r=!0,n+=o):o===")"?(r=!1,n+=o):o===","&&!r?(t.push(n),n=""):n+=o}return n=n.trim(),n&&t.push(n),t}function aye(e){return/^var\(--.+\)$/.test(e)}var lye=(e,t)=>e.startsWith("--")&&typeof t=="string"&&!aye(t),uye=(e,t)=>{var n,r;if(t==null)return t;const i=l=>{var u,c;return(c=(u=e.__cssMap)==null?void 0:u[l])==null?void 0:c.varRef},o=l=>{var u;return(u=i(l))!=null?u:l},[s,a]=sye(t);return t=(r=(n=i(s))!=null?n:o(a))!=null?r:o(t),t};function cye(e){const{configs:t={},pseudos:n={},theme:r}=e,i=(o,s=!1)=>{var a,l,u;const c=fa(o,r),f=oye(c)(r);let d={};for(let h in f){const p=f[h];let g=fa(p,r);h in n&&(h=n[h]),lye(h,g)&&(g=uye(r,g));let m=t[h];if(m===!0&&(m={property:h}),mi(g)){d[h]=(a=d[h])!=null?a:{},d[h]=Co({},d[h],i(g,!0));continue}let y=(u=(l=m==null?void 0:m.transform)==null?void 0:l.call(m,g,r,c))!=null?u:g;y=m!=null&&m.processResult?i(y,!0):y;const v=fa(m==null?void 0:m.property,r);if(!s&&(m!=null&&m.static)){const b=fa(m.static,r);d=Co({},d,b)}if(v&&Array.isArray(v)){for(const b of v)d[b]=y;continue}if(v){v==="&"&&mi(y)?d=Co({},d,y):d[v]=y;continue}if(mi(y)){d=Co({},d,y);continue}d[h]=y}return d};return i}var SX=e=>t=>cye({theme:t,pseudos:$C,configs:Y4})(e);function At(e){return{definePartsStyle(t){return t},defineMultiStyleConfig(t){return{parts:e,...t}}}}function fye(e,t){if(Array.isArray(e))return e;if(mi(e))return t(e);if(e!=null)return[e]}function dye(e,t){for(let n=t+1;n<e.length;n++)if(e[n]!=null)return n;return-1}function hye(e){const t=e.__breakpoints;return function(r,i,o,s){var a,l;if(!t)return;const u={},c=fye(o,t.toArrayValue);if(!c)return u;const f=c.length,d=f===1,h=!!r.parts;for(let p=0;p<f;p++){const g=t.details[p],m=t.details[dye(c,p)],y=O0(g.minW,m==null?void 0:m._minW),v=fa((a=r[i])==null?void 0:a[c[p]],s);if(v){if(h){(l=r.parts)==null||l.forEach(b=>{Co(u,{[b]:d?v[b]:{[y]:v[b]}})});continue}if(!h){d?Co(u,v):u[y]=v;continue}u[y]=v}}return u}}function pye(e){return t=>{var n;const{variant:r,size:i,theme:o}=t,s=hye(o);return Co({},fa((n=e.baseStyle)!=null?n:{},t),s(e,"sizes",i,t),s(e,"variants",r,t))}}function ir(e){return W0e(e,["styleConfig","size","variant","colorScheme"])}var gye=["borders","breakpoints","colors","components","config","direction","fonts","fontSizes","fontWeights","letterSpacings","lineHeights","radii","shadows","sizes","space","styles","transition","zIndices"];function mye(e){return mi(e)?gye.every(t=>Object.prototype.hasOwnProperty.call(e,t)):!1}var yye={common:"background-color, border-color, color, fill, stroke, opacity, box-shadow, transform",colors:"background-color, border-color, color, fill, stroke",dimensions:"width, height",position:"left, right, top, bottom",background:"background-color, background-image, background-position"},vye={"ease-in":"cubic-bezier(0.4, 0, 1, 1)","ease-out":"cubic-bezier(0, 0, 0.2, 1)","ease-in-out":"cubic-bezier(0.4, 0, 0.2, 1)"},bye={"ultra-fast":"50ms",faster:"100ms",fast:"150ms",normal:"200ms",slow:"300ms",slower:"400ms","ultra-slow":"500ms"},xye={property:yye,easing:vye,duration:bye},wye=xye,Sye={hide:-1,auto:"auto",base:0,docked:10,dropdown:1e3,sticky:1100,banner:1200,overlay:1300,modal:1400,popover:1500,skipLink:1600,toast:1700,tooltip:1800},kye=Sye,Cye={none:0,"1px":"1px solid","2px":"2px solid","4px":"4px solid","8px":"8px solid"},Eye=Cye,_ye={base:"0em",sm:"30em",md:"48em",lg:"62em",xl:"80em","2xl":"96em"},$ye=_ye,Aye={transparent:"transparent",current:"currentColor",black:"#000000",white:"#FFFFFF",whiteAlpha:{50:"rgba(255, 255, 255, 0.04)",100:"rgba(255, 255, 255, 0.06)",200:"rgba(255, 255, 255, 0.08)",300:"rgba(255, 255, 255, 0.16)",400:"rgba(255, 255, 255, 0.24)",500:"rgba(255, 255, 255, 0.36)",600:"rgba(255, 255, 255, 0.48)",700:"rgba(255, 255, 255, 0.64)",800:"rgba(255, 255, 255, 0.80)",900:"rgba(255, 255, 255, 0.92)"},blackAlpha:{50:"rgba(0, 0, 0, 0.04)",100:"rgba(0, 0, 0, 0.06)",200:"rgba(0, 0, 0, 0.08)",300:"rgba(0, 0, 0, 0.16)",400:"rgba(0, 0, 0, 0.24)",500:"rgba(0, 0, 0, 0.36)",600:"rgba(0, 0, 0, 0.48)",700:"rgba(0, 0, 0, 0.64)",800:"rgba(0, 0, 0, 0.80)",900:"rgba(0, 0, 0, 0.92)"},gray:{50:"#F7FAFC",100:"#EDF2F7",200:"#E2E8F0",300:"#CBD5E0",400:"#A0AEC0",500:"#718096",600:"#4A5568",700:"#2D3748",800:"#1A202C",900:"#171923"},red:{50:"#FFF5F5",100:"#FED7D7",200:"#FEB2B2",300:"#FC8181",400:"#F56565",500:"#E53E3E",600:"#C53030",700:"#9B2C2C",800:"#822727",900:"#63171B"},orange:{50:"#FFFAF0",100:"#FEEBC8",200:"#FBD38D",300:"#F6AD55",400:"#ED8936",500:"#DD6B20",600:"#C05621",700:"#9C4221",800:"#7B341E",900:"#652B19"},yellow:{50:"#FFFFF0",100:"#FEFCBF",200:"#FAF089",300:"#F6E05E",400:"#ECC94B",500:"#D69E2E",600:"#B7791F",700:"#975A16",800:"#744210",900:"#5F370E"},green:{50:"#F0FFF4",100:"#C6F6D5",200:"#9AE6B4",300:"#68D391",400:"#48BB78",500:"#38A169",600:"#2F855A",700:"#276749",800:"#22543D",900:"#1C4532"},teal:{50:"#E6FFFA",100:"#B2F5EA",200:"#81E6D9",300:"#4FD1C5",400:"#38B2AC",500:"#319795",600:"#2C7A7B",700:"#285E61",800:"#234E52",900:"#1D4044"},blue:{50:"#ebf8ff",100:"#bee3f8",200:"#90cdf4",300:"#63b3ed",400:"#4299e1",500:"#3182ce",600:"#2b6cb0",700:"#2c5282",800:"#2a4365",900:"#1A365D"},cyan:{50:"#EDFDFD",100:"#C4F1F9",200:"#9DECF9",300:"#76E4F7",400:"#0BC5EA",500:"#00B5D8",600:"#00A3C4",700:"#0987A0",800:"#086F83",900:"#065666"},purple:{50:"#FAF5FF",100:"#E9D8FD",200:"#D6BCFA",300:"#B794F4",400:"#9F7AEA",500:"#805AD5",600:"#6B46C1",700:"#553C9A",800:"#44337A",900:"#322659"},pink:{50:"#FFF5F7",100:"#FED7E2",200:"#FBB6CE",300:"#F687B3",400:"#ED64A6",500:"#D53F8C",600:"#B83280",700:"#97266D",800:"#702459",900:"#521B41"},linkedin:{50:"#E8F4F9",100:"#CFEDFB",200:"#9BDAF3",300:"#68C7EC",400:"#34B3E4",500:"#00A0DC",600:"#008CC9",700:"#0077B5",800:"#005E93",900:"#004471"},facebook:{50:"#E8F4F9",100:"#D9DEE9",200:"#B7C2DA",300:"#6482C0",400:"#4267B2",500:"#385898",600:"#314E89",700:"#29487D",800:"#223B67",900:"#1E355B"},messenger:{50:"#D0E6FF",100:"#B9DAFF",200:"#A2CDFF",300:"#7AB8FF",400:"#2E90FF",500:"#0078FF",600:"#0063D1",700:"#0052AC",800:"#003C7E",900:"#002C5C"},whatsapp:{50:"#dffeec",100:"#b9f5d0",200:"#90edb3",300:"#65e495",400:"#3cdd78",500:"#22c35e",600:"#179848",700:"#0c6c33",800:"#01421c",900:"#001803"},twitter:{50:"#E5F4FD",100:"#C8E9FB",200:"#A8DCFA",300:"#83CDF7",400:"#57BBF5",500:"#1DA1F2",600:"#1A94DA",700:"#1681BF",800:"#136B9E",900:"#0D4D71"},telegram:{50:"#E3F2F9",100:"#C5E4F3",200:"#A2D4EC",300:"#7AC1E4",400:"#47A9DA",500:"#0088CC",600:"#007AB8",700:"#006BA1",800:"#005885",900:"#003F5E"}},Tye=Aye,Pye={none:"0",sm:"0.125rem",base:"0.25rem",md:"0.375rem",lg:"0.5rem",xl:"0.75rem","2xl":"1rem","3xl":"1.5rem",full:"9999px"},Mye=Pye,Fye={xs:"0 0 0 1px rgba(0, 0, 0, 0.05)",sm:"0 1px 2px 0 rgba(0, 0, 0, 0.05)",base:"0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06)",md:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",lg:"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)",xl:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)","2xl":"0 25px 50px -12px rgba(0, 0, 0, 0.25)",outline:"0 0 0 3px rgba(66, 153, 225, 0.6)",inner:"inset 0 2px 4px 0 rgba(0,0,0,0.06)",none:"none","dark-lg":"rgba(0, 0, 0, 0.1) 0px 0px 0px 1px, rgba(0, 0, 0, 0.2) 0px 5px 10px, rgba(0, 0, 0, 0.4) 0px 15px 40px"},Rye=Fye,Oye={none:0,sm:"4px",base:"8px",md:"12px",lg:"16px",xl:"24px","2xl":"40px","3xl":"64px"},Dye=Oye,Nye={letterSpacings:{tighter:"-0.05em",tight:"-0.025em",normal:"0",wide:"0.025em",wider:"0.05em",widest:"0.1em"},lineHeights:{normal:"normal",none:1,shorter:1.25,short:1.375,base:1.5,tall:1.625,taller:"2",3:".75rem",4:"1rem",5:"1.25rem",6:"1.5rem",7:"1.75rem",8:"2rem",9:"2.25rem",10:"2.5rem"},fontWeights:{hairline:100,thin:200,light:300,normal:400,medium:500,semibold:600,bold:700,extrabold:800,black:900},fonts:{heading:'-apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',body:'-apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',mono:'SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace'},fontSizes:{"3xs":"0.45rem","2xs":"0.625rem",xs:"0.75rem",sm:"0.875rem",md:"1rem",lg:"1.125rem",xl:"1.25rem","2xl":"1.5rem","3xl":"1.875rem","4xl":"2.25rem","5xl":"3rem","6xl":"3.75rem","7xl":"4.5rem","8xl":"6rem","9xl":"8rem"}},kX=Nye,CX={px:"1px",.5:"0.125rem",1:"0.25rem",1.5:"0.375rem",2:"0.5rem",2.5:"0.625rem",3:"0.75rem",3.5:"0.875rem",4:"1rem",5:"1.25rem",6:"1.5rem",7:"1.75rem",8:"2rem",9:"2.25rem",10:"2.5rem",12:"3rem",14:"3.5rem",16:"4rem",20:"5rem",24:"6rem",28:"7rem",32:"8rem",36:"9rem",40:"10rem",44:"11rem",48:"12rem",52:"13rem",56:"14rem",60:"15rem",64:"16rem",72:"18rem",80:"20rem",96:"24rem"},Lye={max:"max-content",min:"min-content",full:"100%","3xs":"14rem","2xs":"16rem",xs:"20rem",sm:"24rem",md:"28rem",lg:"32rem",xl:"36rem","2xl":"42rem","3xl":"48rem","4xl":"56rem","5xl":"64rem","6xl":"72rem","7xl":"80rem","8xl":"90rem",prose:"60ch"},Iye={sm:"640px",md:"768px",lg:"1024px",xl:"1280px"},zye={...CX,...Lye,container:Iye},EX=zye,jye={breakpoints:$ye,zIndices:kye,radii:Mye,blur:Dye,colors:Tye,...kX,sizes:EX,shadows:Rye,space:CX,borders:Eye,transition:wye},{defineMultiStyleConfig:Bye,definePartsStyle:D0}=At(["stepper","step","title","description","indicator","separator","icon","number"]),al=Ee("stepper-indicator-size"),ep=Ee("stepper-icon-size"),tp=Ee("stepper-title-font-size"),N0=Ee("stepper-description-font-size"),Gm=Ee("stepper-accent-color"),Uye=D0(({colorScheme:e})=>({stepper:{display:"flex",justifyContent:"space-between",gap:"4","&[data-orientation=vertical]":{flexDirection:"column",alignItems:"flex-start"},"&[data-orientation=horizontal]":{flexDirection:"row",alignItems:"center"},[Gm.variable]:`colors.${e}.500`,_dark:{[Gm.variable]:`colors.${e}.200`}},title:{fontSize:tp.reference,fontWeight:"medium"},description:{fontSize:N0.reference,color:"chakra-subtle-text"},number:{fontSize:tp.reference},step:{flexShrink:0,position:"relative",display:"flex",gap:"2","&[data-orientation=horizontal]":{alignItems:"center"},flex:"1","&:last-of-type:not([data-stretch])":{flex:"initial"}},icon:{flexShrink:0,width:ep.reference,height:ep.reference},indicator:{flexShrink:0,borderRadius:"full",width:al.reference,height:al.reference,display:"flex",justifyContent:"center",alignItems:"center","&[data-status=active]":{borderWidth:"2px",borderColor:Gm.reference},"&[data-status=complete]":{bg:Gm.reference,color:"chakra-inverse-text"},"&[data-status=incomplete]":{borderWidth:"2px"}},separator:{bg:"chakra-border-color",flex:"1","&[data-status=complete]":{bg:Gm.reference},"&[data-orientation=horizontal]":{width:"100%",height:"2px",marginStart:"2"},"&[data-orientation=vertical]":{width:"2px",position:"absolute",height:"100%",maxHeight:`calc(100% - ${al.reference} - 8px)`,top:`calc(${al.reference} + 4px)`,insetStart:`calc(${al.reference} / 2 - 1px)`}}})),Vye=Bye({baseStyle:Uye,sizes:{xs:D0({stepper:{[al.variable]:"sizes.4",[ep.variable]:"sizes.3",[tp.variable]:"fontSizes.xs",[N0.variable]:"fontSizes.xs"}}),sm:D0({stepper:{[al.variable]:"sizes.6",[ep.variable]:"sizes.4",[tp.variable]:"fontSizes.sm",[N0.variable]:"fontSizes.xs"}}),md:D0({stepper:{[al.variable]:"sizes.8",[ep.variable]:"sizes.5",[tp.variable]:"fontSizes.md",[N0.variable]:"fontSizes.sm"}}),lg:D0({stepper:{[al.variable]:"sizes.10",[ep.variable]:"sizes.6",[tp.variable]:"fontSizes.lg",[N0.variable]:"fontSizes.md"}})},defaultProps:{size:"md",colorScheme:"blue"}});function lt(e,t={}){let n=!1;function r(){if(!n){n=!0;return}throw new Error("[anatomy] .part(...) should only be called once. Did you mean to use .extend(...) ?")}function i(...c){r();for(const f of c)t[f]=l(f);return lt(e,t)}function o(...c){for(const f of c)f in t||(t[f]=l(f));return lt(e,t)}function s(){return Object.fromEntries(Object.entries(t).map(([f,d])=>[f,d.selector]))}function a(){return Object.fromEntries(Object.entries(t).map(([f,d])=>[f,d.className]))}function l(c){const h=`chakra-${(["container","root"].includes(c??"")?[e]:[e,c]).filter(Boolean).join("__")}`;return{className:h,selector:`.${h}`,toString:()=>c}}return{parts:i,toPart:l,extend:o,selectors:s,classnames:a,get keys(){return Object.keys(t)},__type:{}}}var Wye=lt("accordion").parts("root","container","button","panel").extend("icon"),Hye=lt("alert").parts("title","description","container").extend("icon","spinner"),qye=lt("avatar").parts("label","badge","container").extend("excessLabel","group"),Gye=lt("breadcrumb").parts("link","item","container").extend("separator");lt("button").parts();var Yye=lt("checkbox").parts("control","icon","container").extend("label");lt("progress").parts("track","filledTrack").extend("label");var Xye=lt("drawer").parts("overlay","dialogContainer","dialog").extend("header","closeButton","body","footer"),Kye=lt("editable").parts("preview","input","textarea"),Qye=lt("form").parts("container","requiredIndicator","helperText"),Jye=lt("formError").parts("text","icon"),Zye=lt("input").parts("addon","field","element","group"),e1e=lt("list").parts("container","item","icon"),t1e=lt("menu").parts("button","list","item").extend("groupTitle","icon","command","divider"),n1e=lt("modal").parts("overlay","dialogContainer","dialog").extend("header","closeButton","body","footer"),r1e=lt("numberinput").parts("root","field","stepperGroup","stepper");lt("pininput").parts("field");var i1e=lt("popover").parts("content","header","body","footer").extend("popper","arrow","closeButton"),o1e=lt("progress").parts("label","filledTrack","track"),s1e=lt("radio").parts("container","control","label"),a1e=lt("select").parts("field","icon"),l1e=lt("slider").parts("container","track","thumb","filledTrack","mark"),u1e=lt("stat").parts("container","label","helpText","number","icon"),c1e=lt("switch").parts("container","track","thumb","label"),f1e=lt("table").parts("table","thead","tbody","tr","th","td","tfoot","caption"),d1e=lt("tabs").parts("root","tab","tablist","tabpanel","tabpanels","indicator"),h1e=lt("tag").parts("container","label","closeButton"),p1e=lt("card").parts("container","header","body","footer");lt("stepper").parts("stepper","step","title","description","indicator","separator","icon","number");function Rf(e,t,n){return Math.min(Math.max(e,n),t)}class g1e extends Error{constructor(t){super(`Failed to parse color: "${t}"`)}}var L0=g1e;function X4(e){if(typeof e!="string")throw new L0(e);if(e.trim().toLowerCase()==="transparent")return[0,0,0,0];let t=e.trim();t=k1e.test(e)?v1e(e):e;const n=b1e.exec(t);if(n){const s=Array.from(n).slice(1);return[...s.slice(0,3).map(a=>parseInt(v1(a,2),16)),parseInt(v1(s[3]||"f",2),16)/255]}const r=x1e.exec(t);if(r){const s=Array.from(r).slice(1);return[...s.slice(0,3).map(a=>parseInt(a,16)),parseInt(s[3]||"ff",16)/255]}const i=w1e.exec(t);if(i){const s=Array.from(i).slice(1);return[...s.slice(0,3).map(a=>parseInt(a,10)),parseFloat(s[3]||"1")]}const o=S1e.exec(t);if(o){const[s,a,l,u]=Array.from(o).slice(1).map(parseFloat);if(Rf(0,100,a)!==a)throw new L0(e);if(Rf(0,100,l)!==l)throw new L0(e);return[...C1e(s,a,l),Number.isNaN(u)?1:u]}throw new L0(e)}function m1e(e){let t=5381,n=e.length;for(;n;)t=t*33^e.charCodeAt(--n);return(t>>>0)%2341}const d9=e=>parseInt(e.replace(/_/g,""),36),y1e="1q29ehhb 1n09sgk7 1kl1ekf_ _yl4zsno 16z9eiv3 1p29lhp8 _bd9zg04 17u0____ _iw9zhe5 _to73___ _r45e31e _7l6g016 _jh8ouiv _zn3qba8 1jy4zshs 11u87k0u 1ro9yvyo 1aj3xael 1gz9zjz0 _3w8l4xo 1bf1ekf_ _ke3v___ _4rrkb__ 13j776yz _646mbhl _nrjr4__ _le6mbhl 1n37ehkb _m75f91n _qj3bzfz 1939yygw 11i5z6x8 _1k5f8xs 1509441m 15t5lwgf _ae2th1n _tg1ugcv 1lp1ugcv 16e14up_ _h55rw7n _ny9yavn _7a11xb_ 1ih442g9 _pv442g9 1mv16xof 14e6y7tu 1oo9zkds 17d1cisi _4v9y70f _y98m8kc 1019pq0v 12o9zda8 _348j4f4 1et50i2o _8epa8__ _ts6senj 1o350i2o 1mi9eiuo 1259yrp0 1ln80gnw _632xcoy 1cn9zldc _f29edu4 1n490c8q _9f9ziet 1b94vk74 _m49zkct 1kz6s73a 1eu9dtog _q58s1rz 1dy9sjiq __u89jo3 _aj5nkwg _ld89jo3 13h9z6wx _qa9z2ii _l119xgq _bs5arju 1hj4nwk9 1qt4nwk9 1ge6wau6 14j9zlcw 11p1edc_ _ms1zcxe _439shk6 _jt9y70f _754zsow 1la40eju _oq5p___ _x279qkz 1fa5r3rv _yd2d9ip _424tcku _8y1di2_ _zi2uabw _yy7rn9h 12yz980_ __39ljp6 1b59zg0x _n39zfzp 1fy9zest _b33k___ _hp9wq92 1il50hz4 _io472ub _lj9z3eo 19z9ykg0 _8t8iu3a 12b9bl4a 1ak5yw0o _896v4ku _tb8k8lv _s59zi6t _c09ze0p 1lg80oqn 1id9z8wb _238nba5 1kq6wgdi _154zssg _tn3zk49 _da9y6tc 1sg7cv4f _r12jvtt 1gq5fmkz 1cs9rvci _lp9jn1c _xw1tdnb 13f9zje6 16f6973h _vo7ir40 _bt5arjf _rc45e4t _hr4e100 10v4e100 _hc9zke2 _w91egv_ _sj2r1kk 13c87yx8 _vqpds__ _ni8ggk8 _tj9yqfb 1ia2j4r4 _7x9b10u 1fc9ld4j 1eq9zldr _5j9lhpx _ez9zl6o _md61fzm".split(" ").reduce((e,t)=>{const n=d9(t.substring(0,3)),r=d9(t.substring(3)).toString(16);let i="";for(let o=0;o<6-r.length;o++)i+="0";return e[n]=`${i}${r}`,e},{});function v1e(e){const t=e.toLowerCase().trim(),n=y1e[m1e(t)];if(!n)throw new L0(e);return`#${n}`}const v1=(e,t)=>Array.from(Array(t)).map(()=>e).join(""),b1e=new RegExp(`^#${v1("([a-f0-9])",3)}([a-f0-9])?$`,"i"),x1e=new RegExp(`^#${v1("([a-f0-9]{2})",3)}([a-f0-9]{2})?$`,"i"),w1e=new RegExp(`^rgba?\\(\\s*(\\d+)\\s*${v1(",\\s*(\\d+)\\s*",2)}(?:,\\s*([\\d.]+))?\\s*\\)$`,"i"),S1e=/^hsla?\(\s*([\d.]+)\s*,\s*([\d.]+)%\s*,\s*([\d.]+)%(?:\s*,\s*([\d.]+))?\s*\)$/i,k1e=/^[a-z]+$/i,h9=e=>Math.round(e*255),C1e=(e,t,n)=>{let r=n/100;if(t===0)return[r,r,r].map(h9);const i=(e%360+360)%360/60,o=(1-Math.abs(2*r-1))*(t/100),s=o*(1-Math.abs(i%2-1));let a=0,l=0,u=0;i>=0&&i<1?(a=o,l=s):i>=1&&i<2?(a=s,l=o):i>=2&&i<3?(l=o,u=s):i>=3&&i<4?(l=s,u=o):i>=4&&i<5?(a=s,u=o):i>=5&&i<6&&(a=o,u=s);const c=r-o/2,f=a+c,d=l+c,h=u+c;return[f,d,h].map(h9)};function E1e(e,t,n,r){return`rgba(${Rf(0,255,e).toFixed()}, ${Rf(0,255,t).toFixed()}, ${Rf(0,255,n).toFixed()}, ${parseFloat(Rf(0,1,r).toFixed(3))})`}function _1e(e,t){const[n,r,i,o]=X4(e);return E1e(n,r,i,o-t)}function $1e(e){const[t,n,r,i]=X4(e);let o=s=>{const a=Rf(0,255,s).toString(16);return a.length===1?`0${a}`:a};return`#${o(t)}${o(n)}${o(r)}${i<1?o(Math.round(i*255)):""}`}function A1e(e,t,n,r,i){for(t=t.split?t.split("."):t,r=0;r<t.length;r++)e=e?e[t[r]]:i;return e===i?n:e}var T1e=e=>Object.keys(e).length===0,Wr=(e,t,n)=>{const r=A1e(e,`colors.${t}`,t);try{return $1e(r),r}catch{return n??"#000000"}},P1e=e=>{const[t,n,r]=X4(e);return(t*299+n*587+r*114)/1e3},M1e=e=>t=>{const n=Wr(t,e);return P1e(n)<128?"dark":"light"},F1e=e=>t=>M1e(e)(t)==="dark",ag=(e,t)=>n=>{const r=Wr(n,e);return _1e(r,1-t)};function p9(e="1rem",t="rgba(255, 255, 255, 0.15)"){return{backgroundImage:`linear-gradient(
    45deg,
    ${t} 25%,
    transparent 25%,
    transparent 50%,
    ${t} 50%,
    ${t} 75%,
    transparent 75%,
    transparent
  )`,backgroundSize:`${e} ${e}`}}var R1e=()=>`#${Math.floor(Math.random()*16777215).toString(16).padEnd(6,"0")}`;function O1e(e){const t=R1e();return!e||T1e(e)?t:e.string&&e.colors?N1e(e.string,e.colors):e.string&&!e.colors?D1e(e.string):e.colors&&!e.string?L1e(e.colors):t}function D1e(e){let t=0;if(e.length===0)return t.toString();for(let r=0;r<e.length;r+=1)t=e.charCodeAt(r)+((t<<5)-t),t=t&t;let n="#";for(let r=0;r<3;r+=1){const i=t>>r*8&255;n+=`00${i.toString(16)}`.substr(-2)}return n}function N1e(e,t){let n=0;if(e.length===0)return t[0];for(let r=0;r<e.length;r+=1)n=e.charCodeAt(r)+((n<<5)-n),n=n&n;return n=(n%t.length+t.length)%t.length,t[n]}function L1e(e){return e[Math.floor(Math.random()*e.length)]}function Ce(e,t){return n=>n.colorMode==="dark"?t:e}function K4(e){const{orientation:t,vertical:n,horizontal:r}=e;return t?t==="vertical"?n:r:{}}function _X(e){return mi(e)&&e.reference?e.reference:String(e)}var AC=(e,...t)=>t.map(_X).join(` ${e} `).replace(/calc/g,""),g9=(...e)=>`calc(${AC("+",...e)})`,m9=(...e)=>`calc(${AC("-",...e)})`,h3=(...e)=>`calc(${AC("*",...e)})`,y9=(...e)=>`calc(${AC("/",...e)})`,v9=e=>{const t=_X(e);return t!=null&&!Number.isNaN(parseFloat(t))?String(t).startsWith("-")?String(t).slice(1):`-${t}`:h3(t,-1)},ll=Object.assign(e=>({add:(...t)=>ll(g9(e,...t)),subtract:(...t)=>ll(m9(e,...t)),multiply:(...t)=>ll(h3(e,...t)),divide:(...t)=>ll(y9(e,...t)),negate:()=>ll(v9(e)),toString:()=>e.toString()}),{add:g9,subtract:m9,multiply:h3,divide:y9,negate:v9});function I1e(e){return!Number.isInteger(parseFloat(e.toString()))}function z1e(e,t="-"){return e.replace(/\s+/g,t)}function $X(e){const t=z1e(e.toString());return t.includes("\\.")?e:I1e(e)?t.replace(".","\\."):e}function j1e(e,t=""){return[t,$X(e)].filter(Boolean).join("-")}function B1e(e,t){return`var(${$X(e)}${t?`, ${t}`:""})`}function U1e(e,t=""){return`--${j1e(e,t)}`}function Cn(e,t){const n=U1e(e,void 0);return{variable:n,reference:B1e(n,V1e(void 0))}}function V1e(e){return typeof e=="string"?e:e==null?void 0:e.reference}var{defineMultiStyleConfig:W1e,definePartsStyle:Cw}=At(c1e.keys),ky=Cn("switch-track-width"),Yf=Cn("switch-track-height"),V$=Cn("switch-track-diff"),H1e=ll.subtract(ky,Yf),p3=Cn("switch-thumb-x"),Ym=Cn("switch-bg"),q1e=e=>{const{colorScheme:t}=e;return{borderRadius:"full",p:"0.5",width:[ky.reference],height:[Yf.reference],transitionProperty:"common",transitionDuration:"fast",[Ym.variable]:"colors.gray.300",_dark:{[Ym.variable]:"colors.whiteAlpha.400"},_focusVisible:{boxShadow:"outline"},_disabled:{opacity:.4,cursor:"not-allowed"},_checked:{[Ym.variable]:`colors.${t}.500`,_dark:{[Ym.variable]:`colors.${t}.200`}},bg:Ym.reference}},G1e={bg:"white",transitionProperty:"transform",transitionDuration:"normal",borderRadius:"inherit",width:[Yf.reference],height:[Yf.reference],_checked:{transform:`translateX(${p3.reference})`}},Y1e=Cw(e=>({container:{[V$.variable]:H1e,[p3.variable]:V$.reference,_rtl:{[p3.variable]:ll(V$).negate().toString()}},track:q1e(e),thumb:G1e})),X1e={sm:Cw({container:{[ky.variable]:"1.375rem",[Yf.variable]:"sizes.3"}}),md:Cw({container:{[ky.variable]:"1.875rem",[Yf.variable]:"sizes.4"}}),lg:Cw({container:{[ky.variable]:"2.875rem",[Yf.variable]:"sizes.6"}})},K1e=W1e({baseStyle:Y1e,sizes:X1e,defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:Q1e,definePartsStyle:Cp}=At(f1e.keys),J1e=Cp({table:{fontVariantNumeric:"lining-nums tabular-nums",borderCollapse:"collapse",width:"full"},th:{fontFamily:"heading",fontWeight:"bold",textTransform:"uppercase",letterSpacing:"wider",textAlign:"start"},td:{textAlign:"start"},caption:{mt:4,fontFamily:"heading",textAlign:"center",fontWeight:"medium"}}),I2={"&[data-is-numeric=true]":{textAlign:"end"}},Z1e=Cp(e=>{const{colorScheme:t}=e;return{th:{color:Ce("gray.600","gray.400")(e),borderBottom:"1px",borderColor:Ce(`${t}.100`,`${t}.700`)(e),...I2},td:{borderBottom:"1px",borderColor:Ce(`${t}.100`,`${t}.700`)(e),...I2},caption:{color:Ce("gray.600","gray.100")(e)},tfoot:{tr:{"&:last-of-type":{th:{borderBottomWidth:0}}}}}}),eve=Cp(e=>{const{colorScheme:t}=e;return{th:{color:Ce("gray.600","gray.400")(e),borderBottom:"1px",borderColor:Ce(`${t}.100`,`${t}.700`)(e),...I2},td:{borderBottom:"1px",borderColor:Ce(`${t}.100`,`${t}.700`)(e),...I2},caption:{color:Ce("gray.600","gray.100")(e)},tbody:{tr:{"&:nth-of-type(odd)":{"th, td":{borderBottomWidth:"1px",borderColor:Ce(`${t}.100`,`${t}.700`)(e)},td:{background:Ce(`${t}.100`,`${t}.700`)(e)}}}},tfoot:{tr:{"&:last-of-type":{th:{borderBottomWidth:0}}}}}}),tve={simple:Z1e,striped:eve,unstyled:{}},nve={sm:Cp({th:{px:"4",py:"1",lineHeight:"4",fontSize:"xs"},td:{px:"4",py:"2",fontSize:"sm",lineHeight:"4"},caption:{px:"4",py:"2",fontSize:"xs"}}),md:Cp({th:{px:"6",py:"3",lineHeight:"4",fontSize:"xs"},td:{px:"6",py:"4",lineHeight:"5"},caption:{px:"6",py:"2",fontSize:"sm"}}),lg:Cp({th:{px:"8",py:"4",lineHeight:"5",fontSize:"sm"},td:{px:"8",py:"5",lineHeight:"6"},caption:{px:"6",py:"2",fontSize:"md"}})},rve=Q1e({baseStyle:J1e,variants:tve,sizes:nve,defaultProps:{variant:"simple",size:"md",colorScheme:"gray"}}),ui=Ee("tabs-color"),ls=Ee("tabs-bg"),tx=Ee("tabs-border-color"),{defineMultiStyleConfig:ive,definePartsStyle:ba}=At(d1e.keys),ove=e=>{const{orientation:t}=e;return{display:t==="vertical"?"flex":"block"}},sve=e=>{const{isFitted:t}=e;return{flex:t?1:void 0,transitionProperty:"common",transitionDuration:"normal",_focusVisible:{zIndex:1,boxShadow:"outline"},_disabled:{cursor:"not-allowed",opacity:.4}}},ave=e=>{const{align:t="start",orientation:n}=e;return{justifyContent:{end:"flex-end",center:"center",start:"flex-start"}[t],flexDirection:n==="vertical"?"column":"row"}},lve={p:4},uve=ba(e=>({root:ove(e),tab:sve(e),tablist:ave(e),tabpanel:lve})),cve={sm:ba({tab:{py:1,px:4,fontSize:"sm"}}),md:ba({tab:{fontSize:"md",py:2,px:4}}),lg:ba({tab:{fontSize:"lg",py:3,px:4}})},fve=ba(e=>{const{colorScheme:t,orientation:n}=e,r=n==="vertical",i=r?"borderStart":"borderBottom",o=r?"marginStart":"marginBottom";return{tablist:{[i]:"2px solid",borderColor:"inherit"},tab:{[i]:"2px solid",borderColor:"transparent",[o]:"-2px",_selected:{[ui.variable]:`colors.${t}.600`,_dark:{[ui.variable]:`colors.${t}.300`},borderColor:"currentColor"},_active:{[ls.variable]:"colors.gray.200",_dark:{[ls.variable]:"colors.whiteAlpha.300"}},_disabled:{_active:{bg:"none"}},color:ui.reference,bg:ls.reference}}}),dve=ba(e=>{const{colorScheme:t}=e;return{tab:{borderTopRadius:"md",border:"1px solid",borderColor:"transparent",mb:"-1px",[tx.variable]:"transparent",_selected:{[ui.variable]:`colors.${t}.600`,[tx.variable]:"colors.white",_dark:{[ui.variable]:`colors.${t}.300`,[tx.variable]:"colors.gray.800"},borderColor:"inherit",borderBottomColor:tx.reference},color:ui.reference},tablist:{mb:"-1px",borderBottom:"1px solid",borderColor:"inherit"}}}),hve=ba(e=>{const{colorScheme:t}=e;return{tab:{border:"1px solid",borderColor:"inherit",[ls.variable]:"colors.gray.50",_dark:{[ls.variable]:"colors.whiteAlpha.50"},mb:"-1px",_notLast:{marginEnd:"-1px"},_selected:{[ls.variable]:"colors.white",[ui.variable]:`colors.${t}.600`,_dark:{[ls.variable]:"colors.gray.800",[ui.variable]:`colors.${t}.300`},borderColor:"inherit",borderTopColor:"currentColor",borderBottomColor:"transparent"},color:ui.reference,bg:ls.reference},tablist:{mb:"-1px",borderBottom:"1px solid",borderColor:"inherit"}}}),pve=ba(e=>{const{colorScheme:t,theme:n}=e;return{tab:{borderRadius:"full",fontWeight:"semibold",color:"gray.600",_selected:{color:Wr(n,`${t}.700`),bg:Wr(n,`${t}.100`)}}}}),gve=ba(e=>{const{colorScheme:t}=e;return{tab:{borderRadius:"full",fontWeight:"semibold",[ui.variable]:"colors.gray.600",_dark:{[ui.variable]:"inherit"},_selected:{[ui.variable]:"colors.white",[ls.variable]:`colors.${t}.600`,_dark:{[ui.variable]:"colors.gray.800",[ls.variable]:`colors.${t}.300`}},color:ui.reference,bg:ls.reference}}}),mve=ba({}),yve={line:fve,enclosed:dve,"enclosed-colored":hve,"soft-rounded":pve,"solid-rounded":gve,unstyled:mve},vve=ive({baseStyle:uve,sizes:cve,variants:yve,defaultProps:{size:"md",variant:"line",colorScheme:"blue"}}),sn=I0e("badge",["bg","color","shadow"]),bve={px:1,textTransform:"uppercase",fontSize:"xs",borderRadius:"sm",fontWeight:"bold",bg:sn.bg.reference,color:sn.color.reference,boxShadow:sn.shadow.reference},xve=e=>{const{colorScheme:t,theme:n}=e,r=ag(`${t}.500`,.6)(n);return{[sn.bg.variable]:`colors.${t}.500`,[sn.color.variable]:"colors.white",_dark:{[sn.bg.variable]:r,[sn.color.variable]:"colors.whiteAlpha.800"}}},wve=e=>{const{colorScheme:t,theme:n}=e,r=ag(`${t}.200`,.16)(n);return{[sn.bg.variable]:`colors.${t}.100`,[sn.color.variable]:`colors.${t}.800`,_dark:{[sn.bg.variable]:r,[sn.color.variable]:`colors.${t}.200`}}},Sve=e=>{const{colorScheme:t,theme:n}=e,r=ag(`${t}.200`,.8)(n);return{[sn.color.variable]:`colors.${t}.500`,_dark:{[sn.color.variable]:r},[sn.shadow.variable]:`inset 0 0 0px 1px ${sn.color.reference}`}},kve={solid:xve,subtle:wve,outline:Sve},Cy={baseStyle:bve,variants:kve,defaultProps:{variant:"subtle",colorScheme:"gray"}},{defineMultiStyleConfig:Cve,definePartsStyle:Xf}=At(h1e.keys),b9=Ee("tag-bg"),x9=Ee("tag-color"),W$=Ee("tag-shadow"),Ew=Ee("tag-min-height"),_w=Ee("tag-min-width"),$w=Ee("tag-font-size"),Aw=Ee("tag-padding-inline"),Eve={fontWeight:"medium",lineHeight:1.2,outline:0,[x9.variable]:sn.color.reference,[b9.variable]:sn.bg.reference,[W$.variable]:sn.shadow.reference,color:x9.reference,bg:b9.reference,boxShadow:W$.reference,borderRadius:"md",minH:Ew.reference,minW:_w.reference,fontSize:$w.reference,px:Aw.reference,_focusVisible:{[W$.variable]:"shadows.outline"}},_ve={lineHeight:1.2,overflow:"visible"},$ve={fontSize:"lg",w:"5",h:"5",transitionProperty:"common",transitionDuration:"normal",borderRadius:"full",marginStart:"1.5",marginEnd:"-1",opacity:.5,_disabled:{opacity:.4},_focusVisible:{boxShadow:"outline",bg:"rgba(0, 0, 0, 0.14)"},_hover:{opacity:.8},_active:{opacity:1}},Ave=Xf({container:Eve,label:_ve,closeButton:$ve}),Tve={sm:Xf({container:{[Ew.variable]:"sizes.5",[_w.variable]:"sizes.5",[$w.variable]:"fontSizes.xs",[Aw.variable]:"space.2"},closeButton:{marginEnd:"-2px",marginStart:"0.35rem"}}),md:Xf({container:{[Ew.variable]:"sizes.6",[_w.variable]:"sizes.6",[$w.variable]:"fontSizes.sm",[Aw.variable]:"space.2"}}),lg:Xf({container:{[Ew.variable]:"sizes.8",[_w.variable]:"sizes.8",[$w.variable]:"fontSizes.md",[Aw.variable]:"space.3"}})},Pve={subtle:Xf(e=>{var t;return{container:(t=Cy.variants)==null?void 0:t.subtle(e)}}),solid:Xf(e=>{var t;return{container:(t=Cy.variants)==null?void 0:t.solid(e)}}),outline:Xf(e=>{var t;return{container:(t=Cy.variants)==null?void 0:t.outline(e)}})},Mve=Cve({variants:Pve,baseStyle:Ave,sizes:Tve,defaultProps:{size:"md",variant:"subtle",colorScheme:"gray"}}),{definePartsStyle:hl,defineMultiStyleConfig:Fve}=At(Zye.keys),np=Ee("input-height"),rp=Ee("input-font-size"),ip=Ee("input-padding"),op=Ee("input-border-radius"),Rve=hl({addon:{height:np.reference,fontSize:rp.reference,px:ip.reference,borderRadius:op.reference},field:{width:"100%",height:np.reference,fontSize:rp.reference,px:ip.reference,borderRadius:op.reference,minWidth:0,outline:0,position:"relative",appearance:"none",transitionProperty:"common",transitionDuration:"normal",_disabled:{opacity:.4,cursor:"not-allowed"}}}),au={lg:{[rp.variable]:"fontSizes.lg",[ip.variable]:"space.4",[op.variable]:"radii.md",[np.variable]:"sizes.12"},md:{[rp.variable]:"fontSizes.md",[ip.variable]:"space.4",[op.variable]:"radii.md",[np.variable]:"sizes.10"},sm:{[rp.variable]:"fontSizes.sm",[ip.variable]:"space.3",[op.variable]:"radii.sm",[np.variable]:"sizes.8"},xs:{[rp.variable]:"fontSizes.xs",[ip.variable]:"space.2",[op.variable]:"radii.sm",[np.variable]:"sizes.6"}},Ove={lg:hl({field:au.lg,group:au.lg}),md:hl({field:au.md,group:au.md}),sm:hl({field:au.sm,group:au.sm}),xs:hl({field:au.xs,group:au.xs})};function Q4(e){const{focusBorderColor:t,errorBorderColor:n}=e;return{focusBorderColor:t||Ce("blue.500","blue.300")(e),errorBorderColor:n||Ce("red.500","red.300")(e)}}var Dve=hl(e=>{const{theme:t}=e,{focusBorderColor:n,errorBorderColor:r}=Q4(e);return{field:{border:"1px solid",borderColor:"inherit",bg:"inherit",_hover:{borderColor:Ce("gray.300","whiteAlpha.400")(e)},_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:Wr(t,r),boxShadow:`0 0 0 1px ${Wr(t,r)}`},_focusVisible:{zIndex:1,borderColor:Wr(t,n),boxShadow:`0 0 0 1px ${Wr(t,n)}`}},addon:{border:"1px solid",borderColor:Ce("inherit","whiteAlpha.50")(e),bg:Ce("gray.100","whiteAlpha.300")(e)}}}),Nve=hl(e=>{const{theme:t}=e,{focusBorderColor:n,errorBorderColor:r}=Q4(e);return{field:{border:"2px solid",borderColor:"transparent",bg:Ce("gray.100","whiteAlpha.50")(e),_hover:{bg:Ce("gray.200","whiteAlpha.100")(e)},_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:Wr(t,r)},_focusVisible:{bg:"transparent",borderColor:Wr(t,n)}},addon:{border:"2px solid",borderColor:"transparent",bg:Ce("gray.100","whiteAlpha.50")(e)}}}),Lve=hl(e=>{const{theme:t}=e,{focusBorderColor:n,errorBorderColor:r}=Q4(e);return{field:{borderBottom:"1px solid",borderColor:"inherit",borderRadius:"0",px:"0",bg:"transparent",_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:Wr(t,r),boxShadow:`0px 1px 0px 0px ${Wr(t,r)}`},_focusVisible:{borderColor:Wr(t,n),boxShadow:`0px 1px 0px 0px ${Wr(t,n)}`}},addon:{borderBottom:"2px solid",borderColor:"inherit",borderRadius:"0",px:"0",bg:"transparent"}}}),Ive=hl({field:{bg:"transparent",px:"0",height:"auto"},addon:{bg:"transparent",px:"0",height:"auto"}}),zve={outline:Dve,filled:Nve,flushed:Lve,unstyled:Ive},st=Fve({baseStyle:Rve,sizes:Ove,variants:zve,defaultProps:{size:"md",variant:"outline"}}),w9,jve={...(w9=st.baseStyle)==null?void 0:w9.field,paddingY:"2",minHeight:"20",lineHeight:"short",verticalAlign:"top"},S9,k9,Bve={outline:e=>{var t,n;return(n=(t=st.variants)==null?void 0:t.outline(e).field)!=null?n:{}},flushed:e=>{var t,n;return(n=(t=st.variants)==null?void 0:t.flushed(e).field)!=null?n:{}},filled:e=>{var t,n;return(n=(t=st.variants)==null?void 0:t.filled(e).field)!=null?n:{}},unstyled:(k9=(S9=st.variants)==null?void 0:S9.unstyled.field)!=null?k9:{}},C9,E9,_9,$9,A9,T9,P9,M9,Uve={xs:(E9=(C9=st.sizes)==null?void 0:C9.xs.field)!=null?E9:{},sm:($9=(_9=st.sizes)==null?void 0:_9.sm.field)!=null?$9:{},md:(T9=(A9=st.sizes)==null?void 0:A9.md.field)!=null?T9:{},lg:(M9=(P9=st.sizes)==null?void 0:P9.lg.field)!=null?M9:{}},Vve={baseStyle:jve,sizes:Uve,variants:Bve,defaultProps:{size:"md",variant:"outline"}},nx=Cn("tooltip-bg"),H$=Cn("tooltip-fg"),Wve=Cn("popper-arrow-bg"),Hve={bg:nx.reference,color:H$.reference,[nx.variable]:"colors.gray.700",[H$.variable]:"colors.whiteAlpha.900",_dark:{[nx.variable]:"colors.gray.300",[H$.variable]:"colors.gray.900"},[Wve.variable]:nx.reference,px:"2",py:"0.5",borderRadius:"sm",fontWeight:"medium",fontSize:"sm",boxShadow:"md",maxW:"xs",zIndex:"tooltip"},qve={baseStyle:Hve},{defineMultiStyleConfig:Gve,definePartsStyle:I0}=At(o1e.keys),Yve=e=>{const{colorScheme:t,theme:n,isIndeterminate:r,hasStripe:i}=e,o=Ce(p9(),p9("1rem","rgba(0,0,0,0.1)"))(e),s=Ce(`${t}.500`,`${t}.200`)(e),a=`linear-gradient(
    to right,
    transparent 0%,
    ${Wr(n,s)} 50%,
    transparent 100%
  )`;return{...!r&&i&&o,...r?{bgImage:a}:{bgColor:s}}},Xve={lineHeight:"1",fontSize:"0.25em",fontWeight:"bold",color:"white"},Kve=e=>({bg:Ce("gray.100","whiteAlpha.300")(e)}),Qve=e=>({transitionProperty:"common",transitionDuration:"slow",...Yve(e)}),Jve=I0(e=>({label:Xve,filledTrack:Qve(e),track:Kve(e)})),Zve={xs:I0({track:{h:"1"}}),sm:I0({track:{h:"2"}}),md:I0({track:{h:"3"}}),lg:I0({track:{h:"4"}})},ebe=Gve({sizes:Zve,baseStyle:Jve,defaultProps:{size:"md",colorScheme:"blue"}}),tbe=e=>typeof e=="function";function Yr(e,...t){return tbe(e)?e(...t):e}var{definePartsStyle:Tw,defineMultiStyleConfig:nbe}=At(Yye.keys),Ey=Ee("checkbox-size"),rbe=e=>{const{colorScheme:t}=e;return{w:Ey.reference,h:Ey.reference,transitionProperty:"box-shadow",transitionDuration:"normal",border:"2px solid",borderRadius:"sm",borderColor:"inherit",color:"white",_checked:{bg:Ce(`${t}.500`,`${t}.200`)(e),borderColor:Ce(`${t}.500`,`${t}.200`)(e),color:Ce("white","gray.900")(e),_hover:{bg:Ce(`${t}.600`,`${t}.300`)(e),borderColor:Ce(`${t}.600`,`${t}.300`)(e)},_disabled:{borderColor:Ce("gray.200","transparent")(e),bg:Ce("gray.200","whiteAlpha.300")(e),color:Ce("gray.500","whiteAlpha.500")(e)}},_indeterminate:{bg:Ce(`${t}.500`,`${t}.200`)(e),borderColor:Ce(`${t}.500`,`${t}.200`)(e),color:Ce("white","gray.900")(e)},_disabled:{bg:Ce("gray.100","whiteAlpha.100")(e),borderColor:Ce("gray.100","transparent")(e)},_focusVisible:{boxShadow:"outline"},_invalid:{borderColor:Ce("red.500","red.300")(e)}}},ibe={_disabled:{cursor:"not-allowed"}},obe={userSelect:"none",_disabled:{opacity:.4}},sbe={transitionProperty:"transform",transitionDuration:"normal"},abe=Tw(e=>({icon:sbe,container:ibe,control:Yr(rbe,e),label:obe})),lbe={sm:Tw({control:{[Ey.variable]:"sizes.3"},label:{fontSize:"sm"},icon:{fontSize:"3xs"}}),md:Tw({control:{[Ey.variable]:"sizes.4"},label:{fontSize:"md"},icon:{fontSize:"2xs"}}),lg:Tw({control:{[Ey.variable]:"sizes.5"},label:{fontSize:"lg"},icon:{fontSize:"2xs"}})},z2=nbe({baseStyle:abe,sizes:lbe,defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:ube,definePartsStyle:Pw}=At(s1e.keys),cbe=e=>{var t;const n=(t=Yr(z2.baseStyle,e))==null?void 0:t.control;return{...n,borderRadius:"full",_checked:{...n==null?void 0:n._checked,_before:{content:'""',display:"inline-block",pos:"relative",w:"50%",h:"50%",borderRadius:"50%",bg:"currentColor"}}}},fbe=Pw(e=>{var t,n,r,i;return{label:(n=(t=z2).baseStyle)==null?void 0:n.call(t,e).label,container:(i=(r=z2).baseStyle)==null?void 0:i.call(r,e).container,control:cbe(e)}}),dbe={md:Pw({control:{w:"4",h:"4"},label:{fontSize:"md"}}),lg:Pw({control:{w:"5",h:"5"},label:{fontSize:"lg"}}),sm:Pw({control:{width:"3",height:"3"},label:{fontSize:"sm"}})},hbe=ube({baseStyle:fbe,sizes:dbe,defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:pbe,definePartsStyle:gbe}=At(a1e.keys),rx=Ee("select-bg"),F9,mbe={...(F9=st.baseStyle)==null?void 0:F9.field,appearance:"none",paddingBottom:"1px",lineHeight:"normal",bg:rx.reference,[rx.variable]:"colors.white",_dark:{[rx.variable]:"colors.gray.700"},"> option, > optgroup":{bg:rx.reference}},ybe={width:"6",height:"100%",insetEnd:"2",position:"relative",color:"currentColor",fontSize:"xl",_disabled:{opacity:.5}},vbe=gbe({field:mbe,icon:ybe}),ix={paddingInlineEnd:"8"},R9,O9,D9,N9,L9,I9,z9,j9,bbe={lg:{...(R9=st.sizes)==null?void 0:R9.lg,field:{...(O9=st.sizes)==null?void 0:O9.lg.field,...ix}},md:{...(D9=st.sizes)==null?void 0:D9.md,field:{...(N9=st.sizes)==null?void 0:N9.md.field,...ix}},sm:{...(L9=st.sizes)==null?void 0:L9.sm,field:{...(I9=st.sizes)==null?void 0:I9.sm.field,...ix}},xs:{...(z9=st.sizes)==null?void 0:z9.xs,field:{...(j9=st.sizes)==null?void 0:j9.xs.field,...ix},icon:{insetEnd:"1"}}},xbe=pbe({baseStyle:vbe,sizes:bbe,variants:st.variants,defaultProps:st.defaultProps}),q$=Ee("skeleton-start-color"),G$=Ee("skeleton-end-color"),wbe={[q$.variable]:"colors.gray.100",[G$.variable]:"colors.gray.400",_dark:{[q$.variable]:"colors.gray.800",[G$.variable]:"colors.gray.600"},background:q$.reference,borderColor:G$.reference,opacity:.7,borderRadius:"sm"},Sbe={baseStyle:wbe},Y$=Ee("skip-link-bg"),kbe={borderRadius:"md",fontWeight:"semibold",_focusVisible:{boxShadow:"outline",padding:"4",position:"fixed",top:"6",insetStart:"6",[Y$.variable]:"colors.white",_dark:{[Y$.variable]:"colors.gray.700"},bg:Y$.reference}},Cbe={baseStyle:kbe},{defineMultiStyleConfig:Ebe,definePartsStyle:TC}=At(l1e.keys),b1=Ee("slider-thumb-size"),x1=Ee("slider-track-size"),$u=Ee("slider-bg"),_be=e=>{const{orientation:t}=e;return{display:"inline-block",position:"relative",cursor:"pointer",_disabled:{opacity:.6,cursor:"default",pointerEvents:"none"},...K4({orientation:t,vertical:{h:"100%"},horizontal:{w:"100%"}})}},$be=e=>({...K4({orientation:e.orientation,horizontal:{h:x1.reference},vertical:{w:x1.reference}}),overflow:"hidden",borderRadius:"sm",[$u.variable]:"colors.gray.200",_dark:{[$u.variable]:"colors.whiteAlpha.200"},_disabled:{[$u.variable]:"colors.gray.300",_dark:{[$u.variable]:"colors.whiteAlpha.300"}},bg:$u.reference}),Abe=e=>{const{orientation:t}=e;return{...K4({orientation:t,vertical:{left:"50%",transform:"translateX(-50%)",_active:{transform:"translateX(-50%) scale(1.15)"}},horizontal:{top:"50%",transform:"translateY(-50%)",_active:{transform:"translateY(-50%) scale(1.15)"}}}),w:b1.reference,h:b1.reference,display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",outline:0,zIndex:1,borderRadius:"full",bg:"white",boxShadow:"base",border:"1px solid",borderColor:"transparent",transitionProperty:"transform",transitionDuration:"normal",_focusVisible:{boxShadow:"outline"},_disabled:{bg:"gray.300"}}},Tbe=e=>{const{colorScheme:t}=e;return{width:"inherit",height:"inherit",[$u.variable]:`colors.${t}.500`,_dark:{[$u.variable]:`colors.${t}.200`},bg:$u.reference}},Pbe=TC(e=>({container:_be(e),track:$be(e),thumb:Abe(e),filledTrack:Tbe(e)})),Mbe=TC({container:{[b1.variable]:"sizes.4",[x1.variable]:"sizes.1"}}),Fbe=TC({container:{[b1.variable]:"sizes.3.5",[x1.variable]:"sizes.1"}}),Rbe=TC({container:{[b1.variable]:"sizes.2.5",[x1.variable]:"sizes.0.5"}}),Obe={lg:Mbe,md:Fbe,sm:Rbe},Dbe=Ebe({baseStyle:Pbe,sizes:Obe,defaultProps:{size:"md",colorScheme:"blue"}}),Sf=Cn("spinner-size"),Nbe={width:[Sf.reference],height:[Sf.reference]},Lbe={xs:{[Sf.variable]:"sizes.3"},sm:{[Sf.variable]:"sizes.4"},md:{[Sf.variable]:"sizes.6"},lg:{[Sf.variable]:"sizes.8"},xl:{[Sf.variable]:"sizes.12"}},Ibe={baseStyle:Nbe,sizes:Lbe,defaultProps:{size:"md"}},{defineMultiStyleConfig:zbe,definePartsStyle:AX}=At(u1e.keys),jbe={fontWeight:"medium"},Bbe={opacity:.8,marginBottom:"2"},Ube={verticalAlign:"baseline",fontWeight:"semibold"},Vbe={marginEnd:1,w:"3.5",h:"3.5",verticalAlign:"middle"},Wbe=AX({container:{},label:jbe,helpText:Bbe,number:Ube,icon:Vbe}),Hbe={md:AX({label:{fontSize:"sm"},helpText:{fontSize:"sm"},number:{fontSize:"2xl"}})},qbe=zbe({baseStyle:Wbe,sizes:Hbe,defaultProps:{size:"md"}}),X$=Ee("kbd-bg"),Gbe={[X$.variable]:"colors.gray.100",_dark:{[X$.variable]:"colors.whiteAlpha.100"},bg:X$.reference,borderRadius:"md",borderWidth:"1px",borderBottomWidth:"3px",fontSize:"0.8em",fontWeight:"bold",lineHeight:"normal",px:"0.4em",whiteSpace:"nowrap"},Ybe={baseStyle:Gbe},Xbe={transitionProperty:"common",transitionDuration:"fast",transitionTimingFunction:"ease-out",cursor:"pointer",textDecoration:"none",outline:"none",color:"inherit",_hover:{textDecoration:"underline"},_focusVisible:{boxShadow:"outline"}},Kbe={baseStyle:Xbe},{defineMultiStyleConfig:Qbe,definePartsStyle:Jbe}=At(e1e.keys),Zbe={marginEnd:"2",display:"inline",verticalAlign:"text-bottom"},exe=Jbe({icon:Zbe}),txe=Qbe({baseStyle:exe}),{defineMultiStyleConfig:nxe,definePartsStyle:rxe}=At(t1e.keys),Ks=Ee("menu-bg"),K$=Ee("menu-shadow"),ixe={[Ks.variable]:"#fff",[K$.variable]:"shadows.sm",_dark:{[Ks.variable]:"colors.gray.700",[K$.variable]:"shadows.dark-lg"},color:"inherit",minW:"3xs",py:"2",zIndex:1,borderRadius:"md",borderWidth:"1px",bg:Ks.reference,boxShadow:K$.reference},oxe={py:"1.5",px:"3",transitionProperty:"background",transitionDuration:"ultra-fast",transitionTimingFunction:"ease-in",_focus:{[Ks.variable]:"colors.gray.100",_dark:{[Ks.variable]:"colors.whiteAlpha.100"}},_active:{[Ks.variable]:"colors.gray.200",_dark:{[Ks.variable]:"colors.whiteAlpha.200"}},_expanded:{[Ks.variable]:"colors.gray.100",_dark:{[Ks.variable]:"colors.whiteAlpha.100"}},_disabled:{opacity:.4,cursor:"not-allowed"},bg:Ks.reference},sxe={mx:4,my:2,fontWeight:"semibold",fontSize:"sm"},axe={display:"inline-flex",alignItems:"center",justifyContent:"center",flexShrink:0},lxe={opacity:.6},uxe={border:0,borderBottom:"1px solid",borderColor:"inherit",my:"2",opacity:.6},cxe={transitionProperty:"common",transitionDuration:"normal"},fxe=rxe({button:cxe,list:ixe,item:oxe,groupTitle:sxe,icon:axe,command:lxe,divider:uxe}),dxe=nxe({baseStyle:fxe}),{defineMultiStyleConfig:hxe,definePartsStyle:g3}=At(n1e.keys),Q$=Ee("modal-bg"),J$=Ee("modal-shadow"),pxe={bg:"blackAlpha.600",zIndex:"modal"},gxe=e=>{const{isCentered:t,scrollBehavior:n}=e;return{display:"flex",zIndex:"modal",justifyContent:"center",alignItems:t?"center":"flex-start",overflow:n==="inside"?"hidden":"auto",overscrollBehaviorY:"none"}},mxe=e=>{const{isCentered:t,scrollBehavior:n}=e;return{borderRadius:"md",color:"inherit",my:t?"auto":"16",mx:t?"auto":void 0,zIndex:"modal",maxH:n==="inside"?"calc(100% - 7.5rem)":void 0,[Q$.variable]:"colors.white",[J$.variable]:"shadows.lg",_dark:{[Q$.variable]:"colors.gray.700",[J$.variable]:"shadows.dark-lg"},bg:Q$.reference,boxShadow:J$.reference}},yxe={px:"6",py:"4",fontSize:"xl",fontWeight:"semibold"},vxe={position:"absolute",top:"2",insetEnd:"3"},bxe=e=>{const{scrollBehavior:t}=e;return{px:"6",py:"2",flex:"1",overflow:t==="inside"?"auto":void 0}},xxe={px:"6",py:"4"},wxe=g3(e=>({overlay:pxe,dialogContainer:Yr(gxe,e),dialog:Yr(mxe,e),header:yxe,closeButton:vxe,body:Yr(bxe,e),footer:xxe}));function Go(e){return g3(e==="full"?{dialog:{maxW:"100vw",minH:"$100vh",my:"0",borderRadius:"0"}}:{dialog:{maxW:e}})}var Sxe={xs:Go("xs"),sm:Go("sm"),md:Go("md"),lg:Go("lg"),xl:Go("xl"),"2xl":Go("2xl"),"3xl":Go("3xl"),"4xl":Go("4xl"),"5xl":Go("5xl"),"6xl":Go("6xl"),full:Go("full")},kxe=hxe({baseStyle:wxe,sizes:Sxe,defaultProps:{size:"md"}}),{defineMultiStyleConfig:Cxe,definePartsStyle:TX}=At(r1e.keys),J4=Cn("number-input-stepper-width"),PX=Cn("number-input-input-padding"),Exe=ll(J4).add("0.5rem").toString(),Z$=Cn("number-input-bg"),eA=Cn("number-input-color"),tA=Cn("number-input-border-color"),_xe={[J4.variable]:"sizes.6",[PX.variable]:Exe},$xe=e=>{var t,n;return(n=(t=Yr(st.baseStyle,e))==null?void 0:t.field)!=null?n:{}},Axe={width:J4.reference},Txe={borderStart:"1px solid",borderStartColor:tA.reference,color:eA.reference,bg:Z$.reference,[eA.variable]:"colors.chakra-body-text",[tA.variable]:"colors.chakra-border-color",_dark:{[eA.variable]:"colors.whiteAlpha.800",[tA.variable]:"colors.whiteAlpha.300"},_active:{[Z$.variable]:"colors.gray.200",_dark:{[Z$.variable]:"colors.whiteAlpha.300"}},_disabled:{opacity:.4,cursor:"not-allowed"}},Pxe=TX(e=>{var t;return{root:_xe,field:(t=Yr($xe,e))!=null?t:{},stepperGroup:Axe,stepper:Txe}});function ox(e){var t,n,r;const i=(t=st.sizes)==null?void 0:t[e],o={lg:"md",md:"md",sm:"sm",xs:"sm"},s=(r=(n=i.field)==null?void 0:n.fontSize)!=null?r:"md",a=kX.fontSizes[s];return TX({field:{...i.field,paddingInlineEnd:PX.reference,verticalAlign:"top"},stepper:{fontSize:ll(a).multiply(.75).toString(),_first:{borderTopEndRadius:o[e]},_last:{borderBottomEndRadius:o[e],mt:"-1px",borderTopWidth:1}}})}var Mxe={xs:ox("xs"),sm:ox("sm"),md:ox("md"),lg:ox("lg")},Fxe=Cxe({baseStyle:Pxe,sizes:Mxe,variants:st.variants,defaultProps:st.defaultProps}),B9,Rxe={...(B9=st.baseStyle)==null?void 0:B9.field,textAlign:"center"},Oxe={lg:{fontSize:"lg",w:12,h:12,borderRadius:"md"},md:{fontSize:"md",w:10,h:10,borderRadius:"md"},sm:{fontSize:"sm",w:8,h:8,borderRadius:"sm"},xs:{fontSize:"xs",w:6,h:6,borderRadius:"sm"}},U9,V9,Dxe={outline:e=>{var t,n,r;return(r=(n=Yr((t=st.variants)==null?void 0:t.outline,e))==null?void 0:n.field)!=null?r:{}},flushed:e=>{var t,n,r;return(r=(n=Yr((t=st.variants)==null?void 0:t.flushed,e))==null?void 0:n.field)!=null?r:{}},filled:e=>{var t,n,r;return(r=(n=Yr((t=st.variants)==null?void 0:t.filled,e))==null?void 0:n.field)!=null?r:{}},unstyled:(V9=(U9=st.variants)==null?void 0:U9.unstyled.field)!=null?V9:{}},Nxe={baseStyle:Rxe,sizes:Oxe,variants:Dxe,defaultProps:st.defaultProps},{defineMultiStyleConfig:Lxe,definePartsStyle:Ixe}=At(i1e.keys),sx=Cn("popper-bg"),zxe=Cn("popper-arrow-bg"),W9=Cn("popper-arrow-shadow-color"),jxe={zIndex:10},Bxe={[sx.variable]:"colors.white",bg:sx.reference,[zxe.variable]:sx.reference,[W9.variable]:"colors.gray.200",_dark:{[sx.variable]:"colors.gray.700",[W9.variable]:"colors.whiteAlpha.300"},width:"xs",border:"1px solid",borderColor:"inherit",borderRadius:"md",boxShadow:"sm",zIndex:"inherit",_focusVisible:{outline:0,boxShadow:"outline"}},Uxe={px:3,py:2,borderBottomWidth:"1px"},Vxe={px:3,py:2},Wxe={px:3,py:2,borderTopWidth:"1px"},Hxe={position:"absolute",borderRadius:"md",top:1,insetEnd:2,padding:2},qxe=Ixe({popper:jxe,content:Bxe,header:Uxe,body:Vxe,footer:Wxe,closeButton:Hxe}),Gxe=Lxe({baseStyle:qxe}),{definePartsStyle:m3,defineMultiStyleConfig:Yxe}=At(Xye.keys),nA=Ee("drawer-bg"),rA=Ee("drawer-box-shadow");function yh(e){return m3(e==="full"?{dialog:{maxW:"100vw",h:"100vh"}}:{dialog:{maxW:e}})}var Xxe={bg:"blackAlpha.600",zIndex:"modal"},Kxe={display:"flex",zIndex:"modal",justifyContent:"center"},Qxe=e=>{const{isFullHeight:t}=e;return{...t&&{height:"100vh"},zIndex:"modal",maxH:"100vh",color:"inherit",[nA.variable]:"colors.white",[rA.variable]:"shadows.lg",_dark:{[nA.variable]:"colors.gray.700",[rA.variable]:"shadows.dark-lg"},bg:nA.reference,boxShadow:rA.reference}},Jxe={px:"6",py:"4",fontSize:"xl",fontWeight:"semibold"},Zxe={position:"absolute",top:"2",insetEnd:"3"},ewe={px:"6",py:"2",flex:"1",overflow:"auto"},twe={px:"6",py:"4"},nwe=m3(e=>({overlay:Xxe,dialogContainer:Kxe,dialog:Yr(Qxe,e),header:Jxe,closeButton:Zxe,body:ewe,footer:twe})),rwe={xs:yh("xs"),sm:yh("md"),md:yh("lg"),lg:yh("2xl"),xl:yh("4xl"),full:yh("full")},iwe=Yxe({baseStyle:nwe,sizes:rwe,defaultProps:{size:"xs"}}),{definePartsStyle:owe,defineMultiStyleConfig:swe}=At(Kye.keys),awe={borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal"},lwe={borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal",width:"full",_focusVisible:{boxShadow:"outline"},_placeholder:{opacity:.6}},uwe={borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal",width:"full",_focusVisible:{boxShadow:"outline"},_placeholder:{opacity:.6}},cwe=owe({preview:awe,input:lwe,textarea:uwe}),fwe=swe({baseStyle:cwe}),{definePartsStyle:dwe,defineMultiStyleConfig:hwe}=At(Qye.keys),Ep=Ee("form-control-color"),pwe={marginStart:"1",[Ep.variable]:"colors.red.500",_dark:{[Ep.variable]:"colors.red.300"},color:Ep.reference},gwe={mt:"2",[Ep.variable]:"colors.gray.600",_dark:{[Ep.variable]:"colors.whiteAlpha.600"},color:Ep.reference,lineHeight:"normal",fontSize:"sm"},mwe=dwe({container:{width:"100%",position:"relative"},requiredIndicator:pwe,helperText:gwe}),ywe=hwe({baseStyle:mwe}),{definePartsStyle:vwe,defineMultiStyleConfig:bwe}=At(Jye.keys),_p=Ee("form-error-color"),xwe={[_p.variable]:"colors.red.500",_dark:{[_p.variable]:"colors.red.300"},color:_p.reference,mt:"2",fontSize:"sm",lineHeight:"normal"},wwe={marginEnd:"0.5em",[_p.variable]:"colors.red.500",_dark:{[_p.variable]:"colors.red.300"},color:_p.reference},Swe=vwe({text:xwe,icon:wwe}),kwe=bwe({baseStyle:Swe}),Cwe={fontSize:"md",marginEnd:"3",mb:"2",fontWeight:"medium",transitionProperty:"common",transitionDuration:"normal",opacity:1,_disabled:{opacity:.4}},Ewe={baseStyle:Cwe},_we={fontFamily:"heading",fontWeight:"bold"},$we={"4xl":{fontSize:["6xl",null,"7xl"],lineHeight:1},"3xl":{fontSize:["5xl",null,"6xl"],lineHeight:1},"2xl":{fontSize:["4xl",null,"5xl"],lineHeight:[1.2,null,1]},xl:{fontSize:["3xl",null,"4xl"],lineHeight:[1.33,null,1.2]},lg:{fontSize:["2xl",null,"3xl"],lineHeight:[1.33,null,1.2]},md:{fontSize:"xl",lineHeight:1.2},sm:{fontSize:"md",lineHeight:1.2},xs:{fontSize:"sm",lineHeight:1.2}},Awe={baseStyle:_we,sizes:$we,defaultProps:{size:"xl"}},{defineMultiStyleConfig:Twe,definePartsStyle:Pwe}=At(Gye.keys),iA=Ee("breadcrumb-link-decor"),Mwe={transitionProperty:"common",transitionDuration:"fast",transitionTimingFunction:"ease-out",outline:"none",color:"inherit",textDecoration:iA.reference,[iA.variable]:"none","&:not([aria-current=page])":{cursor:"pointer",_hover:{[iA.variable]:"underline"},_focusVisible:{boxShadow:"outline"}}},Fwe=Pwe({link:Mwe}),Rwe=Twe({baseStyle:Fwe}),Owe={lineHeight:"1.2",borderRadius:"md",fontWeight:"semibold",transitionProperty:"common",transitionDuration:"normal",_focusVisible:{boxShadow:"outline"},_disabled:{opacity:.4,cursor:"not-allowed",boxShadow:"none"},_hover:{_disabled:{bg:"initial"}}},MX=e=>{const{colorScheme:t,theme:n}=e;if(t==="gray")return{color:Ce("gray.800","whiteAlpha.900")(e),_hover:{bg:Ce("gray.100","whiteAlpha.200")(e)},_active:{bg:Ce("gray.200","whiteAlpha.300")(e)}};const r=ag(`${t}.200`,.12)(n),i=ag(`${t}.200`,.24)(n);return{color:Ce(`${t}.600`,`${t}.200`)(e),bg:"transparent",_hover:{bg:Ce(`${t}.50`,r)(e)},_active:{bg:Ce(`${t}.100`,i)(e)}}},Dwe=e=>{const{colorScheme:t}=e,n=Ce("gray.200","whiteAlpha.300")(e);return{border:"1px solid",borderColor:t==="gray"?n:"currentColor",".chakra-button__group[data-attached][data-orientation=horizontal] > &:not(:last-of-type)":{marginEnd:"-1px"},".chakra-button__group[data-attached][data-orientation=vertical] > &:not(:last-of-type)":{marginBottom:"-1px"},...Yr(MX,e)}},Nwe={yellow:{bg:"yellow.400",color:"black",hoverBg:"yellow.500",activeBg:"yellow.600"},cyan:{bg:"cyan.400",color:"black",hoverBg:"cyan.500",activeBg:"cyan.600"}},Lwe=e=>{var t;const{colorScheme:n}=e;if(n==="gray"){const l=Ce("gray.100","whiteAlpha.200")(e);return{bg:l,color:Ce("gray.800","whiteAlpha.900")(e),_hover:{bg:Ce("gray.200","whiteAlpha.300")(e),_disabled:{bg:l}},_active:{bg:Ce("gray.300","whiteAlpha.400")(e)}}}const{bg:r=`${n}.500`,color:i="white",hoverBg:o=`${n}.600`,activeBg:s=`${n}.700`}=(t=Nwe[n])!=null?t:{},a=Ce(r,`${n}.200`)(e);return{bg:a,color:Ce(i,"gray.800")(e),_hover:{bg:Ce(o,`${n}.300`)(e),_disabled:{bg:a}},_active:{bg:Ce(s,`${n}.400`)(e)}}},Iwe=e=>{const{colorScheme:t}=e;return{padding:0,height:"auto",lineHeight:"normal",verticalAlign:"baseline",color:Ce(`${t}.500`,`${t}.200`)(e),_hover:{textDecoration:"underline",_disabled:{textDecoration:"none"}},_active:{color:Ce(`${t}.700`,`${t}.500`)(e)}}},zwe={bg:"none",color:"inherit",display:"inline",lineHeight:"inherit",m:"0",p:"0"},jwe={ghost:MX,outline:Dwe,solid:Lwe,link:Iwe,unstyled:zwe},Bwe={lg:{h:"12",minW:"12",fontSize:"lg",px:"6"},md:{h:"10",minW:"10",fontSize:"md",px:"4"},sm:{h:"8",minW:"8",fontSize:"sm",px:"3"},xs:{h:"6",minW:"6",fontSize:"xs",px:"2"}},Uwe={baseStyle:Owe,variants:jwe,sizes:Bwe,defaultProps:{variant:"solid",size:"md",colorScheme:"gray"}},{definePartsStyle:Kf,defineMultiStyleConfig:Vwe}=At(p1e.keys),j2=Ee("card-bg"),wl=Ee("card-padding"),FX=Ee("card-shadow"),Mw=Ee("card-radius"),RX=Ee("card-border-width","0"),OX=Ee("card-border-color"),Wwe=Kf({container:{[j2.variable]:"colors.chakra-body-bg",backgroundColor:j2.reference,boxShadow:FX.reference,borderRadius:Mw.reference,color:"chakra-body-text",borderWidth:RX.reference,borderColor:OX.reference},body:{padding:wl.reference,flex:"1 1 0%"},header:{padding:wl.reference},footer:{padding:wl.reference}}),Hwe={sm:Kf({container:{[Mw.variable]:"radii.base",[wl.variable]:"space.3"}}),md:Kf({container:{[Mw.variable]:"radii.md",[wl.variable]:"space.5"}}),lg:Kf({container:{[Mw.variable]:"radii.xl",[wl.variable]:"space.7"}})},qwe={elevated:Kf({container:{[FX.variable]:"shadows.base",_dark:{[j2.variable]:"colors.gray.700"}}}),outline:Kf({container:{[RX.variable]:"1px",[OX.variable]:"colors.chakra-border-color"}}),filled:Kf({container:{[j2.variable]:"colors.chakra-subtle-bg"}}),unstyled:{body:{[wl.variable]:0},header:{[wl.variable]:0},footer:{[wl.variable]:0}}},Gwe=Vwe({baseStyle:Wwe,variants:qwe,sizes:Hwe,defaultProps:{variant:"elevated",size:"md"}}),_y=Cn("close-button-size"),Xm=Cn("close-button-bg"),Ywe={w:[_y.reference],h:[_y.reference],borderRadius:"md",transitionProperty:"common",transitionDuration:"normal",_disabled:{opacity:.4,cursor:"not-allowed",boxShadow:"none"},_hover:{[Xm.variable]:"colors.blackAlpha.100",_dark:{[Xm.variable]:"colors.whiteAlpha.100"}},_active:{[Xm.variable]:"colors.blackAlpha.200",_dark:{[Xm.variable]:"colors.whiteAlpha.200"}},_focusVisible:{boxShadow:"outline"},bg:Xm.reference},Xwe={lg:{[_y.variable]:"sizes.10",fontSize:"md"},md:{[_y.variable]:"sizes.8",fontSize:"xs"},sm:{[_y.variable]:"sizes.6",fontSize:"2xs"}},Kwe={baseStyle:Ywe,sizes:Xwe,defaultProps:{size:"md"}},{variants:Qwe,defaultProps:Jwe}=Cy,Zwe={fontFamily:"mono",fontSize:"sm",px:"0.2em",borderRadius:"sm",bg:sn.bg.reference,color:sn.color.reference,boxShadow:sn.shadow.reference},e2e={baseStyle:Zwe,variants:Qwe,defaultProps:Jwe},t2e={w:"100%",mx:"auto",maxW:"prose",px:"4"},n2e={baseStyle:t2e},r2e={opacity:.6,borderColor:"inherit"},i2e={borderStyle:"solid"},o2e={borderStyle:"dashed"},s2e={solid:i2e,dashed:o2e},a2e={baseStyle:r2e,variants:s2e,defaultProps:{variant:"solid"}},{definePartsStyle:l2e,defineMultiStyleConfig:u2e}=At(Wye.keys),c2e={borderTopWidth:"1px",borderColor:"inherit",_last:{borderBottomWidth:"1px"}},f2e={transitionProperty:"common",transitionDuration:"normal",fontSize:"md",_focusVisible:{boxShadow:"outline"},_hover:{bg:"blackAlpha.50"},_disabled:{opacity:.4,cursor:"not-allowed"},px:"4",py:"2"},d2e={pt:"2",px:"4",pb:"5"},h2e={fontSize:"1.25em"},p2e=l2e({container:c2e,button:f2e,panel:d2e,icon:h2e}),g2e=u2e({baseStyle:p2e}),{definePartsStyle:Sv,defineMultiStyleConfig:m2e}=At(Hye.keys),qi=Ee("alert-fg"),Ll=Ee("alert-bg"),y2e=Sv({container:{bg:Ll.reference,px:"4",py:"3"},title:{fontWeight:"bold",lineHeight:"6",marginEnd:"2"},description:{lineHeight:"6"},icon:{color:qi.reference,flexShrink:0,marginEnd:"3",w:"5",h:"6"},spinner:{color:qi.reference,flexShrink:0,marginEnd:"3",w:"5",h:"5"}});function Z4(e){const{theme:t,colorScheme:n}=e,r=ag(`${n}.200`,.16)(t);return{light:`colors.${n}.100`,dark:r}}var v2e=Sv(e=>{const{colorScheme:t}=e,n=Z4(e);return{container:{[qi.variable]:`colors.${t}.600`,[Ll.variable]:n.light,_dark:{[qi.variable]:`colors.${t}.200`,[Ll.variable]:n.dark}}}}),b2e=Sv(e=>{const{colorScheme:t}=e,n=Z4(e);return{container:{[qi.variable]:`colors.${t}.600`,[Ll.variable]:n.light,_dark:{[qi.variable]:`colors.${t}.200`,[Ll.variable]:n.dark},paddingStart:"3",borderStartWidth:"4px",borderStartColor:qi.reference}}}),x2e=Sv(e=>{const{colorScheme:t}=e,n=Z4(e);return{container:{[qi.variable]:`colors.${t}.600`,[Ll.variable]:n.light,_dark:{[qi.variable]:`colors.${t}.200`,[Ll.variable]:n.dark},pt:"2",borderTopWidth:"4px",borderTopColor:qi.reference}}}),w2e=Sv(e=>{const{colorScheme:t}=e;return{container:{[qi.variable]:"colors.white",[Ll.variable]:`colors.${t}.600`,_dark:{[qi.variable]:"colors.gray.900",[Ll.variable]:`colors.${t}.200`},color:qi.reference}}}),S2e={subtle:v2e,"left-accent":b2e,"top-accent":x2e,solid:w2e},k2e=m2e({baseStyle:y2e,variants:S2e,defaultProps:{variant:"subtle",colorScheme:"blue"}}),{definePartsStyle:DX,defineMultiStyleConfig:C2e}=At(qye.keys),$p=Ee("avatar-border-color"),$y=Ee("avatar-bg"),w1=Ee("avatar-font-size"),lg=Ee("avatar-size"),E2e={borderRadius:"full",border:"0.2em solid",borderColor:$p.reference,[$p.variable]:"white",_dark:{[$p.variable]:"colors.gray.800"}},_2e={bg:$y.reference,fontSize:w1.reference,width:lg.reference,height:lg.reference,lineHeight:"1",[$y.variable]:"colors.gray.200",_dark:{[$y.variable]:"colors.whiteAlpha.400"}},$2e=e=>{const{name:t,theme:n}=e,r=t?O1e({string:t}):"colors.gray.400",i=F1e(r)(n);let o="white";return i||(o="gray.800"),{bg:$y.reference,fontSize:w1.reference,color:o,borderColor:$p.reference,verticalAlign:"top",width:lg.reference,height:lg.reference,"&:not([data-loaded])":{[$y.variable]:r},[$p.variable]:"colors.white",_dark:{[$p.variable]:"colors.gray.800"}}},A2e={fontSize:w1.reference,lineHeight:"1"},T2e=DX(e=>({badge:Yr(E2e,e),excessLabel:Yr(_2e,e),container:Yr($2e,e),label:A2e}));function lu(e){const t=e!=="100%"?EX[e]:void 0;return DX({container:{[lg.variable]:t??e,[w1.variable]:`calc(${t??e} / 2.5)`},excessLabel:{[lg.variable]:t??e,[w1.variable]:`calc(${t??e} / 2.5)`}})}var P2e={"2xs":lu(4),xs:lu(6),sm:lu(8),md:lu(12),lg:lu(16),xl:lu(24),"2xl":lu(32),full:lu("100%")},M2e=C2e({baseStyle:T2e,sizes:P2e,defaultProps:{size:"md"}}),F2e={Accordion:g2e,Alert:k2e,Avatar:M2e,Badge:Cy,Breadcrumb:Rwe,Button:Uwe,Checkbox:z2,CloseButton:Kwe,Code:e2e,Container:n2e,Divider:a2e,Drawer:iwe,Editable:fwe,Form:ywe,FormError:kwe,FormLabel:Ewe,Heading:Awe,Input:st,Kbd:Ybe,Link:Kbe,List:txe,Menu:dxe,Modal:kxe,NumberInput:Fxe,PinInput:Nxe,Popover:Gxe,Progress:ebe,Radio:hbe,Select:xbe,Skeleton:Sbe,SkipLink:Cbe,Slider:Dbe,Spinner:Ibe,Stat:qbe,Switch:K1e,Table:rve,Tabs:vve,Tag:Mve,Textarea:Vve,Tooltip:qve,Card:Gwe,Stepper:Vye},R2e={colors:{"chakra-body-text":{_light:"gray.800",_dark:"whiteAlpha.900"},"chakra-body-bg":{_light:"white",_dark:"gray.800"},"chakra-border-color":{_light:"gray.200",_dark:"whiteAlpha.300"},"chakra-inverse-text":{_light:"white",_dark:"gray.800"},"chakra-subtle-bg":{_light:"gray.100",_dark:"gray.700"},"chakra-subtle-text":{_light:"gray.600",_dark:"gray.400"},"chakra-placeholder-color":{_light:"gray.500",_dark:"whiteAlpha.400"}}},O2e={global:{body:{fontFamily:"body",color:"chakra-body-text",bg:"chakra-body-bg",transitionProperty:"background-color",transitionDuration:"normal",lineHeight:"base"},"*::placeholder":{color:"chakra-placeholder-color"},"*, *::before, &::after":{borderColor:"chakra-border-color"}}},D2e="ltr",N2e={useSystemColorMode:!1,initialColorMode:"light",cssVarPrefix:"chakra"},NX={semanticTokens:R2e,direction:D2e,...jye,components:F2e,styles:O2e,config:N2e};function z0(e){return typeof e=="function"}function L2e(...e){return t=>e.reduce((n,r)=>r(n),t)}var I2e=e=>function(...n){let r=[...n],i=n[n.length-1];return mye(i)&&r.length>1?r=r.slice(0,r.length-1):i=e,L2e(...r.map(o=>s=>z0(o)?o(s):j2e(s,o)))(i)},z2e=I2e(NX);function j2e(...e){return Co({},...e,LX)}function LX(e,t,n,r){if((z0(e)||z0(t))&&Object.prototype.hasOwnProperty.call(r,n))return(...i)=>{const o=z0(e)?e(...i):e,s=z0(t)?t(...i):t;return Co({},o,s,LX)}}function B2e(e,t){const n={};return Object.keys(e).forEach(r=>{t.includes(r)||(n[r]=e[r])}),n}function U2e(e,t,n,r){const i=typeof t=="string"?t.split("."):[t];for(r=0;r<i.length&&e;r+=1)e=e[i[r]];return e===void 0?n:e}var V2e=e=>{const t=new WeakMap;return(r,i,o,s)=>{if(typeof r>"u")return e(r,i,o);t.has(r)||t.set(r,new Map);const a=t.get(r);if(a.has(i))return a.get(i);const l=e(r,i,o,s);return a.set(i,l),l}},IX=V2e(U2e);function zX(e,t){const n={};return Object.keys(e).forEach(r=>{const i=e[r];t(i,r,e)&&(n[r]=i)}),n}var jX=e=>zX(e,t=>t!=null);function W2e(e){return typeof e=="function"}function BX(e,...t){return W2e(e)?e(...t):e}var H2e=typeof Element<"u",q2e=typeof Map=="function",G2e=typeof Set=="function",Y2e=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function Fw(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var n,r,i;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!Fw(e[r],t[r]))return!1;return!0}var o;if(q2e&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(o=e.entries();!(r=o.next()).done;)if(!t.has(r.value[0]))return!1;for(o=e.entries();!(r=o.next()).done;)if(!Fw(r.value[1],t.get(r.value[0])))return!1;return!0}if(G2e&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(o=e.entries();!(r=o.next()).done;)if(!t.has(r.value[0]))return!1;return!0}if(Y2e&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(e[r]!==t[r])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&typeof e.valueOf=="function"&&typeof t.valueOf=="function")return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&typeof e.toString=="function"&&typeof t.toString=="function")return e.toString()===t.toString();if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,i[r]))return!1;if(H2e&&e instanceof Element)return!1;for(r=n;r--!==0;)if(!((i[r]==="_owner"||i[r]==="__v"||i[r]==="__o")&&e.$$typeof)&&!Fw(e[i[r]],t[i[r]]))return!1;return!0}return e!==e&&t!==t}var X2e=function(t,n){try{return Fw(t,n)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}};const K2e=Da(X2e);function UX(e,t={}){var n;const{styleConfig:r,...i}=t,{theme:o,colorMode:s}=gX(),a=e?IX(o,`components.${e}`):void 0,l=r||a,u=Co({theme:o,colorMode:s},(n=l==null?void 0:l.defaultProps)!=null?n:{},jX(B2e(i,["children"]))),c=M.useRef({});if(l){const d=pye(l)(u);K2e(c.current,d)||(c.current=d)}return c.current}function Gl(e,t={}){return UX(e,t)}function Yl(e,t={}){return UX(e,t)}var Q2e=new Set([...nye,"textStyle","layerStyle","apply","noOfLines","focusBorderColor","errorBorderColor","as","__css","css","sx"]),J2e=new Set(["htmlWidth","htmlHeight","htmlSize","htmlTranslate"]);function Z2e(e){return J2e.has(e)||!Q2e.has(e)}function eSe(e,...t){if(e==null)throw new TypeError("Cannot convert undefined or null to object");const n={...e};for(const r of t)if(r!=null)for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&(i in n&&delete n[i],n[i]=r[i]);return n}function VX(e){const t=Object.assign({},e);for(let n in t)t[n]===void 0&&delete t[n];return t}var tSe=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,nSe=Qq(function(e){return tSe.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91}),rSe=nSe,iSe=function(t){return t!=="theme"},H9=function(t){return typeof t=="string"&&t.charCodeAt(0)>96?rSe:iSe},q9=function(t,n,r){var i;if(n){var o=n.shouldForwardProp;i=t.__emotion_forwardProp&&o?function(s){return t.__emotion_forwardProp(s)&&o(s)}:o}return typeof i!="function"&&r&&(i=t.__emotion_forwardProp),i},oSe=!1,sSe=function(t){var n=t.cache,r=t.serialized,i=t.isStringTag;return rG(n,r,i),_pe(function(){return iG(n,r,i)}),null},aSe=function e(t,n){var r=t.__emotion_real===t,i=r&&t.__emotion_base||t,o,s;n!==void 0&&(o=n.label,s=n.target);var a=q9(t,n,r),l=a||H9(i),u=!l("as");return function(){var c=arguments,f=r&&t.__emotion_styles!==void 0?t.__emotion_styles.slice(0):[];if(o!==void 0&&f.push("label:"+o+";"),c[0]==null||c[0].raw===void 0)f.push.apply(f,c);else{f.push(c[0][0]);for(var d=c.length,h=1;h<d;h++)f.push(c[h],c[0][h])}var p=lG(function(g,m,y){var v=u&&g.as||i,b="",x=[],w=g;if(g.theme==null){w={};for(var k in g)w[k]=g[k];w.theme=M.useContext(e1)}typeof g.className=="string"?b=ype(m.registered,x,g.className):g.className!=null&&(b=g.className+" ");var S=QF(f.concat(x),m.registered,w);b+=m.key+"-"+S.name,s!==void 0&&(b+=" "+s);var C=u&&a===void 0?H9(v):l,E={};for(var A in g)u&&A==="as"||C(A)&&(E[A]=g[A]);return E.className=b,y&&(E.ref=y),M.createElement(M.Fragment,null,M.createElement(sSe,{cache:m,serialized:S,isStringTag:typeof v=="string"}),M.createElement(v,E))});return p.displayName=o!==void 0?o:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",p.defaultProps=t.defaultProps,p.__emotion_real=p,p.__emotion_base=i,p.__emotion_styles=f,p.__emotion_forwardProp=a,Object.defineProperty(p,"toString",{value:function(){return s===void 0&&oSe?"NO_COMPONENT_SELECTOR":"."+s}}),p.withComponent=function(g,m){return e(g,f2({},n,m,{shouldForwardProp:q9(p,m,!0)})).apply(void 0,f)},p}},lSe=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],B2=aSe.bind();lSe.forEach(function(e){B2[e]=B2(e)});var G9,uSe=(G9=B2.default)!=null?G9:B2,cSe=({baseStyle:e})=>t=>{const{theme:n,css:r,__css:i,sx:o,...s}=t,a=zX(s,(f,d)=>iye(d)),l=BX(e,t),u=eSe({},i,l,jX(a),o),c=SX(u)(t.theme);return r?[c,r]:c};function oA(e,t){const{baseStyle:n,...r}=t??{};r.shouldForwardProp||(r.shouldForwardProp=Z2e);const i=cSe({baseStyle:n}),o=uSe(e,r)(i);return Vi.forwardRef(function(l,u){const{colorMode:c,forced:f}=om();return Vi.createElement(o,{ref:u,"data-theme":f?c:void 0,...l})})}function fSe(){const e=new Map;return new Proxy(oA,{apply(t,n,r){return oA(...r)},get(t,n){return e.has(n)||e.set(n,oA(n)),e.get(n)}})}var ke=fSe();function _e(e){return M.forwardRef(e)}function dSe(e={}){const{strict:t=!0,errorMessage:n="useContext: `context` is undefined. Seems you forgot to wrap component within the Provider",name:r}=e,i=M.createContext(void 0);i.displayName=r;function o(){var s;const a=M.useContext(i);if(!a&&t){const l=new Error(n);throw l.name="ContextError",(s=Error.captureStackTrace)==null||s.call(Error,l,o),l}return a}return[i.Provider,o,i]}function hSe(e){const{cssVarsRoot:t,theme:n,children:r}=e,i=M.useMemo(()=>Z0e(n),[n]);return $.jsxs(Tpe,{theme:i,children:[$.jsx(pSe,{root:t}),r]})}function pSe({root:e=":host, :root"}){const t=[e,"[data-theme]"].join(",");return $.jsx(cC,{styles:n=>({[t]:n.__cssVars})})}dSe({name:"StylesContext",errorMessage:"useStyles: `styles` is undefined. Seems you forgot to wrap the components in `<StylesProvider />` "});function gSe(){const{colorMode:e}=om();return $.jsx(cC,{styles:t=>{const n=IX(t,"styles.global"),r=BX(n,{theme:t,colorMode:e});return r?SX(r)(t):void 0}})}var eR=M.createContext({getDocument(){return document},getWindow(){return window}});eR.displayName="EnvironmentContext";function mSe({defer:e}={}){const[,t]=M.useReducer(n=>n+1,0);return Zp(()=>{e&&t()},[e]),M.useContext(eR)}function WX(e){const{children:t,environment:n,disabled:r}=e,i=M.useRef(null),o=M.useMemo(()=>n||{getDocument:()=>{var a,l;return(l=(a=i.current)==null?void 0:a.ownerDocument)!=null?l:document},getWindow:()=>{var a,l;return(l=(a=i.current)==null?void 0:a.ownerDocument.defaultView)!=null?l:window}},[n]),s=!r||!n;return $.jsxs(eR.Provider,{value:o,children:[t,s&&$.jsx("span",{id:"__chakra_env",hidden:!0,ref:i})]})}WX.displayName="EnvironmentProvider";var ySe=e=>{const{children:t,colorModeManager:n,portalZIndex:r,resetScope:i,resetCSS:o=!0,theme:s={},environment:a,cssVarsRoot:l,disableEnvironment:u,disableGlobalStyle:c}=e,f=$.jsx(WX,{environment:a,disabled:u,children:t});return $.jsx(hSe,{theme:s,cssVarsRoot:l,children:$.jsxs(pX,{colorModeManager:n,options:s.config,children:[o?$.jsx(Rpe,{scope:i}):$.jsx(Fpe,{}),!c&&$.jsx(gSe,{}),r?$.jsx(fG,{zIndex:r,children:f}):f]})})},vSe=(e,t)=>e.find(n=>n.id===t);function Y9(e,t){const n=HX(e,t),r=n?e[n].findIndex(i=>i.id===t):-1;return{position:n,index:r}}function HX(e,t){for(const[n,r]of Object.entries(e))if(vSe(r,t))return n}function bSe(e){const t=e.includes("right"),n=e.includes("left");let r="center";return t&&(r="flex-end"),n&&(r="flex-start"),{display:"flex",flexDirection:"column",alignItems:r}}function xSe(e){const n=e==="top"||e==="bottom"?"0 auto":void 0,r=e.includes("top")?"env(safe-area-inset-top, 0px)":void 0,i=e.includes("bottom")?"env(safe-area-inset-bottom, 0px)":void 0,o=e.includes("left")?void 0:"env(safe-area-inset-right, 0px)",s=e.includes("right")?void 0:"env(safe-area-inset-left, 0px)";return{position:"fixed",zIndex:"var(--toast-z-index, 5500)",pointerEvents:"none",display:"flex",flexDirection:"column",margin:n,top:r,bottom:i,right:o,left:s}}function Rw(e,t=[]){const n=M.useRef(e);return M.useEffect(()=>{n.current=e}),M.useCallback((...r)=>{var i;return(i=n.current)==null?void 0:i.call(n,...r)},t)}function wSe(e,t){const n=Rw(e);M.useEffect(()=>{if(t==null)return;let r=null;return r=window.setTimeout(()=>{n()},t),()=>{r&&window.clearTimeout(r)}},[t,n])}function X9(e,t){const n=M.useRef(!1),r=M.useRef(!1);M.useEffect(()=>{if(n.current&&r.current)return e();r.current=!0},t),M.useEffect(()=>(n.current=!0,()=>{n.current=!1}),[])}const qX=M.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),PC=M.createContext({}),kv=M.createContext(null),MC=typeof document<"u",tR=MC?M.useLayoutEffect:M.useEffect,GX=M.createContext({strict:!1}),nR=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),SSe="framerAppearId",YX="data-"+nR(SSe);function kSe(e,t,n,r){const{visualElement:i}=M.useContext(PC),o=M.useContext(GX),s=M.useContext(kv),a=M.useContext(qX).reducedMotion,l=M.useRef();r=r||o.renderer,!l.current&&r&&(l.current=r(e,{visualState:t,parent:i,props:n,presenceContext:s,blockInitialAnimation:s?s.initial===!1:!1,reducedMotionConfig:a}));const u=l.current;M.useInsertionEffect(()=>{u&&u.update(n,s)});const c=M.useRef(!!(n[YX]&&!window.HandoffComplete));return tR(()=>{u&&(u.render(),c.current&&u.animationState&&u.animationState.animateChanges())}),M.useEffect(()=>{u&&(u.updateFeatures(),!c.current&&u.animationState&&u.animationState.animateChanges(),c.current&&(c.current=!1,window.HandoffComplete=!0))}),u}function sp(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function CSe(e,t,n){return M.useCallback(r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):sp(n)&&(n.current=r))},[t])}function S1(e){return typeof e=="string"||Array.isArray(e)}function FC(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const rR=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],iR=["initial",...rR];function RC(e){return FC(e.animate)||iR.some(t=>S1(e[t]))}function XX(e){return!!(RC(e)||e.variants)}function ESe(e,t){if(RC(e)){const{initial:n,animate:r}=e;return{initial:n===!1||S1(n)?n:void 0,animate:S1(r)?r:void 0}}return e.inherit!==!1?t:{}}function _Se(e){const{initial:t,animate:n}=ESe(e,M.useContext(PC));return M.useMemo(()=>({initial:t,animate:n}),[K9(t),K9(n)])}function K9(e){return Array.isArray(e)?e.join(" "):e}const Q9={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},k1={};for(const e in Q9)k1[e]={isEnabled:t=>Q9[e].some(n=>!!t[n])};function $Se(e){for(const t in e)k1[t]={...k1[t],...e[t]}}const oR=M.createContext({}),KX=M.createContext({}),ASe=Symbol.for("motionComponentSymbol");function TSe({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:i}){e&&$Se(e);function o(a,l){let u;const c={...M.useContext(qX),...a,layoutId:PSe(a)},{isStatic:f}=c,d=_Se(a),h=r(a,f);if(!f&&MC){d.visualElement=kSe(i,h,c,t);const p=M.useContext(KX),g=M.useContext(GX).strict;d.visualElement&&(u=d.visualElement.loadFeatures(c,g,e,p))}return M.createElement(PC.Provider,{value:d},u&&d.visualElement?M.createElement(u,{visualElement:d.visualElement,...c}):null,n(i,a,CSe(h,d.visualElement,l),h,f,d.visualElement))}const s=M.forwardRef(o);return s[ASe]=i,s}function PSe({layoutId:e}){const t=M.useContext(oR).id;return t&&e!==void 0?t+"-"+e:e}function MSe(e){function t(r,i={}){return TSe(e(r,i))}if(typeof Proxy>"u")return t;const n=new Map;return new Proxy(t,{get:(r,i)=>(n.has(i)||n.set(i,t(i)),n.get(i))})}const FSe=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function sR(e){return typeof e!="string"||e.includes("-")?!1:!!(FSe.indexOf(e)>-1||/[A-Z]/.test(e))}const U2={};function RSe(e){Object.assign(U2,e)}const Cv=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Vd=new Set(Cv);function QX(e,{layout:t,layoutId:n}){return Vd.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!U2[e]||e==="opacity")}const xi=e=>!!(e&&e.getVelocity),OSe={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},DSe=Cv.length;function NSe(e,{enableHardwareAcceleration:t=!0,allowTransformNone:n=!0},r,i){let o="";for(let s=0;s<DSe;s++){const a=Cv[s];if(e[a]!==void 0){const l=OSe[a]||a;o+=`${l}(${e[a]}) `}}return t&&!e.z&&(o+="translateZ(0)"),o=o.trim(),i?o=i(e,r?"":o):n&&r&&(o="none"),o}const JX=e=>t=>typeof t=="string"&&t.startsWith(e),ZX=JX("--"),y3=JX("var(--"),LSe=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,ISe=(e,t)=>t&&typeof e=="number"?t.transform(e):e,fc=(e,t,n)=>Math.min(Math.max(n,e),t),Wd={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Ay={...Wd,transform:e=>fc(0,1,e)},ax={...Wd,default:1},Ty=e=>Math.round(e*1e5)/1e5,OC=/(-)?([\d]*\.?[\d])+/g,eK=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,zSe=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Ev(e){return typeof e=="string"}const _v=e=>({test:t=>Ev(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),fu=_v("deg"),xa=_v("%"),Te=_v("px"),jSe=_v("vh"),BSe=_v("vw"),J9={...xa,parse:e=>xa.parse(e)/100,transform:e=>xa.transform(e*100)},Z9={...Wd,transform:Math.round},tK={borderWidth:Te,borderTopWidth:Te,borderRightWidth:Te,borderBottomWidth:Te,borderLeftWidth:Te,borderRadius:Te,radius:Te,borderTopLeftRadius:Te,borderTopRightRadius:Te,borderBottomRightRadius:Te,borderBottomLeftRadius:Te,width:Te,maxWidth:Te,height:Te,maxHeight:Te,size:Te,top:Te,right:Te,bottom:Te,left:Te,padding:Te,paddingTop:Te,paddingRight:Te,paddingBottom:Te,paddingLeft:Te,margin:Te,marginTop:Te,marginRight:Te,marginBottom:Te,marginLeft:Te,rotate:fu,rotateX:fu,rotateY:fu,rotateZ:fu,scale:ax,scaleX:ax,scaleY:ax,scaleZ:ax,skew:fu,skewX:fu,skewY:fu,distance:Te,translateX:Te,translateY:Te,translateZ:Te,x:Te,y:Te,z:Te,perspective:Te,transformPerspective:Te,opacity:Ay,originX:J9,originY:J9,originZ:Te,zIndex:Z9,fillOpacity:Ay,strokeOpacity:Ay,numOctaves:Z9};function aR(e,t,n,r){const{style:i,vars:o,transform:s,transformOrigin:a}=e;let l=!1,u=!1,c=!0;for(const f in t){const d=t[f];if(ZX(f)){o[f]=d;continue}const h=tK[f],p=ISe(d,h);if(Vd.has(f)){if(l=!0,s[f]=p,!c)continue;d!==(h.default||0)&&(c=!1)}else f.startsWith("origin")?(u=!0,a[f]=p):i[f]=p}if(t.transform||(l||r?i.transform=NSe(e.transform,n,c,r):i.transform&&(i.transform="none")),u){const{originX:f="50%",originY:d="50%",originZ:h=0}=a;i.transformOrigin=`${f} ${d} ${h}`}}const lR=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function nK(e,t,n){for(const r in t)!xi(t[r])&&!QX(r,n)&&(e[r]=t[r])}function USe({transformTemplate:e},t,n){return M.useMemo(()=>{const r=lR();return aR(r,t,{enableHardwareAcceleration:!n},e),Object.assign({},r.vars,r.style)},[t])}function VSe(e,t,n){const r=e.style||{},i={};return nK(i,r,e),Object.assign(i,USe(e,t,n)),e.transformValues?e.transformValues(i):i}function WSe(e,t,n){const r={},i=VSe(e,t,n);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=i,r}const HSe=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function V2(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||HSe.has(e)}let rK=e=>!V2(e);function qSe(e){e&&(rK=t=>t.startsWith("on")?!V2(t):e(t))}try{qSe(require("@emotion/is-prop-valid").default)}catch{}function GSe(e,t,n){const r={};for(const i in e)i==="values"&&typeof e.values=="object"||(rK(i)||n===!0&&V2(i)||!t&&!V2(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}function ez(e,t,n){return typeof e=="string"?e:Te.transform(t+n*e)}function YSe(e,t,n){const r=ez(t,e.x,e.width),i=ez(n,e.y,e.height);return`${r} ${i}`}const XSe={offset:"stroke-dashoffset",array:"stroke-dasharray"},KSe={offset:"strokeDashoffset",array:"strokeDasharray"};function QSe(e,t,n=1,r=0,i=!0){e.pathLength=1;const o=i?XSe:KSe;e[o.offset]=Te.transform(-r);const s=Te.transform(t),a=Te.transform(n);e[o.array]=`${s} ${a}`}function uR(e,{attrX:t,attrY:n,attrScale:r,originX:i,originY:o,pathLength:s,pathSpacing:a=1,pathOffset:l=0,...u},c,f,d){if(aR(e,u,c,d),f){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:h,style:p,dimensions:g}=e;h.transform&&(g&&(p.transform=h.transform),delete h.transform),g&&(i!==void 0||o!==void 0||p.transform)&&(p.transformOrigin=YSe(g,i!==void 0?i:.5,o!==void 0?o:.5)),t!==void 0&&(h.x=t),n!==void 0&&(h.y=n),r!==void 0&&(h.scale=r),s!==void 0&&QSe(h,s,a,l,!1)}const iK=()=>({...lR(),attrs:{}}),cR=e=>typeof e=="string"&&e.toLowerCase()==="svg";function JSe(e,t,n,r){const i=M.useMemo(()=>{const o=iK();return uR(o,t,{enableHardwareAcceleration:!1},cR(r),e.transformTemplate),{...o.attrs,style:{...o.style}}},[t]);if(e.style){const o={};nK(o,e.style,e),i.style={...o,...i.style}}return i}function ZSe(e=!1){return(n,r,i,{latestValues:o},s)=>{const l=(sR(n)?JSe:WSe)(r,o,s,n),c={...GSe(r,typeof n=="string",e),...l,ref:i},{children:f}=r,d=M.useMemo(()=>xi(f)?f.get():f,[f]);return M.createElement(n,{...c,children:d})}}function oK(e,{style:t,vars:n},r,i){Object.assign(e.style,t,i&&i.getProjectionStyles(r));for(const o in n)e.style.setProperty(o,n[o])}const sK=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function aK(e,t,n,r){oK(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(sK.has(i)?i:nR(i),t.attrs[i])}function fR(e,t){const{style:n}=e,r={};for(const i in n)(xi(n[i])||t.style&&xi(t.style[i])||QX(i,e))&&(r[i]=n[i]);return r}function lK(e,t){const n=fR(e,t);for(const r in e)if(xi(e[r])||xi(t[r])){const i=Cv.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[i]=e[r]}return n}function dR(e,t,n,r={},i={}){return typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,i)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,i)),t}function hR(e){const t=M.useRef(null);return t.current===null&&(t.current=e()),t.current}const W2=e=>Array.isArray(e),eke=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),tke=e=>W2(e)?e[e.length-1]||0:e;function Ow(e){const t=xi(e)?e.get():e;return eke(t)?t.toValue():t}function nke({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:n},r,i,o){const s={latestValues:rke(r,i,o,e),renderState:t()};return n&&(s.mount=a=>n(r,a,s)),s}const uK=e=>(t,n)=>{const r=M.useContext(PC),i=M.useContext(kv),o=()=>nke(e,t,r,i);return n?o():hR(o)};function rke(e,t,n,r){const i={},o=r(e,{});for(const d in o)i[d]=Ow(o[d]);let{initial:s,animate:a}=e;const l=RC(e),u=XX(e);t&&u&&!l&&e.inherit!==!1&&(s===void 0&&(s=t.initial),a===void 0&&(a=t.animate));let c=n?n.initial===!1:!1;c=c||s===!1;const f=c?a:s;return f&&typeof f!="boolean"&&!FC(f)&&(Array.isArray(f)?f:[f]).forEach(h=>{const p=dR(e,h);if(!p)return;const{transitionEnd:g,transition:m,...y}=p;for(const v in y){let b=y[v];if(Array.isArray(b)){const x=c?b.length-1:0;b=b[x]}b!==null&&(i[v]=b)}for(const v in g)i[v]=g[v]}),i}const on=e=>e;class tz{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const n=this.order.indexOf(t);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function ike(e){let t=new tz,n=new tz,r=0,i=!1,o=!1;const s=new WeakSet,a={schedule:(l,u=!1,c=!1)=>{const f=c&&i,d=f?t:n;return u&&s.add(l),d.add(l)&&f&&i&&(r=t.order.length),l},cancel:l=>{n.remove(l),s.delete(l)},process:l=>{if(i){o=!0;return}if(i=!0,[t,n]=[n,t],n.clear(),r=t.order.length,r)for(let u=0;u<r;u++){const c=t.order[u];c(l),s.has(c)&&(a.schedule(c),e())}i=!1,o&&(o=!1,a.process(l))}};return a}const lx=["prepare","read","update","preRender","render","postRender"],oke=40;function ske(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},o=lx.reduce((f,d)=>(f[d]=ike(()=>n=!0),f),{}),s=f=>o[f].process(i),a=()=>{const f=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(f-i.timestamp,oke),1),i.timestamp=f,i.isProcessing=!0,lx.forEach(s),i.isProcessing=!1,n&&t&&(r=!1,e(a))},l=()=>{n=!0,r=!0,i.isProcessing||e(a)};return{schedule:lx.reduce((f,d)=>{const h=o[d];return f[d]=(p,g=!1,m=!1)=>(n||l(),h.schedule(p,g,m)),f},{}),cancel:f=>lx.forEach(d=>o[d].cancel(f)),state:i,steps:o}}const{schedule:_t,cancel:Il,state:gr,steps:sA}=ske(typeof requestAnimationFrame<"u"?requestAnimationFrame:on,!0),ake={useVisualState:uK({scrapeMotionValuesFromProps:lK,createRenderState:iK,onMount:(e,t,{renderState:n,latestValues:r})=>{_t.read(()=>{try{n.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),_t.render(()=>{uR(n,r,{enableHardwareAcceleration:!1},cR(t.tagName),e.transformTemplate),aK(t,n)})}})},lke={useVisualState:uK({scrapeMotionValuesFromProps:fR,createRenderState:lR})};function uke(e,{forwardMotionProps:t=!1},n,r){return{...sR(e)?ake:lke,preloadedFeatures:n,useRender:ZSe(t),createVisualElement:r,Component:e}}function pl(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const cK=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function DC(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const cke=e=>t=>cK(t)&&e(t,DC(t));function Sl(e,t,n,r){return pl(e,t,cke(n),r)}const fke=(e,t)=>n=>t(e(n)),nc=(...e)=>e.reduce(fke);function fK(e){let t=null;return()=>{const n=()=>{t=null};return t===null?(t=e,n):!1}}const nz=fK("dragHorizontal"),rz=fK("dragVertical");function dK(e){let t=!1;if(e==="y")t=rz();else if(e==="x")t=nz();else{const n=nz(),r=rz();n&&r?t=()=>{n(),r()}:(n&&n(),r&&r())}return t}function hK(){const e=dK(!0);return e?(e(),!1):!0}let Oc=class{constructor(t){this.isMounted=!1,this.node=t}update(){}};function iz(e,t){const n="pointer"+(t?"enter":"leave"),r="onHover"+(t?"Start":"End"),i=(o,s)=>{if(o.pointerType==="touch"||hK())return;const a=e.getProps();e.animationState&&a.whileHover&&e.animationState.setActive("whileHover",t),a[r]&&_t.update(()=>a[r](o,s))};return Sl(e.current,n,i,{passive:!e.getProps()[r]})}class dke extends Oc{mount(){this.unmount=nc(iz(this.node,!0),iz(this.node,!1))}unmount(){}}class hke extends Oc{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=nc(pl(this.node.current,"focus",()=>this.onFocus()),pl(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const pK=(e,t)=>t?e===t?!0:pK(e,t.parentElement):!1;function aA(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,DC(n))}class pke extends Oc{constructor(){super(...arguments),this.removeStartListeners=on,this.removeEndListeners=on,this.removeAccessibleListeners=on,this.startPointerPress=(t,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),o=Sl(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:c,globalTapTarget:f}=this.node.getProps();_t.update(()=>{!f&&!pK(this.node.current,a.target)?c&&c(a,l):u&&u(a,l)})},{passive:!(r.onTap||r.onPointerUp)}),s=Sl(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=nc(o,s),this.startPress(t,n)},this.startAccessiblePress=()=>{const t=o=>{if(o.key!=="Enter"||this.isPressing)return;const s=a=>{a.key!=="Enter"||!this.checkPressEnd()||aA("up",(l,u)=>{const{onTap:c}=this.node.getProps();c&&_t.update(()=>c(l,u))})};this.removeEndListeners(),this.removeEndListeners=pl(this.node.current,"keyup",s),aA("down",(a,l)=>{this.startPress(a,l)})},n=pl(this.node.current,"keydown",t),r=()=>{this.isPressing&&aA("cancel",(o,s)=>this.cancelPress(o,s))},i=pl(this.node.current,"blur",r);this.removeAccessibleListeners=nc(n,i)}}startPress(t,n){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&_t.update(()=>r(t,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!hK()}cancelPress(t,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&_t.update(()=>r(t,n))}mount(){const t=this.node.getProps(),n=Sl(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),r=pl(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=nc(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const v3=new WeakMap,lA=new WeakMap,gke=e=>{const t=v3.get(e.target);t&&t(e)},mke=e=>{e.forEach(gke)};function yke({root:e,...t}){const n=e||document;lA.has(n)||lA.set(n,{});const r=lA.get(n),i=JSON.stringify(t);return r[i]||(r[i]=new IntersectionObserver(mke,{root:e,...t})),r[i]}function vke(e,t,n){const r=yke(t);return v3.set(e,n),r.observe(e),()=>{v3.delete(e),r.unobserve(e)}}const bke={some:0,all:1};class xke extends Oc{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:o}=t,s={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:bke[i]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,o&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:c,onViewportLeave:f}=this.node.getProps(),d=u?c:f;d&&d(l)};return vke(this.node.current,s,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(wke(t,n))&&this.startObserver()}unmount(){}}function wke({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const Ske={inView:{Feature:xke},tap:{Feature:pke},focus:{Feature:hke},hover:{Feature:dke}};function gK(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function kke(e){const t={};return e.values.forEach((n,r)=>t[r]=n.get()),t}function Cke(e){const t={};return e.values.forEach((n,r)=>t[r]=n.getVelocity()),t}function NC(e,t,n){const r=e.getProps();return dR(r,t,n!==void 0?n:r.custom,kke(e),Cke(e))}let H2=on;const Qf=e=>e*1e3,kl=e=>e/1e3,Eke={current:!1},mK=e=>Array.isArray(e)&&typeof e[0]=="number";function yK(e){return!!(!e||typeof e=="string"&&vK[e]||mK(e)||Array.isArray(e)&&e.every(yK))}const j0=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,vK={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:j0([0,.65,.55,1]),circOut:j0([.55,0,1,.45]),backIn:j0([.31,.01,.66,-.59]),backOut:j0([.33,1.53,.69,.99])};function bK(e){if(e)return mK(e)?j0(e):Array.isArray(e)?e.map(bK):vK[e]}function _ke(e,t,n,{delay:r=0,duration:i,repeat:o=0,repeatType:s="loop",ease:a,times:l}={}){const u={[t]:n};l&&(u.offset=l);const c=bK(a);return Array.isArray(c)&&(u.easing=c),e.animate(u,{delay:r,duration:i,easing:Array.isArray(c)?"linear":c,fill:"both",iterations:o+1,direction:s==="reverse"?"alternate":"normal"})}function $ke(e,{repeat:t,repeatType:n="loop"}){const r=t&&n!=="loop"&&t%2===1?0:e.length-1;return e[r]}const xK=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,Ake=1e-7,Tke=12;function Pke(e,t,n,r,i){let o,s,a=0;do s=t+(n-t)/2,o=xK(s,r,i)-e,o>0?n=s:t=s;while(Math.abs(o)>Ake&&++a<Tke);return s}function $v(e,t,n,r){if(e===t&&n===r)return on;const i=o=>Pke(o,0,1,e,n);return o=>o===0||o===1?o:xK(i(o),t,r)}const Mke=$v(.42,0,1,1),Fke=$v(0,0,.58,1),wK=$v(.42,0,.58,1),Rke=e=>Array.isArray(e)&&typeof e[0]!="number",SK=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,kK=e=>t=>1-e(1-t),pR=e=>1-Math.sin(Math.acos(e)),CK=kK(pR),Oke=SK(pR),EK=$v(.33,1.53,.69,.99),gR=kK(EK),Dke=SK(gR),Nke=e=>(e*=2)<1?.5*gR(e):.5*(2-Math.pow(2,-10*(e-1))),oz={linear:on,easeIn:Mke,easeInOut:wK,easeOut:Fke,circIn:pR,circInOut:Oke,circOut:CK,backIn:gR,backInOut:Dke,backOut:EK,anticipate:Nke},sz=e=>{if(Array.isArray(e)){H2(e.length===4);const[t,n,r,i]=e;return $v(t,n,r,i)}else if(typeof e=="string")return H2(oz[e]!==void 0),oz[e];return e},mR=(e,t)=>n=>!!(Ev(n)&&zSe.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),_K=(e,t,n)=>r=>{if(!Ev(r))return r;const[i,o,s,a]=r.match(OC);return{[e]:parseFloat(i),[t]:parseFloat(o),[n]:parseFloat(s),alpha:a!==void 0?parseFloat(a):1}},Lke=e=>fc(0,255,e),uA={...Wd,transform:e=>Math.round(Lke(e))},Of={test:mR("rgb","red"),parse:_K("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+uA.transform(e)+", "+uA.transform(t)+", "+uA.transform(n)+", "+Ty(Ay.transform(r))+")"};function Ike(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const b3={test:mR("#"),parse:Ike,transform:Of.transform},ap={test:mR("hsl","hue"),parse:_K("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+xa.transform(Ty(t))+", "+xa.transform(Ty(n))+", "+Ty(Ay.transform(r))+")"},Dr={test:e=>Of.test(e)||b3.test(e)||ap.test(e),parse:e=>Of.test(e)?Of.parse(e):ap.test(e)?ap.parse(e):b3.parse(e),transform:e=>Ev(e)?e:e.hasOwnProperty("red")?Of.transform(e):ap.transform(e)},Wt=(e,t,n)=>-n*e+n*t+e;function cA(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function zke({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let i=0,o=0,s=0;if(!t)i=o=s=n;else{const a=n<.5?n*(1+t):n+t-n*t,l=2*n-a;i=cA(l,a,e+1/3),o=cA(l,a,e),s=cA(l,a,e-1/3)}return{red:Math.round(i*255),green:Math.round(o*255),blue:Math.round(s*255),alpha:r}}const fA=(e,t,n)=>{const r=e*e;return Math.sqrt(Math.max(0,n*(t*t-r)+r))},jke=[b3,Of,ap],Bke=e=>jke.find(t=>t.test(e));function az(e){const t=Bke(e);let n=t.parse(e);return t===ap&&(n=zke(n)),n}const $K=(e,t)=>{const n=az(e),r=az(t),i={...n};return o=>(i.red=fA(n.red,r.red,o),i.green=fA(n.green,r.green,o),i.blue=fA(n.blue,r.blue,o),i.alpha=Wt(n.alpha,r.alpha,o),Of.transform(i))};function Uke(e){var t,n;return isNaN(e)&&Ev(e)&&(((t=e.match(OC))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(eK))===null||n===void 0?void 0:n.length)||0)>0}const AK={regex:LSe,countKey:"Vars",token:"${v}",parse:on},TK={regex:eK,countKey:"Colors",token:"${c}",parse:Dr.parse},PK={regex:OC,countKey:"Numbers",token:"${n}",parse:Wd.parse};function dA(e,{regex:t,countKey:n,token:r,parse:i}){const o=e.tokenised.match(t);o&&(e["num"+n]=o.length,e.tokenised=e.tokenised.replace(t,r),e.values.push(...o.map(i)))}function q2(e){const t=e.toString(),n={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&dA(n,AK),dA(n,TK),dA(n,PK),n}function MK(e){return q2(e).values}function FK(e){const{values:t,numColors:n,numVars:r,tokenised:i}=q2(e),o=t.length;return s=>{let a=i;for(let l=0;l<o;l++)l<r?a=a.replace(AK.token,s[l]):l<r+n?a=a.replace(TK.token,Dr.transform(s[l])):a=a.replace(PK.token,Ty(s[l]));return a}}const Vke=e=>typeof e=="number"?0:e;function Wke(e){const t=MK(e);return FK(e)(t.map(Vke))}const dc={test:Uke,parse:MK,createTransformer:FK,getAnimatableNone:Wke},RK=(e,t)=>n=>`${n>0?t:e}`;function OK(e,t){return typeof e=="number"?n=>Wt(e,t,n):Dr.test(e)?$K(e,t):e.startsWith("var(")?RK(e,t):NK(e,t)}const DK=(e,t)=>{const n=[...e],r=n.length,i=e.map((o,s)=>OK(o,t[s]));return o=>{for(let s=0;s<r;s++)n[s]=i[s](o);return n}},Hke=(e,t)=>{const n={...e,...t},r={};for(const i in n)e[i]!==void 0&&t[i]!==void 0&&(r[i]=OK(e[i],t[i]));return i=>{for(const o in r)n[o]=r[o](i);return n}},NK=(e,t)=>{const n=dc.createTransformer(t),r=q2(e),i=q2(t);return r.numVars===i.numVars&&r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?nc(DK(r.values,i.values),n):RK(e,t)},C1=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},lz=(e,t)=>n=>Wt(e,t,n);function qke(e){return typeof e=="number"?lz:typeof e=="string"?Dr.test(e)?$K:NK:Array.isArray(e)?DK:typeof e=="object"?Hke:lz}function Gke(e,t,n){const r=[],i=n||qke(e[0]),o=e.length-1;for(let s=0;s<o;s++){let a=i(e[s],e[s+1]);if(t){const l=Array.isArray(t)?t[s]||on:t;a=nc(l,a)}r.push(a)}return r}function LK(e,t,{clamp:n=!0,ease:r,mixer:i}={}){const o=e.length;if(H2(o===t.length),o===1)return()=>t[0];e[0]>e[o-1]&&(e=[...e].reverse(),t=[...t].reverse());const s=Gke(t,r,i),a=s.length,l=u=>{let c=0;if(a>1)for(;c<e.length-2&&!(u<e[c+1]);c++);const f=C1(e[c],e[c+1],u);return s[c](f)};return n?u=>l(fc(e[0],e[o-1],u)):l}function Yke(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=C1(0,t,r);e.push(Wt(n,1,i))}}function Xke(e){const t=[0];return Yke(t,e.length-1),t}function Kke(e,t){return e.map(n=>n*t)}function Qke(e,t){return e.map(()=>t||wK).splice(0,e.length-1)}function G2({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const i=Rke(r)?r.map(sz):sz(r),o={done:!1,value:t[0]},s=Kke(n&&n.length===t.length?n:Xke(t),e),a=LK(s,t,{ease:Array.isArray(i)?i:Qke(t,i)});return{calculatedDuration:e,next:l=>(o.value=a(l),o.done=l>=e,o)}}function IK(e,t){return t?e*(1e3/t):0}const Jke=5;function zK(e,t,n){const r=Math.max(t-Jke,0);return IK(n-e(r),t-r)}const hA=.001,Zke=.01,eCe=10,tCe=.05,nCe=1;function rCe({duration:e=800,bounce:t=.25,velocity:n=0,mass:r=1}){let i,o,s=1-t;s=fc(tCe,nCe,s),e=fc(Zke,eCe,kl(e)),s<1?(i=u=>{const c=u*s,f=c*e,d=c-n,h=x3(u,s),p=Math.exp(-f);return hA-d/h*p},o=u=>{const f=u*s*e,d=f*n+n,h=Math.pow(s,2)*Math.pow(u,2)*e,p=Math.exp(-f),g=x3(Math.pow(u,2),s);return(-i(u)+hA>0?-1:1)*((d-h)*p)/g}):(i=u=>{const c=Math.exp(-u*e),f=(u-n)*e+1;return-hA+c*f},o=u=>{const c=Math.exp(-u*e),f=(n-u)*(e*e);return c*f});const a=5/e,l=oCe(i,o,a);if(e=Qf(e),isNaN(l))return{stiffness:100,damping:10,duration:e};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:s*2*Math.sqrt(r*u),duration:e}}}const iCe=12;function oCe(e,t,n){let r=n;for(let i=1;i<iCe;i++)r=r-e(r)/t(r);return r}function x3(e,t){return e*Math.sqrt(1-t*t)}const sCe=["duration","bounce"],aCe=["stiffness","damping","mass"];function uz(e,t){return t.some(n=>e[n]!==void 0)}function lCe(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!uz(e,aCe)&&uz(e,sCe)){const n=rCe(e);t={...t,...n,mass:1},t.isResolvedFromDuration=!0}return t}function jK({keyframes:e,restDelta:t,restSpeed:n,...r}){const i=e[0],o=e[e.length-1],s={done:!1,value:i},{stiffness:a,damping:l,mass:u,duration:c,velocity:f,isResolvedFromDuration:d}=lCe({...r,velocity:-kl(r.velocity||0)}),h=f||0,p=l/(2*Math.sqrt(a*u)),g=o-i,m=kl(Math.sqrt(a/u)),y=Math.abs(g)<5;n||(n=y?.01:2),t||(t=y?.005:.5);let v;if(p<1){const b=x3(m,p);v=x=>{const w=Math.exp(-p*m*x);return o-w*((h+p*m*g)/b*Math.sin(b*x)+g*Math.cos(b*x))}}else if(p===1)v=b=>o-Math.exp(-m*b)*(g+(h+m*g)*b);else{const b=m*Math.sqrt(p*p-1);v=x=>{const w=Math.exp(-p*m*x),k=Math.min(b*x,300);return o-w*((h+p*m*g)*Math.sinh(k)+b*g*Math.cosh(k))/b}}return{calculatedDuration:d&&c||null,next:b=>{const x=v(b);if(d)s.done=b>=c;else{let w=h;b!==0&&(p<1?w=zK(v,b,x):w=0);const k=Math.abs(w)<=n,S=Math.abs(o-x)<=t;s.done=k&&S}return s.value=s.done?o:x,s}}}function cz({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:o=500,modifyTarget:s,min:a,max:l,restDelta:u=.5,restSpeed:c}){const f=e[0],d={done:!1,value:f},h=C=>a!==void 0&&C<a||l!==void 0&&C>l,p=C=>a===void 0?l:l===void 0||Math.abs(a-C)<Math.abs(l-C)?a:l;let g=n*t;const m=f+g,y=s===void 0?m:s(m);y!==m&&(g=y-f);const v=C=>-g*Math.exp(-C/r),b=C=>y+v(C),x=C=>{const E=v(C),A=b(C);d.done=Math.abs(E)<=u,d.value=d.done?y:A};let w,k;const S=C=>{h(d.value)&&(w=C,k=jK({keyframes:[d.value,p(d.value)],velocity:zK(b,C,d.value),damping:i,stiffness:o,restDelta:u,restSpeed:c}))};return S(0),{calculatedDuration:null,next:C=>{let E=!1;return!k&&w===void 0&&(E=!0,x(C),S(C)),w!==void 0&&C>w?k.next(C-w):(!E&&x(C),d)}}}const uCe=e=>{const t=({timestamp:n})=>e(n);return{start:()=>_t.update(t,!0),stop:()=>Il(t),now:()=>gr.isProcessing?gr.timestamp:performance.now()}},fz=2e4;function dz(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<fz;)t+=n,r=e.next(t);return t>=fz?1/0:t}const cCe={decay:cz,inertia:cz,tween:G2,keyframes:G2,spring:jK};function Y2({autoplay:e=!0,delay:t=0,driver:n=uCe,keyframes:r,type:i="keyframes",repeat:o=0,repeatDelay:s=0,repeatType:a="loop",onPlay:l,onStop:u,onComplete:c,onUpdate:f,...d}){let h=1,p=!1,g,m;const y=()=>{m=new Promise(V=>{g=V})};y();let v;const b=cCe[i]||G2;let x;b!==G2&&typeof r[0]!="number"&&(x=LK([0,100],r,{clamp:!1}),r=[0,100]);const w=b({...d,keyframes:r});let k;a==="mirror"&&(k=b({...d,keyframes:[...r].reverse(),velocity:-(d.velocity||0)}));let S="idle",C=null,E=null,A=null;w.calculatedDuration===null&&o&&(w.calculatedDuration=dz(w));const{calculatedDuration:T}=w;let L=1/0,F=1/0;T!==null&&(L=T+s,F=L*(o+1)-s);let R=0;const _=V=>{if(E===null)return;h>0&&(E=Math.min(E,V)),h<0&&(E=Math.min(V-F/h,E)),C!==null?R=C:R=Math.round(V-E)*h;const oe=R-t*(h>=0?1:-1),Q=h>=0?oe<0:oe>F;R=Math.max(oe,0),S==="finished"&&C===null&&(R=F);let ye=R,Oe=w;if(o){const ce=Math.min(R,F)/L;let $e=Math.floor(ce),Ae=ce%1;!Ae&&ce>=1&&(Ae=1),Ae===1&&$e--,$e=Math.min($e,o+1),!!($e%2)&&(a==="reverse"?(Ae=1-Ae,s&&(Ae-=s/L)):a==="mirror"&&(Oe=k)),ye=fc(0,1,Ae)*L}const ut=Q?{done:!1,value:r[0]}:Oe.next(ye);x&&(ut.value=x(ut.value));let{done:$n}=ut;!Q&&T!==null&&($n=h>=0?R>=F:R<=0);const sr=C===null&&(S==="finished"||S==="running"&&$n);return f&&f(ut.value),sr&&D(),ut},P=()=>{v&&v.stop(),v=void 0},N=()=>{S="idle",P(),g(),y(),E=A=null},D=()=>{S="finished",c&&c(),P(),g()},I=()=>{if(p)return;v||(v=n(_));const V=v.now();l&&l(),C!==null?E=V-C:(!E||S==="finished")&&(E=V),S==="finished"&&y(),A=E,C=null,S="running",v.start()};e&&I();const U={then(V,oe){return m.then(V,oe)},get time(){return kl(R)},set time(V){V=Qf(V),R=V,C!==null||!v||h===0?C=V:E=v.now()-V/h},get duration(){const V=w.calculatedDuration===null?dz(w):w.calculatedDuration;return kl(V)},get speed(){return h},set speed(V){V===h||!v||(h=V,U.time=kl(R))},get state(){return S},play:I,pause:()=>{S="paused",C=R},stop:()=>{p=!0,S!=="idle"&&(S="idle",u&&u(),N())},cancel:()=>{A!==null&&_(A),N()},complete:()=>{S="finished"},sample:V=>(E=0,_(V))};return U}function fCe(e){let t;return()=>(t===void 0&&(t=e()),t)}const dCe=fCe(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),hCe=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),ux=10,pCe=2e4,gCe=(e,t)=>t.type==="spring"||e==="backgroundColor"||!yK(t.ease);function mCe(e,t,{onUpdate:n,onComplete:r,...i}){if(!(dCe()&&hCe.has(t)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0&&i.type!=="inertia"))return!1;let s=!1,a,l,u=!1;const c=()=>{l=new Promise(b=>{a=b})};c();let{keyframes:f,duration:d=300,ease:h,times:p}=i;if(gCe(t,i)){const b=Y2({...i,repeat:0,delay:0});let x={done:!1,value:f[0]};const w=[];let k=0;for(;!x.done&&k<pCe;)x=b.sample(k),w.push(x.value),k+=ux;p=void 0,f=w,d=k-ux,h="linear"}const g=_ke(e.owner.current,t,f,{...i,duration:d,ease:h,times:p}),m=()=>{u=!1,g.cancel()},y=()=>{u=!0,_t.update(m),a(),c()};return g.onfinish=()=>{u||(e.set($ke(f,i)),r&&r(),y())},{then(b,x){return l.then(b,x)},attachTimeline(b){return g.timeline=b,g.onfinish=null,on},get time(){return kl(g.currentTime||0)},set time(b){g.currentTime=Qf(b)},get speed(){return g.playbackRate},set speed(b){g.playbackRate=b},get duration(){return kl(d)},play:()=>{s||(g.play(),Il(m))},pause:()=>g.pause(),stop:()=>{if(s=!0,g.playState==="idle")return;const{currentTime:b}=g;if(b){const x=Y2({...i,autoplay:!1});e.setWithVelocity(x.sample(b-ux).value,x.sample(b).value,ux)}y()},complete:()=>{u||g.finish()},cancel:y}}function yCe({keyframes:e,delay:t,onUpdate:n,onComplete:r}){const i=()=>(n&&n(e[e.length-1]),r&&r(),{time:0,speed:1,duration:0,play:on,pause:on,stop:on,then:o=>(o(),Promise.resolve()),cancel:on,complete:on});return t?Y2({keyframes:[0,1],duration:0,delay:t,onComplete:i}):i()}const vCe={type:"spring",stiffness:500,damping:25,restSpeed:10},bCe=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),xCe={type:"keyframes",duration:.8},wCe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},SCe=(e,{keyframes:t})=>t.length>2?xCe:Vd.has(e)?e.startsWith("scale")?bCe(t[1]):vCe:wCe,w3=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(dc.test(t)||t==="0")&&!t.startsWith("url(")),kCe=new Set(["brightness","contrast","saturate","opacity"]);function CCe(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(OC)||[];if(!r)return e;const i=n.replace(r,"");let o=kCe.has(t)?1:0;return r!==n&&(o*=100),t+"("+o+i+")"}const ECe=/([a-z-]*)\(.*?\)/g,S3={...dc,getAnimatableNone:e=>{const t=e.match(ECe);return t?t.map(CCe).join(" "):e}},_Ce={...tK,color:Dr,backgroundColor:Dr,outlineColor:Dr,fill:Dr,stroke:Dr,borderColor:Dr,borderTopColor:Dr,borderRightColor:Dr,borderBottomColor:Dr,borderLeftColor:Dr,filter:S3,WebkitFilter:S3},yR=e=>_Ce[e];function BK(e,t){let n=yR(e);return n!==S3&&(n=dc),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const UK=e=>/^0[^.\s]+$/.test(e);function $Ce(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||UK(e)}function ACe(e,t,n,r){const i=w3(t,n);let o;Array.isArray(n)?o=[...n]:o=[null,n];const s=r.from!==void 0?r.from:e.get();let a;const l=[];for(let u=0;u<o.length;u++)o[u]===null&&(o[u]=u===0?s:o[u-1]),$Ce(o[u])&&l.push(u),typeof o[u]=="string"&&o[u]!=="none"&&o[u]!=="0"&&(a=o[u]);if(i&&l.length&&a)for(let u=0;u<l.length;u++){const c=l[u];o[c]=BK(t,a)}return o}function TCe({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:o,repeatType:s,repeatDelay:a,from:l,elapsed:u,...c}){return!!Object.keys(c).length}function vR(e,t){return e[t]||e.default||e}const PCe={skipAnimations:!1},bR=(e,t,n,r={})=>i=>{const o=vR(r,e)||{},s=o.delay||r.delay||0;let{elapsed:a=0}=r;a=a-Qf(s);const l=ACe(t,e,n,o),u=l[0],c=l[l.length-1],f=w3(e,u),d=w3(e,c);let h={keyframes:l,velocity:t.getVelocity(),ease:"easeOut",...o,delay:-a,onUpdate:p=>{t.set(p),o.onUpdate&&o.onUpdate(p)},onComplete:()=>{i(),o.onComplete&&o.onComplete()}};if(TCe(o)||(h={...h,...SCe(e,h)}),h.duration&&(h.duration=Qf(h.duration)),h.repeatDelay&&(h.repeatDelay=Qf(h.repeatDelay)),!f||!d||Eke.current||o.type===!1||PCe.skipAnimations)return yCe(h);if(!r.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const p=mCe(t,e,h);if(p)return p}return Y2(h)};function X2(e){return!!(xi(e)&&e.add)}const VK=e=>/^\-?\d*\.?\d+$/.test(e);function xR(e,t){e.indexOf(t)===-1&&e.push(t)}function wR(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class SR{constructor(){this.subscriptions=[]}add(t){return xR(this.subscriptions,t),()=>wR(this.subscriptions,t)}notify(t,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,n,r);else for(let o=0;o<i;o++){const s=this.subscriptions[o];s&&s(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const MCe=e=>!isNaN(parseFloat(e));class FCe{constructor(t,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,i=!0)=>{this.prev=this.current,this.current=r;const{delta:o,timestamp:s}=gr;this.lastUpdated!==s&&(this.timeDelta=o,this.lastUpdated=s,_t.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>_t.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=MCe(this.current),this.owner=n.owner}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new SR);const r=this.events[t].add(n);return t==="change"?()=>{r(),_t.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=t,this.timeDelta=r}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?IK(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ug(e,t){return new FCe(e,t)}const WK=e=>t=>t.test(e),RCe={test:e=>e==="auto",parse:e=>e},HK=[Wd,Te,xa,fu,BSe,jSe,RCe],Km=e=>HK.find(WK(e)),OCe=[...HK,Dr,dc],DCe=e=>OCe.find(WK(e));function NCe(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,ug(n))}function LCe(e,t){const n=NC(e,t);let{transitionEnd:r={},transition:i={},...o}=n?e.makeTargetAnimatable(n,!1):{};o={...o,...r};for(const s in o){const a=tke(o[s]);NCe(e,s,a)}}function ICe(e,t,n){var r,i;const o=Object.keys(t).filter(a=>!e.hasValue(a)),s=o.length;if(s)for(let a=0;a<s;a++){const l=o[a],u=t[l];let c=null;Array.isArray(u)&&(c=u[0]),c===null&&(c=(i=(r=n[l])!==null&&r!==void 0?r:e.readValue(l))!==null&&i!==void 0?i:t[l]),c!=null&&(typeof c=="string"&&(VK(c)||UK(c))?c=parseFloat(c):!DCe(c)&&dc.test(u)&&(c=BK(l,u)),e.addValue(l,ug(c,{owner:e})),n[l]===void 0&&(n[l]=c),c!==null&&e.setBaseTarget(l,c))}}function zCe(e,t){return t?(t[e]||t.default||t).from:void 0}function jCe(e,t,n){const r={};for(const i in e){const o=zCe(i,t);if(o!==void 0)r[i]=o;else{const s=n.getValue(i);s&&(r[i]=s.get())}}return r}function BCe({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function UCe(e,t){const n=e.get();if(Array.isArray(t)){for(let r=0;r<t.length;r++)if(t[r]!==n)return!0}else return n!==t}function qK(e,t,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:o=e.getDefaultTransition(),transitionEnd:s,...a}=e.makeTargetAnimatable(t);const l=e.getValue("willChange");r&&(o=r);const u=[],c=i&&e.animationState&&e.animationState.getState()[i];for(const f in a){const d=e.getValue(f),h=a[f];if(!d||h===void 0||c&&BCe(c,f))continue;const p={delay:n,elapsed:0,...vR(o||{},f)};if(window.HandoffAppearAnimations){const y=e.getProps()[YX];if(y){const v=window.HandoffAppearAnimations(y,f,d,_t);v!==null&&(p.elapsed=v,p.isHandoff=!0)}}let g=!p.isHandoff&&!UCe(d,h);if(p.type==="spring"&&(d.getVelocity()||p.velocity)&&(g=!1),d.animation&&(g=!1),g)continue;d.start(bR(f,d,h,e.shouldReduceMotion&&Vd.has(f)?{type:!1}:p));const m=d.animation;X2(l)&&(l.add(f),m.then(()=>l.remove(f))),u.push(m)}return s&&Promise.all(u).then(()=>{s&&LCe(e,s)}),u}function k3(e,t,n={}){const r=NC(e,t,n.custom);let{transition:i=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const o=r?()=>Promise.all(qK(e,r,n)):()=>Promise.resolve(),s=e.variantChildren&&e.variantChildren.size?(l=0)=>{const{delayChildren:u=0,staggerChildren:c,staggerDirection:f}=i;return VCe(e,t,u+l,c,f,n)}:()=>Promise.resolve(),{when:a}=i;if(a){const[l,u]=a==="beforeChildren"?[o,s]:[s,o];return l().then(()=>u())}else return Promise.all([o(),s(n.delay)])}function VCe(e,t,n=0,r=0,i=1,o){const s=[],a=(e.variantChildren.size-1)*r,l=i===1?(u=0)=>u*r:(u=0)=>a-u*r;return Array.from(e.variantChildren).sort(WCe).forEach((u,c)=>{u.notify("AnimationStart",t),s.push(k3(u,t,{...o,delay:n+l(c)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(s)}function WCe(e,t){return e.sortNodePosition(t)}function HCe(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const i=t.map(o=>k3(e,o,n));r=Promise.all(i)}else if(typeof t=="string")r=k3(e,t,n);else{const i=typeof t=="function"?NC(e,t,n.custom):t;r=Promise.all(qK(e,i,n))}return r.then(()=>e.notify("AnimationComplete",t))}const qCe=[...rR].reverse(),GCe=rR.length;function YCe(e){return t=>Promise.all(t.map(({animation:n,options:r})=>HCe(e,n,r)))}function XCe(e){let t=YCe(e);const n=QCe();let r=!0;const i=(l,u)=>{const c=NC(e,u);if(c){const{transition:f,transitionEnd:d,...h}=c;l={...l,...h,...d}}return l};function o(l){t=l(e)}function s(l,u){const c=e.getProps(),f=e.getVariantContext(!0)||{},d=[],h=new Set;let p={},g=1/0;for(let y=0;y<GCe;y++){const v=qCe[y],b=n[v],x=c[v]!==void 0?c[v]:f[v],w=S1(x),k=v===u?b.isActive:null;k===!1&&(g=y);let S=x===f[v]&&x!==c[v]&&w;if(S&&r&&e.manuallyAnimateOnMount&&(S=!1),b.protectedKeys={...p},!b.isActive&&k===null||!x&&!b.prevProp||FC(x)||typeof x=="boolean")continue;let E=KCe(b.prevProp,x)||v===u&&b.isActive&&!S&&w||y>g&&w,A=!1;const T=Array.isArray(x)?x:[x];let L=T.reduce(i,{});k===!1&&(L={});const{prevResolvedValues:F={}}=b,R={...F,...L},_=P=>{E=!0,h.has(P)&&(A=!0,h.delete(P)),b.needsAnimating[P]=!0};for(const P in R){const N=L[P],D=F[P];if(p.hasOwnProperty(P))continue;let I=!1;W2(N)&&W2(D)?I=!gK(N,D):I=N!==D,I?N!==void 0?_(P):h.add(P):N!==void 0&&h.has(P)?_(P):b.protectedKeys[P]=!0}b.prevProp=x,b.prevResolvedValues=L,b.isActive&&(p={...p,...L}),r&&e.blockInitialAnimation&&(E=!1),E&&(!S||A)&&d.push(...T.map(P=>({animation:P,options:{type:v,...l}})))}if(h.size){const y={};h.forEach(v=>{const b=e.getBaseTarget(v);b!==void 0&&(y[v]=b)}),d.push({animation:y})}let m=!!d.length;return r&&(c.initial===!1||c.initial===c.animate)&&!e.manuallyAnimateOnMount&&(m=!1),r=!1,m?t(d):Promise.resolve()}function a(l,u,c){var f;if(n[l].isActive===u)return Promise.resolve();(f=e.variantChildren)===null||f===void 0||f.forEach(h=>{var p;return(p=h.animationState)===null||p===void 0?void 0:p.setActive(l,u)}),n[l].isActive=u;const d=s(c,l);for(const h in n)n[h].protectedKeys={};return d}return{animateChanges:s,setActive:a,setAnimateFunction:o,getState:()=>n}}function KCe(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!gK(t,e):!1}function Zc(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function QCe(){return{animate:Zc(!0),whileInView:Zc(),whileHover:Zc(),whileTap:Zc(),whileDrag:Zc(),whileFocus:Zc(),exit:Zc()}}class JCe extends Oc{constructor(t){super(t),t.animationState||(t.animationState=XCe(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),FC(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let ZCe=0;class eEe extends Oc{constructor(){super(...arguments),this.id=ZCe++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const o=this.node.animationState.setActive("exit",!t,{custom:r??this.node.getProps().custom});n&&!t&&o.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const tEe={animation:{Feature:JCe},exit:{Feature:eEe}},hz=(e,t)=>Math.abs(e-t);function nEe(e,t){const n=hz(e.x,t.x),r=hz(e.y,t.y);return Math.sqrt(n**2+r**2)}class GK{constructor(t,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=gA(this.lastMoveEventInfo,this.history),d=this.startEvent!==null,h=nEe(f.offset,{x:0,y:0})>=3;if(!d&&!h)return;const{point:p}=f,{timestamp:g}=gr;this.history.push({...p,timestamp:g});const{onStart:m,onMove:y}=this.handlers;d||(m&&m(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,f)},this.handlePointerMove=(f,d)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=pA(d,this.transformPagePoint),_t.update(this.updatePoint,!0)},this.handlePointerUp=(f,d)=>{this.end();const{onEnd:h,onSessionEnd:p,resumeAnimation:g}=this.handlers;if(this.dragSnapToOrigin&&g&&g(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=gA(f.type==="pointercancel"?this.lastMoveEventInfo:pA(d,this.transformPagePoint),this.history);this.startEvent&&h&&h(f,m),p&&p(f,m)},!cK(t))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const s=DC(t),a=pA(s,this.transformPagePoint),{point:l}=a,{timestamp:u}=gr;this.history=[{...l,timestamp:u}];const{onSessionStart:c}=n;c&&c(t,gA(a,this.history)),this.removeListeners=nc(Sl(this.contextWindow,"pointermove",this.handlePointerMove),Sl(this.contextWindow,"pointerup",this.handlePointerUp),Sl(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Il(this.updatePoint)}}function pA(e,t){return t?{point:t(e.point)}:e}function pz(e,t){return{x:e.x-t.x,y:e.y-t.y}}function gA({point:e},t){return{point:e,delta:pz(e,YK(t)),offset:pz(e,rEe(t)),velocity:iEe(t,.1)}}function rEe(e){return e[0]}function YK(e){return e[e.length-1]}function iEe(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=YK(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>Qf(t)));)n--;if(!r)return{x:0,y:0};const o=kl(i.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const s={x:(i.x-r.x)/o,y:(i.y-r.y)/o};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function Qi(e){return e.max-e.min}function C3(e,t=0,n=.01){return Math.abs(e-t)<=n}function gz(e,t,n,r=.5){e.origin=r,e.originPoint=Wt(t.min,t.max,e.origin),e.scale=Qi(n)/Qi(t),(C3(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=Wt(n.min,n.max,e.origin)-e.originPoint,(C3(e.translate)||isNaN(e.translate))&&(e.translate=0)}function Py(e,t,n,r){gz(e.x,t.x,n.x,r?r.originX:void 0),gz(e.y,t.y,n.y,r?r.originY:void 0)}function mz(e,t,n){e.min=n.min+t.min,e.max=e.min+Qi(t)}function oEe(e,t,n){mz(e.x,t.x,n.x),mz(e.y,t.y,n.y)}function yz(e,t,n){e.min=t.min-n.min,e.max=e.min+Qi(t)}function My(e,t,n){yz(e.x,t.x,n.x),yz(e.y,t.y,n.y)}function sEe(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?Wt(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?Wt(n,e,r.max):Math.min(e,n)),e}function vz(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function aEe(e,{top:t,left:n,bottom:r,right:i}){return{x:vz(e.x,n,i),y:vz(e.y,t,r)}}function bz(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function lEe(e,t){return{x:bz(e.x,t.x),y:bz(e.y,t.y)}}function uEe(e,t){let n=.5;const r=Qi(e),i=Qi(t);return i>r?n=C1(t.min,t.max-r,e.min):r>i&&(n=C1(e.min,e.max-i,t.min)),fc(0,1,n)}function cEe(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const E3=.35;function fEe(e=E3){return e===!1?e=0:e===!0&&(e=E3),{x:xz(e,"left","right"),y:xz(e,"top","bottom")}}function xz(e,t,n){return{min:wz(e,t),max:wz(e,n)}}function wz(e,t){return typeof e=="number"?e:e[t]||0}const Sz=()=>({translate:0,scale:1,origin:0,originPoint:0}),lp=()=>({x:Sz(),y:Sz()}),kz=()=>({min:0,max:0}),dn=()=>({x:kz(),y:kz()});function po(e){return[e("x"),e("y")]}function XK({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function dEe({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function hEe(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function mA(e){return e===void 0||e===1}function _3({scale:e,scaleX:t,scaleY:n}){return!mA(e)||!mA(t)||!mA(n)}function pf(e){return _3(e)||KK(e)||e.z||e.rotate||e.rotateX||e.rotateY}function KK(e){return Cz(e.x)||Cz(e.y)}function Cz(e){return e&&e!=="0%"}function K2(e,t,n){const r=e-n,i=t*r;return n+i}function Ez(e,t,n,r,i){return i!==void 0&&(e=K2(e,i,r)),K2(e,n,r)+t}function $3(e,t=0,n=1,r,i){e.min=Ez(e.min,t,n,r,i),e.max=Ez(e.max,t,n,r,i)}function QK(e,{x:t,y:n}){$3(e.x,t.translate,t.scale,t.originPoint),$3(e.y,n.translate,n.scale,n.originPoint)}function pEe(e,t,n,r=!1){const i=n.length;if(!i)return;t.x=t.y=1;let o,s;for(let a=0;a<i;a++){o=n[a],s=o.projectionDelta;const l=o.instance;l&&l.style&&l.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&up(e,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),s&&(t.x*=s.x.scale,t.y*=s.y.scale,QK(e,s)),r&&pf(o.latestValues)&&up(e,o.latestValues))}t.x=_z(t.x),t.y=_z(t.y)}function _z(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function vu(e,t){e.min=e.min+t,e.max=e.max+t}function $z(e,t,[n,r,i]){const o=t[i]!==void 0?t[i]:.5,s=Wt(e.min,e.max,o);$3(e,t[n],t[r],s,t.scale)}const gEe=["x","scaleX","originX"],mEe=["y","scaleY","originY"];function up(e,t){$z(e.x,t,gEe),$z(e.y,t,mEe)}function JK(e,t){return XK(hEe(e.getBoundingClientRect(),t))}function yEe(e,t,n){const r=JK(e,n),{scroll:i}=t;return i&&(vu(r.x,i.offset.x),vu(r.y,i.offset.y)),r}const ZK=({current:e})=>e?e.ownerDocument.defaultView:null,vEe=new WeakMap;class bEe{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=dn(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=c=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(DC(c,"page").point)},o=(c,f)=>{const{drag:d,dragPropagation:h,onDragStart:p}=this.getProps();if(d&&!h&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=dK(d),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),po(m=>{let y=this.getAxisMotionValue(m).get()||0;if(xa.test(y)){const{projection:v}=this.visualElement;if(v&&v.layout){const b=v.layout.layoutBox[m];b&&(y=Qi(b)*(parseFloat(y)/100))}}this.originPoint[m]=y}),p&&_t.update(()=>p(c,f),!1,!0);const{animationState:g}=this.visualElement;g&&g.setActive("whileDrag",!0)},s=(c,f)=>{const{dragPropagation:d,dragDirectionLock:h,onDirectionLock:p,onDrag:g}=this.getProps();if(!d&&!this.openGlobalLock)return;const{offset:m}=f;if(h&&this.currentDirection===null){this.currentDirection=xEe(m),this.currentDirection!==null&&p&&p(this.currentDirection);return}this.updateAxis("x",f.point,m),this.updateAxis("y",f.point,m),this.visualElement.render(),g&&g(c,f)},a=(c,f)=>this.stop(c,f),l=()=>po(c=>{var f;return this.getAnimationState(c)==="paused"&&((f=this.getAxisMotionValue(c).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new GK(t,{onSessionStart:i,onStart:o,onMove:s,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:ZK(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:o}=this.getProps();o&&_t.update(()=>o(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:i}=this.getProps();if(!r||!cx(t,i,this.currentDirection))return;const o=this.getAxisMotionValue(t);let s=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(s=sEe(s,this.constraints[t],this.elastic[t])),o.set(s)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,o=this.constraints;n&&sp(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=aEe(i.layoutBox,n):this.constraints=!1,this.elastic=fEe(r),o!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&po(s=>{this.getAxisMotionValue(s)&&(this.constraints[s]=cEe(i.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!sp(t))return!1;const r=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const o=yEe(r,i.root,this.visualElement.getTransformPagePoint());let s=lEe(i.layout.layoutBox,o);if(n){const a=n(dEe(s));this.hasMutatedConstraints=!!a,a&&(s=XK(a))}return s}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:o,dragSnapToOrigin:s,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=po(c=>{if(!cx(c,n,this.currentDirection))return;let f=l&&l[c]||{};s&&(f={min:0,max:0});const d=i?200:1e6,h=i?40:1e7,p={type:"inertia",velocity:r?t[c]:0,bounceStiffness:d,bounceDamping:h,timeConstant:750,restDelta:1,restSpeed:10,...o,...f};return this.startAxisValueAnimation(c,p)});return Promise.all(u).then(a)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return r.start(bR(t,r,0,n))}stopAnimation(){po(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){po(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n="_drag"+t.toUpperCase(),r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){po(n=>{const{drag:r}=this.getProps();if(!cx(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,o=this.getAxisMotionValue(n);if(i&&i.layout){const{min:s,max:a}=i.layout.layoutBox[n];o.set(t[n]-Wt(s,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!sp(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};po(s=>{const a=this.getAxisMotionValue(s);if(a){const l=a.get();i[s]=uEe({min:l,max:l},this.constraints[s])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),po(s=>{if(!cx(s,t,null))return;const a=this.getAxisMotionValue(s),{min:l,max:u}=this.constraints[s];a.set(Wt(l,u,i[s]))})}addListeners(){if(!this.visualElement.current)return;vEe.set(this.visualElement,this);const t=this.visualElement.current,n=Sl(t,"pointerdown",l=>{const{drag:u,dragListener:c=!0}=this.getProps();u&&c&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();sp(l)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,o=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),r();const s=pl(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(po(c=>{const f=this.getAxisMotionValue(c);f&&(this.originPoint[c]+=l[c].translate,f.set(f.get()+l[c].translate))}),this.visualElement.render())});return()=>{s(),n(),o(),a&&a()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:o=!1,dragElastic:s=E3,dragMomentum:a=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:o,dragElastic:s,dragMomentum:a}}}function cx(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function xEe(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class wEe extends Oc{constructor(t){super(t),this.removeGroupControls=on,this.removeListeners=on,this.controls=new bEe(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||on}unmount(){this.removeGroupControls(),this.removeListeners()}}const Az=e=>(t,n)=>{e&&_t.update(()=>e(t,n))};class SEe extends Oc{constructor(){super(...arguments),this.removePointerDownListener=on}onPointerDown(t){this.session=new GK(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:ZK(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:Az(t),onStart:Az(n),onMove:r,onEnd:(o,s)=>{delete this.session,i&&_t.update(()=>i(o,s))}}}mount(){this.removePointerDownListener=Sl(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function kEe(){const e=M.useContext(kv);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:r}=e,i=M.useId();return M.useEffect(()=>r(i),[]),!t&&n?[!1,()=>n&&n(i)]:[!0]}function CEe(){return EEe(M.useContext(kv))}function EEe(e){return e===null?!0:e.isPresent}const Dw={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Tz(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Qm={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Te.test(e))e=parseFloat(e);else return e;const n=Tz(e,t.target.x),r=Tz(e,t.target.y);return`${n}% ${r}%`}},_Ee={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,i=dc.parse(e);if(i.length>5)return r;const o=dc.createTransformer(e),s=typeof i[0]!="number"?1:0,a=n.x.scale*t.x,l=n.y.scale*t.y;i[0+s]/=a,i[1+s]/=l;const u=Wt(a,l,.5);return typeof i[2+s]=="number"&&(i[2+s]/=u),typeof i[3+s]=="number"&&(i[3+s]/=u),o(i)}};class $Ee extends Vi.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:o}=t;RSe(AEe),o&&(n.group&&n.group.add(o),r&&r.register&&i&&r.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),Dw.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:i,isPresent:o}=this.props,s=r.projection;return s&&(s.isPresent=o,i||t.layoutDependency!==n||n===void 0?s.willUpdate():this.safeToRemove(),t.isPresent!==o&&(o?s.promote():s.relegate()||_t.postRender(()=>{const a=s.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=t;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function eQ(e){const[t,n]=kEe(),r=M.useContext(oR);return Vi.createElement($Ee,{...e,layoutGroup:r,switchLayoutGroup:M.useContext(KX),isPresent:t,safeToRemove:n})}const AEe={borderRadius:{...Qm,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Qm,borderTopRightRadius:Qm,borderBottomLeftRadius:Qm,borderBottomRightRadius:Qm,boxShadow:_Ee},tQ=["TopLeft","TopRight","BottomLeft","BottomRight"],TEe=tQ.length,Pz=e=>typeof e=="string"?parseFloat(e):e,Mz=e=>typeof e=="number"||Te.test(e);function PEe(e,t,n,r,i,o){i?(e.opacity=Wt(0,n.opacity!==void 0?n.opacity:1,MEe(r)),e.opacityExit=Wt(t.opacity!==void 0?t.opacity:1,0,FEe(r))):o&&(e.opacity=Wt(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let s=0;s<TEe;s++){const a=`border${tQ[s]}Radius`;let l=Fz(t,a),u=Fz(n,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||Mz(l)===Mz(u)?(e[a]=Math.max(Wt(Pz(l),Pz(u),r),0),(xa.test(u)||xa.test(l))&&(e[a]+="%")):e[a]=u}(t.rotate||n.rotate)&&(e.rotate=Wt(t.rotate||0,n.rotate||0,r))}function Fz(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const MEe=nQ(0,.5,CK),FEe=nQ(.5,.95,on);function nQ(e,t,n){return r=>r<e?0:r>t?1:n(C1(e,t,r))}function Rz(e,t){e.min=t.min,e.max=t.max}function uo(e,t){Rz(e.x,t.x),Rz(e.y,t.y)}function Oz(e,t,n,r,i){return e-=t,e=K2(e,1/n,r),i!==void 0&&(e=K2(e,1/i,r)),e}function REe(e,t=0,n=1,r=.5,i,o=e,s=e){if(xa.test(t)&&(t=parseFloat(t),t=Wt(s.min,s.max,t/100)-s.min),typeof t!="number")return;let a=Wt(o.min,o.max,r);e===o&&(a-=t),e.min=Oz(e.min,t,n,a,i),e.max=Oz(e.max,t,n,a,i)}function Dz(e,t,[n,r,i],o,s){REe(e,t[n],t[r],t[i],t.scale,o,s)}const OEe=["x","scaleX","originX"],DEe=["y","scaleY","originY"];function Nz(e,t,n,r){Dz(e.x,t,OEe,n?n.x:void 0,r?r.x:void 0),Dz(e.y,t,DEe,n?n.y:void 0,r?r.y:void 0)}function Lz(e){return e.translate===0&&e.scale===1}function rQ(e){return Lz(e.x)&&Lz(e.y)}function NEe(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function iQ(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function Iz(e){return Qi(e.x)/Qi(e.y)}class LEe{constructor(){this.members=[]}add(t){xR(this.members,t),t.scheduleRender()}remove(t){if(wR(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(i=>t===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const o=this.members[i];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function zz(e,t,n){let r="";const i=e.x.translate/t.x,o=e.y.translate/t.y;if((i||o)&&(r=`translate3d(${i}px, ${o}px, 0) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{rotate:l,rotateX:u,rotateY:c}=n;l&&(r+=`rotate(${l}deg) `),u&&(r+=`rotateX(${u}deg) `),c&&(r+=`rotateY(${c}deg) `)}const s=e.x.scale*t.x,a=e.y.scale*t.y;return(s!==1||a!==1)&&(r+=`scale(${s}, ${a})`),r||"none"}const IEe=(e,t)=>e.depth-t.depth;class zEe{constructor(){this.children=[],this.isDirty=!1}add(t){xR(this.children,t),this.isDirty=!0}remove(t){wR(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(IEe),this.isDirty=!1,this.children.forEach(t)}}function jEe(e,t){const n=performance.now(),r=({timestamp:i})=>{const o=i-n;o>=t&&(Il(r),e(o-t))};return _t.read(r,!0),()=>Il(r)}function BEe(e){window.MotionDebug&&window.MotionDebug.record(e)}function UEe(e){return e instanceof SVGElement&&e.tagName!=="svg"}function VEe(e,t,n){const r=xi(e)?e:ug(e);return r.start(bR("",r,t,n)),r.animation}const jz=["","X","Y","Z"],WEe={visibility:"hidden"},Bz=1e3;let HEe=0;const gf={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function oQ({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(s={},a=t==null?void 0:t()){this.id=HEe++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,gf.totalNodes=gf.resolvedTargetDeltas=gf.recalculatedProjection=0,this.nodes.forEach(YEe),this.nodes.forEach(ZEe),this.nodes.forEach(e_e),this.nodes.forEach(XEe),BEe(gf)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new zEe)}addEventListener(s,a){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new SR),this.eventHandlers.get(s).add(a)}notifyListeners(s,...a){const l=this.eventHandlers.get(s);l&&l.notify(...a)}hasListeners(s){return this.eventHandlers.has(s)}mount(s,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=UEe(s),this.instance=s;const{layoutId:l,layout:u,visualElement:c}=this.options;if(c&&!c.current&&c.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(u||l)&&(this.isLayoutDirty=!0),e){let f;const d=()=>this.root.updateBlockedByResize=!1;e(s,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=jEe(d,250),Dw.hasAnimatedSinceResize&&(Dw.hasAnimatedSinceResize=!1,this.nodes.forEach(Vz))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&c&&(l||u)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:d,hasRelativeTargetChanged:h,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||c.getDefaultTransition()||o_e,{onLayoutAnimationStart:m,onLayoutAnimationComplete:y}=c.getProps(),v=!this.targetLayout||!iQ(this.targetLayout,p)||h,b=!d&&h;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||b||d&&(v||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,b);const x={...vR(g,"layout"),onPlay:m,onComplete:y};(c.shouldReduceMotion||this.options.layoutRoot)&&(x.delay=0,x.type=!1),this.startAnimation(x)}else d||Vz(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Il(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(t_e),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let c=0;c<this.path.length;c++){const f=this.path[c];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Uz);return}this.isUpdating||this.nodes.forEach(QEe),this.isUpdating=!1,this.nodes.forEach(JEe),this.nodes.forEach(qEe),this.nodes.forEach(GEe),this.clearAllSnapshots();const a=performance.now();gr.delta=fc(0,1e3/60,a-gr.timestamp),gr.timestamp=a,gr.isProcessing=!0,sA.update.process(gr),sA.preRender.process(gr),sA.render.process(gr),gr.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(KEe),this.sharedNodes.forEach(n_e)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,_t.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){_t.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutCorrected=dn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:s,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!i)return;const s=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!rQ(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,c=u!==this.prevTransformTemplateValue;s&&(a||pf(this.latestValues)||c)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return s&&(l=this.removeTransform(l)),s_e(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:s}=this.options;if(!s)return dn();const a=s.measureViewportBox(),{scroll:l}=this.root;return l&&(vu(a.x,l.offset.x),vu(a.y,l.offset.y)),a}removeElementScroll(s){const a=dn();uo(a,s);for(let l=0;l<this.path.length;l++){const u=this.path[l],{scroll:c,options:f}=u;if(u!==this.root&&c&&f.layoutScroll){if(c.isRoot){uo(a,s);const{scroll:d}=this.root;d&&(vu(a.x,-d.offset.x),vu(a.y,-d.offset.y))}vu(a.x,c.offset.x),vu(a.y,c.offset.y)}}return a}applyTransform(s,a=!1){const l=dn();uo(l,s);for(let u=0;u<this.path.length;u++){const c=this.path[u];!a&&c.options.layoutScroll&&c.scroll&&c!==c.root&&up(l,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),pf(c.latestValues)&&up(l,c.latestValues)}return pf(this.latestValues)&&up(l,this.latestValues),l}removeTransform(s){const a=dn();uo(a,s);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!pf(u.latestValues))continue;_3(u.latestValues)&&u.updateSnapshot();const c=dn(),f=u.measurePageBox();uo(c,f),Nz(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,c)}return pf(this.latestValues)&&Nz(a,this.latestValues),a}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==gr.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(s||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:f,layoutId:d}=this.options;if(!(!this.layout||!(f||d))){if(this.resolvedRelativeTargetAt=gr.timestamp,!this.targetDelta&&!this.relativeTarget){const h=this.getClosestProjectingParent();h&&h.layout&&this.animationProgress!==1?(this.relativeParent=h,this.forceRelativeParentToResolveTarget(),this.relativeTarget=dn(),this.relativeTargetOrigin=dn(),My(this.relativeTargetOrigin,this.layout.layoutBox,h.layout.layoutBox),uo(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=dn(),this.targetWithTransforms=dn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),oEe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):uo(this.target,this.layout.layoutBox),QK(this.target,this.targetDelta)):uo(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const h=this.getClosestProjectingParent();h&&!!h.resumingFrom==!!this.resumingFrom&&!h.options.layoutScroll&&h.target&&this.animationProgress!==1?(this.relativeParent=h,this.forceRelativeParentToResolveTarget(),this.relativeTarget=dn(),this.relativeTargetOrigin=dn(),My(this.relativeTargetOrigin,this.target,h.target),uo(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}gf.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||_3(this.parent.latestValues)||KK(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var s;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||!((s=this.parent)===null||s===void 0)&&s.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===gr.timestamp&&(u=!1),u)return;const{layout:c,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||f))return;uo(this.layoutCorrected,this.layout.layoutBox);const d=this.treeScale.x,h=this.treeScale.y;pEe(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox);const{target:p}=a;if(!p){this.projectionTransform&&(this.projectionDelta=lp(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=lp(),this.projectionDeltaWithTransform=lp());const g=this.projectionTransform;Py(this.projectionDelta,this.layoutCorrected,p,this.latestValues),this.projectionTransform=zz(this.projectionDelta,this.treeScale),(this.projectionTransform!==g||this.treeScale.x!==d||this.treeScale.y!==h)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p)),gf.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),s){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(s,a=!1){const l=this.snapshot,u=l?l.latestValues:{},c={...this.latestValues},f=lp();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const d=dn(),h=l?l.source:void 0,p=this.layout?this.layout.source:void 0,g=h!==p,m=this.getStack(),y=!m||m.members.length<=1,v=!!(g&&!y&&this.options.crossfade===!0&&!this.path.some(i_e));this.animationProgress=0;let b;this.mixTargetDelta=x=>{const w=x/1e3;Wz(f.x,s.x,w),Wz(f.y,s.y,w),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(My(d,this.layout.layoutBox,this.relativeParent.layout.layoutBox),r_e(this.relativeTarget,this.relativeTargetOrigin,d,w),b&&NEe(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=dn()),uo(b,this.relativeTarget)),g&&(this.animationValues=c,PEe(c,u,this.latestValues,w,v,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=w},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Il(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=_t.update(()=>{Dw.hasAnimatedSinceResize=!0,this.currentAnimation=VEe(0,Bz,{...s,onUpdate:a=>{this.mixTargetDelta(a),s.onUpdate&&s.onUpdate(a)},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Bz),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:c}=s;if(!(!a||!l||!u)){if(this!==s&&this.layout&&u&&sQ(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||dn();const f=Qi(this.layout.layoutBox.x);l.x.min=s.target.x.min,l.x.max=l.x.min+f;const d=Qi(this.layout.layoutBox.y);l.y.min=s.target.y.min,l.y.max=l.y.min+d}uo(a,l),up(a,c),Py(this.projectionDeltaWithTransform,this.layoutCorrected,a,c)}}registerSharedNode(s,a){this.sharedNodes.has(s)||this.sharedNodes.set(s,new LEe),this.sharedNodes.get(s).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){var s;const{layoutId:a}=this.options;return a?((s=this.getStack())===null||s===void 0?void 0:s.lead)||this:this}getPrevLead(){var s;const{layoutId:a}=this.options;return a?(s=this.getStack())===null||s===void 0?void 0:s.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),s&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetRotation(){const{visualElement:s}=this.options;if(!s)return;let a=!1;const{latestValues:l}=s;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(a=!0),!a)return;const u={};for(let c=0;c<jz.length;c++){const f="rotate"+jz[c];l[f]&&(u[f]=l[f],s.setStaticValue(f,0))}s.render();for(const c in u)s.setStaticValue(c,u[c]);s.scheduleRender()}getProjectionStyles(s){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return WEe;const u={visibility:""},c=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=Ow(s==null?void 0:s.pointerEvents)||"",u.transform=c?c(this.latestValues,""):"none",u;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const g={};return this.options.layoutId&&(g.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,g.pointerEvents=Ow(s==null?void 0:s.pointerEvents)||""),this.hasProjected&&!pf(this.latestValues)&&(g.transform=c?c({},""):"none",this.hasProjected=!1),g}const d=f.animationValues||f.latestValues;this.applyTransformsToTarget(),u.transform=zz(this.projectionDeltaWithTransform,this.treeScale,d),c&&(u.transform=c(d,u.transform));const{x:h,y:p}=this.projectionDelta;u.transformOrigin=`${h.origin*100}% ${p.origin*100}% 0`,f.animationValues?u.opacity=f===this?(l=(a=d.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:u.opacity=f===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const g in U2){if(d[g]===void 0)continue;const{correct:m,applyTo:y}=U2[g],v=u.transform==="none"?d[g]:m(d[g],f);if(y){const b=y.length;for(let x=0;x<b;x++)u[y[x]]=v}else u[g]=v}return this.options.layoutId&&(u.pointerEvents=f===this?Ow(s==null?void 0:s.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>{var a;return(a=s.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(Uz),this.root.sharedNodes.clear()}}}function qEe(e){e.updateLayout()}function GEe(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=e.layout,{animationType:o}=e.options,s=n.source!==e.layout.source;o==="size"?po(f=>{const d=s?n.measuredBox[f]:n.layoutBox[f],h=Qi(d);d.min=r[f].min,d.max=d.min+h}):sQ(o,n.layoutBox,r)&&po(f=>{const d=s?n.measuredBox[f]:n.layoutBox[f],h=Qi(r[f]);d.max=d.min+h,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+h)});const a=lp();Py(a,r,n.layoutBox);const l=lp();s?Py(l,e.applyTransform(i,!0),n.measuredBox):Py(l,r,n.layoutBox);const u=!rQ(a);let c=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:d,layout:h}=f;if(d&&h){const p=dn();My(p,n.layoutBox,d.layoutBox);const g=dn();My(g,r,h.layoutBox),iQ(p,g)||(c=!0),f.options.layoutRoot&&(e.relativeTarget=g,e.relativeTargetOrigin=p,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeTargetChanged:c})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function YEe(e){gf.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function XEe(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function KEe(e){e.clearSnapshot()}function Uz(e){e.clearMeasurements()}function QEe(e){e.isLayoutDirty=!1}function JEe(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Vz(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function ZEe(e){e.resolveTargetDelta()}function e_e(e){e.calcProjection()}function t_e(e){e.resetRotation()}function n_e(e){e.removeLeadSnapshot()}function Wz(e,t,n){e.translate=Wt(t.translate,0,n),e.scale=Wt(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function Hz(e,t,n,r){e.min=Wt(t.min,n.min,r),e.max=Wt(t.max,n.max,r)}function r_e(e,t,n,r){Hz(e.x,t.x,n.x,r),Hz(e.y,t.y,n.y,r)}function i_e(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const o_e={duration:.45,ease:[.4,0,.1,1]},qz=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),Gz=qz("applewebkit/")&&!qz("chrome/")?Math.round:on;function Yz(e){e.min=Gz(e.min),e.max=Gz(e.max)}function s_e(e){Yz(e.x),Yz(e.y)}function sQ(e,t,n){return e==="position"||e==="preserve-aspect"&&!C3(Iz(t),Iz(n),.2)}const a_e=oQ({attachResizeListener:(e,t)=>pl(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),yA={current:void 0},aQ=oQ({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!yA.current){const e=new a_e({});e.mount(window),e.setOptions({layoutScroll:!0}),yA.current=e}return yA.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),l_e={pan:{Feature:SEe},drag:{Feature:wEe,ProjectionNode:aQ,MeasureLayout:eQ}},u_e=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function c_e(e){const t=u_e.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]}function A3(e,t,n=1){const[r,i]=c_e(e);if(!r)return;const o=window.getComputedStyle(t).getPropertyValue(r);if(o){const s=o.trim();return VK(s)?parseFloat(s):s}else return y3(i)?A3(i,t,n+1):i}function f_e(e,{...t},n){const r=e.current;if(!(r instanceof Element))return{target:t,transitionEnd:n};n&&(n={...n}),e.values.forEach(i=>{const o=i.get();if(!y3(o))return;const s=A3(o,r);s&&i.set(s)});for(const i in t){const o=t[i];if(!y3(o))continue;const s=A3(o,r);s&&(t[i]=s,n||(n={}),n[i]===void 0&&(n[i]=o))}return{target:t,transitionEnd:n}}const d_e=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),lQ=e=>d_e.has(e),h_e=e=>Object.keys(e).some(lQ),Xz=e=>e===Wd||e===Te,Kz=(e,t)=>parseFloat(e.split(", ")[t]),Qz=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/);if(i)return Kz(i[1],t);{const o=r.match(/^matrix\((.+)\)$/);return o?Kz(o[1],e):0}},p_e=new Set(["x","y","z"]),g_e=Cv.filter(e=>!p_e.has(e));function m_e(e){const t=[];return g_e.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t.length&&e.render(),t}const cg={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:Qz(4,13),y:Qz(5,14)};cg.translateX=cg.x;cg.translateY=cg.y;const y_e=(e,t,n)=>{const r=t.measureViewportBox(),i=t.current,o=getComputedStyle(i),{display:s}=o,a={};s==="none"&&t.setStaticValue("display",e.display||"block"),n.forEach(u=>{a[u]=cg[u](r,o)}),t.render();const l=t.measureViewportBox();return n.forEach(u=>{const c=t.getValue(u);c&&c.jump(a[u]),e[u]=cg[u](l,o)}),e},v_e=(e,t,n={},r={})=>{t={...t},r={...r};const i=Object.keys(t).filter(lQ);let o=[],s=!1;const a=[];if(i.forEach(l=>{const u=e.getValue(l);if(!e.hasValue(l))return;let c=n[l],f=Km(c);const d=t[l];let h;if(W2(d)){const p=d.length,g=d[0]===null?1:0;c=d[g],f=Km(c);for(let m=g;m<p&&d[m]!==null;m++)h?H2(Km(d[m])===h):h=Km(d[m])}else h=Km(d);if(f!==h)if(Xz(f)&&Xz(h)){const p=u.get();typeof p=="string"&&u.set(parseFloat(p)),typeof d=="string"?t[l]=parseFloat(d):Array.isArray(d)&&h===Te&&(t[l]=d.map(parseFloat))}else f!=null&&f.transform&&(h!=null&&h.transform)&&(c===0||d===0)?c===0?u.set(h.transform(c)):t[l]=f.transform(d):(s||(o=m_e(e),s=!0),a.push(l),r[l]=r[l]!==void 0?r[l]:t[l],u.jump(d))}),a.length){const l=a.indexOf("height")>=0?window.pageYOffset:null,u=y_e(t,e,a);return o.length&&o.forEach(([c,f])=>{e.getValue(c).set(f)}),e.render(),MC&&l!==null&&window.scrollTo({top:l}),{target:u,transitionEnd:r}}else return{target:t,transitionEnd:r}};function b_e(e,t,n,r){return h_e(t)?v_e(e,t,n,r):{target:t,transitionEnd:r}}const x_e=(e,t,n,r)=>{const i=f_e(e,t,r);return t=i.target,r=i.transitionEnd,b_e(e,t,n,r)},T3={current:null},uQ={current:!1};function w_e(){if(uQ.current=!0,!!MC)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>T3.current=e.matches;e.addListener(t),t()}else T3.current=!1}function S_e(e,t,n){const{willChange:r}=t;for(const i in t){const o=t[i],s=n[i];if(xi(o))e.addValue(i,o),X2(r)&&r.add(i);else if(xi(s))e.addValue(i,ug(o,{owner:e})),X2(r)&&r.remove(i);else if(s!==o)if(e.hasValue(i)){const a=e.getValue(i);!a.hasAnimated&&a.set(o)}else{const a=e.getStaticValue(i);e.addValue(i,ug(a!==void 0?a:o,{owner:e}))}}for(const i in n)t[i]===void 0&&e.removeValue(i);return t}const Jz=new WeakMap,cQ=Object.keys(k1),k_e=cQ.length,Zz=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],C_e=iR.length;class E_e{constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:i,visualState:o},s={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>_t.render(this.render,!1,!0);const{latestValues:a,renderState:l}=o;this.latestValues=a,this.baseTarget={...a},this.initialValues=n.initial?{...a}:{},this.renderState=l,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=s,this.isControllingVariants=RC(n),this.isVariantNode=XX(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...c}=this.scrapeMotionValuesFromProps(n,{});for(const f in c){const d=c[f];a[f]!==void 0&&xi(d)&&(d.set(a[f],!1),X2(u)&&u.add(f))}}scrapeMotionValuesFromProps(t,n){return{}}mount(t){this.current=t,Jz.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),uQ.current||w_e(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:T3.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Jz.delete(this.current),this.projection&&this.projection.unmount(),Il(this.notifyUpdate),Il(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,n){const r=Vd.has(t),i=n.on("change",s=>{this.latestValues[t]=s,this.props.onUpdate&&_t.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),o=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{i(),o()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...n},r,i,o){let s,a;for(let l=0;l<k_e;l++){const u=cQ[l],{isEnabled:c,Feature:f,ProjectionNode:d,MeasureLayout:h}=k1[u];d&&(s=d),c(n)&&(!this.features[u]&&f&&(this.features[u]=new f(this)),h&&(a=h))}if((this.type==="html"||this.type==="svg")&&!this.projection&&s){this.projection=new s(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:u,drag:c,dragConstraints:f,layoutScroll:d,layoutRoot:h}=n;this.projection.setOptions({layoutId:l,layout:u,alwaysMeasureLayout:!!c||f&&sp(f),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:o,layoutScroll:d,layoutRoot:h})}return a}updateFeatures(){for(const t in this.features){const n=this.features[t];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):dn()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}makeTargetAnimatable(t,n=!0){return this.makeTargetAnimatableFromInstance(t,this.props,n)}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Zz.length;r++){const i=Zz[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const o=t["on"+i];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=S_e(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<C_e;r++){const i=iR[r],o=this.props[i];(S1(o)||o===!1)&&(n[i]=o)}return n}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){n!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,n)),this.values.set(t,n),this.latestValues[t]=n.get()}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=ug(n,{owner:this}),this.addValue(t,r)),r}readValue(t){var n;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props,i=typeof r=="string"||typeof r=="object"?(n=dR(this.props,r))===null||n===void 0?void 0:n[t]:void 0;if(r&&i!==void 0)return i;const o=this.getBaseTargetFromProps(this.props,t);return o!==void 0&&!xi(o)?o:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new SR),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class fQ extends E_e{sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:n,...r},{transformValues:i},o){let s=jCe(r,t||{},this);if(i&&(n&&(n=i(n)),r&&(r=i(r)),s&&(s=i(s))),o){ICe(this,r,s);const a=x_e(this,r,s,n);n=a.transitionEnd,r=a.target}return{transition:t,transitionEnd:n,...r}}}function __e(e){return window.getComputedStyle(e)}class $_e extends fQ{constructor(){super(...arguments),this.type="html"}readValueFromInstance(t,n){if(Vd.has(n)){const r=yR(n);return r&&r.default||0}else{const r=__e(t),i=(ZX(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:n}){return JK(t,n)}build(t,n,r,i){aR(t,n,r,i.transformTemplate)}scrapeMotionValuesFromProps(t,n){return fR(t,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;xi(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(t,n,r,i){oK(t,n,r,i)}}class A_e extends fQ{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Vd.has(n)){const r=yR(n);return r&&r.default||0}return n=sK.has(n)?n:nR(n),t.getAttribute(n)}measureInstanceViewportBox(){return dn()}scrapeMotionValuesFromProps(t,n){return lK(t,n)}build(t,n,r,i){uR(t,n,r,this.isSVGTag,i.transformTemplate)}renderInstance(t,n,r,i){aK(t,n,r,i)}mount(t){this.isSVGTag=cR(t.tagName),super.mount(t)}}const T_e=(e,t)=>sR(e)?new A_e(t,{enableHardwareAcceleration:!1}):new $_e(t,{enableHardwareAcceleration:!0}),P_e={layout:{ProjectionNode:aQ,MeasureLayout:eQ}},M_e={...tEe,...Ske,...l_e,...P_e},LC=MSe((e,t)=>uke(e,t,M_e,T_e));function dQ(){const e=M.useRef(!1);return tR(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function F_e(){const e=dQ(),[t,n]=M.useState(0),r=M.useCallback(()=>{e.current&&n(t+1)},[t]);return[M.useCallback(()=>_t.postRender(r),[r]),t]}class R_e extends M.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function O_e({children:e,isPresent:t}){const n=M.useId(),r=M.useRef(null),i=M.useRef({width:0,height:0,top:0,left:0});return M.useInsertionEffect(()=>{const{width:o,height:s,top:a,left:l}=i.current;if(t||!r.current||!o||!s)return;r.current.dataset.motionPopId=n;const u=document.createElement("style");return document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${s}px !important;
            top: ${a}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[t]),M.createElement(R_e,{isPresent:t,childRef:r,sizeRef:i},M.cloneElement(e,{ref:r}))}const vA=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:o,mode:s})=>{const a=hR(D_e),l=M.useId(),u=M.useMemo(()=>({id:l,initial:t,isPresent:n,custom:i,onExitComplete:c=>{a.set(c,!0);for(const f of a.values())if(!f)return;r&&r()},register:c=>(a.set(c,!1),()=>a.delete(c))}),o?void 0:[n]);return M.useMemo(()=>{a.forEach((c,f)=>a.set(f,!1))},[n]),M.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),s==="popLayout"&&(e=M.createElement(O_e,{isPresent:n},e)),M.createElement(kv.Provider,{value:u},e)};function D_e(){return new Map}function N_e(e){return M.useEffect(()=>()=>e(),[])}const mf=e=>e.key||"";function L_e(e,t){e.forEach(n=>{const r=mf(n);t.set(r,n)})}function I_e(e){const t=[];return M.Children.forEach(e,n=>{M.isValidElement(n)&&t.push(n)}),t}const hQ=({children:e,custom:t,initial:n=!0,onExitComplete:r,exitBeforeEnter:i,presenceAffectsLayout:o=!0,mode:s="sync"})=>{const a=M.useContext(oR).forceRender||F_e()[0],l=dQ(),u=I_e(e);let c=u;const f=M.useRef(new Map).current,d=M.useRef(c),h=M.useRef(new Map).current,p=M.useRef(!0);if(tR(()=>{p.current=!1,L_e(u,h),d.current=c}),N_e(()=>{p.current=!0,h.clear(),f.clear()}),p.current)return M.createElement(M.Fragment,null,c.map(v=>M.createElement(vA,{key:mf(v),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:o,mode:s},v)));c=[...c];const g=d.current.map(mf),m=u.map(mf),y=g.length;for(let v=0;v<y;v++){const b=g[v];m.indexOf(b)===-1&&!f.has(b)&&f.set(b,void 0)}return s==="wait"&&f.size&&(c=[]),f.forEach((v,b)=>{if(m.indexOf(b)!==-1)return;const x=h.get(b);if(!x)return;const w=g.indexOf(b);let k=v;if(!k){const S=()=>{f.delete(b);const C=Array.from(h.keys()).filter(E=>!m.includes(E));if(C.forEach(E=>h.delete(E)),d.current=u.filter(E=>{const A=mf(E);return A===b||C.includes(A)}),!f.size){if(l.current===!1)return;a(),r&&r()}};k=M.createElement(vA,{key:mf(x),isPresent:!1,onExitComplete:S,custom:t,presenceAffectsLayout:o,mode:s},x),f.set(b,k)}c.splice(w,0,k)}),c=c.map(v=>{const b=v.key;return f.has(b)?v:M.createElement(vA,{key:mf(v),isPresent:!0,presenceAffectsLayout:o,mode:s},v)}),M.createElement(M.Fragment,null,f.size?c:c.map(v=>M.cloneElement(v)))};class z_e{constructor(){this.componentControls=new Set}subscribe(t){return this.componentControls.add(t),()=>this.componentControls.delete(t)}start(t,n){this.componentControls.forEach(r=>{r.start(t.nativeEvent||t,n)})}}const j_e=()=>new z_e;function B_e(){return hR(j_e)}var U_e={initial:e=>{const{position:t}=e,n=["top","bottom"].includes(t)?"y":"x";let r=["top-right","bottom-right"].includes(t)?1:-1;return t==="bottom"&&(r=1),{opacity:0,[n]:r*24}},animate:{opacity:1,y:0,x:0,scale:1,transition:{duration:.4,ease:[.4,0,.2,1]}},exit:{opacity:0,scale:.85,transition:{duration:.2,ease:[.4,0,1,1]}}},pQ=M.memo(e=>{const{id:t,message:n,onCloseComplete:r,onRequestRemove:i,requestClose:o=!1,position:s="bottom",duration:a=5e3,containerStyle:l,motionVariants:u=U_e,toastSpacing:c="0.5rem"}=e,[f,d]=M.useState(a),h=CEe();X9(()=>{h||r==null||r()},[h]),X9(()=>{d(a)},[a]);const p=()=>d(null),g=()=>d(a),m=()=>{h&&i()};M.useEffect(()=>{h&&o&&i()},[h,o,i]),wSe(m,f);const y=M.useMemo(()=>({pointerEvents:"auto",maxWidth:560,minWidth:300,margin:c,...l}),[l,c]),v=M.useMemo(()=>bSe(s),[s]);return $.jsx(LC.div,{layout:!0,className:"chakra-toast",variants:u,initial:"initial",animate:"animate",exit:"exit",onHoverStart:p,onHoverEnd:g,custom:{position:s},style:v,children:$.jsx(ke.div,{role:"status","aria-atomic":"true",className:"chakra-toast__inner",__css:y,children:fa(n,{id:t,onClose:m})})})});pQ.displayName="ToastComponent";function V_e(e,t){var n;const r=e??"bottom",o={"top-start":{ltr:"top-left",rtl:"top-right"},"top-end":{ltr:"top-right",rtl:"top-left"},"bottom-start":{ltr:"bottom-left",rtl:"bottom-right"},"bottom-end":{ltr:"bottom-right",rtl:"bottom-left"}}[r];return(n=o==null?void 0:o[t])!=null?n:r}var e7={path:$.jsxs("g",{stroke:"currentColor",strokeWidth:"1.5",children:[$.jsx("path",{strokeLinecap:"round",fill:"none",d:"M9,9a3,3,0,1,1,4,2.829,1.5,1.5,0,0,0-1,1.415V14.25"}),$.jsx("path",{fill:"currentColor",strokeLinecap:"round",d:"M12,17.25a.375.375,0,1,0,.375.375A.375.375,0,0,0,12,17.25h0"}),$.jsx("circle",{fill:"none",strokeMiterlimit:"10",cx:"12",cy:"12",r:"11.25"})]}),viewBox:"0 0 24 24"},yt=_e((e,t)=>{const{as:n,viewBox:r,color:i="currentColor",focusable:o=!1,children:s,className:a,__css:l,...u}=e,c=Xe("chakra-icon",a),f=Gl("Icon",e),d={w:"1em",h:"1em",display:"inline-block",lineHeight:"1em",flexShrink:0,color:i,...l,...f},h={ref:t,focusable:o,className:c,__css:d},p=r??e7.viewBox;if(n&&typeof n!="string")return $.jsx(ke.svg,{as:n,...h,...u});const g=s??e7.path;return $.jsx(ke.svg,{verticalAlign:"middle",viewBox:p,...h,...u,children:g})});yt.displayName="Icon";function W_e(e){return $.jsx(yt,{viewBox:"0 0 24 24",...e,children:$.jsx("path",{fill:"currentColor",d:"M12,0A12,12,0,1,0,24,12,12.014,12.014,0,0,0,12,0Zm6.927,8.2-6.845,9.289a1.011,1.011,0,0,1-1.43.188L5.764,13.769a1,1,0,1,1,1.25-1.562l4.076,3.261,6.227-8.451A1,1,0,1,1,18.927,8.2Z"})})}function H_e(e){return $.jsx(yt,{viewBox:"0 0 24 24",...e,children:$.jsx("path",{fill:"currentColor",d:"M12,0A12,12,0,1,0,24,12,12.013,12.013,0,0,0,12,0Zm.25,5a1.5,1.5,0,1,1-1.5,1.5A1.5,1.5,0,0,1,12.25,5ZM14.5,18.5h-4a1,1,0,0,1,0-2h.75a.25.25,0,0,0,.25-.25v-4.5a.25.25,0,0,0-.25-.25H10.5a1,1,0,0,1,0-2h1a2,2,0,0,1,2,2v4.75a.25.25,0,0,0,.25.25h.75a1,1,0,1,1,0,2Z"})})}function t7(e){return $.jsx(yt,{viewBox:"0 0 24 24",...e,children:$.jsx("path",{fill:"currentColor",d:"M11.983,0a12.206,12.206,0,0,0-8.51,3.653A11.8,11.8,0,0,0,0,12.207,11.779,11.779,0,0,0,11.8,24h.214A12.111,12.111,0,0,0,24,11.791h0A11.766,11.766,0,0,0,11.983,0ZM10.5,16.542a1.476,1.476,0,0,1,1.449-1.53h.027a1.527,1.527,0,0,1,1.523,1.47,1.475,1.475,0,0,1-1.449,1.53h-.027A1.529,1.529,0,0,1,10.5,16.542ZM11,12.5v-6a1,1,0,0,1,2,0v6a1,1,0,1,1-2,0Z"})})}var q_e=Mpe({"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}}),IC=_e((e,t)=>{const n=Gl("Spinner",e),{label:r="Loading...",thickness:i="2px",speed:o="0.45s",emptyColor:s="transparent",className:a,...l}=ir(e),u=Xe("chakra-spinner",a),c={display:"inline-block",borderColor:"currentColor",borderStyle:"solid",borderRadius:"99999px",borderWidth:i,borderBottomColor:s,borderLeftColor:s,animation:`${q_e} ${o} linear infinite`,...n};return $.jsx(ke.div,{ref:t,__css:c,className:u,...l,children:r&&$.jsx(ke.span,{srOnly:!0,children:r})})});IC.displayName="Spinner";var[G_e,kR]=jn({name:"AlertContext",hookName:"useAlertContext",providerName:"<Alert />"}),[Y_e,CR]=jn({name:"AlertStylesContext",hookName:"useAlertStyles",providerName:"<Alert />"}),gQ={info:{icon:H_e,colorScheme:"blue"},warning:{icon:t7,colorScheme:"orange"},success:{icon:W_e,colorScheme:"green"},error:{icon:t7,colorScheme:"red"},loading:{icon:IC,colorScheme:"blue"}};function X_e(e){return gQ[e].colorScheme}function K_e(e){return gQ[e].icon}var mQ=_e(function(t,n){const r=CR(),{status:i}=kR(),o={display:"inline",...r.description};return $.jsx(ke.div,{ref:n,"data-status":i,...t,className:Xe("chakra-alert__desc",t.className),__css:o})});mQ.displayName="AlertDescription";function yQ(e){const{status:t}=kR(),n=K_e(t),r=CR(),i=t==="loading"?r.spinner:r.icon;return $.jsx(ke.span,{display:"inherit","data-status":t,...e,className:Xe("chakra-alert__icon",e.className),__css:i,children:e.children||$.jsx(n,{h:"100%",w:"100%"})})}yQ.displayName="AlertIcon";var vQ=_e(function(t,n){const r=CR(),{status:i}=kR();return $.jsx(ke.div,{ref:n,"data-status":i,...t,className:Xe("chakra-alert__title",t.className),__css:r.title})});vQ.displayName="AlertTitle";var bQ=_e(function(t,n){var r;const{status:i="info",addRole:o=!0,...s}=ir(t),a=(r=t.colorScheme)!=null?r:X_e(i),l=Yl("Alert",{...t,colorScheme:a}),u={width:"100%",display:"flex",alignItems:"center",position:"relative",overflow:"hidden",...l.container};return $.jsx(G_e,{value:{status:i},children:$.jsx(Y_e,{value:l,children:$.jsx(ke.div,{"data-status":i,role:o?"alert":void 0,ref:n,...s,className:Xe("chakra-alert",t.className),__css:u})})})});bQ.displayName="Alert";function Q_e(e){return $.jsx(yt,{focusable:"false","aria-hidden":!0,...e,children:$.jsx("path",{fill:"currentColor",d:"M.439,21.44a1.5,1.5,0,0,0,2.122,2.121L11.823,14.3a.25.25,0,0,1,.354,0l9.262,9.263a1.5,1.5,0,1,0,2.122-2.121L14.3,12.177a.25.25,0,0,1,0-.354l9.263-9.262A1.5,1.5,0,0,0,21.439.44L12.177,9.7a.25.25,0,0,1-.354,0L2.561.44A1.5,1.5,0,0,0,.439,2.561L9.7,11.823a.25.25,0,0,1,0,.354Z"})})}var xQ=_e(function(t,n){const r=Gl("CloseButton",t),{children:i,isDisabled:o,__css:s,...a}=ir(t),l={outline:0,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0};return $.jsx(ke.button,{type:"button","aria-label":"Close",ref:n,disabled:o,__css:{...l,...r,...s},...a,children:i||$.jsx(Q_e,{width:"1em",height:"1em"})})});xQ.displayName="CloseButton";var J_e={top:[],"top-left":[],"top-right":[],"bottom-left":[],bottom:[],"bottom-right":[]},aa=Z_e(J_e);function Z_e(e){let t=e;const n=new Set,r=i=>{t=i(t),n.forEach(o=>o())};return{getState:()=>t,subscribe:i=>(n.add(i),()=>{r(()=>e),n.delete(i)}),removeToast:(i,o)=>{r(s=>({...s,[o]:s[o].filter(a=>a.id!=i)}))},notify:(i,o)=>{const s=e$e(i,o),{position:a,id:l}=s;return r(u=>{var c,f;const h=a.includes("top")?[s,...(c=u[a])!=null?c:[]]:[...(f=u[a])!=null?f:[],s];return{...u,[a]:h}}),l},update:(i,o)=>{i&&r(s=>{const a={...s},{position:l,index:u}=Y9(a,i);return l&&u!==-1&&(a[l][u]={...a[l][u],...o,message:wQ(o)}),a})},closeAll:({positions:i}={})=>{r(o=>(i??["bottom","bottom-right","bottom-left","top","top-left","top-right"]).reduce((l,u)=>(l[u]=o[u].map(c=>({...c,requestClose:!0})),l),{...o}))},close:i=>{r(o=>{const s=HX(o,i);return s?{...o,[s]:o[s].map(a=>a.id==i?{...a,requestClose:!0}:a)}:o})},isActive:i=>!!Y9(aa.getState(),i).position}}var n7=0;function e$e(e,t={}){var n,r;n7+=1;const i=(n=t.id)!=null?n:n7,o=(r=t.position)!=null?r:"bottom";return{id:i,message:e,position:o,duration:t.duration,onCloseComplete:t.onCloseComplete,onRequestRemove:()=>aa.removeToast(String(i),o),status:t.status,requestClose:!1,containerStyle:t.containerStyle}}var t$e=e=>{const{status:t,variant:n="solid",id:r,title:i,isClosable:o,onClose:s,description:a,colorScheme:l,icon:u}=e,c=r?{root:`toast-${r}`,title:`toast-${r}-title`,description:`toast-${r}-description`}:void 0;return $.jsxs(bQ,{addRole:!1,status:t,variant:n,id:c==null?void 0:c.root,alignItems:"start",borderRadius:"md",boxShadow:"lg",paddingEnd:8,textAlign:"start",width:"auto",colorScheme:l,children:[$.jsx(yQ,{children:u}),$.jsxs(ke.div,{flex:"1",maxWidth:"100%",children:[i&&$.jsx(vQ,{id:c==null?void 0:c.title,children:i}),a&&$.jsx(mQ,{id:c==null?void 0:c.description,display:"block",children:a})]}),o&&$.jsx(xQ,{size:"sm",onClick:s,position:"absolute",insetEnd:1,top:1})]})};function wQ(e={}){const{render:t,toastComponent:n=t$e}=e;return i=>typeof t=="function"?t({...i,...e}):$.jsx(n,{...i,...e})}function n$e(e,t){const n=i=>{var o;return{...t,...i,position:V_e((o=i==null?void 0:i.position)!=null?o:t==null?void 0:t.position,e)}},r=i=>{const o=n(i),s=wQ(o);return aa.notify(s,o)};return r.update=(i,o)=>{aa.update(i,n(o))},r.promise=(i,o)=>{const s=r({...o.loading,status:"loading",duration:null});i.then(a=>r.update(s,{status:"success",duration:5e3,...fa(o.success,a)})).catch(a=>r.update(s,{status:"error",duration:5e3,...fa(o.error,a)}))},r.closeAll=aa.closeAll,r.close=aa.close,r.isActive=aa.isActive,r}var[r$e,i$e]=jn({name:"ToastOptionsContext",strict:!1}),o$e=e=>{const t=M.useSyncExternalStore(aa.subscribe,aa.getState,aa.getState),{motionVariants:n,component:r=pQ,portalProps:i}=e,s=Object.keys(t).map(a=>{const l=t[a];return $.jsx("div",{role:"region","aria-live":"polite","aria-label":`Notifications-${a}`,id:`chakra-toast-manager-${a}`,style:xSe(a),children:$.jsx(hQ,{initial:!1,children:l.map(u=>$.jsx(r,{motionVariants:n,...u},u.id))})},a)});return $.jsx(xv,{...i,children:s})};function s$e(e){const{theme:t}=gX(),n=i$e();return M.useMemo(()=>n$e(t.direction,{...n,...e}),[e,t.direction,n])}var a$e=e=>function({children:n,theme:r=e,toastOptions:i,...o}){return $.jsxs(ySe,{theme:r,...o,children:[$.jsx(r$e,{value:i==null?void 0:i.defaultOptions,children:n}),$.jsx(o$e,{...i})]})},l$e=a$e(NX),u$e=Object.defineProperty,c$e=(e,t,n)=>t in e?u$e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Yt=(e,t,n)=>(c$e(e,typeof t!="symbol"?t+"":t,n),n);function r7(e){return e.sort((t,n)=>{const r=t.compareDocumentPosition(n);if(r&Node.DOCUMENT_POSITION_FOLLOWING||r&Node.DOCUMENT_POSITION_CONTAINED_BY)return-1;if(r&Node.DOCUMENT_POSITION_PRECEDING||r&Node.DOCUMENT_POSITION_CONTAINS)return 1;if(r&Node.DOCUMENT_POSITION_DISCONNECTED||r&Node.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC)throw Error("Cannot sort the given nodes.");return 0})}var f$e=e=>typeof e=="object"&&"nodeType"in e&&e.nodeType===Node.ELEMENT_NODE;function i7(e,t,n){let r=e+1;return n&&r>=t&&(r=0),r}function o7(e,t,n){let r=e-1;return n&&r<0&&(r=t),r}var P3=typeof window<"u"?M.useLayoutEffect:M.useEffect,Q2=e=>e,d$e=class{constructor(){Yt(this,"descendants",new Map),Yt(this,"register",e=>{if(e!=null)return f$e(e)?this.registerNode(e):t=>{this.registerNode(t,e)}}),Yt(this,"unregister",e=>{this.descendants.delete(e);const t=r7(Array.from(this.descendants.keys()));this.assignIndex(t)}),Yt(this,"destroy",()=>{this.descendants.clear()}),Yt(this,"assignIndex",e=>{this.descendants.forEach(t=>{const n=e.indexOf(t.node);t.index=n,t.node.dataset.index=t.index.toString()})}),Yt(this,"count",()=>this.descendants.size),Yt(this,"enabledCount",()=>this.enabledValues().length),Yt(this,"values",()=>Array.from(this.descendants.values()).sort((t,n)=>t.index-n.index)),Yt(this,"enabledValues",()=>this.values().filter(e=>!e.disabled)),Yt(this,"item",e=>{if(this.count()!==0)return this.values()[e]}),Yt(this,"enabledItem",e=>{if(this.enabledCount()!==0)return this.enabledValues()[e]}),Yt(this,"first",()=>this.item(0)),Yt(this,"firstEnabled",()=>this.enabledItem(0)),Yt(this,"last",()=>this.item(this.descendants.size-1)),Yt(this,"lastEnabled",()=>{const e=this.enabledValues().length-1;return this.enabledItem(e)}),Yt(this,"indexOf",e=>{var t,n;return e&&(n=(t=this.descendants.get(e))==null?void 0:t.index)!=null?n:-1}),Yt(this,"enabledIndexOf",e=>e==null?-1:this.enabledValues().findIndex(t=>t.node.isSameNode(e))),Yt(this,"next",(e,t=!0)=>{const n=i7(e,this.count(),t);return this.item(n)}),Yt(this,"nextEnabled",(e,t=!0)=>{const n=this.item(e);if(!n)return;const r=this.enabledIndexOf(n.node),i=i7(r,this.enabledCount(),t);return this.enabledItem(i)}),Yt(this,"prev",(e,t=!0)=>{const n=o7(e,this.count()-1,t);return this.item(n)}),Yt(this,"prevEnabled",(e,t=!0)=>{const n=this.item(e);if(!n)return;const r=this.enabledIndexOf(n.node),i=o7(r,this.enabledCount()-1,t);return this.enabledItem(i)}),Yt(this,"registerNode",(e,t)=>{if(!e||this.descendants.has(e))return;const n=Array.from(this.descendants.keys()).concat(e),r=r7(n);t!=null&&t.disabled&&(t.disabled=!!t.disabled);const i={node:e,index:-1,...t};this.descendants.set(e,i),this.assignIndex(r)})}};function h$e(e,t){if(e!=null){if(typeof e=="function"){e(t);return}try{e.current=t}catch{throw new Error(`Cannot assign value '${t}' to ref '${e}'`)}}}function md(...e){return t=>{e.forEach(n=>{h$e(n,t)})}}function p$e(...e){return M.useMemo(()=>md(...e),e)}function g$e(){const e=M.useRef(new d$e);return P3(()=>()=>e.current.destroy()),e.current}var[m$e,SQ]=jn({name:"DescendantsProvider",errorMessage:"useDescendantsContext must be used within DescendantsProvider"});function y$e(e){const t=SQ(),[n,r]=M.useState(-1),i=M.useRef(null);P3(()=>()=>{i.current&&t.unregister(i.current)},[]),P3(()=>{if(!i.current)return;const s=Number(i.current.dataset.index);n!=s&&!Number.isNaN(s)&&r(s)});const o=Q2(e?t.register(e):t.register);return{descendants:t,index:n,enabledIndex:t.enabledIndexOf(i.current),register:md(o,i)}}function kQ(){return[Q2(m$e),()=>Q2(SQ()),()=>g$e(),i=>y$e(i)]}var[v$e,zC]=jn({name:"AccordionStylesContext",hookName:"useAccordionStyles",providerName:"<Accordion />"}),[b$e,ER]=jn({name:"AccordionItemContext",hookName:"useAccordionItemContext",providerName:"<AccordionItem />"}),[x$e,hft,w$e,S$e]=kQ(),CQ=_e(function(t,n){const{getButtonProps:r}=ER(),i=r(t,n),s={display:"flex",alignItems:"center",width:"100%",outline:0,...zC().button};return $.jsx(ke.button,{...i,className:Xe("chakra-accordion__button",t.className),__css:s})});CQ.displayName="AccordionButton";function EQ(e){const{value:t,defaultValue:n,onChange:r,shouldUpdate:i=(d,h)=>d!==h}=e,o=Rw(r),s=Rw(i),[a,l]=M.useState(n),u=t!==void 0,c=u?t:a,f=Rw(d=>{const p=typeof d=="function"?d(c):d;s(c,p)&&(u||l(p),o(p))},[u,o,c,s]);return[c,f]}function k$e(e){const{onChange:t,defaultIndex:n,index:r,allowMultiple:i,allowToggle:o,...s}=e;_$e(e),$$e(e);const a=w$e(),[l,u]=M.useState(-1);M.useEffect(()=>()=>{u(-1)},[]);const[c,f]=EQ({value:r,defaultValue(){return i?n??[]:n??-1},onChange:t});return{index:c,setIndex:f,htmlProps:s,getAccordionItemProps:h=>{let p=!1;return h!==null&&(p=Array.isArray(c)?c.includes(h):c===h),{isOpen:p,onChange:m=>{if(h!==null)if(i&&Array.isArray(c)){const y=m?c.concat(h):c.filter(v=>v!==h);f(y)}else m?f(h):o&&f(-1)}}},focusedIndex:l,setFocusedIndex:u,descendants:a}}var[C$e,_R]=jn({name:"AccordionContext",hookName:"useAccordionContext",providerName:"Accordion"});function E$e(e){const{isDisabled:t,isFocusable:n,id:r,...i}=e,{getAccordionItemProps:o,setFocusedIndex:s}=_R(),a=M.useRef(null),l=M.useId(),u=r??l,c=`accordion-button-${u}`,f=`accordion-panel-${u}`;A$e(e);const{register:d,index:h,descendants:p}=S$e({disabled:t&&!n}),{isOpen:g,onChange:m}=o(h===-1?null:h);T$e({isOpen:g,isDisabled:t});const y=()=>{m==null||m(!0)},v=()=>{m==null||m(!1)},b=M.useCallback(()=>{m==null||m(!g),s(h)},[h,s,g,m]),x=M.useCallback(C=>{const A={ArrowDown:()=>{const T=p.nextEnabled(h);T==null||T.node.focus()},ArrowUp:()=>{const T=p.prevEnabled(h);T==null||T.node.focus()},Home:()=>{const T=p.firstEnabled();T==null||T.node.focus()},End:()=>{const T=p.lastEnabled();T==null||T.node.focus()}}[C.key];A&&(C.preventDefault(),A(C))},[p,h]),w=M.useCallback(()=>{s(h)},[s,h]),k=M.useCallback(function(E={},A=null){return{...E,type:"button",ref:md(d,a,A),id:c,disabled:!!t,"aria-expanded":!!g,"aria-controls":f,onClick:tc(E.onClick,b),onFocus:tc(E.onFocus,w),onKeyDown:tc(E.onKeyDown,x)}},[c,t,g,b,w,x,f,d]),S=M.useCallback(function(E={},A=null){return{...E,ref:A,role:"region",id:f,"aria-labelledby":c,hidden:!g}},[c,g,f]);return{isOpen:g,isDisabled:t,isFocusable:n,onOpen:y,onClose:v,getButtonProps:k,getPanelProps:S,htmlProps:i}}function _$e(e){const t=e.index||e.defaultIndex,n=t!=null&&!Array.isArray(t)&&e.allowMultiple;wv({condition:!!n,message:`If 'allowMultiple' is passed, then 'index' or 'defaultIndex' must be an array. You passed: ${typeof t},`})}function $$e(e){wv({condition:!!(e.allowMultiple&&e.allowToggle),message:"If 'allowMultiple' is passed, 'allowToggle' will be ignored. Either remove 'allowToggle' or 'allowMultiple' depending on whether you want multiple accordions visible or not"})}function A$e(e){wv({condition:!!(e.isFocusable&&!e.isDisabled),message:`Using only 'isFocusable', this prop is reserved for situations where you pass 'isDisabled' but you still want the element to receive focus (A11y). Either remove it or pass 'isDisabled' as well.
    `})}function T$e(e){wv({condition:e.isOpen&&!!e.isDisabled,message:"Cannot open a disabled accordion item"})}function _Q(e){const{isOpen:t,isDisabled:n}=ER(),{reduceMotion:r}=_R(),i=Xe("chakra-accordion__icon",e.className),o=zC(),s={opacity:n?.4:1,transform:t?"rotate(-180deg)":void 0,transition:r?void 0:"transform 0.2s",transformOrigin:"center",...o.icon};return $.jsx(yt,{viewBox:"0 0 24 24","aria-hidden":!0,className:i,__css:s,...e,children:$.jsx("path",{fill:"currentColor",d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"})})}_Q.displayName="AccordionIcon";var $Q=_e(function(t,n){const{children:r,className:i}=t,{htmlProps:o,...s}=E$e(t),l={...zC().container,overflowAnchor:"none"},u=M.useMemo(()=>s,[s]);return $.jsx(b$e,{value:u,children:$.jsx(ke.div,{ref:n,...o,className:Xe("chakra-accordion__item",i),__css:l,children:typeof r=="function"?r({isExpanded:!!s.isOpen,isDisabled:!!s.isDisabled}):r})})});$Q.displayName="AccordionItem";var fx={ease:[.25,.1,.25,1],easeIn:[.4,0,1,1],easeOut:[0,0,.2,1],easeInOut:[.4,0,.2,1]},s7={enter:(e,t)=>({...e,delay:typeof t=="number"?t:t==null?void 0:t.enter}),exit:(e,t)=>({...e,delay:typeof t=="number"?t:t==null?void 0:t.exit})},P$e=e=>e!=null&&parseInt(e.toString(),10)>0,a7={exit:{height:{duration:.2,ease:fx.ease},opacity:{duration:.3,ease:fx.ease}},enter:{height:{duration:.3,ease:fx.ease},opacity:{duration:.4,ease:fx.ease}}},M$e={exit:({animateOpacity:e,startingHeight:t,transition:n,transitionEnd:r,delay:i})=>{var o;return{...e&&{opacity:P$e(t)?1:0},height:t,transitionEnd:r==null?void 0:r.exit,transition:(o=n==null?void 0:n.exit)!=null?o:s7.exit(a7.exit,i)}},enter:({animateOpacity:e,endingHeight:t,transition:n,transitionEnd:r,delay:i})=>{var o;return{...e&&{opacity:1},height:t,transitionEnd:r==null?void 0:r.enter,transition:(o=n==null?void 0:n.enter)!=null?o:s7.enter(a7.enter,i)}}},AQ=M.forwardRef((e,t)=>{const{in:n,unmountOnExit:r,animateOpacity:i=!0,startingHeight:o=0,endingHeight:s="auto",style:a,className:l,transition:u,transitionEnd:c,...f}=e,[d,h]=M.useState(!1);M.useEffect(()=>{const v=setTimeout(()=>{h(!0)});return()=>clearTimeout(v)},[]),wv({condition:Number(o)>0&&!!r,message:"startingHeight and unmountOnExit are mutually exclusive. You can't use them together"});const p=parseFloat(o.toString())>0,g={startingHeight:o,endingHeight:s,animateOpacity:i,transition:d?u:{enter:{duration:0}},transitionEnd:{enter:c==null?void 0:c.enter,exit:r?c==null?void 0:c.exit:{...c==null?void 0:c.exit,display:p?"block":"none"}}},m=r?n:!0,y=n||r?"enter":"exit";return $.jsx(hQ,{initial:!1,custom:g,children:m&&$.jsx(LC.div,{ref:t,...f,className:Xe("chakra-collapse",l),style:{overflow:"hidden",display:"block",...a},custom:g,variants:M$e,initial:r?"exit":!1,animate:y,exit:"exit"})})});AQ.displayName="Collapse";var TQ=_e(function(t,n){const{className:r,motionProps:i,...o}=t,{reduceMotion:s}=_R(),{getPanelProps:a,isOpen:l}=ER(),u=a(o,n),c=Xe("chakra-accordion__panel",r),f=zC();s||delete u.hidden;const d=$.jsx(ke.div,{...u,__css:f.panel,className:c});return s?d:$.jsx(AQ,{in:l,...i,children:d})});TQ.displayName="AccordionPanel";var PQ=_e(function({children:t,reduceMotion:n,...r},i){const o=Yl("Accordion",r),s=ir(r),{htmlProps:a,descendants:l,...u}=k$e(s),c=M.useMemo(()=>({...u,reduceMotion:!!n}),[u,n]);return $.jsx(x$e,{value:l,children:$.jsx(C$e,{value:c,children:$.jsx(v$e,{value:o,children:$.jsx(ke.div,{ref:i,...a,className:Xe("chakra-accordion",r.className),__css:o.root,children:t})})})})});PQ.displayName="Accordion";var M3=_e(function(t,n){const{htmlWidth:r,htmlHeight:i,alt:o,...s}=t;return $.jsx("img",{width:r,height:i,ref:n,alt:o,...s})});M3.displayName="NativeImage";function F$e(e){const{loading:t,src:n,srcSet:r,onLoad:i,onError:o,crossOrigin:s,sizes:a,ignoreFallback:l}=e,[u,c]=M.useState("pending");M.useEffect(()=>{c(n?"loading":"pending")},[n]);const f=M.useRef(),d=M.useCallback(()=>{if(!n)return;h();const p=new Image;p.src=n,s&&(p.crossOrigin=s),r&&(p.srcset=r),a&&(p.sizes=a),t&&(p.loading=t),p.onload=g=>{h(),c("loaded"),i==null||i(g)},p.onerror=g=>{h(),c("failed"),o==null||o(g)},f.current=p},[n,s,r,a,i,o,t]),h=()=>{f.current&&(f.current.onload=null,f.current.onerror=null,f.current=null)};return Zp(()=>{if(!l)return u==="loading"&&d(),()=>{h()}},[u,d,l]),l?"loaded":u}var R$e=(e,t)=>e!=="loaded"&&t==="beforeLoadOrError"||e==="failed"&&t==="onError";function O$e(e,t=[]){const n=Object.assign({},e);for(const r of t)r in n&&delete n[r];return n}var MQ=_e(function(t,n){const{fallbackSrc:r,fallback:i,src:o,srcSet:s,align:a,fit:l,loading:u,ignoreFallback:c,crossOrigin:f,fallbackStrategy:d="beforeLoadOrError",referrerPolicy:h,...p}=t,g=r!==void 0||i!==void 0,m=u!=null||c||!g,y=F$e({...t,crossOrigin:f,ignoreFallback:m}),v=R$e(y,d),b={ref:n,objectFit:l,objectPosition:a,...m?p:O$e(p,["onError","onLoad"])};return v?i||$.jsx(ke.img,{as:M3,className:"chakra-image__placeholder",src:r,...b}):$.jsx(ke.img,{as:M3,src:o,srcSet:s,crossOrigin:f,loading:u,referrerPolicy:h,className:"chakra-image",...b})});MQ.displayName="Image";function jC(e){return M.Children.toArray(e).filter(t=>M.isValidElement(t))}var[D$e,N$e]=jn({strict:!1,name:"ButtonGroupContext"}),L$e={horizontal:{"> *:first-of-type:not(:last-of-type)":{borderEndRadius:0},"> *:not(:first-of-type):not(:last-of-type)":{borderRadius:0},"> *:not(:first-of-type):last-of-type":{borderStartRadius:0}},vertical:{"> *:first-of-type:not(:last-of-type)":{borderBottomRadius:0},"> *:not(:first-of-type):not(:last-of-type)":{borderRadius:0},"> *:not(:first-of-type):last-of-type":{borderTopRadius:0}}},I$e={horizontal:e=>({"& > *:not(style) ~ *:not(style)":{marginStart:e}}),vertical:e=>({"& > *:not(style) ~ *:not(style)":{marginTop:e}})},FQ=_e(function(t,n){const{size:r,colorScheme:i,variant:o,className:s,spacing:a="0.5rem",isAttached:l,isDisabled:u,orientation:c="horizontal",...f}=t,d=Xe("chakra-button__group",s),h=M.useMemo(()=>({size:r,colorScheme:i,variant:o,isDisabled:u}),[r,i,o,u]);let p={display:"inline-flex",...l?L$e[c]:I$e[c](a)};const g=c==="vertical";return $.jsx(D$e,{value:h,children:$.jsx(ke.div,{ref:n,role:"group",__css:p,className:d,"data-attached":l?"":void 0,"data-orientation":c,flexDir:g?"column":void 0,...f})})});FQ.displayName="ButtonGroup";function z$e(e){const[t,n]=M.useState(!e);return{ref:M.useCallback(o=>{o&&n(o.tagName==="BUTTON")},[]),type:t?"button":void 0}}function F3(e){const{children:t,className:n,...r}=e,i=M.isValidElement(t)?M.cloneElement(t,{"aria-hidden":!0,focusable:!1}):t,o=Xe("chakra-button__icon",n);return $.jsx(ke.span,{display:"inline-flex",alignSelf:"center",flexShrink:0,...r,className:o,children:i})}F3.displayName="ButtonIcon";function R3(e){const{label:t,placement:n,spacing:r="0.5rem",children:i=$.jsx(IC,{color:"currentColor",width:"1em",height:"1em"}),className:o,__css:s,...a}=e,l=Xe("chakra-button__spinner",o),u=n==="start"?"marginEnd":"marginStart",c=M.useMemo(()=>({display:"flex",alignItems:"center",position:t?"relative":"absolute",[u]:t?r:0,fontSize:"1em",lineHeight:"normal",...s}),[s,t,u,r]);return $.jsx(ke.div,{className:l,...a,__css:c,children:i})}R3.displayName="ButtonSpinner";var ds=_e((e,t)=>{const n=N$e(),r=Gl("Button",{...n,...e}),{isDisabled:i=n==null?void 0:n.isDisabled,isLoading:o,isActive:s,children:a,leftIcon:l,rightIcon:u,loadingText:c,iconSpacing:f="0.5rem",type:d,spinner:h,spinnerPlacement:p="start",className:g,as:m,...y}=ir(e),v=M.useMemo(()=>{const k={...r==null?void 0:r._focus,zIndex:1};return{display:"inline-flex",appearance:"none",alignItems:"center",justifyContent:"center",userSelect:"none",position:"relative",whiteSpace:"nowrap",verticalAlign:"middle",outline:"none",...r,...!!n&&{_focus:k}}},[r,n]),{ref:b,type:x}=z$e(m),w={rightIcon:u,leftIcon:l,iconSpacing:f,children:a};return $.jsxs(ke.button,{ref:p$e(t,b),as:m,type:d??x,"data-active":mo(s),"data-loading":mo(o),__css:v,className:Xe("chakra-button",g),...y,disabled:i||o,children:[o&&p==="start"&&$.jsx(R3,{className:"chakra-button__spinner--start",label:c,placement:"start",spacing:f,children:h}),o?c||$.jsx(ke.span,{opacity:0,children:$.jsx(l7,{...w})}):$.jsx(l7,{...w}),o&&p==="end"&&$.jsx(R3,{className:"chakra-button__spinner--end",label:c,placement:"end",spacing:f,children:h})]})});ds.displayName="Button";function l7(e){const{leftIcon:t,rightIcon:n,children:r,iconSpacing:i}=e;return $.jsxs($.Fragment,{children:[t&&$.jsx(F3,{marginEnd:i,children:t}),r,n&&$.jsx(F3,{marginStart:i,children:n})]})}var E1=_e((e,t)=>{const{icon:n,children:r,isRound:i,"aria-label":o,...s}=e,a=n||r,l=M.isValidElement(a)?M.cloneElement(a,{"aria-hidden":!0,focusable:!1}):null;return $.jsx(ds,{padding:"0",borderRadius:i?"full":void 0,ref:t,"aria-label":o,...s,children:l})});E1.displayName="IconButton";var[j$e,B$e]=jn({name:"FormControlStylesContext",errorMessage:`useFormControlStyles returned is 'undefined'. Seems you forgot to wrap the components in "<FormControl />" `}),[U$e,RQ]=jn({strict:!1,name:"FormControlContext"});function V$e(e){const{id:t,isRequired:n,isInvalid:r,isDisabled:i,isReadOnly:o,...s}=e,a=M.useId(),l=t||`field-${a}`,u=`${l}-label`,c=`${l}-feedback`,f=`${l}-helptext`,[d,h]=M.useState(!1),[p,g]=M.useState(!1),[m,y]=M.useState(!1),v=M.useCallback((S={},C=null)=>({id:f,...S,ref:md(C,E=>{E&&g(!0)})}),[f]),b=M.useCallback((S={},C=null)=>({...S,ref:C,"data-focus":mo(m),"data-disabled":mo(i),"data-invalid":mo(r),"data-readonly":mo(o),id:S.id!==void 0?S.id:u,htmlFor:S.htmlFor!==void 0?S.htmlFor:l}),[l,i,m,r,o,u]),x=M.useCallback((S={},C=null)=>({id:c,...S,ref:md(C,E=>{E&&h(!0)}),"aria-live":"polite"}),[c]),w=M.useCallback((S={},C=null)=>({...S,...s,ref:C,role:"group","data-focus":mo(m),"data-disabled":mo(i),"data-invalid":mo(r),"data-readonly":mo(o)}),[s,i,m,r,o]),k=M.useCallback((S={},C=null)=>({...S,ref:C,role:"presentation","aria-hidden":!0,children:S.children||"*"}),[]);return{isRequired:!!n,isInvalid:!!r,isReadOnly:!!o,isDisabled:!!i,isFocused:!!m,onFocus:()=>y(!0),onBlur:()=>y(!1),hasFeedbackText:d,setHasFeedbackText:h,hasHelpText:p,setHasHelpText:g,id:l,labelId:u,feedbackId:c,helpTextId:f,htmlProps:s,getHelpTextProps:v,getErrorMessageProps:x,getRootProps:w,getLabelProps:b,getRequiredIndicatorProps:k}}var OQ=_e(function(t,n){const r=Yl("Form",t),i=ir(t),{getRootProps:o,htmlProps:s,...a}=V$e(i),l=Xe("chakra-form-control",t.className);return $.jsx(U$e,{value:a,children:$.jsx(j$e,{value:r,children:$.jsx(ke.div,{...o({},n),className:l,__css:r.container})})})});OQ.displayName="FormControl";var W$e=_e(function(t,n){const r=RQ(),i=B$e(),o=Xe("chakra-form__helper-text",t.className);return $.jsx(ke.div,{...r==null?void 0:r.getHelpTextProps(t,n),__css:i.helperText,className:o})});W$e.displayName="FormHelperText";function DQ(e){const{isDisabled:t,isInvalid:n,isReadOnly:r,isRequired:i,...o}=H$e(e);return{...o,disabled:t,readOnly:r,required:i,"aria-invalid":B$(n),"aria-required":B$(i),"aria-readonly":B$(r)}}function H$e(e){var t,n,r;const i=RQ(),{id:o,disabled:s,readOnly:a,required:l,isRequired:u,isInvalid:c,isReadOnly:f,isDisabled:d,onFocus:h,onBlur:p,...g}=e,m=e["aria-describedby"]?[e["aria-describedby"]]:[];return i!=null&&i.hasFeedbackText&&(i!=null&&i.isInvalid)&&m.push(i.feedbackId),i!=null&&i.hasHelpText&&m.push(i.helpTextId),{...g,"aria-describedby":m.join(" ")||void 0,id:o??(i==null?void 0:i.id),isDisabled:(t=s??d)!=null?t:i==null?void 0:i.isDisabled,isReadOnly:(n=a??f)!=null?n:i==null?void 0:i.isReadOnly,isRequired:(r=l??u)!=null?r:i==null?void 0:i.isRequired,isInvalid:c??(i==null?void 0:i.isInvalid),onFocus:tc(i==null?void 0:i.onFocus,h),onBlur:tc(i==null?void 0:i.onBlur,p)}}var NQ={exports:{}},q$e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",G$e=q$e,Y$e=G$e;function LQ(){}function IQ(){}IQ.resetWarningCache=LQ;var X$e=function(){function e(r,i,o,s,a,l){if(l!==Y$e){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:IQ,resetWarningCache:LQ};return n.PropTypes=n,n};NQ.exports=X$e();var K$e=NQ.exports;const u7=Da(K$e);var[Q$e,J$e]=jn({name:"InputGroupStylesContext",errorMessage:`useInputGroupStyles returned is 'undefined'. Seems you forgot to wrap the components in "<InputGroup />" `}),zQ=_e(function(t,n){const r=Yl("Input",t),{children:i,className:o,...s}=ir(t),a=Xe("chakra-input__group",o),l={},u=jC(i),c=r.field;u.forEach(d=>{var h,p;r&&(c&&d.type.id==="InputLeftElement"&&(l.paddingStart=(h=c.height)!=null?h:c.h),c&&d.type.id==="InputRightElement"&&(l.paddingEnd=(p=c.height)!=null?p:c.h),d.type.id==="InputRightAddon"&&(l.borderEndRadius=0),d.type.id==="InputLeftAddon"&&(l.borderStartRadius=0))});const f=u.map(d=>{var h,p;const g=VX({size:((h=d.props)==null?void 0:h.size)||t.size,variant:((p=d.props)==null?void 0:p.variant)||t.variant});return d.type.id!=="Input"?M.cloneElement(d,g):M.cloneElement(d,Object.assign(g,l,d.props))});return $.jsx(ke.div,{className:a,ref:n,__css:{width:"100%",display:"flex",position:"relative",isolation:"isolate",...r.group},"data-group":!0,...s,children:$.jsx(Q$e,{value:r,children:f})})});zQ.displayName="InputGroup";var Z$e=ke("div",{baseStyle:{display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",top:"0",zIndex:2}}),BC=_e(function(t,n){var r,i;const{placement:o="left",...s}=t,a=J$e(),l=a.field,c={[o==="left"?"insetStart":"insetEnd"]:"0",width:(r=l==null?void 0:l.height)!=null?r:l==null?void 0:l.h,height:(i=l==null?void 0:l.height)!=null?i:l==null?void 0:l.h,fontSize:l==null?void 0:l.fontSize,...a.element};return $.jsx(Z$e,{ref:n,__css:c,...s})});BC.id="InputElement";BC.displayName="InputElement";var jQ=_e(function(t,n){const{className:r,...i}=t,o=Xe("chakra-input__left-element",r);return $.jsx(BC,{ref:n,placement:"left",className:o,...i})});jQ.id="InputLeftElement";jQ.displayName="InputLeftElement";var $R=_e(function(t,n){const{className:r,...i}=t,o=Xe("chakra-input__right-element",r);return $.jsx(BC,{ref:n,placement:"right",className:o,...i})});$R.id="InputRightElement";$R.displayName="InputRightElement";var _1=_e(function(t,n){const{htmlSize:r,...i}=t,o=Yl("Input",i),s=ir(i),a=DQ(s),l=Xe("chakra-input",t.className);return $.jsx(ke.input,{size:r,...a,__css:o.field,ref:n,className:l})});_1.displayName="Input";_1.id="Input";var Nw=_e(function(t,n){const r=Gl("Link",t),{className:i,isExternal:o,...s}=ir(t);return $.jsx(ke.a,{target:o?"_blank":void 0,rel:o?"noopener":void 0,ref:n,className:Xe("chakra-link",i),...s,__css:r})});Nw.displayName="Link";var[eAe,BQ]=jn({name:"ListStylesContext",errorMessage:`useListStyles returned is 'undefined'. Seems you forgot to wrap the components in "<List />" `}),AR=_e(function(t,n){const r=Yl("List",t),{children:i,styleType:o="none",stylePosition:s,spacing:a,...l}=ir(t),u=jC(i),f=a?{["& > *:not(style) ~ *:not(style)"]:{mt:a}}:{};return $.jsx(eAe,{value:r,children:$.jsx(ke.ul,{ref:n,listStyleType:o,listStylePosition:s,role:"list",__css:{...r.container,...f},...l,children:u})})});AR.displayName="List";var TR=_e((e,t)=>{const{as:n,...r}=e;return $.jsx(AR,{ref:t,as:"ol",styleType:"decimal",marginStart:"1em",...r})});TR.displayName="OrderedList";var tAe=_e(function(t,n){const{as:r,...i}=t;return $.jsx(AR,{ref:n,as:"ul",styleType:"initial",marginStart:"1em",...i})});tAe.displayName="UnorderedList";var PR=_e(function(t,n){const r=BQ();return $.jsx(ke.li,{ref:n,...t,__css:r.item})});PR.displayName="ListItem";var nAe=_e(function(t,n){const r=BQ();return $.jsx(yt,{ref:n,role:"presentation",...t,__css:r.icon})});nAe.displayName="ListIcon";var Fy=_e(function(t,n){const{templateAreas:r,gap:i,rowGap:o,columnGap:s,column:a,row:l,autoFlow:u,autoRows:c,templateRows:f,autoColumns:d,templateColumns:h,...p}=t,g={display:"grid",gridTemplateAreas:r,gridGap:i,gridRowGap:o,gridColumnGap:s,gridAutoColumns:d,gridColumn:a,gridRow:l,gridAutoFlow:u,gridAutoRows:c,gridTemplateRows:f,gridTemplateColumns:h};return $.jsx(ke.div,{ref:n,__css:g,...p})});Fy.displayName="Grid";var UQ=Object.freeze(["base","sm","md","lg","xl","2xl"]);function rAe(e,t){return Array.isArray(e)?e.map(n=>n===null?null:t(n)):mi(e)?Object.keys(e).reduce((n,r)=>(n[r]=t(e[r]),n),{}):e!=null?t(e):null}function iAe(e,t=UQ){const n={};return e.forEach((r,i)=>{const o=t[i];r!=null&&(n[o]=r)}),n}var MR=ke("div",{baseStyle:{flex:1,justifySelf:"stretch",alignSelf:"stretch"}});MR.displayName="Spacer";var Lt=_e(function(t,n){const r=Gl("Text",t),{className:i,align:o,decoration:s,casing:a,...l}=ir(t),u=VX({textAlign:t.align,textDecoration:t.decoration,textTransform:t.casing});return $.jsx(ke.p,{ref:n,className:Xe("chakra-text",t.className),...u,...l,__css:r})});Lt.displayName="Text";var VQ=e=>$.jsx(ke.div,{className:"chakra-stack__item",...e,__css:{display:"inline-block",flex:"0 0 auto",minWidth:0,...e.__css}});VQ.displayName="StackItem";function oAe(e){const{spacing:t,direction:n}=e,r={column:{my:t,mx:0,borderLeftWidth:0,borderBottomWidth:"1px"},"column-reverse":{my:t,mx:0,borderLeftWidth:0,borderBottomWidth:"1px"},row:{mx:t,my:0,borderLeftWidth:"1px",borderBottomWidth:0},"row-reverse":{mx:t,my:0,borderLeftWidth:"1px",borderBottomWidth:0}};return{"&":rAe(n,i=>r[i])}}var FR=_e((e,t)=>{const{isInline:n,direction:r,align:i,justify:o,spacing:s="0.5rem",wrap:a,children:l,divider:u,className:c,shouldWrapChildren:f,...d}=e,h=n?"row":r??"column",p=M.useMemo(()=>oAe({spacing:s,direction:h}),[s,h]),g=!!u,m=!f&&!g,y=M.useMemo(()=>{const b=jC(l);return m?b:b.map((x,w)=>{const k=typeof x.key<"u"?x.key:w,S=w+1===b.length,E=f?$.jsx(VQ,{children:x},k):x;if(!g)return E;const A=M.cloneElement(u,{__css:p}),T=S?null:A;return $.jsxs(M.Fragment,{children:[E,T]},k)})},[u,p,g,m,f,l]),v=Xe("chakra-stack",c);return $.jsx(ke.div,{ref:t,display:"flex",alignItems:i,justifyContent:o,flexDirection:h,flexWrap:a,gap:g?void 0:s,className:v,...d,children:y})});FR.displayName="Stack";var wa=_e((e,t)=>$.jsx(FR,{align:"center",...e,direction:"column",ref:t}));wa.displayName="VStack";var WQ=_e((e,t)=>$.jsx(FR,{align:"center",...e,direction:"row",ref:t}));WQ.displayName="HStack";var RR=_e(function(t,n){const r=Gl("Heading",t),{className:i,...o}=ir(t);return $.jsx(ke.h2,{ref:n,className:Xe("chakra-heading",t.className),...o,__css:r})});RR.displayName="Heading";var J2=ke("div");J2.displayName="Box";var HQ=_e(function(t,n){const{size:r,centerContent:i=!0,...o}=t,s=i?{display:"flex",alignItems:"center",justifyContent:"center"}:{};return $.jsx(J2,{ref:n,boxSize:r,__css:{...s,flexShrink:0,flexGrow:0},...o})});HQ.displayName="Square";var sAe=_e(function(t,n){const{size:r,...i}=t;return $.jsx(HQ,{size:r,ref:n,borderRadius:"9999px",...i})});sAe.displayName="Circle";var qQ=_e(function(t,n){const r=Gl("Badge",t),{className:i,...o}=ir(t);return $.jsx(ke.span,{ref:n,className:Xe("chakra-badge",t.className),...o,__css:{display:"inline-block",whiteSpace:"nowrap",verticalAlign:"middle",...r}})});qQ.displayName="Badge";var hc=ke("div",{baseStyle:{display:"flex",alignItems:"center",justifyContent:"center"}});hc.displayName="Center";var aAe={horizontal:{insetStart:"50%",transform:"translateX(-50%)"},vertical:{top:"50%",transform:"translateY(-50%)"},both:{insetStart:"50%",top:"50%",transform:"translate(-50%, -50%)"}};_e(function(t,n){const{axis:r="both",...i}=t;return $.jsx(ke.div,{ref:n,__css:aAe[r],...i,position:"absolute"})});var OR=_e(function(t,n){const{borderLeftWidth:r,borderBottomWidth:i,borderTopWidth:o,borderRightWidth:s,borderWidth:a,borderStyle:l,borderColor:u,...c}=Gl("Divider",t),{className:f,orientation:d="horizontal",__css:h,...p}=ir(t),g={vertical:{borderLeftWidth:r||s||a||"1px",height:"100%"},horizontal:{borderBottomWidth:i||o||a||"1px",width:"100%"}};return $.jsx(ke.hr,{ref:n,"aria-orientation":d,...p,__css:{...c,border:"0",borderColor:u,borderStyle:l,...g[d],...h},className:Xe("chakra-divider",f)})});OR.displayName="Divider";var Ht=_e(function(t,n){const{direction:r,align:i,justify:o,wrap:s,basis:a,grow:l,shrink:u,...c}=t,f={display:"flex",flexDirection:r,alignItems:i,justifyContent:o,flexWrap:s,flexBasis:a,flexGrow:l,flexShrink:u};return $.jsx(ke.div,{ref:n,__css:f,...c})});Ht.displayName="Flex";function lAe(e,t={}){const{ssr:n=!0,fallback:r}=t,{getWindow:i}=mSe(),o=Array.isArray(e)?e:[e];let s=Array.isArray(r)?r:[r];s=s.filter(u=>u!=null);const[a,l]=M.useState(()=>o.map((u,c)=>({media:u,matches:n?!!s[c]:i().matchMedia(u).matches})));return M.useEffect(()=>{const u=i();l(o.map(d=>({media:d,matches:u.matchMedia(d).matches})));const c=o.map(d=>u.matchMedia(d)),f=d=>{l(h=>h.slice().map(p=>p.media===d.media?{...p,matches:d.matches}:p))};return c.forEach(d=>{typeof d.addListener=="function"?d.addListener(f):d.addEventListener("change",f)}),()=>{c.forEach(d=>{typeof d.removeListener=="function"?d.removeListener(f):d.removeEventListener("change",f)})}},[i]),a.map(u=>u.matches)}function uAe(e,t,n=UQ){let r=Object.keys(e).indexOf(t);if(r!==-1)return e[t];let i=n.indexOf(t);for(;i>=0;){const o=n[i];if(e.hasOwnProperty(o)){r=i;break}i-=1}if(r!==-1){const o=n[r];return e[o]}}function cAe(e){var t,n;const r=mi(e)?e:{fallback:e??"base"},o=W4().__breakpoints.details.map(({minMaxQuery:u,breakpoint:c})=>({breakpoint:c,query:u.replace("@media screen and ","")})),s=o.map(u=>u.breakpoint===r.fallback),l=lAe(o.map(u=>u.query),{fallback:s,ssr:r.ssr}).findIndex(u=>u==!0);return(n=(t=o[l])==null?void 0:t.breakpoint)!=null?n:r.fallback}function Ih(e,t){var n;const r=mi(t)?t:{fallback:"base"},i=cAe(r),o=W4();if(!i)return;const s=Array.from(((n=o.__breakpoints)==null?void 0:n.keys)||[]),a=Array.isArray(e)?Object.fromEntries(Object.entries(iAe(e,s)).map(([l,u])=>[l,u])):e;return uAe(a,i,s)}function fAe(){const e=M.useRef(new Map),t=e.current,n=M.useCallback((i,o,s,a)=>{e.current.set(s,{type:o,el:i,options:a}),i.addEventListener(o,s,a)},[]),r=M.useCallback((i,o,s,a)=>{i.removeEventListener(o,s,a),e.current.delete(s)},[]);return M.useEffect(()=>()=>{t.forEach((i,o)=>{r(i.el,i.type,o,i.options)})},[r,t]),{add:n,remove:r}}function bA(e){const t=e.target,{tagName:n,isContentEditable:r}=t;return n!=="INPUT"&&n!=="TEXTAREA"&&r!==!0}function dAe(e={}){const{ref:t,isDisabled:n,isFocusable:r,clickOnEnter:i=!0,clickOnSpace:o=!0,onMouseDown:s,onMouseUp:a,onClick:l,onKeyDown:u,onKeyUp:c,tabIndex:f,onMouseOver:d,onMouseLeave:h,...p}=e,[g,m]=M.useState(!0),[y,v]=M.useState(!1),b=fAe(),x=N=>{N&&N.tagName!=="BUTTON"&&m(!1)},w=g?f:f||0,k=n&&!r,S=M.useCallback(N=>{if(n){N.stopPropagation(),N.preventDefault();return}N.currentTarget.focus(),l==null||l(N)},[n,l]),C=M.useCallback(N=>{y&&bA(N)&&(N.preventDefault(),N.stopPropagation(),v(!1),b.remove(document,"keyup",C,!1))},[y,b]),E=M.useCallback(N=>{if(u==null||u(N),n||N.defaultPrevented||N.metaKey||!bA(N.nativeEvent)||g)return;const D=i&&N.key==="Enter";o&&N.key===" "&&(N.preventDefault(),v(!0)),D&&(N.preventDefault(),N.currentTarget.click()),b.add(document,"keyup",C,!1)},[n,g,u,i,o,b,C]),A=M.useCallback(N=>{if(c==null||c(N),n||N.defaultPrevented||N.metaKey||!bA(N.nativeEvent)||g)return;o&&N.key===" "&&(N.preventDefault(),v(!1),N.currentTarget.click())},[o,g,n,c]),T=M.useCallback(N=>{N.button===0&&(v(!1),b.remove(document,"mouseup",T,!1))},[b]),L=M.useCallback(N=>{if(N.button!==0)return;if(n){N.stopPropagation(),N.preventDefault();return}g||v(!0),N.currentTarget.focus({preventScroll:!0}),b.add(document,"mouseup",T,!1),s==null||s(N)},[n,g,s,b,T]),F=M.useCallback(N=>{N.button===0&&(g||v(!1),a==null||a(N))},[a,g]),R=M.useCallback(N=>{if(n){N.preventDefault();return}d==null||d(N)},[n,d]),_=M.useCallback(N=>{y&&(N.preventDefault(),v(!1)),h==null||h(N)},[y,h]),P=md(t,x);return g?{...p,ref:P,type:"button","aria-disabled":k?void 0:n,disabled:k,onClick:S,onMouseDown:s,onMouseUp:a,onKeyUp:c,onKeyDown:u,onMouseOver:d,onMouseLeave:h}:{...p,ref:P,role:"button","data-active":mo(y),"aria-disabled":n?"true":void 0,tabIndex:k?void 0:w,onClick:S,onMouseDown:L,onMouseUp:F,onKeyUp:A,onKeyDown:E,onMouseOver:R,onMouseLeave:_}}function hAe(e){const{wasSelected:t,enabled:n,isSelected:r,mode:i="unmount"}=e;return!!(!n||r||i==="keepMounted"&&t)}var GQ=_e(function(t,n){const{children:r,placeholder:i,className:o,...s}=t;return $.jsxs(ke.select,{...s,ref:n,className:Xe("chakra-select",o),children:[i&&$.jsx("option",{value:"",children:i}),r]})});GQ.displayName="SelectField";function pAe(e,t){const n={},r={};for(const[i,o]of Object.entries(e))t.includes(i)?n[i]=o:r[i]=o;return[n,r]}var DR=_e((e,t)=>{var n;const r=Yl("Select",e),{rootProps:i,placeholder:o,icon:s,color:a,height:l,h:u,minH:c,minHeight:f,iconColor:d,iconSize:h,...p}=ir(e),[g,m]=pAe(p,tye),y=DQ(m),v={width:"100%",height:"fit-content",position:"relative",color:a},b={paddingEnd:"2rem",...r.field,_focus:{zIndex:"unset",...(n=r.field)==null?void 0:n._focus}};return $.jsxs(ke.div,{className:"chakra-select__wrapper",__css:v,...g,...i,children:[$.jsx(GQ,{ref:t,height:u??l,minH:c??f,placeholder:o,...y,__css:b,children:e.children}),$.jsx(YQ,{"data-disabled":mo(y.disabled),...(d||a)&&{color:d||a},__css:r.icon,...h&&{fontSize:h},children:s})]})});DR.displayName="Select";var gAe=e=>$.jsx("svg",{viewBox:"0 0 24 24",...e,children:$.jsx("path",{fill:"currentColor",d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"})}),mAe=ke("div",{baseStyle:{position:"absolute",display:"inline-flex",alignItems:"center",justifyContent:"center",pointerEvents:"none",top:"50%",transform:"translateY(-50%)"}}),YQ=e=>{const{children:t=$.jsx(gAe,{}),...n}=e,r=M.cloneElement(t,{role:"presentation",className:"chakra-select__icon",focusable:!1,"aria-hidden":!0,style:{width:"1em",height:"1em",color:"currentColor"}});return $.jsx(mAe,{...n,className:"chakra-select__icon-wrapper",children:M.isValidElement(t)?r:null})};YQ.displayName="SelectIcon";var[yAe,vAe,bAe,xAe]=kQ();function wAe(e){var t;const{defaultIndex:n,onChange:r,index:i,isManual:o,isLazy:s,lazyBehavior:a="unmount",orientation:l="horizontal",direction:u="ltr",...c}=e,[f,d]=M.useState(n??0),[h,p]=EQ({defaultValue:n??0,value:i,onChange:r});M.useEffect(()=>{i!=null&&d(i)},[i]);const g=bAe(),m=M.useId();return{id:`tabs-${(t=e.id)!=null?t:m}`,selectedIndex:h,focusedIndex:f,setSelectedIndex:p,setFocusedIndex:d,isManual:o,isLazy:s,lazyBehavior:a,orientation:l,descendants:g,direction:u,htmlProps:c}}var[SAe,UC]=jn({name:"TabsContext",errorMessage:"useTabsContext: `context` is undefined. Seems you forgot to wrap all tabs components within <Tabs />"});function kAe(e){const{focusedIndex:t,orientation:n,direction:r}=UC(),i=vAe(),o=M.useCallback(s=>{const a=()=>{var v;const b=i.nextEnabled(t);b&&((v=b.node)==null||v.focus())},l=()=>{var v;const b=i.prevEnabled(t);b&&((v=b.node)==null||v.focus())},u=()=>{var v;const b=i.firstEnabled();b&&((v=b.node)==null||v.focus())},c=()=>{var v;const b=i.lastEnabled();b&&((v=b.node)==null||v.focus())},f=n==="horizontal",d=n==="vertical",h=s.key,p=r==="ltr"?"ArrowLeft":"ArrowRight",g=r==="ltr"?"ArrowRight":"ArrowLeft",y={[p]:()=>f&&l(),[g]:()=>f&&a(),ArrowDown:()=>d&&a(),ArrowUp:()=>d&&l(),Home:u,End:c}[h];y&&(s.preventDefault(),y(s))},[i,t,n,r]);return{...e,role:"tablist","aria-orientation":n,onKeyDown:tc(e.onKeyDown,o)}}function CAe(e){const{isDisabled:t=!1,isFocusable:n=!1,...r}=e,{setSelectedIndex:i,isManual:o,id:s,setFocusedIndex:a,selectedIndex:l}=UC(),{index:u,register:c}=xAe({disabled:t&&!n}),f=u===l,d=()=>{i(u)},h=()=>{a(u),!o&&!(t&&n)&&i(u)};return{...dAe({...r,ref:md(c,e.ref),isDisabled:t,isFocusable:n,onClick:tc(e.onClick,d)}),id:XQ(s,u),role:"tab",tabIndex:f?0:-1,type:"button","aria-selected":f,"aria-controls":KQ(s,u),onFocus:t?void 0:tc(e.onFocus,h)}}var[EAe,_Ae]=jn({});function $Ae(e){const t=UC(),{id:n,selectedIndex:r}=t,o=jC(e.children).map((s,a)=>M.createElement(EAe,{key:a,value:{isSelected:a===r,id:KQ(n,a),tabId:XQ(n,a),selectedIndex:r}},s));return{...e,children:o}}function AAe(e){const{children:t,...n}=e,{isLazy:r,lazyBehavior:i}=UC(),{isSelected:o,id:s,tabId:a}=_Ae(),l=M.useRef(!1);o&&(l.current=!0);const u=hAe({wasSelected:l.current,isSelected:o,enabled:r,mode:i});return{tabIndex:0,...n,children:u?t:null,role:"tabpanel","aria-labelledby":a,hidden:!o,id:s}}function XQ(e,t){return`${e}--tab-${t}`}function KQ(e,t){return`${e}--tabpanel-${t}`}var[TAe,VC]=jn({name:"TabsStylesContext",errorMessage:`useTabsStyles returned is 'undefined'. Seems you forgot to wrap the components in "<Tabs />" `}),QQ=_e(function(t,n){const r=Yl("Tabs",t),{children:i,className:o,...s}=ir(t),{htmlProps:a,descendants:l,...u}=wAe(s),c=M.useMemo(()=>u,[u]),{isFitted:f,...d}=a,h={position:"relative",...r.root};return $.jsx(yAe,{value:l,children:$.jsx(SAe,{value:c,children:$.jsx(TAe,{value:r,children:$.jsx(ke.div,{className:Xe("chakra-tabs",o),ref:n,...d,__css:h,children:i})})})})});QQ.displayName="Tabs";var JQ=_e(function(t,n){const r=kAe({...t,ref:n}),o={display:"flex",...VC().tablist};return $.jsx(ke.div,{...r,className:Xe("chakra-tabs__tablist",t.className),__css:o})});JQ.displayName="TabList";var sm=_e(function(t,n){const r=AAe({...t,ref:n}),i=VC();return $.jsx(ke.div,{outline:"0",...r,className:Xe("chakra-tabs__tab-panel",t.className),__css:i.tabpanel})});sm.displayName="TabPanel";var ZQ=_e(function(t,n){const r=$Ae(t),i=VC();return $.jsx(ke.div,{...r,width:"100%",ref:n,className:Xe("chakra-tabs__tab-panels",t.className),__css:i.tabpanels})});ZQ.displayName="TabPanels";var eJ=_e(function(t,n){const r=VC(),i=CAe({...t,ref:n}),o={outline:"0",display:"flex",alignItems:"center",justifyContent:"center",...r.tab};return $.jsx(ke.button,{...i,className:Xe("chakra-tabs__tab",t.className),__css:o})});eJ.displayName="Tab";var[PAe,tJ]=jn({name:"TagStylesContext",errorMessage:`useTagStyles returned is 'undefined'. Seems you forgot to wrap the components in "<Tag />" `}),nJ=_e((e,t)=>{const n=Yl("Tag",e),r=ir(e),i={display:"inline-flex",verticalAlign:"top",alignItems:"center",maxWidth:"100%",...n.container};return $.jsx(PAe,{value:n,children:$.jsx(ke.span,{ref:t,...r,__css:i})})});nJ.displayName="Tag";var rJ=_e((e,t)=>{const n=tJ();return $.jsx(ke.span,{ref:t,noOfLines:1,...e,__css:n.label})});rJ.displayName="TagLabel";var MAe=_e((e,t)=>$.jsx(yt,{ref:t,verticalAlign:"top",marginEnd:"0.5rem",...e}));MAe.displayName="TagLeftIcon";var FAe=_e((e,t)=>$.jsx(yt,{ref:t,verticalAlign:"top",marginStart:"0.5rem",...e}));FAe.displayName="TagRightIcon";var iJ=e=>$.jsx(yt,{verticalAlign:"inherit",viewBox:"0 0 512 512",...e,children:$.jsx("path",{fill:"currentColor",d:"M289.94 256l95-95A24 24 0 00351 127l-95 95-95-95a24 24 0 00-34 34l95 95-95 95a24 24 0 1034 34l95-95 95 95a24 24 0 0034-34z"})});iJ.displayName="TagCloseIcon";var oJ=_e((e,t)=>{const{isDisabled:n,children:r,...i}=e,s={display:"flex",alignItems:"center",justifyContent:"center",outline:"0",...tJ().closeButton};return $.jsx(ke.button,{ref:t,"aria-label":"close",...i,type:"button",disabled:n,__css:s,children:r||$.jsx(iJ,{})})});oJ.displayName="TagCloseButton";function RAe(e){return{all:e=e||new Map,on:function(t,n){var r=e.get(t);r?r.push(n):e.set(t,[n])},off:function(t,n){var r=e.get(t);r&&(n?r.splice(r.indexOf(n)>>>0,1):e.set(t,[]))},emit:function(t,n){var r=e.get(t);r&&r.slice().map(function(i){i(n)}),(r=e.get("*"))&&r.slice().map(function(i){i(t,n)})}}}/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const sJ=Symbol("Comlink.proxy"),OAe=Symbol("Comlink.endpoint"),aJ=Symbol("Comlink.releaseProxy"),xA=Symbol("Comlink.finalizer"),Lw=Symbol("Comlink.thrown"),lJ=e=>typeof e=="object"&&e!==null||typeof e=="function",DAe={canHandle:e=>lJ(e)&&e[sJ],serialize(e){const{port1:t,port2:n}=new MessageChannel;return cJ(e,t),[n,[n]]},deserialize(e){return e.start(),dJ(e)}},NAe={canHandle:e=>lJ(e)&&Lw in e,serialize({value:e}){let t;return e instanceof Error?t={isError:!0,value:{message:e.message,name:e.name,stack:e.stack}}:t={isError:!1,value:e},[t,[]]},deserialize(e){throw e.isError?Object.assign(new Error(e.value.message),e.value):e.value}},uJ=new Map([["proxy",DAe],["throw",NAe]]);function LAe(e,t){for(const n of e)if(t===n||n==="*"||n instanceof RegExp&&n.test(t))return!0;return!1}function cJ(e,t=globalThis,n=["*"]){t.addEventListener("message",function r(i){if(!i||!i.data)return;if(!LAe(n,i.origin)){console.warn(`Invalid origin '${i.origin}' for comlink proxy`);return}const{id:o,type:s,path:a}=Object.assign({path:[]},i.data),l=(i.data.argumentList||[]).map(kf);let u;try{const c=a.slice(0,-1).reduce((d,h)=>d[h],e),f=a.reduce((d,h)=>d[h],e);switch(s){case"GET":u=f;break;case"SET":c[a.slice(-1)[0]]=kf(i.data.value),u=!0;break;case"APPLY":u=f.apply(c,l);break;case"CONSTRUCT":{const d=new f(...l);u=VAe(d)}break;case"ENDPOINT":{const{port1:d,port2:h}=new MessageChannel;cJ(e,h),u=UAe(d,[d])}break;case"RELEASE":u=void 0;break;default:return}}catch(c){u={value:c,[Lw]:0}}Promise.resolve(u).catch(c=>({value:c,[Lw]:0})).then(c=>{const[f,d]=tS(c);t.postMessage(Object.assign(Object.assign({},f),{id:o}),d),s==="RELEASE"&&(t.removeEventListener("message",r),fJ(t),xA in e&&typeof e[xA]=="function"&&e[xA]())}).catch(c=>{const[f,d]=tS({value:new TypeError("Unserializable return value"),[Lw]:0});t.postMessage(Object.assign(Object.assign({},f),{id:o}),d)})}),t.start&&t.start()}function IAe(e){return e.constructor.name==="MessagePort"}function fJ(e){IAe(e)&&e.close()}function dJ(e,t){return O3(e,[],t)}function dx(e){if(e)throw new Error("Proxy has been released and is not useable")}function hJ(e){return zh(e,{type:"RELEASE"}).then(()=>{fJ(e)})}const Z2=new WeakMap,eS="FinalizationRegistry"in globalThis&&new FinalizationRegistry(e=>{const t=(Z2.get(e)||0)-1;Z2.set(e,t),t===0&&hJ(e)});function zAe(e,t){const n=(Z2.get(t)||0)+1;Z2.set(t,n),eS&&eS.register(e,t,e)}function jAe(e){eS&&eS.unregister(e)}function O3(e,t=[],n=function(){}){let r=!1;const i=new Proxy(n,{get(o,s){if(dx(r),s===aJ)return()=>{jAe(i),hJ(e),r=!0};if(s==="then"){if(t.length===0)return{then:()=>i};const a=zh(e,{type:"GET",path:t.map(l=>l.toString())}).then(kf);return a.then.bind(a)}return O3(e,[...t,s])},set(o,s,a){dx(r);const[l,u]=tS(a);return zh(e,{type:"SET",path:[...t,s].map(c=>c.toString()),value:l},u).then(kf)},apply(o,s,a){dx(r);const l=t[t.length-1];if(l===OAe)return zh(e,{type:"ENDPOINT"}).then(kf);if(l==="bind")return O3(e,t.slice(0,-1));const[u,c]=c7(a);return zh(e,{type:"APPLY",path:t.map(f=>f.toString()),argumentList:u},c).then(kf)},construct(o,s){dx(r);const[a,l]=c7(s);return zh(e,{type:"CONSTRUCT",path:t.map(u=>u.toString()),argumentList:a},l).then(kf)}});return zAe(i,e),i}function BAe(e){return Array.prototype.concat.apply([],e)}function c7(e){const t=e.map(tS);return[t.map(n=>n[0]),BAe(t.map(n=>n[1]))]}const pJ=new WeakMap;function UAe(e,t){return pJ.set(e,t),e}function VAe(e){return Object.assign(e,{[sJ]:!0})}function tS(e){for(const[t,n]of uJ)if(n.canHandle(e)){const[r,i]=n.serialize(e);return[{type:"HANDLER",name:t,value:r},i]}return[{type:"RAW",value:e},pJ.get(e)||[]]}function kf(e){switch(e.type){case"HANDLER":return uJ.get(e.name).deserialize(e.value);case"RAW":return e.value}}function zh(e,t,n){return new Promise(r=>{const i=WAe();e.addEventListener("message",function o(s){!s.data||!s.data.id||s.data.id!==i||(e.removeEventListener("message",o),r(s.data))}),e.start&&e.start(),e.postMessage(Object.assign({id:i},t),n)})}function WAe(){return new Array(4).fill(0).map(()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16)).join("-")}function HAe(e){return new Worker("/Swipytics/assets/pyodide-worker-sTp3IzDK.js",{type:"module",name:e==null?void 0:e.name})}let yo=null,vr=null;const qAe=async(e,t)=>{if(!yo||!vr)throw new Error("pyodide isn't loaded yet");return await vr.runPython(e,t)},GAe=async(e,t)=>{if(!yo||!vr)throw new Error("pyodide isn't loaded yet");return vr.callPythonFunction(e,t)},YAe=async(e,t)=>{if(!yo||!vr)throw new Error("pyodide isn't loaded yet");return vr.writeFile(e,t)},XAe=async e=>{if(!yo||!vr)throw new Error("pyodide isn't loaded yet");return vr.readFile(e)},KAe=async e=>(yo||(yo=new HAe({name:"pyodide-worker"}),vr=dJ(yo),await vr.initialize(e)),{runPython:qAe,callPythonFunction:GAe,writeFile:YAe,readFile:XAe,terminate:()=>{yo==null||yo.terminate(),yo=null,vr==null||vr[aJ](),vr=null},initialize:async t=>{if(!yo||!vr)throw new Error("pyodide isn't loaded yet");await vr.initialize(t)}});let Ry;async function QAe(e){const{packages:t}=e||{};return Ry===void 0&&(Ry=await JAe(t)),Ry}const JAe=async e=>(Ry=await KAe(e),Ry),Hd=async()=>await QAe({packages:["draco"]});async function ZAe({chart:e}){return await(await Hd()).callPythonFunction("appendChart",[e])}async function eTe({chart:e}){return await(await fetch("/api/appendChart",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({chart:e})})).json()}const tTe={pyodide:ZAe,server:eTe};async function nTe(){return await(await Hd()).callPythonFunction("appendNextChart",[])}async function rTe(){return await(await fetch("/api/appendNextChart")).json()}const iTe={server:rTe,pyodide:nTe};async function oTe({fieldNames:e}){return await(await Hd()).callPythonFunction("browseCharts",[e])}async function sTe({fieldNames:e}){return await(await fetch("/api/browseCharts",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({field_names:e})})).json()}const aTe={pyodide:oTe,server:sTe};async function lTe({session:e}){return await(await Hd()).callPythonFunction("loadSession",[e])}async function uTe({session:e}){return await(await fetch("/api/loadSession",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).json()}const cTe={pyodide:lTe,server:uTe};async function fTe({key:e,preferred:t}){await(await Hd()).callPythonFunction("setPreferred",[e,t])}async function dTe({key:e,preferred:t}){await fetch("/api/setPreferred",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({key:e,preferred:t})})}const hTe={pyodide:fTe,server:dTe};async function pTe({filename:e,fileBuffer:t}){await(await Hd()).writeFile(e,t)}async function gTe({filename:e,fileBuffer:t}){const n=new Blob([t]),r=new FormData;r.append("file",n,e),await fetch("/api/writeFile",{method:"POST",body:r})}const mTe={pyodide:pTe,server:gTe},yTe={appendChart:tTe,appendNextChart:iTe,browseCharts:aTe,loadSession:cTe,writeFile:mTe,setPreferred:hTe};async function vTe(e,t,n){return await yTe[t][e](n)}class bTe{constructor(){ae(this,"python","pyodide");ae(this,"serverConnectable",!1);ae(this,"pyodideLoaded",!1);ae(this,"emitter",RAe());this.initializeRouter()}async initializeRouter(){await Promise.all([this.loadPyodide(),this.checkServerConnection()])}async loadPyodide(){if(!this.pyodideLoaded)try{await Hd(),this.pyodideLoaded=!0,this.emitter.emit("loadingStatusChange",this.getLoadingStatus())}catch(t){console.error("error while connecting pyodide:",t),this.pyodideLoaded=!1,this.emitter.emit("loadingStatusChange",this.getLoadingStatus())}}async checkServerConnection(){try{const t=await fetch("/api");this.serverConnectable=t.ok,this.serverConnectable&&(this.python="server"),this.emitter.emit("loadingStatusChange",this.getLoadingStatus())}catch(t){this.serverConnectable=!1,console.error("error while connecting server:",t),this.emitter.emit("loadingStatusChange",this.getLoadingStatus())}}getPythonType(){return this.python}setPython(t){return t==="server"&&!this.serverConnectable?!1:(this.python=t,this.emitter.emit("loadingStatusChange",this.getLoadingStatus()),!0)}getLoadingStatus(){return{loadingPyodide:this.python==="pyodide"&&!this.pyodideLoaded,loadingServer:this.python==="server"&&!this.serverConnectable,loading:this.python==="pyodide"&&!this.pyodideLoaded||this.python==="server"&&!this.serverConnectable}}on(t,n){this.emitter.on(t,n)}off(t,n){this.emitter.off(t,n)}async call(t,n){if(this.getLoadingStatus().loading)return console.error("Router is not loaded yet"),null;try{return await vTe(this.getPythonType(),t,n)}catch(r){return console.error("error while calling endpoint:",r),null}}async lazyCall(t,n){return new Promise(r=>{const i=()=>{this.getLoadingStatus().loading||(this.off("loadingStatusChange",i),r(this.call(t,n)))};this.on("loadingStatusChange",i),i()})}}const Eo=new bTe;function f7(e,t){if(!e)throw new Error(t||"loader assertion failed.")}const gJ=!!(typeof process!="object"||String(process)!=="[object process]"||process.browser),d7=typeof process<"u"&&process.version&&/v([0-9]*)/.exec(process.version);d7&&parseFloat(d7[1]);const hx=globalThis,vh=globalThis.process||{};function xTe(e){var r,i;if(typeof window<"u"&&((r=window.process)==null?void 0:r.type)==="renderer"||typeof process<"u"&&((i=process.versions)!=null&&i.electron))return!0;const n=typeof navigator<"u"&&navigator.userAgent;return!!(n&&n.indexOf("Electron")>=0)}function NR(){return!(typeof process=="object"&&String(process)==="[object process]"&&!(process!=null&&process.browser))||xTe()}const mJ="4.0.7";function wTe(e){try{const t=window[e],n="__storage_test__";return t.setItem(n,n),t.removeItem(n),t}catch{return null}}class STe{constructor(t,n,r="sessionStorage"){this.storage=wTe(r),this.id=t,this.config=n,this._loadConfiguration()}getConfiguration(){return this.config}setConfiguration(t){if(Object.assign(this.config,t),this.storage){const n=JSON.stringify(this.config);this.storage.setItem(this.id,n)}}_loadConfiguration(){let t={};if(this.storage){const n=this.storage.getItem(this.id);t=n?JSON.parse(n):{}}return Object.assign(this.config,t),this}}function kTe(e){let t;return e<10?t=`${e.toFixed(2)}ms`:e<100?t=`${e.toFixed(1)}ms`:e<1e3?t=`${e.toFixed(0)}ms`:t=`${(e/1e3).toFixed(2)}s`,t}function CTe(e,t=8){const n=Math.max(t-e.length,0);return`${" ".repeat(n)}${e}`}var nS;(function(e){e[e.BLACK=30]="BLACK",e[e.RED=31]="RED",e[e.GREEN=32]="GREEN",e[e.YELLOW=33]="YELLOW",e[e.BLUE=34]="BLUE",e[e.MAGENTA=35]="MAGENTA",e[e.CYAN=36]="CYAN",e[e.WHITE=37]="WHITE",e[e.BRIGHT_BLACK=90]="BRIGHT_BLACK",e[e.BRIGHT_RED=91]="BRIGHT_RED",e[e.BRIGHT_GREEN=92]="BRIGHT_GREEN",e[e.BRIGHT_YELLOW=93]="BRIGHT_YELLOW",e[e.BRIGHT_BLUE=94]="BRIGHT_BLUE",e[e.BRIGHT_MAGENTA=95]="BRIGHT_MAGENTA",e[e.BRIGHT_CYAN=96]="BRIGHT_CYAN",e[e.BRIGHT_WHITE=97]="BRIGHT_WHITE"})(nS||(nS={}));const ETe=10;function h7(e){return typeof e!="string"?e:(e=e.toUpperCase(),nS[e]||nS.WHITE)}function _Te(e,t,n){return!NR&&typeof e=="string"&&(t&&(e=`\x1B[${h7(t)}m${e}\x1B[39m`),n&&(e=`\x1B[${h7(n)+ETe}m${e}\x1B[49m`)),e}function $Te(e,t=["constructor"]){const n=Object.getPrototypeOf(e),r=Object.getOwnPropertyNames(n),i=e;for(const o of r){const s=i[o];typeof s=="function"&&(t.find(a=>o===a)||(i[o]=s.bind(e)))}}function LR(e,t){if(!e)throw new Error("Assertion failed")}function bh(){var t,n,r;let e;if(NR()&&hx.performance)e=(n=(t=hx==null?void 0:hx.performance)==null?void 0:t.now)==null?void 0:n.call(t);else if("hrtime"in vh){const i=(r=vh==null?void 0:vh.hrtime)==null?void 0:r.call(vh);e=i[0]*1e3+i[1]/1e6}else e=Date.now();return e}const xh={debug:NR()&&console.debug||console.log,log:console.log,info:console.info,warn:console.warn,error:console.error},ATe={enabled:!0,level:0};function wh(){}const p7={},g7={once:!0};let IR=class{constructor({id:t}={id:""}){this.VERSION=mJ,this._startTs=bh(),this._deltaTs=bh(),this.userData={},this.LOG_THROTTLE_TIMEOUT=0,this.id=t,this.userData={},this._storage=new STe(`__probe-${this.id}__`,ATe),this.timeStamp(`${this.id} started`),$Te(this),Object.seal(this)}set level(t){this.setLevel(t)}get level(){return this.getLevel()}isEnabled(){return this._storage.config.enabled}getLevel(){return this._storage.config.level}getTotal(){return Number((bh()-this._startTs).toPrecision(10))}getDelta(){return Number((bh()-this._deltaTs).toPrecision(10))}set priority(t){this.level=t}get priority(){return this.level}getPriority(){return this.level}enable(t=!0){return this._storage.setConfiguration({enabled:t}),this}setLevel(t){return this._storage.setConfiguration({level:t}),this}get(t){return this._storage.config[t]}set(t,n){this._storage.setConfiguration({[t]:n})}settings(){console.table?console.table(this._storage.config):console.log(this._storage.config)}assert(t,n){if(!t)throw new Error(n||"Assertion failed")}warn(t){return this._getLogFunction(0,t,xh.warn,arguments,g7)}error(t){return this._getLogFunction(0,t,xh.error,arguments)}deprecated(t,n){return this.warn(`\`${t}\` is deprecated and will be removed in a later version. Use \`${n}\` instead`)}removed(t,n){return this.error(`\`${t}\` has been removed. Use \`${n}\` instead`)}probe(t,n){return this._getLogFunction(t,n,xh.log,arguments,{time:!0,once:!0})}log(t,n){return this._getLogFunction(t,n,xh.debug,arguments)}info(t,n){return this._getLogFunction(t,n,console.info,arguments)}once(t,n){return this._getLogFunction(t,n,xh.debug||xh.info,arguments,g7)}table(t,n,r){return n?this._getLogFunction(t,n,console.table||wh,r&&[r],{tag:PTe(n)}):wh}time(t,n){return this._getLogFunction(t,n,console.time?console.time:console.info)}timeEnd(t,n){return this._getLogFunction(t,n,console.timeEnd?console.timeEnd:console.info)}timeStamp(t,n){return this._getLogFunction(t,n,console.timeStamp||wh)}group(t,n,r={collapsed:!1}){const i=m7({logLevel:t,message:n,opts:r}),{collapsed:o}=r;return i.method=(o?console.groupCollapsed:console.group)||console.info,this._getLogFunction(i)}groupCollapsed(t,n,r={}){return this.group(t,n,Object.assign({},r,{collapsed:!0}))}groupEnd(t){return this._getLogFunction(t,"",console.groupEnd||wh)}withGroup(t,n,r){this.group(t,n)();try{r()}finally{this.groupEnd(t)()}}trace(){console.trace&&console.trace()}_shouldLog(t){return this.isEnabled()&&this.getLevel()>=yJ(t)}_getLogFunction(t,n,r,i,o){if(this._shouldLog(t)){o=m7({logLevel:t,message:n,args:i,opts:o}),r=r||o.method,LR(r),o.total=this.getTotal(),o.delta=this.getDelta(),this._deltaTs=bh();const s=o.tag||o.message;if(o.once&&s)if(!p7[s])p7[s]=bh();else return wh;return n=TTe(this.id,o.message,o),r.bind(console,n,...o.args)}return wh}};IR.VERSION=mJ;function yJ(e){if(!e)return 0;let t;switch(typeof e){case"number":t=e;break;case"object":t=e.logLevel||e.priority||0;break;default:return 0}return LR(Number.isFinite(t)&&t>=0),t}function m7(e){const{logLevel:t,message:n}=e;e.logLevel=yJ(t);const r=e.args?Array.from(e.args):[];for(;r.length&&r.shift()!==n;);switch(typeof t){case"string":case"function":n!==void 0&&r.unshift(n),e.message=t;break;case"object":Object.assign(e,t);break}typeof e.message=="function"&&(e.message=e.message());const i=typeof e.message;return LR(i==="string"||i==="object"),Object.assign(e,{args:r},e.opts)}function TTe(e,t,n){if(typeof t=="string"){const r=n.time?CTe(kTe(n.total)):"";t=n.time?`${e}: ${r}  ${t}`:`${e}: ${t}`,t=_Te(t,n.color,n.background)}return t}function PTe(e){for(const t in e)for(const n in e[t])return n||"untitled";return"empty"}function MTe(e,t){return vJ(e||{},t)}function vJ(e,t,n=0){if(n>3)return t;const r={...e};for(const[i,o]of Object.entries(t))o&&typeof o=="object"&&!Array.isArray(o)?r[i]=vJ(r[i]||{},t[i],n+1):r[i]=t[i];return r}const FTe="latest";function RTe(){var e;return(e=globalThis._loadersgl_)!=null&&e.version||(globalThis._loadersgl_=globalThis._loadersgl_||{},globalThis._loadersgl_.version="4.2.1"),globalThis._loadersgl_.version}const OTe=RTe();function pc(e,t){if(!e)throw new Error(t||"loaders.gl assertion failed.")}const Jf=typeof process!="object"||String(process)!=="[object process]"||process.browser,DTe=typeof window<"u"&&typeof window.orientation<"u",y7=typeof process<"u"&&process.version&&/v([0-9]*)/.exec(process.version);y7&&parseFloat(y7[1]);class NTe{constructor(t,n){ae(this,"name");ae(this,"workerThread");ae(this,"isRunning",!0);ae(this,"result");ae(this,"_resolve",()=>{});ae(this,"_reject",()=>{});this.name=t,this.workerThread=n,this.result=new Promise((r,i)=>{this._resolve=r,this._reject=i})}postMessage(t,n){this.workerThread.postMessage({source:"loaders.gl",type:t,payload:n})}done(t){pc(this.isRunning),this.isRunning=!1,this._resolve(t)}error(t){pc(this.isRunning),this.isRunning=!1,this._reject(t)}}class wA{terminate(){}}const SA=new Map;function LTe(e){pc(e.source&&!e.url||!e.source&&e.url);let t=SA.get(e.source||e.url);return t||(e.url&&(t=ITe(e.url),SA.set(e.url,t)),e.source&&(t=bJ(e.source),SA.set(e.source,t))),pc(t),t}function ITe(e){if(!e.startsWith("http"))return e;const t=zTe(e);return bJ(t)}function bJ(e){const t=new Blob([e],{type:"application/javascript"});return URL.createObjectURL(t)}function zTe(e){return`try {
  importScripts('${e}');
} catch (error) {
  console.error(error);
  throw error;
}`}function xJ(e,t=!0,n){const r=n||new Set;if(e){if(v7(e))r.add(e);else if(v7(e.buffer))r.add(e.buffer);else if(!ArrayBuffer.isView(e)){if(t&&typeof e=="object")for(const i in e)xJ(e[i],t,r)}}return n===void 0?Array.from(r):[]}function v7(e){return e?e instanceof ArrayBuffer||typeof MessagePort<"u"&&e instanceof MessagePort||typeof ImageBitmap<"u"&&e instanceof ImageBitmap||typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas:!1}const kA=()=>{};class D3{constructor(t){ae(this,"name");ae(this,"source");ae(this,"url");ae(this,"terminated",!1);ae(this,"worker");ae(this,"onMessage");ae(this,"onError");ae(this,"_loadableURL","");const{name:n,source:r,url:i}=t;pc(r||i),this.name=n,this.source=r,this.url=i,this.onMessage=kA,this.onError=o=>console.log(o),this.worker=Jf?this._createBrowserWorker():this._createNodeWorker()}static isSupported(){return typeof Worker<"u"&&Jf||typeof wA<"u"&&!Jf}destroy(){this.onMessage=kA,this.onError=kA,this.worker.terminate(),this.terminated=!0}get isRunning(){return!!this.onMessage}postMessage(t,n){n=n||xJ(t),this.worker.postMessage(t,n)}_getErrorFromErrorEvent(t){let n="Failed to load ";return n+=`worker ${this.name} from ${this.url}. `,t.message&&(n+=`${t.message} in `),t.lineno&&(n+=`:${t.lineno}:${t.colno}`),new Error(n)}_createBrowserWorker(){this._loadableURL=LTe({source:this.source,url:this.url});const t=new Worker(this._loadableURL,{name:this.name});return t.onmessage=n=>{n.data?this.onMessage(n.data):this.onError(new Error("No data received"))},t.onerror=n=>{this.onError(this._getErrorFromErrorEvent(n)),this.terminated=!0},t.onmessageerror=n=>console.error(n),t}_createNodeWorker(){let t;if(this.url){const r=this.url.includes(":/")||this.url.startsWith("/")?this.url:`./${this.url}`;t=new wA(r,{eval:!1})}else if(this.source)t=new wA(this.source,{eval:!0});else throw new Error("no worker");return t.on("message",n=>{this.onMessage(n)}),t.on("error",n=>{this.onError(n)}),t.on("exit",n=>{}),t}}class jTe{constructor(t){ae(this,"name","unnamed");ae(this,"source");ae(this,"url");ae(this,"maxConcurrency",1);ae(this,"maxMobileConcurrency",1);ae(this,"onDebug",()=>{});ae(this,"reuseWorkers",!0);ae(this,"props",{});ae(this,"jobQueue",[]);ae(this,"idleQueue",[]);ae(this,"count",0);ae(this,"isDestroyed",!1);this.source=t.source,this.url=t.url,this.setProps(t)}static isSupported(){return D3.isSupported()}destroy(){this.idleQueue.forEach(t=>t.destroy()),this.isDestroyed=!0}setProps(t){this.props={...this.props,...t},t.name!==void 0&&(this.name=t.name),t.maxConcurrency!==void 0&&(this.maxConcurrency=t.maxConcurrency),t.maxMobileConcurrency!==void 0&&(this.maxMobileConcurrency=t.maxMobileConcurrency),t.reuseWorkers!==void 0&&(this.reuseWorkers=t.reuseWorkers),t.onDebug!==void 0&&(this.onDebug=t.onDebug)}async startJob(t,n=(i,o,s)=>i.done(s),r=(i,o)=>i.error(o)){const i=new Promise(o=>(this.jobQueue.push({name:t,onMessage:n,onError:r,onStart:o}),this));return this._startQueuedJob(),await i}async _startQueuedJob(){if(!this.jobQueue.length)return;const t=this._getAvailableWorker();if(!t)return;const n=this.jobQueue.shift();if(n){this.onDebug({message:"Starting job",name:n.name,workerThread:t,backlog:this.jobQueue.length});const r=new NTe(n.name,t);t.onMessage=i=>n.onMessage(r,i.type,i.payload),t.onError=i=>n.onError(r,i),n.onStart(r);try{await r.result}catch(i){console.error(`Worker exception: ${i}`)}finally{this.returnWorkerToQueue(t)}}}returnWorkerToQueue(t){!Jf||this.isDestroyed||!this.reuseWorkers||this.count>this._getMaxConcurrency()?(t.destroy(),this.count--):this.idleQueue.push(t),this.isDestroyed||this._startQueuedJob()}_getAvailableWorker(){if(this.idleQueue.length>0)return this.idleQueue.shift()||null;if(this.count<this._getMaxConcurrency()){this.count++;const t=`${this.name.toLowerCase()} (#${this.count} of ${this.maxConcurrency})`;return new D3({name:t,source:this.source,url:this.url})}return null}_getMaxConcurrency(){return DTe?this.maxMobileConcurrency:this.maxConcurrency}}const BTe={maxConcurrency:3,maxMobileConcurrency:1,reuseWorkers:!0,onDebug:()=>{}},Cu=class Cu{constructor(t){ae(this,"props");ae(this,"workerPools",new Map);this.props={...BTe},this.setProps(t),this.workerPools=new Map}static isSupported(){return D3.isSupported()}static getWorkerFarm(t={}){return Cu._workerFarm=Cu._workerFarm||new Cu({}),Cu._workerFarm.setProps(t),Cu._workerFarm}destroy(){for(const t of this.workerPools.values())t.destroy();this.workerPools=new Map}setProps(t){this.props={...this.props,...t};for(const n of this.workerPools.values())n.setProps(this._getWorkerPoolProps())}getWorkerPool(t){const{name:n,source:r,url:i}=t;let o=this.workerPools.get(n);return o||(o=new jTe({name:n,source:r,url:i}),o.setProps(this._getWorkerPoolProps()),this.workerPools.set(n,o)),o}_getWorkerPoolProps(){return{maxConcurrency:this.props.maxConcurrency,maxMobileConcurrency:this.props.maxMobileConcurrency,reuseWorkers:this.props.reuseWorkers,onDebug:this.props.onDebug}}};ae(Cu,"_workerFarm");let rS=Cu;function UTe(e,t={}){const n=t[e.id]||{},r=Jf?`${e.id}-worker.js`:`${e.id}-worker-node.js`;let i=n.workerUrl;if(!i&&e.id==="compression"&&(i=t.workerUrl),t._workerType==="test"&&(Jf?i=`modules/${e.module}/dist/${r}`:i=`modules/${e.module}/src/workers/${e.id}-worker-node.ts`),!i){let o=e.version;o==="latest"&&(o=FTe);const s=o?`@${o}`:"";i=`https://unpkg.com/@loaders.gl/${e.module}${s}/dist/${r}`}return pc(i),i}function VTe(e,t=OTe){pc(e,"no worker provided");const n=e.version;return!(!t||!n)}function WTe(e,t){return!rS.isSupported()||!Jf&&!(t!=null&&t._nodeWorkers)?!1:e.worker&&(t==null?void 0:t.worker)}async function HTe(e,t,n,r,i){const o=e.id,s=UTe(e,n),l=rS.getWorkerFarm(n).getWorkerPool({name:o,url:s});n=JSON.parse(JSON.stringify(n)),r=JSON.parse(JSON.stringify(r||{}));const u=await l.startJob("process-on-worker",qTe.bind(null,i));return u.postMessage("process",{input:t,options:n,context:r}),await(await u.result).result}async function qTe(e,t,n,r){switch(n){case"done":t.done(r);break;case"error":t.error(new Error(r.error));break;case"process":const{id:i,input:o,options:s}=r;try{const a=await e(o,s);t.postMessage("done",{id:i,result:a})}catch(a){const l=a instanceof Error?a.message:"unknown error";t.postMessage("error",{id:i,error:l})}break;default:console.warn(`parse-with-worker unknown message ${n}`)}}function GTe(e,t,n){if(n=n||e.byteLength,e.byteLength<n||t.byteLength<n)return!1;const r=new Uint8Array(e),i=new Uint8Array(t);for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}function YTe(...e){return XTe(e)}function XTe(e){const t=e.map(o=>o instanceof ArrayBuffer?new Uint8Array(o):o),n=t.reduce((o,s)=>o+s.byteLength,0),r=new Uint8Array(n);let i=0;for(const o of t)r.set(o,i),i+=o.byteLength;return r.buffer}async function KTe(e){const t=[];for await(const n of e)t.push(n);return YTe(...t)}let QTe="";const b7={};function JTe(e){for(const t in b7)if(e.startsWith(t)){const n=b7[t];e=e.replace(t,n)}return!e.startsWith("http://")&&!e.startsWith("https://")&&(e=`${QTe}${e}`),e}const ZTe="4.2.1",e5e={dataType:null,batchType:null,name:"JSON",id:"json",module:"json",version:ZTe,extensions:["json","geojson"],mimeTypes:["application/json"],category:"json",text:!0,parseTextSync:x7,parse:async e=>x7(new TextDecoder().decode(e)),options:{}};function x7(e){return JSON.parse(e)}function t5e(e){return e&&typeof e=="object"&&e.isBuffer}function wJ(e){if(t5e(e))return e;if(e instanceof ArrayBuffer)return e;if(ArrayBuffer.isView(e))return e.byteOffset===0&&e.byteLength===e.buffer.byteLength?e.buffer:e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength);if(typeof e=="string"){const t=e;return new TextEncoder().encode(t).buffer}if(e&&typeof e=="object"&&e._toArrayBuffer)return e._toArrayBuffer();throw new Error("toArrayBuffer")}function SJ(e){const t=e?e.lastIndexOf("/"):-1;return t>=0?e.substr(t+1):""}function n5e(e){const t=e?e.lastIndexOf("/"):-1;return t>=0?e.substr(0,t):""}const r5e=e=>typeof e=="boolean",Oy=e=>typeof e=="function",Av=e=>e!==null&&typeof e=="object",w7=e=>Av(e)&&e.constructor==={}.constructor,i5e=e=>!!e&&typeof e[Symbol.iterator]=="function",o5e=e=>e&&typeof e[Symbol.asyncIterator]=="function",qd=e=>typeof Response<"u"&&e instanceof Response||e&&e.arrayBuffer&&e.text&&e.json,am=e=>typeof Blob<"u"&&e instanceof Blob,s5e=e=>e&&typeof e=="object"&&e.isBuffer,a5e=e=>typeof ReadableStream<"u"&&e instanceof ReadableStream||Av(e)&&Oy(e.tee)&&Oy(e.cancel)&&Oy(e.getReader),l5e=e=>Av(e)&&Oy(e.read)&&Oy(e.pipe)&&r5e(e.readable),kJ=e=>a5e(e)||l5e(e);class u5e extends Error{constructor(n,r){super(n);ae(this,"reason");ae(this,"url");ae(this,"response");this.reason=r.reason,this.url=r.url,this.response=r.response}}const c5e=/^data:([-\w.]+\/[-\w.+]+)(;|,)/,f5e=/^([-\w.]+\/[-\w.+]+)/;function S7(e,t){return e.toLowerCase()===t.toLowerCase()}function d5e(e){const t=f5e.exec(e);return t?t[1]:e}function k7(e){const t=c5e.exec(e);return t?t[1]:""}const CJ=/\?.*/;function h5e(e){const t=e.match(CJ);return t&&t[0]}function zR(e){return e.replace(CJ,"")}function p5e(e){if(e.length<50)return e;const t=e.slice(e.length-15);return`${e.substr(0,32)}...${t}`}function WC(e){return qd(e)?e.url:am(e)?e.name||"":typeof e=="string"?e:""}function jR(e){if(qd(e)){const t=e,n=t.headers.get("content-type")||"",r=zR(t.url);return d5e(n)||k7(r)}return am(e)?e.type||"":typeof e=="string"?k7(e):""}function g5e(e){return qd(e)?e.headers["content-length"]||-1:am(e)?e.size:typeof e=="string"?e.length:e instanceof ArrayBuffer||ArrayBuffer.isView(e)?e.byteLength:-1}async function EJ(e){if(qd(e))return e;const t={},n=g5e(e);n>=0&&(t["content-length"]=String(n));const r=WC(e),i=jR(e);i&&(t["content-type"]=i);const o=await v5e(e);o&&(t["x-first-bytes"]=o),typeof e=="string"&&(e=new TextEncoder().encode(e));const s=new Response(e,{headers:t});return Object.defineProperty(s,"url",{value:r}),s}async function m5e(e){if(!e.ok)throw await y5e(e)}async function y5e(e){const t=p5e(e.url);let n=`Failed to fetch resource (${e.status}) ${e.statusText}: ${t}`;n=n.length>100?`${n.slice(0,100)}...`:n;const r={reason:e.statusText,url:e.url,response:e};try{const i=e.headers.get("Content-Type");r.reason=i!=null&&i.includes("application/json")?await e.json():e.text()}catch{}return new u5e(n,r)}async function v5e(e){if(typeof e=="string")return`data:,${e.slice(0,5)}`;if(e instanceof Blob){const n=e.slice(0,5);return await new Promise(r=>{const i=new FileReader;i.onload=o=>{var s;return r((s=o==null?void 0:o.target)==null?void 0:s.result)},i.readAsDataURL(n)})}if(e instanceof ArrayBuffer){const n=e.slice(0,5);return`data:base64,${b5e(n)}`}return null}function b5e(e){let t="";const n=new Uint8Array(e);for(let r=0;r<n.byteLength;r++)t+=String.fromCharCode(n[r]);return btoa(t)}function x5e(e){return!w5e(e)&&!S5e(e)}function w5e(e){return e.startsWith("http:")||e.startsWith("https:")}function S5e(e){return e.startsWith("data:")}async function N3(e,t){var n,r;if(typeof e=="string"){const i=JTe(e);return x5e(i)&&(n=globalThis.loaders)!=null&&n.fetchNode?(r=globalThis.loaders)==null?void 0:r.fetchNode(i,t):await fetch(i,t)}return await EJ(e)}const C7=new IR({id:"loaders.gl"});class k5e{log(){return()=>{}}info(){return()=>{}}warn(){return()=>{}}error(){return()=>{}}}class C5e{constructor(){ae(this,"console");this.console=console}log(...t){return this.console.log.bind(this.console,...t)}info(...t){return this.console.info.bind(this.console,...t)}warn(...t){return this.console.warn.bind(this.console,...t)}error(...t){return this.console.error.bind(this.console,...t)}}const _J={fetch:null,mimeType:void 0,nothrow:!1,log:new C5e,useLocalLibraries:!1,CDN:"https://unpkg.com/@loaders.gl",worker:!0,maxConcurrency:3,maxMobileConcurrency:1,reuseWorkers:gJ,_nodeWorkers:!1,_workerType:"",limit:0,_limitMB:0,batchSize:"auto",batchDebounceMs:0,metadata:!1,transforms:[]},E5e={throws:"nothrow",dataType:"(no longer used)",uri:"baseUri",method:"fetch.method",headers:"fetch.headers",body:"fetch.body",mode:"fetch.mode",credentials:"fetch.credentials",cache:"fetch.cache",redirect:"fetch.redirect",referrer:"fetch.referrer",referrerPolicy:"fetch.referrerPolicy",integrity:"fetch.integrity",keepalive:"fetch.keepalive",signal:"fetch.signal"};function $J(){globalThis.loaders=globalThis.loaders||{};const{loaders:e}=globalThis;return e._state||(e._state={}),e._state}function AJ(){const e=$J();return e.globalOptions=e.globalOptions||{..._J},e.globalOptions}function _5e(e,t,n,r){return n=n||[],n=Array.isArray(n)?n:[n],$5e(e,n),T5e(t,e,r)}function $5e(e,t){E7(e,null,_J,E5e,t);for(const n of t){const r=e&&e[n.id]||{},i=n.options&&n.options[n.id]||{},o=n.deprecatedOptions&&n.deprecatedOptions[n.id]||{};E7(r,n.id,i,o,t)}}function E7(e,t,n,r,i){const o=t||"Top level",s=t?`${t}.`:"";for(const a in e){const l=!t&&Av(e[a]),u=a==="baseUri"&&!t,c=a==="workerUrl"&&t;if(!(a in n)&&!u&&!c){if(a in r)C7.warn(`${o} loader option '${s}${a}' no longer supported, use '${r[a]}'`)();else if(!l){const f=A5e(a,i);C7.warn(`${o} loader option '${s}${a}' not recognized. ${f}`)()}}}}function A5e(e,t){const n=e.toLowerCase();let r="";for(const i of t)for(const o in i.options){if(e===o)return`Did you mean '${i.id}.${o}'?`;const s=o.toLowerCase();(n.startsWith(s)||s.startsWith(n))&&(r=r||`Did you mean '${i.id}.${o}'?`)}return r}function T5e(e,t,n){const i={...e.options||{}};return P5e(i,n),i.log===null&&(i.log=new k5e),_7(i,AJ()),_7(i,t),i}function _7(e,t){for(const n in t)if(n in t){const r=t[n];w7(r)&&w7(e[n])?e[n]={...e[n],...t[n]}:e[n]=t[n]}}function P5e(e,t){t&&!("baseUri"in e)&&(e.baseUri=t)}function TJ(e){return e?(Array.isArray(e)&&(e=e[0]),Array.isArray(e==null?void 0:e.extensions)):!1}function PJ(e){f7(e,"null loader"),f7(TJ(e),"invalid loader");let t;return Array.isArray(e)&&(t=e[1],e=e[0],e={...e,options:{...e.options,...t}}),(e!=null&&e.parseTextSync||e!=null&&e.parseText)&&(e.text=!0),e.text||(e.binary=!0),e}const M5e=()=>{const e=$J();return e.loaderRegistry=e.loaderRegistry||[],e.loaderRegistry};function F5e(){return M5e()}const R5e=new IR({id:"loaders.gl"}),O5e=/\.([^.]+)$/;async function D5e(e,t=[],n,r){if(!MJ(e))return null;let i=$7(e,t,{...n,nothrow:!0},r);if(i)return i;if(am(e)&&(e=await e.slice(0,10).arrayBuffer(),i=$7(e,t,n,r)),!i&&!(n!=null&&n.nothrow))throw new Error(FJ(e));return i}function $7(e,t=[],n,r){if(!MJ(e))return null;if(t&&!Array.isArray(t))return PJ(t);let i=[];t&&(i=i.concat(t)),n!=null&&n.ignoreRegisteredLoaders||i.push(...F5e()),L5e(i);const o=N5e(e,i,n,r);if(!o&&!(n!=null&&n.nothrow))throw new Error(FJ(e));return o}function N5e(e,t,n,r){const i=WC(e),o=jR(e),s=zR(i)||(r==null?void 0:r.url);let a=null,l="";return n!=null&&n.mimeType&&(a=CA(t,n==null?void 0:n.mimeType),l=`match forced by supplied MIME type ${n==null?void 0:n.mimeType}`),a=a||I5e(t,s),l=l||(a?`matched url ${s}`:""),a=a||CA(t,o),l=l||(a?`matched MIME type ${o}`:""),a=a||j5e(t,e),l=l||(a?`matched initial data ${RJ(e)}`:""),n!=null&&n.fallbackMimeType&&(a=a||CA(t,n==null?void 0:n.fallbackMimeType),l=l||(a?`matched fallback MIME type ${o}`:"")),l&&R5e.log(1,`selectLoader selected ${a==null?void 0:a.name}: ${l}.`),a}function MJ(e){return!(e instanceof Response&&e.status===204)}function FJ(e){const t=WC(e),n=jR(e);let r="No valid loader found (";r+=t?`${SJ(t)}, `:"no url provided, ",r+=`MIME type: ${n?`"${n}"`:"not provided"}, `;const i=e?RJ(e):"";return r+=i?` first bytes: "${i}"`:"first bytes: not available",r+=")",r}function L5e(e){for(const t of e)PJ(t)}function I5e(e,t){const n=t&&O5e.exec(t),r=n&&n[1];return r?z5e(e,r):null}function z5e(e,t){t=t.toLowerCase();for(const n of e)for(const r of n.extensions)if(r.toLowerCase()===t)return n;return null}function CA(e,t){var n;for(const r of e)if((n=r.mimeTypes)!=null&&n.some(i=>S7(t,i))||S7(t,`application/x.${r.id}`))return r;return null}function j5e(e,t){if(!t)return null;for(const n of e)if(typeof t=="string"){if(B5e(t,n))return n}else if(ArrayBuffer.isView(t)){if(A7(t.buffer,t.byteOffset,n))return n}else if(t instanceof ArrayBuffer&&A7(t,0,n))return n;return null}function B5e(e,t){return t.testText?t.testText(e):(Array.isArray(t.tests)?t.tests:[t.tests]).some(r=>e.startsWith(r))}function A7(e,t,n){return(Array.isArray(n.tests)?n.tests:[n.tests]).some(i=>U5e(e,t,n,i))}function U5e(e,t,n,r){if(r instanceof ArrayBuffer)return GTe(r,e,r.byteLength);switch(typeof r){case"function":return r(e);case"string":const i=L3(e,t,r.length);return r===i;default:return!1}}function RJ(e,t=5){return typeof e=="string"?e.slice(0,t):ArrayBuffer.isView(e)?L3(e.buffer,e.byteOffset,t):e instanceof ArrayBuffer?L3(e,0,t):""}function L3(e,t,n){if(e.byteLength<t+n)return"";const r=new DataView(e);let i="";for(let o=0;o<n;o++)i+=String.fromCharCode(r.getUint8(t+o));return i}const V5e=256*1024;function*W5e(e,t){const n=(t==null?void 0:t.chunkSize)||V5e;let r=0;const i=new TextEncoder;for(;r<e.length;){const o=Math.min(e.length-r,n),s=e.slice(r,r+o);r+=o,yield i.encode(s)}}const H5e=256*1024;function*q5e(e,t={}){const{chunkSize:n=H5e}=t;let r=0;for(;r<e.byteLength;){const i=Math.min(e.byteLength-r,n),o=new ArrayBuffer(i),s=new Uint8Array(e,r,i);new Uint8Array(o).set(s),r+=i,yield o}}const G5e=1024*1024;async function*Y5e(e,t){const n=(t==null?void 0:t.chunkSize)||G5e;let r=0;for(;r<e.size;){const i=r+n,o=await e.slice(r,i).arrayBuffer();r=i,yield o}}function T7(e,t){return gJ?X5e(e,t):K5e(e)}async function*X5e(e,t){const n=e.getReader();let r;try{for(;;){const i=r||n.read();t!=null&&t._streamReadAhead&&(r=n.read());const{done:o,value:s}=await i;if(o)return;yield wJ(s)}}catch{n.releaseLock()}}async function*K5e(e,t){for await(const n of e)yield wJ(n)}function Q5e(e,t){if(typeof e=="string")return W5e(e,t);if(e instanceof ArrayBuffer)return q5e(e,t);if(am(e))return Y5e(e,t);if(kJ(e))return T7(e,t);if(qd(e))return T7(e.body,t);throw new Error("makeIterator")}const OJ="Cannot convert supplied data type";function J5e(e,t,n){if(t.text&&typeof e=="string")return e;if(s5e(e)&&(e=e.buffer),e instanceof ArrayBuffer){const r=e;return t.text&&!t.binary?new TextDecoder("utf8").decode(r):r}if(ArrayBuffer.isView(e)){if(t.text&&!t.binary)return new TextDecoder("utf8").decode(e);let r=e.buffer;const i=e.byteLength||e.length;return(e.byteOffset!==0||i!==r.byteLength)&&(r=r.slice(e.byteOffset,e.byteOffset+i)),r}throw new Error(OJ)}async function Z5e(e,t,n){const r=e instanceof ArrayBuffer||ArrayBuffer.isView(e);if(typeof e=="string"||r)return J5e(e,t);if(am(e)&&(e=await EJ(e)),qd(e)){const i=e;return await m5e(i),t.binary?await i.arrayBuffer():await i.text()}if(kJ(e)&&(e=Q5e(e,n)),i5e(e)||o5e(e))return KTe(e);throw new Error(OJ)}function e3e(e,t){const n=AJ(),r=e||n;return typeof r.fetch=="function"?r.fetch:Av(r.fetch)?i=>N3(i,r.fetch):t!=null&&t.fetch?t==null?void 0:t.fetch:N3}function t3e(e,t,n){if(n)return n;const r={fetch:e3e(t,e),...e};if(r.url){const i=zR(r.url);r.baseUrl=i,r.queryString=h5e(r.url),r.filename=SJ(i),r.baseUrl=n5e(i)}return Array.isArray(r.loaders)||(r.loaders=null),r}function n3e(e,t){if(e&&!Array.isArray(e))return e;let n;if(e&&(n=Array.isArray(e)?e:[e]),t&&t.loaders){const r=Array.isArray(t.loaders)?t.loaders:[t.loaders];n=n?[...n,...r]:r}return n&&n.length?n:void 0}async function BR(e,t,n,r){t&&!Array.isArray(t)&&!TJ(t)&&(r=void 0,n=t,t=void 0),e=await e,n=n||{};const i=WC(e),s=n3e(t,r),a=await D5e(e,s,n);return a?(n=_5e(n,a,s,i),r=t3e({url:i,_parse:BR,loaders:s},n,r||null),await r3e(a,e,n,r)):null}async function r3e(e,t,n,r){if(VTe(e),n=MTe(e.options,n),qd(t)){const o=t,{ok:s,redirected:a,status:l,statusText:u,type:c,url:f}=o,d=Object.fromEntries(o.headers.entries());r.response={headers:d,ok:s,redirected:a,status:l,statusText:u,type:c,url:f}}t=await Z5e(t,e,n);const i=e;if(i.parseTextSync&&typeof t=="string")return i.parseTextSync(t,n,r);if(WTe(e,n))return await HTe(e,t,n,r,BR);if(i.parseText&&typeof t=="string")return await i.parseText(t,n,r);if(i.parse)return await i.parse(t,n,r);throw pc(!i.parseSync),new Error(`${e.id} loader - no parser found and worker is disabled`)}const P7=100;class i3e{constructor(t,n){ae(this,"schema");ae(this,"options");ae(this,"shape");ae(this,"length",0);ae(this,"rows",null);ae(this,"cursor",0);ae(this,"_headers",[]);if(this.options=n,this.schema=t,!Array.isArray(t)){this._headers=[];for(const r in t)this._headers[t[r].index]=t[r].name}}rowCount(){return this.length}addArrayRow(t,n){Number.isFinite(n)&&(this.cursor=n),this.shape="array-row-table",this.rows=this.rows||new Array(P7),this.rows[this.length]=t,this.length++}addObjectRow(t,n){Number.isFinite(n)&&(this.cursor=n),this.shape="object-row-table",this.rows=this.rows||new Array(P7),this.rows[this.length]=t,this.length++}getBatch(){let t=this.rows;return t?(t=t.slice(0,this.length),this.rows=null,{shape:this.shape||"array-row-table",batchType:"data",data:t,length:this.length,schema:this.schema,cursor:this.cursor}):null}}function DJ(e,t){if(!e)throw new Error("null row");const n={};if(t)for(let r=0;r<t.length;r++)n[t[r]]=e[r];else for(let r=0;r<e.length;r++){const i=`column-${r}`;n[i]=e[r]}return n}function NJ(e,t){if(!e)throw new Error("null row");if(t){const n=new Array(t.length);for(let r=0;r<t.length;r++)n[r]=e[t[r]];return n}return Object.values(e)}function o3e(e){const t=[];for(let n=0;n<e.length;n++){const r=`column-${n}`;t.push(r)}return t}function s3e(e){return Object.keys(e)}const M7=100;class a3e{constructor(t,n){ae(this,"schema");ae(this,"options");ae(this,"length",0);ae(this,"objectRows",null);ae(this,"arrayRows",null);ae(this,"cursor",0);ae(this,"_headers",null);if(this.options=n,this.schema=t,t){this._headers=[];for(const r in t)this._headers[t[r].index]=t[r].name}}rowCount(){return this.length}addArrayRow(t,n){switch(Number.isFinite(n)&&(this.cursor=n),this._headers||(this._headers=o3e(t)),this.options.shape){case"object-row-table":const r=DJ(t,this._headers);this.addObjectRow(r,n);break;case"array-row-table":this.arrayRows=this.arrayRows||new Array(M7),this.arrayRows[this.length]=t,this.length++;break}}addObjectRow(t,n){switch(Number.isFinite(n)&&(this.cursor=n),this._headers||(this._headers=s3e(t)),this.options.shape){case"array-row-table":const r=NJ(t,this._headers);this.addArrayRow(r,n);break;case"object-row-table":this.objectRows=this.objectRows||new Array(M7),this.objectRows[this.length]=t,this.length++;break}}getBatch(){let t=this.arrayRows||this.objectRows;return t?(t=t.slice(0,this.length),this.arrayRows=null,this.objectRows=null,{shape:this.options.shape,batchType:"data",data:t,length:this.length,schema:this.schema,cursor:this.cursor}):null}}const l3e=100;class u3e{constructor(t,n){ae(this,"schema");ae(this,"length",0);ae(this,"allocated",0);ae(this,"columns",{});this.schema=t,this._reallocateColumns()}rowCount(){return this.length}addArrayRow(t){this._reallocateColumns();let n=0;for(const r in this.columns)this.columns[r][this.length]=t[n++];this.length++}addObjectRow(t){this._reallocateColumns();for(const n in t)this.columns[n][this.length]=t[n];this.length++}getBatch(){this._pruneColumns();const t=Array.isArray(this.schema)?this.columns:{};if(!Array.isArray(this.schema))for(const r in this.schema){const i=this.schema[r];t[i.name]=this.columns[i.index]}return this.columns={},{shape:"columnar-table",batchType:"data",data:t,schema:this.schema,length:this.length}}_reallocateColumns(){if(!(this.length<this.allocated)){this.allocated=this.allocated>0?this.allocated*=2:l3e,this.columns={};for(const t in this.schema){const n=this.schema[t],r=n.type||Float32Array,i=this.columns[n.index];if(i&&ArrayBuffer.isView(i)){const o=new r(this.allocated);o.set(i),this.columns[n.index]=o}else i?(i.length=this.allocated,this.columns[n.index]=i):this.columns[n.index]=new r(this.allocated)}}}_pruneColumns(){for(const[t,n]of Object.entries(this.columns))this.columns[t]=n.slice(0,this.length)}}const c3e={shape:void 0,batchSize:"auto",batchDebounceMs:0,limit:0,_limitMB:0},f3e="TableBatchBuilder",Ky=class Ky{constructor(t,n){ae(this,"schema");ae(this,"options");ae(this,"aggregator",null);ae(this,"batchCount",0);ae(this,"bytesUsed",0);ae(this,"isChunkComplete",!1);ae(this,"lastBatchEmittedMs",Date.now());ae(this,"totalLength",0);ae(this,"totalBytes",0);ae(this,"rowBytes",0);this.schema=t,this.options={...c3e,...n}}limitReached(){var t,n;return!!((t=this.options)!=null&&t.limit&&this.totalLength>=this.options.limit||(n=this.options)!=null&&n._limitMB&&this.totalBytes/1e6>=this.options._limitMB)}addRow(t){this.limitReached()||(this.totalLength++,this.rowBytes=this.rowBytes||this._estimateRowMB(t),this.totalBytes+=this.rowBytes,Array.isArray(t)?this.addArrayRow(t):this.addObjectRow(t))}addArrayRow(t){if(!this.aggregator){const n=this._getTableBatchType();this.aggregator=new n(this.schema,this.options)}this.aggregator.addArrayRow(t)}addObjectRow(t){if(!this.aggregator){const n=this._getTableBatchType();this.aggregator=new n(this.schema,this.options)}this.aggregator.addObjectRow(t)}chunkComplete(t){t instanceof ArrayBuffer&&(this.bytesUsed+=t.byteLength),typeof t=="string"&&(this.bytesUsed+=t.length),this.isChunkComplete=!0}getFullBatch(t){return this._isFull()?this._getBatch(t):null}getFinalBatch(t){return this._getBatch(t)}_estimateRowMB(t){return Array.isArray(t)?t.length*8:Object.keys(t).length*8}_isFull(){if(!this.aggregator||this.aggregator.rowCount()===0)return!1;if(this.options.batchSize==="auto"){if(!this.isChunkComplete)return!1}else if(this.options.batchSize>this.aggregator.rowCount())return!1;return this.options.batchDebounceMs>Date.now()-this.lastBatchEmittedMs?!1:(this.isChunkComplete=!1,this.lastBatchEmittedMs=Date.now(),!0)}_getBatch(t){if(!this.aggregator)return null;t!=null&&t.bytesUsed&&(this.bytesUsed=t.bytesUsed);const n=this.aggregator.getBatch();return n.count=this.batchCount,n.bytesUsed=this.bytesUsed,Object.assign(n,t),this.batchCount++,this.aggregator=null,n}_getTableBatchType(){switch(this.options.shape){case"array-row-table":case"object-row-table":return a3e;case"columnar-table":return u3e;case"arrow-table":if(!Ky.ArrowBatch)throw new Error(f3e);return Ky.ArrowBatch;default:return i3e}}};ae(Ky,"ArrowBatch");let I3=Ky;class F7 extends Array{enqueue(t){return this.push(t)}dequeue(){return this.shift()}}class d3e{constructor(){ae(this,"_values");ae(this,"_settlers");ae(this,"_closed");this._values=new F7,this._settlers=new F7,this._closed=!1}close(){for(;this._settlers.length>0;)this._settlers.dequeue().resolve({done:!0});this._closed=!0}[Symbol.asyncIterator](){return this}enqueue(t){if(this._closed)throw new Error("Closed");if(this._settlers.length>0){if(this._values.length>0)throw new Error("Illegal internal state");const n=this._settlers.dequeue();t instanceof Error?n.reject(t):n.resolve({value:t})}else this._values.enqueue(t)}next(){if(this._values.length>0){const t=this._values.dequeue();return t instanceof Error?Promise.reject(t):Promise.resolve({value:t})}if(this._closed){if(this._settlers.length>0)throw new Error("Illegal internal state");return Promise.resolve({done:!0})}return new Promise((t,n)=>{this._settlers.enqueue({resolve:t,reject:n})})}}/* @license
Papa Parse
v5.0.0-beta.0
https://github.com/mholt/PapaParse
License: MIT
*/const R7="\uFEFF",zi={parse:h3e,unparse:p3e,RECORD_SEP:"",UNIT_SEP:"",BYTE_ORDER_MARK:R7,BAD_DELIMITERS:["\r",`
`,'"',R7],WORKERS_SUPPORTED:!1,NODE_STREAM_INPUT:1,LocalChunkSize:1024*1024*10,RemoteChunkSize:1024*1024*5,DefaultDelimiter:",",Parser:z3,ParserHandle:IJ,ChunkStreamer:LJ,StringStreamer:fg};function h3e(e,t,n){t=t||{};var r=t.dynamicTyping||!1;if(zr(r)&&(t.dynamicTypingFunction=r,r={}),t.dynamicTyping=r,t.transform=zr(t.transform)?t.transform:!1,t.worker&&zi.WORKERS_SUPPORTED){var i=newWorker();i.userStep=t.step,i.userChunk=t.chunk,i.userComplete=t.complete,i.userError=t.error,t.step=zr(t.step),t.chunk=zr(t.chunk),t.complete=zr(t.complete),t.error=zr(t.error),delete t.worker,i.postMessage({input:e,config:t,workerId:i.id});return}var o=null;return typeof e=="string"&&(o=new fg(t)),o||(o=new n(t)),o.stream(e)}function p3e(e,t){var n=!1,r=!0,i=",",o=`\r
`,s='"',a=s+s,l=!1,u=null;f();var c=new RegExp($1(s),"g");if(typeof e=="string"&&(e=JSON.parse(e)),Array.isArray(e)){if(!e.length||Array.isArray(e[0]))return h(null,e,l);if(typeof e[0]=="object")return h(u||d(e[0]),e,l)}else if(typeof e=="object")return typeof e.data=="string"&&(e.data=JSON.parse(e.data)),Array.isArray(e.data)&&(e.fields||(e.fields=e.meta&&e.meta.fields),e.fields||(e.fields=Array.isArray(e.data[0])?e.fields:d(e.data[0])),!Array.isArray(e.data[0])&&typeof e.data[0]!="object"&&(e.data=[e.data])),h(e.fields||[],e.data||[],l);throw new Error("Unable to serialize unrecognized input");function f(){if(typeof t=="object"){if(typeof t.delimiter=="string"&&!zi.BAD_DELIMITERS.filter(function(m){return t.delimiter.indexOf(m)!==-1}).length&&(i=t.delimiter),(typeof t.quotes=="boolean"||Array.isArray(t.quotes))&&(n=t.quotes),(typeof t.skipEmptyLines=="boolean"||typeof t.skipEmptyLines=="string")&&(l=t.skipEmptyLines),typeof t.newline=="string"&&(o=t.newline),typeof t.quoteChar=="string"&&(s=t.quoteChar),typeof t.header=="boolean"&&(r=t.header),Array.isArray(t.columns)){if(t.columns.length===0)throw new Error("Option columns is empty");u=t.columns}t.escapeChar!==void 0&&(a=t.escapeChar+s)}}function d(m){if(typeof m!="object")return[];var y=[];for(var v in m)y.push(v);return y}function h(m,y,v){var b="";typeof m=="string"&&(m=JSON.parse(m)),typeof y=="string"&&(y=JSON.parse(y));var x=Array.isArray(m)&&m.length>0,w=!Array.isArray(y[0]);if(x&&r){for(var k=0;k<m.length;k++)k>0&&(b+=i),b+=p(m[k],k);y.length>0&&(b+=o)}for(var S=0;S<y.length;S++){var C=x?m.length:y[S].length,E=!1,A=x?Object.keys(y[S]).length===0:y[S].length===0;if(v&&!x&&(E=v==="greedy"?y[S].join("").trim()==="":y[S].length===1&&y[S][0].length===0),v==="greedy"&&x){for(var T=[],L=0;L<C;L++){var F=w?m[L]:L;T.push(y[S][F])}E=T.join("").trim()===""}if(!E){for(var R=0;R<C;R++){R>0&&!A&&(b+=i);var _=x&&w?m[R]:R;b+=p(y[S][_],R)}S<y.length-1&&(!v||C>0&&!A)&&(b+=o)}}return b}function p(m,y){if(typeof m>"u"||m===null)return"";if(m.constructor===Date)return JSON.stringify(m).slice(1,25);m=m.toString().replace(c,a);var v=typeof n=="boolean"&&n||Array.isArray(n)&&n[y]||g(m,zi.BAD_DELIMITERS)||m.indexOf(i)>-1||m.charAt(0)===" "||m.charAt(m.length-1)===" ";return v?s+m+s:m}function g(m,y){for(var v=0;v<y.length;v++)if(m.indexOf(y[v])>-1)return!0;return!1}}function LJ(e){this._handle=null,this._finished=!1,this._completed=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},t.call(this,e),this.parseChunk=function(n,r){if(this.isFirstChunk&&zr(this._config.beforeFirstChunk)){var i=this._config.beforeFirstChunk(n);i!==void 0&&(n=i)}this.isFirstChunk=!1;var o=this._partialLine+n;this._partialLine="";var s=this._handle.parse(o,this._baseIndex,!this._finished);if(!(this._handle.paused()||this._handle.aborted())){var a=s.meta.cursor;this._finished||(this._partialLine=o.substring(a-this._baseIndex),this._baseIndex=a),s&&s.data&&(this._rowCount+=s.data.length);var l=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(zr(this._config.chunk)&&!r){if(this._config.chunk(s,this._handle),this._handle.paused()||this._handle.aborted())return;s=void 0,this._completeResults=void 0}return!this._config.step&&!this._config.chunk&&(this._completeResults.data=this._completeResults.data.concat(s.data),this._completeResults.errors=this._completeResults.errors.concat(s.errors),this._completeResults.meta=s.meta),!this._completed&&l&&zr(this._config.complete)&&(!s||!s.meta.aborted)&&(this._config.complete(this._completeResults,this._input),this._completed=!0),!l&&(!s||!s.meta.paused)&&this._nextChunk(),s}},this._sendError=function(n){zr(this._config.error)&&this._config.error(n)};function t(n){var r=UR(n);r.chunkSize=parseInt(r.chunkSize),!n.step&&!n.chunk&&(r.chunkSize=null),this._handle=new IJ(r),this._handle.streamer=this,this._config=r}}function fg(e){e=e||{},LJ.call(this,e);var t;this.stream=function(n){return t=n,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var n=this._config.chunkSize,r=n?t.substr(0,n):t;return t=n?t.substr(n):"",this._finished=!t,this.parseChunk(r)}}}fg.prototype=Object.create(fg.prototype);fg.prototype.constructor=fg;function IJ(e){var t=/^\s*-?(\d*\.?\d+|\d+\.?\d*)(e[-+]?\d+)?\s*$/i,n=/(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))/,r=this,i=0,o=0,s,a,l=!1,u=!1,c,f=[],d={data:[],errors:[],meta:{}};if(zr(e.step)){var h=e.step;e.step=function(C){if(d=C,m())g();else{if(g(),!d.data||d.data.length===0)return;i+=C.data.length,e.preview&&i>e.preview?a.abort():h(d,r)}}}this.parse=function(C,E,A){var T=e.quoteChar||'"';if(e.newline||(e.newline=k(C,T)),c=!1,e.delimiter)zr(e.delimiter)&&(e.delimiter=e.delimiter(C),d.meta.delimiter=e.delimiter);else{var L=w(C,e.newline,e.skipEmptyLines,e.comments,e.delimitersToGuess);L.successful?e.delimiter=L.bestDelimiter:(c=!0,e.delimiter=zi.DefaultDelimiter),d.meta.delimiter=e.delimiter}var F=UR(e);return e.preview&&e.header&&F.preview++,s=C,a=new z3(F),d=a.parse(s,E,A),g(),l?{meta:{paused:!0}}:d||{meta:{paused:!1}}},this.paused=function(){return l},this.pause=function(){l=!0,a.abort(),s=s.substr(a.getCharIndex())},this.resume=function(){l=!1,r.streamer.parseChunk(s,!0)},this.aborted=function(){return u},this.abort=function(){u=!0,a.abort(),d.meta.aborted=!0,zr(e.complete)&&e.complete(d),s=""};function p(C){return e.skipEmptyLines==="greedy"?C.join("").trim()==="":C.length===1&&C[0].length===0}function g(){if(d&&c&&(S("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+zi.DefaultDelimiter+"'"),c=!1),e.skipEmptyLines)for(var C=0;C<d.data.length;C++)p(d.data[C])&&d.data.splice(C--,1);return m()&&y(),x()}function m(){return e.header&&f.length===0}function y(){if(!d)return;function C(A){zr(e.transformHeader)&&(A=e.transformHeader(A)),f.push(A)}if(Array.isArray(d.data[0])){for(var E=0;m()&&E<d.data.length;E++)d.data[E].forEach(C);d.data.splice(0,1)}else d.data.forEach(C)}function v(C){return e.dynamicTypingFunction&&e.dynamicTyping[C]===void 0&&(e.dynamicTyping[C]=e.dynamicTypingFunction(C)),(e.dynamicTyping[C]||e.dynamicTyping)===!0}function b(C,E){return v(C)?E==="true"||E==="TRUE"?!0:E==="false"||E==="FALSE"?!1:t.test(E)?parseFloat(E):n.test(E)?new Date(E):E===""?null:E:E}function x(){if(!d||!d.data||!e.header&&!e.dynamicTyping&&!e.transform)return d;function C(A,T){var L=e.header?{}:[],F;for(F=0;F<A.length;F++){var R=F,_=A[F];e.header&&(R=F>=f.length?"__parsed_extra":f[F]),e.transform&&(_=e.transform(_,R)),_=b(R,_),R==="__parsed_extra"?(L[R]=L[R]||[],L[R].push(_)):L[R]=_}return e.header&&(F>f.length?S("FieldMismatch","TooManyFields","Too many fields: expected "+f.length+" fields but parsed "+F,o+T):F<f.length&&S("FieldMismatch","TooFewFields","Too few fields: expected "+f.length+" fields but parsed "+F,o+T)),L}var E=1;return!d.data[0]||Array.isArray(d.data[0])?(d.data=d.data.map(C),E=d.data.length):d.data=C(d.data,0),e.header&&d.meta&&(d.meta.fields=f),o+=E,d}function w(C,E,A,T,L){var F,R,_;L=L||[",","	","|",";",zi.RECORD_SEP,zi.UNIT_SEP];for(var P=0;P<L.length;P++){var N=L[P],D=0,I=0,U=0;_=void 0;for(var V=new z3({comments:T,delimiter:N,newline:E,preview:10}).parse(C),oe=0;oe<V.data.length;oe++){if(A&&p(V.data[oe])){U++;continue}var Q=V.data[oe].length;if(I+=Q,typeof _>"u"){_=0;continue}else Q>1&&(D+=Math.abs(Q-_),_=Q)}V.data.length>0&&(I/=V.data.length-U),(typeof R>"u"||D>R)&&I>1.99&&(R=D,F=N)}return e.delimiter=F,{successful:!!F,bestDelimiter:F}}function k(C,E){C=C.substr(0,1024*1024);var A=new RegExp($1(E)+"([^]*?)"+$1(E),"gm");C=C.replace(A,"");var T=C.split("\r"),L=C.split(`
`),F=L.length>1&&L[0].length<T[0].length;if(T.length===1||F)return`
`;for(var R=0,_=0;_<T.length;_++)T[_][0]===`
`&&R++;return R>=T.length/2?`\r
`:"\r"}function S(C,E,A,T){d.errors.push({type:C,code:E,message:A,row:T})}}function $1(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function z3(e){e=e||{};var t=e.delimiter,n=e.newline,r=e.comments,i=e.step,o=e.preview,s=e.fastMode,a;e.quoteChar===void 0?a='"':a=e.quoteChar;var l=a;if(e.escapeChar!==void 0&&(l=e.escapeChar),(typeof t!="string"||zi.BAD_DELIMITERS.indexOf(t)>-1)&&(t=","),r===t)throw new Error("Comment character same as delimiter");r===!0?r="#":(typeof r!="string"||zi.BAD_DELIMITERS.indexOf(r)>-1)&&(r=!1),n!==`
`&&n!=="\r"&&n!==`\r
`&&(n=`
`);var u=0,c=!1;this.parse=function(f,d,h){if(typeof f!="string")throw new Error("Input must be a string");var p=f.length,g=t.length,m=n.length,y=r.length,v=zr(i);u=0;var b=[],x=[],w=[],k=0;if(!f)return V();if(s||s!==!1&&f.indexOf(a)===-1){for(var S=f.split(n),C=0;C<S.length;C++){if(w=S[C],u+=w.length,C!==S.length-1)u+=n.length;else if(h)return V();if(!(r&&w.substr(0,y)===r)){if(v){if(b=[],N(w.split(t)),oe(),c)return V()}else N(w.split(t));if(o&&C>=o)return b=b.slice(0,o),V(!0)}}return V()}for(var E=f.indexOf(t,u),A=f.indexOf(n,u),T=new RegExp($1(l)+$1(a),"g"),L;;){if(f[u]===a){for(L=u,u++;;){if(L=f.indexOf(a,L+1),L===-1)return h||x.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:b.length,index:u}),I();if(L===p-1){var F=f.substring(u,L).replace(T,a);return I(F)}if(a===l&&f[L+1]===l){L++;continue}if(!(a!==l&&L!==0&&f[L-1]===l)){var R=A===-1?E:Math.min(E,A),_=D(R);if(f[L+1+_]===t){if(w.push(f.substring(u,L).replace(T,a)),u=L+1+_+g,E=f.indexOf(t,u),A=f.indexOf(n,u),v&&(oe(),c))return V();if(o&&b.length>=o)return V(!0);break}var P=D(A);if(f.substr(L+1+P,m)===n){if(w.push(f.substring(u,L).replace(T,a)),U(L+1+P+m),E=f.indexOf(t,u),v&&(oe(),c))return V();if(o&&b.length>=o)return V(!0);break}x.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:b.length,index:u}),L++}}if(v&&(oe(),c))return V();if(o&&b.length>=o)return V(!0);continue}if(r&&w.length===0&&f.substr(u,y)===r){if(A===-1)return V();u=A+m,A=f.indexOf(n,u),E=f.indexOf(t,u);continue}if(E!==-1&&(E<A||A===-1)){w.push(f.substring(u,E)),u=E+g,E=f.indexOf(t,u);continue}if(A!==-1){if(w.push(f.substring(u,A)),U(A+m),v&&(oe(),c))return V();if(o&&b.length>=o)return V(!0);continue}break}return I();function N(Q){b.push(Q),k=u}function D(Q){var ye=0;if(Q!==-1){var Oe=f.substring(L+1,Q);Oe&&Oe.trim()===""&&(ye=Oe.length)}return ye}function I(Q){return h||(typeof Q>"u"&&(Q=f.substr(u)),w.push(Q),u=p,N(w),v&&oe()),V()}function U(Q){u=Q,N(w),w=[],A=f.indexOf(n,u)}function V(Q,ye){var Oe=ye||!1;return{data:Oe?b[0]:b,errors:x,meta:{delimiter:t,linebreak:n,aborted:c,truncated:!!Q,cursor:k+(d||0)}}}function oe(){i(V(void 0,!0)),b=[],x=[]}},this.abort=function(){c=!0},this.getCharIndex=function(){return u}}function UR(e){if(typeof e!="object"||e===null)return e;var t=Array.isArray(e)?[]:{};for(var n in e)t[n]=UR(e[n]);return t}function zr(e){return typeof e=="function"}const{ChunkStreamer:zJ}=zi;function iS(e){e=e||{},zJ.call(this,e),this.textDecoder=new TextDecoder(this._config.encoding),this.stream=async function(t){this._input=t;try{for await(const n of t)this.parseChunk(this.getStringChunk(n));this._finished=!0,this.parseChunk("")}catch(n){this._sendError(n)}},this._nextChunk=function(){},this.getStringChunk=function(t){return typeof t=="string"?t:this.textDecoder.decode(t,{stream:!0})}}iS.prototype=Object.create(zJ.prototype);iS.prototype.constructor=iS;const g3e="4.2.1",VR="object-row-table",WR={dataType:null,batchType:null,id:"csv",module:"csv",name:"CSV",version:g3e,extensions:["csv","tsv","dsv"],mimeTypes:["text/csv","text/tab-separated-values","text/dsv"],category:"table",parse:async(e,t)=>O7(new TextDecoder().decode(e),t),parseText:(e,t)=>O7(e,t),parseInBatches:m3e,options:{csv:{shape:VR,optimizeMemoryUsage:!1,header:"auto",columnPrefix:"column",quoteChar:'"',escapeChar:'"',dynamicTyping:!0,comments:!1,skipEmptyLines:!0,delimitersToGuess:[",","	","|",";"]}}};async function O7(e,t){const n={...WR.options.csv,...t==null?void 0:t.csv},r=y3e(e),o=n.header==="auto"?jJ(r):!!n.header,s={...n,header:o,download:!1,transformHeader:o?BJ():void 0,error:f=>{throw new Error(f)}},a=zi.parse(e,s),l=a.data,u=a.meta.fields||UJ(n.columnPrefix,r.length),c=n.shape||VR;switch(c){case"object-row-table":return{shape:"object-row-table",data:l.map(f=>Array.isArray(f)?DJ(f,u):f)};case"array-row-table":return{shape:"array-row-table",data:l.map(f=>Array.isArray(f)?f:NJ(f,u))};default:throw new Error(c)}}function m3e(e,t){t={...t},t.batchSize==="auto"&&(t.batchSize=4e3);const n={...WR.options.csv,...t==null?void 0:t.csv},r=new d3e;let i=!0,o=null,s=null,a=null;const l={...n,header:!1,download:!1,chunkSize:1024*1024*5,skipEmptyLines:!1,step(u){let c=u.data;if(n.skipEmptyLines&&c.flat().join("").trim()==="")return;const f=u.meta.cursor;if(i&&!o&&(n.header==="auto"?jJ(c):!!n.header)){o=c.map(BJ());return}i&&(i=!1,o||(o=UJ(n.columnPrefix,c.length)),a=v3e(c,o)),n.optimizeMemoryUsage&&(c=JSON.parse(JSON.stringify(c)));const d=n.shape||VR;s=s||new I3(a,{shape:d,...t});try{s.addRow(c);const h=s&&s.getFullBatch({bytesUsed:f});h&&r.enqueue(h)}catch(h){r.enqueue(h)}},complete(u){try{const c=u.meta.cursor,f=s&&s.getFinalBatch({bytesUsed:c});f&&r.enqueue(f)}catch(c){r.enqueue(c)}r.close()}};return zi.parse(e,l,iS),r}function jJ(e){return e&&e.every(t=>typeof t=="string")}function y3e(e){return zi.parse(e,{download:!1,dynamicTyping:!0,preview:1}).data[0]}function BJ(){const e=new Set;return t=>{let n=t,r=1;for(;e.has(n);)n=`${t}.${r}`,r++;return e.add(n),n}}function UJ(e,t=0){const n=[];for(let r=0;r<t;r++)n.push(`${e}${r+1}`);return n}function v3e(e,t){const n=t?{}:[];for(let r=0;r<e.length;r++){const i=t&&t[r]||r;switch(typeof e[r]){case"number":case"boolean":n[i]={name:String(i),index:r,type:Float32Array};break;case"string":default:n[i]={name:String(i),index:r,type:Array}}}return n}var D7={},EA={},_A=34,Jm=10,$A=13;function VJ(e){return new Function("d","return {"+e.map(function(t,n){return JSON.stringify(t)+": d["+n+'] || ""'}).join(",")+"}")}function b3e(e,t){var n=VJ(e);return function(r,i){return t(n(r),i,e)}}function N7(e){var t=Object.create(null),n=[];return e.forEach(function(r){for(var i in r)i in t||n.push(t[i]=i)}),n}function ii(e,t){var n=e+"",r=n.length;return r<t?new Array(t-r+1).join(0)+n:n}function x3e(e){return e<0?"-"+ii(-e,6):e>9999?"+"+ii(e,6):ii(e,4)}function w3e(e){var t=e.getUTCHours(),n=e.getUTCMinutes(),r=e.getUTCSeconds(),i=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":x3e(e.getUTCFullYear())+"-"+ii(e.getUTCMonth()+1,2)+"-"+ii(e.getUTCDate(),2)+(i?"T"+ii(t,2)+":"+ii(n,2)+":"+ii(r,2)+"."+ii(i,3)+"Z":r?"T"+ii(t,2)+":"+ii(n,2)+":"+ii(r,2)+"Z":n||t?"T"+ii(t,2)+":"+ii(n,2)+"Z":"")}function S3e(e){var t=new RegExp('["'+e+`
\r]`),n=e.charCodeAt(0);function r(f,d){var h,p,g=i(f,function(m,y){if(h)return h(m,y-1);p=m,h=d?b3e(m,d):VJ(m)});return g.columns=p||[],g}function i(f,d){var h=[],p=f.length,g=0,m=0,y,v=p<=0,b=!1;f.charCodeAt(p-1)===Jm&&--p,f.charCodeAt(p-1)===$A&&--p;function x(){if(v)return EA;if(b)return b=!1,D7;var k,S=g,C;if(f.charCodeAt(S)===_A){for(;g++<p&&f.charCodeAt(g)!==_A||f.charCodeAt(++g)===_A;);return(k=g)>=p?v=!0:(C=f.charCodeAt(g++))===Jm?b=!0:C===$A&&(b=!0,f.charCodeAt(g)===Jm&&++g),f.slice(S+1,k-1).replace(/""/g,'"')}for(;g<p;){if((C=f.charCodeAt(k=g++))===Jm)b=!0;else if(C===$A)b=!0,f.charCodeAt(g)===Jm&&++g;else if(C!==n)continue;return f.slice(S,k)}return v=!0,f.slice(S,p)}for(;(y=x())!==EA;){for(var w=[];y!==D7&&y!==EA;)w.push(y),y=x();d&&(w=d(w,m++))==null||h.push(w)}return h}function o(f,d){return f.map(function(h){return d.map(function(p){return c(h[p])}).join(e)})}function s(f,d){return d==null&&(d=N7(f)),[d.map(c).join(e)].concat(o(f,d)).join(`
`)}function a(f,d){return d==null&&(d=N7(f)),o(f,d).join(`
`)}function l(f){return f.map(u).join(`
`)}function u(f){return f.map(c).join(e)}function c(f){return f==null?"":f instanceof Date?w3e(f):t.test(f+="")?'"'+f.replace(/"/g,'""')+'"':f}return{parse:r,parseRows:i,format:s,formatBody:a,formatRows:l,formatRow:u,formatValue:c}}/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2022 Joachim Wester
 * MIT licensed
 */var k3e=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),C3e=Object.prototype.hasOwnProperty;function j3(e,t){return C3e.call(e,t)}function B3(e){if(Array.isArray(e)){for(var t=new Array(e.length),n=0;n<t.length;n++)t[n]=""+n;return t}if(Object.keys)return Object.keys(e);var r=[];for(var i in e)j3(e,i)&&r.push(i);return r}function ji(e){switch(typeof e){case"object":return JSON.parse(JSON.stringify(e));case"undefined":return null;default:return e}}function U3(e){for(var t=0,n=e.length,r;t<n;){if(r=e.charCodeAt(t),r>=48&&r<=57){t++;continue}return!1}return!0}function yf(e){return e.indexOf("/")===-1&&e.indexOf("~")===-1?e:e.replace(/~/g,"~0").replace(/\//g,"~1")}function WJ(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function V3(e){if(e===void 0)return!0;if(e){if(Array.isArray(e)){for(var t=0,n=e.length;t<n;t++)if(V3(e[t]))return!0}else if(typeof e=="object"){for(var r=B3(e),i=r.length,o=0;o<i;o++)if(V3(e[r[o]]))return!0}}return!1}function L7(e,t){var n=[e];for(var r in t){var i=typeof t[r]=="object"?JSON.stringify(t[r],null,2):t[r];typeof i<"u"&&n.push(r+": "+i)}return n.join(`
`)}var HJ=function(e){k3e(t,e);function t(n,r,i,o,s){var a=this.constructor,l=e.call(this,L7(n,{name:r,index:i,operation:o,tree:s}))||this;return l.name=r,l.index=i,l.operation=o,l.tree=s,Object.setPrototypeOf(l,a.prototype),l.message=L7(n,{name:r,index:i,operation:o,tree:s}),l}return t}(Error),Qt=HJ,E3e=ji,cp={add:function(e,t,n){return e[t]=this.value,{newDocument:n}},remove:function(e,t,n){var r=e[t];return delete e[t],{newDocument:n,removed:r}},replace:function(e,t,n){var r=e[t];return e[t]=this.value,{newDocument:n,removed:r}},move:function(e,t,n){var r=oS(n,this.path);r&&(r=ji(r));var i=Zf(n,{op:"remove",path:this.from}).removed;return Zf(n,{op:"add",path:this.path,value:i}),{newDocument:n,removed:r}},copy:function(e,t,n){var r=oS(n,this.from);return Zf(n,{op:"add",path:this.path,value:ji(r)}),{newDocument:n}},test:function(e,t,n){return{newDocument:n,test:A1(e[t],this.value)}},_get:function(e,t,n){return this.value=e[t],{newDocument:n}}},_3e={add:function(e,t,n){return U3(t)?e.splice(t,0,this.value):e[t]=this.value,{newDocument:n,index:t}},remove:function(e,t,n){var r=e.splice(t,1);return{newDocument:n,removed:r[0]}},replace:function(e,t,n){var r=e[t];return e[t]=this.value,{newDocument:n,removed:r}},move:cp.move,copy:cp.copy,test:cp.test,_get:cp._get};function oS(e,t){if(t=="")return e;var n={op:"_get",path:t};return Zf(e,n),n.value}function Zf(e,t,n,r,i,o){if(n===void 0&&(n=!1),r===void 0&&(r=!0),i===void 0&&(i=!0),o===void 0&&(o=0),n&&(typeof n=="function"?n(t,0,e,t.path):sS(t,0)),t.path===""){var s={newDocument:e};if(t.op==="add")return s.newDocument=t.value,s;if(t.op==="replace")return s.newDocument=t.value,s.removed=e,s;if(t.op==="move"||t.op==="copy")return s.newDocument=oS(e,t.from),t.op==="move"&&(s.removed=e),s;if(t.op==="test"){if(s.test=A1(e,t.value),s.test===!1)throw new Qt("Test operation failed","TEST_OPERATION_FAILED",o,t,e);return s.newDocument=e,s}else{if(t.op==="remove")return s.removed=e,s.newDocument=null,s;if(t.op==="_get")return t.value=e,s;if(n)throw new Qt("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",o,t,e);return s}}else{r||(e=ji(e));var a=t.path||"",l=a.split("/"),u=e,c=1,f=l.length,d=void 0,h=void 0,p=void 0;for(typeof n=="function"?p=n:p=sS;;){if(h=l[c],h&&h.indexOf("~")!=-1&&(h=WJ(h)),i&&(h=="__proto__"||h=="prototype"&&c>0&&l[c-1]=="constructor"))throw new TypeError("JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(n&&d===void 0&&(u[h]===void 0?d=l.slice(0,c).join("/"):c==f-1&&(d=t.path),d!==void 0&&p(t,0,e,d)),c++,Array.isArray(u)){if(h==="-")h=u.length;else{if(n&&!U3(h))throw new Qt("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",o,t,e);U3(h)&&(h=~~h)}if(c>=f){if(n&&t.op==="add"&&h>u.length)throw new Qt("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",o,t,e);var s=_3e[t.op].call(t,u,h,e);if(s.test===!1)throw new Qt("Test operation failed","TEST_OPERATION_FAILED",o,t,e);return s}}else if(c>=f){var s=cp[t.op].call(t,u,h,e);if(s.test===!1)throw new Qt("Test operation failed","TEST_OPERATION_FAILED",o,t,e);return s}if(u=u[h],n&&c<f&&(!u||typeof u!="object"))throw new Qt("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",o,t,e)}}}function HC(e,t,n,r,i){if(r===void 0&&(r=!0),i===void 0&&(i=!0),n&&!Array.isArray(t))throw new Qt("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");r||(e=ji(e));for(var o=new Array(t.length),s=0,a=t.length;s<a;s++)o[s]=Zf(e,t[s],n,!0,i,s),e=o[s].newDocument;return o.newDocument=e,o}function $3e(e,t,n){var r=Zf(e,t);if(r.test===!1)throw new Qt("Test operation failed","TEST_OPERATION_FAILED",n,t,e);return r.newDocument}function sS(e,t,n,r){if(typeof e!="object"||e===null||Array.isArray(e))throw new Qt("Operation is not an object","OPERATION_NOT_AN_OBJECT",t,e,n);if(cp[e.op]){if(typeof e.path!="string")throw new Qt("Operation `path` property is not a string","OPERATION_PATH_INVALID",t,e,n);if(e.path.indexOf("/")!==0&&e.path.length>0)throw new Qt('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",t,e,n);if((e.op==="move"||e.op==="copy")&&typeof e.from!="string")throw new Qt("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",t,e,n);if((e.op==="add"||e.op==="replace"||e.op==="test")&&e.value===void 0)throw new Qt("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",t,e,n);if((e.op==="add"||e.op==="replace"||e.op==="test")&&V3(e.value))throw new Qt("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",t,e,n);if(n){if(e.op=="add"){var i=e.path.split("/").length,o=r.split("/").length;if(i!==o+1&&i!==o)throw new Qt("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",t,e,n)}else if(e.op==="replace"||e.op==="remove"||e.op==="_get"){if(e.path!==r)throw new Qt("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",t,e,n)}else if(e.op==="move"||e.op==="copy"){var s={op:"_get",path:e.from,value:void 0},a=qJ([s],n);if(a&&a.name==="OPERATION_PATH_UNRESOLVABLE")throw new Qt("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",t,e,n)}}}else throw new Qt("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",t,e,n)}function qJ(e,t,n){try{if(!Array.isArray(e))throw new Qt("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(t)HC(ji(t),ji(e),n||!0);else{n=n||sS;for(var r=0;r<e.length;r++)n(e[r],r,t,void 0)}}catch(i){if(i instanceof Qt)return i;throw i}}function A1(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){var n=Array.isArray(e),r=Array.isArray(t),i,o,s;if(n&&r){if(o=e.length,o!=t.length)return!1;for(i=o;i--!==0;)if(!A1(e[i],t[i]))return!1;return!0}if(n!=r)return!1;var a=Object.keys(e);if(o=a.length,o!==Object.keys(t).length)return!1;for(i=o;i--!==0;)if(!t.hasOwnProperty(a[i]))return!1;for(i=o;i--!==0;)if(s=a[i],!A1(e[s],t[s]))return!1;return!0}return e!==e&&t!==t}const A3e=Object.freeze(Object.defineProperty({__proto__:null,JsonPatchError:Qt,_areEquals:A1,applyOperation:Zf,applyPatch:HC,applyReducer:$3e,deepClone:E3e,getValueByPointer:oS,validate:qJ,validator:sS},Symbol.toStringTag,{value:"Module"}));/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2021 Joachim Wester
 * MIT license
 */var HR=new WeakMap,T3e=function(){function e(t){this.observers=new Map,this.obj=t}return e}(),P3e=function(){function e(t,n){this.callback=t,this.observer=n}return e}();function M3e(e){return HR.get(e)}function F3e(e,t){return e.observers.get(t)}function R3e(e,t){e.observers.delete(t.callback)}function O3e(e,t){t.unobserve()}function D3e(e,t){var n=[],r,i=M3e(e);if(!i)i=new T3e(e),HR.set(e,i);else{var o=F3e(i,t);r=o&&o.observer}if(r)return r;if(r={},i.value=ji(e),t){r.callback=t,r.next=null;var s=function(){W3(r)},a=function(){clearTimeout(r.next),r.next=setTimeout(s)};typeof window<"u"&&(window.addEventListener("mouseup",a),window.addEventListener("keyup",a),window.addEventListener("mousedown",a),window.addEventListener("keydown",a),window.addEventListener("change",a))}return r.patches=n,r.object=e,r.unobserve=function(){W3(r),clearTimeout(r.next),R3e(i,r),typeof window<"u"&&(window.removeEventListener("mouseup",a),window.removeEventListener("keyup",a),window.removeEventListener("mousedown",a),window.removeEventListener("keydown",a),window.removeEventListener("change",a))},i.observers.set(t,new P3e(t,r)),r}function W3(e,t){t===void 0&&(t=!1);var n=HR.get(e.object);qR(n.value,e.object,e.patches,"",t),e.patches.length&&HC(n.value,e.patches);var r=e.patches;return r.length>0&&(e.patches=[],e.callback&&e.callback(r)),r}function qR(e,t,n,r,i){if(t!==e){typeof t.toJSON=="function"&&(t=t.toJSON());for(var o=B3(t),s=B3(e),a=!1,l=s.length-1;l>=0;l--){var u=s[l],c=e[u];if(j3(t,u)&&!(t[u]===void 0&&c!==void 0&&Array.isArray(t)===!1)){var f=t[u];typeof c=="object"&&c!=null&&typeof f=="object"&&f!=null&&Array.isArray(c)===Array.isArray(f)?qR(c,f,n,r+"/"+yf(u),i):c!==f&&(i&&n.push({op:"test",path:r+"/"+yf(u),value:ji(c)}),n.push({op:"replace",path:r+"/"+yf(u),value:ji(f)}))}else Array.isArray(e)===Array.isArray(t)?(i&&n.push({op:"test",path:r+"/"+yf(u),value:ji(c)}),n.push({op:"remove",path:r+"/"+yf(u)}),a=!0):(i&&n.push({op:"test",path:r,value:e}),n.push({op:"replace",path:r,value:t}))}if(!(!a&&o.length==s.length))for(var l=0;l<o.length;l++){var u=o[l];!j3(e,u)&&t[u]!==void 0&&n.push({op:"add",path:r+"/"+yf(u),value:ji(t[u])})}}}function N3e(e,t,n){n===void 0&&(n=!1);var r=[];return qR(e,t,r,"",n),r}const L3e=Object.freeze(Object.defineProperty({__proto__:null,compare:N3e,generate:W3,observe:D3e,unobserve:O3e},Symbol.toStringTag,{value:"Module"}));Object.assign({},A3e,L3e,{JsonPatchError:HJ,deepClone:ji,escapePathComponent:yf,unescapePathComponent:WJ});var I3e=/("(?:[^\\"]|\\.)*")|[:,]/g,z3e=function(t,n){var r,i,o;return n=n||{},r=JSON.stringify([1],void 0,n.indent===void 0?2:n.indent).slice(2,-3),i=r===""?1/0:n.maxLength===void 0?80:n.maxLength,o=n.replacer,function s(a,l,u){var c,f,d,h,p,g,m,y,v,b,x,w;if(a&&typeof a.toJSON=="function"&&(a=a.toJSON()),x=JSON.stringify(a,o),x===void 0)return x;if(m=i-l.length-u,x.length<=m&&(v=x.replace(I3e,function(k,S){return S||k+" "}),v.length<=m))return v;if(o!=null&&(a=JSON.parse(x),o=void 0),typeof a=="object"&&a!==null){if(y=l+r,d=[],f=0,Array.isArray(a))for(b="[",c="]",m=a.length;f<m;f++)d.push(s(a[f],y,f===m-1?0:1)||"null");else for(b="{",c="}",g=Object.keys(a),m=g.length;f<m;f++)h=g[f],p=JSON.stringify(h)+": ",w=s(a[h],y,p.length+(f===m-1?0:1)),w!==void 0&&d.push(p+w);if(d.length>0)return[b,r+d.join(`,
`+y),c].join(`
`+l)}return x}(t,"",0)};const AA=Da(z3e);function $i(e,t,n){return e.fields=t||[],e.fname=n,e}function tn(e){return e==null?null:e.fname}function kr(e){return e==null?null:e.fields}function GJ(e){return e.length===1?j3e(e[0]):B3e(e)}const j3e=e=>function(t){return t[e]},B3e=e=>{const t=e.length;return function(n){for(let r=0;r<t;++r)n=n[e[r]];return n}};function G(e){throw Error(e)}function Na(e){const t=[],n=e.length;let r=null,i=0,o="",s,a,l;e=e+"";function u(){t.push(o+e.substring(s,a)),o="",s=a+1}for(s=a=0;a<n;++a)if(l=e[a],l==="\\")o+=e.substring(s,a++),s=a;else if(l===r)u(),r=null,i=-1;else{if(r)continue;s===i&&l==='"'||s===i&&l==="'"?(s=a+1,r=l):l==="."&&!i?a>s?u():s=a+1:l==="["?(a>s&&u(),i=s=a+1):l==="]"&&(i||G("Access path missing open bracket: "+e),i>0&&u(),i=0,s=a+1)}return i&&G("Access path missing closing bracket: "+e),r&&G("Access path missing closing quote: "+e),a>s&&(a++,u()),t}function Do(e,t,n){const r=Na(e);return e=r.length===1?r[0]:e,$i((n&&n.get||GJ)(r),[e],t||e)}const Tv=Do("id"),Ar=$i(e=>e,[],"identity"),Au=$i(()=>0,[],"zero"),lm=$i(()=>1,[],"one"),No=$i(()=>!0,[],"true"),du=$i(()=>!1,[],"false");function U3e(e,t,n){const r=[t].concat([].slice.call(n));console[e].apply(console,r)}const YJ=0,qC=1,GR=2,XJ=3,KJ=4;function YR(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:U3e,r=e||YJ;return{level(i){return arguments.length?(r=+i,this):r},error(){return r>=qC&&n(t||"error","ERROR",arguments),this},warn(){return r>=GR&&n(t||"warn","WARN",arguments),this},info(){return r>=XJ&&n(t||"log","INFO",arguments),this},debug(){return r>=KJ&&n(t||"log","DEBUG",arguments),this}}}var Y=Array.isArray;function se(e){return e===Object(e)}const I7=e=>e!=="__proto__";function um(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((r,i)=>{for(const o in i)if(o==="signals")r.signals=V3e(r.signals,i.signals);else{const s=o==="legend"?{layout:1}:o==="style"?!0:null;cm(r,o,i[o],s)}return r},{})}function cm(e,t,n,r){if(!I7(t))return;let i,o;if(se(n)&&!Y(n)){o=se(e[t])?e[t]:e[t]={};for(i in n)r&&(r===!0||r[i])?cm(o,i,n[i]):I7(i)&&(o[i]=n[i])}else e[t]=n}function V3e(e,t){if(e==null)return t;const n={},r=[];function i(o){n[o.name]||(n[o.name]=1,r.push(o))}return t.forEach(i),e.forEach(i),r}function qe(e){return e[e.length-1]}function wr(e){return e==null||e===""?null:+e}const QJ=e=>t=>e*Math.exp(t),JJ=e=>t=>Math.log(e*t),ZJ=e=>t=>Math.sign(t)*Math.log1p(Math.abs(t/e)),eZ=e=>t=>Math.sign(t)*Math.expm1(Math.abs(t))*e,aS=e=>t=>t<0?-Math.pow(-t,e):Math.pow(t,e);function GC(e,t,n,r){const i=n(e[0]),o=n(qe(e)),s=(o-i)*t;return[r(i-s),r(o-s)]}function tZ(e,t){return GC(e,t,wr,Ar)}function nZ(e,t){var n=Math.sign(e[0]);return GC(e,t,JJ(n),QJ(n))}function rZ(e,t,n){return GC(e,t,aS(n),aS(1/n))}function iZ(e,t,n){return GC(e,t,ZJ(n),eZ(n))}function YC(e,t,n,r,i){const o=r(e[0]),s=r(qe(e)),a=t!=null?r(t):(o+s)/2;return[i(a+(o-a)*n),i(a+(s-a)*n)]}function XR(e,t,n){return YC(e,t,n,wr,Ar)}function KR(e,t,n){const r=Math.sign(e[0]);return YC(e,t,n,JJ(r),QJ(r))}function lS(e,t,n,r){return YC(e,t,n,aS(r),aS(1/r))}function QR(e,t,n,r){return YC(e,t,n,ZJ(r),eZ(r))}function oZ(e){return 1+~~(new Date(e).getMonth()/3)}function sZ(e){return 1+~~(new Date(e).getUTCMonth()/3)}function le(e){return e!=null?Y(e)?e:[e]:[]}function aZ(e,t,n){let r=e[0],i=e[1],o;return i<r&&(o=i,i=r,r=o),o=i-r,o>=n-t?[t,n]:[r=Math.min(Math.max(r,t),n-o),r+o]}function Ne(e){return typeof e=="function"}const W3e="descending";function JR(e,t,n){n=n||{},t=le(t)||[];const r=[],i=[],o={},s=n.comparator||H3e;return le(e).forEach((a,l)=>{a!=null&&(r.push(t[l]===W3e?-1:1),i.push(a=Ne(a)?a:Do(a,null,n)),(kr(a)||[]).forEach(u=>o[u]=1))}),i.length===0?null:$i(s(i,r),Object.keys(o))}const XC=(e,t)=>(e<t||e==null)&&t!=null?-1:(e>t||t==null)&&e!=null?1:(t=t instanceof Date?+t:t,(e=e instanceof Date?+e:e)!==e&&t===t?-1:t!==t&&e===e?1:0),H3e=(e,t)=>e.length===1?q3e(e[0],t[0]):G3e(e,t,e.length),q3e=(e,t)=>function(n,r){return XC(e(n),e(r))*t},G3e=(e,t,n)=>(t.push(0),function(r,i){let o,s=0,a=-1;for(;s===0&&++a<n;)o=e[a],s=XC(o(r),o(i));return s*t[a]});function Tr(e){return Ne(e)?e:()=>e}function ZR(e,t){let n;return r=>{n&&clearTimeout(n),n=setTimeout(()=>(t(r),n=null),e)}}function De(e){for(let t,n,r=1,i=arguments.length;r<i;++r){t=arguments[r];for(n in t)e[n]=t[n]}return e}function Aa(e,t){let n=0,r,i,o,s;if(e&&(r=e.length))if(t==null){for(i=e[n];n<r&&(i==null||i!==i);i=e[++n]);for(o=s=i;n<r;++n)i=e[n],i!=null&&(i<o&&(o=i),i>s&&(s=i))}else{for(i=t(e[n]);n<r&&(i==null||i!==i);i=t(e[++n]));for(o=s=i;n<r;++n)i=t(e[n]),i!=null&&(i<o&&(o=i),i>s&&(s=i))}return[o,s]}function lZ(e,t){const n=e.length;let r=-1,i,o,s,a,l;if(t==null){for(;++r<n;)if(o=e[r],o!=null&&o>=o){i=s=o;break}if(r===n)return[-1,-1];for(a=l=r;++r<n;)o=e[r],o!=null&&(i>o&&(i=o,a=r),s<o&&(s=o,l=r))}else{for(;++r<n;)if(o=t(e[r],r,e),o!=null&&o>=o){i=s=o;break}if(r===n)return[-1,-1];for(a=l=r;++r<n;)o=t(e[r],r,e),o!=null&&(i>o&&(i=o,a=r),s<o&&(s=o,l=r))}return[a,l]}const Y3e=Object.prototype.hasOwnProperty;function fe(e,t){return Y3e.call(e,t)}const px={};function fm(e){let t={},n;function r(o){return fe(t,o)&&t[o]!==px}const i={size:0,empty:0,object:t,has:r,get(o){return r(o)?t[o]:void 0},set(o,s){return r(o)||(++i.size,t[o]===px&&--i.empty),t[o]=s,this},delete(o){return r(o)&&(--i.size,++i.empty,t[o]=px),this},clear(){i.size=i.empty=0,i.object=t={}},test(o){return arguments.length?(n=o,i):n},clean(){const o={};let s=0;for(const a in t){const l=t[a];l!==px&&(!n||!n(l))&&(o[a]=l,++s)}i.size=s,i.empty=0,i.object=t=o}};return e&&Object.keys(e).forEach(o=>{i.set(o,e[o])}),i}function uZ(e,t,n,r,i,o){if(!n&&n!==0)return o;const s=+n;let a=e[0],l=qe(e),u;l<a&&(u=a,a=l,l=u),u=Math.abs(t-a);const c=Math.abs(l-t);return u<c&&u<=s?r:c<=s?i:o}function re(e,t,n){const r=e.prototype=Object.create(t.prototype);return Object.defineProperty(r,"constructor",{value:e,writable:!0,enumerable:!0,configurable:!0}),De(r,n)}function fp(e,t,n,r){let i=t[0],o=t[t.length-1],s;return i>o&&(s=i,i=o,o=s),n=n===void 0||n,r=r===void 0||r,(n?i<=e:i<e)&&(r?e<=o:e<o)}function Dc(e){return typeof e=="boolean"}function rc(e){return Object.prototype.toString.call(e)==="[object Date]"}function cZ(e){return e&&Ne(e[Symbol.iterator])}function Je(e){return typeof e=="number"}function fZ(e){return Object.prototype.toString.call(e)==="[object RegExp]"}function ue(e){return typeof e=="string"}function eO(e,t,n){e&&(e=t?le(e).map(a=>a.replace(/\\(.)/g,"$1")):le(e));const r=e&&e.length,i=n&&n.get||GJ,o=a=>i(t?[a]:Na(a));let s;if(!r)s=function(){return""};else if(r===1){const a=o(e[0]);s=function(l){return""+a(l)}}else{const a=e.map(o);s=function(l){let u=""+a[0](l),c=0;for(;++c<r;)u+="|"+a[c](l);return u}}return $i(s,e,"key")}function dZ(e,t){const n=e[0],r=qe(e),i=+t;return i?i===1?r:n+i*(r-n):n}const X3e=1e4;function hZ(e){e=+e||X3e;let t,n,r;const i=()=>{t={},n={},r=0},o=(s,a)=>(++r>e&&(n=t,t={},r=1),t[s]=a);return i(),{clear:i,has:s=>fe(t,s)||fe(n,s),get:s=>fe(t,s)?t[s]:fe(n,s)?o(s,n[s]):void 0,set:(s,a)=>fe(t,s)?t[s]=a:o(s,a)}}function pZ(e,t,n,r){const i=t.length,o=n.length;if(!o)return t;if(!i)return n;const s=r||new t.constructor(i+o);let a=0,l=0,u=0;for(;a<i&&l<o;++u)s[u]=e(t[a],n[l])>0?n[l++]:t[a++];for(;a<i;++a,++u)s[u]=t[a];for(;l<o;++l,++u)s[u]=n[l];return s}function B0(e,t){let n="";for(;--t>=0;)n+=e;return n}function gZ(e,t,n,r){const i=n||" ",o=e+"",s=t-o.length;return s<=0?o:r==="left"?B0(i,s)+o:r==="center"?B0(i,~~(s/2))+o+B0(i,Math.ceil(s/2)):o+B0(i,s)}function Pv(e){return e&&qe(e)-e[0]||0}function ne(e){return Y(e)?"["+e.map(ne)+"]":se(e)||ue(e)?JSON.stringify(e).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):e}function tO(e){return e==null||e===""?null:!e||e==="false"||e==="0"?!1:!!e}const K3e=e=>Je(e)||rc(e)?e:Date.parse(e);function nO(e,t){return t=t||K3e,e==null||e===""?null:t(e)}function rO(e){return e==null||e===""?null:e+""}function ks(e){const t={},n=e.length;for(let r=0;r<n;++r)t[e[r]]=!0;return t}function mZ(e,t,n,r){const i=r??"",o=e+"",s=o.length,a=Math.max(0,t-i.length);return s<=t?o:n==="left"?i+o.slice(s-a):n==="center"?o.slice(0,Math.ceil(a/2))+i+o.slice(s-~~(a/2)):o.slice(0,a)+i}function bu(e,t,n){if(e)if(t){const r=e.length;for(let i=0;i<r;++i){const o=t(e[i]);o&&n(o,i,e)}}else e.forEach(n)}function Q3e(e){return e}function J3e(e){if(e==null)return Q3e;var t,n,r=e.scale[0],i=e.scale[1],o=e.translate[0],s=e.translate[1];return function(a,l){l||(t=n=0);var u=2,c=a.length,f=new Array(c);for(f[0]=(t+=a[0])*r+o,f[1]=(n+=a[1])*i+s;u<c;)f[u]=a[u],++u;return f}}function Z3e(e,t){for(var n,r=e.length,i=r-t;i<--r;)n=e[i],e[i++]=e[r],e[r]=n}function ePe(e,t){return typeof t=="string"&&(t=e.objects[t]),t.type==="GeometryCollection"?{type:"FeatureCollection",features:t.geometries.map(function(n){return z7(e,n)})}:z7(e,t)}function z7(e,t){var n=t.id,r=t.bbox,i=t.properties==null?{}:t.properties,o=yZ(e,t);return n==null&&r==null?{type:"Feature",properties:i,geometry:o}:r==null?{type:"Feature",id:n,properties:i,geometry:o}:{type:"Feature",id:n,bbox:r,properties:i,geometry:o}}function yZ(e,t){var n=J3e(e.transform),r=e.arcs;function i(c,f){f.length&&f.pop();for(var d=r[c<0?~c:c],h=0,p=d.length;h<p;++h)f.push(n(d[h],h));c<0&&Z3e(f,p)}function o(c){return n(c)}function s(c){for(var f=[],d=0,h=c.length;d<h;++d)i(c[d],f);return f.length<2&&f.push(f[0]),f}function a(c){for(var f=s(c);f.length<4;)f.push(f[0]);return f}function l(c){return c.map(a)}function u(c){var f=c.type,d;switch(f){case"GeometryCollection":return{type:f,geometries:c.geometries.map(u)};case"Point":d=o(c.coordinates);break;case"MultiPoint":d=c.coordinates.map(o);break;case"LineString":d=s(c.arcs);break;case"MultiLineString":d=c.arcs.map(s);break;case"Polygon":d=l(c.arcs);break;case"MultiPolygon":d=c.arcs.map(l);break;default:return null}return{type:f,coordinates:d}}return u(t)}function tPe(e,t){var n={},r={},i={},o=[],s=-1;t.forEach(function(u,c){var f=e.arcs[u<0?~u:u],d;f.length<3&&!f[1][0]&&!f[1][1]&&(d=t[++s],t[s]=u,t[c]=d)}),t.forEach(function(u){var c=a(u),f=c[0],d=c[1],h,p;if(h=i[f])if(delete i[h.end],h.push(u),h.end=d,p=r[d]){delete r[p.start];var g=p===h?h:h.concat(p);r[g.start=h.start]=i[g.end=p.end]=g}else r[h.start]=i[h.end]=h;else if(h=r[d])if(delete r[h.start],h.unshift(u),h.start=f,p=i[f]){delete i[p.end];var m=p===h?h:p.concat(h);r[m.start=p.start]=i[m.end=h.end]=m}else r[h.start]=i[h.end]=h;else h=[u],r[h.start=f]=i[h.end=d]=h});function a(u){var c=e.arcs[u<0?~u:u],f=c[0],d;return e.transform?(d=[0,0],c.forEach(function(h){d[0]+=h[0],d[1]+=h[1]})):d=c[c.length-1],u<0?[d,f]:[f,d]}function l(u,c){for(var f in u){var d=u[f];delete c[d.start],delete d.start,delete d.end,d.forEach(function(h){n[h<0?~h:h]=1}),o.push(d)}}return l(i,r),l(r,i),t.forEach(function(u){n[u<0?~u:u]||o.push([u])}),o}function nPe(e){return yZ(e,rPe.apply(this,arguments))}function rPe(e,t,n){var r,i,o;if(arguments.length>1)r=iPe(e,t,n);else for(i=0,r=new Array(o=e.arcs.length);i<o;++i)r[i]=i;return{type:"MultiLineString",arcs:tPe(e,r)}}function iPe(e,t,n){var r=[],i=[],o;function s(f){var d=f<0?~f:f;(i[d]||(i[d]=[])).push({i:f,g:o})}function a(f){f.forEach(s)}function l(f){f.forEach(a)}function u(f){f.forEach(l)}function c(f){switch(o=f,f.type){case"GeometryCollection":f.geometries.forEach(c);break;case"LineString":a(f.arcs);break;case"MultiLineString":case"Polygon":l(f.arcs);break;case"MultiPolygon":u(f.arcs);break}}return c(t),i.forEach(n==null?function(f){r.push(f[0].i)}:function(f){n(f[0].g,f[f.length-1].g)&&r.push(f[0].i)}),r}function Cl(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function oPe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function dm(e){let t,n,r;e.length!==2?(t=Cl,n=(a,l)=>Cl(e(a),l),r=(a,l)=>e(a)-l):(t=e===Cl||e===oPe?e:sPe,n=e,r=e);function i(a,l,u=0,c=a.length){if(u<c){if(t(l,l)!==0)return c;do{const f=u+c>>>1;n(a[f],l)<0?u=f+1:c=f}while(u<c)}return u}function o(a,l,u=0,c=a.length){if(u<c){if(t(l,l)!==0)return c;do{const f=u+c>>>1;n(a[f],l)<=0?u=f+1:c=f}while(u<c)}return u}function s(a,l,u=0,c=a.length){const f=i(a,l,u,c-1);return f>u&&r(a[f-1],l)>-r(a[f],l)?f-1:f}return{left:i,center:s,right:o}}function sPe(){return 0}function vZ(e){return e===null?NaN:+e}function*aPe(e,t){if(t===void 0)for(let n of e)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)(r=t(r,++n,e))!=null&&(r=+r)>=r&&(yield r)}}const bZ=dm(Cl),gc=bZ.right,lPe=bZ.left;dm(vZ).center;function uPe(e,t){let n=0,r,i=0,o=0;if(t===void 0)for(let s of e)s!=null&&(s=+s)>=s&&(r=s-i,i+=r/++n,o+=r*(s-i));else{let s=-1;for(let a of e)(a=t(a,++s,e))!=null&&(a=+a)>=a&&(r=a-i,i+=r/++n,o+=r*(a-i))}if(n>1)return o/(n-1)}function cPe(e,t){const n=uPe(e,t);return n&&Math.sqrt(n)}class Xr{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const n=this._partials;let r=0;for(let i=0;i<this._n&&i<32;i++){const o=n[i],s=t+o,a=Math.abs(t)<Math.abs(o)?t-(s-o):o-(s-t);a&&(n[r++]=a),t=s}return n[r]=t,this._n=r+1,this}valueOf(){const t=this._partials;let n=this._n,r,i,o,s=0;if(n>0){for(s=t[--n];n>0&&(r=s,i=t[--n],s=r+i,o=i-(s-r),!o););n>0&&(o<0&&t[n-1]<0||o>0&&t[n-1]>0)&&(i=o*2,r=s+i,i==r-s&&(s=r))}return s}}class j7 extends Map{constructor(t,n=SZ){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(H3(this,t))}has(t){return super.has(H3(this,t))}set(t,n){return super.set(xZ(this,t),n)}delete(t){return super.delete(wZ(this,t))}}class uS extends Set{constructor(t,n=SZ){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const r of t)this.add(r)}has(t){return super.has(H3(this,t))}add(t){return super.add(xZ(this,t))}delete(t){return super.delete(wZ(this,t))}}function H3({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function xZ({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function wZ({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function SZ(e){return e!==null&&typeof e=="object"?e.valueOf():e}function fPe(e,t){return Array.from(t,n=>e[n])}function dPe(e=Cl){if(e===Cl)return kZ;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function kZ(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const hPe=Math.sqrt(50),pPe=Math.sqrt(10),gPe=Math.sqrt(2);function cS(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),s=o>=hPe?10:o>=pPe?5:o>=gPe?2:1;let a,l,u;return i<0?(u=Math.pow(10,-i)/s,a=Math.round(e*u),l=Math.round(t*u),a/u<e&&++a,l/u>t&&--l,u=-u):(u=Math.pow(10,i)*s,a=Math.round(e/u),l=Math.round(t/u),a*u<e&&++a,l*u>t&&--l),l<a&&.5<=n&&n<2?cS(e,t,n*2):[a,l,u]}function q3(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,o,s]=r?cS(t,e,n):cS(e,t,n);if(!(o>=i))return[];const a=o-i+1,l=new Array(a);if(r)if(s<0)for(let u=0;u<a;++u)l[u]=(o-u)/-s;else for(let u=0;u<a;++u)l[u]=(o-u)*s;else if(s<0)for(let u=0;u<a;++u)l[u]=(i+u)/-s;else for(let u=0;u<a;++u)l[u]=(i+u)*s;return l}function G3(e,t,n){return t=+t,e=+e,n=+n,cS(e,t,n)[2]}function mc(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?G3(t,e,n):G3(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function ed(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function Y3(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function CZ(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?kZ:dPe(i);r>n;){if(r-n>600){const l=r-n+1,u=t-n+1,c=Math.log(l),f=.5*Math.exp(2*c/3),d=.5*Math.sqrt(c*f*(l-f)/l)*(u-l/2<0?-1:1),h=Math.max(n,Math.floor(t-u*f/l+d)),p=Math.min(r,Math.floor(t+(l-u)*f/l+d));CZ(e,t,h,p,i)}const o=e[t];let s=n,a=r;for(Zm(e,n,t),i(e[r],o)>0&&Zm(e,n,r);s<a;){for(Zm(e,s,a),++s,--a;i(e[s],o)<0;)++s;for(;i(e[a],o)>0;)--a}i(e[n],o)===0?Zm(e,n,a):(++a,Zm(e,a,r)),a<=t&&(n=a+1),t<=a&&(r=a-1)}return e}function Zm(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function X3(e,t,n){if(e=Float64Array.from(aPe(e,n)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return Y3(e);if(t>=1)return ed(e);var r,i=(r-1)*t,o=Math.floor(i),s=ed(CZ(e,o).subarray(0,o+1)),a=Y3(e.subarray(o+1));return s+(a-s)*(i-o)}}function EZ(e,t,n=vZ){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,o=Math.floor(i),s=+n(e[o],o,e),a=+n(e[o+1],o+1,e);return s+(a-s)*(i-o)}}function mPe(e,t){let n=0,r=0;if(t===void 0)for(let i of e)i!=null&&(i=+i)>=i&&(++n,r+=i);else{let i=-1;for(let o of e)(o=t(o,++i,e))!=null&&(o=+o)>=o&&(++n,r+=o)}if(n)return r/n}function _Z(e,t){return X3(e,.5,t)}function*yPe(e){for(const t of e)yield*t}function $Z(e){return Array.from(yPe(e))}function Bi(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,o=new Array(i);++r<i;)o[r]=e+r*n;return o}function AZ(e,t){let n=0;for(let r of e)(r=+r)&&(n+=r);return n}function vPe(e,...t){e=new uS(e),t=t.map(bPe);e:for(const n of e)for(const r of t)if(!r.has(n)){e.delete(n);continue e}return e}function bPe(e){return e instanceof uS?e:new uS(e)}function xPe(...e){const t=new uS;for(const n of e)for(const r of n)t.add(r);return t}function wPe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function fS(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function dg(e){return e=fS(Math.abs(e)),e?e[1]:NaN}function SPe(e,t){return function(n,r){for(var i=n.length,o=[],s=0,a=e[0],l=0;i>0&&a>0&&(l+a+1>r&&(a=Math.max(1,r-l)),o.push(n.substring(i-=a,i+a)),!((l+=a+1)>r));)a=e[s=(s+1)%e.length];return o.reverse().join(t)}}function kPe(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var CPe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function yd(e){if(!(t=CPe.exec(e)))throw new Error("invalid format: "+e);var t;return new iO({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}yd.prototype=iO.prototype;function iO(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}iO.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function EPe(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var TZ;function _Pe(e,t){var n=fS(e,t);if(!n)return e+"";var r=n[0],i=n[1],o=i-(TZ=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return o===s?r:o>s?r+new Array(o-s+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+fS(e,Math.max(0,t+o-1))[0]}function B7(e,t){var n=fS(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const U7={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:wPe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>B7(e*100,t),r:B7,s:_Pe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function V7(e){return e}var W7=Array.prototype.map,H7=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function PZ(e){var t=e.grouping===void 0||e.thousands===void 0?V7:SPe(W7.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?V7:kPe(W7.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",a=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function u(f){f=yd(f);var d=f.fill,h=f.align,p=f.sign,g=f.symbol,m=f.zero,y=f.width,v=f.comma,b=f.precision,x=f.trim,w=f.type;w==="n"?(v=!0,w="g"):U7[w]||(b===void 0&&(b=12),x=!0,w="g"),(m||d==="0"&&h==="=")&&(m=!0,d="0",h="=");var k=g==="$"?n:g==="#"&&/[boxX]/.test(w)?"0"+w.toLowerCase():"",S=g==="$"?r:/[%p]/.test(w)?s:"",C=U7[w],E=/[defgprs%]/.test(w);b=b===void 0?6:/[gprs]/.test(w)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function A(T){var L=k,F=S,R,_,P;if(w==="c")F=C(T)+F,T="";else{T=+T;var N=T<0||1/T<0;if(T=isNaN(T)?l:C(Math.abs(T),b),x&&(T=EPe(T)),N&&+T==0&&p!=="+"&&(N=!1),L=(N?p==="("?p:a:p==="-"||p==="("?"":p)+L,F=(w==="s"?H7[8+TZ/3]:"")+F+(N&&p==="("?")":""),E){for(R=-1,_=T.length;++R<_;)if(P=T.charCodeAt(R),48>P||P>57){F=(P===46?i+T.slice(R+1):T.slice(R))+F,T=T.slice(0,R);break}}}v&&!m&&(T=t(T,1/0));var D=L.length+T.length+F.length,I=D<y?new Array(y-D+1).join(d):"";switch(v&&m&&(T=t(I+T,I.length?y-F.length:1/0),I=""),h){case"<":T=L+T+F+I;break;case"=":T=L+I+T+F;break;case"^":T=I.slice(0,D=I.length>>1)+L+T+F+I.slice(D);break;default:T=I+L+T+F;break}return o(T)}return A.toString=function(){return f+""},A}function c(f,d){var h=u((f=yd(f),f.type="f",f)),p=Math.max(-8,Math.min(8,Math.floor(dg(d)/3)))*3,g=Math.pow(10,-p),m=H7[8+p/3];return function(y){return h(g*y)+m}}return{format:u,formatPrefix:c}}var gx,Mv,oO;$Pe({thousands:",",grouping:[3],currency:["$",""]});function $Pe(e){return gx=PZ(e),Mv=gx.format,oO=gx.formatPrefix,gx}function MZ(e){return Math.max(0,-dg(Math.abs(e)))}function FZ(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(dg(t)/3)))*3-dg(Math.abs(e)))}function RZ(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,dg(t)-dg(e))+1}const TA=new Date,PA=new Date;function En(e,t,n,r){function i(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(e(o=new Date(+o)),o),i.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),i.round=o=>{const s=i(o),a=i.ceil(o);return o-s<a-o?s:a},i.offset=(o,s)=>(t(o=new Date(+o),s==null?1:Math.floor(s)),o),i.range=(o,s,a)=>{const l=[];if(o=i.ceil(o),a=a==null?1:Math.floor(a),!(o<s)||!(a>0))return l;let u;do l.push(u=new Date(+o)),t(o,a),e(o);while(u<o&&o<s);return l},i.filter=o=>En(s=>{if(s>=s)for(;e(s),!o(s);)s.setTime(s-1)},(s,a)=>{if(s>=s)if(a<0)for(;++a<=0;)for(;t(s,-1),!o(s););else for(;--a>=0;)for(;t(s,1),!o(s););}),n&&(i.count=(o,s)=>(TA.setTime(+o),PA.setTime(+s),e(TA),e(PA),Math.floor(n(TA,PA))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?s=>r(s)%o===0:s=>i.count(0,s)%o===0):i)),i}const hg=En(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);hg.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?En(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):hg);hg.range;const gl=1e3,_o=gl*60,ml=_o*60,zl=ml*24,sO=zl*7,q7=zl*30,MA=zl*365,hs=En(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*gl)},(e,t)=>(t-e)/gl,e=>e.getUTCSeconds());hs.range;const Fv=En(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*gl)},(e,t)=>{e.setTime(+e+t*_o)},(e,t)=>(t-e)/_o,e=>e.getMinutes());Fv.range;const Rv=En(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*_o)},(e,t)=>(t-e)/_o,e=>e.getUTCMinutes());Rv.range;const Ov=En(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*gl-e.getMinutes()*_o)},(e,t)=>{e.setTime(+e+t*ml)},(e,t)=>(t-e)/ml,e=>e.getHours());Ov.range;const Dv=En(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*ml)},(e,t)=>(t-e)/ml,e=>e.getUTCHours());Dv.range;const Sa=En(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*_o)/zl,e=>e.getDate()-1);Sa.range;const El=En(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/zl,e=>e.getUTCDate()-1);El.range;const OZ=En(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/zl,e=>Math.floor(e/zl));OZ.range;function Gd(e){return En(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*_o)/sO)}const Yd=Gd(0),dS=Gd(1),APe=Gd(2),TPe=Gd(3),pg=Gd(4),PPe=Gd(5),MPe=Gd(6);Yd.range;dS.range;APe.range;TPe.range;pg.range;PPe.range;MPe.range;function Xd(e){return En(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/sO)}const Kd=Xd(0),hS=Xd(1),FPe=Xd(2),RPe=Xd(3),gg=Xd(4),OPe=Xd(5),DPe=Xd(6);Kd.range;hS.range;FPe.range;RPe.range;gg.range;OPe.range;DPe.range;const mg=En(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());mg.range;const yg=En(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());yg.range;const Cs=En(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Cs.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:En(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Cs.range;const Es=En(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Es.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:En(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});Es.range;function DZ(e,t,n,r,i,o){const s=[[hs,1,gl],[hs,5,5*gl],[hs,15,15*gl],[hs,30,30*gl],[o,1,_o],[o,5,5*_o],[o,15,15*_o],[o,30,30*_o],[i,1,ml],[i,3,3*ml],[i,6,6*ml],[i,12,12*ml],[r,1,zl],[r,2,2*zl],[n,1,sO],[t,1,q7],[t,3,3*q7],[e,1,MA]];function a(u,c,f){const d=c<u;d&&([u,c]=[c,u]);const h=f&&typeof f.range=="function"?f:l(u,c,f),p=h?h.range(u,+c+1):[];return d?p.reverse():p}function l(u,c,f){const d=Math.abs(c-u)/f,h=dm(([,,m])=>m).right(s,d);if(h===s.length)return e.every(mc(u/MA,c/MA,f));if(h===0)return hg.every(Math.max(mc(u,c,f),1));const[p,g]=s[d/s[h-1][2]<s[h][2]/d?h-1:h];return p.every(g)}return[a,l]}const[NPe,LPe]=DZ(Es,yg,Kd,OZ,Dv,Rv),[IPe,zPe]=DZ(Cs,mg,Yd,Sa,Ov,Fv),er="year",wi="quarter",Cr="month",wn="week",Si="date",xr="day",Ta="dayofyear",Ji="hours",Zi="minutes",Lo="seconds",_s="milliseconds",aO=[er,wi,Cr,wn,Si,xr,Ta,Ji,Zi,Lo,_s],FA=aO.reduce((e,t,n)=>(e[t]=1+n,e),{});function lO(e){const t=le(e).slice(),n={};return t.length||G("Missing time unit."),t.forEach(i=>{fe(FA,i)?n[i]=1:G(`Invalid time unit: ${i}.`)}),(n[wn]||n[xr]?1:0)+(n[wi]||n[Cr]||n[Si]?1:0)+(n[Ta]?1:0)>1&&G(`Incompatible time units: ${e}`),t.sort((i,o)=>FA[i]-FA[o]),t}const jPe={[er]:"%Y ",[wi]:"Q%q ",[Cr]:"%b ",[Si]:"%d ",[wn]:"W%U ",[xr]:"%a ",[Ta]:"%j ",[Ji]:"%H:00",[Zi]:"00:%M",[Lo]:":%S",[_s]:".%L",[`${er}-${Cr}`]:"%Y-%m ",[`${er}-${Cr}-${Si}`]:"%Y-%m-%d ",[`${Ji}-${Zi}`]:"%H:%M"};function NZ(e,t){const n=De({},jPe,t),r=lO(e),i=r.length;let o="",s=0,a,l;for(s=0;s<i;)for(a=r.length;a>s;--a)if(l=r.slice(s,a).join("-"),n[l]!=null){o+=n[l],s=a;break}return o.trim()}const Cf=new Date;function uO(e){return Cf.setFullYear(e),Cf.setMonth(0),Cf.setDate(1),Cf.setHours(0,0,0,0),Cf}function LZ(e){return zZ(new Date(e))}function IZ(e){return K3(new Date(e))}function zZ(e){return Sa.count(uO(e.getFullYear())-1,e)}function K3(e){return Yd.count(uO(e.getFullYear())-1,e)}function Q3(e){return uO(e).getDay()}function BPe(e,t,n,r,i,o,s){if(0<=e&&e<100){const a=new Date(-1,t,n,r,i,o,s);return a.setFullYear(e),a}return new Date(e,t,n,r,i,o,s)}function jZ(e){return UZ(new Date(e))}function BZ(e){return J3(new Date(e))}function UZ(e){const t=Date.UTC(e.getUTCFullYear(),0,1);return El.count(t-1,e)}function J3(e){const t=Date.UTC(e.getUTCFullYear(),0,1);return Kd.count(t-1,e)}function Z3(e){return Cf.setTime(Date.UTC(e,0,1)),Cf.getUTCDay()}function UPe(e,t,n,r,i,o,s){if(0<=e&&e<100){const a=new Date(Date.UTC(-1,t,n,r,i,o,s));return a.setUTCFullYear(n.y),a}return new Date(Date.UTC(e,t,n,r,i,o,s))}function VZ(e,t,n,r,i){const o=t||1,s=qe(e),a=(y,v,b)=>(b=b||y,VPe(n[b],r[b],y===s&&o,v)),l=new Date,u=ks(e),c=u[er]?a(er):Tr(2012),f=u[Cr]?a(Cr):u[wi]?a(wi):Au,d=u[wn]&&u[xr]?a(xr,1,wn+xr):u[wn]?a(wn,1):u[xr]?a(xr,1):u[Si]?a(Si,1):u[Ta]?a(Ta,1):lm,h=u[Ji]?a(Ji):Au,p=u[Zi]?a(Zi):Au,g=u[Lo]?a(Lo):Au,m=u[_s]?a(_s):Au;return function(y){l.setTime(+y);const v=c(l);return i(v,f(l),d(l,v),h(l),p(l),g(l),m(l))}}function VPe(e,t,n,r){const i=n<=1?e:r?(o,s)=>r+n*Math.floor((e(o,s)-r)/n):(o,s)=>n*Math.floor(e(o,s)/n);return t?(o,s)=>t(i(o,s),s):i}function vg(e,t,n){return t+e*7-(n+6)%7}const WPe={[er]:e=>e.getFullYear(),[wi]:e=>Math.floor(e.getMonth()/3),[Cr]:e=>e.getMonth(),[Si]:e=>e.getDate(),[Ji]:e=>e.getHours(),[Zi]:e=>e.getMinutes(),[Lo]:e=>e.getSeconds(),[_s]:e=>e.getMilliseconds(),[Ta]:e=>zZ(e),[wn]:e=>K3(e),[wn+xr]:(e,t)=>vg(K3(e),e.getDay(),Q3(t)),[xr]:(e,t)=>vg(1,e.getDay(),Q3(t))},HPe={[wi]:e=>3*e,[wn]:(e,t)=>vg(e,0,Q3(t))};function WZ(e,t){return VZ(e,t||1,WPe,HPe,BPe)}const qPe={[er]:e=>e.getUTCFullYear(),[wi]:e=>Math.floor(e.getUTCMonth()/3),[Cr]:e=>e.getUTCMonth(),[Si]:e=>e.getUTCDate(),[Ji]:e=>e.getUTCHours(),[Zi]:e=>e.getUTCMinutes(),[Lo]:e=>e.getUTCSeconds(),[_s]:e=>e.getUTCMilliseconds(),[Ta]:e=>UZ(e),[wn]:e=>J3(e),[xr]:(e,t)=>vg(1,e.getUTCDay(),Z3(t)),[wn+xr]:(e,t)=>vg(J3(e),e.getUTCDay(),Z3(t))},GPe={[wi]:e=>3*e,[wn]:(e,t)=>vg(e,0,Z3(t))};function HZ(e,t){return VZ(e,t||1,qPe,GPe,UPe)}const YPe={[er]:Cs,[wi]:mg.every(3),[Cr]:mg,[wn]:Yd,[Si]:Sa,[xr]:Sa,[Ta]:Sa,[Ji]:Ov,[Zi]:Fv,[Lo]:hs,[_s]:hg},XPe={[er]:Es,[wi]:yg.every(3),[Cr]:yg,[wn]:Kd,[Si]:El,[xr]:El,[Ta]:El,[Ji]:Dv,[Zi]:Rv,[Lo]:hs,[_s]:hg};function hm(e){return YPe[e]}function pm(e){return XPe[e]}function qZ(e,t,n){return e?e.offset(t,n):void 0}function GZ(e,t,n){return qZ(hm(e),t,n)}function YZ(e,t,n){return qZ(pm(e),t,n)}function XZ(e,t,n,r){return e?e.range(t,n,r):void 0}function KZ(e,t,n,r){return XZ(hm(e),t,n,r)}function QZ(e,t,n,r){return XZ(pm(e),t,n,r)}const U0=1e3,V0=U0*60,W0=V0*60,KC=W0*24,KPe=KC*7,G7=KC*30,eP=KC*365,JZ=[er,Cr,Si,Ji,Zi,Lo,_s],H0=JZ.slice(0,-1),q0=H0.slice(0,-1),G0=q0.slice(0,-1),QPe=G0.slice(0,-1),JPe=[er,wn],Y7=[er,Cr],ZZ=[er],e0=[[H0,1,U0],[H0,5,5*U0],[H0,15,15*U0],[H0,30,30*U0],[q0,1,V0],[q0,5,5*V0],[q0,15,15*V0],[q0,30,30*V0],[G0,1,W0],[G0,3,3*W0],[G0,6,6*W0],[G0,12,12*W0],[QPe,1,KC],[JPe,1,KPe],[Y7,1,G7],[Y7,3,3*G7],[ZZ,1,eP]];function eee(e){const t=e.extent,n=e.maxbins||40,r=Math.abs(Pv(t))/n;let i=dm(a=>a[2]).right(e0,r),o,s;return i===e0.length?(o=ZZ,s=mc(t[0]/eP,t[1]/eP,n)):i?(i=e0[r/e0[i-1][2]<e0[i][2]/r?i-1:i],o=i[0],s=i[1]):(o=JZ,s=Math.max(mc(t[0],t[1],n),1)),{units:o,step:s}}function RA(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function OA(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function t0(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function tee(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,o=e.days,s=e.shortDays,a=e.months,l=e.shortMonths,u=n0(i),c=r0(i),f=n0(o),d=r0(o),h=n0(s),p=r0(s),g=n0(a),m=r0(a),y=n0(l),v=r0(l),b={a:N,A:D,b:I,B:U,c:null,d:ej,e:ej,f:wMe,g:MMe,G:RMe,H:vMe,I:bMe,j:xMe,L:nee,m:SMe,M:kMe,p:V,q:oe,Q:rj,s:ij,S:CMe,u:EMe,U:_Me,V:$Me,w:AMe,W:TMe,x:null,X:null,y:PMe,Y:FMe,Z:OMe,"%":nj},x={a:Q,A:ye,b:Oe,B:ut,c:null,d:tj,e:tj,f:IMe,g:YMe,G:KMe,H:DMe,I:NMe,j:LMe,L:iee,m:zMe,M:jMe,p:$n,q:sr,Q:rj,s:ij,S:BMe,u:UMe,U:VMe,V:WMe,w:HMe,W:qMe,x:null,X:null,y:GMe,Y:XMe,Z:QMe,"%":nj},w={a:A,A:T,b:L,B:F,c:R,d:J7,e:J7,f:pMe,g:Q7,G:K7,H:Z7,I:Z7,j:cMe,L:hMe,m:uMe,M:fMe,p:E,q:lMe,Q:mMe,s:yMe,S:dMe,u:rMe,U:iMe,V:oMe,w:nMe,W:sMe,x:_,X:P,y:Q7,Y:K7,Z:aMe,"%":gMe};b.x=k(n,b),b.X=k(r,b),b.c=k(t,b),x.x=k(n,x),x.X=k(r,x),x.c=k(t,x);function k(ce,$e){return function(Ae){var J=[],mn=-1,tt=0,An=ce.length,fn,ao,hh;for(Ae instanceof Date||(Ae=new Date(+Ae));++mn<An;)ce.charCodeAt(mn)===37&&(J.push(ce.slice(tt,mn)),(ao=X7[fn=ce.charAt(++mn)])!=null?fn=ce.charAt(++mn):ao=fn==="e"?" ":"0",(hh=$e[fn])&&(fn=hh(Ae,ao)),J.push(fn),tt=mn+1);return J.push(ce.slice(tt,mn)),J.join("")}}function S(ce,$e){return function(Ae){var J=t0(1900,void 0,1),mn=C(J,ce,Ae+="",0),tt,An;if(mn!=Ae.length)return null;if("Q"in J)return new Date(J.Q);if("s"in J)return new Date(J.s*1e3+("L"in J?J.L:0));if($e&&!("Z"in J)&&(J.Z=0),"p"in J&&(J.H=J.H%12+J.p*12),J.m===void 0&&(J.m="q"in J?J.q:0),"V"in J){if(J.V<1||J.V>53)return null;"w"in J||(J.w=1),"Z"in J?(tt=OA(t0(J.y,0,1)),An=tt.getUTCDay(),tt=An>4||An===0?hS.ceil(tt):hS(tt),tt=El.offset(tt,(J.V-1)*7),J.y=tt.getUTCFullYear(),J.m=tt.getUTCMonth(),J.d=tt.getUTCDate()+(J.w+6)%7):(tt=RA(t0(J.y,0,1)),An=tt.getDay(),tt=An>4||An===0?dS.ceil(tt):dS(tt),tt=Sa.offset(tt,(J.V-1)*7),J.y=tt.getFullYear(),J.m=tt.getMonth(),J.d=tt.getDate()+(J.w+6)%7)}else("W"in J||"U"in J)&&("w"in J||(J.w="u"in J?J.u%7:"W"in J?1:0),An="Z"in J?OA(t0(J.y,0,1)).getUTCDay():RA(t0(J.y,0,1)).getDay(),J.m=0,J.d="W"in J?(J.w+6)%7+J.W*7-(An+5)%7:J.w+J.U*7-(An+6)%7);return"Z"in J?(J.H+=J.Z/100|0,J.M+=J.Z%100,OA(J)):RA(J)}}function C(ce,$e,Ae,J){for(var mn=0,tt=$e.length,An=Ae.length,fn,ao;mn<tt;){if(J>=An)return-1;if(fn=$e.charCodeAt(mn++),fn===37){if(fn=$e.charAt(mn++),ao=w[fn in X7?$e.charAt(mn++):fn],!ao||(J=ao(ce,Ae,J))<0)return-1}else if(fn!=Ae.charCodeAt(J++))return-1}return J}function E(ce,$e,Ae){var J=u.exec($e.slice(Ae));return J?(ce.p=c.get(J[0].toLowerCase()),Ae+J[0].length):-1}function A(ce,$e,Ae){var J=h.exec($e.slice(Ae));return J?(ce.w=p.get(J[0].toLowerCase()),Ae+J[0].length):-1}function T(ce,$e,Ae){var J=f.exec($e.slice(Ae));return J?(ce.w=d.get(J[0].toLowerCase()),Ae+J[0].length):-1}function L(ce,$e,Ae){var J=y.exec($e.slice(Ae));return J?(ce.m=v.get(J[0].toLowerCase()),Ae+J[0].length):-1}function F(ce,$e,Ae){var J=g.exec($e.slice(Ae));return J?(ce.m=m.get(J[0].toLowerCase()),Ae+J[0].length):-1}function R(ce,$e,Ae){return C(ce,t,$e,Ae)}function _(ce,$e,Ae){return C(ce,n,$e,Ae)}function P(ce,$e,Ae){return C(ce,r,$e,Ae)}function N(ce){return s[ce.getDay()]}function D(ce){return o[ce.getDay()]}function I(ce){return l[ce.getMonth()]}function U(ce){return a[ce.getMonth()]}function V(ce){return i[+(ce.getHours()>=12)]}function oe(ce){return 1+~~(ce.getMonth()/3)}function Q(ce){return s[ce.getUTCDay()]}function ye(ce){return o[ce.getUTCDay()]}function Oe(ce){return l[ce.getUTCMonth()]}function ut(ce){return a[ce.getUTCMonth()]}function $n(ce){return i[+(ce.getUTCHours()>=12)]}function sr(ce){return 1+~~(ce.getUTCMonth()/3)}return{format:function(ce){var $e=k(ce+="",b);return $e.toString=function(){return ce},$e},parse:function(ce){var $e=S(ce+="",!1);return $e.toString=function(){return ce},$e},utcFormat:function(ce){var $e=k(ce+="",x);return $e.toString=function(){return ce},$e},utcParse:function(ce){var $e=S(ce+="",!0);return $e.toString=function(){return ce},$e}}}var X7={"-":"",_:" ",0:"0"},Bn=/^\s*\d+/,ZPe=/^%/,eMe=/[\\^$*+?|[\]().{}]/g;function Ze(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(t)+i:i)}function tMe(e){return e.replace(eMe,"\\$&")}function n0(e){return new RegExp("^(?:"+e.map(tMe).join("|")+")","i")}function r0(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function nMe(e,t,n){var r=Bn.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function rMe(e,t,n){var r=Bn.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function iMe(e,t,n){var r=Bn.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function oMe(e,t,n){var r=Bn.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function sMe(e,t,n){var r=Bn.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function K7(e,t,n){var r=Bn.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function Q7(e,t,n){var r=Bn.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function aMe(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function lMe(e,t,n){var r=Bn.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function uMe(e,t,n){var r=Bn.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function J7(e,t,n){var r=Bn.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function cMe(e,t,n){var r=Bn.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function Z7(e,t,n){var r=Bn.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function fMe(e,t,n){var r=Bn.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function dMe(e,t,n){var r=Bn.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function hMe(e,t,n){var r=Bn.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function pMe(e,t,n){var r=Bn.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function gMe(e,t,n){var r=ZPe.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function mMe(e,t,n){var r=Bn.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function yMe(e,t,n){var r=Bn.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function ej(e,t){return Ze(e.getDate(),t,2)}function vMe(e,t){return Ze(e.getHours(),t,2)}function bMe(e,t){return Ze(e.getHours()%12||12,t,2)}function xMe(e,t){return Ze(1+Sa.count(Cs(e),e),t,3)}function nee(e,t){return Ze(e.getMilliseconds(),t,3)}function wMe(e,t){return nee(e,t)+"000"}function SMe(e,t){return Ze(e.getMonth()+1,t,2)}function kMe(e,t){return Ze(e.getMinutes(),t,2)}function CMe(e,t){return Ze(e.getSeconds(),t,2)}function EMe(e){var t=e.getDay();return t===0?7:t}function _Me(e,t){return Ze(Yd.count(Cs(e)-1,e),t,2)}function ree(e){var t=e.getDay();return t>=4||t===0?pg(e):pg.ceil(e)}function $Me(e,t){return e=ree(e),Ze(pg.count(Cs(e),e)+(Cs(e).getDay()===4),t,2)}function AMe(e){return e.getDay()}function TMe(e,t){return Ze(dS.count(Cs(e)-1,e),t,2)}function PMe(e,t){return Ze(e.getFullYear()%100,t,2)}function MMe(e,t){return e=ree(e),Ze(e.getFullYear()%100,t,2)}function FMe(e,t){return Ze(e.getFullYear()%1e4,t,4)}function RMe(e,t){var n=e.getDay();return e=n>=4||n===0?pg(e):pg.ceil(e),Ze(e.getFullYear()%1e4,t,4)}function OMe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Ze(t/60|0,"0",2)+Ze(t%60,"0",2)}function tj(e,t){return Ze(e.getUTCDate(),t,2)}function DMe(e,t){return Ze(e.getUTCHours(),t,2)}function NMe(e,t){return Ze(e.getUTCHours()%12||12,t,2)}function LMe(e,t){return Ze(1+El.count(Es(e),e),t,3)}function iee(e,t){return Ze(e.getUTCMilliseconds(),t,3)}function IMe(e,t){return iee(e,t)+"000"}function zMe(e,t){return Ze(e.getUTCMonth()+1,t,2)}function jMe(e,t){return Ze(e.getUTCMinutes(),t,2)}function BMe(e,t){return Ze(e.getUTCSeconds(),t,2)}function UMe(e){var t=e.getUTCDay();return t===0?7:t}function VMe(e,t){return Ze(Kd.count(Es(e)-1,e),t,2)}function oee(e){var t=e.getUTCDay();return t>=4||t===0?gg(e):gg.ceil(e)}function WMe(e,t){return e=oee(e),Ze(gg.count(Es(e),e)+(Es(e).getUTCDay()===4),t,2)}function HMe(e){return e.getUTCDay()}function qMe(e,t){return Ze(hS.count(Es(e)-1,e),t,2)}function GMe(e,t){return Ze(e.getUTCFullYear()%100,t,2)}function YMe(e,t){return e=oee(e),Ze(e.getUTCFullYear()%100,t,2)}function XMe(e,t){return Ze(e.getUTCFullYear()%1e4,t,4)}function KMe(e,t){var n=e.getUTCDay();return e=n>=4||n===0?gg(e):gg.ceil(e),Ze(e.getUTCFullYear()%1e4,t,4)}function QMe(){return"+0000"}function nj(){return"%"}function rj(e){return+e}function ij(e){return Math.floor(+e/1e3)}var Sh,cO,see,fO,aee;JMe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function JMe(e){return Sh=tee(e),cO=Sh.format,see=Sh.parse,fO=Sh.utcFormat,aee=Sh.utcParse,Sh}function Y0(e){const t={};return n=>t[n]||(t[n]=e(n))}function ZMe(e,t){return n=>{const r=e(n),i=r.indexOf(t);if(i<0)return r;let o=eFe(r,i);const s=o<r.length?r.slice(o):"";for(;--o>i;)if(r[o]!=="0"){++o;break}return r.slice(0,o)+s}}function eFe(e,t){let n=e.lastIndexOf("e"),r;if(n>0)return n;for(n=e.length;--n>t;)if(r=e.charCodeAt(n),r>=48&&r<=57)return n+1}function lee(e){const t=Y0(e.format),n=e.formatPrefix;return{format:t,formatPrefix:n,formatFloat(r){const i=yd(r||",");if(i.precision==null){switch(i.precision=12,i.type){case"%":i.precision-=2;break;case"e":i.precision-=1;break}return ZMe(t(i),t(".1f")(1)[1])}else return t(i)},formatSpan(r,i,o,s){s=yd(s??",f");const a=mc(r,i,o),l=Math.max(Math.abs(r),Math.abs(i));let u;if(s.precision==null)switch(s.type){case"s":return isNaN(u=FZ(a,l))||(s.precision=u),n(s,l);case"":case"e":case"g":case"p":case"r":{isNaN(u=RZ(a,l))||(s.precision=u-(s.type==="e"));break}case"f":case"%":{isNaN(u=MZ(a))||(s.precision=u-(s.type==="%")*2);break}}return t(s)}}}let tP;uee();function uee(){return tP=lee({format:Mv,formatPrefix:oO})}function cee(e){return lee(PZ(e))}function pS(e){return arguments.length?tP=cee(e):tP}function oj(e,t,n){n=n||{},se(n)||G(`Invalid time multi-format specifier: ${n}`);const r=t(Lo),i=t(Zi),o=t(Ji),s=t(Si),a=t(wn),l=t(Cr),u=t(wi),c=t(er),f=e(n[_s]||".%L"),d=e(n[Lo]||":%S"),h=e(n[Zi]||"%I:%M"),p=e(n[Ji]||"%I %p"),g=e(n[Si]||n[xr]||"%a %d"),m=e(n[wn]||"%b %d"),y=e(n[Cr]||"%B"),v=e(n[wi]||"%B"),b=e(n[er]||"%Y");return x=>(r(x)<x?f:i(x)<x?d:o(x)<x?h:s(x)<x?p:l(x)<x?a(x)<x?g:m:c(x)<x?u(x)<x?y:v:b)(x)}function fee(e){const t=Y0(e.format),n=Y0(e.utcFormat);return{timeFormat:r=>ue(r)?t(r):oj(t,hm,r),utcFormat:r=>ue(r)?n(r):oj(n,pm,r),timeParse:Y0(e.parse),utcParse:Y0(e.utcParse)}}let nP;dee();function dee(){return nP=fee({format:cO,parse:see,utcFormat:fO,utcParse:aee})}function hee(e){return fee(tee(e))}function T1(e){return arguments.length?nP=hee(e):nP}const rP=(e,t)=>De({},e,t);function pee(e,t){const n=e?cee(e):pS(),r=t?hee(t):T1();return rP(n,r)}function dO(e,t){const n=arguments.length;return n&&n!==2&&G("defaultLocale expects either zero or two arguments."),n?rP(pS(e),T1(t)):rP(pS(),T1())}function tFe(){return uee(),dee(),dO()}const nFe=/^(data:|([A-Za-z]+:)?\/\/)/,rFe=/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp|file|data):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,iFe=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,sj="file://";function oFe(e,t){return n=>({options:n||{},sanitize:aFe,load:sFe,fileAccess:!!t,file:lFe(t),http:cFe(e)})}async function sFe(e,t){const n=await this.sanitize(e,t),r=n.href;return n.localFile?this.file(r):this.http(r,t)}async function aFe(e,t){t=De({},this.options,t);const n=this.fileAccess,r={href:null};let i,o,s;const a=rFe.test(e.replace(iFe,""));(e==null||typeof e!="string"||!a)&&G("Sanitize failure, invalid URI: "+ne(e));const l=nFe.test(e);return(s=t.baseURL)&&!l&&(!e.startsWith("/")&&!s.endsWith("/")&&(e="/"+e),e=s+e),o=(i=e.startsWith(sj))||t.mode==="file"||t.mode!=="http"&&!l&&n,i?e=e.slice(sj.length):e.startsWith("//")&&(t.defaultProtocol==="file"?(e=e.slice(2),o=!0):e=(t.defaultProtocol||"http")+":"+e),Object.defineProperty(r,"localFile",{value:!!o}),r.href=e,t.target&&(r.target=t.target+""),t.rel&&(r.rel=t.rel+""),t.context==="image"&&t.crossOrigin&&(r.crossOrigin=t.crossOrigin+""),r}function lFe(e){return e?t=>new Promise((n,r)=>{e.readFile(t,(i,o)=>{i?r(i):n(o)})}):uFe}async function uFe(){G("No file system access.")}function cFe(e){return e?async function(t,n){const r=De({},this.options.http,n),i=n&&n.response,o=await e(t,r);return o.ok?Ne(o[i])?o[i]():o.text():G(o.status+""+o.statusText)}:fFe}async function fFe(){G("No HTTP fetch method available.")}const dFe=e=>e!=null&&e===e,hFe=e=>e==="true"||e==="false"||e===!0||e===!1,pFe=e=>!Number.isNaN(Date.parse(e)),gee=e=>!Number.isNaN(+e)&&!(e instanceof Date),gFe=e=>gee(e)&&Number.isInteger(+e),iP={boolean:tO,integer:wr,number:wr,date:nO,string:rO,unknown:Ar},mx=[hFe,gFe,gee,pFe],mFe=["boolean","integer","number","date"];function mee(e,t){if(!e||!e.length)return"unknown";const n=e.length,r=mx.length,i=mx.map((o,s)=>s+1);for(let o=0,s=0,a,l;o<n;++o)for(l=t?e[o][t]:e[o],a=0;a<r;++a)if(i[a]&&dFe(l)&&!mx[a](l)&&(i[a]=0,++s,s===mx.length))return"string";return mFe[i.reduce((o,s)=>o===0?s:o,0)-1]}function yee(e,t){return t.reduce((n,r)=>(n[r]=mee(e,r),n),{})}function aj(e){const t=function(n,r){const i={delimiter:e};return hO(n,r?De(r,i):i)};return t.responseType="text",t}function hO(e,t){return t.header&&(e=t.header.map(ne).join(t.delimiter)+`
`+e),S3e(t.delimiter).parse(e+"")}hO.responseType="text";function yFe(e){return typeof Buffer=="function"&&Ne(Buffer.isBuffer)?Buffer.isBuffer(e):!1}function pO(e,t){const n=t&&t.property?Do(t.property):Ar;return se(e)&&!yFe(e)?vFe(n(e),t):n(JSON.parse(e))}pO.responseType="json";function vFe(e,t){return!Y(e)&&cZ(e)&&(e=[...e]),t&&t.copy?JSON.parse(JSON.stringify(e)):e}const bFe={interior:(e,t)=>e!==t,exterior:(e,t)=>e===t};function vee(e,t){let n,r,i,o;return e=pO(e,t),t&&t.feature?(n=ePe,i=t.feature):t&&t.mesh?(n=nPe,i=t.mesh,o=bFe[t.filter]):G("Missing TopoJSON feature or mesh parameter."),r=(r=e.objects[i])?n(e,r,o):G("Invalid TopoJSON object: "+i),r&&r.features||[r]}vee.responseType="json";const Iw={dsv:hO,csv:aj(","),tsv:aj("	"),json:pO,topojson:vee};function gO(e,t){return arguments.length>1?(Iw[e]=t,this):fe(Iw,e)?Iw[e]:null}function bee(e){const t=gO(e);return t&&t.responseType||"text"}function xee(e,t,n,r){t=t||{};const i=gO(t.type||"json");return i||G("Unknown data format type: "+t.type),e=i(e,t),t.parse&&xFe(e,t.parse,n,r),fe(e,"columns")&&delete e.columns,e}function xFe(e,t,n,r){if(!e.length)return;const i=T1();n=n||i.timeParse,r=r||i.utcParse;let o=e.columns||Object.keys(e[0]),s,a,l,u,c,f;t==="auto"&&(t=yee(e,o)),o=Object.keys(t);const d=o.map(h=>{const p=t[h];let g,m;if(p&&(p.startsWith("date:")||p.startsWith("utc:")))return g=p.split(/:(.+)?/,2),m=g[1],(m[0]==="'"&&m[m.length-1]==="'"||m[0]==='"'&&m[m.length-1]==='"')&&(m=m.slice(1,-1)),(g[0]==="utc"?r:n)(m);if(!iP[p])throw Error("Illegal format pattern: "+h+":"+p);return iP[p]});for(l=0,c=e.length,f=o.length;l<c;++l)for(s=e[l],u=0;u<f;++u)a=o[u],s[a]=d[u](s[a])}const QC=oFe(typeof fetch<"u"&&fetch,null);function JC(e){const t=e||Ar,n=[],r={};return n.add=i=>{const o=t(i);return r[o]||(r[o]=1,n.push(i)),n},n.remove=i=>{const o=t(i);if(r[o]){r[o]=0;const s=n.indexOf(i);s>=0&&n.splice(s,1)}return n},n}async function zw(e,t){try{await t(e)}catch(n){e.error(n)}}const wee=Symbol("vega_id");let wFe=1;function ZC(e){return!!(e&&be(e))}function be(e){return e[wee]}function See(e,t){return e[wee]=t,e}function at(e){const t=e===Object(e)?e:{data:e};return be(t)?t:See(t,wFe++)}function mO(e){return eE(e,at({}))}function eE(e,t){for(const n in e)t[n]=e[n];return t}function kee(e,t){return See(t,be(e))}function Qd(e,t){return e?t?(n,r)=>e(n,r)||be(t(n))-be(t(r)):(n,r)=>e(n,r)||be(n)-be(r):null}function Cee(e){return e&&e.constructor===Jd}function Jd(){const e=[],t=[],n=[],r=[],i=[];let o=null,s=!1;return{constructor:Jd,insert(a){const l=le(a),u=l.length;for(let c=0;c<u;++c)e.push(l[c]);return this},remove(a){const l=Ne(a)?r:t,u=le(a),c=u.length;for(let f=0;f<c;++f)l.push(u[f]);return this},modify(a,l,u){const c={field:l,value:Tr(u)};return Ne(a)?(c.filter=a,i.push(c)):(c.tuple=a,n.push(c)),this},encode(a,l){return Ne(a)?i.push({filter:a,field:l}):n.push({tuple:a,field:l}),this},clean(a){return o=a,this},reflow(){return s=!0,this},pulse(a,l){const u={},c={};let f,d,h,p,g,m;for(f=0,d=l.length;f<d;++f)u[be(l[f])]=1;for(f=0,d=t.length;f<d;++f)g=t[f],u[be(g)]=-1;for(f=0,d=r.length;f<d;++f)p=r[f],l.forEach(v=>{p(v)&&(u[be(v)]=-1)});for(f=0,d=e.length;f<d;++f)g=e[f],m=be(g),u[m]?u[m]=1:a.add.push(at(e[f]));for(f=0,d=l.length;f<d;++f)g=l[f],u[be(g)]<0&&a.rem.push(g);function y(v,b,x){x?v[b]=x(v):a.encode=b,s||(c[be(v)]=v)}for(f=0,d=n.length;f<d;++f)h=n[f],g=h.tuple,p=h.field,m=u[be(g)],m>0&&(y(g,p,h.value),a.modifies(p));for(f=0,d=i.length;f<d;++f)h=i[f],p=h.filter,l.forEach(v=>{p(v)&&u[be(v)]>0&&y(v,h.field,h.value)}),a.modifies(h.field);if(s)a.mod=t.length||r.length?l.filter(v=>u[be(v)]>0):l.slice();else for(m in c)a.mod.push(c[m]);return(o||o==null&&(t.length||r.length))&&a.clean(!0),a}}}const jw="_:mod:_";function tE(){Object.defineProperty(this,jw,{writable:!0,value:{}})}tE.prototype={set(e,t,n,r){const i=this,o=i[e],s=i[jw];return t!=null&&t>=0?(o[t]!==n||r)&&(o[t]=n,s[t+":"+e]=-1,s[e]=-1):(o!==n||r)&&(i[e]=n,s[e]=Y(n)?1+n.length:-1),i},modified(e,t){const n=this[jw];if(arguments.length){if(Y(e)){for(let r=0;r<e.length;++r)if(n[e[r]])return!0;return!1}}else{for(const r in n)if(n[r])return!0;return!1}return t!=null&&t>=0?t+1<n[e]||!!n[t+":"+e]:!!n[e]},clear(){return this[jw]={},this}};let SFe=0;const kFe="pulse",CFe=new tE,EFe=1,_Fe=2;function kt(e,t,n,r){this.id=++SFe,this.value=e,this.stamp=-1,this.rank=-1,this.qrank=-1,this.flags=0,t&&(this._update=t),n&&this.parameters(n,r)}function lj(e){return function(t){const n=this.flags;return arguments.length===0?!!(n&e):(this.flags=t?n|e:n&~e,this)}}kt.prototype={targets(){return this._targets||(this._targets=JC(Tv))},set(e){return this.value!==e?(this.value=e,1):0},skip:lj(EFe),modified:lj(_Fe),parameters(e,t,n){t=t!==!1;const r=this._argval=this._argval||new tE,i=this._argops=this._argops||[],o=[];let s,a,l,u;const c=(f,d,h)=>{h instanceof kt?(h!==this&&(t&&h.targets().add(this),o.push(h)),i.push({op:h,name:f,index:d})):r.set(f,d,h)};for(s in e)if(a=e[s],s===kFe)le(a).forEach(f=>{f instanceof kt?f!==this&&(f.targets().add(this),o.push(f)):G("Pulse parameters must be operator instances.")}),this.source=a;else if(Y(a))for(r.set(s,-1,Array(l=a.length)),u=0;u<l;++u)c(s,u,a[u]);else c(s,-1,a);return this.marshall().clear(),n&&(i.initonly=!0),o},marshall(e){const t=this._argval||CFe,n=this._argops;let r,i,o,s;if(n){const a=n.length;for(i=0;i<a;++i)r=n[i],o=r.op,s=o.modified()&&o.stamp===e,t.set(r.name,r.index,o.value,s);if(n.initonly){for(i=0;i<a;++i)r=n[i],r.op.targets().remove(this);this._argops=null,this._update=null}}return t},detach(){const e=this._argops;let t,n,r,i;if(e)for(t=0,n=e.length;t<n;++t)r=e[t],i=r.op,i._targets&&i._targets.remove(this);this.pulse=null,this.source=null},evaluate(e){const t=this._update;if(t){const n=this.marshall(e.stamp),r=t.call(this,n,e);if(n.clear(),r!==this.value)this.value=r;else if(!this.modified())return e.StopPropagation}},run(e){if(e.stamp<this.stamp)return e.StopPropagation;let t;return this.skip()?(this.skip(!1),t=0):t=this.evaluate(e),this.pulse=t||e}};function $Fe(e,t,n,r){let i=1,o;return e instanceof kt?o=e:e&&e.prototype instanceof kt?o=new e:Ne(e)?o=new kt(null,e):(i=0,o=new kt(e,t)),this.rank(o),i&&(r=n,n=t),n&&this.connect(o,o.parameters(n,r)),this.touch(o),o}function AFe(e,t){const n=e.rank,r=t.length;for(let i=0;i<r;++i)if(n<t[i].rank){this.rerank(e);return}}let TFe=0;function nE(e,t,n){this.id=++TFe,this.value=null,n&&(this.receive=n),e&&(this._filter=e),t&&(this._apply=t)}function hu(e,t,n){return new nE(e,t,n)}nE.prototype={_filter:No,_apply:Ar,targets(){return this._targets||(this._targets=JC(Tv))},consume(e){return arguments.length?(this._consume=!!e,this):!!this._consume},receive(e){if(this._filter(e)){const t=this.value=this._apply(e),n=this._targets,r=n?n.length:0;for(let i=0;i<r;++i)n[i].receive(t);this._consume&&(e.preventDefault(),e.stopPropagation())}},filter(e){const t=hu(e);return this.targets().add(t),t},apply(e){const t=hu(null,e);return this.targets().add(t),t},merge(){const e=hu();this.targets().add(e);for(let t=0,n=arguments.length;t<n;++t)arguments[t].targets().add(e);return e},throttle(e){let t=-1;return this.filter(()=>{const n=Date.now();return n-t>e?(t=n,1):0})},debounce(e){const t=hu();return this.targets().add(hu(null,null,ZR(e,n=>{const r=n.dataflow;t.receive(n),r&&r.run&&r.run()}))),t},between(e,t){let n=!1;return e.targets().add(hu(null,null,()=>n=!0)),t.targets().add(hu(null,null,()=>n=!1)),this.filter(()=>n)},detach(){this._filter=No,this._targets=null}};function PFe(e,t,n,r){const i=this,o=hu(n,r),s=function(u){u.dataflow=i;try{o.receive(u)}catch(c){i.error(c)}finally{i.run()}};let a;typeof e=="string"&&typeof document<"u"?a=document.querySelectorAll(e):a=le(e);const l=a.length;for(let u=0;u<l;++u)a[u].addEventListener(t,s);return o}function MFe(e,t){const n=this.locale();return xee(e,t,n.timeParse,n.utcParse)}function FFe(e,t,n){return t=this.parse(t,n),this.pulse(e,this.changeset().insert(t))}async function RFe(e,t){const n=this;let r=0,i;try{i=await n.loader().load(e,{context:"dataflow",response:bee(t&&t.type)});try{i=n.parse(i,t)}catch(o){r=-2,n.warn("Data ingestion failed",e,o)}}catch(o){r=-1,n.warn("Loading failed",e,o)}return{data:i,status:r}}async function OFe(e,t,n){const r=this,i=r._pending||DFe(r);i.requests+=1;const o=await r.request(t,n);return r.pulse(e,r.changeset().remove(No).insert(o.data||[])),i.done(),o}function DFe(e){let t;const n=new Promise(r=>t=r);return n.requests=0,n.done=()=>{--n.requests===0&&(e._pending=null,t(e))},e._pending=n}const NFe={skip:!0};function LFe(e,t,n,r,i){return(e instanceof kt?zFe:IFe)(this,e,t,n,r,i),this}function IFe(e,t,n,r,i,o){const s=De({},o,NFe);let a,l;Ne(n)||(n=Tr(n)),r===void 0?a=u=>e.touch(n(u)):Ne(r)?(l=new kt(null,r,i,!1),a=u=>{l.evaluate(u);const c=n(u),f=l.value;Cee(f)?e.pulse(c,f,o):e.update(c,f,s)}):a=u=>e.update(n(u),r,s),t.apply(a)}function zFe(e,t,n,r,i,o){if(r===void 0)t.targets().add(n);else{const s=o||{},a=new kt(null,jFe(n,r),i,!1);a.modified(s.force),a.rank=t.rank,t.targets().add(a),n&&(a.skip(!0),a.value=n.value,a.targets().add(n),e.connect(n,[a]))}}function jFe(e,t){return t=Ne(t)?t:Tr(t),e?function(n,r){const i=t(n,r);return e.skip()||(e.skip(i!==this.value).value=i),i}:t}function BFe(e){e.rank=++this._rank}function UFe(e){const t=[e];let n,r,i;for(;t.length;)if(this.rank(n=t.pop()),r=n._targets)for(i=r.length;--i>=0;)t.push(n=r[i]),n===e&&G("Cycle detected in dataflow graph.")}const gS={},Qs=1,xu=2,rl=4,VFe=Qs|xu,uj=Qs|rl,kh=Qs|xu|rl,cj=8,i0=16,fj=32,dj=64;function ic(e,t,n){this.dataflow=e,this.stamp=t??-1,this.add=[],this.rem=[],this.mod=[],this.fields=null,this.encode=n||null}function DA(e,t){const n=[];return bu(e,t,r=>n.push(r)),n}function hj(e,t){const n={};return e.visit(t,r=>{n[be(r)]=1}),r=>n[be(r)]?null:r}function yx(e,t){return e?(n,r)=>e(n,r)&&t(n,r):t}ic.prototype={StopPropagation:gS,ADD:Qs,REM:xu,MOD:rl,ADD_REM:VFe,ADD_MOD:uj,ALL:kh,REFLOW:cj,SOURCE:i0,NO_SOURCE:fj,NO_FIELDS:dj,fork(e){return new ic(this.dataflow).init(this,e)},clone(){const e=this.fork(kh);return e.add=e.add.slice(),e.rem=e.rem.slice(),e.mod=e.mod.slice(),e.source&&(e.source=e.source.slice()),e.materialize(kh|i0)},addAll(){let e=this;return!e.source||e.add===e.rem||!e.rem.length&&e.source.length===e.add.length||(e=new ic(this.dataflow).init(this),e.add=e.source,e.rem=[]),e},init(e,t){const n=this;return n.stamp=e.stamp,n.encode=e.encode,e.fields&&!(t&dj)&&(n.fields=e.fields),t&Qs?(n.addF=e.addF,n.add=e.add):(n.addF=null,n.add=[]),t&xu?(n.remF=e.remF,n.rem=e.rem):(n.remF=null,n.rem=[]),t&rl?(n.modF=e.modF,n.mod=e.mod):(n.modF=null,n.mod=[]),t&fj?(n.srcF=null,n.source=null):(n.srcF=e.srcF,n.source=e.source,e.cleans&&(n.cleans=e.cleans)),n},runAfter(e){this.dataflow.runAfter(e)},changed(e){const t=e||kh;return t&Qs&&this.add.length||t&xu&&this.rem.length||t&rl&&this.mod.length},reflow(e){if(e)return this.fork(kh).reflow();const t=this.add.length,n=this.source&&this.source.length;return n&&n!==t&&(this.mod=this.source,t&&this.filter(rl,hj(this,Qs))),this},clean(e){return arguments.length?(this.cleans=!!e,this):this.cleans},modifies(e){const t=this.fields||(this.fields={});return Y(e)?e.forEach(n=>t[n]=!0):t[e]=!0,this},modified(e,t){const n=this.fields;return(t||this.mod.length)&&n?arguments.length?Y(e)?e.some(r=>n[r]):n[e]:!!n:!1},filter(e,t){const n=this;return e&Qs&&(n.addF=yx(n.addF,t)),e&xu&&(n.remF=yx(n.remF,t)),e&rl&&(n.modF=yx(n.modF,t)),e&i0&&(n.srcF=yx(n.srcF,t)),n},materialize(e){e=e||kh;const t=this;return e&Qs&&t.addF&&(t.add=DA(t.add,t.addF),t.addF=null),e&xu&&t.remF&&(t.rem=DA(t.rem,t.remF),t.remF=null),e&rl&&t.modF&&(t.mod=DA(t.mod,t.modF),t.modF=null),e&i0&&t.srcF&&(t.source=t.source.filter(t.srcF),t.srcF=null),t},visit(e,t){const n=this,r=t;if(e&i0)return bu(n.source,n.srcF,r),n;e&Qs&&bu(n.add,n.addF,r),e&xu&&bu(n.rem,n.remF,r),e&rl&&bu(n.mod,n.modF,r);const i=n.source;if(e&cj&&i){const o=n.add.length+n.mod.length;o===i.length||(o?bu(i,hj(n,uj),r):bu(i,n.srcF,r))}return n}};function yO(e,t,n,r){const i=this;let o=0;this.dataflow=e,this.stamp=t,this.fields=null,this.encode=r||null,this.pulses=n;for(const s of n)if(s.stamp===t){if(s.fields){const a=i.fields||(i.fields={});for(const l in s.fields)a[l]=1}s.changed(i.ADD)&&(o|=i.ADD),s.changed(i.REM)&&(o|=i.REM),s.changed(i.MOD)&&(o|=i.MOD)}this.changes=o}re(yO,ic,{fork(e){const t=new ic(this.dataflow).init(this,e&this.NO_FIELDS);return e!==void 0&&(e&t.ADD&&this.visit(t.ADD,n=>t.add.push(n)),e&t.REM&&this.visit(t.REM,n=>t.rem.push(n)),e&t.MOD&&this.visit(t.MOD,n=>t.mod.push(n))),t},changed(e){return this.changes&e},modified(e){const t=this,n=t.fields;return n&&t.changes&t.MOD?Y(e)?e.some(r=>n[r]):n[e]:0},filter(){G("MultiPulse does not support filtering.")},materialize(){G("MultiPulse does not support materialization.")},visit(e,t){const n=this,r=n.pulses,i=r.length;let o=0;if(e&n.SOURCE)for(;o<i;++o)r[o].visit(e,t);else for(;o<i;++o)r[o].stamp===n.stamp&&r[o].visit(e,t);return n}});async function WFe(e,t,n){const r=this,i=[];if(r._pulse)return Eee(r);if(r._pending&&await r._pending,t&&await zw(r,t),!r._touched.length)return r.debug("Dataflow invoked, but nothing to do."),r;const o=++r._clock;r._pulse=new ic(r,o,e),r._touched.forEach(c=>r._enqueue(c,!0)),r._touched=JC(Tv);let s=0,a,l,u;try{for(;r._heap.size()>0;){if(a=r._heap.pop(),a.rank!==a.qrank){r._enqueue(a,!0);continue}l=a.run(r._getPulse(a,e)),l.then?l=await l:l.async&&(i.push(l.async),l=gS),l!==gS&&a._targets&&a._targets.forEach(c=>r._enqueue(c)),++s}}catch(c){r._heap.clear(),u=c}if(r._input={},r._pulse=null,r.debug(`Pulse ${o}: ${s} operators`),u&&(r._postrun=[],r.error(u)),r._postrun.length){const c=r._postrun.sort((f,d)=>d.priority-f.priority);r._postrun=[];for(let f=0;f<c.length;++f)await zw(r,c[f].callback)}return n&&await zw(r,n),i.length&&Promise.all(i).then(c=>r.runAsync(null,()=>{c.forEach(f=>{try{f(r)}catch(d){r.error(d)}})})),r}async function HFe(e,t,n){for(;this._running;)await this._running;const r=()=>this._running=null;return(this._running=this.evaluate(e,t,n)).then(r,r),this._running}function qFe(e,t,n){return this._pulse?Eee(this):(this.evaluate(e,t,n),this)}function GFe(e,t,n){if(this._pulse||t)this._postrun.push({priority:n||0,callback:e});else try{e(this)}catch(r){this.error(r)}}function Eee(e){return e.error("Dataflow already running. Use runAsync() to chain invocations."),e}function YFe(e,t){const n=e.stamp<this._clock;n&&(e.stamp=this._clock),(n||t)&&(e.qrank=e.rank,this._heap.push(e))}function XFe(e,t){const n=e.source,r=this._clock;return n&&Y(n)?new yO(this,r,n.map(i=>i.pulse),t):this._input[e.id]||KFe(this._pulse,n&&n.pulse)}function KFe(e,t){return t&&t.stamp===e.stamp?t:(e=e.fork(),t&&t!==gS&&(e.source=t.source),e)}const vO={skip:!1,force:!1};function QFe(e,t){const n=t||vO;return this._pulse?this._enqueue(e):this._touched.add(e),n.skip&&e.skip(!0),this}function JFe(e,t,n){const r=n||vO;return(e.set(t)||r.force)&&this.touch(e,r),this}function ZFe(e,t,n){this.touch(e,n||vO);const r=new ic(this,this._clock+(this._pulse?0:1)),i=e.pulse&&e.pulse.source||[];return r.target=e,this._input[e.id]=t.pulse(r,i),this}function e4e(e){let t=[];return{clear:()=>t=[],size:()=>t.length,peek:()=>t[0],push:n=>(t.push(n),_ee(t,0,t.length-1,e)),pop:()=>{const n=t.pop();let r;return t.length?(r=t[0],t[0]=n,t4e(t,0,e)):r=n,r}}}function _ee(e,t,n,r){let i,o;const s=e[n];for(;n>t;){if(o=n-1>>1,i=e[o],r(s,i)<0){e[n]=i,n=o;continue}break}return e[n]=s}function t4e(e,t,n){const r=t,i=e.length,o=e[t];let s=(t<<1)+1,a;for(;s<i;)a=s+1,a<i&&n(e[s],e[a])>=0&&(s=a),e[t]=e[s],t=s,s=(t<<1)+1;return e[t]=o,_ee(e,r,t,n)}function Ap(){this.logger(YR()),this.logLevel(qC),this._clock=0,this._rank=0,this._locale=dO();try{this._loader=QC()}catch{}this._touched=JC(Tv),this._input={},this._pulse=null,this._heap=e4e((e,t)=>e.qrank-t.qrank),this._postrun=[]}function o0(e){return function(){return this._log[e].apply(this,arguments)}}Ap.prototype={stamp(){return this._clock},loader(e){return arguments.length?(this._loader=e,this):this._loader},locale(e){return arguments.length?(this._locale=e,this):this._locale},logger(e){return arguments.length?(this._log=e,this):this._log},error:o0("error"),warn:o0("warn"),info:o0("info"),debug:o0("debug"),logLevel:o0("level"),cleanThreshold:1e4,add:$Fe,connect:AFe,rank:BFe,rerank:UFe,pulse:ZFe,touch:QFe,update:JFe,changeset:Jd,ingest:FFe,parse:MFe,preload:OFe,request:RFe,events:PFe,on:LFe,evaluate:WFe,run:qFe,runAsync:HFe,runAfter:GFe,_enqueue:YFe,_getPulse:XFe};function H(e,t){kt.call(this,e,null,t)}re(H,kt,{run(e){if(e.stamp<this.stamp)return e.StopPropagation;let t;return this.skip()?this.skip(!1):t=this.evaluate(e),t=t||e,t.then?t=t.then(n=>this.pulse=n):t!==e.StopPropagation&&(this.pulse=t),t},evaluate(e){const t=this.marshall(e.stamp),n=this.transform(t,e);return t.clear(),n},transform(){}});const bg={};function $ee(e){const t=Aee(e);return t&&t.Definition||null}function Aee(e){return e=e&&e.toLowerCase(),fe(bg,e)?bg[e]:null}function*Tee(e,t){if(t==null)for(let n of e)n!=null&&n!==""&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)r=t(r,++n,e),r!=null&&r!==""&&(r=+r)>=r&&(yield r)}}function bO(e,t,n){const r=Float64Array.from(Tee(e,n));return r.sort(Cl),t.map(i=>EZ(r,i))}function xO(e,t){return bO(e,[.25,.5,.75],t)}function wO(e,t){const n=e.length,r=cPe(e,t),i=xO(e,t),o=(i[2]-i[0])/1.34;return 1.06*(Math.min(r,o)||r||Math.abs(i[0])||1)*Math.pow(n,-.2)}function Pee(e){const t=e.maxbins||20,n=e.base||10,r=Math.log(n),i=e.divide||[5,2];let o=e.extent[0],s=e.extent[1],a,l,u,c,f,d;const h=e.span||s-o||Math.abs(o)||1;if(e.step)a=e.step;else if(e.steps){for(c=h/t,f=0,d=e.steps.length;f<d&&e.steps[f]<c;++f);a=e.steps[Math.max(0,f-1)]}else{for(l=Math.ceil(Math.log(t)/r),u=e.minstep||0,a=Math.max(u,Math.pow(n,Math.round(Math.log(h)/r)-l));Math.ceil(h/a)>t;)a*=n;for(f=0,d=i.length;f<d;++f)c=a/i[f],c>=u&&h/c<=t&&(a=c)}c=Math.log(a);const p=c>=0?0:~~(-c/r)+1,g=Math.pow(n,-p-1);return(e.nice||e.nice===void 0)&&(c=Math.floor(o/a+g)*a,o=o<c?c-a:c,s=Math.ceil(s/a)*a),{start:o,stop:s===o?o+a:s,step:a}}var Io=Math.random;function n4e(e){Io=e}function Mee(e,t,n,r){if(!e.length)return[void 0,void 0];const i=Float64Array.from(Tee(e,r)),o=i.length,s=t;let a,l,u,c;for(u=0,c=Array(s);u<s;++u){for(a=0,l=0;l<o;++l)a+=i[~~(Io()*o)];c[u]=a/o}return c.sort(Cl),[X3(c,n/2),X3(c,1-n/2)]}function Fee(e,t,n,r){r=r||(d=>d);const i=e.length,o=new Float64Array(i);let s=0,a=1,l=r(e[0]),u=l,c=l+t,f;for(;a<i;++a){if(f=r(e[a]),f>=c){for(u=(l+u)/2;s<a;++s)o[s]=u;c=f+t,l=f}u=f}for(u=(l+u)/2;s<a;++s)o[s]=u;return n?r4e(o,t+t/4):o}function r4e(e,t){const n=e.length;let r=0,i=1,o,s;for(;e[r]===e[i];)++i;for(;i<n;){for(o=i+1;e[i]===e[o];)++o;if(e[i]-e[i-1]<t){for(s=i+(r+o-i-i>>1);s<i;)e[s++]=e[i];for(;s>i;)e[s--]=e[r]}r=i,i=o}return e}function i4e(e){return function(){return e=(1103515245*e+12345)%2147483647,e/2147483647}}function o4e(e,t){t==null&&(t=e,e=0);let n,r,i;const o={min(s){return arguments.length?(n=s||0,i=r-n,o):n},max(s){return arguments.length?(r=s||0,i=r-n,o):r},sample(){return n+Math.floor(i*Io())},pdf(s){return s===Math.floor(s)&&s>=n&&s<r?1/i:0},cdf(s){const a=Math.floor(s);return a<n?0:a>=r?1:(a-n+1)/i},icdf(s){return s>=0&&s<=1?n-1+Math.floor(s*i):NaN}};return o.min(e).max(t)}const Ree=Math.sqrt(2*Math.PI),s4e=Math.SQRT2;let s0=NaN;function rE(e,t){e=e||0,t=t??1;let n=0,r=0,i,o;if(s0===s0)n=s0,s0=NaN;else{do n=Io()*2-1,r=Io()*2-1,i=n*n+r*r;while(i===0||i>1);o=Math.sqrt(-2*Math.log(i)/i),n*=o,s0=r*o}return e+n*t}function SO(e,t,n){n=n??1;const r=(e-(t||0))/n;return Math.exp(-.5*r*r)/(n*Ree)}function iE(e,t,n){t=t||0,n=n??1;const r=(e-t)/n,i=Math.abs(r);let o;if(i>37)o=0;else{const s=Math.exp(-i*i/2);let a;i<7.07106781186547?(a=.0352624965998911*i+.700383064443688,a=a*i+6.37396220353165,a=a*i+33.912866078383,a=a*i+112.079291497871,a=a*i+221.213596169931,a=a*i+220.206867912376,o=s*a,a=.0883883476483184*i+1.75566716318264,a=a*i+16.064177579207,a=a*i+86.7807322029461,a=a*i+296.564248779674,a=a*i+637.333633378831,a=a*i+793.826512519948,a=a*i+440.413735824752,o=o/a):(a=i+.65,a=i+4/a,a=i+3/a,a=i+2/a,a=i+1/a,o=s/a/2.506628274631)}return r>0?1-o:o}function oE(e,t,n){return e<0||e>1?NaN:(t||0)+(n??1)*s4e*a4e(2*e-1)}function a4e(e){let t=-Math.log((1-e)*(1+e)),n;return t<6.25?(t-=3.125,n=-364441206401782e-35,n=-16850591381820166e-35+n*t,n=128584807152564e-32+n*t,n=11157877678025181e-33+n*t,n=-1333171662854621e-31+n*t,n=20972767875968562e-33+n*t,n=6637638134358324e-30+n*t,n=-4054566272975207e-29+n*t,n=-8151934197605472e-29+n*t,n=26335093153082323e-28+n*t,n=-12975133253453532e-27+n*t,n=-5415412054294628e-26+n*t,n=10512122733215323e-25+n*t,n=-4112633980346984e-24+n*t,n=-29070369957882005e-24+n*t,n=42347877827932404e-23+n*t,n=-13654692000834679e-22+n*t,n=-13882523362786469e-21+n*t,n=.00018673420803405714+n*t,n=-.000740702534166267+n*t,n=-.006033670871430149+n*t,n=.24015818242558962+n*t,n=1.6536545626831027+n*t):t<16?(t=Math.sqrt(t)-3.25,n=22137376921775787e-25,n=9075656193888539e-23+n*t,n=-27517406297064545e-23+n*t,n=18239629214389228e-24+n*t,n=15027403968909828e-22+n*t,n=-4013867526981546e-21+n*t,n=29234449089955446e-22+n*t,n=12475304481671779e-21+n*t,n=-47318229009055734e-21+n*t,n=6828485145957318e-20+n*t,n=24031110387097894e-21+n*t,n=-.0003550375203628475+n*t,n=.0009532893797373805+n*t,n=-.0016882755560235047+n*t,n=.002491442096107851+n*t,n=-.003751208507569241+n*t,n=.005370914553590064+n*t,n=1.0052589676941592+n*t,n=3.0838856104922208+n*t):Number.isFinite(t)?(t=Math.sqrt(t)-5,n=-27109920616438573e-27,n=-2555641816996525e-25+n*t,n=15076572693500548e-25+n*t,n=-3789465440126737e-24+n*t,n=761570120807834e-23+n*t,n=-1496002662714924e-23+n*t,n=2914795345090108e-23+n*t,n=-6771199775845234e-23+n*t,n=22900482228026655e-23+n*t,n=-99298272942317e-20+n*t,n=4526062597223154e-21+n*t,n=-1968177810553167e-20+n*t,n=7599527703001776e-20+n*t,n=-.00021503011930044477+n*t,n=-.00013871931833623122+n*t,n=1.0103004648645344+n*t,n=4.849906401408584+n*t):n=1/0,n*e}function kO(e,t){let n,r;const i={mean(o){return arguments.length?(n=o||0,i):n},stdev(o){return arguments.length?(r=o??1,i):r},sample:()=>rE(n,r),pdf:o=>SO(o,n,r),cdf:o=>iE(o,n,r),icdf:o=>oE(o,n,r)};return i.mean(e).stdev(t)}function CO(e,t){const n=kO();let r=0;const i={data(o){return arguments.length?(e=o,r=o?o.length:0,i.bandwidth(t)):e},bandwidth(o){return arguments.length?(t=o,!t&&e&&(t=wO(e)),i):t},sample(){return e[~~(Io()*r)]+t*n.sample()},pdf(o){let s=0,a=0;for(;a<r;++a)s+=n.pdf((o-e[a])/t);return s/t/r},cdf(o){let s=0,a=0;for(;a<r;++a)s+=n.cdf((o-e[a])/t);return s/r},icdf(){throw Error("KDE icdf not supported.")}};return i.data(e)}function EO(e,t){return e=e||0,t=t??1,Math.exp(e+rE()*t)}function _O(e,t,n){if(e<=0)return 0;t=t||0,n=n??1;const r=(Math.log(e)-t)/n;return Math.exp(-.5*r*r)/(n*Ree*e)}function $O(e,t,n){return iE(Math.log(e),t,n)}function AO(e,t,n){return Math.exp(oE(e,t,n))}function Oee(e,t){let n,r;const i={mean(o){return arguments.length?(n=o||0,i):n},stdev(o){return arguments.length?(r=o??1,i):r},sample:()=>EO(n,r),pdf:o=>_O(o,n,r),cdf:o=>$O(o,n,r),icdf:o=>AO(o,n,r)};return i.mean(e).stdev(t)}function Dee(e,t){let n=0,r;function i(s){const a=[];let l=0,u;for(u=0;u<n;++u)l+=a[u]=s[u]==null?1:+s[u];for(u=0;u<n;++u)a[u]/=l;return a}const o={weights(s){return arguments.length?(r=i(t=s||[]),o):t},distributions(s){return arguments.length?(s?(n=s.length,e=s):(n=0,e=[]),o.weights(t)):e},sample(){const s=Io();let a=e[n-1],l=r[0],u=0;for(;u<n-1;l+=r[++u])if(s<l){a=e[u];break}return a.sample()},pdf(s){let a=0,l=0;for(;l<n;++l)a+=r[l]*e[l].pdf(s);return a},cdf(s){let a=0,l=0;for(;l<n;++l)a+=r[l]*e[l].cdf(s);return a},icdf(){throw Error("Mixture icdf not supported.")}};return o.distributions(e).weights(t)}function TO(e,t){return t==null&&(t=e??1,e=0),e+(t-e)*Io()}function PO(e,t,n){return n==null&&(n=t??1,t=0),e>=t&&e<=n?1/(n-t):0}function MO(e,t,n){return n==null&&(n=t??1,t=0),e<t?0:e>n?1:(e-t)/(n-t)}function FO(e,t,n){return n==null&&(n=t??1,t=0),e>=0&&e<=1?t+e*(n-t):NaN}function Nee(e,t){let n,r;const i={min(o){return arguments.length?(n=o||0,i):n},max(o){return arguments.length?(r=o??1,i):r},sample:()=>TO(n,r),pdf:o=>PO(o,n,r),cdf:o=>MO(o,n,r),icdf:o=>FO(o,n,r)};return t==null&&(t=e??1,e=0),i.min(e).max(t)}function RO(e,t,n){let r=0,i=0;for(const o of e){const s=n(o);t(o)==null||s==null||isNaN(s)||(r+=(s-r)/++i)}return{coef:[r],predict:()=>r,rSquared:0}}function Nv(e,t,n,r){const i=r-e*e,o=Math.abs(i)<1e-24?0:(n-e*t)/i;return[t-o*e,o]}function sE(e,t,n,r){e=e.filter(h=>{let p=t(h),g=n(h);return p!=null&&(p=+p)>=p&&g!=null&&(g=+g)>=g}),r&&e.sort((h,p)=>t(h)-t(p));const i=e.length,o=new Float64Array(i),s=new Float64Array(i);let a=0,l=0,u=0,c,f,d;for(d of e)o[a]=c=+t(d),s[a]=f=+n(d),++a,l+=(c-l)/a,u+=(f-u)/a;for(a=0;a<i;++a)o[a]-=l,s[a]-=u;return[o,s,l,u]}function Lv(e,t,n,r){let i=-1,o,s;for(const a of e)o=t(a),s=n(a),o!=null&&(o=+o)>=o&&s!=null&&(s=+s)>=s&&r(o,s,++i)}function gm(e,t,n,r,i){let o=0,s=0;return Lv(e,t,n,(a,l)=>{const u=l-i(a),c=l-r;o+=u*u,s+=c*c}),1-o/s}function OO(e,t,n){let r=0,i=0,o=0,s=0,a=0;Lv(e,t,n,(c,f)=>{++a,r+=(c-r)/a,i+=(f-i)/a,o+=(c*f-o)/a,s+=(c*c-s)/a});const l=Nv(r,i,o,s),u=c=>l[0]+l[1]*c;return{coef:l,predict:u,rSquared:gm(e,t,n,i,u)}}function Lee(e,t,n){let r=0,i=0,o=0,s=0,a=0;Lv(e,t,n,(c,f)=>{++a,c=Math.log(c),r+=(c-r)/a,i+=(f-i)/a,o+=(c*f-o)/a,s+=(c*c-s)/a});const l=Nv(r,i,o,s),u=c=>l[0]+l[1]*Math.log(c);return{coef:l,predict:u,rSquared:gm(e,t,n,i,u)}}function Iee(e,t,n){const[r,i,o,s]=sE(e,t,n);let a=0,l=0,u=0,c=0,f=0,d,h,p;Lv(e,t,n,(v,b)=>{d=r[f++],h=Math.log(b),p=d*b,a+=(b*h-a)/f,l+=(p-l)/f,u+=(p*h-u)/f,c+=(d*p-c)/f});const[g,m]=Nv(l/s,a/s,u/s,c/s),y=v=>Math.exp(g+m*(v-o));return{coef:[Math.exp(g-m*o),m],predict:y,rSquared:gm(e,t,n,s,y)}}function zee(e,t,n){let r=0,i=0,o=0,s=0,a=0,l=0;Lv(e,t,n,(f,d)=>{const h=Math.log(f),p=Math.log(d);++l,r+=(h-r)/l,i+=(p-i)/l,o+=(h*p-o)/l,s+=(h*h-s)/l,a+=(d-a)/l});const u=Nv(r,i,o,s),c=f=>u[0]*Math.pow(f,u[1]);return u[0]=Math.exp(u[0]),{coef:u,predict:c,rSquared:gm(e,t,n,a,c)}}function DO(e,t,n){const[r,i,o,s]=sE(e,t,n),a=r.length;let l=0,u=0,c=0,f=0,d=0,h,p,g,m;for(h=0;h<a;)p=r[h],g=i[h++],m=p*p,l+=(m-l)/h,u+=(m*p-u)/h,c+=(m*m-c)/h,f+=(p*g-f)/h,d+=(m*g-d)/h;const y=c-l*l,v=l*y-u*u,b=(d*l-f*u)/v,x=(f*y-d*u)/v,w=-b*l,k=S=>(S=S-o,b*S*S+x*S+w+s);return{coef:[w-x*o+b*o*o+s,x-2*b*o,b],predict:k,rSquared:gm(e,t,n,s,k)}}function jee(e,t,n,r){if(r===0)return RO(e,t,n);if(r===1)return OO(e,t,n);if(r===2)return DO(e,t,n);const[i,o,s,a]=sE(e,t,n),l=i.length,u=[],c=[],f=r+1;let d,h,p,g,m;for(d=0;d<f;++d){for(p=0,g=0;p<l;++p)g+=Math.pow(i[p],d)*o[p];for(u.push(g),m=new Float64Array(f),h=0;h<f;++h){for(p=0,g=0;p<l;++p)g+=Math.pow(i[p],d+h);m[h]=g}c.push(m)}c.push(u);const y=u4e(c),v=b=>{b-=s;let x=a+y[0]+y[1]*b+y[2]*b*b;for(d=3;d<f;++d)x+=y[d]*Math.pow(b,d);return x};return{coef:l4e(f,y,-s,a),predict:v,rSquared:gm(e,t,n,a,v)}}function l4e(e,t,n,r){const i=Array(e);let o,s,a,l;for(o=0;o<e;++o)i[o]=0;for(o=e-1;o>=0;--o)for(a=t[o],l=1,i[o]+=a,s=1;s<=o;++s)l*=(o+1-s)/s,i[o-s]+=a*Math.pow(n,s)*l;return i[0]+=r,i}function u4e(e){const t=e.length-1,n=[];let r,i,o,s,a;for(r=0;r<t;++r){for(s=r,i=r+1;i<t;++i)Math.abs(e[r][i])>Math.abs(e[r][s])&&(s=i);for(o=r;o<t+1;++o)a=e[o][r],e[o][r]=e[o][s],e[o][s]=a;for(i=r+1;i<t;++i)for(o=t;o>=r;o--)e[o][i]-=e[o][r]*e[r][i]/e[r][r]}for(i=t-1;i>=0;--i){for(a=0,o=i+1;o<t;++o)a+=e[o][i]*n[o];n[i]=(e[t][i]-a)/e[i][i]}return n}const pj=2,gj=1e-12;function Bee(e,t,n,r){const[i,o,s,a]=sE(e,t,n,!0),l=i.length,u=Math.max(2,~~(r*l)),c=new Float64Array(l),f=new Float64Array(l),d=new Float64Array(l).fill(1);for(let h=-1;++h<=pj;){const p=[0,u-1];for(let m=0;m<l;++m){const y=i[m],v=p[0],b=p[1],x=y-i[v]>i[b]-y?v:b;let w=0,k=0,S=0,C=0,E=0;const A=1/Math.abs(i[x]-y||1);for(let F=v;F<=b;++F){const R=i[F],_=o[F],P=c4e(Math.abs(y-R)*A)*d[F],N=R*P;w+=P,k+=N,S+=_*P,C+=_*N,E+=R*N}const[T,L]=Nv(k/w,S/w,C/w,E/w);c[m]=T+L*y,f[m]=Math.abs(o[m]-c[m]),f4e(i,m+1,p)}if(h===pj)break;const g=_Z(f);if(Math.abs(g)<gj)break;for(let m=0,y,v;m<l;++m)y=f[m]/(6*g),d[m]=y>=1?gj:(v=1-y*y)*v}return d4e(i,c,s,a)}function c4e(e){return(e=1-e*e*e)*e*e}function f4e(e,t,n){const r=e[t];let i=n[0],o=n[1]+1;if(!(o>=e.length))for(;t>i&&e[o]-r<=r-e[i];)n[0]=++i,n[1]=o,++o}function d4e(e,t,n,r){const i=e.length,o=[];let s=0,a=0,l=[],u;for(;s<i;++s)u=e[s]+n,l[0]===u?l[1]+=(t[s]-l[1])/++a:(a=0,l[1]+=r,l=[u,t[s]],o.push(l));return l[1]+=r,o}const h4e=.5*Math.PI/180;function aE(e,t,n,r){n=n||25,r=Math.max(n,r||200);const i=g=>[g,e(g)],o=t[0],s=t[1],a=s-o,l=a/r,u=[i(o)],c=[];if(n===r){for(let g=1;g<r;++g)u.push(i(o+g/n*a));return u.push(i(s)),u}else{c.push(i(s));for(let g=n;--g>0;)c.push(i(o+g/n*a))}let f=u[0],d=c[c.length-1];const h=1/a,p=p4e(f[1],c);for(;d;){const g=i((f[0]+d[0])/2);g[0]-f[0]>=l&&g4e(f,g,d,h,p)>h4e?c.push(g):(f=d,u.push(d),c.pop()),d=c[c.length-1]}return u}function p4e(e,t){let n=e,r=e;const i=t.length;for(let o=0;o<i;++o){const s=t[o][1];s<n&&(n=s),s>r&&(r=s)}return 1/(r-n)}function g4e(e,t,n,r,i){const o=Math.atan2(i*(n[1]-e[1]),r*(n[0]-e[0])),s=Math.atan2(i*(t[1]-e[1]),r*(t[0]-e[0]));return Math.abs(o-s)}function m4e(e){return t=>{const n=e.length;let r=1,i=String(e[0](t));for(;r<n;++r)i+="|"+e[r](t);return i}}function oP(e){return!e||!e.length?function(){return""}:e.length===1?e[0]:m4e(e)}function Uee(e,t,n){return n||e+(t?"_"+t:"")}const NA=()=>{},y4e={init:NA,add:NA,rem:NA,idx:0},P1={values:{init:e=>e.cell.store=!0,value:e=>e.cell.data.values(),idx:-1},count:{value:e=>e.cell.num},__count__:{value:e=>e.missing+e.valid},missing:{value:e=>e.missing},valid:{value:e=>e.valid},sum:{init:e=>e.sum=0,value:e=>e.valid?e.sum:void 0,add:(e,t)=>e.sum+=+t,rem:(e,t)=>e.sum-=t},product:{init:e=>e.product=1,value:e=>e.valid?e.product:void 0,add:(e,t)=>e.product*=t,rem:(e,t)=>e.product/=t},mean:{init:e=>e.mean=0,value:e=>e.valid?e.mean:void 0,add:(e,t)=>(e.mean_d=t-e.mean,e.mean+=e.mean_d/e.valid),rem:(e,t)=>(e.mean_d=t-e.mean,e.mean-=e.valid?e.mean_d/e.valid:e.mean)},average:{value:e=>e.valid?e.mean:void 0,req:["mean"],idx:1},variance:{init:e=>e.dev=0,value:e=>e.valid>1?e.dev/(e.valid-1):void 0,add:(e,t)=>e.dev+=e.mean_d*(t-e.mean),rem:(e,t)=>e.dev-=e.mean_d*(t-e.mean),req:["mean"],idx:1},variancep:{value:e=>e.valid>1?e.dev/e.valid:void 0,req:["variance"],idx:2},stdev:{value:e=>e.valid>1?Math.sqrt(e.dev/(e.valid-1)):void 0,req:["variance"],idx:2},stdevp:{value:e=>e.valid>1?Math.sqrt(e.dev/e.valid):void 0,req:["variance"],idx:2},stderr:{value:e=>e.valid>1?Math.sqrt(e.dev/(e.valid*(e.valid-1))):void 0,req:["variance"],idx:2},distinct:{value:e=>e.cell.data.distinct(e.get),req:["values"],idx:3},ci0:{value:e=>e.cell.data.ci0(e.get),req:["values"],idx:3},ci1:{value:e=>e.cell.data.ci1(e.get),req:["values"],idx:3},median:{value:e=>e.cell.data.q2(e.get),req:["values"],idx:3},q1:{value:e=>e.cell.data.q1(e.get),req:["values"],idx:3},q3:{value:e=>e.cell.data.q3(e.get),req:["values"],idx:3},min:{init:e=>e.min=void 0,value:e=>e.min=Number.isNaN(e.min)?e.cell.data.min(e.get):e.min,add:(e,t)=>{(t<e.min||e.min===void 0)&&(e.min=t)},rem:(e,t)=>{t<=e.min&&(e.min=NaN)},req:["values"],idx:4},max:{init:e=>e.max=void 0,value:e=>e.max=Number.isNaN(e.max)?e.cell.data.max(e.get):e.max,add:(e,t)=>{(t>e.max||e.max===void 0)&&(e.max=t)},rem:(e,t)=>{t>=e.max&&(e.max=NaN)},req:["values"],idx:4},argmin:{init:e=>e.argmin=void 0,value:e=>e.argmin||e.cell.data.argmin(e.get),add:(e,t,n)=>{t<e.min&&(e.argmin=n)},rem:(e,t)=>{t<=e.min&&(e.argmin=void 0)},req:["min","values"],idx:3},argmax:{init:e=>e.argmax=void 0,value:e=>e.argmax||e.cell.data.argmax(e.get),add:(e,t,n)=>{t>e.max&&(e.argmax=n)},rem:(e,t)=>{t>=e.max&&(e.argmax=void 0)},req:["max","values"],idx:3},exponential:{init:(e,t)=>{e.exp=0,e.exp_r=t},value:e=>e.valid?e.exp*(1-e.exp_r)/(1-e.exp_r**e.valid):void 0,add:(e,t)=>e.exp=e.exp_r*e.exp+t,rem:(e,t)=>e.exp=(e.exp-t/e.exp_r**(e.valid-1))/e.exp_r},exponentialb:{value:e=>e.valid?e.exp*(1-e.exp_r):void 0,req:["exponential"],idx:1}},Iv=Object.keys(P1).filter(e=>e!=="__count__");function v4e(e,t){return(n,r)=>De({name:e,aggregate_param:r,out:n||e},y4e,t)}[...Iv,"__count__"].forEach(e=>{P1[e]=v4e(e,P1[e])});function Vee(e,t,n){return P1[e](n,t)}function Wee(e,t){return e.idx-t.idx}function b4e(e){const t={};e.forEach(r=>t[r.name]=r);const n=r=>{r.req&&r.req.forEach(i=>{t[i]||n(t[i]=P1[i]())})};return e.forEach(n),Object.values(t).sort(Wee)}function x4e(){this.valid=0,this.missing=0,this._ops.forEach(e=>e.aggregate_param==null?e.init(this):e.init(this,e.aggregate_param))}function w4e(e,t){if(e==null||e===""){++this.missing;return}e===e&&(++this.valid,this._ops.forEach(n=>n.add(this,e,t)))}function S4e(e,t){if(e==null||e===""){--this.missing;return}e===e&&(--this.valid,this._ops.forEach(n=>n.rem(this,e,t)))}function k4e(e){return this._out.forEach(t=>e[t.out]=t.value(this)),e}function Hee(e,t){const n=t||Ar,r=b4e(e),i=e.slice().sort(Wee);function o(s){this._ops=r,this._out=i,this.cell=s,this.init()}return o.prototype.init=x4e,o.prototype.add=w4e,o.prototype.rem=S4e,o.prototype.set=k4e,o.prototype.get=n,o.fields=e.map(s=>s.out),o}function NO(e){this._key=e?Do(e):be,this.reset()}const or=NO.prototype;or.reset=function(){this._add=[],this._rem=[],this._ext=null,this._get=null,this._q=null};or.add=function(e){this._add.push(e)};or.rem=function(e){this._rem.push(e)};or.values=function(){if(this._get=null,this._rem.length===0)return this._add;const e=this._add,t=this._rem,n=this._key,r=e.length,i=t.length,o=Array(r-i),s={};let a,l,u;for(a=0;a<i;++a)s[n(t[a])]=1;for(a=0,l=0;a<r;++a)s[n(u=e[a])]?s[n(u)]=0:o[l++]=u;return this._rem=[],this._add=o};or.distinct=function(e){const t=this.values(),n={};let r=t.length,i=0,o;for(;--r>=0;)o=e(t[r])+"",fe(n,o)||(n[o]=1,++i);return i};or.extent=function(e){if(this._get!==e||!this._ext){const t=this.values(),n=lZ(t,e);this._ext=[t[n[0]],t[n[1]]],this._get=e}return this._ext};or.argmin=function(e){return this.extent(e)[0]||{}};or.argmax=function(e){return this.extent(e)[1]||{}};or.min=function(e){const t=this.extent(e)[0];return t!=null?e(t):void 0};or.max=function(e){const t=this.extent(e)[1];return t!=null?e(t):void 0};or.quartile=function(e){return(this._get!==e||!this._q)&&(this._q=xO(this.values(),e),this._get=e),this._q};or.q1=function(e){return this.quartile(e)[0]};or.q2=function(e){return this.quartile(e)[1]};or.q3=function(e){return this.quartile(e)[2]};or.ci=function(e){return(this._get!==e||!this._ci)&&(this._ci=Mee(this.values(),1e3,.05,e),this._get=e),this._ci};or.ci0=function(e){return this.ci(e)[0]};or.ci1=function(e){return this.ci(e)[1]};function yc(e){H.call(this,null,e),this._adds=[],this._mods=[],this._alen=0,this._mlen=0,this._drop=!0,this._cross=!1,this._dims=[],this._dnames=[],this._measures=[],this._countOnly=!1,this._counts=null,this._prev=null,this._inputs=null,this._outputs=null}yc.Definition={type:"Aggregate",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:Iv},{name:"aggregate_params",type:"number",null:!0,array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"as",type:"string",null:!0,array:!0},{name:"drop",type:"boolean",default:!0},{name:"cross",type:"boolean",default:!1},{name:"key",type:"field"}]};re(yc,H,{transform(e,t){const n=this,r=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=e.modified();return n.stamp=r.stamp,n.value&&(i||t.modified(n._inputs,!0))?(n._prev=n.value,n.value=i?n.init(e):Object.create(null),t.visit(t.SOURCE,o=>n.add(o))):(n.value=n.value||n.init(e),t.visit(t.REM,o=>n.rem(o)),t.visit(t.ADD,o=>n.add(o))),r.modifies(n._outputs),n._drop=e.drop!==!1,e.cross&&n._dims.length>1&&(n._drop=!1,n.cross()),t.clean()&&n._drop&&r.clean(!0).runAfter(()=>this.clean()),n.changes(r)},cross(){const e=this,t=e.value,n=e._dnames,r=n.map(()=>({})),i=n.length;function o(a){let l,u,c,f;for(l in a)for(c=a[l].tuple,u=0;u<i;++u)r[u][f=c[n[u]]]=f}o(e._prev),o(t);function s(a,l,u){const c=n[u],f=r[u++];for(const d in f){const h=a?a+"|"+d:d;l[c]=f[d],u<i?s(h,l,u):t[h]||e.cell(h,l)}}s("",{},0)},init(e){const t=this._inputs=[],n=this._outputs=[],r={};function i(v){const b=le(kr(v)),x=b.length;let w=0,k;for(;w<x;++w)r[k=b[w]]||(r[k]=1,t.push(k))}this._dims=le(e.groupby),this._dnames=this._dims.map(v=>{const b=tn(v);return i(v),n.push(b),b}),this.cellkey=e.key?e.key:oP(this._dims),this._countOnly=!0,this._counts=[],this._measures=[];const o=e.fields||[null],s=e.ops||["count"],a=e.aggregate_params||[null],l=e.as||[],u=o.length,c={};let f,d,h,p,g,m,y;for(u!==s.length&&G("Unmatched number of fields and aggregate ops."),y=0;y<u;++y){if(f=o[y],d=s[y],h=a[y]||null,f==null&&d!=="count"&&G("Null aggregate field specified."),g=tn(f),m=Uee(d,g,l[y]),n.push(m),d==="count"){this._counts.push(m);continue}p=c[g],p||(i(f),p=c[g]=[],p.field=f,this._measures.push(p)),d!=="count"&&(this._countOnly=!1),p.push(Vee(d,h,m))}return this._measures=this._measures.map(v=>Hee(v,v.field)),Object.create(null)},cellkey:oP(),cell(e,t){let n=this.value[e];return n?n.num===0&&this._drop&&n.stamp<this.stamp?(n.stamp=this.stamp,this._adds[this._alen++]=n):n.stamp<this.stamp&&(n.stamp=this.stamp,this._mods[this._mlen++]=n):(n=this.value[e]=this.newcell(e,t),this._adds[this._alen++]=n),n},newcell(e,t){const n={key:e,num:0,agg:null,tuple:this.newtuple(t,this._prev&&this._prev[e]),stamp:this.stamp,store:!1};if(!this._countOnly){const r=this._measures,i=r.length;n.agg=Array(i);for(let o=0;o<i;++o)n.agg[o]=new r[o](n)}return n.store&&(n.data=new NO),n},newtuple(e,t){const n=this._dnames,r=this._dims,i=r.length,o={};for(let s=0;s<i;++s)o[n[s]]=r[s](e);return t?kee(t.tuple,o):at(o)},clean(){const e=this.value;for(const t in e)e[t].num===0&&delete e[t]},add(e){const t=this.cellkey(e),n=this.cell(t,e);if(n.num+=1,this._countOnly)return;n.store&&n.data.add(e);const r=n.agg;for(let i=0,o=r.length;i<o;++i)r[i].add(r[i].get(e),e)},rem(e){const t=this.cellkey(e),n=this.cell(t,e);if(n.num-=1,this._countOnly)return;n.store&&n.data.rem(e);const r=n.agg;for(let i=0,o=r.length;i<o;++i)r[i].rem(r[i].get(e),e)},celltuple(e){const t=e.tuple,n=this._counts;e.store&&e.data.values();for(let r=0,i=n.length;r<i;++r)t[n[r]]=e.num;if(!this._countOnly){const r=e.agg;for(let i=0,o=r.length;i<o;++i)r[i].set(t)}return t},changes(e){const t=this._adds,n=this._mods,r=this._prev,i=this._drop,o=e.add,s=e.rem,a=e.mod;let l,u,c,f;if(r)for(u in r)l=r[u],(!i||l.num)&&s.push(l.tuple);for(c=0,f=this._alen;c<f;++c)o.push(this.celltuple(t[c])),t[c]=null;for(c=0,f=this._mlen;c<f;++c)l=n[c],(l.num===0&&i?s:a).push(this.celltuple(l)),n[c]=null;return this._alen=this._mlen=0,this._prev=null,e}});const C4e=1e-14;function LO(e){H.call(this,null,e)}LO.Definition={type:"Bin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean",default:!0},{name:"anchor",type:"number"},{name:"maxbins",type:"number",default:20},{name:"base",type:"number",default:10},{name:"divide",type:"number",array:!0,default:[5,2]},{name:"extent",type:"number",array:!0,length:2,required:!0},{name:"span",type:"number"},{name:"step",type:"number"},{name:"steps",type:"number",array:!0},{name:"minstep",type:"number",default:0},{name:"nice",type:"boolean",default:!0},{name:"name",type:"string"},{name:"as",type:"string",array:!0,length:2,default:["bin0","bin1"]}]};re(LO,H,{transform(e,t){const n=e.interval!==!1,r=this._bins(e),i=r.start,o=r.step,s=e.as||["bin0","bin1"],a=s[0],l=s[1];let u;return e.modified()?(t=t.reflow(!0),u=t.SOURCE):u=t.modified(kr(e.field))?t.ADD_MOD:t.ADD,t.visit(u,n?c=>{const f=r(c);c[a]=f,c[l]=f==null?null:i+o*(1+(f-i)/o)}:c=>c[a]=r(c)),t.modifies(n?s:a)},_bins(e){if(this.value&&!e.modified())return this.value;const t=e.field,n=Pee(e),r=n.step;let i=n.start,o=i+Math.ceil((n.stop-i)/r)*r,s,a;(s=e.anchor)!=null&&(a=s-(i+r*Math.floor((s-i)/r)),i+=a,o+=a);const l=function(u){let c=wr(t(u));return c==null?null:c<i?-1/0:c>o?1/0:(c=Math.max(i,Math.min(c,o-r)),i+r*Math.floor(C4e+(c-i)/r))};return l.start=i,l.stop=n.stop,l.step=r,this.value=$i(l,kr(t),e.name||"bin_"+tn(t))}});function qee(e,t,n){const r=e;let i=t||[],o=n||[],s={},a=0;return{add:l=>o.push(l),remove:l=>s[r(l)]=++a,size:()=>i.length,data:(l,u)=>(a&&(i=i.filter(c=>!s[r(c)]),s={},a=0),u&&l&&i.sort(l),o.length&&(i=l?pZ(l,i,o.sort(l)):i.concat(o),o=[]),i)}}function IO(e){H.call(this,[],e)}IO.Definition={type:"Collect",metadata:{source:!0},params:[{name:"sort",type:"compare"}]};re(IO,H,{transform(e,t){const n=t.fork(t.ALL),r=qee(be,this.value,n.materialize(n.ADD).add),i=e.sort,o=t.changed()||i&&(e.modified("sort")||t.modified(i.fields));return n.visit(n.REM,r.remove),this.modified(o),this.value=n.source=r.data(Qd(i),o),t.source&&t.source.root&&(this.value.root=t.source.root),n}});function Gee(e){kt.call(this,null,E4e,e)}re(Gee,kt);function E4e(e){return this.value&&!e.modified()?this.value:JR(e.fields,e.orders)}function zO(e){H.call(this,null,e)}zO.Definition={type:"CountPattern",metadata:{generates:!0,changes:!0},params:[{name:"field",type:"field",required:!0},{name:"case",type:"enum",values:["upper","lower","mixed"],default:"mixed"},{name:"pattern",type:"string",default:'[\\w"]+'},{name:"stopwords",type:"string",default:""},{name:"as",type:"string",array:!0,length:2,default:["text","count"]}]};function _4e(e,t,n){switch(t){case"upper":e=e.toUpperCase();break;case"lower":e=e.toLowerCase();break}return e.match(n)}re(zO,H,{transform(e,t){const n=f=>d=>{for(var h=_4e(a(d),e.case,o)||[],p,g=0,m=h.length;g<m;++g)s.test(p=h[g])||f(p)},r=this._parameterCheck(e,t),i=this._counts,o=this._match,s=this._stop,a=e.field,l=e.as||["text","count"],u=n(f=>i[f]=1+(i[f]||0)),c=n(f=>i[f]-=1);return r?t.visit(t.SOURCE,u):(t.visit(t.ADD,u),t.visit(t.REM,c)),this._finish(t,l)},_parameterCheck(e,t){let n=!1;return(e.modified("stopwords")||!this._stop)&&(this._stop=new RegExp("^"+(e.stopwords||"")+"$","i"),n=!0),(e.modified("pattern")||!this._match)&&(this._match=new RegExp(e.pattern||"[\\w']+","g"),n=!0),(e.modified("field")||t.modified(e.field.fields))&&(n=!0),n&&(this._counts={}),n},_finish(e,t){const n=this._counts,r=this._tuples||(this._tuples={}),i=t[0],o=t[1],s=e.fork(e.NO_SOURCE|e.NO_FIELDS);let a,l,u;for(a in n)l=r[a],u=n[a]||0,!l&&u?(r[a]=l=at({}),l[i]=a,l[o]=u,s.add.push(l)):u===0?(l&&s.rem.push(l),n[a]=null,r[a]=null):l[o]!==u&&(l[o]=u,s.mod.push(l));return s.modifies(t)}});function jO(e){H.call(this,null,e)}jO.Definition={type:"Cross",metadata:{generates:!0},params:[{name:"filter",type:"expr"},{name:"as",type:"string",array:!0,length:2,default:["a","b"]}]};re(jO,H,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.as||["a","b"],i=r[0],o=r[1],s=!this.value||t.changed(t.ADD_REM)||e.modified("as")||e.modified("filter");let a=this.value;return s?(a&&(n.rem=a),a=t.materialize(t.SOURCE).source,n.add=this.value=$4e(a,i,o,e.filter||No)):n.mod=a,n.source=this.value,n.modifies(r)}});function $4e(e,t,n,r){for(var i=[],o={},s=e.length,a=0,l,u;a<s;++a)for(o[t]=u=e[a],l=0;l<s;++l)o[n]=e[l],r(o)&&(i.push(at(o)),o={},o[t]=u);return i}const mj={kde:CO,mixture:Dee,normal:kO,lognormal:Oee,uniform:Nee},A4e="distributions",yj="function",T4e="field";function Yee(e,t){const n=e[yj];fe(mj,n)||G("Unknown distribution function: "+n);const r=mj[n]();for(const i in e)i===T4e?r.data((e.from||t()).map(e[i])):i===A4e?r[i](e[i].map(o=>Yee(o,t))):typeof r[i]===yj&&r[i](e[i]);return r}function BO(e){H.call(this,null,e)}const Xee=[{key:{function:"normal"},params:[{name:"mean",type:"number",default:0},{name:"stdev",type:"number",default:1}]},{key:{function:"lognormal"},params:[{name:"mean",type:"number",default:0},{name:"stdev",type:"number",default:1}]},{key:{function:"uniform"},params:[{name:"min",type:"number",default:0},{name:"max",type:"number",default:1}]},{key:{function:"kde"},params:[{name:"field",type:"field",required:!0},{name:"from",type:"data"},{name:"bandwidth",type:"number",default:0}]}],P4e={key:{function:"mixture"},params:[{name:"distributions",type:"param",array:!0,params:Xee},{name:"weights",type:"number",array:!0}]};BO.Definition={type:"Density",metadata:{generates:!0},params:[{name:"extent",type:"number",array:!0,length:2},{name:"steps",type:"number"},{name:"minsteps",type:"number",default:25},{name:"maxsteps",type:"number",default:200},{name:"method",type:"string",default:"pdf",values:["pdf","cdf"]},{name:"distribution",type:"param",params:Xee.concat(P4e)},{name:"as",type:"string",array:!0,default:["value","density"]}]};re(BO,H,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const r=Yee(e.distribution,M4e(t)),i=e.steps||e.minsteps||25,o=e.steps||e.maxsteps||200;let s=e.method||"pdf";s!=="pdf"&&s!=="cdf"&&G("Invalid density method: "+s),!e.extent&&!r.data&&G("Missing density extent parameter."),s=r[s];const a=e.as||["value","density"],l=e.extent||Aa(r.data()),u=aE(s,l,i,o).map(c=>{const f={};return f[a[0]]=c[0],f[a[1]]=c[1],at(f)});this.value&&(n.rem=this.value),this.value=n.add=n.source=u}return n}});function M4e(e){return()=>e.materialize(e.SOURCE).source}function Kee(e,t){return e?e.map((n,r)=>t[r]||tn(n)):null}function UO(e,t,n){const r=[],i=f=>f(l);let o,s,a,l,u,c;if(t==null)r.push(e.map(n));else for(o={},s=0,a=e.length;s<a;++s)l=e[s],u=t.map(i),c=o[u],c||(o[u]=c=[],c.dims=u,r.push(c)),c.push(n(l));return r}const Qee="bin";function VO(e){H.call(this,null,e)}VO.Definition={type:"DotBin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"step",type:"number"},{name:"smooth",type:"boolean",default:!1},{name:"as",type:"string",default:Qee}]};const F4e=(e,t)=>Pv(Aa(e,t))/30;re(VO,H,{transform(e,t){if(this.value&&!(e.modified()||t.changed()))return t;const n=t.materialize(t.SOURCE).source,r=UO(t.source,e.groupby,Ar),i=e.smooth||!1,o=e.field,s=e.step||F4e(n,o),a=Qd((p,g)=>o(p)-o(g)),l=e.as||Qee,u=r.length;let c=1/0,f=-1/0,d=0,h;for(;d<u;++d){const p=r[d].sort(a);h=-1;for(const g of Fee(p,s,i,o))g<c&&(c=g),g>f&&(f=g),p[++h][l]=g}return this.value={start:c,stop:f,step:s},t.reflow(!0).modifies(l)}});function Jee(e){kt.call(this,null,R4e,e),this.modified(!0)}re(Jee,kt);function R4e(e){const t=e.expr;return this.value&&!e.modified("expr")?this.value:$i(n=>t(n,e),kr(t),tn(t))}function WO(e){H.call(this,[void 0,void 0],e)}WO.Definition={type:"Extent",metadata:{},params:[{name:"field",type:"field",required:!0}]};re(WO,H,{transform(e,t){const n=this.value,r=e.field,i=t.changed()||t.modified(r.fields)||e.modified("field");let o=n[0],s=n[1];if((i||o==null)&&(o=1/0,s=-1/0),t.visit(i?t.SOURCE:t.ADD,a=>{const l=wr(r(a));l!=null&&(l<o&&(o=l),l>s&&(s=l))}),!Number.isFinite(o)||!Number.isFinite(s)){let a=tn(r);a&&(a=` for field "${a}"`),t.dataflow.warn(`Infinite extent${a}: [${o}, ${s}]`),o=s=void 0}this.value=[o,s]}});function HO(e,t){kt.call(this,e),this.parent=t,this.count=0}re(HO,kt,{connect(e){return this.detachSubflow=e.detachSubflow,this.targets().add(e),e.source=this},add(e){this.count+=1,this.value.add.push(e)},rem(e){this.count-=1,this.value.rem.push(e)},mod(e){this.value.mod.push(e)},init(e){this.value.init(e,e.NO_SOURCE)},evaluate(){return this.value}});function lE(e){H.call(this,{},e),this._keys=fm();const t=this._targets=[];t.active=0,t.forEach=n=>{for(let r=0,i=t.active;r<i;++r)n(t[r],r,t)}}re(lE,H,{activate(e){this._targets[this._targets.active++]=e},subflow(e,t,n,r){const i=this.value;let o=fe(i,e)&&i[e],s,a;return o?o.value.stamp<n.stamp&&(o.init(n),this.activate(o)):(a=r||(a=this._group[e])&&a.tuple,s=n.dataflow,o=new HO(n.fork(n.NO_SOURCE),this),s.add(o).connect(t(s,e,a)),i[e]=o,this.activate(o)),o},clean(){const e=this.value;let t=0;for(const n in e)if(e[n].count===0){const r=e[n].detachSubflow;r&&r(),delete e[n],++t}if(t){const n=this._targets.filter(r=>r&&r.count>0);this.initTargets(n)}},initTargets(e){const t=this._targets,n=t.length,r=e?e.length:0;let i=0;for(;i<r;++i)t[i]=e[i];for(;i<n&&t[i]!=null;++i)t[i]=null;t.active=r},transform(e,t){const n=t.dataflow,r=e.key,i=e.subflow,o=this._keys,s=e.modified("key"),a=l=>this.subflow(l,i,t);return this._group=e.group||{},this.initTargets(),t.visit(t.REM,l=>{const u=be(l),c=o.get(u);c!==void 0&&(o.delete(u),a(c).rem(l))}),t.visit(t.ADD,l=>{const u=r(l);o.set(be(l),u),a(u).add(l)}),s||t.modified(r.fields)?t.visit(t.MOD,l=>{const u=be(l),c=o.get(u),f=r(l);c===f?a(f).mod(l):(o.set(u,f),a(c).rem(l),a(f).add(l))}):t.changed(t.MOD)&&t.visit(t.MOD,l=>{a(o.get(be(l))).mod(l)}),s&&t.visit(t.REFLOW,l=>{const u=be(l),c=o.get(u),f=r(l);c!==f&&(o.set(u,f),a(c).rem(l),a(f).add(l))}),t.clean()?n.runAfter(()=>{this.clean(),o.clean()}):o.empty>n.cleanThreshold&&n.runAfter(o.clean),t}});function Zee(e){kt.call(this,null,O4e,e)}re(Zee,kt);function O4e(e){return this.value&&!e.modified()?this.value:Y(e.name)?le(e.name).map(t=>Do(t)):Do(e.name,e.as)}function qO(e){H.call(this,fm(),e)}qO.Definition={type:"Filter",metadata:{changes:!0},params:[{name:"expr",type:"expr",required:!0}]};re(qO,H,{transform(e,t){const n=t.dataflow,r=this.value,i=t.fork(),o=i.add,s=i.rem,a=i.mod,l=e.expr;let u=!0;t.visit(t.REM,f=>{const d=be(f);r.has(d)?r.delete(d):s.push(f)}),t.visit(t.ADD,f=>{l(f,e)?o.push(f):r.set(be(f),1)});function c(f){const d=be(f),h=l(f,e),p=r.get(d);h&&p?(r.delete(d),o.push(f)):!h&&!p?(r.set(d,1),s.push(f)):u&&h&&!p&&a.push(f)}return t.visit(t.MOD,c),e.modified()&&(u=!1,t.visit(t.REFLOW,c)),r.empty>n.cleanThreshold&&n.runAfter(r.clean),i}});function GO(e){H.call(this,[],e)}GO.Definition={type:"Flatten",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"index",type:"string"},{name:"as",type:"string",array:!0}]};re(GO,H,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.fields,i=Kee(r,e.as||[]),o=e.index||null,s=i.length;return n.rem=this.value,t.visit(t.SOURCE,a=>{const l=r.map(p=>p(a)),u=l.reduce((p,g)=>Math.max(p,g.length),0);let c=0,f,d,h;for(;c<u;++c){for(d=mO(a),f=0;f<s;++f)d[i[f]]=(h=l[f][c])==null?null:h;o&&(d[o]=c),n.add.push(d)}}),this.value=n.source=n.add,o&&n.modifies(o),n.modifies(i)}});function YO(e){H.call(this,[],e)}YO.Definition={type:"Fold",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0,length:2,default:["key","value"]}]};re(YO,H,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.fields,i=r.map(tn),o=e.as||["key","value"],s=o[0],a=o[1],l=r.length;return n.rem=this.value,t.visit(t.SOURCE,u=>{for(let c=0,f;c<l;++c)f=mO(u),f[s]=i[c],f[a]=r[c](u),n.add.push(f)}),this.value=n.source=n.add,n.modifies(o)}});function XO(e){H.call(this,null,e)}XO.Definition={type:"Formula",metadata:{modifies:!0},params:[{name:"expr",type:"expr",required:!0},{name:"as",type:"string",required:!0},{name:"initonly",type:"boolean"}]};re(XO,H,{transform(e,t){const n=e.expr,r=e.as,i=e.modified(),o=e.initonly?t.ADD:i?t.SOURCE:t.modified(n.fields)||t.modified(r)?t.ADD_MOD:t.ADD;return i&&(t=t.materialize().reflow(!0)),e.initonly||t.modifies(r),t.visit(o,s=>s[r]=n(s,e))}});function ete(e){H.call(this,[],e)}re(ete,H,{transform(e,t){const n=t.fork(t.ALL),r=e.generator;let i=this.value,o=e.size-i.length,s,a,l;if(o>0){for(s=[];--o>=0;)s.push(l=at(r(e))),i.push(l);n.add=n.add.length?n.materialize(n.ADD).add.concat(s):s}else a=i.slice(0,-o),n.rem=n.rem.length?n.materialize(n.REM).rem.concat(a):a,i=i.slice(-o);return n.source=this.value=i,n}});const vx={value:"value",median:_Z,mean:mPe,min:Y3,max:ed},D4e=[];function KO(e){H.call(this,[],e)}KO.Definition={type:"Impute",metadata:{changes:!0},params:[{name:"field",type:"field",required:!0},{name:"key",type:"field",required:!0},{name:"keyvals",array:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"enum",default:"value",values:["value","mean","median","max","min"]},{name:"value",default:0}]};function N4e(e){var t=e.method||vx.value,n;if(vx[t]==null)G("Unrecognized imputation method: "+t);else return t===vx.value?(n=e.value!==void 0?e.value:0,()=>n):vx[t]}function L4e(e){const t=e.field;return n=>n?t(n):NaN}re(KO,H,{transform(e,t){var n=t.fork(t.ALL),r=N4e(e),i=L4e(e),o=tn(e.field),s=tn(e.key),a=(e.groupby||[]).map(tn),l=I4e(t.source,e.groupby,e.key,e.keyvals),u=[],c=this.value,f=l.domain.length,d,h,p,g,m,y,v,b,x,w;for(m=0,b=l.length;m<b;++m)for(d=l[m],p=d.values,h=NaN,v=0;v<f;++v)if(d[v]==null){for(g=l.domain[v],w={_impute:!0},y=0,x=p.length;y<x;++y)w[a[y]]=p[y];w[s]=g,w[o]=Number.isNaN(h)?h=r(d,i):h,u.push(at(w))}return u.length&&(n.add=n.materialize(n.ADD).add.concat(u)),c.length&&(n.rem=n.materialize(n.REM).rem.concat(c)),this.value=u,n}});function I4e(e,t,n,r){var i=y=>y(m),o=[],s=r?r.slice():[],a={},l={},u,c,f,d,h,p,g,m;for(s.forEach((y,v)=>a[y]=v+1),d=0,g=e.length;d<g;++d)m=e[d],p=n(m),h=a[p]||(a[p]=s.push(p)),c=(u=t?t.map(i):D4e)+"",(f=l[c])||(f=l[c]=[],o.push(f),f.values=u),f[h-1]=m;return o.domain=s,o}function QO(e){yc.call(this,e)}QO.Definition={type:"JoinAggregate",metadata:{modifies:!0},params:[{name:"groupby",type:"field",array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"ops",type:"enum",array:!0,values:Iv},{name:"as",type:"string",null:!0,array:!0},{name:"key",type:"field"}]};re(QO,yc,{transform(e,t){const n=this,r=e.modified();let i;return n.value&&(r||t.modified(n._inputs,!0))?(i=n.value=r?n.init(e):{},t.visit(t.SOURCE,o=>n.add(o))):(i=n.value=n.value||this.init(e),t.visit(t.REM,o=>n.rem(o)),t.visit(t.ADD,o=>n.add(o))),n.changes(),t.visit(t.SOURCE,o=>{De(o,i[n.cellkey(o)].tuple)}),t.reflow(r).modifies(this._outputs)},changes(){const e=this._adds,t=this._mods;let n,r;for(n=0,r=this._alen;n<r;++n)this.celltuple(e[n]),e[n]=null;for(n=0,r=this._mlen;n<r;++n)this.celltuple(t[n]),t[n]=null;this._alen=this._mlen=0}});function JO(e){H.call(this,null,e)}JO.Definition={type:"KDE",metadata:{generates:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"cumulative",type:"boolean",default:!1},{name:"counts",type:"boolean",default:!1},{name:"bandwidth",type:"number",default:0},{name:"extent",type:"number",array:!0,length:2},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"steps",type:"number"},{name:"minsteps",type:"number",default:25},{name:"maxsteps",type:"number",default:200},{name:"as",type:"string",array:!0,default:["value","density"]}]};re(JO,H,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const r=t.materialize(t.SOURCE).source,i=UO(r,e.groupby,e.field),o=(e.groupby||[]).map(tn),s=e.bandwidth,a=e.cumulative?"cdf":"pdf",l=e.as||["value","density"],u=[];let c=e.extent,f=e.steps||e.minsteps||25,d=e.steps||e.maxsteps||200;a!=="pdf"&&a!=="cdf"&&G("Invalid density method: "+a),e.resolve==="shared"&&(c||(c=Aa(r,e.field)),f=d=e.steps||d),i.forEach(h=>{const p=CO(h,s)[a],g=e.counts?h.length:1,m=c||Aa(h);aE(p,m,f,d).forEach(y=>{const v={};for(let b=0;b<o.length;++b)v[o[b]]=h.dims[b];v[l[0]]=y[0],v[l[1]]=y[1]*g,u.push(at(v))})}),this.value&&(n.rem=this.value),this.value=n.add=n.source=u}return n}});function tte(e){kt.call(this,null,z4e,e)}re(tte,kt);function z4e(e){return this.value&&!e.modified()?this.value:eO(e.fields,e.flat)}function nte(e){H.call(this,[],e),this._pending=null}re(nte,H,{transform(e,t){const n=t.dataflow;return this._pending?LA(this,t,this._pending):j4e(e)?t.StopPropagation:e.values?LA(this,t,n.parse(e.values,e.format)):e.async?{async:n.request(e.url,e.format).then(i=>(this._pending=le(i.data),o=>o.touch(this)))}:n.request(e.url,e.format).then(r=>LA(this,t,le(r.data)))}});function j4e(e){return e.modified("async")&&!(e.modified("values")||e.modified("url")||e.modified("format"))}function LA(e,t,n){n.forEach(at);const r=t.fork(t.NO_FIELDS&t.NO_SOURCE);return r.rem=e.value,e.value=r.source=r.add=n,e._pending=null,r.rem.length&&r.clean(!0),r}function ZO(e){H.call(this,{},e)}ZO.Definition={type:"Lookup",metadata:{modifies:!0},params:[{name:"index",type:"index",params:[{name:"from",type:"data",required:!0},{name:"key",type:"field",required:!0}]},{name:"values",type:"field",array:!0},{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0},{name:"default",default:null}]};re(ZO,H,{transform(e,t){const n=e.fields,r=e.index,i=e.values,o=e.default==null?null:e.default,s=e.modified(),a=n.length;let l=s?t.SOURCE:t.ADD,u=t,c=e.as,f,d,h;return i?(d=i.length,a>1&&!c&&G('Multi-field lookup requires explicit "as" parameter.'),c&&c.length!==a*d&&G('The "as" parameter has too few output field names.'),c=c||i.map(tn),f=function(p){for(var g=0,m=0,y,v;g<a;++g)if(v=r.get(n[g](p)),v==null)for(y=0;y<d;++y,++m)p[c[m]]=o;else for(y=0;y<d;++y,++m)p[c[m]]=i[y](v)}):(c||G("Missing output field names."),f=function(p){for(var g=0,m;g<a;++g)m=r.get(n[g](p)),p[c[g]]=m??o}),s?u=t.reflow(!0):(h=n.some(p=>t.modified(p.fields)),l|=h?t.MOD:0),t.visit(l,f),u.modifies(c)}});function rte(e){kt.call(this,null,B4e,e)}re(rte,kt);function B4e(e){if(this.value&&!e.modified())return this.value;const t=e.extents,n=t.length;let r=1/0,i=-1/0,o,s;for(o=0;o<n;++o)s=t[o],s[0]<r&&(r=s[0]),s[1]>i&&(i=s[1]);return[r,i]}function ite(e){kt.call(this,null,U4e,e)}re(ite,kt);function U4e(e){return this.value&&!e.modified()?this.value:e.values.reduce((t,n)=>t.concat(n),[])}function ote(e){H.call(this,null,e)}re(ote,H,{transform(e,t){return this.modified(e.modified()),this.value=e,t.fork(t.NO_SOURCE|t.NO_FIELDS)}});function eD(e){yc.call(this,e)}eD.Definition={type:"Pivot",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"value",type:"field",required:!0},{name:"op",type:"enum",values:Iv,default:"sum"},{name:"limit",type:"number",default:0},{name:"key",type:"field"}]};re(eD,yc,{_transform:yc.prototype.transform,transform(e,t){return this._transform(V4e(e,t),t)}});function V4e(e,t){const n=e.field,r=e.value,i=(e.op==="count"?"__count__":e.op)||"sum",o=kr(n).concat(kr(r)),s=H4e(n,e.limit||0,t);return t.changed()&&e.set("__pivot__",null,null,!0),{key:e.key,groupby:e.groupby,ops:s.map(()=>i),fields:s.map(a=>W4e(a,n,r,o)),as:s.map(a=>a+""),modified:e.modified.bind(e)}}function W4e(e,t,n,r){return $i(i=>t(i)===e?n(i):NaN,r,e+"")}function H4e(e,t,n){const r={},i=[];return n.visit(n.SOURCE,o=>{const s=e(o);r[s]||(r[s]=1,i.push(s))}),i.sort(XC),t?i.slice(0,t):i}function ste(e){lE.call(this,e)}re(ste,lE,{transform(e,t){const n=e.subflow,r=e.field,i=o=>this.subflow(be(o),n,t,o);return(e.modified("field")||r&&t.modified(kr(r)))&&G("PreFacet does not support field modification."),this.initTargets(),r?(t.visit(t.MOD,o=>{const s=i(o);r(o).forEach(a=>s.mod(a))}),t.visit(t.ADD,o=>{const s=i(o);r(o).forEach(a=>s.add(at(a)))}),t.visit(t.REM,o=>{const s=i(o);r(o).forEach(a=>s.rem(a))})):(t.visit(t.MOD,o=>i(o).mod(o)),t.visit(t.ADD,o=>i(o).add(o)),t.visit(t.REM,o=>i(o).rem(o))),t.clean()&&t.runAfter(()=>this.clean()),t}});function tD(e){H.call(this,null,e)}tD.Definition={type:"Project",metadata:{generates:!0,changes:!0},params:[{name:"fields",type:"field",array:!0},{name:"as",type:"string",null:!0,array:!0}]};re(tD,H,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.fields,i=Kee(e.fields,e.as||[]),o=r?(a,l)=>q4e(a,l,r,i):eE;let s;return this.value?s=this.value:(t=t.addAll(),s=this.value={}),t.visit(t.REM,a=>{const l=be(a);n.rem.push(s[l]),s[l]=null}),t.visit(t.ADD,a=>{const l=o(a,at({}));s[be(a)]=l,n.add.push(l)}),t.visit(t.MOD,a=>{n.mod.push(o(a,s[be(a)]))}),n}});function q4e(e,t,n,r){for(let i=0,o=n.length;i<o;++i)t[r[i]]=n[i](e);return t}function ate(e){H.call(this,null,e)}re(ate,H,{transform(e,t){return this.value=e.value,e.modified("value")?t.fork(t.NO_SOURCE|t.NO_FIELDS):t.StopPropagation}});function nD(e){H.call(this,null,e)}nD.Definition={type:"Quantile",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"probs",type:"number",array:!0},{name:"step",type:"number",default:.01},{name:"as",type:"string",array:!0,default:["prob","value"]}]};const G4e=1e-14;re(nD,H,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=e.as||["prob","value"];if(this.value&&!e.modified()&&!t.changed())return n.source=this.value,n;const i=t.materialize(t.SOURCE).source,o=UO(i,e.groupby,e.field),s=(e.groupby||[]).map(tn),a=[],l=e.step||.01,u=e.probs||Bi(l/2,1-G4e,l),c=u.length;return o.forEach(f=>{const d=bO(f,u);for(let h=0;h<c;++h){const p={};for(let g=0;g<s.length;++g)p[s[g]]=f.dims[g];p[r[0]]=u[h],p[r[1]]=d[h],a.push(at(p))}}),this.value&&(n.rem=this.value),this.value=n.add=n.source=a,n}});function lte(e){H.call(this,null,e)}re(lte,H,{transform(e,t){let n,r;return this.value?r=this.value:(n=t=t.addAll(),r=this.value={}),e.derive&&(n=t.fork(t.NO_SOURCE),t.visit(t.REM,i=>{const o=be(i);n.rem.push(r[o]),r[o]=null}),t.visit(t.ADD,i=>{const o=mO(i);r[be(i)]=o,n.add.push(o)}),t.visit(t.MOD,i=>{const o=r[be(i)];for(const s in i)o[s]=i[s],n.modifies(s);n.mod.push(o)})),n}});function rD(e){H.call(this,[],e),this.count=0}rD.Definition={type:"Sample",metadata:{},params:[{name:"size",type:"number",default:1e3}]};re(rD,H,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.modified("size"),i=e.size,o=this.value.reduce((c,f)=>(c[be(f)]=1,c),{});let s=this.value,a=this.count,l=0;function u(c){let f,d;s.length<i?s.push(c):(d=~~((a+1)*Io()),d<s.length&&d>=l&&(f=s[d],o[be(f)]&&n.rem.push(f),s[d]=c)),++a}if(t.rem.length&&(t.visit(t.REM,c=>{const f=be(c);o[f]&&(o[f]=-1,n.rem.push(c)),--a}),s=s.filter(c=>o[be(c)]!==-1)),(t.rem.length||r)&&s.length<i&&t.source&&(l=a=s.length,t.visit(t.SOURCE,c=>{o[be(c)]||u(c)}),l=-1),r&&s.length>i){const c=s.length-i;for(let f=0;f<c;++f)o[be(s[f])]=-1,n.rem.push(s[f]);s=s.slice(c)}return t.mod.length&&t.visit(t.MOD,c=>{o[be(c)]&&n.mod.push(c)}),t.add.length&&t.visit(t.ADD,u),(t.add.length||l<0)&&(n.add=s.filter(c=>!o[be(c)])),this.count=a,this.value=n.source=s,n}});function iD(e){H.call(this,null,e)}iD.Definition={type:"Sequence",metadata:{generates:!0,changes:!0},params:[{name:"start",type:"number",required:!0},{name:"stop",type:"number",required:!0},{name:"step",type:"number",default:1},{name:"as",type:"string",default:"data"}]};re(iD,H,{transform(e,t){if(this.value&&!e.modified())return;const n=t.materialize().fork(t.MOD),r=e.as||"data";return n.rem=this.value?t.rem.concat(this.value):t.rem,this.value=Bi(e.start,e.stop,e.step||1).map(i=>{const o={};return o[r]=i,at(o)}),n.add=t.add.concat(this.value),n}});function ute(e){H.call(this,null,e),this.modified(!0)}re(ute,H,{transform(e,t){return this.value=t.source,t.changed()?t.fork(t.NO_SOURCE|t.NO_FIELDS):t.StopPropagation}});function oD(e){H.call(this,null,e)}const cte=["unit0","unit1"];oD.Definition={type:"TimeUnit",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean",default:!0},{name:"units",type:"enum",values:aO,array:!0},{name:"step",type:"number",default:1},{name:"maxbins",type:"number",default:40},{name:"extent",type:"date",array:!0},{name:"timezone",type:"enum",default:"local",values:["local","utc"]},{name:"as",type:"string",array:!0,length:2,default:cte}]};re(oD,H,{transform(e,t){const n=e.field,r=e.interval!==!1,i=e.timezone==="utc",o=this._floor(e,t),s=(i?pm:hm)(o.unit).offset,a=e.as||cte,l=a[0],u=a[1],c=o.step;let f=o.start||1/0,d=o.stop||-1/0,h=t.ADD;return(e.modified()||t.changed(t.REM)||t.modified(kr(n)))&&(t=t.reflow(!0),h=t.SOURCE,f=1/0,d=-1/0),t.visit(h,p=>{const g=n(p);let m,y;g==null?(p[l]=null,r&&(p[u]=null)):(p[l]=m=y=o(g),r&&(p[u]=y=s(m,c)),m<f&&(f=m),y>d&&(d=y))}),o.start=f,o.stop=d,t.modifies(r?a:l)},_floor(e,t){const n=e.timezone==="utc",{units:r,step:i}=e.units?{units:e.units,step:e.step||1}:eee({extent:e.extent||Aa(t.materialize(t.SOURCE).source,e.field),maxbins:e.maxbins}),o=lO(r),s=this.value||{},a=(n?HZ:WZ)(o,i);return a.unit=qe(o),a.units=o,a.step=i,a.start=s.start,a.stop=s.stop,this.value=a}});function fte(e){H.call(this,fm(),e)}re(fte,H,{transform(e,t){const n=t.dataflow,r=e.field,i=this.value,o=a=>i.set(r(a),a);let s=!0;return e.modified("field")||t.modified(r.fields)?(i.clear(),t.visit(t.SOURCE,o)):t.changed()?(t.visit(t.REM,a=>i.delete(r(a))),t.visit(t.ADD,o)):s=!1,this.modified(s),i.empty>n.cleanThreshold&&n.runAfter(i.clean),t.fork()}});function dte(e){H.call(this,null,e)}re(dte,H,{transform(e,t){(!this.value||e.modified("field")||e.modified("sort")||t.changed()||e.sort&&t.modified(e.sort.fields))&&(this.value=(e.sort?t.source.slice().sort(Qd(e.sort)):t.source).map(e.field))}});function Y4e(e,t,n,r){const i=M1[e](t,n);return{init:i.init||Au,update:function(o,s){s[r]=i.next(o)}}}const M1={row_number:function(){return{next:e=>e.index+1}},rank:function(){let e;return{init:()=>e=1,next:t=>{const n=t.index,r=t.data;return n&&t.compare(r[n-1],r[n])?e=n+1:e}}},dense_rank:function(){let e;return{init:()=>e=1,next:t=>{const n=t.index,r=t.data;return n&&t.compare(r[n-1],r[n])?++e:e}}},percent_rank:function(){const e=M1.rank(),t=e.next;return{init:e.init,next:n=>(t(n)-1)/(n.data.length-1)}},cume_dist:function(){let e;return{init:()=>e=0,next:t=>{const n=t.data,r=t.compare;let i=t.index;if(e<i){for(;i+1<n.length&&!r(n[i],n[i+1]);)++i;e=i}return(1+e)/n.length}}},ntile:function(e,t){t=+t,t>0||G("ntile num must be greater than zero.");const n=M1.cume_dist(),r=n.next;return{init:n.init,next:i=>Math.ceil(t*r(i))}},lag:function(e,t){return t=+t||1,{next:n=>{const r=n.index-t;return r>=0?e(n.data[r]):null}}},lead:function(e,t){return t=+t||1,{next:n=>{const r=n.index+t,i=n.data;return r<i.length?e(i[r]):null}}},first_value:function(e){return{next:t=>e(t.data[t.i0])}},last_value:function(e){return{next:t=>e(t.data[t.i1-1])}},nth_value:function(e,t){return t=+t,t>0||G("nth_value nth must be greater than zero."),{next:n=>{const r=n.i0+(t-1);return r<n.i1?e(n.data[r]):null}}},prev_value:function(e){let t;return{init:()=>t=null,next:n=>{const r=e(n.data[n.index]);return r!=null?t=r:t}}},next_value:function(e){let t,n;return{init:()=>(t=null,n=-1),next:r=>{const i=r.data;return r.index<=n?t:(n=X4e(e,i,r.index))<0?(n=i.length,t=null):t=e(i[n])}}}};function X4e(e,t,n){for(let r=t.length;n<r;++n)if(e(t[n])!=null)return n;return-1}const K4e=Object.keys(M1);function hte(e){const t=le(e.ops),n=le(e.fields),r=le(e.params),i=le(e.aggregate_params),o=le(e.as),s=this.outputs=[],a=this.windows=[],l={},u={},c=[],f=[];let d=!0;function h(p){le(kr(p)).forEach(g=>l[g]=1)}h(e.sort),t.forEach((p,g)=>{const m=n[g],y=r[g],v=i[g]||null,b=tn(m),x=Uee(p,b,o[g]);if(h(m),s.push(x),fe(M1,p))a.push(Y4e(p,m,y,x));else{if(m==null&&p!=="count"&&G("Null aggregate field specified."),p==="count"){c.push(x);return}d=!1;let w=u[b];w||(w=u[b]=[],w.field=m,f.push(w)),w.push(Vee(p,v,x))}}),(c.length||f.length)&&(this.cell=Q4e(f,c,d)),this.inputs=Object.keys(l)}const pte=hte.prototype;pte.init=function(){this.windows.forEach(e=>e.init()),this.cell&&this.cell.init()};pte.update=function(e,t){const n=this.cell,r=this.windows,i=e.data,o=r&&r.length;let s;if(n){for(s=e.p0;s<e.i0;++s)n.rem(i[s]);for(s=e.p1;s<e.i1;++s)n.add(i[s]);n.set(t)}for(s=0;s<o;++s)r[s].update(e,t)};function Q4e(e,t,n){e=e.map(l=>Hee(l,l.field));const r={num:0,agg:null,store:!1,count:t};if(!n)for(var i=e.length,o=r.agg=Array(i),s=0;s<i;++s)o[s]=new e[s](r);if(r.store)var a=r.data=new NO;return r.add=function(l){if(r.num+=1,!n){a&&a.add(l);for(let u=0;u<i;++u)o[u].add(o[u].get(l),l)}},r.rem=function(l){if(r.num-=1,!n){a&&a.rem(l);for(let u=0;u<i;++u)o[u].rem(o[u].get(l),l)}},r.set=function(l){let u,c;for(a&&a.values(),u=0,c=t.length;u<c;++u)l[t[u]]=r.num;if(!n)for(u=0,c=o.length;u<c;++u)o[u].set(l)},r.init=function(){r.num=0,a&&a.reset();for(let l=0;l<i;++l)o[l].init()},r}function sD(e){H.call(this,{},e),this._mlen=0,this._mods=[]}sD.Definition={type:"Window",metadata:{modifies:!0},params:[{name:"sort",type:"compare"},{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:K4e.concat(Iv)},{name:"params",type:"number",null:!0,array:!0},{name:"aggregate_params",type:"number",null:!0,array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"as",type:"string",null:!0,array:!0},{name:"frame",type:"number",null:!0,array:!0,length:2,default:[null,0]},{name:"ignorePeers",type:"boolean",default:!1}]};re(sD,H,{transform(e,t){this.stamp=t.stamp;const n=e.modified(),r=Qd(e.sort),i=oP(e.groupby),o=a=>this.group(i(a));let s=this.state;(!s||n)&&(s=this.state=new hte(e)),n||t.modified(s.inputs)?(this.value={},t.visit(t.SOURCE,a=>o(a).add(a))):(t.visit(t.REM,a=>o(a).remove(a)),t.visit(t.ADD,a=>o(a).add(a)));for(let a=0,l=this._mlen;a<l;++a)J4e(this._mods[a],s,r,e);return this._mlen=0,this._mods=[],t.reflow(n).modifies(s.outputs)},group(e){let t=this.value[e];return t||(t=this.value[e]=qee(be),t.stamp=-1),t.stamp<this.stamp&&(t.stamp=this.stamp,this._mods[this._mlen++]=t),t}});function J4e(e,t,n,r){const i=r.sort,o=i&&!r.ignorePeers,s=r.frame||[null,0],a=e.data(n),l=a.length,u=o?dm(i):null,c={i0:0,i1:0,p0:0,p1:0,index:0,data:a,compare:i||Tr(-1)};t.init();for(let f=0;f<l;++f)Z4e(c,s,f,l),o&&eRe(c,u),t.update(c,a[f])}function Z4e(e,t,n,r){e.p0=e.i0,e.p1=e.i1,e.i0=t[0]==null?0:Math.max(0,n-Math.abs(t[0])),e.i1=t[1]==null?r:Math.min(r,n+Math.abs(t[1])+1),e.index=n}function eRe(e,t){const n=e.i0,r=e.i1-1,i=e.compare,o=e.data,s=o.length-1;n>0&&!i(o[n],o[n-1])&&(e.i0=t.left(o,o[n])),r<s&&!i(o[r],o[r+1])&&(e.i1=t.right(o,o[r]))}const tRe=Object.freeze(Object.defineProperty({__proto__:null,aggregate:yc,bin:LO,collect:IO,compare:Gee,countpattern:zO,cross:jO,density:BO,dotbin:VO,expression:Jee,extent:WO,facet:lE,field:Zee,filter:qO,flatten:GO,fold:YO,formula:XO,generate:ete,impute:KO,joinaggregate:QO,kde:JO,key:tte,load:nte,lookup:ZO,multiextent:rte,multivalues:ite,params:ote,pivot:eD,prefacet:ste,project:tD,proxy:ate,quantile:nD,relay:lte,sample:rD,sequence:iD,sieve:ute,subflow:HO,timeunit:oD,tupleindex:fte,values:dte,window:sD},Symbol.toStringTag,{value:"Module"}));function ct(e){return function(){return e}}const vj=Math.abs,ur=Math.atan2,ef=Math.cos,nRe=Math.max,IA=Math.min,Ws=Math.sin,Df=Math.sqrt,dr=1e-12,xg=Math.PI,mS=xg/2,gte=2*xg;function rRe(e){return e>1?0:e<-1?xg:Math.acos(e)}function bj(e){return e>=1?mS:e<=-1?-mS:Math.asin(e)}const sP=Math.PI,aP=2*sP,vf=1e-6,iRe=aP-vf;function mte(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function oRe(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return mte;const n=10**t;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}let aD=class{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?mte:oRe(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,o,s){this._append`C${+t},${+n},${+r},${+i},${this._x1=+o},${this._y1=+s}`}arcTo(t,n,r,i,o){if(t=+t,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let s=this._x1,a=this._y1,l=r-t,u=i-n,c=s-t,f=a-n,d=c*c+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(d>vf)if(!(Math.abs(f*l-u*c)>vf)||!o)this._append`L${this._x1=t},${this._y1=n}`;else{let h=r-s,p=i-a,g=l*l+u*u,m=h*h+p*p,y=Math.sqrt(g),v=Math.sqrt(d),b=o*Math.tan((sP-Math.acos((g+d-m)/(2*y*v)))/2),x=b/v,w=b/y;Math.abs(x-1)>vf&&this._append`L${t+x*c},${n+x*f}`,this._append`A${o},${o},0,0,${+(f*h>c*p)},${this._x1=t+w*l},${this._y1=n+w*u}`}}arc(t,n,r,i,o,s){if(t=+t,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let a=r*Math.cos(i),l=r*Math.sin(i),u=t+a,c=n+l,f=1^s,d=s?i-o:o-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>vf||Math.abs(this._y1-c)>vf)&&this._append`L${u},${c}`,r&&(d<0&&(d=d%aP+aP),d>iRe?this._append`A${r},${r},0,1,${f},${t-a},${n-l}A${r},${r},0,1,${f},${this._x1=u},${this._y1=c}`:d>vf&&this._append`A${r},${r},0,${+(d>=sP)},${f},${this._x1=t+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}};function uE(){return new aD}uE.prototype=aD.prototype;function cE(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new aD(t)}function sRe(e){return e.innerRadius}function aRe(e){return e.outerRadius}function lRe(e){return e.startAngle}function uRe(e){return e.endAngle}function cRe(e){return e&&e.padAngle}function fRe(e,t,n,r,i,o,s,a){var l=n-e,u=r-t,c=s-i,f=a-o,d=f*l-c*u;if(!(d*d<dr))return d=(c*(t-o)-f*(e-i))/d,[e+d*l,t+d*u]}function bx(e,t,n,r,i,o,s){var a=e-n,l=t-r,u=(s?o:-o)/Df(a*a+l*l),c=u*l,f=-u*a,d=e+c,h=t+f,p=n+c,g=r+f,m=(d+p)/2,y=(h+g)/2,v=p-d,b=g-h,x=v*v+b*b,w=i-o,k=d*g-p*h,S=(b<0?-1:1)*Df(nRe(0,w*w*x-k*k)),C=(k*b-v*S)/x,E=(-k*v-b*S)/x,A=(k*b+v*S)/x,T=(-k*v+b*S)/x,L=C-m,F=E-y,R=A-m,_=T-y;return L*L+F*F>R*R+_*_&&(C=A,E=T),{cx:C,cy:E,x01:-c,y01:-f,x11:C*(i/w-1),y11:E*(i/w-1)}}function dRe(){var e=sRe,t=aRe,n=ct(0),r=null,i=lRe,o=uRe,s=cRe,a=null,l=cE(u);function u(){var c,f,d=+e.apply(this,arguments),h=+t.apply(this,arguments),p=i.apply(this,arguments)-mS,g=o.apply(this,arguments)-mS,m=vj(g-p),y=g>p;if(a||(a=c=l()),h<d&&(f=h,h=d,d=f),!(h>dr))a.moveTo(0,0);else if(m>gte-dr)a.moveTo(h*ef(p),h*Ws(p)),a.arc(0,0,h,p,g,!y),d>dr&&(a.moveTo(d*ef(g),d*Ws(g)),a.arc(0,0,d,g,p,y));else{var v=p,b=g,x=p,w=g,k=m,S=m,C=s.apply(this,arguments)/2,E=C>dr&&(r?+r.apply(this,arguments):Df(d*d+h*h)),A=IA(vj(h-d)/2,+n.apply(this,arguments)),T=A,L=A,F,R;if(E>dr){var _=bj(E/d*Ws(C)),P=bj(E/h*Ws(C));(k-=_*2)>dr?(_*=y?1:-1,x+=_,w-=_):(k=0,x=w=(p+g)/2),(S-=P*2)>dr?(P*=y?1:-1,v+=P,b-=P):(S=0,v=b=(p+g)/2)}var N=h*ef(v),D=h*Ws(v),I=d*ef(w),U=d*Ws(w);if(A>dr){var V=h*ef(b),oe=h*Ws(b),Q=d*ef(x),ye=d*Ws(x),Oe;if(m<xg)if(Oe=fRe(N,D,Q,ye,V,oe,I,U)){var ut=N-Oe[0],$n=D-Oe[1],sr=V-Oe[0],ce=oe-Oe[1],$e=1/Ws(rRe((ut*sr+$n*ce)/(Df(ut*ut+$n*$n)*Df(sr*sr+ce*ce)))/2),Ae=Df(Oe[0]*Oe[0]+Oe[1]*Oe[1]);T=IA(A,(d-Ae)/($e-1)),L=IA(A,(h-Ae)/($e+1))}else T=L=0}S>dr?L>dr?(F=bx(Q,ye,N,D,h,L,y),R=bx(V,oe,I,U,h,L,y),a.moveTo(F.cx+F.x01,F.cy+F.y01),L<A?a.arc(F.cx,F.cy,L,ur(F.y01,F.x01),ur(R.y01,R.x01),!y):(a.arc(F.cx,F.cy,L,ur(F.y01,F.x01),ur(F.y11,F.x11),!y),a.arc(0,0,h,ur(F.cy+F.y11,F.cx+F.x11),ur(R.cy+R.y11,R.cx+R.x11),!y),a.arc(R.cx,R.cy,L,ur(R.y11,R.x11),ur(R.y01,R.x01),!y))):(a.moveTo(N,D),a.arc(0,0,h,v,b,!y)):a.moveTo(N,D),!(d>dr)||!(k>dr)?a.lineTo(I,U):T>dr?(F=bx(I,U,V,oe,d,-T,y),R=bx(N,D,Q,ye,d,-T,y),a.lineTo(F.cx+F.x01,F.cy+F.y01),T<A?a.arc(F.cx,F.cy,T,ur(F.y01,F.x01),ur(R.y01,R.x01),!y):(a.arc(F.cx,F.cy,T,ur(F.y01,F.x01),ur(F.y11,F.x11),!y),a.arc(0,0,d,ur(F.cy+F.y11,F.cx+F.x11),ur(R.cy+R.y11,R.cx+R.x11),y),a.arc(R.cx,R.cy,T,ur(R.y11,R.x11),ur(R.y01,R.x01),!y))):a.arc(0,0,d,w,x,y)}if(a.closePath(),c)return a=null,c+""||null}return u.centroid=function(){var c=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,f=(+i.apply(this,arguments)+ +o.apply(this,arguments))/2-xg/2;return[ef(f)*c,Ws(f)*c]},u.innerRadius=function(c){return arguments.length?(e=typeof c=="function"?c:ct(+c),u):e},u.outerRadius=function(c){return arguments.length?(t=typeof c=="function"?c:ct(+c),u):t},u.cornerRadius=function(c){return arguments.length?(n=typeof c=="function"?c:ct(+c),u):n},u.padRadius=function(c){return arguments.length?(r=c==null?null:typeof c=="function"?c:ct(+c),u):r},u.startAngle=function(c){return arguments.length?(i=typeof c=="function"?c:ct(+c),u):i},u.endAngle=function(c){return arguments.length?(o=typeof c=="function"?c:ct(+c),u):o},u.padAngle=function(c){return arguments.length?(s=typeof c=="function"?c:ct(+c),u):s},u.context=function(c){return arguments.length?(a=c??null,u):a},u}function yte(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function vte(e){this._context=e}vte.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function lD(e){return new vte(e)}function bte(e){return e[0]}function xte(e){return e[1]}function wte(e,t){var n=ct(!0),r=null,i=lD,o=null,s=cE(a);e=typeof e=="function"?e:e===void 0?bte:ct(e),t=typeof t=="function"?t:t===void 0?xte:ct(t);function a(l){var u,c=(l=yte(l)).length,f,d=!1,h;for(r==null&&(o=i(h=s())),u=0;u<=c;++u)!(u<c&&n(f=l[u],u,l))===d&&((d=!d)?o.lineStart():o.lineEnd()),d&&o.point(+e(f,u,l),+t(f,u,l));if(h)return o=null,h+""||null}return a.x=function(l){return arguments.length?(e=typeof l=="function"?l:ct(+l),a):e},a.y=function(l){return arguments.length?(t=typeof l=="function"?l:ct(+l),a):t},a.defined=function(l){return arguments.length?(n=typeof l=="function"?l:ct(!!l),a):n},a.curve=function(l){return arguments.length?(i=l,r!=null&&(o=i(r)),a):i},a.context=function(l){return arguments.length?(l==null?r=o=null:o=i(r=l),a):r},a}function Ste(e,t,n){var r=null,i=ct(!0),o=null,s=lD,a=null,l=cE(u);e=typeof e=="function"?e:e===void 0?bte:ct(+e),t=typeof t=="function"?t:ct(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?xte:ct(+n);function u(f){var d,h,p,g=(f=yte(f)).length,m,y=!1,v,b=new Array(g),x=new Array(g);for(o==null&&(a=s(v=l())),d=0;d<=g;++d){if(!(d<g&&i(m=f[d],d,f))===y)if(y=!y)h=d,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),p=d-1;p>=h;--p)a.point(b[p],x[p]);a.lineEnd(),a.areaEnd()}y&&(b[d]=+e(m,d,f),x[d]=+t(m,d,f),a.point(r?+r(m,d,f):b[d],n?+n(m,d,f):x[d]))}if(v)return a=null,v+""||null}function c(){return wte().defined(i).curve(s).context(o)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:ct(+f),r=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:ct(+f),u):e},u.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:ct(+f),u):r},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:ct(+f),n=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:ct(+f),u):t},u.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:ct(+f),u):n},u.lineX0=u.lineY0=function(){return c().x(e).y(t)},u.lineY1=function(){return c().x(e).y(n)},u.lineX1=function(){return c().x(r).y(t)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:ct(!!f),u):i},u.curve=function(f){return arguments.length?(s=f,o!=null&&(a=s(o)),u):s},u.context=function(f){return arguments.length?(f==null?o=a=null:a=s(o=f),u):o},u}const hRe={draw(e,t){const n=Df(t/xg);e.moveTo(n,0),e.arc(0,0,n,0,gte)}};function pRe(e,t){let n=null,r=cE(i);e=typeof e=="function"?e:ct(e||hRe),t=typeof t=="function"?t:ct(t===void 0?64:+t);function i(){let o;if(n||(n=o=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(e=typeof o=="function"?o:ct(o),i):e},i.size=function(o){return arguments.length?(t=typeof o=="function"?o:ct(+o),i):t},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function vc(){}function yS(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function fE(e){this._context=e}fE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:yS(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:yS(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function gRe(e){return new fE(e)}function kte(e){this._context=e}kte.prototype={areaStart:vc,areaEnd:vc,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:yS(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function mRe(e){return new kte(e)}function Cte(e){this._context=e}Cte.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:yS(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function yRe(e){return new Cte(e)}function Ete(e,t){this._basis=new fE(e),this._beta=t}Ete.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,n=e.length-1;if(n>0)for(var r=e[0],i=t[0],o=e[n]-r,s=t[n]-i,a=-1,l;++a<=n;)l=a/n,this._basis.point(this._beta*e[a]+(1-this._beta)*(r+l*o),this._beta*t[a]+(1-this._beta)*(i+l*s));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};const vRe=function e(t){function n(r){return t===1?new fE(r):new Ete(r,t)}return n.beta=function(r){return e(+r)},n}(.85);function vS(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function uD(e,t){this._context=e,this._k=(1-t)/6}uD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:vS(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:vS(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const bRe=function e(t){function n(r){return new uD(r,t)}return n.tension=function(r){return e(+r)},n}(0);function cD(e,t){this._context=e,this._k=(1-t)/6}cD.prototype={areaStart:vc,areaEnd:vc,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:vS(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const xRe=function e(t){function n(r){return new cD(r,t)}return n.tension=function(r){return e(+r)},n}(0);function fD(e,t){this._context=e,this._k=(1-t)/6}fD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:vS(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const wRe=function e(t){function n(r){return new fD(r,t)}return n.tension=function(r){return e(+r)},n}(0);function dD(e,t,n){var r=e._x1,i=e._y1,o=e._x2,s=e._y2;if(e._l01_a>dr){var a=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,l=3*e._l01_a*(e._l01_a+e._l12_a);r=(r*a-e._x0*e._l12_2a+e._x2*e._l01_2a)/l,i=(i*a-e._y0*e._l12_2a+e._y2*e._l01_2a)/l}if(e._l23_a>dr){var u=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,c=3*e._l23_a*(e._l23_a+e._l12_a);o=(o*u+e._x1*e._l23_2a-t*e._l12_2a)/c,s=(s*u+e._y1*e._l23_2a-n*e._l12_2a)/c}e._context.bezierCurveTo(r,i,o,s,e._x2,e._y2)}function _te(e,t){this._context=e,this._alpha=t}_te.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:dD(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const SRe=function e(t){function n(r){return t?new _te(r,t):new uD(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function $te(e,t){this._context=e,this._alpha=t}$te.prototype={areaStart:vc,areaEnd:vc,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:dD(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const kRe=function e(t){function n(r){return t?new $te(r,t):new cD(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function Ate(e,t){this._context=e,this._alpha=t}Ate.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:dD(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const CRe=function e(t){function n(r){return t?new Ate(r,t):new fD(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function Tte(e){this._context=e}Tte.prototype={areaStart:vc,areaEnd:vc,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function ERe(e){return new Tte(e)}function xj(e){return e<0?-1:1}function wj(e,t,n){var r=e._x1-e._x0,i=t-e._x1,o=(e._y1-e._y0)/(r||i<0&&-0),s=(n-e._y1)/(i||r<0&&-0),a=(o*i+s*r)/(r+i);return(xj(o)+xj(s))*Math.min(Math.abs(o),Math.abs(s),.5*Math.abs(a))||0}function Sj(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function zA(e,t,n){var r=e._x0,i=e._y0,o=e._x1,s=e._y1,a=(o-r)/3;e._context.bezierCurveTo(r+a,i+a*t,o-a,s-a*n,o,s)}function bS(e){this._context=e}bS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:zA(this,this._t0,Sj(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,zA(this,Sj(this,n=wj(this,e,t)),n);break;default:zA(this,this._t0,n=wj(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function Pte(e){this._context=new Mte(e)}(Pte.prototype=Object.create(bS.prototype)).point=function(e,t){bS.prototype.point.call(this,t,e)};function Mte(e){this._context=e}Mte.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,o){this._context.bezierCurveTo(t,e,r,n,o,i)}};function _Re(e){return new bS(e)}function $Re(e){return new Pte(e)}function Fte(e){this._context=e}Fte.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=kj(e),i=kj(t),o=0,s=1;s<n;++o,++s)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],e[s],t[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function kj(e){var t,n=e.length-1,r,i=new Array(n),o=new Array(n),s=new Array(n);for(i[0]=0,o[0]=2,s[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,o[t]=4,s[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,o[n-1]=7,s[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/o[t-1],o[t]-=r,s[t]-=r*s[t-1];for(i[n-1]=s[n-1]/o[n-1],t=n-2;t>=0;--t)i[t]=(s[t]-i[t+1])/o[t];for(o[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)o[t]=2*e[t+1]-i[t+1];return[i,o]}function ARe(e){return new Fte(e)}function dE(e,t){this._context=e,this._t=t}dE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function TRe(e){return new dE(e,.5)}function PRe(e){return new dE(e,0)}function MRe(e){return new dE(e,1)}function oc(e,t){if(typeof document<"u"&&document.createElement){const n=document.createElement("canvas");if(n&&n.getContext)return n.width=e,n.height=t,n}return null}const FRe=()=>typeof Image<"u"?Image:null;function La(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Nc(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const lP=Symbol("implicit");function hD(){var e=new j7,t=[],n=[],r=lP;function i(o){let s=e.get(o);if(s===void 0){if(r!==lP)return r;e.set(o,s=t.push(o)-1)}return n[s%n.length]}return i.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new j7;for(const s of o)e.has(s)||e.set(s,t.push(s)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return hD(t,n).unknown(r)},La.apply(i,arguments),i}function mm(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function zv(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Lc(){}var vd=.7,wg=1/vd,Tp="\\s*([+-]?\\d+)\\s*",F1="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ka="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",RRe=/^#([0-9a-f]{3,8})$/,ORe=new RegExp(`^rgb\\(${Tp},${Tp},${Tp}\\)$`),DRe=new RegExp(`^rgb\\(${ka},${ka},${ka}\\)$`),NRe=new RegExp(`^rgba\\(${Tp},${Tp},${Tp},${F1}\\)$`),LRe=new RegExp(`^rgba\\(${ka},${ka},${ka},${F1}\\)$`),IRe=new RegExp(`^hsl\\(${F1},${ka},${ka}\\)$`),zRe=new RegExp(`^hsla\\(${F1},${ka},${ka},${F1}\\)$`),Cj={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};mm(Lc,R1,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Ej,formatHex:Ej,formatHex8:jRe,formatHsl:BRe,formatRgb:_j,toString:_j});function Ej(){return this.rgb().formatHex()}function jRe(){return this.rgb().formatHex8()}function BRe(){return Rte(this).formatHsl()}function _j(){return this.rgb().formatRgb()}function R1(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=RRe.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?$j(t):n===3?new Mn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?xx(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?xx(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=ORe.exec(e))?new Mn(t[1],t[2],t[3],1):(t=DRe.exec(e))?new Mn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=NRe.exec(e))?xx(t[1],t[2],t[3],t[4]):(t=LRe.exec(e))?xx(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=IRe.exec(e))?Pj(t[1],t[2]/100,t[3]/100,1):(t=zRe.exec(e))?Pj(t[1],t[2]/100,t[3]/100,t[4]):Cj.hasOwnProperty(e)?$j(Cj[e]):e==="transparent"?new Mn(NaN,NaN,NaN,0):null}function $j(e){return new Mn(e>>16&255,e>>8&255,e&255,1)}function xx(e,t,n,r){return r<=0&&(e=t=n=NaN),new Mn(e,t,n,r)}function pD(e){return e instanceof Lc||(e=R1(e)),e?(e=e.rgb(),new Mn(e.r,e.g,e.b,e.opacity)):new Mn}function bc(e,t,n,r){return arguments.length===1?pD(e):new Mn(e,t,n,r??1)}function Mn(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}mm(Mn,bc,zv(Lc,{brighter(e){return e=e==null?wg:Math.pow(wg,e),new Mn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?vd:Math.pow(vd,e),new Mn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Mn(td(this.r),td(this.g),td(this.b),xS(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Aj,formatHex:Aj,formatHex8:URe,formatRgb:Tj,toString:Tj}));function Aj(){return`#${Nf(this.r)}${Nf(this.g)}${Nf(this.b)}`}function URe(){return`#${Nf(this.r)}${Nf(this.g)}${Nf(this.b)}${Nf((isNaN(this.opacity)?1:this.opacity)*255)}`}function Tj(){const e=xS(this.opacity);return`${e===1?"rgb(":"rgba("}${td(this.r)}, ${td(this.g)}, ${td(this.b)}${e===1?")":`, ${e})`}`}function xS(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function td(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Nf(e){return e=td(e),(e<16?"0":"")+e.toString(16)}function Pj(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new us(e,t,n,r)}function Rte(e){if(e instanceof us)return new us(e.h,e.s,e.l,e.opacity);if(e instanceof Lc||(e=R1(e)),!e)return new us;if(e instanceof us)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),s=NaN,a=o-i,l=(o+i)/2;return a?(t===o?s=(n-r)/a+(n<r)*6:n===o?s=(r-t)/a+2:s=(t-n)/a+4,a/=l<.5?o+i:2-o-i,s*=60):a=l>0&&l<1?0:s,new us(s,a,l,e.opacity)}function wS(e,t,n,r){return arguments.length===1?Rte(e):new us(e,t,n,r??1)}function us(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}mm(us,wS,zv(Lc,{brighter(e){return e=e==null?wg:Math.pow(wg,e),new us(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?vd:Math.pow(vd,e),new us(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Mn(jA(e>=240?e-240:e+120,i,r),jA(e,i,r),jA(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new us(Mj(this.h),wx(this.s),wx(this.l),xS(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=xS(this.opacity);return`${e===1?"hsl(":"hsla("}${Mj(this.h)}, ${wx(this.s)*100}%, ${wx(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Mj(e){return e=(e||0)%360,e<0?e+360:e}function wx(e){return Math.max(0,Math.min(1,e||0))}function jA(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Ote=Math.PI/180,Dte=180/Math.PI,SS=18,Nte=.96422,Lte=1,Ite=.82521,zte=4/29,Pp=6/29,jte=3*Pp*Pp,VRe=Pp*Pp*Pp;function Bte(e){if(e instanceof Ca)return new Ca(e.l,e.a,e.b,e.opacity);if(e instanceof yl)return Ute(e);e instanceof Mn||(e=pD(e));var t=WA(e.r),n=WA(e.g),r=WA(e.b),i=BA((.2225045*t+.7168786*n+.0606169*r)/Lte),o,s;return t===n&&n===r?o=s=i:(o=BA((.4360747*t+.3850649*n+.1430804*r)/Nte),s=BA((.0139322*t+.0971045*n+.7141733*r)/Ite)),new Ca(116*i-16,500*(o-i),200*(i-s),e.opacity)}function kS(e,t,n,r){return arguments.length===1?Bte(e):new Ca(e,t,n,r??1)}function Ca(e,t,n,r){this.l=+e,this.a=+t,this.b=+n,this.opacity=+r}mm(Ca,kS,zv(Lc,{brighter(e){return new Ca(this.l+SS*(e??1),this.a,this.b,this.opacity)},darker(e){return new Ca(this.l-SS*(e??1),this.a,this.b,this.opacity)},rgb(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return t=Nte*UA(t),e=Lte*UA(e),n=Ite*UA(n),new Mn(VA(3.1338561*t-1.6168667*e-.4906146*n),VA(-.9787684*t+1.9161415*e+.033454*n),VA(.0719453*t-.2289914*e+1.4052427*n),this.opacity)}}));function BA(e){return e>VRe?Math.pow(e,1/3):e/jte+zte}function UA(e){return e>Pp?e*e*e:jte*(e-zte)}function VA(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function WA(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function WRe(e){if(e instanceof yl)return new yl(e.h,e.c,e.l,e.opacity);if(e instanceof Ca||(e=Bte(e)),e.a===0&&e.b===0)return new yl(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*Dte;return new yl(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function CS(e,t,n,r){return arguments.length===1?WRe(e):new yl(e,t,n,r??1)}function yl(e,t,n,r){this.h=+e,this.c=+t,this.l=+n,this.opacity=+r}function Ute(e){if(isNaN(e.h))return new Ca(e.l,0,0,e.opacity);var t=e.h*Ote;return new Ca(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}mm(yl,CS,zv(Lc,{brighter(e){return new yl(this.h,this.c,this.l+SS*(e??1),this.opacity)},darker(e){return new yl(this.h,this.c,this.l-SS*(e??1),this.opacity)},rgb(){return Ute(this).rgb()}}));var Vte=-.14861,gD=1.78277,mD=-.29227,hE=-.90649,O1=1.97294,Fj=O1*hE,Rj=O1*gD,Oj=gD*mD-hE*Vte;function HRe(e){if(e instanceof nd)return new nd(e.h,e.s,e.l,e.opacity);e instanceof Mn||(e=pD(e));var t=e.r/255,n=e.g/255,r=e.b/255,i=(Oj*r+Fj*t-Rj*n)/(Oj+Fj-Rj),o=r-i,s=(O1*(n-i)-mD*o)/hE,a=Math.sqrt(s*s+o*o)/(O1*i*(1-i)),l=a?Math.atan2(s,o)*Dte-120:NaN;return new nd(l<0?l+360:l,a,i,e.opacity)}function uP(e,t,n,r){return arguments.length===1?HRe(e):new nd(e,t,n,r??1)}function nd(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}mm(nd,uP,zv(Lc,{brighter(e){return e=e==null?wg:Math.pow(wg,e),new nd(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?vd:Math.pow(vd,e),new nd(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=isNaN(this.h)?0:(this.h+120)*Ote,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),i=Math.sin(e);return new Mn(255*(t+n*(Vte*r+gD*i)),255*(t+n*(mD*r+hE*i)),255*(t+n*(O1*r)),this.opacity)}}));function Wte(e,t,n,r,i){var o=e*e,s=o*e;return((1-3*e+3*o-s)*t+(4-6*o+3*s)*n+(1+3*e+3*o-3*s)*r+s*i)/6}function Hte(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],o=e[r+1],s=r>0?e[r-1]:2*i-o,a=r<t-1?e[r+2]:2*o-i;return Wte((n-r/t)*t,s,i,o,a)}}function qte(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),i=e[(r+t-1)%t],o=e[r%t],s=e[(r+1)%t],a=e[(r+2)%t];return Wte((n-r/t)*t,i,o,s,a)}}const pE=e=>()=>e;function Gte(e,t){return function(n){return e+n*t}}function qRe(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function gE(e,t){var n=t-e;return n?Gte(e,n>180||n<-180?n-360*Math.round(n/360):n):pE(isNaN(e)?t:e)}function GRe(e){return(e=+e)==1?Fn:function(t,n){return n-t?qRe(t,n,e):pE(isNaN(t)?n:t)}}function Fn(e,t){var n=t-e;return n?Gte(e,n):pE(isNaN(e)?t:e)}const ES=function e(t){var n=GRe(t);function r(i,o){var s=n((i=bc(i)).r,(o=bc(o)).r),a=n(i.g,o.g),l=n(i.b,o.b),u=Fn(i.opacity,o.opacity);return function(c){return i.r=s(c),i.g=a(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=e,r}(1);function Yte(e){return function(t){var n=t.length,r=new Array(n),i=new Array(n),o=new Array(n),s,a;for(s=0;s<n;++s)a=bc(t[s]),r[s]=a.r||0,i[s]=a.g||0,o[s]=a.b||0;return r=e(r),i=e(i),o=e(o),a.opacity=1,function(l){return a.r=r(l),a.g=i(l),a.b=o(l),a+""}}}var YRe=Yte(Hte),XRe=Yte(qte);function yD(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=e[i]*(1-o)+t[i]*o;return r}}function Xte(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function KRe(e,t){return(Xte(t)?yD:Kte)(e,t)}function Kte(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),o=new Array(n),s;for(s=0;s<r;++s)i[s]=Ic(e[s],t[s]);for(;s<n;++s)o[s]=t[s];return function(a){for(s=0;s<r;++s)o[s]=i[s](a);return o}}function Qte(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function os(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Jte(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=Ic(e[i],t[i]):r[i]=t[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var cP=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,HA=new RegExp(cP.source,"g");function QRe(e){return function(){return e}}function JRe(e){return function(t){return e(t)+""}}function Zte(e,t){var n=cP.lastIndex=HA.lastIndex=0,r,i,o,s=-1,a=[],l=[];for(e=e+"",t=t+"";(r=cP.exec(e))&&(i=HA.exec(t));)(o=i.index)>n&&(o=t.slice(n,o),a[s]?a[s]+=o:a[++s]=o),(r=r[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,l.push({i:s,x:os(r,i)})),n=HA.lastIndex;return n<t.length&&(o=t.slice(n),a[s]?a[s]+=o:a[++s]=o),a.length<2?l[0]?JRe(l[0].x):QRe(t):(t=l.length,function(u){for(var c=0,f;c<t;++c)a[(f=l[c]).i]=f.x(u);return a.join("")})}function Ic(e,t){var n=typeof t,r;return t==null||n==="boolean"?pE(t):(n==="number"?os:n==="string"?(r=R1(t))?(t=r,ES):Zte:t instanceof R1?ES:t instanceof Date?Qte:Xte(t)?yD:Array.isArray(t)?Kte:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Jte:os)(e,t)}function ZRe(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}function eOe(e,t){var n=gE(+e,+t);return function(r){var i=n(r);return i-360*Math.floor(i/360)}}function ym(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var Dj=180/Math.PI,fP={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function ene(e,t,n,r,i,o){var s,a,l;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(l=e*n+t*r)&&(n-=e*l,r-=t*l),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,l/=a),e*r<t*n&&(e=-e,t=-t,l=-l,s=-s),{translateX:i,translateY:o,rotate:Math.atan2(t,e)*Dj,skewX:Math.atan(l)*Dj,scaleX:s,scaleY:a}}var Sx;function tOe(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?fP:ene(t.a,t.b,t.c,t.d,t.e,t.f)}function nOe(e){return e==null||(Sx||(Sx=document.createElementNS("http://www.w3.org/2000/svg","g")),Sx.setAttribute("transform",e),!(e=Sx.transform.baseVal.consolidate()))?fP:(e=e.matrix,ene(e.a,e.b,e.c,e.d,e.e,e.f))}function tne(e,t,n,r){function i(u){return u.length?u.pop()+" ":""}function o(u,c,f,d,h,p){if(u!==f||c!==d){var g=h.push("translate(",null,t,null,n);p.push({i:g-4,x:os(u,f)},{i:g-2,x:os(c,d)})}else(f||d)&&h.push("translate("+f+t+d+n)}function s(u,c,f,d){u!==c?(u-c>180?c+=360:c-u>180&&(u+=360),d.push({i:f.push(i(f)+"rotate(",null,r)-2,x:os(u,c)})):c&&f.push(i(f)+"rotate("+c+r)}function a(u,c,f,d){u!==c?d.push({i:f.push(i(f)+"skewX(",null,r)-2,x:os(u,c)}):c&&f.push(i(f)+"skewX("+c+r)}function l(u,c,f,d,h,p){if(u!==f||c!==d){var g=h.push(i(h)+"scale(",null,",",null,")");p.push({i:g-4,x:os(u,f)},{i:g-2,x:os(c,d)})}else(f!==1||d!==1)&&h.push(i(h)+"scale("+f+","+d+")")}return function(u,c){var f=[],d=[];return u=e(u),c=e(c),o(u.translateX,u.translateY,c.translateX,c.translateY,f,d),s(u.rotate,c.rotate,f,d),a(u.skewX,c.skewX,f,d),l(u.scaleX,u.scaleY,c.scaleX,c.scaleY,f,d),u=c=null,function(h){for(var p=-1,g=d.length,m;++p<g;)f[(m=d[p]).i]=m.x(h);return f.join("")}}}var rOe=tne(tOe,"px, ","px)","deg)"),iOe=tne(nOe,", ",")",")"),oOe=1e-12;function Nj(e){return((e=Math.exp(e))+1/e)/2}function sOe(e){return((e=Math.exp(e))-1/e)/2}function aOe(e){return((e=Math.exp(2*e))-1)/(e+1)}const lOe=function e(t,n,r){function i(o,s){var a=o[0],l=o[1],u=o[2],c=s[0],f=s[1],d=s[2],h=c-a,p=f-l,g=h*h+p*p,m,y;if(g<oOe)y=Math.log(d/u)/t,m=function(S){return[a+S*h,l+S*p,u*Math.exp(t*S*y)]};else{var v=Math.sqrt(g),b=(d*d-u*u+r*g)/(2*u*n*v),x=(d*d-u*u-r*g)/(2*d*n*v),w=Math.log(Math.sqrt(b*b+1)-b),k=Math.log(Math.sqrt(x*x+1)-x);y=(k-w)/t,m=function(S){var C=S*y,E=Nj(w),A=u/(n*v)*(E*aOe(t*C+w)-sOe(w));return[a+A*h,l+A*p,u*E/Nj(t*C+w)]}}return m.duration=y*1e3*t/Math.SQRT2,m}return i.rho=function(o){var s=Math.max(.001,+o),a=s*s,l=a*a;return e(s,a,l)},i}(Math.SQRT2,2,4);function nne(e){return function(t,n){var r=e((t=wS(t)).h,(n=wS(n)).h),i=Fn(t.s,n.s),o=Fn(t.l,n.l),s=Fn(t.opacity,n.opacity);return function(a){return t.h=r(a),t.s=i(a),t.l=o(a),t.opacity=s(a),t+""}}}const rne=nne(gE);var ine=nne(Fn);function one(e,t){var n=Fn((e=kS(e)).l,(t=kS(t)).l),r=Fn(e.a,t.a),i=Fn(e.b,t.b),o=Fn(e.opacity,t.opacity);return function(s){return e.l=n(s),e.a=r(s),e.b=i(s),e.opacity=o(s),e+""}}function sne(e){return function(t,n){var r=e((t=CS(t)).h,(n=CS(n)).h),i=Fn(t.c,n.c),o=Fn(t.l,n.l),s=Fn(t.opacity,n.opacity);return function(a){return t.h=r(a),t.c=i(a),t.l=o(a),t.opacity=s(a),t+""}}}const ane=sne(gE);var lne=sne(Fn);function une(e){return function t(n){n=+n;function r(i,o){var s=e((i=uP(i)).h,(o=uP(o)).h),a=Fn(i.s,o.s),l=Fn(i.l,o.l),u=Fn(i.opacity,o.opacity);return function(c){return i.h=s(c),i.s=a(c),i.l=l(Math.pow(c,n)),i.opacity=u(c),i+""}}return r.gamma=t,r}(1)}const cne=une(gE);var fne=une(Fn);function vD(e,t){t===void 0&&(t=e,e=Ic);for(var n=0,r=t.length-1,i=t[0],o=new Array(r<0?0:r);n<r;)o[n]=e(i,i=t[++n]);return function(s){var a=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return o[a](s-a)}}function uOe(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e(r/(t-1));return n}const cOe=Object.freeze(Object.defineProperty({__proto__:null,interpolate:Ic,interpolateArray:KRe,interpolateBasis:Hte,interpolateBasisClosed:qte,interpolateCubehelix:cne,interpolateCubehelixLong:fne,interpolateDate:Qte,interpolateDiscrete:ZRe,interpolateHcl:ane,interpolateHclLong:lne,interpolateHsl:rne,interpolateHslLong:ine,interpolateHue:eOe,interpolateLab:one,interpolateNumber:os,interpolateNumberArray:yD,interpolateObject:Jte,interpolateRgb:ES,interpolateRgbBasis:YRe,interpolateRgbBasisClosed:XRe,interpolateRound:ym,interpolateString:Zte,interpolateTransformCss:rOe,interpolateTransformSvg:iOe,interpolateZoom:lOe,piecewise:vD,quantize:uOe},Symbol.toStringTag,{value:"Module"}));function fOe(e){return function(){return e}}function dP(e){return+e}var Lj=[0,1];function di(e){return e}function hP(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:fOe(isNaN(t)?NaN:.5)}function dOe(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function hOe(e,t,n){var r=e[0],i=e[1],o=t[0],s=t[1];return i<r?(r=hP(i,r),o=n(s,o)):(r=hP(r,i),o=n(o,s)),function(a){return o(r(a))}}function pOe(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),s=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<r;)i[s]=hP(e[s],e[s+1]),o[s]=n(t[s],t[s+1]);return function(a){var l=gc(e,a,1,r)-1;return o[l](i[l](a))}}function jv(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function mE(){var e=Lj,t=Lj,n=Ic,r,i,o,s=di,a,l,u;function c(){var d=Math.min(e.length,t.length);return s!==di&&(s=dOe(e[0],e[d-1])),a=d>2?pOe:hOe,l=u=null,f}function f(d){return d==null||isNaN(d=+d)?o:(l||(l=a(e.map(r),t,n)))(r(s(d)))}return f.invert=function(d){return s(i((u||(u=a(t,e.map(r),os)))(d)))},f.domain=function(d){return arguments.length?(e=Array.from(d,dP),c()):e.slice()},f.range=function(d){return arguments.length?(t=Array.from(d),c()):t.slice()},f.rangeRound=function(d){return t=Array.from(d),n=ym,c()},f.clamp=function(d){return arguments.length?(s=d?!0:di,c()):s!==di},f.interpolate=function(d){return arguments.length?(n=d,c()):n},f.unknown=function(d){return arguments.length?(o=d,f):o},function(d,h){return r=d,i=h,c()}}function dne(){return mE()(di,di)}function hne(e,t,n,r){var i=mc(e,t,n),o;switch(r=yd(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(o=FZ(i,s))&&(r.precision=o),oO(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=RZ(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=MZ(i))&&(r.precision=o-(r.type==="%")*2);break}}return Mv(r)}function Zd(e){var t=e.domain;return e.ticks=function(n){var r=t();return q3(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return hne(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,o=r.length-1,s=r[i],a=r[o],l,u,c=10;for(a<s&&(u=s,s=a,a=u,u=i,i=o,o=u);c-- >0;){if(u=G3(s,a,n),u===l)return r[i]=s,r[o]=a,t(r);if(u>0)s=Math.floor(s/u)*u,a=Math.ceil(a/u)*u;else if(u<0)s=Math.ceil(s*u)/u,a=Math.floor(a*u)/u;else break;l=u}return e},e}function bD(){var e=dne();return e.copy=function(){return jv(e,bD())},La.apply(e,arguments),Zd(e)}function pne(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,dP),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return pne(e).unknown(t)},e=arguments.length?Array.from(e,dP):[0,1],Zd(n)}function gne(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],o=e[r],s;return o<i&&(s=n,n=r,r=s,s=i,i=o,o=s),e[n]=t.floor(i),e[r]=t.ceil(o),e}function Ij(e){return Math.log(e)}function zj(e){return Math.exp(e)}function gOe(e){return-Math.log(-e)}function mOe(e){return-Math.exp(-e)}function yOe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function vOe(e){return e===10?yOe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function bOe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function jj(e){return(t,n)=>-e(-t,n)}function xD(e){const t=e(Ij,zj),n=t.domain;let r=10,i,o;function s(){return i=bOe(r),o=vOe(r),n()[0]<0?(i=jj(i),o=jj(o),e(gOe,mOe)):e(Ij,zj),t}return t.base=function(a){return arguments.length?(r=+a,s()):r},t.domain=function(a){return arguments.length?(n(a),s()):n()},t.ticks=a=>{const l=n();let u=l[0],c=l[l.length-1];const f=c<u;f&&([u,c]=[c,u]);let d=i(u),h=i(c),p,g;const m=a==null?10:+a;let y=[];if(!(r%1)&&h-d<m){if(d=Math.floor(d),h=Math.ceil(h),u>0){for(;d<=h;++d)for(p=1;p<r;++p)if(g=d<0?p/o(-d):p*o(d),!(g<u)){if(g>c)break;y.push(g)}}else for(;d<=h;++d)for(p=r-1;p>=1;--p)if(g=d>0?p/o(-d):p*o(d),!(g<u)){if(g>c)break;y.push(g)}y.length*2<m&&(y=q3(u,c,m))}else y=q3(d,h,Math.min(h-d,m)).map(o);return f?y.reverse():y},t.tickFormat=(a,l)=>{if(a==null&&(a=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=yd(l)).precision==null&&(l.trim=!0),l=Mv(l)),a===1/0)return l;const u=Math.max(1,r*a/t.ticks().length);return c=>{let f=c/o(Math.round(i(c)));return f*r<r-.5&&(f*=r),f<=u?l(c):""}},t.nice=()=>n(gne(n(),{floor:a=>o(Math.floor(i(a))),ceil:a=>o(Math.ceil(i(a)))})),t}function mne(){const e=xD(mE()).domain([1,10]);return e.copy=()=>jv(e,mne()).base(e.base()),La.apply(e,arguments),e}function Bj(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function Uj(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function wD(e){var t=1,n=e(Bj(t),Uj(t));return n.constant=function(r){return arguments.length?e(Bj(t=+r),Uj(t)):t},Zd(n)}function yne(){var e=wD(mE());return e.copy=function(){return jv(e,yne()).constant(e.constant())},La.apply(e,arguments)}function Vj(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function xOe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function wOe(e){return e<0?-e*e:e*e}function SD(e){var t=e(di,di),n=1;function r(){return n===1?e(di,di):n===.5?e(xOe,wOe):e(Vj(n),Vj(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},Zd(t)}function kD(){var e=SD(mE());return e.copy=function(){return jv(e,kD()).exponent(e.exponent())},La.apply(e,arguments),e}function SOe(){return kD.apply(null,arguments).exponent(.5)}function vne(){var e=[],t=[],n=[],r;function i(){var s=0,a=Math.max(1,t.length);for(n=new Array(a-1);++s<a;)n[s-1]=EZ(e,s/a);return o}function o(s){return s==null||isNaN(s=+s)?r:t[gc(n,s)]}return o.invertExtent=function(s){var a=t.indexOf(s);return a<0?[NaN,NaN]:[a>0?n[a-1]:e[0],a<n.length?n[a]:e[e.length-1]]},o.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let a of s)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Cl),i()},o.range=function(s){return arguments.length?(t=Array.from(s),i()):t.slice()},o.unknown=function(s){return arguments.length?(r=s,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return vne().domain(e).range(t).unknown(r)},La.apply(o,arguments)}function bne(){var e=0,t=1,n=1,r=[.5],i=[0,1],o;function s(l){return l!=null&&l<=l?i[gc(r,l,0,n)]:o}function a(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*t-(l-n)*e)/(n+1);return s}return s.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,a()):[e,t]},s.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,a()):i.slice()},s.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[e,r[0]]:u>=n?[r[n-1],t]:[r[u-1],r[u]]},s.unknown=function(l){return arguments.length&&(o=l),s},s.thresholds=function(){return r.slice()},s.copy=function(){return bne().domain([e,t]).range(i).unknown(o)},La.apply(Zd(s),arguments)}function xne(){var e=[.5],t=[0,1],n,r=1;function i(o){return o!=null&&o<=o?t[gc(e,o,0,r)]:n}return i.domain=function(o){return arguments.length?(e=Array.from(o),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(o){return arguments.length?(t=Array.from(o),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(o){var s=t.indexOf(o);return[e[s-1],e[s]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return xne().domain(e).range(t).unknown(n)},La.apply(i,arguments)}function kOe(e){return new Date(e)}function COe(e){return e instanceof Date?+e:+new Date(+e)}function CD(e,t,n,r,i,o,s,a,l,u){var c=dne(),f=c.invert,d=c.domain,h=u(".%L"),p=u(":%S"),g=u("%I:%M"),m=u("%I %p"),y=u("%a %d"),v=u("%b %d"),b=u("%B"),x=u("%Y");function w(k){return(l(k)<k?h:a(k)<k?p:s(k)<k?g:o(k)<k?m:r(k)<k?i(k)<k?y:v:n(k)<k?b:x)(k)}return c.invert=function(k){return new Date(f(k))},c.domain=function(k){return arguments.length?d(Array.from(k,COe)):d().map(kOe)},c.ticks=function(k){var S=d();return e(S[0],S[S.length-1],k??10)},c.tickFormat=function(k,S){return S==null?w:u(S)},c.nice=function(k){var S=d();return(!k||typeof k.range!="function")&&(k=t(S[0],S[S.length-1],k??10)),k?d(gne(S,k)):c},c.copy=function(){return jv(c,CD(e,t,n,r,i,o,s,a,l,u))},c}function EOe(){return La.apply(CD(IPe,zPe,Cs,mg,Yd,Sa,Ov,Fv,hs,cO).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function _Oe(){return La.apply(CD(NPe,LPe,Es,yg,Kd,El,Dv,Rv,hs,fO).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function yE(){var e=0,t=1,n,r,i,o,s=di,a=!1,l;function u(f){return f==null||isNaN(f=+f)?l:s(i===0?.5:(f=(o(f)-n)*i,a?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,n=o(e=+e),r=o(t=+t),i=n===r?0:1/(r-n),u):[e,t]},u.clamp=function(f){return arguments.length?(a=!!f,u):a},u.interpolator=function(f){return arguments.length?(s=f,u):s};function c(f){return function(d){var h,p;return arguments.length?([h,p]=d,s=f(h,p),u):[s(0),s(1)]}}return u.range=c(Ic),u.rangeRound=c(ym),u.unknown=function(f){return arguments.length?(l=f,u):l},function(f){return o=f,n=f(e),r=f(t),i=n===r?0:1/(r-n),u}}function zc(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function ED(){var e=Zd(yE()(di));return e.copy=function(){return zc(e,ED())},Nc.apply(e,arguments)}function wne(){var e=xD(yE()).domain([1,10]);return e.copy=function(){return zc(e,wne()).base(e.base())},Nc.apply(e,arguments)}function Sne(){var e=wD(yE());return e.copy=function(){return zc(e,Sne()).constant(e.constant())},Nc.apply(e,arguments)}function _D(){var e=SD(yE());return e.copy=function(){return zc(e,_D()).exponent(e.exponent())},Nc.apply(e,arguments)}function $Oe(){return _D.apply(null,arguments).exponent(.5)}function vE(){var e=0,t=.5,n=1,r=1,i,o,s,a,l,u=di,c,f=!1,d;function h(g){return isNaN(g=+g)?d:(g=.5+((g=+c(g))-o)*(r*g<r*o?a:l),u(f?Math.max(0,Math.min(1,g)):g))}h.domain=function(g){return arguments.length?([e,t,n]=g,i=c(e=+e),o=c(t=+t),s=c(n=+n),a=i===o?0:.5/(o-i),l=o===s?0:.5/(s-o),r=o<i?-1:1,h):[e,t,n]},h.clamp=function(g){return arguments.length?(f=!!g,h):f},h.interpolator=function(g){return arguments.length?(u=g,h):u};function p(g){return function(m){var y,v,b;return arguments.length?([y,v,b]=m,u=vD(g,[y,v,b]),h):[u(0),u(.5),u(1)]}}return h.range=p(Ic),h.rangeRound=p(ym),h.unknown=function(g){return arguments.length?(d=g,h):d},function(g){return c=g,i=g(e),o=g(t),s=g(n),a=i===o?0:.5/(o-i),l=o===s?0:.5/(s-o),r=o<i?-1:1,h}}function kne(){var e=Zd(vE()(di));return e.copy=function(){return zc(e,kne())},Nc.apply(e,arguments)}function Cne(){var e=xD(vE()).domain([.1,1,10]);return e.copy=function(){return zc(e,Cne()).base(e.base())},Nc.apply(e,arguments)}function Ene(){var e=wD(vE());return e.copy=function(){return zc(e,Ene()).constant(e.constant())},Nc.apply(e,arguments)}function $D(){var e=SD(vE());return e.copy=function(){return zc(e,$D()).exponent(e.exponent())},Nc.apply(e,arguments)}function AOe(){return $D.apply(null,arguments).exponent(.5)}function Ia(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(r*6,++r*6);return n}const TOe=Ia("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),POe=Ia("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),MOe=Ia("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),FOe=Ia("4269d0efb118ff725c6cc5b03ca951ff8ab7a463f297bbf59c6b4e9498a0"),ROe=Ia("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),OOe=Ia("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),DOe=Ia("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),NOe=Ia("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),LOe=Ia("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),IOe=Ia("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f");function AD(e,t,n){const r=e-t+n*2;return e?r>0?r:1:0}const zOe="identity",Sg="linear",jl="log",Bv="pow",Uv="sqrt",bE="symlog",bd="time",xd="utc",Ea="sequential",vm="diverging",kg="quantile",xE="quantize",wE="threshold",TD="ordinal",pP="point",_ne="band",PD="bin-ordinal",_n="continuous",Vv="discrete",Wv="discretizing",Uo="interpolating",MD="temporal";function jOe(e){return function(t){let n=t[0],r=t[1],i;return r<n&&(i=n,n=r,r=i),[e.invert(n),e.invert(r)]}}function BOe(e){return function(t){const n=e.range();let r=t[0],i=t[1],o=-1,s,a,l,u;for(i<r&&(a=r,r=i,i=a),l=0,u=n.length;l<u;++l)n[l]>=r&&n[l]<=i&&(o<0&&(o=l),s=l);if(!(o<0))return r=e.invertExtent(n[o]),i=e.invertExtent(n[s]),[r[0]===void 0?r[1]:r[0],i[1]===void 0?i[0]:i[1]]}}function FD(){const e=hD().unknown(void 0),t=e.domain,n=e.range;let r=[0,1],i,o,s=!1,a=0,l=0,u=.5;delete e.unknown;function c(){const f=t().length,d=r[1]<r[0],h=r[1-d],p=AD(f,a,l);let g=r[d-0];i=(h-g)/(p||1),s&&(i=Math.floor(i)),g+=(h-g-i*(f-a))*u,o=i*(1-a),s&&(g=Math.round(g),o=Math.round(o));const m=Bi(f).map(y=>g+i*y);return n(d?m.reverse():m)}return e.domain=function(f){return arguments.length?(t(f),c()):t()},e.range=function(f){return arguments.length?(r=[+f[0],+f[1]],c()):r.slice()},e.rangeRound=function(f){return r=[+f[0],+f[1]],s=!0,c()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(f){return arguments.length?(s=!!f,c()):s},e.padding=function(f){return arguments.length?(l=Math.max(0,Math.min(1,f)),a=l,c()):a},e.paddingInner=function(f){return arguments.length?(a=Math.max(0,Math.min(1,f)),c()):a},e.paddingOuter=function(f){return arguments.length?(l=Math.max(0,Math.min(1,f)),c()):l},e.align=function(f){return arguments.length?(u=Math.max(0,Math.min(1,f)),c()):u},e.invertRange=function(f){if(f[0]==null||f[1]==null)return;const d=r[1]<r[0],h=d?n().reverse():n(),p=h.length-1;let g=+f[0],m=+f[1],y,v,b;if(!(g!==g||m!==m)&&(m<g&&(b=g,g=m,m=b),!(m<h[0]||g>r[1-d])))return y=Math.max(0,gc(h,g)-1),v=g===m?y:gc(h,m)-1,g-h[y]>o+1e-10&&++y,d&&(b=y,y=p-v,v=p-b),y>v?void 0:t().slice(y,v+1)},e.invert=function(f){const d=e.invertRange([f,f]);return d&&d[0]},e.copy=function(){return FD().domain(t()).range(r).round(s).paddingInner(a).paddingOuter(l).align(u)},c()}function $ne(e){const t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,e.copy=function(){return $ne(t())},e}function UOe(){return $ne(FD().paddingInner(1))}var VOe=Array.prototype.map;function WOe(e){return VOe.call(e,wr)}const HOe=Array.prototype.slice;function Ane(){let e=[],t=[];function n(r){return r==null||r!==r?void 0:t[(gc(e,r)-1)%t.length]}return n.domain=function(r){return arguments.length?(e=WOe(r),n):e.slice()},n.range=function(r){return arguments.length?(t=HOe.call(r),n):t.slice()},n.tickFormat=function(r,i){return hne(e[0],qe(e),r??10,i)},n.copy=function(){return Ane().domain(n.domain()).range(n.range())},n}const _S=new Map,Tne=Symbol("vega_scale");function Pne(e){return e[Tne]=!0,e}function qOe(e){return e&&e[Tne]===!0}function GOe(e,t,n){const r=function(){const o=t();return o.invertRange||(o.invertRange=o.invert?jOe(o):o.invertExtent?BOe(o):void 0),o.type=e,Pne(o)};return r.metadata=ks(le(n)),r}function et(e,t,n){return arguments.length>1?(_S.set(e,GOe(e,t,n)),this):Mne(e)?_S.get(e):void 0}et(zOe,pne);et(Sg,bD,_n);et(jl,mne,[_n,jl]);et(Bv,kD,_n);et(Uv,SOe,_n);et(bE,yne,_n);et(bd,EOe,[_n,MD]);et(xd,_Oe,[_n,MD]);et(Ea,ED,[_n,Uo]);et(`${Ea}-${Sg}`,ED,[_n,Uo]);et(`${Ea}-${jl}`,wne,[_n,Uo,jl]);et(`${Ea}-${Bv}`,_D,[_n,Uo]);et(`${Ea}-${Uv}`,$Oe,[_n,Uo]);et(`${Ea}-${bE}`,Sne,[_n,Uo]);et(`${vm}-${Sg}`,kne,[_n,Uo]);et(`${vm}-${jl}`,Cne,[_n,Uo,jl]);et(`${vm}-${Bv}`,$D,[_n,Uo]);et(`${vm}-${Uv}`,AOe,[_n,Uo]);et(`${vm}-${bE}`,Ene,[_n,Uo]);et(kg,vne,[Wv,kg]);et(xE,bne,Wv);et(wE,xne,Wv);et(PD,Ane,[Vv,Wv]);et(TD,hD,Vv);et(_ne,FD,Vv);et(pP,UOe,Vv);function Mne(e){return _S.has(e)}function eh(e,t){const n=_S.get(e);return n&&n.metadata[t]}function RD(e){return eh(e,_n)}function Cg(e){return eh(e,Vv)}function gP(e){return eh(e,Wv)}function Fne(e){return eh(e,jl)}function YOe(e){return eh(e,MD)}function Rne(e){return eh(e,Uo)}function One(e){return eh(e,kg)}const XOe=["clamp","base","constant","exponent"];function Dne(e,t){const n=t[0],r=qe(t)-n;return function(i){return e(n+i*r)}}function SE(e,t,n){return vD(OD(t||"rgb",n),e)}function Nne(e,t){const n=new Array(t),r=t+1;for(let i=0;i<t;)n[i]=e(++i/r);return n}function Lne(e,t,n){const r=n-t;let i,o,s;return!r||!Number.isFinite(r)?Tr(.5):(i=(o=e.type).indexOf("-"),o=i<0?o:o.slice(i+1),s=et(o)().domain([t,n]).range([0,1]),XOe.forEach(a=>e[a]?s[a](e[a]()):0),s)}function OD(e,t){const n=cOe[KOe(e)];return t!=null&&n&&n.gamma?n.gamma(t):n}function KOe(e){return"interpolate"+e.toLowerCase().split("-").map(t=>t[0].toUpperCase()+t.slice(1)).join("")}const QOe={blues:"cfe1f2bed8eca8cee58fc1de74b2d75ba3cf4592c63181bd206fb2125ca40a4a90",greens:"d3eecdc0e6baabdda594d3917bc77d60ba6c46ab5e329a512089430e7735036429",greys:"e2e2e2d4d4d4c4c4c4b1b1b19d9d9d8888887575756262624d4d4d3535351e1e1e",oranges:"fdd8b3fdc998fdb87bfda55efc9244f87f2cf06b18e4580bd14904b93d029f3303",purples:"e2e1efd4d4e8c4c5e0b4b3d6a3a0cc928ec3827cb97566ae684ea25c3696501f8c",reds:"fdc9b4fcb49afc9e80fc8767fa7051f6573fec3f2fdc2a25c81b1db21218970b13",blueGreen:"d5efedc1e8e0a7ddd18bd2be70c6a958ba9144ad77319c5d2089460e7736036429",bluePurple:"ccddecbad0e4a8c2dd9ab0d4919cc98d85be8b6db28a55a6873c99822287730f71",greenBlue:"d3eecec5e8c3b1e1bb9bd8bb82cec269c2ca51b2cd3c9fc7288abd1675b10b60a1",orangeRed:"fddcaffdcf9bfdc18afdad77fb9562f67d53ee6545e24932d32d1ebf130da70403",purpleBlue:"dbdaebc8cee4b1c3de97b7d87bacd15b9fc93a90c01e7fb70b70ab056199045281",purpleBlueGreen:"dbd8eac8cee4b0c3de93b7d872acd1549fc83892bb1c88a3097f8702736b016353",purpleRed:"dcc9e2d3b3d7ce9eccd186c0da6bb2e14da0e23189d91e6fc61159ab07498f023a",redPurple:"fccfccfcbec0faa9b8f98faff571a5ec539ddb3695c41b8aa908808d0179700174",yellowGreen:"e4f4acd1eca0b9e2949ed68880c97c62bb6e47aa5e3297502083440e723b036034",yellowOrangeBrown:"feeaa1fedd84fecc63feb746fca031f68921eb7215db5e0bc54c05ab3d038f3204",yellowOrangeRed:"fee087fed16ffebd59fea849fd903efc7335f9522bee3423de1b20ca0b22af0225",blueOrange:"134b852f78b35da2cb9dcae1d2e5eff2f0ebfce0bafbbf74e8932fc5690d994a07",brownBlueGreen:"704108a0651ac79548e3c78af3e6c6eef1eac9e9e48ed1c74da79e187a72025147",purpleGreen:"5b1667834792a67fb6c9aed3e6d6e8eff0efd9efd5aedda971bb75368e490e5e29",purpleOrange:"4114696647968f83b7b9b4d6dadbebf3eeeafce0bafbbf74e8932fc5690d994a07",redBlue:"8c0d25bf363adf745ef4ae91fbdbc9f2efeed2e5ef9dcae15da2cb2f78b3134b85",redGrey:"8c0d25bf363adf745ef4ae91fcdccbfaf4f1e2e2e2c0c0c0969696646464343434",yellowGreenBlue:"eff9bddbf1b4bde5b594d5b969c5be45b4c22c9ec02182b82163aa23479c1c3185",redYellowBlue:"a50026d4322cf16e43fcac64fedd90faf8c1dcf1ecabd6e875abd04a74b4313695",redYellowGreen:"a50026d4322cf16e43fcac63fedd8df9f7aed7ee8ea4d86e64bc6122964f006837",pinkYellowGreen:"8e0152c0267edd72adf0b3d6faddedf5f3efe1f2cab6de8780bb474f9125276419",spectral:"9e0142d13c4bf0704afcac63fedd8dfbf8b0e0f3a1a9dda269bda94288b55e4fa2",viridis:"440154470e61481a6c482575472f7d443a834144873d4e8a39568c35608d31688e2d708e2a788e27818e23888e21918d1f988b1fa08822a8842ab07f35b77943bf7154c56866cc5d7ad1518fd744a5db36bcdf27d2e21be9e51afde725",magma:"0000040404130b0924150e3720114b2c11603b0f704a107957157e651a80721f817f24828c29819a2e80a8327db6377ac43c75d1426fde4968e95462f1605df76f5cfa7f5efc8f65fe9f6dfeaf78febf84fece91fddea0fcedaffcfdbf",inferno:"0000040403130c0826170c3b240c4f330a5f420a68500d6c5d126e6b176e781c6d86216b932667a12b62ae305cbb3755c73e4cd24644dd513ae65c30ed6925f3771af8850ffb9506fca50afcb519fac62df6d645f2e661f3f484fcffa4",plasma:"0d088723069033059742039d5002a25d01a66a00a87801a88405a7900da49c179ea72198b12a90ba3488c33d80cb4779d35171da5a69e16462e76e5bed7953f2834cf68f44fa9a3dfca636fdb32ffec029fcce25f9dc24f5ea27f0f921",cividis:"00205100235800265d002961012b65042e670831690d346b11366c16396d1c3c6e213f6e26426e2c456e31476e374a6e3c4d6e42506e47536d4c566d51586e555b6e5a5e6e5e616e62646f66676f6a6a706e6d717270717573727976737c79747f7c75827f758682768985778c8877908b78938e789691789a94789e9778a19b78a59e77a9a177aea575b2a874b6ab73bbaf71c0b26fc5b66dc9b96acebd68d3c065d8c462ddc85fe2cb5ce7cf58ebd355f0d652f3da4ff7de4cfae249fce647",rainbow:"6e40aa883eb1a43db3bf3cafd83fa4ee4395fe4b83ff576eff6659ff7847ff8c38f3a130e2b72fcfcc36bee044aff05b8ff4576ff65b52f6673af27828ea8d1ddfa319d0b81cbecb23abd82f96e03d82e14c6edb5a5dd0664dbf6e40aa",sinebow:"ff4040fc582af47218e78d0bd5a703bfbf00a7d5038de70b72f41858fc2a40ff402afc5818f4720be78d03d5a700bfbf03a7d50b8de71872f42a58fc4040ff582afc7218f48d0be7a703d5bf00bfd503a7e70b8df41872fc2a58ff4040",turbo:"23171b32204a3e2a71453493493eae4b49c54a53d7485ee44569ee4074f53c7ff8378af93295f72e9ff42ba9ef28b3e926bce125c5d925cdcf27d5c629dcbc2de3b232e9a738ee9d3ff39347f68950f9805afc7765fd6e70fe667cfd5e88fc5795fb51a1f84badf545b9f140c5ec3cd0e637dae034e4d931ecd12ef4c92bfac029ffb626ffad24ffa223ff9821ff8d1fff821dff771cfd6c1af76118f05616e84b14df4111d5380fcb2f0dc0260ab61f07ac1805a313029b0f00950c00910b00",browns:"eedbbdecca96e9b97ae4a865dc9856d18954c7784cc0673fb85536ad44339f3632",tealBlues:"bce4d89dd3d181c3cb65b3c245a2b9368fae347da0306a932c5985",teals:"bbdfdfa2d4d58ac9c975bcbb61b0af4da5a43799982b8b8c1e7f7f127273006667",warmGreys:"dcd4d0cec5c1c0b8b4b3aaa7a59c9998908c8b827f7e7673726866665c5a59504e",goldGreen:"f4d166d5ca60b6c35c98bb597cb25760a6564b9c533f8f4f33834a257740146c36",goldOrange:"f4d166f8be5cf8aa4cf5983bf3852aef701be2621fd65322c54923b142239e3a26",goldRed:"f4d166f6be59f9aa51fc964ef6834bee734ae56249db5247cf4244c43141b71d3e",lightGreyRed:"efe9e6e1dad7d5cbc8c8bdb9bbaea9cd967ddc7b43e15f19df4011dc000b",lightGreyTeal:"e4eaead6dcddc8ced2b7c2c7a6b4bc64b0bf22a6c32295c11f85be1876bc",lightMulti:"e0f1f2c4e9d0b0de9fd0e181f6e072f6c053f3993ef77440ef4a3c",lightOrange:"f2e7daf7d5baf9c499fab184fa9c73f68967ef7860e8645bde515bd43d5b",lightTealBlue:"e3e9e0c0dccf9aceca7abfc859afc0389fb9328dad2f7ca0276b95255988",darkBlue:"3232322d46681a5c930074af008cbf05a7ce25c0dd38daed50f3faffffff",darkGold:"3c3c3c584b37725e348c7631ae8b2bcfa424ecc31ef9de30fff184ffffff",darkGreen:"3a3a3a215748006f4d048942489e4276b340a6c63dd2d836ffeb2cffffaa",darkMulti:"3737371f5287197d8c29a86995ce3fffe800ffffff",darkRed:"3434347036339e3c38cc4037e75d1eec8620eeab29f0ce32ffeb2c"},JOe={accent:POe,category10:TOe,category20:"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5",category20b:"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6",category20c:"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9",dark2:MOe,observable10:FOe,paired:ROe,pastel1:OOe,pastel2:DOe,set1:NOe,set2:LOe,set3:IOe,tableau10:"4c78a8f58518e4575672b7b254a24beeca3bb279a2ff9da69d755dbab0ac",tableau20:"4c78a89ecae9f58518ffbf7954a24b88d27ab79a20f2cf5b43989483bcb6e45756ff9d9879706ebab0acd67195fcbfd2b279a2d6a5c99e765fd8b5a5"};function Ine(e){if(Y(e))return e;const t=e.length/6|0,n=new Array(t);for(let r=0;r<t;)n[r]="#"+e.slice(r*6,++r*6);return n}function zne(e,t){for(const n in e)DD(n,t(e[n]))}const Wj={};zne(JOe,Ine);zne(QOe,e=>SE(Ine(e)));function DD(e,t){return e=e&&e.toLowerCase(),arguments.length>1?(Wj[e]=t,this):Wj[e]}const Bw="symbol",ZOe="discrete",eDe="gradient",tDe=e=>Y(e)?e.map(t=>String(t)):String(e),nDe=(e,t)=>e[1]-t[1],rDe=(e,t)=>t[1]-e[1];function ND(e,t,n){let r;return Je(t)&&(e.bins&&(t=Math.max(t,e.bins.length)),n!=null&&(t=Math.min(t,Math.floor(Pv(e.domain())/n||1)+1))),se(t)&&(r=t.step,t=t.interval),ue(t)&&(t=e.type===bd?hm(t):e.type==xd?pm(t):G("Only time and utc scales accept interval strings."),r&&(t=t.every(r))),t}function jne(e,t,n){let r=e.range(),i=r[0],o=qe(r),s=nDe;if(i>o&&(r=o,o=i,i=r,s=rDe),i=Math.floor(i),o=Math.ceil(o),t=t.map(a=>[a,e(a)]).filter(a=>i<=a[1]&&a[1]<=o).sort(s).map(a=>a[0]),n>0&&t.length>1){const a=[t[0],qe(t)];for(;t.length>n&&t.length>=3;)t=t.filter((l,u)=>!(u%2));t.length<3&&(t=a)}return t}function LD(e,t){return e.bins?jne(e,e.bins,t):e.ticks?e.ticks(t):e.domain()}function Bne(e,t,n,r,i,o){const s=t.type;let a=tDe;if(s===bd||i===bd)a=e.timeFormat(r);else if(s===xd||i===xd)a=e.utcFormat(r);else if(Fne(s)){const l=e.formatFloat(r);if(o||t.bins)a=l;else{const u=Une(t,n,!1);a=c=>u(c)?l(c):""}}else if(t.tickFormat){const l=t.domain();a=e.formatSpan(l[0],l[l.length-1],n,r)}else r&&(a=e.format(r));return a}function Une(e,t,n){const r=LD(e,t),i=e.base(),o=Math.log(i),s=Math.max(1,i*t/r.length),a=l=>{let u=l/Math.pow(i,Math.round(Math.log(l)/o));return u*i<i-.5&&(u*=i),u<=s};return n?r.filter(a):a}const mP={[kg]:"quantiles",[xE]:"thresholds",[wE]:"domain"},Vne={[kg]:"quantiles",[xE]:"domain"};function Wne(e,t){return e.bins?sDe(e.bins):e.type===jl?Une(e,t,!0):mP[e.type]?oDe(e[mP[e.type]]()):LD(e,t)}function iDe(e,t,n){const r=t[Vne[t.type]](),i=r.length;let o=i>1?r[1]-r[0]:r[0],s;for(s=1;s<i;++s)o=Math.min(o,r[s]-r[s-1]);return e.formatSpan(0,o,3*10,n)}function oDe(e){const t=[-1/0].concat(e);return t.max=1/0,t}function sDe(e){const t=e.slice(0,-1);return t.max=qe(e),t}const aDe=e=>mP[e.type]||e.bins;function Hne(e,t,n,r,i,o,s){const a=Vne[t.type]&&o!==bd&&o!==xd?iDe(e,t,i):Bne(e,t,n,i,o,s);return r===Bw&&aDe(t)?lDe(a):r===ZOe?uDe(a):cDe(a)}const lDe=e=>(t,n,r)=>{const i=Hj(r[n+1],Hj(r.max,1/0)),o=qj(t,e),s=qj(i,e);return o&&s?o+"  "+s:s?"< "+s:" "+o},Hj=(e,t)=>e??t,uDe=e=>(t,n)=>n?e(t):null,cDe=e=>t=>e(t),qj=(e,t)=>Number.isFinite(e)?t(e):null;function fDe(e){const t=e.domain(),n=t.length-1;let r=+t[0],i=+qe(t),o=i-r;if(e.type===wE){const s=n?o/n:.1;r-=s,i+=s,o=i-r}return s=>(s-r)/o}function dDe(e,t,n,r){const i=r||t.type;return ue(n)&&YOe(i)&&(n=n.replace(/%a/g,"%A").replace(/%b/g,"%B")),!n&&i===bd?e.timeFormat("%A, %d %B %Y, %X"):!n&&i===xd?e.utcFormat("%A, %d %B %Y, %X UTC"):Hne(e,t,5,null,n,r,!0)}function qne(e,t,n){n=n||{};const r=Math.max(3,n.maxlen||7),i=dDe(e,t,n.format,n.formatType);if(gP(t.type)){const o=Wne(t).slice(1).map(i),s=o.length;return`${s} boundar${s===1?"y":"ies"}: ${o.join(", ")}`}else if(Cg(t.type)){const o=t.domain(),s=o.length,a=s>r?o.slice(0,r-2).map(i).join(", ")+", ending with "+o.slice(-1).map(i):o.map(i).join(", ");return`${s} value${s===1?"":"s"}: ${a}`}else{const o=t.domain();return`values from ${i(o[0])} to ${i(qe(o))}`}}let Gne=0;function hDe(){Gne=0}const $S="p_";function ID(e){return e&&e.gradient}function Yne(e,t,n){const r=e.gradient;let i=e.id,o=r==="radial"?$S:"";return i||(i=e.id="gradient_"+Gne++,r==="radial"?(e.x1=Hs(e.x1,.5),e.y1=Hs(e.y1,.5),e.r1=Hs(e.r1,0),e.x2=Hs(e.x2,.5),e.y2=Hs(e.y2,.5),e.r2=Hs(e.r2,.5),o=$S):(e.x1=Hs(e.x1,0),e.y1=Hs(e.y1,0),e.x2=Hs(e.x2,1),e.y2=Hs(e.y2,0))),t[i]=e,"url("+(n||"")+"#"+o+i+")"}function Hs(e,t){return e??t}function Xne(e,t){var n=[],r;return r={gradient:"linear",x1:e?e[0]:0,y1:e?e[1]:0,x2:t?t[0]:1,y2:t?t[1]:0,stops:n,stop:function(i,o){return n.push({offset:i,color:o}),r}}}const Gj={basis:{curve:gRe},"basis-closed":{curve:mRe},"basis-open":{curve:yRe},bundle:{curve:vRe,tension:"beta",value:.85},cardinal:{curve:bRe,tension:"tension",value:0},"cardinal-open":{curve:wRe,tension:"tension",value:0},"cardinal-closed":{curve:xRe,tension:"tension",value:0},"catmull-rom":{curve:SRe,tension:"alpha",value:.5},"catmull-rom-closed":{curve:kRe,tension:"alpha",value:.5},"catmull-rom-open":{curve:CRe,tension:"alpha",value:.5},linear:{curve:lD},"linear-closed":{curve:ERe},monotone:{horizontal:$Re,vertical:_Re},natural:{curve:ARe},step:{curve:TRe},"step-after":{curve:MRe},"step-before":{curve:PRe}};function zD(e,t,n){var r=fe(Gj,e)&&Gj[e],i=null;return r&&(i=r.curve||r[t||"vertical"],r.tension&&n!=null&&(i=i[r.tension](n))),i}const pDe={m:2,l:2,h:1,v:1,z:0,c:6,s:4,q:4,t:2,a:7},gDe=/[mlhvzcsqta]([^mlhvzcsqta]+|$)/gi,mDe=/^[+-]?(([0-9]*\.[0-9]+)|([0-9]+\.)|([0-9]+))([eE][+-]?[0-9]+)?/,yDe=/^((\s+,?\s*)|(,\s*))/,vDe=/^[01]/;function Eg(e){const t=[];return(e.match(gDe)||[]).forEach(r=>{let i=r[0];const o=i.toLowerCase(),s=pDe[o],a=bDe(o,s,r.slice(1).trim()),l=a.length;if(l<s||l&&l%s!==0)throw Error("Invalid SVG path, incorrect parameter count");if(t.push([i,...a.slice(0,s)]),l!==s){o==="m"&&(i=i==="M"?"L":"l");for(let u=s;u<l;u+=s)t.push([i,...a.slice(u,u+s)])}}),t}function bDe(e,t,n){const r=[];for(let i=0;t&&i<n.length;)for(let o=0;o<t;++o){const s=e==="a"&&(o===3||o===4)?vDe:mDe,a=n.slice(i).match(s);if(a===null)throw Error("Invalid SVG path, incorrect parameter type");i+=a[0].length,r.push(+a[0]);const l=n.slice(i).match(yDe);l!==null&&(i+=l[0].length)}return r}const xc=Math.PI/180,xDe=1e-14,Ef=Math.PI/2,la=Math.PI*2,Ch=Math.sqrt(3)/2;var qA={},GA={},Kne=[].join;function wDe(e,t,n,r,i,o,s,a,l){const u=Kne.call(arguments);if(qA[u])return qA[u];const c=s*xc,f=Math.sin(c),d=Math.cos(c);n=Math.abs(n),r=Math.abs(r);const h=d*(a-e)*.5+f*(l-t)*.5,p=d*(l-t)*.5-f*(a-e)*.5;let g=h*h/(n*n)+p*p/(r*r);g>1&&(g=Math.sqrt(g),n*=g,r*=g);const m=d/n,y=f/n,v=-f/r,b=d/r,x=m*a+y*l,w=v*a+b*l,k=m*e+y*t,S=v*e+b*t;let E=1/((k-x)*(k-x)+(S-w)*(S-w))-.25;E<0&&(E=0);let A=Math.sqrt(E);o==i&&(A=-A);const T=.5*(x+k)-A*(S-w),L=.5*(w+S)+A*(k-x),F=Math.atan2(w-L,x-T);let _=Math.atan2(S-L,k-T)-F;_<0&&o===1?_+=la:_>0&&o===0&&(_-=la);const P=Math.ceil(Math.abs(_/(Ef+.001))),N=[];for(let D=0;D<P;++D){const I=F+D*_/P,U=F+(D+1)*_/P;N[D]=[T,L,I,U,n,r,f,d]}return qA[u]=N}function SDe(e){const t=Kne.call(e);if(GA[t])return GA[t];var n=e[0],r=e[1],i=e[2],o=e[3],s=e[4],a=e[5],l=e[6],u=e[7];const c=u*s,f=-l*a,d=l*s,h=u*a,p=Math.cos(i),g=Math.sin(i),m=Math.cos(o),y=Math.sin(o),v=.5*(o-i),b=Math.sin(v*.5),x=8/3*b*b/Math.sin(v),w=n+p-x*g,k=r+g+x*p,S=n+m,C=r+y,E=S+x*y,A=C-x*m;return GA[t]=[c*w+f*k,d*w+h*k,c*E+f*A,d*E+h*A,c*S+f*C,d*S+h*C]}const co=["l",0,0,0,0,0,0,0];function kDe(e,t,n){const r=co[0]=e[0];if(r==="a"||r==="A")co[1]=t*e[1],co[2]=n*e[2],co[3]=e[3],co[4]=e[4],co[5]=e[5],co[6]=t*e[6],co[7]=n*e[7];else if(r==="h"||r==="H")co[1]=t*e[1];else if(r==="v"||r==="V")co[1]=n*e[1];else for(var i=1,o=e.length;i<o;++i)co[i]=(i%2==1?t:n)*e[i];return co}function D1(e,t,n,r,i,o){var s,a=null,l=0,u=0,c=0,f=0,d,h,p,g,m=0,y=0;n==null&&(n=0),r==null&&(r=0),i==null&&(i=1),o==null&&(o=i),e.beginPath&&e.beginPath();for(var v=0,b=t.length;v<b;++v){switch(s=t[v],(i!==1||o!==1)&&(s=kDe(s,i,o)),s[0]){case"l":l+=s[1],u+=s[2],e.lineTo(l+n,u+r);break;case"L":l=s[1],u=s[2],e.lineTo(l+n,u+r);break;case"h":l+=s[1],e.lineTo(l+n,u+r);break;case"H":l=s[1],e.lineTo(l+n,u+r);break;case"v":u+=s[1],e.lineTo(l+n,u+r);break;case"V":u=s[1],e.lineTo(l+n,u+r);break;case"m":l+=s[1],u+=s[2],m=l,y=u,e.moveTo(l+n,u+r);break;case"M":l=s[1],u=s[2],m=l,y=u,e.moveTo(l+n,u+r);break;case"c":d=l+s[5],h=u+s[6],c=l+s[3],f=u+s[4],e.bezierCurveTo(l+s[1]+n,u+s[2]+r,c+n,f+r,d+n,h+r),l=d,u=h;break;case"C":l=s[5],u=s[6],c=s[3],f=s[4],e.bezierCurveTo(s[1]+n,s[2]+r,c+n,f+r,l+n,u+r);break;case"s":d=l+s[3],h=u+s[4],c=2*l-c,f=2*u-f,e.bezierCurveTo(c+n,f+r,l+s[1]+n,u+s[2]+r,d+n,h+r),c=l+s[1],f=u+s[2],l=d,u=h;break;case"S":d=s[3],h=s[4],c=2*l-c,f=2*u-f,e.bezierCurveTo(c+n,f+r,s[1]+n,s[2]+r,d+n,h+r),l=d,u=h,c=s[1],f=s[2];break;case"q":d=l+s[3],h=u+s[4],c=l+s[1],f=u+s[2],e.quadraticCurveTo(c+n,f+r,d+n,h+r),l=d,u=h;break;case"Q":d=s[3],h=s[4],e.quadraticCurveTo(s[1]+n,s[2]+r,d+n,h+r),l=d,u=h,c=s[1],f=s[2];break;case"t":d=l+s[1],h=u+s[2],a[0].match(/[QqTt]/)===null?(c=l,f=u):a[0]==="t"?(c=2*l-p,f=2*u-g):a[0]==="q"&&(c=2*l-c,f=2*u-f),p=c,g=f,e.quadraticCurveTo(c+n,f+r,d+n,h+r),l=d,u=h,c=l+s[1],f=u+s[2];break;case"T":d=s[1],h=s[2],c=2*l-c,f=2*u-f,e.quadraticCurveTo(c+n,f+r,d+n,h+r),l=d,u=h;break;case"a":Yj(e,l+n,u+r,[s[1],s[2],s[3],s[4],s[5],s[6]+l+n,s[7]+u+r]),l+=s[6],u+=s[7];break;case"A":Yj(e,l+n,u+r,[s[1],s[2],s[3],s[4],s[5],s[6]+n,s[7]+r]),l=s[6],u=s[7];break;case"z":case"Z":l=m,u=y,e.closePath();break}a=s}}function Yj(e,t,n,r){const i=wDe(r[5],r[6],r[0],r[1],r[3],r[4],r[2],t,n);for(let o=0;o<i.length;++o){const s=SDe(i[o]);e.bezierCurveTo(s[0],s[1],s[2],s[3],s[4],s[5])}}const Xj=.5773502691896257,Kj={circle:{draw:function(e,t){const n=Math.sqrt(t)/2;e.moveTo(n,0),e.arc(0,0,n,0,la)}},cross:{draw:function(e,t){var n=Math.sqrt(t)/2,r=n/2.5;e.moveTo(-n,-r),e.lineTo(-n,r),e.lineTo(-r,r),e.lineTo(-r,n),e.lineTo(r,n),e.lineTo(r,r),e.lineTo(n,r),e.lineTo(n,-r),e.lineTo(r,-r),e.lineTo(r,-n),e.lineTo(-r,-n),e.lineTo(-r,-r),e.closePath()}},diamond:{draw:function(e,t){const n=Math.sqrt(t)/2;e.moveTo(-n,0),e.lineTo(0,-n),e.lineTo(n,0),e.lineTo(0,n),e.closePath()}},square:{draw:function(e,t){var n=Math.sqrt(t),r=-n/2;e.rect(r,r,n,n)}},arrow:{draw:function(e,t){var n=Math.sqrt(t)/2,r=n/7,i=n/2.5,o=n/8;e.moveTo(-r,n),e.lineTo(r,n),e.lineTo(r,-o),e.lineTo(i,-o),e.lineTo(0,-n),e.lineTo(-i,-o),e.lineTo(-r,-o),e.closePath()}},wedge:{draw:function(e,t){var n=Math.sqrt(t)/2,r=Ch*n,i=r-n*Xj,o=n/4;e.moveTo(0,-r-i),e.lineTo(-o,r-i),e.lineTo(o,r-i),e.closePath()}},triangle:{draw:function(e,t){var n=Math.sqrt(t)/2,r=Ch*n,i=r-n*Xj;e.moveTo(0,-r-i),e.lineTo(-n,r-i),e.lineTo(n,r-i),e.closePath()}},"triangle-up":{draw:function(e,t){var n=Math.sqrt(t)/2,r=Ch*n;e.moveTo(0,-r),e.lineTo(-n,r),e.lineTo(n,r),e.closePath()}},"triangle-down":{draw:function(e,t){var n=Math.sqrt(t)/2,r=Ch*n;e.moveTo(0,r),e.lineTo(-n,-r),e.lineTo(n,-r),e.closePath()}},"triangle-right":{draw:function(e,t){var n=Math.sqrt(t)/2,r=Ch*n;e.moveTo(r,0),e.lineTo(-r,-n),e.lineTo(-r,n),e.closePath()}},"triangle-left":{draw:function(e,t){var n=Math.sqrt(t)/2,r=Ch*n;e.moveTo(-r,0),e.lineTo(r,-n),e.lineTo(r,n),e.closePath()}},stroke:{draw:function(e,t){const n=Math.sqrt(t)/2;e.moveTo(-n,0),e.lineTo(n,0)}}};function Qne(e){return fe(Kj,e)?Kj[e]:CDe(e)}var YA={};function CDe(e){if(!fe(YA,e)){const t=Eg(e);YA[e]={draw:function(n,r){D1(n,t,0,0,Math.sqrt(r)/2)}}}return YA[e]}const uu=.448084975506;function EDe(e){return e.x}function _De(e){return e.y}function $De(e){return e.width}function ADe(e){return e.height}function Qa(e){return typeof e=="function"?e:()=>+e}function kx(e,t,n){return Math.max(t,Math.min(e,n))}function Jne(){var e=EDe,t=_De,n=$De,r=ADe,i=Qa(0),o=i,s=i,a=i,l=null;function u(c,f,d){var h,p=f??+e.call(this,c),g=d??+t.call(this,c),m=+n.call(this,c),y=+r.call(this,c),v=Math.min(m,y)/2,b=kx(+i.call(this,c),0,v),x=kx(+o.call(this,c),0,v),w=kx(+s.call(this,c),0,v),k=kx(+a.call(this,c),0,v);if(l||(l=h=uE()),b<=0&&x<=0&&w<=0&&k<=0)l.rect(p,g,m,y);else{var S=p+m,C=g+y;l.moveTo(p+b,g),l.lineTo(S-x,g),l.bezierCurveTo(S-uu*x,g,S,g+uu*x,S,g+x),l.lineTo(S,C-k),l.bezierCurveTo(S,C-uu*k,S-uu*k,C,S-k,C),l.lineTo(p+w,C),l.bezierCurveTo(p+uu*w,C,p,C-uu*w,p,C-w),l.lineTo(p,g+b),l.bezierCurveTo(p,g+uu*b,p+uu*b,g,p+b,g),l.closePath()}if(h)return l=null,h+""||null}return u.x=function(c){return arguments.length?(e=Qa(c),u):e},u.y=function(c){return arguments.length?(t=Qa(c),u):t},u.width=function(c){return arguments.length?(n=Qa(c),u):n},u.height=function(c){return arguments.length?(r=Qa(c),u):r},u.cornerRadius=function(c,f,d,h){return arguments.length?(i=Qa(c),o=f!=null?Qa(f):i,a=d!=null?Qa(d):i,s=h!=null?Qa(h):o,u):i},u.context=function(c){return arguments.length?(l=c??null,u):l},u}function Zne(){var e,t,n,r,i=null,o,s,a,l;function u(f,d,h){const p=h/2;if(o){var g=a-d,m=f-s;if(g||m){var y=Math.hypot(g,m),v=(g/=y)*l,b=(m/=y)*l,x=Math.atan2(m,g);i.moveTo(s-v,a-b),i.lineTo(f-g*p,d-m*p),i.arc(f,d,p,x-Math.PI,x),i.lineTo(s+v,a+b),i.arc(s,a,l,x,x+Math.PI)}else i.arc(f,d,p,0,la);i.closePath()}else o=1;s=f,a=d,l=p}function c(f){var d,h=f.length,p,g=!1,m;for(i==null&&(i=m=uE()),d=0;d<=h;++d)!(d<h&&r(p=f[d],d,f))===g&&(g=!g)&&(o=0),g&&u(+e(p,d,f),+t(p,d,f),+n(p,d,f));if(m)return i=null,m+""||null}return c.x=function(f){return arguments.length?(e=f,c):e},c.y=function(f){return arguments.length?(t=f,c):t},c.size=function(f){return arguments.length?(n=f,c):n},c.defined=function(f){return arguments.length?(r=f,c):r},c.context=function(f){return arguments.length?(f==null?i=null:i=f,c):i},c}function Hv(e,t){return e??t}const qv=e=>e.x||0,Gv=e=>e.y||0,TDe=e=>e.width||0,PDe=e=>e.height||0,MDe=e=>(e.x||0)+(e.width||0),FDe=e=>(e.y||0)+(e.height||0),RDe=e=>e.startAngle||0,ODe=e=>e.endAngle||0,DDe=e=>e.padAngle||0,NDe=e=>e.innerRadius||0,LDe=e=>e.outerRadius||0,IDe=e=>e.cornerRadius||0,zDe=e=>Hv(e.cornerRadiusTopLeft,e.cornerRadius)||0,jDe=e=>Hv(e.cornerRadiusTopRight,e.cornerRadius)||0,BDe=e=>Hv(e.cornerRadiusBottomRight,e.cornerRadius)||0,UDe=e=>Hv(e.cornerRadiusBottomLeft,e.cornerRadius)||0,VDe=e=>Hv(e.size,64),WDe=e=>e.size||1,kE=e=>e.defined!==!1,HDe=e=>Qne(e.shape||"circle"),qDe=dRe().startAngle(RDe).endAngle(ODe).padAngle(DDe).innerRadius(NDe).outerRadius(LDe).cornerRadius(IDe),GDe=Ste().x(qv).y1(Gv).y0(FDe).defined(kE),YDe=Ste().y(Gv).x1(qv).x0(MDe).defined(kE),XDe=wte().x(qv).y(Gv).defined(kE),KDe=Jne().x(qv).y(Gv).width(TDe).height(PDe).cornerRadius(zDe,jDe,BDe,UDe),QDe=pRe().type(HDe).size(VDe),JDe=Zne().x(qv).y(Gv).defined(kE).size(WDe);function jD(e){return e.cornerRadius||e.cornerRadiusTopLeft||e.cornerRadiusTopRight||e.cornerRadiusBottomRight||e.cornerRadiusBottomLeft}function ZDe(e,t){return qDe.context(e)(t)}function e6e(e,t){const n=t[0],r=n.interpolate||"linear";return(n.orient==="horizontal"?YDe:GDe).curve(zD(r,n.orient,n.tension)).context(e)(t)}function t6e(e,t){const n=t[0],r=n.interpolate||"linear";return XDe.curve(zD(r,n.orient,n.tension)).context(e)(t)}function bm(e,t,n,r){return KDe.context(e)(t,n,r)}function n6e(e,t){return(t.mark.shape||t.shape).context(e)(t)}function r6e(e,t){return QDe.context(e)(t)}function i6e(e,t){return JDe.context(e)(t)}var ere=1;function tre(){ere=1}function BD(e,t,n){var r=t.clip,i=e._defs,o=t.clip_id||(t.clip_id="clip"+ere++),s=i.clipping[o]||(i.clipping[o]={id:o});return Ne(r)?s.path=r(null):jD(n)?s.path=bm(null,n,0,0):(s.width=n.width||0,s.height=n.height||0),"url(#"+o+")"}function gn(e){this.clear(),e&&this.union(e)}gn.prototype={clone(){return new gn(this)},clear(){return this.x1=+Number.MAX_VALUE,this.y1=+Number.MAX_VALUE,this.x2=-Number.MAX_VALUE,this.y2=-Number.MAX_VALUE,this},empty(){return this.x1===+Number.MAX_VALUE&&this.y1===+Number.MAX_VALUE&&this.x2===-Number.MAX_VALUE&&this.y2===-Number.MAX_VALUE},equals(e){return this.x1===e.x1&&this.y1===e.y1&&this.x2===e.x2&&this.y2===e.y2},set(e,t,n,r){return n<e?(this.x2=e,this.x1=n):(this.x1=e,this.x2=n),r<t?(this.y2=t,this.y1=r):(this.y1=t,this.y2=r),this},add(e,t){return e<this.x1&&(this.x1=e),t<this.y1&&(this.y1=t),e>this.x2&&(this.x2=e),t>this.y2&&(this.y2=t),this},expand(e){return this.x1-=e,this.y1-=e,this.x2+=e,this.y2+=e,this},round(){return this.x1=Math.floor(this.x1),this.y1=Math.floor(this.y1),this.x2=Math.ceil(this.x2),this.y2=Math.ceil(this.y2),this},scale(e){return this.x1*=e,this.y1*=e,this.x2*=e,this.y2*=e,this},translate(e,t){return this.x1+=e,this.x2+=e,this.y1+=t,this.y2+=t,this},rotate(e,t,n){const r=this.rotatedPoints(e,t,n);return this.clear().add(r[0],r[1]).add(r[2],r[3]).add(r[4],r[5]).add(r[6],r[7])},rotatedPoints(e,t,n){var{x1:r,y1:i,x2:o,y2:s}=this,a=Math.cos(e),l=Math.sin(e),u=t-t*a+n*l,c=n-t*l-n*a;return[a*r-l*i+u,l*r+a*i+c,a*r-l*s+u,l*r+a*s+c,a*o-l*i+u,l*o+a*i+c,a*o-l*s+u,l*o+a*s+c]},union(e){return e.x1<this.x1&&(this.x1=e.x1),e.y1<this.y1&&(this.y1=e.y1),e.x2>this.x2&&(this.x2=e.x2),e.y2>this.y2&&(this.y2=e.y2),this},intersect(e){return e.x1>this.x1&&(this.x1=e.x1),e.y1>this.y1&&(this.y1=e.y1),e.x2<this.x2&&(this.x2=e.x2),e.y2<this.y2&&(this.y2=e.y2),this},encloses(e){return e&&this.x1<=e.x1&&this.x2>=e.x2&&this.y1<=e.y1&&this.y2>=e.y2},alignsWith(e){return e&&(this.x1==e.x1||this.x2==e.x2||this.y1==e.y1||this.y2==e.y2)},intersects(e){return e&&!(this.x2<e.x1||this.x1>e.x2||this.y2<e.y1||this.y1>e.y2)},contains(e,t){return!(e<this.x1||e>this.x2||t<this.y1||t>this.y2)},width(){return this.x2-this.x1},height(){return this.y2-this.y1}};function CE(e){this.mark=e,this.bounds=this.bounds||new gn}function EE(e){CE.call(this,e),this.items=this.items||[]}re(EE,CE);class nre{constructor(t){this._pending=0,this._loader=t||QC()}pending(){return this._pending}sanitizeURL(t){const n=this;return Qj(n),n._loader.sanitize(t,{context:"href"}).then(r=>(a0(n),r)).catch(()=>(a0(n),null))}loadImage(t){const n=this,r=FRe();return Qj(n),n._loader.sanitize(t,{context:"image"}).then(i=>{const o=i.href;if(!o||!r)throw{url:o};const s=new r,a=fe(i,"crossOrigin")?i.crossOrigin:"anonymous";return a!=null&&(s.crossOrigin=a),s.onload=()=>a0(n),s.onerror=()=>a0(n),s.src=o,s}).catch(i=>(a0(n),{complete:!1,width:0,height:0,src:i&&i.url||""}))}ready(){const t=this;return new Promise(n=>{function r(i){t.pending()?setTimeout(()=>{r(!0)},10):n(i)}r(!1)})}}function Qj(e){e._pending+=1}function a0(e){e._pending-=1}function Xl(e,t,n){if(t.stroke&&t.opacity!==0&&t.strokeOpacity!==0){const r=t.strokeWidth!=null?+t.strokeWidth:1;e.expand(r+(n?o6e(t,r):0))}return e}function o6e(e,t){return e.strokeJoin&&e.strokeJoin!=="miter"?0:t}const s6e=la-1e-8;let _E,Uw,Vw,Lf,yP,Ww,vP,bP;const Lu=(e,t)=>_E.add(e,t),Hw=(e,t)=>Lu(Uw=e,Vw=t),Jj=e=>Lu(e,_E.y1),Zj=e=>Lu(_E.x1,e),_f=(e,t)=>yP*e+vP*t,$f=(e,t)=>Ww*e+bP*t,XA=(e,t)=>Lu(_f(e,t),$f(e,t)),KA=(e,t)=>Hw(_f(e,t),$f(e,t));function Yv(e,t){return _E=e,t?(Lf=t*xc,yP=bP=Math.cos(Lf),Ww=Math.sin(Lf),vP=-Ww):(yP=bP=1,Lf=Ww=vP=0),a6e}const a6e={beginPath(){},closePath(){},moveTo:KA,lineTo:KA,rect(e,t,n,r){Lf?(XA(e+n,t),XA(e+n,t+r),XA(e,t+r),KA(e,t)):(Lu(e+n,t+r),Hw(e,t))},quadraticCurveTo(e,t,n,r){const i=_f(e,t),o=$f(e,t),s=_f(n,r),a=$f(n,r);eB(Uw,i,s,Jj),eB(Vw,o,a,Zj),Hw(s,a)},bezierCurveTo(e,t,n,r,i,o){const s=_f(e,t),a=$f(e,t),l=_f(n,r),u=$f(n,r),c=_f(i,o),f=$f(i,o);tB(Uw,s,l,c,Jj),tB(Vw,a,u,f,Zj),Hw(c,f)},arc(e,t,n,r,i,o){if(r+=Lf,i+=Lf,Uw=n*Math.cos(i)+e,Vw=n*Math.sin(i)+t,Math.abs(i-r)>s6e)Lu(e-n,t-n),Lu(e+n,t+n);else{const s=u=>Lu(n*Math.cos(u)+e,n*Math.sin(u)+t);let a,l;if(s(r),s(i),i!==r)if(r=r%la,r<0&&(r+=la),i=i%la,i<0&&(i+=la),i<r&&(o=!o,a=r,r=i,i=a),o)for(i-=la,a=r-r%Ef,l=0;l<4&&a>i;++l,a-=Ef)s(a);else for(a=r-r%Ef+Ef,l=0;l<4&&a<i;++l,a=a+Ef)s(a)}}};function eB(e,t,n,r){const i=(e-t)/(e+n-2*t);0<i&&i<1&&r(e+(t-e)*i)}function tB(e,t,n,r,i){const o=r-e+3*t-3*n,s=e+n-2*t,a=e-t;let l=0,u=0,c;Math.abs(o)>xDe?(c=s*s+a*o,c>=0&&(c=Math.sqrt(c),l=(-s+c)/o,u=(-s-c)/o)):l=.5*a/s,0<l&&l<1&&i(nB(l,e,t,n,r)),0<u&&u<1&&i(nB(u,e,t,n,r))}function nB(e,t,n,r,i){const o=1-e,s=o*o,a=e*e;return s*o*t+3*s*e*n+3*o*a*r+a*e*i}var sc=(sc=oc(1,1))?sc.getContext("2d"):null;const xP=new gn;function UD(e){return function(t,n){if(!sc)return!0;e(sc,t),xP.clear().union(t.bounds).intersect(n).round();const{x1:r,y1:i,x2:o,y2:s}=xP;for(let a=i;a<=s;++a)for(let l=r;l<=o;++l)if(sc.isPointInPath(l,a))return!0;return!1}}function VD(e,t){return t.contains(e.x||0,e.y||0)}function rre(e,t){const n=e.x||0,r=e.y||0,i=e.width||0,o=e.height||0;return t.intersects(xP.set(n,r,n+i,r+o))}function ire(e,t){const n=e.x||0,r=e.y||0,i=e.x2!=null?e.x2:n,o=e.y2!=null?e.y2:r;return dp(t,n,r,i,o)}function dp(e,t,n,r,i){const{x1:o,y1:s,x2:a,y2:l}=e,u=r-t,c=i-n;let f=0,d=1,h,p,g,m;for(m=0;m<4;++m){if(m===0&&(h=-u,p=-(o-t)),m===1&&(h=u,p=a-t),m===2&&(h=-c,p=-(s-n)),m===3&&(h=c,p=l-n),Math.abs(h)<1e-10&&p<0)return!1;if(g=p/h,h<0){if(g>d)return!1;g>f&&(f=g)}else if(h>0){if(g<f)return!1;g<d&&(d=g)}}return!0}function _g(e,t){e.globalCompositeOperation=t.blend||"source-over"}function Xo(e,t){return e??t}function rB(e,t){const n=t.length;for(let r=0;r<n;++r)e.addColorStop(t[r].offset,t[r].color);return e}function l6e(e,t,n){const r=n.width(),i=n.height();let o;if(t.gradient==="radial")o=e.createRadialGradient(n.x1+Xo(t.x1,.5)*r,n.y1+Xo(t.y1,.5)*i,Math.max(r,i)*Xo(t.r1,0),n.x1+Xo(t.x2,.5)*r,n.y1+Xo(t.y2,.5)*i,Math.max(r,i)*Xo(t.r2,.5));else{const s=Xo(t.x1,0),a=Xo(t.y1,0),l=Xo(t.x2,1),u=Xo(t.y2,0);if(s===l||a===u||r===i)o=e.createLinearGradient(n.x1+s*r,n.y1+a*i,n.x1+l*r,n.y1+u*i);else{const c=oc(Math.ceil(r),Math.ceil(i)),f=c.getContext("2d");return f.scale(r,i),f.fillStyle=rB(f.createLinearGradient(s,a,l,u),t.stops),f.fillRect(0,0,r,i),e.createPattern(c,"no-repeat")}}return rB(o,t.stops)}function ore(e,t,n){return ID(n)?l6e(e,n,t.bounds):n}function AS(e,t,n){return n*=t.fillOpacity==null?1:t.fillOpacity,n>0?(e.globalAlpha=n,e.fillStyle=ore(e,t,t.fill),!0):!1}var u6e=[];function $g(e,t,n){var r=(r=t.strokeWidth)!=null?r:1;return r<=0?!1:(n*=t.strokeOpacity==null?1:t.strokeOpacity,n>0?(e.globalAlpha=n,e.strokeStyle=ore(e,t,t.stroke),e.lineWidth=r,e.lineCap=t.strokeCap||"butt",e.lineJoin=t.strokeJoin||"miter",e.miterLimit=t.strokeMiterLimit||10,e.setLineDash&&(e.setLineDash(t.strokeDash||u6e),e.lineDashOffset=t.strokeDashOffset||0),!0):!1)}function c6e(e,t){return e.zindex-t.zindex||e.index-t.index}function WD(e){if(!e.zdirty)return e.zitems;var t=e.items,n=[],r,i,o;for(i=0,o=t.length;i<o;++i)r=t[i],r.index=i,r.zindex&&n.push(r);return e.zdirty=!1,e.zitems=n.sort(c6e)}function $s(e,t){var n=e.items,r,i;if(!n||!n.length)return;const o=WD(e);if(o&&o.length){for(r=0,i=n.length;r<i;++r)n[r].zindex||t(n[r]);n=o}for(r=0,i=n.length;r<i;++r)t(n[r])}function TS(e,t){var n=e.items,r,i;if(!n||!n.length)return null;const o=WD(e);for(o&&o.length&&(n=o),i=n.length;--i>=0;)if(r=t(n[i]))return r;if(n===o){for(n=e.items,i=n.length;--i>=0;)if(!n[i].zindex&&(r=t(n[i])))return r}return null}function HD(e){return function(t,n,r){$s(n,i=>{(!r||r.intersects(i.bounds))&&sre(e,t,i,i)})}}function f6e(e){return function(t,n,r){n.items.length&&(!r||r.intersects(n.bounds))&&sre(e,t,n.items[0],n.items)}}function sre(e,t,n,r){var i=n.opacity==null?1:n.opacity;i!==0&&(e(t,r)||(_g(t,n),n.fill&&AS(t,n,i)&&t.fill(),n.stroke&&$g(t,n,i)&&t.stroke()))}function $E(e){return e=e||No,function(t,n,r,i,o,s){return r*=t.pixelRatio,i*=t.pixelRatio,TS(n,a=>{const l=a.bounds;if(!(l&&!l.contains(o,s)||!l)&&e(t,a,r,i,o,s))return a})}}function Xv(e,t){return function(n,r,i,o){var s=Array.isArray(r)?r[0]:r,a=t??s.fill,l=s.stroke&&n.isPointInStroke,u,c;return l&&(u=s.strokeWidth,c=s.strokeCap,n.lineWidth=u??1,n.lineCap=c??"butt"),e(n,r)?!1:a&&n.isPointInPath(i,o)||l&&n.isPointInStroke(i,o)}}function qD(e){return $E(Xv(e))}function rd(e,t){return"translate("+e+","+t+")"}function GD(e){return"rotate("+e+")"}function d6e(e,t){return"scale("+e+","+t+")"}function are(e){return rd(e.x||0,e.y||0)}function h6e(e){return rd(e.x||0,e.y||0)+(e.angle?" "+GD(e.angle):"")}function p6e(e){return rd(e.x||0,e.y||0)+(e.angle?" "+GD(e.angle):"")+(e.scaleX||e.scaleY?" "+d6e(e.scaleX||1,e.scaleY||1):"")}function YD(e,t,n){function r(s,a){s("transform",h6e(a)),s("d",t(null,a))}function i(s,a){return t(Yv(s,a.angle),a),Xl(s,a).translate(a.x||0,a.y||0)}function o(s,a){var l=a.x||0,u=a.y||0,c=a.angle||0;s.translate(l,u),c&&s.rotate(c*=xc),s.beginPath(),t(s,a),c&&s.rotate(-c),s.translate(-l,-u)}return{type:e,tag:"path",nested:!1,attr:r,bound:i,draw:HD(o),pick:qD(o),isect:n||UD(o)}}var g6e=YD("arc",ZDe);function m6e(e,t){for(var n=e[0].orient==="horizontal"?t[1]:t[0],r=e[0].orient==="horizontal"?"y":"x",i=e.length,o=1/0,s,a;--i>=0;)e[i].defined!==!1&&(a=Math.abs(e[i][r]-n),a<o&&(o=a,s=e[i]));return s}function y6e(e,t){for(var n=Math.pow(e[0].strokeWidth||1,2),r=e.length,i,o,s;--r>=0;)if(e[r].defined!==!1&&(i=e[r].x-t[0],o=e[r].y-t[1],s=i*i+o*o,s<n))return e[r];return null}function v6e(e,t){for(var n=e.length,r,i,o;--n>=0;)if(e[n].defined!==!1&&(r=e[n].x-t[0],i=e[n].y-t[1],o=r*r+i*i,r=e[n].size||1,o<r*r))return e[n];return null}function XD(e,t,n){function r(l,u){var c=u.mark.items;c.length&&l("d",t(null,c))}function i(l,u){var c=u.items;return c.length===0?l:(t(Yv(l),c),Xl(l,c[0]))}function o(l,u){l.beginPath(),t(l,u)}const s=Xv(o);function a(l,u,c,f,d,h){var p=u.items,g=u.bounds;return!p||!p.length||g&&!g.contains(d,h)?null:(c*=l.pixelRatio,f*=l.pixelRatio,s(l,p,c,f)?p[0]:null)}return{type:e,tag:"path",nested:!0,attr:r,bound:i,draw:f6e(o),pick:a,isect:VD,tip:n}}var b6e=XD("area",e6e,m6e);function x6e(e,t){var n=t.clip;e.save(),Ne(n)?(e.beginPath(),n(e),e.clip()):lre(e,t.group)}function lre(e,t){e.beginPath(),jD(t)?bm(e,t,0,0):e.rect(0,0,t.width||0,t.height||0),e.clip()}function ure(e){const t=Xo(e.strokeWidth,1);return e.strokeOffset!=null?e.strokeOffset:e.stroke&&t>.5&&t<1.5?.5-Math.abs(t-1):0}function w6e(e,t){e("transform",are(t))}function cre(e,t){const n=ure(t);e("d",bm(null,t,n,n))}function S6e(e,t){e("class","background"),e("aria-hidden",!0),cre(e,t)}function k6e(e,t){e("class","foreground"),e("aria-hidden",!0),t.strokeForeground?cre(e,t):e("d","")}function C6e(e,t,n){const r=t.clip?BD(n,t,t):null;e("clip-path",r)}function E6e(e,t){if(!t.clip&&t.items){const n=t.items,r=n.length;for(let i=0;i<r;++i)e.union(n[i].bounds)}return(t.clip||t.width||t.height)&&!t.noBound&&e.add(0,0).add(t.width||0,t.height||0),Xl(e,t),e.translate(t.x||0,t.y||0)}function N1(e,t,n,r){const i=ure(t);e.beginPath(),bm(e,t,(n||0)+i,(r||0)+i)}const _6e=Xv(N1),$6e=Xv(N1,!1),A6e=Xv(N1,!0);function T6e(e,t,n,r){$s(t,i=>{const o=i.x||0,s=i.y||0,a=i.strokeForeground,l=i.opacity==null?1:i.opacity;(i.stroke||i.fill)&&l&&(N1(e,i,o,s),_g(e,i),i.fill&&AS(e,i,l)&&e.fill(),i.stroke&&!a&&$g(e,i,l)&&e.stroke()),e.save(),e.translate(o,s),i.clip&&lre(e,i),n&&n.translate(-o,-s),$s(i,u=>{(u.marktype==="group"||r==null||r.includes(u.marktype))&&this.draw(e,u,n,r)}),n&&n.translate(o,s),e.restore(),a&&i.stroke&&l&&(N1(e,i,o,s),_g(e,i),$g(e,i,l)&&e.stroke())})}function P6e(e,t,n,r,i,o){if(t.bounds&&!t.bounds.contains(i,o)||!t.items)return null;const s=n*e.pixelRatio,a=r*e.pixelRatio;return TS(t,l=>{let u,c,f;const d=l.bounds;if(d&&!d.contains(i,o))return;c=l.x||0,f=l.y||0;const h=c+(l.width||0),p=f+(l.height||0),g=l.clip;if(g&&(i<c||i>h||o<f||o>p))return;if(e.save(),e.translate(c,f),c=i-c,f=o-f,g&&jD(l)&&!A6e(e,l,s,a))return e.restore(),null;const m=l.strokeForeground,y=t.interactive!==!1;return y&&m&&l.stroke&&$6e(e,l,s,a)?(e.restore(),l):(u=TS(l,v=>M6e(v,c,f)?this.pick(v,n,r,c,f):null),!u&&y&&(l.fill||!m&&l.stroke)&&_6e(e,l,s,a)&&(u=l),e.restore(),u||null)})}function M6e(e,t,n){return(e.interactive!==!1||e.marktype==="group")&&e.bounds&&e.bounds.contains(t,n)}var F6e={type:"group",tag:"g",nested:!1,attr:w6e,bound:E6e,draw:T6e,pick:P6e,isect:rre,content:C6e,background:S6e,foreground:k6e},L1={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1"};function KD(e,t){var n=e.image;return(!n||e.url&&e.url!==n.url)&&(n={complete:!1,width:0,height:0},t.loadImage(e.url).then(r=>{e.image=r,e.image.url=e.url})),n}function QD(e,t){return e.width!=null?e.width:!t||!t.width?0:e.aspect!==!1&&e.height?e.height*t.width/t.height:t.width}function JD(e,t){return e.height!=null?e.height:!t||!t.height?0:e.aspect!==!1&&e.width?e.width*t.height/t.width:t.height}function AE(e,t){return e==="center"?t/2:e==="right"?t:0}function TE(e,t){return e==="middle"?t/2:e==="bottom"?t:0}function R6e(e,t,n){const r=KD(t,n),i=QD(t,r),o=JD(t,r),s=(t.x||0)-AE(t.align,i),a=(t.y||0)-TE(t.baseline,o),l=!r.src&&r.toDataURL?r.toDataURL():r.src||"";e("href",l,L1["xmlns:xlink"],"xlink:href"),e("transform",rd(s,a)),e("width",i),e("height",o),e("preserveAspectRatio",t.aspect===!1?"none":"xMidYMid")}function O6e(e,t){const n=t.image,r=QD(t,n),i=JD(t,n),o=(t.x||0)-AE(t.align,r),s=(t.y||0)-TE(t.baseline,i);return e.set(o,s,o+r,s+i)}function D6e(e,t,n){$s(t,r=>{if(n&&!n.intersects(r.bounds))return;const i=KD(r,this);let o=QD(r,i),s=JD(r,i);if(o===0||s===0)return;let a=(r.x||0)-AE(r.align,o),l=(r.y||0)-TE(r.baseline,s),u,c,f,d;r.aspect!==!1&&(c=i.width/i.height,f=r.width/r.height,c===c&&f===f&&c!==f&&(f<c?(d=o/c,l+=(s-d)/2,s=d):(d=s*c,a+=(o-d)/2,o=d))),(i.complete||i.toDataURL)&&(_g(e,r),e.globalAlpha=(u=r.opacity)!=null?u:1,e.imageSmoothingEnabled=r.smooth!==!1,e.drawImage(i,a,l,o,s))})}var N6e={type:"image",tag:"image",nested:!1,attr:R6e,bound:O6e,draw:D6e,pick:$E(),isect:No,get:KD,xOffset:AE,yOffset:TE},L6e=XD("line",t6e,y6e);function I6e(e,t){var n=t.scaleX||1,r=t.scaleY||1;(n!==1||r!==1)&&e("vector-effect","non-scaling-stroke"),e("transform",p6e(t)),e("d",t.path)}function qw(e,t){var n=t.path;if(n==null)return!0;var r=t.x||0,i=t.y||0,o=t.scaleX||1,s=t.scaleY||1,a=(t.angle||0)*xc,l=t.pathCache;(!l||l.path!==n)&&((t.pathCache=l=Eg(n)).path=n),a&&e.rotate&&e.translate?(e.translate(r,i),e.rotate(a),D1(e,l,0,0,o,s),e.rotate(-a),e.translate(-r,-i)):D1(e,l,r,i,o,s)}function z6e(e,t){return qw(Yv(e,t.angle),t)?e.set(0,0,0,0):Xl(e,t,!0)}var j6e={type:"path",tag:"path",nested:!1,attr:I6e,bound:z6e,draw:HD(qw),pick:qD(qw),isect:UD(qw)};function B6e(e,t){e("d",bm(null,t))}function U6e(e,t){var n,r;return Xl(e.set(n=t.x||0,r=t.y||0,n+t.width||0,r+t.height||0),t)}function iB(e,t){e.beginPath(),bm(e,t)}var V6e={type:"rect",tag:"path",nested:!1,attr:B6e,bound:U6e,draw:HD(iB),pick:qD(iB),isect:rre};function W6e(e,t){e("transform",are(t)),e("x2",t.x2!=null?t.x2-(t.x||0):0),e("y2",t.y2!=null?t.y2-(t.y||0):0)}function H6e(e,t){var n,r;return Xl(e.set(n=t.x||0,r=t.y||0,t.x2!=null?t.x2:n,t.y2!=null?t.y2:r),t)}function fre(e,t,n){var r,i,o,s;return t.stroke&&$g(e,t,n)?(r=t.x||0,i=t.y||0,o=t.x2!=null?t.x2:r,s=t.y2!=null?t.y2:i,e.beginPath(),e.moveTo(r,i),e.lineTo(o,s),!0):!1}function q6e(e,t,n){$s(t,r=>{if(!(n&&!n.intersects(r.bounds))){var i=r.opacity==null?1:r.opacity;i&&fre(e,r,i)&&(_g(e,r),e.stroke())}})}function G6e(e,t,n,r){return e.isPointInStroke?fre(e,t,1)&&e.isPointInStroke(n,r):!1}var Y6e={type:"rule",tag:"line",nested:!1,attr:W6e,bound:H6e,draw:q6e,pick:$E(G6e),isect:ire},X6e=YD("shape",n6e),K6e=YD("symbol",r6e,VD);const oB=hZ();var Gi={height:za,measureWidth:ZD,estimateWidth:PS,width:PS,canvas:dre};dre(!0);function dre(e){Gi.width=e&&sc?ZD:PS}function PS(e,t){return hre(Sc(e,t),za(e))}function hre(e,t){return~~(.8*e.length*t)}function ZD(e,t){return za(e)<=0||!(t=Sc(e,t))?0:pre(t,PE(e))}function pre(e,t){const n=`(${t}) ${e}`;let r=oB.get(n);return r===void 0&&(sc.font=t,r=sc.measureText(e).width,oB.set(n,r)),r}function za(e){return e.fontSize!=null?+e.fontSize||0:11}function wc(e){return e.lineHeight!=null?e.lineHeight:za(e)+2}function Q6e(e){return Y(e)?e.length>1?e:e[0]:e}function Kv(e){return Q6e(e.lineBreak&&e.text&&!Y(e.text)?e.text.split(e.lineBreak):e.text)}function e6(e){const t=Kv(e);return(Y(t)?t.length-1:0)*wc(e)}function Sc(e,t){const n=t==null?"":(t+"").trim();return e.limit>0&&n.length?Z6e(e,n):n}function J6e(e){if(Gi.width===ZD){const t=PE(e);return n=>pre(n,t)}else if(Gi.width===PS){const t=za(e);return n=>hre(n,t)}else return t=>Gi.width(e,t)}function Z6e(e,t){var n=+e.limit,r=J6e(e);if(r(t)<n)return t;var i=e.ellipsis||"",o=e.dir==="rtl",s=0,a=t.length,l;if(n-=r(i),o){for(;s<a;)l=s+a>>>1,r(t.slice(l))>n?s=l+1:a=l;return i+t.slice(s)}else{for(;s<a;)l=1+(s+a>>>1),r(t.slice(0,l))<n?s=l:a=l-1;return t.slice(0,s)+i}}function Qv(e,t){var n=e.font;return(t&&n?String(n).replace(/"/g,"'"):n)||"sans-serif"}function PE(e,t){return(e.fontStyle?e.fontStyle+" ":"")+(e.fontVariant?e.fontVariant+" ":"")+(e.fontWeight?e.fontWeight+" ":"")+za(e)+"px "+Qv(e,t)}function t6(e){var t=e.baseline,n=za(e);return Math.round(t==="top"?.79*n:t==="middle"?.3*n:t==="bottom"?-.21*n:t==="line-top"?.29*n+.5*wc(e):t==="line-bottom"?.29*n-.5*wc(e):0)}const eNe={left:"start",center:"middle",right:"end"},Dy=new gn;function ME(e){var t=e.x||0,n=e.y||0,r=e.radius||0,i;return r&&(i=(e.theta||0)-Ef,t+=r*Math.cos(i),n+=r*Math.sin(i)),Dy.x1=t,Dy.y1=n,Dy}function tNe(e,t){var n=t.dx||0,r=(t.dy||0)+t6(t),i=ME(t),o=i.x1,s=i.y1,a=t.angle||0,l;e("text-anchor",eNe[t.align]||"start"),a?(l=rd(o,s)+" "+GD(a),(n||r)&&(l+=" "+rd(n,r))):l=rd(o+n,s+r),e("transform",l)}function n6(e,t,n){var r=Gi.height(t),i=t.align,o=ME(t),s=o.x1,a=o.y1,l=t.dx||0,u=(t.dy||0)+t6(t)-Math.round(.8*r),c=Kv(t),f;if(Y(c)?(r+=wc(t)*(c.length-1),f=c.reduce((d,h)=>Math.max(d,Gi.width(t,h)),0)):f=Gi.width(t,c),i==="center"?l-=f/2:i==="right"&&(l-=f),e.set(l+=s,u+=a,l+f,u+r),t.angle&&!n)e.rotate(t.angle*xc,s,a);else if(n===2)return e.rotatedPoints(t.angle*xc,s,a);return e}function nNe(e,t,n){$s(t,r=>{var i=r.opacity==null?1:r.opacity,o,s,a,l,u,c,f;if(!(n&&!n.intersects(r.bounds)||i===0||r.fontSize<=0||r.text==null||r.text.length===0)){if(e.font=PE(r),e.textAlign=r.align||"left",o=ME(r),s=o.x1,a=o.y1,r.angle&&(e.save(),e.translate(s,a),e.rotate(r.angle*xc),s=a=0),s+=r.dx||0,a+=(r.dy||0)+t6(r),c=Kv(r),_g(e,r),Y(c))for(u=wc(r),l=0;l<c.length;++l)f=Sc(r,c[l]),r.fill&&AS(e,r,i)&&e.fillText(f,s,a),r.stroke&&$g(e,r,i)&&e.strokeText(f,s,a),a+=u;else f=Sc(r,c),r.fill&&AS(e,r,i)&&e.fillText(f,s,a),r.stroke&&$g(e,r,i)&&e.strokeText(f,s,a);r.angle&&e.restore()}})}function rNe(e,t,n,r,i,o){if(t.fontSize<=0)return!1;if(!t.angle)return!0;var s=ME(t),a=s.x1,l=s.y1,u=n6(Dy,t,1),c=-t.angle*xc,f=Math.cos(c),d=Math.sin(c),h=f*i-d*o+(a-f*a+d*l),p=d*i+f*o+(l-d*a-f*l);return u.contains(h,p)}function iNe(e,t){const n=n6(Dy,e,2);return dp(t,n[0],n[1],n[2],n[3])||dp(t,n[0],n[1],n[4],n[5])||dp(t,n[4],n[5],n[6],n[7])||dp(t,n[2],n[3],n[6],n[7])}var oNe={type:"text",tag:"text",nested:!1,attr:tNe,bound:n6,draw:nNe,pick:$E(rNe),isect:iNe},sNe=XD("trail",i6e,v6e),eo={arc:g6e,area:b6e,group:F6e,image:N6e,line:L6e,path:j6e,rect:V6e,rule:Y6e,shape:X6e,symbol:K6e,text:oNe,trail:sNe};function wP(e,t,n){var r=eo[e.mark.marktype],i=t||r.bound;return r.nested&&(e=e.mark),i(e.bounds||(e.bounds=new gn),e,n)}var sB={mark:null};function gre(e,t,n){var r=eo[e.marktype],i=r.bound,o=e.items,s=o&&o.length,a,l,u,c;if(r.nested)return s?u=o[0]:(sB.mark=e,u=sB),c=wP(u,i,n),t=t&&t.union(c)||c,t;if(t=t||e.bounds&&e.bounds.clear()||new gn,s)for(a=0,l=o.length;a<l;++a)t.union(wP(o[a],i,n));return e.bounds=t}const aNe=["marktype","name","role","interactive","clip","items","zindex","x","y","width","height","align","baseline","fill","fillOpacity","opacity","blend","stroke","strokeOpacity","strokeWidth","strokeCap","strokeDash","strokeDashOffset","strokeForeground","strokeOffset","startAngle","endAngle","innerRadius","outerRadius","cornerRadius","padAngle","cornerRadiusTopLeft","cornerRadiusTopRight","cornerRadiusBottomLeft","cornerRadiusBottomRight","interpolate","tension","orient","defined","url","aspect","smooth","path","scaleX","scaleY","x2","y2","size","shape","text","angle","theta","radius","dir","dx","dy","ellipsis","limit","lineBreak","lineHeight","font","fontSize","fontWeight","fontStyle","fontVariant","description","aria","ariaRole","ariaRoleDescription"];function mre(e,t){return JSON.stringify(e,aNe,t)}function yre(e){const t=typeof e=="string"?JSON.parse(e):e;return vre(t)}function vre(e){var t=e.marktype,n=e.items,r,i,o;if(n)for(i=0,o=n.length;i<o;++i)r=t?"mark":"group",n[i][r]=e,n[i].zindex&&(n[i][r].zdirty=!0),(t||r)==="group"&&vre(n[i]);return t&&gre(e),e}class bre{constructor(t){arguments.length?this.root=yre(t):(this.root=aB({marktype:"group",name:"root",role:"frame"}),this.root.items=[new EE(this.root)])}toJSON(t){return mre(this.root,t||0)}mark(t,n,r){n=n||this.root.items[0];const i=aB(t,n);return n.items[r]=i,i.zindex&&(i.group.zdirty=!0),i}}function aB(e,t){const n={bounds:new gn,clip:!!e.clip,group:t,interactive:e.interactive!==!1,items:[],marktype:e.marktype,name:e.name||void 0,role:e.role||void 0,zindex:e.zindex||0};return e.aria!=null&&(n.aria=e.aria),e.description&&(n.description=e.description),n}function Iu(e,t,n){return!e&&typeof document<"u"&&document.createElement&&(e=document),e?n?e.createElementNS(n,t):e.createElement(t):null}function r6(e,t){t=t.toLowerCase();for(var n=e.childNodes,r=0,i=n.length;r<i;++r)if(n[r].tagName.toLowerCase()===t)return n[r]}function bn(e,t,n,r){var i=e.childNodes[t],o;return(!i||i.tagName.toLowerCase()!==n.toLowerCase())&&(o=i||null,i=Iu(e.ownerDocument,n,r),e.insertBefore(i,o)),i}function wo(e,t){for(var n=e.childNodes,r=n.length;r>t;)e.removeChild(n[--r]);return e}function xre(e){return"mark-"+e.marktype+(e.role?" role-"+e.role:"")+(e.name?" "+e.name:"")}function FE(e,t){const n=t.getBoundingClientRect();return[e.clientX-n.left-(t.clientLeft||0),e.clientY-n.top-(t.clientTop||0)]}function lNe(e,t,n,r){var i=e&&e.mark,o,s;if(i&&(o=eo[i.marktype]).tip){for(s=FE(t,n),s[0]-=r[0],s[1]-=r[1];e=e.mark.group;)s[0]-=e.x||0,s[1]-=e.y||0;e=o.tip(i.items,s)}return e}let i6=class{constructor(t,n){this._active=null,this._handlers={},this._loader=t||QC(),this._tooltip=n||uNe}initialize(t,n,r){return this._el=t,this._obj=r||null,this.origin(n)}element(){return this._el}canvas(){return this._el&&this._el.firstChild}origin(t){return arguments.length?(this._origin=t||[0,0],this):this._origin.slice()}scene(t){return arguments.length?(this._scene=t,this):this._scene}on(){}off(){}_handlerIndex(t,n,r){for(let i=t?t.length:0;--i>=0;)if(t[i].type===n&&(!r||t[i].handler===r))return i;return-1}handlers(t){const n=this._handlers,r=[];if(t)r.push(...n[this.eventName(t)]);else for(const i in n)r.push(...n[i]);return r}eventName(t){const n=t.indexOf(".");return n<0?t:t.slice(0,n)}handleHref(t,n,r){this._loader.sanitize(r,{context:"href"}).then(i=>{const o=new MouseEvent(t.type,t),s=Iu(null,"a");for(const a in i)s.setAttribute(a,i[a]);s.dispatchEvent(o)}).catch(()=>{})}handleTooltip(t,n,r){if(n&&n.tooltip!=null){n=lNe(n,t,this.canvas(),this._origin);const i=r&&n&&n.tooltip||null;this._tooltip.call(this._obj,this,t,n,i)}}getItemBoundingClientRect(t){const n=this.canvas();if(!n)return;const r=n.getBoundingClientRect(),i=this._origin,o=t.bounds,s=o.width(),a=o.height();let l=o.x1+i[0]+r.left,u=o.y1+i[1]+r.top;for(;t.mark&&(t=t.mark.group);)l+=t.x||0,u+=t.y||0;return{x:l,y:u,width:s,height:a,left:l,top:u,right:l+s,bottom:u+a}}};function uNe(e,t,n,r){e.element().setAttribute("title",r||"")}class Jv{constructor(t){this._el=null,this._bgcolor=null,this._loader=new nre(t)}initialize(t,n,r,i,o){return this._el=t,this.resize(n,r,i,o)}element(){return this._el}canvas(){return this._el&&this._el.firstChild}background(t){return arguments.length===0?this._bgcolor:(this._bgcolor=t,this)}resize(t,n,r,i){return this._width=t,this._height=n,this._origin=r||[0,0],this._scale=i||1,this}dirty(){}render(t,n){const r=this;return r._call=function(){r._render(t,n)},r._call(),r._call=null,r}_render(){}renderAsync(t,n){const r=this.render(t,n);return this._ready?this._ready.then(()=>r):Promise.resolve(r)}_load(t,n){var r=this,i=r._loader[t](n);if(!r._ready){const o=r._call;r._ready=r._loader.ready().then(s=>{s&&o(),r._ready=null})}return i}sanitizeURL(t){return this._load("sanitizeURL",t)}loadImage(t){return this._load("loadImage",t)}}const cNe="keydown",fNe="keypress",dNe="keyup",wre="dragenter",Gw="dragleave",Sre="dragover",SP="pointerdown",hNe="pointerup",MS="pointermove",Yw="pointerout",kre="pointerover",kP="mousedown",pNe="mouseup",Cre="mousemove",FS="mouseout",Ere="mouseover",RS="click",gNe="dblclick",mNe="wheel",_re="mousewheel",OS="touchstart",DS="touchmove",NS="touchend",yNe=[cNe,fNe,dNe,wre,Gw,Sre,SP,hNe,MS,Yw,kre,kP,pNe,Cre,FS,Ere,RS,gNe,mNe,_re,OS,DS,NS],CP=MS,Ny=FS,EP=RS;class Zv extends i6{constructor(t,n){super(t,n),this._down=null,this._touch=null,this._first=!0,this._events={},this.events=yNe,this.pointermove=uB([MS,Cre],[kre,Ere],[Yw,FS]),this.dragover=uB([Sre],[wre],[Gw]),this.pointerout=cB([Yw,FS]),this.dragleave=cB([Gw])}initialize(t,n,r){return this._canvas=t&&r6(t,"canvas"),[RS,kP,SP,MS,Yw,Gw].forEach(i=>lB(this,i)),super.initialize(t,n,r)}canvas(){return this._canvas}context(){return this._canvas.getContext("2d")}DOMMouseScroll(t){this.fire(_re,t)}pointerdown(t){this._down=this._active,this.fire(SP,t)}mousedown(t){this._down=this._active,this.fire(kP,t)}click(t){this._down===this._active&&(this.fire(RS,t),this._down=null)}touchstart(t){this._touch=this.pickEvent(t.changedTouches[0]),this._first&&(this._active=this._touch,this._first=!1),this.fire(OS,t,!0)}touchmove(t){this.fire(DS,t,!0)}touchend(t){this.fire(NS,t,!0),this._touch=null}fire(t,n,r){const i=r?this._touch:this._active,o=this._handlers[t];if(n.vegaType=t,t===EP&&i&&i.href?this.handleHref(n,i,i.href):(t===CP||t===Ny)&&this.handleTooltip(n,i,t!==Ny),o)for(let s=0,a=o.length;s<a;++s)o[s].handler.call(this._obj,n,i)}on(t,n){const r=this.eventName(t),i=this._handlers;return this._handlerIndex(i[r],t,n)<0&&(lB(this,t),(i[r]||(i[r]=[])).push({type:t,handler:n})),this}off(t,n){const r=this.eventName(t),i=this._handlers[r],o=this._handlerIndex(i,t,n);return o>=0&&i.splice(o,1),this}pickEvent(t){const n=FE(t,this._canvas),r=this._origin;return this.pick(this._scene,n[0],n[1],n[0]-r[0],n[1]-r[1])}pick(t,n,r,i,o){const s=this.context();return eo[t.marktype].pick.call(this,s,t,n,r,i,o)}}const vNe=e=>e===OS||e===DS||e===NS?[OS,DS,NS]:[e];function lB(e,t){vNe(t).forEach(n=>bNe(e,n))}function bNe(e,t){const n=e.canvas();n&&!e._events[t]&&(e._events[t]=1,n.addEventListener(t,e[t]?r=>e[t](r):r=>e.fire(t,r)))}function X0(e,t,n){t.forEach(r=>e.fire(r,n))}function uB(e,t,n){return function(r){const i=this._active,o=this.pickEvent(r);o===i?X0(this,e,r):((!i||!i.exit)&&X0(this,n,r),this._active=o,X0(this,t,r),X0(this,e,r))}}function cB(e){return function(t){X0(this,e,t),this._active=null}}function xNe(){return typeof window<"u"&&window.devicePixelRatio||1}function wNe(e,t,n,r,i,o){const s=typeof HTMLElement<"u"&&e instanceof HTMLElement&&e.parentNode!=null,a=e.getContext("2d"),l=s?xNe():i;e.width=t*l,e.height=n*l;for(const u in o)a[u]=o[u];return s&&l!==1&&(e.style.width=t+"px",e.style.height=n+"px"),a.pixelRatio=l,a.setTransform(l,0,0,l,l*r[0],l*r[1]),e}class LS extends Jv{constructor(t){super(t),this._options={},this._redraw=!1,this._dirty=new gn,this._tempb=new gn}initialize(t,n,r,i,o,s){return this._options=s||{},this._canvas=this._options.externalContext?null:oc(1,1,this._options.type),t&&this._canvas&&(wo(t,0).appendChild(this._canvas),this._canvas.setAttribute("class","marks")),super.initialize(t,n,r,i,o)}resize(t,n,r,i){if(super.resize(t,n,r,i),this._canvas)wNe(this._canvas,this._width,this._height,this._origin,this._scale,this._options.context);else{const o=this._options.externalContext;o||G("CanvasRenderer is missing a valid canvas or context"),o.scale(this._scale,this._scale),o.translate(this._origin[0],this._origin[1])}return this._redraw=!0,this}canvas(){return this._canvas}context(){return this._options.externalContext||(this._canvas?this._canvas.getContext("2d"):null)}dirty(t){const n=this._tempb.clear().union(t.bounds);let r=t.mark.group;for(;r;)n.translate(r.x||0,r.y||0),r=r.mark.group;this._dirty.union(n)}_render(t,n){const r=this.context(),i=this._origin,o=this._width,s=this._height,a=this._dirty,l=SNe(i,o,s);r.save();const u=this._redraw||a.empty()?(this._redraw=!1,l.expand(1)):kNe(r,l.intersect(a),i);return this.clear(-i[0],-i[1],o,s),this.draw(r,t,u,n),r.restore(),a.clear(),this}draw(t,n,r,i){if(n.marktype!=="group"&&i!=null&&!i.includes(n.marktype))return;const o=eo[n.marktype];n.clip&&x6e(t,n),o.draw.call(this,t,n,r,i),n.clip&&t.restore()}clear(t,n,r,i){const o=this._options,s=this.context();o.type!=="pdf"&&!o.externalContext&&s.clearRect(t,n,r,i),this._bgcolor!=null&&(s.fillStyle=this._bgcolor,s.fillRect(t,n,r,i))}}const SNe=(e,t,n)=>new gn().set(0,0,t,n).translate(-e[0],-e[1]);function kNe(e,t,n){return t.expand(1).round(),e.pixelRatio%1&&t.scale(e.pixelRatio).round().scale(1/e.pixelRatio),t.translate(-(n[0]%1),-(n[1]%1)),e.beginPath(),e.rect(t.x1,t.y1,t.width(),t.height()),e.clip(),t}class $re extends i6{constructor(t,n){super(t,n);const r=this;r._hrefHandler=QA(r,(i,o)=>{o&&o.href&&r.handleHref(i,o,o.href)}),r._tooltipHandler=QA(r,(i,o)=>{r.handleTooltip(i,o,i.type!==Ny)})}initialize(t,n,r){let i=this._svg;return i&&(i.removeEventListener(EP,this._hrefHandler),i.removeEventListener(CP,this._tooltipHandler),i.removeEventListener(Ny,this._tooltipHandler)),this._svg=i=t&&r6(t,"svg"),i&&(i.addEventListener(EP,this._hrefHandler),i.addEventListener(CP,this._tooltipHandler),i.addEventListener(Ny,this._tooltipHandler)),super.initialize(t,n,r)}canvas(){return this._svg}on(t,n){const r=this.eventName(t),i=this._handlers;if(this._handlerIndex(i[r],t,n)<0){const s={type:t,handler:n,listener:QA(this,n)};(i[r]||(i[r]=[])).push(s),this._svg&&this._svg.addEventListener(r,s.listener)}return this}off(t,n){const r=this.eventName(t),i=this._handlers[r],o=this._handlerIndex(i,t,n);return o>=0&&(this._svg&&this._svg.removeEventListener(r,i[o].listener),i.splice(o,1)),this}}const QA=(e,t)=>n=>{let r=n.target.__data__;r=Array.isArray(r)?r[0]:r,n.vegaType=n.type,t.call(e._obj,n,r)},Are="aria-hidden",o6="aria-label",s6="role",a6="aria-roledescription",Tre="graphics-object",l6="graphics-symbol",Pre=(e,t,n)=>({[s6]:e,[a6]:t,[o6]:n||void 0}),CNe=ks(["axis-domain","axis-grid","axis-label","axis-tick","axis-title","legend-band","legend-entry","legend-gradient","legend-label","legend-title","legend-symbol","title"]),fB={axis:{desc:"axis",caption:$Ne},legend:{desc:"legend",caption:ANe},"title-text":{desc:"title",caption:e=>`Title text '${hB(e)}'`},"title-subtitle":{desc:"subtitle",caption:e=>`Subtitle text '${hB(e)}'`}},dB={ariaRole:s6,ariaRoleDescription:a6,description:o6};function Mre(e,t){const n=t.aria===!1;if(e(Are,n||void 0),n||t.description==null)for(const r in dB)e(dB[r],void 0);else{const r=t.mark.marktype;e(o6,t.description),e(s6,t.ariaRole||(r==="group"?Tre:l6)),e(a6,t.ariaRoleDescription||`${r} mark`)}}function Fre(e){return e.aria===!1?{[Are]:!0}:CNe[e.role]?null:fB[e.role]?_Ne(e,fB[e.role]):ENe(e)}function ENe(e){const t=e.marktype,n=t==="group"||t==="text"||e.items.some(r=>r.description!=null&&r.aria!==!1);return Pre(n?Tre:l6,`${t} mark container`,e.description)}function _Ne(e,t){try{const n=e.items[0],r=t.caption||(()=>"");return Pre(t.role||l6,t.desc,n.description||r(n))}catch{return null}}function hB(e){return le(e.text).join(" ")}function $Ne(e){const t=e.datum,n=e.orient,r=t.title?Rre(e):null,i=e.context,o=i.scales[t.scale].value,s=i.dataflow.locale(),a=o.type;return`${n==="left"||n==="right"?"Y":"X"}-axis`+(r?` titled '${r}'`:"")+` for a ${Cg(a)?"discrete":a} scale with ${qne(s,o,e)}`}function ANe(e){const t=e.datum,n=t.title?Rre(e):null,r=`${t.type||""} legend`.trim(),i=t.scales,o=Object.keys(i),s=e.context,a=s.scales[i[o[0]]].value,l=s.dataflow.locale();return PNe(r)+(n?` titled '${n}'`:"")+` for ${TNe(o)} with ${qne(l,a,e)}`}function Rre(e){try{return le(qe(e.items).items[0].text).join(" ")}catch{return null}}function TNe(e){return e=e.map(t=>t+(t==="fill"||t==="stroke"?" color":"")),e.length<2?e[0]:e.slice(0,-1).join(", ")+" and "+qe(e)}function PNe(e){return e.length?e[0].toUpperCase()+e.slice(1):e}const Ore=e=>(e+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),MNe=e=>Ore(e).replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;");function u6(){let e="",t="",n="";const r=[],i=()=>t=n="",o=l=>{t&&(e+=`${t}>${n}`,i()),r.push(l)},s=(l,u)=>(u!=null&&(t+=` ${l}="${MNe(u)}"`),a),a={open(l){o(l),t="<"+l;for(var u=arguments.length,c=new Array(u>1?u-1:0),f=1;f<u;f++)c[f-1]=arguments[f];for(const d of c)for(const h in d)s(h,d[h]);return a},close(){const l=r.pop();return t?e+=t+(n?`>${n}</${l}>`:"/>"):e+=`</${l}>`,i(),a},attr:s,text:l=>(n+=Ore(l),a),toString:()=>e};return a}const Dre=e=>Nre(u6(),e)+"";function Nre(e,t){if(e.open(t.tagName),t.hasAttributes()){const n=t.attributes,r=n.length;for(let i=0;i<r;++i)e.attr(n[i].name,n[i].value)}if(t.hasChildNodes()){const n=t.childNodes;for(const r of n)r.nodeType===3?e.text(r.nodeValue):Nre(e,r)}return e.close()}const IS={fill:"fill",fillOpacity:"fill-opacity",stroke:"stroke",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",strokeCap:"stroke-linecap",strokeJoin:"stroke-linejoin",strokeDash:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeMiterLimit:"stroke-miterlimit",opacity:"opacity"},zS={blend:"mix-blend-mode"},Lre={fill:"none","stroke-miterlimit":10},l0=0,pB="http://www.w3.org/2000/xmlns/",vn=L1.xmlns;class c6 extends Jv{constructor(t){super(t),this._dirtyID=0,this._dirty=[],this._svg=null,this._root=null,this._defs=null}initialize(t,n,r,i,o){return this._defs={},this._clearDefs(),t&&(this._svg=bn(t,0,"svg",vn),this._svg.setAttributeNS(pB,"xmlns",vn),this._svg.setAttributeNS(pB,"xmlns:xlink",L1["xmlns:xlink"]),this._svg.setAttribute("version",L1.version),this._svg.setAttribute("class","marks"),wo(t,1),this._root=bn(this._svg,l0,"g",vn),zu(this._root,Lre),wo(this._svg,l0+1)),this.background(this._bgcolor),super.initialize(t,n,r,i,o)}background(t){return arguments.length&&this._svg&&this._svg.style.setProperty("background-color",t),super.background(...arguments)}resize(t,n,r,i){return super.resize(t,n,r,i),this._svg&&(zu(this._svg,{width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}),this._root.setAttribute("transform",`translate(${this._origin})`)),this._dirty=[],this}canvas(){return this._svg}svg(){const t=this._svg,n=this._bgcolor;if(!t)return null;let r;n&&(t.removeAttribute("style"),r=bn(t,l0,"rect",vn),zu(r,{width:this._width,height:this._height,fill:n}));const i=Dre(t);return n&&(t.removeChild(r),this._svg.style.setProperty("background-color",n)),i}_render(t,n){return this._dirtyCheck()&&(this._dirtyAll&&this._clearDefs(),this.mark(this._root,t,void 0,n),wo(this._root,1)),this.defs(),this._dirty=[],++this._dirtyID,this}dirty(t){t.dirty!==this._dirtyID&&(t.dirty=this._dirtyID,this._dirty.push(t))}isDirty(t){return this._dirtyAll||!t._svg||!t._svg.ownerSVGElement||t.dirty===this._dirtyID}_dirtyCheck(){this._dirtyAll=!0;const t=this._dirty;if(!t.length||!this._dirtyID)return!0;const n=++this._dirtyID;let r,i,o,s,a,l,u;for(a=0,l=t.length;a<l;++a)if(r=t[a],i=r.mark,i.marktype!==o&&(o=i.marktype,s=eo[o]),i.zdirty&&i.dirty!==n&&(this._dirtyAll=!1,gB(r,n),i.items.forEach(c=>{c.dirty=n})),!i.zdirty){if(r.exit){s.nested&&i.items.length?(u=i.items[0],u._svg&&this._update(s,u._svg,u)):r._svg&&(u=r._svg.parentNode,u&&u.removeChild(r._svg)),r._svg=null;continue}r=s.nested?i.items[0]:r,r._update!==n&&(!r._svg||!r._svg.ownerSVGElement?(this._dirtyAll=!1,gB(r,n)):this._update(s,r._svg,r),r._update=n)}return!this._dirtyAll}mark(t,n,r,i){if(!this.isDirty(n))return n._svg;const o=this._svg,s=n.marktype,a=eo[s],l=n.interactive===!1?"none":null,u=a.tag==="g",c=mB(n,t,r,"g",o);if(s!=="group"&&i!=null&&!i.includes(s))return wo(c,0),n._svg;c.setAttribute("class",xre(n));const f=Fre(n);for(const g in f)Nr(c,g,f[g]);u||Nr(c,"pointer-events",l),Nr(c,"clip-path",n.clip?BD(this,n,n.group):null);let d=null,h=0;const p=g=>{const m=this.isDirty(g),y=mB(g,c,d,a.tag,o);m&&(this._update(a,y,g),u&&ONe(this,y,g,i)),d=y,++h};return a.nested?n.items.length&&p(n.items[0]):$s(n,p),wo(c,h),c}_update(t,n,r){vl=n,yr=n.__values__,Mre(Ly,r),t.attr(Ly,r,this);const i=NNe[t.type];i&&i.call(this,t,n,r),vl&&this.style(vl,r)}style(t,n){if(n!=null){for(const r in IS){let i=r==="font"?Qv(n):n[r];if(i===yr[r])continue;const o=IS[r];i==null?t.removeAttribute(o):(ID(i)&&(i=Yne(i,this._defs.gradient,Ire())),t.setAttribute(o,i+"")),yr[r]=i}for(const r in zS)Xw(t,zS[r],n[r])}}defs(){const t=this._svg,n=this._defs;let r=n.el,i=0;for(const o in n.gradient)r||(n.el=r=bn(t,l0+1,"defs",vn)),i=FNe(r,n.gradient[o],i);for(const o in n.clipping)r||(n.el=r=bn(t,l0+1,"defs",vn)),i=RNe(r,n.clipping[o],i);r&&(i===0?(t.removeChild(r),n.el=null):wo(r,i))}_clearDefs(){const t=this._defs;t.gradient={},t.clipping={}}}function gB(e,t){for(;e&&e.dirty!==t;e=e.mark.group)if(e.dirty=t,e.mark&&e.mark.dirty!==t)e.mark.dirty=t;else return}function FNe(e,t,n){let r,i,o;if(t.gradient==="radial"){let s=bn(e,n++,"pattern",vn);zu(s,{id:$S+t.id,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),s=bn(s,0,"rect",vn),zu(s,{width:1,height:1,fill:`url(${Ire()}#${t.id})`}),e=bn(e,n++,"radialGradient",vn),zu(e,{id:t.id,fx:t.x1,fy:t.y1,fr:t.r1,cx:t.x2,cy:t.y2,r:t.r2})}else e=bn(e,n++,"linearGradient",vn),zu(e,{id:t.id,x1:t.x1,x2:t.x2,y1:t.y1,y2:t.y2});for(r=0,i=t.stops.length;r<i;++r)o=bn(e,r,"stop",vn),o.setAttribute("offset",t.stops[r].offset),o.setAttribute("stop-color",t.stops[r].color);return wo(e,r),n}function RNe(e,t,n){let r;return e=bn(e,n,"clipPath",vn),e.setAttribute("id",t.id),t.path?(r=bn(e,0,"path",vn),r.setAttribute("d",t.path)):(r=bn(e,0,"rect",vn),zu(r,{x:0,y:0,width:t.width,height:t.height})),wo(e,1),n+1}function ONe(e,t,n,r){t=t.lastChild.previousSibling;let i,o=0;$s(n,s=>{i=e.mark(t,s,i,r),++o}),wo(t,1+o)}function mB(e,t,n,r,i){let o=e._svg,s;if(!o&&(s=t.ownerDocument,o=Iu(s,r,vn),e._svg=o,e.mark&&(o.__data__=e,o.__values__={fill:"default"},r==="g"))){const a=Iu(s,"path",vn);o.appendChild(a),a.__data__=e;const l=Iu(s,"g",vn);o.appendChild(l),l.__data__=e;const u=Iu(s,"path",vn);o.appendChild(u),u.__data__=e,u.__values__={fill:"default"}}return(o.ownerSVGElement!==i||DNe(o,n))&&t.insertBefore(o,n?n.nextSibling:t.firstChild),o}function DNe(e,t){return e.parentNode&&e.parentNode.childNodes.length>1&&e.previousSibling!=t}let vl=null,yr=null;const NNe={group(e,t,n){const r=vl=t.childNodes[2];yr=r.__values__,e.foreground(Ly,n,this),yr=t.__values__,vl=t.childNodes[1],e.content(Ly,n,this);const i=vl=t.childNodes[0];e.background(Ly,n,this);const o=n.mark.interactive===!1?"none":null;if(o!==yr.events&&(Nr(r,"pointer-events",o),Nr(i,"pointer-events",o),yr.events=o),n.strokeForeground&&n.stroke){const s=n.fill;Nr(r,"display",null),this.style(i,n),Nr(i,"stroke",null),s&&(n.fill=null),yr=r.__values__,this.style(r,n),s&&(n.fill=s),vl=null}else Nr(r,"display","none")},image(e,t,n){n.smooth===!1?(Xw(t,"image-rendering","optimizeSpeed"),Xw(t,"image-rendering","pixelated")):Xw(t,"image-rendering",null)},text(e,t,n){const r=Kv(n);let i,o,s,a;Y(r)?(o=r.map(l=>Sc(n,l)),i=o.join(`
`),i!==yr.text&&(wo(t,0),s=t.ownerDocument,a=wc(n),o.forEach((l,u)=>{const c=Iu(s,"tspan",vn);c.__data__=n,c.textContent=l,u&&(c.setAttribute("x",0),c.setAttribute("dy",a)),t.appendChild(c)}),yr.text=i)):(o=Sc(n,r),o!==yr.text&&(t.textContent=o,yr.text=o)),Nr(t,"font-family",Qv(n)),Nr(t,"font-size",za(n)+"px"),Nr(t,"font-style",n.fontStyle),Nr(t,"font-variant",n.fontVariant),Nr(t,"font-weight",n.fontWeight)}};function Ly(e,t,n){t!==yr[e]&&(n?LNe(vl,e,t,n):Nr(vl,e,t),yr[e]=t)}function Xw(e,t,n){n!==yr[t]&&(n==null?e.style.removeProperty(t):e.style.setProperty(t,n+""),yr[t]=n)}function zu(e,t){for(const n in t)Nr(e,n,t[n])}function Nr(e,t,n){n!=null?e.setAttribute(t,n):e.removeAttribute(t)}function LNe(e,t,n,r){n!=null?e.setAttributeNS(r,t,n):e.removeAttributeNS(r,t)}function Ire(){let e;return typeof window>"u"?"":(e=window.location).hash?e.href.slice(0,-e.hash.length):e.href}class zre extends Jv{constructor(t){super(t),this._text=null,this._defs={gradient:{},clipping:{}}}svg(){return this._text}_render(t){const n=u6();n.open("svg",De({},L1,{class:"marks",width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}));const r=this._bgcolor;return r&&r!=="transparent"&&r!=="none"&&n.open("rect",{width:this._width,height:this._height,fill:r}).close(),n.open("g",Lre,{transform:"translate("+this._origin+")"}),this.mark(n,t),n.close(),this.defs(n),this._text=n.close()+"",this}mark(t,n){const r=eo[n.marktype],i=r.tag,o=[Mre,r.attr];t.open("g",{class:xre(n),"clip-path":n.clip?BD(this,n,n.group):null},Fre(n),{"pointer-events":i!=="g"&&n.interactive===!1?"none":null});const s=a=>{const l=this.href(a);if(l&&t.open("a",l),t.open(i,this.attr(n,a,o,i!=="g"?i:null)),i==="text"){const u=Kv(a);if(Y(u)){const c={x:0,dy:wc(a)};for(let f=0;f<u.length;++f)t.open("tspan",f?c:null).text(Sc(a,u[f])).close()}else t.text(Sc(a,u))}else if(i==="g"){const u=a.strokeForeground,c=a.fill,f=a.stroke;u&&f&&(a.stroke=null),t.open("path",this.attr(n,a,r.background,"bgrect")).close(),t.open("g",this.attr(n,a,r.content)),$s(a,d=>this.mark(t,d)),t.close(),u&&f?(c&&(a.fill=null),a.stroke=f,t.open("path",this.attr(n,a,r.foreground,"bgrect")).close(),c&&(a.fill=c)):t.open("path",this.attr(n,a,r.foreground,"bgfore")).close()}t.close(),l&&t.close()};return r.nested?n.items&&n.items.length&&s(n.items[0]):$s(n,s),t.close()}href(t){const n=t.href;let r;if(n){if(r=this._hrefs&&this._hrefs[n])return r;this.sanitizeURL(n).then(i=>{i["xlink:href"]=i.href,i.href=null,(this._hrefs||(this._hrefs={}))[n]=i})}return null}attr(t,n,r,i){const o={},s=(a,l,u,c)=>{o[c||a]=l};return Array.isArray(r)?r.forEach(a=>a(s,n,this)):r(s,n,this),i&&INe(o,n,t,i,this._defs),o}defs(t){const n=this._defs.gradient,r=this._defs.clipping;if(Object.keys(n).length+Object.keys(r).length!==0){t.open("defs");for(const o in n){const s=n[o],a=s.stops;s.gradient==="radial"?(t.open("pattern",{id:$S+o,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),t.open("rect",{width:"1",height:"1",fill:"url(#"+o+")"}).close(),t.close(),t.open("radialGradient",{id:o,fx:s.x1,fy:s.y1,fr:s.r1,cx:s.x2,cy:s.y2,r:s.r2})):t.open("linearGradient",{id:o,x1:s.x1,x2:s.x2,y1:s.y1,y2:s.y2});for(let l=0;l<a.length;++l)t.open("stop",{offset:a[l].offset,"stop-color":a[l].color}).close();t.close()}for(const o in r){const s=r[o];t.open("clipPath",{id:o}),s.path?t.open("path",{d:s.path}).close():t.open("rect",{x:0,y:0,width:s.width,height:s.height}).close(),t.close()}t.close()}}}function INe(e,t,n,r,i){let o;if(t==null||(r==="bgrect"&&n.interactive===!1&&(e["pointer-events"]="none"),r==="bgfore"&&(n.interactive===!1&&(e["pointer-events"]="none"),e.display="none",t.fill!==null)))return e;r==="image"&&t.smooth===!1&&(o=["image-rendering: optimizeSpeed;","image-rendering: pixelated;"]),r==="text"&&(e["font-family"]=Qv(t),e["font-size"]=za(t)+"px",e["font-style"]=t.fontStyle,e["font-variant"]=t.fontVariant,e["font-weight"]=t.fontWeight);for(const s in IS){let a=t[s];const l=IS[s];a==="transparent"&&(l==="fill"||l==="stroke")||a!=null&&(ID(a)&&(a=Yne(a,i.gradient,"")),e[l]=a)}for(const s in zS){const a=t[s];a!=null&&(o=o||[],o.push(`${zS[s]}: ${a};`))}return o&&(e.style=o.join(" ")),e}const ns={svgMarkTypes:["text"],svgOnTop:!0,debug:!1};function zNe(e){ns.svgMarkTypes=e.svgMarkTypes??["text"],ns.svgOnTop=e.svgOnTop??!0,ns.debug=e.debug??!1}class _P extends Jv{constructor(t){super(t),this._svgRenderer=new c6(t),this._canvasRenderer=new LS(t)}initialize(t,n,r,i,o){this._root_el=bn(t,0,"div");const s=bn(this._root_el,0,"div"),a=bn(this._root_el,1,"div");return this._root_el.style.position="relative",ns.debug||(s.style.height="100%",a.style.position="absolute",a.style.top="0",a.style.left="0",a.style.height="100%",a.style.width="100%"),this._svgEl=ns.svgOnTop?a:s,this._canvasEl=ns.svgOnTop?s:a,this._svgEl.style.pointerEvents="none",this._canvasRenderer.initialize(this._canvasEl,n,r,i,o),this._svgRenderer.initialize(this._svgEl,n,r,i,o),super.initialize(t,n,r,i,o)}dirty(t){return ns.svgMarkTypes.includes(t.mark.marktype)?this._svgRenderer.dirty(t):this._canvasRenderer.dirty(t),this}_render(t,n){const i=(n??["arc","area","image","line","path","rect","rule","shape","symbol","text","trail"]).filter(o=>!ns.svgMarkTypes.includes(o));this._svgRenderer.render(t,ns.svgMarkTypes),this._canvasRenderer.render(t,i)}resize(t,n,r,i){return super.resize(t,n,r,i),this._svgRenderer.resize(t,n,r,i),this._canvasRenderer.resize(t,n,r,i),this}background(t){return ns.svgOnTop?this._canvasRenderer.background(t):this._svgRenderer.background(t),this}}class jre extends Zv{constructor(t,n){super(t,n)}initialize(t,n,r){const i=bn(bn(t,0,"div"),ns.svgOnTop?0:1,"div");return super.initialize(i,n,r)}}const Bre="canvas",Ure="hybrid",Vre="png",Wre="svg",Hre="none",ju={Canvas:Bre,PNG:Vre,SVG:Wre,Hybrid:Ure,None:Hre},wd={};wd[Bre]=wd[Vre]={renderer:LS,headless:LS,handler:Zv};wd[Wre]={renderer:c6,headless:zre,handler:$re};wd[Ure]={renderer:_P,headless:_P,handler:jre};wd[Hre]={};function RE(e,t){return e=String(e||"").toLowerCase(),arguments.length>1?(wd[e]=t,this):wd[e]}function qre(e,t,n){const r=[],i=new gn().union(t),o=e.marktype;return o?Gre(e,i,n,r):o==="group"?Yre(e,i,n,r):G("Intersect scene must be mark node or group item.")}function Gre(e,t,n,r){if(jNe(e,t,n)){const i=e.items,o=e.marktype,s=i.length;let a=0;if(o==="group")for(;a<s;++a)Yre(i[a],t,n,r);else for(const l=eo[o].isect;a<s;++a){const u=i[a];Xre(u,t,l)&&r.push(u)}}return r}function jNe(e,t,n){return e.bounds&&t.intersects(e.bounds)&&(e.marktype==="group"||e.interactive!==!1&&(!n||n(e)))}function Yre(e,t,n,r){n&&n(e.mark)&&Xre(e,t,eo.group.isect)&&r.push(e);const i=e.items,o=i&&i.length;if(o){const s=e.x||0,a=e.y||0;t.translate(-s,-a);for(let l=0;l<o;++l)Gre(i[l],t,n,r);t.translate(s,a)}return r}function Xre(e,t,n){const r=e.bounds;return t.encloses(r)||t.intersects(r)&&n(e,t)}const JA=new gn;function Kre(e){const t=e.clip;if(Ne(t))t(Yv(JA.clear()));else if(t)JA.set(0,0,e.group.width,e.group.height);else return;e.bounds.intersect(JA)}const BNe=1e-9;function f6(e,t,n){return e===t?!0:n==="path"?Qre(e,t):e instanceof Date&&t instanceof Date?+e==+t:Je(e)&&Je(t)?Math.abs(e-t)<=BNe:!e||!t||!se(e)&&!se(t)?e==t:UNe(e,t)}function Qre(e,t){return f6(Eg(e),Eg(t))}function UNe(e,t){var n=Object.keys(e),r=Object.keys(t),i,o;if(n.length!==r.length)return!1;for(n.sort(),r.sort(),o=n.length-1;o>=0;o--)if(n[o]!=r[o])return!1;for(o=n.length-1;o>=0;o--)if(i=n[o],!f6(e[i],t[i],i))return!1;return typeof e==typeof t}function VNe(){tre(),hDe()}const Ag="top",cs="left",ps="right",kc="bottom",WNe="top-left",HNe="top-right",qNe="bottom-left",GNe="bottom-right",d6="start",$P="middle",Ir="end",YNe="x",XNe="y",OE="group",h6="axis",p6="title",KNe="frame",QNe="scope",g6="legend",Jre="row-header",Zre="row-footer",eie="row-title",tie="column-header",nie="column-footer",rie="column-title",JNe="padding",ZNe="symbol",iie="fit",oie="fit-x",sie="fit-y",eLe="pad",m6="none",Cx="all",AP="each",y6="flush",Bu="column",Uu="row";function aie(e){H.call(this,null,e)}re(aie,H,{transform(e,t){const n=t.dataflow,r=e.mark,i=r.marktype,o=eo[i],s=o.bound;let a=r.bounds,l;if(o.nested)r.items.length&&n.dirty(r.items[0]),a=Ex(r,s),r.items.forEach(u=>{u.bounds.clear().union(a)});else if(i===OE||e.modified())switch(t.visit(t.MOD,u=>n.dirty(u)),a.clear(),r.items.forEach(u=>a.union(Ex(u,s))),r.role){case h6:case g6:case p6:t.reflow()}else l=t.changed(t.REM),t.visit(t.ADD,u=>{a.union(Ex(u,s))}),t.visit(t.MOD,u=>{l=l||a.alignsWith(u.bounds),n.dirty(u),a.union(Ex(u,s))}),l&&(a.clear(),r.items.forEach(u=>a.union(u.bounds)));return Kre(r),t.modifies("bounds")}});function Ex(e,t,n){return t(e.bounds.clear(),e,n)}const yB=":vega_identifier:";function v6(e){H.call(this,0,e)}v6.Definition={type:"Identifier",metadata:{modifies:!0},params:[{name:"as",type:"string",required:!0}]};re(v6,H,{transform(e,t){const n=tLe(t.dataflow),r=e.as;let i=n.value;return t.visit(t.ADD,o=>o[r]=o[r]||++i),n.set(this.value=i),t}});function tLe(e){return e._signals[yB]||(e._signals[yB]=e.add(0))}function lie(e){H.call(this,null,e)}re(lie,H,{transform(e,t){let n=this.value;n||(n=t.dataflow.scenegraph().mark(e.markdef,nLe(e),e.index),n.group.context=e.context,e.context.group||(e.context.group=n.group),n.source=this.source,n.clip=e.clip,n.interactive=e.interactive,this.value=n);const r=n.marktype===OE?EE:CE;return t.visit(t.ADD,i=>r.call(i,n)),(e.modified("clip")||e.modified("interactive"))&&(n.clip=e.clip,n.interactive=!!e.interactive,n.zdirty=!0,t.reflow()),n.items=t.source,t}});function nLe(e){const t=e.groups,n=e.parent;return t&&t.size===1?t.get(Object.keys(t.object)[0]):t&&n?t.lookup(n):null}function uie(e){H.call(this,null,e)}const vB={parity:e=>e.filter((t,n)=>n%2?t.opacity=0:1),greedy:(e,t)=>{let n;return e.filter((r,i)=>!i||!cie(n.bounds,r.bounds,t)?(n=r,1):r.opacity=0)}},cie=(e,t,n)=>n>Math.max(t.x1-e.x2,e.x1-t.x2,t.y1-e.y2,e.y1-t.y2),bB=(e,t)=>{for(var n=1,r=e.length,i=e[0].bounds,o;n<r;i=o,++n)if(cie(i,o=e[n].bounds,t))return!0},rLe=e=>{const t=e.bounds;return t.width()>1&&t.height()>1},iLe=(e,t,n)=>{var r=e.range(),i=new gn;return t===Ag||t===kc?i.set(r[0],-1/0,r[1],1/0):i.set(-1/0,r[0],1/0,r[1]),i.expand(n||1),o=>i.encloses(o.bounds)},xB=e=>(e.forEach(t=>t.opacity=1),e),wB=(e,t)=>e.reflow(t.modified()).modifies("opacity");re(uie,H,{transform(e,t){const n=vB[e.method]||vB.parity,r=e.separation||0;let i=t.materialize(t.SOURCE).source,o,s;if(!i||!i.length)return;if(!e.method)return e.modified("method")&&(xB(i),t=wB(t,e)),t;if(i=i.filter(rLe),!i.length)return;if(e.sort&&(i=i.slice().sort(e.sort)),o=xB(i),t=wB(t,e),o.length>=3&&bB(o,r)){do o=n(o,r);while(o.length>=3&&bB(o,r));o.length<3&&!qe(i).opacity&&(o.length>1&&(qe(o).opacity=0),qe(i).opacity=1)}e.boundScale&&e.boundTolerance>=0&&(s=iLe(e.boundScale,e.boundOrient,+e.boundTolerance),i.forEach(l=>{s(l)||(l.opacity=0)}));const a=o[0].mark.bounds.clear();return i.forEach(l=>{l.opacity&&a.union(l.bounds)}),t}});function fie(e){H.call(this,null,e)}re(fie,H,{transform(e,t){const n=t.dataflow;if(t.visit(t.ALL,r=>n.dirty(r)),t.fields&&t.fields.zindex){const r=t.source&&t.source[0];r&&(r.mark.zdirty=!0)}}});const hr=new gn;function hp(e,t,n){return e[t]===n?0:(e[t]=n,1)}function oLe(e){var t=e.items[0].orient;return t===cs||t===ps}function sLe(e){let t=+e.grid;return[e.ticks?t++:-1,e.labels?t++:-1,t+ +e.domain]}function aLe(e,t,n,r){var i=t.items[0],o=i.datum,s=i.translate!=null?i.translate:.5,a=i.orient,l=sLe(o),u=i.range,c=i.offset,f=i.position,d=i.minExtent,h=i.maxExtent,p=o.title&&i.items[l[2]].items[0],g=i.titlePadding,m=i.bounds,y=p&&e6(p),v=0,b=0,x,w;switch(hr.clear().union(m),m.clear(),(x=l[0])>-1&&m.union(i.items[x].bounds),(x=l[1])>-1&&m.union(i.items[x].bounds),a){case Ag:v=f||0,b=-c,w=Math.max(d,Math.min(h,-m.y1)),m.add(0,-w).add(u,0),p&&_x(e,p,w,g,y,0,-1,m);break;case cs:v=-c,b=f||0,w=Math.max(d,Math.min(h,-m.x1)),m.add(-w,0).add(0,u),p&&_x(e,p,w,g,y,1,-1,m);break;case ps:v=n+c,b=f||0,w=Math.max(d,Math.min(h,m.x2)),m.add(0,0).add(w,u),p&&_x(e,p,w,g,y,1,1,m);break;case kc:v=f||0,b=r+c,w=Math.max(d,Math.min(h,m.y2)),m.add(0,0).add(u,w),p&&_x(e,p,w,g,0,0,1,m);break;default:v=i.x,b=i.y}return Xl(m.translate(v,b),i),hp(i,"x",v+s)|hp(i,"y",b+s)&&(i.bounds=hr,e.dirty(i),i.bounds=m,e.dirty(i)),i.mark.bounds.clear().union(m)}function _x(e,t,n,r,i,o,s,a){const l=t.bounds;if(t.auto){const u=s*(n+i+r);let c=0,f=0;e.dirty(t),o?c=(t.x||0)-(t.x=u):f=(t.y||0)-(t.y=u),t.mark.bounds.clear().union(l.translate(-c,-f)),e.dirty(t)}a.union(l)}const SB=(e,t)=>Math.floor(Math.min(e,t)),kB=(e,t)=>Math.ceil(Math.max(e,t));function lLe(e){var t=e.items,n=t.length,r=0,i,o;const s={marks:[],rowheaders:[],rowfooters:[],colheaders:[],colfooters:[],rowtitle:null,coltitle:null};for(;r<n;++r)if(i=t[r],o=i.items,i.marktype===OE)switch(i.role){case h6:case g6:case p6:break;case Jre:s.rowheaders.push(...o);break;case Zre:s.rowfooters.push(...o);break;case tie:s.colheaders.push(...o);break;case nie:s.colfooters.push(...o);break;case eie:s.rowtitle=o[0];break;case rie:s.coltitle=o[0];break;default:s.marks.push(...o)}return s}function uLe(e){return new gn().set(0,0,e.width||0,e.height||0)}function cLe(e){const t=e.bounds.clone();return t.empty()?t.set(0,0,0,0):t.translate(-(e.x||0),-(e.y||0))}function Nt(e,t,n){const r=se(e)?e[t]:e;return r??(n!==void 0?n:0)}function CB(e){return e<0?Math.ceil(-e):0}function die(e,t,n){var r=!n.nodirty,i=n.bounds===y6?uLe:cLe,o=hr.set(0,0,0,0),s=Nt(n.align,Bu),a=Nt(n.align,Uu),l=Nt(n.padding,Bu),u=Nt(n.padding,Uu),c=n.columns||t.length,f=c<=0?1:Math.ceil(t.length/c),d=t.length,h=Array(d),p=Array(c),g=0,m=Array(d),y=Array(f),v=0,b=Array(d),x=Array(d),w=Array(d),k,S,C,E,A,T,L,F,R,_,P;for(S=0;S<c;++S)p[S]=0;for(S=0;S<f;++S)y[S]=0;for(S=0;S<d;++S)T=t[S],A=w[S]=i(T),T.x=T.x||0,b[S]=0,T.y=T.y||0,x[S]=0,C=S%c,E=~~(S/c),g=Math.max(g,L=Math.ceil(A.x2)),v=Math.max(v,F=Math.ceil(A.y2)),p[C]=Math.max(p[C],L),y[E]=Math.max(y[E],F),h[S]=l+CB(A.x1),m[S]=u+CB(A.y1),r&&e.dirty(t[S]);for(S=0;S<d;++S)S%c===0&&(h[S]=0),S<c&&(m[S]=0);if(s===AP)for(C=1;C<c;++C){for(P=0,S=C;S<d;S+=c)P<h[S]&&(P=h[S]);for(S=C;S<d;S+=c)h[S]=P+p[C-1]}else if(s===Cx){for(P=0,S=0;S<d;++S)S%c&&P<h[S]&&(P=h[S]);for(S=0;S<d;++S)S%c&&(h[S]=P+g)}else for(s=!1,C=1;C<c;++C)for(S=C;S<d;S+=c)h[S]+=p[C-1];if(a===AP)for(E=1;E<f;++E){for(P=0,S=E*c,k=S+c;S<k;++S)P<m[S]&&(P=m[S]);for(S=E*c;S<k;++S)m[S]=P+y[E-1]}else if(a===Cx){for(P=0,S=c;S<d;++S)P<m[S]&&(P=m[S]);for(S=c;S<d;++S)m[S]=P+v}else for(a=!1,E=1;E<f;++E)for(S=E*c,k=S+c;S<k;++S)m[S]+=y[E-1];for(R=0,S=0;S<d;++S)R=h[S]+(S%c?R:0),b[S]+=R-t[S].x;for(C=0;C<c;++C)for(_=0,S=C;S<d;S+=c)_+=m[S],x[S]+=_-t[S].y;if(s&&Nt(n.center,Bu)&&f>1)for(S=0;S<d;++S)A=s===Cx?g:p[S%c],R=A-w[S].x2-t[S].x-b[S],R>0&&(b[S]+=R/2);if(a&&Nt(n.center,Uu)&&c!==1)for(S=0;S<d;++S)A=a===Cx?v:y[~~(S/c)],_=A-w[S].y2-t[S].y-x[S],_>0&&(x[S]+=_/2);for(S=0;S<d;++S)o.union(w[S].translate(b[S],x[S]));switch(R=Nt(n.anchor,YNe),_=Nt(n.anchor,XNe),Nt(n.anchor,Bu)){case Ir:R-=o.width();break;case $P:R-=o.width()/2}switch(Nt(n.anchor,Uu)){case Ir:_-=o.height();break;case $P:_-=o.height()/2}for(R=Math.round(R),_=Math.round(_),o.clear(),S=0;S<d;++S)t[S].mark.bounds.clear();for(S=0;S<d;++S)T=t[S],T.x+=b[S]+=R,T.y+=x[S]+=_,o.union(T.mark.bounds.union(T.bounds.translate(b[S],x[S]))),r&&e.dirty(T);return o}function fLe(e,t,n){var r=lLe(t),i=r.marks,o=n.bounds===y6?dLe:hLe,s=n.offset,a=n.columns||i.length,l=a<=0?1:Math.ceil(i.length/a),u=l*a,c,f,d,h,p,g,m;const y=die(e,i,n);y.empty()&&y.set(0,0,0,0),r.rowheaders&&(g=Nt(n.headerBand,Uu,null),c=$x(e,r.rowheaders,i,a,l,-Nt(s,"rowHeader"),SB,0,o,"x1",0,a,1,g)),r.colheaders&&(g=Nt(n.headerBand,Bu,null),f=$x(e,r.colheaders,i,a,a,-Nt(s,"columnHeader"),SB,1,o,"y1",0,1,a,g)),r.rowfooters&&(g=Nt(n.footerBand,Uu,null),d=$x(e,r.rowfooters,i,a,l,Nt(s,"rowFooter"),kB,0,o,"x2",a-1,a,1,g)),r.colfooters&&(g=Nt(n.footerBand,Bu,null),h=$x(e,r.colfooters,i,a,a,Nt(s,"columnFooter"),kB,1,o,"y2",u-a,1,a,g)),r.rowtitle&&(p=Nt(n.titleAnchor,Uu),m=Nt(s,"rowTitle"),m=p===Ir?d+m:c-m,g=Nt(n.titleBand,Uu,.5),EB(e,r.rowtitle,m,0,y,g)),r.coltitle&&(p=Nt(n.titleAnchor,Bu),m=Nt(s,"columnTitle"),m=p===Ir?h+m:f-m,g=Nt(n.titleBand,Bu,.5),EB(e,r.coltitle,m,1,y,g))}function dLe(e,t){return t==="x1"?e.x||0:t==="y1"?e.y||0:t==="x2"?(e.x||0)+(e.width||0):t==="y2"?(e.y||0)+(e.height||0):void 0}function hLe(e,t){return e.bounds[t]}function $x(e,t,n,r,i,o,s,a,l,u,c,f,d,h){var p=n.length,g=0,m=0,y,v,b,x,w,k,S,C,E;if(!p)return g;for(y=c;y<p;y+=f)n[y]&&(g=s(g,l(n[y],u)));if(!t.length)return g;for(t.length>i&&(e.warn("Grid headers exceed limit: "+i),t=t.slice(0,i)),g+=o,v=0,x=t.length;v<x;++v)e.dirty(t[v]),t[v].mark.bounds.clear();for(y=c,v=0,x=t.length;v<x;++v,y+=f){for(k=t[v],w=k.mark.bounds,b=y;b>=0&&(S=n[b])==null;b-=d);a?(C=h==null?S.x:Math.round(S.bounds.x1+h*S.bounds.width()),E=g):(C=g,E=h==null?S.y:Math.round(S.bounds.y1+h*S.bounds.height())),w.union(k.bounds.translate(C-(k.x||0),E-(k.y||0))),k.x=C,k.y=E,e.dirty(k),m=s(m,w[u])}return m}function EB(e,t,n,r,i,o){if(t){e.dirty(t);var s=n,a=n;r?s=Math.round(i.x1+o*i.width()):a=Math.round(i.y1+o*i.height()),t.bounds.translate(s-(t.x||0),a-(t.y||0)),t.mark.bounds.clear().union(t.bounds),t.x=s,t.y=a,e.dirty(t)}}function pLe(e,t){const n=e[t]||{};return(r,i)=>n[r]!=null?n[r]:e[r]!=null?e[r]:i}function gLe(e,t){let n=-1/0;return e.forEach(r=>{r.offset!=null&&(n=Math.max(n,r.offset))}),n>-1/0?n:t}function mLe(e,t,n,r,i,o,s){const a=pLe(n,t),l=gLe(e,a("offset",0)),u=a("anchor",d6),c=u===Ir?1:u===$P?.5:0,f={align:AP,bounds:a("bounds",y6),columns:a("direction")==="vertical"?1:e.length,padding:a("margin",8),center:a("center"),nodirty:!0};switch(t){case cs:f.anchor={x:Math.floor(r.x1)-l,column:Ir,y:c*(s||r.height()+2*r.y1),row:u};break;case ps:f.anchor={x:Math.ceil(r.x2)+l,y:c*(s||r.height()+2*r.y1),row:u};break;case Ag:f.anchor={y:Math.floor(i.y1)-l,row:Ir,x:c*(o||i.width()+2*i.x1),column:u};break;case kc:f.anchor={y:Math.ceil(i.y2)+l,x:c*(o||i.width()+2*i.x1),column:u};break;case WNe:f.anchor={x:l,y:l};break;case HNe:f.anchor={x:o-l,y:l,column:Ir};break;case qNe:f.anchor={x:l,y:s-l,row:Ir};break;case GNe:f.anchor={x:o-l,y:s-l,column:Ir,row:Ir};break}return f}function yLe(e,t){var n=t.items[0],r=n.datum,i=n.orient,o=n.bounds,s=n.x,a=n.y,l,u;return n._bounds?n._bounds.clear().union(o):n._bounds=o.clone(),o.clear(),bLe(e,n,n.items[0].items[0]),o=vLe(n,o),l=2*n.padding,u=2*n.padding,o.empty()||(l=Math.ceil(o.width()+l),u=Math.ceil(o.height()+u)),r.type===ZNe&&xLe(n.items[0].items[0].items[0].items),i!==m6&&(n.x=s=0,n.y=a=0),n.width=l,n.height=u,Xl(o.set(s,a,s+l,a+u),n),n.mark.bounds.clear().union(o),n}function vLe(e,t){return e.items.forEach(n=>t.union(n.bounds)),t.x1=e.padding,t.y1=e.padding,t}function bLe(e,t,n){var r=t.padding,i=r-n.x,o=r-n.y;if(!t.datum.title)(i||o)&&u0(e,n,i,o);else{var s=t.items[1].items[0],a=s.anchor,l=t.titlePadding||0,u=r-s.x,c=r-s.y;switch(s.orient){case cs:i+=Math.ceil(s.bounds.width())+l;break;case ps:case kc:break;default:o+=s.bounds.height()+l}switch((i||o)&&u0(e,n,i,o),s.orient){case cs:c+=Eh(t,n,s,a,1,1);break;case ps:u+=Eh(t,n,s,Ir,0,0)+l,c+=Eh(t,n,s,a,1,1);break;case kc:u+=Eh(t,n,s,a,0,0),c+=Eh(t,n,s,Ir,-1,0,1)+l;break;default:u+=Eh(t,n,s,a,0,0)}(u||c)&&u0(e,s,u,c),(u=Math.round(s.bounds.x1-r))<0&&(u0(e,n,-u,0),u0(e,s,-u,0))}}function Eh(e,t,n,r,i,o,s){const a=e.datum.type!=="symbol",l=n.datum.vgrad,u=a&&(o||!l)&&!s?t.items[0]:t,c=u.bounds[i?"y2":"x2"]-e.padding,f=l&&o?c:0,d=l&&o?0:c,h=i<=0?0:e6(n);return Math.round(r===d6?f:r===Ir?d-h:.5*(c-h))}function u0(e,t,n,r){t.x+=n,t.y+=r,t.bounds.translate(n,r),t.mark.bounds.translate(n,r),e.dirty(t)}function xLe(e){const t=e.reduce((n,r)=>(n[r.column]=Math.max(r.bounds.x2-r.x,n[r.column]||0),n),{});e.forEach(n=>{n.width=t[n.column],n.height=n.bounds.y2-n.y})}function wLe(e,t,n,r,i){var o=t.items[0],s=o.frame,a=o.orient,l=o.anchor,u=o.offset,c=o.padding,f=o.items[0].items[0],d=o.items[1]&&o.items[1].items[0],h=a===cs||a===ps?r:n,p=0,g=0,m=0,y=0,v=0,b;if(s!==OE?a===cs?(p=i.y2,h=i.y1):a===ps?(p=i.y1,h=i.y2):(p=i.x1,h=i.x2):a===cs&&(p=r,h=0),b=l===d6?p:l===Ir?h:(p+h)/2,d&&d.text){switch(a){case Ag:case kc:v=f.bounds.height()+c;break;case cs:y=f.bounds.width()+c;break;case ps:y=-f.bounds.width()-c;break}hr.clear().union(d.bounds),hr.translate(y-(d.x||0),v-(d.y||0)),hp(d,"x",y)|hp(d,"y",v)&&(e.dirty(d),d.bounds.clear().union(hr),d.mark.bounds.clear().union(hr),e.dirty(d)),hr.clear().union(d.bounds)}else hr.clear();switch(hr.union(f.bounds),a){case Ag:g=b,m=i.y1-hr.height()-u;break;case cs:g=i.x1-hr.width()-u,m=b;break;case ps:g=i.x2+hr.width()+u,m=b;break;case kc:g=b,m=i.y2+u;break;default:g=o.x,m=o.y}return hp(o,"x",g)|hp(o,"y",m)&&(hr.translate(g,m),e.dirty(o),o.bounds.clear().union(hr),t.bounds.clear().union(hr),e.dirty(o)),o.bounds}function hie(e){H.call(this,null,e)}re(hie,H,{transform(e,t){const n=t.dataflow;return e.mark.items.forEach(r=>{e.layout&&fLe(n,r,e.layout),kLe(n,r,e)}),SLe(e.mark.group)?t.reflow():t}});function SLe(e){return e&&e.mark.role!=="legend-entry"}function kLe(e,t,n){var r=t.items,i=Math.max(0,t.width||0),o=Math.max(0,t.height||0),s=new gn().set(0,0,i,o),a=s.clone(),l=s.clone(),u=[],c,f,d,h,p,g;for(p=0,g=r.length;p<g;++p)switch(f=r[p],f.role){case h6:h=oLe(f)?a:l,h.union(aLe(e,f,i,o));break;case p6:c=f;break;case g6:u.push(yLe(e,f));break;case KNe:case QNe:case Jre:case Zre:case eie:case tie:case nie:case rie:a.union(f.bounds),l.union(f.bounds);break;default:s.union(f.bounds)}if(u.length){const m={};u.forEach(y=>{d=y.orient||ps,d!==m6&&(m[d]||(m[d]=[])).push(y)});for(const y in m){const v=m[y];die(e,v,mLe(v,y,n.legends,a,l,i,o))}u.forEach(y=>{const v=y.bounds;if(v.equals(y._bounds)||(y.bounds=y._bounds,e.dirty(y),y.bounds=v,e.dirty(y)),n.autosize&&(n.autosize.type===iie||n.autosize.type===oie||n.autosize.type===sie))switch(y.orient){case cs:case ps:s.add(v.x1,0).add(v.x2,0);break;case Ag:case kc:s.add(0,v.y1).add(0,v.y2)}else s.union(v)})}s.union(a).union(l),c&&s.union(wLe(e,c,i,o,s)),t.clip&&s.set(0,0,t.width||0,t.height||0),CLe(e,t,s,n)}function CLe(e,t,n,r){const i=r.autosize||{},o=i.type;if(e._autosize<1||!o)return;let s=e._width,a=e._height,l=Math.max(0,t.width||0),u=Math.max(0,Math.ceil(-n.x1)),c=Math.max(0,t.height||0),f=Math.max(0,Math.ceil(-n.y1));const d=Math.max(0,Math.ceil(n.x2-l)),h=Math.max(0,Math.ceil(n.y2-c));if(i.contains===JNe){const p=e.padding();s-=p.left+p.right,a-=p.top+p.bottom}o===m6?(u=0,f=0,l=s,c=a):o===iie?(l=Math.max(0,s-u-d),c=Math.max(0,a-f-h)):o===oie?(l=Math.max(0,s-u-d),a=c+f+h):o===sie?(s=l+u+d,c=Math.max(0,a-f-h)):o===eLe&&(s=l+u+d,a=c+f+h),e._resizeView(s,a,l,c,[u,f],i.resize)}const ELe=Object.freeze(Object.defineProperty({__proto__:null,bound:aie,identifier:v6,mark:lie,overlap:uie,render:fie,viewlayout:hie},Symbol.toStringTag,{value:"Module"}));function pie(e){H.call(this,null,e)}re(pie,H,{transform(e,t){if(this.value&&!e.modified())return t.StopPropagation;var n=t.dataflow.locale(),r=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=this.value,o=e.scale,s=e.count==null?e.values?e.values.length:10:e.count,a=ND(o,s,e.minstep),l=e.format||Bne(n,o,a,e.formatSpecifier,e.formatType,!!e.values),u=e.values?jne(o,e.values,a):LD(o,a);return i&&(r.rem=i),i=u.map((c,f)=>at({index:f/(u.length-1||1),value:c,label:l(c)})),e.extra&&i.length&&i.push(at({index:-1,extra:{value:i[0].value},label:""})),r.source=i,r.add=i,this.value=i,r}});function gie(e){H.call(this,null,e)}function _Le(){return at({})}function $Le(e){const t=fm().test(n=>n.exit);return t.lookup=n=>t.get(e(n)),t}re(gie,H,{transform(e,t){var n=t.dataflow,r=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=e.item||_Le,o=e.key||be,s=this.value;return Y(r.encode)&&(r.encode=null),s&&(e.modified("key")||t.modified(o))&&G("DataJoin does not support modified key function or fields."),s||(t=t.addAll(),this.value=s=$Le(o)),t.visit(t.ADD,a=>{const l=o(a);let u=s.get(l);u?u.exit?(s.empty--,r.add.push(u)):r.mod.push(u):(u=i(a),s.set(l,u),r.add.push(u)),u.datum=a,u.exit=!1}),t.visit(t.MOD,a=>{const l=o(a),u=s.get(l);u&&(u.datum=a,r.mod.push(u))}),t.visit(t.REM,a=>{const l=o(a),u=s.get(l);a===u.datum&&!u.exit&&(r.rem.push(u),u.exit=!0,++s.empty)}),t.changed(t.ADD_MOD)&&r.modifies("datum"),(t.clean()||e.clean&&s.empty>n.cleanThreshold)&&n.runAfter(s.clean),r}});function mie(e){H.call(this,null,e)}re(mie,H,{transform(e,t){var n=t.fork(t.ADD_REM),r=e.mod||!1,i=e.encoders,o=t.encode;if(Y(o))if(n.changed()||o.every(f=>i[f]))o=o[0],n.encode=null;else return t.StopPropagation;var s=o==="enter",a=i.update||du,l=i.enter||du,u=i.exit||du,c=(o&&!s?i[o]:a)||du;if(t.changed(t.ADD)&&(t.visit(t.ADD,f=>{l(f,e),a(f,e)}),n.modifies(l.output),n.modifies(a.output),c!==du&&c!==a&&(t.visit(t.ADD,f=>{c(f,e)}),n.modifies(c.output))),t.changed(t.REM)&&u!==du&&(t.visit(t.REM,f=>{u(f,e)}),n.modifies(u.output)),s||c!==du){const f=t.MOD|(e.modified()?t.REFLOW:0);s?(t.visit(f,d=>{const h=l(d,e)||r;(c(d,e)||h)&&n.mod.push(d)}),n.mod.length&&n.modifies(l.output)):t.visit(f,d=>{(c(d,e)||r)&&n.mod.push(d)}),n.mod.length&&n.modifies(c.output)}return n.changed()?n:t.StopPropagation}});function yie(e){H.call(this,[],e)}re(yie,H,{transform(e,t){if(this.value!=null&&!e.modified())return t.StopPropagation;var n=t.dataflow.locale(),r=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=this.value,o=e.type||Bw,s=e.scale,a=+e.limit,l=ND(s,e.count==null?5:e.count,e.minstep),u=!!e.values||o===Bw,c=e.format||Hne(n,s,l,o,e.formatSpecifier,e.formatType,u),f=e.values||Wne(s,l),d,h,p,g,m;return i&&(r.rem=i),o===Bw?(a&&f.length>a?(t.dataflow.warn("Symbol legend count exceeds limit, filtering items."),i=f.slice(0,a-1),m=!0):i=f,Ne(p=e.size)?(!e.values&&s(i[0])===0&&(i=i.slice(1)),g=i.reduce((y,v)=>Math.max(y,p(v,e)),0)):p=Tr(g=p||8),i=i.map((y,v)=>at({index:v,label:c(y,v,i),value:y,offset:g,size:p(y,e)})),m&&(m=f[i.length],i.push(at({index:i.length,label:`${f.length-i.length} entries`,value:m,offset:g,size:p(m,e)})))):o===eDe?(d=s.domain(),h=Lne(s,d[0],qe(d)),f.length<3&&!e.values&&d[0]!==qe(d)&&(f=[d[0],qe(d)]),i=f.map((y,v)=>at({index:v,label:c(y,v,f),value:y,perc:h(y)}))):(p=f.length-1,h=fDe(s),i=f.map((y,v)=>at({index:v,label:c(y,v,f),value:y,perc:v?h(y):0,perc2:v===p?1:h(f[v+1])}))),r.source=i,r.add=i,this.value=i,r}});const ALe=e=>e.source.x,TLe=e=>e.source.y,PLe=e=>e.target.x,MLe=e=>e.target.y;function b6(e){H.call(this,{},e)}b6.Definition={type:"LinkPath",metadata:{modifies:!0},params:[{name:"sourceX",type:"field",default:"source.x"},{name:"sourceY",type:"field",default:"source.y"},{name:"targetX",type:"field",default:"target.x"},{name:"targetY",type:"field",default:"target.y"},{name:"orient",type:"enum",default:"vertical",values:["horizontal","vertical","radial"]},{name:"shape",type:"enum",default:"line",values:["line","arc","curve","diagonal","orthogonal"]},{name:"require",type:"signal"},{name:"as",type:"string",default:"path"}]};re(b6,H,{transform(e,t){var n=e.sourceX||ALe,r=e.sourceY||TLe,i=e.targetX||PLe,o=e.targetY||MLe,s=e.as||"path",a=e.orient||"vertical",l=e.shape||"line",u=_B.get(l+"-"+a)||_B.get(l);return u||G("LinkPath unsupported type: "+e.shape+(e.orient?"-"+e.orient:"")),t.visit(t.SOURCE,c=>{c[s]=u(n(c),r(c),i(c),o(c))}),t.reflow(e.modified()).modifies(s)}});const vie=(e,t,n,r)=>"M"+e+","+t+"L"+n+","+r,FLe=(e,t,n,r)=>vie(t*Math.cos(e),t*Math.sin(e),r*Math.cos(n),r*Math.sin(n)),bie=(e,t,n,r)=>{var i=n-e,o=r-t,s=Math.hypot(i,o)/2,a=180*Math.atan2(o,i)/Math.PI;return"M"+e+","+t+"A"+s+","+s+" "+a+" 0 1 "+n+","+r},RLe=(e,t,n,r)=>bie(t*Math.cos(e),t*Math.sin(e),r*Math.cos(n),r*Math.sin(n)),xie=(e,t,n,r)=>{const i=n-e,o=r-t,s=.2*(i+o),a=.2*(o-i);return"M"+e+","+t+"C"+(e+s)+","+(t+a)+" "+(n+a)+","+(r-s)+" "+n+","+r},OLe=(e,t,n,r)=>xie(t*Math.cos(e),t*Math.sin(e),r*Math.cos(n),r*Math.sin(n)),DLe=(e,t,n,r)=>"M"+e+","+t+"V"+r+"H"+n,NLe=(e,t,n,r)=>"M"+e+","+t+"H"+n+"V"+r,LLe=(e,t,n,r)=>{const i=Math.cos(e),o=Math.sin(e),s=Math.cos(n),a=Math.sin(n),l=Math.abs(n-e)>Math.PI?n<=e:n>e;return"M"+t*i+","+t*o+"A"+t+","+t+" 0 0,"+(l?1:0)+" "+t*s+","+t*a+"L"+r*s+","+r*a},ILe=(e,t,n,r)=>{const i=(e+n)/2;return"M"+e+","+t+"C"+i+","+t+" "+i+","+r+" "+n+","+r},zLe=(e,t,n,r)=>{const i=(t+r)/2;return"M"+e+","+t+"C"+e+","+i+" "+n+","+i+" "+n+","+r},jLe=(e,t,n,r)=>{const i=Math.cos(e),o=Math.sin(e),s=Math.cos(n),a=Math.sin(n),l=(t+r)/2;return"M"+t*i+","+t*o+"C"+l*i+","+l*o+" "+l*s+","+l*a+" "+r*s+","+r*a},_B=fm({line:vie,"line-radial":FLe,arc:bie,"arc-radial":RLe,curve:xie,"curve-radial":OLe,"orthogonal-horizontal":DLe,"orthogonal-vertical":NLe,"orthogonal-radial":LLe,"diagonal-horizontal":ILe,"diagonal-vertical":zLe,"diagonal-radial":jLe});function x6(e){H.call(this,null,e)}x6.Definition={type:"Pie",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"startAngle",type:"number",default:0},{name:"endAngle",type:"number",default:6.283185307179586},{name:"sort",type:"boolean",default:!1},{name:"as",type:"string",array:!0,length:2,default:["startAngle","endAngle"]}]};re(x6,H,{transform(e,t){var n=e.as||["startAngle","endAngle"],r=n[0],i=n[1],o=e.field||lm,s=e.startAngle||0,a=e.endAngle!=null?e.endAngle:2*Math.PI,l=t.source,u=l.map(o),c=u.length,f=s,d=(a-s)/AZ(u),h=Bi(c),p,g,m;for(e.sort&&h.sort((y,v)=>u[y]-u[v]),p=0;p<c;++p)m=u[h[p]],g=l[h[p]],g[r]=f,g[i]=f+=m*d;return this.value=u,t.reflow(e.modified()).modifies(n)}});const BLe=5;function ULe(e){const t=e.type;return!e.bins&&(t===Sg||t===Bv||t===Uv)}function wie(e){return RD(e)&&e!==Ea}const VLe=ks(["set","modified","clear","type","scheme","schemeExtent","schemeCount","domain","domainMin","domainMid","domainMax","domainRaw","domainImplicit","nice","zero","bins","range","rangeStep","round","reverse","interpolate","interpolateGamma"]);function Sie(e){H.call(this,null,e),this.modified(!0)}re(Sie,H,{transform(e,t){var n=t.dataflow,r=this.value,i=WLe(e);(!r||i!==r.type)&&(this.value=r=et(i)());for(i in e)if(!VLe[i]){if(i==="padding"&&wie(r.type))continue;Ne(r[i])?r[i](e[i]):n.warn("Unsupported scale property: "+i)}return KLe(r,e,XLe(r,e,qLe(r,e,n))),t.fork(t.NO_SOURCE|t.NO_FIELDS)}});function WLe(e){var t=e.type,n="",r;return t===Ea?Ea+"-"+Sg:(HLe(e)&&(r=e.rawDomain?e.rawDomain.length:e.domain?e.domain.length+ +(e.domainMid!=null):0,n=r===2?Ea+"-":r===3?vm+"-":""),(n+t||Sg).toLowerCase())}function HLe(e){const t=e.type;return RD(t)&&t!==bd&&t!==xd&&(e.scheme||e.range&&e.range.length&&e.range.every(ue))}function qLe(e,t,n){const r=GLe(e,t.domainRaw,n);if(r>-1)return r;var i=t.domain,o=e.type,s=t.zero||t.zero===void 0&&ULe(e),a,l;if(!i)return 0;if((s||t.domainMin!=null||t.domainMax!=null||t.domainMid!=null)&&(a=(i=i.slice()).length-1||1,s&&(i[0]>0&&(i[0]=0),i[a]<0&&(i[a]=0)),t.domainMin!=null&&(i[0]=t.domainMin),t.domainMax!=null&&(i[a]=t.domainMax),t.domainMid!=null)){l=t.domainMid;const u=l>i[a]?a+1:l<i[0]?0:a;u!==a&&n.warn("Scale domainMid exceeds domain min or max.",l),i.splice(u,0,l)}return wie(o)&&t.padding&&i[0]!==qe(i)&&(i=YLe(o,i,t.range,t.padding,t.exponent,t.constant)),e.domain(kie(o,i,n)),o===TD&&e.unknown(t.domainImplicit?lP:void 0),t.nice&&e.nice&&e.nice(t.nice!==!0&&ND(e,t.nice)||null),i.length}function GLe(e,t,n){return t?(e.domain(kie(e.type,t,n)),t.length):-1}function YLe(e,t,n,r,i,o){var s=Math.abs(qe(n)-n[0]),a=s/(s-2*r),l=e===jl?KR(t,null,a):e===Uv?lS(t,null,a,.5):e===Bv?lS(t,null,a,i||1):e===bE?QR(t,null,a,o||1):XR(t,null,a);return t=t.slice(),t[0]=l[0],t[t.length-1]=l[1],t}function kie(e,t,n){if(Fne(e)){var r=Math.abs(t.reduce((i,o)=>i+(o<0?-1:o>0?1:0),0));r!==t.length&&n.warn("Log scale domain includes zero: "+ne(t))}return t}function XLe(e,t,n){let r=t.bins;if(r&&!Y(r)){const i=e.domain(),o=i[0],s=qe(i),a=r.step;let l=r.start==null?o:r.start,u=r.stop==null?s:r.stop;a||G("Scale bins parameter missing step property."),l<o&&(l=a*Math.ceil(o/a)),u>s&&(u=a*Math.floor(s/a)),r=Bi(l,u+a/2,a)}return r?e.bins=r:e.bins&&delete e.bins,e.type===PD&&(r?!t.domain&&!t.domainRaw&&(e.domain(r),n=r.length):e.bins=e.domain()),n}function KLe(e,t,n){var r=e.type,i=t.round||!1,o=t.range;if(t.rangeStep!=null)o=QLe(r,t,n);else if(t.scheme&&(o=JLe(r,t,n),Ne(o))){if(e.interpolator)return e.interpolator(o);G(`Scale type ${r} does not support interpolating color schemes.`)}if(o&&Rne(r))return e.interpolator(SE(TP(o,t.reverse),t.interpolate,t.interpolateGamma));o&&t.interpolate&&e.interpolate?e.interpolate(OD(t.interpolate,t.interpolateGamma)):Ne(e.round)?e.round(i):Ne(e.rangeRound)&&e.interpolate(i?ym:Ic),o&&e.range(TP(o,t.reverse))}function QLe(e,t,n){e!==_ne&&e!==pP&&G("Only band and point scales support rangeStep.");var r=(t.paddingOuter!=null?t.paddingOuter:t.padding)||0,i=e===pP?1:(t.paddingInner!=null?t.paddingInner:t.padding)||0;return[0,t.rangeStep*AD(n,i,r)]}function JLe(e,t,n){var r=t.schemeExtent,i,o;return Y(t.scheme)?o=SE(t.scheme,t.interpolate,t.interpolateGamma):(i=t.scheme.toLowerCase(),o=DD(i),o||G(`Unrecognized scheme name: ${t.scheme}`)),n=e===wE?n+1:e===PD?n-1:e===kg||e===xE?+t.schemeCount||BLe:n,Rne(e)?$B(o,r,t.reverse):Ne(o)?Nne($B(o,r),n):e===TD?o:o.slice(0,n)}function $B(e,t,n){return Ne(e)&&(t||n)?Dne(e,TP(t||[0,1],n)):e}function TP(e,t){return t?e.slice().reverse():e}function Cie(e){H.call(this,null,e)}re(Cie,H,{transform(e,t){const n=e.modified("sort")||t.changed(t.ADD)||t.modified(e.sort.fields)||t.modified("datum");return n&&t.source.sort(Qd(e.sort)),this.modified(n),t}});const AB="zero",Eie="center",_ie="normalize",$ie=["y0","y1"];function w6(e){H.call(this,null,e)}w6.Definition={type:"Stack",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"groupby",type:"field",array:!0},{name:"sort",type:"compare"},{name:"offset",type:"enum",default:AB,values:[AB,Eie,_ie]},{name:"as",type:"string",array:!0,length:2,default:$ie}]};re(w6,H,{transform(e,t){var n=e.as||$ie,r=n[0],i=n[1],o=Qd(e.sort),s=e.field||lm,a=e.offset===Eie?ZLe:e.offset===_ie?eIe:tIe,l,u,c,f;for(l=nIe(t.source,e.groupby,o,s),u=0,c=l.length,f=l.max;u<c;++u)a(l[u],f,s,r,i);return t.reflow(e.modified()).modifies(n)}});function ZLe(e,t,n,r,i){for(var o=(t-e.sum)/2,s=e.length,a=0,l;a<s;++a)l=e[a],l[r]=o,l[i]=o+=Math.abs(n(l))}function eIe(e,t,n,r,i){for(var o=1/e.sum,s=0,a=e.length,l=0,u=0,c;l<a;++l)c=e[l],c[r]=s,c[i]=s=o*(u+=Math.abs(n(c)))}function tIe(e,t,n,r,i){for(var o=0,s=0,a=e.length,l=0,u,c;l<a;++l)c=e[l],u=+n(c),u<0?(c[r]=s,c[i]=s+=u):(c[r]=o,c[i]=o+=u)}function nIe(e,t,n,r){var i=[],o=g=>g(c),s,a,l,u,c,f,d,h,p;if(t==null)i.push(e.slice());else for(s={},a=0,l=e.length;a<l;++a)c=e[a],f=t.map(o),d=s[f],d||(s[f]=d=[],i.push(d)),d.push(c);for(f=0,p=0,u=i.length;f<u;++f){for(d=i[f],a=0,h=0,l=d.length;a<l;++a)h+=Math.abs(r(d[a]));d.sum=h,h>p&&(p=h),n&&d.sort(n)}return i.max=p,i}const rIe=Object.freeze(Object.defineProperty({__proto__:null,axisticks:pie,datajoin:gie,encode:mie,legendentries:yie,linkpath:b6,pie:x6,scale:Sie,sortitems:Cie,stack:w6},Symbol.toStringTag,{value:"Module"}));var we=1e-6,jS=1e-12,Ie=Math.PI,Zt=Ie/2,BS=Ie/4,Qr=Ie*2,nn=180/Ie,Le=Ie/180,He=Math.abs,xm=Math.atan,zo=Math.atan2,Se=Math.cos,Ax=Math.ceil,Aie=Math.exp,PP=Math.hypot,US=Math.log,ZA=Math.pow,xe=Math.sin,$o=Math.sign||function(e){return e>0?1:e<0?-1:0},Jr=Math.sqrt,S6=Math.tan;function Tie(e){return e>1?0:e<-1?Ie:Math.acos(e)}function ki(e){return e>1?Zt:e<-1?-Zt:Math.asin(e)}function Qn(){}function VS(e,t){e&&PB.hasOwnProperty(e.type)&&PB[e.type](e,t)}var TB={Feature:function(e,t){VS(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,i=n.length;++r<i;)VS(n[r].geometry,t)}},PB={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){MP(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)MP(n[r],t,0)},Polygon:function(e,t){MB(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)MB(n[r],t)},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,i=n.length;++r<i;)VS(n[r],t)}};function MP(e,t,n){var r=-1,i=e.length-n,o;for(t.lineStart();++r<i;)o=e[r],t.point(o[0],o[1],o[2]);t.lineEnd()}function MB(e,t){var n=-1,r=e.length;for(t.polygonStart();++n<r;)MP(e[n],t,1);t.polygonEnd()}function ul(e,t){e&&TB.hasOwnProperty(e.type)?TB[e.type](e,t):VS(e,t)}var WS=new Xr,HS=new Xr,Pie,Mie,FP,RP,OP,Pa={point:Qn,lineStart:Qn,lineEnd:Qn,polygonStart:function(){WS=new Xr,Pa.lineStart=iIe,Pa.lineEnd=oIe},polygonEnd:function(){var e=+WS;HS.add(e<0?Qr+e:e),this.lineStart=this.lineEnd=this.point=Qn},sphere:function(){HS.add(Qr)}};function iIe(){Pa.point=sIe}function oIe(){Fie(Pie,Mie)}function sIe(e,t){Pa.point=Fie,Pie=e,Mie=t,e*=Le,t*=Le,FP=e,RP=Se(t=t/2+BS),OP=xe(t)}function Fie(e,t){e*=Le,t*=Le,t=t/2+BS;var n=e-FP,r=n>=0?1:-1,i=r*n,o=Se(t),s=xe(t),a=OP*s,l=RP*o+a*Se(i),u=a*r*xe(i);WS.add(zo(u,l)),FP=e,RP=o,OP=s}function aIe(e){return HS=new Xr,ul(e,Pa),HS*2}function qS(e){return[zo(e[1],e[0]),ki(e[2])]}function Sd(e){var t=e[0],n=e[1],r=Se(n);return[r*Se(t),r*xe(t),xe(n)]}function Tx(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function Tg(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function eT(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function Px(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function GS(e){var t=Jr(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}var Bt,li,Kt,Oi,bf,Rie,Oie,Mp,Iy,wu,Bl,ol={point:DP,lineStart:FB,lineEnd:RB,polygonStart:function(){ol.point=Nie,ol.lineStart=lIe,ol.lineEnd=uIe,Iy=new Xr,Pa.polygonStart()},polygonEnd:function(){Pa.polygonEnd(),ol.point=DP,ol.lineStart=FB,ol.lineEnd=RB,WS<0?(Bt=-(Kt=180),li=-(Oi=90)):Iy>we?Oi=90:Iy<-we&&(li=-90),Bl[0]=Bt,Bl[1]=Kt},sphere:function(){Bt=-(Kt=180),li=-(Oi=90)}};function DP(e,t){wu.push(Bl=[Bt=e,Kt=e]),t<li&&(li=t),t>Oi&&(Oi=t)}function Die(e,t){var n=Sd([e*Le,t*Le]);if(Mp){var r=Tg(Mp,n),i=[r[1],-r[0],0],o=Tg(i,r);GS(o),o=qS(o);var s=e-bf,a=s>0?1:-1,l=o[0]*nn*a,u,c=He(s)>180;c^(a*bf<l&&l<a*e)?(u=o[1]*nn,u>Oi&&(Oi=u)):(l=(l+360)%360-180,c^(a*bf<l&&l<a*e)?(u=-o[1]*nn,u<li&&(li=u)):(t<li&&(li=t),t>Oi&&(Oi=t))),c?e<bf?Ri(Bt,e)>Ri(Bt,Kt)&&(Kt=e):Ri(e,Kt)>Ri(Bt,Kt)&&(Bt=e):Kt>=Bt?(e<Bt&&(Bt=e),e>Kt&&(Kt=e)):e>bf?Ri(Bt,e)>Ri(Bt,Kt)&&(Kt=e):Ri(e,Kt)>Ri(Bt,Kt)&&(Bt=e)}else wu.push(Bl=[Bt=e,Kt=e]);t<li&&(li=t),t>Oi&&(Oi=t),Mp=n,bf=e}function FB(){ol.point=Die}function RB(){Bl[0]=Bt,Bl[1]=Kt,ol.point=DP,Mp=null}function Nie(e,t){if(Mp){var n=e-bf;Iy.add(He(n)>180?n+(n>0?360:-360):n)}else Rie=e,Oie=t;Pa.point(e,t),Die(e,t)}function lIe(){Pa.lineStart()}function uIe(){Nie(Rie,Oie),Pa.lineEnd(),He(Iy)>we&&(Bt=-(Kt=180)),Bl[0]=Bt,Bl[1]=Kt,Mp=null}function Ri(e,t){return(t-=e)<0?t+360:t}function cIe(e,t){return e[0]-t[0]}function OB(e,t){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}function fIe(e){var t,n,r,i,o,s,a;if(Oi=Kt=-(Bt=li=1/0),wu=[],ul(e,ol),n=wu.length){for(wu.sort(cIe),t=1,r=wu[0],o=[r];t<n;++t)i=wu[t],OB(r,i[0])||OB(r,i[1])?(Ri(r[0],i[1])>Ri(r[0],r[1])&&(r[1]=i[1]),Ri(i[0],r[1])>Ri(r[0],r[1])&&(r[0]=i[0])):o.push(r=i);for(s=-1/0,n=o.length-1,t=0,r=o[n];t<=n;r=i,++t)i=o[t],(a=Ri(r[1],i[0]))>s&&(s=a,Bt=i[0],Kt=r[1])}return wu=Bl=null,Bt===1/0||li===1/0?[[NaN,NaN],[NaN,NaN]]:[[Bt,li],[Kt,Oi]]}var K0,YS,XS,KS,QS,JS,ZS,ek,NP,LP,IP,Lie,Iie,jr,Br,Ur,gs={sphere:Qn,point:k6,lineStart:DB,lineEnd:NB,polygonStart:function(){gs.lineStart=pIe,gs.lineEnd=gIe},polygonEnd:function(){gs.lineStart=DB,gs.lineEnd=NB}};function k6(e,t){e*=Le,t*=Le;var n=Se(t);eb(n*Se(e),n*xe(e),xe(t))}function eb(e,t,n){++K0,XS+=(e-XS)/K0,KS+=(t-KS)/K0,QS+=(n-QS)/K0}function DB(){gs.point=dIe}function dIe(e,t){e*=Le,t*=Le;var n=Se(t);jr=n*Se(e),Br=n*xe(e),Ur=xe(t),gs.point=hIe,eb(jr,Br,Ur)}function hIe(e,t){e*=Le,t*=Le;var n=Se(t),r=n*Se(e),i=n*xe(e),o=xe(t),s=zo(Jr((s=Br*o-Ur*i)*s+(s=Ur*r-jr*o)*s+(s=jr*i-Br*r)*s),jr*r+Br*i+Ur*o);YS+=s,JS+=s*(jr+(jr=r)),ZS+=s*(Br+(Br=i)),ek+=s*(Ur+(Ur=o)),eb(jr,Br,Ur)}function NB(){gs.point=k6}function pIe(){gs.point=mIe}function gIe(){zie(Lie,Iie),gs.point=k6}function mIe(e,t){Lie=e,Iie=t,e*=Le,t*=Le,gs.point=zie;var n=Se(t);jr=n*Se(e),Br=n*xe(e),Ur=xe(t),eb(jr,Br,Ur)}function zie(e,t){e*=Le,t*=Le;var n=Se(t),r=n*Se(e),i=n*xe(e),o=xe(t),s=Br*o-Ur*i,a=Ur*r-jr*o,l=jr*i-Br*r,u=PP(s,a,l),c=ki(u),f=u&&-c/u;NP.add(f*s),LP.add(f*a),IP.add(f*l),YS+=c,JS+=c*(jr+(jr=r)),ZS+=c*(Br+(Br=i)),ek+=c*(Ur+(Ur=o)),eb(jr,Br,Ur)}function yIe(e){K0=YS=XS=KS=QS=JS=ZS=ek=0,NP=new Xr,LP=new Xr,IP=new Xr,ul(e,gs);var t=+NP,n=+LP,r=+IP,i=PP(t,n,r);return i<jS&&(t=JS,n=ZS,r=ek,YS<we&&(t=XS,n=KS,r=QS),i=PP(t,n,r),i<jS)?[NaN,NaN]:[zo(n,t)*nn,ki(r/i)*nn]}function zP(e,t){function n(r,i){return r=e(r,i),t(r[0],r[1])}return e.invert&&t.invert&&(n.invert=function(r,i){return r=t.invert(r,i),r&&e.invert(r[0],r[1])}),n}function jP(e,t){return He(e)>Ie&&(e-=Math.round(e/Qr)*Qr),[e,t]}jP.invert=jP;function jie(e,t,n){return(e%=Qr)?t||n?zP(IB(e),zB(t,n)):IB(e):t||n?zB(t,n):jP}function LB(e){return function(t,n){return t+=e,He(t)>Ie&&(t-=Math.round(t/Qr)*Qr),[t,n]}}function IB(e){var t=LB(e);return t.invert=LB(-e),t}function zB(e,t){var n=Se(e),r=xe(e),i=Se(t),o=xe(t);function s(a,l){var u=Se(l),c=Se(a)*u,f=xe(a)*u,d=xe(l),h=d*n+c*r;return[zo(f*i-h*o,c*n-d*r),ki(h*i+f*o)]}return s.invert=function(a,l){var u=Se(l),c=Se(a)*u,f=xe(a)*u,d=xe(l),h=d*i-f*o;return[zo(f*i+d*o,c*n+h*r),ki(h*n-c*r)]},s}function vIe(e){e=jie(e[0]*Le,e[1]*Le,e.length>2?e[2]*Le:0);function t(n){return n=e(n[0]*Le,n[1]*Le),n[0]*=nn,n[1]*=nn,n}return t.invert=function(n){return n=e.invert(n[0]*Le,n[1]*Le),n[0]*=nn,n[1]*=nn,n},t}function bIe(e,t,n,r,i,o){if(n){var s=Se(t),a=xe(t),l=r*n;i==null?(i=t+r*Qr,o=t-l/2):(i=jB(s,i),o=jB(s,o),(r>0?i<o:i>o)&&(i+=r*Qr));for(var u,c=i;r>0?c>o:c<o;c-=l)u=qS([s,-a*Se(c),-a*xe(c)]),e.point(u[0],u[1])}}function jB(e,t){t=Sd(t),t[0]-=e,GS(t);var n=Tie(-t[1]);return((-t[2]<0?-n:n)+Qr-we)%Qr}function Bie(){var e=[],t;return{point:function(n,r,i){t.push([n,r,i])},lineStart:function(){e.push(t=[])},lineEnd:Qn,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}}function Kw(e,t){return He(e[0]-t[0])<we&&He(e[1]-t[1])<we}function Mx(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function Uie(e,t,n,r,i){var o=[],s=[],a,l;if(e.forEach(function(p){if(!((g=p.length-1)<=0)){var g,m=p[0],y=p[g],v;if(Kw(m,y)){if(!m[2]&&!y[2]){for(i.lineStart(),a=0;a<g;++a)i.point((m=p[a])[0],m[1]);i.lineEnd();return}y[0]+=2*we}o.push(v=new Mx(m,p,null,!0)),s.push(v.o=new Mx(m,null,v,!1)),o.push(v=new Mx(y,p,null,!1)),s.push(v.o=new Mx(y,null,v,!0))}}),!!o.length){for(s.sort(t),BB(o),BB(s),a=0,l=s.length;a<l;++a)s[a].e=n=!n;for(var u=o[0],c,f;;){for(var d=u,h=!0;d.v;)if((d=d.n)===u)return;c=d.z,i.lineStart();do{if(d.v=d.o.v=!0,d.e){if(h)for(a=0,l=c.length;a<l;++a)i.point((f=c[a])[0],f[1]);else r(d.x,d.n.x,1,i);d=d.n}else{if(h)for(c=d.p.z,a=c.length-1;a>=0;--a)i.point((f=c[a])[0],f[1]);else r(d.x,d.p.x,-1,i);d=d.p}d=d.o,c=d.z,h=!h}while(!d.v);i.lineEnd()}}}function BB(e){if(t=e.length){for(var t,n=0,r=e[0],i;++n<t;)r.n=i=e[n],i.p=r,r=i;r.n=i=e[0],i.p=r}}function tT(e){return He(e[0])<=Ie?e[0]:$o(e[0])*((He(e[0])+Ie)%Qr-Ie)}function xIe(e,t){var n=tT(t),r=t[1],i=xe(r),o=[xe(n),-Se(n),0],s=0,a=0,l=new Xr;i===1?r=Zt+we:i===-1&&(r=-Zt-we);for(var u=0,c=e.length;u<c;++u)if(d=(f=e[u]).length)for(var f,d,h=f[d-1],p=tT(h),g=h[1]/2+BS,m=xe(g),y=Se(g),v=0;v<d;++v,p=x,m=k,y=S,h=b){var b=f[v],x=tT(b),w=b[1]/2+BS,k=xe(w),S=Se(w),C=x-p,E=C>=0?1:-1,A=E*C,T=A>Ie,L=m*k;if(l.add(zo(L*E*xe(A),y*S+L*Se(A))),s+=T?C+E*Qr:C,T^p>=n^x>=n){var F=Tg(Sd(h),Sd(b));GS(F);var R=Tg(o,F);GS(R);var _=(T^C>=0?-1:1)*ki(R[2]);(r>_||r===_&&(F[0]||F[1]))&&(a+=T^C>=0?1:-1)}}return(s<-we||s<we&&l<-jS)^a&1}function Vie(e,t,n,r){return function(i){var o=t(i),s=Bie(),a=t(s),l=!1,u,c,f,d={point:h,lineStart:g,lineEnd:m,polygonStart:function(){d.point=y,d.lineStart=v,d.lineEnd=b,c=[],u=[]},polygonEnd:function(){d.point=h,d.lineStart=g,d.lineEnd=m,c=$Z(c);var x=xIe(u,r);c.length?(l||(i.polygonStart(),l=!0),Uie(c,SIe,x,n,i)):x&&(l||(i.polygonStart(),l=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),l&&(i.polygonEnd(),l=!1),c=u=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function h(x,w){e(x,w)&&i.point(x,w)}function p(x,w){o.point(x,w)}function g(){d.point=p,o.lineStart()}function m(){d.point=h,o.lineEnd()}function y(x,w){f.push([x,w]),a.point(x,w)}function v(){a.lineStart(),f=[]}function b(){y(f[0][0],f[0][1]),a.lineEnd();var x=a.clean(),w=s.result(),k,S=w.length,C,E,A;if(f.pop(),u.push(f),f=null,!!S){if(x&1){if(E=w[0],(C=E.length-1)>0){for(l||(i.polygonStart(),l=!0),i.lineStart(),k=0;k<C;++k)i.point((A=E[k])[0],A[1]);i.lineEnd()}return}S>1&&x&2&&w.push(w.pop().concat(w.shift())),c.push(w.filter(wIe))}}return d}}function wIe(e){return e.length>1}function SIe(e,t){return((e=e.x)[0]<0?e[1]-Zt-we:Zt-e[1])-((t=t.x)[0]<0?t[1]-Zt-we:Zt-t[1])}const UB=Vie(function(){return!0},kIe,EIe,[-Ie,-Zt]);function kIe(e){var t=NaN,n=NaN,r=NaN,i;return{lineStart:function(){e.lineStart(),i=1},point:function(o,s){var a=o>0?Ie:-Ie,l=He(o-t);He(l-Ie)<we?(e.point(t,n=(n+s)/2>0?Zt:-Zt),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(a,n),e.point(o,n),i=0):r!==a&&l>=Ie&&(He(t-r)<we&&(t-=r*we),He(o-a)<we&&(o-=a*we),n=CIe(t,n,o,s),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(a,n),i=0),e.point(t=o,n=s),r=a},lineEnd:function(){e.lineEnd(),t=n=NaN},clean:function(){return 2-i}}}function CIe(e,t,n,r){var i,o,s=xe(e-n);return He(s)>we?xm((xe(t)*(o=Se(r))*xe(n)-xe(r)*(i=Se(t))*xe(e))/(i*o*s)):(t+r)/2}function EIe(e,t,n,r){var i;if(e==null)i=n*Zt,r.point(-Ie,i),r.point(0,i),r.point(Ie,i),r.point(Ie,0),r.point(Ie,-i),r.point(0,-i),r.point(-Ie,-i),r.point(-Ie,0),r.point(-Ie,i);else if(He(e[0]-t[0])>we){var o=e[0]<t[0]?Ie:-Ie;i=n*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(t[0],t[1])}function _Ie(e){var t=Se(e),n=2*Le,r=t>0,i=He(t)>we;function o(c,f,d,h){bIe(h,e,n,d,c,f)}function s(c,f){return Se(c)*Se(f)>t}function a(c){var f,d,h,p,g;return{lineStart:function(){p=h=!1,g=1},point:function(m,y){var v=[m,y],b,x=s(m,y),w=r?x?0:u(m,y):x?u(m+(m<0?Ie:-Ie),y):0;if(!f&&(p=h=x)&&c.lineStart(),x!==h&&(b=l(f,v),(!b||Kw(f,b)||Kw(v,b))&&(v[2]=1)),x!==h)g=0,x?(c.lineStart(),b=l(v,f),c.point(b[0],b[1])):(b=l(f,v),c.point(b[0],b[1],2),c.lineEnd()),f=b;else if(i&&f&&r^x){var k;!(w&d)&&(k=l(v,f,!0))&&(g=0,r?(c.lineStart(),c.point(k[0][0],k[0][1]),c.point(k[1][0],k[1][1]),c.lineEnd()):(c.point(k[1][0],k[1][1]),c.lineEnd(),c.lineStart(),c.point(k[0][0],k[0][1],3)))}x&&(!f||!Kw(f,v))&&c.point(v[0],v[1]),f=v,h=x,d=w},lineEnd:function(){h&&c.lineEnd(),f=null},clean:function(){return g|(p&&h)<<1}}}function l(c,f,d){var h=Sd(c),p=Sd(f),g=[1,0,0],m=Tg(h,p),y=Tx(m,m),v=m[0],b=y-v*v;if(!b)return!d&&c;var x=t*y/b,w=-t*v/b,k=Tg(g,m),S=Px(g,x),C=Px(m,w);eT(S,C);var E=k,A=Tx(S,E),T=Tx(E,E),L=A*A-T*(Tx(S,S)-1);if(!(L<0)){var F=Jr(L),R=Px(E,(-A-F)/T);if(eT(R,S),R=qS(R),!d)return R;var _=c[0],P=f[0],N=c[1],D=f[1],I;P<_&&(I=_,_=P,P=I);var U=P-_,V=He(U-Ie)<we,oe=V||U<we;if(!V&&D<N&&(I=N,N=D,D=I),oe?V?N+D>0^R[1]<(He(R[0]-_)<we?N:D):N<=R[1]&&R[1]<=D:U>Ie^(_<=R[0]&&R[0]<=P)){var Q=Px(E,(-A+F)/T);return eT(Q,S),[R,qS(Q)]}}}function u(c,f){var d=r?e:Ie-e,h=0;return c<-d?h|=1:c>d&&(h|=2),f<-d?h|=4:f>d&&(h|=8),h}return Vie(s,a,o,r?[0,-e]:[-Ie,e-Ie])}function $Ie(e,t,n,r,i,o){var s=e[0],a=e[1],l=t[0],u=t[1],c=0,f=1,d=l-s,h=u-a,p;if(p=n-s,!(!d&&p>0)){if(p/=d,d<0){if(p<c)return;p<f&&(f=p)}else if(d>0){if(p>f)return;p>c&&(c=p)}if(p=i-s,!(!d&&p<0)){if(p/=d,d<0){if(p>f)return;p>c&&(c=p)}else if(d>0){if(p<c)return;p<f&&(f=p)}if(p=r-a,!(!h&&p>0)){if(p/=h,h<0){if(p<c)return;p<f&&(f=p)}else if(h>0){if(p>f)return;p>c&&(c=p)}if(p=o-a,!(!h&&p<0)){if(p/=h,h<0){if(p>f)return;p>c&&(c=p)}else if(h>0){if(p<c)return;p<f&&(f=p)}return c>0&&(e[0]=s+c*d,e[1]=a+c*h),f<1&&(t[0]=s+f*d,t[1]=a+f*h),!0}}}}}var Q0=1e9,Fx=-Q0;function Wie(e,t,n,r){function i(u,c){return e<=u&&u<=n&&t<=c&&c<=r}function o(u,c,f,d){var h=0,p=0;if(u==null||(h=s(u,f))!==(p=s(c,f))||l(u,c)<0^f>0)do d.point(h===0||h===3?e:n,h>1?r:t);while((h=(h+f+4)%4)!==p);else d.point(c[0],c[1])}function s(u,c){return He(u[0]-e)<we?c>0?0:3:He(u[0]-n)<we?c>0?2:1:He(u[1]-t)<we?c>0?1:0:c>0?3:2}function a(u,c){return l(u.x,c.x)}function l(u,c){var f=s(u,1),d=s(c,1);return f!==d?f-d:f===0?c[1]-u[1]:f===1?u[0]-c[0]:f===2?u[1]-c[1]:c[0]-u[0]}return function(u){var c=u,f=Bie(),d,h,p,g,m,y,v,b,x,w,k,S={point:C,lineStart:L,lineEnd:F,polygonStart:A,polygonEnd:T};function C(_,P){i(_,P)&&c.point(_,P)}function E(){for(var _=0,P=0,N=h.length;P<N;++P)for(var D=h[P],I=1,U=D.length,V=D[0],oe,Q,ye=V[0],Oe=V[1];I<U;++I)oe=ye,Q=Oe,V=D[I],ye=V[0],Oe=V[1],Q<=r?Oe>r&&(ye-oe)*(r-Q)>(Oe-Q)*(e-oe)&&++_:Oe<=r&&(ye-oe)*(r-Q)<(Oe-Q)*(e-oe)&&--_;return _}function A(){c=f,d=[],h=[],k=!0}function T(){var _=E(),P=k&&_,N=(d=$Z(d)).length;(P||N)&&(u.polygonStart(),P&&(u.lineStart(),o(null,null,1,u),u.lineEnd()),N&&Uie(d,a,_,o,u),u.polygonEnd()),c=u,d=h=p=null}function L(){S.point=R,h&&h.push(p=[]),w=!0,x=!1,v=b=NaN}function F(){d&&(R(g,m),y&&x&&f.rejoin(),d.push(f.result())),S.point=C,x&&c.lineEnd()}function R(_,P){var N=i(_,P);if(h&&p.push([_,P]),w)g=_,m=P,y=N,w=!1,N&&(c.lineStart(),c.point(_,P));else if(N&&x)c.point(_,P);else{var D=[v=Math.max(Fx,Math.min(Q0,v)),b=Math.max(Fx,Math.min(Q0,b))],I=[_=Math.max(Fx,Math.min(Q0,_)),P=Math.max(Fx,Math.min(Q0,P))];$Ie(D,I,e,t,n,r)?(x||(c.lineStart(),c.point(D[0],D[1])),c.point(I[0],I[1]),N||c.lineEnd(),k=!1):N&&(c.lineStart(),c.point(_,P),k=!1)}v=_,b=P,x=N}return S}}function VB(e,t,n){var r=Bi(e,t-we,n).concat(t);return function(i){return r.map(function(o){return[i,o]})}}function WB(e,t,n){var r=Bi(e,t-we,n).concat(t);return function(i){return r.map(function(o){return[o,i]})}}function AIe(){var e,t,n,r,i,o,s,a,l=10,u=l,c=90,f=360,d,h,p,g,m=2.5;function y(){return{type:"MultiLineString",coordinates:v()}}function v(){return Bi(Ax(r/c)*c,n,c).map(p).concat(Bi(Ax(a/f)*f,s,f).map(g)).concat(Bi(Ax(t/l)*l,e,l).filter(function(b){return He(b%c)>we}).map(d)).concat(Bi(Ax(o/u)*u,i,u).filter(function(b){return He(b%f)>we}).map(h))}return y.lines=function(){return v().map(function(b){return{type:"LineString",coordinates:b}})},y.outline=function(){return{type:"Polygon",coordinates:[p(r).concat(g(s).slice(1),p(n).reverse().slice(1),g(a).reverse().slice(1))]}},y.extent=function(b){return arguments.length?y.extentMajor(b).extentMinor(b):y.extentMinor()},y.extentMajor=function(b){return arguments.length?(r=+b[0][0],n=+b[1][0],a=+b[0][1],s=+b[1][1],r>n&&(b=r,r=n,n=b),a>s&&(b=a,a=s,s=b),y.precision(m)):[[r,a],[n,s]]},y.extentMinor=function(b){return arguments.length?(t=+b[0][0],e=+b[1][0],o=+b[0][1],i=+b[1][1],t>e&&(b=t,t=e,e=b),o>i&&(b=o,o=i,i=b),y.precision(m)):[[t,o],[e,i]]},y.step=function(b){return arguments.length?y.stepMajor(b).stepMinor(b):y.stepMinor()},y.stepMajor=function(b){return arguments.length?(c=+b[0],f=+b[1],y):[c,f]},y.stepMinor=function(b){return arguments.length?(l=+b[0],u=+b[1],y):[l,u]},y.precision=function(b){return arguments.length?(m=+b,d=VB(o,i,90),h=WB(t,e,m),p=VB(a,s,90),g=WB(r,n,m),y):m},y.extentMajor([[-180,-90+we],[180,90-we]]).extentMinor([[-180,-80-we],[180,80+we]])}const I1=e=>e;var nT=new Xr,BP=new Xr,Hie,qie,UP,VP,cl={point:Qn,lineStart:Qn,lineEnd:Qn,polygonStart:function(){cl.lineStart=TIe,cl.lineEnd=MIe},polygonEnd:function(){cl.lineStart=cl.lineEnd=cl.point=Qn,nT.add(He(BP)),BP=new Xr},result:function(){var e=nT/2;return nT=new Xr,e}};function TIe(){cl.point=PIe}function PIe(e,t){cl.point=Gie,Hie=UP=e,qie=VP=t}function Gie(e,t){BP.add(VP*e-UP*t),UP=e,VP=t}function MIe(){Gie(Hie,qie)}var Pg=1/0,tk=Pg,z1=-Pg,nk=z1,rk={point:FIe,lineStart:Qn,lineEnd:Qn,polygonStart:Qn,polygonEnd:Qn,result:function(){var e=[[Pg,tk],[z1,nk]];return z1=nk=-(tk=Pg=1/0),e}};function FIe(e,t){e<Pg&&(Pg=e),e>z1&&(z1=e),t<tk&&(tk=t),t>nk&&(nk=t)}var WP=0,HP=0,J0=0,ik=0,ok=0,pp=0,qP=0,GP=0,Z0=0,Yie,Xie,ua,ca,So={point:kd,lineStart:HB,lineEnd:qB,polygonStart:function(){So.lineStart=DIe,So.lineEnd=NIe},polygonEnd:function(){So.point=kd,So.lineStart=HB,So.lineEnd=qB},result:function(){var e=Z0?[qP/Z0,GP/Z0]:pp?[ik/pp,ok/pp]:J0?[WP/J0,HP/J0]:[NaN,NaN];return WP=HP=J0=ik=ok=pp=qP=GP=Z0=0,e}};function kd(e,t){WP+=e,HP+=t,++J0}function HB(){So.point=RIe}function RIe(e,t){So.point=OIe,kd(ua=e,ca=t)}function OIe(e,t){var n=e-ua,r=t-ca,i=Jr(n*n+r*r);ik+=i*(ua+e)/2,ok+=i*(ca+t)/2,pp+=i,kd(ua=e,ca=t)}function qB(){So.point=kd}function DIe(){So.point=LIe}function NIe(){Kie(Yie,Xie)}function LIe(e,t){So.point=Kie,kd(Yie=ua=e,Xie=ca=t)}function Kie(e,t){var n=e-ua,r=t-ca,i=Jr(n*n+r*r);ik+=i*(ua+e)/2,ok+=i*(ca+t)/2,pp+=i,i=ca*e-ua*t,qP+=i*(ua+e),GP+=i*(ca+t),Z0+=i*3,kd(ua=e,ca=t)}function Qie(e){this._context=e}Qie.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:{this._context.moveTo(e,t),this._point=1;break}case 1:{this._context.lineTo(e,t);break}default:{this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,Qr);break}}},result:Qn};var YP=new Xr,rT,Jie,Zie,ey,ty,j1={point:Qn,lineStart:function(){j1.point=IIe},lineEnd:function(){rT&&eoe(Jie,Zie),j1.point=Qn},polygonStart:function(){rT=!0},polygonEnd:function(){rT=null},result:function(){var e=+YP;return YP=new Xr,e}};function IIe(e,t){j1.point=eoe,Jie=ey=e,Zie=ty=t}function eoe(e,t){ey-=e,ty-=t,YP.add(Jr(ey*ey+ty*ty)),ey=e,ty=t}let GB,sk,YB,XB;class KB{constructor(t){this._append=t==null?toe:zIe(t),this._radius=4.5,this._=""}pointRadius(t){return this._radius=+t,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(t,n){switch(this._point){case 0:{this._append`M${t},${n}`,this._point=1;break}case 1:{this._append`L${t},${n}`;break}default:{if(this._append`M${t},${n}`,this._radius!==YB||this._append!==sk){const r=this._radius,i=this._;this._="",this._append`m0,${r}a${r},${r} 0 1,1 0,${-2*r}a${r},${r} 0 1,1 0,${2*r}z`,YB=r,sk=this._append,XB=this._,this._=i}this._+=XB;break}}}result(){const t=this._;return this._="",t.length?t:null}}function toe(e){let t=1;this._+=e[0];for(const n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function zIe(e){const t=Math.floor(e);if(!(t>=0))throw new RangeError(`invalid digits: ${e}`);if(t>15)return toe;if(t!==GB){const n=10**t;GB=t,sk=function(i){let o=1;this._+=i[0];for(const s=i.length;o<s;++o)this._+=Math.round(arguments[o]*n)/n+i[o]}}return sk}function noe(e,t){let n=3,r=4.5,i,o;function s(a){return a&&(typeof r=="function"&&o.pointRadius(+r.apply(this,arguments)),ul(a,i(o))),o.result()}return s.area=function(a){return ul(a,i(cl)),cl.result()},s.measure=function(a){return ul(a,i(j1)),j1.result()},s.bounds=function(a){return ul(a,i(rk)),rk.result()},s.centroid=function(a){return ul(a,i(So)),So.result()},s.projection=function(a){return arguments.length?(i=a==null?(e=null,I1):(e=a).stream,s):e},s.context=function(a){return arguments.length?(o=a==null?(t=null,new KB(n)):new Qie(t=a),typeof r!="function"&&o.pointRadius(r),s):t},s.pointRadius=function(a){return arguments.length?(r=typeof a=="function"?a:(o.pointRadius(+a),+a),s):r},s.digits=function(a){if(!arguments.length)return n;if(a==null)n=null;else{const l=Math.floor(a);if(!(l>=0))throw new RangeError(`invalid digits: ${a}`);n=l}return t===null&&(o=new KB(n)),s},s.projection(e).digits(n).context(t)}function DE(e){return function(t){var n=new XP;for(var r in e)n[r]=e[r];return n.stream=t,n}}function XP(){}XP.prototype={constructor:XP,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function C6(e,t,n){var r=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),r!=null&&e.clipExtent(null),ul(n,e.stream(rk)),t(rk.result()),r!=null&&e.clipExtent(r),e}function NE(e,t,n){return C6(e,function(r){var i=t[1][0]-t[0][0],o=t[1][1]-t[0][1],s=Math.min(i/(r[1][0]-r[0][0]),o/(r[1][1]-r[0][1])),a=+t[0][0]+(i-s*(r[1][0]+r[0][0]))/2,l=+t[0][1]+(o-s*(r[1][1]+r[0][1]))/2;e.scale(150*s).translate([a,l])},n)}function E6(e,t,n){return NE(e,[[0,0],t],n)}function _6(e,t,n){return C6(e,function(r){var i=+t,o=i/(r[1][0]-r[0][0]),s=(i-o*(r[1][0]+r[0][0]))/2,a=-o*r[0][1];e.scale(150*o).translate([s,a])},n)}function $6(e,t,n){return C6(e,function(r){var i=+t,o=i/(r[1][1]-r[0][1]),s=-o*r[0][0],a=(i-o*(r[1][1]+r[0][1]))/2;e.scale(150*o).translate([s,a])},n)}var QB=16,jIe=Se(30*Le);function JB(e,t){return+t?UIe(e,t):BIe(e)}function BIe(e){return DE({point:function(t,n){t=e(t,n),this.stream.point(t[0],t[1])}})}function UIe(e,t){function n(r,i,o,s,a,l,u,c,f,d,h,p,g,m){var y=u-r,v=c-i,b=y*y+v*v;if(b>4*t&&g--){var x=s+d,w=a+h,k=l+p,S=Jr(x*x+w*w+k*k),C=ki(k/=S),E=He(He(k)-1)<we||He(o-f)<we?(o+f)/2:zo(w,x),A=e(E,C),T=A[0],L=A[1],F=T-r,R=L-i,_=v*F-y*R;(_*_/b>t||He((y*F+v*R)/b-.5)>.3||s*d+a*h+l*p<jIe)&&(n(r,i,o,s,a,l,T,L,E,x/=S,w/=S,k,g,m),m.point(T,L),n(T,L,E,x,w,k,u,c,f,d,h,p,g,m))}}return function(r){var i,o,s,a,l,u,c,f,d,h,p,g,m={point:y,lineStart:v,lineEnd:x,polygonStart:function(){r.polygonStart(),m.lineStart=w},polygonEnd:function(){r.polygonEnd(),m.lineStart=v}};function y(C,E){C=e(C,E),r.point(C[0],C[1])}function v(){f=NaN,m.point=b,r.lineStart()}function b(C,E){var A=Sd([C,E]),T=e(C,E);n(f,d,c,h,p,g,f=T[0],d=T[1],c=C,h=A[0],p=A[1],g=A[2],QB,r),r.point(f,d)}function x(){m.point=y,r.lineEnd()}function w(){v(),m.point=k,m.lineEnd=S}function k(C,E){b(i=C,E),o=f,s=d,a=h,l=p,u=g,m.point=b}function S(){n(f,d,c,h,p,g,o,s,i,a,l,u,QB,r),m.lineEnd=x,x()}return m}}var VIe=DE({point:function(e,t){this.stream.point(e*Le,t*Le)}});function WIe(e){return DE({point:function(t,n){var r=e(t,n);return this.stream.point(r[0],r[1])}})}function HIe(e,t,n,r,i){function o(s,a){return s*=r,a*=i,[t+e*s,n-e*a]}return o.invert=function(s,a){return[(s-t)/e*r,(n-a)/e*i]},o}function ZB(e,t,n,r,i,o){if(!o)return HIe(e,t,n,r,i);var s=Se(o),a=xe(o),l=s*e,u=a*e,c=s/e,f=a/e,d=(a*n-s*t)/e,h=(a*t+s*n)/e;function p(g,m){return g*=r,m*=i,[l*g-u*m+t,n-u*g-l*m]}return p.invert=function(g,m){return[r*(c*g-f*m+d),i*(h-f*g-c*m)]},p}function ja(e){return roe(function(){return e})()}function roe(e){var t,n=150,r=480,i=250,o=0,s=0,a=0,l=0,u=0,c,f=0,d=1,h=1,p=null,g=UB,m=null,y,v,b,x=I1,w=.5,k,S,C,E,A;function T(_){return C(_[0]*Le,_[1]*Le)}function L(_){return _=C.invert(_[0],_[1]),_&&[_[0]*nn,_[1]*nn]}T.stream=function(_){return E&&A===_?E:E=VIe(WIe(c)(g(k(x(A=_)))))},T.preclip=function(_){return arguments.length?(g=_,p=void 0,R()):g},T.postclip=function(_){return arguments.length?(x=_,m=y=v=b=null,R()):x},T.clipAngle=function(_){return arguments.length?(g=+_?_Ie(p=_*Le):(p=null,UB),R()):p*nn},T.clipExtent=function(_){return arguments.length?(x=_==null?(m=y=v=b=null,I1):Wie(m=+_[0][0],y=+_[0][1],v=+_[1][0],b=+_[1][1]),R()):m==null?null:[[m,y],[v,b]]},T.scale=function(_){return arguments.length?(n=+_,F()):n},T.translate=function(_){return arguments.length?(r=+_[0],i=+_[1],F()):[r,i]},T.center=function(_){return arguments.length?(o=_[0]%360*Le,s=_[1]%360*Le,F()):[o*nn,s*nn]},T.rotate=function(_){return arguments.length?(a=_[0]%360*Le,l=_[1]%360*Le,u=_.length>2?_[2]%360*Le:0,F()):[a*nn,l*nn,u*nn]},T.angle=function(_){return arguments.length?(f=_%360*Le,F()):f*nn},T.reflectX=function(_){return arguments.length?(d=_?-1:1,F()):d<0},T.reflectY=function(_){return arguments.length?(h=_?-1:1,F()):h<0},T.precision=function(_){return arguments.length?(k=JB(S,w=_*_),R()):Jr(w)},T.fitExtent=function(_,P){return NE(T,_,P)},T.fitSize=function(_,P){return E6(T,_,P)},T.fitWidth=function(_,P){return _6(T,_,P)},T.fitHeight=function(_,P){return $6(T,_,P)};function F(){var _=ZB(n,0,0,d,h,f).apply(null,t(o,s)),P=ZB(n,r-_[0],i-_[1],d,h,f);return c=jie(a,l,u),S=zP(t,P),C=zP(c,S),k=JB(S,w),R()}function R(){return E=A=null,T}return function(){return t=e.apply(this,arguments),T.invert=t.invert&&L,F()}}function A6(e){var t=0,n=Ie/3,r=roe(e),i=r(t,n);return i.parallels=function(o){return arguments.length?r(t=o[0]*Le,n=o[1]*Le):[t*nn,n*nn]},i}function qIe(e){var t=Se(e);function n(r,i){return[r*t,xe(i)/t]}return n.invert=function(r,i){return[r/t,ki(i*t)]},n}function GIe(e,t){var n=xe(e),r=(n+xe(t))/2;if(He(r)<we)return qIe(e);var i=1+n*(2*r-n),o=Jr(i)/r;function s(a,l){var u=Jr(i-2*r*xe(l))/r;return[u*xe(a*=r),o-u*Se(a)]}return s.invert=function(a,l){var u=o-l,c=zo(a,He(u))*$o(u);return u*r<0&&(c-=Ie*$o(a)*$o(u)),[c/r,ki((i-(a*a+u*u)*r*r)/(2*r))]},s}function ak(){return A6(GIe).scale(155.424).center([0,33.6442])}function ioe(){return ak().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function YIe(e){var t=e.length;return{point:function(n,r){for(var i=-1;++i<t;)e[i].point(n,r)},sphere:function(){for(var n=-1;++n<t;)e[n].sphere()},lineStart:function(){for(var n=-1;++n<t;)e[n].lineStart()},lineEnd:function(){for(var n=-1;++n<t;)e[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<t;)e[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<t;)e[n].polygonEnd()}}}function XIe(){var e,t,n=ioe(),r,i=ak().rotate([154,0]).center([-2,58.5]).parallels([55,65]),o,s=ak().rotate([157,0]).center([-3,19.9]).parallels([8,18]),a,l,u={point:function(d,h){l=[d,h]}};function c(d){var h=d[0],p=d[1];return l=null,r.point(h,p),l||(o.point(h,p),l)||(a.point(h,p),l)}c.invert=function(d){var h=n.scale(),p=n.translate(),g=(d[0]-p[0])/h,m=(d[1]-p[1])/h;return(m>=.12&&m<.234&&g>=-.425&&g<-.214?i:m>=.166&&m<.234&&g>=-.214&&g<-.115?s:n).invert(d)},c.stream=function(d){return e&&t===d?e:e=YIe([n.stream(t=d),i.stream(d),s.stream(d)])},c.precision=function(d){return arguments.length?(n.precision(d),i.precision(d),s.precision(d),f()):n.precision()},c.scale=function(d){return arguments.length?(n.scale(d),i.scale(d*.35),s.scale(d),c.translate(n.translate())):n.scale()},c.translate=function(d){if(!arguments.length)return n.translate();var h=n.scale(),p=+d[0],g=+d[1];return r=n.translate(d).clipExtent([[p-.455*h,g-.238*h],[p+.455*h,g+.238*h]]).stream(u),o=i.translate([p-.307*h,g+.201*h]).clipExtent([[p-.425*h+we,g+.12*h+we],[p-.214*h-we,g+.234*h-we]]).stream(u),a=s.translate([p-.205*h,g+.212*h]).clipExtent([[p-.214*h+we,g+.166*h+we],[p-.115*h-we,g+.234*h-we]]).stream(u),f()},c.fitExtent=function(d,h){return NE(c,d,h)},c.fitSize=function(d,h){return E6(c,d,h)},c.fitWidth=function(d,h){return _6(c,d,h)},c.fitHeight=function(d,h){return $6(c,d,h)};function f(){return e=t=null,c}return c.scale(1070)}function ooe(e){return function(t,n){var r=Se(t),i=Se(n),o=e(r*i);return o===1/0?[2,0]:[o*i*xe(t),o*xe(n)]}}function tb(e){return function(t,n){var r=Jr(t*t+n*n),i=e(r),o=xe(i),s=Se(i);return[zo(t*o,r*s),ki(r&&n*o/r)]}}var soe=ooe(function(e){return Jr(2/(1+e))});soe.invert=tb(function(e){return 2*ki(e/2)});function KIe(){return ja(soe).scale(124.75).clipAngle(180-.001)}var aoe=ooe(function(e){return(e=Tie(e))&&e/xe(e)});aoe.invert=tb(function(e){return e});function QIe(){return ja(aoe).scale(79.4188).clipAngle(180-.001)}function LE(e,t){return[e,US(S6((Zt+t)/2))]}LE.invert=function(e,t){return[e,2*xm(Aie(t))-Zt]};function JIe(){return loe(LE).scale(961/Qr)}function loe(e){var t=ja(e),n=t.center,r=t.scale,i=t.translate,o=t.clipExtent,s=null,a,l,u;t.scale=function(f){return arguments.length?(r(f),c()):r()},t.translate=function(f){return arguments.length?(i(f),c()):i()},t.center=function(f){return arguments.length?(n(f),c()):n()},t.clipExtent=function(f){return arguments.length?(f==null?s=a=l=u=null:(s=+f[0][0],a=+f[0][1],l=+f[1][0],u=+f[1][1]),c()):s==null?null:[[s,a],[l,u]]};function c(){var f=Ie*r(),d=t(vIe(t.rotate()).invert([0,0]));return o(s==null?[[d[0]-f,d[1]-f],[d[0]+f,d[1]+f]]:e===LE?[[Math.max(d[0]-f,s),a],[Math.min(d[0]+f,l),u]]:[[s,Math.max(d[1]-f,a)],[l,Math.min(d[1]+f,u)]])}return c()}function Rx(e){return S6((Zt+e)/2)}function ZIe(e,t){var n=Se(e),r=e===t?xe(e):US(n/Se(t))/US(Rx(t)/Rx(e)),i=n*ZA(Rx(e),r)/r;if(!r)return LE;function o(s,a){i>0?a<-Zt+we&&(a=-Zt+we):a>Zt-we&&(a=Zt-we);var l=i/ZA(Rx(a),r);return[l*xe(r*s),i-l*Se(r*s)]}return o.invert=function(s,a){var l=i-a,u=$o(r)*Jr(s*s+l*l),c=zo(s,He(l))*$o(l);return l*r<0&&(c-=Ie*$o(s)*$o(l)),[c/r,2*xm(ZA(i/u,1/r))-Zt]},o}function e8e(){return A6(ZIe).scale(109.5).parallels([30,30])}function lk(e,t){return[e,t]}lk.invert=lk;function t8e(){return ja(lk).scale(152.63)}function n8e(e,t){var n=Se(e),r=e===t?xe(e):(n-Se(t))/(t-e),i=n/r+e;if(He(r)<we)return lk;function o(s,a){var l=i-a,u=r*s;return[l*xe(u),i-l*Se(u)]}return o.invert=function(s,a){var l=i-a,u=zo(s,He(l))*$o(l);return l*r<0&&(u-=Ie*$o(s)*$o(l)),[u/r,i-$o(r)*Jr(s*s+l*l)]},o}function r8e(){return A6(n8e).scale(131.154).center([0,13.9389])}var zy=1.340264,jy=-.081106,By=893e-6,Uy=.003796,uk=Jr(3)/2,i8e=12;function uoe(e,t){var n=ki(uk*xe(t)),r=n*n,i=r*r*r;return[e*Se(n)/(uk*(zy+3*jy*r+i*(7*By+9*Uy*r))),n*(zy+jy*r+i*(By+Uy*r))]}uoe.invert=function(e,t){for(var n=t,r=n*n,i=r*r*r,o=0,s,a,l;o<i8e&&(a=n*(zy+jy*r+i*(By+Uy*r))-t,l=zy+3*jy*r+i*(7*By+9*Uy*r),n-=s=a/l,r=n*n,i=r*r*r,!(He(s)<jS));++o);return[uk*e*(zy+3*jy*r+i*(7*By+9*Uy*r))/Se(n),ki(xe(n)/uk)]};function o8e(){return ja(uoe).scale(177.158)}function coe(e,t){var n=Se(t),r=Se(e)*n;return[n*xe(e)/r,xe(t)/r]}coe.invert=tb(xm);function s8e(){return ja(coe).scale(144.049).clipAngle(60)}function a8e(){var e=1,t=0,n=0,r=1,i=1,o=0,s,a,l=null,u,c,f,d=1,h=1,p=DE({point:function(x,w){var k=b([x,w]);this.stream.point(k[0],k[1])}}),g=I1,m,y;function v(){return d=e*r,h=e*i,m=y=null,b}function b(x){var w=x[0]*d,k=x[1]*h;if(o){var S=k*s-w*a;w=w*s+k*a,k=S}return[w+t,k+n]}return b.invert=function(x){var w=x[0]-t,k=x[1]-n;if(o){var S=k*s+w*a;w=w*s-k*a,k=S}return[w/d,k/h]},b.stream=function(x){return m&&y===x?m:m=p(g(y=x))},b.postclip=function(x){return arguments.length?(g=x,l=u=c=f=null,v()):g},b.clipExtent=function(x){return arguments.length?(g=x==null?(l=u=c=f=null,I1):Wie(l=+x[0][0],u=+x[0][1],c=+x[1][0],f=+x[1][1]),v()):l==null?null:[[l,u],[c,f]]},b.scale=function(x){return arguments.length?(e=+x,v()):e},b.translate=function(x){return arguments.length?(t=+x[0],n=+x[1],v()):[t,n]},b.angle=function(x){return arguments.length?(o=x%360*Le,a=xe(o),s=Se(o),v()):o*nn},b.reflectX=function(x){return arguments.length?(r=x?-1:1,v()):r<0},b.reflectY=function(x){return arguments.length?(i=x?-1:1,v()):i<0},b.fitExtent=function(x,w){return NE(b,x,w)},b.fitSize=function(x,w){return E6(b,x,w)},b.fitWidth=function(x,w){return _6(b,x,w)},b.fitHeight=function(x,w){return $6(b,x,w)},b}function foe(e,t){var n=t*t,r=n*n;return[e*(.8707-.131979*n+r*(-.013791+r*(.003971*n-.001529*r))),t*(1.007226+n*(.015085+r*(-.044475+.028874*n-.005916*r)))]}foe.invert=function(e,t){var n=t,r=25,i;do{var o=n*n,s=o*o;n-=i=(n*(1.007226+o*(.015085+s*(-.044475+.028874*o-.005916*s)))-t)/(1.007226+o*(.015085*3+s*(-.044475*7+.028874*9*o-.005916*11*s)))}while(He(i)>we&&--r>0);return[e/(.8707+(o=n*n)*(-.131979+o*(-.013791+o*o*o*(.003971-.001529*o)))),n]};function l8e(){return ja(foe).scale(175.295)}function doe(e,t){return[Se(t)*xe(e),xe(t)]}doe.invert=tb(ki);function u8e(){return ja(doe).scale(249.5).clipAngle(90+we)}function hoe(e,t){var n=Se(t),r=1+Se(e)*n;return[n*xe(e)/r,xe(t)/r]}hoe.invert=tb(function(e){return 2*xm(e)});function c8e(){return ja(hoe).scale(250).clipAngle(142)}function poe(e,t){return[US(S6((Zt+t)/2)),-e]}poe.invert=function(e,t){return[-t,2*xm(Aie(e))-Zt]};function f8e(){var e=loe(poe),t=e.center,n=e.rotate;return e.center=function(r){return arguments.length?t([-r[1],r[0]]):(r=t(),[r[1],-r[0]])},e.rotate=function(r){return arguments.length?n([r[0],r[1],r.length>2?r[2]+90:90]):(r=n(),[r[0],r[1],r[2]-90])},n([0,0,90]).scale(159.155)}var d8e=Math.abs,KP=Math.cos,ck=Math.sin,h8e=1e-6,goe=Math.PI,QP=goe/2,eU=p8e(2);function tU(e){return e>1?QP:e<-1?-QP:Math.asin(e)}function p8e(e){return e>0?Math.sqrt(e):0}function g8e(e,t){var n=e*ck(t),r=30,i;do t-=i=(t+ck(t)-n)/(1+KP(t));while(d8e(i)>h8e&&--r>0);return t/2}function m8e(e,t,n){function r(i,o){return[e*i*KP(o=g8e(n,o)),t*ck(o)]}return r.invert=function(i,o){return o=tU(o/t),[i/(e*KP(o)),tU((2*o+ck(2*o))/n)]},r}var y8e=m8e(eU/QP,eU,goe);function v8e(){return ja(y8e).scale(169.529)}const b8e=noe(),JP=["clipAngle","clipExtent","scale","translate","center","rotate","parallels","precision","reflectX","reflectY","coefficient","distance","fraction","lobes","parallel","radius","ratio","spacing","tilt"];function x8e(e,t){return function n(){const r=t();return r.type=e,r.path=noe().projection(r),r.copy=r.copy||function(){const i=n();return JP.forEach(o=>{r[o]&&i[o](r[o]())}),i.path.pointRadius(r.path.pointRadius()),i},Pne(r)}}function T6(e,t){if(!e||typeof e!="string")throw new Error("Projection type must be a name string.");return e=e.toLowerCase(),arguments.length>1?(fk[e]=x8e(e,t),this):fk[e]||null}function moe(e){return e&&e.path||b8e}const fk={albers:ioe,albersusa:XIe,azimuthalequalarea:KIe,azimuthalequidistant:QIe,conicconformal:e8e,conicequalarea:ak,conicequidistant:r8e,equalEarth:o8e,equirectangular:t8e,gnomonic:s8e,identity:a8e,mercator:JIe,mollweide:v8e,naturalEarth1:l8e,orthographic:u8e,stereographic:c8e,transversemercator:f8e};for(const e in fk)T6(e,fk[e]);function w8e(){}const Ja=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function yoe(){var e=1,t=1,n=a;function r(l,u){return u.map(c=>i(l,c))}function i(l,u){var c=[],f=[];return o(l,u,d=>{n(d,l,u),S8e(d)>0?c.push([d]):f.push(d)}),f.forEach(d=>{for(var h=0,p=c.length,g;h<p;++h)if(k8e((g=c[h])[0],d)!==-1){g.push(d);return}}),{type:"MultiPolygon",value:u,coordinates:c}}function o(l,u,c){var f=[],d=[],h,p,g,m,y,v;for(h=p=-1,m=l[0]>=u,Ja[m<<1].forEach(b);++h<e-1;)g=m,m=l[h+1]>=u,Ja[g|m<<1].forEach(b);for(Ja[m<<0].forEach(b);++p<t-1;){for(h=-1,m=l[p*e+e]>=u,y=l[p*e]>=u,Ja[m<<1|y<<2].forEach(b);++h<e-1;)g=m,m=l[p*e+e+h+1]>=u,v=y,y=l[p*e+h+1]>=u,Ja[g|m<<1|y<<2|v<<3].forEach(b);Ja[m|y<<3].forEach(b)}for(h=-1,y=l[p*e]>=u,Ja[y<<2].forEach(b);++h<e-1;)v=y,y=l[p*e+h+1]>=u,Ja[y<<2|v<<3].forEach(b);Ja[y<<3].forEach(b);function b(x){var w=[x[0][0]+h,x[0][1]+p],k=[x[1][0]+h,x[1][1]+p],S=s(w),C=s(k),E,A;(E=d[S])?(A=f[C])?(delete d[E.end],delete f[A.start],E===A?(E.ring.push(k),c(E.ring)):f[E.start]=d[A.end]={start:E.start,end:A.end,ring:E.ring.concat(A.ring)}):(delete d[E.end],E.ring.push(k),d[E.end=C]=E):(E=f[C])?(A=d[S])?(delete f[E.start],delete d[A.end],E===A?(E.ring.push(k),c(E.ring)):f[A.start]=d[E.end]={start:A.start,end:E.end,ring:A.ring.concat(E.ring)}):(delete f[E.start],E.ring.unshift(w),f[E.start=S]=E):f[S]=d[C]={start:S,end:C,ring:[w,k]}}}function s(l){return l[0]*2+l[1]*(e+1)*4}function a(l,u,c){l.forEach(f=>{var d=f[0],h=f[1],p=d|0,g=h|0,m,y=u[g*e+p];d>0&&d<e&&p===d&&(m=u[g*e+p-1],f[0]=d+(c-m)/(y-m)-.5),h>0&&h<t&&g===h&&(m=u[(g-1)*e+p],f[1]=h+(c-m)/(y-m)-.5)})}return r.contour=i,r.size=function(l){if(!arguments.length)return[e,t];var u=Math.floor(l[0]),c=Math.floor(l[1]);return u>=0&&c>=0||G("invalid size"),e=u,t=c,r},r.smooth=function(l){return arguments.length?(n=l?a:w8e,r):n===a},r}function S8e(e){for(var t=0,n=e.length,r=e[n-1][1]*e[0][0]-e[n-1][0]*e[0][1];++t<n;)r+=e[t-1][1]*e[t][0]-e[t-1][0]*e[t][1];return r}function k8e(e,t){for(var n=-1,r=t.length,i;++n<r;)if(i=C8e(e,t[n]))return i;return 0}function C8e(e,t){for(var n=t[0],r=t[1],i=-1,o=0,s=e.length,a=s-1;o<s;a=o++){var l=e[o],u=l[0],c=l[1],f=e[a],d=f[0],h=f[1];if(E8e(l,f,t))return 0;c>r!=h>r&&n<(d-u)*(r-c)/(h-c)+u&&(i=-i)}return i}function E8e(e,t,n){var r;return _8e(e,t,n)&&$8e(e[r=+(e[0]===t[0])],n[r],t[r])}function _8e(e,t,n){return(t[0]-e[0])*(n[1]-e[1])===(n[0]-e[0])*(t[1]-e[1])}function $8e(e,t,n){return e<=t&&t<=n||n<=t&&t<=e}function voe(e,t,n){return function(r){var i=Aa(r),o=n?Math.min(i[0],0):i[0],s=i[1],a=s-o,l=t?mc(o,s,e):a/(e+1);return Bi(o+l,s,l)}}function P6(e){H.call(this,null,e)}P6.Definition={type:"Isocontour",metadata:{generates:!0},params:[{name:"field",type:"field"},{name:"thresholds",type:"number",array:!0},{name:"levels",type:"number"},{name:"nice",type:"boolean",default:!1},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"zero",type:"boolean",default:!0},{name:"smooth",type:"boolean",default:!0},{name:"scale",type:"number",expr:!0},{name:"translate",type:"number",array:!0,expr:!0},{name:"as",type:"string",null:!0,default:"contour"}]};re(P6,H,{transform(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var n=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=t.materialize(t.SOURCE).source,i=e.field||Ar,o=yoe().smooth(e.smooth!==!1),s=e.thresholds||A8e(r,i,e),a=e.as===null?null:e.as||"contour",l=[];return r.forEach(u=>{const c=i(u),f=o.size([c.width,c.height])(c.values,Y(s)?s:s(c.values));T8e(f,c,u,e),f.forEach(d=>{l.push(eE(u,at(a!=null?{[a]:d}:d)))})}),this.value&&(n.rem=this.value),this.value=n.source=n.add=l,n}});function A8e(e,t,n){const r=voe(n.levels||10,n.nice,n.zero!==!1);return n.resolve!=="shared"?r:r(e.map(i=>ed(t(i).values)))}function T8e(e,t,n,r){let i=r.scale||t.scale,o=r.translate||t.translate;if(Ne(i)&&(i=i(n,r)),Ne(o)&&(o=o(n,r)),(i===1||i==null)&&!o)return;const s=(Je(i)?i:i[0])||1,a=(Je(i)?i:i[1])||1,l=o&&o[0]||0,u=o&&o[1]||0;e.forEach(boe(t,s,a,l,u))}function boe(e,t,n,r,i){const o=e.x1||0,s=e.y1||0,a=t*n<0;function l(f){f.forEach(u)}function u(f){a&&f.reverse(),f.forEach(c)}function c(f){f[0]=(f[0]-o)*t+r,f[1]=(f[1]-s)*n+i}return function(f){return f.coordinates.forEach(l),f}}function nU(e,t,n){const r=e>=0?e:wO(t,n);return Math.round((Math.sqrt(4*r*r+1)-1)/2)}function iT(e){return Ne(e)?e:Tr(+e)}function xoe(){var e=l=>l[0],t=l=>l[1],n=lm,r=[-1,-1],i=960,o=500,s=2;function a(l,u){const c=nU(r[0],l,e)>>s,f=nU(r[1],l,t)>>s,d=c?c+2:0,h=f?f+2:0,p=2*d+(i>>s),g=2*h+(o>>s),m=new Float32Array(p*g),y=new Float32Array(p*g);let v=m;l.forEach(x=>{const w=d+(+e(x)>>s),k=h+(+t(x)>>s);w>=0&&w<p&&k>=0&&k<g&&(m[w+k*p]+=+n(x))}),c>0&&f>0?(_h(p,g,m,y,c),$h(p,g,y,m,f),_h(p,g,m,y,c),$h(p,g,y,m,f),_h(p,g,m,y,c),$h(p,g,y,m,f)):c>0?(_h(p,g,m,y,c),_h(p,g,y,m,c),_h(p,g,m,y,c),v=y):f>0&&($h(p,g,m,y,f),$h(p,g,y,m,f),$h(p,g,m,y,f),v=y);const b=u?Math.pow(2,-2*s):1/AZ(v);for(let x=0,w=p*g;x<w;++x)v[x]*=b;return{values:v,scale:1<<s,width:p,height:g,x1:d,y1:h,x2:d+(i>>s),y2:h+(o>>s)}}return a.x=function(l){return arguments.length?(e=iT(l),a):e},a.y=function(l){return arguments.length?(t=iT(l),a):t},a.weight=function(l){return arguments.length?(n=iT(l),a):n},a.size=function(l){if(!arguments.length)return[i,o];var u=+l[0],c=+l[1];return u>=0&&c>=0||G("invalid size"),i=u,o=c,a},a.cellSize=function(l){return arguments.length?((l=+l)>=1||G("invalid cell size"),s=Math.floor(Math.log(l)/Math.LN2),a):1<<s},a.bandwidth=function(l){return arguments.length?(l=le(l),l.length===1&&(l=[+l[0],+l[0]]),l.length!==2&&G("invalid bandwidth"),r=l,a):r},a}function _h(e,t,n,r,i){const o=(i<<1)+1;for(let s=0;s<t;++s)for(let a=0,l=0;a<e+i;++a)a<e&&(l+=n[a+s*e]),a>=i&&(a>=o&&(l-=n[a-o+s*e]),r[a-i+s*e]=l/Math.min(a+1,e-1+o-a,o))}function $h(e,t,n,r,i){const o=(i<<1)+1;for(let s=0;s<e;++s)for(let a=0,l=0;a<t+i;++a)a<t&&(l+=n[s+a*e]),a>=i&&(a>=o&&(l-=n[s+(a-o)*e]),r[s+(a-i)*e]=l/Math.min(a+1,t-1+o-a,o))}function M6(e){H.call(this,null,e)}M6.Definition={type:"KDE2D",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"weight",type:"field"},{name:"groupby",type:"field",array:!0},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number",array:!0,length:2},{name:"counts",type:"boolean",default:!1},{name:"as",type:"string",default:"grid"}]};const P8e=["x","y","weight","size","cellSize","bandwidth"];function woe(e,t){return P8e.forEach(n=>t[n]!=null?e[n](t[n]):0),e}re(M6,H,{transform(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var n=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=t.materialize(t.SOURCE).source,i=M8e(r,e.groupby),o=(e.groupby||[]).map(tn),s=woe(xoe(),e),a=e.as||"grid",l=[];function u(c,f){for(let d=0;d<o.length;++d)c[o[d]]=f[d];return c}return l=i.map(c=>at(u({[a]:s(c,e.counts)},c.dims))),this.value&&(n.rem=this.value),this.value=n.source=n.add=l,n}});function M8e(e,t){var n=[],r=c=>c(a),i,o,s,a,l,u;if(t==null)n.push(e);else for(i={},o=0,s=e.length;o<s;++o)a=e[o],l=t.map(r),u=i[l],u||(i[l]=u=[],u.dims=l,n.push(u)),u.push(a);return n}function F6(e){H.call(this,null,e)}F6.Definition={type:"Contour",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"values",type:"number",array:!0},{name:"x",type:"field"},{name:"y",type:"field"},{name:"weight",type:"field"},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number"},{name:"count",type:"number"},{name:"nice",type:"boolean",default:!1},{name:"thresholds",type:"number",array:!0},{name:"smooth",type:"boolean",default:!0}]};re(F6,H,{transform(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var n=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=yoe().smooth(e.smooth!==!1),i=e.values,o=e.thresholds||voe(e.count||10,e.nice,!!i),s=e.size,a,l;return i||(i=t.materialize(t.SOURCE).source,a=woe(xoe(),e)(i,!0),l=boe(a,a.scale||1,a.scale||1,0,0),s=[a.width,a.height],i=a.values),o=Y(o)?o:o(i),i=r.size(s)(i,o),l&&i.forEach(l),this.value&&(n.rem=this.value),this.value=n.source=n.add=(i||[]).map(at),n}});const ZP="Feature",R6="FeatureCollection",F8e="MultiPoint";function O6(e){H.call(this,null,e)}O6.Definition={type:"GeoJSON",metadata:{},params:[{name:"fields",type:"field",array:!0,length:2},{name:"geojson",type:"field"}]};re(O6,H,{transform(e,t){var n=this._features,r=this._points,i=e.fields,o=i&&i[0],s=i&&i[1],a=e.geojson||!i&&Ar,l=t.ADD,u;u=e.modified()||t.changed(t.REM)||t.modified(kr(a))||o&&t.modified(kr(o))||s&&t.modified(kr(s)),(!this.value||u)&&(l=t.SOURCE,this._features=n=[],this._points=r=[]),a&&t.visit(l,c=>n.push(a(c))),o&&s&&(t.visit(l,c=>{var f=o(c),d=s(c);f!=null&&d!=null&&(f=+f)===f&&(d=+d)===d&&r.push([f,d])}),n=n.concat({type:ZP,geometry:{type:F8e,coordinates:r}})),this.value={type:R6,features:n}}});function D6(e){H.call(this,null,e)}D6.Definition={type:"GeoPath",metadata:{modifies:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string",default:"path"}]};re(D6,H,{transform(e,t){var n=t.fork(t.ALL),r=this.value,i=e.field||Ar,o=e.as||"path",s=n.SOURCE;!r||e.modified()?(this.value=r=moe(e.projection),n.materialize().reflow()):s=i===Ar||t.modified(i.fields)?n.ADD_MOD:n.ADD;const a=R8e(r,e.pointRadius);return n.visit(s,l=>l[o]=r(i(l))),r.pointRadius(a),n.modifies(o)}});function R8e(e,t){const n=e.pointRadius();return e.context(null),t!=null&&e.pointRadius(t),n}function N6(e){H.call(this,null,e)}N6.Definition={type:"GeoPoint",metadata:{modifies:!0},params:[{name:"projection",type:"projection",required:!0},{name:"fields",type:"field",array:!0,required:!0,length:2},{name:"as",type:"string",array:!0,length:2,default:["x","y"]}]};re(N6,H,{transform(e,t){var n=e.projection,r=e.fields[0],i=e.fields[1],o=e.as||["x","y"],s=o[0],a=o[1],l;function u(c){const f=n([r(c),i(c)]);f?(c[s]=f[0],c[a]=f[1]):(c[s]=void 0,c[a]=void 0)}return e.modified()?t=t.materialize().reflow(!0).visit(t.SOURCE,u):(l=t.modified(r.fields)||t.modified(i.fields),t.visit(l?t.ADD_MOD:t.ADD,u)),t.modifies(o)}});function L6(e){H.call(this,null,e)}L6.Definition={type:"GeoShape",metadata:{modifies:!0,nomod:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field",default:"datum"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string",default:"shape"}]};re(L6,H,{transform(e,t){var n=t.fork(t.ALL),r=this.value,i=e.as||"shape",o=n.ADD;return(!r||e.modified())&&(this.value=r=O8e(moe(e.projection),e.field||Do("datum"),e.pointRadius),n.materialize().reflow(),o=n.SOURCE),n.visit(o,s=>s[i]=r),n.modifies(i)}});function O8e(e,t,n){const r=n==null?i=>e(t(i)):i=>{var o=e.pointRadius(),s=e.pointRadius(n)(t(i));return e.pointRadius(o),s};return r.context=i=>(e.context(i),r),r}function I6(e){H.call(this,[],e),this.generator=AIe()}I6.Definition={type:"Graticule",metadata:{changes:!0,generates:!0},params:[{name:"extent",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMajor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMinor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"step",type:"number",array:!0,length:2},{name:"stepMajor",type:"number",array:!0,length:2,default:[90,360]},{name:"stepMinor",type:"number",array:!0,length:2,default:[10,10]},{name:"precision",type:"number",default:2.5}]};re(I6,H,{transform(e,t){var n=this.value,r=this.generator,i;if(!n.length||e.modified())for(const o in e)Ne(r[o])&&r[o](e[o]);return i=r(),n.length?t.mod.push(kee(n[0],i)):t.add.push(at(i)),n[0]=i,t}});function z6(e){H.call(this,null,e)}z6.Definition={type:"heatmap",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"color",type:"string",expr:!0},{name:"opacity",type:"number",expr:!0},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"as",type:"string",default:"image"}]};re(z6,H,{transform(e,t){if(!t.changed()&&!e.modified())return t.StopPropagation;var n=t.materialize(t.SOURCE).source,r=e.resolve==="shared",i=e.field||Ar,o=N8e(e.opacity,e),s=D8e(e.color,e),a=e.as||"image",l={$x:0,$y:0,$value:0,$max:r?ed(n.map(u=>ed(i(u).values))):0};return n.forEach(u=>{const c=i(u),f=De({},u,l);r||(f.$max=ed(c.values||[])),u[a]=L8e(c,f,s.dep?s:Tr(s(f)),o.dep?o:Tr(o(f)))}),t.reflow(!0).modifies(a)}});function D8e(e,t){let n;return Ne(e)?(n=r=>bc(e(r,t)),n.dep=Soe(e)):n=Tr(bc(e||"#888")),n}function N8e(e,t){let n;return Ne(e)?(n=r=>e(r,t),n.dep=Soe(e)):e?n=Tr(e):(n=r=>r.$value/r.$max||0,n.dep=!0),n}function Soe(e){if(!Ne(e))return!1;const t=ks(kr(e));return t.$x||t.$y||t.$value||t.$max}function L8e(e,t,n,r){const i=e.width,o=e.height,s=e.x1||0,a=e.y1||0,l=e.x2||i,u=e.y2||o,c=e.values,f=c?m=>c[m]:Au,d=oc(l-s,u-a),h=d.getContext("2d"),p=h.getImageData(0,0,l-s,u-a),g=p.data;for(let m=a,y=0;m<u;++m){t.$y=m-a;for(let v=s,b=m*i;v<l;++v,y+=4){t.$x=v-s,t.$value=f(v+b);const x=n(t);g[y+0]=x.r,g[y+1]=x.g,g[y+2]=x.b,g[y+3]=~~(255*r(t))}}return h.putImageData(p,0,0),d}function koe(e){H.call(this,null,e),this.modified(!0)}re(koe,H,{transform(e,t){let n=this.value;return!n||e.modified("type")?(this.value=n=z8e(e.type),JP.forEach(r=>{e[r]!=null&&rU(n,r,e[r])})):JP.forEach(r=>{e.modified(r)&&rU(n,r,e[r])}),e.pointRadius!=null&&n.path.pointRadius(e.pointRadius),e.fit&&I8e(n,e),t.fork(t.NO_SOURCE|t.NO_FIELDS)}});function I8e(e,t){const n=j8e(t.fit);t.extent?e.fitExtent(t.extent,n):t.size&&e.fitSize(t.size,n)}function z8e(e){const t=T6((e||"mercator").toLowerCase());return t||G("Unrecognized projection type: "+e),t()}function rU(e,t,n){Ne(e[t])&&e[t](n)}function j8e(e){return e=le(e),e.length===1?e[0]:{type:R6,features:e.reduce((t,n)=>t.concat(B8e(n)),[])}}function B8e(e){return e.type===R6?e.features:le(e).filter(t=>t!=null).map(t=>t.type===ZP?t:{type:ZP,geometry:t})}const U8e=Object.freeze(Object.defineProperty({__proto__:null,contour:F6,geojson:O6,geopath:D6,geopoint:N6,geoshape:L6,graticule:I6,heatmap:z6,isocontour:P6,kde2d:M6,projection:koe},Symbol.toStringTag,{value:"Module"}));function V8e(e,t){var n,r=1;e==null&&(e=0),t==null&&(t=0);function i(){var o,s=n.length,a,l=0,u=0;for(o=0;o<s;++o)a=n[o],l+=a.x,u+=a.y;for(l=(l/s-e)*r,u=(u/s-t)*r,o=0;o<s;++o)a=n[o],a.x-=l,a.y-=u}return i.initialize=function(o){n=o},i.x=function(o){return arguments.length?(e=+o,i):e},i.y=function(o){return arguments.length?(t=+o,i):t},i.strength=function(o){return arguments.length?(r=+o,i):r},i}function W8e(e){const t=+this._x.call(null,e),n=+this._y.call(null,e);return Coe(this.cover(t,n),t,n,e)}function Coe(e,t,n,r){if(isNaN(t)||isNaN(n))return e;var i,o=e._root,s={data:r},a=e._x0,l=e._y0,u=e._x1,c=e._y1,f,d,h,p,g,m,y,v;if(!o)return e._root=s,e;for(;o.length;)if((g=t>=(f=(a+u)/2))?a=f:u=f,(m=n>=(d=(l+c)/2))?l=d:c=d,i=o,!(o=o[y=m<<1|g]))return i[y]=s,e;if(h=+e._x.call(null,o.data),p=+e._y.call(null,o.data),t===h&&n===p)return s.next=o,i?i[y]=s:e._root=s,e;do i=i?i[y]=new Array(4):e._root=new Array(4),(g=t>=(f=(a+u)/2))?a=f:u=f,(m=n>=(d=(l+c)/2))?l=d:c=d;while((y=m<<1|g)===(v=(p>=d)<<1|h>=f));return i[v]=o,i[y]=s,e}function H8e(e){var t,n,r=e.length,i,o,s=new Array(r),a=new Array(r),l=1/0,u=1/0,c=-1/0,f=-1/0;for(n=0;n<r;++n)isNaN(i=+this._x.call(null,t=e[n]))||isNaN(o=+this._y.call(null,t))||(s[n]=i,a[n]=o,i<l&&(l=i),i>c&&(c=i),o<u&&(u=o),o>f&&(f=o));if(l>c||u>f)return this;for(this.cover(l,u).cover(c,f),n=0;n<r;++n)Coe(this,s[n],a[n],e[n]);return this}function q8e(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var n=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(n))i=(n=Math.floor(e))+1,o=(r=Math.floor(t))+1;else{for(var s=i-n||1,a=this._root,l,u;n>e||e>=i||r>t||t>=o;)switch(u=(t<r)<<1|e<n,l=new Array(4),l[u]=a,a=l,s*=2,u){case 0:i=n+s,o=r+s;break;case 1:n=i-s,o=r+s;break;case 2:i=n+s,r=o-s;break;case 3:n=i-s,r=o-s;break}this._root&&this._root.length&&(this._root=a)}return this._x0=n,this._y0=r,this._x1=i,this._y1=o,this}function G8e(){var e=[];return this.visit(function(t){if(!t.length)do e.push(t.data);while(t=t.next)}),e}function Y8e(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function Vr(e,t,n,r,i){this.node=e,this.x0=t,this.y0=n,this.x1=r,this.y1=i}function X8e(e,t,n){var r,i=this._x0,o=this._y0,s,a,l,u,c=this._x1,f=this._y1,d=[],h=this._root,p,g;for(h&&d.push(new Vr(h,i,o,c,f)),n==null?n=1/0:(i=e-n,o=t-n,c=e+n,f=t+n,n*=n);p=d.pop();)if(!(!(h=p.node)||(s=p.x0)>c||(a=p.y0)>f||(l=p.x1)<i||(u=p.y1)<o))if(h.length){var m=(s+l)/2,y=(a+u)/2;d.push(new Vr(h[3],m,y,l,u),new Vr(h[2],s,y,m,u),new Vr(h[1],m,a,l,y),new Vr(h[0],s,a,m,y)),(g=(t>=y)<<1|e>=m)&&(p=d[d.length-1],d[d.length-1]=d[d.length-1-g],d[d.length-1-g]=p)}else{var v=e-+this._x.call(null,h.data),b=t-+this._y.call(null,h.data),x=v*v+b*b;if(x<n){var w=Math.sqrt(n=x);i=e-w,o=t-w,c=e+w,f=t+w,r=h.data}}return r}function K8e(e){if(isNaN(c=+this._x.call(null,e))||isNaN(f=+this._y.call(null,e)))return this;var t,n=this._root,r,i,o,s=this._x0,a=this._y0,l=this._x1,u=this._y1,c,f,d,h,p,g,m,y;if(!n)return this;if(n.length)for(;;){if((p=c>=(d=(s+l)/2))?s=d:l=d,(g=f>=(h=(a+u)/2))?a=h:u=h,t=n,!(n=n[m=g<<1|p]))return this;if(!n.length)break;(t[m+1&3]||t[m+2&3]||t[m+3&3])&&(r=t,y=m)}for(;n.data!==e;)if(i=n,!(n=n.next))return this;return(o=n.next)&&delete n.next,i?(o?i.next=o:delete i.next,this):t?(o?t[m]=o:delete t[m],(n=t[0]||t[1]||t[2]||t[3])&&n===(t[3]||t[2]||t[1]||t[0])&&!n.length&&(r?r[y]=n:this._root=n),this):(this._root=o,this)}function Q8e(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this}function J8e(){return this._root}function Z8e(){var e=0;return this.visit(function(t){if(!t.length)do++e;while(t=t.next)}),e}function e9e(e){var t=[],n,r=this._root,i,o,s,a,l;for(r&&t.push(new Vr(r,this._x0,this._y0,this._x1,this._y1));n=t.pop();)if(!e(r=n.node,o=n.x0,s=n.y0,a=n.x1,l=n.y1)&&r.length){var u=(o+a)/2,c=(s+l)/2;(i=r[3])&&t.push(new Vr(i,u,c,a,l)),(i=r[2])&&t.push(new Vr(i,o,c,u,l)),(i=r[1])&&t.push(new Vr(i,u,s,a,c)),(i=r[0])&&t.push(new Vr(i,o,s,u,c))}return this}function t9e(e){var t=[],n=[],r;for(this._root&&t.push(new Vr(this._root,this._x0,this._y0,this._x1,this._y1));r=t.pop();){var i=r.node;if(i.length){var o,s=r.x0,a=r.y0,l=r.x1,u=r.y1,c=(s+l)/2,f=(a+u)/2;(o=i[0])&&t.push(new Vr(o,s,a,c,f)),(o=i[1])&&t.push(new Vr(o,c,a,l,f)),(o=i[2])&&t.push(new Vr(o,s,f,c,u)),(o=i[3])&&t.push(new Vr(o,c,f,l,u))}n.push(r)}for(;r=n.pop();)e(r.node,r.x0,r.y0,r.x1,r.y1);return this}function n9e(e){return e[0]}function r9e(e){return arguments.length?(this._x=e,this):this._x}function i9e(e){return e[1]}function o9e(e){return arguments.length?(this._y=e,this):this._y}function j6(e,t,n){var r=new B6(t??n9e,n??i9e,NaN,NaN,NaN,NaN);return e==null?r:r.addAll(e)}function B6(e,t,n,r,i,o){this._x=e,this._y=t,this._x0=n,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function iU(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}var ni=j6.prototype=B6.prototype;ni.copy=function(){var e=new B6(this._x,this._y,this._x0,this._y0,this._x1,this._y1),t=this._root,n,r;if(!t)return e;if(!t.length)return e._root=iU(t),e;for(n=[{source:t,target:e._root=new Array(4)}];t=n.pop();)for(var i=0;i<4;++i)(r=t.source[i])&&(r.length?n.push({source:r,target:t.target[i]=new Array(4)}):t.target[i]=iU(r));return e};ni.add=W8e;ni.addAll=H8e;ni.cover=q8e;ni.data=G8e;ni.extent=Y8e;ni.find=X8e;ni.remove=K8e;ni.removeAll=Q8e;ni.root=J8e;ni.size=Z8e;ni.visit=e9e;ni.visitAfter=t9e;ni.x=r9e;ni.y=o9e;function Hr(e){return function(){return e}}function Vu(e){return(e()-.5)*1e-6}function s9e(e){return e.x+e.vx}function a9e(e){return e.y+e.vy}function l9e(e){var t,n,r,i=1,o=1;typeof e!="function"&&(e=Hr(e==null?1:+e));function s(){for(var u,c=t.length,f,d,h,p,g,m,y=0;y<o;++y)for(f=j6(t,s9e,a9e).visitAfter(a),u=0;u<c;++u)d=t[u],g=n[d.index],m=g*g,h=d.x+d.vx,p=d.y+d.vy,f.visit(v);function v(b,x,w,k,S){var C=b.data,E=b.r,A=g+E;if(C){if(C.index>d.index){var T=h-C.x-C.vx,L=p-C.y-C.vy,F=T*T+L*L;F<A*A&&(T===0&&(T=Vu(r),F+=T*T),L===0&&(L=Vu(r),F+=L*L),F=(A-(F=Math.sqrt(F)))/F*i,d.vx+=(T*=F)*(A=(E*=E)/(m+E)),d.vy+=(L*=F)*A,C.vx-=T*(A=1-A),C.vy-=L*A)}return}return x>h+A||k<h-A||w>p+A||S<p-A}}function a(u){if(u.data)return u.r=n[u.data.index];for(var c=u.r=0;c<4;++c)u[c]&&u[c].r>u.r&&(u.r=u[c].r)}function l(){if(t){var u,c=t.length,f;for(n=new Array(c),u=0;u<c;++u)f=t[u],n[f.index]=+e(f,u,t)}}return s.initialize=function(u,c){t=u,r=c,l()},s.iterations=function(u){return arguments.length?(o=+u,s):o},s.strength=function(u){return arguments.length?(i=+u,s):i},s.radius=function(u){return arguments.length?(e=typeof u=="function"?u:Hr(+u),l(),s):e},s}function u9e(e){return e.index}function oU(e,t){var n=e.get(t);if(!n)throw new Error("node not found: "+t);return n}function c9e(e){var t=u9e,n=f,r,i=Hr(30),o,s,a,l,u,c=1;e==null&&(e=[]);function f(m){return 1/Math.min(a[m.source.index],a[m.target.index])}function d(m){for(var y=0,v=e.length;y<c;++y)for(var b=0,x,w,k,S,C,E,A;b<v;++b)x=e[b],w=x.source,k=x.target,S=k.x+k.vx-w.x-w.vx||Vu(u),C=k.y+k.vy-w.y-w.vy||Vu(u),E=Math.sqrt(S*S+C*C),E=(E-o[b])/E*m*r[b],S*=E,C*=E,k.vx-=S*(A=l[b]),k.vy-=C*A,w.vx+=S*(A=1-A),w.vy+=C*A}function h(){if(s){var m,y=s.length,v=e.length,b=new Map(s.map((w,k)=>[t(w,k,s),w])),x;for(m=0,a=new Array(y);m<v;++m)x=e[m],x.index=m,typeof x.source!="object"&&(x.source=oU(b,x.source)),typeof x.target!="object"&&(x.target=oU(b,x.target)),a[x.source.index]=(a[x.source.index]||0)+1,a[x.target.index]=(a[x.target.index]||0)+1;for(m=0,l=new Array(v);m<v;++m)x=e[m],l[m]=a[x.source.index]/(a[x.source.index]+a[x.target.index]);r=new Array(v),p(),o=new Array(v),g()}}function p(){if(s)for(var m=0,y=e.length;m<y;++m)r[m]=+n(e[m],m,e)}function g(){if(s)for(var m=0,y=e.length;m<y;++m)o[m]=+i(e[m],m,e)}return d.initialize=function(m,y){s=m,u=y,h()},d.links=function(m){return arguments.length?(e=m,h(),d):e},d.id=function(m){return arguments.length?(t=m,d):t},d.iterations=function(m){return arguments.length?(c=+m,d):c},d.strength=function(m){return arguments.length?(n=typeof m=="function"?m:Hr(+m),p(),d):n},d.distance=function(m){return arguments.length?(i=typeof m=="function"?m:Hr(+m),g(),d):i},d}var f9e={value:()=>{}};function Eoe(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Qw(n)}function Qw(e){this._=e}function d9e(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Qw.prototype=Eoe.prototype={constructor:Qw,on:function(e,t){var n=this._,r=d9e(e+"",n),i,o=-1,s=r.length;if(arguments.length<2){for(;++o<s;)if((i=(e=r[o]).type)&&(i=h9e(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++o<s;)if(i=(e=r[o]).type)n[i]=sU(n[i],e.name,t);else if(t==null)for(i in n)n[i]=sU(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Qw(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=this._[e],r=0,i=o.length;r<i;++r)o[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,o=r.length;i<o;++i)r[i].value.apply(t,n)}};function h9e(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function sU(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=f9e,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var Mg=0,ny=0,c0=0,_oe=1e3,dk,ry,hk=0,Cd=0,IE=0,B1=typeof performance=="object"&&performance.now?performance:Date,$oe=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function U6(){return Cd||($oe(p9e),Cd=B1.now()+IE)}function p9e(){Cd=0}function pk(){this._call=this._time=this._next=null}pk.prototype=Aoe.prototype={constructor:pk,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?U6():+n)+(t==null?0:+t),!this._next&&ry!==this&&(ry?ry._next=this:dk=this,ry=this),this._call=e,this._time=n,eM()},stop:function(){this._call&&(this._call=null,this._time=1/0,eM())}};function Aoe(e,t,n){var r=new pk;return r.restart(e,t,n),r}function g9e(){U6(),++Mg;for(var e=dk,t;e;)(t=Cd-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Mg}function aU(){Cd=(hk=B1.now())+IE,Mg=ny=0;try{g9e()}finally{Mg=0,y9e(),Cd=0}}function m9e(){var e=B1.now(),t=e-hk;t>_oe&&(IE-=t,hk=e)}function y9e(){for(var e,t=dk,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:dk=n);ry=e,eM(r)}function eM(e){if(!Mg){ny&&(ny=clearTimeout(ny));var t=e-Cd;t>24?(e<1/0&&(ny=setTimeout(aU,e-B1.now()-IE)),c0&&(c0=clearInterval(c0))):(c0||(hk=B1.now(),c0=setInterval(m9e,_oe)),Mg=1,$oe(aU))}}function v9e(e,t,n){var r=new pk,i=t;return t==null?(r.restart(e,t,n),r):(r._restart=r.restart,r.restart=function(o,s,a){s=+s,a=a==null?U6():+a,r._restart(function l(u){u+=i,r._restart(l,i+=s,a),o(u)},s,a)},r.restart(e,t,n),r)}const b9e=1664525,x9e=1013904223,lU=4294967296;function w9e(){let e=1;return()=>(e=(b9e*e+x9e)%lU)/lU}function S9e(e){return e.x}function k9e(e){return e.y}var C9e=10,E9e=Math.PI*(3-Math.sqrt(5));function _9e(e){var t,n=1,r=.001,i=1-Math.pow(r,1/300),o=0,s=.6,a=new Map,l=Aoe(f),u=Eoe("tick","end"),c=w9e();e==null&&(e=[]);function f(){d(),u.call("tick",t),n<r&&(l.stop(),u.call("end",t))}function d(g){var m,y=e.length,v;g===void 0&&(g=1);for(var b=0;b<g;++b)for(n+=(o-n)*i,a.forEach(function(x){x(n)}),m=0;m<y;++m)v=e[m],v.fx==null?v.x+=v.vx*=s:(v.x=v.fx,v.vx=0),v.fy==null?v.y+=v.vy*=s:(v.y=v.fy,v.vy=0);return t}function h(){for(var g=0,m=e.length,y;g<m;++g){if(y=e[g],y.index=g,y.fx!=null&&(y.x=y.fx),y.fy!=null&&(y.y=y.fy),isNaN(y.x)||isNaN(y.y)){var v=C9e*Math.sqrt(.5+g),b=g*E9e;y.x=v*Math.cos(b),y.y=v*Math.sin(b)}(isNaN(y.vx)||isNaN(y.vy))&&(y.vx=y.vy=0)}}function p(g){return g.initialize&&g.initialize(e,c),g}return h(),t={tick:d,restart:function(){return l.restart(f),t},stop:function(){return l.stop(),t},nodes:function(g){return arguments.length?(e=g,h(),a.forEach(p),t):e},alpha:function(g){return arguments.length?(n=+g,t):n},alphaMin:function(g){return arguments.length?(r=+g,t):r},alphaDecay:function(g){return arguments.length?(i=+g,t):+i},alphaTarget:function(g){return arguments.length?(o=+g,t):o},velocityDecay:function(g){return arguments.length?(s=1-g,t):1-s},randomSource:function(g){return arguments.length?(c=g,a.forEach(p),t):c},force:function(g,m){return arguments.length>1?(m==null?a.delete(g):a.set(g,p(m)),t):a.get(g)},find:function(g,m,y){var v=0,b=e.length,x,w,k,S,C;for(y==null?y=1/0:y*=y,v=0;v<b;++v)S=e[v],x=g-S.x,w=m-S.y,k=x*x+w*w,k<y&&(C=S,y=k);return C},on:function(g,m){return arguments.length>1?(u.on(g,m),t):u.on(g)}}}function $9e(){var e,t,n,r,i=Hr(-30),o,s=1,a=1/0,l=.81;function u(h){var p,g=e.length,m=j6(e,S9e,k9e).visitAfter(f);for(r=h,p=0;p<g;++p)t=e[p],m.visit(d)}function c(){if(e){var h,p=e.length,g;for(o=new Array(p),h=0;h<p;++h)g=e[h],o[g.index]=+i(g,h,e)}}function f(h){var p=0,g,m,y=0,v,b,x;if(h.length){for(v=b=x=0;x<4;++x)(g=h[x])&&(m=Math.abs(g.value))&&(p+=g.value,y+=m,v+=m*g.x,b+=m*g.y);h.x=v/y,h.y=b/y}else{g=h,g.x=g.data.x,g.y=g.data.y;do p+=o[g.data.index];while(g=g.next)}h.value=p}function d(h,p,g,m){if(!h.value)return!0;var y=h.x-t.x,v=h.y-t.y,b=m-p,x=y*y+v*v;if(b*b/l<x)return x<a&&(y===0&&(y=Vu(n),x+=y*y),v===0&&(v=Vu(n),x+=v*v),x<s&&(x=Math.sqrt(s*x)),t.vx+=y*h.value*r/x,t.vy+=v*h.value*r/x),!0;if(h.length||x>=a)return;(h.data!==t||h.next)&&(y===0&&(y=Vu(n),x+=y*y),v===0&&(v=Vu(n),x+=v*v),x<s&&(x=Math.sqrt(s*x)));do h.data!==t&&(b=o[h.data.index]*r/x,t.vx+=y*b,t.vy+=v*b);while(h=h.next)}return u.initialize=function(h,p){e=h,n=p,c()},u.strength=function(h){return arguments.length?(i=typeof h=="function"?h:Hr(+h),c(),u):i},u.distanceMin=function(h){return arguments.length?(s=h*h,u):Math.sqrt(s)},u.distanceMax=function(h){return arguments.length?(a=h*h,u):Math.sqrt(a)},u.theta=function(h){return arguments.length?(l=h*h,u):Math.sqrt(l)},u}function A9e(e){var t=Hr(.1),n,r,i;typeof e!="function"&&(e=Hr(e==null?0:+e));function o(a){for(var l=0,u=n.length,c;l<u;++l)c=n[l],c.vx+=(i[l]-c.x)*r[l]*a}function s(){if(n){var a,l=n.length;for(r=new Array(l),i=new Array(l),a=0;a<l;++a)r[a]=isNaN(i[a]=+e(n[a],a,n))?0:+t(n[a],a,n)}}return o.initialize=function(a){n=a,s()},o.strength=function(a){return arguments.length?(t=typeof a=="function"?a:Hr(+a),s(),o):t},o.x=function(a){return arguments.length?(e=typeof a=="function"?a:Hr(+a),s(),o):e},o}function T9e(e){var t=Hr(.1),n,r,i;typeof e!="function"&&(e=Hr(e==null?0:+e));function o(a){for(var l=0,u=n.length,c;l<u;++l)c=n[l],c.vy+=(i[l]-c.y)*r[l]*a}function s(){if(n){var a,l=n.length;for(r=new Array(l),i=new Array(l),a=0;a<l;++a)r[a]=isNaN(i[a]=+e(n[a],a,n))?0:+t(n[a],a,n)}}return o.initialize=function(a){n=a,s()},o.strength=function(a){return arguments.length?(t=typeof a=="function"?a:Hr(+a),s(),o):t},o.y=function(a){return arguments.length?(e=typeof a=="function"?a:Hr(+a),s(),o):e},o}const uU={center:V8e,collide:l9e,nbody:$9e,link:c9e,x:A9e,y:T9e},iy="forces",tM=["alpha","alphaMin","alphaTarget","velocityDecay","forces"],P9e=["static","iterations"],Toe=["x","y","vx","vy"];function V6(e){H.call(this,null,e)}V6.Definition={type:"Force",metadata:{modifies:!0},params:[{name:"static",type:"boolean",default:!1},{name:"restart",type:"boolean",default:!1},{name:"iterations",type:"number",default:300},{name:"alpha",type:"number",default:1},{name:"alphaMin",type:"number",default:.001},{name:"alphaTarget",type:"number",default:0},{name:"velocityDecay",type:"number",default:.4},{name:"forces",type:"param",array:!0,params:[{key:{force:"center"},params:[{name:"x",type:"number",default:0},{name:"y",type:"number",default:0}]},{key:{force:"collide"},params:[{name:"radius",type:"number",expr:!0},{name:"strength",type:"number",default:.7},{name:"iterations",type:"number",default:1}]},{key:{force:"nbody"},params:[{name:"strength",type:"number",default:-30,expr:!0},{name:"theta",type:"number",default:.9},{name:"distanceMin",type:"number",default:1},{name:"distanceMax",type:"number"}]},{key:{force:"link"},params:[{name:"links",type:"data"},{name:"id",type:"field"},{name:"distance",type:"number",default:30,expr:!0},{name:"strength",type:"number",expr:!0},{name:"iterations",type:"number",default:1}]},{key:{force:"x"},params:[{name:"strength",type:"number",default:.1},{name:"x",type:"field"}]},{key:{force:"y"},params:[{name:"strength",type:"number",default:.1},{name:"y",type:"field"}]}]},{name:"as",type:"string",array:!0,modify:!1,default:Toe}]};re(V6,H,{transform(e,t){var n=this.value,r=t.changed(t.ADD_REM),i=e.modified(tM),o=e.iterations||300;if(n?(r&&(t.modifies("index"),n.nodes(t.source)),(i||t.changed(t.MOD))&&Poe(n,e,0,t)):(this.value=n=F9e(t.source,e),n.on("tick",M9e(t.dataflow,this)),e.static||(r=!0,n.tick()),t.modifies("index")),i||r||e.modified(P9e)||t.changed()&&e.restart){if(n.alpha(Math.max(n.alpha(),e.alpha||1)).alphaDecay(1-Math.pow(n.alphaMin(),1/o)),e.static)for(n.stop();--o>=0;)n.tick();else if(n.stopped()&&n.restart(),!r)return t.StopPropagation}return this.finish(e,t)},finish(e,t){const n=t.dataflow;for(let a=this._argops,l=0,u=a.length,c;l<u;++l)if(c=a[l],!(c.name!==iy||c.op._argval.force!=="link")){for(var r=c.op._argops,i=0,o=r.length,s;i<o;++i)if(r[i].name==="links"&&(s=r[i].op.source)){n.pulse(s,n.changeset().reflow());break}}return t.reflow(e.modified()).modifies(Toe)}});function M9e(e,t){return()=>e.touch(t).run()}function F9e(e,t){const n=_9e(e),r=n.stop,i=n.restart;let o=!1;return n.stopped=()=>o,n.restart=()=>(o=!1,i()),n.stop=()=>(o=!0,r()),Poe(n,t,!0).on("end",()=>o=!0)}function Poe(e,t,n,r){var i=le(t.forces),o,s,a,l;for(o=0,s=tM.length;o<s;++o)a=tM[o],a!==iy&&t.modified(a)&&e[a](t[a]);for(o=0,s=i.length;o<s;++o)l=iy+o,a=n||t.modified(iy,o)?O9e(i[o]):r&&R9e(i[o],r)?e.force(l):null,a&&e.force(l,a);for(s=e.numForces||0;o<s;++o)e.force(iy+o,null);return e.numForces=i.length,e}function R9e(e,t){var n,r;for(n in e)if(Ne(r=e[n])&&t.modified(kr(r)))return 1;return 0}function O9e(e){var t,n;fe(uU,e.force)||G("Unrecognized force: "+e.force),t=uU[e.force]();for(n in e)Ne(t[n])&&D9e(t[n],e[n],e);return t}function D9e(e,t,n){e(Ne(t)?r=>t(r,n):t)}const N9e=Object.freeze(Object.defineProperty({__proto__:null,force:V6},Symbol.toStringTag,{value:"Module"}));function L9e(e,t){return e.parent===t.parent?1:2}function I9e(e){return e.reduce(z9e,0)/e.length}function z9e(e,t){return e+t.x}function j9e(e){return 1+e.reduce(B9e,0)}function B9e(e,t){return Math.max(e,t.y)}function U9e(e){for(var t;t=e.children;)e=t[0];return e}function V9e(e){for(var t;t=e.children;)e=t[t.length-1];return e}function W9e(){var e=L9e,t=1,n=1,r=!1;function i(o){var s,a=0;o.eachAfter(function(d){var h=d.children;h?(d.x=I9e(h),d.y=j9e(h)):(d.x=s?a+=e(d,s):0,d.y=0,s=d)});var l=U9e(o),u=V9e(o),c=l.x-e(l,u)/2,f=u.x+e(u,l)/2;return o.eachAfter(r?function(d){d.x=(d.x-o.x)*t,d.y=(o.y-d.y)*n}:function(d){d.x=(d.x-c)/(f-c)*t,d.y=(1-(o.y?d.y/o.y:1))*n})}return i.separation=function(o){return arguments.length?(e=o,i):e},i.size=function(o){return arguments.length?(r=!1,t=+o[0],n=+o[1],i):r?null:[t,n]},i.nodeSize=function(o){return arguments.length?(r=!0,t=+o[0],n=+o[1],i):r?[t,n]:null},i}function H9e(e){var t=0,n=e.children,r=n&&n.length;if(!r)t=1;else for(;--r>=0;)t+=n[r].value;e.value=t}function q9e(){return this.eachAfter(H9e)}function G9e(e,t){let n=-1;for(const r of this)e.call(t,r,++n,this);return this}function Y9e(e,t){for(var n=this,r=[n],i,o,s=-1;n=r.pop();)if(e.call(t,n,++s,this),i=n.children)for(o=i.length-1;o>=0;--o)r.push(i[o]);return this}function X9e(e,t){for(var n=this,r=[n],i=[],o,s,a,l=-1;n=r.pop();)if(i.push(n),o=n.children)for(s=0,a=o.length;s<a;++s)r.push(o[s]);for(;n=i.pop();)e.call(t,n,++l,this);return this}function K9e(e,t){let n=-1;for(const r of this)if(e.call(t,r,++n,this))return r}function Q9e(e){return this.eachAfter(function(t){for(var n=+e(t.data)||0,r=t.children,i=r&&r.length;--i>=0;)n+=r[i].value;t.value=n})}function J9e(e){return this.eachBefore(function(t){t.children&&t.children.sort(e)})}function Z9e(e){for(var t=this,n=eze(t,e),r=[t];t!==n;)t=t.parent,r.push(t);for(var i=r.length;e!==n;)r.splice(i,0,e),e=e.parent;return r}function eze(e,t){if(e===t)return e;var n=e.ancestors(),r=t.ancestors(),i=null;for(e=n.pop(),t=r.pop();e===t;)i=e,e=n.pop(),t=r.pop();return i}function tze(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t}function nze(){return Array.from(this)}function rze(){var e=[];return this.eachBefore(function(t){t.children||e.push(t)}),e}function ize(){var e=this,t=[];return e.each(function(n){n!==e&&t.push({source:n.parent,target:n})}),t}function*oze(){var e=this,t,n=[e],r,i,o;do for(t=n.reverse(),n=[];e=t.pop();)if(yield e,r=e.children)for(i=0,o=r.length;i<o;++i)n.push(r[i]);while(n.length)}function W6(e,t){e instanceof Map?(e=[void 0,e],t===void 0&&(t=lze)):t===void 0&&(t=aze);for(var n=new Fg(e),r,i=[n],o,s,a,l;r=i.pop();)if((s=t(r.data))&&(l=(s=Array.from(s)).length))for(r.children=s,a=l-1;a>=0;--a)i.push(o=s[a]=new Fg(s[a])),o.parent=r,o.depth=r.depth+1;return n.eachBefore(Moe)}function sze(){return W6(this).eachBefore(uze)}function aze(e){return e.children}function lze(e){return Array.isArray(e)?e[1]:null}function uze(e){e.data.value!==void 0&&(e.value=e.data.value),e.data=e.data.data}function Moe(e){var t=0;do e.height=t;while((e=e.parent)&&e.height<++t)}function Fg(e){this.data=e,this.depth=this.height=0,this.parent=null}Fg.prototype=W6.prototype={constructor:Fg,count:q9e,each:G9e,eachAfter:X9e,eachBefore:Y9e,find:K9e,sum:Q9e,sort:J9e,path:Z9e,ancestors:tze,descendants:nze,leaves:rze,links:ize,copy:sze,[Symbol.iterator]:oze};function Jw(e){return e==null?null:Foe(e)}function Foe(e){if(typeof e!="function")throw new Error;return e}function Af(){return 0}function jh(e){return function(){return e}}const cze=1664525,fze=1013904223,cU=4294967296;function dze(){let e=1;return()=>(e=(cze*e+fze)%cU)/cU}function hze(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function pze(e,t){let n=e.length,r,i;for(;n;)i=t()*n--|0,r=e[n],e[n]=e[i],e[i]=r;return e}function gze(e,t){for(var n=0,r=(e=pze(Array.from(e),t)).length,i=[],o,s;n<r;)o=e[n],s&&Roe(s,o)?++n:(s=yze(i=mze(i,o)),n=0);return s}function mze(e,t){var n,r;if(oT(t,e))return[t];for(n=0;n<e.length;++n)if(Ox(t,e[n])&&oT(oy(e[n],t),e))return[e[n],t];for(n=0;n<e.length-1;++n)for(r=n+1;r<e.length;++r)if(Ox(oy(e[n],e[r]),t)&&Ox(oy(e[n],t),e[r])&&Ox(oy(e[r],t),e[n])&&oT(Ooe(e[n],e[r],t),e))return[e[n],e[r],t];throw new Error}function Ox(e,t){var n=e.r-t.r,r=t.x-e.x,i=t.y-e.y;return n<0||n*n<r*r+i*i}function Roe(e,t){var n=e.r-t.r+Math.max(e.r,t.r,1)*1e-9,r=t.x-e.x,i=t.y-e.y;return n>0&&n*n>r*r+i*i}function oT(e,t){for(var n=0;n<t.length;++n)if(!Roe(e,t[n]))return!1;return!0}function yze(e){switch(e.length){case 1:return vze(e[0]);case 2:return oy(e[0],e[1]);case 3:return Ooe(e[0],e[1],e[2])}}function vze(e){return{x:e.x,y:e.y,r:e.r}}function oy(e,t){var n=e.x,r=e.y,i=e.r,o=t.x,s=t.y,a=t.r,l=o-n,u=s-r,c=a-i,f=Math.sqrt(l*l+u*u);return{x:(n+o+l/f*c)/2,y:(r+s+u/f*c)/2,r:(f+i+a)/2}}function Ooe(e,t,n){var r=e.x,i=e.y,o=e.r,s=t.x,a=t.y,l=t.r,u=n.x,c=n.y,f=n.r,d=r-s,h=r-u,p=i-a,g=i-c,m=l-o,y=f-o,v=r*r+i*i-o*o,b=v-s*s-a*a+l*l,x=v-u*u-c*c+f*f,w=h*p-d*g,k=(p*x-g*b)/(w*2)-r,S=(g*m-p*y)/w,C=(h*b-d*x)/(w*2)-i,E=(d*y-h*m)/w,A=S*S+E*E-1,T=2*(o+k*S+C*E),L=k*k+C*C-o*o,F=-(Math.abs(A)>1e-6?(T+Math.sqrt(T*T-4*A*L))/(2*A):L/T);return{x:r+k+S*F,y:i+C+E*F,r:F}}function fU(e,t,n){var r=e.x-t.x,i,o,s=e.y-t.y,a,l,u=r*r+s*s;u?(o=t.r+n.r,o*=o,l=e.r+n.r,l*=l,o>l?(i=(u+l-o)/(2*u),a=Math.sqrt(Math.max(0,l/u-i*i)),n.x=e.x-i*r-a*s,n.y=e.y-i*s+a*r):(i=(u+o-l)/(2*u),a=Math.sqrt(Math.max(0,o/u-i*i)),n.x=t.x+i*r-a*s,n.y=t.y+i*s+a*r)):(n.x=t.x+n.r,n.y=t.y)}function dU(e,t){var n=e.r+t.r-1e-6,r=t.x-e.x,i=t.y-e.y;return n>0&&n*n>r*r+i*i}function hU(e){var t=e._,n=e.next._,r=t.r+n.r,i=(t.x*n.r+n.x*t.r)/r,o=(t.y*n.r+n.y*t.r)/r;return i*i+o*o}function Dx(e){this._=e,this.next=null,this.previous=null}function bze(e,t){if(!(o=(e=hze(e)).length))return 0;var n,r,i,o,s,a,l,u,c,f,d;if(n=e[0],n.x=0,n.y=0,!(o>1))return n.r;if(r=e[1],n.x=-r.r,r.x=n.r,r.y=0,!(o>2))return n.r+r.r;fU(r,n,i=e[2]),n=new Dx(n),r=new Dx(r),i=new Dx(i),n.next=i.previous=r,r.next=n.previous=i,i.next=r.previous=n;e:for(l=3;l<o;++l){fU(n._,r._,i=e[l]),i=new Dx(i),u=r.next,c=n.previous,f=r._.r,d=n._.r;do if(f<=d){if(dU(u._,i._)){r=u,n.next=r,r.previous=n,--l;continue e}f+=u._.r,u=u.next}else{if(dU(c._,i._)){n=c,n.next=r,r.previous=n,--l;continue e}d+=c._.r,c=c.previous}while(u!==c.next);for(i.previous=n,i.next=r,n.next=r.previous=r=i,s=hU(n);(i=i.next)!==r;)(a=hU(i))<s&&(n=i,s=a);r=n.next}for(n=[r._],i=r;(i=i.next)!==r;)n.push(i._);for(i=gze(n,t),l=0;l<o;++l)n=e[l],n.x-=i.x,n.y-=i.y;return i.r}function xze(e){return Math.sqrt(e.value)}function wze(){var e=null,t=1,n=1,r=Af;function i(o){const s=dze();return o.x=t/2,o.y=n/2,e?o.eachBefore(pU(e)).eachAfter(sT(r,.5,s)).eachBefore(gU(1)):o.eachBefore(pU(xze)).eachAfter(sT(Af,1,s)).eachAfter(sT(r,o.r/Math.min(t,n),s)).eachBefore(gU(Math.min(t,n)/(2*o.r))),o}return i.radius=function(o){return arguments.length?(e=Jw(o),i):e},i.size=function(o){return arguments.length?(t=+o[0],n=+o[1],i):[t,n]},i.padding=function(o){return arguments.length?(r=typeof o=="function"?o:jh(+o),i):r},i}function pU(e){return function(t){t.children||(t.r=Math.max(0,+e(t)||0))}}function sT(e,t,n){return function(r){if(i=r.children){var i,o,s=i.length,a=e(r)*t||0,l;if(a)for(o=0;o<s;++o)i[o].r+=a;if(l=bze(i,n),a)for(o=0;o<s;++o)i[o].r-=a;r.r=l+a}}}function gU(e){return function(t){var n=t.parent;t.r*=e,n&&(t.x=n.x+e*t.x,t.y=n.y+e*t.y)}}function Doe(e){e.x0=Math.round(e.x0),e.y0=Math.round(e.y0),e.x1=Math.round(e.x1),e.y1=Math.round(e.y1)}function nb(e,t,n,r,i){for(var o=e.children,s,a=-1,l=o.length,u=e.value&&(r-t)/e.value;++a<l;)s=o[a],s.y0=n,s.y1=i,s.x0=t,s.x1=t+=s.value*u}function Sze(){var e=1,t=1,n=0,r=!1;function i(s){var a=s.height+1;return s.x0=s.y0=n,s.x1=e,s.y1=t/a,s.eachBefore(o(t,a)),r&&s.eachBefore(Doe),s}function o(s,a){return function(l){l.children&&nb(l,l.x0,s*(l.depth+1)/a,l.x1,s*(l.depth+2)/a);var u=l.x0,c=l.y0,f=l.x1-n,d=l.y1-n;f<u&&(u=f=(u+f)/2),d<c&&(c=d=(c+d)/2),l.x0=u,l.y0=c,l.x1=f,l.y1=d}}return i.round=function(s){return arguments.length?(r=!!s,i):r},i.size=function(s){return arguments.length?(e=+s[0],t=+s[1],i):[e,t]},i.padding=function(s){return arguments.length?(n=+s,i):n},i}var kze={depth:-1},mU={},aT={};function Cze(e){return e.id}function Eze(e){return e.parentId}function yU(){var e=Cze,t=Eze,n;function r(i){var o=Array.from(i),s=e,a=t,l,u,c,f,d,h,p,g,m=new Map;if(n!=null){const y=o.map((x,w)=>_ze(n(x,w,i))),v=y.map(vU),b=new Set(y).add("");for(const x of v)b.has(x)||(b.add(x),y.push(x),v.push(vU(x)),o.push(aT));s=(x,w)=>y[w],a=(x,w)=>v[w]}for(c=0,l=o.length;c<l;++c)u=o[c],h=o[c]=new Fg(u),(p=s(u,c,i))!=null&&(p+="")&&(g=h.id=p,m.set(g,m.has(g)?mU:h)),(p=a(u,c,i))!=null&&(p+="")&&(h.parent=p);for(c=0;c<l;++c)if(h=o[c],p=h.parent){if(d=m.get(p),!d)throw new Error("missing: "+p);if(d===mU)throw new Error("ambiguous: "+p);d.children?d.children.push(h):d.children=[h],h.parent=d}else{if(f)throw new Error("multiple roots");f=h}if(!f)throw new Error("no root");if(n!=null){for(;f.data===aT&&f.children.length===1;)f=f.children[0],--l;for(let y=o.length-1;y>=0&&(h=o[y],h.data===aT);--y)h.data=null}if(f.parent=kze,f.eachBefore(function(y){y.depth=y.parent.depth+1,--l}).eachBefore(Moe),f.parent=null,l>0)throw new Error("cycle");return f}return r.id=function(i){return arguments.length?(e=Jw(i),r):e},r.parentId=function(i){return arguments.length?(t=Jw(i),r):t},r.path=function(i){return arguments.length?(n=Jw(i),r):n},r}function _ze(e){e=`${e}`;let t=e.length;return nM(e,t-1)&&!nM(e,t-2)&&(e=e.slice(0,-1)),e[0]==="/"?e:`/${e}`}function vU(e){let t=e.length;if(t<2)return"";for(;--t>1&&!nM(e,t););return e.slice(0,t)}function nM(e,t){if(e[t]==="/"){let n=0;for(;t>0&&e[--t]==="\\";)++n;if(!(n&1))return!0}return!1}function $ze(e,t){return e.parent===t.parent?1:2}function lT(e){var t=e.children;return t?t[0]:e.t}function uT(e){var t=e.children;return t?t[t.length-1]:e.t}function Aze(e,t,n){var r=n/(t.i-e.i);t.c-=r,t.s+=n,e.c+=r,t.z+=n,t.m+=n}function Tze(e){for(var t=0,n=0,r=e.children,i=r.length,o;--i>=0;)o=r[i],o.z+=t,o.m+=t,t+=o.s+(n+=o.c)}function Pze(e,t,n){return e.a.parent===t.parent?e.a:n}function Zw(e,t){this._=e,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=t}Zw.prototype=Object.create(Fg.prototype);function Mze(e){for(var t=new Zw(e,0),n,r=[t],i,o,s,a;n=r.pop();)if(o=n._.children)for(n.children=new Array(a=o.length),s=a-1;s>=0;--s)r.push(i=n.children[s]=new Zw(o[s],s)),i.parent=n;return(t.parent=new Zw(null,0)).children=[t],t}function Fze(){var e=$ze,t=1,n=1,r=null;function i(u){var c=Mze(u);if(c.eachAfter(o),c.parent.m=-c.z,c.eachBefore(s),r)u.eachBefore(l);else{var f=u,d=u,h=u;u.eachBefore(function(v){v.x<f.x&&(f=v),v.x>d.x&&(d=v),v.depth>h.depth&&(h=v)});var p=f===d?1:e(f,d)/2,g=p-f.x,m=t/(d.x+p+g),y=n/(h.depth||1);u.eachBefore(function(v){v.x=(v.x+g)*m,v.y=v.depth*y})}return u}function o(u){var c=u.children,f=u.parent.children,d=u.i?f[u.i-1]:null;if(c){Tze(u);var h=(c[0].z+c[c.length-1].z)/2;d?(u.z=d.z+e(u._,d._),u.m=u.z-h):u.z=h}else d&&(u.z=d.z+e(u._,d._));u.parent.A=a(u,d,u.parent.A||f[0])}function s(u){u._.x=u.z+u.parent.m,u.m+=u.parent.m}function a(u,c,f){if(c){for(var d=u,h=u,p=c,g=d.parent.children[0],m=d.m,y=h.m,v=p.m,b=g.m,x;p=uT(p),d=lT(d),p&&d;)g=lT(g),h=uT(h),h.a=u,x=p.z+v-d.z-m+e(p._,d._),x>0&&(Aze(Pze(p,u,f),u,x),m+=x,y+=x),v+=p.m,m+=d.m,b+=g.m,y+=h.m;p&&!uT(h)&&(h.t=p,h.m+=v-y),d&&!lT(g)&&(g.t=d,g.m+=m-b,f=u)}return f}function l(u){u.x*=t,u.y=u.depth*n}return i.separation=function(u){return arguments.length?(e=u,i):e},i.size=function(u){return arguments.length?(r=!1,t=+u[0],n=+u[1],i):r?null:[t,n]},i.nodeSize=function(u){return arguments.length?(r=!0,t=+u[0],n=+u[1],i):r?[t,n]:null},i}function zE(e,t,n,r,i){for(var o=e.children,s,a=-1,l=o.length,u=e.value&&(i-n)/e.value;++a<l;)s=o[a],s.x0=t,s.x1=r,s.y0=n,s.y1=n+=s.value*u}var Noe=(1+Math.sqrt(5))/2;function Loe(e,t,n,r,i,o){for(var s=[],a=t.children,l,u,c=0,f=0,d=a.length,h,p,g=t.value,m,y,v,b,x,w,k;c<d;){h=i-n,p=o-r;do m=a[f++].value;while(!m&&f<d);for(y=v=m,w=Math.max(p/h,h/p)/(g*e),k=m*m*w,x=Math.max(v/k,k/y);f<d;++f){if(m+=u=a[f].value,u<y&&(y=u),u>v&&(v=u),k=m*m*w,b=Math.max(v/k,k/y),b>x){m-=u;break}x=b}s.push(l={value:m,dice:h<p,children:a.slice(c,f)}),l.dice?nb(l,n,r,i,g?r+=p*m/g:o):zE(l,n,r,g?n+=h*m/g:i,o),g-=m,c=f}return s}const Ioe=function e(t){function n(r,i,o,s,a){Loe(t,r,i,o,s,a)}return n.ratio=function(r){return e((r=+r)>1?r:1)},n}(Noe);function Rze(){var e=Ioe,t=!1,n=1,r=1,i=[0],o=Af,s=Af,a=Af,l=Af,u=Af;function c(d){return d.x0=d.y0=0,d.x1=n,d.y1=r,d.eachBefore(f),i=[0],t&&d.eachBefore(Doe),d}function f(d){var h=i[d.depth],p=d.x0+h,g=d.y0+h,m=d.x1-h,y=d.y1-h;m<p&&(p=m=(p+m)/2),y<g&&(g=y=(g+y)/2),d.x0=p,d.y0=g,d.x1=m,d.y1=y,d.children&&(h=i[d.depth+1]=o(d)/2,p+=u(d)-h,g+=s(d)-h,m-=a(d)-h,y-=l(d)-h,m<p&&(p=m=(p+m)/2),y<g&&(g=y=(g+y)/2),e(d,p,g,m,y))}return c.round=function(d){return arguments.length?(t=!!d,c):t},c.size=function(d){return arguments.length?(n=+d[0],r=+d[1],c):[n,r]},c.tile=function(d){return arguments.length?(e=Foe(d),c):e},c.padding=function(d){return arguments.length?c.paddingInner(d).paddingOuter(d):c.paddingInner()},c.paddingInner=function(d){return arguments.length?(o=typeof d=="function"?d:jh(+d),c):o},c.paddingOuter=function(d){return arguments.length?c.paddingTop(d).paddingRight(d).paddingBottom(d).paddingLeft(d):c.paddingTop()},c.paddingTop=function(d){return arguments.length?(s=typeof d=="function"?d:jh(+d),c):s},c.paddingRight=function(d){return arguments.length?(a=typeof d=="function"?d:jh(+d),c):a},c.paddingBottom=function(d){return arguments.length?(l=typeof d=="function"?d:jh(+d),c):l},c.paddingLeft=function(d){return arguments.length?(u=typeof d=="function"?d:jh(+d),c):u},c}function Oze(e,t,n,r,i){var o=e.children,s,a=o.length,l,u=new Array(a+1);for(u[0]=l=s=0;s<a;++s)u[s+1]=l+=o[s].value;c(0,a,e.value,t,n,r,i);function c(f,d,h,p,g,m,y){if(f>=d-1){var v=o[f];v.x0=p,v.y0=g,v.x1=m,v.y1=y;return}for(var b=u[f],x=h/2+b,w=f+1,k=d-1;w<k;){var S=w+k>>>1;u[S]<x?w=S+1:k=S}x-u[w-1]<u[w]-x&&f+1<w&&--w;var C=u[w]-b,E=h-C;if(m-p>y-g){var A=h?(p*E+m*C)/h:m;c(f,w,C,p,g,A,y),c(w,d,E,A,g,m,y)}else{var T=h?(g*E+y*C)/h:y;c(f,w,C,p,g,m,T),c(w,d,E,p,T,m,y)}}}function Dze(e,t,n,r,i){(e.depth&1?zE:nb)(e,t,n,r,i)}const Nze=function e(t){function n(r,i,o,s,a){if((l=r._squarify)&&l.ratio===t)for(var l,u,c,f,d=-1,h,p=l.length,g=r.value;++d<p;){for(u=l[d],c=u.children,f=u.value=0,h=c.length;f<h;++f)u.value+=c[f].value;u.dice?nb(u,i,o,s,g?o+=(a-o)*u.value/g:a):zE(u,i,o,g?i+=(s-i)*u.value/g:s,a),g-=u.value}else r._squarify=l=Loe(t,r,i,o,s,a),l.ratio=t}return n.ratio=function(r){return e((r=+r)>1?r:1)},n}(Noe);function rM(e,t,n){const r={};return e.each(i=>{const o=i.data;n(o)&&(r[t(o)]=i)}),e.lookup=r,e}function H6(e){H.call(this,null,e)}H6.Definition={type:"Nest",metadata:{treesource:!0,changes:!0},params:[{name:"keys",type:"field",array:!0},{name:"generate",type:"boolean"}]};const Lze=e=>e.values;re(H6,H,{transform(e,t){t.source||G("Nest transform requires an upstream data source.");var n=e.generate,r=e.modified(),i=t.clone(),o=this.value;return(!o||r||t.changed())&&(o&&o.each(s=>{s.children&&ZC(s.data)&&i.rem.push(s.data)}),this.value=o=W6({values:le(e.keys).reduce((s,a)=>(s.key(a),s),Ize()).entries(i.source)},Lze),n&&o.each(s=>{s.children&&(s=at(s.data),i.add.push(s),i.source.push(s))}),rM(o,be,be)),i.source.root=o,i}});function Ize(){const e=[],t={entries:i=>r(n(i,0),0),key:i=>(e.push(i),t)};function n(i,o){if(o>=e.length)return i;const s=i.length,a=e[o++],l={},u={};let c=-1,f,d,h;for(;++c<s;)f=a(d=i[c])+"",(h=l[f])?h.push(d):l[f]=[d];for(f in l)u[f]=n(l[f],o);return u}function r(i,o){if(++o>e.length)return i;const s=[];for(const a in i)s.push({key:a,values:r(i[a],o)});return s}return t}function Kl(e){H.call(this,null,e)}const zze=(e,t)=>e.parent===t.parent?1:2;re(Kl,H,{transform(e,t){(!t.source||!t.source.root)&&G(this.constructor.name+" transform requires a backing tree data source.");const n=this.layout(e.method),r=this.fields,i=t.source.root,o=e.as||r;e.field?i.sum(e.field):i.count(),e.sort&&i.sort(Qd(e.sort,s=>s.data)),jze(n,this.params,e),n.separation&&n.separation(e.separation!==!1?zze:lm);try{this.value=n(i)}catch(s){G(s)}return i.each(s=>Bze(s,r,o)),t.reflow(e.modified()).modifies(o).modifies("leaf")}});function jze(e,t,n){for(let r,i=0,o=t.length;i<o;++i)r=t[i],r in n&&e[r](n[r])}function Bze(e,t,n){const r=e.data,i=t.length-1;for(let o=0;o<i;++o)r[n[o]]=e[t[o]];r[n[i]]=e.children?e.children.length:0}const iM=["x","y","r","depth","children"];function q6(e){Kl.call(this,e)}q6.Definition={type:"Pack",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"radius",type:"field",default:null},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:iM.length,default:iM}]};re(q6,Kl,{layout:wze,params:["radius","size","padding"],fields:iM});const oM=["x0","y0","x1","y1","depth","children"];function G6(e){Kl.call(this,e)}G6.Definition={type:"Partition",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:oM.length,default:oM}]};re(G6,Kl,{layout:Sze,params:["size","round","padding"],fields:oM});function Y6(e){H.call(this,null,e)}Y6.Definition={type:"Stratify",metadata:{treesource:!0},params:[{name:"key",type:"field",required:!0},{name:"parentKey",type:"field",required:!0}]};re(Y6,H,{transform(e,t){t.source||G("Stratify transform requires an upstream data source.");let n=this.value;const r=e.modified(),i=t.fork(t.ALL).materialize(t.SOURCE),o=!n||r||t.changed(t.ADD_REM)||t.modified(e.key.fields)||t.modified(e.parentKey.fields);return i.source=i.source.slice(),o&&(n=i.source.length?rM(yU().id(e.key).parentId(e.parentKey)(i.source),e.key,No):rM(yU()([{}]),e.key,e.key)),i.source.root=this.value=n,i}});const bU={tidy:Fze,cluster:W9e},sM=["x","y","depth","children"];function X6(e){Kl.call(this,e)}X6.Definition={type:"Tree",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"tidy",values:["tidy","cluster"]},{name:"size",type:"number",array:!0,length:2},{name:"nodeSize",type:"number",array:!0,length:2},{name:"separation",type:"boolean",default:!0},{name:"as",type:"string",array:!0,length:sM.length,default:sM}]};re(X6,Kl,{layout(e){const t=e||"tidy";if(fe(bU,t))return bU[t]();G("Unrecognized Tree layout method: "+t)},params:["size","nodeSize"],fields:sM});function K6(e){H.call(this,[],e)}K6.Definition={type:"TreeLinks",metadata:{tree:!0,generates:!0,changes:!0},params:[]};re(K6,H,{transform(e,t){const n=this.value,r=t.source&&t.source.root,i=t.fork(t.NO_SOURCE),o={};return r||G("TreeLinks transform requires a tree data source."),t.changed(t.ADD_REM)?(i.rem=n,t.visit(t.SOURCE,s=>o[be(s)]=1),r.each(s=>{const a=s.data,l=s.parent&&s.parent.data;l&&o[be(a)]&&o[be(l)]&&i.add.push(at({source:l,target:a}))}),this.value=i.add):t.changed(t.MOD)&&(t.visit(t.MOD,s=>o[be(s)]=1),n.forEach(s=>{(o[be(s.source)]||o[be(s.target)])&&i.mod.push(s)})),i}});const xU={binary:Oze,dice:nb,slice:zE,slicedice:Dze,squarify:Ioe,resquarify:Nze},aM=["x0","y0","x1","y1","depth","children"];function Q6(e){Kl.call(this,e)}Q6.Definition={type:"Treemap",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"squarify",values:["squarify","resquarify","binary","dice","slice","slicedice"]},{name:"padding",type:"number",default:0},{name:"paddingInner",type:"number",default:0},{name:"paddingOuter",type:"number",default:0},{name:"paddingTop",type:"number",default:0},{name:"paddingRight",type:"number",default:0},{name:"paddingBottom",type:"number",default:0},{name:"paddingLeft",type:"number",default:0},{name:"ratio",type:"number",default:1.618033988749895},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:aM.length,default:aM}]};re(Q6,Kl,{layout(){const e=Rze();return e.ratio=t=>{const n=e.tile();n.ratio&&e.tile(n.ratio(t))},e.method=t=>{fe(xU,t)?e.tile(xU[t]):G("Unrecognized Treemap layout method: "+t)},e},params:["method","ratio","size","round","padding","paddingInner","paddingOuter","paddingTop","paddingRight","paddingBottom","paddingLeft"],fields:aM});const Uze=Object.freeze(Object.defineProperty({__proto__:null,nest:H6,pack:q6,partition:G6,stratify:Y6,tree:X6,treelinks:K6,treemap:Q6},Symbol.toStringTag,{value:"Module"})),cT=4278190080;function Vze(e,t){const n=e.bitmap();return(t||[]).forEach(r=>n.set(e(r.boundary[0]),e(r.boundary[3]))),[n,void 0]}function Wze(e,t,n,r,i){const o=e.width,s=e.height,a=r||i,l=oc(o,s).getContext("2d"),u=oc(o,s).getContext("2d"),c=a&&oc(o,s).getContext("2d");n.forEach(C=>e2(l,C,!1)),e2(u,t,!1),a&&e2(c,t,!0);const f=fT(l,o,s),d=fT(u,o,s),h=a&&fT(c,o,s),p=e.bitmap(),g=a&&e.bitmap();let m,y,v,b,x,w,k,S;for(y=0;y<s;++y)for(m=0;m<o;++m)x=y*o+m,w=f[x]&cT,S=d[x]&cT,k=a&&h[x]&cT,(w||k||S)&&(v=e(m),b=e(y),!i&&(w||S)&&p.set(v,b),a&&(w||k)&&g.set(v,b));return[p,g]}function fT(e,t,n){return new Uint32Array(e.getImageData(0,0,t,n).data.buffer)}function e2(e,t,n){if(!t.length)return;const r=t[0].mark.marktype;r==="group"?t.forEach(i=>{i.items.forEach(o=>e2(e,o.items,n))}):eo[r].draw(e,{items:n?t.map(Hze):t})}function Hze(e){const t=eE(e,{});return t.stroke&&t.strokeOpacity!==0||t.fill&&t.fillOpacity!==0?{...t,strokeOpacity:1,stroke:"#000",fillOpacity:0}:t}const Za=5,Mr=31,U1=32,Su=new Uint32Array(U1+1),ss=new Uint32Array(U1+1);ss[0]=0;Su[0]=~ss[0];for(let e=1;e<=U1;++e)ss[e]=ss[e-1]<<1|1,Su[e]=~ss[e];function qze(e,t){const n=new Uint32Array(~~((e*t+U1)/U1));function r(o,s){n[o]|=s}function i(o,s){n[o]&=s}return{array:n,get:(o,s)=>{const a=s*e+o;return n[a>>>Za]&1<<(a&Mr)},set:(o,s)=>{const a=s*e+o;r(a>>>Za,1<<(a&Mr))},clear:(o,s)=>{const a=s*e+o;i(a>>>Za,~(1<<(a&Mr)))},getRange:(o,s,a,l)=>{let u=l,c,f,d,h;for(;u>=s;--u)if(c=u*e+o,f=u*e+a,d=c>>>Za,h=f>>>Za,d===h){if(n[d]&Su[c&Mr]&ss[(f&Mr)+1])return!0}else{if(n[d]&Su[c&Mr]||n[h]&ss[(f&Mr)+1])return!0;for(let p=d+1;p<h;++p)if(n[p])return!0}return!1},setRange:(o,s,a,l)=>{let u,c,f,d,h;for(;s<=l;++s)if(u=s*e+o,c=s*e+a,f=u>>>Za,d=c>>>Za,f===d)r(f,Su[u&Mr]&ss[(c&Mr)+1]);else for(r(f,Su[u&Mr]),r(d,ss[(c&Mr)+1]),h=f+1;h<d;++h)r(h,4294967295)},clearRange:(o,s,a,l)=>{let u,c,f,d,h;for(;s<=l;++s)if(u=s*e+o,c=s*e+a,f=u>>>Za,d=c>>>Za,f===d)i(f,ss[u&Mr]|Su[(c&Mr)+1]);else for(i(f,ss[u&Mr]),i(d,Su[(c&Mr)+1]),h=f+1;h<d;++h)i(h,0)},outOfBounds:(o,s,a,l)=>o<0||s<0||l>=t||a>=e}}function Gze(e,t,n){const r=Math.max(1,Math.sqrt(e*t/1e6)),i=~~((e+2*n+r)/r),o=~~((t+2*n+r)/r),s=a=>~~((a+n)/r);return s.invert=a=>a*r-n,s.bitmap=()=>qze(i,o),s.ratio=r,s.padding=n,s.width=e,s.height=t,s}function Yze(e,t,n,r){const i=e.width,o=e.height;return function(s){const a=s.datum.datum.items[r].items,l=a.length,u=s.datum.fontSize,c=Gi.width(s.datum,s.datum.text);let f=0,d,h,p,g,m,y,v;for(let b=0;b<l;++b)d=a[b].x,p=a[b].y,h=a[b].x2===void 0?d:a[b].x2,g=a[b].y2===void 0?p:a[b].y2,m=(d+h)/2,y=(p+g)/2,v=Math.abs(h-d+g-p),v>=f&&(f=v,s.x=m,s.y=y);return m=c/2,y=u/2,d=s.x-m,h=s.x+m,p=s.y-y,g=s.y+y,s.align="center",d<0&&h<=i?s.align="left":0<=d&&i<h&&(s.align="right"),s.baseline="middle",p<0&&g<=o?s.baseline="top":0<=p&&o<g&&(s.baseline="bottom"),!0}}function gk(e,t,n,r,i,o){let s=n/2;return e-s<0||e+s>i||t-(s=r/2)<0||t+s>o}function Wu(e,t,n,r,i,o,s,a){const l=i*o/(r*2),u=e(t-l),c=e(t+l),f=e(n-(o=o/2)),d=e(n+o);return s.outOfBounds(u,f,c,d)||s.getRange(u,f,c,d)||a&&a.getRange(u,f,c,d)}function Xze(e,t,n,r){const i=e.width,o=e.height,s=t[0],a=t[1];function l(u,c,f,d,h){const p=e.invert(u),g=e.invert(c);let m=f,y=o,v;if(!gk(p,g,d,h,i,o)&&!Wu(e,p,g,h,d,m,s,a)&&!Wu(e,p,g,h,d,h,s,null)){for(;y-m>=1;)v=(m+y)/2,Wu(e,p,g,h,d,v,s,a)?y=v:m=v;if(m>f)return[p,g,m,!0]}}return function(u){const c=u.datum.datum.items[r].items,f=c.length,d=u.datum.fontSize,h=Gi.width(u.datum,u.datum.text);let p=n?d:0,g=!1,m=!1,y=0,v,b,x,w,k,S,C,E,A,T,L,F,R,_,P,N,D;for(let I=0;I<f;++I){for(v=c[I].x,x=c[I].y,b=c[I].x2===void 0?v:c[I].x2,w=c[I].y2===void 0?x:c[I].y2,v>b&&(D=v,v=b,b=D),x>w&&(D=x,x=w,w=D),A=e(v),L=e(b),T=~~((A+L)/2),F=e(x),_=e(w),R=~~((F+_)/2),C=T;C>=A;--C)for(E=R;E>=F;--E)N=l(C,E,p,h,d),N&&([u.x,u.y,p,g]=N);for(C=T;C<=L;++C)for(E=R;E<=_;++E)N=l(C,E,p,h,d),N&&([u.x,u.y,p,g]=N);!g&&!n&&(P=Math.abs(b-v+w-x),k=(v+b)/2,S=(x+w)/2,P>=y&&!gk(k,S,h,d,i,o)&&!Wu(e,k,S,d,h,d,s,null)&&(y=P,u.x=k,u.y=S,m=!0))}return g||m?(k=h/2,S=d/2,s.setRange(e(u.x-k),e(u.y-S),e(u.x+k),e(u.y+S)),u.align="center",u.baseline="middle",!0):!1}}const Kze=[-1,-1,1,1],Qze=[-1,1,-1,1];function Jze(e,t,n,r){const i=e.width,o=e.height,s=t[0],a=t[1],l=e.bitmap();return function(u){const c=u.datum.datum.items[r].items,f=c.length,d=u.datum.fontSize,h=Gi.width(u.datum,u.datum.text),p=[];let g=n?d:0,m=!1,y=!1,v=0,b,x,w,k,S,C,E,A,T,L,F,R;for(let _=0;_<f;++_){for(b=c[_].x,w=c[_].y,x=c[_].x2===void 0?b:c[_].x2,k=c[_].y2===void 0?w:c[_].y2,p.push([e((b+x)/2),e((w+k)/2)]);p.length;)if([E,A]=p.pop(),!(s.get(E,A)||a.get(E,A)||l.get(E,A))){l.set(E,A);for(let P=0;P<4;++P)S=E+Kze[P],C=A+Qze[P],l.outOfBounds(S,C,S,C)||p.push([S,C]);if(S=e.invert(E),C=e.invert(A),T=g,L=o,!gk(S,C,h,d,i,o)&&!Wu(e,S,C,d,h,T,s,a)&&!Wu(e,S,C,d,h,d,s,null)){for(;L-T>=1;)F=(T+L)/2,Wu(e,S,C,d,h,F,s,a)?L=F:T=F;T>g&&(u.x=S,u.y=C,g=T,m=!0)}}!m&&!n&&(R=Math.abs(x-b+k-w),S=(b+x)/2,C=(w+k)/2,R>=v&&!gk(S,C,h,d,i,o)&&!Wu(e,S,C,d,h,d,s,null)&&(v=R,u.x=S,u.y=C,y=!0))}return m||y?(S=h/2,C=d/2,s.setRange(e(u.x-S),e(u.y-C),e(u.x+S),e(u.y+C)),u.align="center",u.baseline="middle",!0):!1}}const Zze=["right","center","left"],e7e=["bottom","middle","top"];function t7e(e,t,n,r){const i=e.width,o=e.height,s=t[0],a=t[1],l=r.length;return function(u){const c=u.boundary,f=u.datum.fontSize;if(c[2]<0||c[5]<0||c[0]>i||c[3]>o)return!1;let d=u.textWidth??0,h,p,g,m,y,v,b,x,w,k,S,C,E,A,T;for(let L=0;L<l;++L){if(h=(n[L]&3)-1,p=(n[L]>>>2&3)-1,g=h===0&&p===0||r[L]<0,m=h&&p?Math.SQRT1_2:1,y=r[L]<0?-1:1,v=c[1+h]+r[L]*h*m,S=c[4+p]+y*f*p/2+r[L]*p*m,x=S-f/2,w=S+f/2,C=e(v),A=e(x),T=e(w),!d)if(wU(C,C,A,T,s,a,v,v,x,w,c,g))d=Gi.width(u.datum,u.datum.text);else continue;if(k=v+y*d*h/2,v=k-d/2,b=k+d/2,C=e(v),E=e(b),wU(C,E,A,T,s,a,v,b,x,w,c,g))return u.x=h?h*y<0?b:v:k,u.y=p?p*y<0?w:x:S,u.align=Zze[h*y+1],u.baseline=e7e[p*y+1],s.setRange(C,A,E,T),!0}return!1}}function wU(e,t,n,r,i,o,s,a,l,u,c,f){return!(i.outOfBounds(e,n,t,r)||(f&&o||i).getRange(e,n,t,r))}const dT=0,hT=4,pT=8,gT=0,mT=1,yT=2,n7e={"top-left":dT+gT,top:dT+mT,"top-right":dT+yT,left:hT+gT,middle:hT+mT,right:hT+yT,"bottom-left":pT+gT,bottom:pT+mT,"bottom-right":pT+yT},r7e={naive:Yze,"reduced-search":Xze,floodfill:Jze};function i7e(e,t,n,r,i,o,s,a,l,u,c){if(!e.length)return e;const f=Math.max(r.length,i.length),d=o7e(r,f),h=s7e(i,f),p=a7e(e[0].datum),g=p==="group"&&e[0].datum.items[l].marktype,m=g==="area",y=l7e(p,g,a,l),v=u===null||u===1/0,b=m&&c==="naive";let x=-1,w=-1;const k=e.map(A=>{const T=v?Gi.width(A,A.text):void 0;return x=Math.max(x,T),w=Math.max(w,A.fontSize),{datum:A,opacity:0,x:void 0,y:void 0,align:void 0,baseline:void 0,boundary:y(A),textWidth:T}});u=u===null||u===1/0?Math.max(x,w)+Math.max(...r):u;const S=Gze(t[0],t[1],u);let C;if(!b){n&&k.sort((L,F)=>n(L.datum,F.datum));let A=!1;for(let L=0;L<h.length&&!A;++L)A=h[L]===5||d[L]<0;const T=(p&&s||m)&&e.map(L=>L.datum);C=o.length||T?Wze(S,T||[],o,A,m):Vze(S,s&&k)}const E=m?r7e[c](S,C,s,l):t7e(S,C,h,d);return k.forEach(A=>A.opacity=+E(A)),k}function o7e(e,t){const n=new Float64Array(t),r=e.length;for(let i=0;i<r;++i)n[i]=e[i]||0;for(let i=r;i<t;++i)n[i]=n[r-1];return n}function s7e(e,t){const n=new Int8Array(t),r=e.length;for(let i=0;i<r;++i)n[i]|=n7e[e[i]];for(let i=r;i<t;++i)n[i]=n[r-1];return n}function a7e(e){return e&&e.mark&&e.mark.marktype}function l7e(e,t,n,r){const i=o=>[o.x,o.x,o.x,o.y,o.y,o.y];return e?e==="line"||e==="area"?o=>i(o.datum):t==="line"?o=>{const s=o.datum.items[r].items;return i(s.length?s[n==="start"?0:s.length-1]:{x:NaN,y:NaN})}:o=>{const s=o.datum.bounds;return[s.x1,(s.x1+s.x2)/2,s.x2,s.y1,(s.y1+s.y2)/2,s.y2]}:i}const lM=["x","y","opacity","align","baseline"],zoe=["top-left","left","bottom-left","top","bottom","top-right","right","bottom-right"];function J6(e){H.call(this,null,e)}J6.Definition={type:"Label",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"sort",type:"compare"},{name:"anchor",type:"string",array:!0,default:zoe},{name:"offset",type:"number",array:!0,default:[1]},{name:"padding",type:"number",default:0,null:!0},{name:"lineAnchor",type:"string",values:["start","end"],default:"end"},{name:"markIndex",type:"number",default:0},{name:"avoidBaseMark",type:"boolean",default:!0},{name:"avoidMarks",type:"data",array:!0},{name:"method",type:"string",default:"naive"},{name:"as",type:"string",array:!0,length:lM.length,default:lM}]};re(J6,H,{transform(e,t){function n(o){const s=e[o];return Ne(s)&&t.modified(s.fields)}const r=e.modified();if(!(r||t.changed(t.ADD_REM)||n("sort")))return;(!e.size||e.size.length!==2)&&G("Size parameter should be specified as a [width, height] array.");const i=e.as||lM;return i7e(t.materialize(t.SOURCE).source||[],e.size,e.sort,le(e.offset==null?1:e.offset),le(e.anchor||zoe),e.avoidMarks||[],e.avoidBaseMark!==!1,e.lineAnchor||"end",e.markIndex||0,e.padding===void 0?0:e.padding,e.method||"naive").forEach(o=>{const s=o.datum;s[i[0]]=o.x,s[i[1]]=o.y,s[i[2]]=o.opacity,s[i[3]]=o.align,s[i[4]]=o.baseline}),t.reflow(r).modifies(i)}});const u7e=Object.freeze(Object.defineProperty({__proto__:null,label:J6},Symbol.toStringTag,{value:"Module"}));function joe(e,t){var n=[],r=function(c){return c(a)},i,o,s,a,l,u;if(t==null)n.push(e);else for(i={},o=0,s=e.length;o<s;++o)a=e[o],l=t.map(r),u=i[l],u||(i[l]=u=[],u.dims=l,n.push(u)),u.push(a);return n}function Z6(e){H.call(this,null,e)}Z6.Definition={type:"Loess",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"bandwidth",type:"number",default:.3},{name:"as",type:"string",array:!0}]};re(Z6,H,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const r=t.materialize(t.SOURCE).source,i=joe(r,e.groupby),o=(e.groupby||[]).map(tn),s=o.length,a=e.as||[tn(e.x),tn(e.y)],l=[];i.forEach(u=>{Bee(u,e.x,e.y,e.bandwidth||.3).forEach(c=>{const f={};for(let d=0;d<s;++d)f[o[d]]=u.dims[d];f[a[0]]=c[0],f[a[1]]=c[1],l.push(at(f))})}),this.value&&(n.rem=this.value),this.value=n.add=n.source=l}return n}});const uM={constant:RO,linear:OO,log:Lee,exp:Iee,pow:zee,quad:DO,poly:jee},c7e=(e,t)=>e==="poly"?t:e==="quad"?2:1;function eN(e){H.call(this,null,e)}eN.Definition={type:"Regression",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"string",default:"linear",values:Object.keys(uM)},{name:"order",type:"number",default:3},{name:"extent",type:"number",array:!0,length:2},{name:"params",type:"boolean",default:!1},{name:"as",type:"string",array:!0}]};re(eN,H,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const r=t.materialize(t.SOURCE).source,i=joe(r,e.groupby),o=(e.groupby||[]).map(tn),s=e.method||"linear",a=e.order==null?3:e.order,l=c7e(s,a),u=e.as||[tn(e.x),tn(e.y)],c=uM[s],f=[];let d=e.extent;fe(uM,s)||G("Invalid regression method: "+s),d!=null&&s==="log"&&d[0]<=0&&(t.dataflow.warn("Ignoring extent with values <= 0 for log regression."),d=null),i.forEach(h=>{if(h.length<=l){t.dataflow.warn("Skipping regression with more parameters than data points.");return}const g=c(h,e.x,e.y,a);if(e.params){f.push(at({keys:h.dims,coef:g.coef,rSquared:g.rSquared}));return}const m=d||Aa(h,e.x),y=v=>{const b={};for(let x=0;x<o.length;++x)b[o[x]]=h.dims[x];b[u[0]]=v[0],b[u[1]]=v[1],f.push(at(b))};s==="linear"||s==="constant"?m.forEach(v=>y([v,g.predict(v)])):aE(g.predict,m,25,200).forEach(y)}),this.value&&(n.rem=this.value),this.value=n.add=n.source=f}return n}});const f7e=Object.freeze(Object.defineProperty({__proto__:null,loess:Z6,regression:eN},Symbol.toStringTag,{value:"Module"})),_l=11102230246251565e-32,cr=134217729,d7e=(3+8*_l)*_l;function vT(e,t,n,r,i){let o,s,a,l,u=t[0],c=r[0],f=0,d=0;c>u==c>-u?(o=u,u=t[++f]):(o=c,c=r[++d]);let h=0;if(f<e&&d<n)for(c>u==c>-u?(s=u+o,a=o-(s-u),u=t[++f]):(s=c+o,a=o-(s-c),c=r[++d]),o=s,a!==0&&(i[h++]=a);f<e&&d<n;)c>u==c>-u?(s=o+u,l=s-o,a=o-(s-l)+(u-l),u=t[++f]):(s=o+c,l=s-o,a=o-(s-l)+(c-l),c=r[++d]),o=s,a!==0&&(i[h++]=a);for(;f<e;)s=o+u,l=s-o,a=o-(s-l)+(u-l),u=t[++f],o=s,a!==0&&(i[h++]=a);for(;d<n;)s=o+c,l=s-o,a=o-(s-l)+(c-l),c=r[++d],o=s,a!==0&&(i[h++]=a);return(o!==0||h===0)&&(i[h++]=o),h}function h7e(e,t){let n=t[0];for(let r=1;r<e;r++)n+=t[r];return n}function rb(e){return new Float64Array(e)}const p7e=(3+16*_l)*_l,g7e=(2+12*_l)*_l,m7e=(9+64*_l)*_l*_l,Ah=rb(4),SU=rb(8),kU=rb(12),CU=rb(16),Fr=rb(4);function y7e(e,t,n,r,i,o,s){let a,l,u,c,f,d,h,p,g,m,y,v,b,x,w,k,S,C;const E=e-i,A=n-i,T=t-o,L=r-o;x=E*L,d=cr*E,h=d-(d-E),p=E-h,d=cr*L,g=d-(d-L),m=L-g,w=p*m-(x-h*g-p*g-h*m),k=T*A,d=cr*T,h=d-(d-T),p=T-h,d=cr*A,g=d-(d-A),m=A-g,S=p*m-(k-h*g-p*g-h*m),y=w-S,f=w-y,Ah[0]=w-(y+f)+(f-S),v=x+y,f=v-x,b=x-(v-f)+(y-f),y=b-k,f=b-y,Ah[1]=b-(y+f)+(f-k),C=v+y,f=C-v,Ah[2]=v-(C-f)+(y-f),Ah[3]=C;let F=h7e(4,Ah),R=g7e*s;if(F>=R||-F>=R||(f=e-E,a=e-(E+f)+(f-i),f=n-A,u=n-(A+f)+(f-i),f=t-T,l=t-(T+f)+(f-o),f=r-L,c=r-(L+f)+(f-o),a===0&&l===0&&u===0&&c===0)||(R=m7e*s+d7e*Math.abs(F),F+=E*c+L*a-(T*u+A*l),F>=R||-F>=R))return F;x=a*L,d=cr*a,h=d-(d-a),p=a-h,d=cr*L,g=d-(d-L),m=L-g,w=p*m-(x-h*g-p*g-h*m),k=l*A,d=cr*l,h=d-(d-l),p=l-h,d=cr*A,g=d-(d-A),m=A-g,S=p*m-(k-h*g-p*g-h*m),y=w-S,f=w-y,Fr[0]=w-(y+f)+(f-S),v=x+y,f=v-x,b=x-(v-f)+(y-f),y=b-k,f=b-y,Fr[1]=b-(y+f)+(f-k),C=v+y,f=C-v,Fr[2]=v-(C-f)+(y-f),Fr[3]=C;const _=vT(4,Ah,4,Fr,SU);x=E*c,d=cr*E,h=d-(d-E),p=E-h,d=cr*c,g=d-(d-c),m=c-g,w=p*m-(x-h*g-p*g-h*m),k=T*u,d=cr*T,h=d-(d-T),p=T-h,d=cr*u,g=d-(d-u),m=u-g,S=p*m-(k-h*g-p*g-h*m),y=w-S,f=w-y,Fr[0]=w-(y+f)+(f-S),v=x+y,f=v-x,b=x-(v-f)+(y-f),y=b-k,f=b-y,Fr[1]=b-(y+f)+(f-k),C=v+y,f=C-v,Fr[2]=v-(C-f)+(y-f),Fr[3]=C;const P=vT(_,SU,4,Fr,kU);x=a*c,d=cr*a,h=d-(d-a),p=a-h,d=cr*c,g=d-(d-c),m=c-g,w=p*m-(x-h*g-p*g-h*m),k=l*u,d=cr*l,h=d-(d-l),p=l-h,d=cr*u,g=d-(d-u),m=u-g,S=p*m-(k-h*g-p*g-h*m),y=w-S,f=w-y,Fr[0]=w-(y+f)+(f-S),v=x+y,f=v-x,b=x-(v-f)+(y-f),y=b-k,f=b-y,Fr[1]=b-(y+f)+(f-k),C=v+y,f=C-v,Fr[2]=v-(C-f)+(y-f),Fr[3]=C;const N=vT(P,kU,4,Fr,CU);return CU[N-1]}function Nx(e,t,n,r,i,o){const s=(t-o)*(n-i),a=(e-i)*(r-o),l=s-a,u=Math.abs(s+a);return Math.abs(l)>=p7e*u?l:-y7e(e,t,n,r,i,o,u)}const EU=Math.pow(2,-52),Lx=new Uint32Array(512);class mk{static from(t,n=S7e,r=k7e){const i=t.length,o=new Float64Array(i*2);for(let s=0;s<i;s++){const a=t[s];o[2*s]=n(a),o[2*s+1]=r(a)}return new mk(o)}constructor(t){const n=t.length>>1;if(n>0&&typeof t[0]!="number")throw new Error("Expected coords to contain numbers.");this.coords=t;const r=Math.max(2*n-5,0);this._triangles=new Uint32Array(r*3),this._halfedges=new Int32Array(r*3),this._hashSize=Math.ceil(Math.sqrt(n)),this._hullPrev=new Uint32Array(n),this._hullNext=new Uint32Array(n),this._hullTri=new Uint32Array(n),this._hullHash=new Int32Array(this._hashSize),this._ids=new Uint32Array(n),this._dists=new Float64Array(n),this.update()}update(){const{coords:t,_hullPrev:n,_hullNext:r,_hullTri:i,_hullHash:o}=this,s=t.length>>1;let a=1/0,l=1/0,u=-1/0,c=-1/0;for(let E=0;E<s;E++){const A=t[2*E],T=t[2*E+1];A<a&&(a=A),T<l&&(l=T),A>u&&(u=A),T>c&&(c=T),this._ids[E]=E}const f=(a+u)/2,d=(l+c)/2;let h,p,g;for(let E=0,A=1/0;E<s;E++){const T=bT(f,d,t[2*E],t[2*E+1]);T<A&&(h=E,A=T)}const m=t[2*h],y=t[2*h+1];for(let E=0,A=1/0;E<s;E++){if(E===h)continue;const T=bT(m,y,t[2*E],t[2*E+1]);T<A&&T>0&&(p=E,A=T)}let v=t[2*p],b=t[2*p+1],x=1/0;for(let E=0;E<s;E++){if(E===h||E===p)continue;const A=x7e(m,y,v,b,t[2*E],t[2*E+1]);A<x&&(g=E,x=A)}let w=t[2*g],k=t[2*g+1];if(x===1/0){for(let T=0;T<s;T++)this._dists[T]=t[2*T]-t[0]||t[2*T+1]-t[1];gp(this._ids,this._dists,0,s-1);const E=new Uint32Array(s);let A=0;for(let T=0,L=-1/0;T<s;T++){const F=this._ids[T],R=this._dists[F];R>L&&(E[A++]=F,L=R)}this.hull=E.subarray(0,A),this.triangles=new Uint32Array(0),this.halfedges=new Uint32Array(0);return}if(Nx(m,y,v,b,w,k)<0){const E=p,A=v,T=b;p=g,v=w,b=k,g=E,w=A,k=T}const S=w7e(m,y,v,b,w,k);this._cx=S.x,this._cy=S.y;for(let E=0;E<s;E++)this._dists[E]=bT(t[2*E],t[2*E+1],S.x,S.y);gp(this._ids,this._dists,0,s-1),this._hullStart=h;let C=3;r[h]=n[g]=p,r[p]=n[h]=g,r[g]=n[p]=h,i[h]=0,i[p]=1,i[g]=2,o.fill(-1),o[this._hashKey(m,y)]=h,o[this._hashKey(v,b)]=p,o[this._hashKey(w,k)]=g,this.trianglesLen=0,this._addTriangle(h,p,g,-1,-1,-1);for(let E=0,A,T;E<this._ids.length;E++){const L=this._ids[E],F=t[2*L],R=t[2*L+1];if(E>0&&Math.abs(F-A)<=EU&&Math.abs(R-T)<=EU||(A=F,T=R,L===h||L===p||L===g))continue;let _=0;for(let U=0,V=this._hashKey(F,R);U<this._hashSize&&(_=o[(V+U)%this._hashSize],!(_!==-1&&_!==r[_]));U++);_=n[_];let P=_,N;for(;N=r[P],Nx(F,R,t[2*P],t[2*P+1],t[2*N],t[2*N+1])>=0;)if(P=N,P===_){P=-1;break}if(P===-1)continue;let D=this._addTriangle(P,L,r[P],-1,-1,i[P]);i[L]=this._legalize(D+2),i[P]=D,C++;let I=r[P];for(;N=r[I],Nx(F,R,t[2*I],t[2*I+1],t[2*N],t[2*N+1])<0;)D=this._addTriangle(I,L,N,i[L],-1,i[I]),i[L]=this._legalize(D+2),r[I]=I,C--,I=N;if(P===_)for(;N=n[P],Nx(F,R,t[2*N],t[2*N+1],t[2*P],t[2*P+1])<0;)D=this._addTriangle(N,L,P,-1,i[P],i[N]),this._legalize(D+2),i[N]=D,r[P]=P,C--,P=N;this._hullStart=n[L]=P,r[P]=n[I]=L,r[L]=I,o[this._hashKey(F,R)]=L,o[this._hashKey(t[2*P],t[2*P+1])]=P}this.hull=new Uint32Array(C);for(let E=0,A=this._hullStart;E<C;E++)this.hull[E]=A,A=r[A];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(t,n){return Math.floor(v7e(t-this._cx,n-this._cy)*this._hashSize)%this._hashSize}_legalize(t){const{_triangles:n,_halfedges:r,coords:i}=this;let o=0,s=0;for(;;){const a=r[t],l=t-t%3;if(s=l+(t+2)%3,a===-1){if(o===0)break;t=Lx[--o];continue}const u=a-a%3,c=l+(t+1)%3,f=u+(a+2)%3,d=n[s],h=n[t],p=n[c],g=n[f];if(b7e(i[2*d],i[2*d+1],i[2*h],i[2*h+1],i[2*p],i[2*p+1],i[2*g],i[2*g+1])){n[t]=g,n[a]=d;const y=r[f];if(y===-1){let b=this._hullStart;do{if(this._hullTri[b]===f){this._hullTri[b]=t;break}b=this._hullPrev[b]}while(b!==this._hullStart)}this._link(t,y),this._link(a,r[s]),this._link(s,f);const v=u+(a+1)%3;o<Lx.length&&(Lx[o++]=v)}else{if(o===0)break;t=Lx[--o]}}return s}_link(t,n){this._halfedges[t]=n,n!==-1&&(this._halfedges[n]=t)}_addTriangle(t,n,r,i,o,s){const a=this.trianglesLen;return this._triangles[a]=t,this._triangles[a+1]=n,this._triangles[a+2]=r,this._link(a,i),this._link(a+1,o),this._link(a+2,s),this.trianglesLen+=3,a}}function v7e(e,t){const n=e/(Math.abs(e)+Math.abs(t));return(t>0?3-n:1+n)/4}function bT(e,t,n,r){const i=e-n,o=t-r;return i*i+o*o}function b7e(e,t,n,r,i,o,s,a){const l=e-s,u=t-a,c=n-s,f=r-a,d=i-s,h=o-a,p=l*l+u*u,g=c*c+f*f,m=d*d+h*h;return l*(f*m-g*h)-u*(c*m-g*d)+p*(c*h-f*d)<0}function x7e(e,t,n,r,i,o){const s=n-e,a=r-t,l=i-e,u=o-t,c=s*s+a*a,f=l*l+u*u,d=.5/(s*u-a*l),h=(u*c-a*f)*d,p=(s*f-l*c)*d;return h*h+p*p}function w7e(e,t,n,r,i,o){const s=n-e,a=r-t,l=i-e,u=o-t,c=s*s+a*a,f=l*l+u*u,d=.5/(s*u-a*l),h=e+(u*c-a*f)*d,p=t+(s*f-l*c)*d;return{x:h,y:p}}function gp(e,t,n,r){if(r-n<=20)for(let i=n+1;i<=r;i++){const o=e[i],s=t[o];let a=i-1;for(;a>=n&&t[e[a]]>s;)e[a+1]=e[a--];e[a+1]=o}else{const i=n+r>>1;let o=n+1,s=r;f0(e,i,o),t[e[n]]>t[e[r]]&&f0(e,n,r),t[e[o]]>t[e[r]]&&f0(e,o,r),t[e[n]]>t[e[o]]&&f0(e,n,o);const a=e[o],l=t[a];for(;;){do o++;while(t[e[o]]<l);do s--;while(t[e[s]]>l);if(s<o)break;f0(e,o,s)}e[n+1]=e[s],e[s]=a,r-o+1>=s-n?(gp(e,t,o,r),gp(e,t,n,s-1)):(gp(e,t,n,s-1),gp(e,t,o,r))}}function f0(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function S7e(e){return e[0]}function k7e(e){return e[1]}const _U=1e-6;class If{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(t,n){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(t,n){this._+=`L${this._x1=+t},${this._y1=+n}`}arc(t,n,r){t=+t,n=+n,r=+r;const i=t+r,o=n;if(r<0)throw new Error("negative radius");this._x1===null?this._+=`M${i},${o}`:(Math.abs(this._x1-i)>_U||Math.abs(this._y1-o)>_U)&&(this._+="L"+i+","+o),r&&(this._+=`A${r},${r},0,1,1,${t-r},${n}A${r},${r},0,1,1,${this._x1=i},${this._y1=o}`)}rect(t,n,r,i){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${+r}v${+i}h${-r}Z`}value(){return this._||null}}class cM{constructor(){this._=[]}moveTo(t,n){this._.push([t,n])}closePath(){this._.push(this._[0].slice())}lineTo(t,n){this._.push([t,n])}value(){return this._.length?this._:null}}let C7e=class{constructor(t,[n,r,i,o]=[0,0,960,500]){if(!((i=+i)>=(n=+n))||!((o=+o)>=(r=+r)))throw new Error("invalid bounds");this.delaunay=t,this._circumcenters=new Float64Array(t.points.length*2),this.vectors=new Float64Array(t.points.length*2),this.xmax=i,this.xmin=n,this.ymax=o,this.ymin=r,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){const{delaunay:{points:t,hull:n,triangles:r},vectors:i}=this;let o,s;const a=this.circumcenters=this._circumcenters.subarray(0,r.length/3*2);for(let g=0,m=0,y=r.length,v,b;g<y;g+=3,m+=2){const x=r[g]*2,w=r[g+1]*2,k=r[g+2]*2,S=t[x],C=t[x+1],E=t[w],A=t[w+1],T=t[k],L=t[k+1],F=E-S,R=A-C,_=T-S,P=L-C,N=(F*P-R*_)*2;if(Math.abs(N)<1e-9){if(o===void 0){o=s=0;for(const I of n)o+=t[I*2],s+=t[I*2+1];o/=n.length,s/=n.length}const D=1e9*Math.sign((o-S)*P-(s-C)*_);v=(S+T)/2-D*P,b=(C+L)/2+D*_}else{const D=1/N,I=F*F+R*R,U=_*_+P*P;v=S+(P*I-R*U)*D,b=C+(F*U-_*I)*D}a[m]=v,a[m+1]=b}let l=n[n.length-1],u,c=l*4,f,d=t[2*l],h,p=t[2*l+1];i.fill(0);for(let g=0;g<n.length;++g)l=n[g],u=c,f=d,h=p,c=l*4,d=t[2*l],p=t[2*l+1],i[u+2]=i[c]=h-p,i[u+3]=i[c+1]=d-f}render(t){const n=t==null?t=new If:void 0,{delaunay:{halfedges:r,inedges:i,hull:o},circumcenters:s,vectors:a}=this;if(o.length<=1)return null;for(let c=0,f=r.length;c<f;++c){const d=r[c];if(d<c)continue;const h=Math.floor(c/3)*2,p=Math.floor(d/3)*2,g=s[h],m=s[h+1],y=s[p],v=s[p+1];this._renderSegment(g,m,y,v,t)}let l,u=o[o.length-1];for(let c=0;c<o.length;++c){l=u,u=o[c];const f=Math.floor(i[u]/3)*2,d=s[f],h=s[f+1],p=l*4,g=this._project(d,h,a[p+2],a[p+3]);g&&this._renderSegment(d,h,g[0],g[1],t)}return n&&n.value()}renderBounds(t){const n=t==null?t=new If:void 0;return t.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),n&&n.value()}renderCell(t,n){const r=n==null?n=new If:void 0,i=this._clip(t);if(i===null||!i.length)return;n.moveTo(i[0],i[1]);let o=i.length;for(;i[0]===i[o-2]&&i[1]===i[o-1]&&o>1;)o-=2;for(let s=2;s<o;s+=2)(i[s]!==i[s-2]||i[s+1]!==i[s-1])&&n.lineTo(i[s],i[s+1]);return n.closePath(),r&&r.value()}*cellPolygons(){const{delaunay:{points:t}}=this;for(let n=0,r=t.length/2;n<r;++n){const i=this.cellPolygon(n);i&&(i.index=n,yield i)}}cellPolygon(t){const n=new cM;return this.renderCell(t,n),n.value()}_renderSegment(t,n,r,i,o){let s;const a=this._regioncode(t,n),l=this._regioncode(r,i);a===0&&l===0?(o.moveTo(t,n),o.lineTo(r,i)):(s=this._clipSegment(t,n,r,i,a,l))&&(o.moveTo(s[0],s[1]),o.lineTo(s[2],s[3]))}contains(t,n,r){return n=+n,n!==n||(r=+r,r!==r)?!1:this.delaunay._step(t,n,r)===t}*neighbors(t){const n=this._clip(t);if(n)for(const r of this.delaunay.neighbors(t)){const i=this._clip(r);if(i){e:for(let o=0,s=n.length;o<s;o+=2)for(let a=0,l=i.length;a<l;a+=2)if(n[o]===i[a]&&n[o+1]===i[a+1]&&n[(o+2)%s]===i[(a+l-2)%l]&&n[(o+3)%s]===i[(a+l-1)%l]){yield r;break e}}}}_cell(t){const{circumcenters:n,delaunay:{inedges:r,halfedges:i,triangles:o}}=this,s=r[t];if(s===-1)return null;const a=[];let l=s;do{const u=Math.floor(l/3);if(a.push(n[u*2],n[u*2+1]),l=l%3===2?l-2:l+1,o[l]!==t)break;l=i[l]}while(l!==s&&l!==-1);return a}_clip(t){if(t===0&&this.delaunay.hull.length===1)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const n=this._cell(t);if(n===null)return null;const{vectors:r}=this,i=t*4;return this._simplify(r[i]||r[i+1]?this._clipInfinite(t,n,r[i],r[i+1],r[i+2],r[i+3]):this._clipFinite(t,n))}_clipFinite(t,n){const r=n.length;let i=null,o,s,a=n[r-2],l=n[r-1],u,c=this._regioncode(a,l),f,d=0;for(let h=0;h<r;h+=2)if(o=a,s=l,a=n[h],l=n[h+1],u=c,c=this._regioncode(a,l),u===0&&c===0)f=d,d=0,i?i.push(a,l):i=[a,l];else{let p,g,m,y,v;if(u===0){if((p=this._clipSegment(o,s,a,l,u,c))===null)continue;[g,m,y,v]=p}else{if((p=this._clipSegment(a,l,o,s,c,u))===null)continue;[y,v,g,m]=p,f=d,d=this._edgecode(g,m),f&&d&&this._edge(t,f,d,i,i.length),i?i.push(g,m):i=[g,m]}f=d,d=this._edgecode(y,v),f&&d&&this._edge(t,f,d,i,i.length),i?i.push(y,v):i=[y,v]}if(i)f=d,d=this._edgecode(i[0],i[1]),f&&d&&this._edge(t,f,d,i,i.length);else if(this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return i}_clipSegment(t,n,r,i,o,s){const a=o<s;for(a&&([t,n,r,i,o,s]=[r,i,t,n,s,o]);;){if(o===0&&s===0)return a?[r,i,t,n]:[t,n,r,i];if(o&s)return null;let l,u,c=o||s;c&8?(l=t+(r-t)*(this.ymax-n)/(i-n),u=this.ymax):c&4?(l=t+(r-t)*(this.ymin-n)/(i-n),u=this.ymin):c&2?(u=n+(i-n)*(this.xmax-t)/(r-t),l=this.xmax):(u=n+(i-n)*(this.xmin-t)/(r-t),l=this.xmin),o?(t=l,n=u,o=this._regioncode(t,n)):(r=l,i=u,s=this._regioncode(r,i))}}_clipInfinite(t,n,r,i,o,s){let a=Array.from(n),l;if((l=this._project(a[0],a[1],r,i))&&a.unshift(l[0],l[1]),(l=this._project(a[a.length-2],a[a.length-1],o,s))&&a.push(l[0],l[1]),a=this._clipFinite(t,a))for(let u=0,c=a.length,f,d=this._edgecode(a[c-2],a[c-1]);u<c;u+=2)f=d,d=this._edgecode(a[u],a[u+1]),f&&d&&(u=this._edge(t,f,d,a,u),c=a.length);else this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(a=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return a}_edge(t,n,r,i,o){for(;n!==r;){let s,a;switch(n){case 5:n=4;continue;case 4:n=6,s=this.xmax,a=this.ymin;break;case 6:n=2;continue;case 2:n=10,s=this.xmax,a=this.ymax;break;case 10:n=8;continue;case 8:n=9,s=this.xmin,a=this.ymax;break;case 9:n=1;continue;case 1:n=5,s=this.xmin,a=this.ymin;break}(i[o]!==s||i[o+1]!==a)&&this.contains(t,s,a)&&(i.splice(o,0,s,a),o+=2)}return o}_project(t,n,r,i){let o=1/0,s,a,l;if(i<0){if(n<=this.ymin)return null;(s=(this.ymin-n)/i)<o&&(l=this.ymin,a=t+(o=s)*r)}else if(i>0){if(n>=this.ymax)return null;(s=(this.ymax-n)/i)<o&&(l=this.ymax,a=t+(o=s)*r)}if(r>0){if(t>=this.xmax)return null;(s=(this.xmax-t)/r)<o&&(a=this.xmax,l=n+(o=s)*i)}else if(r<0){if(t<=this.xmin)return null;(s=(this.xmin-t)/r)<o&&(a=this.xmin,l=n+(o=s)*i)}return[a,l]}_edgecode(t,n){return(t===this.xmin?1:t===this.xmax?2:0)|(n===this.ymin?4:n===this.ymax?8:0)}_regioncode(t,n){return(t<this.xmin?1:t>this.xmax?2:0)|(n<this.ymin?4:n>this.ymax?8:0)}_simplify(t){if(t&&t.length>4){for(let n=0;n<t.length;n+=2){const r=(n+2)%t.length,i=(n+4)%t.length;(t[n]===t[r]&&t[r]===t[i]||t[n+1]===t[r+1]&&t[r+1]===t[i+1])&&(t.splice(r,2),n-=2)}t.length||(t=null)}return t}};const E7e=2*Math.PI,Th=Math.pow;function _7e(e){return e[0]}function $7e(e){return e[1]}function A7e(e){const{triangles:t,coords:n}=e;for(let r=0;r<t.length;r+=3){const i=2*t[r],o=2*t[r+1],s=2*t[r+2];if((n[s]-n[i])*(n[o+1]-n[i+1])-(n[o]-n[i])*(n[s+1]-n[i+1])>1e-10)return!1}return!0}function T7e(e,t,n){return[e+Math.sin(e+t)*n,t+Math.cos(e-t)*n]}class tN{static from(t,n=_7e,r=$7e,i){return new tN("length"in t?P7e(t,n,r,i):Float64Array.from(M7e(t,n,r,i)))}constructor(t){this._delaunator=new mk(t),this.inedges=new Int32Array(t.length/2),this._hullIndex=new Int32Array(t.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){const t=this._delaunator,n=this.points;if(t.hull&&t.hull.length>2&&A7e(t)){this.collinear=Int32Array.from({length:n.length/2},(d,h)=>h).sort((d,h)=>n[2*d]-n[2*h]||n[2*d+1]-n[2*h+1]);const l=this.collinear[0],u=this.collinear[this.collinear.length-1],c=[n[2*l],n[2*l+1],n[2*u],n[2*u+1]],f=1e-8*Math.hypot(c[3]-c[1],c[2]-c[0]);for(let d=0,h=n.length/2;d<h;++d){const p=T7e(n[2*d],n[2*d+1],f);n[2*d]=p[0],n[2*d+1]=p[1]}this._delaunator=new mk(n)}else delete this.collinear;const r=this.halfedges=this._delaunator.halfedges,i=this.hull=this._delaunator.hull,o=this.triangles=this._delaunator.triangles,s=this.inedges.fill(-1),a=this._hullIndex.fill(-1);for(let l=0,u=r.length;l<u;++l){const c=o[l%3===2?l-2:l+1];(r[l]===-1||s[c]===-1)&&(s[c]=l)}for(let l=0,u=i.length;l<u;++l)a[i[l]]=l;i.length<=2&&i.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=i[0],s[i[0]]=1,i.length===2&&(s[i[1]]=0,this.triangles[1]=i[1],this.triangles[2]=i[1]))}voronoi(t){return new C7e(this,t)}*neighbors(t){const{inedges:n,hull:r,_hullIndex:i,halfedges:o,triangles:s,collinear:a}=this;if(a){const f=a.indexOf(t);f>0&&(yield a[f-1]),f<a.length-1&&(yield a[f+1]);return}const l=n[t];if(l===-1)return;let u=l,c=-1;do{if(yield c=s[u],u=u%3===2?u-2:u+1,s[u]!==t)return;if(u=o[u],u===-1){const f=r[(i[t]+1)%r.length];f!==c&&(yield f);return}}while(u!==l)}find(t,n,r=0){if(t=+t,t!==t||(n=+n,n!==n))return-1;const i=r;let o;for(;(o=this._step(r,t,n))>=0&&o!==r&&o!==i;)r=o;return o}_step(t,n,r){const{inedges:i,hull:o,_hullIndex:s,halfedges:a,triangles:l,points:u}=this;if(i[t]===-1||!u.length)return(t+1)%(u.length>>1);let c=t,f=Th(n-u[t*2],2)+Th(r-u[t*2+1],2);const d=i[t];let h=d;do{let p=l[h];const g=Th(n-u[p*2],2)+Th(r-u[p*2+1],2);if(g<f&&(f=g,c=p),h=h%3===2?h-2:h+1,l[h]!==t)break;if(h=a[h],h===-1){if(h=o[(s[t]+1)%o.length],h!==p&&Th(n-u[h*2],2)+Th(r-u[h*2+1],2)<f)return h;break}}while(h!==d);return c}render(t){const n=t==null?t=new If:void 0,{points:r,halfedges:i,triangles:o}=this;for(let s=0,a=i.length;s<a;++s){const l=i[s];if(l<s)continue;const u=o[s]*2,c=o[l]*2;t.moveTo(r[u],r[u+1]),t.lineTo(r[c],r[c+1])}return this.renderHull(t),n&&n.value()}renderPoints(t,n){n===void 0&&(!t||typeof t.moveTo!="function")&&(n=t,t=null),n=n==null?2:+n;const r=t==null?t=new If:void 0,{points:i}=this;for(let o=0,s=i.length;o<s;o+=2){const a=i[o],l=i[o+1];t.moveTo(a+n,l),t.arc(a,l,n,0,E7e)}return r&&r.value()}renderHull(t){const n=t==null?t=new If:void 0,{hull:r,points:i}=this,o=r[0]*2,s=r.length;t.moveTo(i[o],i[o+1]);for(let a=1;a<s;++a){const l=2*r[a];t.lineTo(i[l],i[l+1])}return t.closePath(),n&&n.value()}hullPolygon(){const t=new cM;return this.renderHull(t),t.value()}renderTriangle(t,n){const r=n==null?n=new If:void 0,{points:i,triangles:o}=this,s=o[t*=3]*2,a=o[t+1]*2,l=o[t+2]*2;return n.moveTo(i[s],i[s+1]),n.lineTo(i[a],i[a+1]),n.lineTo(i[l],i[l+1]),n.closePath(),r&&r.value()}*trianglePolygons(){const{triangles:t}=this;for(let n=0,r=t.length/3;n<r;++n)yield this.trianglePolygon(n)}trianglePolygon(t){const n=new cM;return this.renderTriangle(t,n),n.value()}}function P7e(e,t,n,r){const i=e.length,o=new Float64Array(i*2);for(let s=0;s<i;++s){const a=e[s];o[s*2]=t.call(r,a,s,e),o[s*2+1]=n.call(r,a,s,e)}return o}function*M7e(e,t,n,r){let i=0;for(const o of e)yield t.call(r,o,i,e),yield n.call(r,o,i,e),++i}function nN(e){H.call(this,null,e)}nN.Definition={type:"Voronoi",metadata:{modifies:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"size",type:"number",array:!0,length:2},{name:"extent",type:"array",array:!0,length:2,default:[[-1e5,-1e5],[1e5,1e5]],content:{type:"number",array:!0,length:2}},{name:"as",type:"string",default:"path"}]};const F7e=[-1e5,-1e5,1e5,1e5];re(nN,H,{transform(e,t){const n=e.as||"path",r=t.source;if(!r||!r.length)return t;let i=e.size;i=i?[0,0,i[0],i[1]]:(i=e.extent)?[i[0][0],i[0][1],i[1][0],i[1][1]]:F7e;const o=this.value=tN.from(r,e.x,e.y).voronoi(i);for(let s=0,a=r.length;s<a;++s){const l=o.cellPolygon(s);r[s][n]=l&&!O7e(l)?R7e(l):null}return t.reflow(e.modified()).modifies(n)}});function R7e(e){const t=e[0][0],n=e[0][1];let r=e.length-1;for(;e[r][0]===t&&e[r][1]===n;--r);return"M"+e.slice(0,r+1).join("L")+"Z"}function O7e(e){return e.length===2&&e[0][0]===e[1][0]&&e[0][1]===e[1][1]}const D7e=Object.freeze(Object.defineProperty({__proto__:null,voronoi:nN},Symbol.toStringTag,{value:"Module"}));var xT=Math.PI/180,sy=64,t2=2048;function N7e(){var e=[256,256],t,n,r,i,o,s,a,l=Boe,u=[],c=Math.random,f={};f.layout=function(){for(var p=d(oc()),g=U7e((e[0]>>5)*e[1]),m=null,y=u.length,v=-1,b=[],x=u.map(k=>({text:t(k),font:n(k),style:i(k),weight:o(k),rotate:s(k),size:~~(r(k)+1e-14),padding:a(k),xoff:0,yoff:0,x1:0,y1:0,x0:0,y0:0,hasText:!1,sprite:null,datum:k})).sort((k,S)=>S.size-k.size);++v<y;){var w=x[v];w.x=e[0]*(c()+.5)>>1,w.y=e[1]*(c()+.5)>>1,L7e(p,w,x,v),w.hasText&&h(g,w,m)&&(b.push(w),m?z7e(m,w):m=[{x:w.x+w.x0,y:w.y+w.y0},{x:w.x+w.x1,y:w.y+w.y1}],w.x-=e[0]>>1,w.y-=e[1]>>1)}return b};function d(p){p.width=p.height=1;var g=Math.sqrt(p.getContext("2d").getImageData(0,0,1,1).data.length>>2);p.width=(sy<<5)/g,p.height=t2/g;var m=p.getContext("2d");return m.fillStyle=m.strokeStyle="red",m.textAlign="center",{context:m,ratio:g}}function h(p,g,m){for(var y=g.x,v=g.y,b=Math.hypot(e[0],e[1]),x=l(e),w=c()<.5?1:-1,k=-w,S,C,E;(S=x(k+=w))&&(C=~~S[0],E=~~S[1],!(Math.min(Math.abs(C),Math.abs(E))>=b));)if(g.x=y+C,g.y=v+E,!(g.x+g.x0<0||g.y+g.y0<0||g.x+g.x1>e[0]||g.y+g.y1>e[1])&&(!m||!I7e(g,p,e[0]))&&(!m||j7e(g,m))){for(var A=g.sprite,T=g.width>>5,L=e[0]>>5,F=g.x-(T<<4),R=F&127,_=32-R,P=g.y1-g.y0,N=(g.y+g.y0)*L+(F>>5),D,I=0;I<P;I++){D=0;for(var U=0;U<=T;U++)p[N+U]|=D<<_|(U<T?(D=A[I*T+U])>>>R:0);N+=L}return g.sprite=null,!0}return!1}return f.words=function(p){return arguments.length?(u=p,f):u},f.size=function(p){return arguments.length?(e=[+p[0],+p[1]],f):e},f.font=function(p){return arguments.length?(n=tf(p),f):n},f.fontStyle=function(p){return arguments.length?(i=tf(p),f):i},f.fontWeight=function(p){return arguments.length?(o=tf(p),f):o},f.rotate=function(p){return arguments.length?(s=tf(p),f):s},f.text=function(p){return arguments.length?(t=tf(p),f):t},f.spiral=function(p){return arguments.length?(l=V7e[p]||p,f):l},f.fontSize=function(p){return arguments.length?(r=tf(p),f):r},f.padding=function(p){return arguments.length?(a=tf(p),f):a},f.random=function(p){return arguments.length?(c=p,f):c},f}function L7e(e,t,n,r){if(!t.sprite){var i=e.context,o=e.ratio;i.clearRect(0,0,(sy<<5)/o,t2/o);var s=0,a=0,l=0,u=n.length,c,f,d,h,p;for(--r;++r<u;){if(t=n[r],i.save(),i.font=t.style+" "+t.weight+" "+~~((t.size+1)/o)+"px "+t.font,c=i.measureText(t.text+"m").width*o,d=t.size<<1,t.rotate){var g=Math.sin(t.rotate*xT),m=Math.cos(t.rotate*xT),y=c*m,v=c*g,b=d*m,x=d*g;c=Math.max(Math.abs(y+x),Math.abs(y-x))+31>>5<<5,d=~~Math.max(Math.abs(v+b),Math.abs(v-b))}else c=c+31>>5<<5;if(d>l&&(l=d),s+c>=sy<<5&&(s=0,a+=l,l=0),a+d>=t2)break;i.translate((s+(c>>1))/o,(a+(d>>1))/o),t.rotate&&i.rotate(t.rotate*xT),i.fillText(t.text,0,0),t.padding&&(i.lineWidth=2*t.padding,i.strokeText(t.text,0,0)),i.restore(),t.width=c,t.height=d,t.xoff=s,t.yoff=a,t.x1=c>>1,t.y1=d>>1,t.x0=-t.x1,t.y0=-t.y1,t.hasText=!0,s+=c}for(var w=i.getImageData(0,0,(sy<<5)/o,t2/o).data,k=[];--r>=0;)if(t=n[r],!!t.hasText){for(c=t.width,f=c>>5,d=t.y1-t.y0,h=0;h<d*f;h++)k[h]=0;if(s=t.xoff,s==null)return;a=t.yoff;var S=0,C=-1;for(p=0;p<d;p++){for(h=0;h<c;h++){var E=f*p+(h>>5),A=w[(a+p)*(sy<<5)+(s+h)<<2]?1<<31-h%32:0;k[E]|=A,S|=A}S?C=p:(t.y0++,d--,p--,a++)}t.y1=t.y0+C,t.sprite=k.slice(0,(t.y1-t.y0)*f)}}}function I7e(e,t,n){n>>=5;for(var r=e.sprite,i=e.width>>5,o=e.x-(i<<4),s=o&127,a=32-s,l=e.y1-e.y0,u=(e.y+e.y0)*n+(o>>5),c,f=0;f<l;f++){c=0;for(var d=0;d<=i;d++)if((c<<a|(d<i?(c=r[f*i+d])>>>s:0))&t[u+d])return!0;u+=n}return!1}function z7e(e,t){var n=e[0],r=e[1];t.x+t.x0<n.x&&(n.x=t.x+t.x0),t.y+t.y0<n.y&&(n.y=t.y+t.y0),t.x+t.x1>r.x&&(r.x=t.x+t.x1),t.y+t.y1>r.y&&(r.y=t.y+t.y1)}function j7e(e,t){return e.x+e.x1>t[0].x&&e.x+e.x0<t[1].x&&e.y+e.y1>t[0].y&&e.y+e.y0<t[1].y}function Boe(e){var t=e[0]/e[1];return function(n){return[t*(n*=.1)*Math.cos(n),n*Math.sin(n)]}}function B7e(e){var t=4,n=t*e[0]/e[1],r=0,i=0;return function(o){var s=o<0?-1:1;switch(Math.sqrt(1+4*s*o)-s&3){case 0:r+=n;break;case 1:i+=t;break;case 2:r-=n;break;default:i-=t;break}return[r,i]}}function U7e(e){for(var t=[],n=-1;++n<e;)t[n]=0;return t}function tf(e){return typeof e=="function"?e:function(){return e}}var V7e={archimedean:Boe,rectangular:B7e};const Uoe=["x","y","font","fontSize","fontStyle","fontWeight","angle"],W7e=["text","font","rotate","fontSize","fontStyle","fontWeight"];function rN(e){H.call(this,N7e(),e)}rN.Definition={type:"Wordcloud",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2},{name:"font",type:"string",expr:!0,default:"sans-serif"},{name:"fontStyle",type:"string",expr:!0,default:"normal"},{name:"fontWeight",type:"string",expr:!0,default:"normal"},{name:"fontSize",type:"number",expr:!0,default:14},{name:"fontSizeRange",type:"number",array:"nullable",default:[10,50]},{name:"rotate",type:"number",expr:!0,default:0},{name:"text",type:"field"},{name:"spiral",type:"string",values:["archimedean","rectangular"]},{name:"padding",type:"number",expr:!0},{name:"as",type:"string",array:!0,length:7,default:Uoe}]};re(rN,H,{transform(e,t){e.size&&!(e.size[0]&&e.size[1])&&G("Wordcloud size dimensions must be non-zero.");function n(p){const g=e[p];return Ne(g)&&t.modified(g.fields)}const r=e.modified();if(!(r||t.changed(t.ADD_REM)||W7e.some(n)))return;const i=t.materialize(t.SOURCE).source,o=this.value,s=e.as||Uoe;let a=e.fontSize||14,l;if(Ne(a)?l=e.fontSizeRange:a=Tr(a),l){const p=a,g=et("sqrt")().domain(Aa(i,p)).range(l);a=m=>g(p(m))}i.forEach(p=>{p[s[0]]=NaN,p[s[1]]=NaN,p[s[3]]=0});const u=o.words(i).text(e.text).size(e.size||[500,500]).padding(e.padding||1).spiral(e.spiral||"archimedean").rotate(e.rotate||0).font(e.font||"sans-serif").fontStyle(e.fontStyle||"normal").fontWeight(e.fontWeight||"normal").fontSize(a).random(Io).layout(),c=o.size(),f=c[0]>>1,d=c[1]>>1,h=u.length;for(let p=0,g,m;p<h;++p)g=u[p],m=g.datum,m[s[0]]=g.x+f,m[s[1]]=g.y+d,m[s[2]]=g.font,m[s[3]]=g.size,m[s[4]]=g.style,m[s[5]]=g.weight,m[s[6]]=g.rotate;return t.reflow(r).modifies(s)}});const H7e=Object.freeze(Object.defineProperty({__proto__:null,wordcloud:rN},Symbol.toStringTag,{value:"Module"})),q7e=e=>new Uint8Array(e),G7e=e=>new Uint16Array(e),Vy=e=>new Uint32Array(e);function Y7e(){let e=8,t=[],n=Vy(0),r=Ix(0,e),i=Ix(0,e);return{data:()=>t,seen:()=>n=X7e(n,t.length),add(o){for(let s=0,a=t.length,l=o.length,u;s<l;++s)u=o[s],u._index=a++,t.push(u)},remove(o,s){const a=t.length,l=Array(a-o),u=t;let c,f,d;for(f=0;!s[f]&&f<a;++f)l[f]=t[f],u[f]=f;for(d=f;f<a;++f)c=t[f],s[f]?u[f]=-1:(u[f]=d,r[d]=r[f],i[d]=i[f],l[d]=c,c._index=d++),r[f]=0;return t=l,u},size:()=>t.length,curr:()=>r,prev:()=>i,reset:o=>i[o]=r[o],all:()=>e<257?255:e<65537?65535:4294967295,set(o,s){r[o]|=s},clear(o,s){r[o]&=~s},resize(o,s){const a=r.length;(o>a||s>e)&&(e=Math.max(s,e),r=Ix(o,e,r),i=Ix(o,e))}}}function X7e(e,t,n){return e.length>=t?e:(n=n||new e.constructor(t),n.set(e),n)}function Ix(e,t,n){const r=(t<257?q7e:t<65537?G7e:Vy)(e);return n&&r.set(n),r}function $U(e,t,n){const r=1<<t;return{one:r,zero:~r,range:n.slice(),bisect:e.bisect,index:e.index,size:e.size,onAdd(i,o){const s=this,a=s.bisect(s.range,i.value),l=i.index,u=a[0],c=a[1],f=l.length;let d;for(d=0;d<u;++d)o[l[d]]|=r;for(d=c;d<f;++d)o[l[d]]|=r;return s}}}function AU(){let e=Vy(0),t=[],n=0;function r(a,l,u){if(!l.length)return[];const c=n,f=l.length,d=Vy(f);let h=Array(f),p,g,m;for(m=0;m<f;++m)h[m]=a(l[m]),d[m]=m;if(h=K7e(h,d),c)p=t,g=e,t=Array(c+f),e=Vy(c+f),Q7e(u,p,g,c,h,d,f,t,e);else{if(u>0)for(m=0;m<f;++m)d[m]+=u;t=h,e=d}return n=c+f,{index:d,value:h}}function i(a,l){const u=n;let c,f,d;for(f=0;!l[e[f]]&&f<u;++f);for(d=f;f<u;++f)l[c=e[f]]||(e[d]=c,t[d]=t[f],++d);n=u-a}function o(a){for(let l=0,u=n;l<u;++l)e[l]=a[e[l]]}function s(a,l){let u;return l?u=l.length:(l=t,u=n),[lPe(l,a[0],0,u),gc(l,a[1],0,u)]}return{insert:r,remove:i,bisect:s,reindex:o,index:()=>e,size:()=>n}}function K7e(e,t){return e.sort.call(t,(n,r)=>{const i=e[n],o=e[r];return i<o?-1:i>o?1:0}),fPe(e,t)}function Q7e(e,t,n,r,i,o,s,a,l){let u=0,c=0,f;for(f=0;u<r&&c<s;++f)t[u]<i[c]?(a[f]=t[u],l[f]=n[u++]):(a[f]=i[c],l[f]=o[c++]+e);for(;u<r;++u,++f)a[f]=t[u],l[f]=n[u];for(;c<s;++c,++f)a[f]=i[c],l[f]=o[c]+e}function iN(e){H.call(this,Y7e(),e),this._indices=null,this._dims=null}iN.Definition={type:"CrossFilter",metadata:{},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"query",type:"array",array:!0,required:!0,content:{type:"number",array:!0,length:2}}]};re(iN,H,{transform(e,t){if(this._dims){var n=e.modified("fields")||e.fields.some(r=>t.modified(r.fields));return n?this.reinit(e,t):this.eval(e,t)}else return this.init(e,t)},init(e,t){const n=e.fields,r=e.query,i=this._indices={},o=this._dims=[],s=r.length;let a=0,l,u;for(;a<s;++a)l=n[a].fname,u=i[l]||(i[l]=AU()),o.push($U(u,a,r[a]));return this.eval(e,t)},reinit(e,t){const n=t.materialize().fork(),r=e.fields,i=e.query,o=this._indices,s=this._dims,a=this.value,l=a.curr(),u=a.prev(),c=a.all(),f=n.rem=n.add,d=n.mod,h=i.length,p={};let g,m,y,v,b,x,w,k,S;if(u.set(l),t.rem.length&&(b=this.remove(e,t,n)),t.add.length&&a.add(t.add),t.mod.length)for(x={},v=t.mod,w=0,k=v.length;w<k;++w)x[v[w]._index]=1;for(w=0;w<h;++w)S=r[w],(!s[w]||e.modified("fields",w)||t.modified(S.fields))&&(y=S.fname,(g=p[y])||(o[y]=m=AU(),p[y]=g=m.insert(S,t.source,0)),s[w]=$U(m,w,i[w]).onAdd(g,l));for(w=0,k=a.data().length;w<k;++w)b[w]||(u[w]!==l[w]?f.push(w):x[w]&&l[w]!==c&&d.push(w));return a.mask=(1<<h)-1,n},eval(e,t){const n=t.materialize().fork(),r=this._dims.length;let i=0;return t.rem.length&&(this.remove(e,t,n),i|=(1<<r)-1),e.modified("query")&&!e.modified("fields")&&(i|=this.update(e,t,n)),t.add.length&&(this.insert(e,t,n),i|=(1<<r)-1),t.mod.length&&(this.modify(t,n),i|=(1<<r)-1),this.value.mask=i,n},insert(e,t,n){const r=t.add,i=this.value,o=this._dims,s=this._indices,a=e.fields,l={},u=n.add,c=i.size()+r.length,f=o.length;let d=i.size(),h,p,g;i.resize(c,f),i.add(r);const m=i.curr(),y=i.prev(),v=i.all();for(h=0;h<f;++h)p=a[h].fname,g=l[p]||(l[p]=s[p].insert(a[h],r,d)),o[h].onAdd(g,m);for(;d<c;++d)y[d]=v,m[d]!==v&&u.push(d)},modify(e,t){const n=t.mod,r=this.value,i=r.curr(),o=r.all(),s=e.mod;let a,l,u;for(a=0,l=s.length;a<l;++a)u=s[a]._index,i[u]!==o&&n.push(u)},remove(e,t,n){const r=this._indices,i=this.value,o=i.curr(),s=i.prev(),a=i.all(),l={},u=n.rem,c=t.rem;let f,d,h,p;for(f=0,d=c.length;f<d;++f)h=c[f]._index,l[h]=1,s[h]=p=o[h],o[h]=a,p!==a&&u.push(h);for(h in r)r[h].remove(d,l);return this.reindex(t,d,l),l},reindex(e,t,n){const r=this._indices,i=this.value;e.runAfter(()=>{const o=i.remove(t,n);for(const s in r)r[s].reindex(o)})},update(e,t,n){const r=this._dims,i=e.query,o=t.stamp,s=r.length;let a=0,l,u;for(n.filters=0,u=0;u<s;++u)e.modified("query",u)&&(l=u,++a);if(a===1)a=r[l].one,this.incrementOne(r[l],i[l],n.add,n.rem);else for(u=0,a=0;u<s;++u)e.modified("query",u)&&(a|=r[u].one,this.incrementAll(r[u],i[u],o,n.add),n.rem=n.add);return a},incrementAll(e,t,n,r){const i=this.value,o=i.seen(),s=i.curr(),a=i.prev(),l=e.index(),u=e.bisect(e.range),c=e.bisect(t),f=c[0],d=c[1],h=u[0],p=u[1],g=e.one;let m,y,v;if(f<h)for(m=f,y=Math.min(h,d);m<y;++m)v=l[m],o[v]!==n&&(a[v]=s[v],o[v]=n,r.push(v)),s[v]^=g;else if(f>h)for(m=h,y=Math.min(f,p);m<y;++m)v=l[m],o[v]!==n&&(a[v]=s[v],o[v]=n,r.push(v)),s[v]^=g;if(d>p)for(m=Math.max(f,p),y=d;m<y;++m)v=l[m],o[v]!==n&&(a[v]=s[v],o[v]=n,r.push(v)),s[v]^=g;else if(d<p)for(m=Math.max(h,d),y=p;m<y;++m)v=l[m],o[v]!==n&&(a[v]=s[v],o[v]=n,r.push(v)),s[v]^=g;e.range=t.slice()},incrementOne(e,t,n,r){const i=this.value,o=i.curr(),s=e.index(),a=e.bisect(e.range),l=e.bisect(t),u=l[0],c=l[1],f=a[0],d=a[1],h=e.one;let p,g,m;if(u<f)for(p=u,g=Math.min(f,c);p<g;++p)m=s[p],o[m]^=h,n.push(m);else if(u>f)for(p=f,g=Math.min(u,d);p<g;++p)m=s[p],o[m]^=h,r.push(m);if(c>d)for(p=Math.max(u,d),g=c;p<g;++p)m=s[p],o[m]^=h,n.push(m);else if(c<d)for(p=Math.max(f,c),g=d;p<g;++p)m=s[p],o[m]^=h,r.push(m);e.range=t.slice()}});function oN(e){H.call(this,null,e)}oN.Definition={type:"ResolveFilter",metadata:{},params:[{name:"ignore",type:"number",required:!0,description:"A bit mask indicating which filters to ignore."},{name:"filter",type:"object",required:!0,description:"Per-tuple filter bitmaps from a CrossFilter transform."}]};re(oN,H,{transform(e,t){const n=~(e.ignore||0),r=e.filter,i=r.mask;if(!(i&n))return t.StopPropagation;const o=t.fork(t.ALL),s=r.data(),a=r.curr(),l=r.prev(),u=c=>a[c]&n?null:s[c];return o.filter(o.MOD,u),i&i-1?(o.filter(o.ADD,c=>{const f=a[c]&n;return!f&&f^l[c]&n?s[c]:null}),o.filter(o.REM,c=>{const f=a[c]&n;return f&&!(f^(f^l[c]&n))?s[c]:null})):(o.filter(o.ADD,u),o.filter(o.REM,c=>(a[c]&n)===i?s[c]:null)),o.filter(o.SOURCE,c=>u(c._index))}});const J7e=Object.freeze(Object.defineProperty({__proto__:null,crossfilter:iN,resolvefilter:oN},Symbol.toStringTag,{value:"Module"})),Z7e="RawCode",Ed="Literal",eje="Property",tje="Identifier",nje="ArrayExpression",rje="BinaryExpression",Voe="CallExpression",ije="ConditionalExpression",oje="LogicalExpression",sje="MemberExpression",aje="ObjectExpression",lje="UnaryExpression";function Os(e){this.type=e}Os.prototype.visit=function(e){let t,n,r;if(e(this))return 1;for(t=uje(this),n=0,r=t.length;n<r;++n)if(t[n].visit(e))return 1};function uje(e){switch(e.type){case nje:return e.elements;case rje:case oje:return[e.left,e.right];case Voe:return[e.callee].concat(e.arguments);case ije:return[e.test,e.consequent,e.alternate];case sje:return[e.object,e.property];case aje:return e.properties;case eje:return[e.key,e.value];case lje:return[e.argument];case tje:case Ed:case Z7e:default:return[]}}var Ba,ge,q,Er,dt,jE=1,ib=2,_d=3,jc=4,BE=5,th=6,si=7,ob=8,cje=9;Ba={};Ba[jE]="Boolean";Ba[ib]="<end>";Ba[_d]="Identifier";Ba[jc]="Keyword";Ba[BE]="Null";Ba[th]="Numeric";Ba[si]="Punctuator";Ba[ob]="String";Ba[cje]="RegularExpression";var fje="ArrayExpression",dje="BinaryExpression",hje="CallExpression",pje="ConditionalExpression",Woe="Identifier",gje="Literal",mje="LogicalExpression",yje="MemberExpression",vje="ObjectExpression",bje="Property",xje="UnaryExpression",Rn="Unexpected token %0",wje="Unexpected number",Sje="Unexpected string",kje="Unexpected identifier",Cje="Unexpected reserved word",Eje="Unexpected end of input",fM="Invalid regular expression",wT="Invalid regular expression: missing /",Hoe="Octal literals are not allowed in strict mode.",_je="Duplicate data property in object literal not allowed in strict mode",Jn="ILLEGAL",V1="Disabled.",$je=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B2\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]"),Aje=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0300-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u0483-\\u0487\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0610-\\u061A\\u0620-\\u0669\\u066E-\\u06D3\\u06D5-\\u06DC\\u06DF-\\u06E8\\u06EA-\\u06FC\\u06FF\\u0710-\\u074A\\u074D-\\u07B1\\u07C0-\\u07F5\\u07FA\\u0800-\\u082D\\u0840-\\u085B\\u08A0-\\u08B2\\u08E4-\\u0963\\u0966-\\u096F\\u0971-\\u0983\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BC-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CE\\u09D7\\u09DC\\u09DD\\u09DF-\\u09E3\\u09E6-\\u09F1\\u0A01-\\u0A03\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A75\\u0A81-\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABC-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AD0\\u0AE0-\\u0AE3\\u0AE6-\\u0AEF\\u0B01-\\u0B03\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3C-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B5C\\u0B5D\\u0B5F-\\u0B63\\u0B66-\\u0B6F\\u0B71\\u0B82\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD0\\u0BD7\\u0BE6-\\u0BEF\\u0C00-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C58\\u0C59\\u0C60-\\u0C63\\u0C66-\\u0C6F\\u0C81-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBC-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CDE\\u0CE0-\\u0CE3\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D01-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4E\\u0D57\\u0D60-\\u0D63\\u0D66-\\u0D6F\\u0D7A-\\u0D7F\\u0D82\\u0D83\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DE6-\\u0DEF\\u0DF2\\u0DF3\\u0E01-\\u0E3A\\u0E40-\\u0E4E\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB9\\u0EBB-\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F18\\u0F19\\u0F20-\\u0F29\\u0F35\\u0F37\\u0F39\\u0F3E-\\u0F47\\u0F49-\\u0F6C\\u0F71-\\u0F84\\u0F86-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u1000-\\u1049\\u1050-\\u109D\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u135D-\\u135F\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176C\\u176E-\\u1770\\u1772\\u1773\\u1780-\\u17D3\\u17D7\\u17DC\\u17DD\\u17E0-\\u17E9\\u180B-\\u180D\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19D9\\u1A00-\\u1A1B\\u1A20-\\u1A5E\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1AB0-\\u1ABD\\u1B00-\\u1B4B\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1BF3\\u1C00-\\u1C37\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1CD0-\\u1CD2\\u1CD4-\\u1CF6\\u1CF8\\u1CF9\\u1D00-\\u1DF5\\u1DFC-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u200C\\u200D\\u203F\\u2040\\u2054\\u2071\\u207F\\u2090-\\u209C\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D7F-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2DE0-\\u2DFF\\u2E2F\\u3005-\\u3007\\u3021-\\u302F\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u3099\\u309A\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66F\\uA674-\\uA67D\\uA67F-\\uA69D\\uA69F-\\uA6F1\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA827\\uA840-\\uA873\\uA880-\\uA8C4\\uA8D0-\\uA8D9\\uA8E0-\\uA8F7\\uA8FB\\uA900-\\uA92D\\uA930-\\uA953\\uA960-\\uA97C\\uA980-\\uA9C0\\uA9CF-\\uA9D9\\uA9E0-\\uA9FE\\uAA00-\\uAA36\\uAA40-\\uAA4D\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A-\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEF\\uAAF2-\\uAAF6\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABEA\\uABEC\\uABED\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE00-\\uFE0F\\uFE20-\\uFE2D\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF3F\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]");function UE(e,t){if(!e)throw new Error("ASSERT: "+t)}function sl(e){return e>=48&&e<=57}function sN(e){return"0123456789abcdefABCDEF".includes(e)}function Wy(e){return"01234567".includes(e)}function Tje(e){return e===32||e===9||e===11||e===12||e===160||e>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].includes(e)}function W1(e){return e===10||e===13||e===8232||e===8233}function sb(e){return e===36||e===95||e>=65&&e<=90||e>=97&&e<=122||e===92||e>=128&&$je.test(String.fromCharCode(e))}function yk(e){return e===36||e===95||e>=65&&e<=90||e>=97&&e<=122||e>=48&&e<=57||e===92||e>=128&&Aje.test(String.fromCharCode(e))}const Pje={if:1,in:1,do:1,var:1,for:1,new:1,try:1,let:1,this:1,else:1,case:1,void:1,with:1,enum:1,while:1,break:1,catch:1,throw:1,const:1,yield:1,class:1,super:1,return:1,typeof:1,delete:1,switch:1,export:1,import:1,public:1,static:1,default:1,finally:1,extends:1,package:1,private:1,function:1,continue:1,debugger:1,interface:1,protected:1,instanceof:1,implements:1};function qoe(){for(;q<Er;){const e=ge.charCodeAt(q);if(Tje(e)||W1(e))++q;else break}}function dM(e){var t,n,r,i=0;for(n=e==="u"?4:2,t=0;t<n;++t)q<Er&&sN(ge[q])?(r=ge[q++],i=i*16+"0123456789abcdef".indexOf(r.toLowerCase())):Qe({},Rn,Jn);return String.fromCharCode(i)}function Mje(){var e,t,n,r;for(e=ge[q],t=0,e==="}"&&Qe({},Rn,Jn);q<Er&&(e=ge[q++],!!sN(e));)t=t*16+"0123456789abcdef".indexOf(e.toLowerCase());return(t>1114111||e!=="}")&&Qe({},Rn,Jn),t<=65535?String.fromCharCode(t):(n=(t-65536>>10)+55296,r=(t-65536&1023)+56320,String.fromCharCode(n,r))}function Goe(){var e,t;for(e=ge.charCodeAt(q++),t=String.fromCharCode(e),e===92&&(ge.charCodeAt(q)!==117&&Qe({},Rn,Jn),++q,e=dM("u"),(!e||e==="\\"||!sb(e.charCodeAt(0)))&&Qe({},Rn,Jn),t=e);q<Er&&(e=ge.charCodeAt(q),!!yk(e));)++q,t+=String.fromCharCode(e),e===92&&(t=t.substr(0,t.length-1),ge.charCodeAt(q)!==117&&Qe({},Rn,Jn),++q,e=dM("u"),(!e||e==="\\"||!yk(e.charCodeAt(0)))&&Qe({},Rn,Jn),t+=e);return t}function Fje(){var e,t;for(e=q++;q<Er;){if(t=ge.charCodeAt(q),t===92)return q=e,Goe();if(yk(t))++q;else break}return ge.slice(e,q)}function Rje(){var e,t,n;return e=q,t=ge.charCodeAt(q)===92?Goe():Fje(),t.length===1?n=_d:Pje.hasOwnProperty(t)?n=jc:t==="null"?n=BE:t==="true"||t==="false"?n=jE:n=_d,{type:n,value:t,start:e,end:q}}function ST(){var e=q,t=ge.charCodeAt(q),n,r=ge[q],i,o,s;switch(t){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++q,{type:si,value:String.fromCharCode(t),start:e,end:q};default:if(n=ge.charCodeAt(q+1),n===61)switch(t){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return q+=2,{type:si,value:String.fromCharCode(t)+String.fromCharCode(n),start:e,end:q};case 33:case 61:return q+=2,ge.charCodeAt(q)===61&&++q,{type:si,value:ge.slice(e,q),start:e,end:q}}}if(s=ge.substr(q,4),s===">>>=")return q+=4,{type:si,value:s,start:e,end:q};if(o=s.substr(0,3),o===">>>"||o==="<<="||o===">>=")return q+=3,{type:si,value:o,start:e,end:q};if(i=o.substr(0,2),r===i[1]&&"+-<>&|".includes(r)||i==="=>")return q+=2,{type:si,value:i,start:e,end:q};if(i==="//"&&Qe({},Rn,Jn),"<>=!+-*%&|^/".includes(r))return++q,{type:si,value:r,start:e,end:q};Qe({},Rn,Jn)}function Oje(e){let t="";for(;q<Er&&sN(ge[q]);)t+=ge[q++];return t.length===0&&Qe({},Rn,Jn),sb(ge.charCodeAt(q))&&Qe({},Rn,Jn),{type:th,value:parseInt("0x"+t,16),start:e,end:q}}function Dje(e){let t="0"+ge[q++];for(;q<Er&&Wy(ge[q]);)t+=ge[q++];return(sb(ge.charCodeAt(q))||sl(ge.charCodeAt(q)))&&Qe({},Rn,Jn),{type:th,value:parseInt(t,8),octal:!0,start:e,end:q}}function TU(){var e,t,n;if(n=ge[q],UE(sl(n.charCodeAt(0))||n===".","Numeric literal must start with a decimal digit or a decimal point"),t=q,e="",n!=="."){if(e=ge[q++],n=ge[q],e==="0"){if(n==="x"||n==="X")return++q,Oje(t);if(Wy(n))return Dje(t);n&&sl(n.charCodeAt(0))&&Qe({},Rn,Jn)}for(;sl(ge.charCodeAt(q));)e+=ge[q++];n=ge[q]}if(n==="."){for(e+=ge[q++];sl(ge.charCodeAt(q));)e+=ge[q++];n=ge[q]}if(n==="e"||n==="E")if(e+=ge[q++],n=ge[q],(n==="+"||n==="-")&&(e+=ge[q++]),sl(ge.charCodeAt(q)))for(;sl(ge.charCodeAt(q));)e+=ge[q++];else Qe({},Rn,Jn);return sb(ge.charCodeAt(q))&&Qe({},Rn,Jn),{type:th,value:parseFloat(e),start:t,end:q}}function Nje(){var e="",t,n,r,i,o=!1;for(t=ge[q],UE(t==="'"||t==='"',"String literal must starts with a quote"),n=q,++q;q<Er;)if(r=ge[q++],r===t){t="";break}else if(r==="\\")if(r=ge[q++],!r||!W1(r.charCodeAt(0)))switch(r){case"u":case"x":ge[q]==="{"?(++q,e+=Mje()):e+=dM(r);break;case"n":e+=`
`;break;case"r":e+="\r";break;case"t":e+="	";break;case"b":e+="\b";break;case"f":e+="\f";break;case"v":e+="\v";break;default:Wy(r)?(i="01234567".indexOf(r),i!==0&&(o=!0),q<Er&&Wy(ge[q])&&(o=!0,i=i*8+"01234567".indexOf(ge[q++]),"0123".includes(r)&&q<Er&&Wy(ge[q])&&(i=i*8+"01234567".indexOf(ge[q++]))),e+=String.fromCharCode(i)):e+=r;break}else r==="\r"&&ge[q]===`
`&&++q;else{if(W1(r.charCodeAt(0)))break;e+=r}return t!==""&&Qe({},Rn,Jn),{type:ob,value:e,octal:o,start:n,end:q}}function Lje(e,t){let n=e;t.includes("u")&&(n=n.replace(/\\u\{([0-9a-fA-F]+)\}/g,(r,i)=>{if(parseInt(i,16)<=1114111)return"x";Qe({},fM)}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(n)}catch{Qe({},fM)}try{return new RegExp(e,t)}catch{return null}}function Ije(){var e,t,n,r,i;for(e=ge[q],UE(e==="/","Regular expression literal must start with a slash"),t=ge[q++],n=!1,r=!1;q<Er;)if(e=ge[q++],t+=e,e==="\\")e=ge[q++],W1(e.charCodeAt(0))&&Qe({},wT),t+=e;else if(W1(e.charCodeAt(0)))Qe({},wT);else if(n)e==="]"&&(n=!1);else if(e==="/"){r=!0;break}else e==="["&&(n=!0);return r||Qe({},wT),i=t.substr(1,t.length-2),{value:i,literal:t}}function zje(){var e,t,n;for(t="",n="";q<Er&&(e=ge[q],!!yk(e.charCodeAt(0)));)++q,e==="\\"&&q<Er?Qe({},Rn,Jn):(n+=e,t+=e);return n.search(/[^gimuy]/g)>=0&&Qe({},fM,n),{value:n,literal:t}}function jje(){var e,t,n,r;return dt=null,qoe(),e=q,t=Ije(),n=zje(),r=Lje(t.value,n.value),{literal:t.literal+n.literal,value:r,regex:{pattern:t.value,flags:n.value},start:e,end:q}}function Bje(e){return e.type===_d||e.type===jc||e.type===jE||e.type===BE}function Yoe(){if(qoe(),q>=Er)return{type:ib,start:q,end:q};const e=ge.charCodeAt(q);return sb(e)?Rje():e===40||e===41||e===59?ST():e===39||e===34?Nje():e===46?sl(ge.charCodeAt(q+1))?TU():ST():sl(e)?TU():ST()}function ci(){const e=dt;return q=e.end,dt=Yoe(),q=e.end,e}function Xoe(){const e=q;dt=Yoe(),q=e}function Uje(e){const t=new Os(fje);return t.elements=e,t}function PU(e,t,n){const r=new Os(e==="||"||e==="&&"?mje:dje);return r.operator=e,r.left=t,r.right=n,r}function Vje(e,t){const n=new Os(hje);return n.callee=e,n.arguments=t,n}function Wje(e,t,n){const r=new Os(pje);return r.test=e,r.consequent=t,r.alternate=n,r}function aN(e){const t=new Os(Woe);return t.name=e,t}function ay(e){const t=new Os(gje);return t.value=e.value,t.raw=ge.slice(e.start,e.end),e.regex&&(t.raw==="//"&&(t.raw="/(?:)/"),t.regex=e.regex),t}function MU(e,t,n){const r=new Os(yje);return r.computed=e==="[",r.object=t,r.property=n,r.computed||(n.member=!0),r}function Hje(e){const t=new Os(vje);return t.properties=e,t}function FU(e,t,n){const r=new Os(bje);return r.key=t,r.value=n,r.kind=e,r}function qje(e,t){const n=new Os(xje);return n.operator=e,n.argument=t,n.prefix=!0,n}function Qe(e,t){var n,r=Array.prototype.slice.call(arguments,2),i=t.replace(/%(\d)/g,(o,s)=>(UE(s<r.length,"Message reference must be in range"),r[s]));throw n=new Error(i),n.index=q,n.description=i,n}function VE(e){e.type===ib&&Qe(e,Eje),e.type===th&&Qe(e,wje),e.type===ob&&Qe(e,Sje),e.type===_d&&Qe(e,kje),e.type===jc&&Qe(e,Cje),Qe(e,Rn,e.value)}function _r(e){const t=ci();(t.type!==si||t.value!==e)&&VE(t)}function Mt(e){return dt.type===si&&dt.value===e}function kT(e){return dt.type===jc&&dt.value===e}function Gje(){const e=[];for(q=dt.start,_r("[");!Mt("]");)Mt(",")?(ci(),e.push(null)):(e.push($d()),Mt("]")||_r(","));return ci(),Uje(e)}function RU(){q=dt.start;const e=ci();return e.type===ob||e.type===th?(e.octal&&Qe(e,Hoe),ay(e)):aN(e.value)}function Yje(){var e,t,n,r;if(q=dt.start,e=dt,e.type===_d)return n=RU(),_r(":"),r=$d(),FU("init",n,r);if(e.type===ib||e.type===si)VE(e);else return t=RU(),_r(":"),r=$d(),FU("init",t,r)}function Xje(){var e=[],t,n,r,i={},o=String;for(q=dt.start,_r("{");!Mt("}");)t=Yje(),t.key.type===Woe?n=t.key.name:n=o(t.key.value),r="$"+n,Object.prototype.hasOwnProperty.call(i,r)?Qe({},_je):i[r]=!0,e.push(t),Mt("}")||_r(",");return _r("}"),Hje(e)}function Kje(){_r("(");const e=lN();return _r(")"),e}const Qje={if:1};function Jje(){var e,t,n;if(Mt("("))return Kje();if(Mt("["))return Gje();if(Mt("{"))return Xje();if(e=dt.type,q=dt.start,e===_d||Qje[dt.value])n=aN(ci().value);else if(e===ob||e===th)dt.octal&&Qe(dt,Hoe),n=ay(ci());else{if(e===jc)throw new Error(V1);e===jE?(t=ci(),t.value=t.value==="true",n=ay(t)):e===BE?(t=ci(),t.value=null,n=ay(t)):Mt("/")||Mt("/=")?(n=ay(jje()),Xoe()):VE(ci())}return n}function Zje(){const e=[];if(_r("("),!Mt(")"))for(;q<Er&&(e.push($d()),!Mt(")"));)_r(",");return _r(")"),e}function eBe(){q=dt.start;const e=ci();return Bje(e)||VE(e),aN(e.value)}function tBe(){return _r("."),eBe()}function nBe(){_r("[");const e=lN();return _r("]"),e}function rBe(){var e,t,n;for(e=Jje();;)if(Mt("."))n=tBe(),e=MU(".",e,n);else if(Mt("("))t=Zje(),e=Vje(e,t);else if(Mt("["))n=nBe(),e=MU("[",e,n);else break;return e}function OU(){const e=rBe();if(dt.type===si&&(Mt("++")||Mt("--")))throw new Error(V1);return e}function n2(){var e,t;if(dt.type!==si&&dt.type!==jc)t=OU();else{if(Mt("++")||Mt("--"))throw new Error(V1);if(Mt("+")||Mt("-")||Mt("~")||Mt("!"))e=ci(),t=n2(),t=qje(e.value,t);else{if(kT("delete")||kT("void")||kT("typeof"))throw new Error(V1);t=OU()}}return t}function DU(e){let t=0;if(e.type!==si&&e.type!==jc)return 0;switch(e.value){case"||":t=1;break;case"&&":t=2;break;case"|":t=3;break;case"^":t=4;break;case"&":t=5;break;case"==":case"!=":case"===":case"!==":t=6;break;case"<":case">":case"<=":case">=":case"instanceof":case"in":t=7;break;case"<<":case">>":case">>>":t=8;break;case"+":case"-":t=9;break;case"*":case"/":case"%":t=11;break}return t}function iBe(){var e,t,n,r,i,o,s,a,l,u;if(e=dt,l=n2(),r=dt,i=DU(r),i===0)return l;for(r.prec=i,ci(),t=[e,dt],s=n2(),o=[l,r,s];(i=DU(dt))>0;){for(;o.length>2&&i<=o[o.length-2].prec;)s=o.pop(),a=o.pop().value,l=o.pop(),t.pop(),n=PU(a,l,s),o.push(n);r=ci(),r.prec=i,o.push(r),t.push(dt),n=n2(),o.push(n)}for(u=o.length-1,n=o[u],t.pop();u>1;)t.pop(),n=PU(o[u-1].value,o[u-2],n),u-=2;return n}function $d(){var e,t,n;return e=iBe(),Mt("?")&&(ci(),t=$d(),_r(":"),n=$d(),e=Wje(e,t,n)),e}function lN(){const e=$d();if(Mt(","))throw new Error(V1);return e}function uN(e){ge=e,q=0,Er=ge.length,dt=null,Xoe();const t=lN();if(dt.type!==ib)throw new Error("Unexpect token after expression.");return t}var Koe={NaN:"NaN",E:"Math.E",LN2:"Math.LN2",LN10:"Math.LN10",LOG2E:"Math.LOG2E",LOG10E:"Math.LOG10E",PI:"Math.PI",SQRT1_2:"Math.SQRT1_2",SQRT2:"Math.SQRT2",MIN_VALUE:"Number.MIN_VALUE",MAX_VALUE:"Number.MAX_VALUE"};function Qoe(e){function t(s,a,l,u){let c=e(a[0]);return l&&(c=l+"("+c+")",l.lastIndexOf("new ",0)===0&&(c="("+c+")")),c+"."+s+(u<0?"":u===0?"()":"("+a.slice(1).map(e).join(",")+")")}function n(s,a,l){return u=>t(s,u,a,l)}const r="new Date",i="String",o="RegExp";return{isNaN:"Number.isNaN",isFinite:"Number.isFinite",abs:"Math.abs",acos:"Math.acos",asin:"Math.asin",atan:"Math.atan",atan2:"Math.atan2",ceil:"Math.ceil",cos:"Math.cos",exp:"Math.exp",floor:"Math.floor",hypot:"Math.hypot",log:"Math.log",max:"Math.max",min:"Math.min",pow:"Math.pow",random:"Math.random",round:"Math.round",sin:"Math.sin",sqrt:"Math.sqrt",tan:"Math.tan",clamp:function(s){s.length<3&&G("Missing arguments to clamp function."),s.length>3&&G("Too many arguments to clamp function.");const a=s.map(e);return"Math.max("+a[1]+", Math.min("+a[2]+","+a[0]+"))"},now:"Date.now",utc:"Date.UTC",datetime:r,date:n("getDate",r,0),day:n("getDay",r,0),year:n("getFullYear",r,0),month:n("getMonth",r,0),hours:n("getHours",r,0),minutes:n("getMinutes",r,0),seconds:n("getSeconds",r,0),milliseconds:n("getMilliseconds",r,0),time:n("getTime",r,0),timezoneoffset:n("getTimezoneOffset",r,0),utcdate:n("getUTCDate",r,0),utcday:n("getUTCDay",r,0),utcyear:n("getUTCFullYear",r,0),utcmonth:n("getUTCMonth",r,0),utchours:n("getUTCHours",r,0),utcminutes:n("getUTCMinutes",r,0),utcseconds:n("getUTCSeconds",r,0),utcmilliseconds:n("getUTCMilliseconds",r,0),length:n("length",null,-1),parseFloat:"parseFloat",parseInt:"parseInt",upper:n("toUpperCase",i,0),lower:n("toLowerCase",i,0),substring:n("substring",i),split:n("split",i),trim:n("trim",i,0),regexp:o,test:n("test",o),if:function(s){s.length<3&&G("Missing arguments to if function."),s.length>3&&G("Too many arguments to if function.");const a=s.map(e);return"("+a[0]+"?"+a[1]+":"+a[2]+")"}}}function oBe(e){const t=e&&e.length-1;return t&&(e[0]==='"'&&e[t]==='"'||e[0]==="'"&&e[t]==="'")?e.slice(1,-1):e}function Joe(e){e=e||{};const t=e.allowed?ks(e.allowed):{},n=e.forbidden?ks(e.forbidden):{},r=e.constants||Koe,i=(e.functions||Qoe)(f),o=e.globalvar,s=e.fieldvar,a=Ne(o)?o:p=>`${o}["${p}"]`;let l={},u={},c=0;function f(p){if(ue(p))return p;const g=d[p.type];return g==null&&G("Unsupported type: "+p.type),g(p)}const d={Literal:p=>p.raw,Identifier:p=>{const g=p.name;return c>0?g:fe(n,g)?G("Illegal identifier: "+g):fe(r,g)?r[g]:fe(t,g)?g:(l[g]=1,a(g))},MemberExpression:p=>{const g=!p.computed,m=f(p.object);g&&(c+=1);const y=f(p.property);return m===s&&(u[oBe(y)]=1),g&&(c-=1),m+(g?"."+y:"["+y+"]")},CallExpression:p=>{p.callee.type!=="Identifier"&&G("Illegal callee type: "+p.callee.type);const g=p.callee.name,m=p.arguments,y=fe(i,g)&&i[g];return y||G("Unrecognized function: "+g),Ne(y)?y(m):y+"("+m.map(f).join(",")+")"},ArrayExpression:p=>"["+p.elements.map(f).join(",")+"]",BinaryExpression:p=>"("+f(p.left)+" "+p.operator+" "+f(p.right)+")",UnaryExpression:p=>"("+p.operator+f(p.argument)+")",ConditionalExpression:p=>"("+f(p.test)+"?"+f(p.consequent)+":"+f(p.alternate)+")",LogicalExpression:p=>"("+f(p.left)+p.operator+f(p.right)+")",ObjectExpression:p=>"{"+p.properties.map(f).join(",")+"}",Property:p=>{c+=1;const g=f(p.key);return c-=1,g+":"+f(p.value)}};function h(p){const g={code:f(p),globals:Object.keys(l),fields:Object.keys(u)};return l={},u={},g}return h.functions=i,h.constants=r,h}const NU=Symbol("vega_selection_getter");function Zoe(e){return(!e.getter||!e.getter[NU])&&(e.getter=Do(e.field),e.getter[NU]=!0),e.getter}const cN="intersect",LU="union",sBe="vlMulti",aBe="vlPoint",IU="or",lBe="and",oa="_vgsid_",H1=Do(oa),uBe="E",cBe="R",fBe="R-E",dBe="R-LE",hBe="R-RE",vk="index:unit";function zU(e,t){for(var n=t.fields,r=t.values,i=n.length,o=0,s,a;o<i;++o)if(a=n[o],s=Zoe(a)(e),rc(s)&&(s=wr(s)),rc(r[o])&&(r[o]=wr(r[o])),Y(r[o])&&rc(r[o][0])&&(r[o]=r[o].map(wr)),a.type===uBe){if(Y(r[o])?r[o].indexOf(s)<0:s!==r[o])return!1}else if(a.type===cBe){if(!fp(s,r[o]))return!1}else if(a.type===hBe){if(!fp(s,r[o],!0,!1))return!1}else if(a.type===fBe){if(!fp(s,r[o],!1,!1))return!1}else if(a.type===dBe&&!fp(s,r[o],!1,!0))return!1;return!0}function pBe(e,t,n){for(var r=this.context.data[e],i=r?r.values.value:[],o=r?r[vk]&&r[vk].value:void 0,s=n===cN,a=i.length,l=0,u,c,f,d,h;l<a;++l)if(u=i[l],o&&s){if(c=c||{},f=c[d=u.unit]||0,f===-1)continue;if(h=zU(t,u),c[d]=h?-1:++f,h&&o.size===1)return!0;if(!h&&f===o.get(d).count)return!1}else if(h=zU(t,u),s^h)return h;return a&&s}const ese=dm(H1),gBe=ese.left,mBe=ese.right;function yBe(e,t,n){const r=this.context.data[e],i=r?r.values.value:[],o=r?r[vk]&&r[vk].value:void 0,s=n===cN,a=H1(t),l=gBe(i,a);if(l===i.length||H1(i[l])!==a)return!1;if(o&&s){if(o.size===1)return!0;if(mBe(i,a)-l<o.size)return!1}return!0}function vBe(e,t){return e.map(n=>De(t.fields?{values:t.fields.map(r=>Zoe(r)(n.datum))}:{[oa]:H1(n.datum)},t))}function bBe(e,t,n,r){for(var i=this.context.data[e],o=i?i.values.value:[],s={},a={},l={},u,c,f,d,h,p,g,m,y,v,b=o.length,x=0,w,k;x<b;++x)if(u=o[x],d=u.unit,c=u.fields,f=u.values,c&&f){for(w=0,k=c.length;w<k;++w)h=c[w],g=s[h.field]||(s[h.field]={}),m=g[d]||(g[d]=[]),l[h.field]=y=h.type.charAt(0),v=CT[`${y}_union`],g[d]=v(m,le(f[w]));n&&(m=a[d]||(a[d]=[]),m.push(le(f).reduce((S,C,E)=>(S[c[E].field]=C,S),{})))}else h=oa,p=H1(u),g=s[h]||(s[h]={}),m=g[d]||(g[d]=[]),m.push(p),n&&(m=a[d]||(a[d]=[]),m.push({[oa]:p}));if(t=t||LU,s[oa]?s[oa]=CT[`${oa}_${t}`](...Object.values(s[oa])):Object.keys(s).forEach(S=>{s[S]=Object.keys(s[S]).map(C=>s[S][C]).reduce((C,E)=>C===void 0?E:CT[`${l[S]}_${t}`](C,E))}),o=Object.keys(a),n&&o.length){const S=r?aBe:sBe;s[S]=t===LU?{[IU]:o.reduce((C,E)=>(C.push(...a[E]),C),[])}:{[lBe]:o.map(C=>({[IU]:a[C]}))}}return s}var CT={[`${oa}_union`]:xPe,[`${oa}_intersect`]:vPe,E_union:function(e,t){if(!e.length)return t;for(var n=0,r=t.length;n<r;++n)e.indexOf(t[n])<0&&e.push(t[n]);return e},E_intersect:function(e,t){return e.length?e.filter(n=>t.indexOf(n)>=0):t},R_union:function(e,t){var n=wr(t[0]),r=wr(t[1]);return n>r&&(n=t[1],r=t[0]),e.length?(e[0]>n&&(e[0]=n),e[1]<r&&(e[1]=r),e):[n,r]},R_intersect:function(e,t){var n=wr(t[0]),r=wr(t[1]);return n>r&&(n=t[1],r=t[0]),e.length?r<e[0]||e[1]<n?[]:(e[0]<n&&(e[0]=n),e[1]>r&&(e[1]=r),e):[n,r]}};const xBe=":",wBe="@";function fN(e,t,n,r){t[0].type!==Ed&&G("First argument to selection functions must be a string literal.");const i=t[0].value,o=t.length>=2&&qe(t).value,s="unit",a=wBe+s,l=xBe+i;o===cN&&!fe(r,a)&&(r[a]=n.getData(i).indataRef(n,s)),fe(r,l)||(r[l]=n.getData(i).tuplesRef())}function tse(e){const t=this.context.data[e];return t?t.values.value:[]}function SBe(e,t,n){const r=this.context.data[e]["index:"+t],i=r?r.value.get(n):void 0;return i&&i.count}function kBe(e,t){const n=this.context.dataflow,r=this.context.data[e],i=r.input;return n.pulse(i,n.changeset().remove(No).insert(t)),1}function CBe(e,t,n){if(e){const r=this.context.dataflow,i=e.mark.source;r.pulse(i,r.changeset().encode(e,t))}return n!==void 0?n:e}const ab=e=>function(t,n){const r=this.context.dataflow.locale();return t===null?"null":r[e](n)(t)},EBe=ab("format"),nse=ab("timeFormat"),_Be=ab("utcFormat"),$Be=ab("timeParse"),ABe=ab("utcParse"),zx=new Date(2e3,0,1);function WE(e,t,n){return!Number.isInteger(e)||!Number.isInteger(t)?"":(zx.setYear(2e3),zx.setMonth(e),zx.setDate(t),nse.call(this,zx,n))}function TBe(e){return WE.call(this,e,1,"%B")}function PBe(e){return WE.call(this,e,1,"%b")}function MBe(e){return WE.call(this,0,2+e,"%A")}function FBe(e){return WE.call(this,0,2+e,"%a")}const RBe=":",OBe="@",hM="%",rse="$";function dN(e,t,n,r){t[0].type!==Ed&&G("First argument to data functions must be a string literal.");const i=t[0].value,o=RBe+i;if(!fe(o,r))try{r[o]=n.getData(i).tuplesRef()}catch{}}function DBe(e,t,n,r){t[0].type!==Ed&&G("First argument to indata must be a string literal."),t[1].type!==Ed&&G("Second argument to indata must be a string literal.");const i=t[0].value,o=t[1].value,s=OBe+o;fe(s,r)||(r[s]=n.getData(i).indataRef(n,o))}function Kr(e,t,n,r){if(t[0].type===Ed)jU(n,r,t[0].value);else for(e in n.scales)jU(n,r,e)}function jU(e,t,n){const r=hM+n;if(!fe(t,r))try{t[r]=e.scaleRef(n)}catch{}}function Ua(e,t){if(Ne(e))return e;if(ue(e)){const n=t.scales[e];return n&&qOe(n.value)?n.value:void 0}}function NBe(e,t,n){t.__bandwidth=i=>i&&i.bandwidth?i.bandwidth():0,n._bandwidth=Kr,n._range=Kr,n._scale=Kr;const r=i=>"_["+(i.type===Ed?ne(hM+i.value):ne(hM)+"+"+e(i))+"]";return{_bandwidth:i=>`this.__bandwidth(${r(i[0])})`,_range:i=>`${r(i[0])}.range()`,_scale:i=>`${r(i[0])}(${e(i[1])})`}}function hN(e,t){return function(n,r,i){if(n){const o=Ua(n,(i||this).context);return o&&o.path[e](r)}else return t(r)}}const LBe=hN("area",aIe),IBe=hN("bounds",fIe),zBe=hN("centroid",yIe);function jBe(e,t){const n=Ua(e,(t||this).context);return n&&n.scale()}function BBe(e){const t=this.context.group;let n=!1;if(t)for(;e;){if(e===t){n=!0;break}e=e.mark.group}return n}function pN(e,t,n){try{e[t].apply(e,["EXPRESSION"].concat([].slice.call(n)))}catch(r){e.warn(r)}return n[n.length-1]}function UBe(){return pN(this.context.dataflow,"warn",arguments)}function VBe(){return pN(this.context.dataflow,"info",arguments)}function WBe(){return pN(this.context.dataflow,"debug",arguments)}function ET(e){const t=e/255;return t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)}function pM(e){const t=bc(e),n=ET(t.r),r=ET(t.g),i=ET(t.b);return .2126*n+.7152*r+.0722*i}function HBe(e,t){const n=pM(e),r=pM(t),i=Math.max(n,r),o=Math.min(n,r);return(i+.05)/(o+.05)}function qBe(){const e=[].slice.call(arguments);return e.unshift({}),De(...e)}function ise(e,t){return e===t||e!==e&&t!==t?!0:Y(e)?Y(t)&&e.length===t.length?GBe(e,t):!1:se(e)&&se(t)?ose(e,t):!1}function GBe(e,t){for(let n=0,r=e.length;n<r;++n)if(!ise(e[n],t[n]))return!1;return!0}function ose(e,t){for(const n in e)if(!ise(e[n],t[n]))return!1;return!0}function BU(e){return t=>ose(e,t)}function YBe(e,t,n,r,i,o){const s=this.context.dataflow,a=this.context.data[e],l=a.input,u=s.stamp();let c=a.changes,f,d;if(s._trigger===!1||!(l.value.length||t||r))return 0;if((!c||c.stamp<u)&&(a.changes=c=s.changeset(),c.stamp=u,s.runAfter(()=>{a.modified=!0,s.pulse(l,c).run()},!0,1)),n&&(f=n===!0?No:Y(n)||ZC(n)?n:BU(n),c.remove(f)),t&&c.insert(t),r&&(f=BU(r),l.value.some(f)?c.remove(f):c.insert(r)),i)for(d in o)c.modify(i,d,o[d]);return 1}function XBe(e){const t=e.touches,n=t[0].clientX-t[1].clientX,r=t[0].clientY-t[1].clientY;return Math.hypot(n,r)}function KBe(e){const t=e.touches;return Math.atan2(t[0].clientY-t[1].clientY,t[0].clientX-t[1].clientX)}const UU={};function QBe(e,t){const n=UU[t]||(UU[t]=Do(t));return Y(e)?e.map(n):n(e)}function gN(e){return Y(e)||ArrayBuffer.isView(e)?e:null}function mN(e){return gN(e)||(ue(e)?e:null)}function JBe(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return gN(e).join(...n)}function ZBe(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return mN(e).indexOf(...n)}function eUe(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return mN(e).lastIndexOf(...n)}function tUe(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return mN(e).slice(...n)}function nUe(e,t,n){return Ne(n)&&G("Function argument passed to replace."),String(e).replace(t,n)}function rUe(e){return gN(e).slice().reverse()}function iUe(e,t,n){return AD(e||0,t||0,n||0)}function oUe(e,t){const n=Ua(e,(t||this).context);return n&&n.bandwidth?n.bandwidth():0}function sUe(e,t){const n=Ua(e,(t||this).context);return n?n.copy():void 0}function aUe(e,t){const n=Ua(e,(t||this).context);return n?n.domain():[]}function lUe(e,t,n){const r=Ua(e,(n||this).context);return r?Y(t)?(r.invertRange||r.invert)(t):(r.invert||r.invertExtent)(t):void 0}function uUe(e,t){const n=Ua(e,(t||this).context);return n&&n.range?n.range():[]}function cUe(e,t,n){const r=Ua(e,(n||this).context);return r?r(t):void 0}function fUe(e,t,n,r,i){e=Ua(e,(i||this).context);const o=Xne(t,n);let s=e.domain(),a=s[0],l=qe(s),u=Ar;return l-a?u=Lne(e,a,l):e=(e.interpolator?et("sequential")().interpolator(e.interpolator()):et("linear")().interpolate(e.interpolate()).range(e.range())).domain([a=0,l=1]),e.ticks&&(s=e.ticks(+r||15),a!==s[0]&&s.unshift(a),l!==qe(s)&&s.push(l)),s.forEach(c=>o.stop(u(c),e(c))),o}function dUe(e,t,n){const r=Ua(e,(n||this).context);return function(i){return r?r.path.context(i)(t):""}}function hUe(e){let t=null;return function(n){return n?D1(n,t=t||Eg(e)):e}}const sse=e=>e.data;function ase(e,t){const n=tse.call(t,e);return n.root&&n.root.lookup||{}}function pUe(e,t,n){const r=ase(e,this),i=r[t],o=r[n];return i&&o?i.path(o).map(sse):void 0}function gUe(e,t){const n=ase(e,this)[t];return n?n.ancestors().map(sse):void 0}const lse=()=>typeof window<"u"&&window||null;function mUe(){const e=lse();return e?e.screen:{}}function yUe(){const e=lse();return e?[e.innerWidth,e.innerHeight]:[void 0,void 0]}function vUe(){const e=this.context.dataflow,t=e.container&&e.container();return t?[t.clientWidth,t.clientHeight]:[void 0,void 0]}function use(e,t,n){if(!e)return[];const[r,i]=e,o=new gn().set(r[0],r[1],i[0],i[1]),s=n||this.context.dataflow.scenegraph().root;return qre(s,o,bUe(t))}function bUe(e){let t=null;if(e){const n=le(e.marktype),r=le(e.markname);t=i=>(!n.length||n.some(o=>i.marktype===o))&&(!r.length||r.some(o=>i.name===o))}return t}function xUe(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:5;e=le(e);const i=e[e.length-1];return i===void 0||Math.hypot(i[0]-t,i[1]-n)>r?[...e,[t,n]]:e}function wUe(e){return le(e).reduce((t,n,r)=>{let[i,o]=n;return t+=r==0?`M ${i},${o} `:r===e.length-1?" Z":`L ${i},${o} `},"")}function SUe(e,t,n){const{x:r,y:i,mark:o}=n,s=new gn().set(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER,Number.MIN_SAFE_INTEGER,Number.MIN_SAFE_INTEGER);for(const[l,u]of t)l<s.x1&&(s.x1=l),l>s.x2&&(s.x2=l),u<s.y1&&(s.y1=u),u>s.y2&&(s.y2=u);return s.translate(r,i),use([[s.x1,s.y1],[s.x2,s.y2]],e,o).filter(l=>kUe(l.x,l.y,t))}function kUe(e,t,n){let r=0;for(let i=0,o=n.length-1;i<n.length;o=i++){const[s,a]=n[o],[l,u]=n[i];u>t!=a>t&&e<(s-l)*(t-u)/(a-u)+l&&r++}return r&1}const q1={random(){return Io()},cumulativeNormal:iE,cumulativeLogNormal:$O,cumulativeUniform:MO,densityNormal:SO,densityLogNormal:_O,densityUniform:PO,quantileNormal:oE,quantileLogNormal:AO,quantileUniform:FO,sampleNormal:rE,sampleLogNormal:EO,sampleUniform:TO,isArray:Y,isBoolean:Dc,isDate:rc,isDefined(e){return e!==void 0},isNumber:Je,isObject:se,isRegExp:fZ,isString:ue,isTuple:ZC,isValid(e){return e!=null&&e===e},toBoolean:tO,toDate(e){return nO(e)},toNumber:wr,toString:rO,indexof:ZBe,join:JBe,lastindexof:eUe,replace:nUe,reverse:rUe,slice:tUe,flush:uZ,lerp:dZ,merge:qBe,pad:gZ,peek:qe,pluck:QBe,span:Pv,inrange:fp,truncate:mZ,rgb:bc,lab:kS,hcl:CS,hsl:wS,luminance:pM,contrast:HBe,sequence:Bi,format:EBe,utcFormat:_Be,utcParse:ABe,utcOffset:YZ,utcSequence:QZ,timeFormat:nse,timeParse:$Be,timeOffset:GZ,timeSequence:KZ,timeUnitSpecifier:NZ,monthFormat:TBe,monthAbbrevFormat:PBe,dayFormat:MBe,dayAbbrevFormat:FBe,quarter:oZ,utcquarter:sZ,week:IZ,utcweek:BZ,dayofyear:LZ,utcdayofyear:jZ,warn:UBe,info:VBe,debug:WBe,extent(e){return Aa(e)},inScope:BBe,intersect:use,clampRange:aZ,pinchDistance:XBe,pinchAngle:KBe,screen:mUe,containerSize:vUe,windowSize:yUe,bandspace:iUe,setdata:kBe,pathShape:hUe,panLinear:tZ,panLog:nZ,panPow:rZ,panSymlog:iZ,zoomLinear:XR,zoomLog:KR,zoomPow:lS,zoomSymlog:QR,encode:CBe,modify:YBe,lassoAppend:xUe,lassoPath:wUe,intersectLasso:SUe},CUe=["view","item","group","xy","x","y"],EUe="event.vega.",cse="this.",yN={},fse={forbidden:["_"],allowed:["datum","event","item"],fieldvar:"datum",globalvar:e=>`_[${ne(rse+e)}]`,functions:_Ue,constants:Koe,visitors:yN},gM=Joe(fse);function _Ue(e){const t=Qoe(e);CUe.forEach(n=>t[n]=EUe+n);for(const n in q1)t[n]=cse+n;return De(t,NBe(e,q1,yN)),t}function un(e,t,n){return arguments.length===1?q1[e]:(q1[e]=t,n&&(yN[e]=n),gM&&(gM.functions[e]=cse+e),this)}un("bandwidth",oUe,Kr);un("copy",sUe,Kr);un("domain",aUe,Kr);un("range",uUe,Kr);un("invert",lUe,Kr);un("scale",cUe,Kr);un("gradient",fUe,Kr);un("geoArea",LBe,Kr);un("geoBounds",IBe,Kr);un("geoCentroid",zBe,Kr);un("geoShape",dUe,Kr);un("geoScale",jBe,Kr);un("indata",SBe,DBe);un("data",tse,dN);un("treePath",pUe,dN);un("treeAncestors",gUe,dN);un("vlSelectionTest",pBe,fN);un("vlSelectionIdTest",yBe,fN);un("vlSelectionResolve",bBe,fN);un("vlSelectionTuples",vBe);function Ma(e,t){const n={};let r;try{e=ue(e)?e:ne(e)+"",r=uN(e)}catch{G("Expression parse error: "+e)}r.visit(o=>{if(o.type!==Voe)return;const s=o.callee.name,a=fse.visitors[s];a&&a(s,o.arguments,t,n)});const i=gM(r);return i.globals.forEach(o=>{const s=rse+o;!fe(n,s)&&t.getSignal(o)&&(n[s]=t.signalRef(o))}),{$expr:De({code:i.code},t.options.ast?{ast:r}:null),$fields:i.fields,$params:n}}function $Ue(e){const t=this,n=e.operators||[];return e.background&&(t.background=e.background),e.eventConfig&&(t.eventConfig=e.eventConfig),e.locale&&(t.locale=e.locale),n.forEach(r=>t.parseOperator(r)),n.forEach(r=>t.parseOperatorParameters(r)),(e.streams||[]).forEach(r=>t.parseStream(r)),(e.updates||[]).forEach(r=>t.parseUpdate(r)),t.resolve()}const AUe=ks(["rule"]),VU=ks(["group","image","rect"]);function TUe(e,t){let n="";return AUe[t]||(e.x2&&(e.x?(VU[t]&&(n+="if(o.x>o.x2)$=o.x,o.x=o.x2,o.x2=$;"),n+="o.width=o.x2-o.x;"):n+="o.x=o.x2-(o.width||0);"),e.xc&&(n+="o.x=o.xc-(o.width||0)/2;"),e.y2&&(e.y?(VU[t]&&(n+="if(o.y>o.y2)$=o.y,o.y=o.y2,o.y2=$;"),n+="o.height=o.y2-o.y;"):n+="o.y=o.y2-(o.height||0);"),e.yc&&(n+="o.y=o.yc-(o.height||0)/2;")),n}function vN(e){return(e+"").toLowerCase()}function PUe(e){return vN(e)==="operator"}function MUe(e){return vN(e)==="collect"}function d0(e,t,n){n.endsWith(";")||(n="return("+n+");");const r=Function(...t.concat(n));return e&&e.functions?r.bind(e.functions):r}function FUe(e,t,n,r){return`((u = ${e}) < (v = ${t}) || u == null) && v != null ? ${n}
  : (u > v || v == null) && u != null ? ${r}
  : ((v = v instanceof Date ? +v : v), (u = u instanceof Date ? +u : u)) !== u && v === v ? ${n}
  : v !== v && u === u ? ${r} : `}var RUe={operator:(e,t)=>d0(e,["_"],t.code),parameter:(e,t)=>d0(e,["datum","_"],t.code),event:(e,t)=>d0(e,["event"],t.code),handler:(e,t)=>{const n=`var datum=event.item&&event.item.datum;return ${t.code};`;return d0(e,["_","event"],n)},encode:(e,t)=>{const{marktype:n,channels:r}=t;let i="var o=item,datum=o.datum,m=0,$;";for(const o in r){const s="o["+ne(o)+"]";i+=`$=${r[o].code};if(${s}!==$)${s}=$,m=1;`}return i+=TUe(r,n),i+="return m;",d0(e,["item","_"],i)},codegen:{get(e){const t=`[${e.map(ne).join("][")}]`,n=Function("_",`return _${t};`);return n.path=t,n},comparator(e,t){let n;const r=(o,s)=>{const a=t[s];let l,u;return o.path?(l=`a${o.path}`,u=`b${o.path}`):((n=n||{})["f"+s]=o,l=`this.f${s}(a)`,u=`this.f${s}(b)`),FUe(l,u,-a,a)},i=Function("a","b","var u, v; return "+e.map(r).join("")+"0;");return n?i.bind(n):i}}};function OUe(e){const t=this;PUe(e.type)||!e.type?t.operator(e,e.update?t.operatorExpression(e.update):null):t.transform(e,e.type)}function DUe(e){const t=this;if(e.params){const n=t.get(e.id);n||G("Invalid operator id: "+e.id),t.dataflow.connect(n,n.parameters(t.parseParameters(e.params),e.react,e.initonly))}}function NUe(e,t){t=t||{};const n=this;for(const r in e){const i=e[r];t[r]=Y(i)?i.map(o=>WU(o,n,t)):WU(i,n,t)}return t}function WU(e,t,n){if(!e||!se(e))return e;for(let r=0,i=HU.length,o;r<i;++r)if(o=HU[r],fe(e,o.key))return o.parse(e,t,n);return e}var HU=[{key:"$ref",parse:LUe},{key:"$key",parse:zUe},{key:"$expr",parse:IUe},{key:"$field",parse:jUe},{key:"$encode",parse:UUe},{key:"$compare",parse:BUe},{key:"$context",parse:VUe},{key:"$subflow",parse:WUe},{key:"$tupleid",parse:HUe}];function LUe(e,t){return t.get(e.$ref)||G("Operator not defined: "+e.$ref)}function IUe(e,t,n){e.$params&&t.parseParameters(e.$params,n);const r="e:"+e.$expr.code;return t.fn[r]||(t.fn[r]=$i(t.parameterExpression(e.$expr),e.$fields))}function zUe(e,t){const n="k:"+e.$key+"_"+!!e.$flat;return t.fn[n]||(t.fn[n]=eO(e.$key,e.$flat,t.expr.codegen))}function jUe(e,t){if(!e.$field)return null;const n="f:"+e.$field+"_"+e.$name;return t.fn[n]||(t.fn[n]=Do(e.$field,e.$name,t.expr.codegen))}function BUe(e,t){const n="c:"+e.$compare+"_"+e.$order,r=le(e.$compare).map(i=>i&&i.$tupleid?be:i);return t.fn[n]||(t.fn[n]=JR(r,e.$order,t.expr.codegen))}function UUe(e,t){const n=e.$encode,r={};for(const i in n){const o=n[i];r[i]=$i(t.encodeExpression(o.$expr),o.$fields),r[i].output=o.$output}return r}function VUe(e,t){return t}function WUe(e,t){const n=e.$subflow;return function(r,i,o){const s=t.fork().parse(n),a=s.get(n.operators[0].id),l=s.signals.parent;return l&&l.set(o),a.detachSubflow=()=>t.detach(s),a}}function HUe(){return be}function qUe(e){var t=this,n=e.filter!=null?t.eventExpression(e.filter):void 0,r=e.stream!=null?t.get(e.stream):void 0,i;e.source?r=t.events(e.source,e.type,n):e.merge&&(i=e.merge.map(o=>t.get(o)),r=i[0].merge.apply(i[0],i.slice(1))),e.between&&(i=e.between.map(o=>t.get(o)),r=r.between(i[0],i[1])),e.filter&&(r=r.filter(n)),e.throttle!=null&&(r=r.throttle(+e.throttle)),e.debounce!=null&&(r=r.debounce(+e.debounce)),r==null&&G("Invalid stream definition: "+JSON.stringify(e)),e.consume&&r.consume(!0),t.stream(e,r)}function GUe(e){var t=this,n=se(n=e.source)?n.$ref:n,r=t.get(n),i=null,o=e.update,s=void 0;r||G("Source not defined: "+e.source),i=e.target&&e.target.$expr?t.eventExpression(e.target.$expr):t.get(e.target),o&&o.$expr&&(o.$params&&(s=t.parseParameters(o.$params)),o=t.handlerExpression(o.$expr)),t.update(e,r,i,o,s)}const YUe={skip:!0};function XUe(e){var t=this,n={};if(e.signals){var r=n.signals={};Object.keys(t.signals).forEach(o=>{const s=t.signals[o];e.signals(o,s)&&(r[o]=s.value)})}if(e.data){var i=n.data={};Object.keys(t.data).forEach(o=>{const s=t.data[o];e.data(o,s)&&(i[o]=s.input.value)})}return t.subcontext&&e.recurse!==!1&&(n.subcontext=t.subcontext.map(o=>o.getState(e))),n}function KUe(e){var t=this,n=t.dataflow,r=e.data,i=e.signals;Object.keys(i||{}).forEach(o=>{n.update(t.signals[o],i[o],YUe)}),Object.keys(r||{}).forEach(o=>{n.pulse(t.data[o].input,n.changeset().remove(No).insert(r[o]))}),(e.subcontext||[]).forEach((o,s)=>{const a=t.subcontext[s];a&&a.setState(o)})}function dse(e,t,n,r){return new hse(e,t,n,r)}function hse(e,t,n,r){this.dataflow=e,this.transforms=t,this.events=e.events.bind(e),this.expr=r||RUe,this.signals={},this.scales={},this.nodes={},this.data={},this.fn={},n&&(this.functions=Object.create(n),this.functions.context=this)}function qU(e){this.dataflow=e.dataflow,this.transforms=e.transforms,this.events=e.events,this.expr=e.expr,this.signals=Object.create(e.signals),this.scales=Object.create(e.scales),this.nodes=Object.create(e.nodes),this.data=Object.create(e.data),this.fn=Object.create(e.fn),e.functions&&(this.functions=Object.create(e.functions),this.functions.context=this)}hse.prototype=qU.prototype={fork(){const e=new qU(this);return(this.subcontext||(this.subcontext=[])).push(e),e},detach(e){this.subcontext=this.subcontext.filter(n=>n!==e);const t=Object.keys(e.nodes);for(const n of t)e.nodes[n]._targets=null;for(const n of t)e.nodes[n].detach();e.nodes=null},get(e){return this.nodes[e]},set(e,t){return this.nodes[e]=t},add(e,t){const n=this,r=n.dataflow,i=e.value;if(n.set(e.id,t),MUe(e.type)&&i&&(i.$ingest?r.ingest(t,i.$ingest,i.$format):i.$request?r.preload(t,i.$request,i.$format):r.pulse(t,r.changeset().insert(i))),e.root&&(n.root=t),e.parent){let o=n.get(e.parent.$ref);o?(r.connect(o,[t]),t.targets().add(o)):(n.unresolved=n.unresolved||[]).push(()=>{o=n.get(e.parent.$ref),r.connect(o,[t]),t.targets().add(o)})}if(e.signal&&(n.signals[e.signal]=t),e.scale&&(n.scales[e.scale]=t),e.data)for(const o in e.data){const s=n.data[o]||(n.data[o]={});e.data[o].forEach(a=>s[a]=t)}},resolve(){return(this.unresolved||[]).forEach(e=>e()),delete this.unresolved,this},operator(e,t){this.add(e,this.dataflow.add(e.value,t))},transform(e,t){this.add(e,this.dataflow.add(this.transforms[vN(t)]))},stream(e,t){this.set(e.id,t)},update(e,t,n,r,i){this.dataflow.on(t,n,r,i,e.options)},operatorExpression(e){return this.expr.operator(this,e)},parameterExpression(e){return this.expr.parameter(this,e)},eventExpression(e){return this.expr.event(this,e)},handlerExpression(e){return this.expr.handler(this,e)},encodeExpression(e){return this.expr.encode(this,e)},parse:$Ue,parseOperator:OUe,parseOperatorParameters:DUe,parseParameters:NUe,parseStream:qUe,parseUpdate:GUe,getState:XUe,setState:KUe};function QUe(e){const t=e.container();t&&(t.setAttribute("role","graphics-document"),t.setAttribute("aria-roleDescription","visualization"),pse(t,e.description()))}function pse(e,t){e&&(t==null?e.removeAttribute("aria-label"):e.setAttribute("aria-label",t))}function JUe(e){e.add(null,t=>(e._background=t.bg,e._resize=1,t.bg),{bg:e._signals.background})}const _T="default";function ZUe(e){const t=e._signals.cursor||(e._signals.cursor=e.add({user:_T,item:null}));e.on(e.events("view","pointermove"),t,(n,r)=>{const i=t.value,o=i?ue(i)?i:i.user:_T,s=r.item&&r.item.cursor||null;return i&&o===i.user&&s==i.item?i:{user:o,item:s}}),e.add(null,function(n){let r=n.cursor,i=this.value;return ue(r)||(i=r.item,r=r.user),mM(e,r&&r!==_T?r:i||r),i},{cursor:t})}function mM(e,t){const n=e.globalCursor()?typeof document<"u"&&document.body:e.container();if(n)return t==null?n.style.removeProperty("cursor"):n.style.cursor=t}function bk(e,t){var n=e._runtime.data;return fe(n,t)||G("Unrecognized data set: "+t),n[t]}function eVe(e,t){return arguments.length<2?bk(this,e).values.value:HE.call(this,e,Jd().remove(No).insert(t))}function HE(e,t){Cee(t)||G("Second argument to changes must be a changeset.");const n=bk(this,e);return n.modified=!0,this.pulse(n.input,t)}function tVe(e,t){return HE.call(this,e,Jd().insert(t))}function nVe(e,t){return HE.call(this,e,Jd().remove(t))}function gse(e){var t=e.padding();return Math.max(0,e._viewWidth+t.left+t.right)}function mse(e){var t=e.padding();return Math.max(0,e._viewHeight+t.top+t.bottom)}function qE(e){var t=e.padding(),n=e._origin;return[t.left+n[0],t.top+n[1]]}function rVe(e){var t=qE(e),n=gse(e),r=mse(e);e._renderer.background(e.background()),e._renderer.resize(n,r,t),e._handler.origin(t),e._resizeListeners.forEach(i=>{try{i(n,r)}catch(o){e.error(o)}})}function iVe(e,t,n){var r=e._renderer,i=r&&r.canvas(),o,s,a;return i&&(a=qE(e),s=t.changedTouches?t.changedTouches[0]:t,o=FE(s,i),o[0]-=a[0],o[1]-=a[1]),t.dataflow=e,t.item=n,t.vega=oVe(e,n,o),t}function oVe(e,t,n){const r=t?t.mark.marktype==="group"?t:t.mark.group:null;function i(s){var a=r,l;if(s){for(l=t;l;l=l.mark.group)if(l.mark.name===s){a=l;break}}return a&&a.mark&&a.mark.interactive?a:{}}function o(s){if(!s)return n;ue(s)&&(s=i(s));const a=n.slice();for(;s;)a[0]-=s.x||0,a[1]-=s.y||0,s=s.mark&&s.mark.group;return a}return{view:Tr(e),item:Tr(t||{}),group:i,xy:o,x:s=>o(s)[0],y:s=>o(s)[1]}}const GU="view",sVe="timer",aVe="window",lVe={trap:!1};function uVe(e){const t=De({defaults:{}},e),n=(r,i)=>{i.forEach(o=>{Y(r[o])&&(r[o]=ks(r[o]))})};return n(t.defaults,["prevent","allow"]),n(t,["view","window","selector"]),t}function yse(e,t,n,r){e._eventListeners.push({type:n,sources:le(t),handler:r})}function cVe(e,t){var n=e._eventConfig.defaults,r=n.prevent,i=n.allow;return r===!1||i===!0?!1:r===!0||i===!1?!0:r?r[t]:i?!i[t]:e.preventDefault()}function jx(e,t,n){const r=e._eventConfig&&e._eventConfig[t];return r===!1||se(r)&&!r[n]?(e.warn(`Blocked ${t} ${n} event listener.`),!1):!0}function fVe(e,t,n){var r=this,i=new nE(n),o=function(u,c){r.runAsync(null,()=>{e===GU&&cVe(r,t)&&u.preventDefault(),i.receive(iVe(r,u,c))})},s;if(e===sVe)jx(r,"timer",t)&&r.timer(o,t);else if(e===GU)jx(r,"view",t)&&r.addEventListener(t,o,lVe);else if(e===aVe?jx(r,"window",t)&&typeof window<"u"&&(s=[window]):typeof document<"u"&&jx(r,"selector",t)&&(s=Array.from(document.querySelectorAll(e))),!s)r.warn("Can not resolve event source: "+e);else{for(var a=0,l=s.length;a<l;++a)s[a].addEventListener(t,o);yse(r,s,t,o)}return i}function YU(e){return e.item}function XU(e){return e.item.mark.source}function KU(e){return function(t,n){return n.vega.view().changeset().encode(n.item,e)}}function dVe(e,t){return e=[e||"hover"],t=[t||"update",e[0]],this.on(this.events("view","pointerover",YU),XU,KU(e)),this.on(this.events("view","pointerout",YU),XU,KU(t)),this}function hVe(){var e=this._tooltip,t=this._timers,n=this._handler.handlers(),r=this._eventListeners,i,o,s,a,l;for(i=t.length;--i>=0;)t[i].stop();for(i=r.length;--i>=0;)for(s=r[i],o=s.sources.length;--o>=0;)s.sources[o].removeEventListener(s.type,s.handler);for(e&&e.call(this,this._handler,null,null,null),i=n.length;--i>=0;)l=n[i].type,a=n[i].handler,this._handler.off(l,a);return this}function Yi(e,t,n){const r=document.createElement(e);for(const i in t)r.setAttribute(i,t[i]);return n!=null&&(r.textContent=n),r}const pVe="vega-bind",gVe="vega-bind-name",mVe="vega-bind-radio";function yVe(e,t,n){if(!t)return;const r=n.param;let i=n.state;return i||(i=n.state={elements:null,active:!1,set:null,update:s=>{s!=e.signal(r.signal)&&e.runAsync(null,()=>{i.source=!0,e.signal(r.signal,s)})}},r.debounce&&(i.update=ZR(r.debounce,i.update))),(r.input==null&&r.element?vVe:xVe)(i,t,r,e),i.active||(e.on(e._signals[r.signal],null,()=>{i.source?i.source=!1:i.set(e.signal(r.signal))}),i.active=!0),i}function vVe(e,t,n,r){const i=n.event||"input",o=()=>e.update(t.value);r.signal(n.signal,t.value),t.addEventListener(i,o),yse(r,t,i,o),e.set=s=>{t.value=s,t.dispatchEvent(bVe(i))}}function bVe(e){return typeof Event<"u"?new Event(e):{type:e}}function xVe(e,t,n,r){const i=r.signal(n.signal),o=Yi("div",{class:pVe}),s=n.input==="radio"?o:o.appendChild(Yi("label"));s.appendChild(Yi("span",{class:gVe},n.name||n.signal)),t.appendChild(o);let a=wVe;switch(n.input){case"checkbox":a=SVe;break;case"select":a=kVe;break;case"radio":a=CVe;break;case"range":a=EVe;break}a(e,s,n,i)}function wVe(e,t,n,r){const i=Yi("input");for(const o in n)o!=="signal"&&o!=="element"&&i.setAttribute(o==="input"?"type":o,n[o]);i.setAttribute("name",n.signal),i.value=r,t.appendChild(i),i.addEventListener("input",()=>e.update(i.value)),e.elements=[i],e.set=o=>i.value=o}function SVe(e,t,n,r){const i={type:"checkbox",name:n.signal};r&&(i.checked=!0);const o=Yi("input",i);t.appendChild(o),o.addEventListener("change",()=>e.update(o.checked)),e.elements=[o],e.set=s=>o.checked=!!s||null}function kVe(e,t,n,r){const i=Yi("select",{name:n.signal}),o=n.labels||[];n.options.forEach((s,a)=>{const l={value:s};xk(s,r)&&(l.selected=!0),i.appendChild(Yi("option",l,(o[a]||s)+""))}),t.appendChild(i),i.addEventListener("change",()=>{e.update(n.options[i.selectedIndex])}),e.elements=[i],e.set=s=>{for(let a=0,l=n.options.length;a<l;++a)if(xk(n.options[a],s)){i.selectedIndex=a;return}}}function CVe(e,t,n,r){const i=Yi("span",{class:mVe}),o=n.labels||[];t.appendChild(i),e.elements=n.options.map((s,a)=>{const l={type:"radio",name:n.signal,value:s};xk(s,r)&&(l.checked=!0);const u=Yi("input",l);u.addEventListener("change",()=>e.update(s));const c=Yi("label",{},(o[a]||s)+"");return c.prepend(u),i.appendChild(c),u}),e.set=s=>{const a=e.elements,l=a.length;for(let u=0;u<l;++u)xk(a[u].value,s)&&(a[u].checked=!0)}}function EVe(e,t,n,r){r=r!==void 0?r:(+n.max+ +n.min)/2;const i=n.max!=null?n.max:Math.max(100,+r)||100,o=n.min||Math.min(0,i,+r)||0,s=n.step||mc(o,i,100),a=Yi("input",{type:"range",name:n.signal,min:o,max:i,step:s});a.value=r;const l=Yi("span",{},+r);t.appendChild(a),t.appendChild(l);const u=()=>{l.textContent=a.value,e.update(+a.value)};a.addEventListener("input",u),a.addEventListener("change",u),e.elements=[a],e.set=c=>{a.value=c,l.textContent=c}}function xk(e,t){return e===t||e+""==t+""}function vse(e,t,n,r,i,o){return t=t||new r(e.loader()),t.initialize(n,gse(e),mse(e),qE(e),i,o).background(e.background())}function bN(e,t){return t?function(){try{t.apply(this,arguments)}catch(n){e.error(n)}}:null}function _Ve(e,t,n,r){const i=new r(e.loader(),bN(e,e.tooltip())).scene(e.scenegraph().root).initialize(n,qE(e),e);return t&&t.handlers().forEach(o=>{i.on(o.type,o.handler)}),i}function $Ve(e,t){const n=this,r=n._renderType,i=n._eventConfig.bind,o=RE(r);e=n._el=e?$T(n,e,!0):null,QUe(n),o||n.error("Unrecognized renderer type: "+r);const s=o.handler||Zv,a=e?o.renderer:o.headless;return n._renderer=a?vse(n,n._renderer,e,a):null,n._handler=_Ve(n,n._handler,e,s),n._redraw=!0,e&&i!=="none"&&(t=t?n._elBind=$T(n,t,!0):e.appendChild(Yi("form",{class:"vega-bindings"})),n._bind.forEach(l=>{l.param.element&&i!=="container"&&(l.element=$T(n,l.param.element,!!l.param.input))}),n._bind.forEach(l=>{yVe(n,l.element||t,l)})),n}function $T(e,t,n){if(typeof t=="string")if(typeof document<"u"){if(t=document.querySelector(t),!t)return e.error("Signal bind element not found: "+t),null}else return e.error("DOM document instance not found."),null;if(t&&n)try{t.textContent=""}catch(r){t=null,e.error(r)}return t}const h0=e=>+e||0,AVe=e=>({top:e,bottom:e,left:e,right:e});function QU(e){return se(e)?{top:h0(e.top),bottom:h0(e.bottom),left:h0(e.left),right:h0(e.right)}:AVe(h0(e))}async function xN(e,t,n,r){const i=RE(t),o=i&&i.headless;return o||G("Unrecognized renderer type: "+t),await e.runAsync(),vse(e,null,null,o,n,r).renderAsync(e._scenegraph.root)}async function TVe(e,t){e!==ju.Canvas&&e!==ju.SVG&&e!==ju.PNG&&G("Unrecognized image type: "+e);const n=await xN(this,e,t);return e===ju.SVG?PVe(n.svg(),"image/svg+xml"):n.canvas().toDataURL("image/png")}function PVe(e,t){const n=new Blob([e],{type:t});return window.URL.createObjectURL(n)}async function MVe(e,t){return(await xN(this,ju.Canvas,e,t)).canvas()}async function FVe(e){return(await xN(this,ju.SVG,e)).svg()}function RVe(e,t,n){return dse(e,bg,q1,n).parse(t)}function OVe(e){var t=this._runtime.scales;return fe(t,e)||G("Unrecognized scale or projection: "+e),t[e].value}var bse="width",xse="height",wN="padding",JU={skip:!0};function wse(e,t){var n=e.autosize(),r=e.padding();return t-(n&&n.contains===wN?r.left+r.right:0)}function Sse(e,t){var n=e.autosize(),r=e.padding();return t-(n&&n.contains===wN?r.top+r.bottom:0)}function DVe(e){var t=e._signals,n=t[bse],r=t[xse],i=t[wN];function o(){e._autosize=e._resize=1}e._resizeWidth=e.add(null,a=>{e._width=a.size,e._viewWidth=wse(e,a.size),o()},{size:n}),e._resizeHeight=e.add(null,a=>{e._height=a.size,e._viewHeight=Sse(e,a.size),o()},{size:r});const s=e.add(null,o,{pad:i});e._resizeWidth.rank=n.rank+1,e._resizeHeight.rank=r.rank+1,s.rank=i.rank+1}function NVe(e,t,n,r,i,o){this.runAfter(s=>{let a=0;s._autosize=0,s.width()!==n&&(a=1,s.signal(bse,n,JU),s._resizeWidth.skip(!0)),s.height()!==r&&(a=1,s.signal(xse,r,JU),s._resizeHeight.skip(!0)),s._viewWidth!==e&&(s._resize=1,s._viewWidth=e),s._viewHeight!==t&&(s._resize=1,s._viewHeight=t),(s._origin[0]!==i[0]||s._origin[1]!==i[1])&&(s._resize=1,s._origin=i),a&&s.run("enter"),o&&s.runAfter(l=>l.resize())},!1,1)}function LVe(e){return this._runtime.getState(e||{data:IVe,signals:zVe,recurse:!0})}function IVe(e,t){return t.modified&&Y(t.input.value)&&!e.startsWith("_:vega:_")}function zVe(e,t){return!(e==="parent"||t instanceof bg.proxy)}function jVe(e){return this.runAsync(null,t=>{t._trigger=!1,t._runtime.setState(e)},t=>{t._trigger=!0}),this}function BVe(e,t){function n(r){e({timestamp:Date.now(),elapsed:r})}this._timers.push(v9e(n,t))}function UVe(e,t,n,r){const i=e.element();i&&i.setAttribute("title",VVe(r))}function VVe(e){return e==null?"":Y(e)?kse(e):se(e)&&!rc(e)?WVe(e):e+""}function WVe(e){return Object.keys(e).map(t=>{const n=e[t];return t+": "+(Y(n)?kse(n):Cse(n))}).join(`
`)}function kse(e){return"["+e.map(Cse).join(", ")+"]"}function Cse(e){return Y(e)?"[]":se(e)&&!rc(e)?"{}":e}function HVe(){if(this.renderer()==="canvas"&&this._renderer._canvas){let e=null;const t=()=>{e!=null&&e();const n=matchMedia(`(resolution: ${window.devicePixelRatio}dppx)`);n.addEventListener("change",t),e=()=>{n.removeEventListener("change",t)},this._renderer._canvas.getContext("2d").pixelRatio=window.devicePixelRatio||1,this._redraw=!0,this._resize=1,this.resize().runAsync()};t()}}function Ese(e,t){const n=this;if(t=t||{},Ap.call(n),t.loader&&n.loader(t.loader),t.logger&&n.logger(t.logger),t.logLevel!=null&&n.logLevel(t.logLevel),t.locale||e.locale){const o=De({},e.locale,t.locale);n.locale(pee(o.number,o.time))}n._el=null,n._elBind=null,n._renderType=t.renderer||ju.Canvas,n._scenegraph=new bre;const r=n._scenegraph.root;n._renderer=null,n._tooltip=t.tooltip||UVe,n._redraw=!0,n._handler=new Zv().scene(r),n._globalCursor=!1,n._preventDefault=!1,n._timers=[],n._eventListeners=[],n._resizeListeners=[],n._eventConfig=uVe(e.eventConfig),n.globalCursor(n._eventConfig.globalCursor);const i=RVe(n,e,t.expr);n._runtime=i,n._signals=i.signals,n._bind=(e.bindings||[]).map(o=>({state:null,param:De({},o)})),i.root&&i.root.set(r),r.source=i.data.root.input,n.pulse(i.data.root.input,n.changeset().insert(r.items)),n._width=n.width(),n._height=n.height(),n._viewWidth=wse(n,n._width),n._viewHeight=Sse(n,n._height),n._origin=[0,0],n._resize=0,n._autosize=1,DVe(n),JUe(n),ZUe(n),n.description(e.description),t.hover&&n.hover(),t.container&&n.initialize(t.container,t.bind),t.watchPixelRatio&&n._watchPixelRatio()}function Bx(e,t){return fe(e._signals,t)?e._signals[t]:G("Unrecognized signal name: "+ne(t))}function _se(e,t){const n=(e._targets||[]).filter(r=>r._update&&r._update.handler===t);return n.length?n[0]:null}function ZU(e,t,n,r){let i=_se(n,r);return i||(i=bN(e,()=>r(t,n.value)),i.handler=r,e.on(n,null,i)),e}function eV(e,t,n){const r=_se(t,n);return r&&t._targets.remove(r),e}re(Ese,Ap,{async evaluate(e,t,n){if(await Ap.prototype.evaluate.call(this,e,t),this._redraw||this._resize)try{this._renderer&&(this._resize&&(this._resize=0,rVe(this)),await this._renderer.renderAsync(this._scenegraph.root)),this._redraw=!1}catch(r){this.error(r)}return n&&zw(this,n),this},dirty(e){this._redraw=!0,this._renderer&&this._renderer.dirty(e)},description(e){if(arguments.length){const t=e!=null?e+"":null;return t!==this._desc&&pse(this._el,this._desc=t),this}return this._desc},container(){return this._el},scenegraph(){return this._scenegraph},origin(){return this._origin.slice()},signal(e,t,n){const r=Bx(this,e);return arguments.length===1?r.value:this.update(r,t,n)},width(e){return arguments.length?this.signal("width",e):this.signal("width")},height(e){return arguments.length?this.signal("height",e):this.signal("height")},padding(e){return arguments.length?this.signal("padding",QU(e)):QU(this.signal("padding"))},autosize(e){return arguments.length?this.signal("autosize",e):this.signal("autosize")},background(e){return arguments.length?this.signal("background",e):this.signal("background")},renderer(e){return arguments.length?(RE(e)||G("Unrecognized renderer type: "+e),e!==this._renderType&&(this._renderType=e,this._resetRenderer()),this):this._renderType},tooltip(e){return arguments.length?(e!==this._tooltip&&(this._tooltip=e,this._resetRenderer()),this):this._tooltip},loader(e){return arguments.length?(e!==this._loader&&(Ap.prototype.loader.call(this,e),this._resetRenderer()),this):this._loader},resize(){return this._autosize=1,this.touch(Bx(this,"autosize"))},_resetRenderer(){this._renderer&&(this._renderer=null,this.initialize(this._el,this._elBind))},_resizeView:NVe,addEventListener(e,t,n){let r=t;return n&&n.trap===!1||(r=bN(this,t),r.raw=t),this._handler.on(e,r),this},removeEventListener(e,t){for(var n=this._handler.handlers(e),r=n.length,i,o;--r>=0;)if(o=n[r].type,i=n[r].handler,e===o&&(t===i||t===i.raw)){this._handler.off(o,i);break}return this},addResizeListener(e){const t=this._resizeListeners;return t.includes(e)||t.push(e),this},removeResizeListener(e){var t=this._resizeListeners,n=t.indexOf(e);return n>=0&&t.splice(n,1),this},addSignalListener(e,t){return ZU(this,e,Bx(this,e),t)},removeSignalListener(e,t){return eV(this,Bx(this,e),t)},addDataListener(e,t){return ZU(this,e,bk(this,e).values,t)},removeDataListener(e,t){return eV(this,bk(this,e).values,t)},globalCursor(e){if(arguments.length){if(this._globalCursor!==!!e){const t=mM(this,null);this._globalCursor=!!e,t&&mM(this,t)}return this}else return this._globalCursor},preventDefault(e){return arguments.length?(this._preventDefault=e,this):this._preventDefault},timer:BVe,events:fVe,finalize:hVe,hover:dVe,data:eVe,change:HE,insert:tVe,remove:nVe,scale:OVe,initialize:$Ve,toImageURL:TVe,toCanvas:MVe,toSVG:FVe,getState:LVe,setState:jVe,_watchPixelRatio:HVe});const qVe="view",wk="[",Sk="]",$se="{",Ase="}",GVe=":",Tse=",",YVe="@",XVe=">",KVe=/[[\]{}]/,QVe={"*":1,arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1};let Pse,Mse;function Bc(e,t,n){return Pse=t||qVe,Mse=n||QVe,Fse(e.trim()).map(yM)}function JVe(e){return Mse[e]}function Hy(e,t,n,r,i){const o=e.length;let s=0,a;for(;t<o;++t){if(a=e[t],!s&&a===n)return t;i&&i.indexOf(a)>=0?--s:r&&r.indexOf(a)>=0&&++s}return t}function Fse(e){const t=[],n=e.length;let r=0,i=0;for(;i<n;)i=Hy(e,i,Tse,wk+$se,Sk+Ase),t.push(e.substring(r,i).trim()),r=++i;if(t.length===0)throw"Empty event selector: "+e;return t}function yM(e){return e[0]==="["?ZVe(e):eWe(e)}function ZVe(e){const t=e.length;let n=1,r;if(n=Hy(e,n,Sk,wk,Sk),n===t)throw"Empty between selector: "+e;if(r=Fse(e.substring(1,n)),r.length!==2)throw"Between selector must have two elements: "+e;if(e=e.slice(n+1).trim(),e[0]!==XVe)throw"Expected '>' after between selector: "+e;r=r.map(yM);const i=yM(e.slice(1).trim());return i.between?{between:r,stream:i}:(i.between=r,i)}function eWe(e){const t={source:Pse},n=[];let r=[0,0],i=0,o=0,s=e.length,a=0,l,u;if(e[s-1]===Ase){if(a=e.lastIndexOf($se),a>=0){try{r=tWe(e.substring(a+1,s-1))}catch{throw"Invalid throttle specification: "+e}e=e.slice(0,a).trim(),s=e.length}else throw"Unmatched right brace: "+e;a=0}if(!s)throw e;if(e[0]===YVe&&(i=++a),l=Hy(e,a,GVe),l<s&&(n.push(e.substring(o,l).trim()),o=a=++l),a=Hy(e,a,wk),a===s)n.push(e.substring(o,s).trim());else if(n.push(e.substring(o,a).trim()),u=[],o=++a,o===s)throw"Unmatched left bracket: "+e;for(;a<s;){if(a=Hy(e,a,Sk),a===s)throw"Unmatched left bracket: "+e;if(u.push(e.substring(o,a).trim()),a<s-1&&e[++a]!==wk)throw"Expected left bracket: "+e;o=++a}if(!(s=n.length)||KVe.test(n[s-1]))throw"Invalid event selector: "+e;return s>1?(t.type=n[1],i?t.markname=n[0].slice(1):JVe(n[0])?t.marktype=n[0]:t.source=n[0]):t.type=n[0],t.type.slice(-1)==="!"&&(t.consume=!0,t.type=t.type.slice(0,-1)),u!=null&&(t.filter=u),r[0]&&(t.throttle=r[0]),r[1]&&(t.debounce=r[1]),t}function tWe(e){const t=e.split(Tse);if(!e.length||t.length>2)throw e;return t.map(n=>{const r=+n;if(r!==r)throw e;return r})}function nWe(e){return se(e)?e:{type:e||"pad"}}const p0=e=>+e||0,rWe=e=>({top:e,bottom:e,left:e,right:e});function iWe(e){return se(e)?e.signal?e:{top:p0(e.top),bottom:p0(e.bottom),left:p0(e.left),right:p0(e.right)}:rWe(p0(e))}const On=e=>se(e)&&!Y(e)?De({},e):{value:e};function tV(e,t,n,r){return n!=null?(se(n)&&!Y(n)||Y(n)&&n.length&&se(n[0])?e.update[t]=n:e[r||"enter"][t]={value:n},1):0}function rr(e,t,n){for(const r in t)tV(e,r,t[r]);for(const r in n)tV(e,r,n[r],"update")}function wm(e,t,n){for(const r in t)n&&fe(n,r)||(e[r]=De(e[r]||{},t[r]));return e}function Bh(e,t){return t&&(t.enter&&t.enter[e]||t.update&&t.update[e])}const SN="mark",kN="frame",CN="scope",oWe="axis",sWe="axis-domain",aWe="axis-grid",lWe="axis-label",uWe="axis-tick",cWe="axis-title",fWe="legend",dWe="legend-band",hWe="legend-entry",pWe="legend-gradient",Rse="legend-label",gWe="legend-symbol",mWe="legend-title",yWe="title",vWe="title-text",bWe="title-subtitle";function xWe(e,t,n,r,i){const o={},s={};let a,l,u,c;l="lineBreak",t==="text"&&i[l]!=null&&!Bh(l,e)&&AT(o,l,i[l]),(n=="legend"||String(n).startsWith("axis"))&&(n=null),c=n===kN?i.group:n===SN?De({},i.mark,i[t]):null;for(l in c)u=Bh(l,e)||(l==="fill"||l==="stroke")&&(Bh("fill",e)||Bh("stroke",e)),u||AT(o,l,c[l]);le(r).forEach(f=>{const d=i.style&&i.style[f];for(const h in d)Bh(h,e)||AT(o,h,d[h])}),e=De({},e);for(l in o)c=o[l],c.signal?(a=a||{})[l]=c:s[l]=c;return e.enter=De(s,e.enter),a&&(e.update=De(a,e.update)),e}function AT(e,t,n){e[t]=n&&n.signal?{signal:n.signal}:{value:n}}const Ose=e=>ue(e)?ne(e):e.signal?`(${e.signal})`:Dse(e);function GE(e){if(e.gradient!=null)return SWe(e);let t=e.signal?`(${e.signal})`:e.color?wWe(e.color):e.field!=null?Dse(e.field):e.value!==void 0?ne(e.value):void 0;return e.scale!=null&&(t=kWe(e,t)),t===void 0&&(t=null),e.exponent!=null&&(t=`pow(${t},${r2(e.exponent)})`),e.mult!=null&&(t+=`*${r2(e.mult)}`),e.offset!=null&&(t+=`+${r2(e.offset)}`),e.round&&(t=`round(${t})`),t}const Ux=(e,t,n,r)=>`(${e}(${[t,n,r].map(GE).join(",")})+'')`;function wWe(e){return e.c?Ux("hcl",e.h,e.c,e.l):e.h||e.s?Ux("hsl",e.h,e.s,e.l):e.l||e.a?Ux("lab",e.l,e.a,e.b):e.r||e.g||e.b?Ux("rgb",e.r,e.g,e.b):null}function SWe(e){const t=[e.start,e.stop,e.count].map(n=>n==null?null:ne(n));for(;t.length&&qe(t)==null;)t.pop();return t.unshift(Ose(e.gradient)),`gradient(${t.join(",")})`}function r2(e){return se(e)?"("+GE(e)+")":e}function Dse(e){return Nse(se(e)?e:{datum:e})}function Nse(e){let t,n,r;if(e.signal)t="datum",r=e.signal;else if(e.group||e.parent){for(n=Math.max(1,e.level||1),t="item";n-- >0;)t+=".mark.group";e.parent?(r=e.parent,t+=".datum"):r=e.group}else e.datum?(t="datum",r=e.datum):G("Invalid field reference: "+ne(e));return e.signal||(r=ue(r)?Na(r).map(ne).join("]["):Nse(r)),t+"["+r+"]"}function kWe(e,t){const n=Ose(e.scale);return e.range!=null?t=`lerp(_range(${n}), ${+e.range})`:(t!==void 0&&(t=`_scale(${n}, ${t})`),e.band&&(t=(t?t+"+":"")+`_bandwidth(${n})`+(+e.band==1?"":"*"+r2(e.band)),e.extra&&(t=`(datum.extra ? _scale(${n}, datum.extra.value) : ${t})`)),t==null&&(t="0")),t}function CWe(e){let t="";return e.forEach(n=>{const r=GE(n);t+=n.test?`(${n.test})?${r}:`:r}),qe(t)===":"&&(t+="null"),t}function Lse(e,t,n,r,i,o){const s={};o=o||{},o.encoders={$encode:s},e=xWe(e,t,n,r,i.config);for(const a in e)s[a]=EWe(e[a],t,o,i);return o}function EWe(e,t,n,r){const i={},o={};for(const s in e)e[s]!=null&&(i[s]=$We(_We(e[s]),r,n,o));return{$expr:{marktype:t,channels:i},$fields:Object.keys(o),$output:Object.keys(e)}}function _We(e){return Y(e)?CWe(e):GE(e)}function $We(e,t,n,r){const i=Ma(e,t);return i.$fields.forEach(o=>r[o]=1),De(n,i.$params),i.$expr}const AWe="outer",TWe=["value","update","init","react","bind"];function nV(e,t){G(e+' for "outer" push: '+ne(t))}function Ise(e,t){const n=e.name;if(e.push===AWe)t.signals[n]||nV("No prior signal definition",n),TWe.forEach(r=>{e[r]!==void 0&&nV("Invalid property ",r)});else{const r=t.addSignal(n,e.value);e.react===!1&&(r.react=!1),e.bind&&t.addBinding(n,e.bind)}}function vM(e,t,n,r){this.id=-1,this.type=e,this.value=t,this.params=n,r&&(this.parent=r)}function YE(e,t,n,r){return new vM(e,t,n,r)}function kk(e,t){return YE("operator",e,t)}function ve(e){const t={$ref:e.id};return e.id<0&&(e.refs=e.refs||[]).push(t),t}function G1(e,t){return t?{$field:e,$name:t}:{$field:e}}const bM=G1("key");function rV(e,t){return{$compare:e,$order:t}}function PWe(e,t){const n={$key:e};return t&&(n.$flat=!0),n}const MWe="ascending",FWe="descending";function RWe(e){return se(e)?(e.order===FWe?"-":"+")+XE(e.op,e.field):""}function XE(e,t){return(e&&e.signal?"$"+e.signal:e||"")+(e&&t?"_":"")+(t&&t.signal?"$"+t.signal:t||"")}const EN="scope",xM="view";function kn(e){return e&&e.signal}function OWe(e){return e&&e.expr}function i2(e){if(kn(e))return!0;if(se(e)){for(const t in e)if(i2(e[t]))return!0}return!1}function rs(e,t){return e??t}function id(e){return e&&e.signal||e}const iV="timer";function Y1(e,t){return(e.merge?NWe:e.stream?LWe:e.type?IWe:G("Invalid stream specification: "+ne(e)))(e,t)}function DWe(e){return e===EN?xM:e||xM}function NWe(e,t){const n=e.merge.map(i=>Y1(i,t)),r=_N({merge:n},e,t);return t.addStream(r).id}function LWe(e,t){const n=Y1(e.stream,t),r=_N({stream:n},e,t);return t.addStream(r).id}function IWe(e,t){let n;e.type===iV?(n=t.event(iV,e.throttle),e={between:e.between,filter:e.filter}):n=t.event(DWe(e.source),e.type);const r=_N({stream:n},e,t);return Object.keys(r).length===1?n:t.addStream(r).id}function _N(e,t,n){let r=t.between;return r&&(r.length!==2&&G('Stream "between" parameter must have 2 entries: '+ne(t)),e.between=[Y1(r[0],n),Y1(r[1],n)]),r=t.filter?[].concat(t.filter):[],(t.marktype||t.markname||t.markrole)&&r.push(zWe(t.marktype,t.markname,t.markrole)),t.source===EN&&r.push("inScope(event.item)"),r.length&&(e.filter=Ma("("+r.join(")&&(")+")",n).$expr),(r=t.throttle)!=null&&(e.throttle=+r),(r=t.debounce)!=null&&(e.debounce=+r),t.consume&&(e.consume=!0),e}function zWe(e,t,n){const r="event.item";return r+(e&&e!=="*"?"&&"+r+".mark.marktype==='"+e+"'":"")+(n?"&&"+r+".mark.role==='"+n+"'":"")+(t?"&&"+r+".mark.name==='"+t+"'":"")}const jWe={code:"_.$value",ast:{type:"Identifier",value:"value"}};function BWe(e,t,n){const r=e.encode,i={target:n};let o=e.events,s=e.update,a=[];o||G("Signal update missing events specification."),ue(o)&&(o=Bc(o,t.isSubscope()?EN:xM)),o=le(o).filter(l=>l.signal||l.scale?(a.push(l),0):1),a.length>1&&(a=[VWe(a)]),o.length&&a.push(o.length>1?{merge:o}:o[0]),r!=null&&(s&&G("Signal encode and update are mutually exclusive."),s="encode(item(),"+ne(r)+")"),i.update=ue(s)?Ma(s,t):s.expr!=null?Ma(s.expr,t):s.value!=null?s.value:s.signal!=null?{$expr:jWe,$params:{$value:t.signalRef(s.signal)}}:G("Invalid signal update specification."),e.force&&(i.options={force:!0}),a.forEach(l=>t.addUpdate(De(UWe(l,t),i)))}function UWe(e,t){return{source:e.signal?t.signalRef(e.signal):e.scale?t.scaleRef(e.scale):Y1(e,t)}}function VWe(e){return{signal:"["+e.map(t=>t.scale?'scale("'+t.scale+'")':t.signal)+"]"}}function WWe(e,t){const n=t.getSignal(e.name);let r=e.update;e.init&&(r?G("Signals can not include both init and update expressions."):(r=e.init,n.initonly=!0)),r&&(r=Ma(r,t),n.update=r.$expr,n.params=r.$params),e.on&&e.on.forEach(i=>BWe(i,t,n.id))}const xt=e=>(t,n,r)=>YE(e,n,t||void 0,r),zse=xt("aggregate"),HWe=xt("axisticks"),jse=xt("bound"),Ds=xt("collect"),oV=xt("compare"),qWe=xt("datajoin"),Bse=xt("encode"),GWe=xt("expression"),YWe=xt("facet"),XWe=xt("field"),KWe=xt("key"),QWe=xt("legendentries"),JWe=xt("load"),ZWe=xt("mark"),eHe=xt("multiextent"),tHe=xt("multivalues"),nHe=xt("overlap"),rHe=xt("params"),Use=xt("prefacet"),iHe=xt("projection"),oHe=xt("proxy"),sHe=xt("relay"),Vse=xt("render"),aHe=xt("scale"),nh=xt("sieve"),lHe=xt("sortitems"),Wse=xt("viewlayout"),uHe=xt("values");let cHe=0;const Hse={min:"min",max:"max",count:"sum"};function fHe(e,t){const n=e.type||"linear";Mne(n)||G("Unrecognized scale type: "+ne(n)),t.addScale(e.name,{type:n,domain:void 0})}function dHe(e,t){const n=t.getScale(e.name).params;let r;n.domain=qse(e.domain,e,t),e.range!=null&&(n.range=Yse(e,t,n)),e.interpolate!=null&&SHe(e.interpolate,n),e.nice!=null&&(n.nice=wHe(e.nice,t)),e.bins!=null&&(n.bins=xHe(e.bins,t));for(r in e)fe(n,r)||r==="name"||(n[r]=Ao(e[r],t))}function Ao(e,t){return se(e)?e.signal?t.signalRef(e.signal):G("Unsupported object: "+ne(e)):e}function o2(e,t){return e.signal?t.signalRef(e.signal):e.map(n=>Ao(n,t))}function KE(e){G("Can not find data set: "+ne(e))}function qse(e,t,n){if(!e){(t.domainMin!=null||t.domainMax!=null)&&G("No scale domain defined for domainMin/domainMax to override.");return}return e.signal?n.signalRef(e.signal):(Y(e)?hHe:e.fields?gHe:pHe)(e,t,n)}function hHe(e,t,n){return e.map(r=>Ao(r,n))}function pHe(e,t,n){const r=n.getData(e.data);return r||KE(e.data),Cg(t.type)?r.valuesRef(n,e.field,Gse(e.sort,!1)):One(t.type)?r.domainRef(n,e.field):r.extentRef(n,e.field)}function gHe(e,t,n){const r=e.data,i=e.fields.reduce((o,s)=>(s=ue(s)?{data:r,field:s}:Y(s)||s.signal?mHe(s,n):s,o.push(s),o),[]);return(Cg(t.type)?yHe:One(t.type)?vHe:bHe)(e,n,i)}function mHe(e,t){const n="_:vega:_"+cHe++,r=Ds({});if(Y(e))r.value={$ingest:e};else if(e.signal){const i="setdata("+ne(n)+","+e.signal+")";r.params.input=t.signalRef(i)}return t.addDataPipeline(n,[r,nh({})]),{data:n,field:"data"}}function yHe(e,t,n){const r=Gse(e.sort,!0);let i,o;const s=n.map(u=>{const c=t.getData(u.data);return c||KE(u.data),c.countsRef(t,u.field,r)}),a={groupby:bM,pulse:s};r&&(i=r.op||"count",o=r.field?XE(i,r.field):"count",a.ops=[Hse[i]],a.fields=[t.fieldRef(o)],a.as=[o]),i=t.add(zse(a));const l=t.add(Ds({pulse:ve(i)}));return o=t.add(uHe({field:bM,sort:t.sortRef(r),pulse:ve(l)})),ve(o)}function Gse(e,t){return e&&(!e.field&&!e.op?se(e)?e.field="key":e={field:"key"}:!e.field&&e.op!=="count"?G("No field provided for sort aggregate op: "+e.op):t&&e.field&&e.op&&!Hse[e.op]&&G("Multiple domain scales can not be sorted using "+e.op)),e}function vHe(e,t,n){const r=n.map(i=>{const o=t.getData(i.data);return o||KE(i.data),o.domainRef(t,i.field)});return ve(t.add(tHe({values:r})))}function bHe(e,t,n){const r=n.map(i=>{const o=t.getData(i.data);return o||KE(i.data),o.extentRef(t,i.field)});return ve(t.add(eHe({extents:r})))}function xHe(e,t){return e.signal||Y(e)?o2(e,t):t.objectProperty(e)}function wHe(e,t){return e.signal?t.signalRef(e.signal):se(e)?{interval:Ao(e.interval),step:Ao(e.step)}:Ao(e)}function SHe(e,t){t.interpolate=Ao(e.type||e),e.gamma!=null&&(t.interpolateGamma=Ao(e.gamma))}function Yse(e,t,n){const r=t.config.range;let i=e.range;if(i.signal)return t.signalRef(i.signal);if(ue(i)){if(r&&fe(r,i))return e=De({},e,{range:r[i]}),Yse(e,t,n);i==="width"?i=[0,{signal:"width"}]:i==="height"?i=Cg(e.type)?[0,{signal:"height"}]:[{signal:"height"},0]:G("Unrecognized scale range value: "+ne(i))}else if(i.scheme){n.scheme=Y(i.scheme)?o2(i.scheme,t):Ao(i.scheme,t),i.extent&&(n.schemeExtent=o2(i.extent,t)),i.count&&(n.schemeCount=Ao(i.count,t));return}else if(i.step){n.rangeStep=Ao(i.step,t);return}else{if(Cg(e.type)&&!Y(i))return qse(i,e,t);Y(i)||G("Unsupported range type: "+ne(i))}return i.map(o=>(Y(o)?o2:Ao)(o,t))}function kHe(e,t){const n=t.config.projection||{},r={};for(const i in e)i!=="name"&&(r[i]=wM(e[i],i,t));for(const i in n)r[i]==null&&(r[i]=wM(n[i],i,t));t.addProjection(e.name,r)}function wM(e,t,n){return Y(e)?e.map(r=>wM(r,t,n)):se(e)?e.signal?n.signalRef(e.signal):t==="fit"?e:G("Unsupported parameter object: "+ne(e)):e}const Ns="top",Sm="left",km="right",Cc="bottom",Xse="center",CHe="vertical",EHe="start",_He="middle",$He="end",SM="index",$N="label",AHe="offset",Rg="perc",THe="perc2",Mo="value",lb="guide-label",AN="guide-title",PHe="group-title",MHe="group-subtitle",sV="symbol",s2="gradient",kM="discrete",CM="size",FHe="shape",RHe="fill",OHe="stroke",DHe="strokeWidth",NHe="strokeDash",LHe="opacity",TN=[CM,FHe,RHe,OHe,DHe,NHe,LHe],ub={name:1,style:1,interactive:1},Ye={value:0},Fo={value:1},QE="group",Kse="rect",PN="rule",IHe="symbol",rh="text";function X1(e){return e.type=QE,e.interactive=e.interactive||!1,e}function Ai(e,t){const n=(r,i)=>rs(e[r],rs(t[r],i));return n.isVertical=r=>CHe===rs(e.direction,t.direction||(r?t.symbolDirection:t.gradientDirection)),n.gradientLength=()=>rs(e.gradientLength,t.gradientLength||t.gradientWidth),n.gradientThickness=()=>rs(e.gradientThickness,t.gradientThickness||t.gradientHeight),n.entryColumns=()=>rs(e.columns,rs(t.columns,+n.isVertical(!0))),n}function Qse(e,t){const n=t&&(t.update&&t.update[e]||t.enter&&t.enter[e]);return n&&n.signal?n:n?n.value:null}function zHe(e,t,n){const r=t.config.style[n];return r&&r[e]}function JE(e,t,n){return`item.anchor === '${EHe}' ? ${e} : item.anchor === '${$He}' ? ${t} : ${n}`}const MN=JE(ne(Sm),ne(km),ne(Xse));function jHe(e){const t=e("tickBand");let n=e("tickOffset"),r,i;return t?t.signal?(r={signal:`(${t.signal}) === 'extent' ? 1 : 0.5`},i={signal:`(${t.signal}) === 'extent'`},se(n)||(n={signal:`(${t.signal}) === 'extent' ? 0 : ${n}`})):t==="extent"?(r=1,i=!0,n=0):(r=.5,i=!1):(r=e("bandPosition"),i=e("tickExtra")),{extra:i,band:r,offset:n}}function Jse(e,t){return t?e?se(e)?Object.assign({},e,{offset:Jse(e.offset,t)}):{value:e,offset:t}:t:e}function to(e,t){return t?(e.name=t.name,e.style=t.style||e.style,e.interactive=!!t.interactive,e.encode=wm(e.encode,t,ub)):e.interactive=!1,e}function BHe(e,t,n,r){const i=Ai(e,n),o=i.isVertical(),s=i.gradientThickness(),a=i.gradientLength();let l,u,c,f,d;o?(u=[0,1],c=[0,0],f=s,d=a):(u=[0,0],c=[1,0],f=a,d=s);const h={enter:l={opacity:Ye,x:Ye,y:Ye,width:On(f),height:On(d)},update:De({},l,{opacity:Fo,fill:{gradient:t,start:u,stop:c}}),exit:{opacity:Ye}};return rr(h,{stroke:i("gradientStrokeColor"),strokeWidth:i("gradientStrokeWidth")},{opacity:i("gradientOpacity")}),to({type:Kse,role:pWe,encode:h},r)}function UHe(e,t,n,r,i){const o=Ai(e,n),s=o.isVertical(),a=o.gradientThickness(),l=o.gradientLength();let u,c,f,d,h="";s?(u="y",f="y2",c="x",d="width",h="1-"):(u="x",f="x2",c="y",d="height");const p={opacity:Ye,fill:{scale:t,field:Mo}};p[u]={signal:h+"datum."+Rg,mult:l},p[c]=Ye,p[f]={signal:h+"datum."+THe,mult:l},p[d]=On(a);const g={enter:p,update:De({},p,{opacity:Fo}),exit:{opacity:Ye}};return rr(g,{stroke:o("gradientStrokeColor"),strokeWidth:o("gradientStrokeWidth")},{opacity:o("gradientOpacity")}),to({type:Kse,role:dWe,key:Mo,from:i,encode:g},r)}const VHe=`datum.${Rg}<=0?"${Sm}":datum.${Rg}>=1?"${km}":"${Xse}"`,WHe=`datum.${Rg}<=0?"${Cc}":datum.${Rg}>=1?"${Ns}":"${_He}"`;function aV(e,t,n,r){const i=Ai(e,t),o=i.isVertical(),s=On(i.gradientThickness()),a=i.gradientLength();let l=i("labelOverlap"),u,c,f,d,h="";const p={enter:u={opacity:Ye},update:c={opacity:Fo,text:{field:$N}},exit:{opacity:Ye}};return rr(p,{fill:i("labelColor"),fillOpacity:i("labelOpacity"),font:i("labelFont"),fontSize:i("labelFontSize"),fontStyle:i("labelFontStyle"),fontWeight:i("labelFontWeight"),limit:rs(e.labelLimit,t.gradientLabelLimit)}),o?(u.align={value:"left"},u.baseline=c.baseline={signal:WHe},f="y",d="x",h="1-"):(u.align=c.align={signal:VHe},u.baseline={value:"top"},f="x",d="y"),u[f]=c[f]={signal:h+"datum."+Rg,mult:a},u[d]=c[d]=s,s.offset=rs(e.labelOffset,t.gradientLabelOffset)||0,l=l?{separation:i("labelSeparation"),method:l,order:"datum."+SM}:void 0,to({type:rh,role:Rse,style:lb,key:Mo,from:r,encode:p,overlap:l},n)}function HHe(e,t,n,r,i){const o=Ai(e,t),s=n.entries,a=!!(s&&s.interactive),l=s?s.name:void 0,u=o("clipHeight"),c=o("symbolOffset"),f={data:"value"},d=`(${i}) ? datum.${AHe} : datum.${CM}`,h=u?On(u):{field:CM},p=`datum.${SM}`,g=`max(1, ${i})`;let m,y,v,b,x;h.mult=.5,m={enter:y={opacity:Ye,x:{signal:d,mult:.5,offset:c},y:h},update:v={opacity:Fo,x:y.x,y:y.y},exit:{opacity:Ye}};let w=null,k=null;e.fill||(w=t.symbolBaseFillColor,k=t.symbolBaseStrokeColor),rr(m,{fill:o("symbolFillColor",w),shape:o("symbolType"),size:o("symbolSize"),stroke:o("symbolStrokeColor",k),strokeDash:o("symbolDash"),strokeDashOffset:o("symbolDashOffset"),strokeWidth:o("symbolStrokeWidth")},{opacity:o("symbolOpacity")}),TN.forEach(A=>{e[A]&&(v[A]=y[A]={scale:e[A],field:Mo})});const S=to({type:IHe,role:gWe,key:Mo,from:f,clip:u?!0:void 0,encode:m},n.symbols),C=On(c);C.offset=o("labelOffset"),m={enter:y={opacity:Ye,x:{signal:d,offset:C},y:h},update:v={opacity:Fo,text:{field:$N},x:y.x,y:y.y},exit:{opacity:Ye}},rr(m,{align:o("labelAlign"),baseline:o("labelBaseline"),fill:o("labelColor"),fillOpacity:o("labelOpacity"),font:o("labelFont"),fontSize:o("labelFontSize"),fontStyle:o("labelFontStyle"),fontWeight:o("labelFontWeight"),limit:o("labelLimit")});const E=to({type:rh,role:Rse,style:lb,key:Mo,from:f,encode:m},n.labels);return m={enter:{noBound:{value:!u},width:Ye,height:u?On(u):Ye,opacity:Ye},exit:{opacity:Ye},update:v={opacity:Fo,row:{signal:null},column:{signal:null}}},o.isVertical(!0)?(b=`ceil(item.mark.items.length / ${g})`,v.row.signal=`${p}%${b}`,v.column.signal=`floor(${p} / ${b})`,x={field:["row",p]}):(v.row.signal=`floor(${p} / ${g})`,v.column.signal=`${p} % ${g}`,x={field:p}),v.column.signal=`(${i})?${v.column.signal}:${p}`,r={facet:{data:r,name:"value",groupby:SM}},X1({role:CN,from:r,encode:wm(m,s,ub),marks:[S,E],name:l,interactive:a,sort:x})}function qHe(e,t){const n=Ai(e,t);return{align:n("gridAlign"),columns:n.entryColumns(),center:{row:!0,column:!1},padding:{row:n("rowPadding"),column:n("columnPadding")}}}const FN='item.orient === "left"',RN='item.orient === "right"',ZE=`(${FN} || ${RN})`,GHe=`datum.vgrad && ${ZE}`,YHe=JE('"top"','"bottom"','"middle"'),XHe=JE('"right"','"left"','"center"'),KHe=`datum.vgrad && ${RN} ? (${XHe}) : (${ZE} && !(datum.vgrad && ${FN})) ? "left" : ${MN}`,QHe=`item._anchor || (${ZE} ? "middle" : "start")`,JHe=`${GHe} ? (${FN} ? -90 : 90) : 0`,ZHe=`${ZE} ? (datum.vgrad ? (${RN} ? "bottom" : "top") : ${YHe}) : "top"`;function eqe(e,t,n,r){const i=Ai(e,t),o={enter:{opacity:Ye},update:{opacity:Fo,x:{field:{group:"padding"}},y:{field:{group:"padding"}}},exit:{opacity:Ye}};return rr(o,{orient:i("titleOrient"),_anchor:i("titleAnchor"),anchor:{signal:QHe},angle:{signal:JHe},align:{signal:KHe},baseline:{signal:ZHe},text:e.title,fill:i("titleColor"),fillOpacity:i("titleOpacity"),font:i("titleFont"),fontSize:i("titleFontSize"),fontStyle:i("titleFontStyle"),fontWeight:i("titleFontWeight"),limit:i("titleLimit"),lineHeight:i("titleLineHeight")},{align:i("titleAlign"),baseline:i("titleBaseline")}),to({type:rh,role:mWe,style:AN,from:r,encode:o},n)}function tqe(e,t){let n;return se(e)&&(e.signal?n=e.signal:e.path?n="pathShape("+lV(e.path)+")":e.sphere&&(n="geoShape("+lV(e.sphere)+', {type: "Sphere"})')),n?t.signalRef(n):!!e}function lV(e){return se(e)&&e.signal?e.signal:ne(e)}function Zse(e){const t=e.role||"";return t.startsWith("axis")||t.startsWith("legend")||t.startsWith("title")?t:e.type===QE?CN:t||SN}function nqe(e){return{marktype:e.type,name:e.name||void 0,role:e.role||Zse(e),zindex:+e.zindex||void 0,aria:e.aria,description:e.description}}function rqe(e,t){return e&&e.signal?t.signalRef(e.signal):e!==!1}function ON(e,t){const n=$ee(e.type);n||G("Unrecognized transform type: "+ne(e.type));const r=YE(n.type.toLowerCase(),null,eae(n,e,t));return e.signal&&t.addSignal(e.signal,t.proxy(r)),r.metadata=n.metadata||{},r}function eae(e,t,n){const r={},i=e.params.length;for(let o=0;o<i;++o){const s=e.params[o];r[s.name]=iqe(s,t,n)}return r}function iqe(e,t,n){const r=e.type,i=t[e.name];if(r==="index")return oqe(e,t,n);if(i===void 0){e.required&&G("Missing required "+ne(t.type)+" parameter: "+ne(e.name));return}else{if(r==="param")return sqe(e,t,n);if(r==="projection")return n.projectionRef(t[e.name])}return e.array&&!kn(i)?i.map(o=>uV(e,o,n)):uV(e,i,n)}function uV(e,t,n){const r=e.type;if(kn(t))return fV(r)?G("Expression references can not be signals."):TT(r)?n.fieldRef(t):dV(r)?n.compareRef(t):n.signalRef(t.signal);{const i=e.expr||TT(r);return i&&aqe(t)?n.exprRef(t.expr,t.as):i&&lqe(t)?G1(t.field,t.as):fV(r)?Ma(t,n):uqe(r)?ve(n.getData(t).values):TT(r)?G1(t):dV(r)?n.compareRef(t):t}}function oqe(e,t,n){return ue(t.from)||G('Lookup "from" parameter must be a string literal.'),n.getData(t.from).lookupRef(n,t.key)}function sqe(e,t,n){const r=t[e.name];return e.array?(Y(r)||G("Expected an array of sub-parameters. Instead: "+ne(r)),r.map(i=>cV(e,i,n))):cV(e,r,n)}function cV(e,t,n){const r=e.params.length;let i;for(let s=0;s<r;++s){i=e.params[s];for(const a in i.key)if(i.key[a]!==t[a]){i=null;break}if(i)break}i||G("Unsupported parameter: "+ne(t));const o=De(eae(i,t,n),i.key);return ve(n.add(rHe(o)))}const aqe=e=>e&&e.expr,lqe=e=>e&&e.field,uqe=e=>e==="data",fV=e=>e==="expr",TT=e=>e==="field",dV=e=>e==="compare";function cqe(e,t,n){let r,i,o,s,a;return e?(r=e.facet)&&(t||G("Only group marks can be faceted."),r.field!=null?s=a=a2(r,n):(e.data?a=ve(n.getData(e.data).aggregate):(o=ON(De({type:"aggregate",groupby:le(r.groupby)},r.aggregate),n),o.params.key=n.keyRef(r.groupby),o.params.pulse=a2(r,n),s=a=ve(n.add(o))),i=n.keyRef(r.groupby,!0))):s=ve(n.add(Ds(null,[{}]))),s||(s=a2(e,n)),{key:i,pulse:s,parent:a}}function a2(e,t){return e.$ref?e:e.data&&e.data.$ref?e.data:ve(t.getData(e.data).output)}function Ad(e,t,n,r,i){this.scope=e,this.input=t,this.output=n,this.values=r,this.aggregate=i,this.index={}}Ad.fromEntries=function(e,t){const n=t.length,r=t[n-1],i=t[n-2];let o=t[0],s=null,a=1;for(o&&o.type==="load"&&(o=t[1]),e.add(t[0]);a<n;++a)t[a].params.pulse=ve(t[a-1]),e.add(t[a]),t[a].type==="aggregate"&&(s=t[a]);return new Ad(e,o,i,r,s)};function tae(e){return ue(e)?e:null}function hV(e,t,n){const r=XE(n.op,n.field);let i;if(t.ops){for(let o=0,s=t.as.length;o<s;++o)if(t.as[o]===r)return}else t.ops=["count"],t.fields=[null],t.as=["count"];n.op&&(t.ops.push((i=n.op.signal)?e.signalRef(i):n.op),t.fields.push(e.fieldRef(n.field)),t.as.push(r))}function g0(e,t,n,r,i,o,s){const a=t[n]||(t[n]={}),l=RWe(o);let u=tae(i),c,f;if(u!=null&&(e=t.scope,u=u+(l?"|"+l:""),c=a[u]),!c){const d=o?{field:bM,pulse:t.countsRef(e,i,o)}:{field:e.fieldRef(i),pulse:ve(t.output)};l&&(d.sort=e.sortRef(o)),f=e.add(YE(r,void 0,d)),s&&(t.index[i]=f),c=ve(f),u!=null&&(a[u]=c)}return c}Ad.prototype={countsRef(e,t,n){const r=this,i=r.counts||(r.counts={}),o=tae(t);let s,a,l;return o!=null&&(e=r.scope,s=i[o]),s?n&&n.field&&hV(e,s.agg.params,n):(l={groupby:e.fieldRef(t,"key"),pulse:ve(r.output)},n&&n.field&&hV(e,l,n),a=e.add(zse(l)),s=e.add(Ds({pulse:ve(a)})),s={agg:a,ref:ve(s)},o!=null&&(i[o]=s)),s.ref},tuplesRef(){return ve(this.values)},extentRef(e,t){return g0(e,this,"extent","extent",t,!1)},domainRef(e,t){return g0(e,this,"domain","values",t,!1)},valuesRef(e,t,n){return g0(e,this,"vals","values",t,n||!0)},lookupRef(e,t){return g0(e,this,"lookup","tupleindex",t,!1)},indataRef(e,t){return g0(e,this,"indata","tupleindex",t,!0,!0)}};function fqe(e,t,n){const r=e.from.facet,i=r.name,o=a2(r,t);let s;r.name||G("Facet must have a name: "+ne(r)),r.data||G("Facet must reference a data set: "+ne(r)),r.field?s=t.add(Use({field:t.fieldRef(r.field),pulse:o})):r.groupby?s=t.add(YWe({key:t.keyRef(r.groupby),group:ve(t.proxy(n.parent)),pulse:o})):G("Facet must specify groupby or field: "+ne(r));const a=t.fork(),l=a.add(Ds()),u=a.add(nh({pulse:ve(l)}));a.addData(i,new Ad(a,l,l,u)),a.addSignal("parent",null),s.params.subflow={$subflow:a.parse(e).toRuntime()}}function dqe(e,t,n){const r=t.add(Use({pulse:n.pulse})),i=t.fork();i.add(nh()),i.addSignal("parent",null),r.params.subflow={$subflow:i.parse(e).toRuntime()}}function nae(e,t,n){const r=e.remove,i=e.insert,o=e.toggle,s=e.modify,a=e.values,l=t.add(kk()),u="if("+e.trigger+',modify("'+n+'",'+[i,r,o,s,a].map(f=>f??"null").join(",")+"),0)",c=Ma(u,t);l.update=c.$expr,l.params=c.$params}function e_(e,t){const n=Zse(e),r=e.type===QE,i=e.from&&e.from.facet,o=e.overlap;let s=e.layout||n===CN||n===kN,a,l,u,c,f,d,h;const p=n===SN||s||i,g=cqe(e.from,r,t);l=t.add(qWe({key:g.key||(e.key?G1(e.key):void 0),pulse:g.pulse,clean:!r}));const m=ve(l);l=u=t.add(Ds({pulse:m})),l=t.add(ZWe({markdef:nqe(e),interactive:rqe(e.interactive,t),clip:tqe(e.clip,t),context:{$context:!0},groups:t.lookup(),parent:t.signals.parent?t.signalRef("parent"):null,index:t.markpath(),pulse:ve(l)}));const y=ve(l);l=c=t.add(Bse(Lse(e.encode,e.type,n,e.style,t,{mod:!1,pulse:y}))),l.params.parent=t.encode(),e.transform&&e.transform.forEach(k=>{const S=ON(k,t),C=S.metadata;(C.generates||C.changes)&&G("Mark transforms should not generate new data."),C.nomod||(c.params.mod=!0),S.params.pulse=ve(l),t.add(l=S)}),e.sort&&(l=t.add(lHe({sort:t.compareRef(e.sort),pulse:ve(l)})));const v=ve(l);(i||s)&&(s=t.add(Wse({layout:t.objectProperty(e.layout),legends:t.legends,mark:y,pulse:v})),d=ve(s));const b=t.add(jse({mark:y,pulse:d||v}));h=ve(b),r&&(p&&(a=t.operators,a.pop(),s&&a.pop()),t.pushState(v,d||h,m),i?fqe(e,t,g):p?dqe(e,t,g):t.parse(e),t.popState(),p&&(s&&a.push(s),a.push(b))),o&&(h=hqe(o,h,t));const x=t.add(Vse({pulse:h})),w=t.add(nh({pulse:ve(x)},void 0,t.parent()));e.name!=null&&(f=e.name,t.addData(f,new Ad(t,u,x,w)),e.on&&e.on.forEach(k=>{(k.insert||k.remove||k.toggle)&&G("Marks only support modify triggers."),nae(k,t,f)}))}function hqe(e,t,n){const r=e.method,i=e.bound,o=e.separation,s={separation:kn(o)?n.signalRef(o.signal):o,method:kn(r)?n.signalRef(r.signal):r,pulse:t};if(e.order&&(s.sort=n.compareRef({field:e.order})),i){const a=i.tolerance;s.boundTolerance=kn(a)?n.signalRef(a.signal):+a,s.boundScale=n.scaleRef(i.scale),s.boundOrient=i.orient}return ve(n.add(nHe(s)))}function pqe(e,t){const n=t.config.legend,r=e.encode||{},i=Ai(e,n),o=r.legend||{},s=o.name||void 0,a=o.interactive,l=o.style,u={};let c=0,f,d,h;TN.forEach(b=>e[b]?(u[b]=e[b],c=c||e[b]):0),c||G("Missing valid scale for legend.");const p=gqe(e,t.scaleType(c)),g={title:e.title!=null,scales:u,type:p,vgrad:p!=="symbol"&&i.isVertical()},m=ve(t.add(Ds(null,[g]))),y={enter:{x:{value:0},y:{value:0}}},v=ve(t.add(QWe(d={type:p,scale:t.scaleRef(c),count:t.objectProperty(i("tickCount")),limit:t.property(i("symbolLimit")),values:t.objectProperty(e.values),minstep:t.property(e.tickMinStep),formatType:t.property(e.formatType),formatSpecifier:t.property(e.format)})));return p===s2?(h=[BHe(e,c,n,r.gradient),aV(e,n,r.labels,v)],d.count=d.count||t.signalRef(`max(2,2*floor((${id(i.gradientLength())})/100))`)):p===kM?h=[UHe(e,c,n,r.gradient,v),aV(e,n,r.labels,v)]:(f=qHe(e,n),h=[HHe(e,n,r,v,id(f.columns))],d.size=vqe(e,t,h[0].marks)),h=[X1({role:hWe,from:m,encode:y,marks:h,layout:f,interactive:a})],g.title&&h.push(eqe(e,n,r.title,m)),e_(X1({role:fWe,from:m,encode:wm(yqe(i,e,n),o,ub),marks:h,aria:i("aria"),description:i("description"),zindex:i("zindex"),name:s,interactive:a,style:l}),t)}function gqe(e,t){let n=e.type||sV;return!e.type&&mqe(e)===1&&(e.fill||e.stroke)&&(n=RD(t)?s2:gP(t)?kM:sV),n!==s2?n:gP(t)?kM:s2}function mqe(e){return TN.reduce((t,n)=>t+(e[n]?1:0),0)}function yqe(e,t,n){const r={enter:{},update:{}};return rr(r,{orient:e("orient"),offset:e("offset"),padding:e("padding"),titlePadding:e("titlePadding"),cornerRadius:e("cornerRadius"),fill:e("fillColor"),stroke:e("strokeColor"),strokeWidth:n.strokeWidth,strokeDash:n.strokeDash,x:e("legendX"),y:e("legendY"),format:t.format,formatType:t.formatType}),r}function vqe(e,t,n){const r=id(pV("size",e,n)),i=id(pV("strokeWidth",e,n)),o=id(bqe(n[1].encode,t,lb));return Ma(`max(ceil(sqrt(${r})+${i}),${o})`,t)}function pV(e,t,n){return t[e]?`scale("${t[e]}",datum)`:Qse(e,n[0].encode)}function bqe(e,t,n){return Qse("fontSize",e)||zHe("fontSize",t,n)}const xqe=`item.orient==="${Sm}"?-90:item.orient==="${km}"?90:0`;function wqe(e,t){e=ue(e)?{text:e}:e;const n=Ai(e,t.config.title),r=e.encode||{},i=r.group||{},o=i.name||void 0,s=i.interactive,a=i.style,l=[],u={},c=ve(t.add(Ds(null,[u])));return l.push(Cqe(e,n,Sqe(e),c)),e.subtitle&&l.push(Eqe(e,n,r.subtitle,c)),e_(X1({role:yWe,from:c,encode:kqe(n,i),marks:l,aria:n("aria"),description:n("description"),zindex:n("zindex"),name:o,interactive:s,style:a}),t)}function Sqe(e){const t=e.encode;return t&&t.title||De({name:e.name,interactive:e.interactive,style:e.style},t)}function kqe(e,t){const n={enter:{},update:{}};return rr(n,{orient:e("orient"),anchor:e("anchor"),align:{signal:MN},angle:{signal:xqe},limit:e("limit"),frame:e("frame"),offset:e("offset")||0,padding:e("subtitlePadding")}),wm(n,t,ub)}function Cqe(e,t,n,r){const i={value:0},o=e.text,s={enter:{opacity:i},update:{opacity:{value:1}},exit:{opacity:i}};return rr(s,{text:o,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:t("dx"),dy:t("dy"),fill:t("color"),font:t("font"),fontSize:t("fontSize"),fontStyle:t("fontStyle"),fontWeight:t("fontWeight"),lineHeight:t("lineHeight")},{align:t("align"),angle:t("angle"),baseline:t("baseline")}),to({type:rh,role:vWe,style:PHe,from:r,encode:s},n)}function Eqe(e,t,n,r){const i={value:0},o=e.subtitle,s={enter:{opacity:i},update:{opacity:{value:1}},exit:{opacity:i}};return rr(s,{text:o,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:t("dx"),dy:t("dy"),fill:t("subtitleColor"),font:t("subtitleFont"),fontSize:t("subtitleFontSize"),fontStyle:t("subtitleFontStyle"),fontWeight:t("subtitleFontWeight"),lineHeight:t("subtitleLineHeight")},{align:t("align"),angle:t("angle"),baseline:t("baseline")}),to({type:rh,role:bWe,style:MHe,from:r,encode:s},n)}function _qe(e,t){const n=[];e.transform&&e.transform.forEach(r=>{n.push(ON(r,t))}),e.on&&e.on.forEach(r=>{nae(r,t,e.name)}),t.addDataPipeline(e.name,$qe(e,t,n))}function $qe(e,t,n){const r=[];let i=null,o=!1,s=!1,a,l,u,c,f;for(e.values?kn(e.values)||i2(e.format)?(r.push(gV(t,e)),r.push(i=nf())):r.push(i=nf({$ingest:e.values,$format:e.format})):e.url?i2(e.url)||i2(e.format)?(r.push(gV(t,e)),r.push(i=nf())):r.push(i=nf({$request:e.url,$format:e.format})):e.source&&(i=a=le(e.source).map(d=>ve(t.getData(d).output)),r.push(null)),l=0,u=n.length;l<u;++l)c=n[l],f=c.metadata,!i&&!f.source&&r.push(i=nf()),r.push(c),f.generates&&(s=!0),f.modifies&&!s&&(o=!0),f.source?i=c:f.changes&&(i=null);return a&&(u=a.length-1,r[0]=sHe({derive:o,pulse:u?a:a[0]}),(o||u)&&r.splice(1,0,nf())),i||r.push(nf()),r.push(nh({})),r}function nf(e){const t=Ds({},e);return t.metadata={source:!0},t}function gV(e,t){return JWe({url:t.url?e.property(t.url):void 0,async:t.async?e.property(t.async):void 0,values:t.values?e.property(t.values):void 0,format:e.objectProperty(t.format)})}const rae=e=>e===Cc||e===Ns,t_=(e,t,n)=>kn(e)?Mqe(e.signal,t,n):e===Sm||e===Ns?t:n,Dn=(e,t,n)=>kn(e)?Tqe(e.signal,t,n):rae(e)?t:n,xs=(e,t,n)=>kn(e)?Pqe(e.signal,t,n):rae(e)?n:t,iae=(e,t,n)=>kn(e)?Fqe(e.signal,t,n):e===Ns?{value:t}:{value:n},Aqe=(e,t,n)=>kn(e)?Rqe(e.signal,t,n):e===km?{value:t}:{value:n},Tqe=(e,t,n)=>oae(`${e} === '${Ns}' || ${e} === '${Cc}'`,t,n),Pqe=(e,t,n)=>oae(`${e} !== '${Ns}' && ${e} !== '${Cc}'`,t,n),Mqe=(e,t,n)=>DN(`${e} === '${Sm}' || ${e} === '${Ns}'`,t,n),Fqe=(e,t,n)=>DN(`${e} === '${Ns}'`,t,n),Rqe=(e,t,n)=>DN(`${e} === '${km}'`,t,n),oae=(e,t,n)=>(t=t!=null?On(t):t,n=n!=null?On(n):n,mV(t)&&mV(n)?(t=t?t.signal||ne(t.value):null,n=n?n.signal||ne(n.value):null,{signal:`${e} ? (${t}) : (${n})`}):[De({test:e},t)].concat(n||[])),mV=e=>e==null||Object.keys(e).length===1,DN=(e,t,n)=>({signal:`${e} ? (${mp(t)}) : (${mp(n)})`}),Oqe=(e,t,n,r,i)=>({signal:(r!=null?`${e} === '${Sm}' ? (${mp(r)}) : `:"")+(n!=null?`${e} === '${Cc}' ? (${mp(n)}) : `:"")+(i!=null?`${e} === '${km}' ? (${mp(i)}) : `:"")+(t!=null?`${e} === '${Ns}' ? (${mp(t)}) : `:"")+"(null)"}),mp=e=>kn(e)?e.signal:e==null?null:ne(e),Dqe=(e,t)=>t===0?0:kn(e)?{signal:`(${e.signal}) * ${t}`}:{value:e*t},Fp=(e,t)=>{const n=e.signal;return n&&n.endsWith("(null)")?{signal:n.slice(0,-6)+t.signal}:e};function Ph(e,t,n,r){let i;if(t&&fe(t,e))return t[e];if(fe(n,e))return n[e];if(e.startsWith("title")){switch(e){case"titleColor":i="fill";break;case"titleFont":case"titleFontSize":case"titleFontWeight":i=e[5].toLowerCase()+e.slice(6)}return r[AN][i]}else if(e.startsWith("label")){switch(e){case"labelColor":i="fill";break;case"labelFont":case"labelFontSize":i=e[5].toLowerCase()+e.slice(6)}return r[lb][i]}return null}function yV(e){const t={};for(const n of e)if(n)for(const r in n)t[r]=1;return Object.keys(t)}function Nqe(e,t){var n=t.config,r=n.style,i=n.axis,o=t.scaleType(e.scale)==="band"&&n.axisBand,s=e.orient,a,l,u;if(kn(s)){const f=yV([n.axisX,n.axisY]),d=yV([n.axisTop,n.axisBottom,n.axisLeft,n.axisRight]);a={};for(u of f)a[u]=Dn(s,Ph(u,n.axisX,i,r),Ph(u,n.axisY,i,r));l={};for(u of d)l[u]=Oqe(s.signal,Ph(u,n.axisTop,i,r),Ph(u,n.axisBottom,i,r),Ph(u,n.axisLeft,i,r),Ph(u,n.axisRight,i,r))}else a=s===Ns||s===Cc?n.axisX:n.axisY,l=n["axis"+s[0].toUpperCase()+s.slice(1)];return a||l||o?De({},i,a,l,o):i}function Lqe(e,t,n,r){const i=Ai(e,t),o=e.orient;let s,a;const l={enter:s={opacity:Ye},update:a={opacity:Fo},exit:{opacity:Ye}};rr(l,{stroke:i("domainColor"),strokeCap:i("domainCap"),strokeDash:i("domainDash"),strokeDashOffset:i("domainDashOffset"),strokeWidth:i("domainWidth"),strokeOpacity:i("domainOpacity")});const u=vV(e,0),c=vV(e,1);return s.x=a.x=Dn(o,u,Ye),s.x2=a.x2=Dn(o,c),s.y=a.y=xs(o,u,Ye),s.y2=a.y2=xs(o,c),to({type:PN,role:sWe,from:r,encode:l},n)}function vV(e,t){return{scale:e.scale,range:t}}function Iqe(e,t,n,r,i){const o=Ai(e,t),s=e.orient,a=e.gridScale,l=t_(s,1,-1),u=zqe(e.offset,l);let c,f,d;const h={enter:c={opacity:Ye},update:d={opacity:Fo},exit:f={opacity:Ye}};rr(h,{stroke:o("gridColor"),strokeCap:o("gridCap"),strokeDash:o("gridDash"),strokeDashOffset:o("gridDashOffset"),strokeOpacity:o("gridOpacity"),strokeWidth:o("gridWidth")});const p={scale:e.scale,field:Mo,band:i.band,extra:i.extra,offset:i.offset,round:o("tickRound")},g=Dn(s,{signal:"height"},{signal:"width"}),m=a?{scale:a,range:0,mult:l,offset:u}:{value:0,offset:u},y=a?{scale:a,range:1,mult:l,offset:u}:De(g,{mult:l,offset:u});return c.x=d.x=Dn(s,p,m),c.y=d.y=xs(s,p,m),c.x2=d.x2=xs(s,y),c.y2=d.y2=Dn(s,y),f.x=Dn(s,p),f.y=xs(s,p),to({type:PN,role:aWe,key:Mo,from:r,encode:h},n)}function zqe(e,t){if(t!==1)if(!se(e))e=kn(t)?{signal:`(${t.signal}) * (${e||0})`}:t*(e||0);else{let n=e=De({},e);for(;n.mult!=null;)if(se(n.mult))n=n.mult=De({},n.mult);else return n.mult=kn(t)?{signal:`(${n.mult}) * (${t.signal})`}:n.mult*t,e;n.mult=t}return e}function jqe(e,t,n,r,i,o){const s=Ai(e,t),a=e.orient,l=t_(a,-1,1);let u,c,f;const d={enter:u={opacity:Ye},update:f={opacity:Fo},exit:c={opacity:Ye}};rr(d,{stroke:s("tickColor"),strokeCap:s("tickCap"),strokeDash:s("tickDash"),strokeDashOffset:s("tickDashOffset"),strokeOpacity:s("tickOpacity"),strokeWidth:s("tickWidth")});const h=On(i);h.mult=l;const p={scale:e.scale,field:Mo,band:o.band,extra:o.extra,offset:o.offset,round:s("tickRound")};return f.y=u.y=Dn(a,Ye,p),f.y2=u.y2=Dn(a,h),c.x=Dn(a,p),f.x=u.x=xs(a,Ye,p),f.x2=u.x2=xs(a,h),c.y=xs(a,p),to({type:PN,role:uWe,key:Mo,from:r,encode:d},n)}function PT(e,t,n,r,i){return{signal:'flush(range("'+e+'"), scale("'+e+'", datum.value), '+t+","+n+","+r+","+i+")"}}function Bqe(e,t,n,r,i,o){const s=Ai(e,t),a=e.orient,l=e.scale,u=t_(a,-1,1),c=id(s("labelFlush")),f=id(s("labelFlushOffset")),d=s("labelAlign"),h=s("labelBaseline");let p=c===0||!!c,g;const m=On(i);m.mult=u,m.offset=On(s("labelPadding")||0),m.offset.mult=u;const y={scale:l,field:Mo,band:.5,offset:Jse(o.offset,s("labelOffset"))},v=Dn(a,p?PT(l,c,'"left"','"right"','"center"'):{value:"center"},Aqe(a,"left","right")),b=Dn(a,iae(a,"bottom","top"),p?PT(l,c,'"top"','"bottom"','"middle"'):{value:"middle"}),x=PT(l,c,`-(${f})`,f,0);p=p&&f;const w={opacity:Ye,x:Dn(a,y,m),y:xs(a,y,m)},k={enter:w,update:g={opacity:Fo,text:{field:$N},x:w.x,y:w.y,align:v,baseline:b},exit:{opacity:Ye,x:w.x,y:w.y}};rr(k,{dx:!d&&p?Dn(a,x):null,dy:!h&&p?xs(a,x):null}),rr(k,{angle:s("labelAngle"),fill:s("labelColor"),fillOpacity:s("labelOpacity"),font:s("labelFont"),fontSize:s("labelFontSize"),fontWeight:s("labelFontWeight"),fontStyle:s("labelFontStyle"),limit:s("labelLimit"),lineHeight:s("labelLineHeight")},{align:d,baseline:h});const S=s("labelBound");let C=s("labelOverlap");return C=C||S?{separation:s("labelSeparation"),method:C,order:"datum.index",bound:S?{scale:l,orient:a,tolerance:S}:null}:void 0,g.align!==v&&(g.align=Fp(g.align,v)),g.baseline!==b&&(g.baseline=Fp(g.baseline,b)),to({type:rh,role:lWe,style:lb,key:Mo,from:r,encode:k,overlap:C},n)}function Uqe(e,t,n,r){const i=Ai(e,t),o=e.orient,s=t_(o,-1,1);let a,l;const u={enter:a={opacity:Ye,anchor:On(i("titleAnchor",null)),align:{signal:MN}},update:l=De({},a,{opacity:Fo,text:On(e.title)}),exit:{opacity:Ye}},c={signal:`lerp(range("${e.scale}"), ${JE(0,1,.5)})`};return l.x=Dn(o,c),l.y=xs(o,c),a.angle=Dn(o,Ye,Dqe(s,90)),a.baseline=Dn(o,iae(o,Cc,Ns),{value:Cc}),l.angle=a.angle,l.baseline=a.baseline,rr(u,{fill:i("titleColor"),fillOpacity:i("titleOpacity"),font:i("titleFont"),fontSize:i("titleFontSize"),fontStyle:i("titleFontStyle"),fontWeight:i("titleFontWeight"),limit:i("titleLimit"),lineHeight:i("titleLineHeight")},{align:i("titleAlign"),angle:i("titleAngle"),baseline:i("titleBaseline")}),Vqe(i,o,u,n),u.update.align=Fp(u.update.align,a.align),u.update.angle=Fp(u.update.angle,a.angle),u.update.baseline=Fp(u.update.baseline,a.baseline),to({type:rh,role:cWe,style:AN,from:r,encode:u},n)}function Vqe(e,t,n,r){const i=(a,l)=>a!=null?(n.update[l]=Fp(On(a),n.update[l]),!1):!Bh(l,r),o=i(e("titleX"),"x"),s=i(e("titleY"),"y");n.enter.auto=s===o?On(s):Dn(t,On(s),On(o))}function Wqe(e,t){const n=Nqe(e,t),r=e.encode||{},i=r.axis||{},o=i.name||void 0,s=i.interactive,a=i.style,l=Ai(e,n),u=jHe(l),c={scale:e.scale,ticks:!!l("ticks"),labels:!!l("labels"),grid:!!l("grid"),domain:!!l("domain"),title:e.title!=null},f=ve(t.add(Ds({},[c]))),d=ve(t.add(HWe({scale:t.scaleRef(e.scale),extra:t.property(u.extra),count:t.objectProperty(e.tickCount),values:t.objectProperty(e.values),minstep:t.property(e.tickMinStep),formatType:t.property(e.formatType),formatSpecifier:t.property(e.format)}))),h=[];let p;return c.grid&&h.push(Iqe(e,n,r.grid,d,u)),c.ticks&&(p=l("tickSize"),h.push(jqe(e,n,r.ticks,d,p,u))),c.labels&&(p=c.ticks?p:0,h.push(Bqe(e,n,r.labels,d,p,u))),c.domain&&h.push(Lqe(e,n,r.domain,f)),c.title&&h.push(Uqe(e,n,r.title,f)),e_(X1({role:oWe,from:f,encode:wm(Hqe(l,e),i,ub),marks:h,aria:l("aria"),description:l("description"),zindex:l("zindex"),name:o,interactive:s,style:a}),t)}function Hqe(e,t){const n={enter:{},update:{}};return rr(n,{orient:e("orient"),offset:e("offset")||0,position:rs(t.position,0),titlePadding:e("titlePadding"),minExtent:e("minExtent"),maxExtent:e("maxExtent"),range:{signal:`abs(span(range("${t.scale}")))`},translate:e("translate"),format:t.format,formatType:t.formatType}),n}function sae(e,t,n){const r=le(e.signals),i=le(e.scales);return n||r.forEach(o=>Ise(o,t)),le(e.projections).forEach(o=>kHe(o,t)),i.forEach(o=>fHe(o,t)),le(e.data).forEach(o=>_qe(o,t)),i.forEach(o=>dHe(o,t)),(n||r).forEach(o=>WWe(o,t)),le(e.axes).forEach(o=>Wqe(o,t)),le(e.marks).forEach(o=>e_(o,t)),le(e.legends).forEach(o=>pqe(o,t)),e.title&&wqe(e.title,t),t.parseLambdas(),t}const qqe=e=>wm({enter:{x:{value:0},y:{value:0}},update:{width:{signal:"width"},height:{signal:"height"}}},e);function Gqe(e,t){const n=t.config,r=ve(t.root=t.add(kk())),i=Yqe(e,n);i.forEach(u=>Ise(u,t)),t.description=e.description||n.description,t.eventConfig=n.events,t.legends=t.objectProperty(n.legend&&n.legend.layout),t.locale=n.locale;const o=t.add(Ds()),s=t.add(Bse(Lse(qqe(e.encode),QE,kN,e.style,t,{pulse:ve(o)}))),a=t.add(Wse({layout:t.objectProperty(e.layout),legends:t.legends,autosize:t.signalRef("autosize"),mark:r,pulse:ve(s)}));t.operators.pop(),t.pushState(ve(s),ve(a),null),sae(e,t,i),t.operators.push(a);let l=t.add(jse({mark:r,pulse:ve(a)}));return l=t.add(Vse({pulse:ve(l)})),l=t.add(nh({pulse:ve(l)})),t.addData("root",new Ad(t,o,o,l)),t}function m0(e,t){return t&&t.signal?{name:e,update:t.signal}:{name:e,value:t}}function Yqe(e,t){const n=s=>rs(e[s],t[s]),r=[m0("background",n("background")),m0("autosize",nWe(n("autosize"))),m0("padding",iWe(n("padding"))),m0("width",n("width")||0),m0("height",n("height")||0)],i=r.reduce((s,a)=>(s[a.name]=a,s),{}),o={};return le(e.signals).forEach(s=>{fe(i,s.name)?s=De(i[s.name],s):r.push(s),o[s.name]=s}),le(t.signals).forEach(s=>{!fe(o,s.name)&&!fe(i,s.name)&&r.push(s)}),r}function aae(e,t){this.config=e||{},this.options=t||{},this.bindings=[],this.field={},this.signals={},this.lambdas={},this.scales={},this.events={},this.data={},this.streams=[],this.updates=[],this.operators=[],this.eventConfig=null,this.locale=null,this._id=0,this._subid=0,this._nextsub=[0],this._parent=[],this._encode=[],this._lookup=[],this._markpath=[]}function bV(e){this.config=e.config,this.options=e.options,this.legends=e.legends,this.field=Object.create(e.field),this.signals=Object.create(e.signals),this.lambdas=Object.create(e.lambdas),this.scales=Object.create(e.scales),this.events=Object.create(e.events),this.data=Object.create(e.data),this.streams=[],this.updates=[],this.operators=[],this._id=0,this._subid=++e._nextsub[0],this._nextsub=e._nextsub,this._parent=e._parent.slice(),this._encode=e._encode.slice(),this._lookup=e._lookup.slice(),this._markpath=e._markpath}aae.prototype=bV.prototype={parse(e){return sae(e,this)},fork(){return new bV(this)},isSubscope(){return this._subid>0},toRuntime(){return this.finish(),{description:this.description,operators:this.operators,streams:this.streams,updates:this.updates,bindings:this.bindings,eventConfig:this.eventConfig,locale:this.locale}},id(){return(this._subid?this._subid+":":0)+this._id++},add(e){return this.operators.push(e),e.id=this.id(),e.refs&&(e.refs.forEach(t=>{t.$ref=e.id}),e.refs=null),e},proxy(e){const t=e instanceof vM?ve(e):e;return this.add(oHe({value:t}))},addStream(e){return this.streams.push(e),e.id=this.id(),e},addUpdate(e){return this.updates.push(e),e},finish(){let e,t;this.root&&(this.root.root=!0);for(e in this.signals)this.signals[e].signal=e;for(e in this.scales)this.scales[e].scale=e;function n(r,i,o){let s,a;r&&(s=r.data||(r.data={}),a=s[i]||(s[i]=[]),a.push(o))}for(e in this.data){t=this.data[e],n(t.input,e,"input"),n(t.output,e,"output"),n(t.values,e,"values");for(const r in t.index)n(t.index[r],e,"index:"+r)}return this},pushState(e,t,n){this._encode.push(ve(this.add(nh({pulse:e})))),this._parent.push(t),this._lookup.push(n?ve(this.proxy(n)):null),this._markpath.push(-1)},popState(){this._encode.pop(),this._parent.pop(),this._lookup.pop(),this._markpath.pop()},parent(){return qe(this._parent)},encode(){return qe(this._encode)},lookup(){return qe(this._lookup)},markpath(){const e=this._markpath;return++e[e.length-1]},fieldRef(e,t){if(ue(e))return G1(e,t);e.signal||G("Unsupported field reference: "+ne(e));const n=e.signal;let r=this.field[n];if(!r){const i={name:this.signalRef(n)};t&&(i.as=t),this.field[n]=r=ve(this.add(XWe(i)))}return r},compareRef(e){let t=!1;const n=o=>kn(o)?(t=!0,this.signalRef(o.signal)):OWe(o)?(t=!0,this.exprRef(o.expr)):o,r=le(e.field).map(n),i=le(e.order).map(n);return t?ve(this.add(oV({fields:r,orders:i}))):rV(r,i)},keyRef(e,t){let n=!1;const r=o=>kn(o)?(n=!0,ve(i[o.signal])):o,i=this.signals;return e=le(e).map(r),n?ve(this.add(KWe({fields:e,flat:t}))):PWe(e,t)},sortRef(e){if(!e)return e;const t=XE(e.op,e.field),n=e.order||MWe;return n.signal?ve(this.add(oV({fields:t,orders:this.signalRef(n.signal)}))):rV(t,n)},event(e,t){const n=e+":"+t;if(!this.events[n]){const r=this.id();this.streams.push({id:r,source:e,type:t}),this.events[n]=r}return this.events[n]},hasOwnSignal(e){return fe(this.signals,e)},addSignal(e,t){this.hasOwnSignal(e)&&G("Duplicate signal name: "+ne(e));const n=t instanceof vM?t:this.add(kk(t));return this.signals[e]=n},getSignal(e){return this.signals[e]||G("Unrecognized signal name: "+ne(e)),this.signals[e]},signalRef(e){return this.signals[e]?ve(this.signals[e]):(fe(this.lambdas,e)||(this.lambdas[e]=this.add(kk(null))),ve(this.lambdas[e]))},parseLambdas(){const e=Object.keys(this.lambdas);for(let t=0,n=e.length;t<n;++t){const r=e[t],i=Ma(r,this),o=this.lambdas[r];o.params=i.$params,o.update=i.$expr}},property(e){return e&&e.signal?this.signalRef(e.signal):e},objectProperty(e){return!e||!se(e)?e:this.signalRef(e.signal||NN(e))},exprRef(e,t){const n={expr:Ma(e,this)};return t&&(n.expr.$name=t),ve(this.add(GWe(n)))},addBinding(e,t){this.bindings||G("Nested signals do not support binding: "+ne(e)),this.bindings.push(De({signal:e},t))},addScaleProj(e,t){fe(this.scales,e)&&G("Duplicate scale or projection name: "+ne(e)),this.scales[e]=this.add(t)},addScale(e,t){this.addScaleProj(e,aHe(t))},addProjection(e,t){this.addScaleProj(e,iHe(t))},getScale(e){return this.scales[e]||G("Unrecognized scale name: "+ne(e)),this.scales[e]},scaleRef(e){return ve(this.getScale(e))},scaleType(e){return this.getScale(e).params.type},projectionRef(e){return this.scaleRef(e)},projectionType(e){return this.scaleType(e)},addData(e,t){return fe(this.data,e)&&G("Duplicate data set name: "+ne(e)),this.data[e]=t},getData(e){return this.data[e]||G("Undefined data set name: "+ne(e)),this.data[e]},addDataPipeline(e,t){return fe(this.data,e)&&G("Duplicate data set name: "+ne(e)),this.addData(e,Ad.fromEntries(this,t))}};function NN(e){return(Y(e)?Xqe:Kqe)(e)}function Xqe(e){const t=e.length;let n="[";for(let r=0;r<t;++r){const i=e[r];n+=(r>0?",":"")+(se(i)?i.signal||NN(i):ne(i))}return n+"]"}function Kqe(e){let t="{",n=0,r,i;for(r in e)i=e[r],t+=(++n>1?",":"")+ne(r)+":"+(se(i)?i.signal||NN(i):ne(i));return t+"}"}function Qqe(){const e="sans-serif",r="#4c78a8",i="#000",o="#888",s="#ddd";return{description:"Vega visualization",padding:0,autosize:"pad",background:null,events:{defaults:{allow:["wheel"]}},group:null,mark:null,arc:{fill:r},area:{fill:r},image:null,line:{stroke:r,strokeWidth:2},path:{stroke:r},rect:{fill:r},rule:{stroke:i},shape:{stroke:r},symbol:{fill:r,size:64},text:{fill:i,font:e,fontSize:11},trail:{fill:r,size:2},style:{"guide-label":{fill:i,font:e,fontSize:10},"guide-title":{fill:i,font:e,fontSize:11,fontWeight:"bold"},"group-title":{fill:i,font:e,fontSize:13,fontWeight:"bold"},"group-subtitle":{fill:i,font:e,fontSize:12},point:{size:30,strokeWidth:2,shape:"circle"},circle:{size:30,strokeWidth:2},square:{size:30,strokeWidth:2,shape:"square"},cell:{fill:"transparent",stroke:s},view:{fill:"transparent"}},title:{orient:"top",anchor:"middle",offset:4,subtitlePadding:3},axis:{minExtent:0,maxExtent:200,bandPosition:.5,domain:!0,domainWidth:1,domainColor:o,grid:!1,gridWidth:1,gridColor:s,labels:!0,labelAngle:0,labelLimit:180,labelOffset:0,labelPadding:2,ticks:!0,tickColor:o,tickOffset:0,tickRound:!0,tickSize:5,tickWidth:1,titlePadding:4},axisBand:{tickOffset:-.5},projection:{type:"mercator"},legend:{orient:"right",padding:0,gridAlign:"each",columnPadding:10,rowPadding:2,symbolDirection:"vertical",gradientDirection:"vertical",gradientLength:200,gradientThickness:16,gradientStrokeColor:s,gradientStrokeWidth:0,gradientLabelOffset:2,labelAlign:"left",labelBaseline:"middle",labelLimit:160,labelOffset:4,labelOverlap:!0,symbolLimit:30,symbolType:"circle",symbolSize:100,symbolOffset:0,symbolStrokeWidth:1.5,symbolBaseFillColor:"transparent",symbolBaseStrokeColor:o,titleLimit:180,titleOrient:"top",titlePadding:5,layout:{offset:18,direction:"horizontal",left:{direction:"vertical"},right:{direction:"vertical"}}},range:{category:{scheme:"tableau10"},ordinal:{scheme:"blues"},heatmap:{scheme:"yellowgreenblue"},ramp:{scheme:"blues"},diverging:{scheme:"blueorange",extent:[1,0]},symbol:["circle","square","triangle-up","cross","diamond","triangle-right","triangle-down","triangle-left"]}}}function Jqe(e,t,n){return se(e)||G("Input Vega specification must be an object."),t=um(Qqe(),t,e.config),Gqe(e,new aae(t,n)).toRuntime()}var Zqe="5.30.0";De(bg,tRe,ELe,rIe,U8e,N9e,u7e,Uze,f7e,D7e,H7e,J7e);const eGe=Object.freeze(Object.defineProperty({__proto__:null,Bounds:gn,CanvasHandler:Zv,CanvasRenderer:LS,DATE:Si,DAY:xr,DAYOFYEAR:Ta,Dataflow:Ap,Debug:KJ,Error:qC,EventStream:nE,Gradient:Xne,GroupItem:EE,HOURS:Ji,Handler:i6,HybridHandler:jre,HybridRenderer:_P,Info:XJ,Item:CE,MILLISECONDS:_s,MINUTES:Zi,MONTH:Cr,Marks:eo,MultiPulse:yO,None:YJ,Operator:kt,Parameters:tE,Pulse:ic,QUARTER:wi,RenderType:ju,Renderer:Jv,ResourceLoader:nre,SECONDS:Lo,SVGHandler:$re,SVGRenderer:c6,SVGStringRenderer:zre,Scenegraph:bre,TIME_UNITS:aO,Transform:H,View:Ese,WEEK:wn,Warn:GR,YEAR:er,accessor:$i,accessorFields:kr,accessorName:tn,array:le,ascending:XC,bandwidthNRD:wO,bin:Pee,bootstrapCI:Mee,boundClip:Kre,boundContext:Yv,boundItem:wP,boundMark:gre,boundStroke:Xl,changeset:Jd,clampRange:aZ,codegenExpression:Joe,compare:JR,constant:Tr,cumulativeLogNormal:$O,cumulativeNormal:iE,cumulativeUniform:MO,dayofyear:LZ,debounce:ZR,defaultLocale:dO,definition:$ee,densityLogNormal:_O,densityNormal:SO,densityUniform:PO,domChild:bn,domClear:wo,domCreate:Iu,domFind:r6,dotbin:Fee,error:G,expressionFunction:un,extend:De,extent:Aa,extentIndex:lZ,falsy:du,fastmap:fm,field:Do,flush:uZ,font:PE,fontFamily:Qv,fontSize:za,format:Iw,formatLocale:pS,formats:gO,hasOwnProperty:fe,id:Tv,identity:Ar,inferType:mee,inferTypes:yee,ingest:at,inherits:re,inrange:fp,interpolate:OD,interpolateColors:SE,interpolateRange:Dne,intersect:qre,intersectBoxLine:dp,intersectPath:UD,intersectPoint:VD,intersectRule:ire,isArray:Y,isBoolean:Dc,isDate:rc,isFunction:Ne,isIterable:cZ,isNumber:Je,isObject:se,isRegExp:fZ,isString:ue,isTuple:ZC,key:eO,lerp:dZ,lineHeight:wc,loader:QC,locale:pee,logger:YR,lruCache:hZ,markup:u6,merge:pZ,mergeConfig:um,multiLineOffset:e6,one:lm,pad:gZ,panLinear:tZ,panLog:nZ,panPow:rZ,panSymlog:iZ,parse:Jqe,parseExpression:uN,parseSelector:Bc,path:uE,pathCurves:zD,pathEqual:Qre,pathParse:Eg,pathRectangle:Jne,pathRender:D1,pathSymbols:Qne,pathTrail:Zne,peek:qe,point:FE,projection:T6,quantileLogNormal:AO,quantileNormal:oE,quantileUniform:FO,quantiles:bO,quantizeInterpolator:Nne,quarter:oZ,quartiles:xO,get random(){return Io},randomInteger:o4e,randomKDE:CO,randomLCG:i4e,randomLogNormal:Oee,randomMixture:Dee,randomNormal:kO,randomUniform:Nee,read:xee,regressionConstant:RO,regressionExp:Iee,regressionLinear:OO,regressionLoess:Bee,regressionLog:Lee,regressionPoly:jee,regressionPow:zee,regressionQuad:DO,renderModule:RE,repeat:B0,resetDefaultLocale:tFe,resetSVGClipId:tre,resetSVGDefIds:VNe,responseType:bee,runtimeContext:dse,sampleCurve:aE,sampleLogNormal:EO,sampleNormal:rE,sampleUniform:TO,scale:et,sceneEqual:f6,sceneFromJSON:yre,scenePickVisit:TS,sceneToJSON:mre,sceneVisit:$s,sceneZOrder:WD,scheme:DD,serializeXML:Dre,setHybridRendererOptions:zNe,setRandom:n4e,span:Pv,splitAccessPath:Na,stringValue:ne,textMetrics:Gi,timeBin:eee,timeFloor:WZ,timeFormatLocale:T1,timeInterval:hm,timeOffset:GZ,timeSequence:KZ,timeUnitSpecifier:NZ,timeUnits:lO,toBoolean:tO,toDate:nO,toNumber:wr,toSet:ks,toString:rO,transform:Aee,transforms:bg,truncate:mZ,truthy:No,tupleid:be,typeParsers:iP,utcFloor:HZ,utcInterval:pm,utcOffset:YZ,utcSequence:QZ,utcdayofyear:jZ,utcquarter:sZ,utcweek:BZ,version:Zqe,visitArray:bu,week:IZ,writeConfig:cm,zero:Au,zoomLinear:XR,zoomLog:KR,zoomPow:lS,zoomSymlog:QR},Symbol.toStringTag,{value:"Module"}));function tGe(e,t,n){let r;t.x2&&(t.x?(n&&e.x>e.x2&&(r=e.x,e.x=e.x2,e.x2=r),e.width=e.x2-e.x):e.x=e.x2-(e.width||0)),t.xc&&(e.x=e.xc-(e.width||0)/2),t.y2&&(t.y?(n&&e.y>e.y2&&(r=e.y,e.y=e.y2,e.y2=r),e.height=e.y2-e.y):e.y=e.y2-(e.height||0)),t.yc&&(e.y=e.yc-(e.height||0)/2)}var nGe={NaN:NaN,E:Math.E,LN2:Math.LN2,LN10:Math.LN10,LOG2E:Math.LOG2E,LOG10E:Math.LOG10E,PI:Math.PI,SQRT1_2:Math.SQRT1_2,SQRT2:Math.SQRT2,MIN_VALUE:Number.MIN_VALUE,MAX_VALUE:Number.MAX_VALUE},rGe={"*":(e,t)=>e*t,"+":(e,t)=>e+t,"-":(e,t)=>e-t,"/":(e,t)=>e/t,"%":(e,t)=>e%t,">":(e,t)=>e>t,"<":(e,t)=>e<t,"<=":(e,t)=>e<=t,">=":(e,t)=>e>=t,"==":(e,t)=>e==t,"!=":(e,t)=>e!=t,"===":(e,t)=>e===t,"!==":(e,t)=>e!==t,"&":(e,t)=>e&t,"|":(e,t)=>e|t,"^":(e,t)=>e^t,"<<":(e,t)=>e<<t,">>":(e,t)=>e>>t,">>>":(e,t)=>e>>>t},iGe={"+":e=>+e,"-":e=>-e,"~":e=>~e,"!":e=>!e};const oGe=Array.prototype.slice,rf=(e,t,n)=>{const r=n?n(t[0]):t[0];return r[e].apply(r,oGe.call(t,1))},sGe=(e,t,n,r,i,o,s)=>new Date(e,t||0,n??1,r||0,i||0,o||0,s||0);var aGe={isNaN:Number.isNaN,isFinite:Number.isFinite,abs:Math.abs,acos:Math.acos,asin:Math.asin,atan:Math.atan,atan2:Math.atan2,ceil:Math.ceil,cos:Math.cos,exp:Math.exp,floor:Math.floor,log:Math.log,max:Math.max,min:Math.min,pow:Math.pow,random:Math.random,round:Math.round,sin:Math.sin,sqrt:Math.sqrt,tan:Math.tan,clamp:(e,t,n)=>Math.max(t,Math.min(n,e)),now:Date.now,utc:Date.UTC,datetime:sGe,date:e=>new Date(e).getDate(),day:e=>new Date(e).getDay(),year:e=>new Date(e).getFullYear(),month:e=>new Date(e).getMonth(),hours:e=>new Date(e).getHours(),minutes:e=>new Date(e).getMinutes(),seconds:e=>new Date(e).getSeconds(),milliseconds:e=>new Date(e).getMilliseconds(),time:e=>new Date(e).getTime(),timezoneoffset:e=>new Date(e).getTimezoneOffset(),utcdate:e=>new Date(e).getUTCDate(),utcday:e=>new Date(e).getUTCDay(),utcyear:e=>new Date(e).getUTCFullYear(),utcmonth:e=>new Date(e).getUTCMonth(),utchours:e=>new Date(e).getUTCHours(),utcminutes:e=>new Date(e).getUTCMinutes(),utcseconds:e=>new Date(e).getUTCSeconds(),utcmilliseconds:e=>new Date(e).getUTCMilliseconds(),length:e=>e.length,join:function(){return rf("join",arguments)},indexof:function(){return rf("indexOf",arguments)},lastindexof:function(){return rf("lastIndexOf",arguments)},slice:function(){return rf("slice",arguments)},reverse:e=>e.slice().reverse(),parseFloat,parseInt,upper:e=>String(e).toUpperCase(),lower:e=>String(e).toLowerCase(),substring:function(){return rf("substring",arguments,String)},split:function(){return rf("split",arguments,String)},replace:function(){return rf("replace",arguments,String)},trim:e=>String(e).trim(),regexp:RegExp,test:(e,t)=>RegExp(e).test(t)};const lGe=["view","item","group","xy","x","y"],EM=new Set([Function,eval,setTimeout,setInterval]);typeof setImmediate=="function"&&EM.add(setImmediate);const uGe={Literal:(e,t)=>t.value,Identifier:(e,t)=>{const n=t.name;return e.memberDepth>0?n:n==="datum"?e.datum:n==="event"?e.event:n==="item"?e.item:nGe[n]||e.params["$"+n]},MemberExpression:(e,t)=>{const n=!t.computed,r=e(t.object);n&&(e.memberDepth+=1);const i=e(t.property);if(n&&(e.memberDepth-=1),EM.has(r[i])){console.error(`Prevented interpretation of member "${i}" which could lead to insecure code execution`);return}return r[i]},CallExpression:(e,t)=>{const n=t.arguments;let r=t.callee.name;return r.startsWith("_")&&(r=r.slice(1)),r==="if"?e(n[0])?e(n[1]):e(n[2]):(e.fn[r]||aGe[r]).apply(e.fn,n.map(e))},ArrayExpression:(e,t)=>t.elements.map(e),BinaryExpression:(e,t)=>rGe[t.operator](e(t.left),e(t.right)),UnaryExpression:(e,t)=>iGe[t.operator](e(t.argument)),ConditionalExpression:(e,t)=>e(t.test)?e(t.consequent):e(t.alternate),LogicalExpression:(e,t)=>t.operator==="&&"?e(t.left)&&e(t.right):e(t.left)||e(t.right),ObjectExpression:(e,t)=>t.properties.reduce((n,r)=>{e.memberDepth+=1;const i=e(r.key);return e.memberDepth-=1,EM.has(e(r.value))?console.error(`Prevented interpretation of property "${i}" which could lead to insecure code execution`):n[i]=e(r.value),n},{})};function y0(e,t,n,r,i,o){const s=a=>uGe[a.type](s,a);return s.memberDepth=0,s.fn=Object.create(t),s.params=n,s.datum=r,s.event=i,s.item=o,lGe.forEach(a=>s.fn[a]=function(){return i.vega[a](...arguments)}),s(e)}var cGe={operator(e,t){const n=t.ast,r=e.functions;return i=>y0(n,r,i)},parameter(e,t){const n=t.ast,r=e.functions;return(i,o)=>y0(n,r,o,i)},event(e,t){const n=t.ast,r=e.functions;return i=>y0(n,r,void 0,void 0,i)},handler(e,t){const n=t.ast,r=e.functions;return(i,o)=>{const s=o.item&&o.item.datum;return y0(n,r,i,s,o)}},encode(e,t){const{marktype:n,channels:r}=t,i=e.functions,o=n==="group"||n==="image"||n==="rect";return(s,a)=>{const l=s.datum;let u=0,c;for(const f in r)c=y0(r[f].ast,i,a,l,void 0,s),s[f]!==c&&(s[f]=c,u=1);return n!=="rule"&&tGe(s,r,o),u}}};const fGe="vega-lite",dGe='Dominik Moritz, Kanit "Ham" Wongsuphasawat, Arvind Satyanarayan, Jeffrey Heer',hGe="5.21.0",pGe=["Kanit Wongsuphasawat (http://kanitw.yellowpigz.com)","Dominik Moritz (https://www.domoritz.de)","Arvind Satyanarayan (https://arvindsatya.com)","Jeffrey Heer (https://jheer.org)"],gGe="https://vega.github.io/vega-lite/",mGe="Vega-Lite is a concise high-level language for interactive visualization.",yGe=["vega","chart","visualization"],vGe="build/vega-lite.js",bGe="build/vega-lite.min.js",xGe="build/vega-lite.min.js",wGe="build/src/index",SGe="build/src/index.d.ts",kGe={vl2pdf:"./bin/vl2pdf",vl2png:"./bin/vl2png",vl2svg:"./bin/vl2svg",vl2vg:"./bin/vl2vg"},CGe=["bin","build","src","vega-lite*","tsconfig.json"],EGe={changelog:"conventional-changelog -p angular -r 2",prebuild:"yarn clean:build",build:"yarn build:only","build:only":"tsc -p tsconfig.build.json && rollup -c","prebuild:examples":"yarn build:only","build:examples":"yarn data && TZ=America/Los_Angeles scripts/build-examples.sh","prebuild:examples-full":"yarn build:only","build:examples-full":"TZ=America/Los_Angeles scripts/build-examples.sh 1","build:example":"TZ=America/Los_Angeles scripts/build-example.sh","build:toc":"yarn build:jekyll && scripts/generate-toc","build:site":"rollup -c site/rollup.config.mjs","build:jekyll":"pushd site && bundle exec jekyll build -q && popd","build:versions":"scripts/update-version.sh",clean:"yarn clean:build && del-cli 'site/data/*' 'examples/compiled/*.png' && find site/examples ! -name 'index.md' ! -name 'data' -type f -delete","clean:build":"del-cli 'build/*' !build/vega-lite-schema.json",data:"rsync -r node_modules/vega-datasets/data/* site/data","build-editor-preview":"scripts/build-editor-preview.sh",schema:"mkdir -p build && ts-json-schema-generator -f tsconfig.json -p src/index.ts -t TopLevelSpec --no-type-check --no-ref-encode > build/vega-lite-schema.json && yarn renameschema && cp build/vega-lite-schema.json site/_data/",renameschema:"scripts/rename-schema.sh",presite:"yarn data && yarn schema && yarn build:site && yarn build:versions && scripts/create-example-pages.sh",site:"yarn site:only","site:only":"pushd site && bundle exec jekyll serve -I -l && popd",prettierbase:"prettier '**/*.{md,css,yml}'",format:"eslint . --fix && yarn prettierbase --write",lint:"eslint . && yarn prettierbase --check",test:"yarn jest test/ && yarn lint && yarn schema && yarn jest examples/ && yarn test:runtime","test:cover":"yarn jest --collectCoverage test/","test:inspect":"node --inspect-brk ./node_modules/.bin/jest --runInBand test","test:runtime":"TZ=America/Los_Angeles npx jest test-runtime/ --config test-runtime/jest-config.json","test:runtime:generate":"yarn build:only && del-cli test-runtime/resources && VL_GENERATE_TESTS=true yarn test:runtime",watch:"tsc -p tsconfig.build.json -w","watch:site":"yarn build:site -w","watch:test":"yarn jest --watch test/","watch:test:runtime":"TZ=America/Los_Angeles npx jest --watch test-runtime/ --config test-runtime/jest-config.json",release:"release-it"},_Ge={type:"git",url:"https://github.com/vega/vega-lite.git"},$Ge="BSD-3-Clause",AGe={url:"https://github.com/vega/vega-lite/issues"},TGe={"@babel/core":"^7.24.9","@babel/preset-env":"^7.25.0","@babel/preset-typescript":"^7.24.7","@release-it/conventional-changelog":"^8.0.1","@rollup/plugin-alias":"^5.1.0","@rollup/plugin-babel":"^6.0.4","@rollup/plugin-commonjs":"^26.0.1","@rollup/plugin-json":"^6.1.0","@rollup/plugin-node-resolve":"^15.2.3","@rollup/plugin-terser":"^0.4.4","@types/d3":"^7.4.3","@types/jest":"^29.5.12","@types/pako":"^2.0.3","@typescript-eslint/eslint-plugin":"^7.17.0","@typescript-eslint/parser":"^7.17.0",ajv:"^8.17.1","ajv-formats":"^3.0.1",cheerio:"^1.0.0-rc.12","conventional-changelog-cli":"^5.0.0",d3:"^7.9.0","del-cli":"^5.1.0",eslint:"^8.57.0","eslint-config-prettier":"^9.1.0","eslint-plugin-jest":"^27.9.0","eslint-plugin-prettier":"^5.2.1","fast-json-stable-stringify":"~2.1.0","highlight.js":"^11.10.0",jest:"^29.7.0","jest-dev-server":"^10.0.0",mkdirp:"^3.0.1",pako:"^2.1.0",prettier:"^3.3.3",puppeteer:"^15.0.0","release-it":"17.6.0",rollup:"^4.19.1","rollup-plugin-bundle-size":"^1.0.3",serve:"^14.2.3",terser:"^5.31.3","ts-jest":"^29.2.3","ts-json-schema-generator":"^2.3.0",typescript:"~5.5.4","vega-cli":"^5.28.0","vega-datasets":"^2.8.1","vega-embed":"^6.26.0","vega-tooltip":"^0.34.0","yaml-front-matter":"^4.1.1"},PGe={"json-stringify-pretty-compact":"~3.0.0",tslib:"~2.6.3","vega-event-selector":"~3.0.1","vega-expression":"~5.1.1","vega-util":"~1.17.2",yargs:"~17.7.2"},MGe={vega:"^5.24.0"},FGe={node:">=18"},RGe="yarn@1.22.19",OGe={name:fGe,author:dGe,version:hGe,collaborators:pGe,homepage:gGe,description:mGe,keywords:yGe,main:vGe,unpkg:bGe,jsdelivr:xGe,module:wGe,types:SGe,bin:kGe,files:CGe,scripts:EGe,repository:_Ge,license:$Ge,bugs:AGe,devDependencies:TGe,dependencies:PGe,peerDependencies:MGe,engines:FGe,packageManager:RGe};function LN(e){return K(e,"or")}function IN(e){return K(e,"and")}function zN(e){return K(e,"not")}function l2(e,t){if(zN(e))l2(e.not,t);else if(IN(e))for(const n of e.and)l2(n,t);else if(LN(e))for(const n of e.or)l2(n,t);else t(e)}function Rp(e,t){return zN(e)?{not:Rp(e.not,t)}:IN(e)?{and:e.and.map(n=>Rp(n,t))}:LN(e)?{or:e.or.map(n=>Rp(n,t))}:t(e)}const Pe=structuredClone;function lae(e){throw new Error(e)}function Og(e,t){const n={};for(const r of t)fe(e,r)&&(n[r]=e[r]);return n}function yi(e,t){const n={...e};for(const r of t)delete n[r];return n}Set.prototype.toJSON=function(){return`Set(${[...this].map(e=>bt(e)).join(",")})`};function Be(e){if(Je(e))return e;const t=ue(e)?e:bt(e);if(t.length<250)return t;let n=0;for(let r=0;r<t.length;r++){const i=t.charCodeAt(r);n=(n<<5)-n+i,n=n&n}return n}function _M(e){return e===!1||e===null}function ze(e,t){return e.includes(t)}function Dg(e,t){let n=0;for(const[r,i]of e.entries())if(t(i,r,n++))return!0;return!1}function jN(e,t){let n=0;for(const[r,i]of e.entries())if(!t(i,r,n++))return!1;return!0}function uae(e,...t){for(const n of t)DGe(e,n??{});return e}function DGe(e,t){for(const n of X(t))cm(e,n,t[n],!0)}function da(e,t){const n=[],r={};let i;for(const o of e)i=t(o),!(i in r)&&(r[i]=1,n.push(o));return n}function NGe(e,t){const n=X(e),r=X(t);if(n.length!==r.length)return!1;for(const i of n)if(e[i]!==t[i])return!1;return!0}function cae(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}function BN(e,t){for(const n of e)if(t.has(n))return!0;return!1}function $M(e){const t=new Set;for(const n of e){const i=Na(n).map((s,a)=>a===0?s:`[${s}]`),o=i.map((s,a)=>i.slice(0,a+1).join(""));for(const s of o)t.add(s)}return t}function UN(e,t){return e===void 0||t===void 0?!0:BN($M(e),$M(t))}function vt(e){return X(e).length===0}const X=Object.keys,tr=Object.values,Ec=Object.entries;function K1(e){return e===!0||e===!1}function zt(e){const t=e.replace(/\W/g,"_");return(e.match(/^\d+/)?"_":"")+t}function qy(e,t){return zN(e)?`!(${qy(e.not,t)})`:IN(e)?`(${e.and.map(n=>qy(n,t)).join(") && (")})`:LN(e)?`(${e.or.map(n=>qy(n,t)).join(") || (")})`:t(e)}function Ck(e,t){if(t.length===0)return!0;const n=t.shift();return n in e&&Ck(e[n],t)&&delete e[n],vt(e)}function cb(e){return e.charAt(0).toUpperCase()+e.substr(1)}function VN(e,t="datum"){const n=Na(e),r=[];for(let i=1;i<=n.length;i++){const o=`[${n.slice(0,i).map(ne).join("][")}]`;r.push(`${t}${o}`)}return r.join(" && ")}function fae(e,t="datum"){return`${t}[${ne(Na(e).join("."))}]`}function LGe(e){return e.replace(/(\[|\]|\.|'|")/g,"\\$1")}function jo(e){return`${Na(e).map(LGe).join("\\.")}`}function Td(e,t,n){return e.replace(new RegExp(t.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"),"g"),n)}function Cm(e){return`${Na(e).join(".")}`}function Ng(e){return e?Na(e).length:0}function an(...e){return e.find(t=>t!==void 0)}let dae=42;function hae(e){const t=++dae;return e?String(e)+t:t}function IGe(){dae=42}function pae(e){return gae(e)?e:`__${e}`}function gae(e){return e.startsWith("__")}function Q1(e){if(e!==void 0)return(e%360+360)%360}function n_(e){return Je(e)?!0:!isNaN(e)&&!isNaN(parseFloat(e))}const xV=Object.getPrototypeOf(structuredClone({}));function Ui(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor.name!==t.constructor.name)return!1;let n,r;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!Ui(e[r],t[r]))return!1;return!0}if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const o of e.entries())if(!t.has(o[0]))return!1;for(const o of e.entries())if(!Ui(o[1],t.get(o[0])))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const o of e.entries())if(!t.has(o[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(e[r]!==t[r])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&e.valueOf!==xV.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&e.toString!==xV.toString)return e.toString()===t.toString();const i=Object.keys(e);if(n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const o=i[r];if(!Ui(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function bt(e){const t=[];return function n(r){if(r&&r.toJSON&&typeof r.toJSON=="function"&&(r=r.toJSON()),r===void 0)return;if(typeof r=="number")return isFinite(r)?""+r:"null";if(typeof r!="object")return JSON.stringify(r);let i,o;if(Array.isArray(r)){for(o="[",i=0;i<r.length;i++)i&&(o+=","),o+=n(r[i])||"null";return o+"]"}if(r===null)return"null";if(t.includes(r))throw new TypeError("Converting circular structure to JSON");const s=t.push(r)-1,a=Object.keys(r).sort();for(o="",i=0;i<a.length;i++){const l=a[i],u=n(r[l]);u&&(o&&(o+=","),o+=JSON.stringify(l)+":"+u)}return t.splice(s,1),`{${o}}`}(e)}function K(e,t){return se(e)&&fe(e,t)&&e[t]!==void 0}const $l="row",Al="column",r_="facet",jt="x",Un="y",Ls="x2",Va="y2",Uc="xOffset",Em="yOffset",Is="radius",Ql="radius2",Vo="theta",Jl="theta2",zs="latitude",js="longitude",Bs="latitude2",Bo="longitude2",Ci="color",Wa="fill",Ha="stroke",Ei="shape",Zl="size",ih="angle",eu="opacity",Vc="fillOpacity",Wc="strokeOpacity",Hc="strokeWidth",qc="strokeDash",fb="text",Lg="order",db="detail",i_="key",Pd="tooltip",o_="href",s_="url",a_="description",zGe={x:1,y:1,x2:1,y2:1},mae={theta:1,theta2:1,radius:1,radius2:1};function yae(e){return fe(mae,e)}const WN={longitude:1,longitude2:1,latitude:1,latitude2:1};function vae(e){switch(e){case zs:return"y";case Bs:return"y2";case js:return"x";case Bo:return"x2"}}function bae(e){return fe(WN,e)}const jGe=X(WN),HN={...zGe,...mae,...WN,xOffset:1,yOffset:1,color:1,fill:1,stroke:1,opacity:1,fillOpacity:1,strokeOpacity:1,strokeWidth:1,strokeDash:1,size:1,angle:1,shape:1,order:1,text:1,detail:1,key:1,tooltip:1,href:1,url:1,description:1};function Op(e){return e===Ci||e===Wa||e===Ha}const xae={row:1,column:1,facet:1},To=X(xae),qN={...HN,...xae},BGe=X(qN),{order:vft,detail:bft,tooltip:xft,...UGe}=qN,{row:wft,column:Sft,facet:kft,...VGe}=UGe;function WGe(e){return fe(VGe,e)}function wae(e){return fe(qN,e)}const HGe=[Ls,Va,Bs,Bo,Jl,Ql];function Sae(e){return oh(e)!==e}function oh(e){switch(e){case Ls:return jt;case Va:return Un;case Bs:return zs;case Bo:return js;case Jl:return Vo;case Ql:return Is}return e}function _c(e){if(yae(e))switch(e){case Vo:return"startAngle";case Jl:return"endAngle";case Is:return"outerRadius";case Ql:return"innerRadius"}return e}function qa(e){switch(e){case jt:return Ls;case Un:return Va;case zs:return Bs;case js:return Bo;case Vo:return Jl;case Is:return Ql}}function _i(e){switch(e){case jt:case Ls:return"width";case Un:case Va:return"height"}}function kae(e){switch(e){case jt:return"xOffset";case Un:return"yOffset";case Ls:return"x2Offset";case Va:return"y2Offset";case Vo:return"thetaOffset";case Is:return"radiusOffset";case Jl:return"theta2Offset";case Ql:return"radius2Offset"}}function GN(e){switch(e){case jt:return"xOffset";case Un:return"yOffset"}}function qGe(e){switch(e){case"xOffset":return"x";case"yOffset":return"y"}}const GGe=X(HN),{x:Cft,y:Eft,x2:_ft,y2:$ft,xOffset:Aft,yOffset:Tft,latitude:Pft,longitude:Mft,latitude2:Fft,longitude2:Rft,theta:Oft,theta2:Dft,radius:Nft,radius2:Lft,...YN}=HN,YGe=X(YN),XN={x:1,y:1},tu=X(XN);function ln(e){return fe(XN,e)}const KN={theta:1,radius:1},XGe=X(KN);function l_(e){return e==="width"?jt:Un}const Cae={xOffset:1,yOffset:1};function hb(e){return fe(Cae,e)}const{text:Ift,tooltip:zft,href:jft,url:Bft,description:Uft,detail:Vft,key:Wft,order:Hft,...Eae}=YN,KGe=X(Eae);function QGe(e){return fe(YN,e)}function JGe(e){switch(e){case Ci:case Wa:case Ha:case Zl:case Ei:case eu:case Hc:case qc:return!0;case Vc:case Wc:case ih:return!1}}const _ae={...XN,...KN,...Cae,...Eae},QN=X(_ae);function Ga(e){return fe(_ae,e)}function ZGe(e,t){return tYe(e)[t]}const $ae={arc:"always",area:"always",bar:"always",circle:"always",geoshape:"always",image:"always",line:"always",rule:"always",point:"always",rect:"always",square:"always",trail:"always",text:"always",tick:"always"},{geoshape:qft,...eYe}=$ae;function tYe(e){switch(e){case Ci:case Wa:case Ha:case a_:case db:case i_:case Pd:case o_:case Lg:case eu:case Vc:case Wc:case Hc:case r_:case $l:case Al:return $ae;case jt:case Un:case Uc:case Em:case zs:case js:return eYe;case Ls:case Va:case Bs:case Bo:return{area:"always",bar:"always",image:"always",rect:"always",rule:"always",circle:"binned",point:"binned",square:"binned",tick:"binned",line:"binned",trail:"binned"};case Zl:return{point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",text:"always",line:"always",trail:"always"};case qc:return{line:"always",point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",geoshape:"always"};case Ei:return{point:"always",geoshape:"always"};case fb:return{text:"always"};case ih:return{point:"always",square:"always",text:"always"};case s_:return{image:"always"};case Vo:return{text:"always",arc:"always"};case Is:return{text:"always",arc:"always"};case Jl:case Ql:return{arc:"always"}}}function MT(e){switch(e){case jt:case Un:case Vo:case Is:case Uc:case Em:case Zl:case ih:case Hc:case eu:case Vc:case Wc:case Ls:case Va:case Jl:case Ql:return;case r_:case $l:case Al:case Ei:case qc:case fb:case Pd:case o_:case s_:case a_:return"discrete";case Ci:case Wa:case Ha:return"flexible";case zs:case js:case Bs:case Bo:case db:case i_:case Lg:return}}const nYe={argmax:1,argmin:1,average:1,count:1,distinct:1,exponential:1,exponentialb:1,product:1,max:1,mean:1,median:1,min:1,missing:1,q1:1,q3:1,ci0:1,ci1:1,stderr:1,stdev:1,stdevp:1,sum:1,valid:1,values:1,variance:1,variancep:1},rYe={count:1,min:1,max:1};function Ul(e){return K(e,"argmin")}function Gc(e){return K(e,"argmax")}function JN(e){return ue(e)&&fe(nYe,e)}const iYe=new Set(["count","valid","missing","distinct"]);function u_(e){return ue(e)&&iYe.has(e)}function oYe(e){return ue(e)&&ze(["min","max"],e)}const sYe=new Set(["count","sum","distinct","valid","missing"]),aYe=new Set(["mean","average","median","q1","q3","min","max"]);function Aae(e){return Dc(e)&&(e=w_(e,void 0)),"bin"+X(e).map(t=>c_(e[t])?zt(`_${t}_${Ec(e[t])}`):zt(`_${t}_${e[t]}`)).join("")}function $t(e){return e===!0||sh(e)&&!e.binned}function Hn(e){return e==="binned"||sh(e)&&e.binned===!0}function sh(e){return se(e)}function c_(e){return K(e,"param")}function wV(e){switch(e){case $l:case Al:case Zl:case Ci:case Wa:case Ha:case Hc:case eu:case Vc:case Wc:case Ei:return 6;case qc:return 4;default:return 10}}function pb(e){return K(e,"expr")}function Gn(e,{level:t}={level:0}){const n=X(e||{}),r={};for(const i of n)r[i]=t===0?Ni(e[i]):Gn(e[i],{level:t-1});return r}function Tae(e){const{anchor:t,frame:n,offset:r,orient:i,angle:o,limit:s,color:a,subtitleColor:l,subtitleFont:u,subtitleFontSize:c,subtitleFontStyle:f,subtitleFontWeight:d,subtitleLineHeight:h,subtitlePadding:p,...g}=e,m={...g,...a?{fill:a}:{}},y={...t?{anchor:t}:{},...n?{frame:n}:{},...r?{offset:r}:{},...i?{orient:i}:{},...o!==void 0?{angle:o}:{},...s!==void 0?{limit:s}:{}},v={...l?{subtitleColor:l}:{},...u?{subtitleFont:u}:{},...c?{subtitleFontSize:c}:{},...f?{subtitleFontStyle:f}:{},...d?{subtitleFontWeight:d}:{},...h?{subtitleLineHeight:h}:{},...p?{subtitlePadding:p}:{}},b=Og(e,["align","baseline","dx","dy","limit"]);return{titleMarkConfig:m,subtitleMarkConfig:b,nonMarkTitleProperties:y,subtitle:v}}function ku(e){return ue(e)||Y(e)&&ue(e[0])}function me(e){return K(e,"signal")}function ah(e){return K(e,"step")}function lYe(e){return Y(e)?!1:K(e,"fields")&&!K(e,"data")}function uYe(e){return Y(e)?!1:K(e,"fields")&&K(e,"data")}function bl(e){return Y(e)?!1:K(e,"field")&&K(e,"data")}const cYe={aria:1,description:1,ariaRole:1,ariaRoleDescription:1,blend:1,opacity:1,fill:1,fillOpacity:1,stroke:1,strokeCap:1,strokeWidth:1,strokeOpacity:1,strokeDash:1,strokeDashOffset:1,strokeJoin:1,strokeOffset:1,strokeMiterLimit:1,startAngle:1,endAngle:1,padAngle:1,innerRadius:1,outerRadius:1,size:1,shape:1,interpolate:1,tension:1,orient:1,align:1,baseline:1,text:1,dir:1,dx:1,dy:1,ellipsis:1,limit:1,radius:1,theta:1,angle:1,font:1,fontSize:1,fontWeight:1,fontStyle:1,lineBreak:1,lineHeight:1,cursor:1,href:1,tooltip:1,cornerRadius:1,cornerRadiusTopLeft:1,cornerRadiusTopRight:1,cornerRadiusBottomLeft:1,cornerRadiusBottomRight:1,aspect:1,width:1,height:1,url:1,smooth:1},fYe=X(cYe),dYe={arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1},AM=["cornerRadius","cornerRadiusTopLeft","cornerRadiusTopRight","cornerRadiusBottomLeft","cornerRadiusBottomRight"];function Pae(e){const t=Y(e.condition)?e.condition.map(SV):SV(e.condition);return{...Ni(e),condition:t}}function Ni(e){if(pb(e)){const{expr:t,...n}=e;return{signal:t,...n}}return e}function SV(e){if(pb(e)){const{expr:t,...n}=e;return{signal:t,...n}}return e}function Ft(e){if(pb(e)){const{expr:t,...n}=e;return{signal:t,...n}}return me(e)?e:e!==void 0?{value:e}:void 0}function hYe(e){return me(e)?e.signal:ne(e)}function kV(e){return me(e)?e.signal:ne(e.value)}function ms(e){return me(e)?e.signal:e==null?null:ne(e)}function pYe(e,t,n){for(const r of n){const i=Fa(r,t.markDef,t.config);i!==void 0&&(e[r]=Ft(i))}return e}function Mae(e){return[].concat(e.type,e.style??[])}function mt(e,t,n,r={}){const{vgChannel:i,ignoreVgConfig:o}=r;return i&&K(t,i)?t[i]:t[e]!==void 0?t[e]:o&&(!i||i===e)?void 0:Fa(e,t,n,r)}function Fa(e,t,n,{vgChannel:r}={}){const i=TM(e,t,n.style);return an(r?i:void 0,i,r?n[t.type][r]:void 0,n[t.type][e],r?n.mark[r]:n.mark[e])}function TM(e,t,n){return Fae(e,Mae(t),n)}function Fae(e,t,n){t=le(t);let r;for(const i of t){const o=n[i];K(o,e)&&(r=o[e])}return r}function Rae(e,t){return le(e).reduce((n,r)=>(n.field.push(ie(r,t)),n.order.push(r.sort??"ascending"),n),{field:[],order:[]})}function Oae(e,t){const n=[...e];return t.forEach(r=>{for(const i of n)if(Ui(i,r))return;n.push(r)}),n}function Dae(e,t){return Ui(e,t)||!t?e:e?[...le(e),...le(t)].join(", "):t}function Nae(e,t){const n=e.value,r=t.value;if(n==null||r===null)return{explicit:e.explicit,value:null};if((ku(n)||me(n))&&(ku(r)||me(r)))return{explicit:e.explicit,value:Dae(n,r)};if(ku(n)||me(n))return{explicit:e.explicit,value:n};if(ku(r)||me(r))return{explicit:e.explicit,value:r};if(!ku(n)&&!me(n)&&!ku(r)&&!me(r))return{explicit:e.explicit,value:Oae(n,r)};throw new Error("It should never reach here")}function ZN(e){return`Invalid specification ${bt(e)}. Make sure the specification includes at least one of the following properties: "mark", "layer", "facet", "hconcat", "vconcat", "concat", or "repeat".`}const gYe='Autosize "fit" only works for single views and layered views.';function CV(e){return`${e=="width"?"Width":"Height"} "container" only works for single views and layered views.`}function EV(e){const t=e=="width"?"Width":"Height",n=e=="width"?"x":"y";return`${t} "container" only works well with autosize "fit" or "fit-${n}".`}function _V(e){return e?`Dropping "fit-${e}" because spec has discrete ${_i(e)}.`:'Dropping "fit" because spec has discrete size.'}function eL(e){return`Unknown field for ${e}. Cannot calculate view size.`}function $V(e){return`Cannot project a selection on encoding channel "${e}", which has no field.`}function mYe(e,t){return`Cannot project a selection on encoding channel "${e}" as it uses an aggregate function ("${t}").`}function yYe(e){return`The "nearest" transform is not supported for ${e} marks.`}function Lae(e){return`Selection not supported for ${e} yet.`}function vYe(e){return`Cannot find a selection named "${e}".`}const bYe="Scale bindings are currently only supported for scales with unbinned, continuous domains.",xYe="Sequntial scales are deprecated. The available quantitative scale type values are linear, log, pow, sqrt, symlog, time and utc",wYe="Legend bindings are only supported for selections over an individual field or encoding channel.";function SYe(e){return`Lookups can only be performed on selection parameters. "${e}" is a variable parameter.`}function kYe(e){return`Cannot define and lookup the "${e}" selection in the same view. Try moving the lookup into a second, layered view?`}const CYe="The same selection must be used to override scale domains in a layered view.",EYe='Interval selections should be initialized using "x", "y", "longitude", or "latitude" keys.';function _Ye(e){return`Unknown repeated value "${e}".`}function AV(e){return`The "columns" property cannot be used when "${e}" has nested row/column.`}const $Ye="Axes cannot be shared in concatenated or repeated views yet (https://github.com/vega/vega-lite/issues/2415).";function AYe(e){return`Unrecognized parse "${e}".`}function TV(e,t,n){return`An ancestor parsed field "${e}" as ${n} but a child wants to parse the field as ${t}.`}const TYe="Attempt to add the same child twice.";function PYe(e){return`Ignoring an invalid transform: ${bt(e)}.`}const MYe='If "from.fields" is not specified, "as" has to be a string that specifies the key to be used for the data from the secondary source.';function PV(e){return`Config.customFormatTypes is not true, thus custom format type and format for channel ${e} are dropped.`}function FYe(e){const{parentProjection:t,projection:n}=e;return`Layer's shared projection ${bt(t)} is overridden by a child projection ${bt(n)}.`}const RYe="Arc marks uses theta channel rather than angle, replacing angle with theta.";function OYe(e){return`${e}Offset dropped because ${e} is continuous`}function DYe(e,t,n){return`Channel ${e} is a ${t}. Converted to {value: ${bt(n)}}.`}function Iae(e){return`Invalid field type "${e}".`}function NYe(e,t){return`Invalid field type "${e}" for aggregate: "${t}", using "quantitative" instead.`}function LYe(e){return`Invalid aggregation operator "${e}".`}function zae(e,t){const{fill:n,stroke:r}=t;return`Dropping color ${e} as the plot also has ${n&&r?"fill and stroke":n?"fill":"stroke"}.`}function IYe(e){return`Position range does not support relative band size for ${e}.`}function PM(e,t){return`Dropping ${bt(e)} from channel "${t}" since it does not contain any data field, datum, value, or signal.`}const zYe="Line marks cannot encode size with a non-groupby field. You may want to use trail marks instead.";function f_(e,t,n){return`${e} dropped as it is incompatible with "${t}".`}function jYe(e){return`${e}-encoding is dropped as ${e} is not a valid encoding channel.`}function BYe(e){return`${e} encoding should be discrete (ordinal / nominal / binned).`}function UYe(e){return`${e} encoding should be discrete (ordinal / nominal / binned) or use a discretizing scale (e.g. threshold).`}function VYe(e){return`Facet encoding dropped as ${e.join(" and ")} ${e.length>1?"are":"is"} also specified.`}function FT(e,t){return`Using discrete channel "${e}" to encode "${t}" field can be misleading as it does not encode ${t==="ordinal"?"order":"magnitude"}.`}function WYe(e){return`The ${e} for range marks cannot be an expression`}function HYe(e,t){return`Line mark is for continuous lines and thus cannot be used with ${e&&t?"x2 and y2":e?"x2":"y2"}. We will use the rule mark (line segments) instead.`}function qYe(e,t){return`Specified orient "${e}" overridden with "${t}".`}function GYe(e){return`Cannot use the scale property "${e}" with non-color channel.`}function YYe(e){return`Cannot use the relative band size with ${e} scale.`}function XYe(e){return`Using unaggregated domain with raw field has no effect (${bt(e)}).`}function KYe(e){return`Unaggregated domain not applicable for "${e}" since it produces values outside the origin domain of the source data.`}function QYe(e){return`Unaggregated domain is currently unsupported for log scale (${bt(e)}).`}function JYe(e){return`Cannot apply size to non-oriented mark "${e}".`}function ZYe(e,t,n){return`Channel "${e}" does not work with "${t}" scale. We are using "${n}" scale instead.`}function eXe(e,t){return`FieldDef does not work with "${e}" scale. We are using "${t}" scale instead.`}function jae(e,t,n){return`${n}-scale's "${t}" is dropped as it does not work with ${e} scale.`}function Bae(e){return`The step for "${e}" is dropped because the ${e==="width"?"x":"y"} is continuous.`}function tXe(e,t,n,r){return`Conflicting ${t.toString()} property "${e.toString()}" (${bt(n)} and ${bt(r)}). Using ${bt(n)}.`}function nXe(e,t,n,r){return`Conflicting ${t.toString()} property "${e.toString()}" (${bt(n)} and ${bt(r)}). Using the union of the two domains.`}function rXe(e){return`Setting the scale to be independent for "${e}" means we also have to set the guide (axis or legend) to be independent.`}function iXe(e){return`Dropping sort property ${bt(e)} as unioned domains only support boolean or op "count", "min", and "max".`}const MV="Domains that should be unioned has conflicting sort properties. Sort will be set to true.",oXe="Detected faceted independent scales that union domain of multiple fields from different data sources. We will use the first field. The result view size may be incorrect.",sXe="Detected faceted independent scales that union domain of the same fields from different source. We will assume that this is the same field from a different fork of the same data source. However, if this is not the case, the result view size may be incorrect.",aXe="Detected faceted independent scales that union domain of multiple fields from the same data source. We will use the first field. The result view size may be incorrect.";function lXe(e){return`Cannot stack "${e}" if there is already "${e}2".`}function uXe(e){return`Stack is applied to a non-linear scale (${e}).`}function cXe(e){return`Stacking is applied even though the aggregate function is non-summative ("${e}").`}function Ek(e,t){return`Invalid ${e}: ${bt(t)}.`}function fXe(e){return`Dropping day from datetime ${bt(e)} as day cannot be combined with other units.`}function dXe(e,t){return`${t?"extent ":""}${t&&e?"and ":""}${e?"center ":""}${t&&e?"are ":"is "}not needed when data are aggregated.`}function hXe(e,t,n){return`${e} is not usually used with ${t} for ${n}.`}function pXe(e,t){return`Continuous axis should not have customized aggregation function ${e}; ${t} already agregates the axis.`}function FV(e){return`1D error band does not support ${e}.`}function Uae(e){return`Channel ${e} is required for "binned" bin.`}function gXe(e){return`Channel ${e} should not be used with "binned" bin.`}function mXe(e){return`Domain for ${e} is required for threshold scale.`}const Vae=YR(GR);let Ig=Vae;function yXe(e){return Ig=e,Ig}function vXe(){return Ig=Vae,Ig}function Z(...e){Ig.warn(...e)}function bXe(...e){Ig.debug(...e)}function lh(e){if(e&&se(e)){for(const t of nL)if(K(e,t))return!0}return!1}const Wae=["january","february","march","april","may","june","july","august","september","october","november","december"],xXe=Wae.map(e=>e.substr(0,3)),Hae=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],wXe=Hae.map(e=>e.substr(0,3));function SXe(e){if(n_(e)&&(e=+e),Je(e))return e>4&&Z(Ek("quarter",e)),e-1;throw new Error(Ek("quarter",e))}function kXe(e){if(n_(e)&&(e=+e),Je(e))return e-1;{const t=e.toLowerCase(),n=Wae.indexOf(t);if(n!==-1)return n;const r=t.substr(0,3),i=xXe.indexOf(r);if(i!==-1)return i;throw new Error(Ek("month",e))}}function CXe(e){if(n_(e)&&(e=+e),Je(e))return e%7;{const t=e.toLowerCase(),n=Hae.indexOf(t);if(n!==-1)return n;const r=t.substr(0,3),i=wXe.indexOf(r);if(i!==-1)return i;throw new Error(Ek("day",e))}}function tL(e,t){const n=[];if(t&&e.day!==void 0&&X(e).length>1&&(Z(fXe(e)),e=Pe(e),delete e.day),e.year!==void 0?n.push(e.year):n.push(2012),e.month!==void 0){const r=t?kXe(e.month):e.month;n.push(r)}else if(e.quarter!==void 0){const r=t?SXe(e.quarter):e.quarter;n.push(Je(r)?r*3:`${r}*3`)}else n.push(0);if(e.date!==void 0)n.push(e.date);else if(e.day!==void 0){const r=t?CXe(e.day):e.day;n.push(Je(r)?r+1:`${r}+1`)}else n.push(1);for(const r of["hours","minutes","seconds","milliseconds"]){const i=e[r];n.push(typeof i>"u"?0:i)}return n}function Md(e){const n=tL(e,!0).join(", ");return e.utc?`utc(${n})`:`datetime(${n})`}function EXe(e){const n=tL(e,!1).join(", ");return e.utc?`utc(${n})`:`datetime(${n})`}function _Xe(e){const t=tL(e,!0);return e.utc?+new Date(Date.UTC(...t)):+new Date(...t)}const qae={year:1,quarter:1,month:1,week:1,day:1,dayofyear:1,date:1,hours:1,minutes:1,seconds:1,milliseconds:1},nL=X(qae);function $Xe(e){return fe(qae,e)}function uh(e){return se(e)?e.binned:Gae(e)}function Gae(e){return e&&e.startsWith("binned")}function rL(e){return e.startsWith("utc")}function AXe(e){return e.substring(3)}const TXe={"year-month":"%b %Y ","year-month-date":"%b %d, %Y "};function d_(e){return nL.filter(t=>Xae(e,t))}function Yae(e){const t=d_(e);return t[t.length-1]}function Xae(e,t){const n=e.indexOf(t);return!(n<0||n>0&&t==="seconds"&&e.charAt(n-1)==="i"||e.length>n+3&&t==="day"&&e.charAt(n+3)==="o"||n>0&&t==="year"&&e.charAt(n-1)==="f")}function PXe(e,t,{end:n}={end:!1}){const r=VN(t),i=rL(e)?"utc":"";function o(l){return l==="quarter"?`(${i}quarter(${r})-1)`:`${i}${l}(${r})`}let s;const a={};for(const l of nL)Xae(e,l)&&(a[l]=o(l),s=l);return n&&(a[s]+="+1"),EXe(a)}function Kae(e){if(!e)return;const t=d_(e);return`timeUnitSpecifier(${bt(t)}, ${bt(TXe)})`}function MXe(e,t,n){if(!e)return;const r=Kae(e);return`${n||rL(e)?"utc":"time"}Format(${t}, ${r})`}function Ln(e){if(!e)return;let t;return ue(e)?Gae(e)?t={unit:e.substring(6),binned:!0}:t={unit:e}:se(e)&&(t={...e,...e.unit?{unit:e.unit}:{}}),rL(t.unit)&&(t.utc=!0,t.unit=AXe(t.unit)),t}function FXe(e){const{utc:t,...n}=Ln(e);return n.unit?(t?"utc":"")+X(n).map(r=>zt(`${r==="unit"?"":`_${r}_`}${n[r]}`)).join(""):(t?"utc":"")+"timeunit"+X(n).map(r=>zt(`_${r}_${n[r]}`)).join("")}function Qae(e,t=n=>n){const n=Ln(e),r=Yae(n.unit);if(r&&r!=="day"){const i={year:2001,month:1,date:1,hours:0,minutes:0,seconds:0,milliseconds:0},{step:o,part:s}=Jae(r,n.step),a={...i,[s]:+i[s]+o};return`${t(Md(a))} - ${t(Md(i))}`}}const RXe={year:1,month:1,date:1,hours:1,minutes:1,seconds:1,milliseconds:1};function OXe(e){return fe(RXe,e)}function Jae(e,t=1){if(OXe(e))return{part:e,step:t};switch(e){case"day":case"dayofyear":return{part:"date",step:t};case"quarter":return{part:"month",step:t*3};case"week":return{part:"date",step:t*7}}}function DXe(e){return K(e,"param")}function iL(e){return!!(e!=null&&e.field)&&e.equal!==void 0}function oL(e){return!!(e!=null&&e.field)&&e.lt!==void 0}function sL(e){return!!(e!=null&&e.field)&&e.lte!==void 0}function aL(e){return!!(e!=null&&e.field)&&e.gt!==void 0}function lL(e){return!!(e!=null&&e.field)&&e.gte!==void 0}function uL(e){if(e!=null&&e.field){if(Y(e.range)&&e.range.length===2)return!0;if(me(e.range))return!0}return!1}function cL(e){return!!(e!=null&&e.field)&&(Y(e.oneOf)||Y(e.in))}function NXe(e){return!!(e!=null&&e.field)&&e.valid!==void 0}function Zae(e){return cL(e)||iL(e)||uL(e)||oL(e)||aL(e)||sL(e)||lL(e)}function Gs(e,t){return S_(e,{timeUnit:t,wrapTime:!0})}function LXe(e,t){return e.map(n=>Gs(n,t))}function ele(e,t=!0){const{field:n}=e,r=Ln(e.timeUnit),{unit:i,binned:o}=r||{},s=ie(e,{expr:"datum"}),a=i?`time(${o?s:PXe(i,n)})`:s;if(iL(e))return`${a}===${Gs(e.equal,i)}`;if(oL(e)){const l=e.lt;return`${a}<${Gs(l,i)}`}else if(aL(e)){const l=e.gt;return`${a}>${Gs(l,i)}`}else if(sL(e)){const l=e.lte;return`${a}<=${Gs(l,i)}`}else if(lL(e)){const l=e.gte;return`${a}>=${Gs(l,i)}`}else{if(cL(e))return`indexof([${LXe(e.oneOf,i).join(",")}], ${a}) !== -1`;if(NXe(e))return h_(a,e.valid);if(uL(e)){const{range:l}=Gn(e),u=me(l)?{signal:`${l.signal}[0]`}:l[0],c=me(l)?{signal:`${l.signal}[1]`}:l[1];if(u!==null&&c!==null&&t)return"inrange("+a+", ["+Gs(u,i)+", "+Gs(c,i)+"])";const f=[];return u!==null&&f.push(`${a} >= ${Gs(u,i)}`),c!==null&&f.push(`${a} <= ${Gs(c,i)}`),f.length>0?f.join(" && "):"true"}}throw new Error(`Invalid field predicate: ${bt(e)}`)}function h_(e,t=!0){return t?`isValid(${e}) && isFinite(+${e})`:`!isValid(${e}) || !isFinite(+${e})`}function IXe(e){return Zae(e)&&e.timeUnit?{...e,timeUnit:Ln(e.timeUnit)}:e}const gb={quantitative:"quantitative",ordinal:"ordinal",temporal:"temporal",nominal:"nominal",geojson:"geojson"};function zXe(e){return e==="quantitative"||e==="temporal"}function tle(e){return e==="ordinal"||e==="nominal"}const Fd=gb.quantitative,fL=gb.ordinal,zg=gb.temporal,dL=gb.nominal,_m=gb.geojson;function jXe(e){if(e)switch(e=e.toLowerCase(),e){case"q":case Fd:return"quantitative";case"t":case zg:return"temporal";case"o":case fL:return"ordinal";case"n":case dL:return"nominal";case _m:return"geojson"}}const Yn={LINEAR:"linear",LOG:"log",POW:"pow",SQRT:"sqrt",SYMLOG:"symlog",IDENTITY:"identity",SEQUENTIAL:"sequential",TIME:"time",UTC:"utc",QUANTILE:"quantile",QUANTIZE:"quantize",THRESHOLD:"threshold",BIN_ORDINAL:"bin-ordinal",ORDINAL:"ordinal",POINT:"point",BAND:"band"},MM={linear:"numeric",log:"numeric",pow:"numeric",sqrt:"numeric",symlog:"numeric",identity:"numeric",sequential:"numeric",time:"time",utc:"time",ordinal:"ordinal","bin-ordinal":"bin-ordinal",point:"ordinal-position",band:"ordinal-position",quantile:"discretizing",quantize:"discretizing",threshold:"discretizing"};function BXe(e,t){const n=MM[e],r=MM[t];return n===r||n==="ordinal-position"&&r==="time"||r==="ordinal-position"&&n==="time"}const UXe={linear:0,log:1,pow:1,sqrt:1,symlog:1,identity:1,sequential:1,time:0,utc:0,point:10,band:11,ordinal:0,"bin-ordinal":0,quantile:0,quantize:0,threshold:0};function RV(e){return UXe[e]}const nle=new Set(["linear","log","pow","sqrt","symlog"]),rle=new Set([...nle,"time","utc"]);function ile(e){return nle.has(e)}const ole=new Set(["quantile","quantize","threshold"]),VXe=new Set([...rle,...ole,"sequential","identity"]),WXe=new Set(["ordinal","bin-ordinal","point","band"]);function In(e){return WXe.has(e)}function As(e){return VXe.has(e)}function ha(e){return rle.has(e)}function jg(e){return ole.has(e)}const HXe={pointPadding:.5,barBandPaddingInner:.1,rectBandPaddingInner:0,tickBandPaddingInner:.25,bandWithNestedOffsetPaddingInner:.2,bandWithNestedOffsetPaddingOuter:.2,minBandSize:2,minFontSize:8,maxFontSize:40,minOpacity:.3,maxOpacity:.8,minSize:4,minStrokeWidth:1,maxStrokeWidth:4,quantileCount:4,quantizeCount:4,zero:!0};function qXe(e){return!ue(e)&&K(e,"name")}function sle(e){return K(e,"param")}function GXe(e){return K(e,"unionWith")}function YXe(e){return se(e)&&"field"in e}const XXe={type:1,domain:1,domainMax:1,domainMin:1,domainMid:1,domainRaw:1,align:1,range:1,rangeMax:1,rangeMin:1,scheme:1,bins:1,reverse:1,round:1,clamp:1,nice:1,base:1,exponent:1,constant:1,interpolate:1,zero:1,padding:1,paddingInner:1,paddingOuter:1},{type:Gft,domain:Yft,range:Xft,rangeMax:Kft,rangeMin:Qft,scheme:Jft,...KXe}=XXe,QXe=X(KXe);function FM(e,t){switch(t){case"type":case"domain":case"reverse":case"range":return!0;case"scheme":case"interpolate":return!["point","band","identity"].includes(e);case"bins":return!["point","band","identity","ordinal"].includes(e);case"round":return ha(e)||e==="band"||e==="point";case"padding":case"rangeMin":case"rangeMax":return ha(e)||["point","band"].includes(e);case"paddingOuter":case"align":return["point","band"].includes(e);case"paddingInner":return e==="band";case"domainMax":case"domainMid":case"domainMin":case"domainRaw":case"clamp":return ha(e);case"nice":return ha(e)||e==="quantize"||e==="threshold";case"exponent":return e==="pow";case"base":return e==="log";case"constant":return e==="symlog";case"zero":return As(e)&&!ze(["log","time","utc","threshold","quantile"],e)}}function ale(e,t){switch(t){case"interpolate":case"scheme":case"domainMid":return Op(e)?void 0:GYe(t);case"align":case"type":case"bins":case"domain":case"domainMax":case"domainMin":case"domainRaw":case"range":case"base":case"exponent":case"constant":case"nice":case"padding":case"paddingInner":case"paddingOuter":case"rangeMax":case"rangeMin":case"reverse":case"round":case"clamp":case"zero":return}}function JXe(e,t){return ze([fL,dL],t)?e===void 0||In(e):t===zg?ze([Yn.TIME,Yn.UTC,void 0],e):t===Fd?ile(e)||jg(e)||e===void 0:!0}function ZXe(e,t,n=!1){if(!Ga(e))return!1;switch(e){case jt:case Un:case Uc:case Em:case Vo:case Is:return ha(t)||t==="band"?!0:t==="point"?!n:!1;case Zl:case Hc:case eu:case Vc:case Wc:case ih:return ha(t)||jg(t)||ze(["band","point","ordinal"],t);case Ci:case Wa:case Ha:return t!=="band";case qc:case Ei:return t==="ordinal"||jg(t)}}function eKe(e){return se(e)&&"value"in e}const ri={arc:"arc",area:"area",bar:"bar",image:"image",line:"line",point:"point",rect:"rect",rule:"rule",text:"text",tick:"tick",trail:"trail",circle:"circle",square:"square",geoshape:"geoshape"},lle=ri.arc,p_=ri.area,g_=ri.bar,tKe=ri.image,m_=ri.line,y_=ri.point,nKe=ri.rect,_k=ri.rule,ule=ri.text,hL=ri.tick,rKe=ri.trail,pL=ri.circle,gL=ri.square,cle=ri.geoshape;function Yc(e){return["line","area","trail"].includes(e)}function J1(e){return["rect","bar","image","arc","tick"].includes(e)}const iKe=new Set(X(ri));function Ra(e){return K(e,"type")}const oKe=["stroke","strokeWidth","strokeDash","strokeDashOffset","strokeOpacity","strokeJoin","strokeMiterLimit"],sKe=["fill","fillOpacity"],aKe=[...oKe,...sKe],lKe={color:1,filled:1,invalid:1,order:1,radius2:1,theta2:1,timeUnitBandSize:1,timeUnitBandPosition:1},OV=X(lKe),RT=["binSpacing","continuousBandSize","discreteBandSize","minBandSize"],uKe={area:["line","point"],bar:RT,rect:RT,line:["point"],tick:["bandSize","thickness",...RT]},cKe={color:"#4c78a8",invalid:"break-paths-show-path-domains",timeUnitBandSize:1},fKe={mark:1,arc:1,area:1,bar:1,circle:1,image:1,line:1,point:1,rect:1,rule:1,square:1,text:1,tick:1,trail:1,geoshape:1},fle=X(fKe);function Rd(e){return K(e,"band")}const dKe={horizontal:["cornerRadiusTopRight","cornerRadiusBottomRight"],vertical:["cornerRadiusTopLeft","cornerRadiusTopRight"]},hKe=5,mL={binSpacing:0,continuousBandSize:hKe,minBandSize:.25,timeUnitBandPosition:.5},pKe={...mL,binSpacing:1},gKe={...mL,thickness:1};function mKe(e){return Ra(e)?e.type:e}function dle(e,{isPath:t}){return e===void 0||e==="break-paths-show-path-domains"?t?"break-paths-show-domains":"filter":e===null?"show":e}function yL({markDef:e,config:t,scaleChannel:n,scaleType:r,isCountAggregate:i}){var a,l;if(!r||!As(r)||i)return"always-valid";const o=dle(mt("invalid",e,t),{isPath:Yc(e.type)});return((l=(a=t.scale)==null?void 0:a.invalid)==null?void 0:l[n])!==void 0?"show":o}function yKe(e){return e==="break-paths-filter-domains"||e==="break-paths-show-domains"}function hle({scaleName:e,scale:t,mode:n}){const r=`domain('${e}')`;if(!t||!e)return;const i=`${r}[0]`,o=`peek(${r})`,s=t.domainHasZero();return s==="definitely"?{scale:e,value:0}:s==="maybe"?{signal:`scale('${e}', inrange(0, ${r}) ? 0 : ${n==="zeroOrMin"?i:o})`}:{signal:`scale('${e}', ${n==="zeroOrMin"?i:o})`}}function ple({scaleChannel:e,channelDef:t,scale:n,scaleName:r,markDef:i,config:o}){var c;const s=n==null?void 0:n.get("type"),a=Ps(t),l=u_(a==null?void 0:a.aggregate),u=yL({scaleChannel:e,markDef:i,config:o,scaleType:s,isCountAggregate:l});if(a&&u==="show"){const f=((c=o.scale.invalid)==null?void 0:c[e])??"zero-or-min";return{test:h_(ie(a,{expr:"datum"}),!1),...vKe(f,n,r)}}}function vKe(e,t,n){if(eKe(e)){const{value:r}=e;return me(r)?{signal:r.signal}:{value:r}}return hle({scale:t,scaleName:n,mode:"zeroOrMin"})}function vL(e){const{channel:t,channelDef:n,markDef:r,scale:i,scaleName:o,config:s}=e,a=oh(t),l=bL(e),u=ple({scaleChannel:a,channelDef:n,scale:i,scaleName:o,markDef:r,config:s});return u!==void 0?[u,l]:l}function bKe(e){const{datum:t}=e;return lh(t)?Md(t):`${bt(t)}`}function od(e,t,n,r){const i={};if(t&&(i.scale=t),Ya(e)){const{datum:o}=e;lh(o)?i.signal=Md(o):me(o)?i.signal=o.signal:pb(o)?i.signal=o.expr:i.value=o}else i.field=ie(e,n);if(r){const{offset:o,band:s}=r;o&&(i.offset=o),s&&(i.band=s)}return i}function $k({scaleName:e,fieldOrDatumDef:t,fieldOrDatumDef2:n,offset:r,startSuffix:i,endSuffix:o="end",bandPosition:s=.5}){const a=!me(s)&&0<s&&s<1?"datum":void 0,l=ie(t,{expr:a,suffix:i}),u=n!==void 0?ie(n,{expr:a}):ie(t,{suffix:o,expr:a}),c={};if(s===0||s===1){c.scale=e;const f=s===0?l:u;c.field=f}else{const f=me(s)?`(1-${s.signal}) * ${l} + ${s.signal} * ${u}`:`${1-s} * ${l} + ${s} * ${u}`;c.signal=`scale("${e}", ${f})`}return r&&(c.offset=r),c}function xKe({scaleName:e,fieldDef:t}){const n=ie(t,{expr:"datum"}),r=ie(t,{expr:"datum",suffix:"end"});return`abs(scale("${e}", ${r}) - scale("${e}", ${n}))`}function bL({channel:e,channelDef:t,channel2Def:n,markDef:r,config:i,scaleName:o,scale:s,stack:a,offset:l,defaultRef:u,bandPosition:c}){if(t){if(Fe(t)){const f=s==null?void 0:s.get("type");if(Zr(t)){c??(c=$c({fieldDef:t,fieldDef2:n,markDef:r,config:i}));const{bin:d,timeUnit:h,type:p}=t;if($t(d)||c&&h&&p===zg)return a!=null&&a.impute?od(t,o,{binSuffix:"mid"},{offset:l}):c&&!In(f)?$k({scaleName:o,fieldOrDatumDef:t,bandPosition:c,offset:l}):od(t,o,xb(t,e)?{binSuffix:"range"}:{},{offset:l});if(Hn(d)){if(ee(n))return $k({scaleName:o,fieldOrDatumDef:t,fieldOrDatumDef2:n,bandPosition:c,offset:l});Z(Uae(e===jt?Ls:Va))}}return od(t,o,In(f)?{binSuffix:"range"}:{},{offset:l,band:f==="band"?c??t.bandPosition??.5:void 0})}else if(Ts(t)){const f=t.value,d=l?{offset:l}:{};return{...Gy(e,f),...d}}}return Ne(u)&&(u=u()),u&&{...u,...l?{offset:l}:{}}}function Gy(e,t){return ze(["x","x2"],e)&&t==="width"?{field:{group:"width"}}:ze(["y","y2"],e)&&t==="height"?{field:{group:"height"}}:Ft(t)}function Od(e){return e&&e!=="number"&&e!=="time"}function gle(e,t,n){return`${e}(${t}${n?`, ${bt(n)}`:""})`}const wKe="  ";function xL({fieldOrDatumDef:e,format:t,formatType:n,expr:r,normalizeStack:i,config:o}){var l,u;if(Od(n))return ys({fieldOrDatumDef:e,format:t,formatType:n,expr:r,config:o});const s=mle(e,r,i),a=Bg(e);if(t===void 0&&n===void 0&&o.customFormatTypes){if(a==="quantitative"){if(i&&o.normalizedNumberFormatType)return ys({fieldOrDatumDef:e,format:o.normalizedNumberFormat,formatType:o.normalizedNumberFormatType,expr:r,config:o});if(o.numberFormatType)return ys({fieldOrDatumDef:e,format:o.numberFormat,formatType:o.numberFormatType,expr:r,config:o})}if(a==="temporal"&&o.timeFormatType&&ee(e)&&e.timeUnit===void 0)return ys({fieldOrDatumDef:e,format:o.timeFormat,formatType:o.timeFormatType,expr:r,config:o})}if(Vg(e)){const c=kKe({field:s,timeUnit:ee(e)?(l=Ln(e.timeUnit))==null?void 0:l.unit:void 0,format:t,formatType:o.timeFormatType,rawTimeFormat:o.timeFormat,isUTCScale:ch(e)&&((u=e.scale)==null?void 0:u.type)===Yn.UTC});return c?{signal:c}:void 0}if(t=RM({type:a,specifiedFormat:t,config:o,normalizeStack:i}),ee(e)&&$t(e.bin)){const c=ie(e,{expr:r,binSuffix:"end"});return{signal:mb(s,c,t,n,o)}}else return t||Bg(e)==="quantitative"?{signal:`${ble(s,t)}`}:{signal:`isValid(${s}) ? ${s} : ""+${s}`}}function mle(e,t,n){return ee(e)?n?`${ie(e,{expr:t,suffix:"end"})}-${ie(e,{expr:t,suffix:"start"})}`:ie(e,{expr:t}):bKe(e)}function ys({fieldOrDatumDef:e,format:t,formatType:n,expr:r,normalizeStack:i,config:o,field:s}){if(s??(s=mle(e,r,i)),s!=="datum.value"&&ee(e)&&$t(e.bin)){const a=ie(e,{expr:r,binSuffix:"end"});return{signal:mb(s,a,t,n,o)}}return{signal:gle(n,s,t)}}function yle(e,t,n,r,i,o){var s;if(!(ue(r)&&Od(r))&&!(n===void 0&&r===void 0&&i.customFormatTypes&&Bg(e)==="quantitative"&&(i.normalizedNumberFormatType&&Ug(e)&&e.stack==="normalize"||i.numberFormatType))){if(Ug(e)&&e.stack==="normalize"&&i.normalizedNumberFormat)return RM({type:"quantitative",config:i,normalizeStack:!0});if(Vg(e)){const a=ee(e)?(s=Ln(e.timeUnit))==null?void 0:s.unit:void 0;return a===void 0&&i.customFormatTypes&&i.timeFormatType?void 0:SKe({specifiedFormat:n,timeUnit:a,config:i,omitTimeFormatConfig:o})}return RM({type:t,specifiedFormat:n,config:i})}}function vle(e,t,n){var r;if(e&&(me(e)||e==="number"||e==="time"))return e;if(Vg(t)&&n!=="time"&&n!=="utc")return ee(t)&&((r=Ln(t==null?void 0:t.timeUnit))!=null&&r.utc)?"utc":"time"}function RM({type:e,specifiedFormat:t,config:n,normalizeStack:r}){if(ue(t))return t;if(e===Fd)return r?n.normalizedNumberFormat:n.numberFormat}function SKe({specifiedFormat:e,timeUnit:t,config:n,omitTimeFormatConfig:r}){return e||(t?{signal:Kae(t)}:r?void 0:n.timeFormat)}function ble(e,t){return`format(${e}, "${t||""}")`}function DV(e,t,n,r){return Od(n)?gle(n,e,t):ble(e,(ue(t)?t:void 0)??r.numberFormat)}function mb(e,t,n,r,i){if(n===void 0&&r===void 0&&i.customFormatTypes&&i.numberFormatType)return mb(e,t,i.numberFormat,i.numberFormatType,i);const o=DV(e,n,r,i),s=DV(t,n,r,i);return`${h_(e,!1)} ? "null" : ${o} + "${wKe}" + ${s}`}function kKe({field:e,timeUnit:t,format:n,formatType:r,rawTimeFormat:i,isUTCScale:o}){return!t||n?!t&&r?`${r}(${e}, '${n}')`:(n=ue(n)?n:i,`${o?"utc":"time"}Format(${e}, '${n}')`):MXe(t,e,o)}const v_="min",CKe={x:1,y:1,color:1,fill:1,stroke:1,strokeWidth:1,size:1,shape:1,fillOpacity:1,strokeOpacity:1,opacity:1,text:1};function NV(e){return fe(CKe,e)}function EKe(e){return K(e,"encoding")}function Tl(e){return e&&(e.op==="count"||K(e,"field"))}function xle(e){return e&&Y(e)}function yb(e){return K(e,"row")||K(e,"column")}function wL(e){return K(e,"header")}function b_(e){return K(e,"facet")}function _Ke(e){return K(e,"param")}function $Ke(e){return!ue(e)&&K(e,"repeat")}function LV(e){const{field:t,timeUnit:n,bin:r,aggregate:i}=e;return{...n?{timeUnit:n}:{},...r?{bin:r}:{},...i?{aggregate:i}:{},field:t}}function SL(e){return K(e,"sort")}function $c({fieldDef:e,fieldDef2:t,markDef:n,config:r}){if(Fe(e)&&e.bandPosition!==void 0)return e.bandPosition;if(ee(e)){const{timeUnit:i,bin:o}=e;if(i&&!t)return Fa("timeUnitBandPosition",n,r);if($t(o))return .5}}function wle({channel:e,fieldDef:t,fieldDef2:n,markDef:r,config:i,scaleType:o,useVlSizeChannel:s}){var u,c,f;const a=_i(e),l=mt(s?"size":a,r,i,{vgChannel:a});if(l!==void 0)return l;if(ee(t)){const{timeUnit:d,bin:h}=t;if(d&&!n)return{band:Fa("timeUnitBandSize",r,i)};if($t(h)&&!In(o))return{band:1}}if(J1(r.type))return o?In(o)?((u=i[r.type])==null?void 0:u.discreteBandSize)||{band:1}:(c=i[r.type])==null?void 0:c.continuousBandSize:(f=i[r.type])==null?void 0:f.discreteBandSize}function Sle(e,t,n,r){return $t(e.bin)||e.timeUnit&&Zr(e)&&e.type==="temporal"?$c({fieldDef:e,fieldDef2:t,markDef:n,config:r})!==void 0:!1}function kle(e){return K(e,"sort")&&!K(e,"field")}function vb(e){return K(e,"condition")}function x_(e){const t=e==null?void 0:e.condition;return!!t&&!Y(t)&&ee(t)}function bb(e){const t=e==null?void 0:e.condition;return!!t&&!Y(t)&&Fe(t)}function AKe(e){const t=e==null?void 0:e.condition;return!!t&&(Y(t)||Ts(t))}function ee(e){return K(e,"field")||(e==null?void 0:e.aggregate)==="count"}function Bg(e){return e==null?void 0:e.type}function Ya(e){return K(e,"datum")}function Hu(e){return Zr(e)&&!Tk(e)||Ak(e)}function IV(e){return Zr(e)&&e.type==="quantitative"&&!e.bin||Ak(e)}function Ak(e){return Ya(e)&&Je(e.datum)}function Fe(e){return ee(e)||Ya(e)}function Zr(e){return e&&(K(e,"field")||e.aggregate==="count")&&K(e,"type")}function Ts(e){return K(e,"value")}function ch(e){return K(e,"scale")||K(e,"sort")}function Ug(e){return K(e,"axis")||K(e,"stack")||K(e,"impute")}function Cle(e){return K(e,"legend")}function Ele(e){return K(e,"format")||K(e,"formatType")}function TKe(e){return yi(e,["legend","axis","header","scale"])}function PKe(e){return K(e,"op")}function ie(e,t={}){let n=e.field;const r=t.prefix;let i=t.suffix,o="";if(FKe(e))n=pae("count");else{let s;if(!t.nofn)if(PKe(e))s=e.op;else{const{bin:a,aggregate:l,timeUnit:u}=e;$t(a)?(s=Aae(a),i=(t.binSuffix??"")+(t.suffix??"")):l?Gc(l)?(o=`["${n}"]`,n=`argmax_${l.argmax}`):Ul(l)?(o=`["${n}"]`,n=`argmin_${l.argmin}`):s=String(l):u&&!uh(u)&&(s=FXe(u),i=(!["range","mid"].includes(t.binSuffix)&&t.binSuffix||"")+(t.suffix??""))}s&&(n=n?`${s}_${n}`:s)}return i&&(n=`${n}_${i}`),r&&(n=`${r}_${n}`),t.forAs?Cm(n):t.expr?fae(n,t.expr)+o:jo(n)+o}function Tk(e){switch(e.type){case"nominal":case"ordinal":case"geojson":return!0;case"quantitative":return ee(e)&&!!e.bin;case"temporal":return!1}throw new Error(Iae(e.type))}function MKe(e){var t;return ch(e)&&jg((t=e.scale)==null?void 0:t.type)}function FKe(e){return e.aggregate==="count"}function RKe(e,t){var s;const{field:n,bin:r,timeUnit:i,aggregate:o}=e;if(o==="count")return t.countTitle;if($t(r))return`${n} (binned)`;if(i&&!uh(i)){const a=(s=Ln(i))==null?void 0:s.unit;if(a)return`${n} (${d_(a).join("-")})`}else if(o)return Gc(o)?`${n} for max ${o.argmax}`:Ul(o)?`${n} for min ${o.argmin}`:`${cb(o)} of ${n}`;return n}function OKe(e){const{aggregate:t,bin:n,timeUnit:r,field:i}=e;if(Gc(t))return`${i} for argmax(${t.argmax})`;if(Ul(t))return`${i} for argmin(${t.argmin})`;const o=r&&!uh(r)?Ln(r):void 0,s=t||(o==null?void 0:o.unit)||(o==null?void 0:o.maxbins)&&"timeunit"||$t(n)&&"bin";return s?`${s.toUpperCase()}(${i})`:i}const _le=(e,t)=>{switch(t.fieldTitle){case"plain":return e.field;case"functional":return OKe(e);default:return RKe(e,t)}};let $le=_le;function Ale(e){$le=e}function DKe(){Ale(_le)}function Dp(e,t,{allowDisabling:n,includeDefault:r=!0}){var a;const i=(a=kL(e))==null?void 0:a.title;if(!ee(e))return i??e.title;const o=e,s=r?CL(o,t):void 0;return n?an(i,o.title,s):i??o.title??s}function kL(e){if(Ug(e)&&e.axis)return e.axis;if(Cle(e)&&e.legend)return e.legend;if(wL(e)&&e.header)return e.header}function CL(e,t){return $le(e,t)}function Pk(e){if(Ele(e)){const{format:t,formatType:n}=e;return{format:t,formatType:n}}else{const t=kL(e)??{},{format:n,formatType:r}=t;return{format:n,formatType:r}}}function NKe(e,t){var o;switch(t){case"latitude":case"longitude":return"quantitative";case"row":case"column":case"facet":case"shape":case"strokeDash":return"nominal";case"order":return"ordinal"}if(SL(e)&&Y(e.sort))return"ordinal";const{aggregate:n,bin:r,timeUnit:i}=e;if(i)return"temporal";if(r||n&&!Gc(n)&&!Ul(n))return"quantitative";if(ch(e)&&((o=e.scale)!=null&&o.type))switch(MM[e.scale.type]){case"numeric":case"discretizing":return"quantitative";case"time":return"temporal"}return"nominal"}function Ps(e){if(ee(e))return e;if(x_(e))return e.condition}function Sn(e){if(Fe(e))return e;if(bb(e))return e.condition}function Tle(e,t,n,r={}){if(ue(e)||Je(e)||Dc(e)){const i=ue(e)?"string":Je(e)?"number":"boolean";return Z(DYe(t,i,e)),{value:e}}return Fe(e)?Mk(e,t,n,r):bb(e)?{...e,condition:Mk(e.condition,t,n,r)}:e}function Mk(e,t,n,r){if(Ele(e)){const{format:i,formatType:o,...s}=e;if(Od(o)&&!n.customFormatTypes)return Z(PV(t)),Mk(s,t,n,r)}else{const i=Ug(e)?"axis":Cle(e)?"legend":wL(e)?"header":null;if(i&&e[i]){const{format:o,formatType:s,...a}=e[i];if(Od(s)&&!n.customFormatTypes)return Z(PV(t)),Mk({...e,[i]:a},t,n,r)}}return ee(e)?EL(e,t,r):LKe(e)}function LKe(e){let t=e.type;if(t)return e;const{datum:n}=e;return t=Je(n)?"quantitative":ue(n)?"nominal":lh(n)?"temporal":void 0,{...e,type:t}}function EL(e,t,{compositeMark:n=!1}={}){const{aggregate:r,timeUnit:i,bin:o,field:s}=e,a={...e};if(!n&&r&&!JN(r)&&!Gc(r)&&!Ul(r)&&(Z(LYe(r)),delete a.aggregate),i&&(a.timeUnit=Ln(i)),s&&(a.field=`${s}`),$t(o)&&(a.bin=w_(o,t)),Hn(o)&&!ln(t)&&Z(gXe(t)),Zr(a)){const{type:l}=a,u=jXe(l);l!==u&&(a.type=u),l!=="quantitative"&&u_(r)&&(Z(NYe(l,r)),a.type="quantitative")}else if(!Sae(t)){const l=NKe(a,t);a.type=l}if(Zr(a)){const{compatible:l,warning:u}=IKe(a,t)||{};l===!1&&Z(u)}if(SL(a)&&ue(a.sort)){const{sort:l}=a;if(NV(l))return{...a,sort:{encoding:l}};const u=l.substring(1);if(l.charAt(0)==="-"&&NV(u))return{...a,sort:{encoding:u,order:"descending"}}}if(wL(a)){const{header:l}=a;if(l){const{orient:u,...c}=l;if(u)return{...a,header:{...c,labelOrient:l.labelOrient||u,titleOrient:l.titleOrient||u}}}}return a}function w_(e,t){return Dc(e)?{maxbins:wV(t)}:e==="binned"?{binned:!0}:!e.maxbins&&!e.step?{...e,maxbins:wV(t)}:e}const Mh={compatible:!0};function IKe(e,t){const n=e.type;if(n==="geojson"&&t!=="shape")return{compatible:!1,warning:`Channel ${t} should not be used with a geojson data.`};switch(t){case $l:case Al:case r_:return Tk(e)?Mh:{compatible:!1,warning:BYe(t)};case jt:case Un:case Uc:case Em:case Ci:case Wa:case Ha:case fb:case db:case i_:case Pd:case o_:case s_:case ih:case Vo:case Is:case a_:return Mh;case js:case Bo:case zs:case Bs:return n!==Fd?{compatible:!1,warning:`Channel ${t} should be used with a quantitative field only, not ${e.type} field.`}:Mh;case eu:case Vc:case Wc:case Hc:case Zl:case Jl:case Ql:case Ls:case Va:return n==="nominal"&&!e.sort?{compatible:!1,warning:`Channel ${t} should not be used with an unsorted discrete field.`}:Mh;case Ei:case qc:return!Tk(e)&&!MKe(e)?{compatible:!1,warning:UYe(t)}:Mh;case Lg:return e.type==="nominal"&&!("sort"in e)?{compatible:!1,warning:"Channel order is inappropriate for nominal field, which has no inherent order."}:Mh}}function Vg(e){const{formatType:t}=Pk(e);return t==="time"||!t&&zKe(e)}function zKe(e){return e&&(e.type==="temporal"||ee(e)&&!!e.timeUnit)}function S_(e,{timeUnit:t,type:n,wrapTime:r,undefinedIfExprNotRequired:i}){var l;const o=t&&((l=Ln(t))==null?void 0:l.unit);let s=o||n==="temporal",a;return pb(e)?a=e.expr:me(e)?a=e.signal:lh(e)?(s=!0,a=Md(e)):(ue(e)||Je(e))&&s&&(a=`datetime(${bt(e)})`,$Xe(o)&&(Je(e)&&e<1e4||ue(e)&&isNaN(Date.parse(e)))&&(a=Md({[o]:e}))),a?r&&s?`time(${a})`:a:i?void 0:bt(e)}function Ple(e,t){const{type:n}=e;return t.map(r=>{const i=ee(e)&&!uh(e.timeUnit)?e.timeUnit:void 0,o=S_(r,{timeUnit:i,type:n,undefinedIfExprNotRequired:!0});return o!==void 0?{signal:o}:r})}function xb(e,t){return $t(e.bin)?Ga(t)&&["ordinal","nominal"].includes(e.type):(console.warn("Only call this method for binned field defs."),!1)}const zV={labelAlign:{part:"labels",vgProp:"align"},labelBaseline:{part:"labels",vgProp:"baseline"},labelColor:{part:"labels",vgProp:"fill"},labelFont:{part:"labels",vgProp:"font"},labelFontSize:{part:"labels",vgProp:"fontSize"},labelFontStyle:{part:"labels",vgProp:"fontStyle"},labelFontWeight:{part:"labels",vgProp:"fontWeight"},labelOpacity:{part:"labels",vgProp:"opacity"},labelOffset:null,labelPadding:null,gridColor:{part:"grid",vgProp:"stroke"},gridDash:{part:"grid",vgProp:"strokeDash"},gridDashOffset:{part:"grid",vgProp:"strokeDashOffset"},gridOpacity:{part:"grid",vgProp:"opacity"},gridWidth:{part:"grid",vgProp:"strokeWidth"},tickColor:{part:"ticks",vgProp:"stroke"},tickDash:{part:"ticks",vgProp:"strokeDash"},tickDashOffset:{part:"ticks",vgProp:"strokeDashOffset"},tickOpacity:{part:"ticks",vgProp:"opacity"},tickSize:null,tickWidth:{part:"ticks",vgProp:"strokeWidth"}};function wb(e){return e==null?void 0:e.condition}const Mle=["domain","grid","labels","ticks","title"],jKe={grid:"grid",gridCap:"grid",gridColor:"grid",gridDash:"grid",gridDashOffset:"grid",gridOpacity:"grid",gridScale:"grid",gridWidth:"grid",orient:"main",bandPosition:"both",aria:"main",description:"main",domain:"main",domainCap:"main",domainColor:"main",domainDash:"main",domainDashOffset:"main",domainOpacity:"main",domainWidth:"main",format:"main",formatType:"main",labelAlign:"main",labelAngle:"main",labelBaseline:"main",labelBound:"main",labelColor:"main",labelFlush:"main",labelFlushOffset:"main",labelFont:"main",labelFontSize:"main",labelFontStyle:"main",labelFontWeight:"main",labelLimit:"main",labelLineHeight:"main",labelOffset:"main",labelOpacity:"main",labelOverlap:"main",labelPadding:"main",labels:"main",labelSeparation:"main",maxExtent:"main",minExtent:"main",offset:"both",position:"main",tickCap:"main",tickColor:"main",tickDash:"main",tickDashOffset:"main",tickMinStep:"both",tickOffset:"both",tickOpacity:"main",tickRound:"both",ticks:"main",tickSize:"main",tickWidth:"both",title:"main",titleAlign:"main",titleAnchor:"main",titleAngle:"main",titleBaseline:"main",titleColor:"main",titleFont:"main",titleFontSize:"main",titleFontStyle:"main",titleFontWeight:"main",titleLimit:"main",titleLineHeight:"main",titleOpacity:"main",titlePadding:"main",titleX:"main",titleY:"main",encode:"both",scale:"both",tickBand:"both",tickCount:"both",tickExtra:"both",translate:"both",values:"both",zindex:"both"},Fle={orient:1,aria:1,bandPosition:1,description:1,domain:1,domainCap:1,domainColor:1,domainDash:1,domainDashOffset:1,domainOpacity:1,domainWidth:1,format:1,formatType:1,grid:1,gridCap:1,gridColor:1,gridDash:1,gridDashOffset:1,gridOpacity:1,gridWidth:1,labelAlign:1,labelAngle:1,labelBaseline:1,labelBound:1,labelColor:1,labelFlush:1,labelFlushOffset:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelLineHeight:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labels:1,labelSeparation:1,maxExtent:1,minExtent:1,offset:1,position:1,tickBand:1,tickCap:1,tickColor:1,tickCount:1,tickDash:1,tickDashOffset:1,tickExtra:1,tickMinStep:1,tickOffset:1,tickOpacity:1,tickRound:1,ticks:1,tickSize:1,tickWidth:1,title:1,titleAlign:1,titleAnchor:1,titleAngle:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titlePadding:1,titleX:1,titleY:1,translate:1,values:1,zindex:1},BKe={...Fle,style:1,labelExpr:1,encoding:1};function jV(e){return fe(BKe,e)}const UKe={axis:1,axisBand:1,axisBottom:1,axisDiscrete:1,axisLeft:1,axisPoint:1,axisQuantitative:1,axisRight:1,axisTemporal:1,axisTop:1,axisX:1,axisXBand:1,axisXDiscrete:1,axisXPoint:1,axisXQuantitative:1,axisXTemporal:1,axisY:1,axisYBand:1,axisYDiscrete:1,axisYPoint:1,axisYQuantitative:1,axisYTemporal:1},Rle=X(UKe);function nu(e){return K(e,"mark")}class k_{constructor(t,n){this.name=t,this.run=n}hasMatchingType(t){return nu(t)?mKe(t.mark)===this.name:!1}}function sd(e,t){const n=e&&e[t];return n?Y(n)?Dg(n,r=>!!r.field):ee(n)||x_(n):!1}function Ole(e,t){const n=e&&e[t];return n?Y(n)?Dg(n,r=>!!r.field):ee(n)||Ya(n)||bb(n):!1}function Dle(e,t){if(ln(t)){const n=e[t];if((ee(n)||Ya(n))&&(tle(n.type)||ee(n)&&n.timeUnit)){const r=GN(t);return Ole(e,r)}}return!1}function Nle(e){return Dg(BGe,t=>{if(sd(e,t)){const n=e[t];if(Y(n))return Dg(n,r=>!!r.aggregate);{const r=Ps(n);return r&&!!r.aggregate}}return!1})}function Lle(e,t){const n=[],r=[],i=[],o=[],s={};return _L(e,(a,l)=>{if(ee(a)){const{field:u,aggregate:c,bin:f,timeUnit:d,...h}=a;if(c||d||f){const p=kL(a),g=p==null?void 0:p.title;let m=ie(a,{forAs:!0});const y={...g?[]:{title:Dp(a,t,{allowDisabling:!0})},...h,field:m};if(c){let v;if(Gc(c)?(v="argmax",m=ie({op:"argmax",field:c.argmax},{forAs:!0}),y.field=`${m}.${u}`):Ul(c)?(v="argmin",m=ie({op:"argmin",field:c.argmin},{forAs:!0}),y.field=`${m}.${u}`):c!=="boxplot"&&c!=="errorbar"&&c!=="errorband"&&(v=c),v){const b={op:v,as:m};u&&(b.field=u),o.push(b)}}else if(n.push(m),Zr(a)&&$t(f)){if(r.push({bin:f,field:u,as:m}),n.push(ie(a,{binSuffix:"end"})),xb(a,l)&&n.push(ie(a,{binSuffix:"range"})),ln(l)){const v={field:`${m}_end`};s[`${l}2`]=v}y.bin="binned",Sae(l)||(y.type=Fd)}else if(d&&!uh(d)){i.push({timeUnit:d,field:u,as:m});const v=Zr(a)&&a.type!==zg&&"time";v&&(l===fb||l===Pd?y.formatType=v:QGe(l)?y.legend={formatType:v,...y.legend}:ln(l)&&(y.axis={formatType:v,...y.axis}))}s[l]=y}else n.push(u),s[l]=e[l]}else s[l]=e[l]}),{bins:r,timeUnits:i,aggregate:o,groupby:n,encoding:s}}function VKe(e,t,n){const r=ZGe(t,n);if(r){if(r==="binned"){const i=e[t===Ls?jt:Un];return!!(ee(i)&&ee(e[t])&&Hn(i.bin))}}else return!1;return!0}function WKe(e,t,n,r){const i={};for(const o of X(e))wae(o)||Z(jYe(o));for(let o of GGe){if(!e[o])continue;const s=e[o];if(hb(o)){const a=qGe(o),l=i[a];if(ee(l)&&zXe(l.type)&&ee(s)&&!l.timeUnit){Z(OYe(a));continue}}if(o==="angle"&&t==="arc"&&!e.theta&&(Z(RYe),o=Vo),!VKe(e,o,t)){Z(f_(o,t));continue}if(o===Zl&&t==="line"){const a=Ps(e[o]);if(a!=null&&a.aggregate){Z(zYe);continue}}if(o===Ci&&(n?"fill"in e:"stroke"in e)){Z(zae("encoding",{fill:"fill"in e,stroke:"stroke"in e}));continue}if(o===db||o===Lg&&!Y(s)&&!Ts(s)||o===Pd&&Y(s)){if(s){if(o===Lg){const a=e[o];if(kle(a)){i[o]=a;continue}}i[o]=le(s).reduce((a,l)=>(ee(l)?a.push(EL(l,o)):Z(PM(l,o)),a),[])}}else{if(o===Pd&&s===null)i[o]=null;else if(!ee(s)&&!Ya(s)&&!Ts(s)&&!vb(s)&&!me(s)){Z(PM(s,o));continue}i[o]=Tle(s,o,r)}}return i}function C_(e,t){const n={};for(const r of X(e)){const i=Tle(e[r],r,t,{compositeMark:!0});n[r]=i}return n}function HKe(e){const t=[];for(const n of X(e))if(sd(e,n)){const r=e[n],i=le(r);for(const o of i)ee(o)?t.push(o):x_(o)&&t.push(o.condition)}return t}function _L(e,t,n){if(e)for(const r of X(e)){const i=e[r];if(Y(i))for(const o of i)t.call(n,o,r);else t.call(n,i,r)}}function qKe(e,t,n,r){return e?X(e).reduce((i,o)=>{const s=e[o];return Y(s)?s.reduce((a,l)=>t.call(r,a,l,o),i):t.call(r,i,s,o)},n):n}function Ile(e,t){return X(t).reduce((n,r)=>{switch(r){case jt:case Un:case o_:case a_:case s_:case Ls:case Va:case Uc:case Em:case Vo:case Jl:case Is:case Ql:case zs:case js:case Bs:case Bo:case fb:case Ei:case ih:case Pd:return n;case Lg:if(e==="line"||e==="trail")return n;case db:case i_:{const i=t[r];if(Y(i)||ee(i))for(const o of le(i))o.aggregate||n.push(ie(o,{}));return n}case Zl:if(e==="trail")return n;case Ci:case Wa:case Ha:case eu:case Vc:case Wc:case qc:case Hc:{const i=Ps(t[r]);return i&&!i.aggregate&&n.push(ie(i,{})),n}}},[])}function GKe(e){const{tooltip:t,...n}=e;if(!t)return{filteredEncoding:n};let r,i;if(Y(t)){for(const o of t)o.aggregate?(r||(r=[]),r.push(o)):(i||(i=[]),i.push(o));r&&(n.tooltip=r)}else t.aggregate?n.tooltip=t:i=t;return Y(i)&&i.length===1&&(i=i[0]),{customTooltipWithoutAggregatedField:i,filteredEncoding:n}}function OM(e,t,n,r=!0){if("tooltip"in n)return{tooltip:n.tooltip};const i=e.map(({fieldPrefix:s,titlePrefix:a})=>{const l=r?` of ${$L(t)}`:"";return{field:s+t.field,type:t.type,title:me(a)?{signal:`${a}"${escape(l)}"`}:a+l}}),o=HKe(n).map(TKe);return{tooltip:[...i,...da(o,Be)]}}function $L(e){const{title:t,field:n}=e;return an(t,n)}function AL(e,t,n,r,i){const{scale:o,axis:s}=n;return({partName:a,mark:l,positionPrefix:u,endPositionPrefix:c=void 0,extraEncoding:f={}})=>{const d=$L(n);return zle(e,a,i,{mark:l,encoding:{[t]:{field:`${u}_${n.field}`,type:n.type,...d!==void 0?{title:d}:{},...o!==void 0?{scale:o}:{},...s!==void 0?{axis:s}:{}},...ue(c)?{[`${t}2`]:{field:`${c}_${n.field}`}}:{},...r,...f}})}}function zle(e,t,n,r){const{clip:i,color:o,opacity:s}=e,a=e.type;return e[t]||e[t]===void 0&&n[t]?[{...r,mark:{...n[t],...i?{clip:i}:{},...o?{color:o}:{},...s?{opacity:s}:{},...Ra(r.mark)?r.mark:{type:r.mark},style:`${a}-${String(t)}`,...Dc(e[t])?{}:e[t]}}]:[]}function jle(e,t,n){const{encoding:r}=e,i=t==="vertical"?"y":"x",o=r[i],s=r[`${i}2`],a=r[`${i}Error`],l=r[`${i}Error2`];return{continuousAxisChannelDef:Vx(o,n),continuousAxisChannelDef2:Vx(s,n),continuousAxisChannelDefError:Vx(a,n),continuousAxisChannelDefError2:Vx(l,n),continuousAxis:i}}function Vx(e,t){if(e!=null&&e.aggregate){const{aggregate:n,...r}=e;return n!==t&&Z(pXe(n,t)),r}else return e}function Ble(e,t){const{mark:n,encoding:r}=e,{x:i,y:o}=r;if(Ra(n)&&n.orient)return n.orient;if(Hu(i)){if(Hu(o)){const s=ee(i)&&i.aggregate,a=ee(o)&&o.aggregate;if(!s&&a===t)return"vertical";if(!a&&s===t)return"horizontal";if(s===t&&a===t)throw new Error("Both x and y cannot have aggregate");return Vg(o)&&!Vg(i)?"horizontal":"vertical"}return"horizontal"}else{if(Hu(o))return"vertical";throw new Error(`Need a valid continuous axis for ${t}s`)}}const Fk="boxplot",YKe=["box","median","outliers","rule","ticks"],XKe=new k_(Fk,Vle);function Ule(e){return Je(e)?"tukey":e}function Vle(e,{config:t}){e={...e,encoding:C_(e.encoding,t)};const{mark:n,encoding:r,params:i,projection:o,...s}=e,a=Ra(n)?n:{type:n};i&&Z(Lae("boxplot"));const l=a.extent??t.boxplot.extent,u=mt("size",a,t),c=a.invalid,f=Ule(l),{bins:d,timeUnits:h,transform:p,continuousAxisChannelDef:g,continuousAxis:m,groupby:y,aggregate:v,encodingWithoutContinuousAxis:b,ticksOrient:x,boxOrient:w,customTooltipWithoutAggregatedField:k}=KKe(e,l,t),S=Cm(g.field),{color:C,size:E,...A}=b,T=hh=>AL(a,m,g,hh,t.boxplot),L=T(A),F=T(b),R=(se(t.boxplot.box)?t.boxplot.box.color:t.mark.color)||"#4c78a8",_=T({...A,...E?{size:E}:{},color:{condition:{test:`datum['lower_box_${g.field}'] >= datum['upper_box_${g.field}']`,...C||{value:R}}}}),P=OM([{fieldPrefix:f==="min-max"?"upper_whisker_":"max_",titlePrefix:"Max"},{fieldPrefix:"upper_box_",titlePrefix:"Q3"},{fieldPrefix:"mid_box_",titlePrefix:"Median"},{fieldPrefix:"lower_box_",titlePrefix:"Q1"},{fieldPrefix:f==="min-max"?"lower_whisker_":"min_",titlePrefix:"Min"}],g,b),N={type:"tick",color:"black",opacity:1,orient:x,invalid:c,aria:!1},D=f==="min-max"?P:OM([{fieldPrefix:"upper_whisker_",titlePrefix:"Upper Whisker"},{fieldPrefix:"lower_whisker_",titlePrefix:"Lower Whisker"}],g,b),I=[...L({partName:"rule",mark:{type:"rule",invalid:c,aria:!1},positionPrefix:"lower_whisker",endPositionPrefix:"lower_box",extraEncoding:D}),...L({partName:"rule",mark:{type:"rule",invalid:c,aria:!1},positionPrefix:"upper_box",endPositionPrefix:"upper_whisker",extraEncoding:D}),...L({partName:"ticks",mark:N,positionPrefix:"lower_whisker",extraEncoding:D}),...L({partName:"ticks",mark:N,positionPrefix:"upper_whisker",extraEncoding:D})],U=[...f!=="tukey"?I:[],...F({partName:"box",mark:{type:"bar",...u?{size:u}:{},orient:w,invalid:c,ariaRoleDescription:"box"},positionPrefix:"lower_box",endPositionPrefix:"upper_box",extraEncoding:P}),..._({partName:"median",mark:{type:"tick",invalid:c,...se(t.boxplot.median)&&t.boxplot.median.color?{color:t.boxplot.median.color}:{},...u?{size:u}:{},orient:x,aria:!1},positionPrefix:"mid_box",extraEncoding:P})];if(f==="min-max")return{...s,transform:(s.transform??[]).concat(p),layer:U};const V=`datum["lower_box_${g.field}"]`,oe=`datum["upper_box_${g.field}"]`,Q=`(${oe} - ${V})`,ye=`${V} - ${l} * ${Q}`,Oe=`${oe} + ${l} * ${Q}`,ut=`datum["${g.field}"]`,$n={joinaggregate:Wle(g.field),groupby:y},sr={transform:[{filter:`(${ye} <= ${ut}) && (${ut} <= ${Oe})`},{aggregate:[{op:"min",field:g.field,as:`lower_whisker_${S}`},{op:"max",field:g.field,as:`upper_whisker_${S}`},{op:"min",field:`lower_box_${g.field}`,as:`lower_box_${S}`},{op:"max",field:`upper_box_${g.field}`,as:`upper_box_${S}`},...v],groupby:y}],layer:I},{tooltip:ce,...$e}=A,{scale:Ae,axis:J}=g,mn=$L(g),tt=yi(J,["title"]),An=zle(a,"outliers",t.boxplot,{transform:[{filter:`(${ut} < ${ye}) || (${ut} > ${Oe})`}],mark:"point",encoding:{[m]:{field:g.field,type:g.type,...mn!==void 0?{title:mn}:{},...Ae!==void 0?{scale:Ae}:{},...vt(tt)?{}:{axis:tt}},...$e,...C?{color:C}:{},...k?{tooltip:k}:{}}})[0];let fn;const ao=[...d,...h,$n];return An?fn={transform:ao,layer:[An,sr]}:(fn=sr,fn.transform.unshift(...ao)),{...s,layer:[fn,{transform:p,layer:U}]}}function Wle(e){const t=Cm(e);return[{op:"q1",field:e,as:`lower_box_${t}`},{op:"q3",field:e,as:`upper_box_${t}`}]}function KKe(e,t,n){const r=Ble(e,Fk),{continuousAxisChannelDef:i,continuousAxis:o}=jle(e,r,Fk),s=i.field,a=Cm(s),l=Ule(t),u=[...Wle(s),{op:"median",field:s,as:`mid_box_${a}`},{op:"min",field:s,as:(l==="min-max"?"lower_whisker_":"min_")+a},{op:"max",field:s,as:(l==="min-max"?"upper_whisker_":"max_")+a}],c=l==="min-max"||l==="tukey"?[]:[{calculate:`datum["upper_box_${a}"] - datum["lower_box_${a}"]`,as:`iqr_${a}`},{calculate:`min(datum["upper_box_${a}"] + datum["iqr_${a}"] * ${t}, datum["max_${a}"])`,as:`upper_whisker_${a}`},{calculate:`max(datum["lower_box_${a}"] - datum["iqr_${a}"] * ${t}, datum["min_${a}"])`,as:`lower_whisker_${a}`}],{[o]:f,...d}=e.encoding,{customTooltipWithoutAggregatedField:h,filteredEncoding:p}=GKe(d),{bins:g,timeUnits:m,aggregate:y,groupby:v,encoding:b}=Lle(p,n),x=r==="vertical"?"horizontal":"vertical",w=r,k=[...g,...m,{aggregate:[...y,...u],groupby:v},...c];return{bins:g,timeUnits:m,transform:k,groupby:v,aggregate:y,continuousAxisChannelDef:i,continuousAxis:o,encodingWithoutContinuousAxis:b,ticksOrient:x,boxOrient:w,customTooltipWithoutAggregatedField:h}}const TL="errorbar",QKe=["ticks","rule"],JKe=new k_(TL,Hle);function Hle(e,{config:t}){e={...e,encoding:C_(e.encoding,t)};const{transform:n,continuousAxisChannelDef:r,continuousAxis:i,encodingWithoutContinuousAxis:o,ticksOrient:s,markDef:a,outerSpec:l,tooltipEncoding:u}=qle(e,TL,t);delete o.size;const c=AL(a,i,r,o,t.errorbar),f=a.thickness,d=a.size,h={type:"tick",orient:s,aria:!1,...f!==void 0?{thickness:f}:{},...d!==void 0?{size:d}:{}},p=[...c({partName:"ticks",mark:h,positionPrefix:"lower",extraEncoding:u}),...c({partName:"ticks",mark:h,positionPrefix:"upper",extraEncoding:u}),...c({partName:"rule",mark:{type:"rule",ariaRoleDescription:"errorbar",...f!==void 0?{size:f}:{}},positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:u})];return{...l,transform:n,...p.length>1?{layer:p}:{...p[0]}}}function ZKe(e,t){const{encoding:n}=e;if(eQe(n))return{orient:Ble(e,t),inputType:"raw"};const r=tQe(n),i=nQe(n),o=n.x,s=n.y;if(r){if(i)throw new Error(`${t} cannot be both type aggregated-upper-lower and aggregated-error`);const a=n.x2,l=n.y2;if(Fe(a)&&Fe(l))throw new Error(`${t} cannot have both x2 and y2`);if(Fe(a)){if(Hu(o))return{orient:"horizontal",inputType:"aggregated-upper-lower"};throw new Error(`Both x and x2 have to be quantitative in ${t}`)}else if(Fe(l)){if(Hu(s))return{orient:"vertical",inputType:"aggregated-upper-lower"};throw new Error(`Both y and y2 have to be quantitative in ${t}`)}throw new Error("No ranged axis")}else{const a=n.xError,l=n.xError2,u=n.yError,c=n.yError2;if(Fe(l)&&!Fe(a))throw new Error(`${t} cannot have xError2 without xError`);if(Fe(c)&&!Fe(u))throw new Error(`${t} cannot have yError2 without yError`);if(Fe(a)&&Fe(u))throw new Error(`${t} cannot have both xError and yError with both are quantiative`);if(Fe(a)){if(Hu(o))return{orient:"horizontal",inputType:"aggregated-error"};throw new Error("All x, xError, and xError2 (if exist) have to be quantitative")}else if(Fe(u)){if(Hu(s))return{orient:"vertical",inputType:"aggregated-error"};throw new Error("All y, yError, and yError2 (if exist) have to be quantitative")}throw new Error("No ranged axis")}}function eQe(e){return(Fe(e.x)||Fe(e.y))&&!Fe(e.x2)&&!Fe(e.y2)&&!Fe(e.xError)&&!Fe(e.xError2)&&!Fe(e.yError)&&!Fe(e.yError2)}function tQe(e){return Fe(e.x2)||Fe(e.y2)}function nQe(e){return Fe(e.xError)||Fe(e.xError2)||Fe(e.yError)||Fe(e.yError2)}function qle(e,t,n){const{mark:r,encoding:i,params:o,projection:s,...a}=e,l=Ra(r)?r:{type:r};o&&Z(Lae(t));const{orient:u,inputType:c}=ZKe(e,t),{continuousAxisChannelDef:f,continuousAxisChannelDef2:d,continuousAxisChannelDefError:h,continuousAxisChannelDefError2:p,continuousAxis:g}=jle(e,u,t),{errorBarSpecificAggregate:m,postAggregateCalculates:y,tooltipSummary:v,tooltipTitleWithFieldName:b}=rQe(l,f,d,h,p,c,t,n),{[g]:x,[g==="x"?"x2":"y2"]:w,[g==="x"?"xError":"yError"]:k,[g==="x"?"xError2":"yError2"]:S,...C}=i,{bins:E,timeUnits:A,aggregate:T,groupby:L,encoding:F}=Lle(C,n),R=[...T,...m],_=c!=="raw"?[]:L,P=OM(v,f,F,b);return{transform:[...a.transform??[],...E,...A,...R.length===0?[]:[{aggregate:R,groupby:_}],...y],groupby:_,continuousAxisChannelDef:f,continuousAxis:g,encodingWithoutContinuousAxis:F,ticksOrient:u==="vertical"?"horizontal":"vertical",markDef:l,outerSpec:a,tooltipEncoding:P}}function rQe(e,t,n,r,i,o,s,a){let l=[],u=[];const c=t.field;let f,d=!1;if(o==="raw"){const h=e.center?e.center:e.extent?e.extent==="iqr"?"median":"mean":a.errorbar.center,p=e.extent?e.extent:h==="mean"?"stderr":"iqr";if(h==="median"!=(p==="iqr")&&Z(hXe(h,p,s)),p==="stderr"||p==="stdev")l=[{op:p,field:c,as:`extent_${c}`},{op:h,field:c,as:`center_${c}`}],u=[{calculate:`datum["center_${c}"] + datum["extent_${c}"]`,as:`upper_${c}`},{calculate:`datum["center_${c}"] - datum["extent_${c}"]`,as:`lower_${c}`}],f=[{fieldPrefix:"center_",titlePrefix:cb(h)},{fieldPrefix:"upper_",titlePrefix:BV(h,p,"+")},{fieldPrefix:"lower_",titlePrefix:BV(h,p,"-")}],d=!0;else{let g,m,y;p==="ci"?(g="mean",m="ci0",y="ci1"):(g="median",m="q1",y="q3"),l=[{op:m,field:c,as:`lower_${c}`},{op:y,field:c,as:`upper_${c}`},{op:g,field:c,as:`center_${c}`}],f=[{fieldPrefix:"upper_",titlePrefix:Dp({field:c,aggregate:y,type:"quantitative"},a,{allowDisabling:!1})},{fieldPrefix:"lower_",titlePrefix:Dp({field:c,aggregate:m,type:"quantitative"},a,{allowDisabling:!1})},{fieldPrefix:"center_",titlePrefix:Dp({field:c,aggregate:g,type:"quantitative"},a,{allowDisabling:!1})}]}}else{(e.center||e.extent)&&Z(dXe(e.center,e.extent)),o==="aggregated-upper-lower"?(f=[],u=[{calculate:`datum["${n.field}"]`,as:`upper_${c}`},{calculate:`datum["${c}"]`,as:`lower_${c}`}]):o==="aggregated-error"&&(f=[{fieldPrefix:"",titlePrefix:c}],u=[{calculate:`datum["${c}"] + datum["${r.field}"]`,as:`upper_${c}`}],i?u.push({calculate:`datum["${c}"] + datum["${i.field}"]`,as:`lower_${c}`}):u.push({calculate:`datum["${c}"] - datum["${r.field}"]`,as:`lower_${c}`}));for(const h of u)f.push({fieldPrefix:h.as.substring(0,6),titlePrefix:Td(Td(h.calculate,'datum["',""),'"]',"")})}return{postAggregateCalculates:u,errorBarSpecificAggregate:l,tooltipSummary:f,tooltipTitleWithFieldName:d}}function BV(e,t,n){return`${cb(e)} ${n} ${t}`}const PL="errorband",iQe=["band","borders"],oQe=new k_(PL,Gle);function Gle(e,{config:t}){e={...e,encoding:C_(e.encoding,t)};const{transform:n,continuousAxisChannelDef:r,continuousAxis:i,encodingWithoutContinuousAxis:o,markDef:s,outerSpec:a,tooltipEncoding:l}=qle(e,PL,t),u=s,c=AL(u,i,r,o,t.errorband),f=e.encoding.x!==void 0&&e.encoding.y!==void 0;let d={type:f?"area":"rect"},h={type:f?"line":"rule"};const p={...u.interpolate?{interpolate:u.interpolate}:{},...u.tension&&u.interpolate?{tension:u.tension}:{}};return f?(d={...d,...p,ariaRoleDescription:"errorband"},h={...h,...p,aria:!1}):u.interpolate?Z(FV("interpolate")):u.tension&&Z(FV("tension")),{...a,transform:n,layer:[...c({partName:"band",mark:d,positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:l}),...c({partName:"borders",mark:h,positionPrefix:"lower",extraEncoding:l}),...c({partName:"borders",mark:h,positionPrefix:"upper",extraEncoding:l})]}}const Yle={};function ML(e,t,n){const r=new k_(e,t);Yle[e]={normalizer:r,parts:n}}function sQe(){return X(Yle)}ML(Fk,Vle,YKe);ML(TL,Hle,QKe);ML(PL,Gle,iQe);const aQe=["gradientHorizontalMaxLength","gradientHorizontalMinLength","gradientVerticalMaxLength","gradientVerticalMinLength","unselectedOpacity"],Xle={titleAlign:"align",titleAnchor:"anchor",titleAngle:"angle",titleBaseline:"baseline",titleColor:"color",titleFont:"font",titleFontSize:"fontSize",titleFontStyle:"fontStyle",titleFontWeight:"fontWeight",titleLimit:"limit",titleLineHeight:"lineHeight",titleOrient:"orient",titlePadding:"offset"},Kle={labelAlign:"align",labelAnchor:"anchor",labelAngle:"angle",labelBaseline:"baseline",labelColor:"color",labelFont:"font",labelFontSize:"fontSize",labelFontStyle:"fontStyle",labelFontWeight:"fontWeight",labelLimit:"limit",labelLineHeight:"lineHeight",labelOrient:"orient",labelPadding:"offset"},lQe=X(Xle),uQe=X(Kle),cQe={header:1,headerRow:1,headerColumn:1,headerFacet:1},Qle=X(cQe),Jle=["size","shape","fill","stroke","strokeDash","strokeWidth","opacity"],fQe={gradientHorizontalMaxLength:200,gradientHorizontalMinLength:100,gradientVerticalMaxLength:200,gradientVerticalMinLength:64,unselectedOpacity:.35},dQe={aria:1,clipHeight:1,columnPadding:1,columns:1,cornerRadius:1,description:1,direction:1,fillColor:1,format:1,formatType:1,gradientLength:1,gradientOpacity:1,gradientStrokeColor:1,gradientStrokeWidth:1,gradientThickness:1,gridAlign:1,labelAlign:1,labelBaseline:1,labelColor:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labelSeparation:1,legendX:1,legendY:1,offset:1,orient:1,padding:1,rowPadding:1,strokeColor:1,symbolDash:1,symbolDashOffset:1,symbolFillColor:1,symbolLimit:1,symbolOffset:1,symbolOpacity:1,symbolSize:1,symbolStrokeColor:1,symbolStrokeWidth:1,symbolType:1,tickCount:1,tickMinStep:1,title:1,titleAlign:1,titleAnchor:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titleOrient:1,titlePadding:1,type:1,values:1,zindex:1},Ms="_vgsid_",hQe={point:{on:"click",fields:[Ms],toggle:"event.shiftKey",resolve:"global",clear:"dblclick"},interval:{on:"[pointerdown, window:pointerup] > window:pointermove!",encodings:["x","y"],translate:"[pointerdown, window:pointerup] > window:pointermove!",zoom:"wheel!",mark:{fill:"#333",fillOpacity:.125,stroke:"white"},resolve:"global",clear:"dblclick"}};function FL(e){return e==="legend"||!!(e!=null&&e.legend)}function OT(e){return FL(e)&&se(e)}function RL(e){return!!(e!=null&&e.select)}function Zle(e){const t=[];for(const n of e||[]){if(RL(n))continue;const{expr:r,bind:i,...o}=n;if(i&&r){const s={...o,bind:i,init:r};t.push(s)}else{const s={...o,...r?{update:r}:{},...i?{bind:i}:{}};t.push(s)}}return t}function pQe(e){return E_(e)||DL(e)||OL(e)}function OL(e){return K(e,"concat")}function E_(e){return K(e,"vconcat")}function DL(e){return K(e,"hconcat")}function eue({step:e,offsetIsDiscrete:t}){return t?e.for??"offset":"position"}function Oa(e){return K(e,"step")}function UV(e){return K(e,"view")||K(e,"width")||K(e,"height")}const VV=20,gQe={align:1,bounds:1,center:1,columns:1,spacing:1},mQe=X(gQe);function yQe(e,t,n){const r=n[t],i={},{spacing:o,columns:s}=r;o!==void 0&&(i.spacing=o),s!==void 0&&(b_(e)&&!yb(e.facet)||OL(e))&&(i.columns=s),E_(e)&&(i.columns=1);for(const a of mQe)if(e[a]!==void 0)if(a==="spacing"){const l=e[a];i[a]=Je(l)?l:{row:l.row??o,column:l.column??o}}else i[a]=e[a];return i}function DM(e,t){return e[t]??e[t==="width"?"continuousWidth":"continuousHeight"]}function NM(e,t){const n=Rk(e,t);return Oa(n)?n.step:tue}function Rk(e,t){const n=e[t]??e[t==="width"?"discreteWidth":"discreteHeight"];return an(n,{step:e.step})}const tue=20,vQe={continuousWidth:200,continuousHeight:200,step:tue},bQe={background:"white",padding:5,timeFormat:"%b %d, %Y",countTitle:"Count of Records",view:vQe,mark:cKe,arc:{},area:{},bar:pKe,circle:{},geoshape:{},image:{},line:{},point:{},rect:mL,rule:{color:"black"},square:{},text:{color:"black"},tick:gKe,trail:{},boxplot:{size:14,extent:1.5,box:{},median:{color:"white"},outliers:{},rule:{},ticks:null},errorbar:{center:"mean",rule:!0,ticks:!1},errorband:{band:{opacity:.3},borders:!1},scale:HXe,projection:{},legend:fQe,header:{titlePadding:10,labelPadding:10},headerColumn:{},headerRow:{},headerFacet:{},selection:hQe,style:{},title:{},facet:{spacing:VV},concat:{spacing:VV},normalizedNumberFormat:".0%"},el=["#4c78a8","#f58518","#e45756","#72b7b2","#54a24b","#eeca3b","#b279a2","#ff9da6","#9d755d","#bab0ac"],WV={text:11,guideLabel:10,guideTitle:11,groupTitle:13,groupSubtitle:12},HV={blue:el[0],orange:el[1],red:el[2],teal:el[3],green:el[4],yellow:el[5],purple:el[6],pink:el[7],brown:el[8],gray0:"#000",gray1:"#111",gray2:"#222",gray3:"#333",gray4:"#444",gray5:"#555",gray6:"#666",gray7:"#777",gray8:"#888",gray9:"#999",gray10:"#aaa",gray11:"#bbb",gray12:"#ccc",gray13:"#ddd",gray14:"#eee",gray15:"#fff"};function xQe(e={}){return{signals:[{name:"color",value:se(e)?{...HV,...e}:HV}],mark:{color:{signal:"color.blue"}},rule:{color:{signal:"color.gray0"}},text:{color:{signal:"color.gray0"}},style:{"guide-label":{fill:{signal:"color.gray0"}},"guide-title":{fill:{signal:"color.gray0"}},"group-title":{fill:{signal:"color.gray0"}},"group-subtitle":{fill:{signal:"color.gray0"}},cell:{stroke:{signal:"color.gray8"}}},axis:{domainColor:{signal:"color.gray13"},gridColor:{signal:"color.gray8"},tickColor:{signal:"color.gray13"}},range:{category:[{signal:"color.blue"},{signal:"color.orange"},{signal:"color.red"},{signal:"color.teal"},{signal:"color.green"},{signal:"color.yellow"},{signal:"color.purple"},{signal:"color.pink"},{signal:"color.brown"},{signal:"color.grey8"}]}}}function wQe(e){return{signals:[{name:"fontSize",value:se(e)?{...WV,...e}:WV}],text:{fontSize:{signal:"fontSize.text"}},style:{"guide-label":{fontSize:{signal:"fontSize.guideLabel"}},"guide-title":{fontSize:{signal:"fontSize.guideTitle"}},"group-title":{fontSize:{signal:"fontSize.groupTitle"}},"group-subtitle":{fontSize:{signal:"fontSize.groupSubtitle"}}}}}function SQe(e){return{text:{font:e},style:{"guide-label":{font:e},"guide-title":{font:e},"group-title":{font:e},"group-subtitle":{font:e}}}}function nue(e){const t=X(e||{}),n={};for(const r of t){const i=e[r];n[r]=wb(i)?Pae(i):Ni(i)}return n}function kQe(e){const t=X(e),n={};for(const r of t)n[r]=nue(e[r]);return n}const CQe=[...fle,...Rle,...Qle,"background","padding","legend","lineBreak","scale","style","title","view"];function rue(e={}){const{color:t,font:n,fontSize:r,selection:i,...o}=e,s=um({},Pe(bQe),n?SQe(n):{},t?xQe(t):{},r?wQe(r):{},o||{});i&&cm(s,"selection",i,!0);const a=yi(s,CQe);for(const l of["background","lineBreak","padding"])s[l]&&(a[l]=Ni(s[l]));for(const l of fle)s[l]&&(a[l]=Gn(s[l]));for(const l of Rle)s[l]&&(a[l]=nue(s[l]));for(const l of Qle)s[l]&&(a[l]=Gn(s[l]));if(s.legend&&(a.legend=Gn(s.legend)),s.scale){const{invalid:l,...u}=s.scale,c=Gn(l,{level:1});a.scale={...Gn(u),...X(c).length>0?{invalid:c}:{}}}return s.style&&(a.style=kQe(s.style)),s.title&&(a.title=Gn(s.title)),s.view&&(a.view=Gn(s.view)),a}const EQe=new Set(["view",...iKe]),_Qe=["color","fontSize","background","padding","facet","concat","numberFormat","numberFormatType","normalizedNumberFormat","normalizedNumberFormatType","timeFormat","countTitle","header","axisQuantitative","axisTemporal","axisDiscrete","axisPoint","axisXBand","axisXPoint","axisXDiscrete","axisXQuantitative","axisXTemporal","axisYBand","axisYPoint","axisYDiscrete","axisYQuantitative","axisYTemporal","scale","selection","overlay"],$Qe={view:["continuousWidth","continuousHeight","discreteWidth","discreteHeight","step"],...uKe};function AQe(e){e=Pe(e);for(const t of _Qe)delete e[t];if(e.axis)for(const t in e.axis)wb(e.axis[t])&&delete e.axis[t];if(e.legend)for(const t of aQe)delete e.legend[t];if(e.mark){for(const t of OV)delete e.mark[t];e.mark.tooltip&&se(e.mark.tooltip)&&delete e.mark.tooltip}e.params&&(e.signals=(e.signals||[]).concat(Zle(e.params)),delete e.params);for(const t of EQe){for(const r of OV)delete e[t][r];const n=$Qe[t];if(n)for(const r of n)delete e[t][r];PQe(e,t)}for(const t of sQe())delete e[t];TQe(e);for(const t in e)se(e[t])&&vt(e[t])&&delete e[t];return vt(e)?void 0:e}function TQe(e){const{titleMarkConfig:t,subtitleMarkConfig:n,subtitle:r}=Tae(e.title);vt(t)||(e.style["group-title"]={...e.style["group-title"],...t}),vt(n)||(e.style["group-subtitle"]={...e.style["group-subtitle"],...n}),vt(r)?delete e.title:e.title=r}function PQe(e,t,n,r){const i=e[t];t==="view"&&(n="cell");const o={...i,...e.style[n??t]};vt(o)||(e.style[n??t]=o),delete e[t]}function __(e){return K(e,"layer")}function MQe(e){return K(e,"repeat")}function FQe(e){return!Y(e.repeat)&&K(e.repeat,"layer")}class NL{map(t,n){return b_(t)?this.mapFacet(t,n):MQe(t)?this.mapRepeat(t,n):DL(t)?this.mapHConcat(t,n):E_(t)?this.mapVConcat(t,n):OL(t)?this.mapConcat(t,n):this.mapLayerOrUnit(t,n)}mapLayerOrUnit(t,n){if(__(t))return this.mapLayer(t,n);if(nu(t))return this.mapUnit(t,n);throw new Error(ZN(t))}mapLayer(t,n){return{...t,layer:t.layer.map(r=>this.mapLayerOrUnit(r,n))}}mapHConcat(t,n){return{...t,hconcat:t.hconcat.map(r=>this.map(r,n))}}mapVConcat(t,n){return{...t,vconcat:t.vconcat.map(r=>this.map(r,n))}}mapConcat(t,n){const{concat:r,...i}=t;return{...i,concat:r.map(o=>this.map(o,n))}}mapFacet(t,n){return{...t,spec:this.map(t.spec,n)}}mapRepeat(t,n){return{...t,spec:this.map(t.spec,n)}}}const RQe={zero:1,center:1,normalize:1};function OQe(e){return fe(RQe,e)}const DQe=new Set([lle,g_,p_,_k,y_,pL,gL,m_,ule,hL]),NQe=new Set([g_,p_,lle]);function Fh(e){return ee(e)&&Bg(e)==="quantitative"&&!e.bin}function qV(e,t,{orient:n,type:r}){const i=t==="x"?"y":"radius",o=t==="x"&&["bar","area"].includes(r),s=e[t],a=e[i];if(ee(s)&&ee(a))if(Fh(s)&&Fh(a)){if(s.stack)return t;if(a.stack)return i;const l=ee(s)&&!!s.aggregate,u=ee(a)&&!!a.aggregate;if(l!==u)return l?t:i;if(o){if(n==="vertical")return i;if(n==="horizontal")return t}}else{if(Fh(s))return t;if(Fh(a))return i}else{if(Fh(s))return o&&n==="vertical"?void 0:t;if(Fh(a))return o&&n==="horizontal"?void 0:i}}function LQe(e){switch(e){case"x":return"y";case"y":return"x";case"theta":return"radius";case"radius":return"theta"}}function iue(e,t){var g,m;const n=Ra(e)?e:{type:e},r=n.type;if(!DQe.has(r))return null;const i=qV(t,"x",n)||qV(t,"theta",n);if(!i)return null;const o=t[i],s=ee(o)?ie(o,{}):void 0,a=LQe(i),l=[],u=new Set;if(t[a]){const y=t[a],v=ee(y)?ie(y,{}):void 0;v&&v!==s&&(l.push(a),u.add(v))}const c=a==="x"?"xOffset":"yOffset",f=t[c],d=ee(f)?ie(f,{}):void 0;d&&d!==s&&(l.push(c),u.add(d));const h=YGe.reduce((y,v)=>{if(v!=="tooltip"&&sd(t,v)){const b=t[v];for(const x of le(b)){const w=Ps(x);if(w.aggregate)continue;const k=ie(w,{});(!k||!u.has(k))&&y.push({channel:v,fieldDef:w})}}return y},[]);let p;return o.stack!==void 0?Dc(o.stack)?p=o.stack?"zero":null:p=o.stack:NQe.has(r)&&(p="zero"),!p||!OQe(p)||Nle(t)&&h.length===0?null:((g=o==null?void 0:o.scale)!=null&&g.type&&((m=o==null?void 0:o.scale)==null?void 0:m.type)!==Yn.LINEAR&&o!=null&&o.stack&&Z(uXe(o.scale.type)),Fe(t[qa(i)])?(o.stack!==void 0&&Z(lXe(i)),null):(ee(o)&&o.aggregate&&!sYe.has(o.aggregate)&&Z(cXe(o.aggregate)),{groupbyChannels:l,groupbyFields:u,fieldChannel:i,impute:o.impute===null?!1:Yc(r),stackBy:h,offset:p}))}function oue(e,t,n){const r=Gn(e),i=mt("orient",r,n);if(r.orient=BQe(r.type,t,i),i!==void 0&&i!==r.orient&&Z(qYe(r.orient,i)),r.type==="bar"&&r.orient){const l=mt("cornerRadiusEnd",r,n);if(l!==void 0){const u=r.orient==="horizontal"&&t.x2||r.orient==="vertical"&&t.y2?["cornerRadius"]:dKe[r.orient];for(const c of u)r[c]=l;r.cornerRadiusEnd!==void 0&&delete r.cornerRadiusEnd}}const o=mt("opacity",r,n),s=mt("fillOpacity",r,n);return o===void 0&&s===void 0&&(r.opacity=zQe(r.type,t)),mt("cursor",r,n)===void 0&&(r.cursor=IQe(r,t,n)),r}function IQe(e,t,n){return t.href||e.href||mt("href",e,n)?"pointer":e.cursor}function zQe(e,t){if(ze([y_,hL,pL,gL],e)&&!Nle(t))return .7}function jQe(e,t,{graticule:n}){if(n)return!1;const r=Fa("filled",e,t),i=e.type;return an(r,i!==y_&&i!==m_&&i!==_k)}function BQe(e,t,n){switch(e){case y_:case pL:case gL:case ule:case nKe:case tKe:return}const{x:r,y:i,x2:o,y2:s}=t;switch(e){case g_:if(ee(r)&&(Hn(r.bin)||ee(i)&&i.aggregate&&!r.aggregate))return"vertical";if(ee(i)&&(Hn(i.bin)||ee(r)&&r.aggregate&&!i.aggregate))return"horizontal";if(s||o){if(n)return n;if(!o)return(ee(r)&&r.type===Fd&&!$t(r.bin)||Ak(r))&&ee(i)&&Hn(i.bin)?"horizontal":"vertical";if(!s)return(ee(i)&&i.type===Fd&&!$t(i.bin)||Ak(i))&&ee(r)&&Hn(r.bin)?"vertical":"horizontal"}case _k:if(o&&!(ee(r)&&Hn(r.bin))&&s&&!(ee(i)&&Hn(i.bin)))return;case p_:if(s)return ee(i)&&Hn(i.bin)?"horizontal":"vertical";if(o)return ee(r)&&Hn(r.bin)?"vertical":"horizontal";if(e===_k){if(r&&!i)return"vertical";if(i&&!r)return"horizontal"}case m_:case hL:{const a=IV(r),l=IV(i);if(n)return n;if(a&&!l)return e!=="tick"?"horizontal":"vertical";if(!a&&l)return e!=="tick"?"vertical":"horizontal";if(a&&l)return"vertical";{const u=Zr(r)&&r.type===zg,c=Zr(i)&&i.type===zg;if(u&&!c)return"vertical";if(!u&&c)return"horizontal"}return}}return"vertical"}function UQe(e){const{point:t,line:n,...r}=e;return X(r).length>1?r:r.type}function VQe(e){for(const t of["line","area","rule","trail"])e[t]&&(e={...e,[t]:yi(e[t],["point","line"])});return e}function DT(e,t={},n){return e.point==="transparent"?{opacity:0}:e.point?se(e.point)?e.point:{}:e.point!==void 0?null:t.point||n.shape?se(t.point)?t.point:{}:void 0}function GV(e,t={}){return e.line?e.line===!0?{}:e.line:e.line!==void 0?null:t.line?t.line===!0?{}:t.line:void 0}class WQe{constructor(){this.name="path-overlay"}hasMatchingType(t,n){if(nu(t)){const{mark:r,encoding:i}=t,o=Ra(r)?r:{type:r};switch(o.type){case"line":case"rule":case"trail":return!!DT(o,n[o.type],i);case"area":return!!DT(o,n[o.type],i)||!!GV(o,n[o.type])}}return!1}run(t,n,r){const{config:i}=n,{params:o,projection:s,mark:a,name:l,encoding:u,...c}=t,f=C_(u,i),d=Ra(a)?a:{type:a},h=DT(d,i[d.type],f),p=d.type==="area"&&GV(d,i[d.type]),g=[{name:l,...o?{params:o}:{},mark:UQe({...d.type==="area"&&d.opacity===void 0&&d.fillOpacity===void 0?{opacity:.7}:{},...d}),encoding:yi(f,["shape"])}],m=iue(oue(d,f,i),f);let y=f;if(m){const{fieldChannel:v,offset:b}=m;y={...f,[v]:{...f[v],...b?{stack:b}:{}}}}return y=yi(y,["y2","x2"]),p&&g.push({...s?{projection:s}:{},mark:{type:"line",...Og(d,["clip","interpolate","tension","tooltip"]),...p},encoding:y}),h&&g.push({...s?{projection:s}:{},mark:{type:"point",opacity:1,filled:!0,...Og(d,["clip","tooltip"]),...h},encoding:y}),r({...c,layer:g},{...n,config:VQe(i)})}}function HQe(e,t){return t?yb(e)?aue(e,t):sue(e,t):e}function NT(e,t){return t?aue(e,t):e}function LM(e,t,n){const r=t[e];if($Ke(r)){if(r.repeat in n)return{...t,[e]:n[r.repeat]};Z(_Ye(r.repeat));return}return t}function sue(e,t){if(e=LM("field",e,t),e!==void 0){if(e===null)return null;if(SL(e)&&Tl(e.sort)){const n=LM("field",e.sort,t);e={...e,...n?{sort:n}:{}}}return e}}function YV(e,t){if(ee(e))return sue(e,t);{const n=LM("datum",e,t);return n!==e&&!n.type&&(n.type="nominal"),n}}function XV(e,t){if(Fe(e)){const n=YV(e,t);if(n)return n;if(vb(e))return{condition:e.condition}}else{if(bb(e)){const n=YV(e.condition,t);if(n)return{...e,condition:n};{const{condition:r,...i}=e;return i}}return e}}function aue(e,t){const n={};for(const r in e)if(K(e,r)){const i=e[r];if(Y(i))n[r]=i.map(o=>XV(o,t)).filter(o=>o);else{const o=XV(i,t);o!==void 0&&(n[r]=o)}}return n}class qQe{constructor(){this.name="RuleForRangedLine"}hasMatchingType(t){if(nu(t)){const{encoding:n,mark:r}=t;if(r==="line"||Ra(r)&&r.type==="line")for(const i of HGe){const o=oh(i),s=n[o];if(n[i]&&(ee(s)&&!Hn(s.bin)||Ya(s)))return!0}}return!1}run(t,n,r){const{encoding:i,mark:o}=t;return Z(HYe(!!i.x2,!!i.y2)),r({...t,mark:se(o)?{...o,type:"rule"}:"rule"},n)}}class GQe extends NL{constructor(){super(...arguments),this.nonFacetUnitNormalizers=[XKe,JKe,oQe,new WQe,new qQe]}map(t,n){if(nu(t)){const r=sd(t.encoding,$l),i=sd(t.encoding,Al),o=sd(t.encoding,r_);if(r||i||o)return this.mapFacetedUnit(t,n)}return super.map(t,n)}mapUnit(t,n){const{parentEncoding:r,parentProjection:i}=n,o=NT(t.encoding,n.repeater),s={...t,...t.name?{name:[n.repeaterPrefix,t.name].filter(l=>l).join("_")}:{},...o?{encoding:o}:{}};if(r||i)return this.mapUnitWithParentEncodingOrProjection(s,n);const a=this.mapLayerOrUnit.bind(this);for(const l of this.nonFacetUnitNormalizers)if(l.hasMatchingType(s,n.config))return l.run(s,n,a);return s}mapRepeat(t,n){return FQe(t)?this.mapLayerRepeat(t,n):this.mapNonLayerRepeat(t,n)}mapLayerRepeat(t,n){const{repeat:r,spec:i,...o}=t,{row:s,column:a,layer:l}=r,{repeater:u={},repeaterPrefix:c=""}=n;return s||a?this.mapRepeat({...t,repeat:{...s?{row:s}:{},...a?{column:a}:{}},spec:{repeat:{layer:l},spec:i}},n):{...o,layer:l.map(f=>{const d={...u,layer:f},h=`${(i.name?`${i.name}_`:"")+c}child__layer_${zt(f)}`,p=this.mapLayerOrUnit(i,{...n,repeater:d,repeaterPrefix:h});return p.name=h,p})}}mapNonLayerRepeat(t,n){const{repeat:r,spec:i,data:o,...s}=t;!Y(r)&&t.columns&&(t=yi(t,["columns"]),Z(AV("repeat")));const a=[],{repeater:l={},repeaterPrefix:u=""}=n,c=!Y(r)&&r.row||[l?l.row:null],f=!Y(r)&&r.column||[l?l.column:null],d=Y(r)&&r||[l?l.repeat:null];for(const p of d)for(const g of c)for(const m of f){const y={repeat:p,row:g,column:m,layer:l.layer},v=(i.name?`${i.name}_`:"")+u+"child__"+(Y(r)?`${zt(p)}`:(r.row?`row_${zt(g)}`:"")+(r.column?`column_${zt(m)}`:"")),b=this.map(i,{...n,repeater:y,repeaterPrefix:v});b.name=v,a.push(yi(b,["data"]))}const h=Y(r)?t.columns:r.column?r.column.length:1;return{data:i.data??o,align:"all",...s,columns:h,concat:a}}mapFacet(t,n){const{facet:r}=t;return yb(r)&&t.columns&&(t=yi(t,["columns"]),Z(AV("facet"))),super.mapFacet(t,n)}mapUnitWithParentEncodingOrProjection(t,n){const{encoding:r,projection:i}=t,{parentEncoding:o,parentProjection:s,config:a}=n,l=QV({parentProjection:s,projection:i}),u=KV({parentEncoding:o,encoding:NT(r,n.repeater)});return this.mapUnit({...t,...l?{projection:l}:{},...u?{encoding:u}:{}},{config:a})}mapFacetedUnit(t,n){const{row:r,column:i,facet:o,...s}=t.encoding,{mark:a,width:l,projection:u,height:c,view:f,params:d,encoding:h,...p}=t,{facetMapping:g,layout:m}=this.getFacetMappingAndLayout({row:r,column:i,facet:o},n),y=NT(s,n.repeater);return this.mapFacet({...p,...m,facet:g,spec:{...l?{width:l}:{},...c?{height:c}:{},...f?{view:f}:{},...u?{projection:u}:{},mark:a,encoding:y,...d?{params:d}:{}}},n)}getFacetMappingAndLayout(t,n){const{row:r,column:i,facet:o}=t;if(r||i){o&&Z(VYe([...r?[$l]:[],...i?[Al]:[]]));const s={},a={};for(const l of[$l,Al]){const u=t[l];if(u){const{align:c,center:f,spacing:d,columns:h,...p}=u;s[l]=p;for(const g of["align","center","spacing"])u[g]!==void 0&&(a[g]??(a[g]={}),a[g][l]=u[g])}}return{facetMapping:s,layout:a}}else{const{align:s,center:a,spacing:l,columns:u,...c}=o;return{facetMapping:HQe(c,n.repeater),layout:{...s?{align:s}:{},...a?{center:a}:{},...l?{spacing:l}:{},...u?{columns:u}:{}}}}}mapLayer(t,{parentEncoding:n,parentProjection:r,...i}){const{encoding:o,projection:s,...a}=t,l={...i,parentEncoding:KV({parentEncoding:n,encoding:o,layer:!0}),parentProjection:QV({parentProjection:r,projection:s})};return super.mapLayer({...a,...t.name?{name:[l.repeaterPrefix,t.name].filter(u=>u).join("_")}:{}},l)}}function KV({parentEncoding:e,encoding:t={},layer:n}){let r={};if(e){const i=new Set([...X(e),...X(t)]);for(const o of i){const s=t[o],a=e[o];if(Fe(s)){const l={...a,...s};r[o]=l}else bb(s)?r[o]={...s,condition:{...a,...s.condition}}:s||s===null?r[o]=s:(n||Ts(a)||me(a)||Fe(a)||Y(a))&&(r[o]=a)}}else r=t;return!r||vt(r)?void 0:r}function QV(e){const{parentProjection:t,projection:n}=e;return t&&n&&Z(FYe({parentProjection:t,projection:n})),n??t}function LL(e){return K(e,"filter")}function YQe(e){return K(e,"stop")}function lue(e){return K(e,"lookup")}function XQe(e){return K(e,"data")}function KQe(e){return K(e,"param")}function QQe(e){return K(e,"pivot")}function JQe(e){return K(e,"density")}function ZQe(e){return K(e,"quantile")}function eJe(e){return K(e,"regression")}function tJe(e){return K(e,"loess")}function nJe(e){return K(e,"sample")}function rJe(e){return K(e,"window")}function iJe(e){return K(e,"joinaggregate")}function oJe(e){return K(e,"flatten")}function sJe(e){return K(e,"calculate")}function uue(e){return K(e,"bin")}function aJe(e){return K(e,"impute")}function lJe(e){return K(e,"timeUnit")}function uJe(e){return K(e,"aggregate")}function cJe(e){return K(e,"stack")}function fJe(e){return K(e,"fold")}function dJe(e){return K(e,"extent")&&!K(e,"density")&&!K(e,"regression")}function hJe(e){return e.map(t=>LL(t)?{filter:Rp(t.filter,IXe)}:t)}class pJe extends NL{map(t,n){return n.emptySelections??(n.emptySelections={}),n.selectionPredicates??(n.selectionPredicates={}),t=JV(t,n),super.map(t,n)}mapLayerOrUnit(t,n){if(t=JV(t,n),t.encoding){const r={};for(const[i,o]of Ec(t.encoding))r[i]=cue(o,n);t={...t,encoding:r}}return super.mapLayerOrUnit(t,n)}mapUnit(t,n){const{selection:r,...i}=t;return r?{...i,params:Ec(r).map(([o,s])=>{const{init:a,bind:l,empty:u,...c}=s;c.type==="single"?(c.type="point",c.toggle=!1):c.type==="multi"&&(c.type="point"),n.emptySelections[o]=u!=="none";for(const f of tr(n.selectionPredicates[o]??{}))f.empty=u!=="none";return{name:o,value:a,select:c,bind:l}})}:t}}function JV(e,t){const{transform:n,...r}=e;if(n){const i=n.map(o=>{if(LL(o))return{filter:IM(o,t)};if(uue(o)&&sh(o.bin))return{...o,bin:fue(o.bin)};if(lue(o)){const{selection:s,...a}=o.from;return s?{...o,from:{param:s,...a}}:o}return o});return{...r,transform:i}}return e}function cue(e,t){var r,i;const n=Pe(e);if(ee(n)&&sh(n.bin)&&(n.bin=fue(n.bin)),ch(n)&&((i=(r=n.scale)==null?void 0:r.domain)!=null&&i.selection)){const{selection:o,...s}=n.scale.domain;n.scale.domain={...s,...o?{param:o}:{}}}if(vb(n))if(Y(n.condition))n.condition=n.condition.map(o=>{const{selection:s,param:a,test:l,...u}=o;return a?o:{...u,test:IM(o,t)}});else{const{selection:o,param:s,test:a,...l}=cue(n.condition,t);n.condition=s?n.condition:{...l,test:IM(n.condition,t)}}return n}function fue(e){const t=e.extent;if(t!=null&&t.selection){const{selection:n,...r}=t;return{...e,extent:{...r,param:n}}}return e}function IM(e,t){const n=r=>Rp(r,i=>{var o;const s=t.emptySelections[i]??!0,a={param:i,empty:s};return(o=t.selectionPredicates)[i]??(o[i]=[]),t.selectionPredicates[i].push(a),a});return e.selection?n(e.selection):Rp(e.test||e.filter,r=>r.selection?n(r.selection):r)}class zM extends NL{map(t,n){const r=n.selections??[];if(t.params&&!nu(t)){const i=[];for(const o of t.params)RL(o)?r.push(o):i.push(o);t.params=i}return n.selections=r,super.map(t,n)}mapUnit(t,n){const r=n.selections;if(!r||!r.length)return t;const i=(n.path??[]).concat(t.name),o=[];for(const s of r)if(!s.views||!s.views.length)o.push(s);else for(const a of s.views)(ue(a)&&(a===t.name||i.includes(a))||Y(a)&&a.map(l=>i.indexOf(l)).every((l,u,c)=>l!==-1&&(u===0||l>c[u-1])))&&o.push(s);return o.length&&(t.params=o),t}}for(const e of["mapFacet","mapRepeat","mapHConcat","mapVConcat","mapLayer"]){const t=zM.prototype[e];zM.prototype[e]=function(n,r){return t.call(this,n,gJe(n,r))}}function gJe(e,t){return e.name?{...t,path:(t.path??[]).concat(e.name)}:t}function due(e,t){t===void 0&&(t=rue(e.config));const n=bJe(e,t),{width:r,height:i}=e,o=xJe(n,{width:r,height:i,autosize:e.autosize},t);return{...n,...o?{autosize:o}:{}}}const mJe=new GQe,yJe=new pJe,vJe=new zM;function bJe(e,t={}){const n={config:t};return vJe.map(mJe.map(yJe.map(e,n),n),n)}function ZV(e){return ue(e)?{type:e}:e??{}}function xJe(e,t,n){let{width:r,height:i}=t;const o=nu(e)||__(e),s={};o?r=="container"&&i=="container"?(s.type="fit",s.contains="padding"):r=="container"?(s.type="fit-x",s.contains="padding"):i=="container"&&(s.type="fit-y",s.contains="padding"):(r=="container"&&(Z(CV("width")),r=void 0),i=="container"&&(Z(CV("height")),i=void 0));const a={type:"pad",...s,...n?ZV(n.autosize):{},...ZV(e.autosize)};if(a.type==="fit"&&!o&&(Z(gYe),a.type="pad"),r=="container"&&!(a.type=="fit"||a.type=="fit-x")&&Z(EV("width")),i=="container"&&!(a.type=="fit"||a.type=="fit-y")&&Z(EV("height")),!Ui(a,{type:"pad"}))return a}function wJe(e){return["fit","fit-x","fit-y"].includes(e)}function SJe(e){return e?`fit-${l_(e)}`:"fit"}const kJe=["background","padding"];function eW(e,t){const n={};for(const r of kJe)e&&e[r]!==void 0&&(n[r]=Ni(e[r]));return t&&(n.params=e.params),n}class ru{constructor(t={},n={}){this.explicit=t,this.implicit=n}clone(){return new ru(Pe(this.explicit),Pe(this.implicit))}combine(){return{...this.explicit,...this.implicit}}get(t){return an(this.explicit[t],this.implicit[t])}getWithExplicit(t){return this.explicit[t]!==void 0?{explicit:!0,value:this.explicit[t]}:this.implicit[t]!==void 0?{explicit:!1,value:this.implicit[t]}:{explicit:!1,value:void 0}}setWithExplicit(t,{value:n,explicit:r}){n!==void 0&&this.set(t,n,r)}set(t,n,r){return delete this[r?"implicit":"explicit"][t],this[r?"explicit":"implicit"][t]=n,this}copyKeyFromSplit(t,{explicit:n,implicit:r}){n[t]!==void 0?this.set(t,n[t],!0):r[t]!==void 0&&this.set(t,r[t],!1)}copyKeyFromObject(t,n){n[t]!==void 0&&this.set(t,n[t],!0)}copyAll(t){for(const n of X(t.combine())){const r=t.getWithExplicit(n);this.setWithExplicit(n,r)}}}function Js(e){return{explicit:!0,value:e}}function Pi(e){return{explicit:!1,value:e}}function hue(e){return(t,n,r,i)=>{const o=e(t.value,n.value);return o>0?t:o<0?n:$_(t,n,r,i)}}function $_(e,t,n,r){return e.explicit&&t.explicit&&Z(tXe(n,r,e.value,t.value)),e}function Ac(e,t,n,r,i=$_){return e===void 0||e.value===void 0?t:e.explicit&&!t.explicit?e:t.explicit&&!e.explicit?t:Ui(e.value,t.value)?e:i(e,t,n,r)}class CJe extends ru{constructor(t={},n={},r=!1){super(t,n),this.explicit=t,this.implicit=n,this.parseNothing=r}clone(){const t=super.clone();return t.parseNothing=this.parseNothing,t}}function Wg(e){return K(e,"url")}function Z1(e){return K(e,"values")}function pue(e){return K(e,"name")&&!Wg(e)&&!Z1(e)&&!ac(e)}function ac(e){return e&&(gue(e)||mue(e)||IL(e))}function gue(e){return K(e,"sequence")}function mue(e){return K(e,"sphere")}function IL(e){return K(e,"graticule")}var en;(function(e){e[e.Raw=0]="Raw",e[e.Main=1]="Main",e[e.Row=2]="Row",e[e.Column=3]="Column",e[e.Lookup=4]="Lookup",e[e.PreFilterInvalid=5]="PreFilterInvalid",e[e.PostFilterInvalid=6]="PostFilterInvalid"})(en||(en={}));function yue({invalid:e,isPath:t}){switch(dle(e,{isPath:t})){case"filter":return{marks:"exclude-invalid-values",scales:"exclude-invalid-values"};case"break-paths-show-domains":return{marks:t?"include-invalid-values":"exclude-invalid-values",scales:"include-invalid-values"};case"break-paths-filter-domains":return{marks:t?"include-invalid-values":"exclude-invalid-values",scales:"exclude-invalid-values"};case"show":return{marks:"include-invalid-values",scales:"include-invalid-values"}}}function EJe(e){const{marks:t,scales:n}=yue(e);return t===n?en.Main:n==="include-invalid-values"?en.PreFilterInvalid:en.PostFilterInvalid}function vue(e){const{signals:t,hasLegend:n,index:r,...i}=e;return i.field=jo(i.field),i}function Dd(e,t=!0,n=Ar){if(Y(e)){const r=e.map(i=>Dd(i,t,n));return t?`[${r.join(", ")}]`:r}else if(lh(e))return n(t?Md(e):_Xe(e));return t?n(bt(e)):e}function _Je(e,t){for(const n of tr(e.component.selection??{})){const r=n.name;let i=`${r}${Tc}, ${n.resolve==="global"?"true":`{unit: ${ad(e)}}`}`;for(const o of M_)o.defined(n)&&(o.signals&&(t=o.signals(e,n,t)),o.modifyExpr&&(i=o.modifyExpr(e,n,i)));t.push({name:r+nZe,on:[{events:{signal:n.name+Tc},update:`modify(${ne(n.name+Nd)}, ${i})`}]})}return zL(t)}function $Je(e,t){if(e.component.selection&&X(e.component.selection).length){const n=ne(e.getName("cell"));t.unshift({name:"facet",value:{},on:[{events:Bc("pointermove","scope"),update:`isTuple(facet) ? facet : group(${n}).datum`}]})}return zL(t)}function AJe(e,t){let n=!1;for(const r of tr(e.component.selection??{})){const i=r.name,o=ne(i+Nd);if(t.filter(a=>a.name===i).length===0){const a=r.resolve==="global"?"union":r.resolve,l=r.type==="point"?", true, true)":")";t.push({name:r.name,update:`${Nue}(${o}, ${ne(a)}${l}`})}n=!0;for(const a of M_)a.defined(r)&&a.topLevelSignals&&(t=a.topLevelSignals(e,r,t))}return n&&t.filter(i=>i.name==="unit").length===0&&t.unshift({name:"unit",value:{},on:[{events:"pointermove",update:"isTuple(group()) ? group() : unit"}]}),zL(t)}function TJe(e,t){const n=[...t],r=ad(e,{escape:!1});for(const i of tr(e.component.selection??{})){const o={name:i.name+Nd};if(i.project.hasSelectionId&&(o.transform=[{type:"collect",sort:{field:Ms}}]),i.init){const a=i.project.items.map(vue);o.values=i.project.hasSelectionId?i.init.map(l=>({unit:r,[Ms]:Dd(l,!1)[0]})):i.init.map(l=>({unit:r,fields:a,values:Dd(l,!1)}))}n.filter(a=>a.name===i.name+Nd).length||n.push(o)}return n}function bue(e,t){for(const n of tr(e.component.selection??{}))for(const r of M_)r.defined(n)&&r.marks&&(t=r.marks(e,n,t));return t}function PJe(e,t){for(const n of e.children)Vt(n)&&(t=bue(n,t));return t}function MJe(e,t,n,r){const i=Bue(e,t.param,t);return{signal:As(n.get("type"))&&Y(r)&&r[0]>r[1]?`isValid(${i}) && reverse(${i})`:i}}function zL(e){return e.map(t=>(t.on&&!t.on.length&&delete t.on,t))}class gt{constructor(t,n){this.debugName=n,this._children=[],this._parent=null,t&&(this.parent=t)}clone(){throw new Error("Cannot clone node")}get parent(){return this._parent}set parent(t){this._parent=t,t&&t.addChild(this)}get children(){return this._children}numChildren(){return this._children.length}addChild(t,n){if(this._children.includes(t)){Z(TYe);return}n!==void 0?this._children.splice(n,0,t):this._children.push(t)}removeChild(t){const n=this._children.indexOf(t);return this._children.splice(n,1),n}remove(){let t=this._parent.removeChild(this);for(const n of this._children)n._parent=this._parent,this._parent.addChild(n,t++)}insertAsParentOf(t){const n=t.parent;n.removeChild(this),this.parent=n,t.parent=this}swapWithParent(){const t=this._parent,n=t.parent;for(const i of this._children)i.parent=t;this._children=[],t.removeChild(this);const r=t.parent.removeChild(t);this._parent=n,n.addChild(this,r),t.parent=this}}class vi extends gt{clone(){const t=new this.constructor;return t.debugName=`clone_${this.debugName}`,t._source=this._source,t._name=`clone_${this._name}`,t.type=this.type,t.refCounts=this.refCounts,t.refCounts[t._name]=0,t}constructor(t,n,r,i){super(t,n),this.type=r,this.refCounts=i,this._source=this._name=n,this.refCounts&&!(this._name in this.refCounts)&&(this.refCounts[this._name]=0)}dependentFields(){return new Set}producedFields(){return new Set}hash(){return this._hash===void 0&&(this._hash=`Output ${hae()}`),this._hash}getSource(){return this.refCounts[this._name]++,this._source}isRequired(){return!!this.refCounts[this._name]}setSource(t){this._source=t}}function LT(e){return e.as!==void 0}function tW(e){return`${e}_end`}class _a extends gt{clone(){return new _a(null,Pe(this.timeUnits))}constructor(t,n){super(t),this.timeUnits=n}static makeFromEncoding(t,n){const r=n.reduceFieldDef((i,o,s)=>{const{field:a,timeUnit:l}=o;if(l){let u;if(uh(l)){if(Vt(n)){const{mark:c,markDef:f,config:d}=n,h=$c({fieldDef:o,markDef:f,config:d});(J1(c)||h)&&(u={timeUnit:Ln(l),field:a})}}else u={as:ie(o,{forAs:!0}),field:a,timeUnit:l};if(Vt(n)){const{mark:c,markDef:f,config:d}=n,h=$c({fieldDef:o,markDef:f,config:d});J1(c)&&ln(s)&&h!==.5&&(u.rectBandPosition=h)}u&&(i[Be(u)]=u)}return i},{});return vt(r)?null:new _a(t,r)}static makeFromTransform(t,n){const{timeUnit:r,...i}={...n},o=Ln(r),s={...i,timeUnit:o};return new _a(t,{[Be(s)]:s})}merge(t){this.timeUnits={...this.timeUnits};for(const n in t.timeUnits)this.timeUnits[n]||(this.timeUnits[n]=t.timeUnits[n]);for(const n of t.children)t.removeChild(n),n.parent=this;t.remove()}removeFormulas(t){const n={};for(const[r,i]of Ec(this.timeUnits)){const o=LT(i)?i.as:`${i.field}_end`;t.has(o)||(n[r]=i)}this.timeUnits=n}producedFields(){return new Set(tr(this.timeUnits).map(t=>LT(t)?t.as:tW(t.field)))}dependentFields(){return new Set(tr(this.timeUnits).map(t=>t.field))}hash(){return`TimeUnit ${Be(this.timeUnits)}`}assemble(){const t=[];for(const n of tr(this.timeUnits)){const{rectBandPosition:r}=n,i=Ln(n.timeUnit);if(LT(n)){const{field:o,as:s}=n,{unit:a,utc:l,...u}=i,c=[s,`${s}_end`];t.push({field:jo(o),type:"timeunit",...a?{units:d_(a)}:{},...l?{timezone:"utc"}:{},...u,as:c}),t.push(...nW(c,r,i))}else if(n){const{field:o}=n,s=o.replaceAll("\\.","."),a=xue({timeUnit:i,field:s}),l=tW(s);t.push({type:"formula",expr:a,as:l}),t.push(...nW([s,l],r,i))}}return t}}const A_="offsetted_rect_start",T_="offsetted_rect_end";function xue({timeUnit:e,field:t,reverse:n}){const{unit:r,utc:i}=e,o=Yae(r),{part:s,step:a}=Jae(o,e.step);return`${i?"utcOffset":"timeOffset"}('${s}', datum['${t}'], ${n?-a:a})`}function nW([e,t],n,r){if(n!==void 0&&n!==.5){const i=`datum['${e}']`,o=`datum['${t}']`;return[{type:"formula",expr:rW([xue({timeUnit:r,field:e,reverse:!0}),i],n+.5),as:`${e}_${A_}`},{type:"formula",expr:rW([i,o],n+.5),as:`${e}_${T_}`}]}return[]}function rW([e,t],n){return`${1-n} * ${e} + ${n} * ${t}`}const Sb="_tuple_fields";class FJe{constructor(...t){this.items=t,this.hasChannel={},this.hasField={},this.hasSelectionId=!1}}const RJe={defined:()=>!0,parse:(e,t,n)=>{const r=t.name,i=t.project??(t.project=new FJe),o={},s={},a=new Set,l=(p,g)=>{const m=g==="visual"?p.channel:p.field;let y=zt(`${r}_${m}`);for(let v=1;a.has(y);v++)y=zt(`${r}_${m}_${v}`);return a.add(y),{[g]:y}},u=t.type,c=e.config.selection[u],f=n.value!==void 0?le(n.value):null;let{fields:d,encodings:h}=se(n.select)?n.select:{};if(!d&&!h&&f){for(const p of f)if(se(p))for(const g of X(p))WGe(g)?(h||(h=[])).push(g):u==="interval"?(Z(EYe),h=c.encodings):(d??(d=[])).push(g)}!d&&!h&&(h=c.encodings,"fields"in c&&(d=c.fields));for(const p of h??[]){const g=e.fieldDef(p);if(g){let m=g.field;if(g.aggregate){Z(mYe(p,g.aggregate));continue}else if(!m){Z($V(p));continue}if(g.timeUnit&&!uh(g.timeUnit)){m=e.vgField(p);const y={timeUnit:g.timeUnit,as:m,field:g.field};s[Be(y)]=y}if(!o[m]){const y=u==="interval"&&Ga(p)&&As(e.getScaleComponent(p).get("type"))?"R":g.bin?"R-RE":"E",v={field:m,channel:p,type:y,index:i.items.length};v.signals={...l(v,"data"),...l(v,"visual")},i.items.push(o[m]=v),i.hasField[m]=o[m],i.hasSelectionId=i.hasSelectionId||m===Ms,bae(p)?(v.geoChannel=p,v.channel=vae(p),i.hasChannel[v.channel]=o[m]):i.hasChannel[p]=o[m]}}else Z($V(p))}for(const p of d??[]){if(i.hasField[p])continue;const g={type:"E",field:p,index:i.items.length};g.signals={...l(g,"data")},i.items.push(g),i.hasField[p]=g,i.hasSelectionId=i.hasSelectionId||p===Ms}f&&(t.init=f.map(p=>i.items.map(g=>se(p)?p[g.geoChannel||g.channel]!==void 0?p[g.geoChannel||g.channel]:p[g.field]:p))),vt(s)||(i.timeUnit=new _a(null,s))},signals:(e,t,n)=>{const r=t.name+Sb;return n.filter(o=>o.name===r).length>0||t.project.hasSelectionId?n:n.concat({name:r,value:t.project.items.map(vue)})}},Pl={defined:e=>e.type==="interval"&&e.resolve==="global"&&e.bind&&e.bind==="scales",parse:(e,t)=>{const n=t.scales=[];for(const r of t.project.items){const i=r.channel;if(!Ga(i))continue;const o=e.getScaleComponent(i),s=o?o.get("type"):void 0;if(s=="sequential"&&Z(xYe),!o||!As(s)){Z(bYe);continue}o.set("selectionExtent",{param:t.name,field:r.field},!0),n.push(r)}},topLevelSignals:(e,t,n)=>{const r=t.scales.filter(s=>n.filter(a=>a.name===s.signals.data).length===0);if(!e.parent||iW(e)||r.length===0)return n;const i=n.find(s=>s.name===t.name);let o=i.update;if(o.includes(Nue))i.update=`{${r.map(s=>`${ne(jo(s.field))}: ${s.signals.data}`).join(", ")}}`;else{for(const s of r){const a=`${ne(jo(s.field))}: ${s.signals.data}`;o.includes(a)||(o=`${o.substring(0,o.length-1)}, ${a}}`)}i.update=o}return n.concat(r.map(s=>({name:s.signals.data})))},signals:(e,t,n)=>{if(e.parent&&!iW(e))for(const r of t.scales){const i=n.find(o=>o.name===r.signals.data);i.push="outer",delete i.value,delete i.update}return n}};function jM(e,t){return`domain(${ne(e.scaleName(t))})`}function iW(e){return e.parent&&Mm(e.parent)&&!e.parent.parent}const Np="_brush",wue="_scale_trigger",v0="geo_interval_init_tick",Sue="_init",OJe="_center",DJe={defined:e=>e.type==="interval",parse:(e,t,n)=>{var r;if(e.hasProjection){const i={...se(n.select)?n.select:{}};i.fields=[Ms],i.encodings||(i.encodings=n.value?X(n.value):[js,zs]),n.select={type:"interval",...i}}if(t.translate&&!Pl.defined(t)){const i=`!event.item || event.item.mark.name !== ${ne(t.name+Np)}`;for(const o of t.events){if(!o.between){Z(`${o} is not an ordered event stream for interval selections.`);continue}const s=le((r=o.between[0]).filter??(r.filter=[]));s.includes(i)||s.push(i)}}},signals:(e,t,n)=>{const r=t.name,i=r+Tc,o=tr(t.project.hasChannel).filter(a=>a.channel===jt||a.channel===Un),s=t.init?t.init[0]:null;if(n.push(...o.reduce((a,l)=>a.concat(NJe(e,t,l,s&&s[l.index])),[])),e.hasProjection){const a=ne(e.projectionName()),l=e.projectionName()+OJe,{x:u,y:c}=t.project.hasChannel,f=u&&u.signals.visual,d=c&&c.signals.visual,h=u?s&&s[u.index]:`${l}[0]`,p=c?s&&s[c.index]:`${l}[1]`,g=w=>e.getSizeSignalRef(w).signal,m=`[[${f?f+"[0]":"0"}, ${d?d+"[0]":"0"}],[${f?f+"[1]":g("width")}, ${d?d+"[1]":g("height")}]]`;s&&(n.unshift({name:r+Sue,init:`[scale(${a}, [${u?h[0]:h}, ${c?p[0]:p}]), scale(${a}, [${u?h[1]:h}, ${c?p[1]:p}])]`}),(!u||!c)&&(n.find(k=>k.name===l)||n.unshift({name:l,update:`invert(${a}, [${g("width")}/2, ${g("height")}/2])`})));const y=`intersect(${m}, {markname: ${ne(e.getName("marks"))}}, unit.mark)`,v=`{unit: ${ad(e)}}`,b=`vlSelectionTuples(${y}, ${v})`,x=o.map(w=>w.signals.visual);return n.concat({name:i,on:[{events:[...x.length?[{signal:x.join(" || ")}]:[],...s?[{signal:v0}]:[]],update:b}]})}else{if(!Pl.defined(t)){const u=r+wue,c=o.map(f=>{const d=f.channel,{data:h,visual:p}=f.signals,g=ne(e.scaleName(d)),m=e.getScaleComponent(d).get("type"),y=As(m)?"+":"";return`(!isArray(${h}) || (${y}invert(${g}, ${p})[0] === ${y}${h}[0] && ${y}invert(${g}, ${p})[1] === ${y}${h}[1]))`});c.length&&n.push({name:u,value:{},on:[{events:o.map(f=>({scale:e.scaleName(f.channel)})),update:c.join(" && ")+` ? ${u} : {}`}]})}const a=o.map(u=>u.signals.data),l=`unit: ${ad(e)}, fields: ${r+Sb}, values`;return n.concat({name:i,...s?{init:`{${l}: ${Dd(s)}}`}:{},...a.length?{on:[{events:[{signal:a.join(" || ")}],update:`${a.join(" && ")} ? {${l}: [${a}]} : null`}]}:{}})}},topLevelSignals:(e,t,n)=>(Vt(e)&&e.hasProjection&&t.init&&(n.filter(i=>i.name===v0).length||n.unshift({name:v0,value:null,on:[{events:"timer{1}",update:`${v0} === null ? {} : ${v0}`}]})),n),marks:(e,t,n)=>{const r=t.name,{x:i,y:o}=t.project.hasChannel,s=i==null?void 0:i.signals.visual,a=o==null?void 0:o.signals.visual,l=`data(${ne(t.name+Nd)})`;if(Pl.defined(t)||!i&&!o)return n;const u={x:i!==void 0?{signal:`${s}[0]`}:{value:0},y:o!==void 0?{signal:`${a}[0]`}:{value:0},x2:i!==void 0?{signal:`${s}[1]`}:{field:{group:"width"}},y2:o!==void 0?{signal:`${a}[1]`}:{field:{group:"height"}}};if(t.resolve==="global")for(const m of X(u))u[m]=[{test:`${l}.length && ${l}[0].unit === ${ad(e)}`,...u[m]},{value:0}];const{fill:c,fillOpacity:f,cursor:d,...h}=t.mark,p=X(h).reduce((m,y)=>(m[y]=[{test:[i!==void 0&&`${s}[0] !== ${s}[1]`,o!==void 0&&`${a}[0] !== ${a}[1]`].filter(v=>v).join(" && "),value:h[y]},{value:null}],m),{}),g=d??(t.translate?"move":null);return[{name:`${r+Np}_bg`,type:"rect",clip:!0,encode:{enter:{fill:{value:c},fillOpacity:{value:f}},update:u}},...n,{name:r+Np,type:"rect",clip:!0,encode:{enter:{...g?{cursor:{value:g}}:{},fill:{value:"transparent"}},update:{...u,...p}}}]}};function NJe(e,t,n,r){const i=!e.hasProjection,o=n.channel,s=n.signals.visual,a=ne(i?e.scaleName(o):e.projectionName()),l=d=>`scale(${a}, ${d})`,u=e.getSizeSignalRef(o===jt?"width":"height").signal,c=`${o}(unit)`,f=t.events.reduce((d,h)=>[...d,{events:h.between[0],update:`[${c}, ${c}]`},{events:h,update:`[${s}[0], clamp(${c}, 0, ${u})]`}],[]);if(i){const d=n.signals.data,h=Pl.defined(t),p=e.getScaleComponent(o),g=p?p.get("type"):void 0,m=r?{init:Dd(r,!0,l)}:{value:[]};return f.push({events:{signal:t.name+wue},update:As(g)?`[${l(`${d}[0]`)}, ${l(`${d}[1]`)}]`:"[0, 0]"}),h?[{name:d,on:[]}]:[{name:s,...m,on:f},{name:d,...r?{init:Dd(r)}:{},on:[{events:{signal:s},update:`${s}[0] === ${s}[1] ? null : invert(${a}, ${s})`}]}]}else{const d=o===jt?0:1,h=t.name+Sue,p=r?{init:`[${h}[0][${d}], ${h}[1][${d}]]`}:{value:[]};return[{name:s,...p,on:f}]}}const LJe={defined:e=>e.type==="point",signals:(e,t,n)=>{const r=t.name,i=r+Sb,o=t.project,s="(item().isVoronoi ? datum.datum : datum)",a=tr(e.component.selection??{}).reduce((f,d)=>d.type==="interval"?f.concat(d.name+Np):f,[]).map(f=>`indexof(item().mark.name, '${f}') < 0`).join(" && "),l=`datum && item().mark.marktype !== 'group' && indexof(item().mark.role, 'legend') < 0${a?` && ${a}`:""}`;let u=`unit: ${ad(e)}, `;if(t.project.hasSelectionId)u+=`${Ms}: ${s}[${ne(Ms)}]`;else{const f=o.items.map(d=>{const h=e.fieldDef(d.channel);return h!=null&&h.bin?`[${s}[${ne(e.vgField(d.channel,{}))}], ${s}[${ne(e.vgField(d.channel,{binSuffix:"end"}))}]]`:`${s}[${ne(d.field)}]`}).join(", ");u+=`fields: ${i}, values: [${f}]`}const c=t.events;return n.concat([{name:r+Tc,on:c?[{events:c,update:`${l} ? {${u}} : null`,force:!0}]:[]}])}};function $m({model:e,channelDef:t,vgChannel:n,invalidValueRef:r,mainRefFn:i}){const o=vb(t)&&t.condition;let s=[];o&&(s=le(o).map(u=>{const c=i(u);if(_Ke(u)){const{param:f,empty:d}=u;return{test:jue(e,{param:f,empty:d}),...c}}else return{test:Nk(e,u.test),...c}})),r!==void 0&&s.push(r);const a=i(t);return a!==void 0&&s.push(a),s.length>1||s.length===1&&s[0].test?{[n]:s}:s.length===1?{[n]:s[0]}:{}}function jL(e,t="text"){const n=e.encoding[t];return $m({model:e,channelDef:n,vgChannel:t,mainRefFn:r=>P_(r,e.config),invalidValueRef:void 0})}function P_(e,t,n="datum"){if(e){if(Ts(e))return Ft(e.value);if(Fe(e)){const{format:r,formatType:i}=Pk(e);return xL({fieldOrDatumDef:e,format:r,formatType:i,expr:n,config:t})}}}function kue(e,t={}){const{encoding:n,markDef:r,config:i,stack:o}=e,s=n.tooltip;if(Y(s))return{tooltip:oW({tooltip:s},o,i,t)};{const a=t.reactiveGeom?"datum.datum":"datum";return $m({model:e,channelDef:s,vgChannel:"tooltip",mainRefFn:u=>{const c=P_(u,i,a);if(c)return c;if(u===null)return;let f=mt("tooltip",r,i);if(f===!0&&(f={content:"encoding"}),ue(f))return{value:f};if(se(f))return me(f)?f:f.content==="encoding"?oW(n,o,i,t):{signal:a}},invalidValueRef:void 0})}}function Cue(e,t,n,{reactiveGeom:r}={}){const i={...n,...n.tooltipFormat},o=new Set,s=r?"datum.datum":"datum",a=[];function l(c,f){const d=oh(f),h=Zr(c)?c:{...c,type:e[d].type},p=h.title||CL(h,i),g=le(p).join(", ").replaceAll(/"/g,'\\"');let m;if(ln(f)){const y=f==="x"?"x2":"y2",v=Ps(e[y]);if(Hn(h.bin)&&v){const b=ie(h,{expr:s}),x=ie(v,{expr:s}),{format:w,formatType:k}=Pk(h);m=mb(b,x,w,k,i),o.add(y)}}if((ln(f)||f===Vo||f===Is)&&t&&t.fieldChannel===f&&t.offset==="normalize"){const{format:y,formatType:v}=Pk(h);m=xL({fieldOrDatumDef:h,format:y,formatType:v,expr:s,config:i,normalizeStack:!0}).signal}m??(m=P_(h,i,s).signal),a.push({channel:f,key:g,value:m})}_L(e,(c,f)=>{ee(c)?l(c,f):x_(c)&&l(c.condition,f)});const u={};for(const{channel:c,key:f,value:d}of a)!o.has(c)&&!u[f]&&(u[f]=d);return u}function oW(e,t,n,{reactiveGeom:r}={}){const i=Cue(e,t,n,{reactiveGeom:r}),o=Ec(i).map(([s,a])=>`"${s}": ${a}`);return o.length>0?{signal:`{${o.join(", ")}}`}:void 0}function IJe(e){const{markDef:t,config:n}=e,r=mt("aria",t,n);return r===!1?{}:{...r?{aria:r}:{},...zJe(e),...jJe(e)}}function zJe(e){const{mark:t,markDef:n,config:r}=e;if(r.aria===!1)return{};const i=mt("ariaRoleDescription",n,r);return i!=null?{ariaRoleDescription:{value:i}}:fe(dYe,t)?{}:{ariaRoleDescription:{value:t}}}function jJe(e){const{encoding:t,markDef:n,config:r,stack:i}=e,o=t.description;if(o)return $m({model:e,channelDef:o,vgChannel:"description",mainRefFn:l=>P_(l,e.config),invalidValueRef:void 0});const s=mt("description",n,r);if(s!=null)return{description:Ft(s)};if(r.aria===!1)return{};const a=Cue(t,i,r);if(!vt(a))return{description:{signal:Ec(a).map(([l,u],c)=>`"${c>0?"; ":""}${l}: " + (${u})`).join(" + ")}}}function Kn(e,t,n={}){const{markDef:r,encoding:i,config:o}=t,{vgChannel:s}=n;let{defaultRef:a,defaultValue:l}=n;const u=i[e];a===void 0&&(l??(l=mt(e,r,o,{vgChannel:s,ignoreVgConfig:!vb(u)})),l!==void 0&&(a=Ft(l)));const c={markDef:r,config:o,scaleName:t.scaleName(e),scale:t.getScaleComponent(e)},f=ple({...c,scaleChannel:e,channelDef:u});return $m({model:t,channelDef:u,vgChannel:s??e,invalidValueRef:f,mainRefFn:h=>bL({...c,channel:e,channelDef:h,stack:null,defaultRef:a})})}function Eue(e,t={filled:void 0}){const{markDef:n,encoding:r,config:i}=e,{type:o}=n,s=t.filled??mt("filled",n,i),a=ze(["bar","point","circle","square","geoshape"],o)?"transparent":void 0,l=mt(s===!0?"color":void 0,n,i,{vgChannel:"fill"})??i.mark[s===!0&&"color"]??a,u=mt(s===!1?"color":void 0,n,i,{vgChannel:"stroke"})??i.mark[s===!1&&"color"],c=s?"fill":"stroke",f={...l?{fill:Ft(l)}:{},...u?{stroke:Ft(u)}:{}};return n.color&&(s?n.fill:n.stroke)&&Z(zae("property",{fill:"fill"in n,stroke:"stroke"in n})),{...f,...Kn("color",e,{vgChannel:c,defaultValue:s?l:u}),...Kn("fill",e,{defaultValue:r.fill?l:void 0}),...Kn("stroke",e,{defaultValue:r.stroke?u:void 0})}}function BJe(e){const{encoding:t,mark:n}=e,r=t.order;return!Yc(n)&&Ts(r)?$m({model:e,channelDef:r,vgChannel:"zindex",mainRefFn:i=>Ft(i.value),invalidValueRef:void 0}):{}}function Hg({channel:e,markDef:t,encoding:n={},model:r,bandPosition:i}){const o=`${e}Offset`,s=t[o],a=n[o];if((o==="xOffset"||o==="yOffset")&&a)return{offsetType:"encoding",offset:bL({channel:o,channelDef:a,markDef:t,config:r==null?void 0:r.config,scaleName:r.scaleName(o),scale:r.getScaleComponent(o),stack:null,defaultRef:Ft(s),bandPosition:i})};const l=t[o];return l?{offsetType:"visual",offset:l}:{}}function qr(e,t,{defaultPos:n,vgChannel:r}){const{encoding:i,markDef:o,config:s,stack:a}=t,l=i[e],u=i[qa(e)],c=t.scaleName(e),f=t.getScaleComponent(e),{offset:d,offsetType:h}=Hg({channel:e,markDef:o,encoding:i,model:t,bandPosition:.5}),p=BL({model:t,defaultPos:n,channel:e,scaleName:c,scale:f}),g=!l&&ln(e)&&(i.latitude||i.longitude)?{field:t.getName(e)}:UJe({channel:e,channelDef:l,channel2Def:u,markDef:o,config:s,scaleName:c,scale:f,stack:a,offset:d,defaultRef:p,bandPosition:h==="encoding"?0:void 0});return g?{[r||e]:g}:void 0}function UJe(e){const{channel:t,channelDef:n,scaleName:r,stack:i,offset:o,markDef:s}=e;if(Fe(n)&&i&&t===i.fieldChannel){if(ee(n)){let a=n.bandPosition;if(a===void 0&&s.type==="text"&&(t==="radius"||t==="theta")&&(a=.5),a!==void 0)return $k({scaleName:r,fieldOrDatumDef:n,startSuffix:"start",bandPosition:a,offset:o})}return od(n,r,{suffix:"end"},{offset:o})}return vL(e)}function BL({model:e,defaultPos:t,channel:n,scaleName:r,scale:i}){const{markDef:o,config:s}=e;return()=>{const a=oh(n),l=_c(n),u=mt(n,o,s,{vgChannel:l});if(u!==void 0)return Gy(n,u);switch(t){case"zeroOrMin":return sW({scaleName:r,scale:i,mode:"zeroOrMin",mainChannel:a,config:s});case"zeroOrMax":return sW({scaleName:r,scale:i,mode:{zeroOrMax:{widthSignal:e.width.signal,heightSignal:e.height.signal}},mainChannel:a,config:s});case"mid":return{...e[_i(n)],mult:.5}}}}function sW({mainChannel:e,config:t,...n}){const r=hle(n),{mode:i}=n;if(r)return r;switch(e){case"radius":{if(i==="zeroOrMin")return{value:0};const{widthSignal:o,heightSignal:s}=i.zeroOrMax;return{signal:`min(${o},${s})/2`}}case"theta":return i==="zeroOrMin"?{value:0}:{signal:"2*PI"};case"x":return i==="zeroOrMin"?{value:0}:{field:{group:"width"}};case"y":return i==="zeroOrMin"?{field:{group:"height"}}:{value:0}}}const VJe={left:"x",center:"xc",right:"x2"},WJe={top:"y",middle:"yc",bottom:"y2"};function _ue(e,t,n,r="middle"){if(e==="radius"||e==="theta")return _c(e);const i=e==="x"?"align":"baseline",o=mt(i,t,n);let s;return me(o)?(Z(WYe(i)),s=void 0):s=o,e==="x"?VJe[s||(r==="top"?"left":"center")]:WJe[s||r]}function Ok(e,t,{defaultPos:n,defaultPos2:r,range:i}){return i?$ue(e,t,{defaultPos:n,defaultPos2:r}):qr(e,t,{defaultPos:n})}function $ue(e,t,{defaultPos:n,defaultPos2:r}){const{markDef:i,config:o}=t,s=qa(e),a=_i(e),l=HJe(t,r,s),u=l[a]?_ue(e,i,o):_c(e);return{...qr(e,t,{defaultPos:n,vgChannel:u}),...l}}function HJe(e,t,n){const{encoding:r,mark:i,markDef:o,stack:s,config:a}=e,l=oh(n),u=_i(n),c=_c(n),f=r[l],d=e.scaleName(l),h=e.getScaleComponent(l),{offset:p}=n in r||n in o?Hg({channel:n,markDef:o,encoding:r,model:e}):Hg({channel:l,markDef:o,encoding:r,model:e});if(!f&&(n==="x2"||n==="y2")&&(r.latitude||r.longitude)){const m=_i(n),y=e.markDef[m];return y!=null?{[m]:{value:y}}:{[c]:{field:e.getName(n)}}}const g=qJe({channel:n,channelDef:f,channel2Def:r[n],markDef:o,config:a,scaleName:d,scale:h,stack:s,offset:p,defaultRef:void 0});return g!==void 0?{[c]:g}:Wx(n,o)||Wx(n,{[n]:TM(n,o,a.style),[u]:TM(u,o,a.style)})||Wx(n,a[i])||Wx(n,a.mark)||{[c]:BL({model:e,defaultPos:t,channel:n,scaleName:d,scale:h})()}}function qJe({channel:e,channelDef:t,channel2Def:n,markDef:r,config:i,scaleName:o,scale:s,stack:a,offset:l,defaultRef:u}){return Fe(t)&&a&&e.charAt(0)===a.fieldChannel.charAt(0)?od(t,o,{suffix:"start"},{offset:l}):vL({channel:e,channelDef:n,scaleName:o,scale:s,stack:a,markDef:r,config:i,offset:l,defaultRef:u})}function Wx(e,t){const n=_i(e),r=_c(e);if(t[r]!==void 0)return{[r]:Gy(e,t[r])};if(t[e]!==void 0)return{[r]:Gy(e,t[e])};if(t[n]){const i=t[n];if(Rd(i))Z(IYe(n));else return{[n]:Gy(e,i)}}}function Vl(e,t){const{config:n,encoding:r,markDef:i}=e,o=i.type,s=qa(t),a=_i(t),l=r[t],u=r[s],c=e.getScaleComponent(t),f=c?c.get("type"):void 0,d=i.orient,h=r[a]??r.size??mt("size",i,n,{vgChannel:a}),p=kae(t),g=o==="bar"&&(t==="x"?d==="vertical":d==="horizontal")||o==="tick"&&(t==="y"?d==="vertical":d==="horizontal");return ee(l)&&($t(l.bin)||Hn(l.bin)||l.timeUnit&&!u)&&!(h&&!Rd(h))&&!r[p]&&!In(f)?XJe({fieldDef:l,fieldDef2:u,channel:t,model:e}):(Fe(l)&&In(f)||g)&&!u?YJe(l,t,e):$ue(t,e,{defaultPos:"zeroOrMax",defaultPos2:"zeroOrMin"})}function GJe(e,t,n,r,i,o,s){if(Rd(i))if(n){const l=n.get("type");if(l==="band"){let u=`bandwidth('${t}')`;i.band!==1&&(u=`${i.band} * ${u}`);const c=Fa("minBandSize",{type:s},r);return{signal:c?`max(${ms(c)}, ${u})`:u}}else i.band!==1&&(Z(YYe(l)),i=void 0)}else return{mult:i.band,field:{group:e}};else{if(me(i))return i;if(i)return{value:i}}if(n){const l=n.get("range");if(ah(l)&&Je(l.step))return{value:l.step-2}}if(!o){const{bandPaddingInner:l,barBandPaddingInner:u,rectBandPaddingInner:c,tickBandPaddingInner:f}=r.scale,d=an(l,s==="tick"?f:s==="bar"?u:c);if(me(d))return{signal:`(1 - (${d.signal})) * ${e}`};if(Je(d))return{signal:`${1-d} * ${e}`}}return{value:NM(r.view,e)-2}}function YJe(e,t,n){var E,A;const{markDef:r,encoding:i,config:o,stack:s}=n,a=r.orient,l=n.scaleName(t),u=n.getScaleComponent(t),c=_i(t),f=qa(t),d=kae(t),h=n.scaleName(d),p=n.getScaleComponent(GN(t)),g=r.type==="tick"||a==="horizontal"&&t==="y"||a==="vertical"&&t==="x";let m;(i.size||r.size)&&(g?m=Kn("size",n,{vgChannel:c,defaultRef:Ft(r.size)}):Z(JYe(r.type)));const y=!!m,v=wle({channel:t,fieldDef:e,markDef:r,config:o,scaleType:(E=u||p)==null?void 0:E.get("type"),useVlSizeChannel:g});m=m||{[c]:GJe(c,h||l,p||u,o,v,!!e,r.type)};const b=((A=u||p)==null?void 0:A.get("type"))==="band"&&Rd(v)&&!y?"top":"middle",x=_ue(t,r,o,b),w=x==="xc"||x==="yc",{offset:k,offsetType:S}=Hg({channel:t,markDef:r,encoding:i,model:n,bandPosition:w?.5:0}),C=vL({channel:t,channelDef:e,markDef:r,config:o,scaleName:l,scale:u,stack:s,offset:k,defaultRef:BL({model:n,defaultPos:"mid",channel:t,scaleName:l,scale:u}),bandPosition:w?S==="encoding"?0:.5:me(v)?{signal:`(1-${v})/2`}:Rd(v)?(1-v.band)/2:0});if(c)return{[x]:C,...m};{const T=_c(f),L=m[c],F=k?{...L,offset:k}:L;return{[x]:C,[T]:Y(C)?[C[0],{...C[1],offset:F}]:{...C,offset:F}}}}function aW(e,t,n,r,i,o,s){if(yae(e))return 0;const a=e==="x"||e==="y2",l=a?-t/2:t/2;if(me(n)||me(i)||me(r)||o){const u=ms(n),c=ms(i),f=ms(r),d=ms(o),p=o?`(${s} < ${d} ? ${a?"":"-"}0.5 * (${d} - (${s})) : ${l})`:l,g=f?`${f} + `:"",m=u?`(${u} ? -1 : 1) * `:"",y=c?`(${c} + ${p})`:p;return{signal:g+m+y}}else return i=i||0,r+(n?-i-l:+i+l)}function XJe({fieldDef:e,fieldDef2:t,channel:n,model:r}){var A;const{config:i,markDef:o,encoding:s}=r,a=r.getScaleComponent(n),l=r.scaleName(n),u=a?a.get("type"):void 0,c=a.get("reverse"),f=wle({channel:n,fieldDef:e,markDef:o,config:i,scaleType:u}),d=(A=r.component.axes[n])==null?void 0:A[0],h=(d==null?void 0:d.get("translate"))??.5,p=ln(n)?mt("binSpacing",o,i)??0:0,g=qa(n),m=_c(n),y=_c(g),v=Fa("minBandSize",o,i),{offset:b}=Hg({channel:n,markDef:o,encoding:s,model:r,bandPosition:0}),{offset:x}=Hg({channel:g,markDef:o,encoding:s,model:r,bandPosition:0}),w=xKe({fieldDef:e,scaleName:l}),k=aW(n,p,c,h,b,v,w),S=aW(g,p,c,h,x??b,v,w),C=me(f)?{signal:`(1-${f.signal})/2`}:Rd(f)?(1-f.band)/2:.5,E=$c({fieldDef:e,fieldDef2:t,markDef:o,config:i});if($t(e.bin)||e.timeUnit){const T=e.timeUnit&&E!==.5;return{[y]:lW({fieldDef:e,scaleName:l,bandPosition:C,offset:S,useRectOffsetField:T}),[m]:lW({fieldDef:e,scaleName:l,bandPosition:me(C)?{signal:`1-${C.signal}`}:1-C,offset:k,useRectOffsetField:T})}}else if(Hn(e.bin)){const T=od(e,l,{},{offset:S});if(ee(t))return{[y]:T,[m]:od(t,l,{},{offset:k})};if(sh(e.bin)&&e.bin.step)return{[y]:T,[m]:{signal:`scale("${l}", ${ie(e,{expr:"datum"})} + ${e.bin.step})`,offset:k}}}Z(Uae(g))}function lW({fieldDef:e,scaleName:t,bandPosition:n,offset:r,useRectOffsetField:i}){return $k({scaleName:t,fieldOrDatumDef:e,bandPosition:n,offset:r,...i?{startSuffix:A_,endSuffix:T_}:{}})}const KJe=new Set(["aria","width","height"]);function Wo(e,t){const{fill:n=void 0,stroke:r=void 0}=t.color==="include"?Eue(e):{};return{...QJe(e.markDef,t),...uW("fill",n),...uW("stroke",r),...Kn("opacity",e),...Kn("fillOpacity",e),...Kn("strokeOpacity",e),...Kn("strokeWidth",e),...Kn("strokeDash",e),...BJe(e),...kue(e),...jL(e,"href"),...IJe(e)}}function uW(e,t){return t?{[e]:t}:{}}function QJe(e,t){return fYe.reduce((n,r)=>(!KJe.has(r)&&K(e,r)&&t[r]!=="ignore"&&(n[r]=Ft(e[r])),n),{})}function UL(e){const{config:t,markDef:n}=e,r=new Set;if(e.forEachFieldDef((i,o)=>{var u;let s;if(!Ga(o)||!(s=e.getScaleType(o)))return;const a=u_(i.aggregate),l=yL({scaleChannel:o,markDef:n,config:t,scaleType:s,isCountAggregate:a});if(yKe(l)){const c=e.vgField(o,{expr:"datum",binSuffix:(u=e.stack)!=null&&u.impute?"mid":void 0});c&&r.add(c)}}),r.size>0)return{defined:{signal:[...r].map(o=>h_(o,!0)).join(" && ")}}}function cW(e,t){if(t!==void 0)return{[e]:Ft(t)}}const IT="voronoi",Aue={defined:e=>e.type==="point"&&e.nearest,parse:(e,t)=>{if(t.events)for(const n of t.events)n.markname=e.getName(IT)},marks:(e,t,n)=>{const{x:r,y:i}=t.project.hasChannel,o=e.mark;if(Yc(o))return Z(yYe(o)),n;const s={name:e.getName(IT),type:"path",interactive:!0,from:{data:e.getName("marks")},encode:{update:{fill:{value:"transparent"},strokeWidth:{value:.35},stroke:{value:"transparent"},isVoronoi:{value:!0},...kue(e,{reactiveGeom:!0})}},transform:[{type:"voronoi",x:{expr:r||!i?"datum.datum.x || 0":"0"},y:{expr:i||!r?"datum.datum.y || 0":"0"},size:[e.getSizeSignalRef("width"),e.getSizeSignalRef("height")]}]};let a=0,l=!1;return n.forEach((u,c)=>{const f=u.name??"";f===e.component.mark[0].name?a=c:f.includes(IT)&&(l=!0)}),l||n.splice(a+1,0,s),n}},Tue={defined:e=>e.type==="point"&&e.resolve==="global"&&e.bind&&e.bind!=="scales"&&!FL(e.bind),parse:(e,t,n)=>Lue(t,n),topLevelSignals:(e,t,n)=>{const r=t.name,i=t.project,o=t.bind,s=t.init&&t.init[0],a=Aue.defined(t)?"(item().isVoronoi ? datum.datum : datum)":"datum";return i.items.forEach((l,u)=>{const c=zt(`${r}_${l.field}`);n.filter(d=>d.name===c).length||n.unshift({name:c,...s?{init:Dd(s[u])}:{value:null},on:t.events?[{events:t.events,update:`datum && item().mark.marktype !== 'group' ? ${a}[${ne(l.field)}] : null`}]:[],bind:o[l.field]??o[l.channel]??o})}),n},signals:(e,t,n)=>{const r=t.name,i=t.project,o=n.find(u=>u.name===r+Tc),s=r+Sb,a=i.items.map(u=>zt(`${r}_${u.field}`)),l=a.map(u=>`${u} !== null`).join(" && ");return a.length&&(o.update=`${l} ? {fields: ${s}, values: [${a.join(", ")}]} : null`),delete o.value,delete o.on,n}},Dk="_toggle",Pue={defined:e=>e.type==="point"&&!!e.toggle,signals:(e,t,n)=>n.concat({name:t.name+Dk,value:!1,on:[{events:t.events,update:t.toggle}]}),modifyExpr:(e,t)=>{const n=t.name+Tc,r=t.name+Dk;return`${r} ? null : ${n}, `+(t.resolve==="global"?`${r} ? null : true, `:`${r} ? null : {unit: ${ad(e)}}, `)+`${r} ? ${n} : null`}},JJe={defined:e=>e.clear!==void 0&&e.clear!==!1,parse:(e,t)=>{t.clear&&(t.clear=ue(t.clear)?Bc(t.clear,"view"):t.clear)},topLevelSignals:(e,t,n)=>{if(Tue.defined(t))for(const r of t.project.items){const i=n.findIndex(o=>o.name===zt(`${t.name}_${r.field}`));i!==-1&&n[i].on.push({events:t.clear,update:"null"})}return n},signals:(e,t,n)=>{function r(i,o){i!==-1&&n[i].on&&n[i].on.push({events:t.clear,update:o})}if(t.type==="interval")for(const i of t.project.items){const o=n.findIndex(s=>s.name===i.signals.visual);if(r(o,"[0, 0]"),o===-1){const s=n.findIndex(a=>a.name===i.signals.data);r(s,"null")}}else{let i=n.findIndex(o=>o.name===t.name+Tc);r(i,"null"),Pue.defined(t)&&(i=n.findIndex(o=>o.name===t.name+Dk),r(i,"false"))}return n}},Mue={defined:e=>{const t=e.resolve==="global"&&e.bind&&FL(e.bind),n=e.project.items.length===1&&e.project.items[0].field!==Ms;return t&&!n&&Z(wYe),t&&n},parse:(e,t,n)=>{const r=Pe(n);if(r.select=ue(r.select)?{type:r.select,toggle:t.toggle}:{...r.select,toggle:t.toggle},Lue(t,r),se(n.select)&&(n.select.on||n.select.clear)){const s='event.item && indexof(event.item.mark.role, "legend") < 0';for(const a of t.events)a.filter=le(a.filter??[]),a.filter.includes(s)||a.filter.push(s)}const i=OT(t.bind)?t.bind.legend:"click",o=ue(i)?Bc(i,"view"):le(i);t.bind={legend:{merge:o}}},topLevelSignals:(e,t,n)=>{const r=t.name,i=OT(t.bind)&&t.bind.legend,o=s=>a=>{const l=Pe(a);return l.markname=s,l};for(const s of t.project.items){if(!s.hasLegend)continue;const a=`${zt(s.field)}_legend`,l=`${r}_${a}`;if(n.filter(c=>c.name===l).length===0){const c=i.merge.map(o(`${a}_symbols`)).concat(i.merge.map(o(`${a}_labels`))).concat(i.merge.map(o(`${a}_entries`)));n.unshift({name:l,...t.init?{}:{value:null},on:[{events:c,update:"isDefined(datum.value) ? datum.value : item().items[0].items[0].datum.value",force:!0},{events:i.merge,update:`!event.item || !datum ? null : ${l}`,force:!0}]})}}return n},signals:(e,t,n)=>{const r=t.name,i=t.project,o=n.find(d=>d.name===r+Tc),s=r+Sb,a=i.items.filter(d=>d.hasLegend).map(d=>zt(`${r}_${zt(d.field)}_legend`)),u=`${a.map(d=>`${d} !== null`).join(" && ")} ? {fields: ${s}, values: [${a.join(", ")}]} : null`;t.events&&a.length>0?o.on.push({events:a.map(d=>({signal:d})),update:u}):a.length>0&&(o.update=u,delete o.value,delete o.on);const c=n.find(d=>d.name===r+Dk),f=OT(t.bind)&&t.bind.legend;return c&&(t.events?c.on.push({...c.on[0],events:f}):c.on[0].events=f),n}};function ZJe(e,t,n){var i;const r=(i=e.fieldDef(t))==null?void 0:i.field;for(const o of tr(e.component.selection??{})){const s=o.project.hasField[r]??o.project.hasChannel[t];if(s&&Mue.defined(o)){const a=n.get("selections")??[];a.push(o.name),n.set("selections",a,!1),s.hasLegend=!0}}}const Fue="_translate_anchor",Rue="_translate_delta",eZe={defined:e=>e.type==="interval"&&e.translate,signals:(e,t,n)=>{const r=t.name,i=Pl.defined(t),o=r+Fue,{x:s,y:a}=t.project.hasChannel;let l=Bc(t.translate,"scope");return i||(l=l.map(u=>(u.between[0].markname=r+Np,u))),n.push({name:o,value:{},on:[{events:l.map(u=>u.between[0]),update:"{x: x(unit), y: y(unit)"+(s!==void 0?`, extent_x: ${i?jM(e,jt):`slice(${s.signals.visual})`}`:"")+(a!==void 0?`, extent_y: ${i?jM(e,Un):`slice(${a.signals.visual})`}`:"")+"}"}]},{name:r+Rue,value:{},on:[{events:l,update:`{x: ${o}.x - x(unit), y: ${o}.y - y(unit)}`}]}),s!==void 0&&fW(e,t,s,"width",n),a!==void 0&&fW(e,t,a,"height",n),n}};function fW(e,t,n,r,i){const o=t.name,s=o+Fue,a=o+Rue,l=n.channel,u=Pl.defined(t),c=i.find(w=>w.name===n.signals[u?"data":"visual"]),f=e.getSizeSignalRef(r).signal,d=e.getScaleComponent(l),h=d&&d.get("type"),p=d&&d.get("reverse"),g=u?l===jt?p?"":"-":p?"-":"":"",m=`${s}.extent_${l}`,y=`${g}${a}.${l} / ${u?`${f}`:`span(${m})`}`,v=!u||!d?"panLinear":h==="log"?"panLog":h==="symlog"?"panSymlog":h==="pow"?"panPow":"panLinear",b=u?h==="pow"?`, ${d.get("exponent")??1}`:h==="symlog"?`, ${d.get("constant")??1}`:"":"",x=`${v}(${m}, ${y}${b})`;c.on.push({events:{signal:a},update:u?x:`clampRange(${x}, 0, ${f})`})}const Oue="_zoom_anchor",Due="_zoom_delta",tZe={defined:e=>e.type==="interval"&&e.zoom,signals:(e,t,n)=>{const r=t.name,i=Pl.defined(t),o=r+Due,{x:s,y:a}=t.project.hasChannel,l=ne(e.scaleName(jt)),u=ne(e.scaleName(Un));let c=Bc(t.zoom,"scope");return i||(c=c.map(f=>(f.markname=r+Np,f))),n.push({name:r+Oue,on:[{events:c,update:i?"{"+[l?`x: invert(${l}, x(unit))`:"",u?`y: invert(${u}, y(unit))`:""].filter(f=>f).join(", ")+"}":"{x: x(unit), y: y(unit)}"}]},{name:o,on:[{events:c,force:!0,update:"pow(1.001, event.deltaY * pow(16, event.deltaMode))"}]}),s!==void 0&&dW(e,t,s,"width",n),a!==void 0&&dW(e,t,a,"height",n),n}};function dW(e,t,n,r,i){const o=t.name,s=n.channel,a=Pl.defined(t),l=i.find(v=>v.name===n.signals[a?"data":"visual"]),u=e.getSizeSignalRef(r).signal,c=e.getScaleComponent(s),f=c&&c.get("type"),d=a?jM(e,s):l.name,h=o+Due,p=`${o}${Oue}.${s}`,g=!a||!c?"zoomLinear":f==="log"?"zoomLog":f==="symlog"?"zoomSymlog":f==="pow"?"zoomPow":"zoomLinear",m=a?f==="pow"?`, ${c.get("exponent")??1}`:f==="symlog"?`, ${c.get("constant")??1}`:"":"",y=`${g}(${d}, ${p}, ${h}${m})`;l.on.push({events:{signal:h},update:a?y:`clampRange(${y}, 0, ${u})`})}const Nd="_store",Tc="_tuple",nZe="_modify",Nue="vlSelectionResolve",M_=[LJe,DJe,RJe,Pue,Tue,Pl,Mue,JJe,eZe,tZe,Aue];function rZe(e){let t=e.parent;for(;t&&!Xi(t);)t=t.parent;return t}function ad(e,{escape:t}={escape:!0}){let n=t?ne(e.name):e.name;const r=rZe(e);if(r){const{facet:i}=r;for(const o of To)i[o]&&(n+=` + '__facet_${o}_' + (facet[${ne(r.vgField(o))}])`)}return n}function VL(e){return tr(e.component.selection??{}).reduce((t,n)=>t||n.project.hasSelectionId,!1)}function Lue(e,t){(ue(t.select)||!t.select.on)&&delete e.events,(ue(t.select)||!t.select.clear)&&delete e.clear,(ue(t.select)||!t.select.toggle)&&delete e.toggle}function BM(e){const t=[];return e.type==="Identifier"?[e.name]:e.type==="Literal"?[e.value]:(e.type==="MemberExpression"&&(t.push(...BM(e.object)),t.push(...BM(e.property))),t)}function Iue(e){return e.object.type==="MemberExpression"?Iue(e.object):e.object.name==="datum"}function zue(e){const t=uN(e),n=new Set;return t.visit(r=>{r.type==="MemberExpression"&&Iue(r)&&n.add(BM(r).slice(1).join("."))}),n}class Am extends gt{clone(){return new Am(null,this.model,Pe(this.filter))}constructor(t,n,r){super(t),this.model=n,this.filter=r,this.expr=Nk(this.model,this.filter,this),this._dependentFields=zue(this.expr)}dependentFields(){return this._dependentFields}producedFields(){return new Set}assemble(){return{type:"filter",expr:this.expr}}hash(){return`Filter ${this.expr}`}}function iZe(e,t){const n={},r=e.config.selection;if(!t||!t.length)return n;for(const i of t){const o=zt(i.name),s=i.select,a=ue(s)?s:s.type,l=se(s)?Pe(s):{type:a},u=r[a];for(const d in u)d==="fields"||d==="encodings"||(d==="mark"&&(l.mark={...u.mark,...l.mark}),(l[d]===void 0||l[d]===!0)&&(l[d]=Pe(u[d]??l[d])));const c=n[o]={...l,name:o,type:a,init:i.value,bind:i.bind,events:ue(l.on)?Bc(l.on,"scope"):le(Pe(l.on))},f=Pe(i);for(const d of M_)d.defined(c)&&d.parse&&d.parse(e,c,f)}return n}function jue(e,t,n,r="datum"){const i=ue(t)?t:t.param,o=zt(i),s=ne(o+Nd);let a;try{a=e.getSelectionComponent(o,i)}catch{return`!!${o}`}if(a.project.timeUnit){const d=n??e.component.data.raw,h=a.project.timeUnit.clone();d.parent?h.insertAsParentOf(d):d.parent=h}const l=a.project.hasSelectionId?"vlSelectionIdTest(":"vlSelectionTest(",u=a.resolve==="global"?")":`, ${ne(a.resolve)})`,c=`${l}${s}, ${r}${u}`,f=`length(data(${s}))`;return t.empty===!1?`${f} && ${c}`:`!${f} || ${c}`}function Bue(e,t,n){const r=zt(t),i=n.encoding;let o=n.field,s;try{s=e.getSelectionComponent(r,t)}catch{return r}if(!i&&!o)o=s.project.items[0].field,s.project.items.length>1&&Z(`A "field" or "encoding" must be specified when using a selection as a scale domain. Using "field": ${ne(o)}.`);else if(i&&!o){const a=s.project.items.filter(l=>l.channel===i);!a.length||a.length>1?(o=s.project.items[0].field,Z((a.length?"Multiple ":"No ")+`matching ${ne(i)} encoding found for selection ${ne(n.param)}. Using "field": ${ne(o)}.`)):o=a[0].field}return`${s.name}[${ne(jo(o))}]`}function oZe(e,t){for(const[n,r]of Ec(e.component.selection??{})){const i=e.getName(`lookup_${n}`);e.component.data.outputNodes[i]=r.materialized=new vi(new Am(t,e,{param:n}),i,en.Lookup,e.component.data.outputNodeRefCounts)}}function Nk(e,t,n){return qy(t,r=>ue(r)?r:DXe(r)?jue(e,r,n):ele(r))}function sZe(e,t){if(e)return Y(e)&&!ku(e)?e.map(n=>CL(n,t)).join(", "):e}function zT(e,t,n,r){var i,o;e.encode??(e.encode={}),(i=e.encode)[t]??(i[t]={}),(o=e.encode[t]).update??(o.update={}),e.encode[t].update[n]=r}function ly(e,t,n,r={header:!1}){var f,d;const{disable:i,orient:o,scale:s,labelExpr:a,title:l,zindex:u,...c}=e.combine();if(!i){for(const h in c){const p=h,g=jKe[p],m=c[p];if(g&&g!==t&&g!=="both")delete c[p];else if(wb(m)){const{condition:y,...v}=m,b=le(y),x=zV[p];if(x){const{vgProp:w,part:k}=x,S=[...b.map(C=>{const{test:E,...A}=C;return{test:Nk(null,E),...A}}),v];zT(c,k,w,S),delete c[p]}else if(x===null){const w={signal:b.map(k=>{const{test:S,...C}=k;return`${Nk(null,S)} ? ${kV(C)} : `}).join("")+kV(v)};c[p]=w}}else if(me(m)){const y=zV[p];if(y){const{vgProp:v,part:b}=y;zT(c,b,v,m),delete c[p]}}ze(["labelAlign","labelBaseline"],p)&&c[p]===null&&delete c[p]}if(t==="grid"){if(!c.grid)return;if(c.encode){const{grid:h}=c.encode;c.encode={...h?{grid:h}:{}},vt(c.encode)&&delete c.encode}return{scale:s,orient:o,...c,domain:!1,labels:!1,aria:!1,maxExtent:0,minExtent:0,ticks:!1,zindex:an(u,0)}}else{if(!r.header&&e.mainExtracted)return;if(a!==void 0){let p=a;(d=(f=c.encode)==null?void 0:f.labels)!=null&&d.update&&me(c.encode.labels.update.text)&&(p=Td(a,"datum.label",c.encode.labels.update.text.signal)),zT(c,"labels","text",{signal:p})}if(c.labelAlign===null&&delete c.labelAlign,c.encode){for(const p of Mle)e.hasAxisPart(p)||delete c.encode[p];vt(c.encode)&&delete c.encode}const h=sZe(l,n);return{scale:s,orient:o,grid:!1,...h?{title:h}:{},...c,...n.aria===!1?{aria:!1}:{},zindex:an(u,0)}}}}function Uue(e){const{axes:t}=e.component,n=[];for(const r of tu)if(t[r]){for(const i of t[r])if(!i.get("disable")&&!i.get("gridScale")){const o=r==="x"?"height":"width",s=e.getSizeSignalRef(o).signal;o!==s&&n.push({name:o,update:s})}}return n}function aZe(e,t){const{x:n=[],y:r=[]}=e;return[...n.map(i=>ly(i,"grid",t)),...r.map(i=>ly(i,"grid",t)),...n.map(i=>ly(i,"main",t)),...r.map(i=>ly(i,"main",t))].filter(i=>i)}function hW(e,t,n,r){return Object.assign.apply(null,[{},...e.map(i=>{if(i==="axisOrient"){const o=n==="x"?"bottom":"left",s=t[n==="x"?"axisBottom":"axisLeft"]||{},a=t[n==="x"?"axisTop":"axisRight"]||{},l=new Set([...X(s),...X(a)]),u={};for(const c of l.values())u[c]={signal:`${r.signal} === "${o}" ? ${ms(s[c])} : ${ms(a[c])}`};return u}return t[i]})])}function lZe(e,t,n,r){const i=t==="band"?["axisDiscrete","axisBand"]:t==="point"?["axisDiscrete","axisPoint"]:ile(t)?["axisQuantitative"]:t==="time"||t==="utc"?["axisTemporal"]:[],o=e==="x"?"axisX":"axisY",s=me(n)?"axisOrient":`axis${cb(n)}`,a=[...i,...i.map(u=>o+u.substr(4))],l=["axis",s,o];return{vlOnlyAxisConfig:hW(a,r,e,n),vgAxisConfig:hW(l,r,e,n),axisConfigStyle:uZe([...l,...a],r)}}function uZe(e,t){var r;const n=[{}];for(const i of e){let o=(r=t[i])==null?void 0:r.style;if(o){o=le(o);for(const s of o)n.push(t.style[s])}}return Object.assign.apply(null,n)}function UM(e,t,n,r={}){var o;const i=Fae(e,n,t);if(i!==void 0)return{configFrom:"style",configValue:i};for(const s of["vlOnlyAxisConfig","vgAxisConfig","axisConfigStyle"])if(((o=r[s])==null?void 0:o[e])!==void 0)return{configFrom:s,configValue:r[s][e]};return{}}const pW={scale:({model:e,channel:t})=>e.scaleName(t),format:({format:e})=>e,formatType:({formatType:e})=>e,grid:({fieldOrDatumDef:e,axis:t,scaleType:n})=>t.grid??cZe(n,e),gridScale:({model:e,channel:t})=>fZe(e,t),labelAlign:({axis:e,labelAngle:t,orient:n,channel:r})=>e.labelAlign||Wue(t,n,r),labelAngle:({labelAngle:e})=>e,labelBaseline:({axis:e,labelAngle:t,orient:n,channel:r})=>e.labelBaseline||Vue(t,n,r),labelFlush:({axis:e,fieldOrDatumDef:t,channel:n})=>e.labelFlush??hZe(t.type,n),labelOverlap:({axis:e,fieldOrDatumDef:t,scaleType:n})=>e.labelOverlap??pZe(t.type,n,ee(t)&&!!t.timeUnit,ee(t)?t.sort:void 0),orient:({orient:e})=>e,tickCount:({channel:e,model:t,axis:n,fieldOrDatumDef:r,scaleType:i})=>{const o=e==="x"?"width":e==="y"?"height":void 0,s=o?t.getSizeSignalRef(o):void 0;return n.tickCount??mZe({fieldOrDatumDef:r,scaleType:i,size:s,values:n.values})},tickMinStep:yZe,title:({axis:e,model:t,channel:n})=>{if(e.title!==void 0)return e.title;const r=Hue(t,n);if(r!==void 0)return r;const i=t.typedFieldDef(n),o=n==="x"?"x2":"y2",s=t.fieldDef(o);return Oae(i?[LV(i)]:[],ee(s)?[LV(s)]:[])},values:({axis:e,fieldOrDatumDef:t})=>vZe(e,t),zindex:({axis:e,fieldOrDatumDef:t,mark:n})=>e.zindex??bZe(n,t)};function cZe(e,t){return!In(e)&&ee(t)&&!$t(t==null?void 0:t.bin)&&!Hn(t==null?void 0:t.bin)}function fZe(e,t){const n=t==="x"?"y":"x";if(e.getScaleComponent(n))return e.scaleName(n)}function dZe(e,t,n,r,i){const o=t==null?void 0:t.labelAngle;if(o!==void 0)return me(o)?o:Q1(o);{const{configValue:s}=UM("labelAngle",r,t==null?void 0:t.style,i);return s!==void 0?Q1(s):n===jt&&ze([dL,fL],e.type)&&!(ee(e)&&e.timeUnit)?270:void 0}}function VM(e){return`(((${e.signal} % 360) + 360) % 360)`}function Vue(e,t,n,r){if(e!==void 0)if(n==="x"){if(me(e)){const i=VM(e),o=me(t)?`(${t.signal} === "top")`:t==="top";return{signal:`(45 < ${i} && ${i} < 135) || (225 < ${i} && ${i} < 315) ? "middle" :(${i} <= 45 || 315 <= ${i}) === ${o} ? "bottom" : "top"`}}if(45<e&&e<135||225<e&&e<315)return"middle";if(me(t)){const i=e<=45||315<=e?"===":"!==";return{signal:`${t.signal} ${i} "top" ? "bottom" : "top"`}}return(e<=45||315<=e)==(t==="top")?"bottom":"top"}else{if(me(e)){const i=VM(e),o=me(t)?`(${t.signal} === "left")`:t==="left";return{signal:`${i} <= 45 || 315 <= ${i} || (135 <= ${i} && ${i} <= 225) ? ${r?'"middle"':"null"} : (45 <= ${i} && ${i} <= 135) === ${o} ? "top" : "bottom"`}}if(e<=45||315<=e||135<=e&&e<=225)return r?"middle":null;if(me(t)){const i=45<=e&&e<=135?"===":"!==";return{signal:`${t.signal} ${i} "left" ? "top" : "bottom"`}}return(45<=e&&e<=135)==(t==="left")?"top":"bottom"}}function Wue(e,t,n){if(e===void 0)return;const r=n==="x",i=r?0:90,o=r?"bottom":"left";if(me(e)){const s=VM(e),a=me(t)?`(${t.signal} === "${o}")`:t===o;return{signal:`(${i?`(${s} + 90)`:s} % 180 === 0) ? ${r?null:'"center"'} :(${i} < ${s} && ${s} < ${180+i}) === ${a} ? "left" : "right"`}}if((e+i)%180===0)return r?null:"center";if(me(t)){const s=i<e&&e<180+i?"===":"!==";return{signal:`${`${t.signal} ${s} "${o}"`} ? "left" : "right"`}}return(i<e&&e<180+i)==(t===o)?"left":"right"}function hZe(e,t){if(t==="x"&&ze(["quantitative","temporal"],e))return!0}function pZe(e,t,n,r){if(n&&!se(r)||e!=="nominal"&&e!=="ordinal")return t==="log"||t==="symlog"?"greedy":!0}function gZe(e){return e==="x"?"bottom":"left"}function mZe({fieldOrDatumDef:e,scaleType:t,size:n,values:r}){var i;if(!r&&!In(t)&&t!=="log"){if(ee(e)){if($t(e.bin))return{signal:`ceil(${n.signal}/10)`};if(e.timeUnit&&ze(["month","hours","day","quarter"],(i=Ln(e.timeUnit))==null?void 0:i.unit))return}return{signal:`ceil(${n.signal}/40)`}}}function yZe({format:e,fieldOrDatumDef:t}){if(e==="d")return 1;if(ee(t)){const{timeUnit:n}=t;if(n){const r=Qae(n);if(r)return{signal:r}}}}function Hue(e,t){const n=t==="x"?"x2":"y2",r=e.fieldDef(t),i=e.fieldDef(n),o=r?r.title:void 0,s=i?i.title:void 0;if(o&&s)return Dae(o,s);if(o)return o;if(s)return s;if(o!==void 0)return o;if(s!==void 0)return s}function vZe(e,t){const n=e.values;if(Y(n))return Ple(t,n);if(me(n))return n}function bZe(e,t){return e==="rect"&&Tk(t)?1:0}class qg extends gt{clone(){return new qg(null,Pe(this.transform))}constructor(t,n){super(t),this.transform=n,this._dependentFields=zue(this.transform.calculate)}static parseAllForSortIndex(t,n){return n.forEachFieldDef((r,i)=>{if(ch(r)&&xle(r.sort)){const{field:o,timeUnit:s}=r,a=r.sort,l=a.map((u,c)=>`${ele({field:o,timeUnit:s,equal:u})} ? ${c} : `).join("")+a.length;t=new qg(t,{calculate:l,as:Gg(r,i,{forAs:!0})})}}),t}producedFields(){return new Set([this.transform.as])}dependentFields(){return this._dependentFields}assemble(){return{type:"formula",expr:this.transform.calculate,as:this.transform.as}}hash(){return`Calculate ${Be(this.transform)}`}}function Gg(e,t,n){return ie(e,{prefix:t,suffix:"sort_index",...n})}function F_(e,t){return ze(["top","bottom"],t)?"column":ze(["left","right"],t)||e==="row"?"row":"column"}function Yg(e,t,n,r){const i=r==="row"?n.headerRow:r==="column"?n.headerColumn:n.headerFacet;return an((t||{})[e],i[e],n.header[e])}function R_(e,t,n,r){const i={};for(const o of e){const s=Yg(o,t||{},n,r);s!==void 0&&(i[o]=s)}return i}const WL=["row","column"],HL=["header","footer"];function xZe(e,t){const n=e.component.layoutHeaders[t].title,r=e.config?e.config:void 0,i=e.component.layoutHeaders[t].facetFieldDef?e.component.layoutHeaders[t].facetFieldDef:void 0,{titleAnchor:o,titleAngle:s,titleOrient:a}=R_(["titleAnchor","titleAngle","titleOrient"],i.header,r,t),l=F_(t,a),u=Q1(s);return{name:`${t}-title`,type:"group",role:`${l}-title`,title:{text:n,...t==="row"?{orient:"left"}:{},style:"guide-title",...Gue(u,l),...que(l,u,o),...Yue(r,i,t,lQe,Xle)}}}function que(e,t,n="middle"){switch(n){case"start":return{align:"left"};case"end":return{align:"right"}}const r=Wue(t,e==="row"?"left":"top",e==="row"?"y":"x");return r?{align:r}:{}}function Gue(e,t){const n=Vue(e,t==="row"?"left":"top",t==="row"?"y":"x",!0);return n?{baseline:n}:{}}function wZe(e,t){const n=e.component.layoutHeaders[t],r=[];for(const i of HL)if(n[i])for(const o of n[i]){const s=kZe(e,t,i,n,o);s!=null&&r.push(s)}return r}function SZe(e,t){const{sort:n}=e;return Tl(n)?{field:ie(n,{expr:"datum"}),order:n.order??"ascending"}:Y(n)?{field:Gg(e,t,{expr:"datum"}),order:"ascending"}:{field:ie(e,{expr:"datum"}),order:n??"ascending"}}function WM(e,t,n){const{format:r,formatType:i,labelAngle:o,labelAnchor:s,labelOrient:a,labelExpr:l}=R_(["format","formatType","labelAngle","labelAnchor","labelOrient","labelExpr"],e.header,n,t),u=xL({fieldOrDatumDef:e,format:r,formatType:i,expr:"parent",config:n}).signal,c=F_(t,a);return{text:{signal:l?Td(Td(l,"datum.label",u),"datum.value",ie(e,{expr:"parent"})):u},...t==="row"?{orient:"left"}:{},style:"guide-label",frame:"group",...Gue(o,c),...que(c,o,s),...Yue(n,e,t,uQe,Kle)}}function kZe(e,t,n,r,i){if(i){let o=null;const{facetFieldDef:s}=r,a=e.config?e.config:void 0;if(s&&i.labels){const{labelOrient:f}=R_(["labelOrient"],s.header,a,t);(t==="row"&&!ze(["top","bottom"],f)||t==="column"&&!ze(["left","right"],f))&&(o=WM(s,t,a))}const l=Xi(e)&&!yb(e.facet),u=i.axes,c=(u==null?void 0:u.length)>0;if(o||c){const f=t==="row"?"height":"width";return{name:e.getName(`${t}_${n}`),type:"group",role:`${t}-${n}`,...r.facetFieldDef?{from:{data:e.getName(`${t}_domain`)},sort:SZe(s,t)}:{},...c&&l?{from:{data:e.getName(`facet_domain_${t}`)}}:{},...o?{title:o}:{},...i.sizeSignal?{encode:{update:{[f]:i.sizeSignal}}}:{},...c?{axes:u}:{}}}}return null}const CZe={column:{start:0,end:1},row:{start:1,end:0}};function EZe(e,t){return CZe[t][e]}function _Ze(e,t){const n={};for(const r of To){const i=e[r];if(i!=null&&i.facetFieldDef){const{titleAnchor:o,titleOrient:s}=R_(["titleAnchor","titleOrient"],i.facetFieldDef.header,t,r),a=F_(r,s),l=EZe(o,a);l!==void 0&&(n[a]=l)}}return vt(n)?void 0:n}function Yue(e,t,n,r,i){const o={};for(const s of r){if(!i[s])continue;const a=Yg(s,t==null?void 0:t.header,e,n);a!==void 0&&(o[i[s]]=a)}return o}function qL(e){return[...Hx(e,"width"),...Hx(e,"height"),...Hx(e,"childWidth"),...Hx(e,"childHeight")]}function Hx(e,t){const n=t==="width"?"x":"y",r=e.component.layoutSize.get(t);if(!r||r==="merged")return[];const i=e.getSizeSignalRef(t).signal;if(r==="step"){const o=e.getScaleComponent(n);if(o){const s=o.get("type"),a=o.get("range");if(In(s)&&ah(a)){const l=e.scaleName(n);return Xi(e.parent)&&e.parent.component.resolve.scale[n]==="independent"?[gW(l,a)]:[gW(l,a),{name:i,update:Xue(l,o,`domain('${l}').length`)}]}}throw new Error("layout size is step although width/height is not step.")}else if(r=="container"){const o=i.endsWith("width"),s=o?"containerSize()[0]":"containerSize()[1]",a=DM(e.config.view,o?"width":"height"),l=`isFinite(${s}) ? ${s} : ${a}`;return[{name:i,init:l,on:[{update:l,events:"window:resize"}]}]}else return[{name:i,value:r}]}function gW(e,t){const n=`${e}_step`;return me(t.step)?{name:n,update:t.step.signal}:{name:n,value:t.step}}function Xue(e,t,n){const r=t.get("type"),i=t.get("padding"),o=an(t.get("paddingOuter"),i);let s=t.get("paddingInner");return s=r==="band"?s!==void 0?s:i:1,`bandspace(${n}, ${ms(s)}, ${ms(o)}) * ${e}_step`}function Kue(e){return e==="childWidth"?"width":e==="childHeight"?"height":e}function Que(e,t){return X(e).reduce((n,r)=>({...n,...$m({model:t,channelDef:e[r],vgChannel:r,mainRefFn:i=>Ft(i.value),invalidValueRef:void 0})}),{})}function Jue(e,t){if(Xi(t))return e==="theta"?"independent":"shared";if(Mm(t))return"shared";if(ZL(t))return ln(e)||e==="theta"||e==="radius"?"independent":"shared";throw new Error("invalid model type for resolve")}function GL(e,t){const n=e.scale[t],r=ln(t)?"axis":"legend";return n==="independent"?(e[r][t]==="shared"&&Z(rXe(t)),"independent"):e[r][t]||"shared"}const $Ze={...dQe,disable:1,labelExpr:1,selections:1,opacity:1,shape:1,stroke:1,fill:1,size:1,strokeWidth:1,strokeDash:1,encode:1},Zue=X($Ze);class AZe extends ru{}const mW={symbols:TZe,gradient:PZe,labels:MZe,entries:FZe};function TZe(e,{fieldOrDatumDef:t,model:n,channel:r,legendCmpt:i,legendType:o}){if(o!=="symbol")return;const{markDef:s,encoding:a,config:l,mark:u}=n,c=s.filled&&u!=="trail";let f={...pYe({},n,aKe),...Eue(n,{filled:c})};const d=i.get("symbolOpacity")??l.legend.symbolOpacity,h=i.get("symbolFillColor")??l.legend.symbolFillColor,p=i.get("symbolStrokeColor")??l.legend.symbolStrokeColor,g=d===void 0?ece(a.opacity)??s.opacity:void 0;if(f.fill){if(r==="fill"||c&&r===Ci)delete f.fill;else if(K(f.fill,"field"))h?delete f.fill:(f.fill=Ft(l.legend.symbolBaseFillColor??"black"),f.fillOpacity=Ft(g??1));else if(Y(f.fill)){const m=HM(a.fill??a.color)??s.fill??(c&&s.color);m&&(f.fill=Ft(m))}}if(f.stroke){if(r==="stroke"||!c&&r===Ci)delete f.stroke;else if(K(f.stroke,"field")||p)delete f.stroke;else if(Y(f.stroke)){const m=an(HM(a.stroke||a.color),s.stroke,c?s.color:void 0);m&&(f.stroke={value:m})}}if(r!==eu){const m=ee(t)&&nce(n,i,t);m?f.opacity=[{test:m,...Ft(g??1)},Ft(l.legend.unselectedOpacity)]:g&&(f.opacity=Ft(g))}return f={...f,...e},vt(f)?void 0:f}function PZe(e,{model:t,legendType:n,legendCmpt:r}){if(n!=="gradient")return;const{config:i,markDef:o,encoding:s}=t;let a={};const u=(r.get("gradientOpacity")??i.legend.gradientOpacity)===void 0?ece(s.opacity)||o.opacity:void 0;return u&&(a.opacity=Ft(u)),a={...a,...e},vt(a)?void 0:a}function MZe(e,{fieldOrDatumDef:t,model:n,channel:r,legendCmpt:i}){const o=n.legend(r)||{},s=n.config,a=ee(t)?nce(n,i,t):void 0,l=a?[{test:a,value:1},{value:s.legend.unselectedOpacity}]:void 0,{format:u,formatType:c}=o;let f;Od(c)?f=ys({fieldOrDatumDef:t,field:"datum.value",format:u,formatType:c,config:s}):u===void 0&&c===void 0&&s.customFormatTypes&&(t.type==="quantitative"&&s.numberFormatType?f=ys({fieldOrDatumDef:t,field:"datum.value",format:s.numberFormat,formatType:s.numberFormatType,config:s}):t.type==="temporal"&&s.timeFormatType&&ee(t)&&t.timeUnit===void 0&&(f=ys({fieldOrDatumDef:t,field:"datum.value",format:s.timeFormat,formatType:s.timeFormatType,config:s})));const d={...l?{opacity:l}:{},...f?{text:f}:{},...e};return vt(d)?void 0:d}function FZe(e,{legendCmpt:t}){const n=t.get("selections");return n!=null&&n.length?{...e,fill:{value:"transparent"}}:e}function ece(e){return tce(e,(t,n)=>Math.max(t,n.value))}function HM(e){return tce(e,(t,n)=>an(t,n.value))}function tce(e,t){if(AKe(e))return le(e.condition).reduce(t,e.value);if(Ts(e))return e.value}function nce(e,t,n){const r=t.get("selections");if(!(r!=null&&r.length))return;const i=ne(n.field);return r.map(o=>`(!length(data(${ne(zt(o)+Nd)})) || (${o}[${i}] && indexof(${o}[${i}], datum.value) >= 0))`).join(" || ")}const yW={direction:({direction:e})=>e,format:({fieldOrDatumDef:e,legend:t,config:n})=>{const{format:r,formatType:i}=t;return yle(e,e.type,r,i,n,!1)},formatType:({legend:e,fieldOrDatumDef:t,scaleType:n})=>{const{formatType:r}=e;return vle(r,t,n)},gradientLength:e=>{const{legend:t,legendConfig:n}=e;return t.gradientLength??n.gradientLength??zZe(e)},labelOverlap:({legend:e,legendConfig:t,scaleType:n})=>e.labelOverlap??t.labelOverlap??jZe(n),symbolType:({legend:e,markDef:t,channel:n,encoding:r})=>e.symbolType??OZe(t.type,n,r.shape,t.shape),title:({fieldOrDatumDef:e,config:t})=>Dp(e,t,{allowDisabling:!0}),type:({legendType:e,scaleType:t,channel:n})=>{if(Op(n)&&ha(t)){if(e==="gradient")return}else if(e==="symbol")return;return e},values:({fieldOrDatumDef:e,legend:t})=>RZe(t,e)};function RZe(e,t){const n=e.values;if(Y(n))return Ple(t,n);if(me(n))return n}function OZe(e,t,n,r){if(t!=="shape"){const i=HM(n)??r;if(i)return i}switch(e){case"bar":case"rect":case"image":case"square":return"square";case"line":case"trail":case"rule":return"stroke";case"arc":case"point":case"circle":case"tick":case"geoshape":case"area":case"text":return"circle"}}function DZe(e){const{legend:t}=e;return an(t.type,NZe(e))}function NZe({channel:e,timeUnit:t,scaleType:n}){if(Op(e)){if(ze(["quarter","month","day"],t))return"symbol";if(ha(n))return"gradient"}return"symbol"}function LZe({legendConfig:e,legendType:t,orient:n,legend:r}){return r.direction??e[t?"gradientDirection":"symbolDirection"]??IZe(n,t)}function IZe(e,t){switch(e){case"top":case"bottom":return"horizontal";case"left":case"right":case"none":case void 0:return;default:return t==="gradient"?"horizontal":void 0}}function zZe({legendConfig:e,model:t,direction:n,orient:r,scaleType:i}){const{gradientHorizontalMaxLength:o,gradientHorizontalMinLength:s,gradientVerticalMaxLength:a,gradientVerticalMinLength:l}=e;if(ha(i))return n==="horizontal"?r==="top"||r==="bottom"?vW(t,"width",s,o):s:vW(t,"height",l,a)}function vW(e,t,n,r){return{signal:`clamp(${e.getSizeSignalRef(t).signal}, ${n}, ${r})`}}function jZe(e){if(ze(["quantile","threshold","log","symlog"],e))return"greedy"}function rce(e){const t=Vt(e)?BZe(e):HZe(e);return e.component.legends=t,t}function BZe(e){const{encoding:t}=e,n={};for(const r of[Ci,...Jle]){const i=Sn(t[r]);!i||!e.getScaleComponent(r)||r===Ei&&ee(i)&&i.type===_m||(n[r]=WZe(e,r))}return n}function UZe(e,t){const n=e.scaleName(t);if(e.mark==="trail"){if(t==="color")return{stroke:n};if(t==="size")return{strokeWidth:n}}return t==="color"?e.markDef.filled?{fill:n}:{stroke:n}:{[t]:n}}function VZe(e,t,n,r){switch(t){case"disable":return n!==void 0;case"values":return!!(n!=null&&n.values);case"title":if(t==="title"&&e===(r==null?void 0:r.title))return!0}return e===(n||{})[t]}function WZe(e,t){var x;let n=e.legend(t);const{markDef:r,encoding:i,config:o}=e,s=o.legend,a=new AZe({},UZe(e,t));ZJe(e,t,a);const l=n!==void 0?!n:s.disable;if(a.set("disable",l,n!==void 0),l)return a;n=n||{};const u=e.getScaleComponent(t).get("type"),c=Sn(i[t]),f=ee(c)?(x=Ln(c.timeUnit))==null?void 0:x.unit:void 0,d=n.orient||o.legend.orient||"right",h=DZe({legend:n,channel:t,timeUnit:f,scaleType:u}),p=LZe({legend:n,legendType:h,orient:d,legendConfig:s}),g={legend:n,channel:t,model:e,markDef:r,encoding:i,fieldOrDatumDef:c,legendConfig:s,config:o,scaleType:u,orient:d,legendType:h,direction:p};for(const w of Zue){if(h==="gradient"&&w.startsWith("symbol")||h==="symbol"&&w.startsWith("gradient"))continue;const k=w in yW?yW[w](g):n[w];if(k!==void 0){const S=VZe(k,w,n,e.fieldDef(t));(S||o.legend[w]===void 0)&&a.set(w,k,S)}}const m=(n==null?void 0:n.encoding)??{},y=a.get("selections"),v={},b={fieldOrDatumDef:c,model:e,channel:t,legendCmpt:a,legendType:h};for(const w of["labels","legend","title","symbols","gradient","entries"]){const k=Que(m[w]??{},e),S=w in mW?mW[w](k,b):k;S!==void 0&&!vt(S)&&(v[w]={...y!=null&&y.length&&ee(c)?{name:`${zt(c.field)}_legend_${w}`}:{},...y!=null&&y.length?{interactive:!!y}:{},update:S})}return vt(v)||a.set("encode",v,!!(n!=null&&n.encoding)),a}function HZe(e){const{legends:t,resolve:n}=e.component;for(const r of e.children){rce(r);for(const i of X(r.component.legends))n.legend[i]=GL(e.component.resolve,i),n.legend[i]==="shared"&&(t[i]=ice(t[i],r.component.legends[i]),t[i]||(n.legend[i]="independent",delete t[i]))}for(const r of X(t))for(const i of e.children)i.component.legends[r]&&n.legend[r]==="shared"&&delete i.component.legends[r];return t}function ice(e,t){var o,s,a,l;if(!e)return t.clone();const n=e.getWithExplicit("orient"),r=t.getWithExplicit("orient");if(n.explicit&&r.explicit&&n.value!==r.value)return;let i=!1;for(const u of Zue){const c=Ac(e.getWithExplicit(u),t.getWithExplicit(u),u,"legend",(f,d)=>{switch(u){case"symbolType":return qZe(f,d);case"title":return Nae(f,d);case"type":return i=!0,Pi("symbol")}return $_(f,d,u,"legend")});e.setWithExplicit(u,c)}return i&&((s=(o=e.implicit)==null?void 0:o.encode)!=null&&s.gradient&&Ck(e.implicit,["encode","gradient"]),(l=(a=e.explicit)==null?void 0:a.encode)!=null&&l.gradient&&Ck(e.explicit,["encode","gradient"])),e}function qZe(e,t){return t.value==="circle"?t:e}function GZe(e,t,n,r){var i,o;e.encode??(e.encode={}),(i=e.encode)[t]??(i[t]={}),(o=e.encode[t]).update??(o.update={}),e.encode[t].update[n]=r}function oce(e){const t=e.component.legends,n={};for(const i of X(t)){const o=e.getScaleComponent(i),s=bt(o.get("domains"));if(n[s])for(const a of n[s])ice(a,t[i])||n[s].push(t[i]);else n[s]=[t[i].clone()]}return tr(n).flat().map(i=>YZe(i,e.config)).filter(i=>i!==void 0)}function YZe(e,t){var s,a,l;const{disable:n,labelExpr:r,selections:i,...o}=e.combine();if(!n){if(t.aria===!1&&o.aria==null&&(o.aria=!1),(s=o.encode)!=null&&s.symbols){const u=o.encode.symbols.update;u.fill&&u.fill.value!=="transparent"&&!u.stroke&&!o.stroke&&(u.stroke={value:"transparent"});for(const c of Jle)o[c]&&delete u[c]}if(o.title||delete o.title,r!==void 0){let u=r;(l=(a=o.encode)==null?void 0:a.labels)!=null&&l.update&&me(o.encode.labels.update.text)&&(u=Td(r,"datum.label",o.encode.labels.update.text.signal)),GZe(o,"labels","text",{signal:u})}return o}}function XZe(e){return Mm(e)||ZL(e)?KZe(e):sce(e)}function KZe(e){return e.children.reduce((t,n)=>t.concat(n.assembleProjections()),sce(e))}function sce(e){const t=e.component.projection;if(!t||t.merged)return[];const n=t.combine(),{name:r}=n;if(t.data){const i={signal:`[${t.size.map(s=>s.signal).join(", ")}]`},o=t.data.reduce((s,a)=>{const l=me(a)?a.signal:`data('${e.lookupDataSource(a)}')`;return ze(s,l)||s.push(l),s},[]);if(o.length<=0)throw new Error("Projection's fit didn't find any data sources");return[{name:r,size:i,fit:{signal:o.length>1?`[${o.join(", ")}]`:o[0]},...n}]}else return[{name:r,translate:{signal:"[width / 2, height / 2]"},...n}]}const QZe=["type","clipAngle","clipExtent","center","rotate","precision","reflectX","reflectY","coefficient","distance","fraction","lobes","parallel","radius","ratio","spacing","tilt"];class ace extends ru{constructor(t,n,r,i){super({...n},{name:t}),this.specifiedProjection=n,this.size=r,this.data=i,this.merged=!1}get isFit(){return!!this.data}}function lce(e){e.component.projection=Vt(e)?JZe(e):tet(e)}function JZe(e){if(e.hasProjection){const t=Gn(e.specifiedProjection),n=!(t&&(t.scale!=null||t.translate!=null)),r=n?[e.getSizeSignalRef("width"),e.getSizeSignalRef("height")]:void 0,i=n?ZZe(e):void 0,o=new ace(e.projectionName(!0),{...Gn(e.config.projection),...t},r,i);return o.get("type")||o.set("type","equalEarth",!1),o}}function ZZe(e){const t=[],{encoding:n}=e;for(const r of[[js,zs],[Bo,Bs]])(Sn(n[r[0]])||Sn(n[r[1]]))&&t.push({signal:e.getName(`geojson_${t.length}`)});return e.channelHasField(Ei)&&e.typedFieldDef(Ei).type===_m&&t.push({signal:e.getName(`geojson_${t.length}`)}),t.length===0&&t.push(e.requestDataName(en.Main)),t}function eet(e,t){const n=jN(QZe,i=>!!(!fe(e.explicit,i)&&!fe(t.explicit,i)||fe(e.explicit,i)&&fe(t.explicit,i)&&Ui(e.get(i),t.get(i))));if(Ui(e.size,t.size)){if(n)return e;if(Ui(e.explicit,{}))return t;if(Ui(t.explicit,{}))return e}return null}function tet(e){if(e.children.length===0)return;let t;for(const r of e.children)lce(r);const n=jN(e.children,r=>{const i=r.component.projection;if(i)if(t){const o=eet(t,i);return o&&(t=o),!!o}else return t=i,!0;else return!0});if(t&&n){const r=e.projectionName(!0),i=new ace(r,t.specifiedProjection,t.size,Pe(t.data));for(const o of e.children){const s=o.component.projection;s&&(s.isFit&&i.data.push(...o.component.projection.data),o.renameProjection(s.get("name"),r),s.merged=!0)}return i}}function net(e,t,n,r){if(xb(t,n)){const i=Vt(e)?e.axis(n)??e.legend(n)??{}:{},o=ie(t,{expr:"datum"}),s=ie(t,{expr:"datum",binSuffix:"end"});return{formulaAs:ie(t,{binSuffix:"range",forAs:!0}),formula:mb(o,s,i.format,i.formatType,r)}}return{}}function uce(e,t){return`${Aae(e)}_${t}`}function ret(e,t){return{signal:e.getName(`${t}_bins`),extentSignal:e.getName(`${t}_extent`)}}function YL(e,t,n){const r=w_(n,void 0)??{},i=uce(r,t);return e.getName(`${i}_bins`)}function iet(e){return"as"in e}function bW(e,t,n){let r,i;iet(e)?r=ue(e.as)?[e.as,`${e.as}_end`]:[e.as[0],e.as[1]]:r=[ie(e,{forAs:!0}),ie(e,{binSuffix:"end",forAs:!0})];const o={...w_(t,void 0)},s=uce(o,e.field),{signal:a,extentSignal:l}=ret(n,s);if(c_(o.extent)){const c=o.extent;i=Bue(n,c.param,c),delete o.extent}const u={bin:o,field:e.field,as:[r],...a?{signal:a}:{},...l?{extentSignal:l}:{},...i?{span:i}:{}};return{key:s,binComponent:u}}class $a extends gt{clone(){return new $a(null,Pe(this.bins))}constructor(t,n){super(t),this.bins=n}static makeFromEncoding(t,n){const r=n.reduceFieldDef((i,o,s)=>{if(Zr(o)&&$t(o.bin)){const{key:a,binComponent:l}=bW(o,o.bin,n);i[a]={...l,...i[a],...net(n,o,s,n.config)}}return i},{});return vt(r)?null:new $a(t,r)}static makeFromTransform(t,n,r){const{key:i,binComponent:o}=bW(n,n.bin,r);return new $a(t,{[i]:o})}merge(t,n){for(const r of X(t.bins))r in this.bins?(n(t.bins[r].signal,this.bins[r].signal),this.bins[r].as=da([...this.bins[r].as,...t.bins[r].as],Be)):this.bins[r]=t.bins[r];for(const r of t.children)t.removeChild(r),r.parent=this;t.remove()}producedFields(){return new Set(tr(this.bins).map(t=>t.as).flat(2))}dependentFields(){return new Set(tr(this.bins).map(t=>t.field))}hash(){return`Bin ${Be(this.bins)}`}assemble(){return tr(this.bins).flatMap(t=>{const n=[],[r,...i]=t.as,{extent:o,...s}=t.bin,a={type:"bin",field:jo(t.field),as:r,signal:t.signal,...c_(o)?{extent:null}:{extent:o},...t.span?{span:{signal:`span(${t.span})`}}:{},...s};!o&&t.extentSignal&&(n.push({type:"extent",field:jo(t.field),signal:t.extentSignal}),a.extent={signal:t.extentSignal}),n.push(a);for(const l of i)for(let u=0;u<2;u++)n.push({type:"formula",expr:ie({field:r[u]},{expr:"datum"}),as:l[u]});return t.formula&&n.push({type:"formula",expr:t.formula,as:t.formulaAs}),n})}}function oet(e,t,n,r){var o;const i=Vt(r)?r.encoding[qa(t)]:void 0;if(Zr(n)&&Vt(r)&&Sle(n,i,r.markDef,r.config)){e.add(ie(n,{})),e.add(ie(n,{suffix:"end"}));const{mark:s,markDef:a,config:l}=r,u=$c({fieldDef:n,markDef:a,config:l});J1(s)&&u!==.5&&ln(t)&&(e.add(ie(n,{suffix:A_})),e.add(ie(n,{suffix:T_}))),n.bin&&xb(n,t)&&e.add(ie(n,{binSuffix:"range"}))}else if(bae(t)){const s=vae(t);e.add(r.getName(s))}else e.add(ie(n));return ch(n)&&YXe((o=n.scale)==null?void 0:o.range)&&e.add(n.scale.range.field),e}function set(e,t){for(const n of X(t)){const r=t[n];for(const i of X(r))n in e?e[n][i]=new Set([...e[n][i]??[],...r[i]]):e[n]={[i]:r[i]}}}class ws extends gt{clone(){return new ws(null,new Set(this.dimensions),Pe(this.measures))}constructor(t,n,r){super(t),this.dimensions=n,this.measures=r}get groupBy(){return this.dimensions}static makeFromEncoding(t,n){let r=!1;n.forEachFieldDef(s=>{s.aggregate&&(r=!0)});const i={},o=new Set;return!r||(n.forEachFieldDef((s,a)=>{const{aggregate:l,field:u}=s;if(l)if(l==="count")i["*"]??(i["*"]={}),i["*"].count=new Set([ie(s,{forAs:!0})]);else{if(Ul(l)||Gc(l)){const c=Ul(l)?"argmin":"argmax",f=l[c];i[f]??(i[f]={}),i[f][c]=new Set([ie({op:c,field:f},{forAs:!0})])}else i[u]??(i[u]={}),i[u][l]=new Set([ie(s,{forAs:!0})]);Ga(a)&&n.scaleDomain(a)==="unaggregated"&&(i[u]??(i[u]={}),i[u].min=new Set([ie({field:u,aggregate:"min"},{forAs:!0})]),i[u].max=new Set([ie({field:u,aggregate:"max"},{forAs:!0})]))}else oet(o,a,s,n)}),o.size+X(i).length===0)?null:new ws(t,o,i)}static makeFromTransform(t,n){var r;const i=new Set,o={};for(const s of n.aggregate){const{op:a,field:l,as:u}=s;a&&(a==="count"?(o["*"]??(o["*"]={}),o["*"].count=new Set([u||ie(s,{forAs:!0})])):(o[l]??(o[l]={}),(r=o[l])[a]??(r[a]=new Set),o[l][a].add(u||ie(s,{forAs:!0}))))}for(const s of n.groupby??[])i.add(s);return i.size+X(o).length===0?null:new ws(t,i,o)}merge(t){return cae(this.dimensions,t.dimensions)?(set(this.measures,t.measures),!0):(bXe("different dimensions, cannot merge"),!1)}addDimensions(t){t.forEach(this.dimensions.add,this.dimensions)}dependentFields(){return new Set([...this.dimensions,...X(this.measures)])}producedFields(){const t=new Set;for(const n of X(this.measures))for(const r of X(this.measures[n])){const i=this.measures[n][r];i.size===0?t.add(`${r}_${n}`):i.forEach(t.add,t)}return t}hash(){return`Aggregate ${Be({dimensions:this.dimensions,measures:this.measures})}`}assemble(){const t=[],n=[],r=[];for(const o of X(this.measures))for(const s of X(this.measures[o]))for(const a of this.measures[o][s])r.push(a),t.push(s),n.push(o==="*"?null:jo(o));return{type:"aggregate",groupby:[...this.dimensions].map(jo),ops:t,fields:n,as:r}}}class Tm extends gt{constructor(t,n,r,i){super(t),this.model=n,this.name=r,this.data=i;for(const o of To){const s=n.facet[o];if(s){const{bin:a,sort:l}=s;this[o]={name:n.getName(`${o}_domain`),fields:[ie(s),...$t(a)?[ie(s,{binSuffix:"end"})]:[]],...Tl(l)?{sortField:l}:Y(l)?{sortIndexField:Gg(s,o)}:{}}}}this.childModel=n.child}hash(){let t="Facet";for(const n of To)this[n]&&(t+=` ${n.charAt(0)}:${Be(this[n])}`);return t}get fields(){var n;const t=[];for(const r of To)(n=this[r])!=null&&n.fields&&t.push(...this[r].fields);return t}dependentFields(){const t=new Set(this.fields);for(const n of To)this[n]&&(this[n].sortField&&t.add(this[n].sortField.field),this[n].sortIndexField&&t.add(this[n].sortIndexField));return t}producedFields(){return new Set}getSource(){return this.name}getChildIndependentFieldsWithStep(){const t={};for(const n of tu){const r=this.childModel.component.scales[n];if(r&&!r.merged){const i=r.get("type"),o=r.get("range");if(In(i)&&ah(o)){const s=O_(this.childModel,n),a=JL(s);a?t[n]=a:Z(eL(n))}}}return t}assembleRowColumnHeaderData(t,n,r){const i={row:"y",column:"x",facet:void 0}[t],o=[],s=[],a=[];i&&r&&r[i]&&(n?(o.push(`distinct_${r[i]}`),s.push("max")):(o.push(r[i]),s.push("distinct")),a.push(`distinct_${r[i]}`));const{sortField:l,sortIndexField:u}=this[t];if(l){const{op:c=v_,field:f}=l;o.push(f),s.push(c),a.push(ie(l,{forAs:!0}))}else u&&(o.push(u),s.push("max"),a.push(u));return{name:this[t].name,source:n??this.data,transform:[{type:"aggregate",groupby:this[t].fields,...o.length?{fields:o,ops:s,as:a}:{}}]}}assembleFacetHeaderData(t){var l;const{columns:n}=this.model.layout,{layoutHeaders:r}=this.model.component,i=[],o={};for(const u of WL){for(const c of HL){const f=(r[u]&&r[u][c])??[];for(const d of f)if(((l=d.axes)==null?void 0:l.length)>0){o[u]=!0;break}}if(o[u]){const c=`length(data("${this.facet.name}"))`,f=u==="row"?n?{signal:`ceil(${c} / ${n})`}:1:n?{signal:`min(${c}, ${n})`}:{signal:c};i.push({name:`${this.facet.name}_${u}`,transform:[{type:"sequence",start:0,stop:f}]})}}const{row:s,column:a}=o;return(s||a)&&i.unshift(this.assembleRowColumnHeaderData("facet",null,t)),i}assemble(){const t=[];let n=null;const r=this.getChildIndependentFieldsWithStep(),{column:i,row:o,facet:s}=this;if(i&&o&&(r.x||r.y)){n=`cross_${this.column.name}_${this.row.name}`;const a=[].concat(r.x??[],r.y??[]),l=a.map(()=>"distinct");t.push({name:n,source:this.data,transform:[{type:"aggregate",groupby:this.fields,fields:a,ops:l}]})}for(const a of[Al,$l])this[a]&&t.push(this.assembleRowColumnHeaderData(a,n,r));if(s){const a=this.assembleFacetHeaderData(r);a&&t.push(...a)}return t}}function xW(e){return e.startsWith("'")&&e.endsWith("'")||e.startsWith('"')&&e.endsWith('"')?e.slice(1,-1):e}function aet(e,t){const n=VN(e);if(t==="number")return`toNumber(${n})`;if(t==="boolean")return`toBoolean(${n})`;if(t==="string")return`toString(${n})`;if(t==="date")return`toDate(${n})`;if(t==="flatten")return n;if(t.startsWith("date:")){const r=xW(t.slice(5,t.length));return`timeParse(${n},'${r}')`}else if(t.startsWith("utc:")){const r=xW(t.slice(4,t.length));return`utcParse(${n},'${r}')`}else return Z(AYe(t)),null}function uet(e){const t={};return l2(e.filter,n=>{if(Zae(n)){let r=null;iL(n)?r=Ni(n.equal):sL(n)?r=Ni(n.lte):oL(n)?r=Ni(n.lt):aL(n)?r=Ni(n.gt):lL(n)?r=Ni(n.gte):uL(n)?r=n.range[0]:cL(n)&&(r=(n.oneOf??n.in)[0]),r&&(lh(r)?t[n.field]="date":Je(r)?t[n.field]="number":ue(r)&&(t[n.field]="string")),n.timeUnit&&(t[n.field]="date")}}),t}function cet(e){const t={};function n(r){Vg(r)?t[r.field]="date":r.type==="quantitative"&&oYe(r.aggregate)?t[r.field]="number":Ng(r.field)>1?r.field in t||(t[r.field]="flatten"):ch(r)&&Tl(r.sort)&&Ng(r.sort.field)>1&&(r.sort.field in t||(t[r.sort.field]="flatten"))}if((Vt(e)||Xi(e))&&e.forEachFieldDef((r,i)=>{if(Zr(r))n(r);else{const o=oh(i),s=e.fieldDef(o);n({...r,type:s.type})}}),Vt(e)){const{mark:r,markDef:i,encoding:o}=e;if(Yc(r)&&!e.encoding.order){const s=i.orient==="horizontal"?"y":"x",a=o[s];ee(a)&&a.type==="quantitative"&&!(a.field in t)&&(t[a.field]="number")}}return t}function fet(e){const t={};if(Vt(e)&&e.component.selection)for(const n of X(e.component.selection)){const r=e.component.selection[n];for(const i of r.project.items)!i.channel&&Ng(i.field)>1&&(t[i.field]="flatten")}return t}class Sr extends gt{clone(){return new Sr(null,Pe(this._parse))}constructor(t,n){super(t),this._parse=n}hash(){return`Parse ${Be(this._parse)}`}static makeExplicit(t,n,r){var s;let i={};const o=n.data;return!ac(o)&&((s=o==null?void 0:o.format)!=null&&s.parse)&&(i=o.format.parse),this.makeWithAncestors(t,i,{},r)}static makeWithAncestors(t,n,r,i){for(const a of X(r)){const l=i.getWithExplicit(a);l.value!==void 0&&(l.explicit||l.value===r[a]||l.value==="derived"||r[a]==="flatten"?delete r[a]:Z(TV(a,r[a],l.value)))}for(const a of X(n)){const l=i.get(a);l!==void 0&&(l===n[a]?delete n[a]:Z(TV(a,n[a],l)))}const o=new ru(n,r);i.copyAll(o);const s={};for(const a of X(o.combine())){const l=o.get(a);l!==null&&(s[a]=l)}return X(s).length===0||i.parseNothing?null:new Sr(t,s)}get parse(){return this._parse}merge(t){this._parse={...this._parse,...t.parse},t.remove()}assembleFormatParse(){const t={};for(const n of X(this._parse)){const r=this._parse[n];Ng(n)===1&&(t[n]=r)}return t}producedFields(){return new Set(X(this._parse))}dependentFields(){return new Set(X(this._parse))}assembleTransforms(t=!1){return X(this._parse).filter(n=>t?Ng(n)>1:!0).map(n=>{const r=aet(n,this._parse[n]);return r?{type:"formula",expr:r,as:Cm(n)}:null}).filter(n=>n!==null)}}class Pc extends gt{clone(){return new Pc(null)}constructor(t){super(t)}dependentFields(){return new Set}producedFields(){return new Set([Ms])}hash(){return"Identifier"}assemble(){return{type:"identifier",as:Ms}}}class kb extends gt{clone(){return new kb(null,this.params)}constructor(t,n){super(t),this.params=n}dependentFields(){return new Set}producedFields(){}hash(){return`Graticule ${Be(this.params)}`}assemble(){return{type:"graticule",...this.params===!0?{}:this.params}}}class Cb extends gt{clone(){return new Cb(null,this.params)}constructor(t,n){super(t),this.params=n}dependentFields(){return new Set}producedFields(){return new Set([this.params.as??"data"])}hash(){return`Hash ${Be(this.params)}`}assemble(){return{type:"sequence",...this.params}}}class Ld extends gt{constructor(t){super(null),t??(t={name:"source"});let n;if(ac(t)||(n=t.format?{...yi(t.format,["parse"])}:{}),Z1(t))this._data={values:t.values};else if(Wg(t)){if(this._data={url:t.url},!n.type){let r=/(?:\.([^.]+))?$/.exec(t.url)[1];ze(["json","csv","tsv","dsv","topojson"],r)||(r="json"),n.type=r}}else mue(t)?this._data={values:[{type:"Sphere"}]}:(pue(t)||ac(t))&&(this._data={});this._generator=ac(t),t.name&&(this._name=t.name),n&&!vt(n)&&(this._data.format=n)}dependentFields(){return new Set}producedFields(){}get data(){return this._data}hasName(){return!!this._name}get isGenerator(){return this._generator}get dataName(){return this._name}set dataName(t){this._name=t}set parent(t){throw new Error("Source nodes have to be roots.")}remove(){throw new Error("Source nodes are roots and cannot be removed.")}hash(){throw new Error("Cannot hash sources")}assemble(){return{name:this._name,...this._data,transform:[]}}}var wW=function(e,t,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(e,n):i?i.value=n:t.set(e,n),n},det=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},uy;function XL(e){return e instanceof Ld||e instanceof kb||e instanceof Cb}class KL{constructor(){uy.set(this,void 0),wW(this,uy,!1,"f")}setModified(){wW(this,uy,!0,"f")}get modifiedFlag(){return det(this,uy,"f")}}uy=new WeakMap;class fh extends KL{getNodeDepths(t,n,r){r.set(t,n);for(const i of t.children)this.getNodeDepths(i,n+1,r);return r}optimize(t){const r=[...this.getNodeDepths(t,0,new Map).entries()].sort((i,o)=>o[1]-i[1]);for(const i of r)this.run(i[0]);return this.modifiedFlag}}class QL extends KL{optimize(t){this.run(t);for(const n of t.children)this.optimize(n);return this.modifiedFlag}}class het extends QL{mergeNodes(t,n){const r=n.shift();for(const i of n)t.removeChild(i),i.parent=r,i.remove()}run(t){const n=t.children.map(i=>i.hash()),r={};for(let i=0;i<n.length;i++)r[n[i]]===void 0?r[n[i]]=[t.children[i]]:r[n[i]].push(t.children[i]);for(const i of X(r))r[i].length>1&&(this.setModified(),this.mergeNodes(t,r[i]))}}class pet extends QL{constructor(t){super(),this.requiresSelectionId=t&&VL(t)}run(t){t instanceof Pc&&(this.requiresSelectionId&&(XL(t.parent)||t.parent instanceof ws||t.parent instanceof Sr)||(this.setModified(),t.remove()))}}class get extends KL{optimize(t){return this.run(t,new Set),this.modifiedFlag}run(t,n){let r=new Set;t instanceof _a&&(r=t.producedFields(),BN(r,n)&&(this.setModified(),t.removeFormulas(n),t.producedFields.length===0&&t.remove()));for(const i of t.children)this.run(i,new Set([...n,...r]))}}class met extends QL{constructor(){super()}run(t){t instanceof vi&&!t.isRequired()&&(this.setModified(),t.remove())}}class yet extends fh{run(t){if(!XL(t)&&!(t.numChildren()>1)){for(const n of t.children)if(n instanceof Sr)if(t instanceof Sr)this.setModified(),t.merge(n);else{if(UN(t.producedFields(),n.dependentFields()))continue;this.setModified(),n.swapWithParent()}}}}class vet extends fh{run(t){const n=[...t.children],r=t.children.filter(i=>i instanceof Sr);if(t.numChildren()>1&&r.length>=1){const i={},o=new Set;for(const s of r){const a=s.parse;for(const l of X(a))l in i?i[l]!==a[l]&&o.add(l):i[l]=a[l]}for(const s of o)delete i[s];if(!vt(i)){this.setModified();const s=new Sr(t,i);for(const a of n){if(a instanceof Sr)for(const l of X(i))delete a.parse[l];t.removeChild(a),a.parent=s,a instanceof Sr&&X(a.parse).length===0&&a.remove()}}}}}class bet extends fh{run(t){t instanceof vi||t.numChildren()>0||t instanceof Tm||t instanceof Ld||(this.setModified(),t.remove())}}class xet extends fh{run(t){const n=t.children.filter(i=>i instanceof _a),r=n.pop();for(const i of n)this.setModified(),r.merge(i)}}class wet extends fh{run(t){const n=t.children.filter(i=>i instanceof ws),r={};for(const i of n){const o=Be(i.groupBy);o in r||(r[o]=[]),r[o].push(i)}for(const i of X(r)){const o=r[i];if(o.length>1){const s=o.pop();for(const a of o)s.merge(a)&&(t.removeChild(a),a.parent=s,a.remove(),this.setModified())}}}}class ket extends fh{constructor(t){super(),this.model=t}run(t){const n=!(XL(t)||t instanceof Am||t instanceof Sr||t instanceof Pc),r=[],i=[];for(const o of t.children)o instanceof $a&&(n&&!UN(t.producedFields(),o.dependentFields())?r.push(o):i.push(o));if(r.length>0){const o=r.pop();for(const s of r)o.merge(s,this.model.renameSignal.bind(this.model));this.setModified(),t instanceof $a?t.merge(o,this.model.renameSignal.bind(this.model)):o.swapWithParent()}if(i.length>1){const o=i.pop();for(const s of i)o.merge(s,this.model.renameSignal.bind(this.model));this.setModified()}}}class Cet extends fh{run(t){const n=[...t.children];if(!Dg(n,s=>s instanceof vi)||t.numChildren()<=1)return;const i=[];let o;for(const s of n)if(s instanceof vi){let a=s;for(;a.numChildren()===1;){const[l]=a.children;if(l instanceof vi)a=l;else break}i.push(...a.children),o?(t.removeChild(s),s.parent=o.parent,o.parent.removeChild(o),o.parent=a,this.setModified()):o=a}else i.push(s);if(i.length){this.setModified();for(const s of i)s.parent.removeChild(s),s.parent=o}}}class dh extends gt{clone(){return new dh(null,Pe(this.transform))}constructor(t,n){super(t),this.transform=n}addDimensions(t){this.transform.groupby=da(this.transform.groupby.concat(t),n=>n)}dependentFields(){const t=new Set;return this.transform.groupby&&this.transform.groupby.forEach(t.add,t),this.transform.joinaggregate.map(n=>n.field).filter(n=>n!==void 0).forEach(t.add,t),t}producedFields(){return new Set(this.transform.joinaggregate.map(this.getDefaultName))}getDefaultName(t){return t.as??ie(t)}hash(){return`JoinAggregateTransform ${Be(this.transform)}`}assemble(){const t=[],n=[],r=[];for(const o of this.transform.joinaggregate)n.push(o.op),r.push(this.getDefaultName(o)),t.push(o.field===void 0?null:o.field);const i=this.transform.groupby;return{type:"joinaggregate",as:r,ops:n,fields:t,...i!==void 0?{groupby:i}:{}}}}class Xg extends gt{clone(){return new Xg(null,{...this.filter})}constructor(t,n){super(t),this.filter=n}static make(t,n,r){const{config:i,markDef:o}=n,{marks:s,scales:a}=r;if(s==="include-invalid-values"&&a==="include-invalid-values")return null;const l=n.reduceFieldDef((u,c,f)=>{const d=Ga(f)&&n.getScaleComponent(f);if(d){const h=d.get("type"),{aggregate:p}=c,g=yL({scaleChannel:f,markDef:o,config:i,scaleType:h,isCountAggregate:u_(p)});g!=="show"&&g!=="always-valid"&&(u[c.field]=c)}return u},{});return X(l).length?new Xg(t,l):null}dependentFields(){return new Set(X(this.filter))}producedFields(){return new Set}hash(){return`FilterInvalid ${Be(this.filter)}`}assemble(){const t=X(this.filter).reduce((n,r)=>{const i=this.filter[r],o=ie(i,{expr:"datum"});return i!==null&&(i.type==="temporal"?n.push(`(isDate(${o}) || (${qM(o)}))`):i.type==="quantitative"&&n.push(qM(o))),n},[]);return t.length>0?{type:"filter",expr:t.join(" && ")}:null}}function qM(e){return`isValid(${e}) && isFinite(+${e})`}function Eet(e){return e.stack.stackBy.reduce((t,n)=>{const r=n.fieldDef,i=ie(r);return i&&t.push(i),t},[])}function _et(e){return Y(e)&&e.every(t=>ue(t))&&e.length>1}class Ml extends gt{clone(){return new Ml(null,Pe(this._stack))}constructor(t,n){super(t),this._stack=n}static makeFromTransform(t,n){const{stack:r,groupby:i,as:o,offset:s="zero"}=n,a=[],l=[];if(n.sort!==void 0)for(const f of n.sort)a.push(f.field),l.push(an(f.order,"ascending"));const u={field:a,order:l};let c;return _et(o)?c=o:ue(o)?c=[o,`${o}_end`]:c=[`${n.stack}_start`,`${n.stack}_end`],new Ml(t,{dimensionFieldDefs:[],stackField:r,groupby:i,offset:s,sort:u,facetby:[],as:c})}static makeFromEncoding(t,n){const r=n.stack,{encoding:i}=n;if(!r)return null;const{groupbyChannels:o,fieldChannel:s,offset:a,impute:l}=r,u=o.map(h=>{const p=i[h];return Ps(p)}).filter(h=>!!h),c=Eet(n),f=n.encoding.order;let d;if(Y(f)||ee(f))d=Rae(f);else{const h=kle(f)?f.sort:s==="y"?"descending":"ascending";d=c.reduce((p,g)=>(p.field.includes(g)||(p.field.push(g),p.order.push(h)),p),{field:[],order:[]})}return new Ml(t,{dimensionFieldDefs:u,stackField:n.vgField(s),facetby:[],stackby:c,sort:d,offset:a,impute:l,as:[n.vgField(s,{suffix:"start",forAs:!0}),n.vgField(s,{suffix:"end",forAs:!0})]})}get stack(){return this._stack}addDimensions(t){this._stack.facetby.push(...t)}dependentFields(){const t=new Set;return t.add(this._stack.stackField),this.getGroupbyFields().forEach(t.add,t),this._stack.facetby.forEach(t.add,t),this._stack.sort.field.forEach(t.add,t),t}producedFields(){return new Set(this._stack.as)}hash(){return`Stack ${Be(this._stack)}`}getGroupbyFields(){const{dimensionFieldDefs:t,impute:n,groupby:r}=this._stack;return t.length>0?t.map(i=>i.bin?n?[ie(i,{binSuffix:"mid"})]:[ie(i,{}),ie(i,{binSuffix:"end"})]:[ie(i)]).flat():r??[]}assemble(){const t=[],{facetby:n,dimensionFieldDefs:r,stackField:i,stackby:o,sort:s,offset:a,impute:l,as:u}=this._stack;if(l)for(const c of r){const{bandPosition:f=.5,bin:d}=c;if(d){const h=ie(c,{expr:"datum"}),p=ie(c,{expr:"datum",binSuffix:"end"});t.push({type:"formula",expr:`${qM(h)} ? ${f}*${h}+${1-f}*${p} : ${h}`,as:ie(c,{binSuffix:"mid",forAs:!0})})}t.push({type:"impute",field:i,groupby:[...o,...n],key:ie(c,{binSuffix:"mid"}),method:"value",value:0})}return t.push({type:"stack",groupby:[...this.getGroupbyFields(),...n],field:i,sort:s,as:u,offset:a}),t}}class Pm extends gt{clone(){return new Pm(null,Pe(this.transform))}constructor(t,n){super(t),this.transform=n}addDimensions(t){this.transform.groupby=da(this.transform.groupby.concat(t),n=>n)}dependentFields(){const t=new Set;return(this.transform.groupby??[]).forEach(t.add,t),(this.transform.sort??[]).forEach(n=>t.add(n.field)),this.transform.window.map(n=>n.field).filter(n=>n!==void 0).forEach(t.add,t),t}producedFields(){return new Set(this.transform.window.map(this.getDefaultName))}getDefaultName(t){return t.as??ie(t)}hash(){return`WindowTransform ${Be(this.transform)}`}assemble(){const t=[],n=[],r=[],i=[];for(const f of this.transform.window)n.push(f.op),r.push(this.getDefaultName(f)),i.push(f.param===void 0?null:f.param),t.push(f.field===void 0?null:f.field);const o=this.transform.frame,s=this.transform.groupby;if(o&&o[0]===null&&o[1]===null&&n.every(f=>JN(f)))return{type:"joinaggregate",as:r,ops:n,fields:t,...s!==void 0?{groupby:s}:{}};const a=[],l=[];if(this.transform.sort!==void 0)for(const f of this.transform.sort)a.push(f.field),l.push(f.order??"ascending");const u={field:a,order:l},c=this.transform.ignorePeers;return{type:"window",params:i,as:r,ops:n,fields:t,sort:u,...c!==void 0?{ignorePeers:c}:{},...s!==void 0?{groupby:s}:{},...o!==void 0?{frame:o}:{}}}}function $et(e){function t(n){if(!(n instanceof Tm)){const r=n.clone();if(r instanceof vi){const i=YM+r.getSource();r.setSource(i),e.model.component.data.outputNodes[i]=r}else(r instanceof ws||r instanceof Ml||r instanceof Pm||r instanceof dh)&&r.addDimensions(e.fields);for(const i of n.children.flatMap(t))i.parent=r;return[r]}return n.children.flatMap(t)}return t}function GM(e){if(e instanceof Tm)if(e.numChildren()===1&&!(e.children[0]instanceof vi)){const t=e.children[0];(t instanceof ws||t instanceof Ml||t instanceof Pm||t instanceof dh)&&t.addDimensions(e.fields),t.swapWithParent(),GM(e)}else{const t=e.model.component.data.main;cce(t);const n=$et(e),r=e.children.map(n).flat();for(const i of r)i.parent=t}else e.children.map(GM)}function cce(e){if(e instanceof vi&&e.type===en.Main&&e.numChildren()===1){const t=e.children[0];t instanceof Tm||(t.swapWithParent(),cce(e))}}const YM="scale_",qx=5;function XM(e){for(const t of e){for(const n of t.children)if(n.parent!==t)return!1;if(!XM(t.children))return!1}return!0}function Yo(e,t){let n=!1;for(const r of t)n=e.optimize(r)||n;return n}function SW(e,t,n){let r=e.sources,i=!1;return i=Yo(new met,r)||i,i=Yo(new pet(t),r)||i,r=r.filter(o=>o.numChildren()>0),i=Yo(new bet,r)||i,r=r.filter(o=>o.numChildren()>0),n||(i=Yo(new yet,r)||i,i=Yo(new ket(t),r)||i,i=Yo(new get,r)||i,i=Yo(new vet,r)||i,i=Yo(new wet,r)||i,i=Yo(new xet,r)||i,i=Yo(new het,r)||i,i=Yo(new Cet,r)||i),e.sources=r,i}function Aet(e,t){XM(e.sources);let n=0,r=0;for(let i=0;i<qx&&SW(e,t,!0);i++)n++;e.sources.map(GM);for(let i=0;i<qx&&SW(e,t,!1);i++)r++;XM(e.sources),Math.max(n,r)===qx&&Z(`Maximum optimization runs(${qx}) reached.`)}class Pn{constructor(t){Object.defineProperty(this,"signal",{enumerable:!0,get:t})}static fromName(t,n){return new Pn(()=>t(n))}}function fce(e){Vt(e)?Tet(e):Pet(e)}function Tet(e){const t=e.component.scales;for(const n of X(t)){const r=Fet(e,n);if(t[n].setWithExplicit("domains",r),Oet(e,n),e.component.data.isFaceted){let o=e;for(;!Xi(o)&&o.parent;)o=o.parent;if(o.component.resolve.scale[n]==="shared")for(const a of r.value)bl(a)&&(a.data=YM+a.data.replace(YM,""))}}}function Pet(e){for(const n of e.children)fce(n);const t=e.component.scales;for(const n of X(t)){let r,i=null;for(const o of e.children){const s=o.component.scales[n];if(s){r===void 0?r=s.getWithExplicit("domains"):r=Ac(r,s.getWithExplicit("domains"),"domains","scale",KM);const a=s.get("selectionExtent");i&&a&&i.param!==a.param&&Z(CYe),i=a}}t[n].setWithExplicit("domains",r),i&&t[n].set("selectionExtent",i,!0)}}function Met(e,t,n,r){if(e==="unaggregated"){const{valid:i,reason:o}=kW(t,n);if(!i){Z(o);return}}else if(e===void 0&&r.useUnaggregatedDomain){const{valid:i}=kW(t,n);if(i)return"unaggregated"}return e}function Fet(e,t){const n=e.getScaleComponent(t).get("type"),{encoding:r}=e,i=Met(e.scaleDomain(t),e.typedFieldDef(t),n,e.config.scale);return i!==e.scaleDomain(t)&&(e.specifiedScales[t]={...e.specifiedScales[t],domain:i}),t==="x"&&Sn(r.x2)?Sn(r.x)?Ac(pu(n,i,e,"x"),pu(n,i,e,"x2"),"domain","scale",KM):pu(n,i,e,"x2"):t==="y"&&Sn(r.y2)?Sn(r.y)?Ac(pu(n,i,e,"y"),pu(n,i,e,"y2"),"domain","scale",KM):pu(n,i,e,"y2"):pu(n,i,e,t)}function Ret(e,t,n){return e.map(r=>({signal:`{data: ${S_(r,{timeUnit:n,type:t})}}`}))}function jT(e,t,n){var i;const r=(i=Ln(n))==null?void 0:i.unit;return t==="temporal"||r?Ret(e,t,r):[e]}function pu(e,t,n,r){const{encoding:i,markDef:o,mark:s,config:a,stack:l}=n,u=Sn(i[r]),{type:c}=u,f=u.timeUnit,d=EJe({invalid:Fa("invalid",o,a),isPath:Yc(s)});if(GXe(t)){const g=pu(e,void 0,n,r),m=jT(t.unionWith,c,f);return Js([...m,...g.value])}else{if(me(t))return Js([t]);if(t&&t!=="unaggregated"&&!sle(t))return Js(jT(t,c,f))}if(l&&r===l.fieldChannel){if(l.offset==="normalize")return Pi([[0,1]]);const g=n.requestDataName(d);return Pi([{data:g,field:n.vgField(r,{suffix:"start"})},{data:g,field:n.vgField(r,{suffix:"end"})}])}const h=Ga(r)&&ee(u)?Det(n,r,e):void 0;if(Ya(u)){const g=jT([u.datum],c,f);return Pi(g)}const p=u;if(t==="unaggregated"){const{field:g}=u;return Pi([{data:n.requestDataName(d),field:ie({field:g,aggregate:"min"})},{data:n.requestDataName(d),field:ie({field:g,aggregate:"max"})}])}else if($t(p.bin)){if(In(e))return Pi(e==="bin-ordinal"?[]:[{data:K1(h)?n.requestDataName(d):n.requestDataName(en.Raw),field:n.vgField(r,xb(p,r)?{binSuffix:"range"}:{}),sort:h===!0||!se(h)?{field:n.vgField(r,{}),op:"min"}:h}]);{const{bin:g}=p;if($t(g)){const m=YL(n,p.field,g);return Pi([new Pn(()=>{const y=n.getSignalName(m);return`[${y}.start, ${y}.stop]`})])}else return Pi([{data:n.requestDataName(d),field:n.vgField(r,{})}])}}else if(p.timeUnit&&ze(["time","utc"],e)){const g=i[qa(r)];if(Sle(p,g,o,a)){const m=n.requestDataName(d),y=$c({fieldDef:p,fieldDef2:g,markDef:o,config:a}),v=J1(s)&&y!==.5&&ln(r);return Pi([{data:m,field:n.vgField(r,v?{suffix:A_}:{})},{data:m,field:n.vgField(r,{suffix:v?T_:"end"})}])}}return Pi(h?[{data:K1(h)?n.requestDataName(d):n.requestDataName(en.Raw),field:n.vgField(r),sort:h}]:[{data:n.requestDataName(d),field:n.vgField(r)}])}function BT(e,t){const{op:n,field:r,order:i}=e;return{op:n??(t?"sum":v_),...r?{field:jo(r)}:{},...i?{order:i}:{}}}function Oet(e,t){var a;const n=e.component.scales[t],r=e.specifiedScales[t].domain,i=(a=e.fieldDef(t))==null?void 0:a.bin,o=sle(r)?r:void 0,s=sh(i)&&c_(i.extent)?i.extent:void 0;(o||s)&&n.set("selectionExtent",o??s,!0)}function Det(e,t,n){if(!In(n))return;const r=e.fieldDef(t),i=r.sort;if(xle(i))return{op:"min",field:Gg(r,t),order:"ascending"};const{stack:o}=e,s=o?new Set([...o.groupbyFields,...o.stackBy.map(a=>a.fieldDef.field)]):void 0;if(Tl(i)){const a=o&&!s.has(i.field);return BT(i,a)}else if(EKe(i)){const{encoding:a,order:l}=i,u=e.fieldDef(a),{aggregate:c,field:f}=u,d=o&&!s.has(f);if(Ul(c)||Gc(c))return BT({field:ie(u),order:l},d);if(JN(c)||!c)return BT({op:c,field:f,order:l},d)}else{if(i==="descending")return{op:"min",field:e.vgField(t),order:"descending"};if(ze(["ascending",void 0],i))return!0}}function kW(e,t){const{aggregate:n,type:r}=e;return n?ue(n)&&!aYe.has(n)?{valid:!1,reason:KYe(n)}:r==="quantitative"&&t==="log"?{valid:!1,reason:QYe(e)}:{valid:!0}:{valid:!1,reason:XYe(e)}}function KM(e,t,n,r){return e.explicit&&t.explicit&&Z(nXe(n,r,e.value,t.value)),{explicit:e.explicit,value:[...e.value,...t.value]}}function Net(e){const t=da(e.map(s=>{if(bl(s)){const{sort:a,...l}=s;return l}return s}),Be),n=da(e.map(s=>{if(bl(s)){const a=s.sort;return a!==void 0&&!K1(a)&&("op"in a&&a.op==="count"&&delete a.field,a.order==="ascending"&&delete a.order),a}}).filter(s=>s!==void 0),Be);if(t.length===0)return;if(t.length===1){const s=e[0];if(bl(s)&&n.length>0){let a=n[0];if(n.length>1){Z(MV);const l=n.filter(u=>se(u)&&"op"in u&&u.op!=="min");n.every(u=>se(u)&&"op"in u)&&l.length===1?a=l[0]:a=!0}else if(se(a)&&"field"in a){const l=a.field;s.field===l&&(a=a.order?{order:a.order}:!0)}return{...s,sort:a}}return s}const r=da(n.map(s=>K1(s)||!("op"in s)||ue(s.op)&&fe(rYe,s.op)?s:(Z(iXe(s)),!0)),Be);let i;r.length===1?i=r[0]:r.length>1&&(Z(MV),i=!0);const o=da(e.map(s=>bl(s)?s.data:null),s=>s);return o.length===1&&o[0]!==null?{data:o[0],fields:t.map(a=>a.field),...i?{sort:i}:{}}:{fields:t,...i?{sort:i}:{}}}function JL(e){if(bl(e)&&ue(e.field))return e.field;if(lYe(e)){let t;for(const n of e.fields)if(bl(n)&&ue(n.field)){if(!t)t=n.field;else if(t!==n.field)return Z(oXe),t}return Z(sXe),t}else if(uYe(e)){Z(aXe);const t=e.fields[0];return ue(t)?t:void 0}}function O_(e,t){const r=e.component.scales[t].get("domains").map(i=>(bl(i)&&(i.data=e.lookupDataSource(i.data)),i));return Net(r)}function dce(e){return Mm(e)||ZL(e)?e.children.reduce((t,n)=>t.concat(dce(n)),CW(e)):CW(e)}function CW(e){return X(e.component.scales).reduce((t,n)=>{const r=e.component.scales[n];if(r.merged)return t;const i=r.combine(),{name:o,type:s,selectionExtent:a,domains:l,range:u,reverse:c,...f}=i,d=Let(i.range,o,n,e),h=O_(e,n),p=a?MJe(e,a,r,h):null;return t.push({name:o,type:s,...h?{domain:h}:{},...p?{domainRaw:p}:{},range:d,...c!==void 0?{reverse:c}:{},...f}),t},[])}function Let(e,t,n,r){if(ln(n)){if(ah(e))return{step:{signal:`${t}_step`}}}else if(se(e)&&bl(e))return{...e,data:r.lookupDataSource(e.data)};return e}class hce extends ru{constructor(t,n){super({},{name:t}),this.merged=!1,this.setWithExplicit("type",n)}domainHasZero(){const t=this.get("type");if(ze([Yn.LOG,Yn.TIME,Yn.UTC],t))return"definitely-not";const n=this.get("zero");if(n===!0||n===void 0&&ze([Yn.LINEAR,Yn.SQRT,Yn.POW],t))return"definitely";const r=this.get("domains");if(r.length>0){let i=!1,o=!1,s=!1;for(const a of r){if(Y(a)){const l=a[0],u=a[a.length-1];if(Je(l)&&Je(u))if(l<=0&&u>=0){i=!0;continue}else{o=!0;continue}}s=!0}if(i)return"definitely";if(o&&!s)return"definitely-not"}return"maybe"}}const Iet=["range","scheme"];function zet(e){const t=e.component.scales;for(const n of QN){const r=t[n];if(!r)continue;const i=jet(n,e);r.setWithExplicit("range",i)}}function EW(e,t){const n=e.fieldDef(t);if(n!=null&&n.bin){const{bin:r,field:i}=n,o=_i(t),s=e.getName(o);if(se(r)&&r.binned&&r.step!==void 0)return new Pn(()=>{const a=e.scaleName(t),l=`(domain("${a}")[1] - domain("${a}")[0]) / ${r.step}`;return`${e.getSignalName(s)} / (${l})`});if($t(r)){const a=YL(e,i,r);return new Pn(()=>{const l=e.getSignalName(a),u=`(${l}.stop - ${l}.start) / ${l}.step`;return`${e.getSignalName(s)} / (${u})`})}}}function jet(e,t){const n=t.specifiedScales[e],{size:r}=t,o=t.getScaleComponent(e).get("type");for(const f of Iet)if(n[f]!==void 0){const d=FM(o,f),h=ale(e,f);if(!d)Z(jae(o,f,e));else if(h)Z(h);else switch(f){case"range":{const p=n.range;if(Y(p)){if(ln(e))return Js(p.map(g=>{if(g==="width"||g==="height"){const m=t.getName(g),y=t.getSignalName.bind(t);return Pn.fromName(y,m)}return g}))}else if(se(p))return Js({data:t.requestDataName(en.Main),field:p.field,sort:{op:"min",field:t.vgField(e)}});return Js(p)}case"scheme":return Js(Bet(n[f]))}}const s=e===jt||e==="xOffset"?"width":"height",a=r[s];if(Oa(a)){if(ln(e))if(In(o)){const f=gce(a,t,e);if(f)return Js({step:f})}else Z(Bae(s));else if(hb(e)){const f=e===Uc?"x":"y";if(t.getScaleComponent(f).get("type")==="band"){const p=mce(a,o);if(p)return Js(p)}}}const{rangeMin:l,rangeMax:u}=n,c=Uet(e,t);return(l!==void 0||u!==void 0)&&FM(o,"rangeMin")&&Y(c)&&c.length===2?Js([l??c[0],u??c[1]]):Pi(c)}function Bet(e){return qXe(e)?{scheme:e.name,...yi(e,["name"])}:{scheme:e}}function pce(e,t,n,{center:r}={}){const i=_i(e),o=t.getName(i),s=t.getSignalName.bind(t);return e===Un&&As(n)?r?[Pn.fromName(a=>`${s(a)}/2`,o),Pn.fromName(a=>`-${s(a)}/2`,o)]:[Pn.fromName(s,o),0]:r?[Pn.fromName(a=>`-${s(a)}/2`,o),Pn.fromName(a=>`${s(a)}/2`,o)]:[0,Pn.fromName(s,o)]}function Uet(e,t){const{size:n,config:r,mark:i,encoding:o}=t,{type:s}=Sn(o[e]),l=t.getScaleComponent(e).get("type"),{domain:u,domainMid:c}=t.specifiedScales[e];switch(e){case jt:case Un:{if(ze(["point","band"],l)){const f=yce(e,n,r.view);if(Oa(f))return{step:gce(f,t,e)}}return pce(e,t,l)}case Uc:case Em:return Vet(e,t,l);case Zl:{const f=qet(i,r),d=Get(i,n,t,r);return jg(l)?Het(f,d,Wet(l,r,u,e)):[f,d]}case Vo:return[0,Math.PI*2];case ih:return[0,360];case Is:return[0,new Pn(()=>{const f=t.getSignalName(Xi(t.parent)?"child_width":"width"),d=t.getSignalName(Xi(t.parent)?"child_height":"height");return`min(${f},${d})/2`})];case Hc:return[r.scale.minStrokeWidth,r.scale.maxStrokeWidth];case qc:return[[1,0],[4,2],[2,1],[1,1],[1,2,4,2]];case Ei:return"symbol";case Ci:case Wa:case Ha:return l==="ordinal"?s==="nominal"?"category":"ordinal":c!==void 0?"diverging":i==="rect"||i==="geoshape"?"heatmap":"ramp";case eu:case Vc:case Wc:return[r.scale.minOpacity,r.scale.maxOpacity]}}function gce(e,t,n){const{encoding:r}=t,i=t.getScaleComponent(n),o=GN(n),s=r[o];if(eue({step:e,offsetIsDiscrete:Fe(s)&&tle(s.type)})==="offset"&&Ole(r,o)){const l=t.getScaleComponent(o);let c=`domain('${t.scaleName(o)}').length`;if(l.get("type")==="band"){const d=l.get("paddingInner")??l.get("padding")??0,h=l.get("paddingOuter")??l.get("padding")??0;c=`bandspace(${c}, ${d}, ${h})`}const f=i.get("paddingInner")??i.get("padding");return{signal:`${e.step} * ${c} / (1-${hYe(f)})`}}else return e.step}function mce(e,t){if(eue({step:e,offsetIsDiscrete:In(t)})==="offset")return{step:e.step}}function Vet(e,t,n){const r=e===Uc?"x":"y",i=t.getScaleComponent(r);if(!i)return pce(r,t,n,{center:!0});const o=i.get("type"),s=t.scaleName(r),{markDef:a,config:l}=t;if(o==="band"){const u=yce(r,t.size,t.config.view);if(Oa(u)){const c=mce(u,n);if(c)return c}return[0,{signal:`bandwidth('${s}')`}]}else{const u=t.encoding[r];if(ee(u)&&u.timeUnit){const c=Qae(u.timeUnit,p=>`scale('${s}', ${p})`),f=t.config.scale.bandWithNestedOffsetPaddingInner,d=$c({fieldDef:u,markDef:a,config:l})-.5,h=d!==0?` + ${d}`:"";if(f){const p=me(f)?`${f.signal}/2`+h:`${f/2+d}`,g=me(f)?`(1 - ${f.signal}/2)`+h:`${1-f/2+d}`;return[{signal:`${p} * (${c})`},{signal:`${g} * (${c})`}]}return[0,{signal:c}]}return lae(`Cannot use ${e} scale if ${r} scale is not discrete.`)}}function yce(e,t,n){const r=e===jt?"width":"height",i=t[r];return i||Rk(n,r)}function Wet(e,t,n,r){switch(e){case"quantile":return t.scale.quantileCount;case"quantize":return t.scale.quantizeCount;case"threshold":return n!==void 0&&Y(n)?n.length+1:(Z(mXe(r)),3)}}function Het(e,t,n){const r=()=>{const i=ms(t),o=ms(e),s=`(${i} - ${o}) / (${n} - 1)`;return`sequence(${o}, ${i} + ${s}, ${s})`};return me(t)?new Pn(r):{signal:r()}}function qet(e,t){switch(e){case"bar":case"tick":return t.scale.minBandSize;case"line":case"trail":case"rule":return t.scale.minStrokeWidth;case"text":return t.scale.minFontSize;case"point":case"square":case"circle":return t.scale.minSize}throw new Error(f_("size",e))}const _W=.95;function Get(e,t,n,r){const i={x:EW(n,"x"),y:EW(n,"y")};switch(e){case"bar":case"tick":{if(r.scale.maxBandSize!==void 0)return r.scale.maxBandSize;const o=$W(t,i,r.view);return Je(o)?o-1:new Pn(()=>`${o.signal} - 1`)}case"line":case"trail":case"rule":return r.scale.maxStrokeWidth;case"text":return r.scale.maxFontSize;case"point":case"square":case"circle":{if(r.scale.maxSize)return r.scale.maxSize;const o=$W(t,i,r.view);return Je(o)?Math.pow(_W*o,2):new Pn(()=>`pow(${_W} * ${o.signal}, 2)`)}}throw new Error(f_("size",e))}function $W(e,t,n){const r=Oa(e.width)?e.width.step:NM(n,"width"),i=Oa(e.height)?e.height.step:NM(n,"height");return t.x||t.y?new Pn(()=>`min(${[t.x?t.x.signal:r,t.y?t.y.signal:i].join(", ")})`):Math.min(r,i)}function vce(e,t){Vt(e)?Yet(e,t):xce(e,t)}function Yet(e,t){const n=e.component.scales,{config:r,encoding:i,markDef:o,specifiedScales:s}=e;for(const a of X(n)){const l=s[a],u=n[a],c=e.getScaleComponent(a),f=Sn(i[a]),d=l[t],h=c.get("type"),p=c.get("padding"),g=c.get("paddingInner"),m=FM(h,t),y=ale(a,t);if(d!==void 0&&(m?y&&Z(y):Z(jae(h,t,a))),m&&y===void 0)if(d!==void 0){const v=f.timeUnit,b=f.type;switch(t){case"domainMax":case"domainMin":lh(l[t])||b==="temporal"||v?u.set(t,{signal:S_(l[t],{type:b,timeUnit:v})},!0):u.set(t,l[t],!0);break;default:u.copyKeyFromObject(t,l)}}else{const v=K(AW,t)?AW[t]({model:e,channel:a,fieldOrDatumDef:f,scaleType:h,scalePadding:p,scalePaddingInner:g,domain:l.domain,domainMin:l.domainMin,domainMax:l.domainMax,markDef:o,config:r,hasNestedOffsetScale:Dle(i,a),hasSecondaryRangeChannel:!!i[qa(a)]}):r.scale[t];v!==void 0&&u.set(t,v,!1)}}}const AW={bins:({model:e,fieldOrDatumDef:t})=>ee(t)?Xet(e,t):void 0,interpolate:({channel:e,fieldOrDatumDef:t})=>Ket(e,t.type),nice:({scaleType:e,channel:t,domain:n,domainMin:r,domainMax:i,fieldOrDatumDef:o})=>Qet(e,t,n,r,i,o),padding:({channel:e,scaleType:t,fieldOrDatumDef:n,markDef:r,config:i})=>Jet(e,t,i.scale,n,r,i.bar),paddingInner:({scalePadding:e,channel:t,markDef:n,scaleType:r,config:i,hasNestedOffsetScale:o})=>Zet(e,t,n.type,r,i.scale,o),paddingOuter:({scalePadding:e,channel:t,scaleType:n,scalePaddingInner:r,config:i,hasNestedOffsetScale:o})=>ett(e,t,n,r,i.scale,o),reverse:({fieldOrDatumDef:e,scaleType:t,channel:n,config:r})=>{const i=ee(e)?e.sort:void 0;return ttt(t,i,n,r.scale)},zero:({channel:e,fieldOrDatumDef:t,domain:n,markDef:r,scaleType:i,config:o,hasSecondaryRangeChannel:s})=>ntt(e,t,n,r,i,o.scale,s)};function bce(e){Vt(e)?zet(e):xce(e,"range")}function xce(e,t){const n=e.component.scales;for(const r of e.children)t==="range"?bce(r):vce(r,t);for(const r of X(n)){let i;for(const o of e.children){const s=o.component.scales[r];if(s){const a=s.getWithExplicit(t);i=Ac(i,a,t,"scale",hue((l,u)=>{switch(t){case"range":return l.step&&u.step?l.step-u.step:0}return 0}))}}n[r].setWithExplicit(t,i)}}function Xet(e,t){const n=t.bin;if($t(n)){const r=YL(e,t.field,n);return new Pn(()=>e.getSignalName(r))}else if(Hn(n)&&sh(n)&&n.step!==void 0)return{step:n.step}}function Ket(e,t){if(ze([Ci,Wa,Ha],e)&&t!=="nominal")return"hcl"}function Qet(e,t,n,r,i,o){var s;if(!((s=Ps(o))!=null&&s.bin||Y(n)||i!=null||r!=null||ze([Yn.TIME,Yn.UTC],e)))return ln(t)?!0:void 0}function Jet(e,t,n,r,i,o){if(ln(e)){if(ha(t)){if(n.continuousPadding!==void 0)return n.continuousPadding;const{type:s,orient:a}=i;if(s==="bar"&&!(ee(r)&&(r.bin||r.timeUnit))&&(a==="vertical"&&e==="x"||a==="horizontal"&&e==="y"))return o.continuousBandSize}if(t===Yn.POINT)return n.pointPadding}}function Zet(e,t,n,r,i,o=!1){if(e===void 0){if(ln(t)){const{bandPaddingInner:s,barBandPaddingInner:a,rectBandPaddingInner:l,tickBandPaddingInner:u,bandWithNestedOffsetPaddingInner:c}=i;return o?c:an(s,n==="bar"?a:n==="tick"?u:l)}else if(hb(t)&&r===Yn.BAND)return i.offsetBandPaddingInner}}function ett(e,t,n,r,i,o=!1){if(e===void 0){if(ln(t)){const{bandPaddingOuter:s,bandWithNestedOffsetPaddingOuter:a}=i;if(o)return a;if(n===Yn.BAND)return an(s,me(r)?{signal:`${r.signal}/2`}:r/2)}else if(hb(t)){if(n===Yn.POINT)return .5;if(n===Yn.BAND)return i.offsetBandPaddingOuter}}}function ttt(e,t,n,r){if(n==="x"&&r.xReverse!==void 0)return As(e)&&t==="descending"?me(r.xReverse)?{signal:`!${r.xReverse.signal}`}:!r.xReverse:r.xReverse;if(As(e)&&t==="descending")return!0}function ntt(e,t,n,r,i,o,s){if(!!n&&n!=="unaggregated"&&As(i)){if(Y(n)){const l=n[0],u=n[n.length-1];if(Je(l)&&l<=0&&Je(u)&&u>=0)return!0}return!1}if(e==="size"&&t.type==="quantitative"&&!jg(i))return!0;if(!(ee(t)&&t.bin)&&ze([...tu,...XGe],e)){const{orient:l,type:u}=r;return ze(["bar","area","line","trail"],u)&&(l==="horizontal"&&e==="y"||l==="vertical"&&e==="x")?!1:ze(["bar","area"],u)&&!s?!0:o==null?void 0:o.zero}return!1}function rtt(e,t,n,r,i=!1){const o=itt(t,n,r,i),{type:s}=e;return Ga(t)?s!==void 0?ZXe(t,s)?ee(n)&&!JXe(s,n.type)?(Z(eXe(s,o)),o):s:(Z(ZYe(t,s,o)),o):o:null}function itt(e,t,n,r){var i;switch(t.type){case"nominal":case"ordinal":{if(Op(e)||MT(e)==="discrete")return e==="shape"&&t.type==="ordinal"&&Z(FT(e,"ordinal")),"ordinal";if(ln(e)||hb(e)){if(ze(["rect","bar","image","rule","tick"],n.type)||r)return"band"}else if(n.type==="arc"&&e in KN)return"band";const o=n[_i(e)];return Rd(o)||Ug(t)&&((i=t.axis)!=null&&i.tickBand)?"band":"point"}case"temporal":return Op(e)?"time":MT(e)==="discrete"?(Z(FT(e,"temporal")),"ordinal"):ee(t)&&t.timeUnit&&Ln(t.timeUnit).utc?"utc":"time";case"quantitative":return Op(e)?ee(t)&&$t(t.bin)?"bin-ordinal":"linear":MT(e)==="discrete"?(Z(FT(e,"quantitative")),"ordinal"):"linear";case"geojson":return}throw new Error(Iae(t.type))}function ott(e,{ignoreRange:t}={}){wce(e),fce(e);for(const n of QXe)vce(e,n);t||bce(e)}function wce(e){Vt(e)?e.component.scales=stt(e):e.component.scales=ltt(e)}function stt(e){const{encoding:t,mark:n,markDef:r}=e,i={};for(const o of QN){const s=Sn(t[o]);if(s&&n===cle&&o===Ei&&s.type===_m)continue;let a=s&&s.scale;if(s&&a!==null&&a!==!1){a??(a={});const l=Dle(t,o),u=rtt(a,o,s,r,l);i[o]=new hce(e.scaleName(`${o}`,!0),{value:u,explicit:a.type===u})}}return i}const att=hue((e,t)=>RV(e)-RV(t));function ltt(e){var t;const n=e.component.scales={},r={},i=e.component.resolve;for(const o of e.children){wce(o);for(const s of X(o.component.scales))if((t=i.scale)[s]??(t[s]=Jue(s,e)),i.scale[s]==="shared"){const a=r[s],l=o.component.scales[s].getWithExplicit("type");a?BXe(a.value,l.value)?r[s]=Ac(a,l,"type","scale",att):(i.scale[s]="independent",delete r[s]):r[s]=l}}for(const o of X(r)){const s=e.scaleName(o,!0),a=r[o];n[o]=new hce(s,a);for(const l of e.children){const u=l.component.scales[o];u&&(l.renameScale(u.get("name"),s),u.merged=!0)}}return n}class UT{constructor(){this.nameMap={}}rename(t,n){this.nameMap[t]=n}has(t){return this.nameMap[t]!==void 0}get(t){for(;this.nameMap[t]&&t!==this.nameMap[t];)t=this.nameMap[t];return t}}function Vt(e){return(e==null?void 0:e.type)==="unit"}function Xi(e){return(e==null?void 0:e.type)==="facet"}function ZL(e){return(e==null?void 0:e.type)==="concat"}function Mm(e){return(e==null?void 0:e.type)==="layer"}class eI{constructor(t,n,r,i,o,s,a){this.type=n,this.parent=r,this.config=o,this.correctDataNames=l=>{var u,c,f;return(u=l.from)!=null&&u.data&&(l.from.data=this.lookupDataSource(l.from.data)),(f=(c=l.from)==null?void 0:c.facet)!=null&&f.data&&(l.from.facet.data=this.lookupDataSource(l.from.facet.data)),l},this.parent=r,this.config=o,this.view=Gn(a),this.name=t.name??i,this.title=ku(t.title)?{text:t.title}:t.title?Gn(t.title):void 0,this.scaleNameMap=r?r.scaleNameMap:new UT,this.projectionNameMap=r?r.projectionNameMap:new UT,this.signalNameMap=r?r.signalNameMap:new UT,this.data=t.data,this.description=t.description,this.transforms=hJe(t.transform??[]),this.layout=n==="layer"||n==="unit"?{}:yQe(t,n,o),this.component={data:{sources:r?r.component.data.sources:[],outputNodes:r?r.component.data.outputNodes:{},outputNodeRefCounts:r?r.component.data.outputNodeRefCounts:{},isFaceted:b_(t)||(r==null?void 0:r.component.data.isFaceted)&&t.data===void 0},layoutSize:new ru,layoutHeaders:{row:{},column:{},facet:{}},mark:null,resolve:{scale:{},axis:{},legend:{},...s?Pe(s):{}},selection:null,scales:null,projection:null,axes:{},legends:{}}}get width(){return this.getSizeSignalRef("width")}get height(){return this.getSizeSignalRef("height")}parse(){this.parseScale(),this.parseLayoutSize(),this.renameTopLevelLayoutSizeSignal(),this.parseSelections(),this.parseProjection(),this.parseData(),this.parseAxesAndHeaders(),this.parseLegends(),this.parseMarkGroup()}parseScale(){ott(this)}parseProjection(){lce(this)}renameTopLevelLayoutSizeSignal(){this.getName("width")!=="width"&&this.renameSignal(this.getName("width"),"width"),this.getName("height")!=="height"&&this.renameSignal(this.getName("height"),"height")}parseLegends(){rce(this)}assembleEncodeFromView(t){const{style:n,...r}=t,i={};for(const o of X(r)){const s=r[o];s!==void 0&&(i[o]=Ft(s))}return i}assembleGroupEncodeEntry(t){let n={};return this.view&&(n=this.assembleEncodeFromView(this.view)),!t&&(this.description&&(n.description=Ft(this.description)),this.type==="unit"||this.type==="layer")?{width:this.getSizeSignalRef("width"),height:this.getSizeSignalRef("height"),...n}:vt(n)?void 0:n}assembleLayout(){if(!this.layout)return;const{spacing:t,...n}=this.layout,{component:r,config:i}=this,o=_Ze(r.layoutHeaders,i);return{padding:t,...this.assembleDefaultLayout(),...n,...o?{titleBand:o}:{}}}assembleDefaultLayout(){return{}}assembleHeaderMarks(){const{layoutHeaders:t}=this.component;let n=[];for(const r of To)t[r].title&&n.push(xZe(this,r));for(const r of WL)n=n.concat(wZe(this,r));return n}assembleAxes(){return aZe(this.component.axes,this.config)}assembleLegends(){return oce(this)}assembleProjections(){return XZe(this)}assembleTitle(){const{encoding:t,...n}=this.title??{},r={...Tae(this.config.title).nonMarkTitleProperties,...n,...t?{encode:{update:t}}:{}};if(r.text)return ze(["unit","layer"],this.type)?ze(["middle",void 0],r.anchor)&&(r.frame??(r.frame="group")):r.anchor??(r.anchor="start"),vt(r)?void 0:r}assembleGroup(t=[]){const n={};t=t.concat(this.assembleSignals()),t.length>0&&(n.signals=t);const r=this.assembleLayout();r&&(n.layout=r),n.marks=[].concat(this.assembleHeaderMarks(),this.assembleMarks());const i=!this.parent||Xi(this.parent)?dce(this):[];i.length>0&&(n.scales=i);const o=this.assembleAxes();o.length>0&&(n.axes=o);const s=this.assembleLegends();return s.length>0&&(n.legends=s),n}getName(t){return zt((this.name?`${this.name}_`:"")+t)}getDataName(t){return this.getName(en[t].toLowerCase())}requestDataName(t){const n=this.getDataName(t),r=this.component.data.outputNodeRefCounts;return r[n]=(r[n]||0)+1,n}getSizeSignalRef(t){if(Xi(this.parent)){const n=Kue(t),r=l_(n),i=this.component.scales[r];if(i&&!i.merged){const o=i.get("type"),s=i.get("range");if(In(o)&&ah(s)){const a=i.get("name"),l=O_(this,r),u=JL(l);if(u){const c=ie({aggregate:"distinct",field:u},{expr:"datum"});return{signal:Xue(a,i,c)}}else return Z(eL(r)),null}}}return{signal:this.signalNameMap.get(this.getName(t))}}lookupDataSource(t){const n=this.component.data.outputNodes[t];return n?n.getSource():t}getSignalName(t){return this.signalNameMap.get(t)}renameSignal(t,n){this.signalNameMap.rename(t,n)}renameScale(t,n){this.scaleNameMap.rename(t,n)}renameProjection(t,n){this.projectionNameMap.rename(t,n)}scaleName(t,n){if(n)return this.getName(t);if(wae(t)&&Ga(t)&&this.component.scales[t]||this.scaleNameMap.has(this.getName(t)))return this.scaleNameMap.get(this.getName(t))}projectionName(t){if(t)return this.getName("projection");if(this.component.projection&&!this.component.projection.merged||this.projectionNameMap.has(this.getName("projection")))return this.projectionNameMap.get(this.getName("projection"))}getScaleComponent(t){if(!this.component.scales)throw new Error("getScaleComponent cannot be called before parseScale(). Make sure you have called parseScale or use parseUnitModelWithScale().");const n=this.component.scales[t];return n&&!n.merged?n:this.parent?this.parent.getScaleComponent(t):void 0}getScaleType(t){const n=this.getScaleComponent(t);return n?n.get("type"):void 0}getSelectionComponent(t,n){let r=this.component.selection[t];if(!r&&this.parent&&(r=this.parent.getSelectionComponent(t,n)),!r)throw new Error(vYe(n));return r}hasAxisOrientSignalRef(){var t,n;return((t=this.component.axes.x)==null?void 0:t.some(r=>r.hasOrientSignalRef()))||((n=this.component.axes.y)==null?void 0:n.some(r=>r.hasOrientSignalRef()))}}class Sce extends eI{vgField(t,n={}){const r=this.fieldDef(t);if(r)return ie(r,n)}reduceFieldDef(t,n){return qKe(this.getMapping(),(r,i,o)=>{const s=Ps(i);return s?t(r,s,o):r},n)}forEachFieldDef(t,n){_L(this.getMapping(),(r,i)=>{const o=Ps(r);o&&t(o,i)},n)}}class D_ extends gt{clone(){return new D_(null,Pe(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=Pe(n);const r=this.transform.as??[void 0,void 0];this.transform.as=[r[0]??"value",r[1]??"density"];const i=this.transform.resolve??"shared";this.transform.resolve=i}dependentFields(){return new Set([this.transform.density,...this.transform.groupby??[]])}producedFields(){return new Set(this.transform.as)}hash(){return`DensityTransform ${Be(this.transform)}`}assemble(){const{density:t,...n}=this.transform,r={type:"kde",field:t,...n};return r.resolve=this.transform.resolve,r}}class N_ extends gt{clone(){return new N_(null,Pe(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=Pe(n)}dependentFields(){return new Set([this.transform.extent])}producedFields(){return new Set([])}hash(){return`ExtentTransform ${Be(this.transform)}`}assemble(){const{extent:t,param:n}=this.transform;return{type:"extent",field:t,signal:n}}}class L_ extends gt{clone(){return new L_(this.parent,Pe(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=Pe(n);const{flatten:r,as:i=[]}=this.transform;this.transform.as=r.map((o,s)=>i[s]??o)}dependentFields(){return new Set(this.transform.flatten)}producedFields(){return new Set(this.transform.as)}hash(){return`FlattenTransform ${Be(this.transform)}`}assemble(){const{flatten:t,as:n}=this.transform;return{type:"flatten",fields:t,as:n}}}class I_ extends gt{clone(){return new I_(null,Pe(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=Pe(n);const r=this.transform.as??[void 0,void 0];this.transform.as=[r[0]??"key",r[1]??"value"]}dependentFields(){return new Set(this.transform.fold)}producedFields(){return new Set(this.transform.as)}hash(){return`FoldTransform ${Be(this.transform)}`}assemble(){const{fold:t,as:n}=this.transform;return{type:"fold",fields:t,as:n}}}class Lp extends gt{clone(){return new Lp(null,Pe(this.fields),this.geojson,this.signal)}static parseAll(t,n){if(n.component.projection&&!n.component.projection.isFit)return t;let r=0;for(const i of[[js,zs],[Bo,Bs]]){const o=i.map(s=>{const a=Sn(n.encoding[s]);return ee(a)?a.field:Ya(a)?{expr:`${a.datum}`}:Ts(a)?{expr:`${a.value}`}:void 0});(o[0]||o[1])&&(t=new Lp(t,o,null,n.getName(`geojson_${r++}`)))}if(n.channelHasField(Ei)){const i=n.typedFieldDef(Ei);i.type===_m&&(t=new Lp(t,null,i.field,n.getName(`geojson_${r++}`)))}return t}constructor(t,n,r,i){super(t),this.fields=n,this.geojson=r,this.signal=i}dependentFields(){const t=(this.fields??[]).filter(ue);return new Set([...this.geojson?[this.geojson]:[],...t])}producedFields(){return new Set}hash(){return`GeoJSON ${this.geojson} ${this.signal} ${Be(this.fields)}`}assemble(){return[...this.geojson?[{type:"filter",expr:`isValid(datum["${this.geojson}"])`}]:[],{type:"geojson",...this.fields?{fields:this.fields}:{},...this.geojson?{geojson:this.geojson}:{},signal:this.signal}]}}class ev extends gt{clone(){return new ev(null,this.projection,Pe(this.fields),Pe(this.as))}constructor(t,n,r,i){super(t),this.projection=n,this.fields=r,this.as=i}static parseAll(t,n){if(!n.projectionName())return t;for(const r of[[js,zs],[Bo,Bs]]){const i=r.map(s=>{const a=Sn(n.encoding[s]);return ee(a)?a.field:Ya(a)?{expr:`${a.datum}`}:Ts(a)?{expr:`${a.value}`}:void 0}),o=r[0]===Bo?"2":"";(i[0]||i[1])&&(t=new ev(t,n.projectionName(),i,[n.getName(`x${o}`),n.getName(`y${o}`)]))}return t}dependentFields(){return new Set(this.fields.filter(ue))}producedFields(){return new Set(this.as)}hash(){return`Geopoint ${this.projection} ${Be(this.fields)} ${Be(this.as)}`}assemble(){return{type:"geopoint",projection:this.projection,fields:this.fields,as:this.as}}}class ld extends gt{clone(){return new ld(null,Pe(this.transform))}constructor(t,n){super(t),this.transform=n}dependentFields(){return new Set([this.transform.impute,this.transform.key,...this.transform.groupby??[]])}producedFields(){return new Set([this.transform.impute])}processSequence(t){const{start:n=0,stop:r,step:i}=t;return{signal:`sequence(${[n,r,...i?[i]:[]].join(",")})`}}static makeFromTransform(t,n){return new ld(t,n)}static makeFromEncoding(t,n){const r=n.encoding,i=r.x,o=r.y;if(ee(i)&&ee(o)){const s=i.impute?i:o.impute?o:void 0;if(s===void 0)return;const a=i.impute?o:o.impute?i:void 0,{method:l,value:u,frame:c,keyvals:f}=s.impute,d=Ile(n.mark,r);return new ld(t,{impute:s.field,key:a.field,...l?{method:l}:{},...u!==void 0?{value:u}:{},...c?{frame:c}:{},...f!==void 0?{keyvals:f}:{},...d.length?{groupby:d}:{}})}return null}hash(){return`Impute ${Be(this.transform)}`}assemble(){const{impute:t,key:n,keyvals:r,method:i,groupby:o,value:s,frame:a=[null,null]}=this.transform,l={type:"impute",field:t,key:n,...r?{keyvals:YQe(r)?this.processSequence(r):r}:{},method:"value",...o?{groupby:o}:{},value:!i||i==="value"?s:null};if(i&&i!=="value"){const u={type:"window",as:[`imputed_${t}_value`],ops:[i],fields:[t],frame:a,ignorePeers:!1,...o?{groupby:o}:{}},c={type:"formula",expr:`datum.${t} === null ? datum.imputed_${t}_value : datum.${t}`,as:t};return[l,u,c]}else return[l]}}class z_ extends gt{clone(){return new z_(null,Pe(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=Pe(n);const r=this.transform.as??[void 0,void 0];this.transform.as=[r[0]??n.on,r[1]??n.loess]}dependentFields(){return new Set([this.transform.loess,this.transform.on,...this.transform.groupby??[]])}producedFields(){return new Set(this.transform.as)}hash(){return`LoessTransform ${Be(this.transform)}`}assemble(){const{loess:t,on:n,...r}=this.transform;return{type:"loess",x:n,y:t,...r}}}class tv extends gt{clone(){return new tv(null,Pe(this.transform),this.secondary)}constructor(t,n,r){super(t),this.transform=n,this.secondary=r}static make(t,n,r,i){const o=n.component.data.sources,{from:s}=r;let a=null;if(XQe(s)){let l=Ece(s.data,o);l||(l=new Ld(s.data),o.push(l));const u=n.getName(`lookup_${i}`);a=new vi(l,u,en.Lookup,n.component.data.outputNodeRefCounts),n.component.data.outputNodes[u]=a}else if(KQe(s)){const l=s.param;r={as:l,...r};let u;try{u=n.getSelectionComponent(zt(l),l)}catch{throw new Error(SYe(l))}if(a=u.materialized,!a)throw new Error(kYe(l))}return new tv(t,r,a.getSource())}dependentFields(){return new Set([this.transform.lookup])}producedFields(){return new Set(this.transform.as?le(this.transform.as):this.transform.from.fields)}hash(){return`Lookup ${Be({transform:this.transform,secondary:this.secondary})}`}assemble(){let t;if(this.transform.from.fields)t={values:this.transform.from.fields,...this.transform.as?{as:le(this.transform.as)}:{}};else{let n=this.transform.as;ue(n)||(Z(MYe),n="_lookup"),t={as:[n]}}return{type:"lookup",from:this.secondary,key:this.transform.from.key,fields:[this.transform.lookup],...t,...this.transform.default?{default:this.transform.default}:{}}}}class j_ extends gt{clone(){return new j_(null,Pe(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=Pe(n);const r=this.transform.as??[void 0,void 0];this.transform.as=[r[0]??"prob",r[1]??"value"]}dependentFields(){return new Set([this.transform.quantile,...this.transform.groupby??[]])}producedFields(){return new Set(this.transform.as)}hash(){return`QuantileTransform ${Be(this.transform)}`}assemble(){const{quantile:t,...n}=this.transform;return{type:"quantile",field:t,...n}}}class B_ extends gt{clone(){return new B_(null,Pe(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=Pe(n);const r=this.transform.as??[void 0,void 0];this.transform.as=[r[0]??n.on,r[1]??n.regression]}dependentFields(){return new Set([this.transform.regression,this.transform.on,...this.transform.groupby??[]])}producedFields(){return new Set(this.transform.as)}hash(){return`RegressionTransform ${Be(this.transform)}`}assemble(){const{regression:t,on:n,...r}=this.transform;return{type:"regression",x:n,y:t,...r}}}class U_ extends gt{clone(){return new U_(null,Pe(this.transform))}constructor(t,n){super(t),this.transform=n}addDimensions(t){this.transform.groupby=da((this.transform.groupby??[]).concat(t),n=>n)}producedFields(){}dependentFields(){return new Set([this.transform.pivot,this.transform.value,...this.transform.groupby??[]])}hash(){return`PivotTransform ${Be(this.transform)}`}assemble(){const{pivot:t,value:n,groupby:r,limit:i,op:o}=this.transform;return{type:"pivot",field:t,value:n,...i!==void 0?{limit:i}:{},...o!==void 0?{op:o}:{},...r!==void 0?{groupby:r}:{}}}}class V_ extends gt{clone(){return new V_(null,Pe(this.transform))}constructor(t,n){super(t),this.transform=n}dependentFields(){return new Set}producedFields(){return new Set}hash(){return`SampleTransform ${Be(this.transform)}`}assemble(){return{type:"sample",size:this.transform.sample}}}function kce(e){let t=0;function n(r,i){if(r instanceof Ld&&!r.isGenerator&&!Wg(r.data)&&(e.push(i),i={name:null,source:i.name,transform:[]}),r instanceof Sr&&(r.parent instanceof Ld&&!i.source?(i.format={...i.format,parse:r.assembleFormatParse()},i.transform.push(...r.assembleTransforms(!0))):i.transform.push(...r.assembleTransforms())),r instanceof Tm){i.name||(i.name=`data_${t++}`),!i.source||i.transform.length>0?(e.push(i),r.data=i.name):r.data=i.source,e.push(...r.assemble());return}switch((r instanceof kb||r instanceof Cb||r instanceof Xg||r instanceof Am||r instanceof qg||r instanceof ev||r instanceof ws||r instanceof tv||r instanceof Pm||r instanceof dh||r instanceof I_||r instanceof L_||r instanceof D_||r instanceof z_||r instanceof j_||r instanceof B_||r instanceof Pc||r instanceof V_||r instanceof U_||r instanceof N_)&&i.transform.push(r.assemble()),(r instanceof $a||r instanceof _a||r instanceof ld||r instanceof Ml||r instanceof Lp)&&i.transform.push(...r.assemble()),r instanceof vi&&(i.source&&i.transform.length===0?r.setSource(i.source):r.parent instanceof vi?r.setSource(i.name):(i.name||(i.name=`data_${t++}`),r.setSource(i.name),r.numChildren()===1&&(e.push(i),i={name:null,source:i.name,transform:[]}))),r.numChildren()){case 0:r instanceof vi&&(!i.source||i.transform.length>0)&&e.push(i);break;case 1:n(r.children[0],i);break;default:{i.name||(i.name=`data_${t++}`);let o=i.name;!i.source||i.transform.length>0?e.push(i):o=i.source;for(const s of r.children)n(s,{name:null,source:o,transform:[]});break}}}return n}function utt(e){const t=[],n=kce(t);for(const r of e.children)n(r,{source:e.name,name:null,transform:[]});return t}function ctt(e,t){const n=[],r=kce(n);let i=0;for(const s of e.sources){s.hasName()||(s.dataName=`source_${i++}`);const a=s.assemble();r(s,a)}for(const s of n)s.transform.length===0&&delete s.transform;let o=0;for(const[s,a]of n.entries())(a.transform??[]).length===0&&!a.source&&n.splice(o++,0,n.splice(s,1)[0]);for(const s of n)for(const a of s.transform??[])a.type==="lookup"&&(a.from=e.outputNodes[a.from].getSource());for(const s of n)s.name in t&&(s.values=t[s.name]);return n}function ftt(e){return e==="top"||e==="left"||me(e)?"header":"footer"}function dtt(e){for(const t of To)htt(e,t);TW(e,"x"),TW(e,"y")}function htt(e,t){var s;const{facet:n,config:r,child:i,component:o}=e;if(e.channelHasField(t)){const a=n[t],l=Yg("title",null,r,t);let u=Dp(a,r,{allowDisabling:!0,includeDefault:l===void 0||!!l});i.component.layoutHeaders[t].title&&(u=Y(u)?u.join(", "):u,u+=` / ${i.component.layoutHeaders[t].title}`,i.component.layoutHeaders[t].title=null);const c=Yg("labelOrient",a.header,r,t),f=a.header!==null?an((s=a.header)==null?void 0:s.labels,r.header.labels,!0):!1,d=ze(["bottom","right"],c)?"footer":"header";o.layoutHeaders[t]={title:a.header!==null?u:null,facetFieldDef:a,[d]:t==="facet"?[]:[Cce(e,t,f)]}}}function Cce(e,t,n){const r=t==="row"?"height":"width";return{labels:n,sizeSignal:e.child.component.layoutSize.get(r)?e.child.getSizeSignalRef(r):void 0,axes:[]}}function TW(e,t){const{child:n}=e;if(n.component.axes[t]){const{layoutHeaders:r,resolve:i}=e.component;if(i.axis[t]=GL(i,t),i.axis[t]==="shared"){const o=t==="x"?"column":"row",s=r[o];for(const a of n.component.axes[t]){const l=ftt(a.get("orient"));s[l]??(s[l]=[Cce(e,o,!1)]);const u=ly(a,"main",e.config,{header:!0});u&&s[l][0].axes.push(u),a.mainExtracted=!0}}}}function ptt(e){tI(e),Lk(e,"width"),Lk(e,"height")}function gtt(e){tI(e);const t=e.layout.columns===1?"width":"childWidth",n=e.layout.columns===void 0?"height":"childHeight";Lk(e,t),Lk(e,n)}function tI(e){for(const t of e.children)t.parseLayoutSize()}function Lk(e,t){const n=Kue(t),r=l_(n),i=e.component.resolve,o=e.component.layoutSize;let s;for(const a of e.children){const l=a.component.layoutSize.getWithExplicit(n),u=i.scale[r]??Jue(r,e);if(u==="independent"&&l.value==="step"){s=void 0;break}if(s){if(u==="independent"&&s.value!==l.value){s=void 0;break}s=Ac(s,l,n,"")}else s=l}if(s){for(const a of e.children)e.renameSignal(a.getName(n),e.getName(t)),a.component.layoutSize.set(n,"merged",!1);o.setWithExplicit(t,s)}else o.setWithExplicit(t,{explicit:!1,value:void 0})}function mtt(e){const{size:t,component:n}=e;for(const r of tu){const i=_i(r);if(t[i]){const o=t[i];n.layoutSize.set(i,Oa(o)?"step":o,!0)}else{const o=ytt(e,i);n.layoutSize.set(i,o,!1)}}}function ytt(e,t){const n=t==="width"?"x":"y",r=e.config,i=e.getScaleComponent(n);if(i){const o=i.get("type"),s=i.get("range");if(In(o)){const a=Rk(r.view,t);return ah(s)||Oa(a)?"step":a}else return DM(r.view,t)}else{if(e.hasProjection||e.mark==="arc")return DM(r.view,t);{const o=Rk(r.view,t);return Oa(o)?o.step:o}}}function QM(e,t,n){return ie(t,{suffix:`by_${ie(e)}`,...n})}class Yy extends Sce{constructor(t,n,r,i){super(t,"facet",n,r,i,t.resolve),this.child=sI(t.spec,this,this.getName("child"),void 0,i),this.children=[this.child],this.facet=this.initFacet(t.facet)}initFacet(t){if(!yb(t))return{facet:this.initFacetFieldDef(t,"facet")};const n=X(t),r={};for(const i of n){if(![$l,Al].includes(i)){Z(f_(i,"facet"));break}const o=t[i];if(o.field===void 0){Z(PM(o,i));break}r[i]=this.initFacetFieldDef(o,i)}return r}initFacetFieldDef(t,n){const r=EL(t,n);return r.header?r.header=Gn(r.header):r.header===null&&(r.header=null),r}channelHasField(t){return K(this.facet,t)}fieldDef(t){return this.facet[t]}parseData(){this.component.data=W_(this),this.child.parseData()}parseLayoutSize(){tI(this)}parseSelections(){this.child.parseSelections(),this.component.selection=this.child.component.selection}parseMarkGroup(){this.child.parseMarkGroup()}parseAxesAndHeaders(){this.child.parseAxesAndHeaders(),dtt(this)}assembleSelectionTopLevelSignals(t){return this.child.assembleSelectionTopLevelSignals(t)}assembleSignals(){return this.child.assembleSignals(),[]}assembleSelectionData(t){return this.child.assembleSelectionData(t)}getHeaderLayoutMixins(){const t={};for(const n of To)for(const r of HL){const i=this.component.layoutHeaders[n],o=i[r],{facetFieldDef:s}=i;if(s){const a=Yg("titleOrient",s.header,this.config,n);if(["right","bottom"].includes(a)){const l=F_(n,a);t.titleAnchor??(t.titleAnchor={}),t.titleAnchor[l]="end"}}if(o!=null&&o[0]){const a=n==="row"?"height":"width",l=r==="header"?"headerBand":"footerBand";n!=="facet"&&!this.child.component.layoutSize.get(a)&&(t[l]??(t[l]={}),t[l][n]=.5),i.title&&(t.offset??(t.offset={}),t.offset[n==="row"?"rowTitle":"columnTitle"]=10)}}return t}assembleDefaultLayout(){const{column:t,row:n}=this.facet,r=t?this.columnDistinctSignal():n?1:void 0;let i="all";return(!n&&this.component.resolve.scale.x==="independent"||!t&&this.component.resolve.scale.y==="independent")&&(i="none"),{...this.getHeaderLayoutMixins(),...r?{columns:r}:{},bounds:"full",align:i}}assembleLayoutSignals(){return this.child.assembleLayoutSignals()}columnDistinctSignal(){if(!(this.parent&&this.parent instanceof Yy))return{signal:`length(data('${this.getName("column_domain")}'))`}}assembleGroupStyle(){}assembleGroup(t){return this.parent&&this.parent instanceof Yy?{...this.channelHasField("column")?{encode:{update:{columns:{field:ie(this.facet.column,{prefix:"distinct"})}}}}:{},...super.assembleGroup(t)}:super.assembleGroup(t)}getCardinalityAggregateForChild(){const t=[],n=[],r=[];if(this.child instanceof Yy){if(this.child.channelHasField("column")){const i=ie(this.child.facet.column);t.push(i),n.push("distinct"),r.push(`distinct_${i}`)}}else for(const i of tu){const o=this.child.component.scales[i];if(o&&!o.merged){const s=o.get("type"),a=o.get("range");if(In(s)&&ah(a)){const l=O_(this.child,i),u=JL(l);u?(t.push(u),n.push("distinct"),r.push(`distinct_${u}`)):Z(eL(i))}}}return{fields:t,ops:n,as:r}}assembleFacet(){const{name:t,data:n}=this.component.data.facetRoot,{row:r,column:i}=this.facet,{fields:o,ops:s,as:a}=this.getCardinalityAggregateForChild(),l=[];for(const c of To){const f=this.facet[c];if(f){l.push(ie(f));const{bin:d,sort:h}=f;if($t(d)&&l.push(ie(f,{binSuffix:"end"})),Tl(h)){const{field:p,op:g=v_}=h,m=QM(f,h);r&&i?(o.push(m),s.push("max"),a.push(m)):(o.push(p),s.push(g),a.push(m))}else if(Y(h)){const p=Gg(f,c);o.push(p),s.push("max"),a.push(p)}}}const u=!!r&&!!i;return{name:t,data:n,groupby:l,...u||o.length>0?{aggregate:{...u?{cross:u}:{},...o.length?{fields:o,ops:s,as:a}:{}}}:{}}}facetSortFields(t){const{facet:n}=this,r=n[t];return r?Tl(r.sort)?[QM(r,r.sort,{expr:"datum"})]:Y(r.sort)?[Gg(r,t,{expr:"datum"})]:[ie(r,{expr:"datum"})]:[]}facetSortOrder(t){const{facet:n}=this,r=n[t];if(r){const{sort:i}=r;return[(Tl(i)?i.order:!Y(i)&&i)||"ascending"]}return[]}assembleLabelTitle(){var i;const{facet:t,config:n}=this;if(t.facet)return WM(t.facet,"facet",n);const r={row:["top","bottom"],column:["left","right"]};for(const o of WL)if(t[o]){const s=Yg("labelOrient",(i=t[o])==null?void 0:i.header,n,o);if(r[o].includes(s))return WM(t[o],o,n)}}assembleMarks(){const{child:t}=this,n=this.component.data.facetRoot,r=utt(n),i=t.assembleGroupEncodeEntry(!1),o=this.assembleLabelTitle()||t.assembleTitle(),s=t.assembleGroupStyle();return[{name:this.getName("cell"),type:"group",...o?{title:o}:{},...s?{style:s}:{},from:{facet:this.assembleFacet()},sort:{field:To.map(l=>this.facetSortFields(l)).flat(),order:To.map(l=>this.facetSortOrder(l)).flat()},...r.length>0?{data:r}:{},...i?{encode:{update:i}}:{},...t.assembleGroup($Je(this,[]))}]}getMapping(){return this.facet}}function vtt(e,t){const{row:n,column:r}=t;if(n&&r){let i=null;for(const o of[n,r])if(Tl(o.sort)){const{field:s,op:a=v_}=o.sort;e=i=new dh(e,{joinaggregate:[{op:a,field:s,as:QM(o,o.sort,{forAs:!0})}],groupby:[ie(o)]})}return i}return null}function Ece(e,t){var n,r,i,o;for(const s of t){const a=s.data;if(e.name&&s.hasName()&&e.name!==s.dataName)continue;const l=(n=e.format)==null?void 0:n.mesh,u=(r=a.format)==null?void 0:r.feature;if(l&&u)continue;const c=(i=e.format)==null?void 0:i.feature;if((c||u)&&c!==u)continue;const f=(o=a.format)==null?void 0:o.mesh;if(!((l||f)&&l!==f)){if(Z1(e)&&Z1(a)){if(Ui(e.values,a.values))return s}else if(Wg(e)&&Wg(a)){if(e.url===a.url)return s}else if(pue(e)&&e.name===s.dataName)return s}}return null}function btt(e,t){if(e.data||!e.parent){if(e.data===null){const r=new Ld({values:[]});return t.push(r),r}const n=Ece(e.data,t);if(n)return ac(e.data)||(n.data.format=uae({},e.data.format,n.data.format)),!n.hasName()&&e.data.name&&(n.dataName=e.data.name),n;{const r=new Ld(e.data);return t.push(r),r}}else return e.parent.component.data.facetRoot?e.parent.component.data.facetRoot:e.parent.component.data.main}function xtt(e,t,n){let r=0;for(const i of t.transforms){let o,s;if(sJe(i))s=e=new qg(e,i),o="derived";else if(LL(i)){const a=uet(i);s=e=Sr.makeWithAncestors(e,{},a,n)??e,e=new Am(e,t,i.filter)}else if(uue(i))s=e=$a.makeFromTransform(e,i,t),o="number";else if(lJe(i))o="date",n.getWithExplicit(i.field).value===void 0&&(e=new Sr(e,{[i.field]:o}),n.set(i.field,o,!1)),s=e=_a.makeFromTransform(e,i);else if(uJe(i))s=e=ws.makeFromTransform(e,i),o="number",VL(t)&&(e=new Pc(e));else if(lue(i))s=e=tv.make(e,t,i,r++),o="derived";else if(rJe(i))s=e=new Pm(e,i),o="number";else if(iJe(i))s=e=new dh(e,i),o="number";else if(cJe(i))s=e=Ml.makeFromTransform(e,i),o="derived";else if(fJe(i))s=e=new I_(e,i),o="derived";else if(dJe(i))s=e=new N_(e,i),o="derived";else if(oJe(i))s=e=new L_(e,i),o="derived";else if(QQe(i))s=e=new U_(e,i),o="derived";else if(nJe(i))e=new V_(e,i);else if(aJe(i))s=e=ld.makeFromTransform(e,i),o="derived";else if(JQe(i))s=e=new D_(e,i),o="derived";else if(ZQe(i))s=e=new j_(e,i),o="derived";else if(eJe(i))s=e=new B_(e,i),o="derived";else if(tJe(i))s=e=new z_(e,i),o="derived";else{Z(PYe(i));continue}if(s&&o!==void 0)for(const a of s.producedFields()??[])n.set(a,o,!1)}return e}function W_(e){var m;let t=btt(e,e.component.data.sources);const{outputNodes:n,outputNodeRefCounts:r}=e.component.data,i=e.data,s=!(i&&(ac(i)||Wg(i)||Z1(i)))&&e.parent?e.parent.component.data.ancestorParse.clone():new CJe;ac(i)?(gue(i)?t=new Cb(t,i.sequence):IL(i)&&(t=new kb(t,i.graticule)),s.parseNothing=!0):((m=i==null?void 0:i.format)==null?void 0:m.parse)===null&&(s.parseNothing=!0),t=Sr.makeExplicit(t,e,s)??t,t=new Pc(t);const a=e.parent&&Mm(e.parent);(Vt(e)||Xi(e))&&a&&(t=$a.makeFromEncoding(t,e)??t),e.transforms.length>0&&(t=xtt(t,e,s));const l=fet(e),u=cet(e);t=Sr.makeWithAncestors(t,{},{...l,...u},s)??t,Vt(e)&&(t=Lp.parseAll(t,e),t=ev.parseAll(t,e)),(Vt(e)||Xi(e))&&(a||(t=$a.makeFromEncoding(t,e)??t),t=_a.makeFromEncoding(t,e)??t,t=qg.parseAllForSortIndex(t,e));const c=t=Gx(en.Raw,e,t);if(Vt(e)){const y=ws.makeFromEncoding(t,e);y&&(t=y,VL(e)&&(t=new Pc(t))),t=ld.makeFromEncoding(t,e)??t,t=Ml.makeFromEncoding(t,e)??t}let f,d;if(Vt(e)){const{markDef:y,mark:v,config:b}=e,x=mt("invalid",y,b),{marks:w,scales:k}=d=yue({invalid:x,isPath:Yc(v)});w!==k&&k==="include-invalid-values"&&(f=t=Gx(en.PreFilterInvalid,e,t)),w==="exclude-invalid-values"&&(t=Xg.make(t,e,d)??t)}const h=t=Gx(en.Main,e,t);let p;if(Vt(e)&&d){const{marks:y,scales:v}=d;y==="include-invalid-values"&&v==="exclude-invalid-values"&&(t=Xg.make(t,e,d)??t,p=t=Gx(en.PostFilterInvalid,e,t))}Vt(e)&&oZe(e,h);let g=null;if(Xi(e)){const y=e.getName("facet");t=vtt(t,e.facet)??t,g=new Tm(t,e,y,h.getSource()),n[y]=g}return{...e.component.data,outputNodes:n,outputNodeRefCounts:r,raw:c,main:h,facetRoot:g,ancestorParse:s,preFilterInvalid:f,postFilterInvalid:p}}function Gx(e,t,n){const{outputNodes:r,outputNodeRefCounts:i}=t.component.data,o=t.getDataName(e),s=new vi(n,o,e,i);return r[o]=s,s}class wtt extends eI{constructor(t,n,r,i){var o,s,a,l;super(t,"concat",n,r,i,t.resolve),(((s=(o=t.resolve)==null?void 0:o.axis)==null?void 0:s.x)==="shared"||((l=(a=t.resolve)==null?void 0:a.axis)==null?void 0:l.y)==="shared")&&Z($Ye),this.children=this.getChildren(t).map((u,c)=>sI(u,this,this.getName(`concat_${c}`),void 0,i))}parseData(){this.component.data=W_(this);for(const t of this.children)t.parseData()}parseSelections(){this.component.selection={};for(const t of this.children){t.parseSelections();for(const n of X(t.component.selection))this.component.selection[n]=t.component.selection[n]}}parseMarkGroup(){for(const t of this.children)t.parseMarkGroup()}parseAxesAndHeaders(){for(const t of this.children)t.parseAxesAndHeaders()}getChildren(t){return E_(t)?t.vconcat:DL(t)?t.hconcat:t.concat}parseLayoutSize(){gtt(this)}parseAxisGroup(){return null}assembleSelectionTopLevelSignals(t){return this.children.reduce((n,r)=>r.assembleSelectionTopLevelSignals(n),t)}assembleSignals(){return this.children.forEach(t=>t.assembleSignals()),[]}assembleLayoutSignals(){const t=qL(this);for(const n of this.children)t.push(...n.assembleLayoutSignals());return t}assembleSelectionData(t){return this.children.reduce((n,r)=>r.assembleSelectionData(n),t)}assembleMarks(){return this.children.map(t=>{const n=t.assembleTitle(),r=t.assembleGroupStyle(),i=t.assembleGroupEncodeEntry(!1);return{type:"group",name:t.getName("group"),...n?{title:n}:{},...r?{style:r}:{},...i?{encode:{update:i}}:{},...t.assembleGroup()}})}assembleGroupStyle(){}assembleDefaultLayout(){const t=this.layout.columns;return{...t!=null?{columns:t}:{},bounds:"full",align:"each"}}}function Stt(e){return e===!1||e===null}const ktt={disable:1,gridScale:1,scale:1,...Fle,labelExpr:1,encode:1},_ce=X(ktt);class nI extends ru{constructor(t={},n={},r=!1){super(),this.explicit=t,this.implicit=n,this.mainExtracted=r}clone(){return new nI(Pe(this.explicit),Pe(this.implicit),this.mainExtracted)}hasAxisPart(t){return t==="axis"?!0:t==="grid"||t==="title"?!!this.get(t):!Stt(this.get(t))}hasOrientSignalRef(){return me(this.explicit.orient)}}function Ctt(e,t,n){const{encoding:r,config:i}=e,o=Sn(r[t])??Sn(r[qa(t)]),s=e.axis(t)||{},{format:a,formatType:l}=s;if(Od(l))return{text:ys({fieldOrDatumDef:o,field:"datum.value",format:a,formatType:l,config:i}),...n};if(a===void 0&&l===void 0&&i.customFormatTypes){if(Bg(o)==="quantitative"){if(Ug(o)&&o.stack==="normalize"&&i.normalizedNumberFormatType)return{text:ys({fieldOrDatumDef:o,field:"datum.value",format:i.normalizedNumberFormat,formatType:i.normalizedNumberFormatType,config:i}),...n};if(i.numberFormatType)return{text:ys({fieldOrDatumDef:o,field:"datum.value",format:i.numberFormat,formatType:i.numberFormatType,config:i}),...n}}if(Bg(o)==="temporal"&&i.timeFormatType&&ee(o)&&!o.timeUnit)return{text:ys({fieldOrDatumDef:o,field:"datum.value",format:i.timeFormat,formatType:i.timeFormatType,config:i}),...n}}return n}function Ett(e){return tu.reduce((t,n)=>(e.component.scales[n]&&(t[n]=[Ftt(n,e)]),t),{})}const _tt={bottom:"top",top:"bottom",left:"right",right:"left"};function $tt(e){const{axes:t,resolve:n}=e.component,r={top:0,bottom:0,right:0,left:0};for(const i of e.children){i.parseAxesAndHeaders();for(const o of X(i.component.axes))n.axis[o]=GL(e.component.resolve,o),n.axis[o]==="shared"&&(t[o]=Att(t[o],i.component.axes[o]),t[o]||(n.axis[o]="independent",delete t[o]))}for(const i of tu){for(const o of e.children)if(o.component.axes[i]){if(n.axis[i]==="independent"){t[i]=(t[i]??[]).concat(o.component.axes[i]);for(const s of o.component.axes[i]){const{value:a,explicit:l}=s.getWithExplicit("orient");if(!me(a)){if(r[a]>0&&!l){const u=_tt[a];r[a]>r[u]&&s.set("orient",u,!1)}r[a]++}}}delete o.component.axes[i]}if(n.axis[i]==="independent"&&t[i]&&t[i].length>1)for(const[o,s]of(t[i]||[]).entries())o>0&&s.get("grid")&&!s.explicit.grid&&(s.implicit.grid=!1)}}function Att(e,t){if(e){if(e.length!==t.length)return;const n=e.length;for(let r=0;r<n;r++){const i=e[r],o=t[r];if(!!i!=!!o)return;if(i&&o){const s=i.getWithExplicit("orient"),a=o.getWithExplicit("orient");if(s.explicit&&a.explicit&&s.value!==a.value)return;e[r]=Ttt(i,o)}}}else return t.map(n=>n.clone());return e}function Ttt(e,t){for(const n of _ce){const r=Ac(e.getWithExplicit(n),t.getWithExplicit(n),n,"axis",(i,o)=>{switch(n){case"title":return Nae(i,o);case"gridScale":return{explicit:i.explicit,value:an(i.value,o.value)}}return $_(i,o,n,"axis")});e.setWithExplicit(n,r)}return e}function Ptt(e,t,n,r,i){if(t==="disable")return n!==void 0;switch(n=n||{},t){case"titleAngle":case"labelAngle":return e===(me(n.labelAngle)?n.labelAngle:Q1(n.labelAngle));case"values":return!!n.values;case"encode":return!!n.encoding||!!n.labelAngle;case"title":if(e===Hue(r,i))return!0}return e===n[t]}const Mtt=new Set(["grid","translate","format","formatType","orient","labelExpr","tickCount","position","tickMinStep"]);function Ftt(e,t){var y,v;let n=t.axis(e);const r=new nI,i=Sn(t.encoding[e]),{mark:o,config:s}=t,a=(n==null?void 0:n.orient)||((y=s[e==="x"?"axisX":"axisY"])==null?void 0:y.orient)||((v=s.axis)==null?void 0:v.orient)||gZe(e),l=t.getScaleComponent(e).get("type"),u=lZe(e,l,a,t.config),c=n!==void 0?!n:UM("disable",s.style,n==null?void 0:n.style,u).configValue;if(r.set("disable",c,n!==void 0),c)return r;n=n||{};const f=dZe(i,n,e,s.style,u),d=vle(n.formatType,i,l),h=yle(i,i.type,n.format,n.formatType,s,!0),p={fieldOrDatumDef:i,axis:n,channel:e,model:t,scaleType:l,orient:a,labelAngle:f,format:h,formatType:d,mark:o,config:s};for(const b of _ce){const x=b in pW?pW[b](p):jV(b)?n[b]:void 0,w=x!==void 0,k=Ptt(x,b,n,t,e);if(w&&k)r.set(b,x,k);else{const{configValue:S=void 0,configFrom:C=void 0}=jV(b)&&b!=="values"?UM(b,s.style,n.style,u):{},E=S!==void 0;w&&!E?r.set(b,x,k):(C!=="vgAxisConfig"||Mtt.has(b)&&E||wb(S)||me(S))&&r.set(b,S,!1)}}const g=n.encoding??{},m=Mle.reduce((b,x)=>{if(!r.hasAxisPart(x))return b;const w=Que(g[x]??{},t),k=x==="labels"?Ctt(t,e,w):w;return k!==void 0&&!vt(k)&&(b[x]={update:k}),b},{});return vt(m)||r.set("encode",m,!!n.encoding||n.labelAngle!==void 0),r}function Rtt({encoding:e,size:t}){for(const n of tu){const r=_i(n);Oa(t[r])&&Hu(e[n])&&(delete t[r],Z(Bae(r)))}return t}const Ott={vgMark:"arc",encodeEntry:e=>({...Wo(e,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"}),...qr("x",e,{defaultPos:"mid"}),...qr("y",e,{defaultPos:"mid"}),...Vl(e,"radius"),...Vl(e,"theta")})},Dtt={vgMark:"area",encodeEntry:e=>({...Wo(e,{align:"ignore",baseline:"ignore",color:"include",orient:"include",size:"ignore",theta:"ignore"}),...Ok("x",e,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:e.markDef.orient==="horizontal"}),...Ok("y",e,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:e.markDef.orient==="vertical"}),...UL(e)})},Ntt={vgMark:"rect",encodeEntry:e=>({...Wo(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...Vl(e,"x"),...Vl(e,"y")})},Ltt={vgMark:"shape",encodeEntry:e=>({...Wo(e,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"})}),postEncodingTransform:e=>{const{encoding:t}=e,n=t.shape;return[{type:"geoshape",projection:e.projectionName(),...n&&ee(n)&&n.type===_m?{field:ie(n,{expr:"datum"})}:{}}]}},Itt={vgMark:"image",encodeEntry:e=>({...Wo(e,{align:"ignore",baseline:"ignore",color:"ignore",orient:"ignore",size:"ignore",theta:"ignore"}),...Vl(e,"x"),...Vl(e,"y"),...jL(e,"url")})},ztt={vgMark:"line",encodeEntry:e=>({...Wo(e,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"}),...qr("x",e,{defaultPos:"mid"}),...qr("y",e,{defaultPos:"mid"}),...Kn("size",e,{vgChannel:"strokeWidth"}),...UL(e)})},jtt={vgMark:"trail",encodeEntry:e=>({...Wo(e,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"}),...qr("x",e,{defaultPos:"mid"}),...qr("y",e,{defaultPos:"mid"}),...Kn("size",e),...UL(e)})};function rI(e,t){const{config:n}=e;return{...Wo(e,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"}),...qr("x",e,{defaultPos:"mid"}),...qr("y",e,{defaultPos:"mid"}),...Kn("size",e),...Kn("angle",e),...Btt(e,n,t)}}function Btt(e,t,n){return n?{shape:{value:n}}:Kn("shape",e)}const Utt={vgMark:"symbol",encodeEntry:e=>rI(e)},Vtt={vgMark:"symbol",encodeEntry:e=>rI(e,"circle")},Wtt={vgMark:"symbol",encodeEntry:e=>rI(e,"square")},Htt={vgMark:"rect",encodeEntry:e=>({...Wo(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...Vl(e,"x"),...Vl(e,"y")})},qtt={vgMark:"rule",encodeEntry:e=>{const{markDef:t}=e,n=t.orient;return!e.encoding.x&&!e.encoding.y&&!e.encoding.latitude&&!e.encoding.longitude?{}:{...Wo(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...Ok("x",e,{defaultPos:n==="horizontal"?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:n!=="vertical"}),...Ok("y",e,{defaultPos:n==="vertical"?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:n!=="horizontal"}),...Kn("size",e,{vgChannel:"strokeWidth"})}}},Gtt={vgMark:"text",encodeEntry:e=>{const{config:t,encoding:n}=e;return{...Wo(e,{align:"include",baseline:"include",color:"include",size:"ignore",orient:"ignore",theta:"include"}),...qr("x",e,{defaultPos:"mid"}),...qr("y",e,{defaultPos:"mid"}),...jL(e),...Kn("size",e,{vgChannel:"fontSize"}),...Kn("angle",e),...cW("align",Ytt(e.markDef,n,t)),...cW("baseline",Xtt(e.markDef,n,t)),...qr("radius",e,{defaultPos:null}),...qr("theta",e,{defaultPos:null})}}};function Ytt(e,t,n){if(mt("align",e,n)===void 0)return"center"}function Xtt(e,t,n){if(mt("baseline",e,n)===void 0)return"middle"}const Ktt={vgMark:"rect",encodeEntry:e=>{const{config:t,markDef:n}=e,r=n.orient,i=r==="horizontal"?"x":"y",o=r==="horizontal"?"y":"x",s=r==="horizontal"?"height":"width";return{...Wo(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...Vl(e,i),...qr(o,e,{defaultPos:"mid",vgChannel:o==="y"?"yc":"xc"}),[s]:Ft(mt("thickness",n,t))}}},Yx={arc:Ott,area:Dtt,bar:Ntt,circle:Vtt,geoshape:Ltt,image:Itt,line:ztt,point:Utt,rect:Htt,rule:qtt,square:Wtt,text:Gtt,tick:Ktt,trail:jtt};function Qtt(e){if(ze([m_,p_,rKe],e.mark)){const t=Ile(e.mark,e.encoding);if(t.length>0)return Jtt(e,t)}else if(e.mark===g_){const t=AM.some(n=>mt(n,e.markDef,e.config));if(e.stack&&!e.fieldDef("size")&&t)return Ztt(e)}return iI(e)}const PW="faceted_path_";function Jtt(e,t){return[{name:e.getName("pathgroup"),type:"group",from:{facet:{name:PW+e.requestDataName(en.Main),data:e.requestDataName(en.Main),groupby:t}},encode:{update:{width:{field:{group:"width"}},height:{field:{group:"height"}}}},marks:iI(e,{fromPrefix:PW})}]}const MW="stack_group_";function Ztt(e){var u;const[t]=iI(e,{fromPrefix:MW}),n=e.scaleName(e.stack.fieldChannel),r=(c={})=>e.vgField(e.stack.fieldChannel,c),i=(c,f)=>{const d=[r({prefix:"min",suffix:"start",expr:f}),r({prefix:"max",suffix:"start",expr:f}),r({prefix:"min",suffix:"end",expr:f}),r({prefix:"max",suffix:"end",expr:f})];return`${c}(${d.map(h=>`scale('${n}',${h})`).join(",")})`};let o,s;e.stack.fieldChannel==="x"?(o={...Og(t.encode.update,["y","yc","y2","height",...AM]),x:{signal:i("min","datum")},x2:{signal:i("max","datum")},clip:{value:!0}},s={x:{field:{group:"x"},mult:-1},height:{field:{group:"height"}}},t.encode.update={...yi(t.encode.update,["y","yc","y2"]),height:{field:{group:"height"}}}):(o={...Og(t.encode.update,["x","xc","x2","width"]),y:{signal:i("min","datum")},y2:{signal:i("max","datum")},clip:{value:!0}},s={y:{field:{group:"y"},mult:-1},width:{field:{group:"width"}}},t.encode.update={...yi(t.encode.update,["x","xc","x2"]),width:{field:{group:"width"}}});for(const c of AM){const f=Fa(c,e.markDef,e.config);t.encode.update[c]?(o[c]=t.encode.update[c],delete t.encode.update[c]):f&&(o[c]=Ft(f)),f&&(t.encode.update[c]={value:0})}const a=[];if(((u=e.stack.groupbyChannels)==null?void 0:u.length)>0)for(const c of e.stack.groupbyChannels){const f=e.fieldDef(c),d=ie(f);d&&a.push(d),(f!=null&&f.bin||f!=null&&f.timeUnit)&&a.push(ie(f,{binSuffix:"end"}))}return o=["stroke","strokeWidth","strokeJoin","strokeCap","strokeDash","strokeDashOffset","strokeMiterLimit","strokeOpacity"].reduce((c,f)=>{if(t.encode.update[f])return{...c,[f]:t.encode.update[f]};{const d=Fa(f,e.markDef,e.config);return d!==void 0?{...c,[f]:Ft(d)}:c}},o),o.stroke&&(o.strokeForeground={value:!0},o.strokeOffset={value:0}),[{type:"group",from:{facet:{data:e.requestDataName(en.Main),name:MW+e.requestDataName(en.Main),groupby:a,aggregate:{fields:[r({suffix:"start"}),r({suffix:"start"}),r({suffix:"end"}),r({suffix:"end"})],ops:["min","max","min","max"]}}},encode:{update:o},marks:[{type:"group",encode:{update:s},marks:[t]}]}]}function ent(e){const{encoding:t,stack:n,mark:r,markDef:i,config:o}=e,s=t.order;if(!(!Y(s)&&Ts(s)&&_M(s.value)||!s&&_M(mt("order",i,o)))){if((Y(s)||ee(s))&&!n)return Rae(s,{expr:"datum"});if(Yc(r)){const a=i.orient==="horizontal"?"y":"x",l=t[a];if(ee(l))return{field:a}}}}function iI(e,t={fromPrefix:""}){const{mark:n,markDef:r,encoding:i,config:o}=e,s=an(r.clip,tnt(e),nnt(e)),a=Mae(r),l=i.key,u=ent(e),c=rnt(e),f=mt("aria",r,o),d=Yx[n].postEncodingTransform?Yx[n].postEncodingTransform(e):null;return[{name:e.getName("marks"),type:Yx[n].vgMark,...s?{clip:s}:{},...a?{style:a}:{},...l?{key:l.field}:{},...u?{sort:u}:{},...c||{},...f===!1?{aria:f}:{},from:{data:t.fromPrefix+e.requestDataName(en.Main)},encode:{update:Yx[n].encodeEntry(e)},...d?{transform:d}:{}}]}function tnt(e){const t=e.getScaleComponent("x"),n=e.getScaleComponent("y");return t!=null&&t.get("selectionExtent")||n!=null&&n.get("selectionExtent")?!0:void 0}function nnt(e){const t=e.component.projection;return t&&!t.isFit?!0:void 0}function rnt(e){if(!e.component.selection)return null;const t=X(e.component.selection).length;let n=t,r=e.parent;for(;r&&n===0;)n=X(r.component.selection).length,r=r.parent;return n?{interactive:t>0||e.mark==="geoshape"||!!e.encoding.tooltip||!!e.markDef.tooltip}:null}class $ce extends Sce{constructor(t,n,r,i={},o){super(t,"unit",n,r,o,void 0,UV(t)?t.view:void 0),this.specifiedScales={},this.specifiedAxes={},this.specifiedLegends={},this.specifiedProjection={},this.selection=[],this.children=[];const s=Ra(t.mark)?{...t.mark}:{type:t.mark},a=s.type;s.filled===void 0&&(s.filled=jQe(s,o,{graticule:t.data&&IL(t.data)}));const l=this.encoding=WKe(t.encoding||{},a,s.filled,o);this.markDef=oue(s,l,o),this.size=Rtt({encoding:l,size:UV(t)?{...i,...t.width?{width:t.width}:{},...t.height?{height:t.height}:{}}:i}),this.stack=iue(this.markDef,l),this.specifiedScales=this.initScales(a,l),this.specifiedAxes=this.initAxes(l),this.specifiedLegends=this.initLegends(l),this.specifiedProjection=t.projection,this.selection=(t.params??[]).filter(u=>RL(u))}get hasProjection(){const{encoding:t}=this,n=this.mark===cle,r=t&&jGe.some(i=>Fe(t[i]));return n||r}scaleDomain(t){const n=this.specifiedScales[t];return n?n.domain:void 0}axis(t){return this.specifiedAxes[t]}legend(t){return this.specifiedLegends[t]}initScales(t,n){return QN.reduce((r,i)=>{const o=Sn(n[i]);return o&&(r[i]=this.initScale(o.scale??{})),r},{})}initScale(t){const{domain:n,range:r}=t,i=Gn(t);return Y(n)&&(i.domain=n.map(Ni)),Y(r)&&(i.range=r.map(Ni)),i}initAxes(t){return tu.reduce((n,r)=>{const i=t[r];if(Fe(i)||r===jt&&Fe(t.x2)||r===Un&&Fe(t.y2)){const o=Fe(i)?i.axis:void 0;n[r]=o&&this.initAxis({...o})}return n},{})}initAxis(t){const n=X(t),r={};for(const i of n){const o=t[i];r[i]=wb(o)?Pae(o):Ni(o)}return r}initLegends(t){return KGe.reduce((n,r)=>{const i=Sn(t[r]);if(i&&JGe(r)){const o=i.legend;n[r]=o&&Gn(o)}return n},{})}parseData(){this.component.data=W_(this)}parseLayoutSize(){mtt(this)}parseSelections(){this.component.selection=iZe(this,this.selection)}parseMarkGroup(){this.component.mark=Qtt(this)}parseAxesAndHeaders(){this.component.axes=Ett(this)}assembleSelectionTopLevelSignals(t){return AJe(this,t)}assembleSignals(){return[...Uue(this),..._Je(this,[])]}assembleSelectionData(t){return TJe(this,t)}assembleLayout(){return null}assembleLayoutSignals(){return qL(this)}assembleMarks(){let t=this.component.mark??[];return(!this.parent||!Mm(this.parent))&&(t=bue(this,t)),t.map(this.correctDataNames)}assembleGroupStyle(){const{style:t}=this.view||{};return t!==void 0?t:this.encoding.x||this.encoding.y?"cell":"view"}getMapping(){return this.encoding}get mark(){return this.markDef.type}channelHasField(t){return sd(this.encoding,t)}fieldDef(t){const n=this.encoding[t];return Ps(n)}typedFieldDef(t){const n=this.fieldDef(t);return Zr(n)?n:null}}class oI extends eI{constructor(t,n,r,i,o){super(t,"layer",n,r,o,t.resolve,t.view);const s={...i,...t.width?{width:t.width}:{},...t.height?{height:t.height}:{}};this.children=t.layer.map((a,l)=>{if(__(a))return new oI(a,this,this.getName(`layer_${l}`),s,o);if(nu(a))return new $ce(a,this,this.getName(`layer_${l}`),s,o);throw new Error(ZN(a))})}parseData(){this.component.data=W_(this);for(const t of this.children)t.parseData()}parseLayoutSize(){ptt(this)}parseSelections(){this.component.selection={};for(const t of this.children){t.parseSelections();for(const n of X(t.component.selection))this.component.selection[n]=t.component.selection[n]}}parseMarkGroup(){for(const t of this.children)t.parseMarkGroup()}parseAxesAndHeaders(){$tt(this)}assembleSelectionTopLevelSignals(t){return this.children.reduce((n,r)=>r.assembleSelectionTopLevelSignals(n),t)}assembleSignals(){return this.children.reduce((t,n)=>t.concat(n.assembleSignals()),Uue(this))}assembleLayoutSignals(){return this.children.reduce((t,n)=>t.concat(n.assembleLayoutSignals()),qL(this))}assembleSelectionData(t){return this.children.reduce((n,r)=>r.assembleSelectionData(n),t)}assembleGroupStyle(){const t=new Set;for(const r of this.children)for(const i of le(r.assembleGroupStyle()))t.add(i);const n=Array.from(t);return n.length>1?n:n.length===1?n[0]:void 0}assembleTitle(){let t=super.assembleTitle();if(t)return t;for(const n of this.children)if(t=n.assembleTitle(),t)return t}assembleLayout(){return null}assembleMarks(){return PJe(this,this.children.flatMap(t=>t.assembleMarks()))}assembleLegends(){return this.children.reduce((t,n)=>t.concat(n.assembleLegends()),oce(this))}}function sI(e,t,n,r,i){if(b_(e))return new Yy(e,t,n,i);if(__(e))return new oI(e,t,n,r,i);if(nu(e))return new $ce(e,t,n,r,i);if(pQe(e))return new wtt(e,t,n,i);throw new Error(ZN(e))}function int(e,t={}){t.logger&&yXe(t.logger),t.fieldTitle&&Ale(t.fieldTitle);try{const n=rue(um(t.config,e.config)),r=due(e,n),i=sI(r,null,"",void 0,n);return i.parse(),Aet(i.component.data,i),{spec:snt(i,ont(e,r.autosize,n,i),e.datasets,e.usermeta),normalized:r}}finally{t.logger&&vXe(),t.fieldTitle&&DKe()}}function ont(e,t,n,r){const i=r.component.layoutSize.get("width"),o=r.component.layoutSize.get("height");if(t===void 0?(t={type:"pad"},r.hasAxisOrientSignalRef()&&(t.resize=!0)):ue(t)&&(t={type:t}),i&&o&&wJe(t.type)){if(i==="step"&&o==="step")Z(_V()),t.type="pad";else if(i==="step"||o==="step"){const s=i==="step"?"width":"height";Z(_V(l_(s)));const a=s==="width"?"height":"width";t.type=SJe(a)}}return{...X(t).length===1&&t.type?t.type==="pad"?{}:{autosize:t.type}:{autosize:t},...eW(n,!1),...eW(e,!0)}}function snt(e,t,n={},r){const i=e.config?AQe(e.config):void 0,o=[].concat(e.assembleSelectionData([]),ctt(e.component.data,n)),s=e.assembleProjections(),a=e.assembleTitle(),l=e.assembleGroupStyle(),u=e.assembleGroupEncodeEntry(!0);let c=e.assembleLayoutSignals();c=c.filter(h=>(h.name==="width"||h.name==="height")&&h.value!==void 0?(t[h.name]=+h.value,!1):!0);const{params:f,...d}=t;return{$schema:"https://vega.github.io/schema/vega/v5.json",...e.description?{description:e.description}:{},...d,...a?{title:a}:{},...l?{style:l}:{},...u?{encode:{update:u}}:{},data:o,...s.length>0?{projections:s}:{},...e.assembleGroup([...c,...e.assembleSelectionTopLevelSignals([]),...Zle(f)]),...i?{config:i}:{},...r?{usermeta:r}:{}}}const ant=OGe.version,lnt=Object.freeze(Object.defineProperty({__proto__:null,accessPathDepth:Ng,accessPathWithDatum:VN,compile:int,contains:ze,deepEqual:Ui,deleteNestedProperty:Ck,duplicate:Pe,entries:Ec,every:jN,fieldIntersection:UN,flatAccessWithDatum:fae,getFirstDefined:an,hasIntersection:BN,hasProperty:K,hash:Be,internalField:pae,isBoolean:K1,isEmpty:vt,isEqual:NGe,isInternalField:gae,isNullOrFalse:_M,isNumeric:n_,keys:X,logicalExpr:qy,mergeDeep:uae,never:lae,normalize:due,normalizeAngle:Q1,omit:yi,pick:Og,prefixGenerator:$M,removePathFromField:Cm,replaceAll:Td,replacePathInField:jo,resetIdCounter:IGe,setEqual:cae,some:Dg,stringify:bt,titleCase:cb,unique:da,uniqueId:hae,vals:tr,varName:zt,version:ant},Symbol.toStringTag,{value:"Module"}));function Ace(e){const[t,n]=/schema\/([\w-]+)\/([\w\.\-]+)\.json$/g.exec(e).slice(1,3);return{library:t,version:n}}var unt="vega-themes",cnt="2.15.0",fnt="Themes for stylized Vega and Vega-Lite visualizations.",dnt=["vega","vega-lite","themes","style"],hnt="BSD-3-Clause",pnt={name:"UW Interactive Data Lab",url:"https://idl.cs.washington.edu"},gnt=[{name:"Emily Gu",url:"https://github.com/emilygu"},{name:"Arvind Satyanarayan",url:"http://arvindsatya.com"},{name:"Jeffrey Heer",url:"https://idl.cs.washington.edu"},{name:"Dominik Moritz",url:"https://www.domoritz.de"}],mnt="build/vega-themes.js",aI="build/vega-themes.module.js",ynt="build/vega-themes.min.js",vnt="build/vega-themes.min.js",bnt="build/vega-themes.module.d.ts",xnt={type:"git",url:"https://github.com/vega/vega-themes.git"},wnt=["src","build"],Snt={prebuild:"yarn clean",build:"rollup -c",clean:"rimraf build && rimraf examples/build","copy:data":"rsync -r node_modules/vega-datasets/data/* examples/data","copy:build":"rsync -r build/* examples/build","deploy:gh":"yarn build && mkdir -p examples/build && rsync -r build/* examples/build && gh-pages -d examples",preversion:"yarn lint",serve:"browser-sync start -s -f build examples --serveStatic examples",start:"yarn build && concurrently --kill-others -n Server,Rollup 'yarn serve' 'rollup -c -w'",format:"eslint . --fix",lint:"eslint .",release:"release-it"},knt={"@babel/core":"^7.24.6","@babel/plugin-transform-runtime":"^7.24.6","@babel/preset-env":"^7.24.6","@babel/preset-typescript":"^7.24.6","@release-it/conventional-changelog":"^8.0.1","@rollup/plugin-json":"^6.1.0","@rollup/plugin-node-resolve":"^15.2.3","@rollup/plugin-terser":"^0.4.4","@typescript-eslint/eslint-plugin":"^7.11.0","@typescript-eslint/parser":"^7.11.0","browser-sync":"^3.0.2",concurrently:"^8.2.2",eslint:"^8.45.0","eslint-config-prettier":"^9.1.0","eslint-plugin-prettier":"^5.1.3","gh-pages":"^6.1.1",prettier:"^3.2.5","release-it":"^17.3.0",rollup:"^4.18.0","rollup-plugin-bundle-size":"^1.0.3","rollup-plugin-ts":"^3.4.5",typescript:"^5.4.5",vega:"^5.25.0","vega-lite":"^5.9.3"},Cnt={vega:"*","vega-lite":"*"},Ent={},_nt={name:unt,version:cnt,description:fnt,keywords:dnt,license:hnt,author:pnt,contributors:gnt,main:mnt,module:aI,unpkg:ynt,jsdelivr:vnt,types:bnt,repository:xnt,files:wnt,scripts:Snt,devDependencies:knt,peerDependencies:Cnt,dependencies:Ent};const Rh="#fff",FW="#888",$nt={background:"#333",view:{stroke:FW},title:{color:Rh,subtitleColor:Rh},style:{"guide-label":{fill:Rh},"guide-title":{fill:Rh}},axis:{domainColor:Rh,gridColor:FW,tickColor:Rh}},of="#4572a7",Ant={background:"#fff",arc:{fill:of},area:{fill:of},line:{stroke:of,strokeWidth:2},path:{stroke:of},rect:{fill:of},shape:{stroke:of},symbol:{fill:of,strokeWidth:1.5,size:50},axis:{bandPosition:.5,grid:!0,gridColor:"#000000",gridOpacity:1,gridWidth:.5,labelPadding:10,tickSize:5,tickWidth:.5},axisBand:{grid:!1,tickExtra:!0},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:50,symbolType:"square"},range:{category:["#4572a7","#aa4643","#8aa453","#71598e","#4598ae","#d98445","#94aace","#d09393","#b9cc98","#a99cbc"]}},sf="#30a2da",VT="#cbcbcb",Tnt="#999",Pnt="#333",RW="#f0f0f0",OW="#333",Mnt={arc:{fill:sf},area:{fill:sf},axis:{domainColor:VT,grid:!0,gridColor:VT,gridWidth:1,labelColor:Tnt,labelFontSize:10,titleColor:Pnt,tickColor:VT,tickSize:10,titleFontSize:14,titlePadding:10,labelPadding:4},axisBand:{grid:!1},background:RW,group:{fill:RW},legend:{labelColor:OW,labelFontSize:11,padding:1,symbolSize:30,symbolType:"square",titleColor:OW,titleFontSize:14,titlePadding:10},line:{stroke:sf,strokeWidth:2},path:{stroke:sf,strokeWidth:.5},rect:{fill:sf},range:{category:["#30a2da","#fc4f30","#e5ae38","#6d904f","#8b8b8b","#b96db8","#ff9e27","#56cc60","#52d2ca","#52689e","#545454","#9fe4f8"],diverging:["#cc0020","#e77866","#f6e7e1","#d6e8ed","#91bfd9","#1d78b5"],heatmap:["#d6e8ed","#cee0e5","#91bfd9","#549cc6","#1d78b5"]},point:{filled:!0,shape:"circle"},shape:{stroke:sf},bar:{binSpacing:2,fill:sf,stroke:null},title:{anchor:"start",fontSize:24,fontWeight:600,offset:20}},af="#000",Fnt={group:{fill:"#e5e5e5"},arc:{fill:af},area:{fill:af},line:{stroke:af},path:{stroke:af},rect:{fill:af},shape:{stroke:af},symbol:{fill:af,size:40},axis:{domain:!1,grid:!0,gridColor:"#FFFFFF",gridOpacity:1,labelColor:"#7F7F7F",labelPadding:4,tickColor:"#7F7F7F",tickSize:5.67,titleFontSize:16,titleFontWeight:"normal"},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:40},range:{category:["#000000","#7F7F7F","#1A1A1A","#999999","#333333","#B0B0B0","#4D4D4D","#C9C9C9","#666666","#DCDCDC"]}},Rnt=22,Ont="normal",DW="Benton Gothic, sans-serif",NW=11.5,Dnt="normal",lf="#82c6df",WT="Benton Gothic Bold, sans-serif",LW="normal",IW=13,b0={"category-6":["#ec8431","#829eb1","#c89d29","#3580b1","#adc839","#ab7fb4"],"fire-7":["#fbf2c7","#f9e39c","#f8d36e","#f4bb6a","#e68a4f","#d15a40","#ab4232"],"fireandice-6":["#e68a4f","#f4bb6a","#f9e39c","#dadfe2","#a6b7c6","#849eae"],"ice-7":["#edefee","#dadfe2","#c4ccd2","#a6b7c6","#849eae","#607785","#47525d"]},Nnt={background:"#ffffff",title:{anchor:"start",color:"#000000",font:WT,fontSize:Rnt,fontWeight:Ont},arc:{fill:lf},area:{fill:lf},line:{stroke:lf,strokeWidth:2},path:{stroke:lf},rect:{fill:lf},shape:{stroke:lf},symbol:{fill:lf,size:30},axis:{labelFont:DW,labelFontSize:NW,labelFontWeight:Dnt,titleFont:WT,titleFontSize:IW,titleFontWeight:LW},axisX:{labelAngle:0,labelPadding:4,tickSize:3},axisY:{labelBaseline:"middle",maxExtent:45,minExtent:45,tickSize:2,titleAlign:"left",titleAngle:0,titleX:-45,titleY:-11},legend:{labelFont:DW,labelFontSize:NW,symbolType:"square",titleFont:WT,titleFontSize:IW,titleFontWeight:LW},range:{category:b0["category-6"],diverging:b0["fireandice-6"],heatmap:b0["fire-7"],ordinal:b0["fire-7"],ramp:b0["fire-7"]}},uf="#ab5787",Xx="#979797",Lnt={background:"#f9f9f9",arc:{fill:uf},area:{fill:uf},line:{stroke:uf},path:{stroke:uf},rect:{fill:uf},shape:{stroke:uf},symbol:{fill:uf,size:30},axis:{domainColor:Xx,domainWidth:.5,gridWidth:.2,labelColor:Xx,tickColor:Xx,tickWidth:.2,titleColor:Xx},axisBand:{grid:!1},axisX:{grid:!0,tickSize:10},axisY:{domain:!1,grid:!0,tickSize:0},legend:{labelFontSize:11,padding:1,symbolSize:30,symbolType:"square"},range:{category:["#ab5787","#51b2e5","#703c5c","#168dd9","#d190b6","#00609f","#d365ba","#154866","#666666","#c4c4c4"]}},cf="#3e5c69",Int={background:"#fff",arc:{fill:cf},area:{fill:cf},line:{stroke:cf},path:{stroke:cf},rect:{fill:cf},shape:{stroke:cf},symbol:{fill:cf},axis:{domainWidth:.5,grid:!0,labelPadding:2,tickSize:5,tickWidth:.5,titleFontWeight:"normal"},axisBand:{grid:!1},axisX:{gridWidth:.2},axisY:{gridDash:[3],gridWidth:.4},legend:{labelFontSize:11,padding:1,symbolType:"square"},range:{category:["#3e5c69","#6793a6","#182429","#0570b0","#3690c0","#74a9cf","#a6bddb","#e2ddf2"]}},fo="#1696d2",zW="#000000",znt="#FFFFFF",Kx="Lato",HT="Lato",jnt="Lato",Bnt="#DEDDDD",Unt=18,x0={"main-colors":["#1696d2","#d2d2d2","#000000","#fdbf11","#ec008b","#55b748","#5c5859","#db2b27"],"shades-blue":["#CFE8F3","#A2D4EC","#73BFE2","#46ABDB","#1696D2","#12719E","#0A4C6A","#062635"],"shades-gray":["#F5F5F5","#ECECEC","#E3E3E3","#DCDBDB","#D2D2D2","#9D9D9D","#696969","#353535"],"shades-yellow":["#FFF2CF","#FCE39E","#FDD870","#FCCB41","#FDBF11","#E88E2D","#CA5800","#843215"],"shades-magenta":["#F5CBDF","#EB99C2","#E46AA7","#E54096","#EC008B","#AF1F6B","#761548","#351123"],"shades-green":["#DCEDD9","#BCDEB4","#98CF90","#78C26D","#55B748","#408941","#2C5C2D","#1A2E19"],"shades-black":["#D5D5D4","#ADABAC","#848081","#5C5859","#332D2F","#262223","#1A1717","#0E0C0D"],"shades-red":["#F8D5D4","#F1AAA9","#E9807D","#E25552","#DB2B27","#A4201D","#6E1614","#370B0A"],"one-group":["#1696d2","#000000"],"two-groups-cat-1":["#1696d2","#000000"],"two-groups-cat-2":["#1696d2","#fdbf11"],"two-groups-cat-3":["#1696d2","#db2b27"],"two-groups-seq":["#a2d4ec","#1696d2"],"three-groups-cat":["#1696d2","#fdbf11","#000000"],"three-groups-seq":["#a2d4ec","#1696d2","#0a4c6a"],"four-groups-cat-1":["#000000","#d2d2d2","#fdbf11","#1696d2"],"four-groups-cat-2":["#1696d2","#ec0008b","#fdbf11","#5c5859"],"four-groups-seq":["#cfe8f3","#73bf42","#1696d2","#0a4c6a"],"five-groups-cat-1":["#1696d2","#fdbf11","#d2d2d2","#ec008b","#000000"],"five-groups-cat-2":["#1696d2","#0a4c6a","#d2d2d2","#fdbf11","#332d2f"],"five-groups-seq":["#cfe8f3","#73bf42","#1696d2","#0a4c6a","#000000"],"six-groups-cat-1":["#1696d2","#ec008b","#fdbf11","#000000","#d2d2d2","#55b748"],"six-groups-cat-2":["#1696d2","#d2d2d2","#ec008b","#fdbf11","#332d2f","#0a4c6a"],"six-groups-seq":["#cfe8f3","#a2d4ec","#73bfe2","#46abdb","#1696d2","#12719e"],"diverging-colors":["#ca5800","#fdbf11","#fdd870","#fff2cf","#cfe8f3","#73bfe2","#1696d2","#0a4c6a"]},Vnt={background:znt,title:{anchor:"start",fontSize:Unt,font:Kx},axisX:{domain:!0,domainColor:zW,domainWidth:1,grid:!1,labelFontSize:12,labelFont:HT,labelAngle:0,tickColor:zW,tickSize:5,titleFontSize:12,titlePadding:10,titleFont:Kx},axisY:{domain:!1,domainWidth:1,grid:!0,gridColor:Bnt,gridWidth:1,labelFontSize:12,labelFont:HT,labelPadding:8,ticks:!1,titleFontSize:12,titlePadding:10,titleFont:Kx,titleAngle:0,titleY:-10,titleX:18},legend:{labelFontSize:12,labelFont:HT,symbolSize:100,titleFontSize:12,titlePadding:10,titleFont:Kx,orient:"right",offset:10},view:{stroke:"transparent"},range:{category:x0["six-groups-cat-1"],diverging:x0["diverging-colors"],heatmap:x0["diverging-colors"],ordinal:x0["six-groups-seq"],ramp:x0["shades-blue"]},area:{fill:fo},rect:{fill:fo},line:{color:fo,stroke:fo,strokeWidth:5},trail:{color:fo,stroke:fo,strokeWidth:0,size:1},path:{stroke:fo,strokeWidth:.5},point:{filled:!0},text:{font:jnt,color:fo,fontSize:11,align:"center",fontWeight:400,size:11},style:{bar:{fill:fo,stroke:null}},arc:{fill:fo},shape:{stroke:fo},symbol:{fill:fo,size:30}},ff="#3366CC",jW="#ccc",Qx="Arial, sans-serif",Wnt={arc:{fill:ff},area:{fill:ff},path:{stroke:ff},rect:{fill:ff},shape:{stroke:ff},symbol:{stroke:ff},circle:{fill:ff},background:"#fff",padding:{top:10,right:10,bottom:10,left:10},style:{"guide-label":{font:Qx,fontSize:12},"guide-title":{font:Qx,fontSize:12},"group-title":{font:Qx,fontSize:12}},title:{font:Qx,fontSize:14,fontWeight:"bold",dy:-3,anchor:"start"},axis:{gridColor:jW,tickColor:jW,domain:!1,grid:!0},range:{category:["#4285F4","#DB4437","#F4B400","#0F9D58","#AB47BC","#00ACC1","#FF7043","#9E9D24","#5C6BC0","#F06292","#00796B","#C2185B"],heatmap:["#c6dafc","#5e97f6","#2a56c6"]}},lI=e=>e*(1/3+1),BW=lI(9),UW=lI(10),VW=lI(12),w0="Segoe UI",WW="wf_standard-font, helvetica, arial, sans-serif",HW="#252423",S0="#605E5C",qW="transparent",Hnt="#C8C6C4",Ko="#118DFF",qnt="#12239E",Gnt="#E66C37",Ynt="#6B007B",Xnt="#E044A7",Knt="#744EC2",Qnt="#D9B300",Jnt="#D64550",Tce=Ko,Pce="#DEEFFF",GW=[Pce,Tce],Znt=[Pce,"#c7e4ff","#b0d9ff","#9aceff","#83c3ff","#6cb9ff","#55aeff","#3fa3ff","#2898ff",Tce],ert={view:{stroke:qW},background:qW,font:w0,header:{titleFont:WW,titleFontSize:VW,titleColor:HW,labelFont:w0,labelFontSize:UW,labelColor:S0},axis:{ticks:!1,grid:!1,domain:!1,labelColor:S0,labelFontSize:BW,titleFont:WW,titleColor:HW,titleFontSize:VW,titleFontWeight:"normal"},axisQuantitative:{tickCount:3,grid:!0,gridColor:Hnt,gridDash:[1,5],labelFlush:!1},axisBand:{tickExtra:!0},axisX:{labelPadding:5},axisY:{labelPadding:10},bar:{fill:Ko},line:{stroke:Ko,strokeWidth:3,strokeCap:"round",strokeJoin:"round"},text:{font:w0,fontSize:BW,fill:S0},arc:{fill:Ko},area:{fill:Ko,line:!0,opacity:.6},path:{stroke:Ko},rect:{fill:Ko},point:{fill:Ko,filled:!0,size:75},shape:{stroke:Ko},symbol:{fill:Ko,strokeWidth:1.5,size:50},legend:{titleFont:w0,titleFontWeight:"bold",titleColor:S0,labelFont:w0,labelFontSize:UW,labelColor:S0,symbolType:"circle",symbolSize:75},range:{category:[Ko,qnt,Gnt,Ynt,Xnt,Knt,Qnt,Jnt],diverging:GW,heatmap:GW,ordinal:Znt}},qT='IBM Plex Sans,system-ui,-apple-system,BlinkMacSystemFont,".sfnstext-regular",sans-serif',trt='IBM Plex Sans Condensed, system-ui, -apple-system, BlinkMacSystemFont, ".SFNSText-Regular", sans-serif',GT=400,Jx={textPrimary:{g90:"#f4f4f4",g100:"#f4f4f4",white:"#161616",g10:"#161616"},textSecondary:{g90:"#c6c6c6",g100:"#c6c6c6",white:"#525252",g10:"#525252"},layerAccent01:{white:"#e0e0e0",g10:"#e0e0e0",g90:"#525252",g100:"#393939"},gridBg:{white:"#ffffff",g10:"#ffffff",g90:"#161616",g100:"#161616"}},nrt=["#8a3ffc","#33b1ff","#007d79","#ff7eb6","#fa4d56","#fff1f1","#6fdc8c","#4589ff","#d12771","#d2a106","#08bdba","#bae6ff","#ba4e00","#d4bbff"],rrt=["#6929c4","#1192e8","#005d5d","#9f1853","#fa4d56","#570408","#198038","#002d9c","#ee538b","#b28600","#009d9a","#012749","#8a3800","#a56eff"];function H_({theme:e,background:t}){const n=["white","g10"].includes(e)?"light":"dark",r=Jx.gridBg[e],i=Jx.textPrimary[e],o=Jx.textSecondary[e],s=n==="dark"?nrt:rrt,a=n==="dark"?"#d4bbff":"#6929c4";return{background:t,arc:{fill:a},area:{fill:a},path:{stroke:a},rect:{fill:a},shape:{stroke:a},symbol:{stroke:a},circle:{fill:a},view:{fill:r,stroke:r},group:{fill:r},title:{color:i,anchor:"start",dy:-15,fontSize:16,font:qT,fontWeight:600},axis:{labelColor:o,labelFontSize:12,labelFont:trt,labelFontWeight:GT,titleColor:i,titleFontWeight:600,titleFontSize:12,grid:!0,gridColor:Jx.layerAccent01[e],labelAngle:0},axisX:{titlePadding:10},axisY:{titlePadding:2.5},style:{"guide-label":{font:qT,fill:o,fontWeight:GT},"guide-title":{font:qT,fill:o,fontWeight:GT}},range:{category:s,diverging:["#750e13","#a2191f","#da1e28","#fa4d56","#ff8389","#ffb3b8","#ffd7d9","#fff1f1","#e5f6ff","#bae6ff","#82cfff","#33b1ff","#1192e8","#0072c3","#00539a","#003a6d"],heatmap:["#f6f2ff","#e8daff","#d4bbff","#be95ff","#a56eff","#8a3ffc","#6929c4","#491d8b","#31135e","#1c0f30"]}}}const irt=H_({theme:"white",background:"#ffffff"}),ort=H_({theme:"g10",background:"#f4f4f4"}),srt=H_({theme:"g90",background:"#262626"}),art=H_({theme:"g100",background:"#161616"}),lrt=_nt.version,urt=Object.freeze(Object.defineProperty({__proto__:null,carbong10:ort,carbong100:art,carbong90:srt,carbonwhite:irt,dark:$nt,excel:Ant,fivethirtyeight:Mnt,ggplot2:Fnt,googlecharts:Wnt,latimes:Nnt,powerbi:ert,quartz:Lnt,urbaninstitute:Vnt,version:lrt,vox:Int},Symbol.toStringTag,{value:"Module"}));function crt(e,t,n,r){if(Y(e))return`[${e.map(i=>t(ue(i)?i:YW(i,n))).join(", ")}]`;if(se(e)){let i="";const{title:o,image:s,...a}=e;o&&(i+=`<h2>${t(o)}</h2>`),s&&(i+=`<img src="${new URL(t(s),r||location.href).href}">`);const l=Object.keys(a);if(l.length>0){i+="<table>";for(const u of l){let c=a[u];c!==void 0&&(se(c)&&(c=YW(c,n)),i+=`<tr><td class="key">${t(u)}</td><td class="value">${t(c)}</td></tr>`)}i+="</table>"}return i||"{}"}return t(e)}function frt(e){const t=[];return function(n,r){if(typeof r!="object"||r===null)return r;const i=t.indexOf(this)+1;return t.length=i,t.length>e?"[Object]":t.indexOf(r)>=0?"[Circular]":(t.push(r),r)}}function YW(e,t){return JSON.stringify(e,frt(t))}var drt=`#vg-tooltip-element {
  visibility: hidden;
  padding: 8px;
  position: fixed;
  z-index: 1000;
  font-family: sans-serif;
  font-size: 11px;
  border-radius: 3px;
  box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
  /* The default theme is the light theme. */
  background-color: rgba(255, 255, 255, 0.95);
  border: 1px solid #d9d9d9;
  color: black;
}
#vg-tooltip-element.visible {
  visibility: visible;
}
#vg-tooltip-element h2 {
  margin-top: 0;
  margin-bottom: 10px;
  font-size: 13px;
}
#vg-tooltip-element table {
  border-spacing: 0;
}
#vg-tooltip-element table tr {
  border: none;
}
#vg-tooltip-element table tr td {
  overflow: hidden;
  text-overflow: ellipsis;
  padding-top: 2px;
  padding-bottom: 2px;
}
#vg-tooltip-element table tr td.key {
  color: #808080;
  max-width: 150px;
  text-align: right;
  padding-right: 4px;
}
#vg-tooltip-element table tr td.value {
  display: block;
  max-width: 300px;
  max-height: 7em;
  text-align: left;
}
#vg-tooltip-element.dark-theme {
  background-color: rgba(32, 32, 32, 0.9);
  border: 1px solid #f5f5f5;
  color: white;
}
#vg-tooltip-element.dark-theme td.key {
  color: #bfbfbf;
}
`;const Mce="vg-tooltip-element",hrt={offsetX:10,offsetY:10,id:Mce,styleId:"vega-tooltip-style",theme:"light",disableDefaultStyle:!1,sanitize:prt,maxDepth:2,formatTooltip:crt,baseURL:""};function prt(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;")}function grt(e){if(!/^[A-Za-z]+[-:.\w]*$/.test(e))throw new Error("Invalid HTML ID");return drt.toString().replace(Mce,e)}function mrt(e,t,n,r){let i=e.clientX+n;i+t.width>window.innerWidth&&(i=+e.clientX-n-t.width);let o=e.clientY+r;return o+t.height>window.innerHeight&&(o=+e.clientY-r-t.height),{x:i,y:o}}class Fce{constructor(t){this.options={...hrt,...t};const n=this.options.id;if(this.el=null,this.call=this.tooltipHandler.bind(this),!this.options.disableDefaultStyle&&!document.getElementById(this.options.styleId)){const r=document.createElement("style");r.setAttribute("id",this.options.styleId),r.innerHTML=grt(n);const i=document.head;i.childNodes.length>0?i.insertBefore(r,i.childNodes[0]):i.appendChild(r)}}tooltipHandler(t,n,r,i){if(this.el=document.getElementById(this.options.id),this.el||(this.el=document.createElement("div"),this.el.setAttribute("id",this.options.id),this.el.classList.add("vg-tooltip"),(document.fullscreenElement??document.body).appendChild(this.el)),i==null||i===""){this.el.classList.remove("visible",`${this.options.theme}-theme`);return}this.el.innerHTML=this.options.formatTooltip(i,this.options.sanitize,this.options.maxDepth,this.options.baseURL),this.el.classList.add("visible",`${this.options.theme}-theme`);const{x:o,y:s}=mrt(n,this.el.getBoundingClientRect(),this.options.offsetX,this.options.offsetY);this.el.style.top=`${s}px`,this.el.style.left=`${o}px`}}var YT={};function yrt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}class vrt{constructor(){this.max=1e3,this.map=new Map}get(t){const n=this.map.get(t);if(n!==void 0)return this.map.delete(t),this.map.set(t,n),n}delete(t){return this.map.delete(t)}set(t,n){if(!this.delete(t)&&n!==void 0){if(this.map.size>=this.max){const i=this.map.keys().next().value;this.delete(i)}this.map.set(t,n)}return this}}var brt=vrt;const xrt=Object.freeze({loose:!0}),wrt=Object.freeze({}),Srt=e=>e?typeof e!="object"?xrt:e:wrt;var uI=Srt,JM={exports:{}};const krt="2.0.0",Rce=256,Crt=Number.MAX_SAFE_INTEGER||9007199254740991,Ert=16,_rt=Rce-6,$rt=["major","premajor","minor","preminor","patch","prepatch","prerelease"];var cI={MAX_LENGTH:Rce,MAX_SAFE_COMPONENT_LENGTH:Ert,MAX_SAFE_BUILD_LENGTH:_rt,MAX_SAFE_INTEGER:Crt,RELEASE_TYPES:$rt,SEMVER_SPEC_VERSION:krt,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2};const Art=typeof process=="object"&&YT&&YT.NODE_DEBUG&&/\bsemver\b/i.test(YT.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};var q_=Art;(function(e,t){const{MAX_SAFE_COMPONENT_LENGTH:n,MAX_SAFE_BUILD_LENGTH:r,MAX_LENGTH:i}=cI,o=q_;t=e.exports={};const s=t.re=[],a=t.safeRe=[],l=t.src=[],u=t.t={};let c=0;const f="[a-zA-Z0-9-]",d=[["\\s",1],["\\d",i],[f,r]],h=g=>{for(const[m,y]of d)g=g.split(`${m}*`).join(`${m}{0,${y}}`).split(`${m}+`).join(`${m}{1,${y}}`);return g},p=(g,m,y)=>{const v=h(m),b=c++;o(g,b,m),u[g]=b,l[b]=m,s[b]=new RegExp(m,y?"g":void 0),a[b]=new RegExp(v,y?"g":void 0)};p("NUMERICIDENTIFIER","0|[1-9]\\d*"),p("NUMERICIDENTIFIERLOOSE","\\d+"),p("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${f}*`),p("MAINVERSION",`(${l[u.NUMERICIDENTIFIER]})\\.(${l[u.NUMERICIDENTIFIER]})\\.(${l[u.NUMERICIDENTIFIER]})`),p("MAINVERSIONLOOSE",`(${l[u.NUMERICIDENTIFIERLOOSE]})\\.(${l[u.NUMERICIDENTIFIERLOOSE]})\\.(${l[u.NUMERICIDENTIFIERLOOSE]})`),p("PRERELEASEIDENTIFIER",`(?:${l[u.NUMERICIDENTIFIER]}|${l[u.NONNUMERICIDENTIFIER]})`),p("PRERELEASEIDENTIFIERLOOSE",`(?:${l[u.NUMERICIDENTIFIERLOOSE]}|${l[u.NONNUMERICIDENTIFIER]})`),p("PRERELEASE",`(?:-(${l[u.PRERELEASEIDENTIFIER]}(?:\\.${l[u.PRERELEASEIDENTIFIER]})*))`),p("PRERELEASELOOSE",`(?:-?(${l[u.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${l[u.PRERELEASEIDENTIFIERLOOSE]})*))`),p("BUILDIDENTIFIER",`${f}+`),p("BUILD",`(?:\\+(${l[u.BUILDIDENTIFIER]}(?:\\.${l[u.BUILDIDENTIFIER]})*))`),p("FULLPLAIN",`v?${l[u.MAINVERSION]}${l[u.PRERELEASE]}?${l[u.BUILD]}?`),p("FULL",`^${l[u.FULLPLAIN]}$`),p("LOOSEPLAIN",`[v=\\s]*${l[u.MAINVERSIONLOOSE]}${l[u.PRERELEASELOOSE]}?${l[u.BUILD]}?`),p("LOOSE",`^${l[u.LOOSEPLAIN]}$`),p("GTLT","((?:<|>)?=?)"),p("XRANGEIDENTIFIERLOOSE",`${l[u.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),p("XRANGEIDENTIFIER",`${l[u.NUMERICIDENTIFIER]}|x|X|\\*`),p("XRANGEPLAIN",`[v=\\s]*(${l[u.XRANGEIDENTIFIER]})(?:\\.(${l[u.XRANGEIDENTIFIER]})(?:\\.(${l[u.XRANGEIDENTIFIER]})(?:${l[u.PRERELEASE]})?${l[u.BUILD]}?)?)?`),p("XRANGEPLAINLOOSE",`[v=\\s]*(${l[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[u.XRANGEIDENTIFIERLOOSE]})(?:${l[u.PRERELEASELOOSE]})?${l[u.BUILD]}?)?)?`),p("XRANGE",`^${l[u.GTLT]}\\s*${l[u.XRANGEPLAIN]}$`),p("XRANGELOOSE",`^${l[u.GTLT]}\\s*${l[u.XRANGEPLAINLOOSE]}$`),p("COERCEPLAIN",`(^|[^\\d])(\\d{1,${n}})(?:\\.(\\d{1,${n}}))?(?:\\.(\\d{1,${n}}))?`),p("COERCE",`${l[u.COERCEPLAIN]}(?:$|[^\\d])`),p("COERCEFULL",l[u.COERCEPLAIN]+`(?:${l[u.PRERELEASE]})?(?:${l[u.BUILD]})?(?:$|[^\\d])`),p("COERCERTL",l[u.COERCE],!0),p("COERCERTLFULL",l[u.COERCEFULL],!0),p("LONETILDE","(?:~>?)"),p("TILDETRIM",`(\\s*)${l[u.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",p("TILDE",`^${l[u.LONETILDE]}${l[u.XRANGEPLAIN]}$`),p("TILDELOOSE",`^${l[u.LONETILDE]}${l[u.XRANGEPLAINLOOSE]}$`),p("LONECARET","(?:\\^)"),p("CARETTRIM",`(\\s*)${l[u.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",p("CARET",`^${l[u.LONECARET]}${l[u.XRANGEPLAIN]}$`),p("CARETLOOSE",`^${l[u.LONECARET]}${l[u.XRANGEPLAINLOOSE]}$`),p("COMPARATORLOOSE",`^${l[u.GTLT]}\\s*(${l[u.LOOSEPLAIN]})$|^$`),p("COMPARATOR",`^${l[u.GTLT]}\\s*(${l[u.FULLPLAIN]})$|^$`),p("COMPARATORTRIM",`(\\s*)${l[u.GTLT]}\\s*(${l[u.LOOSEPLAIN]}|${l[u.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",p("HYPHENRANGE",`^\\s*(${l[u.XRANGEPLAIN]})\\s+-\\s+(${l[u.XRANGEPLAIN]})\\s*$`),p("HYPHENRANGELOOSE",`^\\s*(${l[u.XRANGEPLAINLOOSE]})\\s+-\\s+(${l[u.XRANGEPLAINLOOSE]})\\s*$`),p("STAR","(<|>)?=?\\s*\\*"),p("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),p("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(JM,JM.exports);var fI=JM.exports;const XW=/^[0-9]+$/,Oce=(e,t)=>{const n=XW.test(e),r=XW.test(t);return n&&r&&(e=+e,t=+t),e===t?0:n&&!r?-1:r&&!n?1:e<t?-1:1},Trt=(e,t)=>Oce(t,e);var Prt={compareIdentifiers:Oce,rcompareIdentifiers:Trt};const Zx=q_,{MAX_LENGTH:KW,MAX_SAFE_INTEGER:ew}=cI,{safeRe:QW,t:JW}=fI,Mrt=uI,{compareIdentifiers:Oh}=Prt;let Frt=class Ys{constructor(t,n){if(n=Mrt(n),t instanceof Ys){if(t.loose===!!n.loose&&t.includePrerelease===!!n.includePrerelease)return t;t=t.version}else if(typeof t!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof t}".`);if(t.length>KW)throw new TypeError(`version is longer than ${KW} characters`);Zx("SemVer",t,n),this.options=n,this.loose=!!n.loose,this.includePrerelease=!!n.includePrerelease;const r=t.trim().match(n.loose?QW[JW.LOOSE]:QW[JW.FULL]);if(!r)throw new TypeError(`Invalid Version: ${t}`);if(this.raw=t,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>ew||this.major<0)throw new TypeError("Invalid major version");if(this.minor>ew||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>ew||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){const o=+i;if(o>=0&&o<ew)return o}return i}):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(t){if(Zx("SemVer.compare",this.version,this.options,t),!(t instanceof Ys)){if(typeof t=="string"&&t===this.version)return 0;t=new Ys(t,this.options)}return t.version===this.version?0:this.compareMain(t)||this.comparePre(t)}compareMain(t){return t instanceof Ys||(t=new Ys(t,this.options)),Oh(this.major,t.major)||Oh(this.minor,t.minor)||Oh(this.patch,t.patch)}comparePre(t){if(t instanceof Ys||(t=new Ys(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;let n=0;do{const r=this.prerelease[n],i=t.prerelease[n];if(Zx("prerelease compare",n,r,i),r===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(r===void 0)return-1;if(r===i)continue;return Oh(r,i)}while(++n)}compareBuild(t){t instanceof Ys||(t=new Ys(t,this.options));let n=0;do{const r=this.build[n],i=t.build[n];if(Zx("build compare",n,r,i),r===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(r===void 0)return-1;if(r===i)continue;return Oh(r,i)}while(++n)}inc(t,n,r){switch(t){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",n,r);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",n,r);break;case"prepatch":this.prerelease.length=0,this.inc("patch",n,r),this.inc("pre",n,r);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",n,r),this.inc("pre",n,r);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const i=Number(r)?1:0;if(!n&&r===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[i];else{let o=this.prerelease.length;for(;--o>=0;)typeof this.prerelease[o]=="number"&&(this.prerelease[o]++,o=-2);if(o===-1){if(n===this.prerelease.join(".")&&r===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(i)}}if(n){let o=[n,i];r===!1&&(o=[n]),Oh(this.prerelease[0],n)===0?isNaN(this.prerelease[1])&&(this.prerelease=o):this.prerelease=o}break}default:throw new Error(`invalid increment argument: ${t}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};var dI=Frt;const ZW=dI,Rrt=(e,t,n)=>new ZW(e,n).compare(new ZW(t,n));var Fm=Rrt;const Ort=Fm,Drt=(e,t,n)=>Ort(e,t,n)===0;var Nrt=Drt;const Lrt=Fm,Irt=(e,t,n)=>Lrt(e,t,n)!==0;var zrt=Irt;const jrt=Fm,Brt=(e,t,n)=>jrt(e,t,n)>0;var Urt=Brt;const Vrt=Fm,Wrt=(e,t,n)=>Vrt(e,t,n)>=0;var Hrt=Wrt;const qrt=Fm,Grt=(e,t,n)=>qrt(e,t,n)<0;var Yrt=Grt;const Xrt=Fm,Krt=(e,t,n)=>Xrt(e,t,n)<=0;var Qrt=Krt;const Jrt=Nrt,Zrt=zrt,eit=Urt,tit=Hrt,nit=Yrt,rit=Qrt,iit=(e,t,n,r)=>{switch(t){case"===":return typeof e=="object"&&(e=e.version),typeof n=="object"&&(n=n.version),e===n;case"!==":return typeof e=="object"&&(e=e.version),typeof n=="object"&&(n=n.version),e!==n;case"":case"=":case"==":return Jrt(e,n,r);case"!=":return Zrt(e,n,r);case">":return eit(e,n,r);case">=":return tit(e,n,r);case"<":return nit(e,n,r);case"<=":return rit(e,n,r);default:throw new TypeError(`Invalid operator: ${t}`)}};var oit=iit,XT,eH;function sit(){if(eH)return XT;eH=1;const e=Symbol("SemVer ANY");class t{static get ANY(){return e}constructor(c,f){if(f=n(f),c instanceof t){if(c.loose===!!f.loose)return c;c=c.value}c=c.trim().split(/\s+/).join(" "),s("comparator",c,f),this.options=f,this.loose=!!f.loose,this.parse(c),this.semver===e?this.value="":this.value=this.operator+this.semver.version,s("comp",this)}parse(c){const f=this.options.loose?r[i.COMPARATORLOOSE]:r[i.COMPARATOR],d=c.match(f);if(!d)throw new TypeError(`Invalid comparator: ${c}`);this.operator=d[1]!==void 0?d[1]:"",this.operator==="="&&(this.operator=""),d[2]?this.semver=new a(d[2],this.options.loose):this.semver=e}toString(){return this.value}test(c){if(s("Comparator.test",c,this.options.loose),this.semver===e||c===e)return!0;if(typeof c=="string")try{c=new a(c,this.options)}catch{return!1}return o(c,this.operator,this.semver,this.options)}intersects(c,f){if(!(c instanceof t))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new l(c.value,f).test(this.value):c.operator===""?c.value===""?!0:new l(this.value,f).test(c.semver):(f=n(f),f.includePrerelease&&(this.value==="<0.0.0-0"||c.value==="<0.0.0-0")||!f.includePrerelease&&(this.value.startsWith("<0.0.0")||c.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&c.operator.startsWith(">")||this.operator.startsWith("<")&&c.operator.startsWith("<")||this.semver.version===c.semver.version&&this.operator.includes("=")&&c.operator.includes("=")||o(this.semver,"<",c.semver,f)&&this.operator.startsWith(">")&&c.operator.startsWith("<")||o(this.semver,">",c.semver,f)&&this.operator.startsWith("<")&&c.operator.startsWith(">")))}}XT=t;const n=uI,{safeRe:r,t:i}=fI,o=oit,s=q_,a=dI,l=Dce();return XT}var KT,tH;function Dce(){if(tH)return KT;tH=1;class e{constructor(R,_){if(_=r(_),R instanceof e)return R.loose===!!_.loose&&R.includePrerelease===!!_.includePrerelease?R:new e(R.raw,_);if(R instanceof i)return this.raw=R.value,this.set=[[R]],this.format(),this;if(this.options=_,this.loose=!!_.loose,this.includePrerelease=!!_.includePrerelease,this.raw=R.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map(P=>this.parseRange(P.trim())).filter(P=>P.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const P=this.set[0];if(this.set=this.set.filter(N=>!p(N[0])),this.set.length===0)this.set=[P];else if(this.set.length>1){for(const N of this.set)if(N.length===1&&g(N[0])){this.set=[N];break}}}this.format()}format(){return this.range=this.set.map(R=>R.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(R){const P=((this.options.includePrerelease&&d)|(this.options.loose&&h))+":"+R,N=n.get(P);if(N)return N;const D=this.options.loose,I=D?a[l.HYPHENRANGELOOSE]:a[l.HYPHENRANGE];R=R.replace(I,T(this.options.includePrerelease)),o("hyphen replace",R),R=R.replace(a[l.COMPARATORTRIM],u),o("comparator trim",R),R=R.replace(a[l.TILDETRIM],c),o("tilde trim",R),R=R.replace(a[l.CARETTRIM],f),o("caret trim",R);let U=R.split(" ").map(ye=>y(ye,this.options)).join(" ").split(/\s+/).map(ye=>A(ye,this.options));D&&(U=U.filter(ye=>(o("loose invalid filter",ye,this.options),!!ye.match(a[l.COMPARATORLOOSE])))),o("range list",U);const V=new Map,oe=U.map(ye=>new i(ye,this.options));for(const ye of oe){if(p(ye))return[ye];V.set(ye.value,ye)}V.size>1&&V.has("")&&V.delete("");const Q=[...V.values()];return n.set(P,Q),Q}intersects(R,_){if(!(R instanceof e))throw new TypeError("a Range is required");return this.set.some(P=>m(P,_)&&R.set.some(N=>m(N,_)&&P.every(D=>N.every(I=>D.intersects(I,_)))))}test(R){if(!R)return!1;if(typeof R=="string")try{R=new s(R,this.options)}catch{return!1}for(let _=0;_<this.set.length;_++)if(L(this.set[_],R,this.options))return!0;return!1}}KT=e;const t=brt,n=new t,r=uI,i=sit(),o=q_,s=dI,{safeRe:a,t:l,comparatorTrimReplace:u,tildeTrimReplace:c,caretTrimReplace:f}=fI,{FLAG_INCLUDE_PRERELEASE:d,FLAG_LOOSE:h}=cI,p=F=>F.value==="<0.0.0-0",g=F=>F.value==="",m=(F,R)=>{let _=!0;const P=F.slice();let N=P.pop();for(;_&&P.length;)_=P.every(D=>N.intersects(D,R)),N=P.pop();return _},y=(F,R)=>(o("comp",F,R),F=w(F,R),o("caret",F),F=b(F,R),o("tildes",F),F=S(F,R),o("xrange",F),F=E(F,R),o("stars",F),F),v=F=>!F||F.toLowerCase()==="x"||F==="*",b=(F,R)=>F.trim().split(/\s+/).map(_=>x(_,R)).join(" "),x=(F,R)=>{const _=R.loose?a[l.TILDELOOSE]:a[l.TILDE];return F.replace(_,(P,N,D,I,U)=>{o("tilde",F,P,N,D,I,U);let V;return v(N)?V="":v(D)?V=`>=${N}.0.0 <${+N+1}.0.0-0`:v(I)?V=`>=${N}.${D}.0 <${N}.${+D+1}.0-0`:U?(o("replaceTilde pr",U),V=`>=${N}.${D}.${I}-${U} <${N}.${+D+1}.0-0`):V=`>=${N}.${D}.${I} <${N}.${+D+1}.0-0`,o("tilde return",V),V})},w=(F,R)=>F.trim().split(/\s+/).map(_=>k(_,R)).join(" "),k=(F,R)=>{o("caret",F,R);const _=R.loose?a[l.CARETLOOSE]:a[l.CARET],P=R.includePrerelease?"-0":"";return F.replace(_,(N,D,I,U,V)=>{o("caret",F,N,D,I,U,V);let oe;return v(D)?oe="":v(I)?oe=`>=${D}.0.0${P} <${+D+1}.0.0-0`:v(U)?D==="0"?oe=`>=${D}.${I}.0${P} <${D}.${+I+1}.0-0`:oe=`>=${D}.${I}.0${P} <${+D+1}.0.0-0`:V?(o("replaceCaret pr",V),D==="0"?I==="0"?oe=`>=${D}.${I}.${U}-${V} <${D}.${I}.${+U+1}-0`:oe=`>=${D}.${I}.${U}-${V} <${D}.${+I+1}.0-0`:oe=`>=${D}.${I}.${U}-${V} <${+D+1}.0.0-0`):(o("no pr"),D==="0"?I==="0"?oe=`>=${D}.${I}.${U}${P} <${D}.${I}.${+U+1}-0`:oe=`>=${D}.${I}.${U}${P} <${D}.${+I+1}.0-0`:oe=`>=${D}.${I}.${U} <${+D+1}.0.0-0`),o("caret return",oe),oe})},S=(F,R)=>(o("replaceXRanges",F,R),F.split(/\s+/).map(_=>C(_,R)).join(" ")),C=(F,R)=>{F=F.trim();const _=R.loose?a[l.XRANGELOOSE]:a[l.XRANGE];return F.replace(_,(P,N,D,I,U,V)=>{o("xRange",F,P,N,D,I,U,V);const oe=v(D),Q=oe||v(I),ye=Q||v(U),Oe=ye;return N==="="&&Oe&&(N=""),V=R.includePrerelease?"-0":"",oe?N===">"||N==="<"?P="<0.0.0-0":P="*":N&&Oe?(Q&&(I=0),U=0,N===">"?(N=">=",Q?(D=+D+1,I=0,U=0):(I=+I+1,U=0)):N==="<="&&(N="<",Q?D=+D+1:I=+I+1),N==="<"&&(V="-0"),P=`${N+D}.${I}.${U}${V}`):Q?P=`>=${D}.0.0${V} <${+D+1}.0.0-0`:ye&&(P=`>=${D}.${I}.0${V} <${D}.${+I+1}.0-0`),o("xRange return",P),P})},E=(F,R)=>(o("replaceStars",F,R),F.trim().replace(a[l.STAR],"")),A=(F,R)=>(o("replaceGTE0",F,R),F.trim().replace(a[R.includePrerelease?l.GTE0PRE:l.GTE0],"")),T=F=>(R,_,P,N,D,I,U,V,oe,Q,ye,Oe)=>(v(P)?_="":v(N)?_=`>=${P}.0.0${F?"-0":""}`:v(D)?_=`>=${P}.${N}.0${F?"-0":""}`:I?_=`>=${_}`:_=`>=${_}${F?"-0":""}`,v(oe)?V="":v(Q)?V=`<${+oe+1}.0.0-0`:v(ye)?V=`<${oe}.${+Q+1}.0-0`:Oe?V=`<=${oe}.${Q}.${ye}-${Oe}`:F?V=`<${oe}.${Q}.${+ye+1}-0`:V=`<=${V}`,`${_} ${V}`.trim()),L=(F,R,_)=>{for(let P=0;P<F.length;P++)if(!F[P].test(R))return!1;if(R.prerelease.length&&!_.includePrerelease){for(let P=0;P<F.length;P++)if(o(F[P].semver),F[P].semver!==i.ANY&&F[P].semver.prerelease.length>0){const N=F[P].semver;if(N.major===R.major&&N.minor===R.minor&&N.patch===R.patch)return!0}return!1}return!0};return KT}const ait=Dce(),lit=(e,t,n)=>{try{t=new ait(t,n)}catch{return!1}return t.test(e)};var uit=lit,Nce=yrt(uit);function cit(e,t,n){const r=e.open(t),i=1e4,o=250,{origin:s}=new URL(t);let a=~~(i/o);function l(c){c.source===r&&(a=0,e.removeEventListener("message",l,!1))}e.addEventListener("message",l,!1);function u(){a<=0||(r.postMessage(n,s),setTimeout(u,o),a-=1)}setTimeout(u,o)}var fit=`.vega-embed {
  position: relative;
  display: inline-block;
  box-sizing: border-box;
}
.vega-embed.has-actions {
  padding-right: 38px;
}
.vega-embed details:not([open]) > :not(summary) {
  display: none !important;
}
.vega-embed summary {
  list-style: none;
  position: absolute;
  top: 0;
  right: 0;
  padding: 6px;
  z-index: 1000;
  background: white;
  box-shadow: 1px 1px 3px rgba(0, 0, 0, 0.1);
  color: #1b1e23;
  border: 1px solid #aaa;
  border-radius: 999px;
  opacity: 0.2;
  transition: opacity 0.4s ease-in;
  cursor: pointer;
  line-height: 0px;
}
.vega-embed summary::-webkit-details-marker {
  display: none;
}
.vega-embed summary:active {
  box-shadow: #aaa 0px 0px 0px 1px inset;
}
.vega-embed summary svg {
  width: 14px;
  height: 14px;
}
.vega-embed details[open] summary {
  opacity: 0.7;
}
.vega-embed:hover summary, .vega-embed:focus-within summary {
  opacity: 1 !important;
  transition: opacity 0.2s ease;
}
.vega-embed .vega-actions {
  position: absolute;
  z-index: 1001;
  top: 35px;
  right: -9px;
  display: flex;
  flex-direction: column;
  padding-bottom: 8px;
  padding-top: 8px;
  border-radius: 4px;
  box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.2);
  border: 1px solid #d9d9d9;
  background: white;
  animation-duration: 0.15s;
  animation-name: scale-in;
  animation-timing-function: cubic-bezier(0.2, 0, 0.13, 1.5);
  text-align: left;
}
.vega-embed .vega-actions a {
  padding: 8px 16px;
  font-family: sans-serif;
  font-size: 14px;
  font-weight: 600;
  white-space: nowrap;
  color: #434a56;
  text-decoration: none;
}
.vega-embed .vega-actions a:hover, .vega-embed .vega-actions a:focus {
  background-color: #f7f7f9;
  color: black;
}
.vega-embed .vega-actions::before, .vega-embed .vega-actions::after {
  content: "";
  display: inline-block;
  position: absolute;
}
.vega-embed .vega-actions::before {
  left: auto;
  right: 14px;
  top: -16px;
  border: 8px solid rgba(0, 0, 0, 0);
  border-bottom-color: #d9d9d9;
}
.vega-embed .vega-actions::after {
  left: auto;
  right: 15px;
  top: -14px;
  border: 7px solid rgba(0, 0, 0, 0);
  border-bottom-color: #fff;
}
.vega-embed .chart-wrapper.fit-x {
  width: 100%;
}
.vega-embed .chart-wrapper.fit-y {
  height: 100%;
}

.vega-embed-wrapper {
  max-width: 100%;
  overflow: auto;
  padding-right: 14px;
}

@keyframes scale-in {
  from {
    opacity: 0;
    transform: scale(0.6);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}
`;function Lce(e,...t){for(const n of t)dit(e,n);return e}function dit(e,t){for(const n of Object.keys(t))cm(e,n,t[n],!0)}const Zo=eGe;let nv=lnt;const tw=typeof window<"u"?window:void 0;var kq;nv===void 0&&((kq=tw==null?void 0:tw.vl)!=null&&kq.compile)&&(nv=tw.vl);const hit={export:{svg:!0,png:!0},source:!0,compiled:!0,editor:!0},pit={CLICK_TO_VIEW_ACTIONS:"Click to view actions",COMPILED_ACTION:"View Compiled Vega",EDITOR_ACTION:"Open in Vega Editor",PNG_ACTION:"Save as PNG",SOURCE_ACTION:"View Source",SVG_ACTION:"Save as SVG"},cy={vega:"Vega","vega-lite":"Vega-Lite"},Ik={vega:Zo.version,"vega-lite":nv?nv.version:"not available"},git={vega:e=>e,"vega-lite":(e,t)=>nv.compile(e,{config:t}).spec},mit=`
<svg viewBox="0 0 16 16" fill="currentColor" stroke="none" stroke-width="1" stroke-linecap="round" stroke-linejoin="round">
  <circle r="2" cy="8" cx="2"></circle>
  <circle r="2" cy="8" cx="8"></circle>
  <circle r="2" cy="8" cx="14"></circle>
</svg>`,yit="chart-wrapper";function vit(e){return typeof e=="function"}function nH(e,t,n,r){const i=`<html><head>${t}</head><body><pre><code class="json">`,o=`</code></pre>${n}</body></html>`,s=window.open("");s.document.write(i+e+o),s.document.title=`${cy[r]} JSON Source`}function bit(e,t){if(e.$schema){const n=Ace(e.$schema);t&&t!==n.library&&console.warn(`The given visualization spec is written in ${cy[n.library]}, but mode argument sets ${cy[t]??t}.`);const r=n.library;return Nce(Ik[r],`^${n.version.slice(1)}`)||console.warn(`The input spec uses ${cy[r]} ${n.version}, but the current version of ${cy[r]} is v${Ik[r]}.`),r}return"mark"in e||"encoding"in e||"layer"in e||"hconcat"in e||"vconcat"in e||"facet"in e||"repeat"in e?"vega-lite":"marks"in e||"signals"in e||"scales"in e||"axes"in e?"vega":t??"vega"}function Ice(e){return!!(e&&"load"in e)}function rH(e){return Ice(e)?e:Zo.loader(e)}function xit(e){var n;const t=((n=e.usermeta)==null?void 0:n.embedOptions)??{};return ue(t.defaultStyle)&&(t.defaultStyle=!1),t}async function zce(e,t,n={}){let r,i;ue(t)?(i=rH(n.loader),r=JSON.parse(await i.load(t))):r=t;const o=xit(r),s=o.loader;(!i||s)&&(i=rH(n.loader??s));const a=await iH(o,i),l=await iH(n,i),u={...Lce(l,a),config:um(l.config??{},a.config??{})};return await Sit(e,r,u,i)}async function iH(e,t){const n=ue(e.config)?JSON.parse(await t.load(e.config)):e.config??{},r=ue(e.patch)?JSON.parse(await t.load(e.patch)):e.patch;return{...e,...r?{patch:r}:{},...n?{config:n}:{}}}function wit(e){const t=e.getRootNode?e.getRootNode():document;return t instanceof ShadowRoot?{root:t,rootContainer:t}:{root:document,rootContainer:document.head??document.body}}async function Sit(e,t,n={},r){const i=n.theme?um(urt[n.theme],n.config??{}):n.config,o=Dc(n.actions)?n.actions:Lce({},hit,n.actions??{}),s={...pit,...n.i18n},a=n.renderer??"canvas",l=n.logLevel??Zo.Warn,u=n.downloadFileName??"visualization",c=typeof e=="string"?document.querySelector(e):e;if(!c)throw new Error(`${e} does not exist`);if(n.defaultStyle!==!1){const w="vega-embed-style",{root:k,rootContainer:S}=wit(c);if(!k.getElementById(w)){const C=document.createElement("style");C.id=w,C.innerHTML=n.defaultStyle===void 0||n.defaultStyle===!0?fit.toString():n.defaultStyle,S.appendChild(C)}}const f=bit(t,n.mode);let d=git[f](t,i);if(f==="vega-lite"&&d.$schema){const w=Ace(d.$schema);Nce(Ik.vega,`^${w.version.slice(1)}`)||console.warn(`The compiled spec uses Vega ${w.version}, but current version is v${Ik.vega}.`)}c.classList.add("vega-embed"),o&&c.classList.add("has-actions"),c.innerHTML="";let h=c;if(o){const w=document.createElement("div");w.classList.add(yit),c.appendChild(w),h=w}const p=n.patch;if(p&&(d=p instanceof Function?p(d):HC(d,p,!0,!1).newDocument),n.formatLocale&&Zo.formatLocale(n.formatLocale),n.timeFormatLocale&&Zo.timeFormatLocale(n.timeFormatLocale),n.expressionFunctions)for(const w in n.expressionFunctions){const k=n.expressionFunctions[w];"fn"in k?Zo.expressionFunction(w,k.fn,k.visitor):k instanceof Function&&Zo.expressionFunction(w,k)}const{ast:g}=n,m=Zo.parse(d,f==="vega-lite"?{}:i,{ast:g}),y=new(n.viewClass||Zo.View)(m,{loader:r,logLevel:l,renderer:a,...g?{expr:Zo.expressionInterpreter??n.expr??cGe}:{}});if(y.addSignalListener("autosize",(w,k)=>{const{type:S}=k;S=="fit-x"?(h.classList.add("fit-x"),h.classList.remove("fit-y")):S=="fit-y"?(h.classList.remove("fit-x"),h.classList.add("fit-y")):S=="fit"?h.classList.add("fit-x","fit-y"):h.classList.remove("fit-x","fit-y")}),n.tooltip!==!1){const{loader:w,tooltip:k}=n,S=w&&!Ice(w)?w==null?void 0:w.baseURL:void 0,C=vit(k)?k:new Fce({baseURL:S,...k===!0?{}:k}).call;y.tooltip(C)}let{hover:v}=n;if(v===void 0&&(v=f==="vega"),v){const{hoverSet:w,updateSet:k}=typeof v=="boolean"?{}:v;y.hover(w,k)}n&&(n.width!=null&&y.width(n.width),n.height!=null&&y.height(n.height),n.padding!=null&&y.padding(n.padding)),await y.initialize(h,n.bind).runAsync();let b;if(o!==!1){let w=c;if(n.defaultStyle!==!1||n.forceActionsMenu){const S=document.createElement("details");S.title=s.CLICK_TO_VIEW_ACTIONS,c.append(S),w=S;const C=document.createElement("summary");C.innerHTML=mit,S.append(C),b=E=>{S.contains(E.target)||S.removeAttribute("open")},document.addEventListener("click",b)}const k=document.createElement("div");if(w.append(k),k.classList.add("vega-actions"),o===!0||o.export!==!1){for(const S of["svg","png"])if(o===!0||o.export===!0||o.export[S]){const C=s[`${S.toUpperCase()}_ACTION`],E=document.createElement("a"),A=se(n.scaleFactor)?n.scaleFactor[S]:n.scaleFactor;E.text=C,E.href="#",E.target="_blank",E.download=`${u}.${S}`,E.addEventListener("mousedown",async function(T){T.preventDefault();const L=await y.toImageURL(S,A);this.href=L}),k.append(E)}}if(o===!0||o.source!==!1){const S=document.createElement("a");S.text=s.SOURCE_ACTION,S.href="#",S.addEventListener("click",function(C){nH(AA(t),n.sourceHeader??"",n.sourceFooter??"",f),C.preventDefault()}),k.append(S)}if(f==="vega-lite"&&(o===!0||o.compiled!==!1)){const S=document.createElement("a");S.text=s.COMPILED_ACTION,S.href="#",S.addEventListener("click",function(C){nH(AA(d),n.sourceHeader??"",n.sourceFooter??"","vega"),C.preventDefault()}),k.append(S)}if(o===!0||o.editor!==!1){const S=n.editorUrl??"https://vega.github.io/editor/",C=document.createElement("a");C.text=s.EDITOR_ACTION,C.href="#",C.addEventListener("click",function(E){cit(window,S,{config:i,mode:p?"vega":f,renderer:a,spec:AA(p?d:t)}),E.preventDefault()}),k.append(C)}}function x(){b&&document.removeEventListener("click",b),y.finalize()}return{view:y,spec:t,vgSpec:d,finalize:x,embedOptions:n}}function jce(e){return`thumbnail@${JSON.stringify(e)}`}async function kit(e,t){const n=Cit(e);if(n)return n;const r=await Eit(e,t);return r&&sessionStorage.setItem(jce(e),r),r}function Cit(e){return sessionStorage.getItem(jce(e))}async function Eit(e,t){if(!("mark"in e)||!e||!t)return;const n={disable:!0,title:"",grid:!1,ticks:!1,labels:!1},r={...e,width:100,height:100,config:{...e.config,mark:{strokeWidth:e.mark==="line"?4:0},legend:{disable:!0},axis:{disable:!0},style:{view:{stroke:"transparent"},cell:{stroke:"transparent"}}},data:{values:t},background:"transparent",title:void 0,encoding:Object.fromEntries(Object.entries(e.encoding??{}).map(([o,s])=>[o,{...s,legend:null,axis:n}]))};return(await(await zce(document.createElement("div"),r,{actions:!1}).then(o=>o.view)).toCanvas()).toDataURL()}function _it(e){try{return new URL(e),!0}catch{return!1}}function Bce(e){try{const n=new URL(e).pathname.split("/"),r=n[n.length-1];return decodeURIComponent(r)}catch{throw new Error("Invalid URL")}}const $it={BASE_URL:"/Swipytics",DEV:!1,MODE:"production",PROD:!0,SSR:!1},oH=e=>{let t;const n=new Set,r=(c,f)=>{const d=typeof c=="function"?c(t):c;if(!Object.is(d,t)){const h=t;t=f??(typeof d!="object"||d===null)?d:Object.assign({},t,d),n.forEach(p=>p(t,h))}},i=()=>t,l={setState:r,getState:i,getInitialState:()=>u,subscribe:c=>(n.add(c),()=>n.delete(c)),destroy:()=>{($it?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},u=t=e(r,i,l);return l},Ait=e=>e?oH(e):oH;var Uce={exports:{}},Vce={},Wce={exports:{}},Hce={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kg=M;function Tit(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Pit=typeof Object.is=="function"?Object.is:Tit,Mit=Kg.useState,Fit=Kg.useEffect,Rit=Kg.useLayoutEffect,Oit=Kg.useDebugValue;function Dit(e,t){var n=t(),r=Mit({inst:{value:n,getSnapshot:t}}),i=r[0].inst,o=r[1];return Rit(function(){i.value=n,i.getSnapshot=t,QT(i)&&o({inst:i})},[e,n,t]),Fit(function(){return QT(i)&&o({inst:i}),e(function(){QT(i)&&o({inst:i})})},[e]),Oit(n),n}function QT(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Pit(e,n)}catch{return!0}}function Nit(e,t){return t()}var Lit=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Nit:Dit;Hce.useSyncExternalStore=Kg.useSyncExternalStore!==void 0?Kg.useSyncExternalStore:Lit;Wce.exports=Hce;var Iit=Wce.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var G_=M,zit=Iit;function jit(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Bit=typeof Object.is=="function"?Object.is:jit,Uit=zit.useSyncExternalStore,Vit=G_.useRef,Wit=G_.useEffect,Hit=G_.useMemo,qit=G_.useDebugValue;Vce.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var o=Vit(null);if(o.current===null){var s={hasValue:!1,value:null};o.current=s}else s=o.current;o=Hit(function(){function l(h){if(!u){if(u=!0,c=h,h=r(h),i!==void 0&&s.hasValue){var p=s.value;if(i(p,h))return f=p}return f=h}if(p=f,Bit(c,h))return p;var g=r(h);return i!==void 0&&i(p,g)?p:(c=h,f=g)}var u=!1,c,f,d=n===void 0?null:n;return[function(){return l(t())},d===null?void 0:function(){return l(d())}]},[t,n,r,i]);var a=Uit(e,o[0],o[1]);return Wit(function(){s.hasValue=!0,s.value=a},[a]),qit(a),a};Uce.exports=Vce;var Git=Uce.exports;const Yit=Da(Git),qce={BASE_URL:"/Swipytics",DEV:!1,MODE:"production",PROD:!0,SSR:!1},{useDebugValue:Xit}=Vi,{useSyncExternalStoreWithSelector:Kit}=Yit;let sH=!1;const Qit=e=>e;function Jit(e,t=Qit,n){(qce?"production":void 0)!=="production"&&n&&!sH&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),sH=!0);const r=Kit(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return Xit(r),r}const aH=e=>{(qce?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?Ait(e):e,n=(r,i)=>Jit(t,r,i);return Object.assign(n,t),n},Y_=e=>e?aH(e):aH,u2={BASE_URL:"/Swipytics",DEV:!1,MODE:"production",PROD:!0,SSR:!1},ZM=new Map,nw=e=>{const t=ZM.get(e);return t?Object.fromEntries(Object.entries(t.stores).map(([n,r])=>[n,r.getState()])):{}},Zit=(e,t,n)=>{if(e===void 0)return{type:"untracked",connection:t.connect(n)};const r=ZM.get(n.name);if(r)return{type:"tracked",store:e,...r};const i={connection:t.connect(n),stores:{}};return ZM.set(n.name,i),{type:"tracked",store:e,...i}},eot=(e,t={})=>(n,r,i)=>{const{enabled:o,anonymousActionType:s,store:a,...l}=t;let u;try{u=(o??(u2?"production":void 0)!=="production")&&window.__REDUX_DEVTOOLS_EXTENSION__}catch{}if(!u)return(u2?"production":void 0)!=="production"&&o&&console.warn("[zustand devtools middleware] Please install/enable Redux devtools extension"),e(n,r,i);const{connection:c,...f}=Zit(a,u,l);let d=!0;i.setState=(g,m,y)=>{const v=n(g,m);if(!d)return v;const b=y===void 0?{type:s||"anonymous"}:typeof y=="string"?{type:y}:y;return a===void 0?(c==null||c.send(b,r()),v):(c==null||c.send({...b,type:`${a}/${b.type}`},{...nw(l.name),[a]:i.getState()}),v)};const h=(...g)=>{const m=d;d=!1,n(...g),d=m},p=e(i.setState,r,i);if(f.type==="untracked"?c==null||c.init(p):(f.stores[f.store]=i,c==null||c.init(Object.fromEntries(Object.entries(f.stores).map(([g,m])=>[g,g===f.store?p:m.getState()])))),i.dispatchFromDevtools&&typeof i.dispatch=="function"){let g=!1;const m=i.dispatch;i.dispatch=(...y)=>{(u2?"production":void 0)!=="production"&&y[0].type==="__setState"&&!g&&(console.warn('[zustand devtools middleware] "__setState" action type is reserved to set state from the devtools. Avoid using it.'),g=!0),m(...y)}}return c.subscribe(g=>{var m;switch(g.type){case"ACTION":if(typeof g.payload!="string"){console.error("[zustand devtools middleware] Unsupported action format");return}return JT(g.payload,y=>{if(y.type==="__setState"){if(a===void 0){h(y.state);return}Object.keys(y.state).length!==1&&console.error(`
                    [zustand devtools middleware] Unsupported __setState action format. 
                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),
                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }
                    `);const v=y.state[a];if(v==null)return;JSON.stringify(i.getState())!==JSON.stringify(v)&&h(v);return}i.dispatchFromDevtools&&typeof i.dispatch=="function"&&i.dispatch(y)});case"DISPATCH":switch(g.payload.type){case"RESET":return h(p),a===void 0?c==null?void 0:c.init(i.getState()):c==null?void 0:c.init(nw(l.name));case"COMMIT":if(a===void 0){c==null||c.init(i.getState());return}return c==null?void 0:c.init(nw(l.name));case"ROLLBACK":return JT(g.state,y=>{if(a===void 0){h(y),c==null||c.init(i.getState());return}h(y[a]),c==null||c.init(nw(l.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return JT(g.state,y=>{if(a===void 0){h(y);return}JSON.stringify(i.getState())!==JSON.stringify(y[a])&&h(y[a])});case"IMPORT_STATE":{const{nextLiftedState:y}=g.payload,v=(m=y.computedStates.slice(-1)[0])==null?void 0:m.state;if(!v)return;h(a===void 0?v:v[a]),c==null||c.send(null,y);return}case"PAUSE_RECORDING":return d=!d}return}}),p},X_=eot,JT=(e,t)=>{let n;try{n=JSON.parse(e)}catch(r){console.error("[zustand devtools middleware] Could not parse the received json",r)}n!==void 0&&t(n)};function tot(e,t){let n;try{n=e()}catch{return}return{getItem:i=>{var o;const s=l=>l===null?null:JSON.parse(l,void 0),a=(o=n.getItem(i))!=null?o:null;return a instanceof Promise?a.then(s):s(a)},setItem:(i,o)=>n.setItem(i,JSON.stringify(o,void 0)),removeItem:i=>n.removeItem(i)}}const rv=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then(r){return rv(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return rv(r)(n)}}}},not=(e,t)=>(n,r,i)=>{let o={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:m=>m,version:0,merge:(m,y)=>({...y,...m}),...t},s=!1;const a=new Set,l=new Set;let u;try{u=o.getStorage()}catch{}if(!u)return e((...m)=>{console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),n(...m)},r,i);const c=rv(o.serialize),f=()=>{const m=o.partialize({...r()});let y;const v=c({state:m,version:o.version}).then(b=>u.setItem(o.name,b)).catch(b=>{y=b});if(y)throw y;return v},d=i.setState;i.setState=(m,y)=>{d(m,y),f()};const h=e((...m)=>{n(...m),f()},r,i);let p;const g=()=>{var m;if(!u)return;s=!1,a.forEach(v=>v(r()));const y=((m=o.onRehydrateStorage)==null?void 0:m.call(o,r()))||void 0;return rv(u.getItem.bind(u))(o.name).then(v=>{if(v)return o.deserialize(v)}).then(v=>{if(v)if(typeof v.version=="number"&&v.version!==o.version){if(o.migrate)return o.migrate(v.state,v.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return v.state}).then(v=>{var b;return p=o.merge(v,(b=r())!=null?b:h),n(p,!0),f()}).then(()=>{y==null||y(p,void 0),s=!0,l.forEach(v=>v(p))}).catch(v=>{y==null||y(void 0,v)})};return i.persist={setOptions:m=>{o={...o,...m},m.getStorage&&(u=m.getStorage())},clearStorage:()=>{u==null||u.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>g(),hasHydrated:()=>s,onHydrate:m=>(a.add(m),()=>{a.delete(m)}),onFinishHydration:m=>(l.add(m),()=>{l.delete(m)})},g(),p||h},rot=(e,t)=>(n,r,i)=>{let o={storage:tot(()=>localStorage),partialize:g=>g,version:0,merge:(g,m)=>({...m,...g}),...t},s=!1;const a=new Set,l=new Set;let u=o.storage;if(!u)return e((...g)=>{console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),n(...g)},r,i);const c=()=>{const g=o.partialize({...r()});return u.setItem(o.name,{state:g,version:o.version})},f=i.setState;i.setState=(g,m)=>{f(g,m),c()};const d=e((...g)=>{n(...g),c()},r,i);i.getInitialState=()=>d;let h;const p=()=>{var g,m;if(!u)return;s=!1,a.forEach(v=>{var b;return v((b=r())!=null?b:d)});const y=((m=o.onRehydrateStorage)==null?void 0:m.call(o,(g=r())!=null?g:d))||void 0;return rv(u.getItem.bind(u))(o.name).then(v=>{if(v)if(typeof v.version=="number"&&v.version!==o.version){if(o.migrate)return[!0,o.migrate(v.state,v.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,v.state];return[!1,void 0]}).then(v=>{var b;const[x,w]=v;if(h=o.merge(w,(b=r())!=null?b:d),n(h,!0),x)return c()}).then(()=>{y==null||y(h,void 0),h=r(),s=!0,l.forEach(v=>v(h))}).catch(v=>{y==null||y(void 0,v)})};return i.persist={setOptions:g=>{o={...o,...g},g.storage&&(u=g.storage)},clearStorage:()=>{u==null||u.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>p(),hasHydrated:()=>s,onHydrate:g=>(a.add(g),()=>{a.delete(g)}),onFinishHydration:g=>(l.add(g),()=>{l.delete(g)})},o.skipHydration||p(),h||d},iot=(e,t)=>"getStorage"in t||"serialize"in t||"deserialize"in t?((u2?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),not(e,t)):rot(e,t),oot=iot,sot={json:e5e,csv:WR},Wl=Y_(X_(e=>({filename:null,fileCache:null,data:void 0,writingFile:!1,writeFile:async t=>{e({writingFile:!0,filename:null,fileCache:null,data:void 0});try{const n=t instanceof File?t.name:Bce(t),r=n.split(".").pop(),o=await(await N3(t)).arrayBuffer(),s=new Uint8Array(o),a=await BR(o,sot[r],{worker:!0,fetch:{mode:"no-cors"}});await Eo.lazyCall("writeFile",{filename:n,fileBuffer:s}),e({filename:n,fileCache:t,data:a,writingFile:!1})}catch(n){console.error(n)}finally{e({writingFile:!1})}}}),{name:"DataStore",anonymousActionType:"DataStore Action",enabled:!1})),lH={likes:0,search:1,fields:2,settings:3},Fs=Y_(X_(e=>({drawerExpanded:!0,setDrawerExpanded:t=>e({drawerExpanded:t}),tabIndex:lH.settings,setTabByIndex:t=>e({tabIndex:t}),setTabByName:t=>e({tabIndex:lH[t]}),searchTargetFieldNames:[],setSearchTargetFieldNames:t=>e(n=>({searchTargetFieldNames:typeof t=="function"?t(n.searchTargetFieldNames):t})),appendSearchTarget:t=>e(n=>({searchTargetFieldNames:[...n.searchTargetFieldNames,t]}))}),{name:"InteractionStore",anonymousActionType:"InteractionStore Action",enabled:!1})),Ct={black:"#000000",white:"#FFFFFF","blackAlpha.50":"rgba(0, 0, 0, 0.04)","blackAlpha.100":"rgba(0, 0, 0, 0.06)","blackAlpha.200":"rgba(0, 0, 0, 0.08)","blackAlpha.300":"rgba(0, 0, 0, 0.16)","blackAlpha.400":"rgba(0, 0, 0, 0.24)","blackAlpha.500":"rgba(0, 0, 0, 0.36)","blackAlpha.600":"rgba(0, 0, 0, 0.48)","blackAlpha.700":"rgba(0, 0, 0, 0.64)","blackAlpha.800":"rgba(0, 0, 0, 0.80)","blackAlpha.900":"rgba(0, 0, 0, 0.92)","whiteAlpha.50":"rgba(255, 255, 255, 0.04)","whiteAlpha.100":"rgba(255, 255, 255, 0.06)","whiteAlpha.200":"rgba(255, 255, 255, 0.08)","whiteAlpha.300":"rgba(255, 255, 255, 0.16)","whiteAlpha.400":"rgba(255, 255, 255, 0.24)","whiteAlpha.500":"rgba(255, 255, 255, 0.36)","whiteAlpha.600":"rgba(255, 255, 255, 0.48)","whiteAlpha.700":"rgba(255, 255, 255, 0.64)","whiteAlpha.800":"rgba(255, 255, 255, 0.80)","whiteAlpha.900":"rgba(255, 255, 255, 0.92)","gray.50":"#F7FAFC","gray.100":"#EDF2F7","gray.200":"#E2E8F0","gray.300":"#CBD5E0","gray.400":"#A0AEC0","gray.500":"#718096","gray.600":"#4A5568","gray.700":"#2D3748","gray.800":"#1A202C","gray.900":"#171923","red.50":"#FFF5F5","red.100":"#FED7D7","red.200":"#FEB2B2","red.300":"#FC8181","red.400":"#F56565","red.500":"#E53E3E","red.600":"#C53030","red.700":"#9B2C2C","red.800":"#822727","red.900":"#63171B","orange.50":"#FFFAF0","orange.100":"#FEEBC8","orange.200":"#FBD38D","orange.300":"#F6AD55","orange.400":"#ED8936","orange.500":"#DD6B20","orange.600":"#C05621","orange.700":"#9C4221","orange.800":"#7B341E","orange.900":"#652B19","yellow.50":"#FFFFF0","yellow.100":"#FEFCBF","yellow.200":"#FAF089","yellow.300":"#F6E05E","yellow.400":"#ECC94B","yellow.500":"#D69E2E","yellow.600":"#B7791F","yellow.700":"#975A16","yellow.800":"#744210","yellow.900":"#5F370E","green.50":"#F0FFF4","green.100":"#C6F6D5","green.200":"#9AE6B4","green.300":"#68D391","green.400":"#48BB78","green.500":"#38A169","green.600":"#2F855A","green.700":"#276749","green.800":"#22543D","green.900":"#1C4532","teal.50":"#E6FFFA","teal.100":"#B2F5EA","teal.200":"#81E6D9","teal.300":"#4FD1C5","teal.400":"#38B2AC","teal.500":"#319795","teal.600":"#2C7A7B","teal.700":"#285E61","teal.800":"#234E52","teal.900":"#1D4044","blue.50":"#EBF8FF","blue.100":"#BEE3F8","blue.200":"#90CDF4","blue.300":"#63B3ED","blue.400":"#4299E1","blue.500":"#3182CE","blue.600":"#2B6CB0","blue.700":"#2C5282","blue.800":"#2A4365","blue.900":"#1A365D","cyan.50":"#EDFDFD","cyan.100":"#C4F1F9","cyan.200":"#9DECF9","cyan.300":"#76E4F7","cyan.400":"#0BC5EA","cyan.500":"#00B5D8","cyan.600":"#00A3C4","cyan.700":"#0987A0","cyan.800":"#086F83","cyan.900":"#065666","purple.50":"#FAF5FF","purple.100":"#E9D8FD","purple.200":"#D6BCFA","purple.300":"#B794F4","purple.400":"#9F7AEA","purple.500":"#805AD5","purple.600":"#6B46C1","purple.700":"#553C9A","purple.800":"#44337A","purple.900":"#322659","pink.50":"#FFF5F7","pink.100":"#FED7E2","pink.200":"#FBB6CE","pink.300":"#F687B3","pink.400":"#ED64A6","pink.500":"#D53F8C","pink.600":"#B83280","pink.700":"#97266D","pink.800":"#702459","pink.900":"#521B41"},uH=[{name:"Barley",href:"https://cdn.jsdelivr.net/npm/vega-datasets@2/data/barley.json"},{name:"Cars",href:"https://cdn.jsdelivr.net/npm/vega-datasets@2/data/cars.json"},{name:"Crimea",href:"https://cdn.jsdelivr.net/npm/vega-datasets@2/data/crimea.json"},{name:"Jobs",href:"https://cdn.jsdelivr.net/npm/vega-datasets@2/data/jobs.json"},{name:"Population",href:"https://cdn.jsdelivr.net/npm/vega-datasets@2/data/population.json"},{name:"Movies",href:"https://cdn.jsdelivr.net/npm/vega-datasets@2/data/movies.json"},{name:"Birdstrikes",href:"https://cdn.jsdelivr.net/npm/vega-datasets@2/data/birdstrikes.csv"},{name:"Burtin",href:"https://cdn.jsdelivr.net/npm/vega-datasets@2/data/burtin.json"}],cH=50,aot=50,fH=1,mr="orange",qu={50:Ct[`${mr}.50`],100:Ct[`${mr}.100`],200:Ct[`${mr}.200`],300:Ct[`${mr}.300`],400:Ct[`${mr}.400`],500:Ct[`${mr}.500`],600:Ct[`${mr}.600`],700:Ct[`${mr}.700`],800:Ct[`${mr}.800`],900:Ct[`${mr}.900`]},dH="table",hH=3;var Gce=Symbol.for("immer-nothing"),pH=Symbol.for("immer-draftable"),no=Symbol.for("immer-state");function fs(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Qg=Object.getPrototypeOf;function Jg(e){return!!e&&!!e[no]}function Id(e){var t;return e?Yce(e)||Array.isArray(e)||!!e[pH]||!!((t=e.constructor)!=null&&t[pH])||Q_(e)||J_(e):!1}var lot=Object.prototype.constructor.toString();function Yce(e){if(!e||typeof e!="object")return!1;const t=Qg(e);if(t===null)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===lot}function zk(e,t){K_(e)===0?Reflect.ownKeys(e).forEach(n=>{t(n,e[n],e)}):e.forEach((n,r)=>t(r,n,e))}function K_(e){const t=e[no];return t?t.type_:Array.isArray(e)?1:Q_(e)?2:J_(e)?3:0}function eF(e,t){return K_(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Xce(e,t,n){const r=K_(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function uot(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Q_(e){return e instanceof Map}function J_(e){return e instanceof Set}function xf(e){return e.copy_||e.base_}function tF(e,t){if(Q_(e))return new Map(e);if(J_(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=Yce(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[no];let i=Reflect.ownKeys(r);for(let o=0;o<i.length;o++){const s=i[o],a=r[s];a.writable===!1&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(r[s]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[s]})}return Object.create(Qg(e),r)}else{const r=Qg(e);if(r!==null&&n)return{...e};const i=Object.create(r);return Object.assign(i,e)}}function hI(e,t=!1){return Z_(e)||Jg(e)||!Id(e)||(K_(e)>1&&(e.set=e.add=e.clear=e.delete=cot),Object.freeze(e),t&&Object.entries(e).forEach(([n,r])=>hI(r,!0))),e}function cot(){fs(2)}function Z_(e){return Object.isFrozen(e)}var fot={};function zd(e){const t=fot[e];return t||fs(0,e),t}var iv;function Kce(){return iv}function dot(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function gH(e,t){t&&(zd("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function nF(e){rF(e),e.drafts_.forEach(hot),e.drafts_=null}function rF(e){e===iv&&(iv=e.parent_)}function mH(e){return iv=dot(iv,e)}function hot(e){const t=e[no];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function yH(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[no].modified_&&(nF(t),fs(4)),Id(e)&&(e=jk(t,e),t.parent_||Bk(t,e)),t.patches_&&zd("Patches").generateReplacementPatches_(n[no].base_,e,t.patches_,t.inversePatches_)):e=jk(t,n,[]),nF(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==Gce?e:void 0}function jk(e,t,n){if(Z_(t))return t;const r=t[no];if(!r)return zk(t,(i,o)=>vH(e,r,t,i,o,n)),t;if(r.scope_!==e)return t;if(!r.modified_)return Bk(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let o=i,s=!1;r.type_===3&&(o=new Set(i),i.clear(),s=!0),zk(o,(a,l)=>vH(e,r,i,a,l,n,s)),Bk(e,i,!1),n&&e.patches_&&zd("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function vH(e,t,n,r,i,o,s){if(Jg(i)){const a=o&&t&&t.type_!==3&&!eF(t.assigned_,r)?o.concat(r):void 0,l=jk(e,i,a);if(Xce(n,r,l),Jg(l))e.canAutoFreeze_=!1;else return}else s&&n.add(i);if(Id(i)&&!Z_(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;jk(e,i),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,r)&&Bk(e,i)}}function Bk(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&hI(t,n)}function pot(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:Kce(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,o=pI;n&&(i=[r],o=ov);const{revoke:s,proxy:a}=Proxy.revocable(i,o);return r.draft_=a,r.revoke_=s,a}var pI={get(e,t){if(t===no)return e;const n=xf(e);if(!eF(n,t))return got(e,n,t);const r=n[t];return e.finalized_||!Id(r)?r:r===ZT(e.base_,t)?(e5(e),e.copy_[t]=oF(r,e)):r},has(e,t){return t in xf(e)},ownKeys(e){return Reflect.ownKeys(xf(e))},set(e,t,n){const r=Qce(xf(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=ZT(xf(e),t),o=i==null?void 0:i[no];if(o&&o.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(uot(n,i)&&(n!==void 0||eF(e.base_,t)))return!0;e5(e),iF(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return ZT(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,e5(e),iF(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=xf(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){fs(11)},getPrototypeOf(e){return Qg(e.base_)},setPrototypeOf(){fs(12)}},ov={};zk(pI,(e,t)=>{ov[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});ov.deleteProperty=function(e,t){return ov.set.call(this,e,t,void 0)};ov.set=function(e,t,n){return pI.set.call(this,e[0],t,n,e[0])};function ZT(e,t){const n=e[no];return(n?xf(n):e)[t]}function got(e,t,n){var i;const r=Qce(t,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function Qce(e,t){if(!(t in e))return;let n=Qg(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Qg(n)}}function iF(e){e.modified_||(e.modified_=!0,e.parent_&&iF(e.parent_))}function e5(e){e.copy_||(e.copy_=tF(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var mot=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const o=n;n=t;const s=this;return function(l=o,...u){return s.produce(l,c=>n.call(this,c,...u))}}typeof n!="function"&&fs(6),r!==void 0&&typeof r!="function"&&fs(7);let i;if(Id(t)){const o=mH(this),s=oF(t,void 0);let a=!0;try{i=n(s),a=!1}finally{a?nF(o):rF(o)}return gH(o,r),yH(i,o)}else if(!t||typeof t!="object"){if(i=n(t),i===void 0&&(i=t),i===Gce&&(i=void 0),this.autoFreeze_&&hI(i,!0),r){const o=[],s=[];zd("Patches").generateReplacementPatches_(t,i,o,s),r(o,s)}return i}else fs(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(s,...a)=>this.produceWithPatches(s,l=>t(l,...a));let r,i;return[this.produce(t,n,(s,a)=>{r=s,i=a}),r,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){Id(e)||fs(8),Jg(e)&&(e=yot(e));const t=mH(this),n=oF(e,void 0);return n[no].isManual_=!0,rF(t),n}finishDraft(e,t){const n=e&&e[no];(!n||!n.isManual_)&&fs(9);const{scope_:r}=n;return gH(r,t),yH(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const r=zd("Patches").applyPatches_;return Jg(e)?r(e,t):this.produce(e,i=>r(i,t))}};function oF(e,t){const n=Q_(e)?zd("MapSet").proxyMap_(e,t):J_(e)?zd("MapSet").proxySet_(e,t):pot(e,t);return(t?t.scope_:Kce()).drafts_.push(n),n}function yot(e){return Jg(e)||fs(10,e),Jce(e)}function Jce(e){if(!Id(e)||Z_(e))return e;const t=e[no];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=tF(e,t.scope_.immer_.useStrictShallowCopy_)}else n=tF(e,!0);return zk(n,(r,i)=>{Xce(n,r,Jce(i))}),t&&(t.finalized_=!1),n}var ro=new mot,k0=ro.produce;ro.produceWithPatches.bind(ro);ro.setAutoFreeze.bind(ro);ro.setUseStrictShallowCopy.bind(ro);ro.applyPatches.bind(ro);ro.createDraft.bind(ro);ro.finishDraft.bind(ro);const St=Y_(X_((e,t)=>({filename:"",timestamp:0,charts:[],fields:[],currentChartIndex:-1,loadingSession:!1,appendingChart:!1,resetSession:()=>e({filename:"",timestamp:0,charts:[],fields:[],currentChartIndex:-1}),setCurrentChartIndex:n=>{const{appendingChart:r,charts:i}=t();r||n<-1||n>i.length-1||e({currentChartIndex:n})},setCurrentChartToLast:()=>{const{charts:n,setCurrentChartIndex:r}=t();r(n.length-1)},loadSession:async n=>{e({loadingSession:!0,filename:n});const{timestamp:r,charts:i,fields:o,currentChartIndex:s}=t(),a=await Eo.call("loadSession",{session:{filename:n,timestamp:r,charts:i,fields:o}});e(a?k0(l=>{Object.assign(l,a),l.currentChartIndex=s===-1?0:s,l.loadingSession=!1}):{loadingSession:!1})},appendNextChart:async()=>{e({appendingChart:!0});const n=await Eo.call("appendNextChart");e(n?k0(r=>{r.charts.push(n),r.appendingChart=!1}):{appendingChart:!1})},appendChart:async n=>{e({appendingChart:!0}),await Eo.call("appendChart",{chart:n}),e(k0(r=>{r.charts.length>fH&&(r.charts=r.charts.slice(0,-fH)),r.charts.push(n),r.appendingChart=!1}))},renewCurrentChart:()=>e(k0(n=>{const r=n.charts[n.currentChartIndex];r.specIndex=(r.specIndex+1)%r.specs.length})),setCurrentChartPreferred:n=>{const{charts:r,currentChartIndex:i}=t(),o=r[i];Eo.call("setPreferred",{key:o.key,preferred:n}),e(k0(s=>{s.charts[s.currentChartIndex].preferred=n}))}}),{name:"SessionStore",anonymousActionType:"SessionStore Action",enabled:!1})),Zce=Y_()(X_(oot(e=>({apiKey:"sk-...",setApiKey:t=>e({apiKey:t}),locale:"en",setLocale:t=>e({locale:t})}),{name:"settings-storage"}),{name:"SettingStore",anonymousActionType:"SettingStore Action",enabled:!1}));function vot(){const e=St(i=>i.charts),t=e.filter(i=>i.preferred),n=St(i=>i.setCurrentChartIndex);return{preferredCharts:t,handleClickBookmark:i=>{const o=e.findIndex(s=>s===i);n(o)}}}var Eb=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Zg=typeof window>"u"||"Deno"in globalThis;function vo(){}function bot(e,t){return typeof e=="function"?e(t):e}function sF(e){return typeof e=="number"&&e>=0&&e!==1/0}function efe(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Ip(e,t){return typeof e=="function"?e(t):e}function as(e,t){return typeof e=="function"?e(t):e}function bH(e,t){const{type:n="all",exact:r,fetchStatus:i,predicate:o,queryKey:s,stale:a}=e;if(s){if(r){if(t.queryHash!==gI(s,t.options))return!1}else if(!av(t.queryKey,s))return!1}if(n!=="all"){const l=t.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&t.isStale()!==a||i&&i!==t.state.fetchStatus||o&&!o(t))}function xH(e,t){const{exact:n,status:r,predicate:i,mutationKey:o}=e;if(o){if(!t.options.mutationKey)return!1;if(n){if(sv(t.options.mutationKey)!==sv(o))return!1}else if(!av(t.options.mutationKey,o))return!1}return!(r&&t.state.status!==r||i&&!i(t))}function gI(e,t){return((t==null?void 0:t.queryKeyHashFn)||sv)(e)}function sv(e){return JSON.stringify(e,(t,n)=>lF(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function av(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(n=>!av(e[n],t[n])):!1}function tfe(e,t){if(e===t)return e;const n=wH(e)&&wH(t);if(n||lF(e)&&lF(t)){const r=n?e:Object.keys(e),i=r.length,o=n?t:Object.keys(t),s=o.length,a=n?[]:{};let l=0;for(let u=0;u<s;u++){const c=n?u:o[u];(!n&&r.includes(c)||n)&&e[c]===void 0&&t[c]===void 0?(a[c]=void 0,l++):(a[c]=tfe(e[c],t[c]),a[c]===e[c]&&e[c]!==void 0&&l++)}return i===s&&l===i?e:a}return t}function aF(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function wH(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function lF(e){if(!SH(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!SH(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function SH(e){return Object.prototype.toString.call(e)==="[object Object]"}function xot(e){return new Promise(t=>{setTimeout(t,e)})}function uF(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?tfe(e,t):t}function wot(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function Sot(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var nfe=Symbol();function rfe(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===nfe?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var zf,Tu,zp,Cq,kot=(Cq=class extends Eb{constructor(){super();Me(this,zf);Me(this,Tu);Me(this,zp);pe(this,zp,t=>{if(!Zg&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){B(this,Tu)||this.setEventListener(B(this,zp))}onUnsubscribe(){var t;this.hasListeners()||((t=B(this,Tu))==null||t.call(this),pe(this,Tu,void 0))}setEventListener(t){var n;pe(this,zp,t),(n=B(this,Tu))==null||n.call(this),pe(this,Tu,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){B(this,zf)!==t&&(pe(this,zf,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof B(this,zf)=="boolean"?B(this,zf):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},zf=new WeakMap,Tu=new WeakMap,zp=new WeakMap,Cq),mI=new kot,jp,Pu,Bp,Eq,Cot=(Eq=class extends Eb{constructor(){super();Me(this,jp,!0);Me(this,Pu);Me(this,Bp);pe(this,Bp,t=>{if(!Zg&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){B(this,Pu)||this.setEventListener(B(this,Bp))}onUnsubscribe(){var t;this.hasListeners()||((t=B(this,Pu))==null||t.call(this),pe(this,Pu,void 0))}setEventListener(t){var n;pe(this,Bp,t),(n=B(this,Pu))==null||n.call(this),pe(this,Pu,t(this.setOnline.bind(this)))}setOnline(t){B(this,jp)!==t&&(pe(this,jp,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return B(this,jp)}},jp=new WeakMap,Pu=new WeakMap,Bp=new WeakMap,Eq),Uk=new Cot;function Eot(e){return Math.min(1e3*2**e,3e4)}function ife(e){return(e??"online")==="online"?Uk.isOnline():!0}var ofe=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function t5(e){return e instanceof ofe}function sfe(e){let t=!1,n=0,r=!1,i,o,s;const a=new Promise((y,v)=>{o=y,s=v}),l=y=>{var v;r||(p(new ofe(y)),(v=e.abort)==null||v.call(e))},u=()=>{t=!0},c=()=>{t=!1},f=()=>mI.isFocused()&&(e.networkMode==="always"||Uk.isOnline())&&e.canRun(),d=()=>ife(e.networkMode)&&e.canRun(),h=y=>{var v;r||(r=!0,(v=e.onSuccess)==null||v.call(e,y),i==null||i(),o(y))},p=y=>{var v;r||(r=!0,(v=e.onError)==null||v.call(e,y),i==null||i(),s(y))},g=()=>new Promise(y=>{var v;i=b=>{(r||f())&&y(b)},(v=e.onPause)==null||v.call(e)}).then(()=>{var y;i=void 0,r||(y=e.onContinue)==null||y.call(e)}),m=()=>{if(r)return;let y;const v=n===0?e.initialPromise:void 0;try{y=v??e.fn()}catch(b){y=Promise.reject(b)}Promise.resolve(y).then(h).catch(b=>{var C;if(r)return;const x=e.retry??(Zg?0:3),w=e.retryDelay??Eot,k=typeof w=="function"?w(n,b):w,S=x===!0||typeof x=="number"&&n<x||typeof x=="function"&&x(n,b);if(t||!S){p(b);return}n++,(C=e.onFail)==null||C.call(e,n,b),xot(k).then(()=>f()?void 0:g()).then(()=>{t?p(b):m()})})};return{promise:a,cancel:l,continue:()=>(i==null||i(),a),cancelRetry:u,continueRetry:c,canStart:d,start:()=>(d()?m():g().then(m),a)}}function _ot(){let e=[],t=0,n=d=>{d()},r=d=>{d()},i=d=>setTimeout(d,0);const o=d=>{i=d},s=d=>{let h;t++;try{h=d()}finally{t--,t||u()}return h},a=d=>{t?e.push(d):i(()=>{n(d)})},l=d=>(...h)=>{a(()=>{d(...h)})},u=()=>{const d=e;e=[],d.length&&i(()=>{r(()=>{d.forEach(h=>{n(h)})})})};return{batch:s,batchCalls:l,schedule:a,setNotifyFunction:d=>{n=d},setBatchNotifyFunction:d=>{r=d},setScheduler:o}}var Xn=_ot(),jf,_q,afe=(_q=class{constructor(){Me(this,jf)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),sF(this.gcTime)&&pe(this,jf,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Zg?1/0:5*60*1e3))}clearGcTimeout(){B(this,jf)&&(clearTimeout(B(this,jf)),pe(this,jf,void 0))}},jf=new WeakMap,_q),Up,Vp,go,pr,cv,Bf,es,tl,$q,$ot=($q=class extends afe{constructor(t){super();Me(this,es);Me(this,Up);Me(this,Vp);Me(this,go);Me(this,pr);Me(this,cv);Me(this,Bf);pe(this,Bf,!1),pe(this,cv,t.defaultOptions),this.setOptions(t.options),this.observers=[],pe(this,go,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,pe(this,Up,Aot(this.options)),this.state=t.state??B(this,Up),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=B(this,pr))==null?void 0:t.promise}setOptions(t){this.options={...B(this,cv),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&B(this,go).remove(this)}setData(t,n){const r=uF(this.state.data,t,this.options);return Ue(this,es,tl).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){Ue(this,es,tl).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,i;const n=(r=B(this,pr))==null?void 0:r.promise;return(i=B(this,pr))==null||i.cancel(t),n?n.then(vo).catch(vo):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(B(this,Up))}isActive(){return this.observers.some(t=>as(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!efe(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=B(this,pr))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=B(this,pr))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),B(this,go).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(B(this,pr)&&(B(this,Bf)?B(this,pr).cancel({revert:!0}):B(this,pr).cancelRetry()),this.scheduleGc()),B(this,go).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ue(this,es,tl).call(this,{type:"invalidate"})}fetch(t,n){var l,u,c;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(B(this,pr))return B(this,pr).continueRetry(),B(this,pr).promise}if(t&&this.setOptions(t),!this.options.queryFn){const f=this.observers.find(d=>d.options.queryFn);f&&this.setOptions(f.options)}const r=new AbortController,i=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(pe(this,Bf,!0),r.signal)})},o=()=>{const f=rfe(this.options,n),d={queryKey:this.queryKey,meta:this.meta};return i(d),pe(this,Bf,!1),this.options.persister?this.options.persister(f,d,this):f(d)},s={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};i(s),(l=this.options.behavior)==null||l.onFetch(s,this),pe(this,Vp,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=s.fetchOptions)==null?void 0:u.meta))&&Ue(this,es,tl).call(this,{type:"fetch",meta:(c=s.fetchOptions)==null?void 0:c.meta});const a=f=>{var d,h,p,g;t5(f)&&f.silent||Ue(this,es,tl).call(this,{type:"error",error:f}),t5(f)||((h=(d=B(this,go).config).onError)==null||h.call(d,f,this),(g=(p=B(this,go).config).onSettled)==null||g.call(p,this.state.data,f,this)),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return pe(this,pr,sfe({initialPromise:n==null?void 0:n.initialPromise,fn:s.fetchFn,abort:r.abort.bind(r),onSuccess:f=>{var d,h,p,g;if(f===void 0){a(new Error(`${this.queryHash} data is undefined`));return}this.setData(f),(h=(d=B(this,go).config).onSuccess)==null||h.call(d,f,this),(g=(p=B(this,go).config).onSettled)==null||g.call(p,f,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:a,onFail:(f,d)=>{Ue(this,es,tl).call(this,{type:"failed",failureCount:f,error:d})},onPause:()=>{Ue(this,es,tl).call(this,{type:"pause"})},onContinue:()=>{Ue(this,es,tl).call(this,{type:"continue"})},retry:s.options.retry,retryDelay:s.options.retryDelay,networkMode:s.options.networkMode,canRun:()=>!0})),B(this,pr).start()}},Up=new WeakMap,Vp=new WeakMap,go=new WeakMap,pr=new WeakMap,cv=new WeakMap,Bf=new WeakMap,es=new WeakSet,tl=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...lfe(r.data,this.options),fetchMeta:t.meta??null};case"success":return{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=t.error;return t5(i)&&i.revert&&B(this,Vp)?{...B(this,Vp),fetchStatus:"idle"}:{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),Xn.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),B(this,go).notify({query:this,type:"updated",action:t})})},$q);function lfe(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:ife(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Aot(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Zs,Aq,Tot=(Aq=class extends Eb{constructor(t={}){super();Me(this,Zs);this.config=t,pe(this,Zs,new Map)}build(t,n,r){const i=n.queryKey,o=n.queryHash??gI(i,n);let s=this.get(o);return s||(s=new $ot({cache:this,queryKey:i,queryHash:o,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(i)}),this.add(s)),s}add(t){B(this,Zs).has(t.queryHash)||(B(this,Zs).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=B(this,Zs).get(t.queryHash);n&&(t.destroy(),n===t&&B(this,Zs).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Xn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return B(this,Zs).get(t)}getAll(){return[...B(this,Zs).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>bH(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>bH(t,r)):n}notify(t){Xn.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){Xn.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Xn.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Zs=new WeakMap,Aq),ea,Rr,Uf,ta,gu,Tq,Pot=(Tq=class extends afe{constructor(t){super();Me(this,ta);Me(this,ea);Me(this,Rr);Me(this,Uf);this.mutationId=t.mutationId,pe(this,Rr,t.mutationCache),pe(this,ea,[]),this.state=t.state||Mot(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){B(this,ea).includes(t)||(B(this,ea).push(t),this.clearGcTimeout(),B(this,Rr).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){pe(this,ea,B(this,ea).filter(n=>n!==t)),this.scheduleGc(),B(this,Rr).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){B(this,ea).length||(this.state.status==="pending"?this.scheduleGc():B(this,Rr).remove(this))}continue(){var t;return((t=B(this,Uf))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var i,o,s,a,l,u,c,f,d,h,p,g,m,y,v,b,x,w,k,S;pe(this,Uf,sfe({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(C,E)=>{Ue(this,ta,gu).call(this,{type:"failed",failureCount:C,error:E})},onPause:()=>{Ue(this,ta,gu).call(this,{type:"pause"})},onContinue:()=>{Ue(this,ta,gu).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>B(this,Rr).canRun(this)}));const n=this.state.status==="pending",r=!B(this,Uf).canStart();try{if(!n){Ue(this,ta,gu).call(this,{type:"pending",variables:t,isPaused:r}),await((o=(i=B(this,Rr).config).onMutate)==null?void 0:o.call(i,t,this));const E=await((a=(s=this.options).onMutate)==null?void 0:a.call(s,t));E!==this.state.context&&Ue(this,ta,gu).call(this,{type:"pending",context:E,variables:t,isPaused:r})}const C=await B(this,Uf).start();return await((u=(l=B(this,Rr).config).onSuccess)==null?void 0:u.call(l,C,t,this.state.context,this)),await((f=(c=this.options).onSuccess)==null?void 0:f.call(c,C,t,this.state.context)),await((h=(d=B(this,Rr).config).onSettled)==null?void 0:h.call(d,C,null,this.state.variables,this.state.context,this)),await((g=(p=this.options).onSettled)==null?void 0:g.call(p,C,null,t,this.state.context)),Ue(this,ta,gu).call(this,{type:"success",data:C}),C}catch(C){try{throw await((y=(m=B(this,Rr).config).onError)==null?void 0:y.call(m,C,t,this.state.context,this)),await((b=(v=this.options).onError)==null?void 0:b.call(v,C,t,this.state.context)),await((w=(x=B(this,Rr).config).onSettled)==null?void 0:w.call(x,void 0,C,this.state.variables,this.state.context,this)),await((S=(k=this.options).onSettled)==null?void 0:S.call(k,void 0,C,t,this.state.context)),C}finally{Ue(this,ta,gu).call(this,{type:"error",error:C})}}finally{B(this,Rr).runNext(this)}}},ea=new WeakMap,Rr=new WeakMap,Uf=new WeakMap,ta=new WeakSet,gu=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Xn.batch(()=>{B(this,ea).forEach(r=>{r.onMutationUpdate(t)}),B(this,Rr).notify({mutation:this,type:"updated",action:t})})},Tq);function Mot(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Mi,fv,Pq,Fot=(Pq=class extends Eb{constructor(t={}){super();Me(this,Mi);Me(this,fv);this.config=t,pe(this,Mi,new Map),pe(this,fv,Date.now())}build(t,n,r){const i=new Pot({mutationCache:this,mutationId:++Ob(this,fv)._,options:t.defaultMutationOptions(n),state:r});return this.add(i),i}add(t){const n=rw(t),r=B(this,Mi).get(n)??[];r.push(t),B(this,Mi).set(n,r),this.notify({type:"added",mutation:t})}remove(t){var r;const n=rw(t);if(B(this,Mi).has(n)){const i=(r=B(this,Mi).get(n))==null?void 0:r.filter(o=>o!==t);i&&(i.length===0?B(this,Mi).delete(n):B(this,Mi).set(n,i))}this.notify({type:"removed",mutation:t})}canRun(t){var r;const n=(r=B(this,Mi).get(rw(t)))==null?void 0:r.find(i=>i.state.status==="pending");return!n||n===t}runNext(t){var r;const n=(r=B(this,Mi).get(rw(t)))==null?void 0:r.find(i=>i!==t&&i.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){Xn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...B(this,Mi).values()].flat()}find(t){const n={exact:!0,...t};return this.getAll().find(r=>xH(n,r))}findAll(t={}){return this.getAll().filter(n=>xH(t,n))}notify(t){Xn.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return Xn.batch(()=>Promise.all(t.map(n=>n.continue().catch(vo))))}},Mi=new WeakMap,fv=new WeakMap,Pq);function rw(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function Rot(e){return{onFetch:(t,n)=>{const r=async()=>{var p,g,m,y,v;const i=t.options,o=(m=(g=(p=t.fetchOptions)==null?void 0:p.meta)==null?void 0:g.fetchMore)==null?void 0:m.direction,s=((y=t.state.data)==null?void 0:y.pages)||[],a=((v=t.state.data)==null?void 0:v.pageParams)||[],l={pages:[],pageParams:[]};let u=!1;const c=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(t.signal.aborted?u=!0:t.signal.addEventListener("abort",()=>{u=!0}),t.signal)})},f=rfe(t.options,t.fetchOptions),d=async(b,x,w)=>{if(u)return Promise.reject();if(x==null&&b.pages.length)return Promise.resolve(b);const k={queryKey:t.queryKey,pageParam:x,direction:w?"backward":"forward",meta:t.options.meta};c(k);const S=await f(k),{maxPages:C}=t.options,E=w?Sot:wot;return{pages:E(b.pages,S,C),pageParams:E(b.pageParams,x,C)}};let h;if(o&&s.length){const b=o==="backward",x=b?Oot:kH,w={pages:s,pageParams:a},k=x(i,w);h=await d(w,k,b)}else{h=await d(l,a[0]??i.initialPageParam);const b=e??s.length;for(let x=1;x<b;x++){const w=kH(i,h);if(w==null)break;h=await d(h,w)}}return h};t.options.persister?t.fetchFn=()=>{var i,o;return(o=(i=t.options).persister)==null?void 0:o.call(i,r,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=r}}}function kH(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function Oot(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var Xt,Mu,Fu,Wp,Hp,Ru,qp,Gp,Mq,Dot=(Mq=class{constructor(e={}){Me(this,Xt);Me(this,Mu);Me(this,Fu);Me(this,Wp);Me(this,Hp);Me(this,Ru);Me(this,qp);Me(this,Gp);pe(this,Xt,e.queryCache||new Tot),pe(this,Mu,e.mutationCache||new Fot),pe(this,Fu,e.defaultOptions||{}),pe(this,Wp,new Map),pe(this,Hp,new Map),pe(this,Ru,0)}mount(){Ob(this,Ru)._++,B(this,Ru)===1&&(pe(this,qp,mI.subscribe(async e=>{e&&(await this.resumePausedMutations(),B(this,Xt).onFocus())})),pe(this,Gp,Uk.subscribe(async e=>{e&&(await this.resumePausedMutations(),B(this,Xt).onOnline())})))}unmount(){var e,t;Ob(this,Ru)._--,B(this,Ru)===0&&((e=B(this,qp))==null||e.call(this),pe(this,qp,void 0),(t=B(this,Gp))==null||t.call(this),pe(this,Gp,void 0))}isFetching(e){return B(this,Xt).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return B(this,Mu).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=B(this,Xt).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const n=this.defaultQueryOptions(e),r=B(this,Xt).build(this,n);return e.revalidateIfStale&&r.isStaleByTime(Ip(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(t)}}getQueriesData(e){return B(this,Xt).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),i=B(this,Xt).get(r.queryHash),o=i==null?void 0:i.state.data,s=bot(t,o);if(s!==void 0)return B(this,Xt).build(this,r).setData(s,{...n,manual:!0})}setQueriesData(e,t,n){return Xn.batch(()=>B(this,Xt).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=B(this,Xt).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=B(this,Xt);Xn.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=B(this,Xt),r={type:"active",...e};return Xn.batch(()=>(n.findAll(e).forEach(i=>{i.reset()}),this.refetchQueries(r,t)))}cancelQueries(e={},t={}){const n={revert:!0,...t},r=Xn.batch(()=>B(this,Xt).findAll(e).map(i=>i.cancel(n)));return Promise.all(r).then(vo).catch(vo)}invalidateQueries(e={},t={}){return Xn.batch(()=>{if(B(this,Xt).findAll(e).forEach(r=>{r.invalidate()}),e.refetchType==="none")return Promise.resolve();const n={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(n,t)})}refetchQueries(e={},t){const n={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},r=Xn.batch(()=>B(this,Xt).findAll(e).filter(i=>!i.isDisabled()).map(i=>{let o=i.fetch(void 0,n);return n.throwOnError||(o=o.catch(vo)),i.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(r).then(vo)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=B(this,Xt).build(this,t);return n.isStaleByTime(Ip(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(vo).catch(vo)}fetchInfiniteQuery(e){return e.behavior=Rot(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(vo).catch(vo)}resumePausedMutations(){return Uk.isOnline()?B(this,Mu).resumePausedMutations():Promise.resolve()}getQueryCache(){return B(this,Xt)}getMutationCache(){return B(this,Mu)}getDefaultOptions(){return B(this,Fu)}setDefaultOptions(e){pe(this,Fu,e)}setQueryDefaults(e,t){B(this,Wp).set(sv(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...B(this,Wp).values()];let n={};return t.forEach(r=>{av(e,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(e,t){B(this,Hp).set(sv(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...B(this,Hp).values()];let n={};return t.forEach(r=>{av(e,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...B(this,Fu).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=gI(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===nfe&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...B(this,Fu).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){B(this,Xt).clear(),B(this,Mu).clear()}},Xt=new WeakMap,Mu=new WeakMap,Fu=new WeakMap,Wp=new WeakMap,Hp=new WeakMap,Ru=new WeakMap,qp=new WeakMap,Gp=new WeakMap,Mq),oi,Ve,dv,Or,Vf,Yp,na,hv,Xp,Kp,Wf,Hf,Ou,Qp,ft,fy,cF,fF,dF,hF,pF,gF,mF,ufe,Fq,Not=(Fq=class extends Eb{constructor(t,n){super();Me(this,ft);Me(this,oi);Me(this,Ve);Me(this,dv);Me(this,Or);Me(this,Vf);Me(this,Yp);Me(this,na);Me(this,hv);Me(this,Xp);Me(this,Kp);Me(this,Wf);Me(this,Hf);Me(this,Ou);Me(this,Qp,new Set);this.options=n,pe(this,oi,t),pe(this,na,null),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(B(this,Ve).addObserver(this),CH(B(this,Ve),this.options)?Ue(this,ft,fy).call(this):this.updateResult(),Ue(this,ft,hF).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return yF(B(this,Ve),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return yF(B(this,Ve),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Ue(this,ft,pF).call(this),Ue(this,ft,gF).call(this),B(this,Ve).removeObserver(this)}setOptions(t,n){const r=this.options,i=B(this,Ve);if(this.options=B(this,oi).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof as(this.options.enabled,B(this,Ve))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Ue(this,ft,mF).call(this),B(this,Ve).setOptions(this.options),r._defaulted&&!aF(this.options,r)&&B(this,oi).getQueryCache().notify({type:"observerOptionsUpdated",query:B(this,Ve),observer:this});const o=this.hasListeners();o&&EH(B(this,Ve),i,this.options,r)&&Ue(this,ft,fy).call(this),this.updateResult(n),o&&(B(this,Ve)!==i||as(this.options.enabled,B(this,Ve))!==as(r.enabled,B(this,Ve))||Ip(this.options.staleTime,B(this,Ve))!==Ip(r.staleTime,B(this,Ve)))&&Ue(this,ft,cF).call(this);const s=Ue(this,ft,fF).call(this);o&&(B(this,Ve)!==i||as(this.options.enabled,B(this,Ve))!==as(r.enabled,B(this,Ve))||s!==B(this,Ou))&&Ue(this,ft,dF).call(this,s)}getOptimisticResult(t){const n=B(this,oi).getQueryCache().build(B(this,oi),t),r=this.createResult(n,t);return Iot(this,r)&&(pe(this,Or,r),pe(this,Yp,this.options),pe(this,Vf,B(this,Ve).state)),r}getCurrentResult(){return B(this,Or)}trackResult(t,n){const r={};return Object.keys(t).forEach(i=>{Object.defineProperty(r,i,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(i),n==null||n(i),t[i])})}),r}trackProp(t){B(this,Qp).add(t)}getCurrentQuery(){return B(this,Ve)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=B(this,oi).defaultQueryOptions(t),r=B(this,oi).getQueryCache().build(B(this,oi),n);return r.isFetchingOptimistic=!0,r.fetch().then(()=>this.createResult(r,n))}fetch(t){return Ue(this,ft,fy).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),B(this,Or)))}createResult(t,n){var S;const r=B(this,Ve),i=this.options,o=B(this,Or),s=B(this,Vf),a=B(this,Yp),u=t!==r?t.state:B(this,dv),{state:c}=t;let f={...c},d=!1,h;if(n._optimisticResults){const C=this.hasListeners(),E=!C&&CH(t,n),A=C&&EH(t,r,n,i);(E||A)&&(f={...f,...lfe(c.data,t.options)}),n._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:p,errorUpdatedAt:g,status:m}=f;if(n.select&&f.data!==void 0)if(o&&f.data===(s==null?void 0:s.data)&&n.select===B(this,hv))h=B(this,Xp);else try{pe(this,hv,n.select),h=n.select(f.data),h=uF(o==null?void 0:o.data,h,n),pe(this,Xp,h),pe(this,na,null)}catch(C){pe(this,na,C)}else h=f.data;if(n.placeholderData!==void 0&&h===void 0&&m==="pending"){let C;if(o!=null&&o.isPlaceholderData&&n.placeholderData===(a==null?void 0:a.placeholderData))C=o.data;else if(C=typeof n.placeholderData=="function"?n.placeholderData((S=B(this,Kp))==null?void 0:S.state.data,B(this,Kp)):n.placeholderData,n.select&&C!==void 0)try{C=n.select(C),pe(this,na,null)}catch(E){pe(this,na,E)}C!==void 0&&(m="success",h=uF(o==null?void 0:o.data,C,n),d=!0)}B(this,na)&&(p=B(this,na),h=B(this,Xp),g=Date.now(),m="error");const y=f.fetchStatus==="fetching",v=m==="pending",b=m==="error",x=v&&y,w=h!==void 0;return{status:m,fetchStatus:f.fetchStatus,isPending:v,isSuccess:m==="success",isError:b,isInitialLoading:x,isLoading:x,data:h,dataUpdatedAt:f.dataUpdatedAt,error:p,errorUpdatedAt:g,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:y,isRefetching:y&&!v,isLoadingError:b&&!w,isPaused:f.fetchStatus==="paused",isPlaceholderData:d,isRefetchError:b&&w,isStale:yI(t,n),refetch:this.refetch}}updateResult(t){const n=B(this,Or),r=this.createResult(B(this,Ve),this.options);if(pe(this,Vf,B(this,Ve).state),pe(this,Yp,this.options),B(this,Vf).data!==void 0&&pe(this,Kp,B(this,Ve)),aF(r,n))return;pe(this,Or,r);const i={},o=()=>{if(!n)return!0;const{notifyOnChangeProps:s}=this.options,a=typeof s=="function"?s():s;if(a==="all"||!a&&!B(this,Qp).size)return!0;const l=new Set(a??B(this,Qp));return this.options.throwOnError&&l.add("error"),Object.keys(B(this,Or)).some(u=>{const c=u;return B(this,Or)[c]!==n[c]&&l.has(c)})};(t==null?void 0:t.listeners)!==!1&&o()&&(i.listeners=!0),Ue(this,ft,ufe).call(this,{...i,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Ue(this,ft,hF).call(this)}},oi=new WeakMap,Ve=new WeakMap,dv=new WeakMap,Or=new WeakMap,Vf=new WeakMap,Yp=new WeakMap,na=new WeakMap,hv=new WeakMap,Xp=new WeakMap,Kp=new WeakMap,Wf=new WeakMap,Hf=new WeakMap,Ou=new WeakMap,Qp=new WeakMap,ft=new WeakSet,fy=function(t){Ue(this,ft,mF).call(this);let n=B(this,Ve).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(vo)),n},cF=function(){Ue(this,ft,pF).call(this);const t=Ip(this.options.staleTime,B(this,Ve));if(Zg||B(this,Or).isStale||!sF(t))return;const r=efe(B(this,Or).dataUpdatedAt,t)+1;pe(this,Wf,setTimeout(()=>{B(this,Or).isStale||this.updateResult()},r))},fF=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(B(this,Ve)):this.options.refetchInterval)??!1},dF=function(t){Ue(this,ft,gF).call(this),pe(this,Ou,t),!(Zg||as(this.options.enabled,B(this,Ve))===!1||!sF(B(this,Ou))||B(this,Ou)===0)&&pe(this,Hf,setInterval(()=>{(this.options.refetchIntervalInBackground||mI.isFocused())&&Ue(this,ft,fy).call(this)},B(this,Ou)))},hF=function(){Ue(this,ft,cF).call(this),Ue(this,ft,dF).call(this,Ue(this,ft,fF).call(this))},pF=function(){B(this,Wf)&&(clearTimeout(B(this,Wf)),pe(this,Wf,void 0))},gF=function(){B(this,Hf)&&(clearInterval(B(this,Hf)),pe(this,Hf,void 0))},mF=function(){const t=B(this,oi).getQueryCache().build(B(this,oi),this.options);if(t===B(this,Ve))return;const n=B(this,Ve);pe(this,Ve,t),pe(this,dv,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},ufe=function(t){Xn.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(B(this,Or))}),B(this,oi).getQueryCache().notify({query:B(this,Ve),type:"observerResultsUpdated"})})},Fq);function Lot(e,t){return as(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function CH(e,t){return Lot(e,t)||e.state.data!==void 0&&yF(e,t,t.refetchOnMount)}function yF(e,t,n){if(as(t.enabled,e)!==!1){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&yI(e,t)}return!1}function EH(e,t,n,r){return(e!==t||as(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&yI(e,n)}function yI(e,t){return as(t.enabled,e)!==!1&&e.isStaleByTime(Ip(t.staleTime,e))}function Iot(e,t){return!aF(e.getCurrentResult(),t)}var cfe=M.createContext(void 0),zot=e=>{const t=M.useContext(cfe);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},jot=({client:e,children:t})=>(M.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),$.jsx(cfe.Provider,{value:e,children:t})),ffe=M.createContext(!1),Bot=()=>M.useContext(ffe);ffe.Provider;function Uot(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var Vot=M.createContext(Uot()),Wot=()=>M.useContext(Vot);function Hot(e,t){return typeof e=="function"?e(...t):!!e}var qot=(e,t)=>{(e.suspense||e.throwOnError)&&(t.isReset()||(e.retryOnMount=!1))},Got=e=>{M.useEffect(()=>{e.clearReset()},[e])},Yot=({result:e,errorResetBoundary:t,throwOnError:n,query:r})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&Hot(n,[e.error,r]),Xot=e=>{e.suspense&&(typeof e.staleTime!="number"&&(e.staleTime=1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},Kot=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,Qot=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function Jot(e,t,n){var u,c,f,d;const r=zot(),i=Bot(),o=Wot(),s=r.defaultQueryOptions(e);(c=(u=r.getDefaultOptions().queries)==null?void 0:u._experimental_beforeQuery)==null||c.call(u,s),s._optimisticResults=i?"isRestoring":"optimistic",Xot(s),qot(s,o),Got(o);const[a]=M.useState(()=>new t(r,s)),l=a.getOptimisticResult(s);if(M.useSyncExternalStore(M.useCallback(h=>{const p=i?()=>{}:a.subscribe(Xn.batchCalls(h));return a.updateResult(),p},[a,i]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),M.useEffect(()=>{a.setOptions(s,{listeners:!1})},[s,a]),Kot(s,l))throw Qot(s,a,o);if(Yot({result:l,errorResetBoundary:o,throwOnError:s.throwOnError,query:r.getQueryCache().get(s.queryHash)}))throw l.error;return(d=(f=r.getDefaultOptions().queries)==null?void 0:f._experimental_afterQuery)==null||d.call(f,s,l),s.notifyOnChangeProps?l:a.trackResult(l)}function Zot(e,t){return Jot(e,Not)}function est(){const e=Fs(v=>v.searchTargetFieldNames),t=Fs(v=>v.setSearchTargetFieldNames),[n,r]=M.useState(""),[i,o]=M.useState(0),s=Wl(v=>v.data),a=Wl(v=>v.filename),l=St(v=>v.charts),u=St(v=>v.setCurrentChartIndex),c=St(v=>v.appendChart),{data:f=[],isLoading:d}=Zot({queryKey:["browseCharts",a,...e.sort()],queryFn:async()=>e.length===0||!s?[]:await Eo.call("browseCharts",{fieldNames:e})??[]}),h=eat(n),p=e.length>=hH,g=M.useCallback(async v=>{await c(v),u(l.length-1)},[c,l.length,u]);M.useEffect(()=>o(0),[n]),M.useEffect(()=>{e.length>=hH||r("")},[e]);const m=v=>{t(b=>b.includes(v)?b.filter(x=>x!==v):[...b,v]),r("")};return{browsedCharts:f,inputDisabled:p,loading:d,fieldNameMatches:h,inputValue:n,setInputValue:r,selectedFields:e,appendBrowseField:m,appendBrowsedChart:g,suggestionCursorIndex:i,handleKeydown:v=>{["ArrowDown","ArrowUp","ArrowLeft","ArrowRight"].includes(v.key)&&v.stopPropagation(),["ArrowDown","ArrowUp"].includes(v.key)&&h.length>0&&(v.preventDefault(),o(b=>v.key==="ArrowDown"?Math.min(b+1,h.length-1):Math.max(b-1,0))),v.key==="Enter"&&h.length>i&&m(h[i].item),v.key==="Backspace"&&n===""&&t(b=>b.slice(0,-1))}}}function tst(e){const{colorMode:t}=om(),n=Wl(u=>u.data),r=e.specs[e.specIndex],i=t==="dark"?"dark":void 0,[o,s]=Ih({base:[300,300],lg:[600,600]})??[300,300],a={...r,title:e.title,width:o,mark:{..."mark"in r?r.mark:{},tooltip:{content:"data"}},height:s,background:"transparent",data:{name:dH},config:{..."config"in r?r.config:{},title:{fontSize:18,offset:16},axis:{labelFontSize:14,titleFontSize:16,titlePadding:16},autosize:{type:"fit"},legend:{direction:"horizontal",titleLimit:o,gradientLength:o,orient:"bottom",labelFontSize:14,titleFontSize:16},numberFormat:".3~s"}};return{data:{[dH]:n},chartTheme:i,spec:a}}function nst(e,t,{signal:n}={}){let r=null;const i=function(...s){r!==null&&clearTimeout(r),!(n!=null&&n.aborted)&&(r=setTimeout(()=>{e(...s),r=null},t))},o=function(){i.cancel()};return i.cancel=function(){r!==null&&(clearTimeout(r),r=null)},n==null||n.addEventListener("abort",o,{once:!0}),i}function _H(e){if(!e)return 0;const t=window.getComputedStyle(e),n=parseFloat(t.gap);return e.clientWidth+n}function rst(){const e=St(s=>s.charts),t=St(s=>s.currentChartIndex),n=St(s=>s.appendNextChart),r=St(s=>s.setCurrentChartIndex),i=St(s=>s.setCurrentChartPreferred),o=M.useRef(null);return M.useEffect(()=>{const s=o.current;if(!s)return;const a=nst(()=>{const l=s.scrollLeft,u=_H(s),c=Math.round(l/u)-1;r(c),c===e.length-1&&n()},aot);return s.addEventListener("scroll",a),()=>s.removeEventListener("scroll",a)},[n,e.length,r]),M.useEffect(()=>{const s=o.current;if(!s)return;const a=_H(s);s.scrollTo({left:(t+1)*a,behavior:"smooth"})},[t]),M.useEffect(()=>{const s=a=>{if(a.key==="ArrowLeft"&&(a.preventDefault(),r(t-1)),a.key==="ArrowRight"&&(a.preventDefault(),r(t+1)),["ArrowUp","ArrowDown"].includes(a.key)){a.preventDefault();const l=e[t].preferred;i(!l),l||r(t+1)}};return window.addEventListener("keydown",s),()=>window.removeEventListener("keydown",s)},[t,r,e,i]),{charts:e,currentChartIndex:t,ref:o}}function ist(){const e=St(h=>h.charts),t=St(h=>h.fields),n=St(h=>h.setCurrentChartIndex),r=St(h=>h.setCurrentChartPreferred),i=St(h=>h.renewCurrentChart),o=St(h=>h.currentChartIndex),s=o!==-1&&e[o].preferred,a=o!==-1;return{sessionInitialized:t.length>0,chartDisplaying:a,currentChartPreferred:s,handleRenewChart:i,handleNextChart:()=>n(o+1),handlePrevChart:()=>n(o-1),handlePreferChart:()=>{r(!s),s||n(o+1)}}}function vF(e,t,n){var r,i,o,s,a;t==null&&(t=100);function l(){var c=Date.now()-s;c<t&&c>=0?r=setTimeout(l,t-c):(r=null,n||(a=e.apply(o,i),o=i=null))}var u=function(){o=this,i=arguments,s=Date.now();var c=n&&!r;return r||(r=setTimeout(l,t)),c&&(a=e.apply(o,i),o=i=null),a};return u.clear=function(){r&&(clearTimeout(r),r=null)},u.flush=function(){r&&(a=e.apply(o,i),o=i=null,clearTimeout(r),r=null)},u}vF.debounce=vF;var ost=vF;const $H=Da(ost);function n5(e){let{debounce:t,scroll:n,polyfill:r,offsetSize:i}={debounce:0,scroll:!1,offsetSize:!1};const o=r||(typeof window>"u"?class{}:window.ResizeObserver);if(!o)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[s,a]=M.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),l=M.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:s}),u=t?typeof t=="number"?t:t.scroll:null,c=t?typeof t=="number"?t:t.resize:null,f=M.useRef(!1);M.useEffect(()=>(f.current=!0,()=>void(f.current=!1)));const[d,h,p]=M.useMemo(()=>{const v=()=>{if(!l.current.element)return;const{left:b,top:x,width:w,height:k,bottom:S,right:C,x:E,y:A}=l.current.element.getBoundingClientRect(),T={left:b,top:x,width:w,height:k,bottom:S,right:C,x:E,y:A};l.current.element instanceof HTMLElement&&i&&(T.height=l.current.element.offsetHeight,T.width=l.current.element.offsetWidth),Object.freeze(T),f.current&&!ust(l.current.lastBounds,T)&&a(l.current.lastBounds=T)};return[v,c?$H(v,c):v,u?$H(v,u):v]},[a,i,u,c]);function g(){l.current.scrollContainers&&(l.current.scrollContainers.forEach(v=>v.removeEventListener("scroll",p,!0)),l.current.scrollContainers=null),l.current.resizeObserver&&(l.current.resizeObserver.disconnect(),l.current.resizeObserver=null)}function m(){l.current.element&&(l.current.resizeObserver=new o(p),l.current.resizeObserver.observe(l.current.element),n&&l.current.scrollContainers&&l.current.scrollContainers.forEach(v=>v.addEventListener("scroll",p,{capture:!0,passive:!0})))}const y=v=>{!v||v===l.current.element||(g(),l.current.element=v,l.current.scrollContainers=dfe(v),m())};return ast(p,!!n),sst(h),M.useEffect(()=>{g(),m()},[n,p,h]),M.useEffect(()=>g,[]),[y,s,d]}function sst(e){M.useEffect(()=>{const t=e;return window.addEventListener("resize",t),()=>void window.removeEventListener("resize",t)},[e])}function ast(e,t){M.useEffect(()=>{if(t){const n=e;return window.addEventListener("scroll",n,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",n,!0)}},[e,t])}function dfe(e){const t=[];if(!e||e===document.body)return t;const{overflow:n,overflowX:r,overflowY:i}=window.getComputedStyle(e);return[n,r,i].some(o=>o==="auto"||o==="scroll")&&t.push(e),[...t,...dfe(e.parentElement)]}const lst=["x","y","top","bottom","left","right","width","height"],ust=(e,t)=>lst.every(n=>e[n]===t[n]);function cst(){const e=Fs(p=>p.drawerExpanded),t=Fs(p=>p.setDrawerExpanded),n=B_e(),[r,i]=n5(),[o,s]=n5(),[a,l]=n5(),[u,c]=M.useState(!1),f=M.useMemo(()=>({expanded:{top:`calc(100dvh - ${l.height+s.height+i.height}px)`},collapsed:{top:`calc(100dvh - ${l.height+s.height+16}px)`},loadExpanded:{top:`calc(100dvh - ${l.height+s.height+i.height-200}px)`}}),[l,i,s]);return{animate:u?e?"expanded":"collapsed":"loadExpanded",dragControls:n,handleDragEnd:(p,g)=>{u||c(!0),t(g.offset.y>cH?!1:g.offset.y<-cH?!0:e)},bodyRef:r,handleRef:o,navigatorRef:a,navigatorBounds:l,variants:f}}function hfe(){const e=Wl(u=>u.writingFile),t=Wl(u=>u.writeFile),n=St(u=>u.loadingSession),r=St(u=>u.loadSession),i=Fs(u=>u.setDrawerExpanded),o=St(u=>u.resetSession),s=St(u=>u.filename),a=Fs(u=>u.setTabByName);return{loading:e||n,initializeSession:async u=>{const c=u instanceof File?u.name:Bce(u);c&&(c!==s&&o(),await t(u),await r(c),i(!1),a("fields"))}}}function fst(){const{loading:e,initializeSession:t}=hfe(),[n,r]=M.useState(null);return{loading:e,selectedDemo:n,handleSubmit:()=>{n!=null&&n.href&&t(n.href)},handleDemoSelect:s=>{r(s)}}}function Hl(e){return Array.isArray?Array.isArray(e):mfe(e)==="[object Array]"}const dst=1/0;function hst(e){if(typeof e=="string")return e;let t=e+"";return t=="0"&&1/e==-dst?"-0":t}function pst(e){return e==null?"":hst(e)}function pa(e){return typeof e=="string"}function pfe(e){return typeof e=="number"}function gst(e){return e===!0||e===!1||mst(e)&&mfe(e)=="[object Boolean]"}function gfe(e){return typeof e=="object"}function mst(e){return gfe(e)&&e!==null}function Di(e){return e!=null}function r5(e){return!e.trim().length}function mfe(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}const yst="Incorrect 'index' type",vst=e=>`Invalid value for key ${e}`,bst=e=>`Pattern length exceeds max of ${e}.`,xst=e=>`Missing ${e} property in key`,wst=e=>`Property 'weight' in key '${e}' must be a positive integer`,AH=Object.prototype.hasOwnProperty;class Sst{constructor(t){this._keys=[],this._keyMap={};let n=0;t.forEach(r=>{let i=yfe(r);this._keys.push(i),this._keyMap[i.id]=i,n+=i.weight}),this._keys.forEach(r=>{r.weight/=n})}get(t){return this._keyMap[t]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function yfe(e){let t=null,n=null,r=null,i=1,o=null;if(pa(e)||Hl(e))r=e,t=TH(e),n=bF(e);else{if(!AH.call(e,"name"))throw new Error(xst("name"));const s=e.name;if(r=s,AH.call(e,"weight")&&(i=e.weight,i<=0))throw new Error(wst(s));t=TH(s),n=bF(s),o=e.getFn}return{path:t,id:n,weight:i,src:r,getFn:o}}function TH(e){return Hl(e)?e:e.split(".")}function bF(e){return Hl(e)?e.join("."):e}function kst(e,t){let n=[],r=!1;const i=(o,s,a)=>{if(Di(o))if(!s[a])n.push(o);else{let l=s[a];const u=o[l];if(!Di(u))return;if(a===s.length-1&&(pa(u)||pfe(u)||gst(u)))n.push(pst(u));else if(Hl(u)){r=!0;for(let c=0,f=u.length;c<f;c+=1)i(u[c],s,a+1)}else s.length&&i(u,s,a+1)}};return i(e,pa(t)?t.split("."):t,0),r?n:n[0]}const Cst={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},Est={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(e,t)=>e.score===t.score?e.idx<t.idx?-1:1:e.score<t.score?-1:1},_st={location:0,threshold:.6,distance:100},$st={useExtendedSearch:!1,getFn:kst,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var Re={...Est,...Cst,..._st,...$st};const Ast=/[^ ]+/g;function Tst(e=1,t=3){const n=new Map,r=Math.pow(10,t);return{get(i){const o=i.match(Ast).length;if(n.has(o))return n.get(o);const s=1/Math.pow(o,.5*e),a=parseFloat(Math.round(s*r)/r);return n.set(o,a),a},clear(){n.clear()}}}class vI{constructor({getFn:t=Re.getFn,fieldNormWeight:n=Re.fieldNormWeight}={}){this.norm=Tst(n,3),this.getFn=t,this.isCreated=!1,this.setIndexRecords()}setSources(t=[]){this.docs=t}setIndexRecords(t=[]){this.records=t}setKeys(t=[]){this.keys=t,this._keysMap={},t.forEach((n,r)=>{this._keysMap[n.id]=r})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,pa(this.docs[0])?this.docs.forEach((t,n)=>{this._addString(t,n)}):this.docs.forEach((t,n)=>{this._addObject(t,n)}),this.norm.clear())}add(t){const n=this.size();pa(t)?this._addString(t,n):this._addObject(t,n)}removeAt(t){this.records.splice(t,1);for(let n=t,r=this.size();n<r;n+=1)this.records[n].i-=1}getValueForItemAtKeyId(t,n){return t[this._keysMap[n]]}size(){return this.records.length}_addString(t,n){if(!Di(t)||r5(t))return;let r={v:t,i:n,n:this.norm.get(t)};this.records.push(r)}_addObject(t,n){let r={i:n,$:{}};this.keys.forEach((i,o)=>{let s=i.getFn?i.getFn(t):this.getFn(t,i.path);if(Di(s)){if(Hl(s)){let a=[];const l=[{nestedArrIndex:-1,value:s}];for(;l.length;){const{nestedArrIndex:u,value:c}=l.pop();if(Di(c))if(pa(c)&&!r5(c)){let f={v:c,i:u,n:this.norm.get(c)};a.push(f)}else Hl(c)&&c.forEach((f,d)=>{l.push({nestedArrIndex:d,value:f})})}r.$[o]=a}else if(pa(s)&&!r5(s)){let a={v:s,n:this.norm.get(s)};r.$[o]=a}}}),this.records.push(r)}toJSON(){return{keys:this.keys,records:this.records}}}function vfe(e,t,{getFn:n=Re.getFn,fieldNormWeight:r=Re.fieldNormWeight}={}){const i=new vI({getFn:n,fieldNormWeight:r});return i.setKeys(e.map(yfe)),i.setSources(t),i.create(),i}function Pst(e,{getFn:t=Re.getFn,fieldNormWeight:n=Re.fieldNormWeight}={}){const{keys:r,records:i}=e,o=new vI({getFn:t,fieldNormWeight:n});return o.setKeys(r),o.setIndexRecords(i),o}function iw(e,{errors:t=0,currentLocation:n=0,expectedLocation:r=0,distance:i=Re.distance,ignoreLocation:o=Re.ignoreLocation}={}){const s=t/e.length;if(o)return s;const a=Math.abs(r-n);return i?s+a/i:a?1:s}function Mst(e=[],t=Re.minMatchCharLength){let n=[],r=-1,i=-1,o=0;for(let s=e.length;o<s;o+=1){let a=e[o];a&&r===-1?r=o:!a&&r!==-1&&(i=o-1,i-r+1>=t&&n.push([r,i]),r=-1)}return e[o-1]&&o-r>=t&&n.push([r,o-1]),n}const Tf=32;function Fst(e,t,n,{location:r=Re.location,distance:i=Re.distance,threshold:o=Re.threshold,findAllMatches:s=Re.findAllMatches,minMatchCharLength:a=Re.minMatchCharLength,includeMatches:l=Re.includeMatches,ignoreLocation:u=Re.ignoreLocation}={}){if(t.length>Tf)throw new Error(bst(Tf));const c=t.length,f=e.length,d=Math.max(0,Math.min(r,f));let h=o,p=d;const g=a>1||l,m=g?Array(f):[];let y;for(;(y=e.indexOf(t,p))>-1;){let S=iw(t,{currentLocation:y,expectedLocation:d,distance:i,ignoreLocation:u});if(h=Math.min(S,h),p=y+c,g){let C=0;for(;C<c;)m[y+C]=1,C+=1}}p=-1;let v=[],b=1,x=c+f;const w=1<<c-1;for(let S=0;S<c;S+=1){let C=0,E=x;for(;C<E;)iw(t,{errors:S,currentLocation:d+E,expectedLocation:d,distance:i,ignoreLocation:u})<=h?C=E:x=E,E=Math.floor((x-C)/2+C);x=E;let A=Math.max(1,d-E+1),T=s?f:Math.min(d+E,f)+c,L=Array(T+2);L[T+1]=(1<<S)-1;for(let R=T;R>=A;R-=1){let _=R-1,P=n[e.charAt(_)];if(g&&(m[_]=+!!P),L[R]=(L[R+1]<<1|1)&P,S&&(L[R]|=(v[R+1]|v[R])<<1|1|v[R+1]),L[R]&w&&(b=iw(t,{errors:S,currentLocation:_,expectedLocation:d,distance:i,ignoreLocation:u}),b<=h)){if(h=b,p=_,p<=d)break;A=Math.max(1,2*d-p)}}if(iw(t,{errors:S+1,currentLocation:d,expectedLocation:d,distance:i,ignoreLocation:u})>h)break;v=L}const k={isMatch:p>=0,score:Math.max(.001,b)};if(g){const S=Mst(m,a);S.length?l&&(k.indices=S):k.isMatch=!1}return k}function Rst(e){let t={};for(let n=0,r=e.length;n<r;n+=1){const i=e.charAt(n);t[i]=(t[i]||0)|1<<r-n-1}return t}class bfe{constructor(t,{location:n=Re.location,threshold:r=Re.threshold,distance:i=Re.distance,includeMatches:o=Re.includeMatches,findAllMatches:s=Re.findAllMatches,minMatchCharLength:a=Re.minMatchCharLength,isCaseSensitive:l=Re.isCaseSensitive,ignoreLocation:u=Re.ignoreLocation}={}){if(this.options={location:n,threshold:r,distance:i,includeMatches:o,findAllMatches:s,minMatchCharLength:a,isCaseSensitive:l,ignoreLocation:u},this.pattern=l?t:t.toLowerCase(),this.chunks=[],!this.pattern.length)return;const c=(d,h)=>{this.chunks.push({pattern:d,alphabet:Rst(d),startIndex:h})},f=this.pattern.length;if(f>Tf){let d=0;const h=f%Tf,p=f-h;for(;d<p;)c(this.pattern.substr(d,Tf),d),d+=Tf;if(h){const g=f-Tf;c(this.pattern.substr(g),g)}}else c(this.pattern,0)}searchIn(t){const{isCaseSensitive:n,includeMatches:r}=this.options;if(n||(t=t.toLowerCase()),this.pattern===t){let p={isMatch:!0,score:0};return r&&(p.indices=[[0,t.length-1]]),p}const{location:i,distance:o,threshold:s,findAllMatches:a,minMatchCharLength:l,ignoreLocation:u}=this.options;let c=[],f=0,d=!1;this.chunks.forEach(({pattern:p,alphabet:g,startIndex:m})=>{const{isMatch:y,score:v,indices:b}=Fst(t,p,g,{location:i+m,distance:o,threshold:s,findAllMatches:a,minMatchCharLength:l,includeMatches:r,ignoreLocation:u});y&&(d=!0),f+=v,y&&b&&(c=[...c,...b])});let h={isMatch:d,score:d?f/this.chunks.length:1};return d&&r&&(h.indices=c),h}}class Xc{constructor(t){this.pattern=t}static isMultiMatch(t){return PH(t,this.multiRegex)}static isSingleMatch(t){return PH(t,this.singleRegex)}search(){}}function PH(e,t){const n=e.match(t);return n?n[1]:null}class Ost extends Xc{constructor(t){super(t)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(t){const n=t===this.pattern;return{isMatch:n,score:n?0:1,indices:[0,this.pattern.length-1]}}}class Dst extends Xc{constructor(t){super(t)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(t){const r=t.indexOf(this.pattern)===-1;return{isMatch:r,score:r?0:1,indices:[0,t.length-1]}}}class Nst extends Xc{constructor(t){super(t)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(t){const n=t.startsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,this.pattern.length-1]}}}class Lst extends Xc{constructor(t){super(t)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(t){const n=!t.startsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,t.length-1]}}}class Ist extends Xc{constructor(t){super(t)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(t){const n=t.endsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[t.length-this.pattern.length,t.length-1]}}}class zst extends Xc{constructor(t){super(t)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(t){const n=!t.endsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,t.length-1]}}}class xfe extends Xc{constructor(t,{location:n=Re.location,threshold:r=Re.threshold,distance:i=Re.distance,includeMatches:o=Re.includeMatches,findAllMatches:s=Re.findAllMatches,minMatchCharLength:a=Re.minMatchCharLength,isCaseSensitive:l=Re.isCaseSensitive,ignoreLocation:u=Re.ignoreLocation}={}){super(t),this._bitapSearch=new bfe(t,{location:n,threshold:r,distance:i,includeMatches:o,findAllMatches:s,minMatchCharLength:a,isCaseSensitive:l,ignoreLocation:u})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(t){return this._bitapSearch.searchIn(t)}}class wfe extends Xc{constructor(t){super(t)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(t){let n=0,r;const i=[],o=this.pattern.length;for(;(r=t.indexOf(this.pattern,n))>-1;)n=r+o,i.push([r,n-1]);const s=!!i.length;return{isMatch:s,score:s?0:1,indices:i}}}const xF=[Ost,wfe,Nst,Lst,zst,Ist,Dst,xfe],MH=xF.length,jst=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,Bst="|";function Ust(e,t={}){return e.split(Bst).map(n=>{let r=n.trim().split(jst).filter(o=>o&&!!o.trim()),i=[];for(let o=0,s=r.length;o<s;o+=1){const a=r[o];let l=!1,u=-1;for(;!l&&++u<MH;){const c=xF[u];let f=c.isMultiMatch(a);f&&(i.push(new c(f,t)),l=!0)}if(!l)for(u=-1;++u<MH;){const c=xF[u];let f=c.isSingleMatch(a);if(f){i.push(new c(f,t));break}}}return i})}const Vst=new Set([xfe.type,wfe.type]);class Wst{constructor(t,{isCaseSensitive:n=Re.isCaseSensitive,includeMatches:r=Re.includeMatches,minMatchCharLength:i=Re.minMatchCharLength,ignoreLocation:o=Re.ignoreLocation,findAllMatches:s=Re.findAllMatches,location:a=Re.location,threshold:l=Re.threshold,distance:u=Re.distance}={}){this.query=null,this.options={isCaseSensitive:n,includeMatches:r,minMatchCharLength:i,findAllMatches:s,ignoreLocation:o,location:a,threshold:l,distance:u},this.pattern=n?t:t.toLowerCase(),this.query=Ust(this.pattern,this.options)}static condition(t,n){return n.useExtendedSearch}searchIn(t){const n=this.query;if(!n)return{isMatch:!1,score:1};const{includeMatches:r,isCaseSensitive:i}=this.options;t=i?t:t.toLowerCase();let o=0,s=[],a=0;for(let l=0,u=n.length;l<u;l+=1){const c=n[l];s.length=0,o=0;for(let f=0,d=c.length;f<d;f+=1){const h=c[f],{isMatch:p,indices:g,score:m}=h.search(t);if(p){if(o+=1,a+=m,r){const y=h.constructor.type;Vst.has(y)?s=[...s,...g]:s.push(g)}}else{a=0,o=0,s.length=0;break}}if(o){let f={isMatch:!0,score:a/o};return r&&(f.indices=s),f}}return{isMatch:!1,score:1}}}const wF=[];function Hst(...e){wF.push(...e)}function SF(e,t){for(let n=0,r=wF.length;n<r;n+=1){let i=wF[n];if(i.condition(e,t))return new i(e,t)}return new bfe(e,t)}const Vk={AND:"$and",OR:"$or"},kF={PATH:"$path",PATTERN:"$val"},CF=e=>!!(e[Vk.AND]||e[Vk.OR]),qst=e=>!!e[kF.PATH],Gst=e=>!Hl(e)&&gfe(e)&&!CF(e),FH=e=>({[Vk.AND]:Object.keys(e).map(t=>({[t]:e[t]}))});function Sfe(e,t,{auto:n=!0}={}){const r=i=>{let o=Object.keys(i);const s=qst(i);if(!s&&o.length>1&&!CF(i))return r(FH(i));if(Gst(i)){const l=s?i[kF.PATH]:o[0],u=s?i[kF.PATTERN]:i[l];if(!pa(u))throw new Error(vst(l));const c={keyId:bF(l),pattern:u};return n&&(c.searcher=SF(u,t)),c}let a={children:[],operator:o[0]};return o.forEach(l=>{const u=i[l];Hl(u)&&u.forEach(c=>{a.children.push(r(c))})}),a};return CF(e)||(e=FH(e)),r(e)}function Yst(e,{ignoreFieldNorm:t=Re.ignoreFieldNorm}){e.forEach(n=>{let r=1;n.matches.forEach(({key:i,norm:o,score:s})=>{const a=i?i.weight:null;r*=Math.pow(s===0&&a?Number.EPSILON:s,(a||1)*(t?1:o))}),n.score=r})}function Xst(e,t){const n=e.matches;t.matches=[],Di(n)&&n.forEach(r=>{if(!Di(r.indices)||!r.indices.length)return;const{indices:i,value:o}=r;let s={indices:i,value:o};r.key&&(s.key=r.key.src),r.idx>-1&&(s.refIndex=r.idx),t.matches.push(s)})}function Kst(e,t){t.score=e.score}function Qst(e,t,{includeMatches:n=Re.includeMatches,includeScore:r=Re.includeScore}={}){const i=[];return n&&i.push(Xst),r&&i.push(Kst),e.map(o=>{const{idx:s}=o,a={item:t[s],refIndex:s};return i.length&&i.forEach(l=>{l(o,a)}),a})}class Rm{constructor(t,n={},r){this.options={...Re,...n},this.options.useExtendedSearch,this._keyStore=new Sst(this.options.keys),this.setCollection(t,r)}setCollection(t,n){if(this._docs=t,n&&!(n instanceof vI))throw new Error(yst);this._myIndex=n||vfe(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(t){Di(t)&&(this._docs.push(t),this._myIndex.add(t))}remove(t=()=>!1){const n=[];for(let r=0,i=this._docs.length;r<i;r+=1){const o=this._docs[r];t(o,r)&&(this.removeAt(r),r-=1,i-=1,n.push(o))}return n}removeAt(t){this._docs.splice(t,1),this._myIndex.removeAt(t)}getIndex(){return this._myIndex}search(t,{limit:n=-1}={}){const{includeMatches:r,includeScore:i,shouldSort:o,sortFn:s,ignoreFieldNorm:a}=this.options;let l=pa(t)?pa(this._docs[0])?this._searchStringList(t):this._searchObjectList(t):this._searchLogical(t);return Yst(l,{ignoreFieldNorm:a}),o&&l.sort(s),pfe(n)&&n>-1&&(l=l.slice(0,n)),Qst(l,this._docs,{includeMatches:r,includeScore:i})}_searchStringList(t){const n=SF(t,this.options),{records:r}=this._myIndex,i=[];return r.forEach(({v:o,i:s,n:a})=>{if(!Di(o))return;const{isMatch:l,score:u,indices:c}=n.searchIn(o);l&&i.push({item:o,idx:s,matches:[{score:u,value:o,norm:a,indices:c}]})}),i}_searchLogical(t){const n=Sfe(t,this.options),r=(a,l,u)=>{if(!a.children){const{keyId:f,searcher:d}=a,h=this._findMatches({key:this._keyStore.get(f),value:this._myIndex.getValueForItemAtKeyId(l,f),searcher:d});return h&&h.length?[{idx:u,item:l,matches:h}]:[]}const c=[];for(let f=0,d=a.children.length;f<d;f+=1){const h=a.children[f],p=r(h,l,u);if(p.length)c.push(...p);else if(a.operator===Vk.AND)return[]}return c},i=this._myIndex.records,o={},s=[];return i.forEach(({$:a,i:l})=>{if(Di(a)){let u=r(n,a,l);u.length&&(o[l]||(o[l]={idx:l,item:a,matches:[]},s.push(o[l])),u.forEach(({matches:c})=>{o[l].matches.push(...c)}))}}),s}_searchObjectList(t){const n=SF(t,this.options),{keys:r,records:i}=this._myIndex,o=[];return i.forEach(({$:s,i:a})=>{if(!Di(s))return;let l=[];r.forEach((u,c)=>{l.push(...this._findMatches({key:u,value:s[c],searcher:n}))}),l.length&&o.push({idx:a,item:s,matches:l})}),o}_findMatches({key:t,value:n,searcher:r}){if(!Di(n))return[];let i=[];if(Hl(n))n.forEach(({v:o,i:s,n:a})=>{if(!Di(o))return;const{isMatch:l,score:u,indices:c}=r.searchIn(o);l&&i.push({score:u,key:t,value:o,idx:s,norm:a,indices:c})});else{const{v:o,n:s}=n,{isMatch:a,score:l,indices:u}=r.searchIn(o);a&&i.push({score:l,key:t,value:o,norm:s,indices:u})}return i}}Rm.version="7.0.0";Rm.createIndex=vfe;Rm.parseIndex=Pst;Rm.config=Re;Rm.parseQuery=Sfe;Hst(Wst);const Jst={includeScore:!1,threshold:.3},Zst=e=>new Rm(e,Jst);function eat(e){const t=St(i=>i.fields),n=M.useMemo(()=>t.map(i=>i.name),[t]);return Zst(n).search(e)}function tat(){var c,f;const{loading:e,initializeSession:t}=hfe(),[n,r]=M.useState(""),i=M.useRef(null),o=d=>{var p,g;const h=((g=d.target.files)==null?void 0:g[((p=d.target.files)==null?void 0:p.length)-1].name)??"";r(h)},s=d=>{r(d.target.value),i.current&&(i.current.value="",i.current.files=null)},a=()=>{i.current&&i.current.click()},l=()=>{var d,h;if((h=(d=i.current)==null?void 0:d.files)!=null&&h.length){const p=i.current.files[0];t(p)}else _it(n)&&t(n)},u=!n&&!((f=(c=i.current)==null?void 0:c.files)!=null&&f.length);return{fileInputRef:i,inputDisabled:u,loadingData:e,pathInput:n,handleInputChange:s,handleSubmit:l,handleFileChange:o,handleFileButtonClick:a}}function nat(e,t){t.domain&&("nice"in e||"quantiles"in e||"padding"in e,e.domain(t.domain))}function rat(e,t){t.range&&("padding"in e,e.range(t.range))}function iat(e,t){"align"in e&&"align"in t&&typeof t.align<"u"&&e.align(t.align)}function oat(e,t){"base"in e&&"base"in t&&typeof t.base<"u"&&e.base(t.base)}function sat(e,t){"clamp"in e&&"clamp"in t&&typeof t.clamp<"u"&&e.clamp(t.clamp)}function aat(e,t){"constant"in e&&"constant"in t&&typeof t.constant<"u"&&e.constant(t.constant)}function lat(e,t){"exponent"in e&&"exponent"in t&&typeof t.exponent<"u"&&e.exponent(t.exponent)}var RH={lab:one,hcl:ane,"hcl-long":lne,hsl:rne,"hsl-long":ine,cubehelix:cne,"cubehelix-long":fne,rgb:ES};function uat(e){switch(e){case"lab":case"hcl":case"hcl-long":case"hsl":case"hsl-long":case"cubehelix":case"cubehelix-long":case"rgb":return RH[e]}var t=e.type,n=e.gamma,r=RH[t];return typeof n>"u"?r:r.gamma(n)}function cat(e,t){if("interpolate"in t&&"interpolate"in e&&typeof t.interpolate<"u"){var n=uat(t.interpolate);e.interpolate(n)}}var fat=new Date(Date.UTC(2020,1,2,3,4,5)),dat="%Y-%m-%d %H:%M";function hat(e){var t=e.tickFormat(1,dat)(fat);return t==="2020-02-02 03:04"}var OH={day:Sa,hour:Ov,minute:Fv,month:mg,second:hs,week:Yd,year:Cs},DH={day:El,hour:Dv,minute:Rv,month:yg,second:hs,week:Kd,year:Es};function pat(e,t){if("nice"in t&&typeof t.nice<"u"&&"nice"in e){var n=t.nice;if(typeof n=="boolean")n&&e.nice();else if(typeof n=="number")e.nice(n);else{var r=e,i=hat(r);if(typeof n=="string")r.nice(i?DH[n]:OH[n]);else{var o=n.interval,s=n.step,a=(i?DH[o]:OH[o]).every(s);a!=null&&r.nice(a)}}}}function gat(e,t){"padding"in e&&"padding"in t&&typeof t.padding<"u"&&e.padding(t.padding),"paddingInner"in e&&"paddingInner"in t&&typeof t.paddingInner<"u"&&e.paddingInner(t.paddingInner),"paddingOuter"in e&&"paddingOuter"in t&&typeof t.paddingOuter<"u"&&e.paddingOuter(t.paddingOuter)}function mat(e,t){if(t.reverse){var n=e.range().slice().reverse();"padding"in e,e.range(n)}}function yat(e,t){"round"in t&&typeof t.round<"u"&&(t.round&&"interpolate"in t&&typeof t.interpolate<"u"?console.warn("[visx/scale/applyRound] ignoring round: scale config contains round and interpolate. only applying interpolate. config:",t):"round"in e?e.round(t.round):"interpolate"in e&&t.round&&e.interpolate(ym))}function vat(e,t){"unknown"in e&&"unknown"in t&&typeof t.unknown<"u"&&e.unknown(t.unknown)}function bat(e,t){if("zero"in t&&t.zero===!0){var n=e.domain(),r=n[0],i=n[1],o=i<r,s=o?[i,r]:[r,i],a=s[0],l=s[1],u=[Math.min(0,a),Math.max(0,l)];e.domain(o?u.reverse():u)}}var xat=["domain","nice","zero","interpolate","round","range","reverse","align","base","clamp","constant","exponent","padding","unknown"],wat={domain:nat,nice:pat,zero:bat,interpolate:cat,round:yat,align:iat,base:oat,clamp:sat,constant:aat,exponent:lat,padding:gat,range:rat,reverse:mat,unknown:vat};function Sat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=new Set(t),i=xat.filter(function(o){return r.has(o)});return function(s,a){return typeof a<"u"&&i.forEach(function(l){wat[l](s,a)}),s}}var kat=Sat("domain","range","reverse","clamp","interpolate","nice","round","zero");function Cat(e){return kat(bD(),e)}const C0={TOP:12,RIGHT:10,BOTTOM:12,LEFT:10},Eat=6;function _at({width:e,height:t,r:n}){const r=St(p=>p.charts),i=St(p=>p.currentChartIndex),{preferredColor:o}=Rs(),s=qs(Ct["gray.400"],Ct["gray.600"]),a=Math.min(e-C0.LEFT-C0.RIGHT,(Eat+2*n)*r.length),l=t-C0.TOP-C0.BOTTOM,u=e/2,c=l/2+C0.TOP,f=n-Math.floor(r.length/40),d=Cat({domain:[0,r.length-1],range:[u-a/2,u+a/2]});return r.map((p,g)=>({key:`indicator-${p.key}`,cx:d(g),cy:c,r:g===i?2*f:f,fill:p.preferred?o:s,isActive:g===i}))}function Rs(){const e=Ih({base:0,lg:"18px"}),t=Ih({base:window.innerWidth,lg:880}),n=Ih({base:"100dvh",lg:"calc(80dvh - 18px)"}),r=Ih({base:!0,lg:!1}),i=qs(Ct.white,Ct["gray.900"]),o=qs(Ct.white,Ct["gray.900"]),s=qs(Ct["gray.200"],Ct["gray.700"]),a=Ih({base:320,lg:560}),l=5,u="70px",c=qs(Ct["gray.100"],Ct["gray.800"]),f=qs(qu[600],qu[300]),d=qs(qu[500],qu[400]),h=qs(Ct["red.500"],Ct["red.200"]),p=qs(Ct["orange.50"],Ct["orange.800"]),g=qs(Ct["orange.100"],Ct["orange.700"]);return{accentColor:f,accentHoverColor:d,borderColor:s,preferredColor:h,buttonColor:c,cardPadding:e,cardWidth:t,cardHeight:n,cardColor:o,drawerBgColor:i,tabPanelHeight:a,tabIconSize:l,thumbnailSize:u,mobile:r,scrollbarStyle:{"&::-webkit-scrollbar":{width:"5px"},"&::-webkit-scrollbar-track":{background:"transparent"},"&::-webkit-scrollbar-thumb":{background:f,borderRadius:"5px"},"&::-webkit-scrollbar-thumb:hover":{background:d}},accentSelected:p,accentSelectedHover:g}}function kfe(){const[e,t]=M.useState(()=>Eo.getLoadingStatus()??{loading:!0,loadingPyodide:!0,loadingServer:!0});return M.useEffect(()=>{const n=r=>{t(r)};return Eo.on("loadingStatusChange",n),()=>{Eo.off("loadingStatusChange",n)}},[]),e}const $at=(...e)=>{console!=null&&console.warn&&(ud(e[0])&&(e[0]=`react-i18next:: ${e[0]}`),console.warn(...e))},NH={},EF=(...e)=>{ud(e[0])&&NH[e[0]]||(ud(e[0])&&(NH[e[0]]=new Date),$at(...e))},Cfe=(e,t)=>()=>{if(e.isInitialized)t();else{const n=()=>{setTimeout(()=>{e.off("initialized",n)},0),t()};e.on("initialized",n)}},LH=(e,t,n)=>{e.loadNamespaces(t,Cfe(e,n))},IH=(e,t,n,r)=>{ud(n)&&(n=[n]),n.forEach(i=>{e.options.ns.indexOf(i)<0&&e.options.ns.push(i)}),e.loadLanguages(t,Cfe(e,r))},Aat=(e,t,n={})=>!t.languages||!t.languages.length?(EF("i18n.languages were undefined or empty",t.languages),!0):t.hasLoadedNamespace(e,{lng:n.lng,precheck:(r,i)=>{var o;if(((o=n.bindI18n)==null?void 0:o.indexOf("languageChanging"))>-1&&r.services.backendConnector.backend&&r.isLanguageChangingTo&&!i(r.isLanguageChangingTo,e))return!1}}),ud=e=>typeof e=="string",Tat=e=>typeof e=="object"&&e!==null,Pat=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,Mat={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},Fat=e=>Mat[e],Rat=e=>e.replace(Pat,Fat);let _F={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:Rat};const Oat=(e={})=>{_F={..._F,...e}},Dat=()=>_F;let Efe;const Nat=e=>{Efe=e},Lat=()=>Efe,Iat={type:"3rdParty",init(e){Oat(e.options.react),Nat(e)}},zat=M.createContext();class jat{constructor(){this.usedNamespaces={}}addUsedNamespaces(t){t.forEach(n=>{var r;(r=this.usedNamespaces)[n]??(r[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const Bat=(e,t)=>{const n=M.useRef();return M.useEffect(()=>{n.current=e},[e,t]),n.current},_fe=(e,t,n,r)=>e.getFixedT(t,n,r),Uat=(e,t,n,r)=>M.useCallback(_fe(e,t,n,r),[e,t,n,r]),Om=(e,t={})=>{var x,w,k,S;const{i18n:n}=t,{i18n:r,defaultNS:i}=M.useContext(zat)||{},o=n||r||Lat();if(o&&!o.reportNamespaces&&(o.reportNamespaces=new jat),!o){EF("You will need to pass in an i18next instance by using initReactI18next");const C=(A,T)=>ud(T)?T:Tat(T)&&ud(T.defaultValue)?T.defaultValue:Array.isArray(A)?A[A.length-1]:A,E=[C,{},!1];return E.t=C,E.i18n={},E.ready=!1,E}(x=o.options.react)!=null&&x.wait&&EF("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const s={...Dat(),...o.options.react,...t},{useSuspense:a,keyPrefix:l}=s;let u=i||((w=o.options)==null?void 0:w.defaultNS);u=ud(u)?[u]:u||["translation"],(S=(k=o.reportNamespaces).addUsedNamespaces)==null||S.call(k,u);const c=(o.isInitialized||o.initializedStoreOnce)&&u.every(C=>Aat(C,o,s)),f=Uat(o,t.lng||null,s.nsMode==="fallback"?u:u[0],l),d=()=>f,h=()=>_fe(o,t.lng||null,s.nsMode==="fallback"?u:u[0],l),[p,g]=M.useState(d);let m=u.join();t.lng&&(m=`${t.lng}${m}`);const y=Bat(m),v=M.useRef(!0);M.useEffect(()=>{const{bindI18n:C,bindI18nStore:E}=s;v.current=!0,!c&&!a&&(t.lng?IH(o,t.lng,u,()=>{v.current&&g(h)}):LH(o,u,()=>{v.current&&g(h)})),c&&y&&y!==m&&v.current&&g(h);const A=()=>{v.current&&g(h)};return C&&(o==null||o.on(C,A)),E&&(o==null||o.store.on(E,A)),()=>{v.current=!1,o&&(C==null||C.split(" ").forEach(T=>o.off(T,A))),E&&o&&E.split(" ").forEach(T=>o.store.off(T,A))}},[o,m]),M.useEffect(()=>{v.current&&c&&g(d)},[o,l,c]);const b=[p,o,c];if(b.t=p,b.i18n=o,b.ready=c,c||!c&&!a)return b;throw new Promise(C=>{t.lng?IH(o,t.lng,u,()=>C()):LH(o,u,()=>C())})},ow=e=>Object.fromEntries(Object.entries(e).filter(([n,r])=>typeof r!="function")),Vat={bookmark:{filename:Wl.getState().filename},"load-demo":{}},Wat=e=>Vat[e]||{...ow(Wl.getState()),...ow(Fs.getState()),...ow(St.getState()),...ow(Zce.getState())},$F=(e,t)=>t.some(n=>e instanceof n);let zH,jH;function Hat(){return zH||(zH=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function qat(){return jH||(jH=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const AF=new WeakMap,i5=new WeakMap,e$=new WeakMap;function Gat(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",o),e.removeEventListener("error",s)},o=()=>{n(cd(e.result)),i()},s=()=>{r(e.error),i()};e.addEventListener("success",o),e.addEventListener("error",s)});return e$.set(t,e),t}function Yat(e){if(AF.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",s),e.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",o),e.addEventListener("error",s),e.addEventListener("abort",s)});AF.set(e,t)}let TF={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return AF.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return cd(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function $fe(e){TF=e(TF)}function Xat(e){return qat().includes(e)?function(...t){return e.apply(PF(this),t),cd(this.request)}:function(...t){return cd(e.apply(PF(this),t))}}function Kat(e){return typeof e=="function"?Xat(e):(e instanceof IDBTransaction&&Yat(e),$F(e,Hat())?new Proxy(e,TF):e)}function cd(e){if(e instanceof IDBRequest)return Gat(e);if(i5.has(e))return i5.get(e);const t=Kat(e);return t!==e&&(i5.set(e,t),e$.set(t,e)),t}const PF=e=>e$.get(e);function Afe(e,t,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(e,t),a=cd(s);return r&&s.addEventListener("upgradeneeded",l=>{r(cd(s.result),l.oldVersion,l.newVersion,cd(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const Qat=["get","getKey","getAll","getAllKeys","count"],Jat=["put","add","delete","clear"],o5=new Map;function BH(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(o5.get(t))return o5.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=Jat.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Qat.includes(n)))return;const o=async function(s,...a){const l=this.transaction(s,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return o5.set(t,o),o}$fe(e=>({...e,get:(t,n,r)=>BH(t,n)||e.get(t,n,r),has:(t,n)=>!!BH(t,n)||e.has(t,n)}));const Zat=["continue","continuePrimaryKey","advance"],UH={},MF=new WeakMap,Tfe=new WeakMap,elt={get(e,t){if(!Zat.includes(t))return e[t];let n=UH[t];return n||(n=UH[t]=function(...r){MF.set(this,Tfe.get(this)[t](...r))}),n}};async function*tlt(...e){let t=this;if(t instanceof IDBCursor||(t=await t.openCursor(...e)),!t)return;t=t;const n=new Proxy(t,elt);for(Tfe.set(n,t),e$.set(n,PF(t));t;)yield n,t=await(MF.get(n)||t.continue()),MF.delete(n)}function VH(e,t){return t===Symbol.asyncIterator&&$F(e,[IDBIndex,IDBObjectStore,IDBCursor])||t==="iterate"&&$F(e,[IDBIndex,IDBObjectStore])}$fe(e=>({...e,get(t,n,r){return VH(t,n)?tlt:e.get(t,n,r)},has(t,n){return VH(t,n)||e.has(t,n)}}));const FF="logs",lc="logs",Pfe=1,nlt="log",rlt="json",Mfe=()=>new Map,Ffe=()=>{const e=localStorage.getItem(FF)??"[]";try{const t=JSON.parse(e);return new Map(t)}catch(t){return console.error("Failed to parse existing logs:",t),localStorage.removeItem(FF),Mfe()}},WH=(e,t)=>{const n=Ffe();n.set(e,{...t,timestamp:e,version:Pfe}),localStorage.setItem(FF,JSON.stringify(Array.from(n.entries())))},ilt=()=>Afe(lc,1,{upgrade(e){e.objectStoreNames.contains(lc)||e.createObjectStore(lc,{keyPath:"timestamp"})}}),olt=async e=>{if(e)try{const t=e.transaction(lc,"readonly"),n=t.objectStore(lc),r=Mfe(),i=await n.getAll();return await t.done,i.forEach(o=>{o.timestamp!==void 0&&r.set(o.timestamp,o)}),r}catch(t){return console.error("IndexedDB read error:",t),[]}return[]},slt=(e,t,n)=>{if(e)try{e.transaction(lc,"readwrite").objectStore(lc).add({timestamp:t,...n,version:Pfe})}catch(r){console.error("IndexedDB error:",r),WH(t,n)}else WH(t,n)},alt=async()=>{const e=await Afe(lc,1),t=await olt(e),n=Ffe(),r=new Map([...t,...n]),i=Array.from(r.entries()).sort((l,u)=>l[0]-u[0]).map(([l,u])=>({...u,timestamp:new Date(l).toLocaleString()})),o=new Blob([JSON.stringify(i,null,2)],{type:"application/json"}),s=URL.createObjectURL(o),a=document.createElement("a");a.href=s,a.download=`${nlt}.${rlt}`,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(s)};let llt=class{constructor(){ae(this,"indexedDB",null);ae(this,"onEvent",t=>n=>{const r=n.type;if(console.log(1,{eventType:r,targetEventType:t}),r!==t)return;const i=n.target,o=Date.now(),s=i.closest(`[data-log-${t}]`);if(console.log(2,{target:i,closestEventElement:s}),!s)return;const a=s.getAttribute(`data-log-${t}`);if(typeof a!="string")return;const l=Wat(a);slt(this.indexedDB,o,{key:a,data:l})});ae(this,"onClickListener",this.onEvent("click"));ae(this,"onScrollListener",this.onEvent("scroll"));ae(this,"attachEventListener",()=>{window.addEventListener("click",this.onClickListener),window.addEventListener("scroll",this.onScrollListener)});ae(this,"detachEventListener",()=>{window.removeEventListener("click",this.onClickListener),window.removeEventListener("scroll",this.onScrollListener)})}async initializeDB(){try{this.indexedDB=await ilt()}catch(t){console.error("Failed to connect to IndexedDB:",t)}}};const s5=new llt;function ult(){M.useEffect(()=>(s5.initializeDB().then(()=>{s5.attachEventListener()}),()=>{s5.detachEventListener()}),[])}function clt(){const{fileCache:e,writeFile:t}=Wl(),{loadSession:n,filename:r}=St(),{apiKey:i,setApiKey:o}=Zce(),{colorMode:s,toggleColorMode:a}=om(),[l,u]=M.useState(()=>Eo.getPythonType()),{t:c,i18n:f}=Om(),d=s$e();return{python:l,handleServerButtonClick:async()=>{if(!Eo)return;const m=l==="pyodide"?"server":"pyodide";if(!Eo.setPython(m)){d({id:"server-not-available",title:c("toast.server_not_available_title"),description:c("toast.server_not_available_description"),status:"error",duration:3e3,isClosable:!0,position:"bottom",containerStyle:{margin:10}});return}u(m),e&&(await t(e),await n(r))},apiKey:i,handleApiKeyChange:m=>{o(m.target.value)},handleDownloadLogs:()=>{try{alt()}catch(m){d({title:"Oh no!",description:JSON.stringify(m),status:"error",duration:3e3,isClosable:!0,position:"bottom",containerStyle:{margin:10}})}},colorMode:s,toggleColorMode:a,locale:f.language,setLocale:m=>f.changeLanguage(m)}}function Rfe({chart:e,onClick:t}){const{buttonColor:n,thumbnailSize:r}=Rs(),i=Wl(a=>a.data),[o,s]=M.useState(e.thumbnail);return M.useEffect(()=>{!o&&i&&(async()=>{const l=await kit(e.specs[0],i);s(l)})()},[e.specs,i,o]),$.jsxs(PR,{as:Ht,flexDir:"column",children:[$.jsxs(Ht,{p:1,gap:4,borderRadius:"md",alignItems:"center",onClick:()=>t(e),transition:"background-color 0.2s",_hover:{cursor:"pointer",bg:n},children:[!!o&&$.jsx(MQ,{src:o,alt:`Chart thumbnail ${e.title}`,w:r,h:r}),$.jsx(Ht,{flexDir:"column",children:e.fields.map((a,l)=>$.jsx(Lt,{fontSize:l!==2?"md":"sm",fontWeight:l!==2?800:500,children:a.name},`${e.key}-field-name-${a.name}`))})]}),$.jsx(OR,{my:1})]},`bookmark-${e.key}`)}function flt({...e}){const{preferredCharts:t,handleClickBookmark:n}=vot(),{t:r}=Om();return $.jsx(sm,{display:"flex",flexDirection:"column",height:"full",...e,children:$.jsx(TR,{m:0,p:0,width:"full",overflowY:"auto",children:t.length?t.map(i=>$.jsx(Rfe,{chart:i,onClick:n},`bookmark-${i.key}`)):$.jsx(PR,{children:$.jsx(hc,{minH:400,children:r("bookmarks.empty")})})})})}function dlt(){const{scrollbarStyle:e,buttonColor:t,borderColor:n,cardColor:r,accentSelected:i,accentSelectedHover:o,accentColor:s}=Rs(),{browsedCharts:a,inputDisabled:l,loading:u,fieldNameMatches:c,selectedFields:f,inputValue:d,setInputValue:h,appendBrowseField:p,appendBrowsedChart:g,handleKeydown:m,suggestionCursorIndex:y}=est(),{tabPanelHeight:v}=Rs();return $.jsxs(sm,{as:wa,w:"full",alignItems:"center",h:v,children:[$.jsxs(J2,{w:"100%",position:"relative",children:[$.jsxs(WQ,{spacing:1,borderRadius:"md",alignItems:"flex-start",w:"100%",flexWrap:"wrap",border:"1px solid",borderBottomRadius:c.length>0?0:"md",borderColor:n,p:2,children:[f.map(b=>$.jsxs(nJ,{borderRadius:"full",colorScheme:mr,children:[$.jsx(rJ,{children:b}),$.jsx(oJ,{onClick:()=>p(b)})]},b)),$.jsx(_1,{type:"text",w:"fit-content",h:"fit-content",px:2,minW:f.length>0?0:60,placeholder:f.length>0?"":"Input field names to search...",borderColor:"transparent",value:d,onChange:b=>h(b.target.value),disabled:l,_focusVisible:{borderColor:"transparent"},_hover:{borderColor:"transparent"},onKeyDown:m})]}),c.length>0&&$.jsx(wa,{alignItems:"flex-start",borderRadius:6,overflow:"hidden",gap:0,w:"full",borderTopRadius:0,borderColor:n,borderWidth:1,position:"absolute",zIndex:1,children:c.map((b,x)=>$.jsx(J2,{onClick:()=>p(b.item),bgColor:(()=>{const w=f.includes(b.item),k=x===y;return w?k?o:i:k?t:r})(),w:"100%",pl:2,cursor:"pointer",borderTopWidth:1,borderTopColor:n,children:b.item},b.item))})]}),u?$.jsx(IC,{size:"md",my:8,color:s}):$.jsx(TR,{m:0,p:0,width:"full",overflowY:"scroll",sx:e,flex:1,children:a.map(b=>$.jsx(Rfe,{chart:b,onClick:()=>{g(b)}},`${b.key}-${b.timestamp}`))})]})}const HH={};function RF(e,t){e===void 0&&(e=HH),t===void 0&&(t=HH);const n=Object.keys(e),r=Object.keys(t);return e===t||n.length===r.length&&n.every(i=>e[i]===t[i])}function hlt(e){return!!e&&{}.toString.call(e)==="[object Function]"}function plt(e,t,n){n&&(hlt(n)?n(e.data(t)):e.change(t,Zo.changeset().remove(()=>!0).insert(n)))}function glt(e,t){Object.keys(t).forEach(n=>{plt(e,n,t[n])})}function Ofe(e){const t=new Set;return e.forEach(n=>{Object.keys(n).forEach(r=>{t.add(r)})}),t}const Dfe=()=>{};function a5(e,t){const n=Object.keys(t);return n.forEach(r=>{try{e.addSignalListener(r,t[r])}catch(i){console.warn("Cannot add invalid signal listener.",i)}}),n.length>0}var mlt=function e(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var r,i,o;if(Array.isArray(t)){if(r=t.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(o=Object.keys(t),r=o.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,o[i]))return!1;for(i=r;i--!==0;){var s=o[i];if(!e(t[s],n[s]))return!1}return!0}return t!==t&&n!==n};const ylt=Da(mlt);function vlt(e,t){if(e===t)return!1;const n={width:!1,height:!1,isExpensive:!1},r=Ofe([e,t]);return r.has("width")&&(!("width"in e)||!("width"in t)||e.width!==t.width)&&("width"in e&&typeof e.width=="number"?n.width=e.width:n.isExpensive=!0),r.has("height")&&(!("height"in e)||!("height"in t)||e.height!==t.height)&&("height"in e&&typeof e.height=="number"?n.height=e.height:n.isExpensive=!0),r.delete("width"),r.delete("height"),[...r].some(i=>!(i in e)||!(i in t)||!ylt(e[i],t[i]))&&(n.isExpensive=!0),n.width!==!1||n.height!==!1||n.isExpensive?n:!1}function qH(e,t){const n=Object.keys(t);return n.forEach(r=>{try{e.removeSignalListener(r,t[r])}catch(i){console.warn("Cannot remove invalid signal listener.",i)}}),n.length>0}function l5(e){const{spec:t,width:n,height:r}=e;return typeof n<"u"&&typeof r<"u"?{...t,width:n,height:r}:typeof n<"u"?{...t,width:n}:typeof r<"u"?{...t,height:r}:t}function dy(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Nfe extends Vi.PureComponent{constructor(){super(...arguments),dy(this,"containerRef",Vi.createRef()),dy(this,"resultPromise",void 0),dy(this,"handleError",t=>{const{onError:n=Dfe}=this.props;n(t,this.containerRef.current),console.warn(t)}),dy(this,"modifyView",t=>{this.resultPromise&&this.resultPromise.then(n=>(n&&t(n.view),!0)).catch(this.handleError)})}componentDidMount(){this.createView()}componentDidUpdate(t){const n=Ofe([this.props,t]);if(n.delete("className"),n.delete("signalListeners"),n.delete("spec"),n.delete("style"),n.delete("width"),n.delete("height"),Array.from(n).some(r=>this.props[r]!==t[r]))this.clearView(),this.createView();else{const r=vlt(l5(this.props),l5(t)),{signalListeners:i}=this.props,{signalListeners:o}=t;if(r)if(r.isExpensive)this.clearView(),this.createView();else{const s=!RF(i,o);this.modifyView(a=>{r.width!==!1&&a.width(r.width),r.height!==!1&&a.height(r.height),s&&(o&&qH(a,o),i&&a5(a,i)),a.run()})}else RF(i,o)||this.modifyView(s=>{o&&qH(s,o),i&&a5(s,i),s.run()})}}componentWillUnmount(){this.clearView()}createView(){const{spec:t,onNewView:n,signalListeners:r={},width:i,height:o,...s}=this.props;if(this.containerRef.current){const a=l5(this.props);this.resultPromise=zce(this.containerRef.current,a,s).then(l=>{if(l){const{view:u}=l;a5(u,r)&&u.run()}return l}).catch(this.handleError),n&&this.modifyView(n)}}clearView(){return this.resultPromise&&this.resultPromise.then(t=>{t&&t.finalize()}).catch(this.handleError),this.resultPromise=void 0,this}render(){const{className:t,style:n}=this.props;return Vi.createElement("div",{ref:this.containerRef,className:t,style:n})}}dy(Nfe,"propTypes",{className:u7.string,onError:u7.func});function OF(){return OF=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},OF.apply(this,arguments)}function DF(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const blt={};class Lfe extends Vi.PureComponent{constructor(){super(...arguments),DF(this,"vegaEmbed",Vi.createRef()),DF(this,"handleNewView",t=>{this.update();const{onNewView:n=Dfe}=this.props;n(t)})}componentDidMount(){this.update()}componentDidUpdate(t){RF(this.props.data,t.data)||this.update()}update(){const{data:t}=this.props;this.vegaEmbed.current&&t&&Object.keys(t).length>0&&this.vegaEmbed.current.modifyView(n=>{glt(n,t),n.resize().run()})}render(){const{data:t,...n}=this.props;return Vi.createElement(Nfe,OF({ref:this.vegaEmbed},n,{onNewView:this.handleNewView}))}}DF(Lfe,"defaultProps",{data:blt});function NF(){return NF=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},NF.apply(this,arguments)}function xlt(e){return Vi.createElement(Lfe,NF({},e,{mode:"vega-lite"}))}function wlt({chart:e,...t}){const{data:n,chartTheme:r,spec:i}=tst(e);return $.jsxs(hc,{maxW:"800px",scrollSnapAlign:"start",...t,children:[$.jsx(xlt,{spec:i,data:n,theme:r,actions:!0,logLevel:qC,tooltip:new Fce().call}),$.jsx(Ht,{minH:{base:"300px",lg:"0px"}})]})}const Slt=M.memo(wlt);/**
 * @license hugeicons-react v0.2.0
 *
 * See the LICENSE file in the root directory of this source tree.
 */var klt={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license hugeicons-react v0.2.0
 *
 * See the LICENSE file in the root directory of this source tree.
 */const cn=(e,t)=>{const n=M.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:o=1.5,className:s="",children:a,...l},u)=>{const c={ref:u,...klt,width:i,height:i,strokeWidth:o,color:r,className:s,...l};return M.createElement("svg",c,(t==null?void 0:t.map(([f,d])=>M.createElement(f,{key:d.id,...d})))??[],...Array.isArray(a)?a:[a])});return n.displayName=`${e}Icon`,n};/**
 * @license hugeicons-react v0.2.0
 *
 * See the LICENSE file in the root directory of this source tree.
 */const Clt=cn("ArrowDown01Icon",[["path",{d:"M18 9.00005C18 9.00005 13.5811 15 12 15C10.4188 15 6 9 6 9",stroke:"currentColor",key:"k0"}]]);/**
 * @license hugeicons-react v0.2.0
 *
 * See the LICENSE file in the root directory of this source tree.
 */const Elt=cn("ArrowLeft01Icon",[["path",{d:"M15 6C15 6 9.00001 10.4189 9 12C8.99999 13.5812 15 18 15 18",stroke:"currentColor",key:"k0"}]]);/**
 * @license hugeicons-react v0.2.0
 *
 * See the LICENSE file in the root directory of this source tree.
 */const _lt=cn("ArrowRight01Icon",[["path",{d:"M9.00005 6C9.00005 6 15 10.4189 15 12C15 13.5812 9 18 9 18",stroke:"currentColor",key:"k0"}]]);/**
 * @license hugeicons-react v0.2.0
 *
 * See the LICENSE file in the root directory of this source tree.
 */const $lt=cn("Calendar03Icon",[["path",{d:"M18 2V4M6 2V4",stroke:"currentColor",key:"k0"}],["path",{d:"M11.9955 13H12.0045M11.9955 17H12.0045M15.991 13H16M8 13H8.00897M8 17H8.00897",stroke:"currentColor",key:"k1"}],["path",{d:"M3.5 8H20.5",stroke:"currentColor",key:"k2"}],["path",{d:"M2.5 12.2432C2.5 7.88594 2.5 5.70728 3.75212 4.35364C5.00424 3 7.01949 3 11.05 3H12.95C16.9805 3 18.9958 3 20.2479 4.35364C21.5 5.70728 21.5 7.88594 21.5 12.2432V12.7568C21.5 17.1141 21.5 19.2927 20.2479 20.6464C18.9958 22 16.9805 22 12.95 22H11.05C7.01949 22 5.00424 22 3.75212 20.6464C2.5 19.2927 2.5 17.1141 2.5 12.7568V12.2432Z",stroke:"currentColor",key:"k3"}],["path",{d:"M3 8H21",stroke:"currentColor",key:"k4"}]]);/**
 * @license hugeicons-react v0.2.0
 *
 * See the LICENSE file in the root directory of this source tree.
 */const Alt=cn("CloudIcon",[["path",{d:"M17.4776 10.0001C17.485 10 17.4925 10 17.5 10C19.9853 10 22 12.0147 22 14.5C22 16.9853 19.9853 19 17.5 19H7C4.23858 19 2 16.7614 2 14C2 11.4003 3.98398 9.26407 6.52042 9.0227M17.4776 10.0001C17.4924 9.83536 17.5 9.66856 17.5 9.5C17.5 6.46243 15.0376 4 12 4C9.12324 4 6.76233 6.20862 6.52042 9.0227M17.4776 10.0001C17.3753 11.1345 16.9286 12.1696 16.2428 13M6.52042 9.0227C6.67826 9.00768 6.83823 9 7 9C8.12582 9 9.16474 9.37209 10.0005 10",stroke:"currentColor",key:"k0"}]]);/**
 * @license hugeicons-react v0.2.0
 *
 * See the LICENSE file in the root directory of this source tree.
 */const Tlt=cn("FileAttachmentIcon",[["path",{d:"M4 12.0004L4 14.5446C4 17.7896 4 19.4121 4.88607 20.5111C5.06508 20.7331 5.26731 20.9354 5.48933 21.1144C6.58831 22.0004 8.21082 22.0004 11.4558 22.0004C12.1614 22.0004 12.5141 22.0004 12.8372 21.8864C12.9044 21.8627 12.9702 21.8354 13.0345 21.8047C13.3436 21.6569 13.593 21.4074 14.0919 20.9085L18.8284 16.172C19.4065 15.5939 19.6955 15.3049 19.8478 14.9374C20 14.5698 20 14.1611 20 13.3436V10.0004C20 6.22919 20 4.34358 18.8284 3.172C17.7693 2.11284 16.1265 2.01122 13.0345 2.00146M13 21.5004V21.0004C13 18.172 13 16.7578 13.8787 15.8791C14.7574 15.0004 16.1716 15.0004 19 15.0004H19.5",stroke:"currentColor",key:"k0"}],["path",{d:"M4 8.23028V5.46105C4 3.54929 5.567 1.99951 7.5 1.99951C9.433 1.99951 11 3.54929 11 5.46105V9.26874C11 10.2246 10.2165 10.9995 9.25 10.9995C8.2835 10.9995 7.5 10.2246 7.5 9.26874V5.46105",stroke:"currentColor",key:"k1"}]]);/**
 * @license hugeicons-react v0.2.0
 *
 * See the LICENSE file in the root directory of this source tree.
 */const Plt=cn("GithubIcon",[["path",{d:"M10 20.5675C6.57143 21.7248 3.71429 20.5675 2 17",stroke:"currentColor",key:"k0"}],["path",{d:"M10 22V18.7579C10 18.1596 10.1839 17.6396 10.4804 17.1699C10.6838 16.8476 10.5445 16.3904 10.1771 16.2894C7.13394 15.4528 5 14.1077 5 9.64606C5 8.48611 5.38005 7.39556 6.04811 6.4464C6.21437 6.21018 6.29749 6.09208 6.31748 5.9851C6.33746 5.87813 6.30272 5.73852 6.23322 5.45932C5.95038 4.32292 5.96871 3.11619 6.39322 2.02823C6.39322 2.02823 7.27042 1.74242 9.26698 2.98969C9.72282 3.27447 9.95075 3.41686 10.1515 3.44871C10.3522 3.48056 10.6206 3.41384 11.1573 3.28041C11.8913 3.09795 12.6476 3 13.5 3C14.3524 3 15.1087 3.09795 15.8427 3.28041C16.3794 3.41384 16.6478 3.48056 16.8485 3.44871C17.0493 3.41686 17.2772 3.27447 17.733 2.98969C19.7296 1.74242 20.6068 2.02823 20.6068 2.02823C21.0313 3.11619 21.0496 4.32292 20.7668 5.45932C20.6973 5.73852 20.6625 5.87813 20.6825 5.9851C20.7025 6.09207 20.7856 6.21019 20.9519 6.4464C21.6199 7.39556 22 8.48611 22 9.64606C22 14.1077 19.8661 15.4528 16.8229 16.2894C16.4555 16.3904 16.3162 16.8476 16.5196 17.1699C16.8161 17.6396 17 18.1596 17 18.7579V22",stroke:"currentColor",key:"k1"}]]);/**
 * @license hugeicons-react v0.2.0
 *
 * See the LICENSE file in the root directory of this source tree.
 */const Mlt=cn("GridIcon",[["path",{d:"M7 2V22",stroke:"currentColor",key:"k0"}],["path",{d:"M17 2V22",stroke:"currentColor",key:"k1"}],["path",{d:"M22 7L2 7",stroke:"currentColor",key:"k2"}],["path",{d:"M22 17L2 17",stroke:"currentColor",key:"k3"}]]);/**
 * @license hugeicons-react v0.2.0
 *
 * See the LICENSE file in the root directory of this source tree.
 */const Flt=cn("HeartAddIcon",[["path",{d:"M12 21C10.6588 21 9.88572 20.4278 8.33953 19.2834C0.221721 13.2749 1.01807 6.15294 4.53744 3.99415C7.21909 2.34923 9.55962 3.01211 10.9656 4.06801C11.5422 4.50096 11.8304 4.71743 12 4.71743C12.1696 4.71743 12.4578 4.50096 13.0344 4.06801C14.4404 3.01211 16.7809 2.34923 19.4626 3.99415C21.1812 5.04838 22.2505 7.28623 21.9494 10",stroke:"currentColor",key:"k0"}],["path",{d:"M14 17H22M18 13L18 21",stroke:"currentColor",key:"k1"}]]);/**
 * @license hugeicons-react v0.2.0
 *
 * See the LICENSE file in the root directory of this source tree.
 */const Ife=cn("HeartCheckIcon",[["path",{d:"M12 21C10.6588 21 9.88572 20.4278 8.33953 19.2834C0.221721 13.2749 1.01807 6.15294 4.53744 3.99415C7.21909 2.34923 9.55962 3.01211 10.9656 4.06801C11.5422 4.50096 11.8304 4.71743 12 4.71743C12.1696 4.71743 12.4578 4.50096 13.0344 4.06801C14.4404 3.01211 16.7809 2.34923 19.4626 3.99415C21.1812 5.04838 22.2505 7.28623 21.9494 10",stroke:"currentColor",key:"k0"}],["path",{d:"M14 18C14 18 15 18 16 20C16 20 19.1765 15 22 14",stroke:"currentColor",key:"k1"}]]);/**
 * @license hugeicons-react v0.2.0
 *
 * See the LICENSE file in the root directory of this source tree.
 */const Rlt=cn("LabelImportantIcon",[["path",{d:"M13 4H6.23456C3.79424 4 2.57407 4 2.14438 4.76649C2.13129 4.78984 2.11883 4.81353 2.10701 4.83754C1.71893 5.62592 2.41032 6.63129 3.7931 8.64204C4.89612 10.246 5.44763 11.048 5.4611 11.9555C5.46154 11.9852 5.46154 12.0148 5.4611 12.0445C5.44763 12.952 4.89612 13.754 3.7931 15.358C2.41032 17.3687 1.71893 18.3741 2.10701 19.1625C2.11883 19.1865 2.13129 19.2102 2.14438 19.2335C2.57407 20 3.79424 20 6.23456 20H13C14.9628 20 15.9443 20 16.7889 19.5777C17.6334 19.1554 18.2223 18.3703 19.4 16.8C21.1333 14.4889 22 13.3333 22 12C22 10.6667 21.1333 9.51111 19.4 7.2C18.2223 5.62972 17.6334 4.84458 16.7889 4.42229C15.9443 4 14.9628 4 13 4Z",stroke:"currentColor",key:"k0"}]]);/**
 * @license hugeicons-react v0.2.0
 *
 * See the LICENSE file in the root directory of this source tree.
 */const Olt=cn("Moon01Icon",[["path",{d:"M21.0985 7.84477C20.458 8.55417 19.5311 9 18.5 9C16.567 9 15 7.433 15 5.5C15 4.46895 15.4458 3.54203 16.1552 2.90149M21.0985 7.84477C21.6774 9.11025 22 10.5174 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C13.4826 2 14.8898 2.32262 16.1552 2.90149M21.0985 7.84477C20.0998 5.66155 18.3384 3.90018 16.1552 2.90149",stroke:"currentColor",key:"k0"}],["path",{d:"M10 8H10.0064",stroke:"currentColor",key:"k1"}],["path",{d:"M7 14H7.00635",stroke:"currentColor",key:"k2"}],["path",{d:"M16 16C16 17.1046 15.1046 18 14 18C12.8954 18 12 17.1046 12 16C12 14.8954 12.8954 14 14 14C15.1046 14 16 14.8954 16 16Z",stroke:"currentColor",key:"k3"}]]);/**
 * @license hugeicons-react v0.2.0
 *
 * See the LICENSE file in the root directory of this source tree.
 */const Dlt=cn("ProfileIcon",[["path",{d:"M2.5 12C2.5 7.52166 2.5 5.28249 3.89124 3.89124C5.28249 2.5 7.52166 2.5 12 2.5C16.4783 2.5 18.7175 2.5 20.1088 3.89124C21.5 5.28249 21.5 7.52166 21.5 12C21.5 16.4783 21.5 18.7175 20.1088 20.1088C18.7175 21.5 16.4783 21.5 12 21.5C7.52166 21.5 5.28249 21.5 3.89124 20.1088C2.5 18.7175 2.5 16.4783 2.5 12Z",stroke:"currentColor",key:"k0"}],["path",{d:"M11 7L17 7",stroke:"currentColor",key:"k1"}],["path",{d:"M7 7L8 7",stroke:"currentColor",key:"k2"}],["path",{d:"M7 12L8 12",stroke:"currentColor",key:"k3"}],["path",{d:"M7 17L8 17",stroke:"currentColor",key:"k4"}],["path",{d:"M11 12L17 12",stroke:"currentColor",key:"k5"}],["path",{d:"M11 17L17 17",stroke:"currentColor",key:"k6"}]]);/**
 * @license hugeicons-react v0.2.0
 *
 * See the LICENSE file in the root directory of this source tree.
 */const zfe=cn("Search01Icon",[["path",{d:"M17.5 17.5L22 22",stroke:"currentColor",key:"k0"}],["path",{d:"M20 11C20 6.02944 15.9706 2 11 2C6.02944 2 2 6.02944 2 11C2 15.9706 6.02944 20 11 20C15.9706 20 20 15.9706 20 11Z",stroke:"currentColor",key:"k1"}]]);/**
 * @license hugeicons-react v0.2.0
 *
 * See the LICENSE file in the root directory of this source tree.
 */const Nlt=cn("Settings01Icon",[["path",{d:"M21.3175 7.14139L20.8239 6.28479C20.4506 5.63696 20.264 5.31305 19.9464 5.18388C19.6288 5.05472 19.2696 5.15664 18.5513 5.36048L17.3311 5.70418C16.8725 5.80994 16.3913 5.74994 15.9726 5.53479L15.6357 5.34042C15.2766 5.11043 15.0004 4.77133 14.8475 4.37274L14.5136 3.37536C14.294 2.71534 14.1842 2.38533 13.9228 2.19657C13.6615 2.00781 13.3143 2.00781 12.6199 2.00781H11.5051C10.8108 2.00781 10.4636 2.00781 10.2022 2.19657C9.94085 2.38533 9.83106 2.71534 9.61149 3.37536L9.27753 4.37274C9.12465 4.77133 8.84845 5.11043 8.48937 5.34042L8.15249 5.53479C7.73374 5.74994 7.25259 5.80994 6.79398 5.70418L5.57375 5.36048C4.85541 5.15664 4.49625 5.05472 4.17867 5.18388C3.86109 5.31305 3.67445 5.63696 3.30115 6.28479L2.80757 7.14139C2.45766 7.74864 2.2827 8.05227 2.31666 8.37549C2.35061 8.69871 2.58483 8.95918 3.05326 9.48012L4.0843 10.6328C4.3363 10.9518 4.51521 11.5078 4.51521 12.0077C4.51521 12.5078 4.33636 13.0636 4.08433 13.3827L3.05326 14.5354C2.58483 15.0564 2.35062 15.3168 2.31666 15.6401C2.2827 15.9633 2.45766 16.2669 2.80757 16.8741L3.30114 17.7307C3.67443 18.3785 3.86109 18.7025 4.17867 18.8316C4.49625 18.9608 4.85542 18.8589 5.57377 18.655L6.79394 18.3113C7.25263 18.2055 7.73387 18.2656 8.15267 18.4808L8.4895 18.6752C8.84851 18.9052 9.12464 19.2442 9.2775 19.6428L9.61149 20.6403C9.83106 21.3003 9.94085 21.6303 10.2022 21.8191C10.4636 22.0078 10.8108 22.0078 11.5051 22.0078H12.6199C13.3143 22.0078 13.6615 22.0078 13.9228 21.8191C14.1842 21.6303 14.294 21.3003 14.5136 20.6403L14.8476 19.6428C15.0004 19.2442 15.2765 18.9052 15.6356 18.6752L15.9724 18.4808C16.3912 18.2656 16.8724 18.2055 17.3311 18.3113L18.5513 18.655C19.2696 18.8589 19.6288 18.9608 19.9464 18.8316C20.264 18.7025 20.4506 18.3785 20.8239 17.7307L21.3175 16.8741C21.6674 16.2669 21.8423 15.9633 21.8084 15.6401C21.7744 15.3168 21.5402 15.0564 21.0718 14.5354L20.0407 13.3827C19.7887 13.0636 19.6098 12.5078 19.6098 12.0077C19.6098 11.5078 19.7888 10.9518 20.0407 10.6328L21.0718 9.48012C21.5402 8.95918 21.7744 8.69871 21.8084 8.37549C21.8423 8.05227 21.6674 7.74864 21.3175 7.14139Z",stroke:"currentColor",key:"k0"}],["path",{d:"M15.5195 12C15.5195 13.933 13.9525 15.5 12.0195 15.5C10.0865 15.5 8.51953 13.933 8.51953 12C8.51953 10.067 10.0865 8.5 12.0195 8.5C13.9525 8.5 15.5195 10.067 15.5195 12Z",stroke:"currentColor",key:"k1"}]]);/**
 * @license hugeicons-react v0.2.0
 *
 * See the LICENSE file in the root directory of this source tree.
 */const Llt=cn("SmartPhone01Icon",[["path",{d:"M5 9C5 5.70017 5 4.05025 6.02513 3.02513C7.05025 2 8.70017 2 12 2C15.2998 2 16.9497 2 17.9749 3.02513C19 4.05025 19 5.70017 19 9V15C19 18.2998 19 19.9497 17.9749 20.9749C16.9497 22 15.2998 22 12 22C8.70017 22 7.05025 22 6.02513 20.9749C5 19.9497 5 18.2998 5 15V9Z",stroke:"currentColor",key:"k0"}],["path",{d:"M11 19H13",stroke:"currentColor",key:"k1"}],["path",{d:"M9 2L9.089 2.53402C9.28188 3.69129 9.37832 4.26993 9.77519 4.62204C10.1892 4.98934 10.7761 5 12 5C13.2239 5 13.8108 4.98934 14.2248 4.62204C14.6217 4.26993 14.7181 3.69129 14.911 2.53402L15 2",stroke:"currentColor",key:"k2"}]]);/**
 * @license hugeicons-react v0.2.0
 *
 * See the LICENSE file in the root directory of this source tree.
 */const jfe=cn("StartUp02Icon",[["path",{d:"M7 11.2947C12.284 1.44656 18.8635 1.333 21.4928 2.50724C22.667 5.1365 22.5534 11.716 12.7053 17C12.6031 16.4129 12.0352 14.8749 10.5801 13.4199C9.12512 11.9648 7.58712 11.3969 7 11.2947Z",stroke:"currentColor",key:"k0"}],["path",{d:"M14 16.8C16.0428 17.7334 16.2609 19.4069 16.5439 21C16.5439 21 20.8223 18.0481 18.0856 14",stroke:"currentColor",key:"k1"}],["path",{d:"M7.19998 9.99987C6.26664 7.95709 4.59305 7.73899 3 7.45601C3 7.45601 5.95194 3.17753 10 5.91431",stroke:"currentColor",key:"k2"}],["path",{d:"M6.20866 13.9998C5.57677 14.6317 4.50255 16.4642 5.26082 18.739C7.53564 19.4973 9.36813 18.4231 10 17.7912",stroke:"currentColor",key:"k3"}],["path",{d:"M18.0952 7.753C18.0952 6.7328 17.2682 5.90578 16.248 5.90578C15.2278 5.90578 14.4008 6.7328 14.4008 7.753C14.4008 8.77319 15.2278 9.60022 16.248 9.60022C17.2682 9.60022 18.0952 8.77319 18.0952 7.753Z",stroke:"currentColor",key:"k4"}]]);/**
 * @license hugeicons-react v0.2.0
 *
 * See the LICENSE file in the root directory of this source tree.
 */const Ilt=cn("Sun03Icon",[["path",{d:"M17 12C17 14.7614 14.7614 17 12 17C9.23858 17 7 14.7614 7 12C7 9.23858 9.23858 7 12 7C14.7614 7 17 9.23858 17 12Z",stroke:"currentColor",key:"k0"}],["path",{d:"M12 2V3.5M12 20.5V22M19.0708 19.0713L18.0101 18.0106M5.98926 5.98926L4.9286 4.9286M22 12H20.5M3.5 12H2M19.0713 4.92871L18.0106 5.98937M5.98975 18.0107L4.92909 19.0714",stroke:"currentColor",key:"k1"}]]);/**
 * @license hugeicons-react v0.2.0
 *
 * See the LICENSE file in the root directory of this source tree.
 */const zlt=cn("SwipeLeft02Icon",[["path",{d:"M15 4.50195H21M15 4.50195C15 3.80172 16.9943 2.49348 17.5 2.00195M15 4.50195C15 5.20218 16.9943 6.51042 17.5 7.00195",stroke:"currentColor",key:"k0"}],["path",{d:"M15.3913 21.998C15.3395 20.084 15.4684 19.8535 15.6052 19.4277C15.7419 19.002 16.6982 17.4665 17.0366 16.3695C18.1313 12.8202 17.111 12.0653 15.7507 11.0588C14.2422 9.94257 11.3968 9.37728 9.98573 9.49966V3.7462C9.98573 2.78288 9.20481 2.00195 8.24148 2.00195C7.27816 2.00195 6.49723 2.78288 6.49723 3.7462V9.96607M6.49774 21.9988V20.9854C6.43328 20.041 5.49529 18.9235 4.32672 17.3166C3.12509 15.576 2.86688 14.6973 3.05591 13.8848C3.15329 13.4694 3.40594 12.7832 4.64647 11.6104L6.49723 9.96607M6.49723 14.0323V9.96607",stroke:"currentColor",key:"k1"}]]);/**
 * @license hugeicons-react v0.2.0
 *
 * See the LICENSE file in the root directory of this source tree.
 */const jlt=cn("Tag01Icon",[["circle",{cx:"1.5",cy:"1.5",r:"1.5",transform:"matrix(1 0 0 -1 16 8)",stroke:"currentColor",key:"k0"}],["path",{d:"M2.77423 11.1439C1.77108 12.2643 1.7495 13.9546 2.67016 15.1437C4.49711 17.5033 6.49674 19.5029 8.85633 21.3298C10.0454 22.2505 11.7357 22.2289 12.8561 21.2258C15.8979 18.5022 18.6835 15.6559 21.3719 12.5279C21.6377 12.2187 21.8039 11.8397 21.8412 11.4336C22.0062 9.63798 22.3452 4.46467 20.9403 3.05974C19.5353 1.65481 14.362 1.99377 12.5664 2.15876C12.1603 2.19608 11.7813 2.36233 11.472 2.62811C8.34412 5.31646 5.49781 8.10211 2.77423 11.1439Z",stroke:"currentColor",key:"k1"}],["path",{d:"M7 14L10 17",stroke:"currentColor",key:"k2"}]]);/**
 * @license hugeicons-react v0.2.0
 *
 * See the LICENSE file in the root directory of this source tree.
 */const Blt=cn("TextFontIcon",[["path",{d:"M14 19L11.1069 10.7479C9.76348 6.91597 9.09177 5 8 5C6.90823 5 6.23652 6.91597 4.89309 10.7479L2 19M4.5 12H11.5",stroke:"currentColor",key:"k0"}],["path",{d:"M21.9692 13.9392V18.4392M21.9692 13.9392C22.0164 13.1161 22.0182 12.4891 21.9194 11.9773C21.6864 10.7709 20.4258 10.0439 19.206 9.89599C18.0385 9.75447 17.1015 10.055 16.1535 11.4363M21.9692 13.9392L19.1256 13.9392C18.6887 13.9392 18.2481 13.9603 17.8272 14.0773C15.2545 14.7925 15.4431 18.4003 18.0233 18.845C18.3099 18.8944 18.6025 18.9156 18.8927 18.9026C19.5703 18.8724 20.1955 18.545 20.7321 18.1301C21.3605 17.644 21.9692 16.9655 21.9692 15.9392V13.9392Z",stroke:"currentColor",key:"k1"}]]);function Ult(){return $.jsxs(wa,{w:"full",color:"gray",gap:1,mt:4,p:0,children:[$.jsxs(Ht,{gap:1,children:[$.jsx(Lt,{fontSize:"xs",textAlign:"center",children:"Swipytics @ 2024"}),$.jsx(Nw,{href:"https://jiwnchoi.me",isExternal:!0,children:$.jsx(Lt,{fontSize:"xs",textAlign:"center",textDecoration:"underline",children:"Jiwon Choi"})}),$.jsx(Lt,{fontSize:"xs",textAlign:"center",children:"All rights reserved."})]}),$.jsxs(Ht,{gap:4,children:[$.jsx(Nw,{href:"https://github.com/jiwnchoi/Swipytics",isExternal:!0,children:$.jsx(ds,{leftIcon:$.jsx(yt,{as:Plt}),size:"xs",variant:"link",color:"gray",children:"Github"})}),$.jsx(Nw,{href:"https://idclab.skku.edu",isExternal:!0,children:$.jsxs(ds,{variant:"link",size:"xs",leftIcon:$.jsx(yt,{as:Rlt}),color:"gray",children:[$.jsx(Lt,{fontFamily:"Rajdhani",fontWeight:600,fontSize:"sm",children:"IDC"}),$.jsx(Lt,{fontFamily:"Rajdhani",fontWeight:500,fontSize:"sm",children:"Lab"})]})})]})]})}function Vlt(e){const{mobile:t}=Rs(),{t:n}=Om();return $.jsxs(Ht,{justify:t?"start":"center",...e,children:[$.jsxs(hc,{flexDir:"column",minH:"400px",children:[$.jsxs(hc,{gap:2,mb:4,children:[$.jsx(yt,{as:zlt,boxSize:16}),$.jsx(RR,{fontSize:48,children:"Swipytics"})]}),$.jsx(Lt,{textColor:"gray",textAlign:"center",children:n("home.description")})]}),$.jsx(Ult,{})]})}const Wlt=M.memo(Vlt);function Hlt(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Bfe=Hlt,qlt=typeof Li=="object"&&Li&&Li.Object===Object&&Li,Glt=qlt,Ylt=Glt,Xlt=typeof self=="object"&&self&&self.Object===Object&&self,Klt=Ylt||Xlt||Function("return this")(),Ufe=Klt,Qlt=Ufe,Jlt=function(){return Qlt.Date.now()},Zlt=Jlt,eut=/\s/;function tut(e){for(var t=e.length;t--&&eut.test(e.charAt(t)););return t}var nut=tut,rut=nut,iut=/^\s+/;function out(e){return e&&e.slice(0,rut(e)+1).replace(iut,"")}var sut=out,aut=Ufe,lut=aut.Symbol,Vfe=lut,GH=Vfe,Wfe=Object.prototype,uut=Wfe.hasOwnProperty,cut=Wfe.toString,E0=GH?GH.toStringTag:void 0;function fut(e){var t=uut.call(e,E0),n=e[E0];try{e[E0]=void 0;var r=!0}catch{}var i=cut.call(e);return r&&(t?e[E0]=n:delete e[E0]),i}var dut=fut,hut=Object.prototype,put=hut.toString;function gut(e){return put.call(e)}var mut=gut,YH=Vfe,yut=dut,vut=mut,but="[object Null]",xut="[object Undefined]",XH=YH?YH.toStringTag:void 0;function wut(e){return e==null?e===void 0?xut:but:XH&&XH in Object(e)?yut(e):vut(e)}var Sut=wut;function kut(e){return e!=null&&typeof e=="object"}var Cut=kut,Eut=Sut,_ut=Cut,$ut="[object Symbol]";function Aut(e){return typeof e=="symbol"||_ut(e)&&Eut(e)==$ut}var Tut=Aut,Put=sut,KH=Bfe,Mut=Tut,QH=NaN,Fut=/^[-+]0x[0-9a-f]+$/i,Rut=/^0b[01]+$/i,Out=/^0o[0-7]+$/i,Dut=parseInt;function Nut(e){if(typeof e=="number")return e;if(Mut(e))return QH;if(KH(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=KH(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=Put(e);var n=Rut.test(e);return n||Out.test(e)?Dut(e.slice(2),n?2:8):Fut.test(e)?QH:+e}var Lut=Nut,Iut=Bfe,u5=Zlt,JH=Lut,zut="Expected a function",jut=Math.max,But=Math.min;function Uut(e,t,n){var r,i,o,s,a,l,u=0,c=!1,f=!1,d=!0;if(typeof e!="function")throw new TypeError(zut);t=JH(t)||0,Iut(n)&&(c=!!n.leading,f="maxWait"in n,o=f?jut(JH(n.maxWait)||0,t):o,d="trailing"in n?!!n.trailing:d);function h(k){var S=r,C=i;return r=i=void 0,u=k,s=e.apply(C,S),s}function p(k){return u=k,a=setTimeout(y,t),c?h(k):s}function g(k){var S=k-l,C=k-u,E=t-S;return f?But(E,o-C):E}function m(k){var S=k-l,C=k-u;return l===void 0||S>=t||S<0||f&&C>=o}function y(){var k=u5();if(m(k))return v(k);a=setTimeout(y,g(k))}function v(k){return a=void 0,d&&r?h(k):(r=i=void 0,s)}function b(){a!==void 0&&clearTimeout(a),u=0,r=l=i=a=void 0}function x(){return a===void 0?s:v(u5())}function w(){var k=u5(),S=m(k);if(r=arguments,i=this,l=k,S){if(a===void 0)return p(l);if(f)return clearTimeout(a),a=setTimeout(y,t),h(l)}return a===void 0&&(a=setTimeout(y,t)),s}return w.cancel=b,w.flush=x,w}var Vut=Uut;const Wut=Da(Vut);function Wk(){return Wk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wk.apply(this,arguments)}var Hut=[],ZH={width:0,height:0,top:0,left:0};function qut(e){var t=e===void 0?{}:e,n=t.initialSize,r=n===void 0?ZH:n,i=t.debounceTime,o=i===void 0?300:i,s=t.ignoreDimensions,a=s===void 0?Hut:s,l=t.enableDebounceLeadingCall,u=l===void 0?!0:l,c=t.resizeObserverPolyfill,f=M.useRef(null),d=M.useRef(0),h=M.useState(Wk({},ZH,r)),p=h[0],g=h[1],m=M.useMemo(function(){var y=Array.isArray(a)?a:[a];return Wut(function(v){g(function(b){var x=Object.keys(b),w=x.filter(function(S){return b[S]!==v[S]}),k=w.every(function(S){return y.includes(S)});return k?b:v})},o,{leading:u})},[o,u,a]);return M.useEffect(function(){var y=c||window.ResizeObserver,v=new y(function(b){b.forEach(function(x){var w,k=(w=x==null?void 0:x.contentRect)!=null?w:{},S=k.left,C=k.top,E=k.width,A=k.height;d.current=window.requestAnimationFrame(function(){m({width:E,height:A,top:C,left:S})})})});return f.current&&v.observe(f.current),function(){window.cancelAnimationFrame(d.current),v.disconnect(),m.cancel()}},[m,c]),Wk({parentRef:f,resize:m},p)}function Gut({width:e,height:t,r:n}){return _at({width:e,height:t,r:n}).map(({key:i,cx:o,cy:s,r:a,fill:l})=>$.jsx(LC.circle,{cy:s,initial:{r:0},animate:{cx:o,r:a,fill:l},transition:{type:"spring",stiffness:100,damping:20,fill:{duration:.3}}},i))}function Yut(e){const{parentRef:t,width:n,height:r}=qut({debounceTime:50});return $.jsx(Ht,{ref:t,position:"absolute",minH:`${12*2+4*2}px`,...e,children:$.jsx("svg",{width:n,height:r,children:$.jsx(Gut,{width:n,height:r,r:3})})})}function Xut(e){const{charts:t,ref:n}=rst(),{mobile:r,cardHeight:i,cardColor:o,cardWidth:s}=Rs();return $.jsxs(Ht,{ref:n,scrollSnapType:"x mandatory",overflowX:"auto",style:{WebkitOverflowScrolling:"touch"},sx:{"&::-webkit-scrollbar":{display:"none"}},...e,children:[$.jsx(Yut,{top:r?0:void 0,bottom:r?void 0:0,h:8,p:2,w:"full"}),$.jsx(Wlt,{flexDir:"column",minW:"full",w:s,maxW:s,minH:i,bgColor:o,borderRadius:"lg",scrollSnapAlign:"center"}),t.map(a=>$.jsx(Slt,{minW:s,maxW:s,chart:a,minH:i,bgColor:o,flexDirection:"column",borderRadius:"lg"},a.key))]})}function Kut(e){const{sessionInitialized:t,chartDisplaying:n,currentChartPreferred:r,handleNextChart:i,handlePrevChart:o,handlePreferChart:s}=ist(),{t:a}=Om();return $.jsxs(FQ,{...e,children:[$.jsx(ds,{py:8,size:"lg",w:"full","aria-label":"Previous chart",onClick:o,isDisabled:!t||!n,variant:"ghost",children:$.jsxs(wa,{spacing:2,children:[$.jsx(yt,{as:Elt,boxSize:6}),$.jsx(Lt,{fontSize:"sm",children:a("navigator.prev")})]})}),$.jsx(ds,{py:8,size:"lg",w:"full","aria-label":"Next chart",onClick:i,isDisabled:!t,variant:"ghost",children:$.jsxs(wa,{spacing:2,children:[$.jsx(yt,{as:_lt,boxSize:6}),$.jsx(Lt,{fontSize:"sm",children:a("navigator.next")})]})}),$.jsx(ds,{py:8,size:"lg",w:"full","aria-label":"Bookmark current chart",onClick:s,colorScheme:r?"red":"gray",isDisabled:!t||!n,variant:r?"solid":"ghost",children:$.jsxs(wa,{spacing:2,children:[$.jsx(yt,{as:r?Ife:Flt,boxSize:6}),$.jsx(Lt,{fontSize:"sm",children:a("bookmarks.action")})]})})]})}function Qut({children:e,controller:t,...n}){const{animate:r,dragControls:i,handleDragEnd:o,bodyRef:s,handleRef:a,navigatorRef:l,navigatorBounds:u,variants:c}=cst(),{drawerBgColor:f,borderColor:d}=Rs();return $.jsxs(LC.div,{dragControls:i,style:{width:"100%",left:0,position:"fixed"},variants:c,initial:r,animate:r,drag:"y",dragListener:!0,dragConstraints:{bottom:0,top:0},dragElastic:0,onDragEnd:o,whileTap:{cursor:"grabbing"},children:[$.jsxs(hc,{h:"fit-content",flexDir:"column",gap:0,border:"1px solid",borderColor:d,borderRadius:"xl",boxShadow:"0px -4px 10px rgba(0, 0, 0, 0.1)",bgColor:f,...n,children:[$.jsx(Ht,{bgColor:"gray",minH:1,mt:2,borderRadius:4,minW:10,ref:a}),$.jsx(Ht,{w:"full",ref:s,p:4,flexDir:"column",children:e}),$.jsx(Ht,{minH:"100dvh"})]}),$.jsx(xv,{children:$.jsx(Ht,{borderX:"1px solid",borderBottom:"1px solid",borderColor:d,onPointerDown:h=>i.start(h),bgColor:f,ref:l,position:"absolute",top:`calc(100dvh - ${u.height}px)`,p:4,pb:8,left:0,zIndex:500,w:"full",children:t})})]})}function Jut({children:e,...t}){const{tabPanelHeight:n}=Rs();return $.jsx(Ht,{...t,children:$.jsx(wa,{w:"full",h:n,gap:4,rounded:"lg",p:4,align:"start",minH:"full",children:e})})}function Zut({children:e,controller:t,...n}){const{mobile:r}=Rs();return r?$.jsx(Qut,{...n,controller:t,children:e}):$.jsxs(Jut,{...n,children:[e,$.jsx(MR,{}),t]})}const ect=({metadataType:e,...t})=>{switch(e){case"numeric":return $.jsx(yt,{as:Mlt,...t});case"categorical":return $.jsx(yt,{as:Blt,...t});case"datetime":return $.jsx(yt,{as:$lt,...t});case"name":return $.jsx(yt,{as:jlt,...t});default:return null}},_0=Mv(".3~s");function Qo({children:e}){return $.jsx(Ht,{flexDir:"column",justify:"center",alignItems:"start",w:"full",h:"full",children:$.jsx(qQ,{children:e})})}function tct({metadata:e}){switch(e.type){case"datetime":return $.jsxs(Fy,{gridTemplateColumns:"1fr 4fr",children:[$.jsx(Qo,{children:"min"}),$.jsx(Lt,{children:e.min}),$.jsx(Qo,{children:"max"}),$.jsx(Lt,{children:e.max})]});case"numeric":return $.jsxs(Fy,{gridTemplateColumns:"2fr 3fr 2fr 3fr",children:[$.jsx(Qo,{children:"min"}),$.jsx(Lt,{children:_0(e.min)}),$.jsx(Qo,{children:"max"}),$.jsx(Lt,{children:_0(e.max)}),$.jsx(Qo,{children:"mean"}),$.jsx(Lt,{children:_0(e.mean)}),$.jsx(Qo,{children:"median"}),$.jsx(Lt,{children:_0(e.median)}),$.jsx(Qo,{children:"std"}),$.jsx(Lt,{children:_0(e.std)})]});case"categorical":return $.jsxs(Fy,{gridTemplateColumns:"1fr 4fr",children:[$.jsx(Qo,{children:"top"}),$.jsx(Lt,{children:e.top}),$.jsx(Qo,{children:"freq"}),$.jsx(Lt,{children:e.freq})]});case"name":default:return null}}function nct({field:e}){const t=Fs(r=>r.setTabByName),n=Fs(r=>r.appendSearchTarget);return $.jsxs($Q,{children:[$.jsx(CQ,{borderRadius:"md",children:$.jsxs(Ht,{w:"full",gap:2,align:"center",children:[$.jsx(ect,{metadataType:e.type,boxSize:4}),$.jsx(RR,{fontSize:"md",children:e.name}),$.jsx(MR,{}),e.type!=="name"&&$.jsx(E1,{variant:"ghost",p:0,m:0,size:"xs",icon:$.jsx(yt,{as:zfe}),"aria-label":`Search ${e.name}`,onClick:r=>{t("search"),n(e.name),r.stopPropagation()}}),$.jsx(_Q,{})]})}),$.jsxs(TQ,{px:2,pb:2,children:[$.jsxs(Fy,{gridTemplateColumns:"2fr 3fr 2fr 3fr",children:[$.jsx(Qo,{children:"unique"}),$.jsx(Lt,{children:e.metadata.unique}),$.jsx(Qo,{children:"missing"}),$.jsx(Lt,{children:e.metadata.missing})]}),$.jsx(tct,{metadata:e.metadata})]})]})}function rct(e,t){const n={numeric:0,categorical:1,datetime:2,name:3};return n[e.type]-n[t.type]}function ict(e){const t=St(r=>r.fields),n=M.useMemo(()=>Array.from(t).sort(rct),[t]);return $.jsx(sm,{as:wa,h:"full",...e,children:$.jsx(Ht,{h:"full",w:"full",overflowY:"auto",flexDir:"column",children:$.jsx(PQ,{allowMultiple:!0,children:n.map(r=>$.jsx(nct,{field:r},r.name))})})})}function oct(e){const{loading:t}=kfe(),{loadingData:n,fileInputRef:r,pathInput:i,inputDisabled:o,handleFileButtonClick:s,handleFileChange:a,handleInputChange:l,handleSubmit:u}=tat();return $.jsxs(Ht,{as:OQ,...e,children:[$.jsxs(zQ,{children:[$.jsx(_1,{placeholder:"https://...",onChange:l,value:i,borderRightRadius:0,_focusVisible:{borderColor:mr}}),$.jsxs($R,{children:[$.jsx(_1,{type:"file",display:"none",ref:r,onChange:a,accept:".csv,.json"}),$.jsx(E1,{"aria-label":"Select File",icon:$.jsx(yt,{as:Tlt}),variant:"link",onClick:s})]})]}),$.jsx(E1,{borderLeftRadius:0,colorScheme:mr,type:"submit",isLoading:n||t,icon:$.jsx(yt,{as:jfe}),"aria-label":"Load Data",isDisabled:o,onClick:u,children:o?"Please Input Data":"Load Data"})]})}const sct={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){console&&console[e]&&console[e].apply(console,t)}};class Hk{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(t,n)}init(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=n.prefix||"i18next:",this.logger=t||sct,this.options=n,this.debug=n.debug}log(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.forward(n,"log","",!0)}warn(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.forward(n,"warn","",!0)}error(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.forward(n,"error","")}deprecate(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.forward(n,"warn","WARNING DEPRECATED: ",!0)}forward(t,n,r,i){return i&&!this.debug?null:(typeof t[0]=="string"&&(t[0]=`${r}${this.prefix} ${t[0]}`),this.logger[n](t))}create(t){return new Hk(this.logger,{prefix:`${this.prefix}:${t}:`,...this.options})}clone(t){return t=t||this.options,t.prefix=t.prefix||this.prefix,new Hk(this.logger,t)}}var ga=new Hk;class t${constructor(){this.observers={}}on(t,n){return t.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const i=this.observers[r].get(n)||0;this.observers[r].set(n,i+1)}),this}off(t,n){if(this.observers[t]){if(!n){delete this.observers[t];return}this.observers[t].delete(n)}}emit(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];this.observers[t]&&Array.from(this.observers[t].entries()).forEach(s=>{let[a,l]=s;for(let u=0;u<l;u++)a(...r)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(s=>{let[a,l]=s;for(let u=0;u<l;u++)a.apply(a,[t,...r])})}}const $0=()=>{let e,t;const n=new Promise((r,i)=>{e=r,t=i});return n.resolve=e,n.reject=t,n},eq=e=>e==null?"":""+e,act=(e,t,n)=>{e.forEach(r=>{t[r]&&(n[r]=t[r])})},lct=/###/g,tq=e=>e&&e.indexOf("###")>-1?e.replace(lct,"."):e,nq=e=>!e||typeof e=="string",Xy=(e,t,n)=>{const r=typeof t!="string"?t:t.split(".");let i=0;for(;i<r.length-1;){if(nq(e))return{};const o=tq(r[i]);!e[o]&&n&&(e[o]=new n),Object.prototype.hasOwnProperty.call(e,o)?e=e[o]:e={},++i}return nq(e)?{}:{obj:e,k:tq(r[i])}},rq=(e,t,n)=>{const{obj:r,k:i}=Xy(e,t,Object);if(r!==void 0||t.length===1){r[i]=n;return}let o=t[t.length-1],s=t.slice(0,t.length-1),a=Xy(e,s,Object);for(;a.obj===void 0&&s.length;)o=`${s[s.length-1]}.${o}`,s=s.slice(0,s.length-1),a=Xy(e,s,Object),a&&a.obj&&typeof a.obj[`${a.k}.${o}`]<"u"&&(a.obj=void 0);a.obj[`${a.k}.${o}`]=n},uct=(e,t,n,r)=>{const{obj:i,k:o}=Xy(e,t,Object);i[o]=i[o]||[],i[o].push(n)},qk=(e,t)=>{const{obj:n,k:r}=Xy(e,t);if(n)return n[r]},cct=(e,t,n)=>{const r=qk(e,n);return r!==void 0?r:qk(t,n)},Hfe=(e,t,n)=>{for(const r in t)r!=="__proto__"&&r!=="constructor"&&(r in e?typeof e[r]=="string"||e[r]instanceof String||typeof t[r]=="string"||t[r]instanceof String?n&&(e[r]=t[r]):Hfe(e[r],t[r],n):e[r]=t[r]);return e},Dh=e=>e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var fct={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const dct=e=>typeof e=="string"?e.replace(/[&<>"'\/]/g,t=>fct[t]):e;class hct{constructor(t){this.capacity=t,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(t){const n=this.regExpMap.get(t);if(n!==void 0)return n;const r=new RegExp(t);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(t,r),this.regExpQueue.push(t),r}}const pct=[" ",",","?","!",";"],gct=new hct(20),mct=(e,t,n)=>{t=t||"",n=n||"";const r=pct.filter(s=>t.indexOf(s)<0&&n.indexOf(s)<0);if(r.length===0)return!0;const i=gct.getRegExp(`(${r.map(s=>s==="?"?"\\?":s).join("|")})`);let o=!i.test(e);if(!o){const s=e.indexOf(n);s>0&&!i.test(e.substring(0,s))&&(o=!0)}return o},LF=function(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!e)return;if(e[t])return e[t];const r=t.split(n);let i=e;for(let o=0;o<r.length;){if(!i||typeof i!="object")return;let s,a="";for(let l=o;l<r.length;++l)if(l!==o&&(a+=n),a+=r[l],s=i[a],s!==void 0){if(["string","number","boolean"].indexOf(typeof s)>-1&&l<r.length-1)continue;o+=l-o+1;break}i=s}return i},Gk=e=>e&&e.indexOf("_")>0?e.replace("_","-"):e;class iq extends t${constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=t||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(t){this.options.ns.indexOf(t)<0&&this.options.ns.push(t)}removeNamespaces(t){const n=this.options.ns.indexOf(t);n>-1&&this.options.ns.splice(n,1)}getResource(t,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const o=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,s=i.ignoreJSONStructure!==void 0?i.ignoreJSONStructure:this.options.ignoreJSONStructure;let a;t.indexOf(".")>-1?a=t.split("."):(a=[t,n],r&&(Array.isArray(r)?a.push(...r):typeof r=="string"&&o?a.push(...r.split(o)):a.push(r)));const l=qk(this.data,a);return!l&&!n&&!r&&t.indexOf(".")>-1&&(t=a[0],n=a[1],r=a.slice(2).join(".")),l||!s||typeof r!="string"?l:LF(this.data&&this.data[t]&&this.data[t][n],r,o)}addResource(t,n,r,i){let o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const s=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator;let a=[t,n];r&&(a=a.concat(s?r.split(s):r)),t.indexOf(".")>-1&&(a=t.split("."),i=n,n=a[1]),this.addNamespaces(n),rq(this.data,a,i),o.silent||this.emit("added",t,n,r,i)}addResources(t,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const o in r)(typeof r[o]=="string"||Array.isArray(r[o]))&&this.addResource(t,n,o,r[o],{silent:!0});i.silent||this.emit("added",t,n,r)}addResourceBundle(t,n,r,i,o){let s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},a=[t,n];t.indexOf(".")>-1&&(a=t.split("."),i=r,r=n,n=a[1]),this.addNamespaces(n);let l=qk(this.data,a)||{};s.skipCopy||(r=JSON.parse(JSON.stringify(r))),i?Hfe(l,r,o):l={...l,...r},rq(this.data,a,l),s.silent||this.emit("added",t,n,r)}removeResourceBundle(t,n){this.hasResourceBundle(t,n)&&delete this.data[t][n],this.removeNamespaces(n),this.emit("removed",t,n)}hasResourceBundle(t,n){return this.getResource(t,n)!==void 0}getResourceBundle(t,n){return n||(n=this.options.defaultNS),this.options.compatibilityAPI==="v1"?{...this.getResource(t,n)}:this.getResource(t,n)}getDataByLanguage(t){return this.data[t]}hasLanguageSomeTranslations(t){const n=this.getDataByLanguage(t);return!!(n&&Object.keys(n)||[]).find(i=>n[i]&&Object.keys(n[i]).length>0)}toJSON(){return this.data}}var qfe={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,n,r,i){return e.forEach(o=>{this.processors[o]&&(t=this.processors[o].process(t,n,r,i))}),t}};const oq={};class Yk extends t${constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),act(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],t,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=ga.create("translator")}changeLanguage(t){t&&(this.language=t)}exists(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(t==null)return!1;const r=this.resolve(t,n);return r&&r.res!==void 0}extractFromKey(t,n){let r=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const i=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let o=n.ns||this.options.defaultNS||[];const s=r&&t.indexOf(r)>-1,a=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!mct(t,r,i);if(s&&!a){const l=t.match(this.interpolator.nestingRegexp);if(l&&l.length>0)return{key:t,namespaces:o};const u=t.split(r);(r!==i||r===i&&this.options.ns.indexOf(u[0])>-1)&&(o=u.shift()),t=u.join(i)}return typeof o=="string"&&(o=[o]),{key:t,namespaces:o}}translate(t,n,r){if(typeof n!="object"&&this.options.overloadTranslationOptionHandler&&(n=this.options.overloadTranslationOptionHandler(arguments)),typeof n=="object"&&(n={...n}),n||(n={}),t==null)return"";Array.isArray(t)||(t=[String(t)]);const i=n.returnDetails!==void 0?n.returnDetails:this.options.returnDetails,o=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator,{key:s,namespaces:a}=this.extractFromKey(t[t.length-1],n),l=a[a.length-1],u=n.lng||this.language,c=n.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(u&&u.toLowerCase()==="cimode"){if(c){const x=n.nsSeparator||this.options.nsSeparator;return i?{res:`${l}${x}${s}`,usedKey:s,exactUsedKey:s,usedLng:u,usedNS:l,usedParams:this.getUsedParamsDetails(n)}:`${l}${x}${s}`}return i?{res:s,usedKey:s,exactUsedKey:s,usedLng:u,usedNS:l,usedParams:this.getUsedParamsDetails(n)}:s}const f=this.resolve(t,n);let d=f&&f.res;const h=f&&f.usedKey||s,p=f&&f.exactUsedKey||s,g=Object.prototype.toString.apply(d),m=["[object Number]","[object Function]","[object RegExp]"],y=n.joinArrays!==void 0?n.joinArrays:this.options.joinArrays,v=!this.i18nFormat||this.i18nFormat.handleAsObject;if(v&&d&&(typeof d!="string"&&typeof d!="boolean"&&typeof d!="number")&&m.indexOf(g)<0&&!(typeof y=="string"&&Array.isArray(d))){if(!n.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const x=this.options.returnedObjectHandler?this.options.returnedObjectHandler(h,d,{...n,ns:a}):`key '${s} (${this.language})' returned an object instead of string.`;return i?(f.res=x,f.usedParams=this.getUsedParamsDetails(n),f):x}if(o){const x=Array.isArray(d),w=x?[]:{},k=x?p:h;for(const S in d)if(Object.prototype.hasOwnProperty.call(d,S)){const C=`${k}${o}${S}`;w[S]=this.translate(C,{...n,joinArrays:!1,ns:a}),w[S]===C&&(w[S]=d[S])}d=w}}else if(v&&typeof y=="string"&&Array.isArray(d))d=d.join(y),d&&(d=this.extendTranslation(d,t,n,r));else{let x=!1,w=!1;const k=n.count!==void 0&&typeof n.count!="string",S=Yk.hasDefaultValue(n),C=k?this.pluralResolver.getSuffix(u,n.count,n):"",E=n.ordinal&&k?this.pluralResolver.getSuffix(u,n.count,{ordinal:!1}):"",A=k&&!n.ordinal&&n.count===0&&this.pluralResolver.shouldUseIntlApi(),T=A&&n[`defaultValue${this.options.pluralSeparator}zero`]||n[`defaultValue${C}`]||n[`defaultValue${E}`]||n.defaultValue;!this.isValidLookup(d)&&S&&(x=!0,d=T),this.isValidLookup(d)||(w=!0,d=s);const F=(n.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&w?void 0:d,R=S&&T!==d&&this.options.updateMissing;if(w||x||R){if(this.logger.log(R?"updateKey":"missingKey",u,l,s,R?T:d),o){const D=this.resolve(s,{...n,keySeparator:!1});D&&D.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let _=[];const P=this.languageUtils.getFallbackCodes(this.options.fallbackLng,n.lng||this.language);if(this.options.saveMissingTo==="fallback"&&P&&P[0])for(let D=0;D<P.length;D++)_.push(P[D]);else this.options.saveMissingTo==="all"?_=this.languageUtils.toResolveHierarchy(n.lng||this.language):_.push(n.lng||this.language);const N=(D,I,U)=>{const V=S&&U!==d?U:F;this.options.missingKeyHandler?this.options.missingKeyHandler(D,l,I,V,R,n):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(D,l,I,V,R,n),this.emit("missingKey",D,l,I,d)};this.options.saveMissing&&(this.options.saveMissingPlurals&&k?_.forEach(D=>{const I=this.pluralResolver.getSuffixes(D,n);A&&n[`defaultValue${this.options.pluralSeparator}zero`]&&I.indexOf(`${this.options.pluralSeparator}zero`)<0&&I.push(`${this.options.pluralSeparator}zero`),I.forEach(U=>{N([D],s+U,n[`defaultValue${U}`]||T)})}):N(_,s,T))}d=this.extendTranslation(d,t,n,f,r),w&&d===s&&this.options.appendNamespaceToMissingKey&&(d=`${l}:${s}`),(w||x)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?d=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${l}:${s}`:s,x?d:void 0):d=this.options.parseMissingKeyHandler(d))}return i?(f.res=d,f.usedParams=this.getUsedParamsDetails(n),f):d}extendTranslation(t,n,r,i,o){var s=this;if(this.i18nFormat&&this.i18nFormat.parse)t=this.i18nFormat.parse(t,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const u=typeof t=="string"&&(r&&r.interpolation&&r.interpolation.skipOnVariables!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let c;if(u){const d=t.match(this.interpolator.nestingRegexp);c=d&&d.length}let f=r.replace&&typeof r.replace!="string"?r.replace:r;if(this.options.interpolation.defaultVariables&&(f={...this.options.interpolation.defaultVariables,...f}),t=this.interpolator.interpolate(t,f,r.lng||this.language||i.usedLng,r),u){const d=t.match(this.interpolator.nestingRegexp),h=d&&d.length;c<h&&(r.nest=!1)}!r.lng&&this.options.compatibilityAPI!=="v1"&&i&&i.res&&(r.lng=this.language||i.usedLng),r.nest!==!1&&(t=this.interpolator.nest(t,function(){for(var d=arguments.length,h=new Array(d),p=0;p<d;p++)h[p]=arguments[p];return o&&o[0]===h[0]&&!r.context?(s.logger.warn(`It seems you are nesting recursively key: ${h[0]} in key: ${n[0]}`),null):s.translate(...h,n)},r)),r.interpolation&&this.interpolator.reset()}const a=r.postProcess||this.options.postProcess,l=typeof a=="string"?[a]:a;return t!=null&&l&&l.length&&r.applyPostProcessor!==!1&&(t=qfe.handle(l,t,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...i,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),t}resolve(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r,i,o,s,a;return typeof t=="string"&&(t=[t]),t.forEach(l=>{if(this.isValidLookup(r))return;const u=this.extractFromKey(l,n),c=u.key;i=c;let f=u.namespaces;this.options.fallbackNS&&(f=f.concat(this.options.fallbackNS));const d=n.count!==void 0&&typeof n.count!="string",h=d&&!n.ordinal&&n.count===0&&this.pluralResolver.shouldUseIntlApi(),p=n.context!==void 0&&(typeof n.context=="string"||typeof n.context=="number")&&n.context!=="",g=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);f.forEach(m=>{this.isValidLookup(r)||(a=m,!oq[`${g[0]}-${m}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(a)&&(oq[`${g[0]}-${m}`]=!0,this.logger.warn(`key "${i}" for languages "${g.join(", ")}" won't get resolved as namespace "${a}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),g.forEach(y=>{if(this.isValidLookup(r))return;s=y;const v=[c];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(v,c,y,m,n);else{let x;d&&(x=this.pluralResolver.getSuffix(y,n.count,n));const w=`${this.options.pluralSeparator}zero`,k=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(d&&(v.push(c+x),n.ordinal&&x.indexOf(k)===0&&v.push(c+x.replace(k,this.options.pluralSeparator)),h&&v.push(c+w)),p){const S=`${c}${this.options.contextSeparator}${n.context}`;v.push(S),d&&(v.push(S+x),n.ordinal&&x.indexOf(k)===0&&v.push(S+x.replace(k,this.options.pluralSeparator)),h&&v.push(S+w))}}let b;for(;b=v.pop();)this.isValidLookup(r)||(o=b,r=this.getResource(y,m,b,n))}))})}),{res:r,usedKey:i,exactUsedKey:o,usedLng:s,usedNS:a}}isValidLookup(t){return t!==void 0&&!(!this.options.returnNull&&t===null)&&!(!this.options.returnEmptyString&&t==="")}getResource(t,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(t,n,r,i):this.resourceStore.getResource(t,n,r,i)}getUsedParamsDetails(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=t.replace&&typeof t.replace!="string";let i=r?t.replace:t;if(r&&typeof t.count<"u"&&(i.count=t.count),this.options.interpolation.defaultVariables&&(i={...this.options.interpolation.defaultVariables,...i}),!r){i={...i};for(const o of n)delete i[o]}return i}static hasDefaultValue(t){const n="defaultValue";for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&n===r.substring(0,n.length)&&t[r]!==void 0)return!0;return!1}}const c5=e=>e.charAt(0).toUpperCase()+e.slice(1);class sq{constructor(t){this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=ga.create("languageUtils")}getScriptPartFromCode(t){if(t=Gk(t),!t||t.indexOf("-")<0)return null;const n=t.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(t){if(t=Gk(t),!t||t.indexOf("-")<0)return t;const n=t.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(t){if(typeof t=="string"&&t.indexOf("-")>-1){const n=["hans","hant","latn","cyrl","cans","mong","arab"];let r=t.split("-");return this.options.lowerCaseLng?r=r.map(i=>i.toLowerCase()):r.length===2?(r[0]=r[0].toLowerCase(),r[1]=r[1].toUpperCase(),n.indexOf(r[1].toLowerCase())>-1&&(r[1]=c5(r[1].toLowerCase()))):r.length===3&&(r[0]=r[0].toLowerCase(),r[1].length===2&&(r[1]=r[1].toUpperCase()),r[0]!=="sgn"&&r[2].length===2&&(r[2]=r[2].toUpperCase()),n.indexOf(r[1].toLowerCase())>-1&&(r[1]=c5(r[1].toLowerCase())),n.indexOf(r[2].toLowerCase())>-1&&(r[2]=c5(r[2].toLowerCase()))),r.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t}isSupportedCode(t){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(t=this.getLanguagePartFromCode(t)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(t)>-1}getBestMatchFromCodes(t){if(!t)return null;let n;return t.forEach(r=>{if(n)return;const i=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(i))&&(n=i)}),!n&&this.options.supportedLngs&&t.forEach(r=>{if(n)return;const i=this.getLanguagePartFromCode(r);if(this.isSupportedCode(i))return n=i;n=this.options.supportedLngs.find(o=>{if(o===i)return o;if(!(o.indexOf("-")<0&&i.indexOf("-")<0)&&(o.indexOf("-")>0&&i.indexOf("-")<0&&o.substring(0,o.indexOf("-"))===i||o.indexOf(i)===0&&i.length>1))return o})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(t,n){if(!t)return[];if(typeof t=="function"&&(t=t(n)),typeof t=="string"&&(t=[t]),Array.isArray(t))return t;if(!n)return t.default||[];let r=t[n];return r||(r=t[this.getScriptPartFromCode(n)]),r||(r=t[this.formatLanguageCode(n)]),r||(r=t[this.getLanguagePartFromCode(n)]),r||(r=t.default),r||[]}toResolveHierarchy(t,n){const r=this.getFallbackCodes(n||this.options.fallbackLng||[],t),i=[],o=s=>{s&&(this.isSupportedCode(s)?i.push(s):this.logger.warn(`rejecting language code not found in supportedLngs: ${s}`))};return typeof t=="string"&&(t.indexOf("-")>-1||t.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&o(this.formatLanguageCode(t)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&o(this.getScriptPartFromCode(t)),this.options.load!=="currentOnly"&&o(this.getLanguagePartFromCode(t))):typeof t=="string"&&o(this.formatLanguageCode(t)),r.forEach(s=>{i.indexOf(s)<0&&o(this.formatLanguageCode(s))}),i}}let yct=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],vct={1:e=>+(e>1),2:e=>+(e!=1),3:e=>0,4:e=>e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2,5:e=>e==0?0:e==1?1:e==2?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5,6:e=>e==1?0:e>=2&&e<=4?1:2,7:e=>e==1?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2,8:e=>e==1?0:e==2?1:e!=8&&e!=11?2:3,9:e=>+(e>=2),10:e=>e==1?0:e==2?1:e<7?2:e<11?3:4,11:e=>e==1||e==11?0:e==2||e==12?1:e>2&&e<20?2:3,12:e=>+(e%10!=1||e%100==11),13:e=>+(e!==0),14:e=>e==1?0:e==2?1:e==3?2:3,15:e=>e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2,16:e=>e%10==1&&e%100!=11?0:e!==0?1:2,17:e=>e==1||e%10==1&&e%100!=11?0:1,18:e=>e==0?0:e==1?1:2,19:e=>e==1?0:e==0||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3,20:e=>e==1?0:e==0||e%100>0&&e%100<20?1:2,21:e=>e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0,22:e=>e==1?0:e==2?1:(e<0||e>10)&&e%10==0?2:3};const bct=["v1","v2","v3"],xct=["v4"],aq={zero:0,one:1,two:2,few:3,many:4,other:5},wct=()=>{const e={};return yct.forEach(t=>{t.lngs.forEach(n=>{e[n]={numbers:t.nr,plurals:vct[t.fc]}})}),e};class Sct{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=t,this.options=n,this.logger=ga.create("pluralResolver"),(!this.options.compatibilityJSON||xct.includes(this.options.compatibilityJSON))&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=wct(),this.pluralRulesCache={}}addRule(t,n){this.rules[t]=n}clearCache(){this.pluralRulesCache={}}getRule(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi())try{const r=Gk(t==="dev"?"en":t),i=n.ordinal?"ordinal":"cardinal",o=JSON.stringify({cleanedCode:r,type:i});if(o in this.pluralRulesCache)return this.pluralRulesCache[o];const s=new Intl.PluralRules(r,{type:i});return this.pluralRulesCache[o]=s,s}catch{return}return this.rules[t]||this.rules[this.languageUtils.getLanguagePartFromCode(t)]}needsPlural(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=this.getRule(t,n);return this.shouldUseIntlApi()?r&&r.resolvedOptions().pluralCategories.length>1:r&&r.numbers.length>1}getPluralFormsOfKey(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(t,r).map(i=>`${n}${i}`)}getSuffixes(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=this.getRule(t,n);return r?this.shouldUseIntlApi()?r.resolvedOptions().pluralCategories.sort((i,o)=>aq[i]-aq[o]).map(i=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${i}`):r.numbers.map(i=>this.getSuffix(t,i,n)):[]}getSuffix(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const i=this.getRule(t,r);return i?this.shouldUseIntlApi()?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${i.select(n)}`:this.getSuffixRetroCompatible(i,n):(this.logger.warn(`no plural rule found for: ${t}`),"")}getSuffixRetroCompatible(t,n){const r=t.noAbs?t.plurals(n):t.plurals(Math.abs(n));let i=t.numbers[r];this.options.simplifyPluralSuffix&&t.numbers.length===2&&t.numbers[0]===1&&(i===2?i="plural":i===1&&(i=""));const o=()=>this.options.prepend&&i.toString()?this.options.prepend+i.toString():i.toString();return this.options.compatibilityJSON==="v1"?i===1?"":typeof i=="number"?`_plural_${i.toString()}`:o():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&t.numbers.length===2&&t.numbers[0]===1?o():this.options.prepend&&r.toString()?this.options.prepend+r.toString():r.toString()}shouldUseIntlApi(){return!bct.includes(this.options.compatibilityJSON)}}const lq=function(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,o=cct(e,t,n);return!o&&i&&typeof n=="string"&&(o=LF(e,n,r),o===void 0&&(o=LF(t,n,r))),o},f5=e=>e.replace(/\$/g,"$$$$");class kct{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=ga.create("interpolator"),this.options=t,this.format=t.interpolation&&t.interpolation.format||(n=>n),this.init(t)}init(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};t.interpolation||(t.interpolation={escapeValue:!0});const{escape:n,escapeValue:r,useRawValueToEscape:i,prefix:o,prefixEscaped:s,suffix:a,suffixEscaped:l,formatSeparator:u,unescapeSuffix:c,unescapePrefix:f,nestingPrefix:d,nestingPrefixEscaped:h,nestingSuffix:p,nestingSuffixEscaped:g,nestingOptionsSeparator:m,maxReplaces:y,alwaysFormat:v}=t.interpolation;this.escape=n!==void 0?n:dct,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=i!==void 0?i:!1,this.prefix=o?Dh(o):s||"{{",this.suffix=a?Dh(a):l||"}}",this.formatSeparator=u||",",this.unescapePrefix=c?"":f||"-",this.unescapeSuffix=this.unescapePrefix?"":c||"",this.nestingPrefix=d?Dh(d):h||Dh("$t("),this.nestingSuffix=p?Dh(p):g||Dh(")"),this.nestingOptionsSeparator=m||",",this.maxReplaces=y||1e3,this.alwaysFormat=v!==void 0?v:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const t=(n,r)=>n&&n.source===r?(n.lastIndex=0,n):new RegExp(r,"g");this.regexp=t(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=t(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=t(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(t,n,r,i){let o,s,a;const l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},u=h=>{if(h.indexOf(this.formatSeparator)<0){const y=lq(n,l,h,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(y,void 0,r,{...i,...n,interpolationkey:h}):y}const p=h.split(this.formatSeparator),g=p.shift().trim(),m=p.join(this.formatSeparator).trim();return this.format(lq(n,l,g,this.options.keySeparator,this.options.ignoreJSONStructure),m,r,{...i,...n,interpolationkey:g})};this.resetRegExp();const c=i&&i.missingInterpolationHandler||this.options.missingInterpolationHandler,f=i&&i.interpolation&&i.interpolation.skipOnVariables!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:h=>f5(h)},{regex:this.regexp,safeValue:h=>this.escapeValue?f5(this.escape(h)):f5(h)}].forEach(h=>{for(a=0;o=h.regex.exec(t);){const p=o[1].trim();if(s=u(p),s===void 0)if(typeof c=="function"){const m=c(t,o,i);s=typeof m=="string"?m:""}else if(i&&Object.prototype.hasOwnProperty.call(i,p))s="";else if(f){s=o[0];continue}else this.logger.warn(`missed to pass in variable ${p} for interpolating ${t}`),s="";else typeof s!="string"&&!this.useRawValueToEscape&&(s=eq(s));const g=h.safeValue(s);if(t=t.replace(o[0],g),f?(h.regex.lastIndex+=s.length,h.regex.lastIndex-=o[0].length):h.regex.lastIndex=0,a++,a>=this.maxReplaces)break}}),t}nest(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i,o,s;const a=(l,u)=>{const c=this.nestingOptionsSeparator;if(l.indexOf(c)<0)return l;const f=l.split(new RegExp(`${c}[ ]*{`));let d=`{${f[1]}`;l=f[0],d=this.interpolate(d,s);const h=d.match(/'/g),p=d.match(/"/g);(h&&h.length%2===0&&!p||p.length%2!==0)&&(d=d.replace(/'/g,'"'));try{s=JSON.parse(d),u&&(s={...u,...s})}catch(g){return this.logger.warn(`failed parsing options string in nesting for key ${l}`,g),`${l}${c}${d}`}return s.defaultValue&&s.defaultValue.indexOf(this.prefix)>-1&&delete s.defaultValue,l};for(;i=this.nestingRegexp.exec(t);){let l=[];s={...r},s=s.replace&&typeof s.replace!="string"?s.replace:s,s.applyPostProcessor=!1,delete s.defaultValue;let u=!1;if(i[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(i[1])){const c=i[1].split(this.formatSeparator).map(f=>f.trim());i[1]=c.shift(),l=c,u=!0}if(o=n(a.call(this,i[1].trim(),s),s),o&&i[0]===t&&typeof o!="string")return o;typeof o!="string"&&(o=eq(o)),o||(this.logger.warn(`missed to resolve ${i[1]} for nesting ${t}`),o=""),u&&(o=l.reduce((c,f)=>this.format(c,f,r.lng,{...r,interpolationkey:i[1].trim()}),o.trim())),t=t.replace(i[0],o),this.regexp.lastIndex=0}return t}}const Cct=e=>{let t=e.toLowerCase().trim();const n={};if(e.indexOf("(")>-1){const r=e.split("(");t=r[0].toLowerCase().trim();const i=r[1].substring(0,r[1].length-1);t==="currency"&&i.indexOf(":")<0?n.currency||(n.currency=i.trim()):t==="relativetime"&&i.indexOf(":")<0?n.range||(n.range=i.trim()):i.split(";").forEach(s=>{if(s){const[a,...l]=s.split(":"),u=l.join(":").trim().replace(/^'+|'+$/g,""),c=a.trim();n[c]||(n[c]=u),u==="false"&&(n[c]=!1),u==="true"&&(n[c]=!0),isNaN(u)||(n[c]=parseInt(u,10))}})}return{formatName:t,formatOptions:n}},Nh=e=>{const t={};return(n,r,i)=>{let o=i;i&&i.interpolationkey&&i.formatParams&&i.formatParams[i.interpolationkey]&&i[i.interpolationkey]&&(o={...o,[i.interpolationkey]:void 0});const s=r+JSON.stringify(o);let a=t[s];return a||(a=e(Gk(r),i),t[s]=a),a(n)}};class Ect{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=ga.create("formatter"),this.options=t,this.formats={number:Nh((n,r)=>{const i=new Intl.NumberFormat(n,{...r});return o=>i.format(o)}),currency:Nh((n,r)=>{const i=new Intl.NumberFormat(n,{...r,style:"currency"});return o=>i.format(o)}),datetime:Nh((n,r)=>{const i=new Intl.DateTimeFormat(n,{...r});return o=>i.format(o)}),relativetime:Nh((n,r)=>{const i=new Intl.RelativeTimeFormat(n,{...r});return o=>i.format(o,r.range||"day")}),list:Nh((n,r)=>{const i=new Intl.ListFormat(n,{...r});return o=>i.format(o)})},this.init(t)}init(t){const r=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}}).interpolation;this.formatSeparator=r.formatSeparator?r.formatSeparator:r.formatSeparator||","}add(t,n){this.formats[t.toLowerCase().trim()]=n}addCached(t,n){this.formats[t.toLowerCase().trim()]=Nh(n)}format(t,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const o=n.split(this.formatSeparator);if(o.length>1&&o[0].indexOf("(")>1&&o[0].indexOf(")")<0&&o.find(a=>a.indexOf(")")>-1)){const a=o.findIndex(l=>l.indexOf(")")>-1);o[0]=[o[0],...o.splice(1,a)].join(this.formatSeparator)}return o.reduce((a,l)=>{const{formatName:u,formatOptions:c}=Cct(l);if(this.formats[u]){let f=a;try{const d=i&&i.formatParams&&i.formatParams[i.interpolationkey]||{},h=d.locale||d.lng||i.locale||i.lng||r;f=this.formats[u](a,h,{...c,...i,...d})}catch(d){this.logger.warn(d)}return f}else this.logger.warn(`there was no format function for ${u}`);return a},t)}}const _ct=(e,t)=>{e.pending[t]!==void 0&&(delete e.pending[t],e.pendingCount--)};class $ct extends t${constructor(t,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=t,this.store=n,this.services=r,this.languageUtils=r.languageUtils,this.options=i,this.logger=ga.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(r,i.backend,i)}queueLoad(t,n,r,i){const o={},s={},a={},l={};return t.forEach(u=>{let c=!0;n.forEach(f=>{const d=`${u}|${f}`;!r.reload&&this.store.hasResourceBundle(u,f)?this.state[d]=2:this.state[d]<0||(this.state[d]===1?s[d]===void 0&&(s[d]=!0):(this.state[d]=1,c=!1,s[d]===void 0&&(s[d]=!0),o[d]===void 0&&(o[d]=!0),l[f]===void 0&&(l[f]=!0)))}),c||(a[u]=!0)}),(Object.keys(o).length||Object.keys(s).length)&&this.queue.push({pending:s,pendingCount:Object.keys(s).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(o),pending:Object.keys(s),toLoadLanguages:Object.keys(a),toLoadNamespaces:Object.keys(l)}}loaded(t,n,r){const i=t.split("|"),o=i[0],s=i[1];n&&this.emit("failedLoading",o,s,n),!n&&r&&this.store.addResourceBundle(o,s,r,void 0,void 0,{skipCopy:!0}),this.state[t]=n?-1:2,n&&r&&(this.state[t]=0);const a={};this.queue.forEach(l=>{uct(l.loaded,[o],s),_ct(l,t),n&&l.errors.push(n),l.pendingCount===0&&!l.done&&(Object.keys(l.loaded).forEach(u=>{a[u]||(a[u]={});const c=l.loaded[u];c.length&&c.forEach(f=>{a[u][f]===void 0&&(a[u][f]=!0)})}),l.done=!0,l.errors.length?l.callback(l.errors):l.callback())}),this.emit("loaded",a),this.queue=this.queue.filter(l=>!l.done)}read(t,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,s=arguments.length>5?arguments[5]:void 0;if(!t.length)return s(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:t,ns:n,fcName:r,tried:i,wait:o,callback:s});return}this.readingCalls++;const a=(u,c)=>{if(this.readingCalls--,this.waitingReads.length>0){const f=this.waitingReads.shift();this.read(f.lng,f.ns,f.fcName,f.tried,f.wait,f.callback)}if(u&&c&&i<this.maxRetries){setTimeout(()=>{this.read.call(this,t,n,r,i+1,o*2,s)},o);return}s(u,c)},l=this.backend[r].bind(this.backend);if(l.length===2){try{const u=l(t,n);u&&typeof u.then=="function"?u.then(c=>a(null,c)).catch(a):a(null,u)}catch(u){a(u)}return}return l(t,n,a)}prepareLoading(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();typeof t=="string"&&(t=this.languageUtils.toResolveHierarchy(t)),typeof n=="string"&&(n=[n]);const o=this.queueLoad(t,n,r,i);if(!o.toLoad.length)return o.pending.length||i(),null;o.toLoad.forEach(s=>{this.loadOne(s)})}load(t,n,r){this.prepareLoading(t,n,{},r)}reload(t,n,r){this.prepareLoading(t,n,{reload:!0},r)}loadOne(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const r=t.split("|"),i=r[0],o=r[1];this.read(i,o,"read",void 0,void 0,(s,a)=>{s&&this.logger.warn(`${n}loading namespace ${o} for language ${i} failed`,s),!s&&a&&this.logger.log(`${n}loaded namespace ${o} for language ${i}`,a),this.loaded(t,s,a)})}saveMissing(t,n,r,i,o){let s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},a=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(n)){this.logger.warn(`did not save key "${r}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if(this.backend&&this.backend.create){const l={...s,isUpdate:o},u=this.backend.create.bind(this.backend);if(u.length<6)try{let c;u.length===5?c=u(t,n,r,i,l):c=u(t,n,r,i),c&&typeof c.then=="function"?c.then(f=>a(null,f)).catch(a):a(null,c)}catch(c){a(c)}else u(t,n,r,i,a,l)}!t||!t[0]||this.store.addResource(t[0],n,r,i)}}}const uq=()=>({debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:e=>{let t={};if(typeof e[1]=="object"&&(t=e[1]),typeof e[1]=="string"&&(t.defaultValue=e[1]),typeof e[2]=="string"&&(t.tDescription=e[2]),typeof e[2]=="object"||typeof e[3]=="object"){const n=e[3]||e[2];Object.keys(n).forEach(r=>{t[r]=n[r]})}return t},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),cq=e=>(typeof e.ns=="string"&&(e.ns=[e.ns]),typeof e.fallbackLng=="string"&&(e.fallbackLng=[e.fallbackLng]),typeof e.fallbackNS=="string"&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs&&e.supportedLngs.indexOf("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),e),sw=()=>{},Act=e=>{Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach(n=>{typeof e[n]=="function"&&(e[n]=e[n].bind(e))})};class lv extends t${constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;if(super(),this.options=cq(t),this.services={},this.logger=ga,this.modules={external:[]},Act(this),n&&!this.isInitialized&&!t.isClone){if(!this.options.initImmediate)return this.init(t,n),this;setTimeout(()=>{this.init(t,n)},0)}}init(){var t=this;let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof n=="function"&&(r=n,n={}),!n.defaultNS&&n.defaultNS!==!1&&n.ns&&(typeof n.ns=="string"?n.defaultNS=n.ns:n.ns.indexOf("translation")<0&&(n.defaultNS=n.ns[0]));const i=uq();this.options={...i,...this.options,...cq(n)},this.options.compatibilityAPI!=="v1"&&(this.options.interpolation={...i.interpolation,...this.options.interpolation}),n.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=n.keySeparator),n.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=n.nsSeparator);const o=c=>c?typeof c=="function"?new c:c:null;if(!this.options.isClone){this.modules.logger?ga.init(o(this.modules.logger),this.options):ga.init(null,this.options);let c;this.modules.formatter?c=this.modules.formatter:typeof Intl<"u"&&(c=Ect);const f=new sq(this.options);this.store=new iq(this.options.resources,this.options);const d=this.services;d.logger=ga,d.resourceStore=this.store,d.languageUtils=f,d.pluralResolver=new Sct(f,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),c&&(!this.options.interpolation.format||this.options.interpolation.format===i.interpolation.format)&&(d.formatter=o(c),d.formatter.init(d,this.options),this.options.interpolation.format=d.formatter.format.bind(d.formatter)),d.interpolator=new kct(this.options),d.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},d.backendConnector=new $ct(o(this.modules.backend),d.resourceStore,d,this.options),d.backendConnector.on("*",function(h){for(var p=arguments.length,g=new Array(p>1?p-1:0),m=1;m<p;m++)g[m-1]=arguments[m];t.emit(h,...g)}),this.modules.languageDetector&&(d.languageDetector=o(this.modules.languageDetector),d.languageDetector.init&&d.languageDetector.init(d,this.options.detection,this.options)),this.modules.i18nFormat&&(d.i18nFormat=o(this.modules.i18nFormat),d.i18nFormat.init&&d.i18nFormat.init(this)),this.translator=new Yk(this.services,this.options),this.translator.on("*",function(h){for(var p=arguments.length,g=new Array(p>1?p-1:0),m=1;m<p;m++)g[m-1]=arguments[m];t.emit(h,...g)}),this.modules.external.forEach(h=>{h.init&&h.init(this)})}if(this.format=this.options.interpolation.format,r||(r=sw),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const c=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);c.length>0&&c[0]!=="dev"&&(this.options.lng=c[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(c=>{this[c]=function(){return t.store[c](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(c=>{this[c]=function(){return t.store[c](...arguments),t}});const l=$0(),u=()=>{const c=(f,d)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),l.resolve(d),r(f,d)};if(this.languages&&this.options.compatibilityAPI!=="v1"&&!this.isInitialized)return c(null,this.t.bind(this));this.changeLanguage(this.options.lng,c)};return this.options.resources||!this.options.initImmediate?u():setTimeout(u,0),l}loadResources(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:sw;const i=typeof t=="string"?t:this.language;if(typeof t=="function"&&(r=t),!this.options.resources||this.options.partialBundledLanguages){if(i&&i.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const o=[],s=a=>{if(!a||a==="cimode")return;this.services.languageUtils.toResolveHierarchy(a).forEach(u=>{u!=="cimode"&&o.indexOf(u)<0&&o.push(u)})};i?s(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(l=>s(l)),this.options.preload&&this.options.preload.forEach(a=>s(a)),this.services.backendConnector.load(o,this.options.ns,a=>{!a&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(a)})}else r(null)}reloadResources(t,n,r){const i=$0();return typeof t=="function"&&(r=t,t=void 0),typeof n=="function"&&(r=n,n=void 0),t||(t=this.languages),n||(n=this.options.ns),r||(r=sw),this.services.backendConnector.reload(t,n,o=>{i.resolve(),r(o)}),i}use(t){if(!t)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!t.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return t.type==="backend"&&(this.modules.backend=t),(t.type==="logger"||t.log&&t.warn&&t.error)&&(this.modules.logger=t),t.type==="languageDetector"&&(this.modules.languageDetector=t),t.type==="i18nFormat"&&(this.modules.i18nFormat=t),t.type==="postProcessor"&&qfe.addPostProcessor(t),t.type==="formatter"&&(this.modules.formatter=t),t.type==="3rdParty"&&this.modules.external.push(t),this}setResolvedLanguage(t){if(!(!t||!this.languages)&&!(["cimode","dev"].indexOf(t)>-1))for(let n=0;n<this.languages.length;n++){const r=this.languages[n];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}}changeLanguage(t,n){var r=this;this.isLanguageChangingTo=t;const i=$0();this.emit("languageChanging",t);const o=l=>{this.language=l,this.languages=this.services.languageUtils.toResolveHierarchy(l),this.resolvedLanguage=void 0,this.setResolvedLanguage(l)},s=(l,u)=>{u?(o(u),this.translator.changeLanguage(u),this.isLanguageChangingTo=void 0,this.emit("languageChanged",u),this.logger.log("languageChanged",u)):this.isLanguageChangingTo=void 0,i.resolve(function(){return r.t(...arguments)}),n&&n(l,function(){return r.t(...arguments)})},a=l=>{!t&&!l&&this.services.languageDetector&&(l=[]);const u=typeof l=="string"?l:this.services.languageUtils.getBestMatchFromCodes(l);u&&(this.language||o(u),this.translator.language||this.translator.changeLanguage(u),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(u)),this.loadResources(u,c=>{s(c,u)})};return!t&&this.services.languageDetector&&!this.services.languageDetector.async?a(this.services.languageDetector.detect()):!t&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(a):this.services.languageDetector.detect(a):a(t),i}getFixedT(t,n,r){var i=this;const o=function(s,a){let l;if(typeof a!="object"){for(var u=arguments.length,c=new Array(u>2?u-2:0),f=2;f<u;f++)c[f-2]=arguments[f];l=i.options.overloadTranslationOptionHandler([s,a].concat(c))}else l={...a};l.lng=l.lng||o.lng,l.lngs=l.lngs||o.lngs,l.ns=l.ns||o.ns,l.keyPrefix!==""&&(l.keyPrefix=l.keyPrefix||r||o.keyPrefix);const d=i.options.keySeparator||".";let h;return l.keyPrefix&&Array.isArray(s)?h=s.map(p=>`${l.keyPrefix}${d}${p}`):h=l.keyPrefix?`${l.keyPrefix}${d}${s}`:s,i.t(h,l)};return typeof t=="string"?o.lng=t:o.lngs=t,o.ns=n,o.keyPrefix=r,o}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(t){this.options.defaultNS=t}hasLoadedNamespace(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=n.lng||this.resolvedLanguage||this.languages[0],i=this.options?this.options.fallbackLng:!1,o=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const s=(a,l)=>{const u=this.services.backendConnector.state[`${a}|${l}`];return u===-1||u===0||u===2};if(n.precheck){const a=n.precheck(this,s);if(a!==void 0)return a}return!!(this.hasResourceBundle(r,t)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||s(r,t)&&(!i||s(o,t)))}loadNamespaces(t,n){const r=$0();return this.options.ns?(typeof t=="string"&&(t=[t]),t.forEach(i=>{this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}),this.loadResources(i=>{r.resolve(),n&&n(i)}),r):(n&&n(),Promise.resolve())}loadLanguages(t,n){const r=$0();typeof t=="string"&&(t=[t]);const i=this.options.preload||[],o=t.filter(s=>i.indexOf(s)<0&&this.services.languageUtils.isSupportedCode(s));return o.length?(this.options.preload=i.concat(o),this.loadResources(s=>{r.resolve(),n&&n(s)}),r):(n&&n(),Promise.resolve())}dir(t){if(t||(t=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!t)return"rtl";const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=this.services&&this.services.languageUtils||new sq(uq());return n.indexOf(r.getLanguagePartFromCode(t))>-1||t.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;return new lv(t,n)}cloneInstance(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:sw;const r=t.forkResourceStore;r&&delete t.forkResourceStore;const i={...this.options,...t,isClone:!0},o=new lv(i);return(t.debug!==void 0||t.prefix!==void 0)&&(o.logger=o.logger.clone(t)),["store","services","language"].forEach(a=>{o[a]=this[a]}),o.services={...this.services},o.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},r&&(o.store=new iq(this.store.data,i),o.services.resourceStore=o.store),o.translator=new Yk(o.services,i),o.translator.on("*",function(a){for(var l=arguments.length,u=new Array(l>1?l-1:0),c=1;c<l;c++)u[c-1]=arguments[c];o.emit(a,...u)}),o.init(i,n),o.translator.options=i,o.translator.backendConnector.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Pr=lv.createInstance();Pr.createInstance=lv.createInstance;Pr.createInstance;Pr.dir;Pr.init;Pr.loadResources;Pr.reloadResources;Pr.use;Pr.changeLanguage;Pr.getFixedT;const cu=Pr.t;Pr.exists;Pr.setDefaultNamespace;Pr.hasLoadedNamespace;Pr.loadNamespaces;Pr.loadLanguages;function Lh({label:e,children:t,...n}){return $.jsxs(Ht,{w:"full",flexDir:"row",justify:"space-between",alignItems:"center",...n,children:[$.jsx(Lt,{minW:"130px",children:e}),t]})}function Tct(){const{handleSubmit:e,loading:t,selectedDemo:n,handleDemoSelect:r}=fst(),{loading:i}=kfe(),{t:o}=Om();return $.jsxs($.Fragment,{children:[$.jsx(DR,{size:"sm",onChange:s=>r(uH.find(a=>a.name===s.target.value)??null),placeholder:o("settings.select_demo"),variant:"outline",colorScheme:mr,icon:$.jsx(yt,{as:Clt}),borderRightRadius:0,children:uH.map(s=>$.jsx("option",{value:s.name,children:s.name},s.name))}),$.jsx(E1,{borderLeftRadius:0,colorScheme:mr,type:"submit",isLoading:t||i,isDisabled:!n||i,icon:$.jsx(yt,{as:jfe}),"aria-label":o("settings.load_data"),onClick:e,"data-log-click":"load-demo"})]})}function Pct(e){const{python:t,handleServerButtonClick:n,handleDownloadLogs:r,colorMode:i,toggleColorMode:o,locale:s,setLocale:a}=clt();return $.jsxs(sm,{as:wa,...e,children:[$.jsx(Lh,{label:cu("settings.load_data"),children:$.jsx(oct,{w:"full"})}),$.jsx(Lh,{label:cu("settings.load_demo"),children:$.jsx(Tct,{})}),$.jsx(OR,{my:4}),$.jsx(Lh,{label:cu("settings.set_locale"),children:$.jsxs(DR,{size:"sm",variant:"outline",value:s,onChange:l=>{a(l.target.value)},children:[$.jsx("option",{value:"en",children:"English"}),$.jsx("option",{value:"ko",children:""})]})}),$.jsx(Lh,{label:cu("settings.set_color"),children:$.jsx(ds,{leftIcon:$.jsx(yt,{as:i==="light"?Ilt:Olt}),onClick:o,size:"sm",w:"full",children:i==="light"?"Light":"Dark"})}),$.jsx(Lh,{label:cu("settings.set_backend"),children:$.jsx(ds,{leftIcon:$.jsx(yt,{as:t==="server"?Alt:Llt}),onClick:()=>{n()},size:"sm",w:"full",children:t&&t[0].toUpperCase()+(t==null?void 0:t.slice(1))})}),$.jsx(Lh,{label:cu("settings.monitor_logs"),children:$.jsxs(Ht,{gap:2,w:"full",children:[$.jsx(ds,{w:"full",onClick:r,children:cu("settings.load_latest_logs")}),$.jsx(ds,{w:"full",onClick:r,children:cu("settings.download_logs")})]})})]})}function Mct({tabs:e,...t}){const{tabIconSize:n,tabPanelHeight:r,scrollbarStyle:i}=Rs(),s=St(u=>u.fields).length>0,a=Fs(u=>u.tabIndex),l=Fs(u=>u.setTabByIndex);return $.jsxs(QQ,{w:"full",defaultIndex:a,index:a,onChange:l,isFitted:!0,colorScheme:mr,...t,children:[$.jsx(JQ,{children:e.map(u=>$.jsxs(eJ,{gap:1,as:hc,flexDir:"column",isDisabled:!s&&!u.displayingBeforeInit,"data-log-click":`tab-${u.name}`,children:[$.jsx(yt,{boxSize:n,as:u.icon}),$.jsx(Lt,{fontSize:"sm",children:u.displayName})]},`tab-${u.name}`))}),$.jsx(ZQ,{mt:4,flex:1,overflow:"auto",h:r,sx:i,children:e.map(u=>$.jsx(sm,{children:u.panel},`tabpanel-${u.name}`))})]})}function Fct(){const{cardHeight:e,cardColor:t,cardWidth:n}=Rs(),{t:r}=Om();return ult(),$.jsxs(Ht,{minW:{base:"full",lg:"container.xl"},maxH:e,gap:4,flexDir:{base:"column",lg:"row"},children:[$.jsx(Ht,{position:"relative",w:n,children:$.jsx(Xut,{w:"full",gap:{base:0,lg:4}})}),$.jsx(Zut,{bgColor:t,borderRadius:"lg",w:{base:"full",lg:"sm"},minW:{base:"full",lg:"sm"},controller:$.jsx(Kut,{spacing:2,w:"full"}),children:$.jsx(Mct,{tabs:[{name:"likes",displayName:r("bookmarks.title"),icon:Ife,panel:$.jsx(flt,{p:0,m:0,gap:2,w:"full"}),displayingBeforeInit:!1},{name:"search",displayName:r("search.title"),icon:zfe,panel:$.jsx(dlt,{}),displayingBeforeInit:!1},{name:"fields",displayName:r("fields.title"),icon:Dlt,panel:$.jsx(ict,{}),displayingBeforeInit:!1},{name:"settings",displayName:r("settings.title"),icon:Nlt,panel:$.jsx(Pct,{align:"start"}),displayingBeforeInit:!0}]})})]})}const Rct=z2e({initialColorMode:"dark",useSystemColorMode:!0,components:{Button:{defaultProps:{size:"sm"}},Input:{defaultProps:{size:"sm",focusBorderColor:qu[200]},baseStyle:{field:{_focusVisible:{borderColor:qu[200]}}}},Select:{defaultProps:{size:"sm",focusBorderColor:qu[200]}},Tabs:{parts:["tabpanel"],baseStyle:{tabpanel:{p:0}}},Card:{baseStyle:e=>({container:{bg:e.colorMode==="light"?"white":"gray.900"}})}},styles:{global:e=>({body:{height:"100dvh",overflow:"smooth",overscrollBehavior:"none",bg:e.colorMode==="light"?"gray.100":"gray.800"},html:{height:"100dvh",overflow:"smooth",overscrollBehavior:"none",overflowY:"overlay",focusBorderColor:qu[200]}})}});var Gfe,fq=U4;Gfe=fq.createRoot,fq.hydrateRoot;const{slice:Oct,forEach:Dct}=[];function Nct(e){return Dct.call(Oct.call(arguments,1),t=>{if(t)for(const n in t)e[n]===void 0&&(e[n]=t[n])}),e}const dq=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,Lct=(e,t,n)=>{const r=n||{};r.path=r.path||"/";const i=encodeURIComponent(t);let o=`${e}=${i}`;if(r.maxAge>0){const s=r.maxAge-0;if(Number.isNaN(s))throw new Error("maxAge should be a Number");o+=`; Max-Age=${Math.floor(s)}`}if(r.domain){if(!dq.test(r.domain))throw new TypeError("option domain is invalid");o+=`; Domain=${r.domain}`}if(r.path){if(!dq.test(r.path))throw new TypeError("option path is invalid");o+=`; Path=${r.path}`}if(r.expires){if(typeof r.expires.toUTCString!="function")throw new TypeError("option expires is invalid");o+=`; Expires=${r.expires.toUTCString()}`}if(r.httpOnly&&(o+="; HttpOnly"),r.secure&&(o+="; Secure"),r.sameSite)switch(typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite){case!0:o+="; SameSite=Strict";break;case"lax":o+="; SameSite=Lax";break;case"strict":o+="; SameSite=Strict";break;case"none":o+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return o},hq={create(e,t,n,r){let i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};n&&(i.expires=new Date,i.expires.setTime(i.expires.getTime()+n*60*1e3)),r&&(i.domain=r),document.cookie=Lct(e,encodeURIComponent(t),i)},read(e){const t=`${e}=`,n=document.cookie.split(";");for(let r=0;r<n.length;r++){let i=n[r];for(;i.charAt(0)===" ";)i=i.substring(1,i.length);if(i.indexOf(t)===0)return i.substring(t.length,i.length)}return null},remove(e){this.create(e,"",-1)}};var Ict={name:"cookie",lookup(e){let{lookupCookie:t}=e;if(t&&typeof document<"u")return hq.read(t)||void 0},cacheUserLanguage(e,t){let{lookupCookie:n,cookieMinutes:r,cookieDomain:i,cookieOptions:o}=t;n&&typeof document<"u"&&hq.create(n,e,r,i,o)}},zct={name:"querystring",lookup(e){var r;let{lookupQuerystring:t}=e,n;if(typeof window<"u"){let{search:i}=window.location;!window.location.search&&((r=window.location.hash)==null?void 0:r.indexOf("?"))>-1&&(i=window.location.hash.substring(window.location.hash.indexOf("?")));const s=i.substring(1).split("&");for(let a=0;a<s.length;a++){const l=s[a].indexOf("=");l>0&&s[a].substring(0,l)===t&&(n=s[a].substring(l+1))}}return n}};let A0=null;const pq=()=>{if(A0!==null)return A0;try{A0=window!=="undefined"&&window.localStorage!==null;const e="i18next.translate.boo";window.localStorage.setItem(e,"foo"),window.localStorage.removeItem(e)}catch{A0=!1}return A0};var jct={name:"localStorage",lookup(e){let{lookupLocalStorage:t}=e;if(t&&pq())return window.localStorage.getItem(t)||void 0},cacheUserLanguage(e,t){let{lookupLocalStorage:n}=t;n&&pq()&&window.localStorage.setItem(n,e)}};let T0=null;const gq=()=>{if(T0!==null)return T0;try{T0=window!=="undefined"&&window.sessionStorage!==null;const e="i18next.translate.boo";window.sessionStorage.setItem(e,"foo"),window.sessionStorage.removeItem(e)}catch{T0=!1}return T0};var Bct={name:"sessionStorage",lookup(e){let{lookupSessionStorage:t}=e;if(t&&gq())return window.sessionStorage.getItem(t)||void 0},cacheUserLanguage(e,t){let{lookupSessionStorage:n}=t;n&&gq()&&window.sessionStorage.setItem(n,e)}},Uct={name:"navigator",lookup(e){const t=[];if(typeof navigator<"u"){const{languages:n,userLanguage:r,language:i}=navigator;if(n)for(let o=0;o<n.length;o++)t.push(n[o]);r&&t.push(r),i&&t.push(i)}return t.length>0?t:void 0}},Vct={name:"htmlTag",lookup(e){let{htmlTag:t}=e,n;const r=t||(typeof document<"u"?document.documentElement:null);return r&&typeof r.getAttribute=="function"&&(n=r.getAttribute("lang")),n}},Wct={name:"path",lookup(e){var i;let{lookupFromPathIndex:t}=e;if(typeof window>"u")return;const n=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(n)?(i=n[typeof t=="number"?t:0])==null?void 0:i.replace("/",""):void 0}},Hct={name:"subdomain",lookup(e){var i,o;let{lookupFromSubdomainIndex:t}=e;const n=typeof t=="number"?t+1:1,r=typeof window<"u"&&((o=(i=window.location)==null?void 0:i.hostname)==null?void 0:o.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i));if(r)return r[n]}};function qct(){return{order:["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"],lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:e=>e}}class Yfe{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(t,n)}init(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=t||{languageUtils:{}},this.options=Nct(n,this.options||{},qct()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=i=>i.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=r,this.addDetector(Ict),this.addDetector(zct),this.addDetector(jct),this.addDetector(Bct),this.addDetector(Uct),this.addDetector(Vct),this.addDetector(Wct),this.addDetector(Hct)}addDetector(t){return this.detectors[t.name]=t,this}detect(t){t||(t=this.options.order);let n=[];return t.forEach(r=>{if(this.detectors[r]){let i=this.detectors[r].lookup(this.options);i&&typeof i=="string"&&(i=[i]),i&&(n=n.concat(i))}}),n=n.map(r=>this.options.convertDetectedLanguage(r)),this.services.languageUtils.getBestMatchFromCodes?n:n.length>0?n[0]:null}cacheUserLanguage(t,n){n||(n=this.options.caches),n&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(t)>-1||n.forEach(r=>{this.detectors[r]&&this.detectors[r].cacheUserLanguage(t,this.options)}))}}Yfe.type="languageDetector";function IF(e){"@babel/helpers - typeof";return IF=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},IF(e)}function Xfe(){return typeof XMLHttpRequest=="function"||(typeof XMLHttpRequest>"u"?"undefined":IF(XMLHttpRequest))==="object"}function Gct(e){return!!e&&typeof e.then=="function"}function Yct(e){return Gct(e)?e:Promise.resolve(e)}function Xct(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var zF={exports:{}},aw={exports:{}},mq;function Kct(){return mq||(mq=1,function(e,t){var n=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof Li<"u"&&Li,r=function(){function o(){this.fetch=!1,this.DOMException=n.DOMException}return o.prototype=n,new o}();(function(o){(function(s){var a=typeof o<"u"&&o||typeof self<"u"&&self||typeof a<"u"&&a,l={searchParams:"URLSearchParams"in a,iterable:"Symbol"in a&&"iterator"in Symbol,blob:"FileReader"in a&&"Blob"in a&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in a,arrayBuffer:"ArrayBuffer"in a};function u(_){return _&&DataView.prototype.isPrototypeOf(_)}if(l.arrayBuffer)var c=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],f=ArrayBuffer.isView||function(_){return _&&c.indexOf(Object.prototype.toString.call(_))>-1};function d(_){if(typeof _!="string"&&(_=String(_)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(_)||_==="")throw new TypeError('Invalid character in header field name: "'+_+'"');return _.toLowerCase()}function h(_){return typeof _!="string"&&(_=String(_)),_}function p(_){var P={next:function(){var N=_.shift();return{done:N===void 0,value:N}}};return l.iterable&&(P[Symbol.iterator]=function(){return P}),P}function g(_){this.map={},_ instanceof g?_.forEach(function(P,N){this.append(N,P)},this):Array.isArray(_)?_.forEach(function(P){this.append(P[0],P[1])},this):_&&Object.getOwnPropertyNames(_).forEach(function(P){this.append(P,_[P])},this)}g.prototype.append=function(_,P){_=d(_),P=h(P);var N=this.map[_];this.map[_]=N?N+", "+P:P},g.prototype.delete=function(_){delete this.map[d(_)]},g.prototype.get=function(_){return _=d(_),this.has(_)?this.map[_]:null},g.prototype.has=function(_){return this.map.hasOwnProperty(d(_))},g.prototype.set=function(_,P){this.map[d(_)]=h(P)},g.prototype.forEach=function(_,P){for(var N in this.map)this.map.hasOwnProperty(N)&&_.call(P,this.map[N],N,this)},g.prototype.keys=function(){var _=[];return this.forEach(function(P,N){_.push(N)}),p(_)},g.prototype.values=function(){var _=[];return this.forEach(function(P){_.push(P)}),p(_)},g.prototype.entries=function(){var _=[];return this.forEach(function(P,N){_.push([N,P])}),p(_)},l.iterable&&(g.prototype[Symbol.iterator]=g.prototype.entries);function m(_){if(_.bodyUsed)return Promise.reject(new TypeError("Already read"));_.bodyUsed=!0}function y(_){return new Promise(function(P,N){_.onload=function(){P(_.result)},_.onerror=function(){N(_.error)}})}function v(_){var P=new FileReader,N=y(P);return P.readAsArrayBuffer(_),N}function b(_){var P=new FileReader,N=y(P);return P.readAsText(_),N}function x(_){for(var P=new Uint8Array(_),N=new Array(P.length),D=0;D<P.length;D++)N[D]=String.fromCharCode(P[D]);return N.join("")}function w(_){if(_.slice)return _.slice(0);var P=new Uint8Array(_.byteLength);return P.set(new Uint8Array(_)),P.buffer}function k(){return this.bodyUsed=!1,this._initBody=function(_){this.bodyUsed=this.bodyUsed,this._bodyInit=_,_?typeof _=="string"?this._bodyText=_:l.blob&&Blob.prototype.isPrototypeOf(_)?this._bodyBlob=_:l.formData&&FormData.prototype.isPrototypeOf(_)?this._bodyFormData=_:l.searchParams&&URLSearchParams.prototype.isPrototypeOf(_)?this._bodyText=_.toString():l.arrayBuffer&&l.blob&&u(_)?(this._bodyArrayBuffer=w(_.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):l.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(_)||f(_))?this._bodyArrayBuffer=w(_):this._bodyText=_=Object.prototype.toString.call(_):this._bodyText="",this.headers.get("content-type")||(typeof _=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):l.searchParams&&URLSearchParams.prototype.isPrototypeOf(_)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},l.blob&&(this.blob=function(){var _=m(this);if(_)return _;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var _=m(this);return _||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else return this.blob().then(v)}),this.text=function(){var _=m(this);if(_)return _;if(this._bodyBlob)return b(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(x(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},l.formData&&(this.formData=function(){return this.text().then(A)}),this.json=function(){return this.text().then(JSON.parse)},this}var S=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function C(_){var P=_.toUpperCase();return S.indexOf(P)>-1?P:_}function E(_,P){if(!(this instanceof E))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');P=P||{};var N=P.body;if(_ instanceof E){if(_.bodyUsed)throw new TypeError("Already read");this.url=_.url,this.credentials=_.credentials,P.headers||(this.headers=new g(_.headers)),this.method=_.method,this.mode=_.mode,this.signal=_.signal,!N&&_._bodyInit!=null&&(N=_._bodyInit,_.bodyUsed=!0)}else this.url=String(_);if(this.credentials=P.credentials||this.credentials||"same-origin",(P.headers||!this.headers)&&(this.headers=new g(P.headers)),this.method=C(P.method||this.method||"GET"),this.mode=P.mode||this.mode||null,this.signal=P.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&N)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(N),(this.method==="GET"||this.method==="HEAD")&&(P.cache==="no-store"||P.cache==="no-cache")){var D=/([?&])_=[^&]*/;if(D.test(this.url))this.url=this.url.replace(D,"$1_="+new Date().getTime());else{var I=/\?/;this.url+=(I.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}E.prototype.clone=function(){return new E(this,{body:this._bodyInit})};function A(_){var P=new FormData;return _.trim().split("&").forEach(function(N){if(N){var D=N.split("="),I=D.shift().replace(/\+/g," "),U=D.join("=").replace(/\+/g," ");P.append(decodeURIComponent(I),decodeURIComponent(U))}}),P}function T(_){var P=new g,N=_.replace(/\r?\n[\t ]+/g," ");return N.split("\r").map(function(D){return D.indexOf(`
`)===0?D.substr(1,D.length):D}).forEach(function(D){var I=D.split(":"),U=I.shift().trim();if(U){var V=I.join(":").trim();P.append(U,V)}}),P}k.call(E.prototype);function L(_,P){if(!(this instanceof L))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');P||(P={}),this.type="default",this.status=P.status===void 0?200:P.status,this.ok=this.status>=200&&this.status<300,this.statusText=P.statusText===void 0?"":""+P.statusText,this.headers=new g(P.headers),this.url=P.url||"",this._initBody(_)}k.call(L.prototype),L.prototype.clone=function(){return new L(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new g(this.headers),url:this.url})},L.error=function(){var _=new L(null,{status:0,statusText:""});return _.type="error",_};var F=[301,302,303,307,308];L.redirect=function(_,P){if(F.indexOf(P)===-1)throw new RangeError("Invalid status code");return new L(null,{status:P,headers:{location:_}})},s.DOMException=a.DOMException;try{new s.DOMException}catch{s.DOMException=function(P,N){this.message=P,this.name=N;var D=Error(P);this.stack=D.stack},s.DOMException.prototype=Object.create(Error.prototype),s.DOMException.prototype.constructor=s.DOMException}function R(_,P){return new Promise(function(N,D){var I=new E(_,P);if(I.signal&&I.signal.aborted)return D(new s.DOMException("Aborted","AbortError"));var U=new XMLHttpRequest;function V(){U.abort()}U.onload=function(){var Q={status:U.status,statusText:U.statusText,headers:T(U.getAllResponseHeaders()||"")};Q.url="responseURL"in U?U.responseURL:Q.headers.get("X-Request-URL");var ye="response"in U?U.response:U.responseText;setTimeout(function(){N(new L(ye,Q))},0)},U.onerror=function(){setTimeout(function(){D(new TypeError("Network request failed"))},0)},U.ontimeout=function(){setTimeout(function(){D(new TypeError("Network request failed"))},0)},U.onabort=function(){setTimeout(function(){D(new s.DOMException("Aborted","AbortError"))},0)};function oe(Q){try{return Q===""&&a.location.href?a.location.href:Q}catch{return Q}}U.open(I.method,oe(I.url),!0),I.credentials==="include"?U.withCredentials=!0:I.credentials==="omit"&&(U.withCredentials=!1),"responseType"in U&&(l.blob?U.responseType="blob":l.arrayBuffer&&I.headers.get("Content-Type")&&I.headers.get("Content-Type").indexOf("application/octet-stream")!==-1&&(U.responseType="arraybuffer")),P&&typeof P.headers=="object"&&!(P.headers instanceof g)?Object.getOwnPropertyNames(P.headers).forEach(function(Q){U.setRequestHeader(Q,h(P.headers[Q]))}):I.headers.forEach(function(Q,ye){U.setRequestHeader(ye,Q)}),I.signal&&(I.signal.addEventListener("abort",V),U.onreadystatechange=function(){U.readyState===4&&I.signal.removeEventListener("abort",V)}),U.send(typeof I._bodyInit>"u"?null:I._bodyInit)})}return R.polyfill=!0,a.fetch||(a.fetch=R,a.Headers=g,a.Request=E,a.Response=L),s.Headers=g,s.Request=E,s.Response=L,s.fetch=R,s})({})})(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var i=n.fetch?n:r;t=i.fetch,t.default=i.fetch,t.fetch=i.fetch,t.Headers=i.Headers,t.Request=i.Request,t.Response=i.Response,e.exports=t}(aw,aw.exports)),aw.exports}(function(e,t){var n;if(typeof fetch=="function"&&(typeof Li<"u"&&Li.fetch?n=Li.fetch:typeof window<"u"&&window.fetch?n=window.fetch:n=fetch),typeof Xct<"u"&&typeof window>"u"){var r=n||Kct();r.default&&(r=r.default),t.default=r,e.exports=t.default}})(zF,zF.exports);var Kfe=zF.exports;const Qfe=Da(Kfe),yq=Rq({__proto__:null,default:Qfe},[Kfe]);function vq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function bq(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vq(Object(n),!0).forEach(function(r){Qct(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vq(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Qct(e,t,n){return(t=Jct(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Jct(e){var t=Zct(e,"string");return jd(t)=="symbol"?t:t+""}function Zct(e,t){if(jd(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(jd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jd(e){"@babel/helpers - typeof";return jd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jd(e)}var Fl;typeof fetch=="function"&&(typeof global<"u"&&global.fetch?Fl=global.fetch:typeof window<"u"&&window.fetch?Fl=window.fetch:Fl=fetch);var uv;Xfe()&&(typeof global<"u"&&global.XMLHttpRequest?uv=global.XMLHttpRequest:typeof window<"u"&&window.XMLHttpRequest&&(uv=window.XMLHttpRequest));var Xk;typeof ActiveXObject=="function"&&(typeof global<"u"&&global.ActiveXObject?Xk=global.ActiveXObject:typeof window<"u"&&window.ActiveXObject&&(Xk=window.ActiveXObject));!Fl&&yq&&!uv&&!Xk&&(Fl=Qfe||yq);typeof Fl!="function"&&(Fl=void 0);var jF=function(t,n){if(n&&jd(n)==="object"){var r="";for(var i in n)r+="&"+encodeURIComponent(i)+"="+encodeURIComponent(n[i]);if(!r)return t;t=t+(t.indexOf("?")!==-1?"&":"?")+r.slice(1)}return t},xq=function(t,n,r,i){var o=function(l){if(!l.ok)return r(l.statusText||"Error",{status:l.status});l.text().then(function(u){r(null,{status:l.status,data:u})}).catch(r)};if(i){var s=i(t,n);if(s instanceof Promise){s.then(o).catch(r);return}}typeof fetch=="function"?fetch(t,n).then(o).catch(r):Fl(t,n).then(o).catch(r)},wq=!1,eft=function(t,n,r,i){t.queryStringParams&&(n=jF(n,t.queryStringParams));var o=bq({},typeof t.customHeaders=="function"?t.customHeaders():t.customHeaders);typeof window>"u"&&typeof global<"u"&&typeof global.process<"u"&&global.process.versions&&global.process.versions.node&&(o["User-Agent"]="i18next-http-backend (node/".concat(global.process.version,"; ").concat(global.process.platform," ").concat(global.process.arch,")")),r&&(o["Content-Type"]="application/json");var s=typeof t.requestOptions=="function"?t.requestOptions(r):t.requestOptions,a=bq({method:r?"POST":"GET",body:r?t.stringify(r):void 0,headers:o},wq?{}:s),l=typeof t.alternateFetch=="function"&&t.alternateFetch.length>=1?t.alternateFetch:void 0;try{xq(n,a,i,l)}catch(u){if(!s||Object.keys(s).length===0||!u.message||u.message.indexOf("not implemented")<0)return i(u);try{Object.keys(s).forEach(function(c){delete a[c]}),xq(n,a,i,l),wq=!0}catch(c){i(c)}}},tft=function(t,n,r,i){r&&jd(r)==="object"&&(r=jF("",r).slice(1)),t.queryStringParams&&(n=jF(n,t.queryStringParams));try{var o;uv?o=new uv:o=new Xk("MSXML2.XMLHTTP.3.0"),o.open(r?"POST":"GET",n,1),t.crossDomain||o.setRequestHeader("X-Requested-With","XMLHttpRequest"),o.withCredentials=!!t.withCredentials,r&&o.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),o.overrideMimeType&&o.overrideMimeType("application/json");var s=t.customHeaders;if(s=typeof s=="function"?s():s,s)for(var a in s)o.setRequestHeader(a,s[a]);o.onreadystatechange=function(){o.readyState>3&&i(o.status>=400?o.statusText:null,{status:o.status,data:o.responseText})},o.send(r)}catch(l){console&&console.log(l)}},nft=function(t,n,r,i){if(typeof r=="function"&&(i=r,r=void 0),i=i||function(){},Fl&&n.indexOf("file:")!==0)return eft(t,n,r,i);if(Xfe()||typeof ActiveXObject=="function")return tft(t,n,r,i);i(new Error("No fetch and no xhr implementation found!"))};function em(e){"@babel/helpers - typeof";return em=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},em(e)}function Sq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function d5(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Sq(Object(n),!0).forEach(function(r){Jfe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Sq(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function rft(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ift(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Zfe(r.key),r)}}function oft(e,t,n){return t&&ift(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Jfe(e,t,n){return(t=Zfe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zfe(e){var t=sft(e,"string");return em(t)=="symbol"?t:t+""}function sft(e,t){if(em(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(em(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var aft=function(){return{loadPath:"/locales/{{lng}}/{{ns}}.json",addPath:"/locales/add/{{lng}}/{{ns}}",parse:function(n){return JSON.parse(n)},stringify:JSON.stringify,parsePayload:function(n,r,i){return Jfe({},r,i||"")},parseLoadPayload:function(n,r){},request:nft,reloadInterval:typeof window<"u"?!1:60*60*1e3,customHeaders:{},queryStringParams:{},crossDomain:!1,withCredentials:!1,overrideMimeType:!1,requestOptions:{mode:"cors",credentials:"same-origin",cache:"default"}}},ede=function(){function e(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};rft(this,e),this.services=t,this.options=n,this.allOptions=r,this.type="backend",this.init(t,n,r)}return oft(e,[{key:"init",value:function(n){var r=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(this.services=n,this.options=d5(d5(d5({},aft()),this.options||{}),i),this.allOptions=o,this.services&&this.options.reloadInterval){var s=setInterval(function(){return r.reload()},this.options.reloadInterval);em(s)==="object"&&typeof s.unref=="function"&&s.unref()}}},{key:"readMulti",value:function(n,r,i){this._readAny(n,n,r,r,i)}},{key:"read",value:function(n,r,i){this._readAny([n],n,[r],r,i)}},{key:"_readAny",value:function(n,r,i,o,s){var a=this,l=this.options.loadPath;typeof this.options.loadPath=="function"&&(l=this.options.loadPath(n,i)),l=Yct(l),l.then(function(u){if(!u)return s(null,{});var c=a.services.interpolator.interpolate(u,{lng:n.join("+"),ns:i.join("+")});a.loadUrl(c,s,r,o)})}},{key:"loadUrl",value:function(n,r,i,o){var s=this,a=typeof i=="string"?[i]:i,l=typeof o=="string"?[o]:o,u=this.options.parseLoadPayload(a,l);this.options.request(this.options,n,u,function(c,f){if(f&&(f.status>=500&&f.status<600||!f.status))return r("failed loading "+n+"; status code: "+f.status,!0);if(f&&f.status>=400&&f.status<500)return r("failed loading "+n+"; status code: "+f.status,!1);if(!f&&c&&c.message&&c.message.toLowerCase().indexOf("failed")>-1&&(c.message.indexOf("fetch")>-1||c.message.toLowerCase().indexOf("network")>-1))return r("failed loading "+n+": "+c.message,!0);if(c)return r(c,!1);var d,h;try{typeof f.data=="string"?d=s.options.parse(f.data,i,o):d=f.data}catch{h="failed parsing "+n+" to json"}if(h)return r(h,!1);r(null,d)})}},{key:"create",value:function(n,r,i,o,s){var a=this;if(this.options.addPath){typeof n=="string"&&(n=[n]);var l=this.options.parsePayload(r,i,o),u=0,c=[],f=[];n.forEach(function(d){var h=a.options.addPath;typeof a.options.addPath=="function"&&(h=a.options.addPath(d,r));var p=a.services.interpolator.interpolate(h,{lng:d,ns:r});a.options.request(a.options,p,l,function(g,m){u+=1,c.push(g),f.push(m),u===n.length&&typeof s=="function"&&s(c,f)})})}}},{key:"reload",value:function(){var n=this,r=this.services,i=r.backendConnector,o=r.languageUtils,s=r.logger,a=i.language;if(!(a&&a.toLowerCase()==="cimode")){var l=[],u=function(f){var d=o.toResolveHierarchy(f);d.forEach(function(h){l.indexOf(h)<0&&l.push(h)})};u(a),this.allOptions.preload&&this.allOptions.preload.forEach(function(c){return u(c)}),l.forEach(function(c){n.allOptions.ns.forEach(function(f){i.read(c,f,"read",null,null,function(d,h){d&&s.warn("loading namespace ".concat(f," for language ").concat(c," failed"),d),!d&&h&&s.log("loaded namespace ".concat(f," for language ").concat(c),h),i.loaded("".concat(c,"|").concat(f),d,h)})})})}}}])}();ede.type="backend";Pr.use(ede).use(Yfe).use(Iat).init({supportedLngs:["en","ko"],fallbackLng:"en",debug:!0,interpolation:{escapeValue:!1},backend:{loadPath:"/Swipytics/locales/{{lng}}/translation.json"},react:{useSuspense:!1}});const lft=new Dot;Gfe(document.getElementById("root")).render($.jsx(M.StrictMode,{children:$.jsx(jot,{client:lft,children:$.jsx(l$e,{theme:Rct,children:$.jsx(hc,{flexDir:"column",minH:"100dvh",p:0,m:0,w:"full",children:$.jsx(Fct,{})})})})}))});export default uft();
