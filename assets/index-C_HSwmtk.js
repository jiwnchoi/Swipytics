var sme=Object.defineProperty;var T7=e=>{throw TypeError(e)};var ame=(e,t,n)=>t in e?sme(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var lme=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var me=(e,t,n)=>ame(e,typeof t!="symbol"?t+"":t,n),j5=(e,t,n)=>t.has(e)||T7("Cannot "+n);var H=(e,t,n)=>(j5(e,t,"read from private field"),n?n.call(e):t.get(e)),Ke=(e,t,n)=>t.has(e)?T7("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Ae=(e,t,n,r)=>(j5(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),ft=(e,t,n)=>(j5(e,t,"access private method"),n);var m2=(e,t,n,r)=>({set _(i){Ae(e,t,i,n)},get _(){return H(e,t,r)}});var Nht=lme((kpt,BI)=>{function xY(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Qi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function qh(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function wY(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var SY={exports:{}},Mk={},CY={exports:{}},ot={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mb=Symbol.for("react.element"),ume=Symbol.for("react.portal"),cme=Symbol.for("react.fragment"),fme=Symbol.for("react.strict_mode"),dme=Symbol.for("react.profiler"),hme=Symbol.for("react.provider"),pme=Symbol.for("react.context"),gme=Symbol.for("react.forward_ref"),mme=Symbol.for("react.suspense"),yme=Symbol.for("react.memo"),vme=Symbol.for("react.lazy"),R7=Symbol.iterator;function bme(e){return e===null||typeof e!="object"?null:(e=R7&&e[R7]||e["@@iterator"],typeof e=="function"?e:null)}var EY={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},kY=Object.assign,_Y={};function v0(e,t,n){this.props=e,this.context=t,this.refs=_Y,this.updater=n||EY}v0.prototype.isReactComponent={};v0.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};v0.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function $Y(){}$Y.prototype=v0.prototype;function f6(e,t,n){this.props=e,this.context=t,this.refs=_Y,this.updater=n||EY}var d6=f6.prototype=new $Y;d6.constructor=f6;kY(d6,v0.prototype);d6.isPureReactComponent=!0;var F7=Array.isArray,AY=Object.prototype.hasOwnProperty,h6={current:null},TY={key:!0,ref:!0,__self:!0,__source:!0};function RY(e,t,n){var r,i={},o=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(o=""+t.key),t)AY.call(t,r)&&!TY.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Mb,type:e,key:o,ref:s,props:i,_owner:h6.current}}function xme(e,t){return{$$typeof:Mb,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function p6(e){return typeof e=="object"&&e!==null&&e.$$typeof===Mb}function wme(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var O7=/\/+/g;function U5(e,t){return typeof e=="object"&&e!==null&&e.key!=null?wme(""+e.key):t.toString(36)}function Uw(e,t,n,r,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case Mb:case ume:s=!0}}if(s)return s=e,i=i(s),e=r===""?"."+U5(s,0):r,F7(i)?(n="",e!=null&&(n=e.replace(O7,"$&/")+"/"),Uw(i,t,n,"",function(u){return u})):i!=null&&(p6(i)&&(i=xme(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(O7,"$&/")+"/")+e)),t.push(i)),1;if(s=0,r=r===""?".":r+":",F7(e))for(var a=0;a<e.length;a++){o=e[a];var l=r+U5(o,a);s+=Uw(o,t,n,l,i)}else if(l=bme(e),typeof l=="function")for(e=l.call(e),a=0;!(o=e.next()).done;)o=o.value,l=r+U5(o,a++),s+=Uw(o,t,n,l,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function y2(e,t,n){if(e==null)return e;var r=[],i=0;return Uw(e,r,"","",function(o){return t.call(n,o,i++)}),r}function Sme(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ni={current:null},Vw={transition:null},Cme={ReactCurrentDispatcher:Ni,ReactCurrentBatchConfig:Vw,ReactCurrentOwner:h6};function FY(){throw Error("act(...) is not supported in production builds of React.")}ot.Children={map:y2,forEach:function(e,t,n){y2(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return y2(e,function(){t++}),t},toArray:function(e){return y2(e,function(t){return t})||[]},only:function(e){if(!p6(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ot.Component=v0;ot.Fragment=cme;ot.Profiler=dme;ot.PureComponent=f6;ot.StrictMode=fme;ot.Suspense=mme;ot.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Cme;ot.act=FY;ot.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=kY({},e.props),i=e.key,o=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,s=h6.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)AY.call(t,l)&&!TY.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Mb,type:e.type,key:i,ref:o,props:r,_owner:s}};ot.createContext=function(e){return e={$$typeof:pme,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:hme,_context:e},e.Consumer=e};ot.createElement=RY;ot.createFactory=function(e){var t=RY.bind(null,e);return t.type=e,t};ot.createRef=function(){return{current:null}};ot.forwardRef=function(e){return{$$typeof:gme,render:e}};ot.isValidElement=p6;ot.lazy=function(e){return{$$typeof:vme,_payload:{_status:-1,_result:e},_init:Sme}};ot.memo=function(e,t){return{$$typeof:yme,type:e,compare:t===void 0?null:t}};ot.startTransition=function(e){var t=Vw.transition;Vw.transition={};try{e()}finally{Vw.transition=t}};ot.unstable_act=FY;ot.useCallback=function(e,t){return Ni.current.useCallback(e,t)};ot.useContext=function(e){return Ni.current.useContext(e)};ot.useDebugValue=function(){};ot.useDeferredValue=function(e){return Ni.current.useDeferredValue(e)};ot.useEffect=function(e,t){return Ni.current.useEffect(e,t)};ot.useId=function(){return Ni.current.useId()};ot.useImperativeHandle=function(e,t,n){return Ni.current.useImperativeHandle(e,t,n)};ot.useInsertionEffect=function(e,t){return Ni.current.useInsertionEffect(e,t)};ot.useLayoutEffect=function(e,t){return Ni.current.useLayoutEffect(e,t)};ot.useMemo=function(e,t){return Ni.current.useMemo(e,t)};ot.useReducer=function(e,t,n){return Ni.current.useReducer(e,t,n)};ot.useRef=function(e){return Ni.current.useRef(e)};ot.useState=function(e){return Ni.current.useState(e)};ot.useSyncExternalStore=function(e,t,n){return Ni.current.useSyncExternalStore(e,t,n)};ot.useTransition=function(){return Ni.current.useTransition()};ot.version="18.3.1";CY.exports=ot;var M=CY.exports;const fm=qh(M),P7=xY({__proto__:null,default:fm},[M]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Eme=M,kme=Symbol.for("react.element"),_me=Symbol.for("react.fragment"),$me=Object.prototype.hasOwnProperty,Ame=Eme.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Tme={key:!0,ref:!0,__self:!0,__source:!0};function OY(e,t,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)$me.call(t,r)&&!Tme.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:kme,type:e,key:o,ref:s,props:i,_owner:Ame.current}}Mk.Fragment=_me;Mk.jsx=OY;Mk.jsxs=OY;SY.exports=Mk;var R=SY.exports;function Rme(e){return{all:e=e||new Map,on:function(t,n){var r=e.get(t);r?r.push(n):e.set(t,[n])},off:function(t,n){var r=e.get(t);r&&(n?r.splice(r.indexOf(n)>>>0,1):e.set(t,[]))},emit:function(t,n){var r=e.get(t);r&&r.slice().map(function(i){i(n)}),(r=e.get("*"))&&r.slice().map(function(i){i(t,n)})}}}/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const PY=Symbol("Comlink.proxy"),Fme=Symbol("Comlink.endpoint"),DY=Symbol("Comlink.releaseProxy"),V5=Symbol("Comlink.finalizer"),Ww=Symbol("Comlink.thrown"),MY=e=>typeof e=="object"&&e!==null||typeof e=="function",Ome={canHandle:e=>MY(e)&&e[PY],serialize(e){const{port1:t,port2:n}=new MessageChannel;return LY(e,t),[n,[n]]},deserialize(e){return e.start(),zY(e)}},Pme={canHandle:e=>MY(e)&&Ww in e,serialize({value:e}){let t;return e instanceof Error?t={isError:!0,value:{message:e.message,name:e.name,stack:e.stack}}:t={isError:!1,value:e},[t,[]]},deserialize(e){throw e.isError?Object.assign(new Error(e.value.message),e.value):e.value}},NY=new Map([["proxy",Ome],["throw",Pme]]);function Dme(e,t){for(const n of e)if(t===n||n==="*"||n instanceof RegExp&&n.test(t))return!0;return!1}function LY(e,t=globalThis,n=["*"]){t.addEventListener("message",function r(i){if(!i||!i.data)return;if(!Dme(n,i.origin)){console.warn(`Invalid origin '${i.origin}' for comlink proxy`);return}const{id:o,type:s,path:a}=Object.assign({path:[]},i.data),l=(i.data.argumentList||[]).map(_d);let u;try{const c=a.slice(0,-1).reduce((d,h)=>d[h],e),f=a.reduce((d,h)=>d[h],e);switch(s){case"GET":u=f;break;case"SET":c[a.slice(-1)[0]]=_d(i.data.value),u=!0;break;case"APPLY":u=f.apply(c,l);break;case"CONSTRUCT":{const d=new f(...l);u=Bme(d)}break;case"ENDPOINT":{const{port1:d,port2:h}=new MessageChannel;LY(e,h),u=zme(d,[d])}break;case"RELEASE":u=void 0;break;default:return}}catch(c){u={value:c,[Ww]:0}}Promise.resolve(u).catch(c=>({value:c,[Ww]:0})).then(c=>{const[f,d]=XS(c);t.postMessage(Object.assign(Object.assign({},f),{id:o}),d),s==="RELEASE"&&(t.removeEventListener("message",r),IY(t),V5 in e&&typeof e[V5]=="function"&&e[V5]())}).catch(c=>{const[f,d]=XS({value:new TypeError("Unserializable return value"),[Ww]:0});t.postMessage(Object.assign(Object.assign({},f),{id:o}),d)})}),t.start&&t.start()}function Mme(e){return e.constructor.name==="MessagePort"}function IY(e){Mme(e)&&e.close()}function zY(e,t){return V4(e,[],t)}function v2(e){if(e)throw new Error("Proxy has been released and is not useable")}function BY(e){return Jp(e,{type:"RELEASE"}).then(()=>{IY(e)})}const qS=new WeakMap,GS="FinalizationRegistry"in globalThis&&new FinalizationRegistry(e=>{const t=(qS.get(e)||0)-1;qS.set(e,t),t===0&&BY(e)});function Nme(e,t){const n=(qS.get(t)||0)+1;qS.set(t,n),GS&&GS.register(e,t,e)}function Lme(e){GS&&GS.unregister(e)}function V4(e,t=[],n=function(){}){let r=!1;const i=new Proxy(n,{get(o,s){if(v2(r),s===DY)return()=>{Lme(i),BY(e),r=!0};if(s==="then"){if(t.length===0)return{then:()=>i};const a=Jp(e,{type:"GET",path:t.map(l=>l.toString())}).then(_d);return a.then.bind(a)}return V4(e,[...t,s])},set(o,s,a){v2(r);const[l,u]=XS(a);return Jp(e,{type:"SET",path:[...t,s].map(c=>c.toString()),value:l},u).then(_d)},apply(o,s,a){v2(r);const l=t[t.length-1];if(l===Fme)return Jp(e,{type:"ENDPOINT"}).then(_d);if(l==="bind")return V4(e,t.slice(0,-1));const[u,c]=D7(a);return Jp(e,{type:"APPLY",path:t.map(f=>f.toString()),argumentList:u},c).then(_d)},construct(o,s){v2(r);const[a,l]=D7(s);return Jp(e,{type:"CONSTRUCT",path:t.map(u=>u.toString()),argumentList:a},l).then(_d)}});return Nme(i,e),i}function Ime(e){return Array.prototype.concat.apply([],e)}function D7(e){const t=e.map(XS);return[t.map(n=>n[0]),Ime(t.map(n=>n[1]))]}const jY=new WeakMap;function zme(e,t){return jY.set(e,t),e}function Bme(e){return Object.assign(e,{[PY]:!0})}function XS(e){for(const[t,n]of NY)if(n.canHandle(e)){const[r,i]=n.serialize(e);return[{type:"HANDLER",name:t,value:r},i]}return[{type:"RAW",value:e},jY.get(e)||[]]}function _d(e){switch(e.type){case"HANDLER":return NY.get(e.name).deserialize(e.value);case"RAW":return e.value}}function Jp(e,t,n){return new Promise(r=>{const i=jme();e.addEventListener("message",function o(s){!s.data||!s.data.id||s.data.id!==i||(e.removeEventListener("message",o),r(s.data))}),e.start&&e.start(),e.postMessage(Object.assign({id:i},t),n)})}function jme(){return new Array(4).fill(0).map(()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16)).join("-")}function Ume(e){return new Worker("/Swipytics/assets/pyodide-worker-BZrKRrnO.js",{type:"module",name:e==null?void 0:e.name})}let ns=null,Jr=null;const Vme=async(e,t)=>{if(!ns||!Jr)throw new Error("pyodide isn't loaded yet");return await Jr.runPython(e,t)},Wme=async(e,t)=>{if(!ns||!Jr)throw new Error("pyodide isn't loaded yet");return Jr.callPythonFunction(e,t)},Hme=async(e,t)=>{if(!ns||!Jr)throw new Error("pyodide isn't loaded yet");return Jr.writeFile(e,t)},qme=async e=>{if(!ns||!Jr)throw new Error("pyodide isn't loaded yet");return Jr.readFile(e)},Gme=async e=>(ns||(ns=new Ume({name:"pyodide-worker"}),Jr=zY(ns),await Jr.initialize(e)),{runPython:Vme,callPythonFunction:Wme,writeFile:Hme,readFile:qme,terminate:()=>{ns==null||ns.terminate(),ns=null,Jr==null||Jr[DY](),Jr=null},initialize:async t=>{if(!ns||!Jr)throw new Error("pyodide isn't loaded yet");await Jr.initialize(t)}});let I1;async function Xme(e){const{packages:t}=e||{};return I1===void 0&&(I1=await Yme(t)),I1}const Yme=async e=>(I1=await Gme(e),I1),Rf=async()=>await Xme({packages:["draco"]});async function Kme({chart:e}){return await(await Rf()).callPythonFunction("appendChart",[e])}async function Qme({chart:e}){return await(await fetch("/api/appendChart",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({chart:e})})).json()}const Jme={pyodide:Kme,server:Qme};async function Zme(){return await(await Rf()).callPythonFunction("appendNextChart",[])}async function e0e(){return await(await fetch("/api/appendNextChart")).json()}const t0e={server:e0e,pyodide:Zme};async function n0e({fieldNames:e}){return await(await Rf()).callPythonFunction("browseCharts",[e])}async function r0e({fieldNames:e}){return await(await fetch("/api/browseCharts",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({field_names:e})})).json()}const i0e={pyodide:n0e,server:r0e};async function o0e({fieldNames:e}){return await(await Rf()).callPythonFunction("getCharts",[e])}async function s0e({fieldNames:e}){return await(await fetch("/api/getCharts",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({field_names:e})})).json()}const a0e={pyodide:o0e,server:s0e};async function l0e({session:e}){return await(await Rf()).callPythonFunction("loadSession",[e])}async function u0e({session:e}){return await(await fetch("/api/loadSession",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).json()}const c0e={pyodide:l0e,server:u0e};async function f0e({key:e,preferred:t}){await(await Rf()).callPythonFunction("setPreferred",[e,t])}async function d0e({key:e,preferred:t}){await fetch("/api/setPreferred",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({key:e,preferred:t})})}const h0e={pyodide:f0e,server:d0e};async function p0e({filename:e,fileBuffer:t}){await(await Rf()).writeFile(e,t)}async function g0e({filename:e,fileBuffer:t}){const n=new Blob([t]),r=new FormData;r.append("file",n,e),await fetch("/api/writeFile",{method:"POST",body:r})}const m0e={pyodide:p0e,server:g0e},y0e={appendChart:Jme,getCharts:a0e,appendNextChart:t0e,browseCharts:i0e,loadSession:c0e,writeFile:m0e,setPreferred:h0e};async function v0e(e,t,n){return await y0e[t][e](n)}class b0e{constructor(){me(this,"python","pyodide");me(this,"serverConnectable",!1);me(this,"pyodideLoaded",!1);me(this,"emitter",Rme());this.initializeRouter()}async initializeRouter(){await Promise.all([this.loadPyodide(),this.checkServerConnection()])}async loadPyodide(){if(!this.pyodideLoaded)try{await Rf(),this.pyodideLoaded=!0,this.emitter.emit("loadingStatusChange",this.getLoadingStatus())}catch(t){console.error("error while connecting pyodide:",t),this.pyodideLoaded=!1,this.emitter.emit("loadingStatusChange",this.getLoadingStatus())}}async checkServerConnection(){try{const t=await fetch("/api");this.serverConnectable=t.ok,this.serverConnectable&&(this.python="server"),this.emitter.emit("loadingStatusChange",this.getLoadingStatus())}catch(t){this.serverConnectable=!1,console.error("error while connecting server:",t),this.emitter.emit("loadingStatusChange",this.getLoadingStatus())}}getPythonType(){return this.python}setPython(t){return t==="server"&&!this.serverConnectable?!1:(this.python=t,this.emitter.emit("loadingStatusChange",this.getLoadingStatus()),!0)}getLoadingStatus(){return{loadingPyodide:this.python==="pyodide"&&!this.pyodideLoaded,loadingServer:this.python==="server"&&!this.serverConnectable,loading:this.python==="pyodide"&&!this.pyodideLoaded||this.python==="server"&&!this.serverConnectable}}on(t,n){this.emitter.on(t,n)}off(t,n){this.emitter.off(t,n)}async call(t,n){if(this.getLoadingStatus().loading)return console.error("Router is not loaded yet"),null;try{return await v0e(this.getPythonType(),t,n)}catch(r){return console.error("error while calling endpoint:",r),null}}async lazyCall(t,n){return new Promise(r=>{const i=()=>{this.getLoadingStatus().loading||(this.off("loadingStatusChange",i),r(this.call(t,n)))};this.on("loadingStatusChange",i),i()})}}const us=new b0e;function M7(e,t){if(!e)throw new Error(t||"loader assertion failed.")}const UY=!!(typeof process!="object"||String(process)!=="[object process]"||process.browser),N7=typeof process<"u"&&process.version&&/v([0-9]*)/.exec(process.version);N7&&parseFloat(N7[1]);const b2=globalThis,Ap=globalThis.process||{};function x0e(e){var r,i;if(typeof window<"u"&&((r=window.process)==null?void 0:r.type)==="renderer"||typeof process<"u"&&((i=process.versions)!=null&&i.electron))return!0;const n=typeof navigator<"u"&&navigator.userAgent;return!!(n&&n.indexOf("Electron")>=0)}function g6(){return!(typeof process=="object"&&String(process)==="[object process]"&&!(process!=null&&process.browser))||x0e()}const VY="4.0.7";function w0e(e){try{const t=window[e],n="__storage_test__";return t.setItem(n,n),t.removeItem(n),t}catch{return null}}class S0e{constructor(t,n,r="sessionStorage"){this.storage=w0e(r),this.id=t,this.config=n,this._loadConfiguration()}getConfiguration(){return this.config}setConfiguration(t){if(Object.assign(this.config,t),this.storage){const n=JSON.stringify(this.config);this.storage.setItem(this.id,n)}}_loadConfiguration(){let t={};if(this.storage){const n=this.storage.getItem(this.id);t=n?JSON.parse(n):{}}return Object.assign(this.config,t),this}}function C0e(e){let t;return e<10?t=`${e.toFixed(2)}ms`:e<100?t=`${e.toFixed(1)}ms`:e<1e3?t=`${e.toFixed(0)}ms`:t=`${(e/1e3).toFixed(2)}s`,t}function E0e(e,t=8){const n=Math.max(t-e.length,0);return`${" ".repeat(n)}${e}`}var YS;(function(e){e[e.BLACK=30]="BLACK",e[e.RED=31]="RED",e[e.GREEN=32]="GREEN",e[e.YELLOW=33]="YELLOW",e[e.BLUE=34]="BLUE",e[e.MAGENTA=35]="MAGENTA",e[e.CYAN=36]="CYAN",e[e.WHITE=37]="WHITE",e[e.BRIGHT_BLACK=90]="BRIGHT_BLACK",e[e.BRIGHT_RED=91]="BRIGHT_RED",e[e.BRIGHT_GREEN=92]="BRIGHT_GREEN",e[e.BRIGHT_YELLOW=93]="BRIGHT_YELLOW",e[e.BRIGHT_BLUE=94]="BRIGHT_BLUE",e[e.BRIGHT_MAGENTA=95]="BRIGHT_MAGENTA",e[e.BRIGHT_CYAN=96]="BRIGHT_CYAN",e[e.BRIGHT_WHITE=97]="BRIGHT_WHITE"})(YS||(YS={}));const k0e=10;function L7(e){return typeof e!="string"?e:(e=e.toUpperCase(),YS[e]||YS.WHITE)}function _0e(e,t,n){return!g6&&typeof e=="string"&&(t&&(e=`\x1B[${L7(t)}m${e}\x1B[39m`),n&&(e=`\x1B[${L7(n)+k0e}m${e}\x1B[49m`)),e}function $0e(e,t=["constructor"]){const n=Object.getPrototypeOf(e),r=Object.getOwnPropertyNames(n),i=e;for(const o of r){const s=i[o];typeof s=="function"&&(t.find(a=>o===a)||(i[o]=s.bind(e)))}}function m6(e,t){if(!e)throw new Error("Assertion failed")}function Tp(){var t,n,r;let e;if(g6()&&b2.performance)e=(n=(t=b2==null?void 0:b2.performance)==null?void 0:t.now)==null?void 0:n.call(t);else if("hrtime"in Ap){const i=(r=Ap==null?void 0:Ap.hrtime)==null?void 0:r.call(Ap);e=i[0]*1e3+i[1]/1e6}else e=Date.now();return e}const Rp={debug:g6()&&console.debug||console.log,log:console.log,info:console.info,warn:console.warn,error:console.error},A0e={enabled:!0,level:0};function Fp(){}const I7={},z7={once:!0};let y6=class{constructor({id:t}={id:""}){this.VERSION=VY,this._startTs=Tp(),this._deltaTs=Tp(),this.userData={},this.LOG_THROTTLE_TIMEOUT=0,this.id=t,this.userData={},this._storage=new S0e(`__probe-${this.id}__`,A0e),this.timeStamp(`${this.id} started`),$0e(this),Object.seal(this)}set level(t){this.setLevel(t)}get level(){return this.getLevel()}isEnabled(){return this._storage.config.enabled}getLevel(){return this._storage.config.level}getTotal(){return Number((Tp()-this._startTs).toPrecision(10))}getDelta(){return Number((Tp()-this._deltaTs).toPrecision(10))}set priority(t){this.level=t}get priority(){return this.level}getPriority(){return this.level}enable(t=!0){return this._storage.setConfiguration({enabled:t}),this}setLevel(t){return this._storage.setConfiguration({level:t}),this}get(t){return this._storage.config[t]}set(t,n){this._storage.setConfiguration({[t]:n})}settings(){console.table?console.table(this._storage.config):console.log(this._storage.config)}assert(t,n){if(!t)throw new Error(n||"Assertion failed")}warn(t){return this._getLogFunction(0,t,Rp.warn,arguments,z7)}error(t){return this._getLogFunction(0,t,Rp.error,arguments)}deprecated(t,n){return this.warn(`\`${t}\` is deprecated and will be removed in a later version. Use \`${n}\` instead`)}removed(t,n){return this.error(`\`${t}\` has been removed. Use \`${n}\` instead`)}probe(t,n){return this._getLogFunction(t,n,Rp.log,arguments,{time:!0,once:!0})}log(t,n){return this._getLogFunction(t,n,Rp.debug,arguments)}info(t,n){return this._getLogFunction(t,n,console.info,arguments)}once(t,n){return this._getLogFunction(t,n,Rp.debug||Rp.info,arguments,z7)}table(t,n,r){return n?this._getLogFunction(t,n,console.table||Fp,r&&[r],{tag:R0e(n)}):Fp}time(t,n){return this._getLogFunction(t,n,console.time?console.time:console.info)}timeEnd(t,n){return this._getLogFunction(t,n,console.timeEnd?console.timeEnd:console.info)}timeStamp(t,n){return this._getLogFunction(t,n,console.timeStamp||Fp)}group(t,n,r={collapsed:!1}){const i=B7({logLevel:t,message:n,opts:r}),{collapsed:o}=r;return i.method=(o?console.groupCollapsed:console.group)||console.info,this._getLogFunction(i)}groupCollapsed(t,n,r={}){return this.group(t,n,Object.assign({},r,{collapsed:!0}))}groupEnd(t){return this._getLogFunction(t,"",console.groupEnd||Fp)}withGroup(t,n,r){this.group(t,n)();try{r()}finally{this.groupEnd(t)()}}trace(){console.trace&&console.trace()}_shouldLog(t){return this.isEnabled()&&this.getLevel()>=WY(t)}_getLogFunction(t,n,r,i,o){if(this._shouldLog(t)){o=B7({logLevel:t,message:n,args:i,opts:o}),r=r||o.method,m6(r),o.total=this.getTotal(),o.delta=this.getDelta(),this._deltaTs=Tp();const s=o.tag||o.message;if(o.once&&s)if(!I7[s])I7[s]=Tp();else return Fp;return n=T0e(this.id,o.message,o),r.bind(console,n,...o.args)}return Fp}};y6.VERSION=VY;function WY(e){if(!e)return 0;let t;switch(typeof e){case"number":t=e;break;case"object":t=e.logLevel||e.priority||0;break;default:return 0}return m6(Number.isFinite(t)&&t>=0),t}function B7(e){const{logLevel:t,message:n}=e;e.logLevel=WY(t);const r=e.args?Array.from(e.args):[];for(;r.length&&r.shift()!==n;);switch(typeof t){case"string":case"function":n!==void 0&&r.unshift(n),e.message=t;break;case"object":Object.assign(e,t);break}typeof e.message=="function"&&(e.message=e.message());const i=typeof e.message;return m6(i==="string"||i==="object"),Object.assign(e,{args:r},e.opts)}function T0e(e,t,n){if(typeof t=="string"){const r=n.time?E0e(C0e(n.total)):"";t=n.time?`${e}: ${r}  ${t}`:`${e}: ${t}`,t=_0e(t,n.color,n.background)}return t}function R0e(e){for(const t in e)for(const n in e[t])return n||"untitled";return"empty"}function F0e(e,t){return HY(e||{},t)}function HY(e,t,n=0){if(n>3)return t;const r={...e};for(const[i,o]of Object.entries(t))o&&typeof o=="object"&&!Array.isArray(o)?r[i]=HY(r[i]||{},t[i],n+1):r[i]=t[i];return r}const O0e="latest";function P0e(){var e;return(e=globalThis._loadersgl_)!=null&&e.version||(globalThis._loadersgl_=globalThis._loadersgl_||{},globalThis._loadersgl_.version="4.2.1"),globalThis._loadersgl_.version}const D0e=P0e();function lf(e,t){if(!e)throw new Error(t||"loaders.gl assertion failed.")}const Kd=typeof process!="object"||String(process)!=="[object process]"||process.browser,M0e=typeof window<"u"&&typeof window.orientation<"u",j7=typeof process<"u"&&process.version&&/v([0-9]*)/.exec(process.version);j7&&parseFloat(j7[1]);class N0e{constructor(t,n){me(this,"name");me(this,"workerThread");me(this,"isRunning",!0);me(this,"result");me(this,"_resolve",()=>{});me(this,"_reject",()=>{});this.name=t,this.workerThread=n,this.result=new Promise((r,i)=>{this._resolve=r,this._reject=i})}postMessage(t,n){this.workerThread.postMessage({source:"loaders.gl",type:t,payload:n})}done(t){lf(this.isRunning),this.isRunning=!1,this._resolve(t)}error(t){lf(this.isRunning),this.isRunning=!1,this._reject(t)}}class W5{terminate(){}}const H5=new Map;function L0e(e){lf(e.source&&!e.url||!e.source&&e.url);let t=H5.get(e.source||e.url);return t||(e.url&&(t=I0e(e.url),H5.set(e.url,t)),e.source&&(t=qY(e.source),H5.set(e.source,t))),lf(t),t}function I0e(e){if(!e.startsWith("http"))return e;const t=z0e(e);return qY(t)}function qY(e){const t=new Blob([e],{type:"application/javascript"});return URL.createObjectURL(t)}function z0e(e){return`try {
  importScripts('${e}');
} catch (error) {
  console.error(error);
  throw error;
}`}function GY(e,t=!0,n){const r=n||new Set;if(e){if(U7(e))r.add(e);else if(U7(e.buffer))r.add(e.buffer);else if(!ArrayBuffer.isView(e)){if(t&&typeof e=="object")for(const i in e)GY(e[i],t,r)}}return n===void 0?Array.from(r):[]}function U7(e){return e?e instanceof ArrayBuffer||typeof MessagePort<"u"&&e instanceof MessagePort||typeof ImageBitmap<"u"&&e instanceof ImageBitmap||typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas:!1}const q5=()=>{};class W4{constructor(t){me(this,"name");me(this,"source");me(this,"url");me(this,"terminated",!1);me(this,"worker");me(this,"onMessage");me(this,"onError");me(this,"_loadableURL","");const{name:n,source:r,url:i}=t;lf(r||i),this.name=n,this.source=r,this.url=i,this.onMessage=q5,this.onError=o=>console.log(o),this.worker=Kd?this._createBrowserWorker():this._createNodeWorker()}static isSupported(){return typeof Worker<"u"&&Kd||typeof W5<"u"&&!Kd}destroy(){this.onMessage=q5,this.onError=q5,this.worker.terminate(),this.terminated=!0}get isRunning(){return!!this.onMessage}postMessage(t,n){n=n||GY(t),this.worker.postMessage(t,n)}_getErrorFromErrorEvent(t){let n="Failed to load ";return n+=`worker ${this.name} from ${this.url}. `,t.message&&(n+=`${t.message} in `),t.lineno&&(n+=`:${t.lineno}:${t.colno}`),new Error(n)}_createBrowserWorker(){this._loadableURL=L0e({source:this.source,url:this.url});const t=new Worker(this._loadableURL,{name:this.name});return t.onmessage=n=>{n.data?this.onMessage(n.data):this.onError(new Error("No data received"))},t.onerror=n=>{this.onError(this._getErrorFromErrorEvent(n)),this.terminated=!0},t.onmessageerror=n=>console.error(n),t}_createNodeWorker(){let t;if(this.url){const r=this.url.includes(":/")||this.url.startsWith("/")?this.url:`./${this.url}`;t=new W5(r,{eval:!1})}else if(this.source)t=new W5(this.source,{eval:!0});else throw new Error("no worker");return t.on("message",n=>{this.onMessage(n)}),t.on("error",n=>{this.onError(n)}),t.on("exit",n=>{}),t}}class B0e{constructor(t){me(this,"name","unnamed");me(this,"source");me(this,"url");me(this,"maxConcurrency",1);me(this,"maxMobileConcurrency",1);me(this,"onDebug",()=>{});me(this,"reuseWorkers",!0);me(this,"props",{});me(this,"jobQueue",[]);me(this,"idleQueue",[]);me(this,"count",0);me(this,"isDestroyed",!1);this.source=t.source,this.url=t.url,this.setProps(t)}static isSupported(){return W4.isSupported()}destroy(){this.idleQueue.forEach(t=>t.destroy()),this.isDestroyed=!0}setProps(t){this.props={...this.props,...t},t.name!==void 0&&(this.name=t.name),t.maxConcurrency!==void 0&&(this.maxConcurrency=t.maxConcurrency),t.maxMobileConcurrency!==void 0&&(this.maxMobileConcurrency=t.maxMobileConcurrency),t.reuseWorkers!==void 0&&(this.reuseWorkers=t.reuseWorkers),t.onDebug!==void 0&&(this.onDebug=t.onDebug)}async startJob(t,n=(i,o,s)=>i.done(s),r=(i,o)=>i.error(o)){const i=new Promise(o=>(this.jobQueue.push({name:t,onMessage:n,onError:r,onStart:o}),this));return this._startQueuedJob(),await i}async _startQueuedJob(){if(!this.jobQueue.length)return;const t=this._getAvailableWorker();if(!t)return;const n=this.jobQueue.shift();if(n){this.onDebug({message:"Starting job",name:n.name,workerThread:t,backlog:this.jobQueue.length});const r=new N0e(n.name,t);t.onMessage=i=>n.onMessage(r,i.type,i.payload),t.onError=i=>n.onError(r,i),n.onStart(r);try{await r.result}catch(i){console.error(`Worker exception: ${i}`)}finally{this.returnWorkerToQueue(t)}}}returnWorkerToQueue(t){!Kd||this.isDestroyed||!this.reuseWorkers||this.count>this._getMaxConcurrency()?(t.destroy(),this.count--):this.idleQueue.push(t),this.isDestroyed||this._startQueuedJob()}_getAvailableWorker(){if(this.idleQueue.length>0)return this.idleQueue.shift()||null;if(this.count<this._getMaxConcurrency()){this.count++;const t=`${this.name.toLowerCase()} (#${this.count} of ${this.maxConcurrency})`;return new W4({name:t,source:this.source,url:this.url})}return null}_getMaxConcurrency(){return M0e?this.maxMobileConcurrency:this.maxConcurrency}}const j0e={maxConcurrency:3,maxMobileConcurrency:1,reuseWorkers:!0,onDebug:()=>{}},Ec=class Ec{constructor(t){me(this,"props");me(this,"workerPools",new Map);this.props={...j0e},this.setProps(t),this.workerPools=new Map}static isSupported(){return W4.isSupported()}static getWorkerFarm(t={}){return Ec._workerFarm=Ec._workerFarm||new Ec({}),Ec._workerFarm.setProps(t),Ec._workerFarm}destroy(){for(const t of this.workerPools.values())t.destroy();this.workerPools=new Map}setProps(t){this.props={...this.props,...t};for(const n of this.workerPools.values())n.setProps(this._getWorkerPoolProps())}getWorkerPool(t){const{name:n,source:r,url:i}=t;let o=this.workerPools.get(n);return o||(o=new B0e({name:n,source:r,url:i}),o.setProps(this._getWorkerPoolProps()),this.workerPools.set(n,o)),o}_getWorkerPoolProps(){return{maxConcurrency:this.props.maxConcurrency,maxMobileConcurrency:this.props.maxMobileConcurrency,reuseWorkers:this.props.reuseWorkers,onDebug:this.props.onDebug}}};me(Ec,"_workerFarm");let KS=Ec;function U0e(e,t={}){const n=t[e.id]||{},r=Kd?`${e.id}-worker.js`:`${e.id}-worker-node.js`;let i=n.workerUrl;if(!i&&e.id==="compression"&&(i=t.workerUrl),t._workerType==="test"&&(Kd?i=`modules/${e.module}/dist/${r}`:i=`modules/${e.module}/src/workers/${e.id}-worker-node.ts`),!i){let o=e.version;o==="latest"&&(o=O0e);const s=o?`@${o}`:"";i=`https://unpkg.com/@loaders.gl/${e.module}${s}/dist/${r}`}return lf(i),i}function V0e(e,t=D0e){lf(e,"no worker provided");const n=e.version;return!(!t||!n)}function W0e(e,t){return!KS.isSupported()||!Kd&&!(t!=null&&t._nodeWorkers)?!1:e.worker&&(t==null?void 0:t.worker)}async function H0e(e,t,n,r,i){const o=e.id,s=U0e(e,n),l=KS.getWorkerFarm(n).getWorkerPool({name:o,url:s});n=JSON.parse(JSON.stringify(n)),r=JSON.parse(JSON.stringify(r||{}));const u=await l.startJob("process-on-worker",q0e.bind(null,i));return u.postMessage("process",{input:t,options:n,context:r}),await(await u.result).result}async function q0e(e,t,n,r){switch(n){case"done":t.done(r);break;case"error":t.error(new Error(r.error));break;case"process":const{id:i,input:o,options:s}=r;try{const a=await e(o,s);t.postMessage("done",{id:i,result:a})}catch(a){const l=a instanceof Error?a.message:"unknown error";t.postMessage("error",{id:i,error:l})}break;default:console.warn(`parse-with-worker unknown message ${n}`)}}function G0e(e,t,n){if(n=n||e.byteLength,e.byteLength<n||t.byteLength<n)return!1;const r=new Uint8Array(e),i=new Uint8Array(t);for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}function X0e(...e){return Y0e(e)}function Y0e(e){const t=e.map(o=>o instanceof ArrayBuffer?new Uint8Array(o):o),n=t.reduce((o,s)=>o+s.byteLength,0),r=new Uint8Array(n);let i=0;for(const o of t)r.set(o,i),i+=o.byteLength;return r.buffer}async function K0e(e){const t=[];for await(const n of e)t.push(n);return X0e(...t)}let Q0e="";const V7={};function J0e(e){for(const t in V7)if(e.startsWith(t)){const n=V7[t];e=e.replace(t,n)}return!e.startsWith("http://")&&!e.startsWith("https://")&&(e=`${Q0e}${e}`),e}const Z0e="4.2.1",eye={dataType:null,batchType:null,name:"JSON",id:"json",module:"json",version:Z0e,extensions:["json","geojson"],mimeTypes:["application/json"],category:"json",text:!0,parseTextSync:W7,parse:async e=>W7(new TextDecoder().decode(e)),options:{}};function W7(e){return JSON.parse(e)}function tye(e){return e&&typeof e=="object"&&e.isBuffer}function XY(e){if(tye(e))return e;if(e instanceof ArrayBuffer)return e;if(ArrayBuffer.isView(e))return e.byteOffset===0&&e.byteLength===e.buffer.byteLength?e.buffer:e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength);if(typeof e=="string"){const t=e;return new TextEncoder().encode(t).buffer}if(e&&typeof e=="object"&&e._toArrayBuffer)return e._toArrayBuffer();throw new Error("toArrayBuffer")}function YY(e){const t=e?e.lastIndexOf("/"):-1;return t>=0?e.substr(t+1):""}function nye(e){const t=e?e.lastIndexOf("/"):-1;return t>=0?e.substr(0,t):""}const rye=e=>typeof e=="boolean",z1=e=>typeof e=="function",Nb=e=>e!==null&&typeof e=="object",H7=e=>Nb(e)&&e.constructor==={}.constructor,iye=e=>!!e&&typeof e[Symbol.iterator]=="function",oye=e=>e&&typeof e[Symbol.asyncIterator]=="function",Gh=e=>typeof Response<"u"&&e instanceof Response||e&&e.arrayBuffer&&e.text&&e.json,b0=e=>typeof Blob<"u"&&e instanceof Blob,sye=e=>e&&typeof e=="object"&&e.isBuffer,aye=e=>typeof ReadableStream<"u"&&e instanceof ReadableStream||Nb(e)&&z1(e.tee)&&z1(e.cancel)&&z1(e.getReader),lye=e=>Nb(e)&&z1(e.read)&&z1(e.pipe)&&rye(e.readable),KY=e=>aye(e)||lye(e);class uye extends Error{constructor(n,r){super(n);me(this,"reason");me(this,"url");me(this,"response");this.reason=r.reason,this.url=r.url,this.response=r.response}}const cye=/^data:([-\w.]+\/[-\w.+]+)(;|,)/,fye=/^([-\w.]+\/[-\w.+]+)/;function q7(e,t){return e.toLowerCase()===t.toLowerCase()}function dye(e){const t=fye.exec(e);return t?t[1]:e}function G7(e){const t=cye.exec(e);return t?t[1]:""}const QY=/\?.*/;function hye(e){const t=e.match(QY);return t&&t[0]}function v6(e){return e.replace(QY,"")}function pye(e){if(e.length<50)return e;const t=e.slice(e.length-15);return`${e.substr(0,32)}...${t}`}function Nk(e){return Gh(e)?e.url:b0(e)?e.name||"":typeof e=="string"?e:""}function b6(e){if(Gh(e)){const t=e,n=t.headers.get("content-type")||"",r=v6(t.url);return dye(n)||G7(r)}return b0(e)?e.type||"":typeof e=="string"?G7(e):""}function gye(e){return Gh(e)?e.headers["content-length"]||-1:b0(e)?e.size:typeof e=="string"?e.length:e instanceof ArrayBuffer||ArrayBuffer.isView(e)?e.byteLength:-1}async function JY(e){if(Gh(e))return e;const t={},n=gye(e);n>=0&&(t["content-length"]=String(n));const r=Nk(e),i=b6(e);i&&(t["content-type"]=i);const o=await vye(e);o&&(t["x-first-bytes"]=o),typeof e=="string"&&(e=new TextEncoder().encode(e));const s=new Response(e,{headers:t});return Object.defineProperty(s,"url",{value:r}),s}async function mye(e){if(!e.ok)throw await yye(e)}async function yye(e){const t=pye(e.url);let n=`Failed to fetch resource (${e.status}) ${e.statusText}: ${t}`;n=n.length>100?`${n.slice(0,100)}...`:n;const r={reason:e.statusText,url:e.url,response:e};try{const i=e.headers.get("Content-Type");r.reason=i!=null&&i.includes("application/json")?await e.json():e.text()}catch{}return new uye(n,r)}async function vye(e){if(typeof e=="string")return`data:,${e.slice(0,5)}`;if(e instanceof Blob){const n=e.slice(0,5);return await new Promise(r=>{const i=new FileReader;i.onload=o=>{var s;return r((s=o==null?void 0:o.target)==null?void 0:s.result)},i.readAsDataURL(n)})}if(e instanceof ArrayBuffer){const n=e.slice(0,5);return`data:base64,${bye(n)}`}return null}function bye(e){let t="";const n=new Uint8Array(e);for(let r=0;r<n.byteLength;r++)t+=String.fromCharCode(n[r]);return btoa(t)}function xye(e){return!wye(e)&&!Sye(e)}function wye(e){return e.startsWith("http:")||e.startsWith("https:")}function Sye(e){return e.startsWith("data:")}async function H4(e,t){var n,r;if(typeof e=="string"){const i=J0e(e);return xye(i)&&(n=globalThis.loaders)!=null&&n.fetchNode?(r=globalThis.loaders)==null?void 0:r.fetchNode(i,t):await fetch(i,t)}return await JY(e)}const X7=new y6({id:"loaders.gl"});class Cye{log(){return()=>{}}info(){return()=>{}}warn(){return()=>{}}error(){return()=>{}}}class Eye{constructor(){me(this,"console");this.console=console}log(...t){return this.console.log.bind(this.console,...t)}info(...t){return this.console.info.bind(this.console,...t)}warn(...t){return this.console.warn.bind(this.console,...t)}error(...t){return this.console.error.bind(this.console,...t)}}const ZY={fetch:null,mimeType:void 0,nothrow:!1,log:new Eye,useLocalLibraries:!1,CDN:"https://unpkg.com/@loaders.gl",worker:!0,maxConcurrency:3,maxMobileConcurrency:1,reuseWorkers:UY,_nodeWorkers:!1,_workerType:"",limit:0,_limitMB:0,batchSize:"auto",batchDebounceMs:0,metadata:!1,transforms:[]},kye={throws:"nothrow",dataType:"(no longer used)",uri:"baseUri",method:"fetch.method",headers:"fetch.headers",body:"fetch.body",mode:"fetch.mode",credentials:"fetch.credentials",cache:"fetch.cache",redirect:"fetch.redirect",referrer:"fetch.referrer",referrerPolicy:"fetch.referrerPolicy",integrity:"fetch.integrity",keepalive:"fetch.keepalive",signal:"fetch.signal"};function eK(){globalThis.loaders=globalThis.loaders||{};const{loaders:e}=globalThis;return e._state||(e._state={}),e._state}function tK(){const e=eK();return e.globalOptions=e.globalOptions||{...ZY},e.globalOptions}function _ye(e,t,n,r){return n=n||[],n=Array.isArray(n)?n:[n],$ye(e,n),Tye(t,e,r)}function $ye(e,t){Y7(e,null,ZY,kye,t);for(const n of t){const r=e&&e[n.id]||{},i=n.options&&n.options[n.id]||{},o=n.deprecatedOptions&&n.deprecatedOptions[n.id]||{};Y7(r,n.id,i,o,t)}}function Y7(e,t,n,r,i){const o=t||"Top level",s=t?`${t}.`:"";for(const a in e){const l=!t&&Nb(e[a]),u=a==="baseUri"&&!t,c=a==="workerUrl"&&t;if(!(a in n)&&!u&&!c){if(a in r)X7.warn(`${o} loader option '${s}${a}' no longer supported, use '${r[a]}'`)();else if(!l){const f=Aye(a,i);X7.warn(`${o} loader option '${s}${a}' not recognized. ${f}`)()}}}}function Aye(e,t){const n=e.toLowerCase();let r="";for(const i of t)for(const o in i.options){if(e===o)return`Did you mean '${i.id}.${o}'?`;const s=o.toLowerCase();(n.startsWith(s)||s.startsWith(n))&&(r=r||`Did you mean '${i.id}.${o}'?`)}return r}function Tye(e,t,n){const i={...e.options||{}};return Rye(i,n),i.log===null&&(i.log=new Cye),K7(i,tK()),K7(i,t),i}function K7(e,t){for(const n in t)if(n in t){const r=t[n];H7(r)&&H7(e[n])?e[n]={...e[n],...t[n]}:e[n]=t[n]}}function Rye(e,t){t&&!("baseUri"in e)&&(e.baseUri=t)}function nK(e){return e?(Array.isArray(e)&&(e=e[0]),Array.isArray(e==null?void 0:e.extensions)):!1}function rK(e){M7(e,"null loader"),M7(nK(e),"invalid loader");let t;return Array.isArray(e)&&(t=e[1],e=e[0],e={...e,options:{...e.options,...t}}),(e!=null&&e.parseTextSync||e!=null&&e.parseText)&&(e.text=!0),e.text||(e.binary=!0),e}const Fye=()=>{const e=eK();return e.loaderRegistry=e.loaderRegistry||[],e.loaderRegistry};function Oye(){return Fye()}const Pye=new y6({id:"loaders.gl"}),Dye=/\.([^.]+)$/;async function Mye(e,t=[],n,r){if(!iK(e))return null;let i=Q7(e,t,{...n,nothrow:!0},r);if(i)return i;if(b0(e)&&(e=await e.slice(0,10).arrayBuffer(),i=Q7(e,t,n,r)),!i&&!(n!=null&&n.nothrow))throw new Error(oK(e));return i}function Q7(e,t=[],n,r){if(!iK(e))return null;if(t&&!Array.isArray(t))return rK(t);let i=[];t&&(i=i.concat(t)),n!=null&&n.ignoreRegisteredLoaders||i.push(...Oye()),Lye(i);const o=Nye(e,i,n,r);if(!o&&!(n!=null&&n.nothrow))throw new Error(oK(e));return o}function Nye(e,t,n,r){const i=Nk(e),o=b6(e),s=v6(i)||(r==null?void 0:r.url);let a=null,l="";return n!=null&&n.mimeType&&(a=G5(t,n==null?void 0:n.mimeType),l=`match forced by supplied MIME type ${n==null?void 0:n.mimeType}`),a=a||Iye(t,s),l=l||(a?`matched url ${s}`:""),a=a||G5(t,o),l=l||(a?`matched MIME type ${o}`:""),a=a||Bye(t,e),l=l||(a?`matched initial data ${sK(e)}`:""),n!=null&&n.fallbackMimeType&&(a=a||G5(t,n==null?void 0:n.fallbackMimeType),l=l||(a?`matched fallback MIME type ${o}`:"")),l&&Pye.log(1,`selectLoader selected ${a==null?void 0:a.name}: ${l}.`),a}function iK(e){return!(e instanceof Response&&e.status===204)}function oK(e){const t=Nk(e),n=b6(e);let r="No valid loader found (";r+=t?`${YY(t)}, `:"no url provided, ",r+=`MIME type: ${n?`"${n}"`:"not provided"}, `;const i=e?sK(e):"";return r+=i?` first bytes: "${i}"`:"first bytes: not available",r+=")",r}function Lye(e){for(const t of e)rK(t)}function Iye(e,t){const n=t&&Dye.exec(t),r=n&&n[1];return r?zye(e,r):null}function zye(e,t){t=t.toLowerCase();for(const n of e)for(const r of n.extensions)if(r.toLowerCase()===t)return n;return null}function G5(e,t){var n;for(const r of e)if((n=r.mimeTypes)!=null&&n.some(i=>q7(t,i))||q7(t,`application/x.${r.id}`))return r;return null}function Bye(e,t){if(!t)return null;for(const n of e)if(typeof t=="string"){if(jye(t,n))return n}else if(ArrayBuffer.isView(t)){if(J7(t.buffer,t.byteOffset,n))return n}else if(t instanceof ArrayBuffer&&J7(t,0,n))return n;return null}function jye(e,t){return t.testText?t.testText(e):(Array.isArray(t.tests)?t.tests:[t.tests]).some(r=>e.startsWith(r))}function J7(e,t,n){return(Array.isArray(n.tests)?n.tests:[n.tests]).some(i=>Uye(e,t,n,i))}function Uye(e,t,n,r){if(r instanceof ArrayBuffer)return G0e(r,e,r.byteLength);switch(typeof r){case"function":return r(e);case"string":const i=q4(e,t,r.length);return r===i;default:return!1}}function sK(e,t=5){return typeof e=="string"?e.slice(0,t):ArrayBuffer.isView(e)?q4(e.buffer,e.byteOffset,t):e instanceof ArrayBuffer?q4(e,0,t):""}function q4(e,t,n){if(e.byteLength<t+n)return"";const r=new DataView(e);let i="";for(let o=0;o<n;o++)i+=String.fromCharCode(r.getUint8(t+o));return i}const Vye=256*1024;function*Wye(e,t){const n=(t==null?void 0:t.chunkSize)||Vye;let r=0;const i=new TextEncoder;for(;r<e.length;){const o=Math.min(e.length-r,n),s=e.slice(r,r+o);r+=o,yield i.encode(s)}}const Hye=256*1024;function*qye(e,t={}){const{chunkSize:n=Hye}=t;let r=0;for(;r<e.byteLength;){const i=Math.min(e.byteLength-r,n),o=new ArrayBuffer(i),s=new Uint8Array(e,r,i);new Uint8Array(o).set(s),r+=i,yield o}}const Gye=1024*1024;async function*Xye(e,t){const n=(t==null?void 0:t.chunkSize)||Gye;let r=0;for(;r<e.size;){const i=r+n,o=await e.slice(r,i).arrayBuffer();r=i,yield o}}function Z7(e,t){return UY?Yye(e,t):Kye(e)}async function*Yye(e,t){const n=e.getReader();let r;try{for(;;){const i=r||n.read();t!=null&&t._streamReadAhead&&(r=n.read());const{done:o,value:s}=await i;if(o)return;yield XY(s)}}catch{n.releaseLock()}}async function*Kye(e,t){for await(const n of e)yield XY(n)}function Qye(e,t){if(typeof e=="string")return Wye(e,t);if(e instanceof ArrayBuffer)return qye(e,t);if(b0(e))return Xye(e,t);if(KY(e))return Z7(e,t);if(Gh(e))return Z7(e.body,t);throw new Error("makeIterator")}const aK="Cannot convert supplied data type";function Jye(e,t,n){if(t.text&&typeof e=="string")return e;if(sye(e)&&(e=e.buffer),e instanceof ArrayBuffer){const r=e;return t.text&&!t.binary?new TextDecoder("utf8").decode(r):r}if(ArrayBuffer.isView(e)){if(t.text&&!t.binary)return new TextDecoder("utf8").decode(e);let r=e.buffer;const i=e.byteLength||e.length;return(e.byteOffset!==0||i!==r.byteLength)&&(r=r.slice(e.byteOffset,e.byteOffset+i)),r}throw new Error(aK)}async function Zye(e,t,n){const r=e instanceof ArrayBuffer||ArrayBuffer.isView(e);if(typeof e=="string"||r)return Jye(e,t);if(b0(e)&&(e=await JY(e)),Gh(e)){const i=e;return await mye(i),t.binary?await i.arrayBuffer():await i.text()}if(KY(e)&&(e=Qye(e,n)),iye(e)||oye(e))return K0e(e);throw new Error(aK)}function e1e(e,t){const n=tK(),r=e||n;return typeof r.fetch=="function"?r.fetch:Nb(r.fetch)?i=>H4(i,r.fetch):t!=null&&t.fetch?t==null?void 0:t.fetch:H4}function t1e(e,t,n){if(n)return n;const r={fetch:e1e(t,e),...e};if(r.url){const i=v6(r.url);r.baseUrl=i,r.queryString=hye(r.url),r.filename=YY(i),r.baseUrl=nye(i)}return Array.isArray(r.loaders)||(r.loaders=null),r}function n1e(e,t){if(e&&!Array.isArray(e))return e;let n;if(e&&(n=Array.isArray(e)?e:[e]),t&&t.loaders){const r=Array.isArray(t.loaders)?t.loaders:[t.loaders];n=n?[...n,...r]:r}return n&&n.length?n:void 0}async function x6(e,t,n,r){t&&!Array.isArray(t)&&!nK(t)&&(r=void 0,n=t,t=void 0),e=await e,n=n||{};const i=Nk(e),s=n1e(t,r),a=await Mye(e,s,n);return a?(n=_ye(n,a,s,i),r=t1e({url:i,_parse:x6,loaders:s},n,r||null),await r1e(a,e,n,r)):null}async function r1e(e,t,n,r){if(V0e(e),n=F0e(e.options,n),Gh(t)){const o=t,{ok:s,redirected:a,status:l,statusText:u,type:c,url:f}=o,d=Object.fromEntries(o.headers.entries());r.response={headers:d,ok:s,redirected:a,status:l,statusText:u,type:c,url:f}}t=await Zye(t,e,n);const i=e;if(i.parseTextSync&&typeof t=="string")return i.parseTextSync(t,n,r);if(W0e(e,n))return await H0e(e,t,n,r,x6);if(i.parseText&&typeof t=="string")return await i.parseText(t,n,r);if(i.parse)return await i.parse(t,n,r);throw lf(!i.parseSync),new Error(`${e.id} loader - no parser found and worker is disabled`)}const ez=100;class i1e{constructor(t,n){me(this,"schema");me(this,"options");me(this,"shape");me(this,"length",0);me(this,"rows",null);me(this,"cursor",0);me(this,"_headers",[]);if(this.options=n,this.schema=t,!Array.isArray(t)){this._headers=[];for(const r in t)this._headers[t[r].index]=t[r].name}}rowCount(){return this.length}addArrayRow(t,n){Number.isFinite(n)&&(this.cursor=n),this.shape="array-row-table",this.rows=this.rows||new Array(ez),this.rows[this.length]=t,this.length++}addObjectRow(t,n){Number.isFinite(n)&&(this.cursor=n),this.shape="object-row-table",this.rows=this.rows||new Array(ez),this.rows[this.length]=t,this.length++}getBatch(){let t=this.rows;return t?(t=t.slice(0,this.length),this.rows=null,{shape:this.shape||"array-row-table",batchType:"data",data:t,length:this.length,schema:this.schema,cursor:this.cursor}):null}}function lK(e,t){if(!e)throw new Error("null row");const n={};if(t)for(let r=0;r<t.length;r++)n[t[r]]=e[r];else for(let r=0;r<e.length;r++){const i=`column-${r}`;n[i]=e[r]}return n}function uK(e,t){if(!e)throw new Error("null row");if(t){const n=new Array(t.length);for(let r=0;r<t.length;r++)n[r]=e[t[r]];return n}return Object.values(e)}function o1e(e){const t=[];for(let n=0;n<e.length;n++){const r=`column-${n}`;t.push(r)}return t}function s1e(e){return Object.keys(e)}const tz=100;class a1e{constructor(t,n){me(this,"schema");me(this,"options");me(this,"length",0);me(this,"objectRows",null);me(this,"arrayRows",null);me(this,"cursor",0);me(this,"_headers",null);if(this.options=n,this.schema=t,t){this._headers=[];for(const r in t)this._headers[t[r].index]=t[r].name}}rowCount(){return this.length}addArrayRow(t,n){switch(Number.isFinite(n)&&(this.cursor=n),this._headers||(this._headers=o1e(t)),this.options.shape){case"object-row-table":const r=lK(t,this._headers);this.addObjectRow(r,n);break;case"array-row-table":this.arrayRows=this.arrayRows||new Array(tz),this.arrayRows[this.length]=t,this.length++;break}}addObjectRow(t,n){switch(Number.isFinite(n)&&(this.cursor=n),this._headers||(this._headers=s1e(t)),this.options.shape){case"array-row-table":const r=uK(t,this._headers);this.addArrayRow(r,n);break;case"object-row-table":this.objectRows=this.objectRows||new Array(tz),this.objectRows[this.length]=t,this.length++;break}}getBatch(){let t=this.arrayRows||this.objectRows;return t?(t=t.slice(0,this.length),this.arrayRows=null,this.objectRows=null,{shape:this.options.shape,batchType:"data",data:t,length:this.length,schema:this.schema,cursor:this.cursor}):null}}const l1e=100;class u1e{constructor(t,n){me(this,"schema");me(this,"length",0);me(this,"allocated",0);me(this,"columns",{});this.schema=t,this._reallocateColumns()}rowCount(){return this.length}addArrayRow(t){this._reallocateColumns();let n=0;for(const r in this.columns)this.columns[r][this.length]=t[n++];this.length++}addObjectRow(t){this._reallocateColumns();for(const n in t)this.columns[n][this.length]=t[n];this.length++}getBatch(){this._pruneColumns();const t=Array.isArray(this.schema)?this.columns:{};if(!Array.isArray(this.schema))for(const r in this.schema){const i=this.schema[r];t[i.name]=this.columns[i.index]}return this.columns={},{shape:"columnar-table",batchType:"data",data:t,schema:this.schema,length:this.length}}_reallocateColumns(){if(!(this.length<this.allocated)){this.allocated=this.allocated>0?this.allocated*=2:l1e,this.columns={};for(const t in this.schema){const n=this.schema[t],r=n.type||Float32Array,i=this.columns[n.index];if(i&&ArrayBuffer.isView(i)){const o=new r(this.allocated);o.set(i),this.columns[n.index]=o}else i?(i.length=this.allocated,this.columns[n.index]=i):this.columns[n.index]=new r(this.allocated)}}}_pruneColumns(){for(const[t,n]of Object.entries(this.columns))this.columns[t]=n.slice(0,this.length)}}const c1e={shape:void 0,batchSize:"auto",batchDebounceMs:0,limit:0,_limitMB:0},f1e="TableBatchBuilder",xv=class xv{constructor(t,n){me(this,"schema");me(this,"options");me(this,"aggregator",null);me(this,"batchCount",0);me(this,"bytesUsed",0);me(this,"isChunkComplete",!1);me(this,"lastBatchEmittedMs",Date.now());me(this,"totalLength",0);me(this,"totalBytes",0);me(this,"rowBytes",0);this.schema=t,this.options={...c1e,...n}}limitReached(){var t,n;return!!((t=this.options)!=null&&t.limit&&this.totalLength>=this.options.limit||(n=this.options)!=null&&n._limitMB&&this.totalBytes/1e6>=this.options._limitMB)}addRow(t){this.limitReached()||(this.totalLength++,this.rowBytes=this.rowBytes||this._estimateRowMB(t),this.totalBytes+=this.rowBytes,Array.isArray(t)?this.addArrayRow(t):this.addObjectRow(t))}addArrayRow(t){if(!this.aggregator){const n=this._getTableBatchType();this.aggregator=new n(this.schema,this.options)}this.aggregator.addArrayRow(t)}addObjectRow(t){if(!this.aggregator){const n=this._getTableBatchType();this.aggregator=new n(this.schema,this.options)}this.aggregator.addObjectRow(t)}chunkComplete(t){t instanceof ArrayBuffer&&(this.bytesUsed+=t.byteLength),typeof t=="string"&&(this.bytesUsed+=t.length),this.isChunkComplete=!0}getFullBatch(t){return this._isFull()?this._getBatch(t):null}getFinalBatch(t){return this._getBatch(t)}_estimateRowMB(t){return Array.isArray(t)?t.length*8:Object.keys(t).length*8}_isFull(){if(!this.aggregator||this.aggregator.rowCount()===0)return!1;if(this.options.batchSize==="auto"){if(!this.isChunkComplete)return!1}else if(this.options.batchSize>this.aggregator.rowCount())return!1;return this.options.batchDebounceMs>Date.now()-this.lastBatchEmittedMs?!1:(this.isChunkComplete=!1,this.lastBatchEmittedMs=Date.now(),!0)}_getBatch(t){if(!this.aggregator)return null;t!=null&&t.bytesUsed&&(this.bytesUsed=t.bytesUsed);const n=this.aggregator.getBatch();return n.count=this.batchCount,n.bytesUsed=this.bytesUsed,Object.assign(n,t),this.batchCount++,this.aggregator=null,n}_getTableBatchType(){switch(this.options.shape){case"array-row-table":case"object-row-table":return a1e;case"columnar-table":return u1e;case"arrow-table":if(!xv.ArrowBatch)throw new Error(f1e);return xv.ArrowBatch;default:return i1e}}};me(xv,"ArrowBatch");let G4=xv;class nz extends Array{enqueue(t){return this.push(t)}dequeue(){return this.shift()}}class d1e{constructor(){me(this,"_values");me(this,"_settlers");me(this,"_closed");this._values=new nz,this._settlers=new nz,this._closed=!1}close(){for(;this._settlers.length>0;)this._settlers.dequeue().resolve({done:!0});this._closed=!0}[Symbol.asyncIterator](){return this}enqueue(t){if(this._closed)throw new Error("Closed");if(this._settlers.length>0){if(this._values.length>0)throw new Error("Illegal internal state");const n=this._settlers.dequeue();t instanceof Error?n.reject(t):n.resolve({value:t})}else this._values.enqueue(t)}next(){if(this._values.length>0){const t=this._values.dequeue();return t instanceof Error?Promise.reject(t):Promise.resolve({value:t})}if(this._closed){if(this._settlers.length>0)throw new Error("Illegal internal state");return Promise.resolve({done:!0})}return new Promise((t,n)=>{this._settlers.enqueue({resolve:t,reject:n})})}}/* @license
Papa Parse
v5.0.0-beta.0
https://github.com/mholt/PapaParse
License: MIT
*/const rz="\uFEFF",Eo={parse:h1e,unparse:p1e,RECORD_SEP:"",UNIT_SEP:"",BYTE_ORDER_MARK:rz,BAD_DELIMITERS:["\r",`
`,'"',rz],WORKERS_SUPPORTED:!1,NODE_STREAM_INPUT:1,LocalChunkSize:1024*1024*10,RemoteChunkSize:1024*1024*5,DefaultDelimiter:",",Parser:X4,ParserHandle:fK,ChunkStreamer:cK,StringStreamer:dm};function h1e(e,t,n){t=t||{};var r=t.dynamicTyping||!1;if(wi(r)&&(t.dynamicTypingFunction=r,r={}),t.dynamicTyping=r,t.transform=wi(t.transform)?t.transform:!1,t.worker&&Eo.WORKERS_SUPPORTED){var i=newWorker();i.userStep=t.step,i.userChunk=t.chunk,i.userComplete=t.complete,i.userError=t.error,t.step=wi(t.step),t.chunk=wi(t.chunk),t.complete=wi(t.complete),t.error=wi(t.error),delete t.worker,i.postMessage({input:e,config:t,workerId:i.id});return}var o=null;return typeof e=="string"&&(o=new dm(t)),o||(o=new n(t)),o.stream(e)}function p1e(e,t){var n=!1,r=!0,i=",",o=`\r
`,s='"',a=s+s,l=!1,u=null;f();var c=new RegExp(wv(s),"g");if(typeof e=="string"&&(e=JSON.parse(e)),Array.isArray(e)){if(!e.length||Array.isArray(e[0]))return h(null,e,l);if(typeof e[0]=="object")return h(u||d(e[0]),e,l)}else if(typeof e=="object")return typeof e.data=="string"&&(e.data=JSON.parse(e.data)),Array.isArray(e.data)&&(e.fields||(e.fields=e.meta&&e.meta.fields),e.fields||(e.fields=Array.isArray(e.data[0])?e.fields:d(e.data[0])),!Array.isArray(e.data[0])&&typeof e.data[0]!="object"&&(e.data=[e.data])),h(e.fields||[],e.data||[],l);throw new Error("Unable to serialize unrecognized input");function f(){if(typeof t=="object"){if(typeof t.delimiter=="string"&&!Eo.BAD_DELIMITERS.filter(function(m){return t.delimiter.indexOf(m)!==-1}).length&&(i=t.delimiter),(typeof t.quotes=="boolean"||Array.isArray(t.quotes))&&(n=t.quotes),(typeof t.skipEmptyLines=="boolean"||typeof t.skipEmptyLines=="string")&&(l=t.skipEmptyLines),typeof t.newline=="string"&&(o=t.newline),typeof t.quoteChar=="string"&&(s=t.quoteChar),typeof t.header=="boolean"&&(r=t.header),Array.isArray(t.columns)){if(t.columns.length===0)throw new Error("Option columns is empty");u=t.columns}t.escapeChar!==void 0&&(a=t.escapeChar+s)}}function d(m){if(typeof m!="object")return[];var y=[];for(var v in m)y.push(v);return y}function h(m,y,v){var b="";typeof m=="string"&&(m=JSON.parse(m)),typeof y=="string"&&(y=JSON.parse(y));var x=Array.isArray(m)&&m.length>0,w=!Array.isArray(y[0]);if(x&&r){for(var E=0;E<m.length;E++)E>0&&(b+=i),b+=p(m[E],E);y.length>0&&(b+=o)}for(var S=0;S<y.length;S++){var k=x?m.length:y[S].length,$=!1,F=x?Object.keys(y[S]).length===0:y[S].length===0;if(v&&!x&&($=v==="greedy"?y[S].join("").trim()==="":y[S].length===1&&y[S][0].length===0),v==="greedy"&&x){for(var P=[],j=0;j<k;j++){var D=w?m[j]:j;P.push(y[S][D])}$=P.join("").trim()===""}if(!$){for(var L=0;L<k;L++){L>0&&!F&&(b+=i);var A=x&&w?m[L]:L;b+=p(y[S][A],L)}S<y.length-1&&(!v||k>0&&!F)&&(b+=o)}}return b}function p(m,y){if(typeof m>"u"||m===null)return"";if(m.constructor===Date)return JSON.stringify(m).slice(1,25);m=m.toString().replace(c,a);var v=typeof n=="boolean"&&n||Array.isArray(n)&&n[y]||g(m,Eo.BAD_DELIMITERS)||m.indexOf(i)>-1||m.charAt(0)===" "||m.charAt(m.length-1)===" ";return v?s+m+s:m}function g(m,y){for(var v=0;v<y.length;v++)if(m.indexOf(y[v])>-1)return!0;return!1}}function cK(e){this._handle=null,this._finished=!1,this._completed=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},t.call(this,e),this.parseChunk=function(n,r){if(this.isFirstChunk&&wi(this._config.beforeFirstChunk)){var i=this._config.beforeFirstChunk(n);i!==void 0&&(n=i)}this.isFirstChunk=!1;var o=this._partialLine+n;this._partialLine="";var s=this._handle.parse(o,this._baseIndex,!this._finished);if(!(this._handle.paused()||this._handle.aborted())){var a=s.meta.cursor;this._finished||(this._partialLine=o.substring(a-this._baseIndex),this._baseIndex=a),s&&s.data&&(this._rowCount+=s.data.length);var l=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(wi(this._config.chunk)&&!r){if(this._config.chunk(s,this._handle),this._handle.paused()||this._handle.aborted())return;s=void 0,this._completeResults=void 0}return!this._config.step&&!this._config.chunk&&(this._completeResults.data=this._completeResults.data.concat(s.data),this._completeResults.errors=this._completeResults.errors.concat(s.errors),this._completeResults.meta=s.meta),!this._completed&&l&&wi(this._config.complete)&&(!s||!s.meta.aborted)&&(this._config.complete(this._completeResults,this._input),this._completed=!0),!l&&(!s||!s.meta.paused)&&this._nextChunk(),s}},this._sendError=function(n){wi(this._config.error)&&this._config.error(n)};function t(n){var r=w6(n);r.chunkSize=parseInt(r.chunkSize),!n.step&&!n.chunk&&(r.chunkSize=null),this._handle=new fK(r),this._handle.streamer=this,this._config=r}}function dm(e){e=e||{},cK.call(this,e);var t;this.stream=function(n){return t=n,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var n=this._config.chunkSize,r=n?t.substr(0,n):t;return t=n?t.substr(n):"",this._finished=!t,this.parseChunk(r)}}}dm.prototype=Object.create(dm.prototype);dm.prototype.constructor=dm;function fK(e){var t=/^\s*-?(\d*\.?\d+|\d+\.?\d*)(e[-+]?\d+)?\s*$/i,n=/(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))/,r=this,i=0,o=0,s,a,l=!1,u=!1,c,f=[],d={data:[],errors:[],meta:{}};if(wi(e.step)){var h=e.step;e.step=function(k){if(d=k,m())g();else{if(g(),!d.data||d.data.length===0)return;i+=k.data.length,e.preview&&i>e.preview?a.abort():h(d,r)}}}this.parse=function(k,$,F){var P=e.quoteChar||'"';if(e.newline||(e.newline=E(k,P)),c=!1,e.delimiter)wi(e.delimiter)&&(e.delimiter=e.delimiter(k),d.meta.delimiter=e.delimiter);else{var j=w(k,e.newline,e.skipEmptyLines,e.comments,e.delimitersToGuess);j.successful?e.delimiter=j.bestDelimiter:(c=!0,e.delimiter=Eo.DefaultDelimiter),d.meta.delimiter=e.delimiter}var D=w6(e);return e.preview&&e.header&&D.preview++,s=k,a=new X4(D),d=a.parse(s,$,F),g(),l?{meta:{paused:!0}}:d||{meta:{paused:!1}}},this.paused=function(){return l},this.pause=function(){l=!0,a.abort(),s=s.substr(a.getCharIndex())},this.resume=function(){l=!1,r.streamer.parseChunk(s,!0)},this.aborted=function(){return u},this.abort=function(){u=!0,a.abort(),d.meta.aborted=!0,wi(e.complete)&&e.complete(d),s=""};function p(k){return e.skipEmptyLines==="greedy"?k.join("").trim()==="":k.length===1&&k[0].length===0}function g(){if(d&&c&&(S("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+Eo.DefaultDelimiter+"'"),c=!1),e.skipEmptyLines)for(var k=0;k<d.data.length;k++)p(d.data[k])&&d.data.splice(k--,1);return m()&&y(),x()}function m(){return e.header&&f.length===0}function y(){if(!d)return;function k(F){wi(e.transformHeader)&&(F=e.transformHeader(F)),f.push(F)}if(Array.isArray(d.data[0])){for(var $=0;m()&&$<d.data.length;$++)d.data[$].forEach(k);d.data.splice(0,1)}else d.data.forEach(k)}function v(k){return e.dynamicTypingFunction&&e.dynamicTyping[k]===void 0&&(e.dynamicTyping[k]=e.dynamicTypingFunction(k)),(e.dynamicTyping[k]||e.dynamicTyping)===!0}function b(k,$){return v(k)?$==="true"||$==="TRUE"?!0:$==="false"||$==="FALSE"?!1:t.test($)?parseFloat($):n.test($)?new Date($):$===""?null:$:$}function x(){if(!d||!d.data||!e.header&&!e.dynamicTyping&&!e.transform)return d;function k(F,P){var j=e.header?{}:[],D;for(D=0;D<F.length;D++){var L=D,A=F[D];e.header&&(L=D>=f.length?"__parsed_extra":f[D]),e.transform&&(A=e.transform(A,L)),A=b(L,A),L==="__parsed_extra"?(j[L]=j[L]||[],j[L].push(A)):j[L]=A}return e.header&&(D>f.length?S("FieldMismatch","TooManyFields","Too many fields: expected "+f.length+" fields but parsed "+D,o+P):D<f.length&&S("FieldMismatch","TooFewFields","Too few fields: expected "+f.length+" fields but parsed "+D,o+P)),j}var $=1;return!d.data[0]||Array.isArray(d.data[0])?(d.data=d.data.map(k),$=d.data.length):d.data=k(d.data,0),e.header&&d.meta&&(d.meta.fields=f),o+=$,d}function w(k,$,F,P,j){var D,L,A;j=j||[",","	","|",";",Eo.RECORD_SEP,Eo.UNIT_SEP];for(var O=0;O<j.length;O++){var B=j[O],z=0,U=0,X=0;A=void 0;for(var K=new X4({comments:P,delimiter:B,newline:$,preview:10}).parse(k),pe=0;pe<K.data.length;pe++){if(F&&p(K.data[pe])){X++;continue}var oe=K.data[pe].length;if(U+=oe,typeof A>"u"){A=0;continue}else oe>1&&(z+=Math.abs(oe-A),A=oe)}K.data.length>0&&(U/=K.data.length-X),(typeof L>"u"||z>L)&&U>1.99&&(L=z,D=B)}return e.delimiter=D,{successful:!!D,bestDelimiter:D}}function E(k,$){k=k.substr(0,1024*1024);var F=new RegExp(wv($)+"([^]*?)"+wv($),"gm");k=k.replace(F,"");var P=k.split("\r"),j=k.split(`
`),D=j.length>1&&j[0].length<P[0].length;if(P.length===1||D)return`
`;for(var L=0,A=0;A<P.length;A++)P[A][0]===`
`&&L++;return L>=P.length/2?`\r
`:"\r"}function S(k,$,F,P){d.errors.push({type:k,code:$,message:F,row:P})}}function wv(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function X4(e){e=e||{};var t=e.delimiter,n=e.newline,r=e.comments,i=e.step,o=e.preview,s=e.fastMode,a;e.quoteChar===void 0?a='"':a=e.quoteChar;var l=a;if(e.escapeChar!==void 0&&(l=e.escapeChar),(typeof t!="string"||Eo.BAD_DELIMITERS.indexOf(t)>-1)&&(t=","),r===t)throw new Error("Comment character same as delimiter");r===!0?r="#":(typeof r!="string"||Eo.BAD_DELIMITERS.indexOf(r)>-1)&&(r=!1),n!==`
`&&n!=="\r"&&n!==`\r
`&&(n=`
`);var u=0,c=!1;this.parse=function(f,d,h){if(typeof f!="string")throw new Error("Input must be a string");var p=f.length,g=t.length,m=n.length,y=r.length,v=wi(i);u=0;var b=[],x=[],w=[],E=0;if(!f)return K();if(s||s!==!1&&f.indexOf(a)===-1){for(var S=f.split(n),k=0;k<S.length;k++){if(w=S[k],u+=w.length,k!==S.length-1)u+=n.length;else if(h)return K();if(!(r&&w.substr(0,y)===r)){if(v){if(b=[],B(w.split(t)),pe(),c)return K()}else B(w.split(t));if(o&&k>=o)return b=b.slice(0,o),K(!0)}}return K()}for(var $=f.indexOf(t,u),F=f.indexOf(n,u),P=new RegExp(wv(l)+wv(a),"g"),j;;){if(f[u]===a){for(j=u,u++;;){if(j=f.indexOf(a,j+1),j===-1)return h||x.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:b.length,index:u}),U();if(j===p-1){var D=f.substring(u,j).replace(P,a);return U(D)}if(a===l&&f[j+1]===l){j++;continue}if(!(a!==l&&j!==0&&f[j-1]===l)){var L=F===-1?$:Math.min($,F),A=z(L);if(f[j+1+A]===t){if(w.push(f.substring(u,j).replace(P,a)),u=j+1+A+g,$=f.indexOf(t,u),F=f.indexOf(n,u),v&&(pe(),c))return K();if(o&&b.length>=o)return K(!0);break}var O=z(F);if(f.substr(j+1+O,m)===n){if(w.push(f.substring(u,j).replace(P,a)),X(j+1+O+m),$=f.indexOf(t,u),v&&(pe(),c))return K();if(o&&b.length>=o)return K(!0);break}x.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:b.length,index:u}),j++}}if(v&&(pe(),c))return K();if(o&&b.length>=o)return K(!0);continue}if(r&&w.length===0&&f.substr(u,y)===r){if(F===-1)return K();u=F+m,F=f.indexOf(n,u),$=f.indexOf(t,u);continue}if($!==-1&&($<F||F===-1)){w.push(f.substring(u,$)),u=$+g,$=f.indexOf(t,u);continue}if(F!==-1){if(w.push(f.substring(u,F)),X(F+m),v&&(pe(),c))return K();if(o&&b.length>=o)return K(!0);continue}break}return U();function B(oe){b.push(oe),E=u}function z(oe){var _e=0;if(oe!==-1){var Je=f.substring(j+1,oe);Je&&Je.trim()===""&&(_e=Je.length)}return _e}function U(oe){return h||(typeof oe>"u"&&(oe=f.substr(u)),w.push(oe),u=p,B(w),v&&pe()),K()}function X(oe){u=oe,B(w),w=[],F=f.indexOf(n,u)}function K(oe,_e){var Je=_e||!1;return{data:Je?b[0]:b,errors:x,meta:{delimiter:t,linebreak:n,aborted:c,truncated:!!oe,cursor:E+(d||0)}}}function pe(){i(K(void 0,!0)),b=[],x=[]}},this.abort=function(){c=!0},this.getCharIndex=function(){return u}}function w6(e){if(typeof e!="object"||e===null)return e;var t=Array.isArray(e)?[]:{};for(var n in e)t[n]=w6(e[n]);return t}function wi(e){return typeof e=="function"}const{ChunkStreamer:dK}=Eo;function QS(e){e=e||{},dK.call(this,e),this.textDecoder=new TextDecoder(this._config.encoding),this.stream=async function(t){this._input=t;try{for await(const n of t)this.parseChunk(this.getStringChunk(n));this._finished=!0,this.parseChunk("")}catch(n){this._sendError(n)}},this._nextChunk=function(){},this.getStringChunk=function(t){return typeof t=="string"?t:this.textDecoder.decode(t,{stream:!0})}}QS.prototype=Object.create(dK.prototype);QS.prototype.constructor=QS;const g1e="4.2.1",S6="object-row-table",C6={dataType:null,batchType:null,id:"csv",module:"csv",name:"CSV",version:g1e,extensions:["csv","tsv","dsv"],mimeTypes:["text/csv","text/tab-separated-values","text/dsv"],category:"table",parse:async(e,t)=>iz(new TextDecoder().decode(e),t),parseText:(e,t)=>iz(e,t),parseInBatches:m1e,options:{csv:{shape:S6,optimizeMemoryUsage:!1,header:"auto",columnPrefix:"column",quoteChar:'"',escapeChar:'"',dynamicTyping:!0,comments:!1,skipEmptyLines:!0,delimitersToGuess:[",","	","|",";"]}}};async function iz(e,t){const n={...C6.options.csv,...t==null?void 0:t.csv},r=y1e(e),o=n.header==="auto"?hK(r):!!n.header,s={...n,header:o,download:!1,transformHeader:o?pK():void 0,error:f=>{throw new Error(f)}},a=Eo.parse(e,s),l=a.data,u=a.meta.fields||gK(n.columnPrefix,r.length),c=n.shape||S6;switch(c){case"object-row-table":return{shape:"object-row-table",data:l.map(f=>Array.isArray(f)?lK(f,u):f)};case"array-row-table":return{shape:"array-row-table",data:l.map(f=>Array.isArray(f)?f:uK(f,u))};default:throw new Error(c)}}function m1e(e,t){t={...t},t.batchSize==="auto"&&(t.batchSize=4e3);const n={...C6.options.csv,...t==null?void 0:t.csv},r=new d1e;let i=!0,o=null,s=null,a=null;const l={...n,header:!1,download:!1,chunkSize:1024*1024*5,skipEmptyLines:!1,step(u){let c=u.data;if(n.skipEmptyLines&&c.flat().join("").trim()==="")return;const f=u.meta.cursor;if(i&&!o&&(n.header==="auto"?hK(c):!!n.header)){o=c.map(pK());return}i&&(i=!1,o||(o=gK(n.columnPrefix,c.length)),a=v1e(c,o)),n.optimizeMemoryUsage&&(c=JSON.parse(JSON.stringify(c)));const d=n.shape||S6;s=s||new G4(a,{shape:d,...t});try{s.addRow(c);const h=s&&s.getFullBatch({bytesUsed:f});h&&r.enqueue(h)}catch(h){r.enqueue(h)}},complete(u){try{const c=u.meta.cursor,f=s&&s.getFinalBatch({bytesUsed:c});f&&r.enqueue(f)}catch(c){r.enqueue(c)}r.close()}};return Eo.parse(e,l,QS),r}function hK(e){return e&&e.every(t=>typeof t=="string")}function y1e(e){return Eo.parse(e,{download:!1,dynamicTyping:!0,preview:1}).data[0]}function pK(){const e=new Set;return t=>{let n=t,r=1;for(;e.has(n);)n=`${t}.${r}`,r++;return e.add(n),n}}function gK(e,t=0){const n=[];for(let r=0;r<t;r++)n.push(`${e}${r+1}`);return n}function v1e(e,t){const n=t?{}:[];for(let r=0;r<e.length;r++){const i=t&&t[r]||r;switch(typeof e[r]){case"number":case"boolean":n[i]={name:String(i),index:r,type:Float32Array};break;case"string":default:n[i]={name:String(i),index:r,type:Array}}}return n}var oz={},X5={},Y5=34,fy=10,K5=13;function mK(e){return new Function("d","return {"+e.map(function(t,n){return JSON.stringify(t)+": d["+n+'] || ""'}).join(",")+"}")}function b1e(e,t){var n=mK(e);return function(r,i){return t(n(r),i,e)}}function sz(e){var t=Object.create(null),n=[];return e.forEach(function(r){for(var i in r)i in t||n.push(t[i]=i)}),n}function Wi(e,t){var n=e+"",r=n.length;return r<t?new Array(t-r+1).join(0)+n:n}function x1e(e){return e<0?"-"+Wi(-e,6):e>9999?"+"+Wi(e,6):Wi(e,4)}function w1e(e){var t=e.getUTCHours(),n=e.getUTCMinutes(),r=e.getUTCSeconds(),i=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":x1e(e.getUTCFullYear())+"-"+Wi(e.getUTCMonth()+1,2)+"-"+Wi(e.getUTCDate(),2)+(i?"T"+Wi(t,2)+":"+Wi(n,2)+":"+Wi(r,2)+"."+Wi(i,3)+"Z":r?"T"+Wi(t,2)+":"+Wi(n,2)+":"+Wi(r,2)+"Z":n||t?"T"+Wi(t,2)+":"+Wi(n,2)+"Z":"")}function S1e(e){var t=new RegExp('["'+e+`
\r]`),n=e.charCodeAt(0);function r(f,d){var h,p,g=i(f,function(m,y){if(h)return h(m,y-1);p=m,h=d?b1e(m,d):mK(m)});return g.columns=p||[],g}function i(f,d){var h=[],p=f.length,g=0,m=0,y,v=p<=0,b=!1;f.charCodeAt(p-1)===fy&&--p,f.charCodeAt(p-1)===K5&&--p;function x(){if(v)return X5;if(b)return b=!1,oz;var E,S=g,k;if(f.charCodeAt(S)===Y5){for(;g++<p&&f.charCodeAt(g)!==Y5||f.charCodeAt(++g)===Y5;);return(E=g)>=p?v=!0:(k=f.charCodeAt(g++))===fy?b=!0:k===K5&&(b=!0,f.charCodeAt(g)===fy&&++g),f.slice(S+1,E-1).replace(/""/g,'"')}for(;g<p;){if((k=f.charCodeAt(E=g++))===fy)b=!0;else if(k===K5)b=!0,f.charCodeAt(g)===fy&&++g;else if(k!==n)continue;return f.slice(S,E)}return v=!0,f.slice(S,p)}for(;(y=x())!==X5;){for(var w=[];y!==oz&&y!==X5;)w.push(y),y=x();d&&(w=d(w,m++))==null||h.push(w)}return h}function o(f,d){return f.map(function(h){return d.map(function(p){return c(h[p])}).join(e)})}function s(f,d){return d==null&&(d=sz(f)),[d.map(c).join(e)].concat(o(f,d)).join(`
`)}function a(f,d){return d==null&&(d=sz(f)),o(f,d).join(`
`)}function l(f){return f.map(u).join(`
`)}function u(f){return f.map(c).join(e)}function c(f){return f==null?"":f instanceof Date?w1e(f):t.test(f+="")?'"'+f.replace(/"/g,'""')+'"':f}return{parse:r,parseRows:i,format:s,formatBody:a,formatRows:l,formatRow:u,formatValue:c}}function C1e(e,t){const n={numeric:0,categorical:1,datetime:2,name:3};return n[e.type]-n[t.type]}function Hw(e,t,n=[]){const r=[];if(e==null||t==null)return e!==t&&r.push({path:n.join("."),value:e}),r;if(typeof e!="object"||typeof t!="object")return e!==t&&r.push({path:n.join("."),value:e}),r;const i=new Set([...Object.keys(e),...Object.keys(t)]);for(const o of i){const s=[...n,o];if(!(o in t))r.push({path:s.join("."),value:e[o]});else if(!(o in e))r.push({path:s.join("."),value:void 0});else if(typeof e[o]=="object"&&e[o]!=null&&typeof t[o]=="object"&&t[o]!=null){const a=Hw(e[o],t[o],s);r.push(...a)}else e[o]!==t[o]&&r.push({path:s.join("."),value:e[o]})}return r}/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2022 Joachim Wester
 * MIT licensed
 */var E1e=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),k1e=Object.prototype.hasOwnProperty;function Y4(e,t){return k1e.call(e,t)}function K4(e){if(Array.isArray(e)){for(var t=new Array(e.length),n=0;n<t.length;n++)t[n]=""+n;return t}if(Object.keys)return Object.keys(e);var r=[];for(var i in e)Y4(e,i)&&r.push(i);return r}function ko(e){switch(typeof e){case"object":return JSON.parse(JSON.stringify(e));case"undefined":return null;default:return e}}function Q4(e){for(var t=0,n=e.length,r;t<n;){if(r=e.charCodeAt(t),r>=48&&r<=57){t++;continue}return!1}return!0}function md(e){return e.indexOf("/")===-1&&e.indexOf("~")===-1?e:e.replace(/~/g,"~0").replace(/\//g,"~1")}function yK(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function J4(e){if(e===void 0)return!0;if(e){if(Array.isArray(e)){for(var t=0,n=e.length;t<n;t++)if(J4(e[t]))return!0}else if(typeof e=="object"){for(var r=K4(e),i=r.length,o=0;o<i;o++)if(J4(e[r[o]]))return!0}}return!1}function az(e,t){var n=[e];for(var r in t){var i=typeof t[r]=="object"?JSON.stringify(t[r],null,2):t[r];typeof i<"u"&&n.push(r+": "+i)}return n.join(`
`)}var vK=function(e){E1e(t,e);function t(n,r,i,o,s){var a=this.constructor,l=e.call(this,az(n,{name:r,index:i,operation:o,tree:s}))||this;return l.name=r,l.index=i,l.operation=o,l.tree=s,Object.setPrototypeOf(l,a.prototype),l.message=az(n,{name:r,index:i,operation:o,tree:s}),l}return t}(Error),An=vK,_1e=ko,tg={add:function(e,t,n){return e[t]=this.value,{newDocument:n}},remove:function(e,t,n){var r=e[t];return delete e[t],{newDocument:n,removed:r}},replace:function(e,t,n){var r=e[t];return e[t]=this.value,{newDocument:n,removed:r}},move:function(e,t,n){var r=JS(n,this.path);r&&(r=ko(r));var i=Qd(n,{op:"remove",path:this.from}).removed;return Qd(n,{op:"add",path:this.path,value:i}),{newDocument:n,removed:r}},copy:function(e,t,n){var r=JS(n,this.from);return Qd(n,{op:"add",path:this.path,value:ko(r)}),{newDocument:n}},test:function(e,t,n){return{newDocument:n,test:Sv(e[t],this.value)}},_get:function(e,t,n){return this.value=e[t],{newDocument:n}}},$1e={add:function(e,t,n){return Q4(t)?e.splice(t,0,this.value):e[t]=this.value,{newDocument:n,index:t}},remove:function(e,t,n){var r=e.splice(t,1);return{newDocument:n,removed:r[0]}},replace:function(e,t,n){var r=e[t];return e[t]=this.value,{newDocument:n,removed:r}},move:tg.move,copy:tg.copy,test:tg.test,_get:tg._get};function JS(e,t){if(t=="")return e;var n={op:"_get",path:t};return Qd(e,n),n.value}function Qd(e,t,n,r,i,o){if(n===void 0&&(n=!1),r===void 0&&(r=!0),i===void 0&&(i=!0),o===void 0&&(o=0),n&&(typeof n=="function"?n(t,0,e,t.path):ZS(t,0)),t.path===""){var s={newDocument:e};if(t.op==="add")return s.newDocument=t.value,s;if(t.op==="replace")return s.newDocument=t.value,s.removed=e,s;if(t.op==="move"||t.op==="copy")return s.newDocument=JS(e,t.from),t.op==="move"&&(s.removed=e),s;if(t.op==="test"){if(s.test=Sv(e,t.value),s.test===!1)throw new An("Test operation failed","TEST_OPERATION_FAILED",o,t,e);return s.newDocument=e,s}else{if(t.op==="remove")return s.removed=e,s.newDocument=null,s;if(t.op==="_get")return t.value=e,s;if(n)throw new An("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",o,t,e);return s}}else{r||(e=ko(e));var a=t.path||"",l=a.split("/"),u=e,c=1,f=l.length,d=void 0,h=void 0,p=void 0;for(typeof n=="function"?p=n:p=ZS;;){if(h=l[c],h&&h.indexOf("~")!=-1&&(h=yK(h)),i&&(h=="__proto__"||h=="prototype"&&c>0&&l[c-1]=="constructor"))throw new TypeError("JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(n&&d===void 0&&(u[h]===void 0?d=l.slice(0,c).join("/"):c==f-1&&(d=t.path),d!==void 0&&p(t,0,e,d)),c++,Array.isArray(u)){if(h==="-")h=u.length;else{if(n&&!Q4(h))throw new An("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",o,t,e);Q4(h)&&(h=~~h)}if(c>=f){if(n&&t.op==="add"&&h>u.length)throw new An("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",o,t,e);var s=$1e[t.op].call(t,u,h,e);if(s.test===!1)throw new An("Test operation failed","TEST_OPERATION_FAILED",o,t,e);return s}}else if(c>=f){var s=tg[t.op].call(t,u,h,e);if(s.test===!1)throw new An("Test operation failed","TEST_OPERATION_FAILED",o,t,e);return s}if(u=u[h],n&&c<f&&(!u||typeof u!="object"))throw new An("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",o,t,e)}}}function Lk(e,t,n,r,i){if(r===void 0&&(r=!0),i===void 0&&(i=!0),n&&!Array.isArray(t))throw new An("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");r||(e=ko(e));for(var o=new Array(t.length),s=0,a=t.length;s<a;s++)o[s]=Qd(e,t[s],n,!0,i,s),e=o[s].newDocument;return o.newDocument=e,o}function A1e(e,t,n){var r=Qd(e,t);if(r.test===!1)throw new An("Test operation failed","TEST_OPERATION_FAILED",n,t,e);return r.newDocument}function ZS(e,t,n,r){if(typeof e!="object"||e===null||Array.isArray(e))throw new An("Operation is not an object","OPERATION_NOT_AN_OBJECT",t,e,n);if(tg[e.op]){if(typeof e.path!="string")throw new An("Operation `path` property is not a string","OPERATION_PATH_INVALID",t,e,n);if(e.path.indexOf("/")!==0&&e.path.length>0)throw new An('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",t,e,n);if((e.op==="move"||e.op==="copy")&&typeof e.from!="string")throw new An("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",t,e,n);if((e.op==="add"||e.op==="replace"||e.op==="test")&&e.value===void 0)throw new An("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",t,e,n);if((e.op==="add"||e.op==="replace"||e.op==="test")&&J4(e.value))throw new An("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",t,e,n);if(n){if(e.op=="add"){var i=e.path.split("/").length,o=r.split("/").length;if(i!==o+1&&i!==o)throw new An("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",t,e,n)}else if(e.op==="replace"||e.op==="remove"||e.op==="_get"){if(e.path!==r)throw new An("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",t,e,n)}else if(e.op==="move"||e.op==="copy"){var s={op:"_get",path:e.from,value:void 0},a=bK([s],n);if(a&&a.name==="OPERATION_PATH_UNRESOLVABLE")throw new An("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",t,e,n)}}}else throw new An("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",t,e,n)}function bK(e,t,n){try{if(!Array.isArray(e))throw new An("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(t)Lk(ko(t),ko(e),n||!0);else{n=n||ZS;for(var r=0;r<e.length;r++)n(e[r],r,t,void 0)}}catch(i){if(i instanceof An)return i;throw i}}function Sv(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){var n=Array.isArray(e),r=Array.isArray(t),i,o,s;if(n&&r){if(o=e.length,o!=t.length)return!1;for(i=o;i--!==0;)if(!Sv(e[i],t[i]))return!1;return!0}if(n!=r)return!1;var a=Object.keys(e);if(o=a.length,o!==Object.keys(t).length)return!1;for(i=o;i--!==0;)if(!t.hasOwnProperty(a[i]))return!1;for(i=o;i--!==0;)if(s=a[i],!Sv(e[s],t[s]))return!1;return!0}return e!==e&&t!==t}const T1e=Object.freeze(Object.defineProperty({__proto__:null,JsonPatchError:An,_areEquals:Sv,applyOperation:Qd,applyPatch:Lk,applyReducer:A1e,deepClone:_1e,getValueByPointer:JS,validate:bK,validator:ZS},Symbol.toStringTag,{value:"Module"}));/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2021 Joachim Wester
 * MIT license
 */var E6=new WeakMap,R1e=function(){function e(t){this.observers=new Map,this.obj=t}return e}(),F1e=function(){function e(t,n){this.callback=t,this.observer=n}return e}();function O1e(e){return E6.get(e)}function P1e(e,t){return e.observers.get(t)}function D1e(e,t){e.observers.delete(t.callback)}function M1e(e,t){t.unobserve()}function N1e(e,t){var n=[],r,i=O1e(e);if(!i)i=new R1e(e),E6.set(e,i);else{var o=P1e(i,t);r=o&&o.observer}if(r)return r;if(r={},i.value=ko(e),t){r.callback=t,r.next=null;var s=function(){Z4(r)},a=function(){clearTimeout(r.next),r.next=setTimeout(s)};typeof window<"u"&&(window.addEventListener("mouseup",a),window.addEventListener("keyup",a),window.addEventListener("mousedown",a),window.addEventListener("keydown",a),window.addEventListener("change",a))}return r.patches=n,r.object=e,r.unobserve=function(){Z4(r),clearTimeout(r.next),D1e(i,r),typeof window<"u"&&(window.removeEventListener("mouseup",a),window.removeEventListener("keyup",a),window.removeEventListener("mousedown",a),window.removeEventListener("keydown",a),window.removeEventListener("change",a))},i.observers.set(t,new F1e(t,r)),r}function Z4(e,t){t===void 0&&(t=!1);var n=E6.get(e.object);k6(n.value,e.object,e.patches,"",t),e.patches.length&&Lk(n.value,e.patches);var r=e.patches;return r.length>0&&(e.patches=[],e.callback&&e.callback(r)),r}function k6(e,t,n,r,i){if(t!==e){typeof t.toJSON=="function"&&(t=t.toJSON());for(var o=K4(t),s=K4(e),a=!1,l=s.length-1;l>=0;l--){var u=s[l],c=e[u];if(Y4(t,u)&&!(t[u]===void 0&&c!==void 0&&Array.isArray(t)===!1)){var f=t[u];typeof c=="object"&&c!=null&&typeof f=="object"&&f!=null&&Array.isArray(c)===Array.isArray(f)?k6(c,f,n,r+"/"+md(u),i):c!==f&&(i&&n.push({op:"test",path:r+"/"+md(u),value:ko(c)}),n.push({op:"replace",path:r+"/"+md(u),value:ko(f)}))}else Array.isArray(e)===Array.isArray(t)?(i&&n.push({op:"test",path:r+"/"+md(u),value:ko(c)}),n.push({op:"remove",path:r+"/"+md(u)}),a=!0):(i&&n.push({op:"test",path:r,value:e}),n.push({op:"replace",path:r,value:t}))}if(!(!a&&o.length==s.length))for(var l=0;l<o.length;l++){var u=o[l];!Y4(e,u)&&t[u]!==void 0&&n.push({op:"add",path:r+"/"+md(u),value:ko(t[u])})}}}function L1e(e,t,n){n===void 0&&(n=!1);var r=[];return k6(e,t,r,"",n),r}const I1e=Object.freeze(Object.defineProperty({__proto__:null,compare:L1e,generate:Z4,observe:N1e,unobserve:M1e},Symbol.toStringTag,{value:"Module"}));Object.assign({},T1e,I1e,{JsonPatchError:vK,deepClone:ko,escapePathComponent:md,unescapePathComponent:yK});var z1e=/("(?:[^\\"]|\\.)*")|[:,]/g,B1e=function(t,n){var r,i,o;return n=n||{},r=JSON.stringify([1],void 0,n.indent===void 0?2:n.indent).slice(2,-3),i=r===""?1/0:n.maxLength===void 0?80:n.maxLength,o=n.replacer,function s(a,l,u){var c,f,d,h,p,g,m,y,v,b,x,w;if(a&&typeof a.toJSON=="function"&&(a=a.toJSON()),x=JSON.stringify(a,o),x===void 0)return x;if(m=i-l.length-u,x.length<=m&&(v=x.replace(z1e,function(E,S){return S||E+" "}),v.length<=m))return v;if(o!=null&&(a=JSON.parse(x),o=void 0),typeof a=="object"&&a!==null){if(y=l+r,d=[],f=0,Array.isArray(a))for(b="[",c="]",m=a.length;f<m;f++)d.push(s(a[f],y,f===m-1?0:1)||"null");else for(b="{",c="}",g=Object.keys(a),m=g.length;f<m;f++)h=g[f],p=JSON.stringify(h)+": ",w=s(a[h],y,p.length+(f===m-1?0:1)),w!==void 0&&d.push(p+w);if(d.length>0)return[b,r+d.join(`,
`+y),c].join(`
`+l)}return x}(t,"",0)};const Q5=qh(B1e);function go(e,t,n){return e.fields=t||[],e.fname=n,e}function On(e){return e==null?null:e.fname}function ri(e){return e==null?null:e.fields}function xK(e){return e.length===1?j1e(e[0]):U1e(e)}const j1e=e=>function(t){return t[e]},U1e=e=>{const t=e.length;return function(n){for(let r=0;r<t;++r)n=n[e[r]];return n}};function ee(e){throw Error(e)}function _l(e){const t=[],n=e.length;let r=null,i=0,o="",s,a,l;e=e+"";function u(){t.push(o+e.substring(s,a)),o="",s=a+1}for(s=a=0;a<n;++a)if(l=e[a],l==="\\")o+=e.substring(s,a++),s=a;else if(l===r)u(),r=null,i=-1;else{if(r)continue;s===i&&l==='"'||s===i&&l==="'"?(s=a+1,r=l):l==="."&&!i?a>s?u():s=a+1:l==="["?(a>s&&u(),i=s=a+1):l==="]"&&(i||ee("Access path missing open bracket: "+e),i>0&&u(),i=0,s=a+1)}return i&&ee("Access path missing closing bracket: "+e),r&&ee("Access path missing closing quote: "+e),a>s&&(a++,u()),t}function xs(e,t,n){const r=_l(e);return e=r.length===1?r[0]:e,go((n&&n.get||xK)(r),[e],t||e)}const Lb=xs("id"),ai=go(e=>e,[],"identity"),kc=go(()=>0,[],"zero"),x0=go(()=>1,[],"one"),ws=go(()=>!0,[],"true"),fc=go(()=>!1,[],"false");function V1e(e,t,n){const r=[t].concat([].slice.call(n));console[e].apply(console,r)}const wK=0,Ik=1,_6=2,SK=3,CK=4;function $6(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:V1e,r=e||wK;return{level(i){return arguments.length?(r=+i,this):r},error(){return r>=Ik&&n(t||"error","ERROR",arguments),this},warn(){return r>=_6&&n(t||"warn","WARN",arguments),this},info(){return r>=SK&&n(t||"log","INFO",arguments),this},debug(){return r>=CK&&n(t||"log","DEBUG",arguments),this}}}var te=Array.isArray;function ve(e){return e===Object(e)}const lz=e=>e!=="__proto__";function w0(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((r,i)=>{for(const o in i)if(o==="signals")r.signals=W1e(r.signals,i.signals);else{const s=o==="legend"?{layout:1}:o==="style"?!0:null;S0(r,o,i[o],s)}return r},{})}function S0(e,t,n,r){if(!lz(t))return;let i,o;if(ve(n)&&!te(n)){o=ve(e[t])?e[t]:e[t]={};for(i in n)r&&(r===!0||r[i])?S0(o,i,n[i]):lz(i)&&(o[i]=n[i])}else e[t]=n}function W1e(e,t){if(e==null)return t;const n={},r=[];function i(o){n[o.name]||(n[o.name]=1,r.push(o))}return t.forEach(i),e.forEach(i),r}function gt(e){return e[e.length-1]}function ti(e){return e==null||e===""?null:+e}const EK=e=>t=>e*Math.exp(t),kK=e=>t=>Math.log(e*t),_K=e=>t=>Math.sign(t)*Math.log1p(Math.abs(t/e)),$K=e=>t=>Math.sign(t)*Math.expm1(Math.abs(t))*e,eC=e=>t=>t<0?-Math.pow(-t,e):Math.pow(t,e);function zk(e,t,n,r){const i=n(e[0]),o=n(gt(e)),s=(o-i)*t;return[r(i-s),r(o-s)]}function AK(e,t){return zk(e,t,ti,ai)}function TK(e,t){var n=Math.sign(e[0]);return zk(e,t,kK(n),EK(n))}function RK(e,t,n){return zk(e,t,eC(n),eC(1/n))}function FK(e,t,n){return zk(e,t,_K(n),$K(n))}function Bk(e,t,n,r,i){const o=r(e[0]),s=r(gt(e)),a=t!=null?r(t):(o+s)/2;return[i(a+(o-a)*n),i(a+(s-a)*n)]}function A6(e,t,n){return Bk(e,t,n,ti,ai)}function T6(e,t,n){const r=Math.sign(e[0]);return Bk(e,t,n,kK(r),EK(r))}function tC(e,t,n,r){return Bk(e,t,n,eC(r),eC(1/r))}function R6(e,t,n,r){return Bk(e,t,n,_K(r),$K(r))}function OK(e){return 1+~~(new Date(e).getMonth()/3)}function PK(e){return 1+~~(new Date(e).getUTCMonth()/3)}function xe(e){return e!=null?te(e)?e:[e]:[]}function DK(e,t,n){let r=e[0],i=e[1],o;return i<r&&(o=i,i=r,r=o),o=i-r,o>=n-t?[t,n]:[r=Math.min(Math.max(r,t),n-o),r+o]}function et(e){return typeof e=="function"}const H1e="descending";function F6(e,t,n){n=n||{},t=xe(t)||[];const r=[],i=[],o={},s=n.comparator||q1e;return xe(e).forEach((a,l)=>{a!=null&&(r.push(t[l]===H1e?-1:1),i.push(a=et(a)?a:xs(a,null,n)),(ri(a)||[]).forEach(u=>o[u]=1))}),i.length===0?null:go(s(i,r),Object.keys(o))}const jk=(e,t)=>(e<t||e==null)&&t!=null?-1:(e>t||t==null)&&e!=null?1:(t=t instanceof Date?+t:t,(e=e instanceof Date?+e:e)!==e&&t===t?-1:t!==t&&e===e?1:0),q1e=(e,t)=>e.length===1?G1e(e[0],t[0]):X1e(e,t,e.length),G1e=(e,t)=>function(n,r){return jk(e(n),e(r))*t},X1e=(e,t,n)=>(t.push(0),function(r,i){let o,s=0,a=-1;for(;s===0&&++a<n;)o=e[a],s=jk(o(r),o(i));return s*t[a]});function li(e){return et(e)?e:()=>e}function O6(e,t){let n;return r=>{n&&clearTimeout(n),n=setTimeout(()=>(t(r),n=null),e)}}function Ze(e){for(let t,n,r=1,i=arguments.length;r<i;++r){t=arguments[r];for(n in t)e[n]=t[n]}return e}function vl(e,t){let n=0,r,i,o,s;if(e&&(r=e.length))if(t==null){for(i=e[n];n<r&&(i==null||i!==i);i=e[++n]);for(o=s=i;n<r;++n)i=e[n],i!=null&&(i<o&&(o=i),i>s&&(s=i))}else{for(i=t(e[n]);n<r&&(i==null||i!==i);i=t(e[++n]));for(o=s=i;n<r;++n)i=t(e[n]),i!=null&&(i<o&&(o=i),i>s&&(s=i))}return[o,s]}function MK(e,t){const n=e.length;let r=-1,i,o,s,a,l;if(t==null){for(;++r<n;)if(o=e[r],o!=null&&o>=o){i=s=o;break}if(r===n)return[-1,-1];for(a=l=r;++r<n;)o=e[r],o!=null&&(i>o&&(i=o,a=r),s<o&&(s=o,l=r))}else{for(;++r<n;)if(o=t(e[r],r,e),o!=null&&o>=o){i=s=o;break}if(r===n)return[-1,-1];for(a=l=r;++r<n;)o=t(e[r],r,e),o!=null&&(i>o&&(i=o,a=r),s<o&&(s=o,l=r))}return[a,l]}const Y1e=Object.prototype.hasOwnProperty;function Se(e,t){return Y1e.call(e,t)}const x2={};function C0(e){let t={},n;function r(o){return Se(t,o)&&t[o]!==x2}const i={size:0,empty:0,object:t,has:r,get(o){return r(o)?t[o]:void 0},set(o,s){return r(o)||(++i.size,t[o]===x2&&--i.empty),t[o]=s,this},delete(o){return r(o)&&(--i.size,++i.empty,t[o]=x2),this},clear(){i.size=i.empty=0,i.object=t={}},test(o){return arguments.length?(n=o,i):n},clean(){const o={};let s=0;for(const a in t){const l=t[a];l!==x2&&(!n||!n(l))&&(o[a]=l,++s)}i.size=s,i.empty=0,i.object=t=o}};return e&&Object.keys(e).forEach(o=>{i.set(o,e[o])}),i}function NK(e,t,n,r,i,o){if(!n&&n!==0)return o;const s=+n;let a=e[0],l=gt(e),u;l<a&&(u=a,a=l,l=u),u=Math.abs(t-a);const c=Math.abs(l-t);return u<c&&u<=s?r:c<=s?i:o}function he(e,t,n){const r=e.prototype=Object.create(t.prototype);return Object.defineProperty(r,"constructor",{value:e,writable:!0,enumerable:!0,configurable:!0}),Ze(r,n)}function ng(e,t,n,r){let i=t[0],o=t[t.length-1],s;return i>o&&(s=i,i=o,o=s),n=n===void 0||n,r=r===void 0||r,(n?i<=e:i<e)&&(r?e<=o:e<o)}function Ff(e){return typeof e=="boolean"}function Gc(e){return Object.prototype.toString.call(e)==="[object Date]"}function LK(e){return e&&et(e[Symbol.iterator])}function St(e){return typeof e=="number"}function IK(e){return Object.prototype.toString.call(e)==="[object RegExp]"}function we(e){return typeof e=="string"}function P6(e,t,n){e&&(e=t?xe(e).map(a=>a.replace(/\\(.)/g,"$1")):xe(e));const r=e&&e.length,i=n&&n.get||xK,o=a=>i(t?[a]:_l(a));let s;if(!r)s=function(){return""};else if(r===1){const a=o(e[0]);s=function(l){return""+a(l)}}else{const a=e.map(o);s=function(l){let u=""+a[0](l),c=0;for(;++c<r;)u+="|"+a[c](l);return u}}return go(s,e,"key")}function zK(e,t){const n=e[0],r=gt(e),i=+t;return i?i===1?r:n+i*(r-n):n}const K1e=1e4;function BK(e){e=+e||K1e;let t,n,r;const i=()=>{t={},n={},r=0},o=(s,a)=>(++r>e&&(n=t,t={},r=1),t[s]=a);return i(),{clear:i,has:s=>Se(t,s)||Se(n,s),get:s=>Se(t,s)?t[s]:Se(n,s)?o(s,n[s]):void 0,set:(s,a)=>Se(t,s)?t[s]=a:o(s,a)}}function jK(e,t,n,r){const i=t.length,o=n.length;if(!o)return t;if(!i)return n;const s=r||new t.constructor(i+o);let a=0,l=0,u=0;for(;a<i&&l<o;++u)s[u]=e(t[a],n[l])>0?n[l++]:t[a++];for(;a<i;++a,++u)s[u]=t[a];for(;l<o;++l,++u)s[u]=n[l];return s}function t1(e,t){let n="";for(;--t>=0;)n+=e;return n}function UK(e,t,n,r){const i=n||" ",o=e+"",s=t-o.length;return s<=0?o:r==="left"?t1(i,s)+o:r==="center"?t1(i,~~(s/2))+o+t1(i,Math.ceil(s/2)):o+t1(i,s)}function Ib(e){return e&&gt(e)-e[0]||0}function de(e){return te(e)?"["+e.map(de)+"]":ve(e)||we(e)?JSON.stringify(e).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):e}function D6(e){return e==null||e===""?null:!e||e==="false"||e==="0"?!1:!!e}const Q1e=e=>St(e)||Gc(e)?e:Date.parse(e);function M6(e,t){return t=t||Q1e,e==null||e===""?null:t(e)}function N6(e){return e==null||e===""?null:e+""}function da(e){const t={},n=e.length;for(let r=0;r<n;++r)t[e[r]]=!0;return t}function VK(e,t,n,r){const i=r??"",o=e+"",s=o.length,a=Math.max(0,t-i.length);return s<=t?o:n==="left"?i+o.slice(s-a):n==="center"?o.slice(0,Math.ceil(a/2))+i+o.slice(s-~~(a/2)):o.slice(0,a)+i}function mc(e,t,n){if(e)if(t){const r=e.length;for(let i=0;i<r;++i){const o=t(e[i]);o&&n(o,i,e)}}else e.forEach(n)}function J1e(e){return e}function Z1e(e){if(e==null)return J1e;var t,n,r=e.scale[0],i=e.scale[1],o=e.translate[0],s=e.translate[1];return function(a,l){l||(t=n=0);var u=2,c=a.length,f=new Array(c);for(f[0]=(t+=a[0])*r+o,f[1]=(n+=a[1])*i+s;u<c;)f[u]=a[u],++u;return f}}function eve(e,t){for(var n,r=e.length,i=r-t;i<--r;)n=e[i],e[i++]=e[r],e[r]=n}function tve(e,t){return typeof t=="string"&&(t=e.objects[t]),t.type==="GeometryCollection"?{type:"FeatureCollection",features:t.geometries.map(function(n){return uz(e,n)})}:uz(e,t)}function uz(e,t){var n=t.id,r=t.bbox,i=t.properties==null?{}:t.properties,o=WK(e,t);return n==null&&r==null?{type:"Feature",properties:i,geometry:o}:r==null?{type:"Feature",id:n,properties:i,geometry:o}:{type:"Feature",id:n,bbox:r,properties:i,geometry:o}}function WK(e,t){var n=Z1e(e.transform),r=e.arcs;function i(c,f){f.length&&f.pop();for(var d=r[c<0?~c:c],h=0,p=d.length;h<p;++h)f.push(n(d[h],h));c<0&&eve(f,p)}function o(c){return n(c)}function s(c){for(var f=[],d=0,h=c.length;d<h;++d)i(c[d],f);return f.length<2&&f.push(f[0]),f}function a(c){for(var f=s(c);f.length<4;)f.push(f[0]);return f}function l(c){return c.map(a)}function u(c){var f=c.type,d;switch(f){case"GeometryCollection":return{type:f,geometries:c.geometries.map(u)};case"Point":d=o(c.coordinates);break;case"MultiPoint":d=c.coordinates.map(o);break;case"LineString":d=s(c.arcs);break;case"MultiLineString":d=c.arcs.map(s);break;case"Polygon":d=l(c.arcs);break;case"MultiPolygon":d=c.arcs.map(l);break;default:return null}return{type:f,coordinates:d}}return u(t)}function nve(e,t){var n={},r={},i={},o=[],s=-1;t.forEach(function(u,c){var f=e.arcs[u<0?~u:u],d;f.length<3&&!f[1][0]&&!f[1][1]&&(d=t[++s],t[s]=u,t[c]=d)}),t.forEach(function(u){var c=a(u),f=c[0],d=c[1],h,p;if(h=i[f])if(delete i[h.end],h.push(u),h.end=d,p=r[d]){delete r[p.start];var g=p===h?h:h.concat(p);r[g.start=h.start]=i[g.end=p.end]=g}else r[h.start]=i[h.end]=h;else if(h=r[d])if(delete r[h.start],h.unshift(u),h.start=f,p=i[f]){delete i[p.end];var m=p===h?h:p.concat(h);r[m.start=p.start]=i[m.end=h.end]=m}else r[h.start]=i[h.end]=h;else h=[u],r[h.start=f]=i[h.end=d]=h});function a(u){var c=e.arcs[u<0?~u:u],f=c[0],d;return e.transform?(d=[0,0],c.forEach(function(h){d[0]+=h[0],d[1]+=h[1]})):d=c[c.length-1],u<0?[d,f]:[f,d]}function l(u,c){for(var f in u){var d=u[f];delete c[d.start],delete d.start,delete d.end,d.forEach(function(h){n[h<0?~h:h]=1}),o.push(d)}}return l(i,r),l(r,i),t.forEach(function(u){n[u<0?~u:u]||o.push([u])}),o}function rve(e){return WK(e,ive.apply(this,arguments))}function ive(e,t,n){var r,i,o;if(arguments.length>1)r=ove(e,t,n);else for(i=0,r=new Array(o=e.arcs.length);i<o;++i)r[i]=i;return{type:"MultiLineString",arcs:nve(e,r)}}function ove(e,t,n){var r=[],i=[],o;function s(f){var d=f<0?~f:f;(i[d]||(i[d]=[])).push({i:f,g:o})}function a(f){f.forEach(s)}function l(f){f.forEach(a)}function u(f){f.forEach(l)}function c(f){switch(o=f,f.type){case"GeometryCollection":f.geometries.forEach(c);break;case"LineString":a(f.arcs);break;case"MultiLineString":case"Polygon":l(f.arcs);break;case"MultiPolygon":u(f.arcs);break}}return c(t),i.forEach(n==null?function(f){r.push(f[0].i)}:function(f){n(f[0].g,f[f.length-1].g)&&r.push(f[0].i)}),r}function hu(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function sve(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function E0(e){let t,n,r;e.length!==2?(t=hu,n=(a,l)=>hu(e(a),l),r=(a,l)=>e(a)-l):(t=e===hu||e===sve?e:ave,n=e,r=e);function i(a,l,u=0,c=a.length){if(u<c){if(t(l,l)!==0)return c;do{const f=u+c>>>1;n(a[f],l)<0?u=f+1:c=f}while(u<c)}return u}function o(a,l,u=0,c=a.length){if(u<c){if(t(l,l)!==0)return c;do{const f=u+c>>>1;n(a[f],l)<=0?u=f+1:c=f}while(u<c)}return u}function s(a,l,u=0,c=a.length){const f=i(a,l,u,c-1);return f>u&&r(a[f-1],l)>-r(a[f],l)?f-1:f}return{left:i,center:s,right:o}}function ave(){return 0}function HK(e){return e===null?NaN:+e}function*lve(e,t){if(t===void 0)for(let n of e)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)(r=t(r,++n,e))!=null&&(r=+r)>=r&&(yield r)}}const qK=E0(hu),uf=qK.right,uve=qK.left;E0(HK).center;function cve(e,t){let n=0,r,i=0,o=0;if(t===void 0)for(let s of e)s!=null&&(s=+s)>=s&&(r=s-i,i+=r/++n,o+=r*(s-i));else{let s=-1;for(let a of e)(a=t(a,++s,e))!=null&&(a=+a)>=a&&(r=a-i,i+=r/++n,o+=r*(a-i))}if(n>1)return o/(n-1)}function fve(e,t){const n=cve(e,t);return n&&Math.sqrt(n)}class Ti{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const n=this._partials;let r=0;for(let i=0;i<this._n&&i<32;i++){const o=n[i],s=t+o,a=Math.abs(t)<Math.abs(o)?t-(s-o):o-(s-t);a&&(n[r++]=a),t=s}return n[r]=t,this._n=r+1,this}valueOf(){const t=this._partials;let n=this._n,r,i,o,s=0;if(n>0){for(s=t[--n];n>0&&(r=s,i=t[--n],s=r+i,o=i-(s-r),!o););n>0&&(o<0&&t[n-1]<0||o>0&&t[n-1]>0)&&(i=o*2,r=s+i,i==r-s&&(s=r))}return s}}class cz extends Map{constructor(t,n=YK){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(eR(this,t))}has(t){return super.has(eR(this,t))}set(t,n){return super.set(GK(this,t),n)}delete(t){return super.delete(XK(this,t))}}class nC extends Set{constructor(t,n=YK){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const r of t)this.add(r)}has(t){return super.has(eR(this,t))}add(t){return super.add(GK(this,t))}delete(t){return super.delete(XK(this,t))}}function eR({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function GK({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function XK({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function YK(e){return e!==null&&typeof e=="object"?e.valueOf():e}function dve(e,t){return Array.from(t,n=>e[n])}function hve(e=hu){if(e===hu)return KK;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function KK(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const pve=Math.sqrt(50),gve=Math.sqrt(10),mve=Math.sqrt(2);function rC(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),s=o>=pve?10:o>=gve?5:o>=mve?2:1;let a,l,u;return i<0?(u=Math.pow(10,-i)/s,a=Math.round(e*u),l=Math.round(t*u),a/u<e&&++a,l/u>t&&--l,u=-u):(u=Math.pow(10,i)*s,a=Math.round(e/u),l=Math.round(t/u),a*u<e&&++a,l*u>t&&--l),l<a&&.5<=n&&n<2?rC(e,t,n*2):[a,l,u]}function tR(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,o,s]=r?rC(t,e,n):rC(e,t,n);if(!(o>=i))return[];const a=o-i+1,l=new Array(a);if(r)if(s<0)for(let u=0;u<a;++u)l[u]=(o-u)/-s;else for(let u=0;u<a;++u)l[u]=(o-u)*s;else if(s<0)for(let u=0;u<a;++u)l[u]=(i+u)/-s;else for(let u=0;u<a;++u)l[u]=(i+u)*s;return l}function nR(e,t,n){return t=+t,e=+e,n=+n,rC(e,t,n)[2]}function cf(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?nR(t,e,n):nR(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function Jd(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function rR(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function QK(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?KK:hve(i);r>n;){if(r-n>600){const l=r-n+1,u=t-n+1,c=Math.log(l),f=.5*Math.exp(2*c/3),d=.5*Math.sqrt(c*f*(l-f)/l)*(u-l/2<0?-1:1),h=Math.max(n,Math.floor(t-u*f/l+d)),p=Math.min(r,Math.floor(t+(l-u)*f/l+d));QK(e,t,h,p,i)}const o=e[t];let s=n,a=r;for(dy(e,n,t),i(e[r],o)>0&&dy(e,n,r);s<a;){for(dy(e,s,a),++s,--a;i(e[s],o)<0;)++s;for(;i(e[a],o)>0;)--a}i(e[n],o)===0?dy(e,n,a):(++a,dy(e,a,r)),a<=t&&(n=a+1),t<=a&&(r=a-1)}return e}function dy(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function iR(e,t,n){if(e=Float64Array.from(lve(e,n)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return rR(e);if(t>=1)return Jd(e);var r,i=(r-1)*t,o=Math.floor(i),s=Jd(QK(e,o).subarray(0,o+1)),a=rR(e.subarray(o+1));return s+(a-s)*(i-o)}}function JK(e,t,n=HK){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,o=Math.floor(i),s=+n(e[o],o,e),a=+n(e[o+1],o+1,e);return s+(a-s)*(i-o)}}function yve(e,t){let n=0,r=0;if(t===void 0)for(let i of e)i!=null&&(i=+i)>=i&&(++n,r+=i);else{let i=-1;for(let o of e)(o=t(o,++i,e))!=null&&(o=+o)>=o&&(++n,r+=o)}if(n)return r/n}function ZK(e,t){return iR(e,.5,t)}function*vve(e){for(const t of e)yield*t}function eQ(e){return Array.from(vve(e))}function _o(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,o=new Array(i);++r<i;)o[r]=e+r*n;return o}function tQ(e,t){let n=0;for(let r of e)(r=+r)&&(n+=r);return n}function bve(e,...t){e=new nC(e),t=t.map(xve);e:for(const n of e)for(const r of t)if(!r.has(n)){e.delete(n);continue e}return e}function xve(e){return e instanceof nC?e:new nC(e)}function wve(...e){const t=new nC;for(const n of e)for(const r of n)t.add(r);return t}function Sve(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function iC(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function hm(e){return e=iC(Math.abs(e)),e?e[1]:NaN}function Cve(e,t){return function(n,r){for(var i=n.length,o=[],s=0,a=e[0],l=0;i>0&&a>0&&(l+a+1>r&&(a=Math.max(1,r-l)),o.push(n.substring(i-=a,i+a)),!((l+=a+1)>r));)a=e[s=(s+1)%e.length];return o.reverse().join(t)}}function Eve(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var kve=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function mh(e){if(!(t=kve.exec(e)))throw new Error("invalid format: "+e);var t;return new L6({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}mh.prototype=L6.prototype;function L6(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}L6.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function _ve(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var nQ;function $ve(e,t){var n=iC(e,t);if(!n)return e+"";var r=n[0],i=n[1],o=i-(nQ=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return o===s?r:o>s?r+new Array(o-s+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+iC(e,Math.max(0,t+o-1))[0]}function fz(e,t){var n=iC(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const dz={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Sve,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>fz(e*100,t),r:fz,s:$ve,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function hz(e){return e}var pz=Array.prototype.map,gz=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function rQ(e){var t=e.grouping===void 0||e.thousands===void 0?hz:Cve(pz.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?hz:Eve(pz.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",a=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function u(f){f=mh(f);var d=f.fill,h=f.align,p=f.sign,g=f.symbol,m=f.zero,y=f.width,v=f.comma,b=f.precision,x=f.trim,w=f.type;w==="n"?(v=!0,w="g"):dz[w]||(b===void 0&&(b=12),x=!0,w="g"),(m||d==="0"&&h==="=")&&(m=!0,d="0",h="=");var E=g==="$"?n:g==="#"&&/[boxX]/.test(w)?"0"+w.toLowerCase():"",S=g==="$"?r:/[%p]/.test(w)?s:"",k=dz[w],$=/[defgprs%]/.test(w);b=b===void 0?6:/[gprs]/.test(w)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function F(P){var j=E,D=S,L,A,O;if(w==="c")D=k(P)+D,P="";else{P=+P;var B=P<0||1/P<0;if(P=isNaN(P)?l:k(Math.abs(P),b),x&&(P=_ve(P)),B&&+P==0&&p!=="+"&&(B=!1),j=(B?p==="("?p:a:p==="-"||p==="("?"":p)+j,D=(w==="s"?gz[8+nQ/3]:"")+D+(B&&p==="("?")":""),$){for(L=-1,A=P.length;++L<A;)if(O=P.charCodeAt(L),48>O||O>57){D=(O===46?i+P.slice(L+1):P.slice(L))+D,P=P.slice(0,L);break}}}v&&!m&&(P=t(P,1/0));var z=j.length+P.length+D.length,U=z<y?new Array(y-z+1).join(d):"";switch(v&&m&&(P=t(U+P,U.length?y-D.length:1/0),U=""),h){case"<":P=j+P+D+U;break;case"=":P=j+U+P+D;break;case"^":P=U.slice(0,z=U.length>>1)+j+P+D+U.slice(z);break;default:P=U+j+P+D;break}return o(P)}return F.toString=function(){return f+""},F}function c(f,d){var h=u((f=mh(f),f.type="f",f)),p=Math.max(-8,Math.min(8,Math.floor(hm(d)/3)))*3,g=Math.pow(10,-p),m=gz[8+p/3];return function(y){return h(g*y)+m}}return{format:u,formatPrefix:c}}var w2,zb,I6;Ave({thousands:",",grouping:[3],currency:["$",""]});function Ave(e){return w2=rQ(e),zb=w2.format,I6=w2.formatPrefix,w2}function iQ(e){return Math.max(0,-hm(Math.abs(e)))}function oQ(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(hm(t)/3)))*3-hm(Math.abs(e)))}function sQ(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,hm(t)-hm(e))+1}const J5=new Date,Z5=new Date;function ar(e,t,n,r){function i(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(e(o=new Date(+o)),o),i.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),i.round=o=>{const s=i(o),a=i.ceil(o);return o-s<a-o?s:a},i.offset=(o,s)=>(t(o=new Date(+o),s==null?1:Math.floor(s)),o),i.range=(o,s,a)=>{const l=[];if(o=i.ceil(o),a=a==null?1:Math.floor(a),!(o<s)||!(a>0))return l;let u;do l.push(u=new Date(+o)),t(o,a),e(o);while(u<o&&o<s);return l},i.filter=o=>ar(s=>{if(s>=s)for(;e(s),!o(s);)s.setTime(s-1)},(s,a)=>{if(s>=s)if(a<0)for(;++a<=0;)for(;t(s,-1),!o(s););else for(;--a>=0;)for(;t(s,1),!o(s););}),n&&(i.count=(o,s)=>(J5.setTime(+o),Z5.setTime(+s),e(J5),e(Z5),Math.floor(n(J5,Z5))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?s=>r(s)%o===0:s=>i.count(0,s)%o===0):i)),i}const pm=ar(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);pm.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?ar(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):pm);pm.range;const iu=1e3,cs=iu*60,ou=cs*60,_u=ou*24,z6=_u*7,mz=_u*30,eT=_u*365,na=ar(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*iu)},(e,t)=>(t-e)/iu,e=>e.getUTCSeconds());na.range;const Bb=ar(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*iu)},(e,t)=>{e.setTime(+e+t*cs)},(e,t)=>(t-e)/cs,e=>e.getMinutes());Bb.range;const jb=ar(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*cs)},(e,t)=>(t-e)/cs,e=>e.getUTCMinutes());jb.range;const Ub=ar(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*iu-e.getMinutes()*cs)},(e,t)=>{e.setTime(+e+t*ou)},(e,t)=>(t-e)/ou,e=>e.getHours());Ub.range;const Vb=ar(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*ou)},(e,t)=>(t-e)/ou,e=>e.getUTCHours());Vb.range;const al=ar(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*cs)/_u,e=>e.getDate()-1);al.range;const pu=ar(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/_u,e=>e.getUTCDate()-1);pu.range;const aQ=ar(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/_u,e=>Math.floor(e/_u));aQ.range;function Xh(e){return ar(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*cs)/z6)}const Yh=Xh(0),oC=Xh(1),Tve=Xh(2),Rve=Xh(3),gm=Xh(4),Fve=Xh(5),Ove=Xh(6);Yh.range;oC.range;Tve.range;Rve.range;gm.range;Fve.range;Ove.range;function Kh(e){return ar(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/z6)}const Qh=Kh(0),sC=Kh(1),Pve=Kh(2),Dve=Kh(3),mm=Kh(4),Mve=Kh(5),Nve=Kh(6);Qh.range;sC.range;Pve.range;Dve.range;mm.range;Mve.range;Nve.range;const ym=ar(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());ym.range;const vm=ar(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());vm.range;const ha=ar(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());ha.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ar(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});ha.range;const pa=ar(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());pa.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ar(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});pa.range;function lQ(e,t,n,r,i,o){const s=[[na,1,iu],[na,5,5*iu],[na,15,15*iu],[na,30,30*iu],[o,1,cs],[o,5,5*cs],[o,15,15*cs],[o,30,30*cs],[i,1,ou],[i,3,3*ou],[i,6,6*ou],[i,12,12*ou],[r,1,_u],[r,2,2*_u],[n,1,z6],[t,1,mz],[t,3,3*mz],[e,1,eT]];function a(u,c,f){const d=c<u;d&&([u,c]=[c,u]);const h=f&&typeof f.range=="function"?f:l(u,c,f),p=h?h.range(u,+c+1):[];return d?p.reverse():p}function l(u,c,f){const d=Math.abs(c-u)/f,h=E0(([,,m])=>m).right(s,d);if(h===s.length)return e.every(cf(u/eT,c/eT,f));if(h===0)return pm.every(Math.max(cf(u,c,f),1));const[p,g]=s[d/s[h-1][2]<s[h][2]/d?h-1:h];return p.every(g)}return[a,l]}const[Lve,Ive]=lQ(pa,vm,Qh,aQ,Vb,jb),[zve,Bve]=lQ(ha,ym,Yh,al,Ub,Bb),Dr="year",so="quarter",ii="month",nr="week",ao="date",ei="day",bl="dayofyear",No="hours",Lo="minutes",Ss="seconds",ga="milliseconds",B6=[Dr,so,ii,nr,ao,ei,bl,No,Lo,Ss,ga],tT=B6.reduce((e,t,n)=>(e[t]=1+n,e),{});function j6(e){const t=xe(e).slice(),n={};return t.length||ee("Missing time unit."),t.forEach(i=>{Se(tT,i)?n[i]=1:ee(`Invalid time unit: ${i}.`)}),(n[nr]||n[ei]?1:0)+(n[so]||n[ii]||n[ao]?1:0)+(n[bl]?1:0)>1&&ee(`Incompatible time units: ${e}`),t.sort((i,o)=>tT[i]-tT[o]),t}const jve={[Dr]:"%Y ",[so]:"Q%q ",[ii]:"%b ",[ao]:"%d ",[nr]:"W%U ",[ei]:"%a ",[bl]:"%j ",[No]:"%H:00",[Lo]:"00:%M",[Ss]:":%S",[ga]:".%L",[`${Dr}-${ii}`]:"%Y-%m ",[`${Dr}-${ii}-${ao}`]:"%Y-%m-%d ",[`${No}-${Lo}`]:"%H:%M"};function uQ(e,t){const n=Ze({},jve,t),r=j6(e),i=r.length;let o="",s=0,a,l;for(s=0;s<i;)for(a=r.length;a>s;--a)if(l=r.slice(s,a).join("-"),n[l]!=null){o+=n[l],s=a;break}return o.trim()}const $d=new Date;function U6(e){return $d.setFullYear(e),$d.setMonth(0),$d.setDate(1),$d.setHours(0,0,0,0),$d}function cQ(e){return dQ(new Date(e))}function fQ(e){return oR(new Date(e))}function dQ(e){return al.count(U6(e.getFullYear())-1,e)}function oR(e){return Yh.count(U6(e.getFullYear())-1,e)}function sR(e){return U6(e).getDay()}function Uve(e,t,n,r,i,o,s){if(0<=e&&e<100){const a=new Date(-1,t,n,r,i,o,s);return a.setFullYear(e),a}return new Date(e,t,n,r,i,o,s)}function hQ(e){return gQ(new Date(e))}function pQ(e){return aR(new Date(e))}function gQ(e){const t=Date.UTC(e.getUTCFullYear(),0,1);return pu.count(t-1,e)}function aR(e){const t=Date.UTC(e.getUTCFullYear(),0,1);return Qh.count(t-1,e)}function lR(e){return $d.setTime(Date.UTC(e,0,1)),$d.getUTCDay()}function Vve(e,t,n,r,i,o,s){if(0<=e&&e<100){const a=new Date(Date.UTC(-1,t,n,r,i,o,s));return a.setUTCFullYear(n.y),a}return new Date(Date.UTC(e,t,n,r,i,o,s))}function mQ(e,t,n,r,i){const o=t||1,s=gt(e),a=(y,v,b)=>(b=b||y,Wve(n[b],r[b],y===s&&o,v)),l=new Date,u=da(e),c=u[Dr]?a(Dr):li(2012),f=u[ii]?a(ii):u[so]?a(so):kc,d=u[nr]&&u[ei]?a(ei,1,nr+ei):u[nr]?a(nr,1):u[ei]?a(ei,1):u[ao]?a(ao,1):u[bl]?a(bl,1):x0,h=u[No]?a(No):kc,p=u[Lo]?a(Lo):kc,g=u[Ss]?a(Ss):kc,m=u[ga]?a(ga):kc;return function(y){l.setTime(+y);const v=c(l);return i(v,f(l),d(l,v),h(l),p(l),g(l),m(l))}}function Wve(e,t,n,r){const i=n<=1?e:r?(o,s)=>r+n*Math.floor((e(o,s)-r)/n):(o,s)=>n*Math.floor(e(o,s)/n);return t?(o,s)=>t(i(o,s),s):i}function bm(e,t,n){return t+e*7-(n+6)%7}const Hve={[Dr]:e=>e.getFullYear(),[so]:e=>Math.floor(e.getMonth()/3),[ii]:e=>e.getMonth(),[ao]:e=>e.getDate(),[No]:e=>e.getHours(),[Lo]:e=>e.getMinutes(),[Ss]:e=>e.getSeconds(),[ga]:e=>e.getMilliseconds(),[bl]:e=>dQ(e),[nr]:e=>oR(e),[nr+ei]:(e,t)=>bm(oR(e),e.getDay(),sR(t)),[ei]:(e,t)=>bm(1,e.getDay(),sR(t))},qve={[so]:e=>3*e,[nr]:(e,t)=>bm(e,0,sR(t))};function yQ(e,t){return mQ(e,t||1,Hve,qve,Uve)}const Gve={[Dr]:e=>e.getUTCFullYear(),[so]:e=>Math.floor(e.getUTCMonth()/3),[ii]:e=>e.getUTCMonth(),[ao]:e=>e.getUTCDate(),[No]:e=>e.getUTCHours(),[Lo]:e=>e.getUTCMinutes(),[Ss]:e=>e.getUTCSeconds(),[ga]:e=>e.getUTCMilliseconds(),[bl]:e=>gQ(e),[nr]:e=>aR(e),[ei]:(e,t)=>bm(1,e.getUTCDay(),lR(t)),[nr+ei]:(e,t)=>bm(aR(e),e.getUTCDay(),lR(t))},Xve={[so]:e=>3*e,[nr]:(e,t)=>bm(e,0,lR(t))};function vQ(e,t){return mQ(e,t||1,Gve,Xve,Vve)}const Yve={[Dr]:ha,[so]:ym.every(3),[ii]:ym,[nr]:Yh,[ao]:al,[ei]:al,[bl]:al,[No]:Ub,[Lo]:Bb,[Ss]:na,[ga]:pm},Kve={[Dr]:pa,[so]:vm.every(3),[ii]:vm,[nr]:Qh,[ao]:pu,[ei]:pu,[bl]:pu,[No]:Vb,[Lo]:jb,[Ss]:na,[ga]:pm};function k0(e){return Yve[e]}function _0(e){return Kve[e]}function bQ(e,t,n){return e?e.offset(t,n):void 0}function xQ(e,t,n){return bQ(k0(e),t,n)}function wQ(e,t,n){return bQ(_0(e),t,n)}function SQ(e,t,n,r){return e?e.range(t,n,r):void 0}function CQ(e,t,n,r){return SQ(k0(e),t,n,r)}function EQ(e,t,n,r){return SQ(_0(e),t,n,r)}const n1=1e3,r1=n1*60,i1=r1*60,Uk=i1*24,Qve=Uk*7,yz=Uk*30,uR=Uk*365,kQ=[Dr,ii,ao,No,Lo,Ss,ga],o1=kQ.slice(0,-1),s1=o1.slice(0,-1),a1=s1.slice(0,-1),Jve=a1.slice(0,-1),Zve=[Dr,nr],vz=[Dr,ii],_Q=[Dr],hy=[[o1,1,n1],[o1,5,5*n1],[o1,15,15*n1],[o1,30,30*n1],[s1,1,r1],[s1,5,5*r1],[s1,15,15*r1],[s1,30,30*r1],[a1,1,i1],[a1,3,3*i1],[a1,6,6*i1],[a1,12,12*i1],[Jve,1,Uk],[Zve,1,Qve],[vz,1,yz],[vz,3,3*yz],[_Q,1,uR]];function $Q(e){const t=e.extent,n=e.maxbins||40,r=Math.abs(Ib(t))/n;let i=E0(a=>a[2]).right(hy,r),o,s;return i===hy.length?(o=_Q,s=cf(t[0]/uR,t[1]/uR,n)):i?(i=hy[r/hy[i-1][2]<hy[i][2]/r?i-1:i],o=i[0],s=i[1]):(o=kQ,s=Math.max(cf(t[0],t[1],n),1)),{units:o,step:s}}function nT(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function rT(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function py(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function AQ(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,o=e.days,s=e.shortDays,a=e.months,l=e.shortMonths,u=gy(i),c=my(i),f=gy(o),d=my(o),h=gy(s),p=my(s),g=gy(a),m=my(a),y=gy(l),v=my(l),b={a:B,A:z,b:U,B:X,c:null,d:Ez,e:Ez,f:Sbe,g:Obe,G:Dbe,H:bbe,I:xbe,j:wbe,L:TQ,m:Cbe,M:Ebe,p:K,q:pe,Q:$z,s:Az,S:kbe,u:_be,U:$be,V:Abe,w:Tbe,W:Rbe,x:null,X:null,y:Fbe,Y:Pbe,Z:Mbe,"%":_z},x={a:oe,A:_e,b:Je,B:xt,c:null,d:kz,e:kz,f:zbe,g:Ybe,G:Qbe,H:Nbe,I:Lbe,j:Ibe,L:FQ,m:Bbe,M:jbe,p:Dn,q:cr,Q:$z,s:Az,S:Ube,u:Vbe,U:Wbe,V:Hbe,w:qbe,W:Gbe,x:null,X:null,y:Xbe,Y:Kbe,Z:Jbe,"%":_z},w={a:F,A:P,b:j,B:D,c:L,d:Sz,e:Sz,f:gbe,g:wz,G:xz,H:Cz,I:Cz,j:fbe,L:pbe,m:cbe,M:dbe,p:$,q:ube,Q:ybe,s:vbe,S:hbe,u:ibe,U:obe,V:sbe,w:rbe,W:abe,x:A,X:O,y:wz,Y:xz,Z:lbe,"%":mbe};b.x=E(n,b),b.X=E(r,b),b.c=E(t,b),x.x=E(n,x),x.X=E(r,x),x.c=E(t,x);function E(be,Ne){return function(Ue){var ae=[],Mn=-1,vt=0,Yn=be.length,cn,Br,Yu;for(Ue instanceof Date||(Ue=new Date(+Ue));++Mn<Yn;)be.charCodeAt(Mn)===37&&(ae.push(be.slice(vt,Mn)),(Br=bz[cn=be.charAt(++Mn)])!=null?cn=be.charAt(++Mn):Br=cn==="e"?" ":"0",(Yu=Ne[cn])&&(cn=Yu(Ue,Br)),ae.push(cn),vt=Mn+1);return ae.push(be.slice(vt,Mn)),ae.join("")}}function S(be,Ne){return function(Ue){var ae=py(1900,void 0,1),Mn=k(ae,be,Ue+="",0),vt,Yn;if(Mn!=Ue.length)return null;if("Q"in ae)return new Date(ae.Q);if("s"in ae)return new Date(ae.s*1e3+("L"in ae?ae.L:0));if(Ne&&!("Z"in ae)&&(ae.Z=0),"p"in ae&&(ae.H=ae.H%12+ae.p*12),ae.m===void 0&&(ae.m="q"in ae?ae.q:0),"V"in ae){if(ae.V<1||ae.V>53)return null;"w"in ae||(ae.w=1),"Z"in ae?(vt=rT(py(ae.y,0,1)),Yn=vt.getUTCDay(),vt=Yn>4||Yn===0?sC.ceil(vt):sC(vt),vt=pu.offset(vt,(ae.V-1)*7),ae.y=vt.getUTCFullYear(),ae.m=vt.getUTCMonth(),ae.d=vt.getUTCDate()+(ae.w+6)%7):(vt=nT(py(ae.y,0,1)),Yn=vt.getDay(),vt=Yn>4||Yn===0?oC.ceil(vt):oC(vt),vt=al.offset(vt,(ae.V-1)*7),ae.y=vt.getFullYear(),ae.m=vt.getMonth(),ae.d=vt.getDate()+(ae.w+6)%7)}else("W"in ae||"U"in ae)&&("w"in ae||(ae.w="u"in ae?ae.u%7:"W"in ae?1:0),Yn="Z"in ae?rT(py(ae.y,0,1)).getUTCDay():nT(py(ae.y,0,1)).getDay(),ae.m=0,ae.d="W"in ae?(ae.w+6)%7+ae.W*7-(Yn+5)%7:ae.w+ae.U*7-(Yn+6)%7);return"Z"in ae?(ae.H+=ae.Z/100|0,ae.M+=ae.Z%100,rT(ae)):nT(ae)}}function k(be,Ne,Ue,ae){for(var Mn=0,vt=Ne.length,Yn=Ue.length,cn,Br;Mn<vt;){if(ae>=Yn)return-1;if(cn=Ne.charCodeAt(Mn++),cn===37){if(cn=Ne.charAt(Mn++),Br=w[cn in bz?Ne.charAt(Mn++):cn],!Br||(ae=Br(be,Ue,ae))<0)return-1}else if(cn!=Ue.charCodeAt(ae++))return-1}return ae}function $(be,Ne,Ue){var ae=u.exec(Ne.slice(Ue));return ae?(be.p=c.get(ae[0].toLowerCase()),Ue+ae[0].length):-1}function F(be,Ne,Ue){var ae=h.exec(Ne.slice(Ue));return ae?(be.w=p.get(ae[0].toLowerCase()),Ue+ae[0].length):-1}function P(be,Ne,Ue){var ae=f.exec(Ne.slice(Ue));return ae?(be.w=d.get(ae[0].toLowerCase()),Ue+ae[0].length):-1}function j(be,Ne,Ue){var ae=y.exec(Ne.slice(Ue));return ae?(be.m=v.get(ae[0].toLowerCase()),Ue+ae[0].length):-1}function D(be,Ne,Ue){var ae=g.exec(Ne.slice(Ue));return ae?(be.m=m.get(ae[0].toLowerCase()),Ue+ae[0].length):-1}function L(be,Ne,Ue){return k(be,t,Ne,Ue)}function A(be,Ne,Ue){return k(be,n,Ne,Ue)}function O(be,Ne,Ue){return k(be,r,Ne,Ue)}function B(be){return s[be.getDay()]}function z(be){return o[be.getDay()]}function U(be){return l[be.getMonth()]}function X(be){return a[be.getMonth()]}function K(be){return i[+(be.getHours()>=12)]}function pe(be){return 1+~~(be.getMonth()/3)}function oe(be){return s[be.getUTCDay()]}function _e(be){return o[be.getUTCDay()]}function Je(be){return l[be.getUTCMonth()]}function xt(be){return a[be.getUTCMonth()]}function Dn(be){return i[+(be.getUTCHours()>=12)]}function cr(be){return 1+~~(be.getUTCMonth()/3)}return{format:function(be){var Ne=E(be+="",b);return Ne.toString=function(){return be},Ne},parse:function(be){var Ne=S(be+="",!1);return Ne.toString=function(){return be},Ne},utcFormat:function(be){var Ne=E(be+="",x);return Ne.toString=function(){return be},Ne},utcParse:function(be){var Ne=S(be+="",!0);return Ne.toString=function(){return be},Ne}}}var bz={"-":"",_:" ",0:"0"},xr=/^\s*\d+/,ebe=/^%/,tbe=/[\\^$*+?|[\]().{}]/g;function Ct(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(t)+i:i)}function nbe(e){return e.replace(tbe,"\\$&")}function gy(e){return new RegExp("^(?:"+e.map(nbe).join("|")+")","i")}function my(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function rbe(e,t,n){var r=xr.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function ibe(e,t,n){var r=xr.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function obe(e,t,n){var r=xr.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function sbe(e,t,n){var r=xr.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function abe(e,t,n){var r=xr.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function xz(e,t,n){var r=xr.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function wz(e,t,n){var r=xr.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function lbe(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function ube(e,t,n){var r=xr.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function cbe(e,t,n){var r=xr.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function Sz(e,t,n){var r=xr.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function fbe(e,t,n){var r=xr.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function Cz(e,t,n){var r=xr.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function dbe(e,t,n){var r=xr.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function hbe(e,t,n){var r=xr.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function pbe(e,t,n){var r=xr.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function gbe(e,t,n){var r=xr.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function mbe(e,t,n){var r=ebe.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function ybe(e,t,n){var r=xr.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function vbe(e,t,n){var r=xr.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function Ez(e,t){return Ct(e.getDate(),t,2)}function bbe(e,t){return Ct(e.getHours(),t,2)}function xbe(e,t){return Ct(e.getHours()%12||12,t,2)}function wbe(e,t){return Ct(1+al.count(ha(e),e),t,3)}function TQ(e,t){return Ct(e.getMilliseconds(),t,3)}function Sbe(e,t){return TQ(e,t)+"000"}function Cbe(e,t){return Ct(e.getMonth()+1,t,2)}function Ebe(e,t){return Ct(e.getMinutes(),t,2)}function kbe(e,t){return Ct(e.getSeconds(),t,2)}function _be(e){var t=e.getDay();return t===0?7:t}function $be(e,t){return Ct(Yh.count(ha(e)-1,e),t,2)}function RQ(e){var t=e.getDay();return t>=4||t===0?gm(e):gm.ceil(e)}function Abe(e,t){return e=RQ(e),Ct(gm.count(ha(e),e)+(ha(e).getDay()===4),t,2)}function Tbe(e){return e.getDay()}function Rbe(e,t){return Ct(oC.count(ha(e)-1,e),t,2)}function Fbe(e,t){return Ct(e.getFullYear()%100,t,2)}function Obe(e,t){return e=RQ(e),Ct(e.getFullYear()%100,t,2)}function Pbe(e,t){return Ct(e.getFullYear()%1e4,t,4)}function Dbe(e,t){var n=e.getDay();return e=n>=4||n===0?gm(e):gm.ceil(e),Ct(e.getFullYear()%1e4,t,4)}function Mbe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Ct(t/60|0,"0",2)+Ct(t%60,"0",2)}function kz(e,t){return Ct(e.getUTCDate(),t,2)}function Nbe(e,t){return Ct(e.getUTCHours(),t,2)}function Lbe(e,t){return Ct(e.getUTCHours()%12||12,t,2)}function Ibe(e,t){return Ct(1+pu.count(pa(e),e),t,3)}function FQ(e,t){return Ct(e.getUTCMilliseconds(),t,3)}function zbe(e,t){return FQ(e,t)+"000"}function Bbe(e,t){return Ct(e.getUTCMonth()+1,t,2)}function jbe(e,t){return Ct(e.getUTCMinutes(),t,2)}function Ube(e,t){return Ct(e.getUTCSeconds(),t,2)}function Vbe(e){var t=e.getUTCDay();return t===0?7:t}function Wbe(e,t){return Ct(Qh.count(pa(e)-1,e),t,2)}function OQ(e){var t=e.getUTCDay();return t>=4||t===0?mm(e):mm.ceil(e)}function Hbe(e,t){return e=OQ(e),Ct(mm.count(pa(e),e)+(pa(e).getUTCDay()===4),t,2)}function qbe(e){return e.getUTCDay()}function Gbe(e,t){return Ct(sC.count(pa(e)-1,e),t,2)}function Xbe(e,t){return Ct(e.getUTCFullYear()%100,t,2)}function Ybe(e,t){return e=OQ(e),Ct(e.getUTCFullYear()%100,t,2)}function Kbe(e,t){return Ct(e.getUTCFullYear()%1e4,t,4)}function Qbe(e,t){var n=e.getUTCDay();return e=n>=4||n===0?mm(e):mm.ceil(e),Ct(e.getUTCFullYear()%1e4,t,4)}function Jbe(){return"+0000"}function _z(){return"%"}function $z(e){return+e}function Az(e){return Math.floor(+e/1e3)}var Op,V6,PQ,W6,DQ;Zbe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Zbe(e){return Op=AQ(e),V6=Op.format,PQ=Op.parse,W6=Op.utcFormat,DQ=Op.utcParse,Op}function l1(e){const t={};return n=>t[n]||(t[n]=e(n))}function exe(e,t){return n=>{const r=e(n),i=r.indexOf(t);if(i<0)return r;let o=txe(r,i);const s=o<r.length?r.slice(o):"";for(;--o>i;)if(r[o]!=="0"){++o;break}return r.slice(0,o)+s}}function txe(e,t){let n=e.lastIndexOf("e"),r;if(n>0)return n;for(n=e.length;--n>t;)if(r=e.charCodeAt(n),r>=48&&r<=57)return n+1}function MQ(e){const t=l1(e.format),n=e.formatPrefix;return{format:t,formatPrefix:n,formatFloat(r){const i=mh(r||",");if(i.precision==null){switch(i.precision=12,i.type){case"%":i.precision-=2;break;case"e":i.precision-=1;break}return exe(t(i),t(".1f")(1)[1])}else return t(i)},formatSpan(r,i,o,s){s=mh(s??",f");const a=cf(r,i,o),l=Math.max(Math.abs(r),Math.abs(i));let u;if(s.precision==null)switch(s.type){case"s":return isNaN(u=oQ(a,l))||(s.precision=u),n(s,l);case"":case"e":case"g":case"p":case"r":{isNaN(u=sQ(a,l))||(s.precision=u-(s.type==="e"));break}case"f":case"%":{isNaN(u=iQ(a))||(s.precision=u-(s.type==="%")*2);break}}return t(s)}}}let cR;NQ();function NQ(){return cR=MQ({format:zb,formatPrefix:I6})}function LQ(e){return MQ(rQ(e))}function aC(e){return arguments.length?cR=LQ(e):cR}function Tz(e,t,n){n=n||{},ve(n)||ee(`Invalid time multi-format specifier: ${n}`);const r=t(Ss),i=t(Lo),o=t(No),s=t(ao),a=t(nr),l=t(ii),u=t(so),c=t(Dr),f=e(n[ga]||".%L"),d=e(n[Ss]||":%S"),h=e(n[Lo]||"%I:%M"),p=e(n[No]||"%I %p"),g=e(n[ao]||n[ei]||"%a %d"),m=e(n[nr]||"%b %d"),y=e(n[ii]||"%B"),v=e(n[so]||"%B"),b=e(n[Dr]||"%Y");return x=>(r(x)<x?f:i(x)<x?d:o(x)<x?h:s(x)<x?p:l(x)<x?a(x)<x?g:m:c(x)<x?u(x)<x?y:v:b)(x)}function IQ(e){const t=l1(e.format),n=l1(e.utcFormat);return{timeFormat:r=>we(r)?t(r):Tz(t,k0,r),utcFormat:r=>we(r)?n(r):Tz(n,_0,r),timeParse:l1(e.parse),utcParse:l1(e.utcParse)}}let fR;zQ();function zQ(){return fR=IQ({format:V6,parse:PQ,utcFormat:W6,utcParse:DQ})}function BQ(e){return IQ(AQ(e))}function Cv(e){return arguments.length?fR=BQ(e):fR}const dR=(e,t)=>Ze({},e,t);function jQ(e,t){const n=e?LQ(e):aC(),r=t?BQ(t):Cv();return dR(n,r)}function H6(e,t){const n=arguments.length;return n&&n!==2&&ee("defaultLocale expects either zero or two arguments."),n?dR(aC(e),Cv(t)):dR(aC(),Cv())}function nxe(){return NQ(),zQ(),H6()}const rxe=/^(data:|([A-Za-z]+:)?\/\/)/,ixe=/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp|file|data):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,oxe=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,Rz="file://";function sxe(e,t){return n=>({options:n||{},sanitize:lxe,load:axe,fileAccess:!!t,file:uxe(t),http:fxe(e)})}async function axe(e,t){const n=await this.sanitize(e,t),r=n.href;return n.localFile?this.file(r):this.http(r,t)}async function lxe(e,t){t=Ze({},this.options,t);const n=this.fileAccess,r={href:null};let i,o,s;const a=ixe.test(e.replace(oxe,""));(e==null||typeof e!="string"||!a)&&ee("Sanitize failure, invalid URI: "+de(e));const l=rxe.test(e);return(s=t.baseURL)&&!l&&(!e.startsWith("/")&&!s.endsWith("/")&&(e="/"+e),e=s+e),o=(i=e.startsWith(Rz))||t.mode==="file"||t.mode!=="http"&&!l&&n,i?e=e.slice(Rz.length):e.startsWith("//")&&(t.defaultProtocol==="file"?(e=e.slice(2),o=!0):e=(t.defaultProtocol||"http")+":"+e),Object.defineProperty(r,"localFile",{value:!!o}),r.href=e,t.target&&(r.target=t.target+""),t.rel&&(r.rel=t.rel+""),t.context==="image"&&t.crossOrigin&&(r.crossOrigin=t.crossOrigin+""),r}function uxe(e){return e?t=>new Promise((n,r)=>{e.readFile(t,(i,o)=>{i?r(i):n(o)})}):cxe}async function cxe(){ee("No file system access.")}function fxe(e){return e?async function(t,n){const r=Ze({},this.options.http,n),i=n&&n.response,o=await e(t,r);return o.ok?et(o[i])?o[i]():o.text():ee(o.status+""+o.statusText)}:dxe}async function dxe(){ee("No HTTP fetch method available.")}const hxe=e=>e!=null&&e===e,pxe=e=>e==="true"||e==="false"||e===!0||e===!1,gxe=e=>!Number.isNaN(Date.parse(e)),UQ=e=>!Number.isNaN(+e)&&!(e instanceof Date),mxe=e=>UQ(e)&&Number.isInteger(+e),hR={boolean:D6,integer:ti,number:ti,date:M6,string:N6,unknown:ai},S2=[pxe,mxe,UQ,gxe],yxe=["boolean","integer","number","date"];function VQ(e,t){if(!e||!e.length)return"unknown";const n=e.length,r=S2.length,i=S2.map((o,s)=>s+1);for(let o=0,s=0,a,l;o<n;++o)for(l=t?e[o][t]:e[o],a=0;a<r;++a)if(i[a]&&hxe(l)&&!S2[a](l)&&(i[a]=0,++s,s===S2.length))return"string";return yxe[i.reduce((o,s)=>o===0?s:o,0)-1]}function WQ(e,t){return t.reduce((n,r)=>(n[r]=VQ(e,r),n),{})}function Fz(e){const t=function(n,r){const i={delimiter:e};return q6(n,r?Ze(r,i):i)};return t.responseType="text",t}function q6(e,t){return t.header&&(e=t.header.map(de).join(t.delimiter)+`
`+e),S1e(t.delimiter).parse(e+"")}q6.responseType="text";function vxe(e){return typeof Buffer=="function"&&et(Buffer.isBuffer)?Buffer.isBuffer(e):!1}function G6(e,t){const n=t&&t.property?xs(t.property):ai;return ve(e)&&!vxe(e)?bxe(n(e),t):n(JSON.parse(e))}G6.responseType="json";function bxe(e,t){return!te(e)&&LK(e)&&(e=[...e]),t&&t.copy?JSON.parse(JSON.stringify(e)):e}const xxe={interior:(e,t)=>e!==t,exterior:(e,t)=>e===t};function HQ(e,t){let n,r,i,o;return e=G6(e,t),t&&t.feature?(n=tve,i=t.feature):t&&t.mesh?(n=rve,i=t.mesh,o=xxe[t.filter]):ee("Missing TopoJSON feature or mesh parameter."),r=(r=e.objects[i])?n(e,r,o):ee("Invalid TopoJSON object: "+i),r&&r.features||[r]}HQ.responseType="json";const qw={dsv:q6,csv:Fz(","),tsv:Fz("	"),json:G6,topojson:HQ};function X6(e,t){return arguments.length>1?(qw[e]=t,this):Se(qw,e)?qw[e]:null}function qQ(e){const t=X6(e);return t&&t.responseType||"text"}function GQ(e,t,n,r){t=t||{};const i=X6(t.type||"json");return i||ee("Unknown data format type: "+t.type),e=i(e,t),t.parse&&wxe(e,t.parse,n,r),Se(e,"columns")&&delete e.columns,e}function wxe(e,t,n,r){if(!e.length)return;const i=Cv();n=n||i.timeParse,r=r||i.utcParse;let o=e.columns||Object.keys(e[0]),s,a,l,u,c,f;t==="auto"&&(t=WQ(e,o)),o=Object.keys(t);const d=o.map(h=>{const p=t[h];let g,m;if(p&&(p.startsWith("date:")||p.startsWith("utc:")))return g=p.split(/:(.+)?/,2),m=g[1],(m[0]==="'"&&m[m.length-1]==="'"||m[0]==='"'&&m[m.length-1]==='"')&&(m=m.slice(1,-1)),(g[0]==="utc"?r:n)(m);if(!hR[p])throw Error("Illegal format pattern: "+h+":"+p);return hR[p]});for(l=0,c=e.length,f=o.length;l<c;++l)for(s=e[l],u=0;u<f;++u)a=o[u],s[a]=d[u](s[a])}const Vk=sxe(typeof fetch<"u"&&fetch,null);function Wk(e){const t=e||ai,n=[],r={};return n.add=i=>{const o=t(i);return r[o]||(r[o]=1,n.push(i)),n},n.remove=i=>{const o=t(i);if(r[o]){r[o]=0;const s=n.indexOf(i);s>=0&&n.splice(s,1)}return n},n}async function Gw(e,t){try{await t(e)}catch(n){e.error(n)}}const XQ=Symbol("vega_id");let Sxe=1;function Hk(e){return!!(e&&De(e))}function De(e){return e[XQ]}function YQ(e,t){return e[XQ]=t,e}function Ot(e){const t=e===Object(e)?e:{data:e};return De(t)?t:YQ(t,Sxe++)}function Y6(e){return qk(e,Ot({}))}function qk(e,t){for(const n in e)t[n]=e[n];return t}function KQ(e,t){return YQ(t,De(e))}function Jh(e,t){return e?t?(n,r)=>e(n,r)||De(t(n))-De(t(r)):(n,r)=>e(n,r)||De(n)-De(r):null}function QQ(e){return e&&e.constructor===Zh}function Zh(){const e=[],t=[],n=[],r=[],i=[];let o=null,s=!1;return{constructor:Zh,insert(a){const l=xe(a),u=l.length;for(let c=0;c<u;++c)e.push(l[c]);return this},remove(a){const l=et(a)?r:t,u=xe(a),c=u.length;for(let f=0;f<c;++f)l.push(u[f]);return this},modify(a,l,u){const c={field:l,value:li(u)};return et(a)?(c.filter=a,i.push(c)):(c.tuple=a,n.push(c)),this},encode(a,l){return et(a)?i.push({filter:a,field:l}):n.push({tuple:a,field:l}),this},clean(a){return o=a,this},reflow(){return s=!0,this},pulse(a,l){const u={},c={};let f,d,h,p,g,m;for(f=0,d=l.length;f<d;++f)u[De(l[f])]=1;for(f=0,d=t.length;f<d;++f)g=t[f],u[De(g)]=-1;for(f=0,d=r.length;f<d;++f)p=r[f],l.forEach(v=>{p(v)&&(u[De(v)]=-1)});for(f=0,d=e.length;f<d;++f)g=e[f],m=De(g),u[m]?u[m]=1:a.add.push(Ot(e[f]));for(f=0,d=l.length;f<d;++f)g=l[f],u[De(g)]<0&&a.rem.push(g);function y(v,b,x){x?v[b]=x(v):a.encode=b,s||(c[De(v)]=v)}for(f=0,d=n.length;f<d;++f)h=n[f],g=h.tuple,p=h.field,m=u[De(g)],m>0&&(y(g,p,h.value),a.modifies(p));for(f=0,d=i.length;f<d;++f)h=i[f],p=h.filter,l.forEach(v=>{p(v)&&u[De(v)]>0&&y(v,h.field,h.value)}),a.modifies(h.field);if(s)a.mod=t.length||r.length?l.filter(v=>u[De(v)]>0):l.slice();else for(m in c)a.mod.push(c[m]);return(o||o==null&&(t.length||r.length))&&a.clean(!0),a}}}const Xw="_:mod:_";function Gk(){Object.defineProperty(this,Xw,{writable:!0,value:{}})}Gk.prototype={set(e,t,n,r){const i=this,o=i[e],s=i[Xw];return t!=null&&t>=0?(o[t]!==n||r)&&(o[t]=n,s[t+":"+e]=-1,s[e]=-1):(o!==n||r)&&(i[e]=n,s[e]=te(n)?1+n.length:-1),i},modified(e,t){const n=this[Xw];if(arguments.length){if(te(e)){for(let r=0;r<e.length;++r)if(n[e[r]])return!0;return!1}}else{for(const r in n)if(n[r])return!0;return!1}return t!=null&&t>=0?t+1<n[e]||!!n[t+":"+e]:!!n[e]},clear(){return this[Xw]={},this}};let Cxe=0;const Exe="pulse",kxe=new Gk,_xe=1,$xe=2;function Qt(e,t,n,r){this.id=++Cxe,this.value=e,this.stamp=-1,this.rank=-1,this.qrank=-1,this.flags=0,t&&(this._update=t),n&&this.parameters(n,r)}function Oz(e){return function(t){const n=this.flags;return arguments.length===0?!!(n&e):(this.flags=t?n|e:n&~e,this)}}Qt.prototype={targets(){return this._targets||(this._targets=Wk(Lb))},set(e){return this.value!==e?(this.value=e,1):0},skip:Oz(_xe),modified:Oz($xe),parameters(e,t,n){t=t!==!1;const r=this._argval=this._argval||new Gk,i=this._argops=this._argops||[],o=[];let s,a,l,u;const c=(f,d,h)=>{h instanceof Qt?(h!==this&&(t&&h.targets().add(this),o.push(h)),i.push({op:h,name:f,index:d})):r.set(f,d,h)};for(s in e)if(a=e[s],s===Exe)xe(a).forEach(f=>{f instanceof Qt?f!==this&&(f.targets().add(this),o.push(f)):ee("Pulse parameters must be operator instances.")}),this.source=a;else if(te(a))for(r.set(s,-1,Array(l=a.length)),u=0;u<l;++u)c(s,u,a[u]);else c(s,-1,a);return this.marshall().clear(),n&&(i.initonly=!0),o},marshall(e){const t=this._argval||kxe,n=this._argops;let r,i,o,s;if(n){const a=n.length;for(i=0;i<a;++i)r=n[i],o=r.op,s=o.modified()&&o.stamp===e,t.set(r.name,r.index,o.value,s);if(n.initonly){for(i=0;i<a;++i)r=n[i],r.op.targets().remove(this);this._argops=null,this._update=null}}return t},detach(){const e=this._argops;let t,n,r,i;if(e)for(t=0,n=e.length;t<n;++t)r=e[t],i=r.op,i._targets&&i._targets.remove(this);this.pulse=null,this.source=null},evaluate(e){const t=this._update;if(t){const n=this.marshall(e.stamp),r=t.call(this,n,e);if(n.clear(),r!==this.value)this.value=r;else if(!this.modified())return e.StopPropagation}},run(e){if(e.stamp<this.stamp)return e.StopPropagation;let t;return this.skip()?(this.skip(!1),t=0):t=this.evaluate(e),this.pulse=t||e}};function Axe(e,t,n,r){let i=1,o;return e instanceof Qt?o=e:e&&e.prototype instanceof Qt?o=new e:et(e)?o=new Qt(null,e):(i=0,o=new Qt(e,t)),this.rank(o),i&&(r=n,n=t),n&&this.connect(o,o.parameters(n,r)),this.touch(o),o}function Txe(e,t){const n=e.rank,r=t.length;for(let i=0;i<r;++i)if(n<t[i].rank){this.rerank(e);return}}let Rxe=0;function Xk(e,t,n){this.id=++Rxe,this.value=null,n&&(this.receive=n),e&&(this._filter=e),t&&(this._apply=t)}function dc(e,t,n){return new Xk(e,t,n)}Xk.prototype={_filter:ws,_apply:ai,targets(){return this._targets||(this._targets=Wk(Lb))},consume(e){return arguments.length?(this._consume=!!e,this):!!this._consume},receive(e){if(this._filter(e)){const t=this.value=this._apply(e),n=this._targets,r=n?n.length:0;for(let i=0;i<r;++i)n[i].receive(t);this._consume&&(e.preventDefault(),e.stopPropagation())}},filter(e){const t=dc(e);return this.targets().add(t),t},apply(e){const t=dc(null,e);return this.targets().add(t),t},merge(){const e=dc();this.targets().add(e);for(let t=0,n=arguments.length;t<n;++t)arguments[t].targets().add(e);return e},throttle(e){let t=-1;return this.filter(()=>{const n=Date.now();return n-t>e?(t=n,1):0})},debounce(e){const t=dc();return this.targets().add(dc(null,null,O6(e,n=>{const r=n.dataflow;t.receive(n),r&&r.run&&r.run()}))),t},between(e,t){let n=!1;return e.targets().add(dc(null,null,()=>n=!0)),t.targets().add(dc(null,null,()=>n=!1)),this.filter(()=>n)},detach(){this._filter=ws,this._targets=null}};function Fxe(e,t,n,r){const i=this,o=dc(n,r),s=function(u){u.dataflow=i;try{o.receive(u)}catch(c){i.error(c)}finally{i.run()}};let a;typeof e=="string"&&typeof document<"u"?a=document.querySelectorAll(e):a=xe(e);const l=a.length;for(let u=0;u<l;++u)a[u].addEventListener(t,s);return o}function Oxe(e,t){const n=this.locale();return GQ(e,t,n.timeParse,n.utcParse)}function Pxe(e,t,n){return t=this.parse(t,n),this.pulse(e,this.changeset().insert(t))}async function Dxe(e,t){const n=this;let r=0,i;try{i=await n.loader().load(e,{context:"dataflow",response:qQ(t&&t.type)});try{i=n.parse(i,t)}catch(o){r=-2,n.warn("Data ingestion failed",e,o)}}catch(o){r=-1,n.warn("Loading failed",e,o)}return{data:i,status:r}}async function Mxe(e,t,n){const r=this,i=r._pending||Nxe(r);i.requests+=1;const o=await r.request(t,n);return r.pulse(e,r.changeset().remove(ws).insert(o.data||[])),i.done(),o}function Nxe(e){let t;const n=new Promise(r=>t=r);return n.requests=0,n.done=()=>{--n.requests===0&&(e._pending=null,t(e))},e._pending=n}const Lxe={skip:!0};function Ixe(e,t,n,r,i){return(e instanceof Qt?Bxe:zxe)(this,e,t,n,r,i),this}function zxe(e,t,n,r,i,o){const s=Ze({},o,Lxe);let a,l;et(n)||(n=li(n)),r===void 0?a=u=>e.touch(n(u)):et(r)?(l=new Qt(null,r,i,!1),a=u=>{l.evaluate(u);const c=n(u),f=l.value;QQ(f)?e.pulse(c,f,o):e.update(c,f,s)}):a=u=>e.update(n(u),r,s),t.apply(a)}function Bxe(e,t,n,r,i,o){if(r===void 0)t.targets().add(n);else{const s=o||{},a=new Qt(null,jxe(n,r),i,!1);a.modified(s.force),a.rank=t.rank,t.targets().add(a),n&&(a.skip(!0),a.value=n.value,a.targets().add(n),e.connect(n,[a]))}}function jxe(e,t){return t=et(t)?t:li(t),e?function(n,r){const i=t(n,r);return e.skip()||(e.skip(i!==this.value).value=i),i}:t}function Uxe(e){e.rank=++this._rank}function Vxe(e){const t=[e];let n,r,i;for(;t.length;)if(this.rank(n=t.pop()),r=n._targets)for(i=r.length;--i>=0;)t.push(n=r[i]),n===e&&ee("Cycle detected in dataflow graph.")}const lC={},Ua=1,yc=2,Yl=4,Wxe=Ua|yc,Pz=Ua|Yl,Pp=Ua|yc|Yl,Dz=8,yy=16,Mz=32,Nz=64;function Xc(e,t,n){this.dataflow=e,this.stamp=t??-1,this.add=[],this.rem=[],this.mod=[],this.fields=null,this.encode=n||null}function iT(e,t){const n=[];return mc(e,t,r=>n.push(r)),n}function Lz(e,t){const n={};return e.visit(t,r=>{n[De(r)]=1}),r=>n[De(r)]?null:r}function C2(e,t){return e?(n,r)=>e(n,r)&&t(n,r):t}Xc.prototype={StopPropagation:lC,ADD:Ua,REM:yc,MOD:Yl,ADD_REM:Wxe,ADD_MOD:Pz,ALL:Pp,REFLOW:Dz,SOURCE:yy,NO_SOURCE:Mz,NO_FIELDS:Nz,fork(e){return new Xc(this.dataflow).init(this,e)},clone(){const e=this.fork(Pp);return e.add=e.add.slice(),e.rem=e.rem.slice(),e.mod=e.mod.slice(),e.source&&(e.source=e.source.slice()),e.materialize(Pp|yy)},addAll(){let e=this;return!e.source||e.add===e.rem||!e.rem.length&&e.source.length===e.add.length||(e=new Xc(this.dataflow).init(this),e.add=e.source,e.rem=[]),e},init(e,t){const n=this;return n.stamp=e.stamp,n.encode=e.encode,e.fields&&!(t&Nz)&&(n.fields=e.fields),t&Ua?(n.addF=e.addF,n.add=e.add):(n.addF=null,n.add=[]),t&yc?(n.remF=e.remF,n.rem=e.rem):(n.remF=null,n.rem=[]),t&Yl?(n.modF=e.modF,n.mod=e.mod):(n.modF=null,n.mod=[]),t&Mz?(n.srcF=null,n.source=null):(n.srcF=e.srcF,n.source=e.source,e.cleans&&(n.cleans=e.cleans)),n},runAfter(e){this.dataflow.runAfter(e)},changed(e){const t=e||Pp;return t&Ua&&this.add.length||t&yc&&this.rem.length||t&Yl&&this.mod.length},reflow(e){if(e)return this.fork(Pp).reflow();const t=this.add.length,n=this.source&&this.source.length;return n&&n!==t&&(this.mod=this.source,t&&this.filter(Yl,Lz(this,Ua))),this},clean(e){return arguments.length?(this.cleans=!!e,this):this.cleans},modifies(e){const t=this.fields||(this.fields={});return te(e)?e.forEach(n=>t[n]=!0):t[e]=!0,this},modified(e,t){const n=this.fields;return(t||this.mod.length)&&n?arguments.length?te(e)?e.some(r=>n[r]):n[e]:!!n:!1},filter(e,t){const n=this;return e&Ua&&(n.addF=C2(n.addF,t)),e&yc&&(n.remF=C2(n.remF,t)),e&Yl&&(n.modF=C2(n.modF,t)),e&yy&&(n.srcF=C2(n.srcF,t)),n},materialize(e){e=e||Pp;const t=this;return e&Ua&&t.addF&&(t.add=iT(t.add,t.addF),t.addF=null),e&yc&&t.remF&&(t.rem=iT(t.rem,t.remF),t.remF=null),e&Yl&&t.modF&&(t.mod=iT(t.mod,t.modF),t.modF=null),e&yy&&t.srcF&&(t.source=t.source.filter(t.srcF),t.srcF=null),t},visit(e,t){const n=this,r=t;if(e&yy)return mc(n.source,n.srcF,r),n;e&Ua&&mc(n.add,n.addF,r),e&yc&&mc(n.rem,n.remF,r),e&Yl&&mc(n.mod,n.modF,r);const i=n.source;if(e&Dz&&i){const o=n.add.length+n.mod.length;o===i.length||(o?mc(i,Lz(n,Pz),r):mc(i,n.srcF,r))}return n}};function K6(e,t,n,r){const i=this;let o=0;this.dataflow=e,this.stamp=t,this.fields=null,this.encode=r||null,this.pulses=n;for(const s of n)if(s.stamp===t){if(s.fields){const a=i.fields||(i.fields={});for(const l in s.fields)a[l]=1}s.changed(i.ADD)&&(o|=i.ADD),s.changed(i.REM)&&(o|=i.REM),s.changed(i.MOD)&&(o|=i.MOD)}this.changes=o}he(K6,Xc,{fork(e){const t=new Xc(this.dataflow).init(this,e&this.NO_FIELDS);return e!==void 0&&(e&t.ADD&&this.visit(t.ADD,n=>t.add.push(n)),e&t.REM&&this.visit(t.REM,n=>t.rem.push(n)),e&t.MOD&&this.visit(t.MOD,n=>t.mod.push(n))),t},changed(e){return this.changes&e},modified(e){const t=this,n=t.fields;return n&&t.changes&t.MOD?te(e)?e.some(r=>n[r]):n[e]:0},filter(){ee("MultiPulse does not support filtering.")},materialize(){ee("MultiPulse does not support materialization.")},visit(e,t){const n=this,r=n.pulses,i=r.length;let o=0;if(e&n.SOURCE)for(;o<i;++o)r[o].visit(e,t);else for(;o<i;++o)r[o].stamp===n.stamp&&r[o].visit(e,t);return n}});async function Hxe(e,t,n){const r=this,i=[];if(r._pulse)return JQ(r);if(r._pending&&await r._pending,t&&await Gw(r,t),!r._touched.length)return r.debug("Dataflow invoked, but nothing to do."),r;const o=++r._clock;r._pulse=new Xc(r,o,e),r._touched.forEach(c=>r._enqueue(c,!0)),r._touched=Wk(Lb);let s=0,a,l,u;try{for(;r._heap.size()>0;){if(a=r._heap.pop(),a.rank!==a.qrank){r._enqueue(a,!0);continue}l=a.run(r._getPulse(a,e)),l.then?l=await l:l.async&&(i.push(l.async),l=lC),l!==lC&&a._targets&&a._targets.forEach(c=>r._enqueue(c)),++s}}catch(c){r._heap.clear(),u=c}if(r._input={},r._pulse=null,r.debug(`Pulse ${o}: ${s} operators`),u&&(r._postrun=[],r.error(u)),r._postrun.length){const c=r._postrun.sort((f,d)=>d.priority-f.priority);r._postrun=[];for(let f=0;f<c.length;++f)await Gw(r,c[f].callback)}return n&&await Gw(r,n),i.length&&Promise.all(i).then(c=>r.runAsync(null,()=>{c.forEach(f=>{try{f(r)}catch(d){r.error(d)}})})),r}async function qxe(e,t,n){for(;this._running;)await this._running;const r=()=>this._running=null;return(this._running=this.evaluate(e,t,n)).then(r,r),this._running}function Gxe(e,t,n){return this._pulse?JQ(this):(this.evaluate(e,t,n),this)}function Xxe(e,t,n){if(this._pulse||t)this._postrun.push({priority:n||0,callback:e});else try{e(this)}catch(r){this.error(r)}}function JQ(e){return e.error("Dataflow already running. Use runAsync() to chain invocations."),e}function Yxe(e,t){const n=e.stamp<this._clock;n&&(e.stamp=this._clock),(n||t)&&(e.qrank=e.rank,this._heap.push(e))}function Kxe(e,t){const n=e.source,r=this._clock;return n&&te(n)?new K6(this,r,n.map(i=>i.pulse),t):this._input[e.id]||Qxe(this._pulse,n&&n.pulse)}function Qxe(e,t){return t&&t.stamp===e.stamp?t:(e=e.fork(),t&&t!==lC&&(e.source=t.source),e)}const Q6={skip:!1,force:!1};function Jxe(e,t){const n=t||Q6;return this._pulse?this._enqueue(e):this._touched.add(e),n.skip&&e.skip(!0),this}function Zxe(e,t,n){const r=n||Q6;return(e.set(t)||r.force)&&this.touch(e,r),this}function e2e(e,t,n){this.touch(e,n||Q6);const r=new Xc(this,this._clock+(this._pulse?0:1)),i=e.pulse&&e.pulse.source||[];return r.target=e,this._input[e.id]=t.pulse(r,i),this}function t2e(e){let t=[];return{clear:()=>t=[],size:()=>t.length,peek:()=>t[0],push:n=>(t.push(n),ZQ(t,0,t.length-1,e)),pop:()=>{const n=t.pop();let r;return t.length?(r=t[0],t[0]=n,n2e(t,0,e)):r=n,r}}}function ZQ(e,t,n,r){let i,o;const s=e[n];for(;n>t;){if(o=n-1>>1,i=e[o],r(s,i)<0){e[n]=i,n=o;continue}break}return e[n]=s}function n2e(e,t,n){const r=t,i=e.length,o=e[t];let s=(t<<1)+1,a;for(;s<i;)a=s+1,a<i&&n(e[s],e[a])>=0&&(s=a),e[t]=e[s],t=s,s=(t<<1)+1;return e[t]=o,ZQ(e,r,t,n)}function Rg(){this.logger($6()),this.logLevel(Ik),this._clock=0,this._rank=0,this._locale=H6();try{this._loader=Vk()}catch{}this._touched=Wk(Lb),this._input={},this._pulse=null,this._heap=t2e((e,t)=>e.qrank-t.qrank),this._postrun=[]}function vy(e){return function(){return this._log[e].apply(this,arguments)}}Rg.prototype={stamp(){return this._clock},loader(e){return arguments.length?(this._loader=e,this):this._loader},locale(e){return arguments.length?(this._locale=e,this):this._locale},logger(e){return arguments.length?(this._log=e,this):this._log},error:vy("error"),warn:vy("warn"),info:vy("info"),debug:vy("debug"),logLevel:vy("level"),cleanThreshold:1e4,add:Axe,connect:Txe,rank:Uxe,rerank:Vxe,pulse:e2e,touch:Jxe,update:Zxe,changeset:Zh,ingest:Pxe,parse:Oxe,preload:Mxe,request:Dxe,events:Fxe,on:Ixe,evaluate:Hxe,run:Gxe,runAsync:qxe,runAfter:Xxe,_enqueue:Yxe,_getPulse:Kxe};function J(e,t){Qt.call(this,e,null,t)}he(J,Qt,{run(e){if(e.stamp<this.stamp)return e.StopPropagation;let t;return this.skip()?this.skip(!1):t=this.evaluate(e),t=t||e,t.then?t=t.then(n=>this.pulse=n):t!==e.StopPropagation&&(this.pulse=t),t},evaluate(e){const t=this.marshall(e.stamp),n=this.transform(t,e);return t.clear(),n},transform(){}});const xm={};function eJ(e){const t=tJ(e);return t&&t.Definition||null}function tJ(e){return e=e&&e.toLowerCase(),Se(xm,e)?xm[e]:null}function*nJ(e,t){if(t==null)for(let n of e)n!=null&&n!==""&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)r=t(r,++n,e),r!=null&&r!==""&&(r=+r)>=r&&(yield r)}}function J6(e,t,n){const r=Float64Array.from(nJ(e,n));return r.sort(hu),t.map(i=>JK(r,i))}function Z6(e,t){return J6(e,[.25,.5,.75],t)}function eD(e,t){const n=e.length,r=fve(e,t),i=Z6(e,t),o=(i[2]-i[0])/1.34;return 1.06*(Math.min(r,o)||r||Math.abs(i[0])||1)*Math.pow(n,-.2)}function rJ(e){const t=e.maxbins||20,n=e.base||10,r=Math.log(n),i=e.divide||[5,2];let o=e.extent[0],s=e.extent[1],a,l,u,c,f,d;const h=e.span||s-o||Math.abs(o)||1;if(e.step)a=e.step;else if(e.steps){for(c=h/t,f=0,d=e.steps.length;f<d&&e.steps[f]<c;++f);a=e.steps[Math.max(0,f-1)]}else{for(l=Math.ceil(Math.log(t)/r),u=e.minstep||0,a=Math.max(u,Math.pow(n,Math.round(Math.log(h)/r)-l));Math.ceil(h/a)>t;)a*=n;for(f=0,d=i.length;f<d;++f)c=a/i[f],c>=u&&h/c<=t&&(a=c)}c=Math.log(a);const p=c>=0?0:~~(-c/r)+1,g=Math.pow(n,-p-1);return(e.nice||e.nice===void 0)&&(c=Math.floor(o/a+g)*a,o=o<c?c-a:c,s=Math.ceil(s/a)*a),{start:o,stop:s===o?o+a:s,step:a}}var Cs=Math.random;function r2e(e){Cs=e}function iJ(e,t,n,r){if(!e.length)return[void 0,void 0];const i=Float64Array.from(nJ(e,r)),o=i.length,s=t;let a,l,u,c;for(u=0,c=Array(s);u<s;++u){for(a=0,l=0;l<o;++l)a+=i[~~(Cs()*o)];c[u]=a/o}return c.sort(hu),[iR(c,n/2),iR(c,1-n/2)]}function oJ(e,t,n,r){r=r||(d=>d);const i=e.length,o=new Float64Array(i);let s=0,a=1,l=r(e[0]),u=l,c=l+t,f;for(;a<i;++a){if(f=r(e[a]),f>=c){for(u=(l+u)/2;s<a;++s)o[s]=u;c=f+t,l=f}u=f}for(u=(l+u)/2;s<a;++s)o[s]=u;return n?i2e(o,t+t/4):o}function i2e(e,t){const n=e.length;let r=0,i=1,o,s;for(;e[r]===e[i];)++i;for(;i<n;){for(o=i+1;e[i]===e[o];)++o;if(e[i]-e[i-1]<t){for(s=i+(r+o-i-i>>1);s<i;)e[s++]=e[i];for(;s>i;)e[s--]=e[r]}r=i,i=o}return e}function o2e(e){return function(){return e=(1103515245*e+12345)%2147483647,e/2147483647}}function s2e(e,t){t==null&&(t=e,e=0);let n,r,i;const o={min(s){return arguments.length?(n=s||0,i=r-n,o):n},max(s){return arguments.length?(r=s||0,i=r-n,o):r},sample(){return n+Math.floor(i*Cs())},pdf(s){return s===Math.floor(s)&&s>=n&&s<r?1/i:0},cdf(s){const a=Math.floor(s);return a<n?0:a>=r?1:(a-n+1)/i},icdf(s){return s>=0&&s<=1?n-1+Math.floor(s*i):NaN}};return o.min(e).max(t)}const sJ=Math.sqrt(2*Math.PI),a2e=Math.SQRT2;let by=NaN;function Yk(e,t){e=e||0,t=t??1;let n=0,r=0,i,o;if(by===by)n=by,by=NaN;else{do n=Cs()*2-1,r=Cs()*2-1,i=n*n+r*r;while(i===0||i>1);o=Math.sqrt(-2*Math.log(i)/i),n*=o,by=r*o}return e+n*t}function tD(e,t,n){n=n??1;const r=(e-(t||0))/n;return Math.exp(-.5*r*r)/(n*sJ)}function Kk(e,t,n){t=t||0,n=n??1;const r=(e-t)/n,i=Math.abs(r);let o;if(i>37)o=0;else{const s=Math.exp(-i*i/2);let a;i<7.07106781186547?(a=.0352624965998911*i+.700383064443688,a=a*i+6.37396220353165,a=a*i+33.912866078383,a=a*i+112.079291497871,a=a*i+221.213596169931,a=a*i+220.206867912376,o=s*a,a=.0883883476483184*i+1.75566716318264,a=a*i+16.064177579207,a=a*i+86.7807322029461,a=a*i+296.564248779674,a=a*i+637.333633378831,a=a*i+793.826512519948,a=a*i+440.413735824752,o=o/a):(a=i+.65,a=i+4/a,a=i+3/a,a=i+2/a,a=i+1/a,o=s/a/2.506628274631)}return r>0?1-o:o}function Qk(e,t,n){return e<0||e>1?NaN:(t||0)+(n??1)*a2e*l2e(2*e-1)}function l2e(e){let t=-Math.log((1-e)*(1+e)),n;return t<6.25?(t-=3.125,n=-364441206401782e-35,n=-16850591381820166e-35+n*t,n=128584807152564e-32+n*t,n=11157877678025181e-33+n*t,n=-1333171662854621e-31+n*t,n=20972767875968562e-33+n*t,n=6637638134358324e-30+n*t,n=-4054566272975207e-29+n*t,n=-8151934197605472e-29+n*t,n=26335093153082323e-28+n*t,n=-12975133253453532e-27+n*t,n=-5415412054294628e-26+n*t,n=10512122733215323e-25+n*t,n=-4112633980346984e-24+n*t,n=-29070369957882005e-24+n*t,n=42347877827932404e-23+n*t,n=-13654692000834679e-22+n*t,n=-13882523362786469e-21+n*t,n=.00018673420803405714+n*t,n=-.000740702534166267+n*t,n=-.006033670871430149+n*t,n=.24015818242558962+n*t,n=1.6536545626831027+n*t):t<16?(t=Math.sqrt(t)-3.25,n=22137376921775787e-25,n=9075656193888539e-23+n*t,n=-27517406297064545e-23+n*t,n=18239629214389228e-24+n*t,n=15027403968909828e-22+n*t,n=-4013867526981546e-21+n*t,n=29234449089955446e-22+n*t,n=12475304481671779e-21+n*t,n=-47318229009055734e-21+n*t,n=6828485145957318e-20+n*t,n=24031110387097894e-21+n*t,n=-.0003550375203628475+n*t,n=.0009532893797373805+n*t,n=-.0016882755560235047+n*t,n=.002491442096107851+n*t,n=-.003751208507569241+n*t,n=.005370914553590064+n*t,n=1.0052589676941592+n*t,n=3.0838856104922208+n*t):Number.isFinite(t)?(t=Math.sqrt(t)-5,n=-27109920616438573e-27,n=-2555641816996525e-25+n*t,n=15076572693500548e-25+n*t,n=-3789465440126737e-24+n*t,n=761570120807834e-23+n*t,n=-1496002662714924e-23+n*t,n=2914795345090108e-23+n*t,n=-6771199775845234e-23+n*t,n=22900482228026655e-23+n*t,n=-99298272942317e-20+n*t,n=4526062597223154e-21+n*t,n=-1968177810553167e-20+n*t,n=7599527703001776e-20+n*t,n=-.00021503011930044477+n*t,n=-.00013871931833623122+n*t,n=1.0103004648645344+n*t,n=4.849906401408584+n*t):n=1/0,n*e}function nD(e,t){let n,r;const i={mean(o){return arguments.length?(n=o||0,i):n},stdev(o){return arguments.length?(r=o??1,i):r},sample:()=>Yk(n,r),pdf:o=>tD(o,n,r),cdf:o=>Kk(o,n,r),icdf:o=>Qk(o,n,r)};return i.mean(e).stdev(t)}function rD(e,t){const n=nD();let r=0;const i={data(o){return arguments.length?(e=o,r=o?o.length:0,i.bandwidth(t)):e},bandwidth(o){return arguments.length?(t=o,!t&&e&&(t=eD(e)),i):t},sample(){return e[~~(Cs()*r)]+t*n.sample()},pdf(o){let s=0,a=0;for(;a<r;++a)s+=n.pdf((o-e[a])/t);return s/t/r},cdf(o){let s=0,a=0;for(;a<r;++a)s+=n.cdf((o-e[a])/t);return s/r},icdf(){throw Error("KDE icdf not supported.")}};return i.data(e)}function iD(e,t){return e=e||0,t=t??1,Math.exp(e+Yk()*t)}function oD(e,t,n){if(e<=0)return 0;t=t||0,n=n??1;const r=(Math.log(e)-t)/n;return Math.exp(-.5*r*r)/(n*sJ*e)}function sD(e,t,n){return Kk(Math.log(e),t,n)}function aD(e,t,n){return Math.exp(Qk(e,t,n))}function aJ(e,t){let n,r;const i={mean(o){return arguments.length?(n=o||0,i):n},stdev(o){return arguments.length?(r=o??1,i):r},sample:()=>iD(n,r),pdf:o=>oD(o,n,r),cdf:o=>sD(o,n,r),icdf:o=>aD(o,n,r)};return i.mean(e).stdev(t)}function lJ(e,t){let n=0,r;function i(s){const a=[];let l=0,u;for(u=0;u<n;++u)l+=a[u]=s[u]==null?1:+s[u];for(u=0;u<n;++u)a[u]/=l;return a}const o={weights(s){return arguments.length?(r=i(t=s||[]),o):t},distributions(s){return arguments.length?(s?(n=s.length,e=s):(n=0,e=[]),o.weights(t)):e},sample(){const s=Cs();let a=e[n-1],l=r[0],u=0;for(;u<n-1;l+=r[++u])if(s<l){a=e[u];break}return a.sample()},pdf(s){let a=0,l=0;for(;l<n;++l)a+=r[l]*e[l].pdf(s);return a},cdf(s){let a=0,l=0;for(;l<n;++l)a+=r[l]*e[l].cdf(s);return a},icdf(){throw Error("Mixture icdf not supported.")}};return o.distributions(e).weights(t)}function lD(e,t){return t==null&&(t=e??1,e=0),e+(t-e)*Cs()}function uD(e,t,n){return n==null&&(n=t??1,t=0),e>=t&&e<=n?1/(n-t):0}function cD(e,t,n){return n==null&&(n=t??1,t=0),e<t?0:e>n?1:(e-t)/(n-t)}function fD(e,t,n){return n==null&&(n=t??1,t=0),e>=0&&e<=1?t+e*(n-t):NaN}function uJ(e,t){let n,r;const i={min(o){return arguments.length?(n=o||0,i):n},max(o){return arguments.length?(r=o??1,i):r},sample:()=>lD(n,r),pdf:o=>uD(o,n,r),cdf:o=>cD(o,n,r),icdf:o=>fD(o,n,r)};return t==null&&(t=e??1,e=0),i.min(e).max(t)}function dD(e,t,n){let r=0,i=0;for(const o of e){const s=n(o);t(o)==null||s==null||isNaN(s)||(r+=(s-r)/++i)}return{coef:[r],predict:()=>r,rSquared:0}}function Wb(e,t,n,r){const i=r-e*e,o=Math.abs(i)<1e-24?0:(n-e*t)/i;return[t-o*e,o]}function Jk(e,t,n,r){e=e.filter(h=>{let p=t(h),g=n(h);return p!=null&&(p=+p)>=p&&g!=null&&(g=+g)>=g}),r&&e.sort((h,p)=>t(h)-t(p));const i=e.length,o=new Float64Array(i),s=new Float64Array(i);let a=0,l=0,u=0,c,f,d;for(d of e)o[a]=c=+t(d),s[a]=f=+n(d),++a,l+=(c-l)/a,u+=(f-u)/a;for(a=0;a<i;++a)o[a]-=l,s[a]-=u;return[o,s,l,u]}function Hb(e,t,n,r){let i=-1,o,s;for(const a of e)o=t(a),s=n(a),o!=null&&(o=+o)>=o&&s!=null&&(s=+s)>=s&&r(o,s,++i)}function $0(e,t,n,r,i){let o=0,s=0;return Hb(e,t,n,(a,l)=>{const u=l-i(a),c=l-r;o+=u*u,s+=c*c}),1-o/s}function hD(e,t,n){let r=0,i=0,o=0,s=0,a=0;Hb(e,t,n,(c,f)=>{++a,r+=(c-r)/a,i+=(f-i)/a,o+=(c*f-o)/a,s+=(c*c-s)/a});const l=Wb(r,i,o,s),u=c=>l[0]+l[1]*c;return{coef:l,predict:u,rSquared:$0(e,t,n,i,u)}}function cJ(e,t,n){let r=0,i=0,o=0,s=0,a=0;Hb(e,t,n,(c,f)=>{++a,c=Math.log(c),r+=(c-r)/a,i+=(f-i)/a,o+=(c*f-o)/a,s+=(c*c-s)/a});const l=Wb(r,i,o,s),u=c=>l[0]+l[1]*Math.log(c);return{coef:l,predict:u,rSquared:$0(e,t,n,i,u)}}function fJ(e,t,n){const[r,i,o,s]=Jk(e,t,n);let a=0,l=0,u=0,c=0,f=0,d,h,p;Hb(e,t,n,(v,b)=>{d=r[f++],h=Math.log(b),p=d*b,a+=(b*h-a)/f,l+=(p-l)/f,u+=(p*h-u)/f,c+=(d*p-c)/f});const[g,m]=Wb(l/s,a/s,u/s,c/s),y=v=>Math.exp(g+m*(v-o));return{coef:[Math.exp(g-m*o),m],predict:y,rSquared:$0(e,t,n,s,y)}}function dJ(e,t,n){let r=0,i=0,o=0,s=0,a=0,l=0;Hb(e,t,n,(f,d)=>{const h=Math.log(f),p=Math.log(d);++l,r+=(h-r)/l,i+=(p-i)/l,o+=(h*p-o)/l,s+=(h*h-s)/l,a+=(d-a)/l});const u=Wb(r,i,o,s),c=f=>u[0]*Math.pow(f,u[1]);return u[0]=Math.exp(u[0]),{coef:u,predict:c,rSquared:$0(e,t,n,a,c)}}function pD(e,t,n){const[r,i,o,s]=Jk(e,t,n),a=r.length;let l=0,u=0,c=0,f=0,d=0,h,p,g,m;for(h=0;h<a;)p=r[h],g=i[h++],m=p*p,l+=(m-l)/h,u+=(m*p-u)/h,c+=(m*m-c)/h,f+=(p*g-f)/h,d+=(m*g-d)/h;const y=c-l*l,v=l*y-u*u,b=(d*l-f*u)/v,x=(f*y-d*u)/v,w=-b*l,E=S=>(S=S-o,b*S*S+x*S+w+s);return{coef:[w-x*o+b*o*o+s,x-2*b*o,b],predict:E,rSquared:$0(e,t,n,s,E)}}function hJ(e,t,n,r){if(r===0)return dD(e,t,n);if(r===1)return hD(e,t,n);if(r===2)return pD(e,t,n);const[i,o,s,a]=Jk(e,t,n),l=i.length,u=[],c=[],f=r+1;let d,h,p,g,m;for(d=0;d<f;++d){for(p=0,g=0;p<l;++p)g+=Math.pow(i[p],d)*o[p];for(u.push(g),m=new Float64Array(f),h=0;h<f;++h){for(p=0,g=0;p<l;++p)g+=Math.pow(i[p],d+h);m[h]=g}c.push(m)}c.push(u);const y=c2e(c),v=b=>{b-=s;let x=a+y[0]+y[1]*b+y[2]*b*b;for(d=3;d<f;++d)x+=y[d]*Math.pow(b,d);return x};return{coef:u2e(f,y,-s,a),predict:v,rSquared:$0(e,t,n,a,v)}}function u2e(e,t,n,r){const i=Array(e);let o,s,a,l;for(o=0;o<e;++o)i[o]=0;for(o=e-1;o>=0;--o)for(a=t[o],l=1,i[o]+=a,s=1;s<=o;++s)l*=(o+1-s)/s,i[o-s]+=a*Math.pow(n,s)*l;return i[0]+=r,i}function c2e(e){const t=e.length-1,n=[];let r,i,o,s,a;for(r=0;r<t;++r){for(s=r,i=r+1;i<t;++i)Math.abs(e[r][i])>Math.abs(e[r][s])&&(s=i);for(o=r;o<t+1;++o)a=e[o][r],e[o][r]=e[o][s],e[o][s]=a;for(i=r+1;i<t;++i)for(o=t;o>=r;o--)e[o][i]-=e[o][r]*e[r][i]/e[r][r]}for(i=t-1;i>=0;--i){for(a=0,o=i+1;o<t;++o)a+=e[o][i]*n[o];n[i]=(e[t][i]-a)/e[i][i]}return n}const Iz=2,zz=1e-12;function pJ(e,t,n,r){const[i,o,s,a]=Jk(e,t,n,!0),l=i.length,u=Math.max(2,~~(r*l)),c=new Float64Array(l),f=new Float64Array(l),d=new Float64Array(l).fill(1);for(let h=-1;++h<=Iz;){const p=[0,u-1];for(let m=0;m<l;++m){const y=i[m],v=p[0],b=p[1],x=y-i[v]>i[b]-y?v:b;let w=0,E=0,S=0,k=0,$=0;const F=1/Math.abs(i[x]-y||1);for(let D=v;D<=b;++D){const L=i[D],A=o[D],O=f2e(Math.abs(y-L)*F)*d[D],B=L*O;w+=O,E+=B,S+=A*O,k+=A*B,$+=L*B}const[P,j]=Wb(E/w,S/w,k/w,$/w);c[m]=P+j*y,f[m]=Math.abs(o[m]-c[m]),d2e(i,m+1,p)}if(h===Iz)break;const g=ZK(f);if(Math.abs(g)<zz)break;for(let m=0,y,v;m<l;++m)y=f[m]/(6*g),d[m]=y>=1?zz:(v=1-y*y)*v}return h2e(i,c,s,a)}function f2e(e){return(e=1-e*e*e)*e*e}function d2e(e,t,n){const r=e[t];let i=n[0],o=n[1]+1;if(!(o>=e.length))for(;t>i&&e[o]-r<=r-e[i];)n[0]=++i,n[1]=o,++o}function h2e(e,t,n,r){const i=e.length,o=[];let s=0,a=0,l=[],u;for(;s<i;++s)u=e[s]+n,l[0]===u?l[1]+=(t[s]-l[1])/++a:(a=0,l[1]+=r,l=[u,t[s]],o.push(l));return l[1]+=r,o}const p2e=.5*Math.PI/180;function Zk(e,t,n,r){n=n||25,r=Math.max(n,r||200);const i=g=>[g,e(g)],o=t[0],s=t[1],a=s-o,l=a/r,u=[i(o)],c=[];if(n===r){for(let g=1;g<r;++g)u.push(i(o+g/n*a));return u.push(i(s)),u}else{c.push(i(s));for(let g=n;--g>0;)c.push(i(o+g/n*a))}let f=u[0],d=c[c.length-1];const h=1/a,p=g2e(f[1],c);for(;d;){const g=i((f[0]+d[0])/2);g[0]-f[0]>=l&&m2e(f,g,d,h,p)>p2e?c.push(g):(f=d,u.push(d),c.pop()),d=c[c.length-1]}return u}function g2e(e,t){let n=e,r=e;const i=t.length;for(let o=0;o<i;++o){const s=t[o][1];s<n&&(n=s),s>r&&(r=s)}return 1/(r-n)}function m2e(e,t,n,r,i){const o=Math.atan2(i*(n[1]-e[1]),r*(n[0]-e[0])),s=Math.atan2(i*(t[1]-e[1]),r*(t[0]-e[0]));return Math.abs(o-s)}function y2e(e){return t=>{const n=e.length;let r=1,i=String(e[0](t));for(;r<n;++r)i+="|"+e[r](t);return i}}function pR(e){return!e||!e.length?function(){return""}:e.length===1?e[0]:y2e(e)}function gJ(e,t,n){return n||e+(t?"_"+t:"")}const oT=()=>{},v2e={init:oT,add:oT,rem:oT,idx:0},Ev={values:{init:e=>e.cell.store=!0,value:e=>e.cell.data.values(),idx:-1},count:{value:e=>e.cell.num},__count__:{value:e=>e.missing+e.valid},missing:{value:e=>e.missing},valid:{value:e=>e.valid},sum:{init:e=>e.sum=0,value:e=>e.valid?e.sum:void 0,add:(e,t)=>e.sum+=+t,rem:(e,t)=>e.sum-=t},product:{init:e=>e.product=1,value:e=>e.valid?e.product:void 0,add:(e,t)=>e.product*=t,rem:(e,t)=>e.product/=t},mean:{init:e=>e.mean=0,value:e=>e.valid?e.mean:void 0,add:(e,t)=>(e.mean_d=t-e.mean,e.mean+=e.mean_d/e.valid),rem:(e,t)=>(e.mean_d=t-e.mean,e.mean-=e.valid?e.mean_d/e.valid:e.mean)},average:{value:e=>e.valid?e.mean:void 0,req:["mean"],idx:1},variance:{init:e=>e.dev=0,value:e=>e.valid>1?e.dev/(e.valid-1):void 0,add:(e,t)=>e.dev+=e.mean_d*(t-e.mean),rem:(e,t)=>e.dev-=e.mean_d*(t-e.mean),req:["mean"],idx:1},variancep:{value:e=>e.valid>1?e.dev/e.valid:void 0,req:["variance"],idx:2},stdev:{value:e=>e.valid>1?Math.sqrt(e.dev/(e.valid-1)):void 0,req:["variance"],idx:2},stdevp:{value:e=>e.valid>1?Math.sqrt(e.dev/e.valid):void 0,req:["variance"],idx:2},stderr:{value:e=>e.valid>1?Math.sqrt(e.dev/(e.valid*(e.valid-1))):void 0,req:["variance"],idx:2},distinct:{value:e=>e.cell.data.distinct(e.get),req:["values"],idx:3},ci0:{value:e=>e.cell.data.ci0(e.get),req:["values"],idx:3},ci1:{value:e=>e.cell.data.ci1(e.get),req:["values"],idx:3},median:{value:e=>e.cell.data.q2(e.get),req:["values"],idx:3},q1:{value:e=>e.cell.data.q1(e.get),req:["values"],idx:3},q3:{value:e=>e.cell.data.q3(e.get),req:["values"],idx:3},min:{init:e=>e.min=void 0,value:e=>e.min=Number.isNaN(e.min)?e.cell.data.min(e.get):e.min,add:(e,t)=>{(t<e.min||e.min===void 0)&&(e.min=t)},rem:(e,t)=>{t<=e.min&&(e.min=NaN)},req:["values"],idx:4},max:{init:e=>e.max=void 0,value:e=>e.max=Number.isNaN(e.max)?e.cell.data.max(e.get):e.max,add:(e,t)=>{(t>e.max||e.max===void 0)&&(e.max=t)},rem:(e,t)=>{t>=e.max&&(e.max=NaN)},req:["values"],idx:4},argmin:{init:e=>e.argmin=void 0,value:e=>e.argmin||e.cell.data.argmin(e.get),add:(e,t,n)=>{t<e.min&&(e.argmin=n)},rem:(e,t)=>{t<=e.min&&(e.argmin=void 0)},req:["min","values"],idx:3},argmax:{init:e=>e.argmax=void 0,value:e=>e.argmax||e.cell.data.argmax(e.get),add:(e,t,n)=>{t>e.max&&(e.argmax=n)},rem:(e,t)=>{t>=e.max&&(e.argmax=void 0)},req:["max","values"],idx:3},exponential:{init:(e,t)=>{e.exp=0,e.exp_r=t},value:e=>e.valid?e.exp*(1-e.exp_r)/(1-e.exp_r**e.valid):void 0,add:(e,t)=>e.exp=e.exp_r*e.exp+t,rem:(e,t)=>e.exp=(e.exp-t/e.exp_r**(e.valid-1))/e.exp_r},exponentialb:{value:e=>e.valid?e.exp*(1-e.exp_r):void 0,req:["exponential"],idx:1}},qb=Object.keys(Ev).filter(e=>e!=="__count__");function b2e(e,t){return(n,r)=>Ze({name:e,aggregate_param:r,out:n||e},v2e,t)}[...qb,"__count__"].forEach(e=>{Ev[e]=b2e(e,Ev[e])});function mJ(e,t,n){return Ev[e](n,t)}function yJ(e,t){return e.idx-t.idx}function x2e(e){const t={};e.forEach(r=>t[r.name]=r);const n=r=>{r.req&&r.req.forEach(i=>{t[i]||n(t[i]=Ev[i]())})};return e.forEach(n),Object.values(t).sort(yJ)}function w2e(){this.valid=0,this.missing=0,this._ops.forEach(e=>e.aggregate_param==null?e.init(this):e.init(this,e.aggregate_param))}function S2e(e,t){if(e==null||e===""){++this.missing;return}e===e&&(++this.valid,this._ops.forEach(n=>n.add(this,e,t)))}function C2e(e,t){if(e==null||e===""){--this.missing;return}e===e&&(--this.valid,this._ops.forEach(n=>n.rem(this,e,t)))}function E2e(e){return this._out.forEach(t=>e[t.out]=t.value(this)),e}function vJ(e,t){const n=t||ai,r=x2e(e),i=e.slice().sort(yJ);function o(s){this._ops=r,this._out=i,this.cell=s,this.init()}return o.prototype.init=w2e,o.prototype.add=S2e,o.prototype.rem=C2e,o.prototype.set=E2e,o.prototype.get=n,o.fields=e.map(s=>s.out),o}function gD(e){this._key=e?xs(e):De,this.reset()}const zr=gD.prototype;zr.reset=function(){this._add=[],this._rem=[],this._ext=null,this._get=null,this._q=null};zr.add=function(e){this._add.push(e)};zr.rem=function(e){this._rem.push(e)};zr.values=function(){if(this._get=null,this._rem.length===0)return this._add;const e=this._add,t=this._rem,n=this._key,r=e.length,i=t.length,o=Array(r-i),s={};let a,l,u;for(a=0;a<i;++a)s[n(t[a])]=1;for(a=0,l=0;a<r;++a)s[n(u=e[a])]?s[n(u)]=0:o[l++]=u;return this._rem=[],this._add=o};zr.distinct=function(e){const t=this.values(),n={};let r=t.length,i=0,o;for(;--r>=0;)o=e(t[r])+"",Se(n,o)||(n[o]=1,++i);return i};zr.extent=function(e){if(this._get!==e||!this._ext){const t=this.values(),n=MK(t,e);this._ext=[t[n[0]],t[n[1]]],this._get=e}return this._ext};zr.argmin=function(e){return this.extent(e)[0]||{}};zr.argmax=function(e){return this.extent(e)[1]||{}};zr.min=function(e){const t=this.extent(e)[0];return t!=null?e(t):void 0};zr.max=function(e){const t=this.extent(e)[1];return t!=null?e(t):void 0};zr.quartile=function(e){return(this._get!==e||!this._q)&&(this._q=Z6(this.values(),e),this._get=e),this._q};zr.q1=function(e){return this.quartile(e)[0]};zr.q2=function(e){return this.quartile(e)[1]};zr.q3=function(e){return this.quartile(e)[2]};zr.ci=function(e){return(this._get!==e||!this._ci)&&(this._ci=iJ(this.values(),1e3,.05,e),this._get=e),this._ci};zr.ci0=function(e){return this.ci(e)[0]};zr.ci1=function(e){return this.ci(e)[1]};function ff(e){J.call(this,null,e),this._adds=[],this._mods=[],this._alen=0,this._mlen=0,this._drop=!0,this._cross=!1,this._dims=[],this._dnames=[],this._measures=[],this._countOnly=!1,this._counts=null,this._prev=null,this._inputs=null,this._outputs=null}ff.Definition={type:"Aggregate",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:qb},{name:"aggregate_params",type:"number",null:!0,array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"as",type:"string",null:!0,array:!0},{name:"drop",type:"boolean",default:!0},{name:"cross",type:"boolean",default:!1},{name:"key",type:"field"}]};he(ff,J,{transform(e,t){const n=this,r=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=e.modified();return n.stamp=r.stamp,n.value&&(i||t.modified(n._inputs,!0))?(n._prev=n.value,n.value=i?n.init(e):Object.create(null),t.visit(t.SOURCE,o=>n.add(o))):(n.value=n.value||n.init(e),t.visit(t.REM,o=>n.rem(o)),t.visit(t.ADD,o=>n.add(o))),r.modifies(n._outputs),n._drop=e.drop!==!1,e.cross&&n._dims.length>1&&(n._drop=!1,n.cross()),t.clean()&&n._drop&&r.clean(!0).runAfter(()=>this.clean()),n.changes(r)},cross(){const e=this,t=e.value,n=e._dnames,r=n.map(()=>({})),i=n.length;function o(a){let l,u,c,f;for(l in a)for(c=a[l].tuple,u=0;u<i;++u)r[u][f=c[n[u]]]=f}o(e._prev),o(t);function s(a,l,u){const c=n[u],f=r[u++];for(const d in f){const h=a?a+"|"+d:d;l[c]=f[d],u<i?s(h,l,u):t[h]||e.cell(h,l)}}s("",{},0)},init(e){const t=this._inputs=[],n=this._outputs=[],r={};function i(v){const b=xe(ri(v)),x=b.length;let w=0,E;for(;w<x;++w)r[E=b[w]]||(r[E]=1,t.push(E))}this._dims=xe(e.groupby),this._dnames=this._dims.map(v=>{const b=On(v);return i(v),n.push(b),b}),this.cellkey=e.key?e.key:pR(this._dims),this._countOnly=!0,this._counts=[],this._measures=[];const o=e.fields||[null],s=e.ops||["count"],a=e.aggregate_params||[null],l=e.as||[],u=o.length,c={};let f,d,h,p,g,m,y;for(u!==s.length&&ee("Unmatched number of fields and aggregate ops."),y=0;y<u;++y){if(f=o[y],d=s[y],h=a[y]||null,f==null&&d!=="count"&&ee("Null aggregate field specified."),g=On(f),m=gJ(d,g,l[y]),n.push(m),d==="count"){this._counts.push(m);continue}p=c[g],p||(i(f),p=c[g]=[],p.field=f,this._measures.push(p)),d!=="count"&&(this._countOnly=!1),p.push(mJ(d,h,m))}return this._measures=this._measures.map(v=>vJ(v,v.field)),Object.create(null)},cellkey:pR(),cell(e,t){let n=this.value[e];return n?n.num===0&&this._drop&&n.stamp<this.stamp?(n.stamp=this.stamp,this._adds[this._alen++]=n):n.stamp<this.stamp&&(n.stamp=this.stamp,this._mods[this._mlen++]=n):(n=this.value[e]=this.newcell(e,t),this._adds[this._alen++]=n),n},newcell(e,t){const n={key:e,num:0,agg:null,tuple:this.newtuple(t,this._prev&&this._prev[e]),stamp:this.stamp,store:!1};if(!this._countOnly){const r=this._measures,i=r.length;n.agg=Array(i);for(let o=0;o<i;++o)n.agg[o]=new r[o](n)}return n.store&&(n.data=new gD),n},newtuple(e,t){const n=this._dnames,r=this._dims,i=r.length,o={};for(let s=0;s<i;++s)o[n[s]]=r[s](e);return t?KQ(t.tuple,o):Ot(o)},clean(){const e=this.value;for(const t in e)e[t].num===0&&delete e[t]},add(e){const t=this.cellkey(e),n=this.cell(t,e);if(n.num+=1,this._countOnly)return;n.store&&n.data.add(e);const r=n.agg;for(let i=0,o=r.length;i<o;++i)r[i].add(r[i].get(e),e)},rem(e){const t=this.cellkey(e),n=this.cell(t,e);if(n.num-=1,this._countOnly)return;n.store&&n.data.rem(e);const r=n.agg;for(let i=0,o=r.length;i<o;++i)r[i].rem(r[i].get(e),e)},celltuple(e){const t=e.tuple,n=this._counts;e.store&&e.data.values();for(let r=0,i=n.length;r<i;++r)t[n[r]]=e.num;if(!this._countOnly){const r=e.agg;for(let i=0,o=r.length;i<o;++i)r[i].set(t)}return t},changes(e){const t=this._adds,n=this._mods,r=this._prev,i=this._drop,o=e.add,s=e.rem,a=e.mod;let l,u,c,f;if(r)for(u in r)l=r[u],(!i||l.num)&&s.push(l.tuple);for(c=0,f=this._alen;c<f;++c)o.push(this.celltuple(t[c])),t[c]=null;for(c=0,f=this._mlen;c<f;++c)l=n[c],(l.num===0&&i?s:a).push(this.celltuple(l)),n[c]=null;return this._alen=this._mlen=0,this._prev=null,e}});const k2e=1e-14;function mD(e){J.call(this,null,e)}mD.Definition={type:"Bin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean",default:!0},{name:"anchor",type:"number"},{name:"maxbins",type:"number",default:20},{name:"base",type:"number",default:10},{name:"divide",type:"number",array:!0,default:[5,2]},{name:"extent",type:"number",array:!0,length:2,required:!0},{name:"span",type:"number"},{name:"step",type:"number"},{name:"steps",type:"number",array:!0},{name:"minstep",type:"number",default:0},{name:"nice",type:"boolean",default:!0},{name:"name",type:"string"},{name:"as",type:"string",array:!0,length:2,default:["bin0","bin1"]}]};he(mD,J,{transform(e,t){const n=e.interval!==!1,r=this._bins(e),i=r.start,o=r.step,s=e.as||["bin0","bin1"],a=s[0],l=s[1];let u;return e.modified()?(t=t.reflow(!0),u=t.SOURCE):u=t.modified(ri(e.field))?t.ADD_MOD:t.ADD,t.visit(u,n?c=>{const f=r(c);c[a]=f,c[l]=f==null?null:i+o*(1+(f-i)/o)}:c=>c[a]=r(c)),t.modifies(n?s:a)},_bins(e){if(this.value&&!e.modified())return this.value;const t=e.field,n=rJ(e),r=n.step;let i=n.start,o=i+Math.ceil((n.stop-i)/r)*r,s,a;(s=e.anchor)!=null&&(a=s-(i+r*Math.floor((s-i)/r)),i+=a,o+=a);const l=function(u){let c=ti(t(u));return c==null?null:c<i?-1/0:c>o?1/0:(c=Math.max(i,Math.min(c,o-r)),i+r*Math.floor(k2e+(c-i)/r))};return l.start=i,l.stop=n.stop,l.step=r,this.value=go(l,ri(t),e.name||"bin_"+On(t))}});function bJ(e,t,n){const r=e;let i=t||[],o=n||[],s={},a=0;return{add:l=>o.push(l),remove:l=>s[r(l)]=++a,size:()=>i.length,data:(l,u)=>(a&&(i=i.filter(c=>!s[r(c)]),s={},a=0),u&&l&&i.sort(l),o.length&&(i=l?jK(l,i,o.sort(l)):i.concat(o),o=[]),i)}}function yD(e){J.call(this,[],e)}yD.Definition={type:"Collect",metadata:{source:!0},params:[{name:"sort",type:"compare"}]};he(yD,J,{transform(e,t){const n=t.fork(t.ALL),r=bJ(De,this.value,n.materialize(n.ADD).add),i=e.sort,o=t.changed()||i&&(e.modified("sort")||t.modified(i.fields));return n.visit(n.REM,r.remove),this.modified(o),this.value=n.source=r.data(Jh(i),o),t.source&&t.source.root&&(this.value.root=t.source.root),n}});function xJ(e){Qt.call(this,null,_2e,e)}he(xJ,Qt);function _2e(e){return this.value&&!e.modified()?this.value:F6(e.fields,e.orders)}function vD(e){J.call(this,null,e)}vD.Definition={type:"CountPattern",metadata:{generates:!0,changes:!0},params:[{name:"field",type:"field",required:!0},{name:"case",type:"enum",values:["upper","lower","mixed"],default:"mixed"},{name:"pattern",type:"string",default:'[\\w"]+'},{name:"stopwords",type:"string",default:""},{name:"as",type:"string",array:!0,length:2,default:["text","count"]}]};function $2e(e,t,n){switch(t){case"upper":e=e.toUpperCase();break;case"lower":e=e.toLowerCase();break}return e.match(n)}he(vD,J,{transform(e,t){const n=f=>d=>{for(var h=$2e(a(d),e.case,o)||[],p,g=0,m=h.length;g<m;++g)s.test(p=h[g])||f(p)},r=this._parameterCheck(e,t),i=this._counts,o=this._match,s=this._stop,a=e.field,l=e.as||["text","count"],u=n(f=>i[f]=1+(i[f]||0)),c=n(f=>i[f]-=1);return r?t.visit(t.SOURCE,u):(t.visit(t.ADD,u),t.visit(t.REM,c)),this._finish(t,l)},_parameterCheck(e,t){let n=!1;return(e.modified("stopwords")||!this._stop)&&(this._stop=new RegExp("^"+(e.stopwords||"")+"$","i"),n=!0),(e.modified("pattern")||!this._match)&&(this._match=new RegExp(e.pattern||"[\\w']+","g"),n=!0),(e.modified("field")||t.modified(e.field.fields))&&(n=!0),n&&(this._counts={}),n},_finish(e,t){const n=this._counts,r=this._tuples||(this._tuples={}),i=t[0],o=t[1],s=e.fork(e.NO_SOURCE|e.NO_FIELDS);let a,l,u;for(a in n)l=r[a],u=n[a]||0,!l&&u?(r[a]=l=Ot({}),l[i]=a,l[o]=u,s.add.push(l)):u===0?(l&&s.rem.push(l),n[a]=null,r[a]=null):l[o]!==u&&(l[o]=u,s.mod.push(l));return s.modifies(t)}});function bD(e){J.call(this,null,e)}bD.Definition={type:"Cross",metadata:{generates:!0},params:[{name:"filter",type:"expr"},{name:"as",type:"string",array:!0,length:2,default:["a","b"]}]};he(bD,J,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.as||["a","b"],i=r[0],o=r[1],s=!this.value||t.changed(t.ADD_REM)||e.modified("as")||e.modified("filter");let a=this.value;return s?(a&&(n.rem=a),a=t.materialize(t.SOURCE).source,n.add=this.value=A2e(a,i,o,e.filter||ws)):n.mod=a,n.source=this.value,n.modifies(r)}});function A2e(e,t,n,r){for(var i=[],o={},s=e.length,a=0,l,u;a<s;++a)for(o[t]=u=e[a],l=0;l<s;++l)o[n]=e[l],r(o)&&(i.push(Ot(o)),o={},o[t]=u);return i}const Bz={kde:rD,mixture:lJ,normal:nD,lognormal:aJ,uniform:uJ},T2e="distributions",jz="function",R2e="field";function wJ(e,t){const n=e[jz];Se(Bz,n)||ee("Unknown distribution function: "+n);const r=Bz[n]();for(const i in e)i===R2e?r.data((e.from||t()).map(e[i])):i===T2e?r[i](e[i].map(o=>wJ(o,t))):typeof r[i]===jz&&r[i](e[i]);return r}function xD(e){J.call(this,null,e)}const SJ=[{key:{function:"normal"},params:[{name:"mean",type:"number",default:0},{name:"stdev",type:"number",default:1}]},{key:{function:"lognormal"},params:[{name:"mean",type:"number",default:0},{name:"stdev",type:"number",default:1}]},{key:{function:"uniform"},params:[{name:"min",type:"number",default:0},{name:"max",type:"number",default:1}]},{key:{function:"kde"},params:[{name:"field",type:"field",required:!0},{name:"from",type:"data"},{name:"bandwidth",type:"number",default:0}]}],F2e={key:{function:"mixture"},params:[{name:"distributions",type:"param",array:!0,params:SJ},{name:"weights",type:"number",array:!0}]};xD.Definition={type:"Density",metadata:{generates:!0},params:[{name:"extent",type:"number",array:!0,length:2},{name:"steps",type:"number"},{name:"minsteps",type:"number",default:25},{name:"maxsteps",type:"number",default:200},{name:"method",type:"string",default:"pdf",values:["pdf","cdf"]},{name:"distribution",type:"param",params:SJ.concat(F2e)},{name:"as",type:"string",array:!0,default:["value","density"]}]};he(xD,J,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const r=wJ(e.distribution,O2e(t)),i=e.steps||e.minsteps||25,o=e.steps||e.maxsteps||200;let s=e.method||"pdf";s!=="pdf"&&s!=="cdf"&&ee("Invalid density method: "+s),!e.extent&&!r.data&&ee("Missing density extent parameter."),s=r[s];const a=e.as||["value","density"],l=e.extent||vl(r.data()),u=Zk(s,l,i,o).map(c=>{const f={};return f[a[0]]=c[0],f[a[1]]=c[1],Ot(f)});this.value&&(n.rem=this.value),this.value=n.add=n.source=u}return n}});function O2e(e){return()=>e.materialize(e.SOURCE).source}function CJ(e,t){return e?e.map((n,r)=>t[r]||On(n)):null}function wD(e,t,n){const r=[],i=f=>f(l);let o,s,a,l,u,c;if(t==null)r.push(e.map(n));else for(o={},s=0,a=e.length;s<a;++s)l=e[s],u=t.map(i),c=o[u],c||(o[u]=c=[],c.dims=u,r.push(c)),c.push(n(l));return r}const EJ="bin";function SD(e){J.call(this,null,e)}SD.Definition={type:"DotBin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"step",type:"number"},{name:"smooth",type:"boolean",default:!1},{name:"as",type:"string",default:EJ}]};const P2e=(e,t)=>Ib(vl(e,t))/30;he(SD,J,{transform(e,t){if(this.value&&!(e.modified()||t.changed()))return t;const n=t.materialize(t.SOURCE).source,r=wD(t.source,e.groupby,ai),i=e.smooth||!1,o=e.field,s=e.step||P2e(n,o),a=Jh((p,g)=>o(p)-o(g)),l=e.as||EJ,u=r.length;let c=1/0,f=-1/0,d=0,h;for(;d<u;++d){const p=r[d].sort(a);h=-1;for(const g of oJ(p,s,i,o))g<c&&(c=g),g>f&&(f=g),p[++h][l]=g}return this.value={start:c,stop:f,step:s},t.reflow(!0).modifies(l)}});function kJ(e){Qt.call(this,null,D2e,e),this.modified(!0)}he(kJ,Qt);function D2e(e){const t=e.expr;return this.value&&!e.modified("expr")?this.value:go(n=>t(n,e),ri(t),On(t))}function CD(e){J.call(this,[void 0,void 0],e)}CD.Definition={type:"Extent",metadata:{},params:[{name:"field",type:"field",required:!0}]};he(CD,J,{transform(e,t){const n=this.value,r=e.field,i=t.changed()||t.modified(r.fields)||e.modified("field");let o=n[0],s=n[1];if((i||o==null)&&(o=1/0,s=-1/0),t.visit(i?t.SOURCE:t.ADD,a=>{const l=ti(r(a));l!=null&&(l<o&&(o=l),l>s&&(s=l))}),!Number.isFinite(o)||!Number.isFinite(s)){let a=On(r);a&&(a=` for field "${a}"`),t.dataflow.warn(`Infinite extent${a}: [${o}, ${s}]`),o=s=void 0}this.value=[o,s]}});function ED(e,t){Qt.call(this,e),this.parent=t,this.count=0}he(ED,Qt,{connect(e){return this.detachSubflow=e.detachSubflow,this.targets().add(e),e.source=this},add(e){this.count+=1,this.value.add.push(e)},rem(e){this.count-=1,this.value.rem.push(e)},mod(e){this.value.mod.push(e)},init(e){this.value.init(e,e.NO_SOURCE)},evaluate(){return this.value}});function e_(e){J.call(this,{},e),this._keys=C0();const t=this._targets=[];t.active=0,t.forEach=n=>{for(let r=0,i=t.active;r<i;++r)n(t[r],r,t)}}he(e_,J,{activate(e){this._targets[this._targets.active++]=e},subflow(e,t,n,r){const i=this.value;let o=Se(i,e)&&i[e],s,a;return o?o.value.stamp<n.stamp&&(o.init(n),this.activate(o)):(a=r||(a=this._group[e])&&a.tuple,s=n.dataflow,o=new ED(n.fork(n.NO_SOURCE),this),s.add(o).connect(t(s,e,a)),i[e]=o,this.activate(o)),o},clean(){const e=this.value;let t=0;for(const n in e)if(e[n].count===0){const r=e[n].detachSubflow;r&&r(),delete e[n],++t}if(t){const n=this._targets.filter(r=>r&&r.count>0);this.initTargets(n)}},initTargets(e){const t=this._targets,n=t.length,r=e?e.length:0;let i=0;for(;i<r;++i)t[i]=e[i];for(;i<n&&t[i]!=null;++i)t[i]=null;t.active=r},transform(e,t){const n=t.dataflow,r=e.key,i=e.subflow,o=this._keys,s=e.modified("key"),a=l=>this.subflow(l,i,t);return this._group=e.group||{},this.initTargets(),t.visit(t.REM,l=>{const u=De(l),c=o.get(u);c!==void 0&&(o.delete(u),a(c).rem(l))}),t.visit(t.ADD,l=>{const u=r(l);o.set(De(l),u),a(u).add(l)}),s||t.modified(r.fields)?t.visit(t.MOD,l=>{const u=De(l),c=o.get(u),f=r(l);c===f?a(f).mod(l):(o.set(u,f),a(c).rem(l),a(f).add(l))}):t.changed(t.MOD)&&t.visit(t.MOD,l=>{a(o.get(De(l))).mod(l)}),s&&t.visit(t.REFLOW,l=>{const u=De(l),c=o.get(u),f=r(l);c!==f&&(o.set(u,f),a(c).rem(l),a(f).add(l))}),t.clean()?n.runAfter(()=>{this.clean(),o.clean()}):o.empty>n.cleanThreshold&&n.runAfter(o.clean),t}});function _J(e){Qt.call(this,null,M2e,e)}he(_J,Qt);function M2e(e){return this.value&&!e.modified()?this.value:te(e.name)?xe(e.name).map(t=>xs(t)):xs(e.name,e.as)}function kD(e){J.call(this,C0(),e)}kD.Definition={type:"Filter",metadata:{changes:!0},params:[{name:"expr",type:"expr",required:!0}]};he(kD,J,{transform(e,t){const n=t.dataflow,r=this.value,i=t.fork(),o=i.add,s=i.rem,a=i.mod,l=e.expr;let u=!0;t.visit(t.REM,f=>{const d=De(f);r.has(d)?r.delete(d):s.push(f)}),t.visit(t.ADD,f=>{l(f,e)?o.push(f):r.set(De(f),1)});function c(f){const d=De(f),h=l(f,e),p=r.get(d);h&&p?(r.delete(d),o.push(f)):!h&&!p?(r.set(d,1),s.push(f)):u&&h&&!p&&a.push(f)}return t.visit(t.MOD,c),e.modified()&&(u=!1,t.visit(t.REFLOW,c)),r.empty>n.cleanThreshold&&n.runAfter(r.clean),i}});function _D(e){J.call(this,[],e)}_D.Definition={type:"Flatten",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"index",type:"string"},{name:"as",type:"string",array:!0}]};he(_D,J,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.fields,i=CJ(r,e.as||[]),o=e.index||null,s=i.length;return n.rem=this.value,t.visit(t.SOURCE,a=>{const l=r.map(p=>p(a)),u=l.reduce((p,g)=>Math.max(p,g.length),0);let c=0,f,d,h;for(;c<u;++c){for(d=Y6(a),f=0;f<s;++f)d[i[f]]=(h=l[f][c])==null?null:h;o&&(d[o]=c),n.add.push(d)}}),this.value=n.source=n.add,o&&n.modifies(o),n.modifies(i)}});function $D(e){J.call(this,[],e)}$D.Definition={type:"Fold",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0,length:2,default:["key","value"]}]};he($D,J,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.fields,i=r.map(On),o=e.as||["key","value"],s=o[0],a=o[1],l=r.length;return n.rem=this.value,t.visit(t.SOURCE,u=>{for(let c=0,f;c<l;++c)f=Y6(u),f[s]=i[c],f[a]=r[c](u),n.add.push(f)}),this.value=n.source=n.add,n.modifies(o)}});function AD(e){J.call(this,null,e)}AD.Definition={type:"Formula",metadata:{modifies:!0},params:[{name:"expr",type:"expr",required:!0},{name:"as",type:"string",required:!0},{name:"initonly",type:"boolean"}]};he(AD,J,{transform(e,t){const n=e.expr,r=e.as,i=e.modified(),o=e.initonly?t.ADD:i?t.SOURCE:t.modified(n.fields)||t.modified(r)?t.ADD_MOD:t.ADD;return i&&(t=t.materialize().reflow(!0)),e.initonly||t.modifies(r),t.visit(o,s=>s[r]=n(s,e))}});function $J(e){J.call(this,[],e)}he($J,J,{transform(e,t){const n=t.fork(t.ALL),r=e.generator;let i=this.value,o=e.size-i.length,s,a,l;if(o>0){for(s=[];--o>=0;)s.push(l=Ot(r(e))),i.push(l);n.add=n.add.length?n.materialize(n.ADD).add.concat(s):s}else a=i.slice(0,-o),n.rem=n.rem.length?n.materialize(n.REM).rem.concat(a):a,i=i.slice(-o);return n.source=this.value=i,n}});const E2={value:"value",median:ZK,mean:yve,min:rR,max:Jd},N2e=[];function TD(e){J.call(this,[],e)}TD.Definition={type:"Impute",metadata:{changes:!0},params:[{name:"field",type:"field",required:!0},{name:"key",type:"field",required:!0},{name:"keyvals",array:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"enum",default:"value",values:["value","mean","median","max","min"]},{name:"value",default:0}]};function L2e(e){var t=e.method||E2.value,n;if(E2[t]==null)ee("Unrecognized imputation method: "+t);else return t===E2.value?(n=e.value!==void 0?e.value:0,()=>n):E2[t]}function I2e(e){const t=e.field;return n=>n?t(n):NaN}he(TD,J,{transform(e,t){var n=t.fork(t.ALL),r=L2e(e),i=I2e(e),o=On(e.field),s=On(e.key),a=(e.groupby||[]).map(On),l=z2e(t.source,e.groupby,e.key,e.keyvals),u=[],c=this.value,f=l.domain.length,d,h,p,g,m,y,v,b,x,w;for(m=0,b=l.length;m<b;++m)for(d=l[m],p=d.values,h=NaN,v=0;v<f;++v)if(d[v]==null){for(g=l.domain[v],w={_impute:!0},y=0,x=p.length;y<x;++y)w[a[y]]=p[y];w[s]=g,w[o]=Number.isNaN(h)?h=r(d,i):h,u.push(Ot(w))}return u.length&&(n.add=n.materialize(n.ADD).add.concat(u)),c.length&&(n.rem=n.materialize(n.REM).rem.concat(c)),this.value=u,n}});function z2e(e,t,n,r){var i=y=>y(m),o=[],s=r?r.slice():[],a={},l={},u,c,f,d,h,p,g,m;for(s.forEach((y,v)=>a[y]=v+1),d=0,g=e.length;d<g;++d)m=e[d],p=n(m),h=a[p]||(a[p]=s.push(p)),c=(u=t?t.map(i):N2e)+"",(f=l[c])||(f=l[c]=[],o.push(f),f.values=u),f[h-1]=m;return o.domain=s,o}function RD(e){ff.call(this,e)}RD.Definition={type:"JoinAggregate",metadata:{modifies:!0},params:[{name:"groupby",type:"field",array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"ops",type:"enum",array:!0,values:qb},{name:"as",type:"string",null:!0,array:!0},{name:"key",type:"field"}]};he(RD,ff,{transform(e,t){const n=this,r=e.modified();let i;return n.value&&(r||t.modified(n._inputs,!0))?(i=n.value=r?n.init(e):{},t.visit(t.SOURCE,o=>n.add(o))):(i=n.value=n.value||this.init(e),t.visit(t.REM,o=>n.rem(o)),t.visit(t.ADD,o=>n.add(o))),n.changes(),t.visit(t.SOURCE,o=>{Ze(o,i[n.cellkey(o)].tuple)}),t.reflow(r).modifies(this._outputs)},changes(){const e=this._adds,t=this._mods;let n,r;for(n=0,r=this._alen;n<r;++n)this.celltuple(e[n]),e[n]=null;for(n=0,r=this._mlen;n<r;++n)this.celltuple(t[n]),t[n]=null;this._alen=this._mlen=0}});function FD(e){J.call(this,null,e)}FD.Definition={type:"KDE",metadata:{generates:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"cumulative",type:"boolean",default:!1},{name:"counts",type:"boolean",default:!1},{name:"bandwidth",type:"number",default:0},{name:"extent",type:"number",array:!0,length:2},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"steps",type:"number"},{name:"minsteps",type:"number",default:25},{name:"maxsteps",type:"number",default:200},{name:"as",type:"string",array:!0,default:["value","density"]}]};he(FD,J,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const r=t.materialize(t.SOURCE).source,i=wD(r,e.groupby,e.field),o=(e.groupby||[]).map(On),s=e.bandwidth,a=e.cumulative?"cdf":"pdf",l=e.as||["value","density"],u=[];let c=e.extent,f=e.steps||e.minsteps||25,d=e.steps||e.maxsteps||200;a!=="pdf"&&a!=="cdf"&&ee("Invalid density method: "+a),e.resolve==="shared"&&(c||(c=vl(r,e.field)),f=d=e.steps||d),i.forEach(h=>{const p=rD(h,s)[a],g=e.counts?h.length:1,m=c||vl(h);Zk(p,m,f,d).forEach(y=>{const v={};for(let b=0;b<o.length;++b)v[o[b]]=h.dims[b];v[l[0]]=y[0],v[l[1]]=y[1]*g,u.push(Ot(v))})}),this.value&&(n.rem=this.value),this.value=n.add=n.source=u}return n}});function AJ(e){Qt.call(this,null,B2e,e)}he(AJ,Qt);function B2e(e){return this.value&&!e.modified()?this.value:P6(e.fields,e.flat)}function TJ(e){J.call(this,[],e),this._pending=null}he(TJ,J,{transform(e,t){const n=t.dataflow;return this._pending?sT(this,t,this._pending):j2e(e)?t.StopPropagation:e.values?sT(this,t,n.parse(e.values,e.format)):e.async?{async:n.request(e.url,e.format).then(i=>(this._pending=xe(i.data),o=>o.touch(this)))}:n.request(e.url,e.format).then(r=>sT(this,t,xe(r.data)))}});function j2e(e){return e.modified("async")&&!(e.modified("values")||e.modified("url")||e.modified("format"))}function sT(e,t,n){n.forEach(Ot);const r=t.fork(t.NO_FIELDS&t.NO_SOURCE);return r.rem=e.value,e.value=r.source=r.add=n,e._pending=null,r.rem.length&&r.clean(!0),r}function OD(e){J.call(this,{},e)}OD.Definition={type:"Lookup",metadata:{modifies:!0},params:[{name:"index",type:"index",params:[{name:"from",type:"data",required:!0},{name:"key",type:"field",required:!0}]},{name:"values",type:"field",array:!0},{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0},{name:"default",default:null}]};he(OD,J,{transform(e,t){const n=e.fields,r=e.index,i=e.values,o=e.default==null?null:e.default,s=e.modified(),a=n.length;let l=s?t.SOURCE:t.ADD,u=t,c=e.as,f,d,h;return i?(d=i.length,a>1&&!c&&ee('Multi-field lookup requires explicit "as" parameter.'),c&&c.length!==a*d&&ee('The "as" parameter has too few output field names.'),c=c||i.map(On),f=function(p){for(var g=0,m=0,y,v;g<a;++g)if(v=r.get(n[g](p)),v==null)for(y=0;y<d;++y,++m)p[c[m]]=o;else for(y=0;y<d;++y,++m)p[c[m]]=i[y](v)}):(c||ee("Missing output field names."),f=function(p){for(var g=0,m;g<a;++g)m=r.get(n[g](p)),p[c[g]]=m??o}),s?u=t.reflow(!0):(h=n.some(p=>t.modified(p.fields)),l|=h?t.MOD:0),t.visit(l,f),u.modifies(c)}});function RJ(e){Qt.call(this,null,U2e,e)}he(RJ,Qt);function U2e(e){if(this.value&&!e.modified())return this.value;const t=e.extents,n=t.length;let r=1/0,i=-1/0,o,s;for(o=0;o<n;++o)s=t[o],s[0]<r&&(r=s[0]),s[1]>i&&(i=s[1]);return[r,i]}function FJ(e){Qt.call(this,null,V2e,e)}he(FJ,Qt);function V2e(e){return this.value&&!e.modified()?this.value:e.values.reduce((t,n)=>t.concat(n),[])}function OJ(e){J.call(this,null,e)}he(OJ,J,{transform(e,t){return this.modified(e.modified()),this.value=e,t.fork(t.NO_SOURCE|t.NO_FIELDS)}});function PD(e){ff.call(this,e)}PD.Definition={type:"Pivot",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"value",type:"field",required:!0},{name:"op",type:"enum",values:qb,default:"sum"},{name:"limit",type:"number",default:0},{name:"key",type:"field"}]};he(PD,ff,{_transform:ff.prototype.transform,transform(e,t){return this._transform(W2e(e,t),t)}});function W2e(e,t){const n=e.field,r=e.value,i=(e.op==="count"?"__count__":e.op)||"sum",o=ri(n).concat(ri(r)),s=q2e(n,e.limit||0,t);return t.changed()&&e.set("__pivot__",null,null,!0),{key:e.key,groupby:e.groupby,ops:s.map(()=>i),fields:s.map(a=>H2e(a,n,r,o)),as:s.map(a=>a+""),modified:e.modified.bind(e)}}function H2e(e,t,n,r){return go(i=>t(i)===e?n(i):NaN,r,e+"")}function q2e(e,t,n){const r={},i=[];return n.visit(n.SOURCE,o=>{const s=e(o);r[s]||(r[s]=1,i.push(s))}),i.sort(jk),t?i.slice(0,t):i}function PJ(e){e_.call(this,e)}he(PJ,e_,{transform(e,t){const n=e.subflow,r=e.field,i=o=>this.subflow(De(o),n,t,o);return(e.modified("field")||r&&t.modified(ri(r)))&&ee("PreFacet does not support field modification."),this.initTargets(),r?(t.visit(t.MOD,o=>{const s=i(o);r(o).forEach(a=>s.mod(a))}),t.visit(t.ADD,o=>{const s=i(o);r(o).forEach(a=>s.add(Ot(a)))}),t.visit(t.REM,o=>{const s=i(o);r(o).forEach(a=>s.rem(a))})):(t.visit(t.MOD,o=>i(o).mod(o)),t.visit(t.ADD,o=>i(o).add(o)),t.visit(t.REM,o=>i(o).rem(o))),t.clean()&&t.runAfter(()=>this.clean()),t}});function DD(e){J.call(this,null,e)}DD.Definition={type:"Project",metadata:{generates:!0,changes:!0},params:[{name:"fields",type:"field",array:!0},{name:"as",type:"string",null:!0,array:!0}]};he(DD,J,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.fields,i=CJ(e.fields,e.as||[]),o=r?(a,l)=>G2e(a,l,r,i):qk;let s;return this.value?s=this.value:(t=t.addAll(),s=this.value={}),t.visit(t.REM,a=>{const l=De(a);n.rem.push(s[l]),s[l]=null}),t.visit(t.ADD,a=>{const l=o(a,Ot({}));s[De(a)]=l,n.add.push(l)}),t.visit(t.MOD,a=>{n.mod.push(o(a,s[De(a)]))}),n}});function G2e(e,t,n,r){for(let i=0,o=n.length;i<o;++i)t[r[i]]=n[i](e);return t}function DJ(e){J.call(this,null,e)}he(DJ,J,{transform(e,t){return this.value=e.value,e.modified("value")?t.fork(t.NO_SOURCE|t.NO_FIELDS):t.StopPropagation}});function MD(e){J.call(this,null,e)}MD.Definition={type:"Quantile",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"probs",type:"number",array:!0},{name:"step",type:"number",default:.01},{name:"as",type:"string",array:!0,default:["prob","value"]}]};const X2e=1e-14;he(MD,J,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=e.as||["prob","value"];if(this.value&&!e.modified()&&!t.changed())return n.source=this.value,n;const i=t.materialize(t.SOURCE).source,o=wD(i,e.groupby,e.field),s=(e.groupby||[]).map(On),a=[],l=e.step||.01,u=e.probs||_o(l/2,1-X2e,l),c=u.length;return o.forEach(f=>{const d=J6(f,u);for(let h=0;h<c;++h){const p={};for(let g=0;g<s.length;++g)p[s[g]]=f.dims[g];p[r[0]]=u[h],p[r[1]]=d[h],a.push(Ot(p))}}),this.value&&(n.rem=this.value),this.value=n.add=n.source=a,n}});function MJ(e){J.call(this,null,e)}he(MJ,J,{transform(e,t){let n,r;return this.value?r=this.value:(n=t=t.addAll(),r=this.value={}),e.derive&&(n=t.fork(t.NO_SOURCE),t.visit(t.REM,i=>{const o=De(i);n.rem.push(r[o]),r[o]=null}),t.visit(t.ADD,i=>{const o=Y6(i);r[De(i)]=o,n.add.push(o)}),t.visit(t.MOD,i=>{const o=r[De(i)];for(const s in i)o[s]=i[s],n.modifies(s);n.mod.push(o)})),n}});function ND(e){J.call(this,[],e),this.count=0}ND.Definition={type:"Sample",metadata:{},params:[{name:"size",type:"number",default:1e3}]};he(ND,J,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.modified("size"),i=e.size,o=this.value.reduce((c,f)=>(c[De(f)]=1,c),{});let s=this.value,a=this.count,l=0;function u(c){let f,d;s.length<i?s.push(c):(d=~~((a+1)*Cs()),d<s.length&&d>=l&&(f=s[d],o[De(f)]&&n.rem.push(f),s[d]=c)),++a}if(t.rem.length&&(t.visit(t.REM,c=>{const f=De(c);o[f]&&(o[f]=-1,n.rem.push(c)),--a}),s=s.filter(c=>o[De(c)]!==-1)),(t.rem.length||r)&&s.length<i&&t.source&&(l=a=s.length,t.visit(t.SOURCE,c=>{o[De(c)]||u(c)}),l=-1),r&&s.length>i){const c=s.length-i;for(let f=0;f<c;++f)o[De(s[f])]=-1,n.rem.push(s[f]);s=s.slice(c)}return t.mod.length&&t.visit(t.MOD,c=>{o[De(c)]&&n.mod.push(c)}),t.add.length&&t.visit(t.ADD,u),(t.add.length||l<0)&&(n.add=s.filter(c=>!o[De(c)])),this.count=a,this.value=n.source=s,n}});function LD(e){J.call(this,null,e)}LD.Definition={type:"Sequence",metadata:{generates:!0,changes:!0},params:[{name:"start",type:"number",required:!0},{name:"stop",type:"number",required:!0},{name:"step",type:"number",default:1},{name:"as",type:"string",default:"data"}]};he(LD,J,{transform(e,t){if(this.value&&!e.modified())return;const n=t.materialize().fork(t.MOD),r=e.as||"data";return n.rem=this.value?t.rem.concat(this.value):t.rem,this.value=_o(e.start,e.stop,e.step||1).map(i=>{const o={};return o[r]=i,Ot(o)}),n.add=t.add.concat(this.value),n}});function NJ(e){J.call(this,null,e),this.modified(!0)}he(NJ,J,{transform(e,t){return this.value=t.source,t.changed()?t.fork(t.NO_SOURCE|t.NO_FIELDS):t.StopPropagation}});function ID(e){J.call(this,null,e)}const LJ=["unit0","unit1"];ID.Definition={type:"TimeUnit",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean",default:!0},{name:"units",type:"enum",values:B6,array:!0},{name:"step",type:"number",default:1},{name:"maxbins",type:"number",default:40},{name:"extent",type:"date",array:!0},{name:"timezone",type:"enum",default:"local",values:["local","utc"]},{name:"as",type:"string",array:!0,length:2,default:LJ}]};he(ID,J,{transform(e,t){const n=e.field,r=e.interval!==!1,i=e.timezone==="utc",o=this._floor(e,t),s=(i?_0:k0)(o.unit).offset,a=e.as||LJ,l=a[0],u=a[1],c=o.step;let f=o.start||1/0,d=o.stop||-1/0,h=t.ADD;return(e.modified()||t.changed(t.REM)||t.modified(ri(n)))&&(t=t.reflow(!0),h=t.SOURCE,f=1/0,d=-1/0),t.visit(h,p=>{const g=n(p);let m,y;g==null?(p[l]=null,r&&(p[u]=null)):(p[l]=m=y=o(g),r&&(p[u]=y=s(m,c)),m<f&&(f=m),y>d&&(d=y))}),o.start=f,o.stop=d,t.modifies(r?a:l)},_floor(e,t){const n=e.timezone==="utc",{units:r,step:i}=e.units?{units:e.units,step:e.step||1}:$Q({extent:e.extent||vl(t.materialize(t.SOURCE).source,e.field),maxbins:e.maxbins}),o=j6(r),s=this.value||{},a=(n?vQ:yQ)(o,i);return a.unit=gt(o),a.units=o,a.step=i,a.start=s.start,a.stop=s.stop,this.value=a}});function IJ(e){J.call(this,C0(),e)}he(IJ,J,{transform(e,t){const n=t.dataflow,r=e.field,i=this.value,o=a=>i.set(r(a),a);let s=!0;return e.modified("field")||t.modified(r.fields)?(i.clear(),t.visit(t.SOURCE,o)):t.changed()?(t.visit(t.REM,a=>i.delete(r(a))),t.visit(t.ADD,o)):s=!1,this.modified(s),i.empty>n.cleanThreshold&&n.runAfter(i.clean),t.fork()}});function zJ(e){J.call(this,null,e)}he(zJ,J,{transform(e,t){(!this.value||e.modified("field")||e.modified("sort")||t.changed()||e.sort&&t.modified(e.sort.fields))&&(this.value=(e.sort?t.source.slice().sort(Jh(e.sort)):t.source).map(e.field))}});function Y2e(e,t,n,r){const i=kv[e](t,n);return{init:i.init||kc,update:function(o,s){s[r]=i.next(o)}}}const kv={row_number:function(){return{next:e=>e.index+1}},rank:function(){let e;return{init:()=>e=1,next:t=>{const n=t.index,r=t.data;return n&&t.compare(r[n-1],r[n])?e=n+1:e}}},dense_rank:function(){let e;return{init:()=>e=1,next:t=>{const n=t.index,r=t.data;return n&&t.compare(r[n-1],r[n])?++e:e}}},percent_rank:function(){const e=kv.rank(),t=e.next;return{init:e.init,next:n=>(t(n)-1)/(n.data.length-1)}},cume_dist:function(){let e;return{init:()=>e=0,next:t=>{const n=t.data,r=t.compare;let i=t.index;if(e<i){for(;i+1<n.length&&!r(n[i],n[i+1]);)++i;e=i}return(1+e)/n.length}}},ntile:function(e,t){t=+t,t>0||ee("ntile num must be greater than zero.");const n=kv.cume_dist(),r=n.next;return{init:n.init,next:i=>Math.ceil(t*r(i))}},lag:function(e,t){return t=+t||1,{next:n=>{const r=n.index-t;return r>=0?e(n.data[r]):null}}},lead:function(e,t){return t=+t||1,{next:n=>{const r=n.index+t,i=n.data;return r<i.length?e(i[r]):null}}},first_value:function(e){return{next:t=>e(t.data[t.i0])}},last_value:function(e){return{next:t=>e(t.data[t.i1-1])}},nth_value:function(e,t){return t=+t,t>0||ee("nth_value nth must be greater than zero."),{next:n=>{const r=n.i0+(t-1);return r<n.i1?e(n.data[r]):null}}},prev_value:function(e){let t;return{init:()=>t=null,next:n=>{const r=e(n.data[n.index]);return r!=null?t=r:t}}},next_value:function(e){let t,n;return{init:()=>(t=null,n=-1),next:r=>{const i=r.data;return r.index<=n?t:(n=K2e(e,i,r.index))<0?(n=i.length,t=null):t=e(i[n])}}}};function K2e(e,t,n){for(let r=t.length;n<r;++n)if(e(t[n])!=null)return n;return-1}const Q2e=Object.keys(kv);function BJ(e){const t=xe(e.ops),n=xe(e.fields),r=xe(e.params),i=xe(e.aggregate_params),o=xe(e.as),s=this.outputs=[],a=this.windows=[],l={},u={},c=[],f=[];let d=!0;function h(p){xe(ri(p)).forEach(g=>l[g]=1)}h(e.sort),t.forEach((p,g)=>{const m=n[g],y=r[g],v=i[g]||null,b=On(m),x=gJ(p,b,o[g]);if(h(m),s.push(x),Se(kv,p))a.push(Y2e(p,m,y,x));else{if(m==null&&p!=="count"&&ee("Null aggregate field specified."),p==="count"){c.push(x);return}d=!1;let w=u[b];w||(w=u[b]=[],w.field=m,f.push(w)),w.push(mJ(p,v,x))}}),(c.length||f.length)&&(this.cell=J2e(f,c,d)),this.inputs=Object.keys(l)}const jJ=BJ.prototype;jJ.init=function(){this.windows.forEach(e=>e.init()),this.cell&&this.cell.init()};jJ.update=function(e,t){const n=this.cell,r=this.windows,i=e.data,o=r&&r.length;let s;if(n){for(s=e.p0;s<e.i0;++s)n.rem(i[s]);for(s=e.p1;s<e.i1;++s)n.add(i[s]);n.set(t)}for(s=0;s<o;++s)r[s].update(e,t)};function J2e(e,t,n){e=e.map(l=>vJ(l,l.field));const r={num:0,agg:null,store:!1,count:t};if(!n)for(var i=e.length,o=r.agg=Array(i),s=0;s<i;++s)o[s]=new e[s](r);if(r.store)var a=r.data=new gD;return r.add=function(l){if(r.num+=1,!n){a&&a.add(l);for(let u=0;u<i;++u)o[u].add(o[u].get(l),l)}},r.rem=function(l){if(r.num-=1,!n){a&&a.rem(l);for(let u=0;u<i;++u)o[u].rem(o[u].get(l),l)}},r.set=function(l){let u,c;for(a&&a.values(),u=0,c=t.length;u<c;++u)l[t[u]]=r.num;if(!n)for(u=0,c=o.length;u<c;++u)o[u].set(l)},r.init=function(){r.num=0,a&&a.reset();for(let l=0;l<i;++l)o[l].init()},r}function zD(e){J.call(this,{},e),this._mlen=0,this._mods=[]}zD.Definition={type:"Window",metadata:{modifies:!0},params:[{name:"sort",type:"compare"},{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:Q2e.concat(qb)},{name:"params",type:"number",null:!0,array:!0},{name:"aggregate_params",type:"number",null:!0,array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"as",type:"string",null:!0,array:!0},{name:"frame",type:"number",null:!0,array:!0,length:2,default:[null,0]},{name:"ignorePeers",type:"boolean",default:!1}]};he(zD,J,{transform(e,t){this.stamp=t.stamp;const n=e.modified(),r=Jh(e.sort),i=pR(e.groupby),o=a=>this.group(i(a));let s=this.state;(!s||n)&&(s=this.state=new BJ(e)),n||t.modified(s.inputs)?(this.value={},t.visit(t.SOURCE,a=>o(a).add(a))):(t.visit(t.REM,a=>o(a).remove(a)),t.visit(t.ADD,a=>o(a).add(a)));for(let a=0,l=this._mlen;a<l;++a)Z2e(this._mods[a],s,r,e);return this._mlen=0,this._mods=[],t.reflow(n).modifies(s.outputs)},group(e){let t=this.value[e];return t||(t=this.value[e]=bJ(De),t.stamp=-1),t.stamp<this.stamp&&(t.stamp=this.stamp,this._mods[this._mlen++]=t),t}});function Z2e(e,t,n,r){const i=r.sort,o=i&&!r.ignorePeers,s=r.frame||[null,0],a=e.data(n),l=a.length,u=o?E0(i):null,c={i0:0,i1:0,p0:0,p1:0,index:0,data:a,compare:i||li(-1)};t.init();for(let f=0;f<l;++f)ewe(c,s,f,l),o&&twe(c,u),t.update(c,a[f])}function ewe(e,t,n,r){e.p0=e.i0,e.p1=e.i1,e.i0=t[0]==null?0:Math.max(0,n-Math.abs(t[0])),e.i1=t[1]==null?r:Math.min(r,n+Math.abs(t[1])+1),e.index=n}function twe(e,t){const n=e.i0,r=e.i1-1,i=e.compare,o=e.data,s=o.length-1;n>0&&!i(o[n],o[n-1])&&(e.i0=t.left(o,o[n])),r<s&&!i(o[r],o[r+1])&&(e.i1=t.right(o,o[r]))}const nwe=Object.freeze(Object.defineProperty({__proto__:null,aggregate:ff,bin:mD,collect:yD,compare:xJ,countpattern:vD,cross:bD,density:xD,dotbin:SD,expression:kJ,extent:CD,facet:e_,field:_J,filter:kD,flatten:_D,fold:$D,formula:AD,generate:$J,impute:TD,joinaggregate:RD,kde:FD,key:AJ,load:TJ,lookup:OD,multiextent:RJ,multivalues:FJ,params:OJ,pivot:PD,prefacet:PJ,project:DD,proxy:DJ,quantile:MD,relay:MJ,sample:ND,sequence:LD,sieve:NJ,subflow:ED,timeunit:ID,tupleindex:IJ,values:zJ,window:zD},Symbol.toStringTag,{value:"Module"}));function Mt(e){return function(){return e}}const Uz=Math.abs,Ur=Math.atan2,id=Math.cos,rwe=Math.max,aT=Math.min,Pa=Math.sin,Dd=Math.sqrt,Gr=1e-12,wm=Math.PI,uC=wm/2,UJ=2*wm;function iwe(e){return e>1?0:e<-1?wm:Math.acos(e)}function Vz(e){return e>=1?uC:e<=-1?-uC:Math.asin(e)}const gR=Math.PI,mR=2*gR,yd=1e-6,owe=mR-yd;function VJ(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function swe(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return VJ;const n=10**t;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}let BD=class{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?VJ:swe(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,o,s){this._append`C${+t},${+n},${+r},${+i},${this._x1=+o},${this._y1=+s}`}arcTo(t,n,r,i,o){if(t=+t,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let s=this._x1,a=this._y1,l=r-t,u=i-n,c=s-t,f=a-n,d=c*c+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(d>yd)if(!(Math.abs(f*l-u*c)>yd)||!o)this._append`L${this._x1=t},${this._y1=n}`;else{let h=r-s,p=i-a,g=l*l+u*u,m=h*h+p*p,y=Math.sqrt(g),v=Math.sqrt(d),b=o*Math.tan((gR-Math.acos((g+d-m)/(2*y*v)))/2),x=b/v,w=b/y;Math.abs(x-1)>yd&&this._append`L${t+x*c},${n+x*f}`,this._append`A${o},${o},0,0,${+(f*h>c*p)},${this._x1=t+w*l},${this._y1=n+w*u}`}}arc(t,n,r,i,o,s){if(t=+t,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let a=r*Math.cos(i),l=r*Math.sin(i),u=t+a,c=n+l,f=1^s,d=s?i-o:o-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>yd||Math.abs(this._y1-c)>yd)&&this._append`L${u},${c}`,r&&(d<0&&(d=d%mR+mR),d>owe?this._append`A${r},${r},0,1,${f},${t-a},${n-l}A${r},${r},0,1,${f},${this._x1=u},${this._y1=c}`:d>yd&&this._append`A${r},${r},0,${+(d>=gR)},${f},${this._x1=t+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}};function t_(){return new BD}t_.prototype=BD.prototype;function n_(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new BD(t)}function awe(e){return e.innerRadius}function lwe(e){return e.outerRadius}function uwe(e){return e.startAngle}function cwe(e){return e.endAngle}function fwe(e){return e&&e.padAngle}function dwe(e,t,n,r,i,o,s,a){var l=n-e,u=r-t,c=s-i,f=a-o,d=f*l-c*u;if(!(d*d<Gr))return d=(c*(t-o)-f*(e-i))/d,[e+d*l,t+d*u]}function k2(e,t,n,r,i,o,s){var a=e-n,l=t-r,u=(s?o:-o)/Dd(a*a+l*l),c=u*l,f=-u*a,d=e+c,h=t+f,p=n+c,g=r+f,m=(d+p)/2,y=(h+g)/2,v=p-d,b=g-h,x=v*v+b*b,w=i-o,E=d*g-p*h,S=(b<0?-1:1)*Dd(rwe(0,w*w*x-E*E)),k=(E*b-v*S)/x,$=(-E*v-b*S)/x,F=(E*b+v*S)/x,P=(-E*v+b*S)/x,j=k-m,D=$-y,L=F-m,A=P-y;return j*j+D*D>L*L+A*A&&(k=F,$=P),{cx:k,cy:$,x01:-c,y01:-f,x11:k*(i/w-1),y11:$*(i/w-1)}}function hwe(){var e=awe,t=lwe,n=Mt(0),r=null,i=uwe,o=cwe,s=fwe,a=null,l=n_(u);function u(){var c,f,d=+e.apply(this,arguments),h=+t.apply(this,arguments),p=i.apply(this,arguments)-uC,g=o.apply(this,arguments)-uC,m=Uz(g-p),y=g>p;if(a||(a=c=l()),h<d&&(f=h,h=d,d=f),!(h>Gr))a.moveTo(0,0);else if(m>UJ-Gr)a.moveTo(h*id(p),h*Pa(p)),a.arc(0,0,h,p,g,!y),d>Gr&&(a.moveTo(d*id(g),d*Pa(g)),a.arc(0,0,d,g,p,y));else{var v=p,b=g,x=p,w=g,E=m,S=m,k=s.apply(this,arguments)/2,$=k>Gr&&(r?+r.apply(this,arguments):Dd(d*d+h*h)),F=aT(Uz(h-d)/2,+n.apply(this,arguments)),P=F,j=F,D,L;if($>Gr){var A=Vz($/d*Pa(k)),O=Vz($/h*Pa(k));(E-=A*2)>Gr?(A*=y?1:-1,x+=A,w-=A):(E=0,x=w=(p+g)/2),(S-=O*2)>Gr?(O*=y?1:-1,v+=O,b-=O):(S=0,v=b=(p+g)/2)}var B=h*id(v),z=h*Pa(v),U=d*id(w),X=d*Pa(w);if(F>Gr){var K=h*id(b),pe=h*Pa(b),oe=d*id(x),_e=d*Pa(x),Je;if(m<wm)if(Je=dwe(B,z,oe,_e,K,pe,U,X)){var xt=B-Je[0],Dn=z-Je[1],cr=K-Je[0],be=pe-Je[1],Ne=1/Pa(iwe((xt*cr+Dn*be)/(Dd(xt*xt+Dn*Dn)*Dd(cr*cr+be*be)))/2),Ue=Dd(Je[0]*Je[0]+Je[1]*Je[1]);P=aT(F,(d-Ue)/(Ne-1)),j=aT(F,(h-Ue)/(Ne+1))}else P=j=0}S>Gr?j>Gr?(D=k2(oe,_e,B,z,h,j,y),L=k2(K,pe,U,X,h,j,y),a.moveTo(D.cx+D.x01,D.cy+D.y01),j<F?a.arc(D.cx,D.cy,j,Ur(D.y01,D.x01),Ur(L.y01,L.x01),!y):(a.arc(D.cx,D.cy,j,Ur(D.y01,D.x01),Ur(D.y11,D.x11),!y),a.arc(0,0,h,Ur(D.cy+D.y11,D.cx+D.x11),Ur(L.cy+L.y11,L.cx+L.x11),!y),a.arc(L.cx,L.cy,j,Ur(L.y11,L.x11),Ur(L.y01,L.x01),!y))):(a.moveTo(B,z),a.arc(0,0,h,v,b,!y)):a.moveTo(B,z),!(d>Gr)||!(E>Gr)?a.lineTo(U,X):P>Gr?(D=k2(U,X,K,pe,d,-P,y),L=k2(B,z,oe,_e,d,-P,y),a.lineTo(D.cx+D.x01,D.cy+D.y01),P<F?a.arc(D.cx,D.cy,P,Ur(D.y01,D.x01),Ur(L.y01,L.x01),!y):(a.arc(D.cx,D.cy,P,Ur(D.y01,D.x01),Ur(D.y11,D.x11),!y),a.arc(0,0,d,Ur(D.cy+D.y11,D.cx+D.x11),Ur(L.cy+L.y11,L.cx+L.x11),y),a.arc(L.cx,L.cy,P,Ur(L.y11,L.x11),Ur(L.y01,L.x01),!y))):a.arc(0,0,d,w,x,y)}if(a.closePath(),c)return a=null,c+""||null}return u.centroid=function(){var c=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,f=(+i.apply(this,arguments)+ +o.apply(this,arguments))/2-wm/2;return[id(f)*c,Pa(f)*c]},u.innerRadius=function(c){return arguments.length?(e=typeof c=="function"?c:Mt(+c),u):e},u.outerRadius=function(c){return arguments.length?(t=typeof c=="function"?c:Mt(+c),u):t},u.cornerRadius=function(c){return arguments.length?(n=typeof c=="function"?c:Mt(+c),u):n},u.padRadius=function(c){return arguments.length?(r=c==null?null:typeof c=="function"?c:Mt(+c),u):r},u.startAngle=function(c){return arguments.length?(i=typeof c=="function"?c:Mt(+c),u):i},u.endAngle=function(c){return arguments.length?(o=typeof c=="function"?c:Mt(+c),u):o},u.padAngle=function(c){return arguments.length?(s=typeof c=="function"?c:Mt(+c),u):s},u.context=function(c){return arguments.length?(a=c??null,u):a},u}function WJ(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function HJ(e){this._context=e}HJ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function jD(e){return new HJ(e)}function qJ(e){return e[0]}function GJ(e){return e[1]}function XJ(e,t){var n=Mt(!0),r=null,i=jD,o=null,s=n_(a);e=typeof e=="function"?e:e===void 0?qJ:Mt(e),t=typeof t=="function"?t:t===void 0?GJ:Mt(t);function a(l){var u,c=(l=WJ(l)).length,f,d=!1,h;for(r==null&&(o=i(h=s())),u=0;u<=c;++u)!(u<c&&n(f=l[u],u,l))===d&&((d=!d)?o.lineStart():o.lineEnd()),d&&o.point(+e(f,u,l),+t(f,u,l));if(h)return o=null,h+""||null}return a.x=function(l){return arguments.length?(e=typeof l=="function"?l:Mt(+l),a):e},a.y=function(l){return arguments.length?(t=typeof l=="function"?l:Mt(+l),a):t},a.defined=function(l){return arguments.length?(n=typeof l=="function"?l:Mt(!!l),a):n},a.curve=function(l){return arguments.length?(i=l,r!=null&&(o=i(r)),a):i},a.context=function(l){return arguments.length?(l==null?r=o=null:o=i(r=l),a):r},a}function YJ(e,t,n){var r=null,i=Mt(!0),o=null,s=jD,a=null,l=n_(u);e=typeof e=="function"?e:e===void 0?qJ:Mt(+e),t=typeof t=="function"?t:Mt(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?GJ:Mt(+n);function u(f){var d,h,p,g=(f=WJ(f)).length,m,y=!1,v,b=new Array(g),x=new Array(g);for(o==null&&(a=s(v=l())),d=0;d<=g;++d){if(!(d<g&&i(m=f[d],d,f))===y)if(y=!y)h=d,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),p=d-1;p>=h;--p)a.point(b[p],x[p]);a.lineEnd(),a.areaEnd()}y&&(b[d]=+e(m,d,f),x[d]=+t(m,d,f),a.point(r?+r(m,d,f):b[d],n?+n(m,d,f):x[d]))}if(v)return a=null,v+""||null}function c(){return XJ().defined(i).curve(s).context(o)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:Mt(+f),r=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Mt(+f),u):e},u.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Mt(+f),u):r},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:Mt(+f),n=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Mt(+f),u):t},u.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Mt(+f),u):n},u.lineX0=u.lineY0=function(){return c().x(e).y(t)},u.lineY1=function(){return c().x(e).y(n)},u.lineX1=function(){return c().x(r).y(t)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:Mt(!!f),u):i},u.curve=function(f){return arguments.length?(s=f,o!=null&&(a=s(o)),u):s},u.context=function(f){return arguments.length?(f==null?o=a=null:a=s(o=f),u):o},u}const pwe={draw(e,t){const n=Dd(t/wm);e.moveTo(n,0),e.arc(0,0,n,0,UJ)}};function gwe(e,t){let n=null,r=n_(i);e=typeof e=="function"?e:Mt(e||pwe),t=typeof t=="function"?t:Mt(t===void 0?64:+t);function i(){let o;if(n||(n=o=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(e=typeof o=="function"?o:Mt(o),i):e},i.size=function(o){return arguments.length?(t=typeof o=="function"?o:Mt(+o),i):t},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function df(){}function cC(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function r_(e){this._context=e}r_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:cC(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:cC(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function mwe(e){return new r_(e)}function KJ(e){this._context=e}KJ.prototype={areaStart:df,areaEnd:df,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:cC(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function ywe(e){return new KJ(e)}function QJ(e){this._context=e}QJ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:cC(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function vwe(e){return new QJ(e)}function JJ(e,t){this._basis=new r_(e),this._beta=t}JJ.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,n=e.length-1;if(n>0)for(var r=e[0],i=t[0],o=e[n]-r,s=t[n]-i,a=-1,l;++a<=n;)l=a/n,this._basis.point(this._beta*e[a]+(1-this._beta)*(r+l*o),this._beta*t[a]+(1-this._beta)*(i+l*s));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};const bwe=function e(t){function n(r){return t===1?new r_(r):new JJ(r,t)}return n.beta=function(r){return e(+r)},n}(.85);function fC(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function UD(e,t){this._context=e,this._k=(1-t)/6}UD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:fC(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:fC(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const xwe=function e(t){function n(r){return new UD(r,t)}return n.tension=function(r){return e(+r)},n}(0);function VD(e,t){this._context=e,this._k=(1-t)/6}VD.prototype={areaStart:df,areaEnd:df,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:fC(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const wwe=function e(t){function n(r){return new VD(r,t)}return n.tension=function(r){return e(+r)},n}(0);function WD(e,t){this._context=e,this._k=(1-t)/6}WD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:fC(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const Swe=function e(t){function n(r){return new WD(r,t)}return n.tension=function(r){return e(+r)},n}(0);function HD(e,t,n){var r=e._x1,i=e._y1,o=e._x2,s=e._y2;if(e._l01_a>Gr){var a=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,l=3*e._l01_a*(e._l01_a+e._l12_a);r=(r*a-e._x0*e._l12_2a+e._x2*e._l01_2a)/l,i=(i*a-e._y0*e._l12_2a+e._y2*e._l01_2a)/l}if(e._l23_a>Gr){var u=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,c=3*e._l23_a*(e._l23_a+e._l12_a);o=(o*u+e._x1*e._l23_2a-t*e._l12_2a)/c,s=(s*u+e._y1*e._l23_2a-n*e._l12_2a)/c}e._context.bezierCurveTo(r,i,o,s,e._x2,e._y2)}function ZJ(e,t){this._context=e,this._alpha=t}ZJ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:HD(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const Cwe=function e(t){function n(r){return t?new ZJ(r,t):new UD(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function eZ(e,t){this._context=e,this._alpha=t}eZ.prototype={areaStart:df,areaEnd:df,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:HD(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const Ewe=function e(t){function n(r){return t?new eZ(r,t):new VD(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function tZ(e,t){this._context=e,this._alpha=t}tZ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:HD(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const kwe=function e(t){function n(r){return t?new tZ(r,t):new WD(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function nZ(e){this._context=e}nZ.prototype={areaStart:df,areaEnd:df,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function _we(e){return new nZ(e)}function Wz(e){return e<0?-1:1}function Hz(e,t,n){var r=e._x1-e._x0,i=t-e._x1,o=(e._y1-e._y0)/(r||i<0&&-0),s=(n-e._y1)/(i||r<0&&-0),a=(o*i+s*r)/(r+i);return(Wz(o)+Wz(s))*Math.min(Math.abs(o),Math.abs(s),.5*Math.abs(a))||0}function qz(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function lT(e,t,n){var r=e._x0,i=e._y0,o=e._x1,s=e._y1,a=(o-r)/3;e._context.bezierCurveTo(r+a,i+a*t,o-a,s-a*n,o,s)}function dC(e){this._context=e}dC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:lT(this,this._t0,qz(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,lT(this,qz(this,n=Hz(this,e,t)),n);break;default:lT(this,this._t0,n=Hz(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function rZ(e){this._context=new iZ(e)}(rZ.prototype=Object.create(dC.prototype)).point=function(e,t){dC.prototype.point.call(this,t,e)};function iZ(e){this._context=e}iZ.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,o){this._context.bezierCurveTo(t,e,r,n,o,i)}};function $we(e){return new dC(e)}function Awe(e){return new rZ(e)}function oZ(e){this._context=e}oZ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=Gz(e),i=Gz(t),o=0,s=1;s<n;++o,++s)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],e[s],t[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function Gz(e){var t,n=e.length-1,r,i=new Array(n),o=new Array(n),s=new Array(n);for(i[0]=0,o[0]=2,s[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,o[t]=4,s[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,o[n-1]=7,s[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/o[t-1],o[t]-=r,s[t]-=r*s[t-1];for(i[n-1]=s[n-1]/o[n-1],t=n-2;t>=0;--t)i[t]=(s[t]-i[t+1])/o[t];for(o[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)o[t]=2*e[t+1]-i[t+1];return[i,o]}function Twe(e){return new oZ(e)}function i_(e,t){this._context=e,this._t=t}i_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function Rwe(e){return new i_(e,.5)}function Fwe(e){return new i_(e,0)}function Owe(e){return new i_(e,1)}function Yc(e,t){if(typeof document<"u"&&document.createElement){const n=document.createElement("canvas");if(n&&n.getContext)return n.width=e,n.height=t,n}return null}const Pwe=()=>typeof Image<"u"?Image:null;function $l(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Of(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const yR=Symbol("implicit");function qD(){var e=new cz,t=[],n=[],r=yR;function i(o){let s=e.get(o);if(s===void 0){if(r!==yR)return r;e.set(o,s=t.push(o)-1)}return n[s%n.length]}return i.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new cz;for(const s of o)e.has(s)||e.set(s,t.push(s)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return qD(t,n).unknown(r)},$l.apply(i,arguments),i}function A0(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Gb(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Pf(){}var yh=.7,Sm=1/yh,Fg="\\s*([+-]?\\d+)\\s*",_v="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ll="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Dwe=/^#([0-9a-f]{3,8})$/,Mwe=new RegExp(`^rgb\\(${Fg},${Fg},${Fg}\\)$`),Nwe=new RegExp(`^rgb\\(${ll},${ll},${ll}\\)$`),Lwe=new RegExp(`^rgba\\(${Fg},${Fg},${Fg},${_v}\\)$`),Iwe=new RegExp(`^rgba\\(${ll},${ll},${ll},${_v}\\)$`),zwe=new RegExp(`^hsl\\(${_v},${ll},${ll}\\)$`),Bwe=new RegExp(`^hsla\\(${_v},${ll},${ll},${_v}\\)$`),Xz={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};A0(Pf,$v,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Yz,formatHex:Yz,formatHex8:jwe,formatHsl:Uwe,formatRgb:Kz,toString:Kz});function Yz(){return this.rgb().formatHex()}function jwe(){return this.rgb().formatHex8()}function Uwe(){return sZ(this).formatHsl()}function Kz(){return this.rgb().formatRgb()}function $v(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Dwe.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Qz(t):n===3?new hr(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?_2(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?_2(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Mwe.exec(e))?new hr(t[1],t[2],t[3],1):(t=Nwe.exec(e))?new hr(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Lwe.exec(e))?_2(t[1],t[2],t[3],t[4]):(t=Iwe.exec(e))?_2(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=zwe.exec(e))?eB(t[1],t[2]/100,t[3]/100,1):(t=Bwe.exec(e))?eB(t[1],t[2]/100,t[3]/100,t[4]):Xz.hasOwnProperty(e)?Qz(Xz[e]):e==="transparent"?new hr(NaN,NaN,NaN,0):null}function Qz(e){return new hr(e>>16&255,e>>8&255,e&255,1)}function _2(e,t,n,r){return r<=0&&(e=t=n=NaN),new hr(e,t,n,r)}function GD(e){return e instanceof Pf||(e=$v(e)),e?(e=e.rgb(),new hr(e.r,e.g,e.b,e.opacity)):new hr}function hf(e,t,n,r){return arguments.length===1?GD(e):new hr(e,t,n,r??1)}function hr(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}A0(hr,hf,Gb(Pf,{brighter(e){return e=e==null?Sm:Math.pow(Sm,e),new hr(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?yh:Math.pow(yh,e),new hr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new hr(Zd(this.r),Zd(this.g),Zd(this.b),hC(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Jz,formatHex:Jz,formatHex8:Vwe,formatRgb:Zz,toString:Zz}));function Jz(){return`#${Md(this.r)}${Md(this.g)}${Md(this.b)}`}function Vwe(){return`#${Md(this.r)}${Md(this.g)}${Md(this.b)}${Md((isNaN(this.opacity)?1:this.opacity)*255)}`}function Zz(){const e=hC(this.opacity);return`${e===1?"rgb(":"rgba("}${Zd(this.r)}, ${Zd(this.g)}, ${Zd(this.b)}${e===1?")":`, ${e})`}`}function hC(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Zd(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Md(e){return e=Zd(e),(e<16?"0":"")+e.toString(16)}function eB(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Js(e,t,n,r)}function sZ(e){if(e instanceof Js)return new Js(e.h,e.s,e.l,e.opacity);if(e instanceof Pf||(e=$v(e)),!e)return new Js;if(e instanceof Js)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),s=NaN,a=o-i,l=(o+i)/2;return a?(t===o?s=(n-r)/a+(n<r)*6:n===o?s=(r-t)/a+2:s=(t-n)/a+4,a/=l<.5?o+i:2-o-i,s*=60):a=l>0&&l<1?0:s,new Js(s,a,l,e.opacity)}function pC(e,t,n,r){return arguments.length===1?sZ(e):new Js(e,t,n,r??1)}function Js(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}A0(Js,pC,Gb(Pf,{brighter(e){return e=e==null?Sm:Math.pow(Sm,e),new Js(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?yh:Math.pow(yh,e),new Js(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new hr(uT(e>=240?e-240:e+120,i,r),uT(e,i,r),uT(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Js(tB(this.h),$2(this.s),$2(this.l),hC(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=hC(this.opacity);return`${e===1?"hsl(":"hsla("}${tB(this.h)}, ${$2(this.s)*100}%, ${$2(this.l)*100}%${e===1?")":`, ${e})`}`}}));function tB(e){return e=(e||0)%360,e<0?e+360:e}function $2(e){return Math.max(0,Math.min(1,e||0))}function uT(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const aZ=Math.PI/180,lZ=180/Math.PI,gC=18,uZ=.96422,cZ=1,fZ=.82521,dZ=4/29,Og=6/29,hZ=3*Og*Og,Wwe=Og*Og*Og;function pZ(e){if(e instanceof ul)return new ul(e.l,e.a,e.b,e.opacity);if(e instanceof su)return gZ(e);e instanceof hr||(e=GD(e));var t=hT(e.r),n=hT(e.g),r=hT(e.b),i=cT((.2225045*t+.7168786*n+.0606169*r)/cZ),o,s;return t===n&&n===r?o=s=i:(o=cT((.4360747*t+.3850649*n+.1430804*r)/uZ),s=cT((.0139322*t+.0971045*n+.7141733*r)/fZ)),new ul(116*i-16,500*(o-i),200*(i-s),e.opacity)}function mC(e,t,n,r){return arguments.length===1?pZ(e):new ul(e,t,n,r??1)}function ul(e,t,n,r){this.l=+e,this.a=+t,this.b=+n,this.opacity=+r}A0(ul,mC,Gb(Pf,{brighter(e){return new ul(this.l+gC*(e??1),this.a,this.b,this.opacity)},darker(e){return new ul(this.l-gC*(e??1),this.a,this.b,this.opacity)},rgb(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return t=uZ*fT(t),e=cZ*fT(e),n=fZ*fT(n),new hr(dT(3.1338561*t-1.6168667*e-.4906146*n),dT(-.9787684*t+1.9161415*e+.033454*n),dT(.0719453*t-.2289914*e+1.4052427*n),this.opacity)}}));function cT(e){return e>Wwe?Math.pow(e,1/3):e/hZ+dZ}function fT(e){return e>Og?e*e*e:hZ*(e-dZ)}function dT(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function hT(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function Hwe(e){if(e instanceof su)return new su(e.h,e.c,e.l,e.opacity);if(e instanceof ul||(e=pZ(e)),e.a===0&&e.b===0)return new su(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*lZ;return new su(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function yC(e,t,n,r){return arguments.length===1?Hwe(e):new su(e,t,n,r??1)}function su(e,t,n,r){this.h=+e,this.c=+t,this.l=+n,this.opacity=+r}function gZ(e){if(isNaN(e.h))return new ul(e.l,0,0,e.opacity);var t=e.h*aZ;return new ul(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}A0(su,yC,Gb(Pf,{brighter(e){return new su(this.h,this.c,this.l+gC*(e??1),this.opacity)},darker(e){return new su(this.h,this.c,this.l-gC*(e??1),this.opacity)},rgb(){return gZ(this).rgb()}}));var mZ=-.14861,XD=1.78277,YD=-.29227,o_=-.90649,Av=1.97294,nB=Av*o_,rB=Av*XD,iB=XD*YD-o_*mZ;function qwe(e){if(e instanceof eh)return new eh(e.h,e.s,e.l,e.opacity);e instanceof hr||(e=GD(e));var t=e.r/255,n=e.g/255,r=e.b/255,i=(iB*r+nB*t-rB*n)/(iB+nB-rB),o=r-i,s=(Av*(n-i)-YD*o)/o_,a=Math.sqrt(s*s+o*o)/(Av*i*(1-i)),l=a?Math.atan2(s,o)*lZ-120:NaN;return new eh(l<0?l+360:l,a,i,e.opacity)}function vR(e,t,n,r){return arguments.length===1?qwe(e):new eh(e,t,n,r??1)}function eh(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}A0(eh,vR,Gb(Pf,{brighter(e){return e=e==null?Sm:Math.pow(Sm,e),new eh(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?yh:Math.pow(yh,e),new eh(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=isNaN(this.h)?0:(this.h+120)*aZ,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),i=Math.sin(e);return new hr(255*(t+n*(mZ*r+XD*i)),255*(t+n*(YD*r+o_*i)),255*(t+n*(Av*r)),this.opacity)}}));function yZ(e,t,n,r,i){var o=e*e,s=o*e;return((1-3*e+3*o-s)*t+(4-6*o+3*s)*n+(1+3*e+3*o-3*s)*r+s*i)/6}function vZ(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],o=e[r+1],s=r>0?e[r-1]:2*i-o,a=r<t-1?e[r+2]:2*o-i;return yZ((n-r/t)*t,s,i,o,a)}}function bZ(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),i=e[(r+t-1)%t],o=e[r%t],s=e[(r+1)%t],a=e[(r+2)%t];return yZ((n-r/t)*t,i,o,s,a)}}const s_=e=>()=>e;function xZ(e,t){return function(n){return e+n*t}}function Gwe(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function a_(e,t){var n=t-e;return n?xZ(e,n>180||n<-180?n-360*Math.round(n/360):n):s_(isNaN(e)?t:e)}function Xwe(e){return(e=+e)==1?pr:function(t,n){return n-t?Gwe(t,n,e):s_(isNaN(t)?n:t)}}function pr(e,t){var n=t-e;return n?xZ(e,n):s_(isNaN(e)?t:e)}const vC=function e(t){var n=Xwe(t);function r(i,o){var s=n((i=hf(i)).r,(o=hf(o)).r),a=n(i.g,o.g),l=n(i.b,o.b),u=pr(i.opacity,o.opacity);return function(c){return i.r=s(c),i.g=a(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=e,r}(1);function wZ(e){return function(t){var n=t.length,r=new Array(n),i=new Array(n),o=new Array(n),s,a;for(s=0;s<n;++s)a=hf(t[s]),r[s]=a.r||0,i[s]=a.g||0,o[s]=a.b||0;return r=e(r),i=e(i),o=e(o),a.opacity=1,function(l){return a.r=r(l),a.g=i(l),a.b=o(l),a+""}}}var Ywe=wZ(vZ),Kwe=wZ(bZ);function KD(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=e[i]*(1-o)+t[i]*o;return r}}function SZ(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Qwe(e,t){return(SZ(t)?KD:CZ)(e,t)}function CZ(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),o=new Array(n),s;for(s=0;s<r;++s)i[s]=Df(e[s],t[s]);for(;s<n;++s)o[s]=t[s];return function(a){for(s=0;s<r;++s)o[s]=i[s](a);return o}}function EZ(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Xs(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function kZ(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=Df(e[i],t[i]):r[i]=t[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var bR=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,pT=new RegExp(bR.source,"g");function Jwe(e){return function(){return e}}function Zwe(e){return function(t){return e(t)+""}}function _Z(e,t){var n=bR.lastIndex=pT.lastIndex=0,r,i,o,s=-1,a=[],l=[];for(e=e+"",t=t+"";(r=bR.exec(e))&&(i=pT.exec(t));)(o=i.index)>n&&(o=t.slice(n,o),a[s]?a[s]+=o:a[++s]=o),(r=r[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,l.push({i:s,x:Xs(r,i)})),n=pT.lastIndex;return n<t.length&&(o=t.slice(n),a[s]?a[s]+=o:a[++s]=o),a.length<2?l[0]?Zwe(l[0].x):Jwe(t):(t=l.length,function(u){for(var c=0,f;c<t;++c)a[(f=l[c]).i]=f.x(u);return a.join("")})}function Df(e,t){var n=typeof t,r;return t==null||n==="boolean"?s_(t):(n==="number"?Xs:n==="string"?(r=$v(t))?(t=r,vC):_Z:t instanceof $v?vC:t instanceof Date?EZ:SZ(t)?KD:Array.isArray(t)?CZ:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?kZ:Xs)(e,t)}function eSe(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}function tSe(e,t){var n=a_(+e,+t);return function(r){var i=n(r);return i-360*Math.floor(i/360)}}function T0(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var oB=180/Math.PI,xR={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function $Z(e,t,n,r,i,o){var s,a,l;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(l=e*n+t*r)&&(n-=e*l,r-=t*l),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,l/=a),e*r<t*n&&(e=-e,t=-t,l=-l,s=-s),{translateX:i,translateY:o,rotate:Math.atan2(t,e)*oB,skewX:Math.atan(l)*oB,scaleX:s,scaleY:a}}var A2;function nSe(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?xR:$Z(t.a,t.b,t.c,t.d,t.e,t.f)}function rSe(e){return e==null||(A2||(A2=document.createElementNS("http://www.w3.org/2000/svg","g")),A2.setAttribute("transform",e),!(e=A2.transform.baseVal.consolidate()))?xR:(e=e.matrix,$Z(e.a,e.b,e.c,e.d,e.e,e.f))}function AZ(e,t,n,r){function i(u){return u.length?u.pop()+" ":""}function o(u,c,f,d,h,p){if(u!==f||c!==d){var g=h.push("translate(",null,t,null,n);p.push({i:g-4,x:Xs(u,f)},{i:g-2,x:Xs(c,d)})}else(f||d)&&h.push("translate("+f+t+d+n)}function s(u,c,f,d){u!==c?(u-c>180?c+=360:c-u>180&&(u+=360),d.push({i:f.push(i(f)+"rotate(",null,r)-2,x:Xs(u,c)})):c&&f.push(i(f)+"rotate("+c+r)}function a(u,c,f,d){u!==c?d.push({i:f.push(i(f)+"skewX(",null,r)-2,x:Xs(u,c)}):c&&f.push(i(f)+"skewX("+c+r)}function l(u,c,f,d,h,p){if(u!==f||c!==d){var g=h.push(i(h)+"scale(",null,",",null,")");p.push({i:g-4,x:Xs(u,f)},{i:g-2,x:Xs(c,d)})}else(f!==1||d!==1)&&h.push(i(h)+"scale("+f+","+d+")")}return function(u,c){var f=[],d=[];return u=e(u),c=e(c),o(u.translateX,u.translateY,c.translateX,c.translateY,f,d),s(u.rotate,c.rotate,f,d),a(u.skewX,c.skewX,f,d),l(u.scaleX,u.scaleY,c.scaleX,c.scaleY,f,d),u=c=null,function(h){for(var p=-1,g=d.length,m;++p<g;)f[(m=d[p]).i]=m.x(h);return f.join("")}}}var iSe=AZ(nSe,"px, ","px)","deg)"),oSe=AZ(rSe,", ",")",")"),sSe=1e-12;function sB(e){return((e=Math.exp(e))+1/e)/2}function aSe(e){return((e=Math.exp(e))-1/e)/2}function lSe(e){return((e=Math.exp(2*e))-1)/(e+1)}const uSe=function e(t,n,r){function i(o,s){var a=o[0],l=o[1],u=o[2],c=s[0],f=s[1],d=s[2],h=c-a,p=f-l,g=h*h+p*p,m,y;if(g<sSe)y=Math.log(d/u)/t,m=function(S){return[a+S*h,l+S*p,u*Math.exp(t*S*y)]};else{var v=Math.sqrt(g),b=(d*d-u*u+r*g)/(2*u*n*v),x=(d*d-u*u-r*g)/(2*d*n*v),w=Math.log(Math.sqrt(b*b+1)-b),E=Math.log(Math.sqrt(x*x+1)-x);y=(E-w)/t,m=function(S){var k=S*y,$=sB(w),F=u/(n*v)*($*lSe(t*k+w)-aSe(w));return[a+F*h,l+F*p,u*$/sB(t*k+w)]}}return m.duration=y*1e3*t/Math.SQRT2,m}return i.rho=function(o){var s=Math.max(.001,+o),a=s*s,l=a*a;return e(s,a,l)},i}(Math.SQRT2,2,4);function TZ(e){return function(t,n){var r=e((t=pC(t)).h,(n=pC(n)).h),i=pr(t.s,n.s),o=pr(t.l,n.l),s=pr(t.opacity,n.opacity);return function(a){return t.h=r(a),t.s=i(a),t.l=o(a),t.opacity=s(a),t+""}}}const RZ=TZ(a_);var FZ=TZ(pr);function OZ(e,t){var n=pr((e=mC(e)).l,(t=mC(t)).l),r=pr(e.a,t.a),i=pr(e.b,t.b),o=pr(e.opacity,t.opacity);return function(s){return e.l=n(s),e.a=r(s),e.b=i(s),e.opacity=o(s),e+""}}function PZ(e){return function(t,n){var r=e((t=yC(t)).h,(n=yC(n)).h),i=pr(t.c,n.c),o=pr(t.l,n.l),s=pr(t.opacity,n.opacity);return function(a){return t.h=r(a),t.c=i(a),t.l=o(a),t.opacity=s(a),t+""}}}const DZ=PZ(a_);var MZ=PZ(pr);function NZ(e){return function t(n){n=+n;function r(i,o){var s=e((i=vR(i)).h,(o=vR(o)).h),a=pr(i.s,o.s),l=pr(i.l,o.l),u=pr(i.opacity,o.opacity);return function(c){return i.h=s(c),i.s=a(c),i.l=l(Math.pow(c,n)),i.opacity=u(c),i+""}}return r.gamma=t,r}(1)}const LZ=NZ(a_);var IZ=NZ(pr);function QD(e,t){t===void 0&&(t=e,e=Df);for(var n=0,r=t.length-1,i=t[0],o=new Array(r<0?0:r);n<r;)o[n]=e(i,i=t[++n]);return function(s){var a=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return o[a](s-a)}}function cSe(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e(r/(t-1));return n}const fSe=Object.freeze(Object.defineProperty({__proto__:null,interpolate:Df,interpolateArray:Qwe,interpolateBasis:vZ,interpolateBasisClosed:bZ,interpolateCubehelix:LZ,interpolateCubehelixLong:IZ,interpolateDate:EZ,interpolateDiscrete:eSe,interpolateHcl:DZ,interpolateHclLong:MZ,interpolateHsl:RZ,interpolateHslLong:FZ,interpolateHue:tSe,interpolateLab:OZ,interpolateNumber:Xs,interpolateNumberArray:KD,interpolateObject:kZ,interpolateRgb:vC,interpolateRgbBasis:Ywe,interpolateRgbBasisClosed:Kwe,interpolateRound:T0,interpolateString:_Z,interpolateTransformCss:iSe,interpolateTransformSvg:oSe,interpolateZoom:uSe,piecewise:QD,quantize:cSe},Symbol.toStringTag,{value:"Module"}));function dSe(e){return function(){return e}}function wR(e){return+e}var aB=[0,1];function Ji(e){return e}function SR(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:dSe(isNaN(t)?NaN:.5)}function hSe(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function pSe(e,t,n){var r=e[0],i=e[1],o=t[0],s=t[1];return i<r?(r=SR(i,r),o=n(s,o)):(r=SR(r,i),o=n(o,s)),function(a){return o(r(a))}}function gSe(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),s=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<r;)i[s]=SR(e[s],e[s+1]),o[s]=n(t[s],t[s+1]);return function(a){var l=uf(e,a,1,r)-1;return o[l](i[l](a))}}function Xb(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function l_(){var e=aB,t=aB,n=Df,r,i,o,s=Ji,a,l,u;function c(){var d=Math.min(e.length,t.length);return s!==Ji&&(s=hSe(e[0],e[d-1])),a=d>2?gSe:pSe,l=u=null,f}function f(d){return d==null||isNaN(d=+d)?o:(l||(l=a(e.map(r),t,n)))(r(s(d)))}return f.invert=function(d){return s(i((u||(u=a(t,e.map(r),Xs)))(d)))},f.domain=function(d){return arguments.length?(e=Array.from(d,wR),c()):e.slice()},f.range=function(d){return arguments.length?(t=Array.from(d),c()):t.slice()},f.rangeRound=function(d){return t=Array.from(d),n=T0,c()},f.clamp=function(d){return arguments.length?(s=d?!0:Ji,c()):s!==Ji},f.interpolate=function(d){return arguments.length?(n=d,c()):n},f.unknown=function(d){return arguments.length?(o=d,f):o},function(d,h){return r=d,i=h,c()}}function zZ(){return l_()(Ji,Ji)}function BZ(e,t,n,r){var i=cf(e,t,n),o;switch(r=mh(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(o=oQ(i,s))&&(r.precision=o),I6(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=sQ(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=iQ(i))&&(r.precision=o-(r.type==="%")*2);break}}return zb(r)}function ep(e){var t=e.domain;return e.ticks=function(n){var r=t();return tR(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return BZ(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,o=r.length-1,s=r[i],a=r[o],l,u,c=10;for(a<s&&(u=s,s=a,a=u,u=i,i=o,o=u);c-- >0;){if(u=nR(s,a,n),u===l)return r[i]=s,r[o]=a,t(r);if(u>0)s=Math.floor(s/u)*u,a=Math.ceil(a/u)*u;else if(u<0)s=Math.ceil(s*u)/u,a=Math.floor(a*u)/u;else break;l=u}return e},e}function JD(){var e=zZ();return e.copy=function(){return Xb(e,JD())},$l.apply(e,arguments),ep(e)}function jZ(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,wR),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return jZ(e).unknown(t)},e=arguments.length?Array.from(e,wR):[0,1],ep(n)}function UZ(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],o=e[r],s;return o<i&&(s=n,n=r,r=s,s=i,i=o,o=s),e[n]=t.floor(i),e[r]=t.ceil(o),e}function lB(e){return Math.log(e)}function uB(e){return Math.exp(e)}function mSe(e){return-Math.log(-e)}function ySe(e){return-Math.exp(-e)}function vSe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function bSe(e){return e===10?vSe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function xSe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function cB(e){return(t,n)=>-e(-t,n)}function ZD(e){const t=e(lB,uB),n=t.domain;let r=10,i,o;function s(){return i=xSe(r),o=bSe(r),n()[0]<0?(i=cB(i),o=cB(o),e(mSe,ySe)):e(lB,uB),t}return t.base=function(a){return arguments.length?(r=+a,s()):r},t.domain=function(a){return arguments.length?(n(a),s()):n()},t.ticks=a=>{const l=n();let u=l[0],c=l[l.length-1];const f=c<u;f&&([u,c]=[c,u]);let d=i(u),h=i(c),p,g;const m=a==null?10:+a;let y=[];if(!(r%1)&&h-d<m){if(d=Math.floor(d),h=Math.ceil(h),u>0){for(;d<=h;++d)for(p=1;p<r;++p)if(g=d<0?p/o(-d):p*o(d),!(g<u)){if(g>c)break;y.push(g)}}else for(;d<=h;++d)for(p=r-1;p>=1;--p)if(g=d>0?p/o(-d):p*o(d),!(g<u)){if(g>c)break;y.push(g)}y.length*2<m&&(y=tR(u,c,m))}else y=tR(d,h,Math.min(h-d,m)).map(o);return f?y.reverse():y},t.tickFormat=(a,l)=>{if(a==null&&(a=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=mh(l)).precision==null&&(l.trim=!0),l=zb(l)),a===1/0)return l;const u=Math.max(1,r*a/t.ticks().length);return c=>{let f=c/o(Math.round(i(c)));return f*r<r-.5&&(f*=r),f<=u?l(c):""}},t.nice=()=>n(UZ(n(),{floor:a=>o(Math.floor(i(a))),ceil:a=>o(Math.ceil(i(a)))})),t}function VZ(){const e=ZD(l_()).domain([1,10]);return e.copy=()=>Xb(e,VZ()).base(e.base()),$l.apply(e,arguments),e}function fB(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function dB(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function eM(e){var t=1,n=e(fB(t),dB(t));return n.constant=function(r){return arguments.length?e(fB(t=+r),dB(t)):t},ep(n)}function WZ(){var e=eM(l_());return e.copy=function(){return Xb(e,WZ()).constant(e.constant())},$l.apply(e,arguments)}function hB(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function wSe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function SSe(e){return e<0?-e*e:e*e}function tM(e){var t=e(Ji,Ji),n=1;function r(){return n===1?e(Ji,Ji):n===.5?e(wSe,SSe):e(hB(n),hB(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},ep(t)}function nM(){var e=tM(l_());return e.copy=function(){return Xb(e,nM()).exponent(e.exponent())},$l.apply(e,arguments),e}function CSe(){return nM.apply(null,arguments).exponent(.5)}function HZ(){var e=[],t=[],n=[],r;function i(){var s=0,a=Math.max(1,t.length);for(n=new Array(a-1);++s<a;)n[s-1]=JK(e,s/a);return o}function o(s){return s==null||isNaN(s=+s)?r:t[uf(n,s)]}return o.invertExtent=function(s){var a=t.indexOf(s);return a<0?[NaN,NaN]:[a>0?n[a-1]:e[0],a<n.length?n[a]:e[e.length-1]]},o.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let a of s)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(hu),i()},o.range=function(s){return arguments.length?(t=Array.from(s),i()):t.slice()},o.unknown=function(s){return arguments.length?(r=s,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return HZ().domain(e).range(t).unknown(r)},$l.apply(o,arguments)}function qZ(){var e=0,t=1,n=1,r=[.5],i=[0,1],o;function s(l){return l!=null&&l<=l?i[uf(r,l,0,n)]:o}function a(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*t-(l-n)*e)/(n+1);return s}return s.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,a()):[e,t]},s.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,a()):i.slice()},s.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[e,r[0]]:u>=n?[r[n-1],t]:[r[u-1],r[u]]},s.unknown=function(l){return arguments.length&&(o=l),s},s.thresholds=function(){return r.slice()},s.copy=function(){return qZ().domain([e,t]).range(i).unknown(o)},$l.apply(ep(s),arguments)}function GZ(){var e=[.5],t=[0,1],n,r=1;function i(o){return o!=null&&o<=o?t[uf(e,o,0,r)]:n}return i.domain=function(o){return arguments.length?(e=Array.from(o),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(o){return arguments.length?(t=Array.from(o),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(o){var s=t.indexOf(o);return[e[s-1],e[s]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return GZ().domain(e).range(t).unknown(n)},$l.apply(i,arguments)}function ESe(e){return new Date(e)}function kSe(e){return e instanceof Date?+e:+new Date(+e)}function rM(e,t,n,r,i,o,s,a,l,u){var c=zZ(),f=c.invert,d=c.domain,h=u(".%L"),p=u(":%S"),g=u("%I:%M"),m=u("%I %p"),y=u("%a %d"),v=u("%b %d"),b=u("%B"),x=u("%Y");function w(E){return(l(E)<E?h:a(E)<E?p:s(E)<E?g:o(E)<E?m:r(E)<E?i(E)<E?y:v:n(E)<E?b:x)(E)}return c.invert=function(E){return new Date(f(E))},c.domain=function(E){return arguments.length?d(Array.from(E,kSe)):d().map(ESe)},c.ticks=function(E){var S=d();return e(S[0],S[S.length-1],E??10)},c.tickFormat=function(E,S){return S==null?w:u(S)},c.nice=function(E){var S=d();return(!E||typeof E.range!="function")&&(E=t(S[0],S[S.length-1],E??10)),E?d(UZ(S,E)):c},c.copy=function(){return Xb(c,rM(e,t,n,r,i,o,s,a,l,u))},c}function _Se(){return $l.apply(rM(zve,Bve,ha,ym,Yh,al,Ub,Bb,na,V6).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function $Se(){return $l.apply(rM(Lve,Ive,pa,vm,Qh,pu,Vb,jb,na,W6).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function u_(){var e=0,t=1,n,r,i,o,s=Ji,a=!1,l;function u(f){return f==null||isNaN(f=+f)?l:s(i===0?.5:(f=(o(f)-n)*i,a?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,n=o(e=+e),r=o(t=+t),i=n===r?0:1/(r-n),u):[e,t]},u.clamp=function(f){return arguments.length?(a=!!f,u):a},u.interpolator=function(f){return arguments.length?(s=f,u):s};function c(f){return function(d){var h,p;return arguments.length?([h,p]=d,s=f(h,p),u):[s(0),s(1)]}}return u.range=c(Df),u.rangeRound=c(T0),u.unknown=function(f){return arguments.length?(l=f,u):l},function(f){return o=f,n=f(e),r=f(t),i=n===r?0:1/(r-n),u}}function Mf(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function iM(){var e=ep(u_()(Ji));return e.copy=function(){return Mf(e,iM())},Of.apply(e,arguments)}function XZ(){var e=ZD(u_()).domain([1,10]);return e.copy=function(){return Mf(e,XZ()).base(e.base())},Of.apply(e,arguments)}function YZ(){var e=eM(u_());return e.copy=function(){return Mf(e,YZ()).constant(e.constant())},Of.apply(e,arguments)}function oM(){var e=tM(u_());return e.copy=function(){return Mf(e,oM()).exponent(e.exponent())},Of.apply(e,arguments)}function ASe(){return oM.apply(null,arguments).exponent(.5)}function c_(){var e=0,t=.5,n=1,r=1,i,o,s,a,l,u=Ji,c,f=!1,d;function h(g){return isNaN(g=+g)?d:(g=.5+((g=+c(g))-o)*(r*g<r*o?a:l),u(f?Math.max(0,Math.min(1,g)):g))}h.domain=function(g){return arguments.length?([e,t,n]=g,i=c(e=+e),o=c(t=+t),s=c(n=+n),a=i===o?0:.5/(o-i),l=o===s?0:.5/(s-o),r=o<i?-1:1,h):[e,t,n]},h.clamp=function(g){return arguments.length?(f=!!g,h):f},h.interpolator=function(g){return arguments.length?(u=g,h):u};function p(g){return function(m){var y,v,b;return arguments.length?([y,v,b]=m,u=QD(g,[y,v,b]),h):[u(0),u(.5),u(1)]}}return h.range=p(Df),h.rangeRound=p(T0),h.unknown=function(g){return arguments.length?(d=g,h):d},function(g){return c=g,i=g(e),o=g(t),s=g(n),a=i===o?0:.5/(o-i),l=o===s?0:.5/(s-o),r=o<i?-1:1,h}}function KZ(){var e=ep(c_()(Ji));return e.copy=function(){return Mf(e,KZ())},Of.apply(e,arguments)}function QZ(){var e=ZD(c_()).domain([.1,1,10]);return e.copy=function(){return Mf(e,QZ()).base(e.base())},Of.apply(e,arguments)}function JZ(){var e=eM(c_());return e.copy=function(){return Mf(e,JZ()).constant(e.constant())},Of.apply(e,arguments)}function sM(){var e=tM(c_());return e.copy=function(){return Mf(e,sM()).exponent(e.exponent())},Of.apply(e,arguments)}function TSe(){return sM.apply(null,arguments).exponent(.5)}function Al(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(r*6,++r*6);return n}const RSe=Al("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),FSe=Al("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),OSe=Al("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),PSe=Al("4269d0efb118ff725c6cc5b03ca951ff8ab7a463f297bbf59c6b4e9498a0"),DSe=Al("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),MSe=Al("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),NSe=Al("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),LSe=Al("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),ISe=Al("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),zSe=Al("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f");function aM(e,t,n){const r=e-t+n*2;return e?r>0?r:1:0}const BSe="identity",Cm="linear",$u="log",Yb="pow",Kb="sqrt",f_="symlog",vh="time",bh="utc",cl="sequential",R0="diverging",Em="quantile",d_="quantize",h_="threshold",lM="ordinal",CR="point",ZZ="band",uM="bin-ordinal",lr="continuous",Qb="discrete",Jb="discretizing",Ts="interpolating",cM="temporal";function jSe(e){return function(t){let n=t[0],r=t[1],i;return r<n&&(i=n,n=r,r=i),[e.invert(n),e.invert(r)]}}function USe(e){return function(t){const n=e.range();let r=t[0],i=t[1],o=-1,s,a,l,u;for(i<r&&(a=r,r=i,i=a),l=0,u=n.length;l<u;++l)n[l]>=r&&n[l]<=i&&(o<0&&(o=l),s=l);if(!(o<0))return r=e.invertExtent(n[o]),i=e.invertExtent(n[s]),[r[0]===void 0?r[1]:r[0],i[1]===void 0?i[0]:i[1]]}}function fM(){const e=qD().unknown(void 0),t=e.domain,n=e.range;let r=[0,1],i,o,s=!1,a=0,l=0,u=.5;delete e.unknown;function c(){const f=t().length,d=r[1]<r[0],h=r[1-d],p=aM(f,a,l);let g=r[d-0];i=(h-g)/(p||1),s&&(i=Math.floor(i)),g+=(h-g-i*(f-a))*u,o=i*(1-a),s&&(g=Math.round(g),o=Math.round(o));const m=_o(f).map(y=>g+i*y);return n(d?m.reverse():m)}return e.domain=function(f){return arguments.length?(t(f),c()):t()},e.range=function(f){return arguments.length?(r=[+f[0],+f[1]],c()):r.slice()},e.rangeRound=function(f){return r=[+f[0],+f[1]],s=!0,c()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(f){return arguments.length?(s=!!f,c()):s},e.padding=function(f){return arguments.length?(l=Math.max(0,Math.min(1,f)),a=l,c()):a},e.paddingInner=function(f){return arguments.length?(a=Math.max(0,Math.min(1,f)),c()):a},e.paddingOuter=function(f){return arguments.length?(l=Math.max(0,Math.min(1,f)),c()):l},e.align=function(f){return arguments.length?(u=Math.max(0,Math.min(1,f)),c()):u},e.invertRange=function(f){if(f[0]==null||f[1]==null)return;const d=r[1]<r[0],h=d?n().reverse():n(),p=h.length-1;let g=+f[0],m=+f[1],y,v,b;if(!(g!==g||m!==m)&&(m<g&&(b=g,g=m,m=b),!(m<h[0]||g>r[1-d])))return y=Math.max(0,uf(h,g)-1),v=g===m?y:uf(h,m)-1,g-h[y]>o+1e-10&&++y,d&&(b=y,y=p-v,v=p-b),y>v?void 0:t().slice(y,v+1)},e.invert=function(f){const d=e.invertRange([f,f]);return d&&d[0]},e.copy=function(){return fM().domain(t()).range(r).round(s).paddingInner(a).paddingOuter(l).align(u)},c()}function eee(e){const t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,e.copy=function(){return eee(t())},e}function VSe(){return eee(fM().paddingInner(1))}var WSe=Array.prototype.map;function HSe(e){return WSe.call(e,ti)}const qSe=Array.prototype.slice;function tee(){let e=[],t=[];function n(r){return r==null||r!==r?void 0:t[(uf(e,r)-1)%t.length]}return n.domain=function(r){return arguments.length?(e=HSe(r),n):e.slice()},n.range=function(r){return arguments.length?(t=qSe.call(r),n):t.slice()},n.tickFormat=function(r,i){return BZ(e[0],gt(e),r??10,i)},n.copy=function(){return tee().domain(n.domain()).range(n.range())},n}const bC=new Map,nee=Symbol("vega_scale");function ree(e){return e[nee]=!0,e}function GSe(e){return e&&e[nee]===!0}function XSe(e,t,n){const r=function(){const o=t();return o.invertRange||(o.invertRange=o.invert?jSe(o):o.invertExtent?USe(o):void 0),o.type=e,ree(o)};return r.metadata=da(xe(n)),r}function Et(e,t,n){return arguments.length>1?(bC.set(e,XSe(e,t,n)),this):iee(e)?bC.get(e):void 0}Et(BSe,jZ);Et(Cm,JD,lr);Et($u,VZ,[lr,$u]);Et(Yb,nM,lr);Et(Kb,CSe,lr);Et(f_,WZ,lr);Et(vh,_Se,[lr,cM]);Et(bh,$Se,[lr,cM]);Et(cl,iM,[lr,Ts]);Et(`${cl}-${Cm}`,iM,[lr,Ts]);Et(`${cl}-${$u}`,XZ,[lr,Ts,$u]);Et(`${cl}-${Yb}`,oM,[lr,Ts]);Et(`${cl}-${Kb}`,ASe,[lr,Ts]);Et(`${cl}-${f_}`,YZ,[lr,Ts]);Et(`${R0}-${Cm}`,KZ,[lr,Ts]);Et(`${R0}-${$u}`,QZ,[lr,Ts,$u]);Et(`${R0}-${Yb}`,sM,[lr,Ts]);Et(`${R0}-${Kb}`,TSe,[lr,Ts]);Et(`${R0}-${f_}`,JZ,[lr,Ts]);Et(Em,HZ,[Jb,Em]);Et(d_,qZ,Jb);Et(h_,GZ,Jb);Et(uM,tee,[Qb,Jb]);Et(lM,qD,Qb);Et(ZZ,fM,Qb);Et(CR,VSe,Qb);function iee(e){return bC.has(e)}function tp(e,t){const n=bC.get(e);return n&&n.metadata[t]}function dM(e){return tp(e,lr)}function km(e){return tp(e,Qb)}function ER(e){return tp(e,Jb)}function oee(e){return tp(e,$u)}function YSe(e){return tp(e,cM)}function see(e){return tp(e,Ts)}function aee(e){return tp(e,Em)}const KSe=["clamp","base","constant","exponent"];function lee(e,t){const n=t[0],r=gt(t)-n;return function(i){return e(n+i*r)}}function p_(e,t,n){return QD(hM(t||"rgb",n),e)}function uee(e,t){const n=new Array(t),r=t+1;for(let i=0;i<t;)n[i]=e(++i/r);return n}function cee(e,t,n){const r=n-t;let i,o,s;return!r||!Number.isFinite(r)?li(.5):(i=(o=e.type).indexOf("-"),o=i<0?o:o.slice(i+1),s=Et(o)().domain([t,n]).range([0,1]),KSe.forEach(a=>e[a]?s[a](e[a]()):0),s)}function hM(e,t){const n=fSe[QSe(e)];return t!=null&&n&&n.gamma?n.gamma(t):n}function QSe(e){return"interpolate"+e.toLowerCase().split("-").map(t=>t[0].toUpperCase()+t.slice(1)).join("")}const JSe={blues:"cfe1f2bed8eca8cee58fc1de74b2d75ba3cf4592c63181bd206fb2125ca40a4a90",greens:"d3eecdc0e6baabdda594d3917bc77d60ba6c46ab5e329a512089430e7735036429",greys:"e2e2e2d4d4d4c4c4c4b1b1b19d9d9d8888887575756262624d4d4d3535351e1e1e",oranges:"fdd8b3fdc998fdb87bfda55efc9244f87f2cf06b18e4580bd14904b93d029f3303",purples:"e2e1efd4d4e8c4c5e0b4b3d6a3a0cc928ec3827cb97566ae684ea25c3696501f8c",reds:"fdc9b4fcb49afc9e80fc8767fa7051f6573fec3f2fdc2a25c81b1db21218970b13",blueGreen:"d5efedc1e8e0a7ddd18bd2be70c6a958ba9144ad77319c5d2089460e7736036429",bluePurple:"ccddecbad0e4a8c2dd9ab0d4919cc98d85be8b6db28a55a6873c99822287730f71",greenBlue:"d3eecec5e8c3b1e1bb9bd8bb82cec269c2ca51b2cd3c9fc7288abd1675b10b60a1",orangeRed:"fddcaffdcf9bfdc18afdad77fb9562f67d53ee6545e24932d32d1ebf130da70403",purpleBlue:"dbdaebc8cee4b1c3de97b7d87bacd15b9fc93a90c01e7fb70b70ab056199045281",purpleBlueGreen:"dbd8eac8cee4b0c3de93b7d872acd1549fc83892bb1c88a3097f8702736b016353",purpleRed:"dcc9e2d3b3d7ce9eccd186c0da6bb2e14da0e23189d91e6fc61159ab07498f023a",redPurple:"fccfccfcbec0faa9b8f98faff571a5ec539ddb3695c41b8aa908808d0179700174",yellowGreen:"e4f4acd1eca0b9e2949ed68880c97c62bb6e47aa5e3297502083440e723b036034",yellowOrangeBrown:"feeaa1fedd84fecc63feb746fca031f68921eb7215db5e0bc54c05ab3d038f3204",yellowOrangeRed:"fee087fed16ffebd59fea849fd903efc7335f9522bee3423de1b20ca0b22af0225",blueOrange:"134b852f78b35da2cb9dcae1d2e5eff2f0ebfce0bafbbf74e8932fc5690d994a07",brownBlueGreen:"704108a0651ac79548e3c78af3e6c6eef1eac9e9e48ed1c74da79e187a72025147",purpleGreen:"5b1667834792a67fb6c9aed3e6d6e8eff0efd9efd5aedda971bb75368e490e5e29",purpleOrange:"4114696647968f83b7b9b4d6dadbebf3eeeafce0bafbbf74e8932fc5690d994a07",redBlue:"8c0d25bf363adf745ef4ae91fbdbc9f2efeed2e5ef9dcae15da2cb2f78b3134b85",redGrey:"8c0d25bf363adf745ef4ae91fcdccbfaf4f1e2e2e2c0c0c0969696646464343434",yellowGreenBlue:"eff9bddbf1b4bde5b594d5b969c5be45b4c22c9ec02182b82163aa23479c1c3185",redYellowBlue:"a50026d4322cf16e43fcac64fedd90faf8c1dcf1ecabd6e875abd04a74b4313695",redYellowGreen:"a50026d4322cf16e43fcac63fedd8df9f7aed7ee8ea4d86e64bc6122964f006837",pinkYellowGreen:"8e0152c0267edd72adf0b3d6faddedf5f3efe1f2cab6de8780bb474f9125276419",spectral:"9e0142d13c4bf0704afcac63fedd8dfbf8b0e0f3a1a9dda269bda94288b55e4fa2",viridis:"440154470e61481a6c482575472f7d443a834144873d4e8a39568c35608d31688e2d708e2a788e27818e23888e21918d1f988b1fa08822a8842ab07f35b77943bf7154c56866cc5d7ad1518fd744a5db36bcdf27d2e21be9e51afde725",magma:"0000040404130b0924150e3720114b2c11603b0f704a107957157e651a80721f817f24828c29819a2e80a8327db6377ac43c75d1426fde4968e95462f1605df76f5cfa7f5efc8f65fe9f6dfeaf78febf84fece91fddea0fcedaffcfdbf",inferno:"0000040403130c0826170c3b240c4f330a5f420a68500d6c5d126e6b176e781c6d86216b932667a12b62ae305cbb3755c73e4cd24644dd513ae65c30ed6925f3771af8850ffb9506fca50afcb519fac62df6d645f2e661f3f484fcffa4",plasma:"0d088723069033059742039d5002a25d01a66a00a87801a88405a7900da49c179ea72198b12a90ba3488c33d80cb4779d35171da5a69e16462e76e5bed7953f2834cf68f44fa9a3dfca636fdb32ffec029fcce25f9dc24f5ea27f0f921",cividis:"00205100235800265d002961012b65042e670831690d346b11366c16396d1c3c6e213f6e26426e2c456e31476e374a6e3c4d6e42506e47536d4c566d51586e555b6e5a5e6e5e616e62646f66676f6a6a706e6d717270717573727976737c79747f7c75827f758682768985778c8877908b78938e789691789a94789e9778a19b78a59e77a9a177aea575b2a874b6ab73bbaf71c0b26fc5b66dc9b96acebd68d3c065d8c462ddc85fe2cb5ce7cf58ebd355f0d652f3da4ff7de4cfae249fce647",rainbow:"6e40aa883eb1a43db3bf3cafd83fa4ee4395fe4b83ff576eff6659ff7847ff8c38f3a130e2b72fcfcc36bee044aff05b8ff4576ff65b52f6673af27828ea8d1ddfa319d0b81cbecb23abd82f96e03d82e14c6edb5a5dd0664dbf6e40aa",sinebow:"ff4040fc582af47218e78d0bd5a703bfbf00a7d5038de70b72f41858fc2a40ff402afc5818f4720be78d03d5a700bfbf03a7d50b8de71872f42a58fc4040ff582afc7218f48d0be7a703d5bf00bfd503a7e70b8df41872fc2a58ff4040",turbo:"23171b32204a3e2a71453493493eae4b49c54a53d7485ee44569ee4074f53c7ff8378af93295f72e9ff42ba9ef28b3e926bce125c5d925cdcf27d5c629dcbc2de3b232e9a738ee9d3ff39347f68950f9805afc7765fd6e70fe667cfd5e88fc5795fb51a1f84badf545b9f140c5ec3cd0e637dae034e4d931ecd12ef4c92bfac029ffb626ffad24ffa223ff9821ff8d1fff821dff771cfd6c1af76118f05616e84b14df4111d5380fcb2f0dc0260ab61f07ac1805a313029b0f00950c00910b00",browns:"eedbbdecca96e9b97ae4a865dc9856d18954c7784cc0673fb85536ad44339f3632",tealBlues:"bce4d89dd3d181c3cb65b3c245a2b9368fae347da0306a932c5985",teals:"bbdfdfa2d4d58ac9c975bcbb61b0af4da5a43799982b8b8c1e7f7f127273006667",warmGreys:"dcd4d0cec5c1c0b8b4b3aaa7a59c9998908c8b827f7e7673726866665c5a59504e",goldGreen:"f4d166d5ca60b6c35c98bb597cb25760a6564b9c533f8f4f33834a257740146c36",goldOrange:"f4d166f8be5cf8aa4cf5983bf3852aef701be2621fd65322c54923b142239e3a26",goldRed:"f4d166f6be59f9aa51fc964ef6834bee734ae56249db5247cf4244c43141b71d3e",lightGreyRed:"efe9e6e1dad7d5cbc8c8bdb9bbaea9cd967ddc7b43e15f19df4011dc000b",lightGreyTeal:"e4eaead6dcddc8ced2b7c2c7a6b4bc64b0bf22a6c32295c11f85be1876bc",lightMulti:"e0f1f2c4e9d0b0de9fd0e181f6e072f6c053f3993ef77440ef4a3c",lightOrange:"f2e7daf7d5baf9c499fab184fa9c73f68967ef7860e8645bde515bd43d5b",lightTealBlue:"e3e9e0c0dccf9aceca7abfc859afc0389fb9328dad2f7ca0276b95255988",darkBlue:"3232322d46681a5c930074af008cbf05a7ce25c0dd38daed50f3faffffff",darkGold:"3c3c3c584b37725e348c7631ae8b2bcfa424ecc31ef9de30fff184ffffff",darkGreen:"3a3a3a215748006f4d048942489e4276b340a6c63dd2d836ffeb2cffffaa",darkMulti:"3737371f5287197d8c29a86995ce3fffe800ffffff",darkRed:"3434347036339e3c38cc4037e75d1eec8620eeab29f0ce32ffeb2c"},ZSe={accent:FSe,category10:RSe,category20:"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5",category20b:"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6",category20c:"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9",dark2:OSe,observable10:PSe,paired:DSe,pastel1:MSe,pastel2:NSe,set1:LSe,set2:ISe,set3:zSe,tableau10:"4c78a8f58518e4575672b7b254a24beeca3bb279a2ff9da69d755dbab0ac",tableau20:"4c78a89ecae9f58518ffbf7954a24b88d27ab79a20f2cf5b43989483bcb6e45756ff9d9879706ebab0acd67195fcbfd2b279a2d6a5c99e765fd8b5a5"};function fee(e){if(te(e))return e;const t=e.length/6|0,n=new Array(t);for(let r=0;r<t;)n[r]="#"+e.slice(r*6,++r*6);return n}function dee(e,t){for(const n in e)pM(n,t(e[n]))}const pB={};dee(ZSe,fee);dee(JSe,e=>p_(fee(e)));function pM(e,t){return e=e&&e.toLowerCase(),arguments.length>1?(pB[e]=t,this):pB[e]}const Yw="symbol",eCe="discrete",tCe="gradient",nCe=e=>te(e)?e.map(t=>String(t)):String(e),rCe=(e,t)=>e[1]-t[1],iCe=(e,t)=>t[1]-e[1];function gM(e,t,n){let r;return St(t)&&(e.bins&&(t=Math.max(t,e.bins.length)),n!=null&&(t=Math.min(t,Math.floor(Ib(e.domain())/n||1)+1))),ve(t)&&(r=t.step,t=t.interval),we(t)&&(t=e.type===vh?k0(t):e.type==bh?_0(t):ee("Only time and utc scales accept interval strings."),r&&(t=t.every(r))),t}function hee(e,t,n){let r=e.range(),i=r[0],o=gt(r),s=rCe;if(i>o&&(r=o,o=i,i=r,s=iCe),i=Math.floor(i),o=Math.ceil(o),t=t.map(a=>[a,e(a)]).filter(a=>i<=a[1]&&a[1]<=o).sort(s).map(a=>a[0]),n>0&&t.length>1){const a=[t[0],gt(t)];for(;t.length>n&&t.length>=3;)t=t.filter((l,u)=>!(u%2));t.length<3&&(t=a)}return t}function mM(e,t){return e.bins?hee(e,e.bins,t):e.ticks?e.ticks(t):e.domain()}function pee(e,t,n,r,i,o){const s=t.type;let a=nCe;if(s===vh||i===vh)a=e.timeFormat(r);else if(s===bh||i===bh)a=e.utcFormat(r);else if(oee(s)){const l=e.formatFloat(r);if(o||t.bins)a=l;else{const u=gee(t,n,!1);a=c=>u(c)?l(c):""}}else if(t.tickFormat){const l=t.domain();a=e.formatSpan(l[0],l[l.length-1],n,r)}else r&&(a=e.format(r));return a}function gee(e,t,n){const r=mM(e,t),i=e.base(),o=Math.log(i),s=Math.max(1,i*t/r.length),a=l=>{let u=l/Math.pow(i,Math.round(Math.log(l)/o));return u*i<i-.5&&(u*=i),u<=s};return n?r.filter(a):a}const kR={[Em]:"quantiles",[d_]:"thresholds",[h_]:"domain"},mee={[Em]:"quantiles",[d_]:"domain"};function yee(e,t){return e.bins?aCe(e.bins):e.type===$u?gee(e,t,!0):kR[e.type]?sCe(e[kR[e.type]]()):mM(e,t)}function oCe(e,t,n){const r=t[mee[t.type]](),i=r.length;let o=i>1?r[1]-r[0]:r[0],s;for(s=1;s<i;++s)o=Math.min(o,r[s]-r[s-1]);return e.formatSpan(0,o,3*10,n)}function sCe(e){const t=[-1/0].concat(e);return t.max=1/0,t}function aCe(e){const t=e.slice(0,-1);return t.max=gt(e),t}const lCe=e=>kR[e.type]||e.bins;function vee(e,t,n,r,i,o,s){const a=mee[t.type]&&o!==vh&&o!==bh?oCe(e,t,i):pee(e,t,n,i,o,s);return r===Yw&&lCe(t)?uCe(a):r===eCe?cCe(a):fCe(a)}const uCe=e=>(t,n,r)=>{const i=gB(r[n+1],gB(r.max,1/0)),o=mB(t,e),s=mB(i,e);return o&&s?o+"  "+s:s?"< "+s:" "+o},gB=(e,t)=>e??t,cCe=e=>(t,n)=>n?e(t):null,fCe=e=>t=>e(t),mB=(e,t)=>Number.isFinite(e)?t(e):null;function dCe(e){const t=e.domain(),n=t.length-1;let r=+t[0],i=+gt(t),o=i-r;if(e.type===h_){const s=n?o/n:.1;r-=s,i+=s,o=i-r}return s=>(s-r)/o}function hCe(e,t,n,r){const i=r||t.type;return we(n)&&YSe(i)&&(n=n.replace(/%a/g,"%A").replace(/%b/g,"%B")),!n&&i===vh?e.timeFormat("%A, %d %B %Y, %X"):!n&&i===bh?e.utcFormat("%A, %d %B %Y, %X UTC"):vee(e,t,5,null,n,r,!0)}function bee(e,t,n){n=n||{};const r=Math.max(3,n.maxlen||7),i=hCe(e,t,n.format,n.formatType);if(ER(t.type)){const o=yee(t).slice(1).map(i),s=o.length;return`${s} boundar${s===1?"y":"ies"}: ${o.join(", ")}`}else if(km(t.type)){const o=t.domain(),s=o.length,a=s>r?o.slice(0,r-2).map(i).join(", ")+", ending with "+o.slice(-1).map(i):o.map(i).join(", ");return`${s} value${s===1?"":"s"}: ${a}`}else{const o=t.domain();return`values from ${i(o[0])} to ${i(gt(o))}`}}let xee=0;function pCe(){xee=0}const xC="p_";function yM(e){return e&&e.gradient}function wee(e,t,n){const r=e.gradient;let i=e.id,o=r==="radial"?xC:"";return i||(i=e.id="gradient_"+xee++,r==="radial"?(e.x1=Da(e.x1,.5),e.y1=Da(e.y1,.5),e.r1=Da(e.r1,0),e.x2=Da(e.x2,.5),e.y2=Da(e.y2,.5),e.r2=Da(e.r2,.5),o=xC):(e.x1=Da(e.x1,0),e.y1=Da(e.y1,0),e.x2=Da(e.x2,1),e.y2=Da(e.y2,0))),t[i]=e,"url("+(n||"")+"#"+o+i+")"}function Da(e,t){return e??t}function See(e,t){var n=[],r;return r={gradient:"linear",x1:e?e[0]:0,y1:e?e[1]:0,x2:t?t[0]:1,y2:t?t[1]:0,stops:n,stop:function(i,o){return n.push({offset:i,color:o}),r}}}const yB={basis:{curve:mwe},"basis-closed":{curve:ywe},"basis-open":{curve:vwe},bundle:{curve:bwe,tension:"beta",value:.85},cardinal:{curve:xwe,tension:"tension",value:0},"cardinal-open":{curve:Swe,tension:"tension",value:0},"cardinal-closed":{curve:wwe,tension:"tension",value:0},"catmull-rom":{curve:Cwe,tension:"alpha",value:.5},"catmull-rom-closed":{curve:Ewe,tension:"alpha",value:.5},"catmull-rom-open":{curve:kwe,tension:"alpha",value:.5},linear:{curve:jD},"linear-closed":{curve:_we},monotone:{horizontal:Awe,vertical:$we},natural:{curve:Twe},step:{curve:Rwe},"step-after":{curve:Owe},"step-before":{curve:Fwe}};function vM(e,t,n){var r=Se(yB,e)&&yB[e],i=null;return r&&(i=r.curve||r[t||"vertical"],r.tension&&n!=null&&(i=i[r.tension](n))),i}const gCe={m:2,l:2,h:1,v:1,z:0,c:6,s:4,q:4,t:2,a:7},mCe=/[mlhvzcsqta]([^mlhvzcsqta]+|$)/gi,yCe=/^[+-]?(([0-9]*\.[0-9]+)|([0-9]+\.)|([0-9]+))([eE][+-]?[0-9]+)?/,vCe=/^((\s+,?\s*)|(,\s*))/,bCe=/^[01]/;function _m(e){const t=[];return(e.match(mCe)||[]).forEach(r=>{let i=r[0];const o=i.toLowerCase(),s=gCe[o],a=xCe(o,s,r.slice(1).trim()),l=a.length;if(l<s||l&&l%s!==0)throw Error("Invalid SVG path, incorrect parameter count");if(t.push([i,...a.slice(0,s)]),l!==s){o==="m"&&(i=i==="M"?"L":"l");for(let u=s;u<l;u+=s)t.push([i,...a.slice(u,u+s)])}}),t}function xCe(e,t,n){const r=[];for(let i=0;t&&i<n.length;)for(let o=0;o<t;++o){const s=e==="a"&&(o===3||o===4)?bCe:yCe,a=n.slice(i).match(s);if(a===null)throw Error("Invalid SVG path, incorrect parameter type");i+=a[0].length,r.push(+a[0]);const l=n.slice(i).match(vCe);l!==null&&(i+=l[0].length)}return r}const pf=Math.PI/180,wCe=1e-14,Ad=Math.PI/2,Ja=Math.PI*2,Dp=Math.sqrt(3)/2;var gT={},mT={},Cee=[].join;function SCe(e,t,n,r,i,o,s,a,l){const u=Cee.call(arguments);if(gT[u])return gT[u];const c=s*pf,f=Math.sin(c),d=Math.cos(c);n=Math.abs(n),r=Math.abs(r);const h=d*(a-e)*.5+f*(l-t)*.5,p=d*(l-t)*.5-f*(a-e)*.5;let g=h*h/(n*n)+p*p/(r*r);g>1&&(g=Math.sqrt(g),n*=g,r*=g);const m=d/n,y=f/n,v=-f/r,b=d/r,x=m*a+y*l,w=v*a+b*l,E=m*e+y*t,S=v*e+b*t;let $=1/((E-x)*(E-x)+(S-w)*(S-w))-.25;$<0&&($=0);let F=Math.sqrt($);o==i&&(F=-F);const P=.5*(x+E)-F*(S-w),j=.5*(w+S)+F*(E-x),D=Math.atan2(w-j,x-P);let A=Math.atan2(S-j,E-P)-D;A<0&&o===1?A+=Ja:A>0&&o===0&&(A-=Ja);const O=Math.ceil(Math.abs(A/(Ad+.001))),B=[];for(let z=0;z<O;++z){const U=D+z*A/O,X=D+(z+1)*A/O;B[z]=[P,j,U,X,n,r,f,d]}return gT[u]=B}function CCe(e){const t=Cee.call(e);if(mT[t])return mT[t];var n=e[0],r=e[1],i=e[2],o=e[3],s=e[4],a=e[5],l=e[6],u=e[7];const c=u*s,f=-l*a,d=l*s,h=u*a,p=Math.cos(i),g=Math.sin(i),m=Math.cos(o),y=Math.sin(o),v=.5*(o-i),b=Math.sin(v*.5),x=8/3*b*b/Math.sin(v),w=n+p-x*g,E=r+g+x*p,S=n+m,k=r+y,$=S+x*y,F=k-x*m;return mT[t]=[c*w+f*E,d*w+h*E,c*$+f*F,d*$+h*F,c*S+f*k,d*S+h*k]}const Yo=["l",0,0,0,0,0,0,0];function ECe(e,t,n){const r=Yo[0]=e[0];if(r==="a"||r==="A")Yo[1]=t*e[1],Yo[2]=n*e[2],Yo[3]=e[3],Yo[4]=e[4],Yo[5]=e[5],Yo[6]=t*e[6],Yo[7]=n*e[7];else if(r==="h"||r==="H")Yo[1]=t*e[1];else if(r==="v"||r==="V")Yo[1]=n*e[1];else for(var i=1,o=e.length;i<o;++i)Yo[i]=(i%2==1?t:n)*e[i];return Yo}function Tv(e,t,n,r,i,o){var s,a=null,l=0,u=0,c=0,f=0,d,h,p,g,m=0,y=0;n==null&&(n=0),r==null&&(r=0),i==null&&(i=1),o==null&&(o=i),e.beginPath&&e.beginPath();for(var v=0,b=t.length;v<b;++v){switch(s=t[v],(i!==1||o!==1)&&(s=ECe(s,i,o)),s[0]){case"l":l+=s[1],u+=s[2],e.lineTo(l+n,u+r);break;case"L":l=s[1],u=s[2],e.lineTo(l+n,u+r);break;case"h":l+=s[1],e.lineTo(l+n,u+r);break;case"H":l=s[1],e.lineTo(l+n,u+r);break;case"v":u+=s[1],e.lineTo(l+n,u+r);break;case"V":u=s[1],e.lineTo(l+n,u+r);break;case"m":l+=s[1],u+=s[2],m=l,y=u,e.moveTo(l+n,u+r);break;case"M":l=s[1],u=s[2],m=l,y=u,e.moveTo(l+n,u+r);break;case"c":d=l+s[5],h=u+s[6],c=l+s[3],f=u+s[4],e.bezierCurveTo(l+s[1]+n,u+s[2]+r,c+n,f+r,d+n,h+r),l=d,u=h;break;case"C":l=s[5],u=s[6],c=s[3],f=s[4],e.bezierCurveTo(s[1]+n,s[2]+r,c+n,f+r,l+n,u+r);break;case"s":d=l+s[3],h=u+s[4],c=2*l-c,f=2*u-f,e.bezierCurveTo(c+n,f+r,l+s[1]+n,u+s[2]+r,d+n,h+r),c=l+s[1],f=u+s[2],l=d,u=h;break;case"S":d=s[3],h=s[4],c=2*l-c,f=2*u-f,e.bezierCurveTo(c+n,f+r,s[1]+n,s[2]+r,d+n,h+r),l=d,u=h,c=s[1],f=s[2];break;case"q":d=l+s[3],h=u+s[4],c=l+s[1],f=u+s[2],e.quadraticCurveTo(c+n,f+r,d+n,h+r),l=d,u=h;break;case"Q":d=s[3],h=s[4],e.quadraticCurveTo(s[1]+n,s[2]+r,d+n,h+r),l=d,u=h,c=s[1],f=s[2];break;case"t":d=l+s[1],h=u+s[2],a[0].match(/[QqTt]/)===null?(c=l,f=u):a[0]==="t"?(c=2*l-p,f=2*u-g):a[0]==="q"&&(c=2*l-c,f=2*u-f),p=c,g=f,e.quadraticCurveTo(c+n,f+r,d+n,h+r),l=d,u=h,c=l+s[1],f=u+s[2];break;case"T":d=s[1],h=s[2],c=2*l-c,f=2*u-f,e.quadraticCurveTo(c+n,f+r,d+n,h+r),l=d,u=h;break;case"a":vB(e,l+n,u+r,[s[1],s[2],s[3],s[4],s[5],s[6]+l+n,s[7]+u+r]),l+=s[6],u+=s[7];break;case"A":vB(e,l+n,u+r,[s[1],s[2],s[3],s[4],s[5],s[6]+n,s[7]+r]),l=s[6],u=s[7];break;case"z":case"Z":l=m,u=y,e.closePath();break}a=s}}function vB(e,t,n,r){const i=SCe(r[5],r[6],r[0],r[1],r[3],r[4],r[2],t,n);for(let o=0;o<i.length;++o){const s=CCe(i[o]);e.bezierCurveTo(s[0],s[1],s[2],s[3],s[4],s[5])}}const bB=.5773502691896257,xB={circle:{draw:function(e,t){const n=Math.sqrt(t)/2;e.moveTo(n,0),e.arc(0,0,n,0,Ja)}},cross:{draw:function(e,t){var n=Math.sqrt(t)/2,r=n/2.5;e.moveTo(-n,-r),e.lineTo(-n,r),e.lineTo(-r,r),e.lineTo(-r,n),e.lineTo(r,n),e.lineTo(r,r),e.lineTo(n,r),e.lineTo(n,-r),e.lineTo(r,-r),e.lineTo(r,-n),e.lineTo(-r,-n),e.lineTo(-r,-r),e.closePath()}},diamond:{draw:function(e,t){const n=Math.sqrt(t)/2;e.moveTo(-n,0),e.lineTo(0,-n),e.lineTo(n,0),e.lineTo(0,n),e.closePath()}},square:{draw:function(e,t){var n=Math.sqrt(t),r=-n/2;e.rect(r,r,n,n)}},arrow:{draw:function(e,t){var n=Math.sqrt(t)/2,r=n/7,i=n/2.5,o=n/8;e.moveTo(-r,n),e.lineTo(r,n),e.lineTo(r,-o),e.lineTo(i,-o),e.lineTo(0,-n),e.lineTo(-i,-o),e.lineTo(-r,-o),e.closePath()}},wedge:{draw:function(e,t){var n=Math.sqrt(t)/2,r=Dp*n,i=r-n*bB,o=n/4;e.moveTo(0,-r-i),e.lineTo(-o,r-i),e.lineTo(o,r-i),e.closePath()}},triangle:{draw:function(e,t){var n=Math.sqrt(t)/2,r=Dp*n,i=r-n*bB;e.moveTo(0,-r-i),e.lineTo(-n,r-i),e.lineTo(n,r-i),e.closePath()}},"triangle-up":{draw:function(e,t){var n=Math.sqrt(t)/2,r=Dp*n;e.moveTo(0,-r),e.lineTo(-n,r),e.lineTo(n,r),e.closePath()}},"triangle-down":{draw:function(e,t){var n=Math.sqrt(t)/2,r=Dp*n;e.moveTo(0,r),e.lineTo(-n,-r),e.lineTo(n,-r),e.closePath()}},"triangle-right":{draw:function(e,t){var n=Math.sqrt(t)/2,r=Dp*n;e.moveTo(r,0),e.lineTo(-r,-n),e.lineTo(-r,n),e.closePath()}},"triangle-left":{draw:function(e,t){var n=Math.sqrt(t)/2,r=Dp*n;e.moveTo(-r,0),e.lineTo(r,-n),e.lineTo(r,n),e.closePath()}},stroke:{draw:function(e,t){const n=Math.sqrt(t)/2;e.moveTo(-n,0),e.lineTo(n,0)}}};function Eee(e){return Se(xB,e)?xB[e]:kCe(e)}var yT={};function kCe(e){if(!Se(yT,e)){const t=_m(e);yT[e]={draw:function(n,r){Tv(n,t,0,0,Math.sqrt(r)/2)}}}return yT[e]}const oc=.448084975506;function _Ce(e){return e.x}function $Ce(e){return e.y}function ACe(e){return e.width}function TCe(e){return e.height}function Vl(e){return typeof e=="function"?e:()=>+e}function T2(e,t,n){return Math.max(t,Math.min(e,n))}function kee(){var e=_Ce,t=$Ce,n=ACe,r=TCe,i=Vl(0),o=i,s=i,a=i,l=null;function u(c,f,d){var h,p=f??+e.call(this,c),g=d??+t.call(this,c),m=+n.call(this,c),y=+r.call(this,c),v=Math.min(m,y)/2,b=T2(+i.call(this,c),0,v),x=T2(+o.call(this,c),0,v),w=T2(+s.call(this,c),0,v),E=T2(+a.call(this,c),0,v);if(l||(l=h=t_()),b<=0&&x<=0&&w<=0&&E<=0)l.rect(p,g,m,y);else{var S=p+m,k=g+y;l.moveTo(p+b,g),l.lineTo(S-x,g),l.bezierCurveTo(S-oc*x,g,S,g+oc*x,S,g+x),l.lineTo(S,k-E),l.bezierCurveTo(S,k-oc*E,S-oc*E,k,S-E,k),l.lineTo(p+w,k),l.bezierCurveTo(p+oc*w,k,p,k-oc*w,p,k-w),l.lineTo(p,g+b),l.bezierCurveTo(p,g+oc*b,p+oc*b,g,p+b,g),l.closePath()}if(h)return l=null,h+""||null}return u.x=function(c){return arguments.length?(e=Vl(c),u):e},u.y=function(c){return arguments.length?(t=Vl(c),u):t},u.width=function(c){return arguments.length?(n=Vl(c),u):n},u.height=function(c){return arguments.length?(r=Vl(c),u):r},u.cornerRadius=function(c,f,d,h){return arguments.length?(i=Vl(c),o=f!=null?Vl(f):i,a=d!=null?Vl(d):i,s=h!=null?Vl(h):o,u):i},u.context=function(c){return arguments.length?(l=c??null,u):l},u}function _ee(){var e,t,n,r,i=null,o,s,a,l;function u(f,d,h){const p=h/2;if(o){var g=a-d,m=f-s;if(g||m){var y=Math.hypot(g,m),v=(g/=y)*l,b=(m/=y)*l,x=Math.atan2(m,g);i.moveTo(s-v,a-b),i.lineTo(f-g*p,d-m*p),i.arc(f,d,p,x-Math.PI,x),i.lineTo(s+v,a+b),i.arc(s,a,l,x,x+Math.PI)}else i.arc(f,d,p,0,Ja);i.closePath()}else o=1;s=f,a=d,l=p}function c(f){var d,h=f.length,p,g=!1,m;for(i==null&&(i=m=t_()),d=0;d<=h;++d)!(d<h&&r(p=f[d],d,f))===g&&(g=!g)&&(o=0),g&&u(+e(p,d,f),+t(p,d,f),+n(p,d,f));if(m)return i=null,m+""||null}return c.x=function(f){return arguments.length?(e=f,c):e},c.y=function(f){return arguments.length?(t=f,c):t},c.size=function(f){return arguments.length?(n=f,c):n},c.defined=function(f){return arguments.length?(r=f,c):r},c.context=function(f){return arguments.length?(f==null?i=null:i=f,c):i},c}function Zb(e,t){return e??t}const ex=e=>e.x||0,tx=e=>e.y||0,RCe=e=>e.width||0,FCe=e=>e.height||0,OCe=e=>(e.x||0)+(e.width||0),PCe=e=>(e.y||0)+(e.height||0),DCe=e=>e.startAngle||0,MCe=e=>e.endAngle||0,NCe=e=>e.padAngle||0,LCe=e=>e.innerRadius||0,ICe=e=>e.outerRadius||0,zCe=e=>e.cornerRadius||0,BCe=e=>Zb(e.cornerRadiusTopLeft,e.cornerRadius)||0,jCe=e=>Zb(e.cornerRadiusTopRight,e.cornerRadius)||0,UCe=e=>Zb(e.cornerRadiusBottomRight,e.cornerRadius)||0,VCe=e=>Zb(e.cornerRadiusBottomLeft,e.cornerRadius)||0,WCe=e=>Zb(e.size,64),HCe=e=>e.size||1,g_=e=>e.defined!==!1,qCe=e=>Eee(e.shape||"circle"),GCe=hwe().startAngle(DCe).endAngle(MCe).padAngle(NCe).innerRadius(LCe).outerRadius(ICe).cornerRadius(zCe),XCe=YJ().x(ex).y1(tx).y0(PCe).defined(g_),YCe=YJ().y(tx).x1(ex).x0(OCe).defined(g_),KCe=XJ().x(ex).y(tx).defined(g_),QCe=kee().x(ex).y(tx).width(RCe).height(FCe).cornerRadius(BCe,jCe,UCe,VCe),JCe=gwe().type(qCe).size(WCe),ZCe=_ee().x(ex).y(tx).defined(g_).size(HCe);function bM(e){return e.cornerRadius||e.cornerRadiusTopLeft||e.cornerRadiusTopRight||e.cornerRadiusBottomRight||e.cornerRadiusBottomLeft}function eEe(e,t){return GCe.context(e)(t)}function tEe(e,t){const n=t[0],r=n.interpolate||"linear";return(n.orient==="horizontal"?YCe:XCe).curve(vM(r,n.orient,n.tension)).context(e)(t)}function nEe(e,t){const n=t[0],r=n.interpolate||"linear";return KCe.curve(vM(r,n.orient,n.tension)).context(e)(t)}function F0(e,t,n,r){return QCe.context(e)(t,n,r)}function rEe(e,t){return(t.mark.shape||t.shape).context(e)(t)}function iEe(e,t){return JCe.context(e)(t)}function oEe(e,t){return ZCe.context(e)(t)}var $ee=1;function Aee(){$ee=1}function xM(e,t,n){var r=t.clip,i=e._defs,o=t.clip_id||(t.clip_id="clip"+$ee++),s=i.clipping[o]||(i.clipping[o]={id:o});return et(r)?s.path=r(null):bM(n)?s.path=F0(null,n,0,0):(s.width=n.width||0,s.height=n.height||0),"url(#"+o+")"}function Xn(e){this.clear(),e&&this.union(e)}Xn.prototype={clone(){return new Xn(this)},clear(){return this.x1=+Number.MAX_VALUE,this.y1=+Number.MAX_VALUE,this.x2=-Number.MAX_VALUE,this.y2=-Number.MAX_VALUE,this},empty(){return this.x1===+Number.MAX_VALUE&&this.y1===+Number.MAX_VALUE&&this.x2===-Number.MAX_VALUE&&this.y2===-Number.MAX_VALUE},equals(e){return this.x1===e.x1&&this.y1===e.y1&&this.x2===e.x2&&this.y2===e.y2},set(e,t,n,r){return n<e?(this.x2=e,this.x1=n):(this.x1=e,this.x2=n),r<t?(this.y2=t,this.y1=r):(this.y1=t,this.y2=r),this},add(e,t){return e<this.x1&&(this.x1=e),t<this.y1&&(this.y1=t),e>this.x2&&(this.x2=e),t>this.y2&&(this.y2=t),this},expand(e){return this.x1-=e,this.y1-=e,this.x2+=e,this.y2+=e,this},round(){return this.x1=Math.floor(this.x1),this.y1=Math.floor(this.y1),this.x2=Math.ceil(this.x2),this.y2=Math.ceil(this.y2),this},scale(e){return this.x1*=e,this.y1*=e,this.x2*=e,this.y2*=e,this},translate(e,t){return this.x1+=e,this.x2+=e,this.y1+=t,this.y2+=t,this},rotate(e,t,n){const r=this.rotatedPoints(e,t,n);return this.clear().add(r[0],r[1]).add(r[2],r[3]).add(r[4],r[5]).add(r[6],r[7])},rotatedPoints(e,t,n){var{x1:r,y1:i,x2:o,y2:s}=this,a=Math.cos(e),l=Math.sin(e),u=t-t*a+n*l,c=n-t*l-n*a;return[a*r-l*i+u,l*r+a*i+c,a*r-l*s+u,l*r+a*s+c,a*o-l*i+u,l*o+a*i+c,a*o-l*s+u,l*o+a*s+c]},union(e){return e.x1<this.x1&&(this.x1=e.x1),e.y1<this.y1&&(this.y1=e.y1),e.x2>this.x2&&(this.x2=e.x2),e.y2>this.y2&&(this.y2=e.y2),this},intersect(e){return e.x1>this.x1&&(this.x1=e.x1),e.y1>this.y1&&(this.y1=e.y1),e.x2<this.x2&&(this.x2=e.x2),e.y2<this.y2&&(this.y2=e.y2),this},encloses(e){return e&&this.x1<=e.x1&&this.x2>=e.x2&&this.y1<=e.y1&&this.y2>=e.y2},alignsWith(e){return e&&(this.x1==e.x1||this.x2==e.x2||this.y1==e.y1||this.y2==e.y2)},intersects(e){return e&&!(this.x2<e.x1||this.x1>e.x2||this.y2<e.y1||this.y1>e.y2)},contains(e,t){return!(e<this.x1||e>this.x2||t<this.y1||t>this.y2)},width(){return this.x2-this.x1},height(){return this.y2-this.y1}};function m_(e){this.mark=e,this.bounds=this.bounds||new Xn}function y_(e){m_.call(this,e),this.items=this.items||[]}he(y_,m_);class Tee{constructor(t){this._pending=0,this._loader=t||Vk()}pending(){return this._pending}sanitizeURL(t){const n=this;return wB(n),n._loader.sanitize(t,{context:"href"}).then(r=>(xy(n),r)).catch(()=>(xy(n),null))}loadImage(t){const n=this,r=Pwe();return wB(n),n._loader.sanitize(t,{context:"image"}).then(i=>{const o=i.href;if(!o||!r)throw{url:o};const s=new r,a=Se(i,"crossOrigin")?i.crossOrigin:"anonymous";return a!=null&&(s.crossOrigin=a),s.onload=()=>xy(n),s.onerror=()=>xy(n),s.src=o,s}).catch(i=>(xy(n),{complete:!1,width:0,height:0,src:i&&i.url||""}))}ready(){const t=this;return new Promise(n=>{function r(i){t.pending()?setTimeout(()=>{r(!0)},10):n(i)}r(!1)})}}function wB(e){e._pending+=1}function xy(e){e._pending-=1}function Nu(e,t,n){if(t.stroke&&t.opacity!==0&&t.strokeOpacity!==0){const r=t.strokeWidth!=null?+t.strokeWidth:1;e.expand(r+(n?sEe(t,r):0))}return e}function sEe(e,t){return e.strokeJoin&&e.strokeJoin!=="miter"?0:t}const aEe=Ja-1e-8;let v_,Kw,Qw,Nd,_R,Jw,$R,AR;const Mc=(e,t)=>v_.add(e,t),Zw=(e,t)=>Mc(Kw=e,Qw=t),SB=e=>Mc(e,v_.y1),CB=e=>Mc(v_.x1,e),Td=(e,t)=>_R*e+$R*t,Rd=(e,t)=>Jw*e+AR*t,vT=(e,t)=>Mc(Td(e,t),Rd(e,t)),bT=(e,t)=>Zw(Td(e,t),Rd(e,t));function nx(e,t){return v_=e,t?(Nd=t*pf,_R=AR=Math.cos(Nd),Jw=Math.sin(Nd),$R=-Jw):(_R=AR=1,Nd=Jw=$R=0),lEe}const lEe={beginPath(){},closePath(){},moveTo:bT,lineTo:bT,rect(e,t,n,r){Nd?(vT(e+n,t),vT(e+n,t+r),vT(e,t+r),bT(e,t)):(Mc(e+n,t+r),Zw(e,t))},quadraticCurveTo(e,t,n,r){const i=Td(e,t),o=Rd(e,t),s=Td(n,r),a=Rd(n,r);EB(Kw,i,s,SB),EB(Qw,o,a,CB),Zw(s,a)},bezierCurveTo(e,t,n,r,i,o){const s=Td(e,t),a=Rd(e,t),l=Td(n,r),u=Rd(n,r),c=Td(i,o),f=Rd(i,o);kB(Kw,s,l,c,SB),kB(Qw,a,u,f,CB),Zw(c,f)},arc(e,t,n,r,i,o){if(r+=Nd,i+=Nd,Kw=n*Math.cos(i)+e,Qw=n*Math.sin(i)+t,Math.abs(i-r)>aEe)Mc(e-n,t-n),Mc(e+n,t+n);else{const s=u=>Mc(n*Math.cos(u)+e,n*Math.sin(u)+t);let a,l;if(s(r),s(i),i!==r)if(r=r%Ja,r<0&&(r+=Ja),i=i%Ja,i<0&&(i+=Ja),i<r&&(o=!o,a=r,r=i,i=a),o)for(i-=Ja,a=r-r%Ad,l=0;l<4&&a>i;++l,a-=Ad)s(a);else for(a=r-r%Ad+Ad,l=0;l<4&&a<i;++l,a=a+Ad)s(a)}}};function EB(e,t,n,r){const i=(e-t)/(e+n-2*t);0<i&&i<1&&r(e+(t-e)*i)}function kB(e,t,n,r,i){const o=r-e+3*t-3*n,s=e+n-2*t,a=e-t;let l=0,u=0,c;Math.abs(o)>wCe?(c=s*s+a*o,c>=0&&(c=Math.sqrt(c),l=(-s+c)/o,u=(-s-c)/o)):l=.5*a/s,0<l&&l<1&&i(_B(l,e,t,n,r)),0<u&&u<1&&i(_B(u,e,t,n,r))}function _B(e,t,n,r,i){const o=1-e,s=o*o,a=e*e;return s*o*t+3*s*e*n+3*o*a*r+a*e*i}var Kc=(Kc=Yc(1,1))?Kc.getContext("2d"):null;const TR=new Xn;function wM(e){return function(t,n){if(!Kc)return!0;e(Kc,t),TR.clear().union(t.bounds).intersect(n).round();const{x1:r,y1:i,x2:o,y2:s}=TR;for(let a=i;a<=s;++a)for(let l=r;l<=o;++l)if(Kc.isPointInPath(l,a))return!0;return!1}}function SM(e,t){return t.contains(e.x||0,e.y||0)}function Ree(e,t){const n=e.x||0,r=e.y||0,i=e.width||0,o=e.height||0;return t.intersects(TR.set(n,r,n+i,r+o))}function Fee(e,t){const n=e.x||0,r=e.y||0,i=e.x2!=null?e.x2:n,o=e.y2!=null?e.y2:r;return rg(t,n,r,i,o)}function rg(e,t,n,r,i){const{x1:o,y1:s,x2:a,y2:l}=e,u=r-t,c=i-n;let f=0,d=1,h,p,g,m;for(m=0;m<4;++m){if(m===0&&(h=-u,p=-(o-t)),m===1&&(h=u,p=a-t),m===2&&(h=-c,p=-(s-n)),m===3&&(h=c,p=l-n),Math.abs(h)<1e-10&&p<0)return!1;if(g=p/h,h<0){if(g>d)return!1;g>f&&(f=g)}else if(h>0){if(g<f)return!1;g<d&&(d=g)}}return!0}function $m(e,t){e.globalCompositeOperation=t.blend||"source-over"}function js(e,t){return e??t}function $B(e,t){const n=t.length;for(let r=0;r<n;++r)e.addColorStop(t[r].offset,t[r].color);return e}function uEe(e,t,n){const r=n.width(),i=n.height();let o;if(t.gradient==="radial")o=e.createRadialGradient(n.x1+js(t.x1,.5)*r,n.y1+js(t.y1,.5)*i,Math.max(r,i)*js(t.r1,0),n.x1+js(t.x2,.5)*r,n.y1+js(t.y2,.5)*i,Math.max(r,i)*js(t.r2,.5));else{const s=js(t.x1,0),a=js(t.y1,0),l=js(t.x2,1),u=js(t.y2,0);if(s===l||a===u||r===i)o=e.createLinearGradient(n.x1+s*r,n.y1+a*i,n.x1+l*r,n.y1+u*i);else{const c=Yc(Math.ceil(r),Math.ceil(i)),f=c.getContext("2d");return f.scale(r,i),f.fillStyle=$B(f.createLinearGradient(s,a,l,u),t.stops),f.fillRect(0,0,r,i),e.createPattern(c,"no-repeat")}}return $B(o,t.stops)}function Oee(e,t,n){return yM(n)?uEe(e,n,t.bounds):n}function wC(e,t,n){return n*=t.fillOpacity==null?1:t.fillOpacity,n>0?(e.globalAlpha=n,e.fillStyle=Oee(e,t,t.fill),!0):!1}var cEe=[];function Am(e,t,n){var r=(r=t.strokeWidth)!=null?r:1;return r<=0?!1:(n*=t.strokeOpacity==null?1:t.strokeOpacity,n>0?(e.globalAlpha=n,e.strokeStyle=Oee(e,t,t.stroke),e.lineWidth=r,e.lineCap=t.strokeCap||"butt",e.lineJoin=t.strokeJoin||"miter",e.miterLimit=t.strokeMiterLimit||10,e.setLineDash&&(e.setLineDash(t.strokeDash||cEe),e.lineDashOffset=t.strokeDashOffset||0),!0):!1)}function fEe(e,t){return e.zindex-t.zindex||e.index-t.index}function CM(e){if(!e.zdirty)return e.zitems;var t=e.items,n=[],r,i,o;for(i=0,o=t.length;i<o;++i)r=t[i],r.index=i,r.zindex&&n.push(r);return e.zdirty=!1,e.zitems=n.sort(fEe)}function ma(e,t){var n=e.items,r,i;if(!n||!n.length)return;const o=CM(e);if(o&&o.length){for(r=0,i=n.length;r<i;++r)n[r].zindex||t(n[r]);n=o}for(r=0,i=n.length;r<i;++r)t(n[r])}function SC(e,t){var n=e.items,r,i;if(!n||!n.length)return null;const o=CM(e);for(o&&o.length&&(n=o),i=n.length;--i>=0;)if(r=t(n[i]))return r;if(n===o){for(n=e.items,i=n.length;--i>=0;)if(!n[i].zindex&&(r=t(n[i])))return r}return null}function EM(e){return function(t,n,r){ma(n,i=>{(!r||r.intersects(i.bounds))&&Pee(e,t,i,i)})}}function dEe(e){return function(t,n,r){n.items.length&&(!r||r.intersects(n.bounds))&&Pee(e,t,n.items[0],n.items)}}function Pee(e,t,n,r){var i=n.opacity==null?1:n.opacity;i!==0&&(e(t,r)||($m(t,n),n.fill&&wC(t,n,i)&&t.fill(),n.stroke&&Am(t,n,i)&&t.stroke()))}function b_(e){return e=e||ws,function(t,n,r,i,o,s){return r*=t.pixelRatio,i*=t.pixelRatio,SC(n,a=>{const l=a.bounds;if(!(l&&!l.contains(o,s)||!l)&&e(t,a,r,i,o,s))return a})}}function rx(e,t){return function(n,r,i,o){var s=Array.isArray(r)?r[0]:r,a=t??s.fill,l=s.stroke&&n.isPointInStroke,u,c;return l&&(u=s.strokeWidth,c=s.strokeCap,n.lineWidth=u??1,n.lineCap=c??"butt"),e(n,r)?!1:a&&n.isPointInPath(i,o)||l&&n.isPointInStroke(i,o)}}function kM(e){return b_(rx(e))}function th(e,t){return"translate("+e+","+t+")"}function _M(e){return"rotate("+e+")"}function hEe(e,t){return"scale("+e+","+t+")"}function Dee(e){return th(e.x||0,e.y||0)}function pEe(e){return th(e.x||0,e.y||0)+(e.angle?" "+_M(e.angle):"")}function gEe(e){return th(e.x||0,e.y||0)+(e.angle?" "+_M(e.angle):"")+(e.scaleX||e.scaleY?" "+hEe(e.scaleX||1,e.scaleY||1):"")}function $M(e,t,n){function r(s,a){s("transform",pEe(a)),s("d",t(null,a))}function i(s,a){return t(nx(s,a.angle),a),Nu(s,a).translate(a.x||0,a.y||0)}function o(s,a){var l=a.x||0,u=a.y||0,c=a.angle||0;s.translate(l,u),c&&s.rotate(c*=pf),s.beginPath(),t(s,a),c&&s.rotate(-c),s.translate(-l,-u)}return{type:e,tag:"path",nested:!1,attr:r,bound:i,draw:EM(o),pick:kM(o),isect:n||wM(o)}}var mEe=$M("arc",eEe);function yEe(e,t){for(var n=e[0].orient==="horizontal"?t[1]:t[0],r=e[0].orient==="horizontal"?"y":"x",i=e.length,o=1/0,s,a;--i>=0;)e[i].defined!==!1&&(a=Math.abs(e[i][r]-n),a<o&&(o=a,s=e[i]));return s}function vEe(e,t){for(var n=Math.pow(e[0].strokeWidth||1,2),r=e.length,i,o,s;--r>=0;)if(e[r].defined!==!1&&(i=e[r].x-t[0],o=e[r].y-t[1],s=i*i+o*o,s<n))return e[r];return null}function bEe(e,t){for(var n=e.length,r,i,o;--n>=0;)if(e[n].defined!==!1&&(r=e[n].x-t[0],i=e[n].y-t[1],o=r*r+i*i,r=e[n].size||1,o<r*r))return e[n];return null}function AM(e,t,n){function r(l,u){var c=u.mark.items;c.length&&l("d",t(null,c))}function i(l,u){var c=u.items;return c.length===0?l:(t(nx(l),c),Nu(l,c[0]))}function o(l,u){l.beginPath(),t(l,u)}const s=rx(o);function a(l,u,c,f,d,h){var p=u.items,g=u.bounds;return!p||!p.length||g&&!g.contains(d,h)?null:(c*=l.pixelRatio,f*=l.pixelRatio,s(l,p,c,f)?p[0]:null)}return{type:e,tag:"path",nested:!0,attr:r,bound:i,draw:dEe(o),pick:a,isect:SM,tip:n}}var xEe=AM("area",tEe,yEe);function wEe(e,t){var n=t.clip;e.save(),et(n)?(e.beginPath(),n(e),e.clip()):Mee(e,t.group)}function Mee(e,t){e.beginPath(),bM(t)?F0(e,t,0,0):e.rect(0,0,t.width||0,t.height||0),e.clip()}function Nee(e){const t=js(e.strokeWidth,1);return e.strokeOffset!=null?e.strokeOffset:e.stroke&&t>.5&&t<1.5?.5-Math.abs(t-1):0}function SEe(e,t){e("transform",Dee(t))}function Lee(e,t){const n=Nee(t);e("d",F0(null,t,n,n))}function CEe(e,t){e("class","background"),e("aria-hidden",!0),Lee(e,t)}function EEe(e,t){e("class","foreground"),e("aria-hidden",!0),t.strokeForeground?Lee(e,t):e("d","")}function kEe(e,t,n){const r=t.clip?xM(n,t,t):null;e("clip-path",r)}function _Ee(e,t){if(!t.clip&&t.items){const n=t.items,r=n.length;for(let i=0;i<r;++i)e.union(n[i].bounds)}return(t.clip||t.width||t.height)&&!t.noBound&&e.add(0,0).add(t.width||0,t.height||0),Nu(e,t),e.translate(t.x||0,t.y||0)}function Rv(e,t,n,r){const i=Nee(t);e.beginPath(),F0(e,t,(n||0)+i,(r||0)+i)}const $Ee=rx(Rv),AEe=rx(Rv,!1),TEe=rx(Rv,!0);function REe(e,t,n,r){ma(t,i=>{const o=i.x||0,s=i.y||0,a=i.strokeForeground,l=i.opacity==null?1:i.opacity;(i.stroke||i.fill)&&l&&(Rv(e,i,o,s),$m(e,i),i.fill&&wC(e,i,l)&&e.fill(),i.stroke&&!a&&Am(e,i,l)&&e.stroke()),e.save(),e.translate(o,s),i.clip&&Mee(e,i),n&&n.translate(-o,-s),ma(i,u=>{(u.marktype==="group"||r==null||r.includes(u.marktype))&&this.draw(e,u,n,r)}),n&&n.translate(o,s),e.restore(),a&&i.stroke&&l&&(Rv(e,i,o,s),$m(e,i),Am(e,i,l)&&e.stroke())})}function FEe(e,t,n,r,i,o){if(t.bounds&&!t.bounds.contains(i,o)||!t.items)return null;const s=n*e.pixelRatio,a=r*e.pixelRatio;return SC(t,l=>{let u,c,f;const d=l.bounds;if(d&&!d.contains(i,o))return;c=l.x||0,f=l.y||0;const h=c+(l.width||0),p=f+(l.height||0),g=l.clip;if(g&&(i<c||i>h||o<f||o>p))return;if(e.save(),e.translate(c,f),c=i-c,f=o-f,g&&bM(l)&&!TEe(e,l,s,a))return e.restore(),null;const m=l.strokeForeground,y=t.interactive!==!1;return y&&m&&l.stroke&&AEe(e,l,s,a)?(e.restore(),l):(u=SC(l,v=>OEe(v,c,f)?this.pick(v,n,r,c,f):null),!u&&y&&(l.fill||!m&&l.stroke)&&$Ee(e,l,s,a)&&(u=l),e.restore(),u||null)})}function OEe(e,t,n){return(e.interactive!==!1||e.marktype==="group")&&e.bounds&&e.bounds.contains(t,n)}var PEe={type:"group",tag:"g",nested:!1,attr:SEe,bound:_Ee,draw:REe,pick:FEe,isect:Ree,content:kEe,background:CEe,foreground:EEe},Fv={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1"};function TM(e,t){var n=e.image;return(!n||e.url&&e.url!==n.url)&&(n={complete:!1,width:0,height:0},t.loadImage(e.url).then(r=>{e.image=r,e.image.url=e.url})),n}function RM(e,t){return e.width!=null?e.width:!t||!t.width?0:e.aspect!==!1&&e.height?e.height*t.width/t.height:t.width}function FM(e,t){return e.height!=null?e.height:!t||!t.height?0:e.aspect!==!1&&e.width?e.width*t.height/t.width:t.height}function x_(e,t){return e==="center"?t/2:e==="right"?t:0}function w_(e,t){return e==="middle"?t/2:e==="bottom"?t:0}function DEe(e,t,n){const r=TM(t,n),i=RM(t,r),o=FM(t,r),s=(t.x||0)-x_(t.align,i),a=(t.y||0)-w_(t.baseline,o),l=!r.src&&r.toDataURL?r.toDataURL():r.src||"";e("href",l,Fv["xmlns:xlink"],"xlink:href"),e("transform",th(s,a)),e("width",i),e("height",o),e("preserveAspectRatio",t.aspect===!1?"none":"xMidYMid")}function MEe(e,t){const n=t.image,r=RM(t,n),i=FM(t,n),o=(t.x||0)-x_(t.align,r),s=(t.y||0)-w_(t.baseline,i);return e.set(o,s,o+r,s+i)}function NEe(e,t,n){ma(t,r=>{if(n&&!n.intersects(r.bounds))return;const i=TM(r,this);let o=RM(r,i),s=FM(r,i);if(o===0||s===0)return;let a=(r.x||0)-x_(r.align,o),l=(r.y||0)-w_(r.baseline,s),u,c,f,d;r.aspect!==!1&&(c=i.width/i.height,f=r.width/r.height,c===c&&f===f&&c!==f&&(f<c?(d=o/c,l+=(s-d)/2,s=d):(d=s*c,a+=(o-d)/2,o=d))),(i.complete||i.toDataURL)&&($m(e,r),e.globalAlpha=(u=r.opacity)!=null?u:1,e.imageSmoothingEnabled=r.smooth!==!1,e.drawImage(i,a,l,o,s))})}var LEe={type:"image",tag:"image",nested:!1,attr:DEe,bound:MEe,draw:NEe,pick:b_(),isect:ws,get:TM,xOffset:x_,yOffset:w_},IEe=AM("line",nEe,vEe);function zEe(e,t){var n=t.scaleX||1,r=t.scaleY||1;(n!==1||r!==1)&&e("vector-effect","non-scaling-stroke"),e("transform",gEe(t)),e("d",t.path)}function eS(e,t){var n=t.path;if(n==null)return!0;var r=t.x||0,i=t.y||0,o=t.scaleX||1,s=t.scaleY||1,a=(t.angle||0)*pf,l=t.pathCache;(!l||l.path!==n)&&((t.pathCache=l=_m(n)).path=n),a&&e.rotate&&e.translate?(e.translate(r,i),e.rotate(a),Tv(e,l,0,0,o,s),e.rotate(-a),e.translate(-r,-i)):Tv(e,l,r,i,o,s)}function BEe(e,t){return eS(nx(e,t.angle),t)?e.set(0,0,0,0):Nu(e,t,!0)}var jEe={type:"path",tag:"path",nested:!1,attr:zEe,bound:BEe,draw:EM(eS),pick:kM(eS),isect:wM(eS)};function UEe(e,t){e("d",F0(null,t))}function VEe(e,t){var n,r;return Nu(e.set(n=t.x||0,r=t.y||0,n+t.width||0,r+t.height||0),t)}function AB(e,t){e.beginPath(),F0(e,t)}var WEe={type:"rect",tag:"path",nested:!1,attr:UEe,bound:VEe,draw:EM(AB),pick:kM(AB),isect:Ree};function HEe(e,t){e("transform",Dee(t)),e("x2",t.x2!=null?t.x2-(t.x||0):0),e("y2",t.y2!=null?t.y2-(t.y||0):0)}function qEe(e,t){var n,r;return Nu(e.set(n=t.x||0,r=t.y||0,t.x2!=null?t.x2:n,t.y2!=null?t.y2:r),t)}function Iee(e,t,n){var r,i,o,s;return t.stroke&&Am(e,t,n)?(r=t.x||0,i=t.y||0,o=t.x2!=null?t.x2:r,s=t.y2!=null?t.y2:i,e.beginPath(),e.moveTo(r,i),e.lineTo(o,s),!0):!1}function GEe(e,t,n){ma(t,r=>{if(!(n&&!n.intersects(r.bounds))){var i=r.opacity==null?1:r.opacity;i&&Iee(e,r,i)&&($m(e,r),e.stroke())}})}function XEe(e,t,n,r){return e.isPointInStroke?Iee(e,t,1)&&e.isPointInStroke(n,r):!1}var YEe={type:"rule",tag:"line",nested:!1,attr:HEe,bound:qEe,draw:GEe,pick:b_(XEe),isect:Fee},KEe=$M("shape",rEe),QEe=$M("symbol",iEe,SM);const TB=BK();var To={height:Tl,measureWidth:OM,estimateWidth:CC,width:CC,canvas:zee};zee(!0);function zee(e){To.width=e&&Kc?OM:CC}function CC(e,t){return Bee(mf(e,t),Tl(e))}function Bee(e,t){return~~(.8*e.length*t)}function OM(e,t){return Tl(e)<=0||!(t=mf(e,t))?0:jee(t,S_(e))}function jee(e,t){const n=`(${t}) ${e}`;let r=TB.get(n);return r===void 0&&(Kc.font=t,r=Kc.measureText(e).width,TB.set(n,r)),r}function Tl(e){return e.fontSize!=null?+e.fontSize||0:11}function gf(e){return e.lineHeight!=null?e.lineHeight:Tl(e)+2}function JEe(e){return te(e)?e.length>1?e:e[0]:e}function ix(e){return JEe(e.lineBreak&&e.text&&!te(e.text)?e.text.split(e.lineBreak):e.text)}function PM(e){const t=ix(e);return(te(t)?t.length-1:0)*gf(e)}function mf(e,t){const n=t==null?"":(t+"").trim();return e.limit>0&&n.length?eke(e,n):n}function ZEe(e){if(To.width===OM){const t=S_(e);return n=>jee(n,t)}else if(To.width===CC){const t=Tl(e);return n=>Bee(n,t)}else return t=>To.width(e,t)}function eke(e,t){var n=+e.limit,r=ZEe(e);if(r(t)<n)return t;var i=e.ellipsis||"",o=e.dir==="rtl",s=0,a=t.length,l;if(n-=r(i),o){for(;s<a;)l=s+a>>>1,r(t.slice(l))>n?s=l+1:a=l;return i+t.slice(s)}else{for(;s<a;)l=1+(s+a>>>1),r(t.slice(0,l))<n?s=l:a=l-1;return t.slice(0,s)+i}}function ox(e,t){var n=e.font;return(t&&n?String(n).replace(/"/g,"'"):n)||"sans-serif"}function S_(e,t){return(e.fontStyle?e.fontStyle+" ":"")+(e.fontVariant?e.fontVariant+" ":"")+(e.fontWeight?e.fontWeight+" ":"")+Tl(e)+"px "+ox(e,t)}function DM(e){var t=e.baseline,n=Tl(e);return Math.round(t==="top"?.79*n:t==="middle"?.3*n:t==="bottom"?-.21*n:t==="line-top"?.29*n+.5*gf(e):t==="line-bottom"?.29*n-.5*gf(e):0)}const tke={left:"start",center:"middle",right:"end"},B1=new Xn;function C_(e){var t=e.x||0,n=e.y||0,r=e.radius||0,i;return r&&(i=(e.theta||0)-Ad,t+=r*Math.cos(i),n+=r*Math.sin(i)),B1.x1=t,B1.y1=n,B1}function nke(e,t){var n=t.dx||0,r=(t.dy||0)+DM(t),i=C_(t),o=i.x1,s=i.y1,a=t.angle||0,l;e("text-anchor",tke[t.align]||"start"),a?(l=th(o,s)+" "+_M(a),(n||r)&&(l+=" "+th(n,r))):l=th(o+n,s+r),e("transform",l)}function MM(e,t,n){var r=To.height(t),i=t.align,o=C_(t),s=o.x1,a=o.y1,l=t.dx||0,u=(t.dy||0)+DM(t)-Math.round(.8*r),c=ix(t),f;if(te(c)?(r+=gf(t)*(c.length-1),f=c.reduce((d,h)=>Math.max(d,To.width(t,h)),0)):f=To.width(t,c),i==="center"?l-=f/2:i==="right"&&(l-=f),e.set(l+=s,u+=a,l+f,u+r),t.angle&&!n)e.rotate(t.angle*pf,s,a);else if(n===2)return e.rotatedPoints(t.angle*pf,s,a);return e}function rke(e,t,n){ma(t,r=>{var i=r.opacity==null?1:r.opacity,o,s,a,l,u,c,f;if(!(n&&!n.intersects(r.bounds)||i===0||r.fontSize<=0||r.text==null||r.text.length===0)){if(e.font=S_(r),e.textAlign=r.align||"left",o=C_(r),s=o.x1,a=o.y1,r.angle&&(e.save(),e.translate(s,a),e.rotate(r.angle*pf),s=a=0),s+=r.dx||0,a+=(r.dy||0)+DM(r),c=ix(r),$m(e,r),te(c))for(u=gf(r),l=0;l<c.length;++l)f=mf(r,c[l]),r.fill&&wC(e,r,i)&&e.fillText(f,s,a),r.stroke&&Am(e,r,i)&&e.strokeText(f,s,a),a+=u;else f=mf(r,c),r.fill&&wC(e,r,i)&&e.fillText(f,s,a),r.stroke&&Am(e,r,i)&&e.strokeText(f,s,a);r.angle&&e.restore()}})}function ike(e,t,n,r,i,o){if(t.fontSize<=0)return!1;if(!t.angle)return!0;var s=C_(t),a=s.x1,l=s.y1,u=MM(B1,t,1),c=-t.angle*pf,f=Math.cos(c),d=Math.sin(c),h=f*i-d*o+(a-f*a+d*l),p=d*i+f*o+(l-d*a-f*l);return u.contains(h,p)}function oke(e,t){const n=MM(B1,e,2);return rg(t,n[0],n[1],n[2],n[3])||rg(t,n[0],n[1],n[4],n[5])||rg(t,n[4],n[5],n[6],n[7])||rg(t,n[2],n[3],n[6],n[7])}var ske={type:"text",tag:"text",nested:!1,attr:nke,bound:MM,draw:rke,pick:b_(ike),isect:oke},ake=AM("trail",oEe,bEe),Io={arc:mEe,area:xEe,group:PEe,image:LEe,line:IEe,path:jEe,rect:WEe,rule:YEe,shape:KEe,symbol:QEe,text:ske,trail:ake};function RR(e,t,n){var r=Io[e.mark.marktype],i=t||r.bound;return r.nested&&(e=e.mark),i(e.bounds||(e.bounds=new Xn),e,n)}var RB={mark:null};function Uee(e,t,n){var r=Io[e.marktype],i=r.bound,o=e.items,s=o&&o.length,a,l,u,c;if(r.nested)return s?u=o[0]:(RB.mark=e,u=RB),c=RR(u,i,n),t=t&&t.union(c)||c,t;if(t=t||e.bounds&&e.bounds.clear()||new Xn,s)for(a=0,l=o.length;a<l;++a)t.union(RR(o[a],i,n));return e.bounds=t}const lke=["marktype","name","role","interactive","clip","items","zindex","x","y","width","height","align","baseline","fill","fillOpacity","opacity","blend","stroke","strokeOpacity","strokeWidth","strokeCap","strokeDash","strokeDashOffset","strokeForeground","strokeOffset","startAngle","endAngle","innerRadius","outerRadius","cornerRadius","padAngle","cornerRadiusTopLeft","cornerRadiusTopRight","cornerRadiusBottomLeft","cornerRadiusBottomRight","interpolate","tension","orient","defined","url","aspect","smooth","path","scaleX","scaleY","x2","y2","size","shape","text","angle","theta","radius","dir","dx","dy","ellipsis","limit","lineBreak","lineHeight","font","fontSize","fontWeight","fontStyle","fontVariant","description","aria","ariaRole","ariaRoleDescription"];function Vee(e,t){return JSON.stringify(e,lke,t)}function Wee(e){const t=typeof e=="string"?JSON.parse(e):e;return Hee(t)}function Hee(e){var t=e.marktype,n=e.items,r,i,o;if(n)for(i=0,o=n.length;i<o;++i)r=t?"mark":"group",n[i][r]=e,n[i].zindex&&(n[i][r].zdirty=!0),(t||r)==="group"&&Hee(n[i]);return t&&Uee(e),e}class qee{constructor(t){arguments.length?this.root=Wee(t):(this.root=FB({marktype:"group",name:"root",role:"frame"}),this.root.items=[new y_(this.root)])}toJSON(t){return Vee(this.root,t||0)}mark(t,n,r){n=n||this.root.items[0];const i=FB(t,n);return n.items[r]=i,i.zindex&&(i.group.zdirty=!0),i}}function FB(e,t){const n={bounds:new Xn,clip:!!e.clip,group:t,interactive:e.interactive!==!1,items:[],marktype:e.marktype,name:e.name||void 0,role:e.role||void 0,zindex:e.zindex||0};return e.aria!=null&&(n.aria=e.aria),e.description&&(n.description=e.description),n}function Nc(e,t,n){return!e&&typeof document<"u"&&document.createElement&&(e=document),e?n?e.createElementNS(n,t):e.createElement(t):null}function NM(e,t){t=t.toLowerCase();for(var n=e.childNodes,r=0,i=n.length;r<i;++r)if(n[r].tagName.toLowerCase()===t)return n[r]}function tr(e,t,n,r){var i=e.childNodes[t],o;return(!i||i.tagName.toLowerCase()!==n.toLowerCase())&&(o=i||null,i=Nc(e.ownerDocument,n,r),e.insertBefore(i,o)),i}function os(e,t){for(var n=e.childNodes,r=n.length;r>t;)e.removeChild(n[--r]);return e}function Gee(e){return"mark-"+e.marktype+(e.role?" role-"+e.role:"")+(e.name?" "+e.name:"")}function E_(e,t){const n=t.getBoundingClientRect();return[e.clientX-n.left-(t.clientLeft||0),e.clientY-n.top-(t.clientTop||0)]}function uke(e,t,n,r){var i=e&&e.mark,o,s;if(i&&(o=Io[i.marktype]).tip){for(s=E_(t,n),s[0]-=r[0],s[1]-=r[1];e=e.mark.group;)s[0]-=e.x||0,s[1]-=e.y||0;e=o.tip(i.items,s)}return e}let LM=class{constructor(t,n){this._active=null,this._handlers={},this._loader=t||Vk(),this._tooltip=n||cke}initialize(t,n,r){return this._el=t,this._obj=r||null,this.origin(n)}element(){return this._el}canvas(){return this._el&&this._el.firstChild}origin(t){return arguments.length?(this._origin=t||[0,0],this):this._origin.slice()}scene(t){return arguments.length?(this._scene=t,this):this._scene}on(){}off(){}_handlerIndex(t,n,r){for(let i=t?t.length:0;--i>=0;)if(t[i].type===n&&(!r||t[i].handler===r))return i;return-1}handlers(t){const n=this._handlers,r=[];if(t)r.push(...n[this.eventName(t)]);else for(const i in n)r.push(...n[i]);return r}eventName(t){const n=t.indexOf(".");return n<0?t:t.slice(0,n)}handleHref(t,n,r){this._loader.sanitize(r,{context:"href"}).then(i=>{const o=new MouseEvent(t.type,t),s=Nc(null,"a");for(const a in i)s.setAttribute(a,i[a]);s.dispatchEvent(o)}).catch(()=>{})}handleTooltip(t,n,r){if(n&&n.tooltip!=null){n=uke(n,t,this.canvas(),this._origin);const i=r&&n&&n.tooltip||null;this._tooltip.call(this._obj,this,t,n,i)}}getItemBoundingClientRect(t){const n=this.canvas();if(!n)return;const r=n.getBoundingClientRect(),i=this._origin,o=t.bounds,s=o.width(),a=o.height();let l=o.x1+i[0]+r.left,u=o.y1+i[1]+r.top;for(;t.mark&&(t=t.mark.group);)l+=t.x||0,u+=t.y||0;return{x:l,y:u,width:s,height:a,left:l,top:u,right:l+s,bottom:u+a}}};function cke(e,t,n,r){e.element().setAttribute("title",r||"")}class sx{constructor(t){this._el=null,this._bgcolor=null,this._loader=new Tee(t)}initialize(t,n,r,i,o){return this._el=t,this.resize(n,r,i,o)}element(){return this._el}canvas(){return this._el&&this._el.firstChild}background(t){return arguments.length===0?this._bgcolor:(this._bgcolor=t,this)}resize(t,n,r,i){return this._width=t,this._height=n,this._origin=r||[0,0],this._scale=i||1,this}dirty(){}render(t,n){const r=this;return r._call=function(){r._render(t,n)},r._call(),r._call=null,r}_render(){}renderAsync(t,n){const r=this.render(t,n);return this._ready?this._ready.then(()=>r):Promise.resolve(r)}_load(t,n){var r=this,i=r._loader[t](n);if(!r._ready){const o=r._call;r._ready=r._loader.ready().then(s=>{s&&o(),r._ready=null})}return i}sanitizeURL(t){return this._load("sanitizeURL",t)}loadImage(t){return this._load("loadImage",t)}}const fke="keydown",dke="keypress",hke="keyup",Xee="dragenter",tS="dragleave",Yee="dragover",FR="pointerdown",pke="pointerup",EC="pointermove",nS="pointerout",Kee="pointerover",OR="mousedown",gke="mouseup",Qee="mousemove",kC="mouseout",Jee="mouseover",_C="click",mke="dblclick",yke="wheel",Zee="mousewheel",$C="touchstart",AC="touchmove",TC="touchend",vke=[fke,dke,hke,Xee,tS,Yee,FR,pke,EC,nS,Kee,OR,gke,Qee,kC,Jee,_C,mke,yke,Zee,$C,AC,TC],PR=EC,j1=kC,DR=_C;class ax extends LM{constructor(t,n){super(t,n),this._down=null,this._touch=null,this._first=!0,this._events={},this.events=vke,this.pointermove=PB([EC,Qee],[Kee,Jee],[nS,kC]),this.dragover=PB([Yee],[Xee],[tS]),this.pointerout=DB([nS,kC]),this.dragleave=DB([tS])}initialize(t,n,r){return this._canvas=t&&NM(t,"canvas"),[_C,OR,FR,EC,nS,tS].forEach(i=>OB(this,i)),super.initialize(t,n,r)}canvas(){return this._canvas}context(){return this._canvas.getContext("2d")}DOMMouseScroll(t){this.fire(Zee,t)}pointerdown(t){this._down=this._active,this.fire(FR,t)}mousedown(t){this._down=this._active,this.fire(OR,t)}click(t){this._down===this._active&&(this.fire(_C,t),this._down=null)}touchstart(t){this._touch=this.pickEvent(t.changedTouches[0]),this._first&&(this._active=this._touch,this._first=!1),this.fire($C,t,!0)}touchmove(t){this.fire(AC,t,!0)}touchend(t){this.fire(TC,t,!0),this._touch=null}fire(t,n,r){const i=r?this._touch:this._active,o=this._handlers[t];if(n.vegaType=t,t===DR&&i&&i.href?this.handleHref(n,i,i.href):(t===PR||t===j1)&&this.handleTooltip(n,i,t!==j1),o)for(let s=0,a=o.length;s<a;++s)o[s].handler.call(this._obj,n,i)}on(t,n){const r=this.eventName(t),i=this._handlers;return this._handlerIndex(i[r],t,n)<0&&(OB(this,t),(i[r]||(i[r]=[])).push({type:t,handler:n})),this}off(t,n){const r=this.eventName(t),i=this._handlers[r],o=this._handlerIndex(i,t,n);return o>=0&&i.splice(o,1),this}pickEvent(t){const n=E_(t,this._canvas),r=this._origin;return this.pick(this._scene,n[0],n[1],n[0]-r[0],n[1]-r[1])}pick(t,n,r,i,o){const s=this.context();return Io[t.marktype].pick.call(this,s,t,n,r,i,o)}}const bke=e=>e===$C||e===AC||e===TC?[$C,AC,TC]:[e];function OB(e,t){bke(t).forEach(n=>xke(e,n))}function xke(e,t){const n=e.canvas();n&&!e._events[t]&&(e._events[t]=1,n.addEventListener(t,e[t]?r=>e[t](r):r=>e.fire(t,r)))}function u1(e,t,n){t.forEach(r=>e.fire(r,n))}function PB(e,t,n){return function(r){const i=this._active,o=this.pickEvent(r);o===i?u1(this,e,r):((!i||!i.exit)&&u1(this,n,r),this._active=o,u1(this,t,r),u1(this,e,r))}}function DB(e){return function(t){u1(this,e,t),this._active=null}}function wke(){return typeof window<"u"&&window.devicePixelRatio||1}function Ske(e,t,n,r,i,o){const s=typeof HTMLElement<"u"&&e instanceof HTMLElement&&e.parentNode!=null,a=e.getContext("2d"),l=s?wke():i;e.width=t*l,e.height=n*l;for(const u in o)a[u]=o[u];return s&&l!==1&&(e.style.width=t+"px",e.style.height=n+"px"),a.pixelRatio=l,a.setTransform(l,0,0,l,l*r[0],l*r[1]),e}class RC extends sx{constructor(t){super(t),this._options={},this._redraw=!1,this._dirty=new Xn,this._tempb=new Xn}initialize(t,n,r,i,o,s){return this._options=s||{},this._canvas=this._options.externalContext?null:Yc(1,1,this._options.type),t&&this._canvas&&(os(t,0).appendChild(this._canvas),this._canvas.setAttribute("class","marks")),super.initialize(t,n,r,i,o)}resize(t,n,r,i){if(super.resize(t,n,r,i),this._canvas)Ske(this._canvas,this._width,this._height,this._origin,this._scale,this._options.context);else{const o=this._options.externalContext;o||ee("CanvasRenderer is missing a valid canvas or context"),o.scale(this._scale,this._scale),o.translate(this._origin[0],this._origin[1])}return this._redraw=!0,this}canvas(){return this._canvas}context(){return this._options.externalContext||(this._canvas?this._canvas.getContext("2d"):null)}dirty(t){const n=this._tempb.clear().union(t.bounds);let r=t.mark.group;for(;r;)n.translate(r.x||0,r.y||0),r=r.mark.group;this._dirty.union(n)}_render(t,n){const r=this.context(),i=this._origin,o=this._width,s=this._height,a=this._dirty,l=Cke(i,o,s);r.save();const u=this._redraw||a.empty()?(this._redraw=!1,l.expand(1)):Eke(r,l.intersect(a),i);return this.clear(-i[0],-i[1],o,s),this.draw(r,t,u,n),r.restore(),a.clear(),this}draw(t,n,r,i){if(n.marktype!=="group"&&i!=null&&!i.includes(n.marktype))return;const o=Io[n.marktype];n.clip&&wEe(t,n),o.draw.call(this,t,n,r,i),n.clip&&t.restore()}clear(t,n,r,i){const o=this._options,s=this.context();o.type!=="pdf"&&!o.externalContext&&s.clearRect(t,n,r,i),this._bgcolor!=null&&(s.fillStyle=this._bgcolor,s.fillRect(t,n,r,i))}}const Cke=(e,t,n)=>new Xn().set(0,0,t,n).translate(-e[0],-e[1]);function Eke(e,t,n){return t.expand(1).round(),e.pixelRatio%1&&t.scale(e.pixelRatio).round().scale(1/e.pixelRatio),t.translate(-(n[0]%1),-(n[1]%1)),e.beginPath(),e.rect(t.x1,t.y1,t.width(),t.height()),e.clip(),t}class ete extends LM{constructor(t,n){super(t,n);const r=this;r._hrefHandler=xT(r,(i,o)=>{o&&o.href&&r.handleHref(i,o,o.href)}),r._tooltipHandler=xT(r,(i,o)=>{r.handleTooltip(i,o,i.type!==j1)})}initialize(t,n,r){let i=this._svg;return i&&(i.removeEventListener(DR,this._hrefHandler),i.removeEventListener(PR,this._tooltipHandler),i.removeEventListener(j1,this._tooltipHandler)),this._svg=i=t&&NM(t,"svg"),i&&(i.addEventListener(DR,this._hrefHandler),i.addEventListener(PR,this._tooltipHandler),i.addEventListener(j1,this._tooltipHandler)),super.initialize(t,n,r)}canvas(){return this._svg}on(t,n){const r=this.eventName(t),i=this._handlers;if(this._handlerIndex(i[r],t,n)<0){const s={type:t,handler:n,listener:xT(this,n)};(i[r]||(i[r]=[])).push(s),this._svg&&this._svg.addEventListener(r,s.listener)}return this}off(t,n){const r=this.eventName(t),i=this._handlers[r],o=this._handlerIndex(i,t,n);return o>=0&&(this._svg&&this._svg.removeEventListener(r,i[o].listener),i.splice(o,1)),this}}const xT=(e,t)=>n=>{let r=n.target.__data__;r=Array.isArray(r)?r[0]:r,n.vegaType=n.type,t.call(e._obj,n,r)},tte="aria-hidden",IM="aria-label",zM="role",BM="aria-roledescription",nte="graphics-object",jM="graphics-symbol",rte=(e,t,n)=>({[zM]:e,[BM]:t,[IM]:n||void 0}),kke=da(["axis-domain","axis-grid","axis-label","axis-tick","axis-title","legend-band","legend-entry","legend-gradient","legend-label","legend-title","legend-symbol","title"]),MB={axis:{desc:"axis",caption:Ake},legend:{desc:"legend",caption:Tke},"title-text":{desc:"title",caption:e=>`Title text '${LB(e)}'`},"title-subtitle":{desc:"subtitle",caption:e=>`Subtitle text '${LB(e)}'`}},NB={ariaRole:zM,ariaRoleDescription:BM,description:IM};function ite(e,t){const n=t.aria===!1;if(e(tte,n||void 0),n||t.description==null)for(const r in NB)e(NB[r],void 0);else{const r=t.mark.marktype;e(IM,t.description),e(zM,t.ariaRole||(r==="group"?nte:jM)),e(BM,t.ariaRoleDescription||`${r} mark`)}}function ote(e){return e.aria===!1?{[tte]:!0}:kke[e.role]?null:MB[e.role]?$ke(e,MB[e.role]):_ke(e)}function _ke(e){const t=e.marktype,n=t==="group"||t==="text"||e.items.some(r=>r.description!=null&&r.aria!==!1);return rte(n?nte:jM,`${t} mark container`,e.description)}function $ke(e,t){try{const n=e.items[0],r=t.caption||(()=>"");return rte(t.role||jM,t.desc,n.description||r(n))}catch{return null}}function LB(e){return xe(e.text).join(" ")}function Ake(e){const t=e.datum,n=e.orient,r=t.title?ste(e):null,i=e.context,o=i.scales[t.scale].value,s=i.dataflow.locale(),a=o.type;return`${n==="left"||n==="right"?"Y":"X"}-axis`+(r?` titled '${r}'`:"")+` for a ${km(a)?"discrete":a} scale with ${bee(s,o,e)}`}function Tke(e){const t=e.datum,n=t.title?ste(e):null,r=`${t.type||""} legend`.trim(),i=t.scales,o=Object.keys(i),s=e.context,a=s.scales[i[o[0]]].value,l=s.dataflow.locale();return Fke(r)+(n?` titled '${n}'`:"")+` for ${Rke(o)} with ${bee(l,a,e)}`}function ste(e){try{return xe(gt(e.items).items[0].text).join(" ")}catch{return null}}function Rke(e){return e=e.map(t=>t+(t==="fill"||t==="stroke"?" color":"")),e.length<2?e[0]:e.slice(0,-1).join(", ")+" and "+gt(e)}function Fke(e){return e.length?e[0].toUpperCase()+e.slice(1):e}const ate=e=>(e+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),Oke=e=>ate(e).replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;");function UM(){let e="",t="",n="";const r=[],i=()=>t=n="",o=l=>{t&&(e+=`${t}>${n}`,i()),r.push(l)},s=(l,u)=>(u!=null&&(t+=` ${l}="${Oke(u)}"`),a),a={open(l){o(l),t="<"+l;for(var u=arguments.length,c=new Array(u>1?u-1:0),f=1;f<u;f++)c[f-1]=arguments[f];for(const d of c)for(const h in d)s(h,d[h]);return a},close(){const l=r.pop();return t?e+=t+(n?`>${n}</${l}>`:"/>"):e+=`</${l}>`,i(),a},attr:s,text:l=>(n+=ate(l),a),toString:()=>e};return a}const lte=e=>ute(UM(),e)+"";function ute(e,t){if(e.open(t.tagName),t.hasAttributes()){const n=t.attributes,r=n.length;for(let i=0;i<r;++i)e.attr(n[i].name,n[i].value)}if(t.hasChildNodes()){const n=t.childNodes;for(const r of n)r.nodeType===3?e.text(r.nodeValue):ute(e,r)}return e.close()}const FC={fill:"fill",fillOpacity:"fill-opacity",stroke:"stroke",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",strokeCap:"stroke-linecap",strokeJoin:"stroke-linejoin",strokeDash:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeMiterLimit:"stroke-miterlimit",opacity:"opacity"},OC={blend:"mix-blend-mode"},cte={fill:"none","stroke-miterlimit":10},wy=0,IB="http://www.w3.org/2000/xmlns/",Zn=Fv.xmlns;class VM extends sx{constructor(t){super(t),this._dirtyID=0,this._dirty=[],this._svg=null,this._root=null,this._defs=null}initialize(t,n,r,i,o){return this._defs={},this._clearDefs(),t&&(this._svg=tr(t,0,"svg",Zn),this._svg.setAttributeNS(IB,"xmlns",Zn),this._svg.setAttributeNS(IB,"xmlns:xlink",Fv["xmlns:xlink"]),this._svg.setAttribute("version",Fv.version),this._svg.setAttribute("class","marks"),os(t,1),this._root=tr(this._svg,wy,"g",Zn),Lc(this._root,cte),os(this._svg,wy+1)),this.background(this._bgcolor),super.initialize(t,n,r,i,o)}background(t){return arguments.length&&this._svg&&this._svg.style.setProperty("background-color",t),super.background(...arguments)}resize(t,n,r,i){return super.resize(t,n,r,i),this._svg&&(Lc(this._svg,{width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}),this._root.setAttribute("transform",`translate(${this._origin})`)),this._dirty=[],this}canvas(){return this._svg}svg(){const t=this._svg,n=this._bgcolor;if(!t)return null;let r;n&&(t.removeAttribute("style"),r=tr(t,wy,"rect",Zn),Lc(r,{width:this._width,height:this._height,fill:n}));const i=lte(t);return n&&(t.removeChild(r),this._svg.style.setProperty("background-color",n)),i}_render(t,n){return this._dirtyCheck()&&(this._dirtyAll&&this._clearDefs(),this.mark(this._root,t,void 0,n),os(this._root,1)),this.defs(),this._dirty=[],++this._dirtyID,this}dirty(t){t.dirty!==this._dirtyID&&(t.dirty=this._dirtyID,this._dirty.push(t))}isDirty(t){return this._dirtyAll||!t._svg||!t._svg.ownerSVGElement||t.dirty===this._dirtyID}_dirtyCheck(){this._dirtyAll=!0;const t=this._dirty;if(!t.length||!this._dirtyID)return!0;const n=++this._dirtyID;let r,i,o,s,a,l,u;for(a=0,l=t.length;a<l;++a)if(r=t[a],i=r.mark,i.marktype!==o&&(o=i.marktype,s=Io[o]),i.zdirty&&i.dirty!==n&&(this._dirtyAll=!1,zB(r,n),i.items.forEach(c=>{c.dirty=n})),!i.zdirty){if(r.exit){s.nested&&i.items.length?(u=i.items[0],u._svg&&this._update(s,u._svg,u)):r._svg&&(u=r._svg.parentNode,u&&u.removeChild(r._svg)),r._svg=null;continue}r=s.nested?i.items[0]:r,r._update!==n&&(!r._svg||!r._svg.ownerSVGElement?(this._dirtyAll=!1,zB(r,n)):this._update(s,r._svg,r),r._update=n)}return!this._dirtyAll}mark(t,n,r,i){if(!this.isDirty(n))return n._svg;const o=this._svg,s=n.marktype,a=Io[s],l=n.interactive===!1?"none":null,u=a.tag==="g",c=BB(n,t,r,"g",o);if(s!=="group"&&i!=null&&!i.includes(s))return os(c,0),n._svg;c.setAttribute("class",Gee(n));const f=ote(n);for(const g in f)yi(c,g,f[g]);u||yi(c,"pointer-events",l),yi(c,"clip-path",n.clip?xM(this,n,n.group):null);let d=null,h=0;const p=g=>{const m=this.isDirty(g),y=BB(g,c,d,a.tag,o);m&&(this._update(a,y,g),u&&Mke(this,y,g,i)),d=y,++h};return a.nested?n.items.length&&p(n.items[0]):ma(n,p),os(c,h),c}_update(t,n,r){au=n,Qr=n.__values__,ite(U1,r),t.attr(U1,r,this);const i=Lke[t.type];i&&i.call(this,t,n,r),au&&this.style(au,r)}style(t,n){if(n!=null){for(const r in FC){let i=r==="font"?ox(n):n[r];if(i===Qr[r])continue;const o=FC[r];i==null?t.removeAttribute(o):(yM(i)&&(i=wee(i,this._defs.gradient,fte())),t.setAttribute(o,i+"")),Qr[r]=i}for(const r in OC)rS(t,OC[r],n[r])}}defs(){const t=this._svg,n=this._defs;let r=n.el,i=0;for(const o in n.gradient)r||(n.el=r=tr(t,wy+1,"defs",Zn)),i=Pke(r,n.gradient[o],i);for(const o in n.clipping)r||(n.el=r=tr(t,wy+1,"defs",Zn)),i=Dke(r,n.clipping[o],i);r&&(i===0?(t.removeChild(r),n.el=null):os(r,i))}_clearDefs(){const t=this._defs;t.gradient={},t.clipping={}}}function zB(e,t){for(;e&&e.dirty!==t;e=e.mark.group)if(e.dirty=t,e.mark&&e.mark.dirty!==t)e.mark.dirty=t;else return}function Pke(e,t,n){let r,i,o;if(t.gradient==="radial"){let s=tr(e,n++,"pattern",Zn);Lc(s,{id:xC+t.id,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),s=tr(s,0,"rect",Zn),Lc(s,{width:1,height:1,fill:`url(${fte()}#${t.id})`}),e=tr(e,n++,"radialGradient",Zn),Lc(e,{id:t.id,fx:t.x1,fy:t.y1,fr:t.r1,cx:t.x2,cy:t.y2,r:t.r2})}else e=tr(e,n++,"linearGradient",Zn),Lc(e,{id:t.id,x1:t.x1,x2:t.x2,y1:t.y1,y2:t.y2});for(r=0,i=t.stops.length;r<i;++r)o=tr(e,r,"stop",Zn),o.setAttribute("offset",t.stops[r].offset),o.setAttribute("stop-color",t.stops[r].color);return os(e,r),n}function Dke(e,t,n){let r;return e=tr(e,n,"clipPath",Zn),e.setAttribute("id",t.id),t.path?(r=tr(e,0,"path",Zn),r.setAttribute("d",t.path)):(r=tr(e,0,"rect",Zn),Lc(r,{x:0,y:0,width:t.width,height:t.height})),os(e,1),n+1}function Mke(e,t,n,r){t=t.lastChild.previousSibling;let i,o=0;ma(n,s=>{i=e.mark(t,s,i,r),++o}),os(t,1+o)}function BB(e,t,n,r,i){let o=e._svg,s;if(!o&&(s=t.ownerDocument,o=Nc(s,r,Zn),e._svg=o,e.mark&&(o.__data__=e,o.__values__={fill:"default"},r==="g"))){const a=Nc(s,"path",Zn);o.appendChild(a),a.__data__=e;const l=Nc(s,"g",Zn);o.appendChild(l),l.__data__=e;const u=Nc(s,"path",Zn);o.appendChild(u),u.__data__=e,u.__values__={fill:"default"}}return(o.ownerSVGElement!==i||Nke(o,n))&&t.insertBefore(o,n?n.nextSibling:t.firstChild),o}function Nke(e,t){return e.parentNode&&e.parentNode.childNodes.length>1&&e.previousSibling!=t}let au=null,Qr=null;const Lke={group(e,t,n){const r=au=t.childNodes[2];Qr=r.__values__,e.foreground(U1,n,this),Qr=t.__values__,au=t.childNodes[1],e.content(U1,n,this);const i=au=t.childNodes[0];e.background(U1,n,this);const o=n.mark.interactive===!1?"none":null;if(o!==Qr.events&&(yi(r,"pointer-events",o),yi(i,"pointer-events",o),Qr.events=o),n.strokeForeground&&n.stroke){const s=n.fill;yi(r,"display",null),this.style(i,n),yi(i,"stroke",null),s&&(n.fill=null),Qr=r.__values__,this.style(r,n),s&&(n.fill=s),au=null}else yi(r,"display","none")},image(e,t,n){n.smooth===!1?(rS(t,"image-rendering","optimizeSpeed"),rS(t,"image-rendering","pixelated")):rS(t,"image-rendering",null)},text(e,t,n){const r=ix(n);let i,o,s,a;te(r)?(o=r.map(l=>mf(n,l)),i=o.join(`
`),i!==Qr.text&&(os(t,0),s=t.ownerDocument,a=gf(n),o.forEach((l,u)=>{const c=Nc(s,"tspan",Zn);c.__data__=n,c.textContent=l,u&&(c.setAttribute("x",0),c.setAttribute("dy",a)),t.appendChild(c)}),Qr.text=i)):(o=mf(n,r),o!==Qr.text&&(t.textContent=o,Qr.text=o)),yi(t,"font-family",ox(n)),yi(t,"font-size",Tl(n)+"px"),yi(t,"font-style",n.fontStyle),yi(t,"font-variant",n.fontVariant),yi(t,"font-weight",n.fontWeight)}};function U1(e,t,n){t!==Qr[e]&&(n?Ike(au,e,t,n):yi(au,e,t),Qr[e]=t)}function rS(e,t,n){n!==Qr[t]&&(n==null?e.style.removeProperty(t):e.style.setProperty(t,n+""),Qr[t]=n)}function Lc(e,t){for(const n in t)yi(e,n,t[n])}function yi(e,t,n){n!=null?e.setAttribute(t,n):e.removeAttribute(t)}function Ike(e,t,n,r){n!=null?e.setAttributeNS(r,t,n):e.removeAttributeNS(r,t)}function fte(){let e;return typeof window>"u"?"":(e=window.location).hash?e.href.slice(0,-e.hash.length):e.href}class dte extends sx{constructor(t){super(t),this._text=null,this._defs={gradient:{},clipping:{}}}svg(){return this._text}_render(t){const n=UM();n.open("svg",Ze({},Fv,{class:"marks",width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}));const r=this._bgcolor;return r&&r!=="transparent"&&r!=="none"&&n.open("rect",{width:this._width,height:this._height,fill:r}).close(),n.open("g",cte,{transform:"translate("+this._origin+")"}),this.mark(n,t),n.close(),this.defs(n),this._text=n.close()+"",this}mark(t,n){const r=Io[n.marktype],i=r.tag,o=[ite,r.attr];t.open("g",{class:Gee(n),"clip-path":n.clip?xM(this,n,n.group):null},ote(n),{"pointer-events":i!=="g"&&n.interactive===!1?"none":null});const s=a=>{const l=this.href(a);if(l&&t.open("a",l),t.open(i,this.attr(n,a,o,i!=="g"?i:null)),i==="text"){const u=ix(a);if(te(u)){const c={x:0,dy:gf(a)};for(let f=0;f<u.length;++f)t.open("tspan",f?c:null).text(mf(a,u[f])).close()}else t.text(mf(a,u))}else if(i==="g"){const u=a.strokeForeground,c=a.fill,f=a.stroke;u&&f&&(a.stroke=null),t.open("path",this.attr(n,a,r.background,"bgrect")).close(),t.open("g",this.attr(n,a,r.content)),ma(a,d=>this.mark(t,d)),t.close(),u&&f?(c&&(a.fill=null),a.stroke=f,t.open("path",this.attr(n,a,r.foreground,"bgrect")).close(),c&&(a.fill=c)):t.open("path",this.attr(n,a,r.foreground,"bgfore")).close()}t.close(),l&&t.close()};return r.nested?n.items&&n.items.length&&s(n.items[0]):ma(n,s),t.close()}href(t){const n=t.href;let r;if(n){if(r=this._hrefs&&this._hrefs[n])return r;this.sanitizeURL(n).then(i=>{i["xlink:href"]=i.href,i.href=null,(this._hrefs||(this._hrefs={}))[n]=i})}return null}attr(t,n,r,i){const o={},s=(a,l,u,c)=>{o[c||a]=l};return Array.isArray(r)?r.forEach(a=>a(s,n,this)):r(s,n,this),i&&zke(o,n,t,i,this._defs),o}defs(t){const n=this._defs.gradient,r=this._defs.clipping;if(Object.keys(n).length+Object.keys(r).length!==0){t.open("defs");for(const o in n){const s=n[o],a=s.stops;s.gradient==="radial"?(t.open("pattern",{id:xC+o,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),t.open("rect",{width:"1",height:"1",fill:"url(#"+o+")"}).close(),t.close(),t.open("radialGradient",{id:o,fx:s.x1,fy:s.y1,fr:s.r1,cx:s.x2,cy:s.y2,r:s.r2})):t.open("linearGradient",{id:o,x1:s.x1,x2:s.x2,y1:s.y1,y2:s.y2});for(let l=0;l<a.length;++l)t.open("stop",{offset:a[l].offset,"stop-color":a[l].color}).close();t.close()}for(const o in r){const s=r[o];t.open("clipPath",{id:o}),s.path?t.open("path",{d:s.path}).close():t.open("rect",{x:0,y:0,width:s.width,height:s.height}).close(),t.close()}t.close()}}}function zke(e,t,n,r,i){let o;if(t==null||(r==="bgrect"&&n.interactive===!1&&(e["pointer-events"]="none"),r==="bgfore"&&(n.interactive===!1&&(e["pointer-events"]="none"),e.display="none",t.fill!==null)))return e;r==="image"&&t.smooth===!1&&(o=["image-rendering: optimizeSpeed;","image-rendering: pixelated;"]),r==="text"&&(e["font-family"]=ox(t),e["font-size"]=Tl(t)+"px",e["font-style"]=t.fontStyle,e["font-variant"]=t.fontVariant,e["font-weight"]=t.fontWeight);for(const s in FC){let a=t[s];const l=FC[s];a==="transparent"&&(l==="fill"||l==="stroke")||a!=null&&(yM(a)&&(a=wee(a,i.gradient,"")),e[l]=a)}for(const s in OC){const a=t[s];a!=null&&(o=o||[],o.push(`${OC[s]}: ${a};`))}return o&&(e.style=o.join(" ")),e}const Hs={svgMarkTypes:["text"],svgOnTop:!0,debug:!1};function Bke(e){Hs.svgMarkTypes=e.svgMarkTypes??["text"],Hs.svgOnTop=e.svgOnTop??!0,Hs.debug=e.debug??!1}class MR extends sx{constructor(t){super(t),this._svgRenderer=new VM(t),this._canvasRenderer=new RC(t)}initialize(t,n,r,i,o){this._root_el=tr(t,0,"div");const s=tr(this._root_el,0,"div"),a=tr(this._root_el,1,"div");return this._root_el.style.position="relative",Hs.debug||(s.style.height="100%",a.style.position="absolute",a.style.top="0",a.style.left="0",a.style.height="100%",a.style.width="100%"),this._svgEl=Hs.svgOnTop?a:s,this._canvasEl=Hs.svgOnTop?s:a,this._svgEl.style.pointerEvents="none",this._canvasRenderer.initialize(this._canvasEl,n,r,i,o),this._svgRenderer.initialize(this._svgEl,n,r,i,o),super.initialize(t,n,r,i,o)}dirty(t){return Hs.svgMarkTypes.includes(t.mark.marktype)?this._svgRenderer.dirty(t):this._canvasRenderer.dirty(t),this}_render(t,n){const i=(n??["arc","area","image","line","path","rect","rule","shape","symbol","text","trail"]).filter(o=>!Hs.svgMarkTypes.includes(o));this._svgRenderer.render(t,Hs.svgMarkTypes),this._canvasRenderer.render(t,i)}resize(t,n,r,i){return super.resize(t,n,r,i),this._svgRenderer.resize(t,n,r,i),this._canvasRenderer.resize(t,n,r,i),this}background(t){return Hs.svgOnTop?this._canvasRenderer.background(t):this._svgRenderer.background(t),this}}class hte extends ax{constructor(t,n){super(t,n)}initialize(t,n,r){const i=tr(tr(t,0,"div"),Hs.svgOnTop?0:1,"div");return super.initialize(i,n,r)}}const pte="canvas",gte="hybrid",mte="png",yte="svg",vte="none",Ic={Canvas:pte,PNG:mte,SVG:yte,Hybrid:gte,None:vte},xh={};xh[pte]=xh[mte]={renderer:RC,headless:RC,handler:ax};xh[yte]={renderer:VM,headless:dte,handler:ete};xh[gte]={renderer:MR,headless:MR,handler:hte};xh[vte]={};function k_(e,t){return e=String(e||"").toLowerCase(),arguments.length>1?(xh[e]=t,this):xh[e]}function bte(e,t,n){const r=[],i=new Xn().union(t),o=e.marktype;return o?xte(e,i,n,r):o==="group"?wte(e,i,n,r):ee("Intersect scene must be mark node or group item.")}function xte(e,t,n,r){if(jke(e,t,n)){const i=e.items,o=e.marktype,s=i.length;let a=0;if(o==="group")for(;a<s;++a)wte(i[a],t,n,r);else for(const l=Io[o].isect;a<s;++a){const u=i[a];Ste(u,t,l)&&r.push(u)}}return r}function jke(e,t,n){return e.bounds&&t.intersects(e.bounds)&&(e.marktype==="group"||e.interactive!==!1&&(!n||n(e)))}function wte(e,t,n,r){n&&n(e.mark)&&Ste(e,t,Io.group.isect)&&r.push(e);const i=e.items,o=i&&i.length;if(o){const s=e.x||0,a=e.y||0;t.translate(-s,-a);for(let l=0;l<o;++l)xte(i[l],t,n,r);t.translate(s,a)}return r}function Ste(e,t,n){const r=e.bounds;return t.encloses(r)||t.intersects(r)&&n(e,t)}const wT=new Xn;function Cte(e){const t=e.clip;if(et(t))t(nx(wT.clear()));else if(t)wT.set(0,0,e.group.width,e.group.height);else return;e.bounds.intersect(wT)}const Uke=1e-9;function WM(e,t,n){return e===t?!0:n==="path"?Ete(e,t):e instanceof Date&&t instanceof Date?+e==+t:St(e)&&St(t)?Math.abs(e-t)<=Uke:!e||!t||!ve(e)&&!ve(t)?e==t:Vke(e,t)}function Ete(e,t){return WM(_m(e),_m(t))}function Vke(e,t){var n=Object.keys(e),r=Object.keys(t),i,o;if(n.length!==r.length)return!1;for(n.sort(),r.sort(),o=n.length-1;o>=0;o--)if(n[o]!=r[o])return!1;for(o=n.length-1;o>=0;o--)if(i=n[o],!WM(e[i],t[i],i))return!1;return typeof e==typeof t}function Wke(){Aee(),pCe()}const Tm="top",Zs="left",ra="right",yf="bottom",Hke="top-left",qke="top-right",Gke="bottom-left",Xke="bottom-right",HM="start",NR="middle",xi="end",Yke="x",Kke="y",__="group",qM="axis",GM="title",Qke="frame",Jke="scope",XM="legend",kte="row-header",_te="row-footer",$te="row-title",Ate="column-header",Tte="column-footer",Rte="column-title",Zke="padding",e_e="symbol",Fte="fit",Ote="fit-x",Pte="fit-y",t_e="pad",YM="none",R2="all",LR="each",KM="flush",zc="column",Bc="row";function Dte(e){J.call(this,null,e)}he(Dte,J,{transform(e,t){const n=t.dataflow,r=e.mark,i=r.marktype,o=Io[i],s=o.bound;let a=r.bounds,l;if(o.nested)r.items.length&&n.dirty(r.items[0]),a=F2(r,s),r.items.forEach(u=>{u.bounds.clear().union(a)});else if(i===__||e.modified())switch(t.visit(t.MOD,u=>n.dirty(u)),a.clear(),r.items.forEach(u=>a.union(F2(u,s))),r.role){case qM:case XM:case GM:t.reflow()}else l=t.changed(t.REM),t.visit(t.ADD,u=>{a.union(F2(u,s))}),t.visit(t.MOD,u=>{l=l||a.alignsWith(u.bounds),n.dirty(u),a.union(F2(u,s))}),l&&(a.clear(),r.items.forEach(u=>a.union(u.bounds)));return Cte(r),t.modifies("bounds")}});function F2(e,t,n){return t(e.bounds.clear(),e,n)}const jB=":vega_identifier:";function QM(e){J.call(this,0,e)}QM.Definition={type:"Identifier",metadata:{modifies:!0},params:[{name:"as",type:"string",required:!0}]};he(QM,J,{transform(e,t){const n=n_e(t.dataflow),r=e.as;let i=n.value;return t.visit(t.ADD,o=>o[r]=o[r]||++i),n.set(this.value=i),t}});function n_e(e){return e._signals[jB]||(e._signals[jB]=e.add(0))}function Mte(e){J.call(this,null,e)}he(Mte,J,{transform(e,t){let n=this.value;n||(n=t.dataflow.scenegraph().mark(e.markdef,r_e(e),e.index),n.group.context=e.context,e.context.group||(e.context.group=n.group),n.source=this.source,n.clip=e.clip,n.interactive=e.interactive,this.value=n);const r=n.marktype===__?y_:m_;return t.visit(t.ADD,i=>r.call(i,n)),(e.modified("clip")||e.modified("interactive"))&&(n.clip=e.clip,n.interactive=!!e.interactive,n.zdirty=!0,t.reflow()),n.items=t.source,t}});function r_e(e){const t=e.groups,n=e.parent;return t&&t.size===1?t.get(Object.keys(t.object)[0]):t&&n?t.lookup(n):null}function Nte(e){J.call(this,null,e)}const UB={parity:e=>e.filter((t,n)=>n%2?t.opacity=0:1),greedy:(e,t)=>{let n;return e.filter((r,i)=>!i||!Lte(n.bounds,r.bounds,t)?(n=r,1):r.opacity=0)}},Lte=(e,t,n)=>n>Math.max(t.x1-e.x2,e.x1-t.x2,t.y1-e.y2,e.y1-t.y2),VB=(e,t)=>{for(var n=1,r=e.length,i=e[0].bounds,o;n<r;i=o,++n)if(Lte(i,o=e[n].bounds,t))return!0},i_e=e=>{const t=e.bounds;return t.width()>1&&t.height()>1},o_e=(e,t,n)=>{var r=e.range(),i=new Xn;return t===Tm||t===yf?i.set(r[0],-1/0,r[1],1/0):i.set(-1/0,r[0],1/0,r[1]),i.expand(n||1),o=>i.encloses(o.bounds)},WB=e=>(e.forEach(t=>t.opacity=1),e),HB=(e,t)=>e.reflow(t.modified()).modifies("opacity");he(Nte,J,{transform(e,t){const n=UB[e.method]||UB.parity,r=e.separation||0;let i=t.materialize(t.SOURCE).source,o,s;if(!i||!i.length)return;if(!e.method)return e.modified("method")&&(WB(i),t=HB(t,e)),t;if(i=i.filter(i_e),!i.length)return;if(e.sort&&(i=i.slice().sort(e.sort)),o=WB(i),t=HB(t,e),o.length>=3&&VB(o,r)){do o=n(o,r);while(o.length>=3&&VB(o,r));o.length<3&&!gt(i).opacity&&(o.length>1&&(gt(o).opacity=0),gt(i).opacity=1)}e.boundScale&&e.boundTolerance>=0&&(s=o_e(e.boundScale,e.boundOrient,+e.boundTolerance),i.forEach(l=>{s(l)||(l.opacity=0)}));const a=o[0].mark.bounds.clear();return i.forEach(l=>{l.opacity&&a.union(l.bounds)}),t}});function Ite(e){J.call(this,null,e)}he(Ite,J,{transform(e,t){const n=t.dataflow;if(t.visit(t.ALL,r=>n.dirty(r)),t.fields&&t.fields.zindex){const r=t.source&&t.source[0];r&&(r.mark.zdirty=!0)}}});const Xr=new Xn;function ig(e,t,n){return e[t]===n?0:(e[t]=n,1)}function s_e(e){var t=e.items[0].orient;return t===Zs||t===ra}function a_e(e){let t=+e.grid;return[e.ticks?t++:-1,e.labels?t++:-1,t+ +e.domain]}function l_e(e,t,n,r){var i=t.items[0],o=i.datum,s=i.translate!=null?i.translate:.5,a=i.orient,l=a_e(o),u=i.range,c=i.offset,f=i.position,d=i.minExtent,h=i.maxExtent,p=o.title&&i.items[l[2]].items[0],g=i.titlePadding,m=i.bounds,y=p&&PM(p),v=0,b=0,x,w;switch(Xr.clear().union(m),m.clear(),(x=l[0])>-1&&m.union(i.items[x].bounds),(x=l[1])>-1&&m.union(i.items[x].bounds),a){case Tm:v=f||0,b=-c,w=Math.max(d,Math.min(h,-m.y1)),m.add(0,-w).add(u,0),p&&O2(e,p,w,g,y,0,-1,m);break;case Zs:v=-c,b=f||0,w=Math.max(d,Math.min(h,-m.x1)),m.add(-w,0).add(0,u),p&&O2(e,p,w,g,y,1,-1,m);break;case ra:v=n+c,b=f||0,w=Math.max(d,Math.min(h,m.x2)),m.add(0,0).add(w,u),p&&O2(e,p,w,g,y,1,1,m);break;case yf:v=f||0,b=r+c,w=Math.max(d,Math.min(h,m.y2)),m.add(0,0).add(u,w),p&&O2(e,p,w,g,0,0,1,m);break;default:v=i.x,b=i.y}return Nu(m.translate(v,b),i),ig(i,"x",v+s)|ig(i,"y",b+s)&&(i.bounds=Xr,e.dirty(i),i.bounds=m,e.dirty(i)),i.mark.bounds.clear().union(m)}function O2(e,t,n,r,i,o,s,a){const l=t.bounds;if(t.auto){const u=s*(n+i+r);let c=0,f=0;e.dirty(t),o?c=(t.x||0)-(t.x=u):f=(t.y||0)-(t.y=u),t.mark.bounds.clear().union(l.translate(-c,-f)),e.dirty(t)}a.union(l)}const qB=(e,t)=>Math.floor(Math.min(e,t)),GB=(e,t)=>Math.ceil(Math.max(e,t));function u_e(e){var t=e.items,n=t.length,r=0,i,o;const s={marks:[],rowheaders:[],rowfooters:[],colheaders:[],colfooters:[],rowtitle:null,coltitle:null};for(;r<n;++r)if(i=t[r],o=i.items,i.marktype===__)switch(i.role){case qM:case XM:case GM:break;case kte:s.rowheaders.push(...o);break;case _te:s.rowfooters.push(...o);break;case Ate:s.colheaders.push(...o);break;case Tte:s.colfooters.push(...o);break;case $te:s.rowtitle=o[0];break;case Rte:s.coltitle=o[0];break;default:s.marks.push(...o)}return s}function c_e(e){return new Xn().set(0,0,e.width||0,e.height||0)}function f_e(e){const t=e.bounds.clone();return t.empty()?t.set(0,0,0,0):t.translate(-(e.x||0),-(e.y||0))}function dn(e,t,n){const r=ve(e)?e[t]:e;return r??(n!==void 0?n:0)}function XB(e){return e<0?Math.ceil(-e):0}function zte(e,t,n){var r=!n.nodirty,i=n.bounds===KM?c_e:f_e,o=Xr.set(0,0,0,0),s=dn(n.align,zc),a=dn(n.align,Bc),l=dn(n.padding,zc),u=dn(n.padding,Bc),c=n.columns||t.length,f=c<=0?1:Math.ceil(t.length/c),d=t.length,h=Array(d),p=Array(c),g=0,m=Array(d),y=Array(f),v=0,b=Array(d),x=Array(d),w=Array(d),E,S,k,$,F,P,j,D,L,A,O;for(S=0;S<c;++S)p[S]=0;for(S=0;S<f;++S)y[S]=0;for(S=0;S<d;++S)P=t[S],F=w[S]=i(P),P.x=P.x||0,b[S]=0,P.y=P.y||0,x[S]=0,k=S%c,$=~~(S/c),g=Math.max(g,j=Math.ceil(F.x2)),v=Math.max(v,D=Math.ceil(F.y2)),p[k]=Math.max(p[k],j),y[$]=Math.max(y[$],D),h[S]=l+XB(F.x1),m[S]=u+XB(F.y1),r&&e.dirty(t[S]);for(S=0;S<d;++S)S%c===0&&(h[S]=0),S<c&&(m[S]=0);if(s===LR)for(k=1;k<c;++k){for(O=0,S=k;S<d;S+=c)O<h[S]&&(O=h[S]);for(S=k;S<d;S+=c)h[S]=O+p[k-1]}else if(s===R2){for(O=0,S=0;S<d;++S)S%c&&O<h[S]&&(O=h[S]);for(S=0;S<d;++S)S%c&&(h[S]=O+g)}else for(s=!1,k=1;k<c;++k)for(S=k;S<d;S+=c)h[S]+=p[k-1];if(a===LR)for($=1;$<f;++$){for(O=0,S=$*c,E=S+c;S<E;++S)O<m[S]&&(O=m[S]);for(S=$*c;S<E;++S)m[S]=O+y[$-1]}else if(a===R2){for(O=0,S=c;S<d;++S)O<m[S]&&(O=m[S]);for(S=c;S<d;++S)m[S]=O+v}else for(a=!1,$=1;$<f;++$)for(S=$*c,E=S+c;S<E;++S)m[S]+=y[$-1];for(L=0,S=0;S<d;++S)L=h[S]+(S%c?L:0),b[S]+=L-t[S].x;for(k=0;k<c;++k)for(A=0,S=k;S<d;S+=c)A+=m[S],x[S]+=A-t[S].y;if(s&&dn(n.center,zc)&&f>1)for(S=0;S<d;++S)F=s===R2?g:p[S%c],L=F-w[S].x2-t[S].x-b[S],L>0&&(b[S]+=L/2);if(a&&dn(n.center,Bc)&&c!==1)for(S=0;S<d;++S)F=a===R2?v:y[~~(S/c)],A=F-w[S].y2-t[S].y-x[S],A>0&&(x[S]+=A/2);for(S=0;S<d;++S)o.union(w[S].translate(b[S],x[S]));switch(L=dn(n.anchor,Yke),A=dn(n.anchor,Kke),dn(n.anchor,zc)){case xi:L-=o.width();break;case NR:L-=o.width()/2}switch(dn(n.anchor,Bc)){case xi:A-=o.height();break;case NR:A-=o.height()/2}for(L=Math.round(L),A=Math.round(A),o.clear(),S=0;S<d;++S)t[S].mark.bounds.clear();for(S=0;S<d;++S)P=t[S],P.x+=b[S]+=L,P.y+=x[S]+=A,o.union(P.mark.bounds.union(P.bounds.translate(b[S],x[S]))),r&&e.dirty(P);return o}function d_e(e,t,n){var r=u_e(t),i=r.marks,o=n.bounds===KM?h_e:p_e,s=n.offset,a=n.columns||i.length,l=a<=0?1:Math.ceil(i.length/a),u=l*a,c,f,d,h,p,g,m;const y=zte(e,i,n);y.empty()&&y.set(0,0,0,0),r.rowheaders&&(g=dn(n.headerBand,Bc,null),c=P2(e,r.rowheaders,i,a,l,-dn(s,"rowHeader"),qB,0,o,"x1",0,a,1,g)),r.colheaders&&(g=dn(n.headerBand,zc,null),f=P2(e,r.colheaders,i,a,a,-dn(s,"columnHeader"),qB,1,o,"y1",0,1,a,g)),r.rowfooters&&(g=dn(n.footerBand,Bc,null),d=P2(e,r.rowfooters,i,a,l,dn(s,"rowFooter"),GB,0,o,"x2",a-1,a,1,g)),r.colfooters&&(g=dn(n.footerBand,zc,null),h=P2(e,r.colfooters,i,a,a,dn(s,"columnFooter"),GB,1,o,"y2",u-a,1,a,g)),r.rowtitle&&(p=dn(n.titleAnchor,Bc),m=dn(s,"rowTitle"),m=p===xi?d+m:c-m,g=dn(n.titleBand,Bc,.5),YB(e,r.rowtitle,m,0,y,g)),r.coltitle&&(p=dn(n.titleAnchor,zc),m=dn(s,"columnTitle"),m=p===xi?h+m:f-m,g=dn(n.titleBand,zc,.5),YB(e,r.coltitle,m,1,y,g))}function h_e(e,t){return t==="x1"?e.x||0:t==="y1"?e.y||0:t==="x2"?(e.x||0)+(e.width||0):t==="y2"?(e.y||0)+(e.height||0):void 0}function p_e(e,t){return e.bounds[t]}function P2(e,t,n,r,i,o,s,a,l,u,c,f,d,h){var p=n.length,g=0,m=0,y,v,b,x,w,E,S,k,$;if(!p)return g;for(y=c;y<p;y+=f)n[y]&&(g=s(g,l(n[y],u)));if(!t.length)return g;for(t.length>i&&(e.warn("Grid headers exceed limit: "+i),t=t.slice(0,i)),g+=o,v=0,x=t.length;v<x;++v)e.dirty(t[v]),t[v].mark.bounds.clear();for(y=c,v=0,x=t.length;v<x;++v,y+=f){for(E=t[v],w=E.mark.bounds,b=y;b>=0&&(S=n[b])==null;b-=d);a?(k=h==null?S.x:Math.round(S.bounds.x1+h*S.bounds.width()),$=g):(k=g,$=h==null?S.y:Math.round(S.bounds.y1+h*S.bounds.height())),w.union(E.bounds.translate(k-(E.x||0),$-(E.y||0))),E.x=k,E.y=$,e.dirty(E),m=s(m,w[u])}return m}function YB(e,t,n,r,i,o){if(t){e.dirty(t);var s=n,a=n;r?s=Math.round(i.x1+o*i.width()):a=Math.round(i.y1+o*i.height()),t.bounds.translate(s-(t.x||0),a-(t.y||0)),t.mark.bounds.clear().union(t.bounds),t.x=s,t.y=a,e.dirty(t)}}function g_e(e,t){const n=e[t]||{};return(r,i)=>n[r]!=null?n[r]:e[r]!=null?e[r]:i}function m_e(e,t){let n=-1/0;return e.forEach(r=>{r.offset!=null&&(n=Math.max(n,r.offset))}),n>-1/0?n:t}function y_e(e,t,n,r,i,o,s){const a=g_e(n,t),l=m_e(e,a("offset",0)),u=a("anchor",HM),c=u===xi?1:u===NR?.5:0,f={align:LR,bounds:a("bounds",KM),columns:a("direction")==="vertical"?1:e.length,padding:a("margin",8),center:a("center"),nodirty:!0};switch(t){case Zs:f.anchor={x:Math.floor(r.x1)-l,column:xi,y:c*(s||r.height()+2*r.y1),row:u};break;case ra:f.anchor={x:Math.ceil(r.x2)+l,y:c*(s||r.height()+2*r.y1),row:u};break;case Tm:f.anchor={y:Math.floor(i.y1)-l,row:xi,x:c*(o||i.width()+2*i.x1),column:u};break;case yf:f.anchor={y:Math.ceil(i.y2)+l,x:c*(o||i.width()+2*i.x1),column:u};break;case Hke:f.anchor={x:l,y:l};break;case qke:f.anchor={x:o-l,y:l,column:xi};break;case Gke:f.anchor={x:l,y:s-l,row:xi};break;case Xke:f.anchor={x:o-l,y:s-l,column:xi,row:xi};break}return f}function v_e(e,t){var n=t.items[0],r=n.datum,i=n.orient,o=n.bounds,s=n.x,a=n.y,l,u;return n._bounds?n._bounds.clear().union(o):n._bounds=o.clone(),o.clear(),x_e(e,n,n.items[0].items[0]),o=b_e(n,o),l=2*n.padding,u=2*n.padding,o.empty()||(l=Math.ceil(o.width()+l),u=Math.ceil(o.height()+u)),r.type===e_e&&w_e(n.items[0].items[0].items[0].items),i!==YM&&(n.x=s=0,n.y=a=0),n.width=l,n.height=u,Nu(o.set(s,a,s+l,a+u),n),n.mark.bounds.clear().union(o),n}function b_e(e,t){return e.items.forEach(n=>t.union(n.bounds)),t.x1=e.padding,t.y1=e.padding,t}function x_e(e,t,n){var r=t.padding,i=r-n.x,o=r-n.y;if(!t.datum.title)(i||o)&&Sy(e,n,i,o);else{var s=t.items[1].items[0],a=s.anchor,l=t.titlePadding||0,u=r-s.x,c=r-s.y;switch(s.orient){case Zs:i+=Math.ceil(s.bounds.width())+l;break;case ra:case yf:break;default:o+=s.bounds.height()+l}switch((i||o)&&Sy(e,n,i,o),s.orient){case Zs:c+=Mp(t,n,s,a,1,1);break;case ra:u+=Mp(t,n,s,xi,0,0)+l,c+=Mp(t,n,s,a,1,1);break;case yf:u+=Mp(t,n,s,a,0,0),c+=Mp(t,n,s,xi,-1,0,1)+l;break;default:u+=Mp(t,n,s,a,0,0)}(u||c)&&Sy(e,s,u,c),(u=Math.round(s.bounds.x1-r))<0&&(Sy(e,n,-u,0),Sy(e,s,-u,0))}}function Mp(e,t,n,r,i,o,s){const a=e.datum.type!=="symbol",l=n.datum.vgrad,u=a&&(o||!l)&&!s?t.items[0]:t,c=u.bounds[i?"y2":"x2"]-e.padding,f=l&&o?c:0,d=l&&o?0:c,h=i<=0?0:PM(n);return Math.round(r===HM?f:r===xi?d-h:.5*(c-h))}function Sy(e,t,n,r){t.x+=n,t.y+=r,t.bounds.translate(n,r),t.mark.bounds.translate(n,r),e.dirty(t)}function w_e(e){const t=e.reduce((n,r)=>(n[r.column]=Math.max(r.bounds.x2-r.x,n[r.column]||0),n),{});e.forEach(n=>{n.width=t[n.column],n.height=n.bounds.y2-n.y})}function S_e(e,t,n,r,i){var o=t.items[0],s=o.frame,a=o.orient,l=o.anchor,u=o.offset,c=o.padding,f=o.items[0].items[0],d=o.items[1]&&o.items[1].items[0],h=a===Zs||a===ra?r:n,p=0,g=0,m=0,y=0,v=0,b;if(s!==__?a===Zs?(p=i.y2,h=i.y1):a===ra?(p=i.y1,h=i.y2):(p=i.x1,h=i.x2):a===Zs&&(p=r,h=0),b=l===HM?p:l===xi?h:(p+h)/2,d&&d.text){switch(a){case Tm:case yf:v=f.bounds.height()+c;break;case Zs:y=f.bounds.width()+c;break;case ra:y=-f.bounds.width()-c;break}Xr.clear().union(d.bounds),Xr.translate(y-(d.x||0),v-(d.y||0)),ig(d,"x",y)|ig(d,"y",v)&&(e.dirty(d),d.bounds.clear().union(Xr),d.mark.bounds.clear().union(Xr),e.dirty(d)),Xr.clear().union(d.bounds)}else Xr.clear();switch(Xr.union(f.bounds),a){case Tm:g=b,m=i.y1-Xr.height()-u;break;case Zs:g=i.x1-Xr.width()-u,m=b;break;case ra:g=i.x2+Xr.width()+u,m=b;break;case yf:g=b,m=i.y2+u;break;default:g=o.x,m=o.y}return ig(o,"x",g)|ig(o,"y",m)&&(Xr.translate(g,m),e.dirty(o),o.bounds.clear().union(Xr),t.bounds.clear().union(Xr),e.dirty(o)),o.bounds}function Bte(e){J.call(this,null,e)}he(Bte,J,{transform(e,t){const n=t.dataflow;return e.mark.items.forEach(r=>{e.layout&&d_e(n,r,e.layout),E_e(n,r,e)}),C_e(e.mark.group)?t.reflow():t}});function C_e(e){return e&&e.mark.role!=="legend-entry"}function E_e(e,t,n){var r=t.items,i=Math.max(0,t.width||0),o=Math.max(0,t.height||0),s=new Xn().set(0,0,i,o),a=s.clone(),l=s.clone(),u=[],c,f,d,h,p,g;for(p=0,g=r.length;p<g;++p)switch(f=r[p],f.role){case qM:h=s_e(f)?a:l,h.union(l_e(e,f,i,o));break;case GM:c=f;break;case XM:u.push(v_e(e,f));break;case Qke:case Jke:case kte:case _te:case $te:case Ate:case Tte:case Rte:a.union(f.bounds),l.union(f.bounds);break;default:s.union(f.bounds)}if(u.length){const m={};u.forEach(y=>{d=y.orient||ra,d!==YM&&(m[d]||(m[d]=[])).push(y)});for(const y in m){const v=m[y];zte(e,v,y_e(v,y,n.legends,a,l,i,o))}u.forEach(y=>{const v=y.bounds;if(v.equals(y._bounds)||(y.bounds=y._bounds,e.dirty(y),y.bounds=v,e.dirty(y)),n.autosize&&(n.autosize.type===Fte||n.autosize.type===Ote||n.autosize.type===Pte))switch(y.orient){case Zs:case ra:s.add(v.x1,0).add(v.x2,0);break;case Tm:case yf:s.add(0,v.y1).add(0,v.y2)}else s.union(v)})}s.union(a).union(l),c&&s.union(S_e(e,c,i,o,s)),t.clip&&s.set(0,0,t.width||0,t.height||0),k_e(e,t,s,n)}function k_e(e,t,n,r){const i=r.autosize||{},o=i.type;if(e._autosize<1||!o)return;let s=e._width,a=e._height,l=Math.max(0,t.width||0),u=Math.max(0,Math.ceil(-n.x1)),c=Math.max(0,t.height||0),f=Math.max(0,Math.ceil(-n.y1));const d=Math.max(0,Math.ceil(n.x2-l)),h=Math.max(0,Math.ceil(n.y2-c));if(i.contains===Zke){const p=e.padding();s-=p.left+p.right,a-=p.top+p.bottom}o===YM?(u=0,f=0,l=s,c=a):o===Fte?(l=Math.max(0,s-u-d),c=Math.max(0,a-f-h)):o===Ote?(l=Math.max(0,s-u-d),a=c+f+h):o===Pte?(s=l+u+d,c=Math.max(0,a-f-h)):o===t_e&&(s=l+u+d,a=c+f+h),e._resizeView(s,a,l,c,[u,f],i.resize)}const __e=Object.freeze(Object.defineProperty({__proto__:null,bound:Dte,identifier:QM,mark:Mte,overlap:Nte,render:Ite,viewlayout:Bte},Symbol.toStringTag,{value:"Module"}));function jte(e){J.call(this,null,e)}he(jte,J,{transform(e,t){if(this.value&&!e.modified())return t.StopPropagation;var n=t.dataflow.locale(),r=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=this.value,o=e.scale,s=e.count==null?e.values?e.values.length:10:e.count,a=gM(o,s,e.minstep),l=e.format||pee(n,o,a,e.formatSpecifier,e.formatType,!!e.values),u=e.values?hee(o,e.values,a):mM(o,a);return i&&(r.rem=i),i=u.map((c,f)=>Ot({index:f/(u.length-1||1),value:c,label:l(c)})),e.extra&&i.length&&i.push(Ot({index:-1,extra:{value:i[0].value},label:""})),r.source=i,r.add=i,this.value=i,r}});function Ute(e){J.call(this,null,e)}function $_e(){return Ot({})}function A_e(e){const t=C0().test(n=>n.exit);return t.lookup=n=>t.get(e(n)),t}he(Ute,J,{transform(e,t){var n=t.dataflow,r=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=e.item||$_e,o=e.key||De,s=this.value;return te(r.encode)&&(r.encode=null),s&&(e.modified("key")||t.modified(o))&&ee("DataJoin does not support modified key function or fields."),s||(t=t.addAll(),this.value=s=A_e(o)),t.visit(t.ADD,a=>{const l=o(a);let u=s.get(l);u?u.exit?(s.empty--,r.add.push(u)):r.mod.push(u):(u=i(a),s.set(l,u),r.add.push(u)),u.datum=a,u.exit=!1}),t.visit(t.MOD,a=>{const l=o(a),u=s.get(l);u&&(u.datum=a,r.mod.push(u))}),t.visit(t.REM,a=>{const l=o(a),u=s.get(l);a===u.datum&&!u.exit&&(r.rem.push(u),u.exit=!0,++s.empty)}),t.changed(t.ADD_MOD)&&r.modifies("datum"),(t.clean()||e.clean&&s.empty>n.cleanThreshold)&&n.runAfter(s.clean),r}});function Vte(e){J.call(this,null,e)}he(Vte,J,{transform(e,t){var n=t.fork(t.ADD_REM),r=e.mod||!1,i=e.encoders,o=t.encode;if(te(o))if(n.changed()||o.every(f=>i[f]))o=o[0],n.encode=null;else return t.StopPropagation;var s=o==="enter",a=i.update||fc,l=i.enter||fc,u=i.exit||fc,c=(o&&!s?i[o]:a)||fc;if(t.changed(t.ADD)&&(t.visit(t.ADD,f=>{l(f,e),a(f,e)}),n.modifies(l.output),n.modifies(a.output),c!==fc&&c!==a&&(t.visit(t.ADD,f=>{c(f,e)}),n.modifies(c.output))),t.changed(t.REM)&&u!==fc&&(t.visit(t.REM,f=>{u(f,e)}),n.modifies(u.output)),s||c!==fc){const f=t.MOD|(e.modified()?t.REFLOW:0);s?(t.visit(f,d=>{const h=l(d,e)||r;(c(d,e)||h)&&n.mod.push(d)}),n.mod.length&&n.modifies(l.output)):t.visit(f,d=>{(c(d,e)||r)&&n.mod.push(d)}),n.mod.length&&n.modifies(c.output)}return n.changed()?n:t.StopPropagation}});function Wte(e){J.call(this,[],e)}he(Wte,J,{transform(e,t){if(this.value!=null&&!e.modified())return t.StopPropagation;var n=t.dataflow.locale(),r=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=this.value,o=e.type||Yw,s=e.scale,a=+e.limit,l=gM(s,e.count==null?5:e.count,e.minstep),u=!!e.values||o===Yw,c=e.format||vee(n,s,l,o,e.formatSpecifier,e.formatType,u),f=e.values||yee(s,l),d,h,p,g,m;return i&&(r.rem=i),o===Yw?(a&&f.length>a?(t.dataflow.warn("Symbol legend count exceeds limit, filtering items."),i=f.slice(0,a-1),m=!0):i=f,et(p=e.size)?(!e.values&&s(i[0])===0&&(i=i.slice(1)),g=i.reduce((y,v)=>Math.max(y,p(v,e)),0)):p=li(g=p||8),i=i.map((y,v)=>Ot({index:v,label:c(y,v,i),value:y,offset:g,size:p(y,e)})),m&&(m=f[i.length],i.push(Ot({index:i.length,label:`${f.length-i.length} entries`,value:m,offset:g,size:p(m,e)})))):o===tCe?(d=s.domain(),h=cee(s,d[0],gt(d)),f.length<3&&!e.values&&d[0]!==gt(d)&&(f=[d[0],gt(d)]),i=f.map((y,v)=>Ot({index:v,label:c(y,v,f),value:y,perc:h(y)}))):(p=f.length-1,h=dCe(s),i=f.map((y,v)=>Ot({index:v,label:c(y,v,f),value:y,perc:v?h(y):0,perc2:v===p?1:h(f[v+1])}))),r.source=i,r.add=i,this.value=i,r}});const T_e=e=>e.source.x,R_e=e=>e.source.y,F_e=e=>e.target.x,O_e=e=>e.target.y;function JM(e){J.call(this,{},e)}JM.Definition={type:"LinkPath",metadata:{modifies:!0},params:[{name:"sourceX",type:"field",default:"source.x"},{name:"sourceY",type:"field",default:"source.y"},{name:"targetX",type:"field",default:"target.x"},{name:"targetY",type:"field",default:"target.y"},{name:"orient",type:"enum",default:"vertical",values:["horizontal","vertical","radial"]},{name:"shape",type:"enum",default:"line",values:["line","arc","curve","diagonal","orthogonal"]},{name:"require",type:"signal"},{name:"as",type:"string",default:"path"}]};he(JM,J,{transform(e,t){var n=e.sourceX||T_e,r=e.sourceY||R_e,i=e.targetX||F_e,o=e.targetY||O_e,s=e.as||"path",a=e.orient||"vertical",l=e.shape||"line",u=KB.get(l+"-"+a)||KB.get(l);return u||ee("LinkPath unsupported type: "+e.shape+(e.orient?"-"+e.orient:"")),t.visit(t.SOURCE,c=>{c[s]=u(n(c),r(c),i(c),o(c))}),t.reflow(e.modified()).modifies(s)}});const Hte=(e,t,n,r)=>"M"+e+","+t+"L"+n+","+r,P_e=(e,t,n,r)=>Hte(t*Math.cos(e),t*Math.sin(e),r*Math.cos(n),r*Math.sin(n)),qte=(e,t,n,r)=>{var i=n-e,o=r-t,s=Math.hypot(i,o)/2,a=180*Math.atan2(o,i)/Math.PI;return"M"+e+","+t+"A"+s+","+s+" "+a+" 0 1 "+n+","+r},D_e=(e,t,n,r)=>qte(t*Math.cos(e),t*Math.sin(e),r*Math.cos(n),r*Math.sin(n)),Gte=(e,t,n,r)=>{const i=n-e,o=r-t,s=.2*(i+o),a=.2*(o-i);return"M"+e+","+t+"C"+(e+s)+","+(t+a)+" "+(n+a)+","+(r-s)+" "+n+","+r},M_e=(e,t,n,r)=>Gte(t*Math.cos(e),t*Math.sin(e),r*Math.cos(n),r*Math.sin(n)),N_e=(e,t,n,r)=>"M"+e+","+t+"V"+r+"H"+n,L_e=(e,t,n,r)=>"M"+e+","+t+"H"+n+"V"+r,I_e=(e,t,n,r)=>{const i=Math.cos(e),o=Math.sin(e),s=Math.cos(n),a=Math.sin(n),l=Math.abs(n-e)>Math.PI?n<=e:n>e;return"M"+t*i+","+t*o+"A"+t+","+t+" 0 0,"+(l?1:0)+" "+t*s+","+t*a+"L"+r*s+","+r*a},z_e=(e,t,n,r)=>{const i=(e+n)/2;return"M"+e+","+t+"C"+i+","+t+" "+i+","+r+" "+n+","+r},B_e=(e,t,n,r)=>{const i=(t+r)/2;return"M"+e+","+t+"C"+e+","+i+" "+n+","+i+" "+n+","+r},j_e=(e,t,n,r)=>{const i=Math.cos(e),o=Math.sin(e),s=Math.cos(n),a=Math.sin(n),l=(t+r)/2;return"M"+t*i+","+t*o+"C"+l*i+","+l*o+" "+l*s+","+l*a+" "+r*s+","+r*a},KB=C0({line:Hte,"line-radial":P_e,arc:qte,"arc-radial":D_e,curve:Gte,"curve-radial":M_e,"orthogonal-horizontal":N_e,"orthogonal-vertical":L_e,"orthogonal-radial":I_e,"diagonal-horizontal":z_e,"diagonal-vertical":B_e,"diagonal-radial":j_e});function ZM(e){J.call(this,null,e)}ZM.Definition={type:"Pie",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"startAngle",type:"number",default:0},{name:"endAngle",type:"number",default:6.283185307179586},{name:"sort",type:"boolean",default:!1},{name:"as",type:"string",array:!0,length:2,default:["startAngle","endAngle"]}]};he(ZM,J,{transform(e,t){var n=e.as||["startAngle","endAngle"],r=n[0],i=n[1],o=e.field||x0,s=e.startAngle||0,a=e.endAngle!=null?e.endAngle:2*Math.PI,l=t.source,u=l.map(o),c=u.length,f=s,d=(a-s)/tQ(u),h=_o(c),p,g,m;for(e.sort&&h.sort((y,v)=>u[y]-u[v]),p=0;p<c;++p)m=u[h[p]],g=l[h[p]],g[r]=f,g[i]=f+=m*d;return this.value=u,t.reflow(e.modified()).modifies(n)}});const U_e=5;function V_e(e){const t=e.type;return!e.bins&&(t===Cm||t===Yb||t===Kb)}function Xte(e){return dM(e)&&e!==cl}const W_e=da(["set","modified","clear","type","scheme","schemeExtent","schemeCount","domain","domainMin","domainMid","domainMax","domainRaw","domainImplicit","nice","zero","bins","range","rangeStep","round","reverse","interpolate","interpolateGamma"]);function Yte(e){J.call(this,null,e),this.modified(!0)}he(Yte,J,{transform(e,t){var n=t.dataflow,r=this.value,i=H_e(e);(!r||i!==r.type)&&(this.value=r=Et(i)());for(i in e)if(!W_e[i]){if(i==="padding"&&Xte(r.type))continue;et(r[i])?r[i](e[i]):n.warn("Unsupported scale property: "+i)}return Q_e(r,e,K_e(r,e,G_e(r,e,n))),t.fork(t.NO_SOURCE|t.NO_FIELDS)}});function H_e(e){var t=e.type,n="",r;return t===cl?cl+"-"+Cm:(q_e(e)&&(r=e.rawDomain?e.rawDomain.length:e.domain?e.domain.length+ +(e.domainMid!=null):0,n=r===2?cl+"-":r===3?R0+"-":""),(n+t||Cm).toLowerCase())}function q_e(e){const t=e.type;return dM(t)&&t!==vh&&t!==bh&&(e.scheme||e.range&&e.range.length&&e.range.every(we))}function G_e(e,t,n){const r=X_e(e,t.domainRaw,n);if(r>-1)return r;var i=t.domain,o=e.type,s=t.zero||t.zero===void 0&&V_e(e),a,l;if(!i)return 0;if((s||t.domainMin!=null||t.domainMax!=null||t.domainMid!=null)&&(a=(i=i.slice()).length-1||1,s&&(i[0]>0&&(i[0]=0),i[a]<0&&(i[a]=0)),t.domainMin!=null&&(i[0]=t.domainMin),t.domainMax!=null&&(i[a]=t.domainMax),t.domainMid!=null)){l=t.domainMid;const u=l>i[a]?a+1:l<i[0]?0:a;u!==a&&n.warn("Scale domainMid exceeds domain min or max.",l),i.splice(u,0,l)}return Xte(o)&&t.padding&&i[0]!==gt(i)&&(i=Y_e(o,i,t.range,t.padding,t.exponent,t.constant)),e.domain(Kte(o,i,n)),o===lM&&e.unknown(t.domainImplicit?yR:void 0),t.nice&&e.nice&&e.nice(t.nice!==!0&&gM(e,t.nice)||null),i.length}function X_e(e,t,n){return t?(e.domain(Kte(e.type,t,n)),t.length):-1}function Y_e(e,t,n,r,i,o){var s=Math.abs(gt(n)-n[0]),a=s/(s-2*r),l=e===$u?T6(t,null,a):e===Kb?tC(t,null,a,.5):e===Yb?tC(t,null,a,i||1):e===f_?R6(t,null,a,o||1):A6(t,null,a);return t=t.slice(),t[0]=l[0],t[t.length-1]=l[1],t}function Kte(e,t,n){if(oee(e)){var r=Math.abs(t.reduce((i,o)=>i+(o<0?-1:o>0?1:0),0));r!==t.length&&n.warn("Log scale domain includes zero: "+de(t))}return t}function K_e(e,t,n){let r=t.bins;if(r&&!te(r)){const i=e.domain(),o=i[0],s=gt(i),a=r.step;let l=r.start==null?o:r.start,u=r.stop==null?s:r.stop;a||ee("Scale bins parameter missing step property."),l<o&&(l=a*Math.ceil(o/a)),u>s&&(u=a*Math.floor(s/a)),r=_o(l,u+a/2,a)}return r?e.bins=r:e.bins&&delete e.bins,e.type===uM&&(r?!t.domain&&!t.domainRaw&&(e.domain(r),n=r.length):e.bins=e.domain()),n}function Q_e(e,t,n){var r=e.type,i=t.round||!1,o=t.range;if(t.rangeStep!=null)o=J_e(r,t,n);else if(t.scheme&&(o=Z_e(r,t,n),et(o))){if(e.interpolator)return e.interpolator(o);ee(`Scale type ${r} does not support interpolating color schemes.`)}if(o&&see(r))return e.interpolator(p_(IR(o,t.reverse),t.interpolate,t.interpolateGamma));o&&t.interpolate&&e.interpolate?e.interpolate(hM(t.interpolate,t.interpolateGamma)):et(e.round)?e.round(i):et(e.rangeRound)&&e.interpolate(i?T0:Df),o&&e.range(IR(o,t.reverse))}function J_e(e,t,n){e!==ZZ&&e!==CR&&ee("Only band and point scales support rangeStep.");var r=(t.paddingOuter!=null?t.paddingOuter:t.padding)||0,i=e===CR?1:(t.paddingInner!=null?t.paddingInner:t.padding)||0;return[0,t.rangeStep*aM(n,i,r)]}function Z_e(e,t,n){var r=t.schemeExtent,i,o;return te(t.scheme)?o=p_(t.scheme,t.interpolate,t.interpolateGamma):(i=t.scheme.toLowerCase(),o=pM(i),o||ee(`Unrecognized scheme name: ${t.scheme}`)),n=e===h_?n+1:e===uM?n-1:e===Em||e===d_?+t.schemeCount||U_e:n,see(e)?QB(o,r,t.reverse):et(o)?uee(QB(o,r),n):e===lM?o:o.slice(0,n)}function QB(e,t,n){return et(e)&&(t||n)?lee(e,IR(t||[0,1],n)):e}function IR(e,t){return t?e.slice().reverse():e}function Qte(e){J.call(this,null,e)}he(Qte,J,{transform(e,t){const n=e.modified("sort")||t.changed(t.ADD)||t.modified(e.sort.fields)||t.modified("datum");return n&&t.source.sort(Jh(e.sort)),this.modified(n),t}});const JB="zero",Jte="center",Zte="normalize",ene=["y0","y1"];function eN(e){J.call(this,null,e)}eN.Definition={type:"Stack",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"groupby",type:"field",array:!0},{name:"sort",type:"compare"},{name:"offset",type:"enum",default:JB,values:[JB,Jte,Zte]},{name:"as",type:"string",array:!0,length:2,default:ene}]};he(eN,J,{transform(e,t){var n=e.as||ene,r=n[0],i=n[1],o=Jh(e.sort),s=e.field||x0,a=e.offset===Jte?e$e:e.offset===Zte?t$e:n$e,l,u,c,f;for(l=r$e(t.source,e.groupby,o,s),u=0,c=l.length,f=l.max;u<c;++u)a(l[u],f,s,r,i);return t.reflow(e.modified()).modifies(n)}});function e$e(e,t,n,r,i){for(var o=(t-e.sum)/2,s=e.length,a=0,l;a<s;++a)l=e[a],l[r]=o,l[i]=o+=Math.abs(n(l))}function t$e(e,t,n,r,i){for(var o=1/e.sum,s=0,a=e.length,l=0,u=0,c;l<a;++l)c=e[l],c[r]=s,c[i]=s=o*(u+=Math.abs(n(c)))}function n$e(e,t,n,r,i){for(var o=0,s=0,a=e.length,l=0,u,c;l<a;++l)c=e[l],u=+n(c),u<0?(c[r]=s,c[i]=s+=u):(c[r]=o,c[i]=o+=u)}function r$e(e,t,n,r){var i=[],o=g=>g(c),s,a,l,u,c,f,d,h,p;if(t==null)i.push(e.slice());else for(s={},a=0,l=e.length;a<l;++a)c=e[a],f=t.map(o),d=s[f],d||(s[f]=d=[],i.push(d)),d.push(c);for(f=0,p=0,u=i.length;f<u;++f){for(d=i[f],a=0,h=0,l=d.length;a<l;++a)h+=Math.abs(r(d[a]));d.sum=h,h>p&&(p=h),n&&d.sort(n)}return i.max=p,i}const i$e=Object.freeze(Object.defineProperty({__proto__:null,axisticks:jte,datajoin:Ute,encode:Vte,legendentries:Wte,linkpath:JM,pie:ZM,scale:Yte,sortitems:Qte,stack:eN},Symbol.toStringTag,{value:"Module"}));var Le=1e-6,PC=1e-12,rt=Math.PI,Rn=rt/2,DC=rt/4,Pi=rt*2,Ln=180/rt,nt=rt/180,pt=Math.abs,O0=Math.atan,Es=Math.atan2,Be=Math.cos,D2=Math.ceil,tne=Math.exp,zR=Math.hypot,MC=Math.log,ST=Math.pow,Me=Math.sin,fs=Math.sign||function(e){return e>0?1:e<0?-1:0},Di=Math.sqrt,tN=Math.tan;function nne(e){return e>1?0:e<-1?rt:Math.acos(e)}function lo(e){return e>1?Rn:e<-1?-Rn:Math.asin(e)}function Or(){}function NC(e,t){e&&ej.hasOwnProperty(e.type)&&ej[e.type](e,t)}var ZB={Feature:function(e,t){NC(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,i=n.length;++r<i;)NC(n[r].geometry,t)}},ej={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){BR(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)BR(n[r],t,0)},Polygon:function(e,t){tj(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)tj(n[r],t)},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,i=n.length;++r<i;)NC(n[r],t)}};function BR(e,t,n){var r=-1,i=e.length-n,o;for(t.lineStart();++r<i;)o=e[r],t.point(o[0],o[1],o[2]);t.lineEnd()}function tj(e,t){var n=-1,r=e.length;for(t.polygonStart();++n<r;)BR(e[n],t,1);t.polygonEnd()}function eu(e,t){e&&ZB.hasOwnProperty(e.type)?ZB[e.type](e,t):NC(e,t)}var LC=new Ti,IC=new Ti,rne,ine,jR,UR,VR,xl={point:Or,lineStart:Or,lineEnd:Or,polygonStart:function(){LC=new Ti,xl.lineStart=o$e,xl.lineEnd=s$e},polygonEnd:function(){var e=+LC;IC.add(e<0?Pi+e:e),this.lineStart=this.lineEnd=this.point=Or},sphere:function(){IC.add(Pi)}};function o$e(){xl.point=a$e}function s$e(){one(rne,ine)}function a$e(e,t){xl.point=one,rne=e,ine=t,e*=nt,t*=nt,jR=e,UR=Be(t=t/2+DC),VR=Me(t)}function one(e,t){e*=nt,t*=nt,t=t/2+DC;var n=e-jR,r=n>=0?1:-1,i=r*n,o=Be(t),s=Me(t),a=VR*s,l=UR*o+a*Be(i),u=a*r*Me(i);LC.add(Es(u,l)),jR=e,UR=o,VR=s}function l$e(e){return IC=new Ti,eu(e,xl),IC*2}function zC(e){return[Es(e[1],e[0]),lo(e[2])]}function wh(e){var t=e[0],n=e[1],r=Be(n);return[r*Be(t),r*Me(t),Me(n)]}function M2(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function Rm(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function CT(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function N2(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function BC(e){var t=Di(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}var bn,Gi,$n,So,vd,sne,ane,Pg,V1,vc,Au,Ql={point:WR,lineStart:nj,lineEnd:rj,polygonStart:function(){Ql.point=une,Ql.lineStart=u$e,Ql.lineEnd=c$e,V1=new Ti,xl.polygonStart()},polygonEnd:function(){xl.polygonEnd(),Ql.point=WR,Ql.lineStart=nj,Ql.lineEnd=rj,LC<0?(bn=-($n=180),Gi=-(So=90)):V1>Le?So=90:V1<-Le&&(Gi=-90),Au[0]=bn,Au[1]=$n},sphere:function(){bn=-($n=180),Gi=-(So=90)}};function WR(e,t){vc.push(Au=[bn=e,$n=e]),t<Gi&&(Gi=t),t>So&&(So=t)}function lne(e,t){var n=wh([e*nt,t*nt]);if(Pg){var r=Rm(Pg,n),i=[r[1],-r[0],0],o=Rm(i,r);BC(o),o=zC(o);var s=e-vd,a=s>0?1:-1,l=o[0]*Ln*a,u,c=pt(s)>180;c^(a*vd<l&&l<a*e)?(u=o[1]*Ln,u>So&&(So=u)):(l=(l+360)%360-180,c^(a*vd<l&&l<a*e)?(u=-o[1]*Ln,u<Gi&&(Gi=u)):(t<Gi&&(Gi=t),t>So&&(So=t))),c?e<vd?xo(bn,e)>xo(bn,$n)&&($n=e):xo(e,$n)>xo(bn,$n)&&(bn=e):$n>=bn?(e<bn&&(bn=e),e>$n&&($n=e)):e>vd?xo(bn,e)>xo(bn,$n)&&($n=e):xo(e,$n)>xo(bn,$n)&&(bn=e)}else vc.push(Au=[bn=e,$n=e]);t<Gi&&(Gi=t),t>So&&(So=t),Pg=n,vd=e}function nj(){Ql.point=lne}function rj(){Au[0]=bn,Au[1]=$n,Ql.point=WR,Pg=null}function une(e,t){if(Pg){var n=e-vd;V1.add(pt(n)>180?n+(n>0?360:-360):n)}else sne=e,ane=t;xl.point(e,t),lne(e,t)}function u$e(){xl.lineStart()}function c$e(){une(sne,ane),xl.lineEnd(),pt(V1)>Le&&(bn=-($n=180)),Au[0]=bn,Au[1]=$n,Pg=null}function xo(e,t){return(t-=e)<0?t+360:t}function f$e(e,t){return e[0]-t[0]}function ij(e,t){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}function d$e(e){var t,n,r,i,o,s,a;if(So=$n=-(bn=Gi=1/0),vc=[],eu(e,Ql),n=vc.length){for(vc.sort(f$e),t=1,r=vc[0],o=[r];t<n;++t)i=vc[t],ij(r,i[0])||ij(r,i[1])?(xo(r[0],i[1])>xo(r[0],r[1])&&(r[1]=i[1]),xo(i[0],r[1])>xo(r[0],r[1])&&(r[0]=i[0])):o.push(r=i);for(s=-1/0,n=o.length-1,t=0,r=o[n];t<=n;r=i,++t)i=o[t],(a=xo(r[1],i[0]))>s&&(s=a,bn=i[0],$n=r[1])}return vc=Au=null,bn===1/0||Gi===1/0?[[NaN,NaN],[NaN,NaN]]:[[bn,Gi],[$n,So]]}var c1,jC,UC,VC,WC,HC,qC,GC,HR,qR,GR,cne,fne,Si,Ci,Ei,ia={sphere:Or,point:nN,lineStart:oj,lineEnd:sj,polygonStart:function(){ia.lineStart=g$e,ia.lineEnd=m$e},polygonEnd:function(){ia.lineStart=oj,ia.lineEnd=sj}};function nN(e,t){e*=nt,t*=nt;var n=Be(t);lx(n*Be(e),n*Me(e),Me(t))}function lx(e,t,n){++c1,UC+=(e-UC)/c1,VC+=(t-VC)/c1,WC+=(n-WC)/c1}function oj(){ia.point=h$e}function h$e(e,t){e*=nt,t*=nt;var n=Be(t);Si=n*Be(e),Ci=n*Me(e),Ei=Me(t),ia.point=p$e,lx(Si,Ci,Ei)}function p$e(e,t){e*=nt,t*=nt;var n=Be(t),r=n*Be(e),i=n*Me(e),o=Me(t),s=Es(Di((s=Ci*o-Ei*i)*s+(s=Ei*r-Si*o)*s+(s=Si*i-Ci*r)*s),Si*r+Ci*i+Ei*o);jC+=s,HC+=s*(Si+(Si=r)),qC+=s*(Ci+(Ci=i)),GC+=s*(Ei+(Ei=o)),lx(Si,Ci,Ei)}function sj(){ia.point=nN}function g$e(){ia.point=y$e}function m$e(){dne(cne,fne),ia.point=nN}function y$e(e,t){cne=e,fne=t,e*=nt,t*=nt,ia.point=dne;var n=Be(t);Si=n*Be(e),Ci=n*Me(e),Ei=Me(t),lx(Si,Ci,Ei)}function dne(e,t){e*=nt,t*=nt;var n=Be(t),r=n*Be(e),i=n*Me(e),o=Me(t),s=Ci*o-Ei*i,a=Ei*r-Si*o,l=Si*i-Ci*r,u=zR(s,a,l),c=lo(u),f=u&&-c/u;HR.add(f*s),qR.add(f*a),GR.add(f*l),jC+=c,HC+=c*(Si+(Si=r)),qC+=c*(Ci+(Ci=i)),GC+=c*(Ei+(Ei=o)),lx(Si,Ci,Ei)}function v$e(e){c1=jC=UC=VC=WC=HC=qC=GC=0,HR=new Ti,qR=new Ti,GR=new Ti,eu(e,ia);var t=+HR,n=+qR,r=+GR,i=zR(t,n,r);return i<PC&&(t=HC,n=qC,r=GC,jC<Le&&(t=UC,n=VC,r=WC),i=zR(t,n,r),i<PC)?[NaN,NaN]:[Es(n,t)*Ln,lo(r/i)*Ln]}function XR(e,t){function n(r,i){return r=e(r,i),t(r[0],r[1])}return e.invert&&t.invert&&(n.invert=function(r,i){return r=t.invert(r,i),r&&e.invert(r[0],r[1])}),n}function YR(e,t){return pt(e)>rt&&(e-=Math.round(e/Pi)*Pi),[e,t]}YR.invert=YR;function hne(e,t,n){return(e%=Pi)?t||n?XR(lj(e),uj(t,n)):lj(e):t||n?uj(t,n):YR}function aj(e){return function(t,n){return t+=e,pt(t)>rt&&(t-=Math.round(t/Pi)*Pi),[t,n]}}function lj(e){var t=aj(e);return t.invert=aj(-e),t}function uj(e,t){var n=Be(e),r=Me(e),i=Be(t),o=Me(t);function s(a,l){var u=Be(l),c=Be(a)*u,f=Me(a)*u,d=Me(l),h=d*n+c*r;return[Es(f*i-h*o,c*n-d*r),lo(h*i+f*o)]}return s.invert=function(a,l){var u=Be(l),c=Be(a)*u,f=Me(a)*u,d=Me(l),h=d*i-f*o;return[Es(f*i+d*o,c*n+h*r),lo(h*n-c*r)]},s}function b$e(e){e=hne(e[0]*nt,e[1]*nt,e.length>2?e[2]*nt:0);function t(n){return n=e(n[0]*nt,n[1]*nt),n[0]*=Ln,n[1]*=Ln,n}return t.invert=function(n){return n=e.invert(n[0]*nt,n[1]*nt),n[0]*=Ln,n[1]*=Ln,n},t}function x$e(e,t,n,r,i,o){if(n){var s=Be(t),a=Me(t),l=r*n;i==null?(i=t+r*Pi,o=t-l/2):(i=cj(s,i),o=cj(s,o),(r>0?i<o:i>o)&&(i+=r*Pi));for(var u,c=i;r>0?c>o:c<o;c-=l)u=zC([s,-a*Be(c),-a*Me(c)]),e.point(u[0],u[1])}}function cj(e,t){t=wh(t),t[0]-=e,BC(t);var n=nne(-t[1]);return((-t[2]<0?-n:n)+Pi-Le)%Pi}function pne(){var e=[],t;return{point:function(n,r,i){t.push([n,r,i])},lineStart:function(){e.push(t=[])},lineEnd:Or,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}}function iS(e,t){return pt(e[0]-t[0])<Le&&pt(e[1]-t[1])<Le}function L2(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function gne(e,t,n,r,i){var o=[],s=[],a,l;if(e.forEach(function(p){if(!((g=p.length-1)<=0)){var g,m=p[0],y=p[g],v;if(iS(m,y)){if(!m[2]&&!y[2]){for(i.lineStart(),a=0;a<g;++a)i.point((m=p[a])[0],m[1]);i.lineEnd();return}y[0]+=2*Le}o.push(v=new L2(m,p,null,!0)),s.push(v.o=new L2(m,null,v,!1)),o.push(v=new L2(y,p,null,!1)),s.push(v.o=new L2(y,null,v,!0))}}),!!o.length){for(s.sort(t),fj(o),fj(s),a=0,l=s.length;a<l;++a)s[a].e=n=!n;for(var u=o[0],c,f;;){for(var d=u,h=!0;d.v;)if((d=d.n)===u)return;c=d.z,i.lineStart();do{if(d.v=d.o.v=!0,d.e){if(h)for(a=0,l=c.length;a<l;++a)i.point((f=c[a])[0],f[1]);else r(d.x,d.n.x,1,i);d=d.n}else{if(h)for(c=d.p.z,a=c.length-1;a>=0;--a)i.point((f=c[a])[0],f[1]);else r(d.x,d.p.x,-1,i);d=d.p}d=d.o,c=d.z,h=!h}while(!d.v);i.lineEnd()}}}function fj(e){if(t=e.length){for(var t,n=0,r=e[0],i;++n<t;)r.n=i=e[n],i.p=r,r=i;r.n=i=e[0],i.p=r}}function ET(e){return pt(e[0])<=rt?e[0]:fs(e[0])*((pt(e[0])+rt)%Pi-rt)}function w$e(e,t){var n=ET(t),r=t[1],i=Me(r),o=[Me(n),-Be(n),0],s=0,a=0,l=new Ti;i===1?r=Rn+Le:i===-1&&(r=-Rn-Le);for(var u=0,c=e.length;u<c;++u)if(d=(f=e[u]).length)for(var f,d,h=f[d-1],p=ET(h),g=h[1]/2+DC,m=Me(g),y=Be(g),v=0;v<d;++v,p=x,m=E,y=S,h=b){var b=f[v],x=ET(b),w=b[1]/2+DC,E=Me(w),S=Be(w),k=x-p,$=k>=0?1:-1,F=$*k,P=F>rt,j=m*E;if(l.add(Es(j*$*Me(F),y*S+j*Be(F))),s+=P?k+$*Pi:k,P^p>=n^x>=n){var D=Rm(wh(h),wh(b));BC(D);var L=Rm(o,D);BC(L);var A=(P^k>=0?-1:1)*lo(L[2]);(r>A||r===A&&(D[0]||D[1]))&&(a+=P^k>=0?1:-1)}}return(s<-Le||s<Le&&l<-PC)^a&1}function mne(e,t,n,r){return function(i){var o=t(i),s=pne(),a=t(s),l=!1,u,c,f,d={point:h,lineStart:g,lineEnd:m,polygonStart:function(){d.point=y,d.lineStart=v,d.lineEnd=b,c=[],u=[]},polygonEnd:function(){d.point=h,d.lineStart=g,d.lineEnd=m,c=eQ(c);var x=w$e(u,r);c.length?(l||(i.polygonStart(),l=!0),gne(c,C$e,x,n,i)):x&&(l||(i.polygonStart(),l=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),l&&(i.polygonEnd(),l=!1),c=u=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function h(x,w){e(x,w)&&i.point(x,w)}function p(x,w){o.point(x,w)}function g(){d.point=p,o.lineStart()}function m(){d.point=h,o.lineEnd()}function y(x,w){f.push([x,w]),a.point(x,w)}function v(){a.lineStart(),f=[]}function b(){y(f[0][0],f[0][1]),a.lineEnd();var x=a.clean(),w=s.result(),E,S=w.length,k,$,F;if(f.pop(),u.push(f),f=null,!!S){if(x&1){if($=w[0],(k=$.length-1)>0){for(l||(i.polygonStart(),l=!0),i.lineStart(),E=0;E<k;++E)i.point((F=$[E])[0],F[1]);i.lineEnd()}return}S>1&&x&2&&w.push(w.pop().concat(w.shift())),c.push(w.filter(S$e))}}return d}}function S$e(e){return e.length>1}function C$e(e,t){return((e=e.x)[0]<0?e[1]-Rn-Le:Rn-e[1])-((t=t.x)[0]<0?t[1]-Rn-Le:Rn-t[1])}const dj=mne(function(){return!0},E$e,_$e,[-rt,-Rn]);function E$e(e){var t=NaN,n=NaN,r=NaN,i;return{lineStart:function(){e.lineStart(),i=1},point:function(o,s){var a=o>0?rt:-rt,l=pt(o-t);pt(l-rt)<Le?(e.point(t,n=(n+s)/2>0?Rn:-Rn),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(a,n),e.point(o,n),i=0):r!==a&&l>=rt&&(pt(t-r)<Le&&(t-=r*Le),pt(o-a)<Le&&(o-=a*Le),n=k$e(t,n,o,s),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(a,n),i=0),e.point(t=o,n=s),r=a},lineEnd:function(){e.lineEnd(),t=n=NaN},clean:function(){return 2-i}}}function k$e(e,t,n,r){var i,o,s=Me(e-n);return pt(s)>Le?O0((Me(t)*(o=Be(r))*Me(n)-Me(r)*(i=Be(t))*Me(e))/(i*o*s)):(t+r)/2}function _$e(e,t,n,r){var i;if(e==null)i=n*Rn,r.point(-rt,i),r.point(0,i),r.point(rt,i),r.point(rt,0),r.point(rt,-i),r.point(0,-i),r.point(-rt,-i),r.point(-rt,0),r.point(-rt,i);else if(pt(e[0]-t[0])>Le){var o=e[0]<t[0]?rt:-rt;i=n*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(t[0],t[1])}function $$e(e){var t=Be(e),n=2*nt,r=t>0,i=pt(t)>Le;function o(c,f,d,h){x$e(h,e,n,d,c,f)}function s(c,f){return Be(c)*Be(f)>t}function a(c){var f,d,h,p,g;return{lineStart:function(){p=h=!1,g=1},point:function(m,y){var v=[m,y],b,x=s(m,y),w=r?x?0:u(m,y):x?u(m+(m<0?rt:-rt),y):0;if(!f&&(p=h=x)&&c.lineStart(),x!==h&&(b=l(f,v),(!b||iS(f,b)||iS(v,b))&&(v[2]=1)),x!==h)g=0,x?(c.lineStart(),b=l(v,f),c.point(b[0],b[1])):(b=l(f,v),c.point(b[0],b[1],2),c.lineEnd()),f=b;else if(i&&f&&r^x){var E;!(w&d)&&(E=l(v,f,!0))&&(g=0,r?(c.lineStart(),c.point(E[0][0],E[0][1]),c.point(E[1][0],E[1][1]),c.lineEnd()):(c.point(E[1][0],E[1][1]),c.lineEnd(),c.lineStart(),c.point(E[0][0],E[0][1],3)))}x&&(!f||!iS(f,v))&&c.point(v[0],v[1]),f=v,h=x,d=w},lineEnd:function(){h&&c.lineEnd(),f=null},clean:function(){return g|(p&&h)<<1}}}function l(c,f,d){var h=wh(c),p=wh(f),g=[1,0,0],m=Rm(h,p),y=M2(m,m),v=m[0],b=y-v*v;if(!b)return!d&&c;var x=t*y/b,w=-t*v/b,E=Rm(g,m),S=N2(g,x),k=N2(m,w);CT(S,k);var $=E,F=M2(S,$),P=M2($,$),j=F*F-P*(M2(S,S)-1);if(!(j<0)){var D=Di(j),L=N2($,(-F-D)/P);if(CT(L,S),L=zC(L),!d)return L;var A=c[0],O=f[0],B=c[1],z=f[1],U;O<A&&(U=A,A=O,O=U);var X=O-A,K=pt(X-rt)<Le,pe=K||X<Le;if(!K&&z<B&&(U=B,B=z,z=U),pe?K?B+z>0^L[1]<(pt(L[0]-A)<Le?B:z):B<=L[1]&&L[1]<=z:X>rt^(A<=L[0]&&L[0]<=O)){var oe=N2($,(-F+D)/P);return CT(oe,S),[L,zC(oe)]}}}function u(c,f){var d=r?e:rt-e,h=0;return c<-d?h|=1:c>d&&(h|=2),f<-d?h|=4:f>d&&(h|=8),h}return mne(s,a,o,r?[0,-e]:[-rt,e-rt])}function A$e(e,t,n,r,i,o){var s=e[0],a=e[1],l=t[0],u=t[1],c=0,f=1,d=l-s,h=u-a,p;if(p=n-s,!(!d&&p>0)){if(p/=d,d<0){if(p<c)return;p<f&&(f=p)}else if(d>0){if(p>f)return;p>c&&(c=p)}if(p=i-s,!(!d&&p<0)){if(p/=d,d<0){if(p>f)return;p>c&&(c=p)}else if(d>0){if(p<c)return;p<f&&(f=p)}if(p=r-a,!(!h&&p>0)){if(p/=h,h<0){if(p<c)return;p<f&&(f=p)}else if(h>0){if(p>f)return;p>c&&(c=p)}if(p=o-a,!(!h&&p<0)){if(p/=h,h<0){if(p>f)return;p>c&&(c=p)}else if(h>0){if(p<c)return;p<f&&(f=p)}return c>0&&(e[0]=s+c*d,e[1]=a+c*h),f<1&&(t[0]=s+f*d,t[1]=a+f*h),!0}}}}}var f1=1e9,I2=-f1;function yne(e,t,n,r){function i(u,c){return e<=u&&u<=n&&t<=c&&c<=r}function o(u,c,f,d){var h=0,p=0;if(u==null||(h=s(u,f))!==(p=s(c,f))||l(u,c)<0^f>0)do d.point(h===0||h===3?e:n,h>1?r:t);while((h=(h+f+4)%4)!==p);else d.point(c[0],c[1])}function s(u,c){return pt(u[0]-e)<Le?c>0?0:3:pt(u[0]-n)<Le?c>0?2:1:pt(u[1]-t)<Le?c>0?1:0:c>0?3:2}function a(u,c){return l(u.x,c.x)}function l(u,c){var f=s(u,1),d=s(c,1);return f!==d?f-d:f===0?c[1]-u[1]:f===1?u[0]-c[0]:f===2?u[1]-c[1]:c[0]-u[0]}return function(u){var c=u,f=pne(),d,h,p,g,m,y,v,b,x,w,E,S={point:k,lineStart:j,lineEnd:D,polygonStart:F,polygonEnd:P};function k(A,O){i(A,O)&&c.point(A,O)}function $(){for(var A=0,O=0,B=h.length;O<B;++O)for(var z=h[O],U=1,X=z.length,K=z[0],pe,oe,_e=K[0],Je=K[1];U<X;++U)pe=_e,oe=Je,K=z[U],_e=K[0],Je=K[1],oe<=r?Je>r&&(_e-pe)*(r-oe)>(Je-oe)*(e-pe)&&++A:Je<=r&&(_e-pe)*(r-oe)<(Je-oe)*(e-pe)&&--A;return A}function F(){c=f,d=[],h=[],E=!0}function P(){var A=$(),O=E&&A,B=(d=eQ(d)).length;(O||B)&&(u.polygonStart(),O&&(u.lineStart(),o(null,null,1,u),u.lineEnd()),B&&gne(d,a,A,o,u),u.polygonEnd()),c=u,d=h=p=null}function j(){S.point=L,h&&h.push(p=[]),w=!0,x=!1,v=b=NaN}function D(){d&&(L(g,m),y&&x&&f.rejoin(),d.push(f.result())),S.point=k,x&&c.lineEnd()}function L(A,O){var B=i(A,O);if(h&&p.push([A,O]),w)g=A,m=O,y=B,w=!1,B&&(c.lineStart(),c.point(A,O));else if(B&&x)c.point(A,O);else{var z=[v=Math.max(I2,Math.min(f1,v)),b=Math.max(I2,Math.min(f1,b))],U=[A=Math.max(I2,Math.min(f1,A)),O=Math.max(I2,Math.min(f1,O))];A$e(z,U,e,t,n,r)?(x||(c.lineStart(),c.point(z[0],z[1])),c.point(U[0],U[1]),B||c.lineEnd(),E=!1):B&&(c.lineStart(),c.point(A,O),E=!1)}v=A,b=O,x=B}return S}}function hj(e,t,n){var r=_o(e,t-Le,n).concat(t);return function(i){return r.map(function(o){return[i,o]})}}function pj(e,t,n){var r=_o(e,t-Le,n).concat(t);return function(i){return r.map(function(o){return[o,i]})}}function T$e(){var e,t,n,r,i,o,s,a,l=10,u=l,c=90,f=360,d,h,p,g,m=2.5;function y(){return{type:"MultiLineString",coordinates:v()}}function v(){return _o(D2(r/c)*c,n,c).map(p).concat(_o(D2(a/f)*f,s,f).map(g)).concat(_o(D2(t/l)*l,e,l).filter(function(b){return pt(b%c)>Le}).map(d)).concat(_o(D2(o/u)*u,i,u).filter(function(b){return pt(b%f)>Le}).map(h))}return y.lines=function(){return v().map(function(b){return{type:"LineString",coordinates:b}})},y.outline=function(){return{type:"Polygon",coordinates:[p(r).concat(g(s).slice(1),p(n).reverse().slice(1),g(a).reverse().slice(1))]}},y.extent=function(b){return arguments.length?y.extentMajor(b).extentMinor(b):y.extentMinor()},y.extentMajor=function(b){return arguments.length?(r=+b[0][0],n=+b[1][0],a=+b[0][1],s=+b[1][1],r>n&&(b=r,r=n,n=b),a>s&&(b=a,a=s,s=b),y.precision(m)):[[r,a],[n,s]]},y.extentMinor=function(b){return arguments.length?(t=+b[0][0],e=+b[1][0],o=+b[0][1],i=+b[1][1],t>e&&(b=t,t=e,e=b),o>i&&(b=o,o=i,i=b),y.precision(m)):[[t,o],[e,i]]},y.step=function(b){return arguments.length?y.stepMajor(b).stepMinor(b):y.stepMinor()},y.stepMajor=function(b){return arguments.length?(c=+b[0],f=+b[1],y):[c,f]},y.stepMinor=function(b){return arguments.length?(l=+b[0],u=+b[1],y):[l,u]},y.precision=function(b){return arguments.length?(m=+b,d=hj(o,i,90),h=pj(t,e,m),p=hj(a,s,90),g=pj(r,n,m),y):m},y.extentMajor([[-180,-90+Le],[180,90-Le]]).extentMinor([[-180,-80-Le],[180,80+Le]])}const Ov=e=>e;var kT=new Ti,KR=new Ti,vne,bne,QR,JR,tu={point:Or,lineStart:Or,lineEnd:Or,polygonStart:function(){tu.lineStart=R$e,tu.lineEnd=O$e},polygonEnd:function(){tu.lineStart=tu.lineEnd=tu.point=Or,kT.add(pt(KR)),KR=new Ti},result:function(){var e=kT/2;return kT=new Ti,e}};function R$e(){tu.point=F$e}function F$e(e,t){tu.point=xne,vne=QR=e,bne=JR=t}function xne(e,t){KR.add(JR*e-QR*t),QR=e,JR=t}function O$e(){xne(vne,bne)}var Fm=1/0,XC=Fm,Pv=-Fm,YC=Pv,KC={point:P$e,lineStart:Or,lineEnd:Or,polygonStart:Or,polygonEnd:Or,result:function(){var e=[[Fm,XC],[Pv,YC]];return Pv=YC=-(XC=Fm=1/0),e}};function P$e(e,t){e<Fm&&(Fm=e),e>Pv&&(Pv=e),t<XC&&(XC=t),t>YC&&(YC=t)}var ZR=0,eF=0,d1=0,QC=0,JC=0,og=0,tF=0,nF=0,h1=0,wne,Sne,Za,el,ls={point:Sh,lineStart:gj,lineEnd:mj,polygonStart:function(){ls.lineStart=N$e,ls.lineEnd=L$e},polygonEnd:function(){ls.point=Sh,ls.lineStart=gj,ls.lineEnd=mj},result:function(){var e=h1?[tF/h1,nF/h1]:og?[QC/og,JC/og]:d1?[ZR/d1,eF/d1]:[NaN,NaN];return ZR=eF=d1=QC=JC=og=tF=nF=h1=0,e}};function Sh(e,t){ZR+=e,eF+=t,++d1}function gj(){ls.point=D$e}function D$e(e,t){ls.point=M$e,Sh(Za=e,el=t)}function M$e(e,t){var n=e-Za,r=t-el,i=Di(n*n+r*r);QC+=i*(Za+e)/2,JC+=i*(el+t)/2,og+=i,Sh(Za=e,el=t)}function mj(){ls.point=Sh}function N$e(){ls.point=I$e}function L$e(){Cne(wne,Sne)}function I$e(e,t){ls.point=Cne,Sh(wne=Za=e,Sne=el=t)}function Cne(e,t){var n=e-Za,r=t-el,i=Di(n*n+r*r);QC+=i*(Za+e)/2,JC+=i*(el+t)/2,og+=i,i=el*e-Za*t,tF+=i*(Za+e),nF+=i*(el+t),h1+=i*3,Sh(Za=e,el=t)}function Ene(e){this._context=e}Ene.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:{this._context.moveTo(e,t),this._point=1;break}case 1:{this._context.lineTo(e,t);break}default:{this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,Pi);break}}},result:Or};var rF=new Ti,_T,kne,_ne,p1,g1,Dv={point:Or,lineStart:function(){Dv.point=z$e},lineEnd:function(){_T&&$ne(kne,_ne),Dv.point=Or},polygonStart:function(){_T=!0},polygonEnd:function(){_T=null},result:function(){var e=+rF;return rF=new Ti,e}};function z$e(e,t){Dv.point=$ne,kne=p1=e,_ne=g1=t}function $ne(e,t){p1-=e,g1-=t,rF.add(Di(p1*p1+g1*g1)),p1=e,g1=t}let yj,ZC,vj,bj;class xj{constructor(t){this._append=t==null?Ane:B$e(t),this._radius=4.5,this._=""}pointRadius(t){return this._radius=+t,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(t,n){switch(this._point){case 0:{this._append`M${t},${n}`,this._point=1;break}case 1:{this._append`L${t},${n}`;break}default:{if(this._append`M${t},${n}`,this._radius!==vj||this._append!==ZC){const r=this._radius,i=this._;this._="",this._append`m0,${r}a${r},${r} 0 1,1 0,${-2*r}a${r},${r} 0 1,1 0,${2*r}z`,vj=r,ZC=this._append,bj=this._,this._=i}this._+=bj;break}}}result(){const t=this._;return this._="",t.length?t:null}}function Ane(e){let t=1;this._+=e[0];for(const n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function B$e(e){const t=Math.floor(e);if(!(t>=0))throw new RangeError(`invalid digits: ${e}`);if(t>15)return Ane;if(t!==yj){const n=10**t;yj=t,ZC=function(i){let o=1;this._+=i[0];for(const s=i.length;o<s;++o)this._+=Math.round(arguments[o]*n)/n+i[o]}}return ZC}function Tne(e,t){let n=3,r=4.5,i,o;function s(a){return a&&(typeof r=="function"&&o.pointRadius(+r.apply(this,arguments)),eu(a,i(o))),o.result()}return s.area=function(a){return eu(a,i(tu)),tu.result()},s.measure=function(a){return eu(a,i(Dv)),Dv.result()},s.bounds=function(a){return eu(a,i(KC)),KC.result()},s.centroid=function(a){return eu(a,i(ls)),ls.result()},s.projection=function(a){return arguments.length?(i=a==null?(e=null,Ov):(e=a).stream,s):e},s.context=function(a){return arguments.length?(o=a==null?(t=null,new xj(n)):new Ene(t=a),typeof r!="function"&&o.pointRadius(r),s):t},s.pointRadius=function(a){return arguments.length?(r=typeof a=="function"?a:(o.pointRadius(+a),+a),s):r},s.digits=function(a){if(!arguments.length)return n;if(a==null)n=null;else{const l=Math.floor(a);if(!(l>=0))throw new RangeError(`invalid digits: ${a}`);n=l}return t===null&&(o=new xj(n)),s},s.projection(e).digits(n).context(t)}function $_(e){return function(t){var n=new iF;for(var r in e)n[r]=e[r];return n.stream=t,n}}function iF(){}iF.prototype={constructor:iF,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function rN(e,t,n){var r=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),r!=null&&e.clipExtent(null),eu(n,e.stream(KC)),t(KC.result()),r!=null&&e.clipExtent(r),e}function A_(e,t,n){return rN(e,function(r){var i=t[1][0]-t[0][0],o=t[1][1]-t[0][1],s=Math.min(i/(r[1][0]-r[0][0]),o/(r[1][1]-r[0][1])),a=+t[0][0]+(i-s*(r[1][0]+r[0][0]))/2,l=+t[0][1]+(o-s*(r[1][1]+r[0][1]))/2;e.scale(150*s).translate([a,l])},n)}function iN(e,t,n){return A_(e,[[0,0],t],n)}function oN(e,t,n){return rN(e,function(r){var i=+t,o=i/(r[1][0]-r[0][0]),s=(i-o*(r[1][0]+r[0][0]))/2,a=-o*r[0][1];e.scale(150*o).translate([s,a])},n)}function sN(e,t,n){return rN(e,function(r){var i=+t,o=i/(r[1][1]-r[0][1]),s=-o*r[0][0],a=(i-o*(r[1][1]+r[0][1]))/2;e.scale(150*o).translate([s,a])},n)}var wj=16,j$e=Be(30*nt);function Sj(e,t){return+t?V$e(e,t):U$e(e)}function U$e(e){return $_({point:function(t,n){t=e(t,n),this.stream.point(t[0],t[1])}})}function V$e(e,t){function n(r,i,o,s,a,l,u,c,f,d,h,p,g,m){var y=u-r,v=c-i,b=y*y+v*v;if(b>4*t&&g--){var x=s+d,w=a+h,E=l+p,S=Di(x*x+w*w+E*E),k=lo(E/=S),$=pt(pt(E)-1)<Le||pt(o-f)<Le?(o+f)/2:Es(w,x),F=e($,k),P=F[0],j=F[1],D=P-r,L=j-i,A=v*D-y*L;(A*A/b>t||pt((y*D+v*L)/b-.5)>.3||s*d+a*h+l*p<j$e)&&(n(r,i,o,s,a,l,P,j,$,x/=S,w/=S,E,g,m),m.point(P,j),n(P,j,$,x,w,E,u,c,f,d,h,p,g,m))}}return function(r){var i,o,s,a,l,u,c,f,d,h,p,g,m={point:y,lineStart:v,lineEnd:x,polygonStart:function(){r.polygonStart(),m.lineStart=w},polygonEnd:function(){r.polygonEnd(),m.lineStart=v}};function y(k,$){k=e(k,$),r.point(k[0],k[1])}function v(){f=NaN,m.point=b,r.lineStart()}function b(k,$){var F=wh([k,$]),P=e(k,$);n(f,d,c,h,p,g,f=P[0],d=P[1],c=k,h=F[0],p=F[1],g=F[2],wj,r),r.point(f,d)}function x(){m.point=y,r.lineEnd()}function w(){v(),m.point=E,m.lineEnd=S}function E(k,$){b(i=k,$),o=f,s=d,a=h,l=p,u=g,m.point=b}function S(){n(f,d,c,h,p,g,o,s,i,a,l,u,wj,r),m.lineEnd=x,x()}return m}}var W$e=$_({point:function(e,t){this.stream.point(e*nt,t*nt)}});function H$e(e){return $_({point:function(t,n){var r=e(t,n);return this.stream.point(r[0],r[1])}})}function q$e(e,t,n,r,i){function o(s,a){return s*=r,a*=i,[t+e*s,n-e*a]}return o.invert=function(s,a){return[(s-t)/e*r,(n-a)/e*i]},o}function Cj(e,t,n,r,i,o){if(!o)return q$e(e,t,n,r,i);var s=Be(o),a=Me(o),l=s*e,u=a*e,c=s/e,f=a/e,d=(a*n-s*t)/e,h=(a*t+s*n)/e;function p(g,m){return g*=r,m*=i,[l*g-u*m+t,n-u*g-l*m]}return p.invert=function(g,m){return[r*(c*g-f*m+d),i*(h-f*g-c*m)]},p}function Rl(e){return Rne(function(){return e})()}function Rne(e){var t,n=150,r=480,i=250,o=0,s=0,a=0,l=0,u=0,c,f=0,d=1,h=1,p=null,g=dj,m=null,y,v,b,x=Ov,w=.5,E,S,k,$,F;function P(A){return k(A[0]*nt,A[1]*nt)}function j(A){return A=k.invert(A[0],A[1]),A&&[A[0]*Ln,A[1]*Ln]}P.stream=function(A){return $&&F===A?$:$=W$e(H$e(c)(g(E(x(F=A)))))},P.preclip=function(A){return arguments.length?(g=A,p=void 0,L()):g},P.postclip=function(A){return arguments.length?(x=A,m=y=v=b=null,L()):x},P.clipAngle=function(A){return arguments.length?(g=+A?$$e(p=A*nt):(p=null,dj),L()):p*Ln},P.clipExtent=function(A){return arguments.length?(x=A==null?(m=y=v=b=null,Ov):yne(m=+A[0][0],y=+A[0][1],v=+A[1][0],b=+A[1][1]),L()):m==null?null:[[m,y],[v,b]]},P.scale=function(A){return arguments.length?(n=+A,D()):n},P.translate=function(A){return arguments.length?(r=+A[0],i=+A[1],D()):[r,i]},P.center=function(A){return arguments.length?(o=A[0]%360*nt,s=A[1]%360*nt,D()):[o*Ln,s*Ln]},P.rotate=function(A){return arguments.length?(a=A[0]%360*nt,l=A[1]%360*nt,u=A.length>2?A[2]%360*nt:0,D()):[a*Ln,l*Ln,u*Ln]},P.angle=function(A){return arguments.length?(f=A%360*nt,D()):f*Ln},P.reflectX=function(A){return arguments.length?(d=A?-1:1,D()):d<0},P.reflectY=function(A){return arguments.length?(h=A?-1:1,D()):h<0},P.precision=function(A){return arguments.length?(E=Sj(S,w=A*A),L()):Di(w)},P.fitExtent=function(A,O){return A_(P,A,O)},P.fitSize=function(A,O){return iN(P,A,O)},P.fitWidth=function(A,O){return oN(P,A,O)},P.fitHeight=function(A,O){return sN(P,A,O)};function D(){var A=Cj(n,0,0,d,h,f).apply(null,t(o,s)),O=Cj(n,r-A[0],i-A[1],d,h,f);return c=hne(a,l,u),S=XR(t,O),k=XR(c,S),E=Sj(S,w),L()}function L(){return $=F=null,P}return function(){return t=e.apply(this,arguments),P.invert=t.invert&&j,D()}}function aN(e){var t=0,n=rt/3,r=Rne(e),i=r(t,n);return i.parallels=function(o){return arguments.length?r(t=o[0]*nt,n=o[1]*nt):[t*Ln,n*Ln]},i}function G$e(e){var t=Be(e);function n(r,i){return[r*t,Me(i)/t]}return n.invert=function(r,i){return[r/t,lo(i*t)]},n}function X$e(e,t){var n=Me(e),r=(n+Me(t))/2;if(pt(r)<Le)return G$e(e);var i=1+n*(2*r-n),o=Di(i)/r;function s(a,l){var u=Di(i-2*r*Me(l))/r;return[u*Me(a*=r),o-u*Be(a)]}return s.invert=function(a,l){var u=o-l,c=Es(a,pt(u))*fs(u);return u*r<0&&(c-=rt*fs(a)*fs(u)),[c/r,lo((i-(a*a+u*u)*r*r)/(2*r))]},s}function eE(){return aN(X$e).scale(155.424).center([0,33.6442])}function Fne(){return eE().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function Y$e(e){var t=e.length;return{point:function(n,r){for(var i=-1;++i<t;)e[i].point(n,r)},sphere:function(){for(var n=-1;++n<t;)e[n].sphere()},lineStart:function(){for(var n=-1;++n<t;)e[n].lineStart()},lineEnd:function(){for(var n=-1;++n<t;)e[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<t;)e[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<t;)e[n].polygonEnd()}}}function K$e(){var e,t,n=Fne(),r,i=eE().rotate([154,0]).center([-2,58.5]).parallels([55,65]),o,s=eE().rotate([157,0]).center([-3,19.9]).parallels([8,18]),a,l,u={point:function(d,h){l=[d,h]}};function c(d){var h=d[0],p=d[1];return l=null,r.point(h,p),l||(o.point(h,p),l)||(a.point(h,p),l)}c.invert=function(d){var h=n.scale(),p=n.translate(),g=(d[0]-p[0])/h,m=(d[1]-p[1])/h;return(m>=.12&&m<.234&&g>=-.425&&g<-.214?i:m>=.166&&m<.234&&g>=-.214&&g<-.115?s:n).invert(d)},c.stream=function(d){return e&&t===d?e:e=Y$e([n.stream(t=d),i.stream(d),s.stream(d)])},c.precision=function(d){return arguments.length?(n.precision(d),i.precision(d),s.precision(d),f()):n.precision()},c.scale=function(d){return arguments.length?(n.scale(d),i.scale(d*.35),s.scale(d),c.translate(n.translate())):n.scale()},c.translate=function(d){if(!arguments.length)return n.translate();var h=n.scale(),p=+d[0],g=+d[1];return r=n.translate(d).clipExtent([[p-.455*h,g-.238*h],[p+.455*h,g+.238*h]]).stream(u),o=i.translate([p-.307*h,g+.201*h]).clipExtent([[p-.425*h+Le,g+.12*h+Le],[p-.214*h-Le,g+.234*h-Le]]).stream(u),a=s.translate([p-.205*h,g+.212*h]).clipExtent([[p-.214*h+Le,g+.166*h+Le],[p-.115*h-Le,g+.234*h-Le]]).stream(u),f()},c.fitExtent=function(d,h){return A_(c,d,h)},c.fitSize=function(d,h){return iN(c,d,h)},c.fitWidth=function(d,h){return oN(c,d,h)},c.fitHeight=function(d,h){return sN(c,d,h)};function f(){return e=t=null,c}return c.scale(1070)}function One(e){return function(t,n){var r=Be(t),i=Be(n),o=e(r*i);return o===1/0?[2,0]:[o*i*Me(t),o*Me(n)]}}function ux(e){return function(t,n){var r=Di(t*t+n*n),i=e(r),o=Me(i),s=Be(i);return[Es(t*o,r*s),lo(r&&n*o/r)]}}var Pne=One(function(e){return Di(2/(1+e))});Pne.invert=ux(function(e){return 2*lo(e/2)});function Q$e(){return Rl(Pne).scale(124.75).clipAngle(180-.001)}var Dne=One(function(e){return(e=nne(e))&&e/Me(e)});Dne.invert=ux(function(e){return e});function J$e(){return Rl(Dne).scale(79.4188).clipAngle(180-.001)}function T_(e,t){return[e,MC(tN((Rn+t)/2))]}T_.invert=function(e,t){return[e,2*O0(tne(t))-Rn]};function Z$e(){return Mne(T_).scale(961/Pi)}function Mne(e){var t=Rl(e),n=t.center,r=t.scale,i=t.translate,o=t.clipExtent,s=null,a,l,u;t.scale=function(f){return arguments.length?(r(f),c()):r()},t.translate=function(f){return arguments.length?(i(f),c()):i()},t.center=function(f){return arguments.length?(n(f),c()):n()},t.clipExtent=function(f){return arguments.length?(f==null?s=a=l=u=null:(s=+f[0][0],a=+f[0][1],l=+f[1][0],u=+f[1][1]),c()):s==null?null:[[s,a],[l,u]]};function c(){var f=rt*r(),d=t(b$e(t.rotate()).invert([0,0]));return o(s==null?[[d[0]-f,d[1]-f],[d[0]+f,d[1]+f]]:e===T_?[[Math.max(d[0]-f,s),a],[Math.min(d[0]+f,l),u]]:[[s,Math.max(d[1]-f,a)],[l,Math.min(d[1]+f,u)]])}return c()}function z2(e){return tN((Rn+e)/2)}function eAe(e,t){var n=Be(e),r=e===t?Me(e):MC(n/Be(t))/MC(z2(t)/z2(e)),i=n*ST(z2(e),r)/r;if(!r)return T_;function o(s,a){i>0?a<-Rn+Le&&(a=-Rn+Le):a>Rn-Le&&(a=Rn-Le);var l=i/ST(z2(a),r);return[l*Me(r*s),i-l*Be(r*s)]}return o.invert=function(s,a){var l=i-a,u=fs(r)*Di(s*s+l*l),c=Es(s,pt(l))*fs(l);return l*r<0&&(c-=rt*fs(s)*fs(l)),[c/r,2*O0(ST(i/u,1/r))-Rn]},o}function tAe(){return aN(eAe).scale(109.5).parallels([30,30])}function tE(e,t){return[e,t]}tE.invert=tE;function nAe(){return Rl(tE).scale(152.63)}function rAe(e,t){var n=Be(e),r=e===t?Me(e):(n-Be(t))/(t-e),i=n/r+e;if(pt(r)<Le)return tE;function o(s,a){var l=i-a,u=r*s;return[l*Me(u),i-l*Be(u)]}return o.invert=function(s,a){var l=i-a,u=Es(s,pt(l))*fs(l);return l*r<0&&(u-=rt*fs(s)*fs(l)),[u/r,i-fs(r)*Di(s*s+l*l)]},o}function iAe(){return aN(rAe).scale(131.154).center([0,13.9389])}var W1=1.340264,H1=-.081106,q1=893e-6,G1=.003796,nE=Di(3)/2,oAe=12;function Nne(e,t){var n=lo(nE*Me(t)),r=n*n,i=r*r*r;return[e*Be(n)/(nE*(W1+3*H1*r+i*(7*q1+9*G1*r))),n*(W1+H1*r+i*(q1+G1*r))]}Nne.invert=function(e,t){for(var n=t,r=n*n,i=r*r*r,o=0,s,a,l;o<oAe&&(a=n*(W1+H1*r+i*(q1+G1*r))-t,l=W1+3*H1*r+i*(7*q1+9*G1*r),n-=s=a/l,r=n*n,i=r*r*r,!(pt(s)<PC));++o);return[nE*e*(W1+3*H1*r+i*(7*q1+9*G1*r))/Be(n),lo(Me(n)/nE)]};function sAe(){return Rl(Nne).scale(177.158)}function Lne(e,t){var n=Be(t),r=Be(e)*n;return[n*Me(e)/r,Me(t)/r]}Lne.invert=ux(O0);function aAe(){return Rl(Lne).scale(144.049).clipAngle(60)}function lAe(){var e=1,t=0,n=0,r=1,i=1,o=0,s,a,l=null,u,c,f,d=1,h=1,p=$_({point:function(x,w){var E=b([x,w]);this.stream.point(E[0],E[1])}}),g=Ov,m,y;function v(){return d=e*r,h=e*i,m=y=null,b}function b(x){var w=x[0]*d,E=x[1]*h;if(o){var S=E*s-w*a;w=w*s+E*a,E=S}return[w+t,E+n]}return b.invert=function(x){var w=x[0]-t,E=x[1]-n;if(o){var S=E*s+w*a;w=w*s-E*a,E=S}return[w/d,E/h]},b.stream=function(x){return m&&y===x?m:m=p(g(y=x))},b.postclip=function(x){return arguments.length?(g=x,l=u=c=f=null,v()):g},b.clipExtent=function(x){return arguments.length?(g=x==null?(l=u=c=f=null,Ov):yne(l=+x[0][0],u=+x[0][1],c=+x[1][0],f=+x[1][1]),v()):l==null?null:[[l,u],[c,f]]},b.scale=function(x){return arguments.length?(e=+x,v()):e},b.translate=function(x){return arguments.length?(t=+x[0],n=+x[1],v()):[t,n]},b.angle=function(x){return arguments.length?(o=x%360*nt,a=Me(o),s=Be(o),v()):o*Ln},b.reflectX=function(x){return arguments.length?(r=x?-1:1,v()):r<0},b.reflectY=function(x){return arguments.length?(i=x?-1:1,v()):i<0},b.fitExtent=function(x,w){return A_(b,x,w)},b.fitSize=function(x,w){return iN(b,x,w)},b.fitWidth=function(x,w){return oN(b,x,w)},b.fitHeight=function(x,w){return sN(b,x,w)},b}function Ine(e,t){var n=t*t,r=n*n;return[e*(.8707-.131979*n+r*(-.013791+r*(.003971*n-.001529*r))),t*(1.007226+n*(.015085+r*(-.044475+.028874*n-.005916*r)))]}Ine.invert=function(e,t){var n=t,r=25,i;do{var o=n*n,s=o*o;n-=i=(n*(1.007226+o*(.015085+s*(-.044475+.028874*o-.005916*s)))-t)/(1.007226+o*(.015085*3+s*(-.044475*7+.028874*9*o-.005916*11*s)))}while(pt(i)>Le&&--r>0);return[e/(.8707+(o=n*n)*(-.131979+o*(-.013791+o*o*o*(.003971-.001529*o)))),n]};function uAe(){return Rl(Ine).scale(175.295)}function zne(e,t){return[Be(t)*Me(e),Me(t)]}zne.invert=ux(lo);function cAe(){return Rl(zne).scale(249.5).clipAngle(90+Le)}function Bne(e,t){var n=Be(t),r=1+Be(e)*n;return[n*Me(e)/r,Me(t)/r]}Bne.invert=ux(function(e){return 2*O0(e)});function fAe(){return Rl(Bne).scale(250).clipAngle(142)}function jne(e,t){return[MC(tN((Rn+t)/2)),-e]}jne.invert=function(e,t){return[-t,2*O0(tne(e))-Rn]};function dAe(){var e=Mne(jne),t=e.center,n=e.rotate;return e.center=function(r){return arguments.length?t([-r[1],r[0]]):(r=t(),[r[1],-r[0]])},e.rotate=function(r){return arguments.length?n([r[0],r[1],r.length>2?r[2]+90:90]):(r=n(),[r[0],r[1],r[2]-90])},n([0,0,90]).scale(159.155)}var hAe=Math.abs,oF=Math.cos,rE=Math.sin,pAe=1e-6,Une=Math.PI,sF=Une/2,Ej=gAe(2);function kj(e){return e>1?sF:e<-1?-sF:Math.asin(e)}function gAe(e){return e>0?Math.sqrt(e):0}function mAe(e,t){var n=e*rE(t),r=30,i;do t-=i=(t+rE(t)-n)/(1+oF(t));while(hAe(i)>pAe&&--r>0);return t/2}function yAe(e,t,n){function r(i,o){return[e*i*oF(o=mAe(n,o)),t*rE(o)]}return r.invert=function(i,o){return o=kj(o/t),[i/(e*oF(o)),kj((2*o+rE(2*o))/n)]},r}var vAe=yAe(Ej/sF,Ej,Une);function bAe(){return Rl(vAe).scale(169.529)}const xAe=Tne(),aF=["clipAngle","clipExtent","scale","translate","center","rotate","parallels","precision","reflectX","reflectY","coefficient","distance","fraction","lobes","parallel","radius","ratio","spacing","tilt"];function wAe(e,t){return function n(){const r=t();return r.type=e,r.path=Tne().projection(r),r.copy=r.copy||function(){const i=n();return aF.forEach(o=>{r[o]&&i[o](r[o]())}),i.path.pointRadius(r.path.pointRadius()),i},ree(r)}}function lN(e,t){if(!e||typeof e!="string")throw new Error("Projection type must be a name string.");return e=e.toLowerCase(),arguments.length>1?(iE[e]=wAe(e,t),this):iE[e]||null}function Vne(e){return e&&e.path||xAe}const iE={albers:Fne,albersusa:K$e,azimuthalequalarea:Q$e,azimuthalequidistant:J$e,conicconformal:tAe,conicequalarea:eE,conicequidistant:iAe,equalEarth:sAe,equirectangular:nAe,gnomonic:aAe,identity:lAe,mercator:Z$e,mollweide:bAe,naturalEarth1:uAe,orthographic:cAe,stereographic:fAe,transversemercator:dAe};for(const e in iE)lN(e,iE[e]);function SAe(){}const Wl=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function Wne(){var e=1,t=1,n=a;function r(l,u){return u.map(c=>i(l,c))}function i(l,u){var c=[],f=[];return o(l,u,d=>{n(d,l,u),CAe(d)>0?c.push([d]):f.push(d)}),f.forEach(d=>{for(var h=0,p=c.length,g;h<p;++h)if(EAe((g=c[h])[0],d)!==-1){g.push(d);return}}),{type:"MultiPolygon",value:u,coordinates:c}}function o(l,u,c){var f=[],d=[],h,p,g,m,y,v;for(h=p=-1,m=l[0]>=u,Wl[m<<1].forEach(b);++h<e-1;)g=m,m=l[h+1]>=u,Wl[g|m<<1].forEach(b);for(Wl[m<<0].forEach(b);++p<t-1;){for(h=-1,m=l[p*e+e]>=u,y=l[p*e]>=u,Wl[m<<1|y<<2].forEach(b);++h<e-1;)g=m,m=l[p*e+e+h+1]>=u,v=y,y=l[p*e+h+1]>=u,Wl[g|m<<1|y<<2|v<<3].forEach(b);Wl[m|y<<3].forEach(b)}for(h=-1,y=l[p*e]>=u,Wl[y<<2].forEach(b);++h<e-1;)v=y,y=l[p*e+h+1]>=u,Wl[y<<2|v<<3].forEach(b);Wl[y<<3].forEach(b);function b(x){var w=[x[0][0]+h,x[0][1]+p],E=[x[1][0]+h,x[1][1]+p],S=s(w),k=s(E),$,F;($=d[S])?(F=f[k])?(delete d[$.end],delete f[F.start],$===F?($.ring.push(E),c($.ring)):f[$.start]=d[F.end]={start:$.start,end:F.end,ring:$.ring.concat(F.ring)}):(delete d[$.end],$.ring.push(E),d[$.end=k]=$):($=f[k])?(F=d[S])?(delete f[$.start],delete d[F.end],$===F?($.ring.push(E),c($.ring)):f[F.start]=d[$.end]={start:F.start,end:$.end,ring:F.ring.concat($.ring)}):(delete f[$.start],$.ring.unshift(w),f[$.start=S]=$):f[S]=d[k]={start:S,end:k,ring:[w,E]}}}function s(l){return l[0]*2+l[1]*(e+1)*4}function a(l,u,c){l.forEach(f=>{var d=f[0],h=f[1],p=d|0,g=h|0,m,y=u[g*e+p];d>0&&d<e&&p===d&&(m=u[g*e+p-1],f[0]=d+(c-m)/(y-m)-.5),h>0&&h<t&&g===h&&(m=u[(g-1)*e+p],f[1]=h+(c-m)/(y-m)-.5)})}return r.contour=i,r.size=function(l){if(!arguments.length)return[e,t];var u=Math.floor(l[0]),c=Math.floor(l[1]);return u>=0&&c>=0||ee("invalid size"),e=u,t=c,r},r.smooth=function(l){return arguments.length?(n=l?a:SAe,r):n===a},r}function CAe(e){for(var t=0,n=e.length,r=e[n-1][1]*e[0][0]-e[n-1][0]*e[0][1];++t<n;)r+=e[t-1][1]*e[t][0]-e[t-1][0]*e[t][1];return r}function EAe(e,t){for(var n=-1,r=t.length,i;++n<r;)if(i=kAe(e,t[n]))return i;return 0}function kAe(e,t){for(var n=t[0],r=t[1],i=-1,o=0,s=e.length,a=s-1;o<s;a=o++){var l=e[o],u=l[0],c=l[1],f=e[a],d=f[0],h=f[1];if(_Ae(l,f,t))return 0;c>r!=h>r&&n<(d-u)*(r-c)/(h-c)+u&&(i=-i)}return i}function _Ae(e,t,n){var r;return $Ae(e,t,n)&&AAe(e[r=+(e[0]===t[0])],n[r],t[r])}function $Ae(e,t,n){return(t[0]-e[0])*(n[1]-e[1])===(n[0]-e[0])*(t[1]-e[1])}function AAe(e,t,n){return e<=t&&t<=n||n<=t&&t<=e}function Hne(e,t,n){return function(r){var i=vl(r),o=n?Math.min(i[0],0):i[0],s=i[1],a=s-o,l=t?cf(o,s,e):a/(e+1);return _o(o+l,s,l)}}function uN(e){J.call(this,null,e)}uN.Definition={type:"Isocontour",metadata:{generates:!0},params:[{name:"field",type:"field"},{name:"thresholds",type:"number",array:!0},{name:"levels",type:"number"},{name:"nice",type:"boolean",default:!1},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"zero",type:"boolean",default:!0},{name:"smooth",type:"boolean",default:!0},{name:"scale",type:"number",expr:!0},{name:"translate",type:"number",array:!0,expr:!0},{name:"as",type:"string",null:!0,default:"contour"}]};he(uN,J,{transform(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var n=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=t.materialize(t.SOURCE).source,i=e.field||ai,o=Wne().smooth(e.smooth!==!1),s=e.thresholds||TAe(r,i,e),a=e.as===null?null:e.as||"contour",l=[];return r.forEach(u=>{const c=i(u),f=o.size([c.width,c.height])(c.values,te(s)?s:s(c.values));RAe(f,c,u,e),f.forEach(d=>{l.push(qk(u,Ot(a!=null?{[a]:d}:d)))})}),this.value&&(n.rem=this.value),this.value=n.source=n.add=l,n}});function TAe(e,t,n){const r=Hne(n.levels||10,n.nice,n.zero!==!1);return n.resolve!=="shared"?r:r(e.map(i=>Jd(t(i).values)))}function RAe(e,t,n,r){let i=r.scale||t.scale,o=r.translate||t.translate;if(et(i)&&(i=i(n,r)),et(o)&&(o=o(n,r)),(i===1||i==null)&&!o)return;const s=(St(i)?i:i[0])||1,a=(St(i)?i:i[1])||1,l=o&&o[0]||0,u=o&&o[1]||0;e.forEach(qne(t,s,a,l,u))}function qne(e,t,n,r,i){const o=e.x1||0,s=e.y1||0,a=t*n<0;function l(f){f.forEach(u)}function u(f){a&&f.reverse(),f.forEach(c)}function c(f){f[0]=(f[0]-o)*t+r,f[1]=(f[1]-s)*n+i}return function(f){return f.coordinates.forEach(l),f}}function _j(e,t,n){const r=e>=0?e:eD(t,n);return Math.round((Math.sqrt(4*r*r+1)-1)/2)}function $T(e){return et(e)?e:li(+e)}function Gne(){var e=l=>l[0],t=l=>l[1],n=x0,r=[-1,-1],i=960,o=500,s=2;function a(l,u){const c=_j(r[0],l,e)>>s,f=_j(r[1],l,t)>>s,d=c?c+2:0,h=f?f+2:0,p=2*d+(i>>s),g=2*h+(o>>s),m=new Float32Array(p*g),y=new Float32Array(p*g);let v=m;l.forEach(x=>{const w=d+(+e(x)>>s),E=h+(+t(x)>>s);w>=0&&w<p&&E>=0&&E<g&&(m[w+E*p]+=+n(x))}),c>0&&f>0?(Np(p,g,m,y,c),Lp(p,g,y,m,f),Np(p,g,m,y,c),Lp(p,g,y,m,f),Np(p,g,m,y,c),Lp(p,g,y,m,f)):c>0?(Np(p,g,m,y,c),Np(p,g,y,m,c),Np(p,g,m,y,c),v=y):f>0&&(Lp(p,g,m,y,f),Lp(p,g,y,m,f),Lp(p,g,m,y,f),v=y);const b=u?Math.pow(2,-2*s):1/tQ(v);for(let x=0,w=p*g;x<w;++x)v[x]*=b;return{values:v,scale:1<<s,width:p,height:g,x1:d,y1:h,x2:d+(i>>s),y2:h+(o>>s)}}return a.x=function(l){return arguments.length?(e=$T(l),a):e},a.y=function(l){return arguments.length?(t=$T(l),a):t},a.weight=function(l){return arguments.length?(n=$T(l),a):n},a.size=function(l){if(!arguments.length)return[i,o];var u=+l[0],c=+l[1];return u>=0&&c>=0||ee("invalid size"),i=u,o=c,a},a.cellSize=function(l){return arguments.length?((l=+l)>=1||ee("invalid cell size"),s=Math.floor(Math.log(l)/Math.LN2),a):1<<s},a.bandwidth=function(l){return arguments.length?(l=xe(l),l.length===1&&(l=[+l[0],+l[0]]),l.length!==2&&ee("invalid bandwidth"),r=l,a):r},a}function Np(e,t,n,r,i){const o=(i<<1)+1;for(let s=0;s<t;++s)for(let a=0,l=0;a<e+i;++a)a<e&&(l+=n[a+s*e]),a>=i&&(a>=o&&(l-=n[a-o+s*e]),r[a-i+s*e]=l/Math.min(a+1,e-1+o-a,o))}function Lp(e,t,n,r,i){const o=(i<<1)+1;for(let s=0;s<e;++s)for(let a=0,l=0;a<t+i;++a)a<t&&(l+=n[s+a*e]),a>=i&&(a>=o&&(l-=n[s+(a-o)*e]),r[s+(a-i)*e]=l/Math.min(a+1,t-1+o-a,o))}function cN(e){J.call(this,null,e)}cN.Definition={type:"KDE2D",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"weight",type:"field"},{name:"groupby",type:"field",array:!0},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number",array:!0,length:2},{name:"counts",type:"boolean",default:!1},{name:"as",type:"string",default:"grid"}]};const FAe=["x","y","weight","size","cellSize","bandwidth"];function Xne(e,t){return FAe.forEach(n=>t[n]!=null?e[n](t[n]):0),e}he(cN,J,{transform(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var n=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=t.materialize(t.SOURCE).source,i=OAe(r,e.groupby),o=(e.groupby||[]).map(On),s=Xne(Gne(),e),a=e.as||"grid",l=[];function u(c,f){for(let d=0;d<o.length;++d)c[o[d]]=f[d];return c}return l=i.map(c=>Ot(u({[a]:s(c,e.counts)},c.dims))),this.value&&(n.rem=this.value),this.value=n.source=n.add=l,n}});function OAe(e,t){var n=[],r=c=>c(a),i,o,s,a,l,u;if(t==null)n.push(e);else for(i={},o=0,s=e.length;o<s;++o)a=e[o],l=t.map(r),u=i[l],u||(i[l]=u=[],u.dims=l,n.push(u)),u.push(a);return n}function fN(e){J.call(this,null,e)}fN.Definition={type:"Contour",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"values",type:"number",array:!0},{name:"x",type:"field"},{name:"y",type:"field"},{name:"weight",type:"field"},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number"},{name:"count",type:"number"},{name:"nice",type:"boolean",default:!1},{name:"thresholds",type:"number",array:!0},{name:"smooth",type:"boolean",default:!0}]};he(fN,J,{transform(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var n=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=Wne().smooth(e.smooth!==!1),i=e.values,o=e.thresholds||Hne(e.count||10,e.nice,!!i),s=e.size,a,l;return i||(i=t.materialize(t.SOURCE).source,a=Xne(Gne(),e)(i,!0),l=qne(a,a.scale||1,a.scale||1,0,0),s=[a.width,a.height],i=a.values),o=te(o)?o:o(i),i=r.size(s)(i,o),l&&i.forEach(l),this.value&&(n.rem=this.value),this.value=n.source=n.add=(i||[]).map(Ot),n}});const lF="Feature",dN="FeatureCollection",PAe="MultiPoint";function hN(e){J.call(this,null,e)}hN.Definition={type:"GeoJSON",metadata:{},params:[{name:"fields",type:"field",array:!0,length:2},{name:"geojson",type:"field"}]};he(hN,J,{transform(e,t){var n=this._features,r=this._points,i=e.fields,o=i&&i[0],s=i&&i[1],a=e.geojson||!i&&ai,l=t.ADD,u;u=e.modified()||t.changed(t.REM)||t.modified(ri(a))||o&&t.modified(ri(o))||s&&t.modified(ri(s)),(!this.value||u)&&(l=t.SOURCE,this._features=n=[],this._points=r=[]),a&&t.visit(l,c=>n.push(a(c))),o&&s&&(t.visit(l,c=>{var f=o(c),d=s(c);f!=null&&d!=null&&(f=+f)===f&&(d=+d)===d&&r.push([f,d])}),n=n.concat({type:lF,geometry:{type:PAe,coordinates:r}})),this.value={type:dN,features:n}}});function pN(e){J.call(this,null,e)}pN.Definition={type:"GeoPath",metadata:{modifies:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string",default:"path"}]};he(pN,J,{transform(e,t){var n=t.fork(t.ALL),r=this.value,i=e.field||ai,o=e.as||"path",s=n.SOURCE;!r||e.modified()?(this.value=r=Vne(e.projection),n.materialize().reflow()):s=i===ai||t.modified(i.fields)?n.ADD_MOD:n.ADD;const a=DAe(r,e.pointRadius);return n.visit(s,l=>l[o]=r(i(l))),r.pointRadius(a),n.modifies(o)}});function DAe(e,t){const n=e.pointRadius();return e.context(null),t!=null&&e.pointRadius(t),n}function gN(e){J.call(this,null,e)}gN.Definition={type:"GeoPoint",metadata:{modifies:!0},params:[{name:"projection",type:"projection",required:!0},{name:"fields",type:"field",array:!0,required:!0,length:2},{name:"as",type:"string",array:!0,length:2,default:["x","y"]}]};he(gN,J,{transform(e,t){var n=e.projection,r=e.fields[0],i=e.fields[1],o=e.as||["x","y"],s=o[0],a=o[1],l;function u(c){const f=n([r(c),i(c)]);f?(c[s]=f[0],c[a]=f[1]):(c[s]=void 0,c[a]=void 0)}return e.modified()?t=t.materialize().reflow(!0).visit(t.SOURCE,u):(l=t.modified(r.fields)||t.modified(i.fields),t.visit(l?t.ADD_MOD:t.ADD,u)),t.modifies(o)}});function mN(e){J.call(this,null,e)}mN.Definition={type:"GeoShape",metadata:{modifies:!0,nomod:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field",default:"datum"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string",default:"shape"}]};he(mN,J,{transform(e,t){var n=t.fork(t.ALL),r=this.value,i=e.as||"shape",o=n.ADD;return(!r||e.modified())&&(this.value=r=MAe(Vne(e.projection),e.field||xs("datum"),e.pointRadius),n.materialize().reflow(),o=n.SOURCE),n.visit(o,s=>s[i]=r),n.modifies(i)}});function MAe(e,t,n){const r=n==null?i=>e(t(i)):i=>{var o=e.pointRadius(),s=e.pointRadius(n)(t(i));return e.pointRadius(o),s};return r.context=i=>(e.context(i),r),r}function yN(e){J.call(this,[],e),this.generator=T$e()}yN.Definition={type:"Graticule",metadata:{changes:!0,generates:!0},params:[{name:"extent",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMajor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMinor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"step",type:"number",array:!0,length:2},{name:"stepMajor",type:"number",array:!0,length:2,default:[90,360]},{name:"stepMinor",type:"number",array:!0,length:2,default:[10,10]},{name:"precision",type:"number",default:2.5}]};he(yN,J,{transform(e,t){var n=this.value,r=this.generator,i;if(!n.length||e.modified())for(const o in e)et(r[o])&&r[o](e[o]);return i=r(),n.length?t.mod.push(KQ(n[0],i)):t.add.push(Ot(i)),n[0]=i,t}});function vN(e){J.call(this,null,e)}vN.Definition={type:"heatmap",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"color",type:"string",expr:!0},{name:"opacity",type:"number",expr:!0},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"as",type:"string",default:"image"}]};he(vN,J,{transform(e,t){if(!t.changed()&&!e.modified())return t.StopPropagation;var n=t.materialize(t.SOURCE).source,r=e.resolve==="shared",i=e.field||ai,o=LAe(e.opacity,e),s=NAe(e.color,e),a=e.as||"image",l={$x:0,$y:0,$value:0,$max:r?Jd(n.map(u=>Jd(i(u).values))):0};return n.forEach(u=>{const c=i(u),f=Ze({},u,l);r||(f.$max=Jd(c.values||[])),u[a]=IAe(c,f,s.dep?s:li(s(f)),o.dep?o:li(o(f)))}),t.reflow(!0).modifies(a)}});function NAe(e,t){let n;return et(e)?(n=r=>hf(e(r,t)),n.dep=Yne(e)):n=li(hf(e||"#888")),n}function LAe(e,t){let n;return et(e)?(n=r=>e(r,t),n.dep=Yne(e)):e?n=li(e):(n=r=>r.$value/r.$max||0,n.dep=!0),n}function Yne(e){if(!et(e))return!1;const t=da(ri(e));return t.$x||t.$y||t.$value||t.$max}function IAe(e,t,n,r){const i=e.width,o=e.height,s=e.x1||0,a=e.y1||0,l=e.x2||i,u=e.y2||o,c=e.values,f=c?m=>c[m]:kc,d=Yc(l-s,u-a),h=d.getContext("2d"),p=h.getImageData(0,0,l-s,u-a),g=p.data;for(let m=a,y=0;m<u;++m){t.$y=m-a;for(let v=s,b=m*i;v<l;++v,y+=4){t.$x=v-s,t.$value=f(v+b);const x=n(t);g[y+0]=x.r,g[y+1]=x.g,g[y+2]=x.b,g[y+3]=~~(255*r(t))}}return h.putImageData(p,0,0),d}function Kne(e){J.call(this,null,e),this.modified(!0)}he(Kne,J,{transform(e,t){let n=this.value;return!n||e.modified("type")?(this.value=n=BAe(e.type),aF.forEach(r=>{e[r]!=null&&$j(n,r,e[r])})):aF.forEach(r=>{e.modified(r)&&$j(n,r,e[r])}),e.pointRadius!=null&&n.path.pointRadius(e.pointRadius),e.fit&&zAe(n,e),t.fork(t.NO_SOURCE|t.NO_FIELDS)}});function zAe(e,t){const n=jAe(t.fit);t.extent?e.fitExtent(t.extent,n):t.size&&e.fitSize(t.size,n)}function BAe(e){const t=lN((e||"mercator").toLowerCase());return t||ee("Unrecognized projection type: "+e),t()}function $j(e,t,n){et(e[t])&&e[t](n)}function jAe(e){return e=xe(e),e.length===1?e[0]:{type:dN,features:e.reduce((t,n)=>t.concat(UAe(n)),[])}}function UAe(e){return e.type===dN?e.features:xe(e).filter(t=>t!=null).map(t=>t.type===lF?t:{type:lF,geometry:t})}const VAe=Object.freeze(Object.defineProperty({__proto__:null,contour:fN,geojson:hN,geopath:pN,geopoint:gN,geoshape:mN,graticule:yN,heatmap:vN,isocontour:uN,kde2d:cN,projection:Kne},Symbol.toStringTag,{value:"Module"}));function WAe(e,t){var n,r=1;e==null&&(e=0),t==null&&(t=0);function i(){var o,s=n.length,a,l=0,u=0;for(o=0;o<s;++o)a=n[o],l+=a.x,u+=a.y;for(l=(l/s-e)*r,u=(u/s-t)*r,o=0;o<s;++o)a=n[o],a.x-=l,a.y-=u}return i.initialize=function(o){n=o},i.x=function(o){return arguments.length?(e=+o,i):e},i.y=function(o){return arguments.length?(t=+o,i):t},i.strength=function(o){return arguments.length?(r=+o,i):r},i}function HAe(e){const t=+this._x.call(null,e),n=+this._y.call(null,e);return Qne(this.cover(t,n),t,n,e)}function Qne(e,t,n,r){if(isNaN(t)||isNaN(n))return e;var i,o=e._root,s={data:r},a=e._x0,l=e._y0,u=e._x1,c=e._y1,f,d,h,p,g,m,y,v;if(!o)return e._root=s,e;for(;o.length;)if((g=t>=(f=(a+u)/2))?a=f:u=f,(m=n>=(d=(l+c)/2))?l=d:c=d,i=o,!(o=o[y=m<<1|g]))return i[y]=s,e;if(h=+e._x.call(null,o.data),p=+e._y.call(null,o.data),t===h&&n===p)return s.next=o,i?i[y]=s:e._root=s,e;do i=i?i[y]=new Array(4):e._root=new Array(4),(g=t>=(f=(a+u)/2))?a=f:u=f,(m=n>=(d=(l+c)/2))?l=d:c=d;while((y=m<<1|g)===(v=(p>=d)<<1|h>=f));return i[v]=o,i[y]=s,e}function qAe(e){var t,n,r=e.length,i,o,s=new Array(r),a=new Array(r),l=1/0,u=1/0,c=-1/0,f=-1/0;for(n=0;n<r;++n)isNaN(i=+this._x.call(null,t=e[n]))||isNaN(o=+this._y.call(null,t))||(s[n]=i,a[n]=o,i<l&&(l=i),i>c&&(c=i),o<u&&(u=o),o>f&&(f=o));if(l>c||u>f)return this;for(this.cover(l,u).cover(c,f),n=0;n<r;++n)Qne(this,s[n],a[n],e[n]);return this}function GAe(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var n=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(n))i=(n=Math.floor(e))+1,o=(r=Math.floor(t))+1;else{for(var s=i-n||1,a=this._root,l,u;n>e||e>=i||r>t||t>=o;)switch(u=(t<r)<<1|e<n,l=new Array(4),l[u]=a,a=l,s*=2,u){case 0:i=n+s,o=r+s;break;case 1:n=i-s,o=r+s;break;case 2:i=n+s,r=o-s;break;case 3:n=i-s,r=o-s;break}this._root&&this._root.length&&(this._root=a)}return this._x0=n,this._y0=r,this._x1=i,this._y1=o,this}function XAe(){var e=[];return this.visit(function(t){if(!t.length)do e.push(t.data);while(t=t.next)}),e}function YAe(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function ki(e,t,n,r,i){this.node=e,this.x0=t,this.y0=n,this.x1=r,this.y1=i}function KAe(e,t,n){var r,i=this._x0,o=this._y0,s,a,l,u,c=this._x1,f=this._y1,d=[],h=this._root,p,g;for(h&&d.push(new ki(h,i,o,c,f)),n==null?n=1/0:(i=e-n,o=t-n,c=e+n,f=t+n,n*=n);p=d.pop();)if(!(!(h=p.node)||(s=p.x0)>c||(a=p.y0)>f||(l=p.x1)<i||(u=p.y1)<o))if(h.length){var m=(s+l)/2,y=(a+u)/2;d.push(new ki(h[3],m,y,l,u),new ki(h[2],s,y,m,u),new ki(h[1],m,a,l,y),new ki(h[0],s,a,m,y)),(g=(t>=y)<<1|e>=m)&&(p=d[d.length-1],d[d.length-1]=d[d.length-1-g],d[d.length-1-g]=p)}else{var v=e-+this._x.call(null,h.data),b=t-+this._y.call(null,h.data),x=v*v+b*b;if(x<n){var w=Math.sqrt(n=x);i=e-w,o=t-w,c=e+w,f=t+w,r=h.data}}return r}function QAe(e){if(isNaN(c=+this._x.call(null,e))||isNaN(f=+this._y.call(null,e)))return this;var t,n=this._root,r,i,o,s=this._x0,a=this._y0,l=this._x1,u=this._y1,c,f,d,h,p,g,m,y;if(!n)return this;if(n.length)for(;;){if((p=c>=(d=(s+l)/2))?s=d:l=d,(g=f>=(h=(a+u)/2))?a=h:u=h,t=n,!(n=n[m=g<<1|p]))return this;if(!n.length)break;(t[m+1&3]||t[m+2&3]||t[m+3&3])&&(r=t,y=m)}for(;n.data!==e;)if(i=n,!(n=n.next))return this;return(o=n.next)&&delete n.next,i?(o?i.next=o:delete i.next,this):t?(o?t[m]=o:delete t[m],(n=t[0]||t[1]||t[2]||t[3])&&n===(t[3]||t[2]||t[1]||t[0])&&!n.length&&(r?r[y]=n:this._root=n),this):(this._root=o,this)}function JAe(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this}function ZAe(){return this._root}function e5e(){var e=0;return this.visit(function(t){if(!t.length)do++e;while(t=t.next)}),e}function t5e(e){var t=[],n,r=this._root,i,o,s,a,l;for(r&&t.push(new ki(r,this._x0,this._y0,this._x1,this._y1));n=t.pop();)if(!e(r=n.node,o=n.x0,s=n.y0,a=n.x1,l=n.y1)&&r.length){var u=(o+a)/2,c=(s+l)/2;(i=r[3])&&t.push(new ki(i,u,c,a,l)),(i=r[2])&&t.push(new ki(i,o,c,u,l)),(i=r[1])&&t.push(new ki(i,u,s,a,c)),(i=r[0])&&t.push(new ki(i,o,s,u,c))}return this}function n5e(e){var t=[],n=[],r;for(this._root&&t.push(new ki(this._root,this._x0,this._y0,this._x1,this._y1));r=t.pop();){var i=r.node;if(i.length){var o,s=r.x0,a=r.y0,l=r.x1,u=r.y1,c=(s+l)/2,f=(a+u)/2;(o=i[0])&&t.push(new ki(o,s,a,c,f)),(o=i[1])&&t.push(new ki(o,c,a,l,f)),(o=i[2])&&t.push(new ki(o,s,f,c,u)),(o=i[3])&&t.push(new ki(o,c,f,l,u))}n.push(r)}for(;r=n.pop();)e(r.node,r.x0,r.y0,r.x1,r.y1);return this}function r5e(e){return e[0]}function i5e(e){return arguments.length?(this._x=e,this):this._x}function o5e(e){return e[1]}function s5e(e){return arguments.length?(this._y=e,this):this._y}function bN(e,t,n){var r=new xN(t??r5e,n??o5e,NaN,NaN,NaN,NaN);return e==null?r:r.addAll(e)}function xN(e,t,n,r,i,o){this._x=e,this._y=t,this._x0=n,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function Aj(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}var Li=bN.prototype=xN.prototype;Li.copy=function(){var e=new xN(this._x,this._y,this._x0,this._y0,this._x1,this._y1),t=this._root,n,r;if(!t)return e;if(!t.length)return e._root=Aj(t),e;for(n=[{source:t,target:e._root=new Array(4)}];t=n.pop();)for(var i=0;i<4;++i)(r=t.source[i])&&(r.length?n.push({source:r,target:t.target[i]=new Array(4)}):t.target[i]=Aj(r));return e};Li.add=HAe;Li.addAll=qAe;Li.cover=GAe;Li.data=XAe;Li.extent=YAe;Li.find=KAe;Li.remove=QAe;Li.removeAll=JAe;Li.root=ZAe;Li.size=e5e;Li.visit=t5e;Li.visitAfter=n5e;Li.x=i5e;Li.y=s5e;function _i(e){return function(){return e}}function jc(e){return(e()-.5)*1e-6}function a5e(e){return e.x+e.vx}function l5e(e){return e.y+e.vy}function u5e(e){var t,n,r,i=1,o=1;typeof e!="function"&&(e=_i(e==null?1:+e));function s(){for(var u,c=t.length,f,d,h,p,g,m,y=0;y<o;++y)for(f=bN(t,a5e,l5e).visitAfter(a),u=0;u<c;++u)d=t[u],g=n[d.index],m=g*g,h=d.x+d.vx,p=d.y+d.vy,f.visit(v);function v(b,x,w,E,S){var k=b.data,$=b.r,F=g+$;if(k){if(k.index>d.index){var P=h-k.x-k.vx,j=p-k.y-k.vy,D=P*P+j*j;D<F*F&&(P===0&&(P=jc(r),D+=P*P),j===0&&(j=jc(r),D+=j*j),D=(F-(D=Math.sqrt(D)))/D*i,d.vx+=(P*=D)*(F=($*=$)/(m+$)),d.vy+=(j*=D)*F,k.vx-=P*(F=1-F),k.vy-=j*F)}return}return x>h+F||E<h-F||w>p+F||S<p-F}}function a(u){if(u.data)return u.r=n[u.data.index];for(var c=u.r=0;c<4;++c)u[c]&&u[c].r>u.r&&(u.r=u[c].r)}function l(){if(t){var u,c=t.length,f;for(n=new Array(c),u=0;u<c;++u)f=t[u],n[f.index]=+e(f,u,t)}}return s.initialize=function(u,c){t=u,r=c,l()},s.iterations=function(u){return arguments.length?(o=+u,s):o},s.strength=function(u){return arguments.length?(i=+u,s):i},s.radius=function(u){return arguments.length?(e=typeof u=="function"?u:_i(+u),l(),s):e},s}function c5e(e){return e.index}function Tj(e,t){var n=e.get(t);if(!n)throw new Error("node not found: "+t);return n}function f5e(e){var t=c5e,n=f,r,i=_i(30),o,s,a,l,u,c=1;e==null&&(e=[]);function f(m){return 1/Math.min(a[m.source.index],a[m.target.index])}function d(m){for(var y=0,v=e.length;y<c;++y)for(var b=0,x,w,E,S,k,$,F;b<v;++b)x=e[b],w=x.source,E=x.target,S=E.x+E.vx-w.x-w.vx||jc(u),k=E.y+E.vy-w.y-w.vy||jc(u),$=Math.sqrt(S*S+k*k),$=($-o[b])/$*m*r[b],S*=$,k*=$,E.vx-=S*(F=l[b]),E.vy-=k*F,w.vx+=S*(F=1-F),w.vy+=k*F}function h(){if(s){var m,y=s.length,v=e.length,b=new Map(s.map((w,E)=>[t(w,E,s),w])),x;for(m=0,a=new Array(y);m<v;++m)x=e[m],x.index=m,typeof x.source!="object"&&(x.source=Tj(b,x.source)),typeof x.target!="object"&&(x.target=Tj(b,x.target)),a[x.source.index]=(a[x.source.index]||0)+1,a[x.target.index]=(a[x.target.index]||0)+1;for(m=0,l=new Array(v);m<v;++m)x=e[m],l[m]=a[x.source.index]/(a[x.source.index]+a[x.target.index]);r=new Array(v),p(),o=new Array(v),g()}}function p(){if(s)for(var m=0,y=e.length;m<y;++m)r[m]=+n(e[m],m,e)}function g(){if(s)for(var m=0,y=e.length;m<y;++m)o[m]=+i(e[m],m,e)}return d.initialize=function(m,y){s=m,u=y,h()},d.links=function(m){return arguments.length?(e=m,h(),d):e},d.id=function(m){return arguments.length?(t=m,d):t},d.iterations=function(m){return arguments.length?(c=+m,d):c},d.strength=function(m){return arguments.length?(n=typeof m=="function"?m:_i(+m),p(),d):n},d.distance=function(m){return arguments.length?(i=typeof m=="function"?m:_i(+m),g(),d):i},d}var d5e={value:()=>{}};function Jne(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new oS(n)}function oS(e){this._=e}function h5e(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}oS.prototype=Jne.prototype={constructor:oS,on:function(e,t){var n=this._,r=h5e(e+"",n),i,o=-1,s=r.length;if(arguments.length<2){for(;++o<s;)if((i=(e=r[o]).type)&&(i=p5e(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++o<s;)if(i=(e=r[o]).type)n[i]=Rj(n[i],e.name,t);else if(t==null)for(i in n)n[i]=Rj(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new oS(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=this._[e],r=0,i=o.length;r<i;++r)o[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,o=r.length;i<o;++i)r[i].value.apply(t,n)}};function p5e(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function Rj(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=d5e,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var Om=0,m1=0,Cy=0,Zne=1e3,oE,y1,sE=0,Ch=0,R_=0,Mv=typeof performance=="object"&&performance.now?performance:Date,ere=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function wN(){return Ch||(ere(g5e),Ch=Mv.now()+R_)}function g5e(){Ch=0}function aE(){this._call=this._time=this._next=null}aE.prototype=tre.prototype={constructor:aE,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?wN():+n)+(t==null?0:+t),!this._next&&y1!==this&&(y1?y1._next=this:oE=this,y1=this),this._call=e,this._time=n,uF()},stop:function(){this._call&&(this._call=null,this._time=1/0,uF())}};function tre(e,t,n){var r=new aE;return r.restart(e,t,n),r}function m5e(){wN(),++Om;for(var e=oE,t;e;)(t=Ch-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Om}function Fj(){Ch=(sE=Mv.now())+R_,Om=m1=0;try{m5e()}finally{Om=0,v5e(),Ch=0}}function y5e(){var e=Mv.now(),t=e-sE;t>Zne&&(R_-=t,sE=e)}function v5e(){for(var e,t=oE,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:oE=n);y1=e,uF(r)}function uF(e){if(!Om){m1&&(m1=clearTimeout(m1));var t=e-Ch;t>24?(e<1/0&&(m1=setTimeout(Fj,e-Mv.now()-R_)),Cy&&(Cy=clearInterval(Cy))):(Cy||(sE=Mv.now(),Cy=setInterval(y5e,Zne)),Om=1,ere(Fj))}}function b5e(e,t,n){var r=new aE,i=t;return t==null?(r.restart(e,t,n),r):(r._restart=r.restart,r.restart=function(o,s,a){s=+s,a=a==null?wN():+a,r._restart(function l(u){u+=i,r._restart(l,i+=s,a),o(u)},s,a)},r.restart(e,t,n),r)}const x5e=1664525,w5e=1013904223,Oj=4294967296;function S5e(){let e=1;return()=>(e=(x5e*e+w5e)%Oj)/Oj}function C5e(e){return e.x}function E5e(e){return e.y}var k5e=10,_5e=Math.PI*(3-Math.sqrt(5));function $5e(e){var t,n=1,r=.001,i=1-Math.pow(r,1/300),o=0,s=.6,a=new Map,l=tre(f),u=Jne("tick","end"),c=S5e();e==null&&(e=[]);function f(){d(),u.call("tick",t),n<r&&(l.stop(),u.call("end",t))}function d(g){var m,y=e.length,v;g===void 0&&(g=1);for(var b=0;b<g;++b)for(n+=(o-n)*i,a.forEach(function(x){x(n)}),m=0;m<y;++m)v=e[m],v.fx==null?v.x+=v.vx*=s:(v.x=v.fx,v.vx=0),v.fy==null?v.y+=v.vy*=s:(v.y=v.fy,v.vy=0);return t}function h(){for(var g=0,m=e.length,y;g<m;++g){if(y=e[g],y.index=g,y.fx!=null&&(y.x=y.fx),y.fy!=null&&(y.y=y.fy),isNaN(y.x)||isNaN(y.y)){var v=k5e*Math.sqrt(.5+g),b=g*_5e;y.x=v*Math.cos(b),y.y=v*Math.sin(b)}(isNaN(y.vx)||isNaN(y.vy))&&(y.vx=y.vy=0)}}function p(g){return g.initialize&&g.initialize(e,c),g}return h(),t={tick:d,restart:function(){return l.restart(f),t},stop:function(){return l.stop(),t},nodes:function(g){return arguments.length?(e=g,h(),a.forEach(p),t):e},alpha:function(g){return arguments.length?(n=+g,t):n},alphaMin:function(g){return arguments.length?(r=+g,t):r},alphaDecay:function(g){return arguments.length?(i=+g,t):+i},alphaTarget:function(g){return arguments.length?(o=+g,t):o},velocityDecay:function(g){return arguments.length?(s=1-g,t):1-s},randomSource:function(g){return arguments.length?(c=g,a.forEach(p),t):c},force:function(g,m){return arguments.length>1?(m==null?a.delete(g):a.set(g,p(m)),t):a.get(g)},find:function(g,m,y){var v=0,b=e.length,x,w,E,S,k;for(y==null?y=1/0:y*=y,v=0;v<b;++v)S=e[v],x=g-S.x,w=m-S.y,E=x*x+w*w,E<y&&(k=S,y=E);return k},on:function(g,m){return arguments.length>1?(u.on(g,m),t):u.on(g)}}}function A5e(){var e,t,n,r,i=_i(-30),o,s=1,a=1/0,l=.81;function u(h){var p,g=e.length,m=bN(e,C5e,E5e).visitAfter(f);for(r=h,p=0;p<g;++p)t=e[p],m.visit(d)}function c(){if(e){var h,p=e.length,g;for(o=new Array(p),h=0;h<p;++h)g=e[h],o[g.index]=+i(g,h,e)}}function f(h){var p=0,g,m,y=0,v,b,x;if(h.length){for(v=b=x=0;x<4;++x)(g=h[x])&&(m=Math.abs(g.value))&&(p+=g.value,y+=m,v+=m*g.x,b+=m*g.y);h.x=v/y,h.y=b/y}else{g=h,g.x=g.data.x,g.y=g.data.y;do p+=o[g.data.index];while(g=g.next)}h.value=p}function d(h,p,g,m){if(!h.value)return!0;var y=h.x-t.x,v=h.y-t.y,b=m-p,x=y*y+v*v;if(b*b/l<x)return x<a&&(y===0&&(y=jc(n),x+=y*y),v===0&&(v=jc(n),x+=v*v),x<s&&(x=Math.sqrt(s*x)),t.vx+=y*h.value*r/x,t.vy+=v*h.value*r/x),!0;if(h.length||x>=a)return;(h.data!==t||h.next)&&(y===0&&(y=jc(n),x+=y*y),v===0&&(v=jc(n),x+=v*v),x<s&&(x=Math.sqrt(s*x)));do h.data!==t&&(b=o[h.data.index]*r/x,t.vx+=y*b,t.vy+=v*b);while(h=h.next)}return u.initialize=function(h,p){e=h,n=p,c()},u.strength=function(h){return arguments.length?(i=typeof h=="function"?h:_i(+h),c(),u):i},u.distanceMin=function(h){return arguments.length?(s=h*h,u):Math.sqrt(s)},u.distanceMax=function(h){return arguments.length?(a=h*h,u):Math.sqrt(a)},u.theta=function(h){return arguments.length?(l=h*h,u):Math.sqrt(l)},u}function T5e(e){var t=_i(.1),n,r,i;typeof e!="function"&&(e=_i(e==null?0:+e));function o(a){for(var l=0,u=n.length,c;l<u;++l)c=n[l],c.vx+=(i[l]-c.x)*r[l]*a}function s(){if(n){var a,l=n.length;for(r=new Array(l),i=new Array(l),a=0;a<l;++a)r[a]=isNaN(i[a]=+e(n[a],a,n))?0:+t(n[a],a,n)}}return o.initialize=function(a){n=a,s()},o.strength=function(a){return arguments.length?(t=typeof a=="function"?a:_i(+a),s(),o):t},o.x=function(a){return arguments.length?(e=typeof a=="function"?a:_i(+a),s(),o):e},o}function R5e(e){var t=_i(.1),n,r,i;typeof e!="function"&&(e=_i(e==null?0:+e));function o(a){for(var l=0,u=n.length,c;l<u;++l)c=n[l],c.vy+=(i[l]-c.y)*r[l]*a}function s(){if(n){var a,l=n.length;for(r=new Array(l),i=new Array(l),a=0;a<l;++a)r[a]=isNaN(i[a]=+e(n[a],a,n))?0:+t(n[a],a,n)}}return o.initialize=function(a){n=a,s()},o.strength=function(a){return arguments.length?(t=typeof a=="function"?a:_i(+a),s(),o):t},o.y=function(a){return arguments.length?(e=typeof a=="function"?a:_i(+a),s(),o):e},o}const Pj={center:WAe,collide:u5e,nbody:A5e,link:f5e,x:T5e,y:R5e},v1="forces",cF=["alpha","alphaMin","alphaTarget","velocityDecay","forces"],F5e=["static","iterations"],nre=["x","y","vx","vy"];function SN(e){J.call(this,null,e)}SN.Definition={type:"Force",metadata:{modifies:!0},params:[{name:"static",type:"boolean",default:!1},{name:"restart",type:"boolean",default:!1},{name:"iterations",type:"number",default:300},{name:"alpha",type:"number",default:1},{name:"alphaMin",type:"number",default:.001},{name:"alphaTarget",type:"number",default:0},{name:"velocityDecay",type:"number",default:.4},{name:"forces",type:"param",array:!0,params:[{key:{force:"center"},params:[{name:"x",type:"number",default:0},{name:"y",type:"number",default:0}]},{key:{force:"collide"},params:[{name:"radius",type:"number",expr:!0},{name:"strength",type:"number",default:.7},{name:"iterations",type:"number",default:1}]},{key:{force:"nbody"},params:[{name:"strength",type:"number",default:-30,expr:!0},{name:"theta",type:"number",default:.9},{name:"distanceMin",type:"number",default:1},{name:"distanceMax",type:"number"}]},{key:{force:"link"},params:[{name:"links",type:"data"},{name:"id",type:"field"},{name:"distance",type:"number",default:30,expr:!0},{name:"strength",type:"number",expr:!0},{name:"iterations",type:"number",default:1}]},{key:{force:"x"},params:[{name:"strength",type:"number",default:.1},{name:"x",type:"field"}]},{key:{force:"y"},params:[{name:"strength",type:"number",default:.1},{name:"y",type:"field"}]}]},{name:"as",type:"string",array:!0,modify:!1,default:nre}]};he(SN,J,{transform(e,t){var n=this.value,r=t.changed(t.ADD_REM),i=e.modified(cF),o=e.iterations||300;if(n?(r&&(t.modifies("index"),n.nodes(t.source)),(i||t.changed(t.MOD))&&rre(n,e,0,t)):(this.value=n=P5e(t.source,e),n.on("tick",O5e(t.dataflow,this)),e.static||(r=!0,n.tick()),t.modifies("index")),i||r||e.modified(F5e)||t.changed()&&e.restart){if(n.alpha(Math.max(n.alpha(),e.alpha||1)).alphaDecay(1-Math.pow(n.alphaMin(),1/o)),e.static)for(n.stop();--o>=0;)n.tick();else if(n.stopped()&&n.restart(),!r)return t.StopPropagation}return this.finish(e,t)},finish(e,t){const n=t.dataflow;for(let a=this._argops,l=0,u=a.length,c;l<u;++l)if(c=a[l],!(c.name!==v1||c.op._argval.force!=="link")){for(var r=c.op._argops,i=0,o=r.length,s;i<o;++i)if(r[i].name==="links"&&(s=r[i].op.source)){n.pulse(s,n.changeset().reflow());break}}return t.reflow(e.modified()).modifies(nre)}});function O5e(e,t){return()=>e.touch(t).run()}function P5e(e,t){const n=$5e(e),r=n.stop,i=n.restart;let o=!1;return n.stopped=()=>o,n.restart=()=>(o=!1,i()),n.stop=()=>(o=!0,r()),rre(n,t,!0).on("end",()=>o=!0)}function rre(e,t,n,r){var i=xe(t.forces),o,s,a,l;for(o=0,s=cF.length;o<s;++o)a=cF[o],a!==v1&&t.modified(a)&&e[a](t[a]);for(o=0,s=i.length;o<s;++o)l=v1+o,a=n||t.modified(v1,o)?M5e(i[o]):r&&D5e(i[o],r)?e.force(l):null,a&&e.force(l,a);for(s=e.numForces||0;o<s;++o)e.force(v1+o,null);return e.numForces=i.length,e}function D5e(e,t){var n,r;for(n in e)if(et(r=e[n])&&t.modified(ri(r)))return 1;return 0}function M5e(e){var t,n;Se(Pj,e.force)||ee("Unrecognized force: "+e.force),t=Pj[e.force]();for(n in e)et(t[n])&&N5e(t[n],e[n],e);return t}function N5e(e,t,n){e(et(t)?r=>t(r,n):t)}const L5e=Object.freeze(Object.defineProperty({__proto__:null,force:SN},Symbol.toStringTag,{value:"Module"}));function I5e(e,t){return e.parent===t.parent?1:2}function z5e(e){return e.reduce(B5e,0)/e.length}function B5e(e,t){return e+t.x}function j5e(e){return 1+e.reduce(U5e,0)}function U5e(e,t){return Math.max(e,t.y)}function V5e(e){for(var t;t=e.children;)e=t[0];return e}function W5e(e){for(var t;t=e.children;)e=t[t.length-1];return e}function H5e(){var e=I5e,t=1,n=1,r=!1;function i(o){var s,a=0;o.eachAfter(function(d){var h=d.children;h?(d.x=z5e(h),d.y=j5e(h)):(d.x=s?a+=e(d,s):0,d.y=0,s=d)});var l=V5e(o),u=W5e(o),c=l.x-e(l,u)/2,f=u.x+e(u,l)/2;return o.eachAfter(r?function(d){d.x=(d.x-o.x)*t,d.y=(o.y-d.y)*n}:function(d){d.x=(d.x-c)/(f-c)*t,d.y=(1-(o.y?d.y/o.y:1))*n})}return i.separation=function(o){return arguments.length?(e=o,i):e},i.size=function(o){return arguments.length?(r=!1,t=+o[0],n=+o[1],i):r?null:[t,n]},i.nodeSize=function(o){return arguments.length?(r=!0,t=+o[0],n=+o[1],i):r?[t,n]:null},i}function q5e(e){var t=0,n=e.children,r=n&&n.length;if(!r)t=1;else for(;--r>=0;)t+=n[r].value;e.value=t}function G5e(){return this.eachAfter(q5e)}function X5e(e,t){let n=-1;for(const r of this)e.call(t,r,++n,this);return this}function Y5e(e,t){for(var n=this,r=[n],i,o,s=-1;n=r.pop();)if(e.call(t,n,++s,this),i=n.children)for(o=i.length-1;o>=0;--o)r.push(i[o]);return this}function K5e(e,t){for(var n=this,r=[n],i=[],o,s,a,l=-1;n=r.pop();)if(i.push(n),o=n.children)for(s=0,a=o.length;s<a;++s)r.push(o[s]);for(;n=i.pop();)e.call(t,n,++l,this);return this}function Q5e(e,t){let n=-1;for(const r of this)if(e.call(t,r,++n,this))return r}function J5e(e){return this.eachAfter(function(t){for(var n=+e(t.data)||0,r=t.children,i=r&&r.length;--i>=0;)n+=r[i].value;t.value=n})}function Z5e(e){return this.eachBefore(function(t){t.children&&t.children.sort(e)})}function eTe(e){for(var t=this,n=tTe(t,e),r=[t];t!==n;)t=t.parent,r.push(t);for(var i=r.length;e!==n;)r.splice(i,0,e),e=e.parent;return r}function tTe(e,t){if(e===t)return e;var n=e.ancestors(),r=t.ancestors(),i=null;for(e=n.pop(),t=r.pop();e===t;)i=e,e=n.pop(),t=r.pop();return i}function nTe(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t}function rTe(){return Array.from(this)}function iTe(){var e=[];return this.eachBefore(function(t){t.children||e.push(t)}),e}function oTe(){var e=this,t=[];return e.each(function(n){n!==e&&t.push({source:n.parent,target:n})}),t}function*sTe(){var e=this,t,n=[e],r,i,o;do for(t=n.reverse(),n=[];e=t.pop();)if(yield e,r=e.children)for(i=0,o=r.length;i<o;++i)n.push(r[i]);while(n.length)}function CN(e,t){e instanceof Map?(e=[void 0,e],t===void 0&&(t=uTe)):t===void 0&&(t=lTe);for(var n=new Pm(e),r,i=[n],o,s,a,l;r=i.pop();)if((s=t(r.data))&&(l=(s=Array.from(s)).length))for(r.children=s,a=l-1;a>=0;--a)i.push(o=s[a]=new Pm(s[a])),o.parent=r,o.depth=r.depth+1;return n.eachBefore(ire)}function aTe(){return CN(this).eachBefore(cTe)}function lTe(e){return e.children}function uTe(e){return Array.isArray(e)?e[1]:null}function cTe(e){e.data.value!==void 0&&(e.value=e.data.value),e.data=e.data.data}function ire(e){var t=0;do e.height=t;while((e=e.parent)&&e.height<++t)}function Pm(e){this.data=e,this.depth=this.height=0,this.parent=null}Pm.prototype=CN.prototype={constructor:Pm,count:G5e,each:X5e,eachAfter:K5e,eachBefore:Y5e,find:Q5e,sum:J5e,sort:Z5e,path:eTe,ancestors:nTe,descendants:rTe,leaves:iTe,links:oTe,copy:aTe,[Symbol.iterator]:sTe};function sS(e){return e==null?null:ore(e)}function ore(e){if(typeof e!="function")throw new Error;return e}function Fd(){return 0}function Zp(e){return function(){return e}}const fTe=1664525,dTe=1013904223,Dj=4294967296;function hTe(){let e=1;return()=>(e=(fTe*e+dTe)%Dj)/Dj}function pTe(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function gTe(e,t){let n=e.length,r,i;for(;n;)i=t()*n--|0,r=e[n],e[n]=e[i],e[i]=r;return e}function mTe(e,t){for(var n=0,r=(e=gTe(Array.from(e),t)).length,i=[],o,s;n<r;)o=e[n],s&&sre(s,o)?++n:(s=vTe(i=yTe(i,o)),n=0);return s}function yTe(e,t){var n,r;if(AT(t,e))return[t];for(n=0;n<e.length;++n)if(B2(t,e[n])&&AT(b1(e[n],t),e))return[e[n],t];for(n=0;n<e.length-1;++n)for(r=n+1;r<e.length;++r)if(B2(b1(e[n],e[r]),t)&&B2(b1(e[n],t),e[r])&&B2(b1(e[r],t),e[n])&&AT(are(e[n],e[r],t),e))return[e[n],e[r],t];throw new Error}function B2(e,t){var n=e.r-t.r,r=t.x-e.x,i=t.y-e.y;return n<0||n*n<r*r+i*i}function sre(e,t){var n=e.r-t.r+Math.max(e.r,t.r,1)*1e-9,r=t.x-e.x,i=t.y-e.y;return n>0&&n*n>r*r+i*i}function AT(e,t){for(var n=0;n<t.length;++n)if(!sre(e,t[n]))return!1;return!0}function vTe(e){switch(e.length){case 1:return bTe(e[0]);case 2:return b1(e[0],e[1]);case 3:return are(e[0],e[1],e[2])}}function bTe(e){return{x:e.x,y:e.y,r:e.r}}function b1(e,t){var n=e.x,r=e.y,i=e.r,o=t.x,s=t.y,a=t.r,l=o-n,u=s-r,c=a-i,f=Math.sqrt(l*l+u*u);return{x:(n+o+l/f*c)/2,y:(r+s+u/f*c)/2,r:(f+i+a)/2}}function are(e,t,n){var r=e.x,i=e.y,o=e.r,s=t.x,a=t.y,l=t.r,u=n.x,c=n.y,f=n.r,d=r-s,h=r-u,p=i-a,g=i-c,m=l-o,y=f-o,v=r*r+i*i-o*o,b=v-s*s-a*a+l*l,x=v-u*u-c*c+f*f,w=h*p-d*g,E=(p*x-g*b)/(w*2)-r,S=(g*m-p*y)/w,k=(h*b-d*x)/(w*2)-i,$=(d*y-h*m)/w,F=S*S+$*$-1,P=2*(o+E*S+k*$),j=E*E+k*k-o*o,D=-(Math.abs(F)>1e-6?(P+Math.sqrt(P*P-4*F*j))/(2*F):j/P);return{x:r+E+S*D,y:i+k+$*D,r:D}}function Mj(e,t,n){var r=e.x-t.x,i,o,s=e.y-t.y,a,l,u=r*r+s*s;u?(o=t.r+n.r,o*=o,l=e.r+n.r,l*=l,o>l?(i=(u+l-o)/(2*u),a=Math.sqrt(Math.max(0,l/u-i*i)),n.x=e.x-i*r-a*s,n.y=e.y-i*s+a*r):(i=(u+o-l)/(2*u),a=Math.sqrt(Math.max(0,o/u-i*i)),n.x=t.x+i*r-a*s,n.y=t.y+i*s+a*r)):(n.x=t.x+n.r,n.y=t.y)}function Nj(e,t){var n=e.r+t.r-1e-6,r=t.x-e.x,i=t.y-e.y;return n>0&&n*n>r*r+i*i}function Lj(e){var t=e._,n=e.next._,r=t.r+n.r,i=(t.x*n.r+n.x*t.r)/r,o=(t.y*n.r+n.y*t.r)/r;return i*i+o*o}function j2(e){this._=e,this.next=null,this.previous=null}function xTe(e,t){if(!(o=(e=pTe(e)).length))return 0;var n,r,i,o,s,a,l,u,c,f,d;if(n=e[0],n.x=0,n.y=0,!(o>1))return n.r;if(r=e[1],n.x=-r.r,r.x=n.r,r.y=0,!(o>2))return n.r+r.r;Mj(r,n,i=e[2]),n=new j2(n),r=new j2(r),i=new j2(i),n.next=i.previous=r,r.next=n.previous=i,i.next=r.previous=n;e:for(l=3;l<o;++l){Mj(n._,r._,i=e[l]),i=new j2(i),u=r.next,c=n.previous,f=r._.r,d=n._.r;do if(f<=d){if(Nj(u._,i._)){r=u,n.next=r,r.previous=n,--l;continue e}f+=u._.r,u=u.next}else{if(Nj(c._,i._)){n=c,n.next=r,r.previous=n,--l;continue e}d+=c._.r,c=c.previous}while(u!==c.next);for(i.previous=n,i.next=r,n.next=r.previous=r=i,s=Lj(n);(i=i.next)!==r;)(a=Lj(i))<s&&(n=i,s=a);r=n.next}for(n=[r._],i=r;(i=i.next)!==r;)n.push(i._);for(i=mTe(n,t),l=0;l<o;++l)n=e[l],n.x-=i.x,n.y-=i.y;return i.r}function wTe(e){return Math.sqrt(e.value)}function STe(){var e=null,t=1,n=1,r=Fd;function i(o){const s=hTe();return o.x=t/2,o.y=n/2,e?o.eachBefore(Ij(e)).eachAfter(TT(r,.5,s)).eachBefore(zj(1)):o.eachBefore(Ij(wTe)).eachAfter(TT(Fd,1,s)).eachAfter(TT(r,o.r/Math.min(t,n),s)).eachBefore(zj(Math.min(t,n)/(2*o.r))),o}return i.radius=function(o){return arguments.length?(e=sS(o),i):e},i.size=function(o){return arguments.length?(t=+o[0],n=+o[1],i):[t,n]},i.padding=function(o){return arguments.length?(r=typeof o=="function"?o:Zp(+o),i):r},i}function Ij(e){return function(t){t.children||(t.r=Math.max(0,+e(t)||0))}}function TT(e,t,n){return function(r){if(i=r.children){var i,o,s=i.length,a=e(r)*t||0,l;if(a)for(o=0;o<s;++o)i[o].r+=a;if(l=xTe(i,n),a)for(o=0;o<s;++o)i[o].r-=a;r.r=l+a}}}function zj(e){return function(t){var n=t.parent;t.r*=e,n&&(t.x=n.x+e*t.x,t.y=n.y+e*t.y)}}function lre(e){e.x0=Math.round(e.x0),e.y0=Math.round(e.y0),e.x1=Math.round(e.x1),e.y1=Math.round(e.y1)}function cx(e,t,n,r,i){for(var o=e.children,s,a=-1,l=o.length,u=e.value&&(r-t)/e.value;++a<l;)s=o[a],s.y0=n,s.y1=i,s.x0=t,s.x1=t+=s.value*u}function CTe(){var e=1,t=1,n=0,r=!1;function i(s){var a=s.height+1;return s.x0=s.y0=n,s.x1=e,s.y1=t/a,s.eachBefore(o(t,a)),r&&s.eachBefore(lre),s}function o(s,a){return function(l){l.children&&cx(l,l.x0,s*(l.depth+1)/a,l.x1,s*(l.depth+2)/a);var u=l.x0,c=l.y0,f=l.x1-n,d=l.y1-n;f<u&&(u=f=(u+f)/2),d<c&&(c=d=(c+d)/2),l.x0=u,l.y0=c,l.x1=f,l.y1=d}}return i.round=function(s){return arguments.length?(r=!!s,i):r},i.size=function(s){return arguments.length?(e=+s[0],t=+s[1],i):[e,t]},i.padding=function(s){return arguments.length?(n=+s,i):n},i}var ETe={depth:-1},Bj={},RT={};function kTe(e){return e.id}function _Te(e){return e.parentId}function jj(){var e=kTe,t=_Te,n;function r(i){var o=Array.from(i),s=e,a=t,l,u,c,f,d,h,p,g,m=new Map;if(n!=null){const y=o.map((x,w)=>$Te(n(x,w,i))),v=y.map(Uj),b=new Set(y).add("");for(const x of v)b.has(x)||(b.add(x),y.push(x),v.push(Uj(x)),o.push(RT));s=(x,w)=>y[w],a=(x,w)=>v[w]}for(c=0,l=o.length;c<l;++c)u=o[c],h=o[c]=new Pm(u),(p=s(u,c,i))!=null&&(p+="")&&(g=h.id=p,m.set(g,m.has(g)?Bj:h)),(p=a(u,c,i))!=null&&(p+="")&&(h.parent=p);for(c=0;c<l;++c)if(h=o[c],p=h.parent){if(d=m.get(p),!d)throw new Error("missing: "+p);if(d===Bj)throw new Error("ambiguous: "+p);d.children?d.children.push(h):d.children=[h],h.parent=d}else{if(f)throw new Error("multiple roots");f=h}if(!f)throw new Error("no root");if(n!=null){for(;f.data===RT&&f.children.length===1;)f=f.children[0],--l;for(let y=o.length-1;y>=0&&(h=o[y],h.data===RT);--y)h.data=null}if(f.parent=ETe,f.eachBefore(function(y){y.depth=y.parent.depth+1,--l}).eachBefore(ire),f.parent=null,l>0)throw new Error("cycle");return f}return r.id=function(i){return arguments.length?(e=sS(i),r):e},r.parentId=function(i){return arguments.length?(t=sS(i),r):t},r.path=function(i){return arguments.length?(n=sS(i),r):n},r}function $Te(e){e=`${e}`;let t=e.length;return fF(e,t-1)&&!fF(e,t-2)&&(e=e.slice(0,-1)),e[0]==="/"?e:`/${e}`}function Uj(e){let t=e.length;if(t<2)return"";for(;--t>1&&!fF(e,t););return e.slice(0,t)}function fF(e,t){if(e[t]==="/"){let n=0;for(;t>0&&e[--t]==="\\";)++n;if(!(n&1))return!0}return!1}function ATe(e,t){return e.parent===t.parent?1:2}function FT(e){var t=e.children;return t?t[0]:e.t}function OT(e){var t=e.children;return t?t[t.length-1]:e.t}function TTe(e,t,n){var r=n/(t.i-e.i);t.c-=r,t.s+=n,e.c+=r,t.z+=n,t.m+=n}function RTe(e){for(var t=0,n=0,r=e.children,i=r.length,o;--i>=0;)o=r[i],o.z+=t,o.m+=t,t+=o.s+(n+=o.c)}function FTe(e,t,n){return e.a.parent===t.parent?e.a:n}function aS(e,t){this._=e,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=t}aS.prototype=Object.create(Pm.prototype);function OTe(e){for(var t=new aS(e,0),n,r=[t],i,o,s,a;n=r.pop();)if(o=n._.children)for(n.children=new Array(a=o.length),s=a-1;s>=0;--s)r.push(i=n.children[s]=new aS(o[s],s)),i.parent=n;return(t.parent=new aS(null,0)).children=[t],t}function PTe(){var e=ATe,t=1,n=1,r=null;function i(u){var c=OTe(u);if(c.eachAfter(o),c.parent.m=-c.z,c.eachBefore(s),r)u.eachBefore(l);else{var f=u,d=u,h=u;u.eachBefore(function(v){v.x<f.x&&(f=v),v.x>d.x&&(d=v),v.depth>h.depth&&(h=v)});var p=f===d?1:e(f,d)/2,g=p-f.x,m=t/(d.x+p+g),y=n/(h.depth||1);u.eachBefore(function(v){v.x=(v.x+g)*m,v.y=v.depth*y})}return u}function o(u){var c=u.children,f=u.parent.children,d=u.i?f[u.i-1]:null;if(c){RTe(u);var h=(c[0].z+c[c.length-1].z)/2;d?(u.z=d.z+e(u._,d._),u.m=u.z-h):u.z=h}else d&&(u.z=d.z+e(u._,d._));u.parent.A=a(u,d,u.parent.A||f[0])}function s(u){u._.x=u.z+u.parent.m,u.m+=u.parent.m}function a(u,c,f){if(c){for(var d=u,h=u,p=c,g=d.parent.children[0],m=d.m,y=h.m,v=p.m,b=g.m,x;p=OT(p),d=FT(d),p&&d;)g=FT(g),h=OT(h),h.a=u,x=p.z+v-d.z-m+e(p._,d._),x>0&&(TTe(FTe(p,u,f),u,x),m+=x,y+=x),v+=p.m,m+=d.m,b+=g.m,y+=h.m;p&&!OT(h)&&(h.t=p,h.m+=v-y),d&&!FT(g)&&(g.t=d,g.m+=m-b,f=u)}return f}function l(u){u.x*=t,u.y=u.depth*n}return i.separation=function(u){return arguments.length?(e=u,i):e},i.size=function(u){return arguments.length?(r=!1,t=+u[0],n=+u[1],i):r?null:[t,n]},i.nodeSize=function(u){return arguments.length?(r=!0,t=+u[0],n=+u[1],i):r?[t,n]:null},i}function F_(e,t,n,r,i){for(var o=e.children,s,a=-1,l=o.length,u=e.value&&(i-n)/e.value;++a<l;)s=o[a],s.x0=t,s.x1=r,s.y0=n,s.y1=n+=s.value*u}var ure=(1+Math.sqrt(5))/2;function cre(e,t,n,r,i,o){for(var s=[],a=t.children,l,u,c=0,f=0,d=a.length,h,p,g=t.value,m,y,v,b,x,w,E;c<d;){h=i-n,p=o-r;do m=a[f++].value;while(!m&&f<d);for(y=v=m,w=Math.max(p/h,h/p)/(g*e),E=m*m*w,x=Math.max(v/E,E/y);f<d;++f){if(m+=u=a[f].value,u<y&&(y=u),u>v&&(v=u),E=m*m*w,b=Math.max(v/E,E/y),b>x){m-=u;break}x=b}s.push(l={value:m,dice:h<p,children:a.slice(c,f)}),l.dice?cx(l,n,r,i,g?r+=p*m/g:o):F_(l,n,r,g?n+=h*m/g:i,o),g-=m,c=f}return s}const fre=function e(t){function n(r,i,o,s,a){cre(t,r,i,o,s,a)}return n.ratio=function(r){return e((r=+r)>1?r:1)},n}(ure);function DTe(){var e=fre,t=!1,n=1,r=1,i=[0],o=Fd,s=Fd,a=Fd,l=Fd,u=Fd;function c(d){return d.x0=d.y0=0,d.x1=n,d.y1=r,d.eachBefore(f),i=[0],t&&d.eachBefore(lre),d}function f(d){var h=i[d.depth],p=d.x0+h,g=d.y0+h,m=d.x1-h,y=d.y1-h;m<p&&(p=m=(p+m)/2),y<g&&(g=y=(g+y)/2),d.x0=p,d.y0=g,d.x1=m,d.y1=y,d.children&&(h=i[d.depth+1]=o(d)/2,p+=u(d)-h,g+=s(d)-h,m-=a(d)-h,y-=l(d)-h,m<p&&(p=m=(p+m)/2),y<g&&(g=y=(g+y)/2),e(d,p,g,m,y))}return c.round=function(d){return arguments.length?(t=!!d,c):t},c.size=function(d){return arguments.length?(n=+d[0],r=+d[1],c):[n,r]},c.tile=function(d){return arguments.length?(e=ore(d),c):e},c.padding=function(d){return arguments.length?c.paddingInner(d).paddingOuter(d):c.paddingInner()},c.paddingInner=function(d){return arguments.length?(o=typeof d=="function"?d:Zp(+d),c):o},c.paddingOuter=function(d){return arguments.length?c.paddingTop(d).paddingRight(d).paddingBottom(d).paddingLeft(d):c.paddingTop()},c.paddingTop=function(d){return arguments.length?(s=typeof d=="function"?d:Zp(+d),c):s},c.paddingRight=function(d){return arguments.length?(a=typeof d=="function"?d:Zp(+d),c):a},c.paddingBottom=function(d){return arguments.length?(l=typeof d=="function"?d:Zp(+d),c):l},c.paddingLeft=function(d){return arguments.length?(u=typeof d=="function"?d:Zp(+d),c):u},c}function MTe(e,t,n,r,i){var o=e.children,s,a=o.length,l,u=new Array(a+1);for(u[0]=l=s=0;s<a;++s)u[s+1]=l+=o[s].value;c(0,a,e.value,t,n,r,i);function c(f,d,h,p,g,m,y){if(f>=d-1){var v=o[f];v.x0=p,v.y0=g,v.x1=m,v.y1=y;return}for(var b=u[f],x=h/2+b,w=f+1,E=d-1;w<E;){var S=w+E>>>1;u[S]<x?w=S+1:E=S}x-u[w-1]<u[w]-x&&f+1<w&&--w;var k=u[w]-b,$=h-k;if(m-p>y-g){var F=h?(p*$+m*k)/h:m;c(f,w,k,p,g,F,y),c(w,d,$,F,g,m,y)}else{var P=h?(g*$+y*k)/h:y;c(f,w,k,p,g,m,P),c(w,d,$,p,P,m,y)}}}function NTe(e,t,n,r,i){(e.depth&1?F_:cx)(e,t,n,r,i)}const LTe=function e(t){function n(r,i,o,s,a){if((l=r._squarify)&&l.ratio===t)for(var l,u,c,f,d=-1,h,p=l.length,g=r.value;++d<p;){for(u=l[d],c=u.children,f=u.value=0,h=c.length;f<h;++f)u.value+=c[f].value;u.dice?cx(u,i,o,s,g?o+=(a-o)*u.value/g:a):F_(u,i,o,g?i+=(s-i)*u.value/g:s,a),g-=u.value}else r._squarify=l=cre(t,r,i,o,s,a),l.ratio=t}return n.ratio=function(r){return e((r=+r)>1?r:1)},n}(ure);function dF(e,t,n){const r={};return e.each(i=>{const o=i.data;n(o)&&(r[t(o)]=i)}),e.lookup=r,e}function EN(e){J.call(this,null,e)}EN.Definition={type:"Nest",metadata:{treesource:!0,changes:!0},params:[{name:"keys",type:"field",array:!0},{name:"generate",type:"boolean"}]};const ITe=e=>e.values;he(EN,J,{transform(e,t){t.source||ee("Nest transform requires an upstream data source.");var n=e.generate,r=e.modified(),i=t.clone(),o=this.value;return(!o||r||t.changed())&&(o&&o.each(s=>{s.children&&Hk(s.data)&&i.rem.push(s.data)}),this.value=o=CN({values:xe(e.keys).reduce((s,a)=>(s.key(a),s),zTe()).entries(i.source)},ITe),n&&o.each(s=>{s.children&&(s=Ot(s.data),i.add.push(s),i.source.push(s))}),dF(o,De,De)),i.source.root=o,i}});function zTe(){const e=[],t={entries:i=>r(n(i,0),0),key:i=>(e.push(i),t)};function n(i,o){if(o>=e.length)return i;const s=i.length,a=e[o++],l={},u={};let c=-1,f,d,h;for(;++c<s;)f=a(d=i[c])+"",(h=l[f])?h.push(d):l[f]=[d];for(f in l)u[f]=n(l[f],o);return u}function r(i,o){if(++o>e.length)return i;const s=[];for(const a in i)s.push({key:a,values:r(i[a],o)});return s}return t}function Lu(e){J.call(this,null,e)}const BTe=(e,t)=>e.parent===t.parent?1:2;he(Lu,J,{transform(e,t){(!t.source||!t.source.root)&&ee(this.constructor.name+" transform requires a backing tree data source.");const n=this.layout(e.method),r=this.fields,i=t.source.root,o=e.as||r;e.field?i.sum(e.field):i.count(),e.sort&&i.sort(Jh(e.sort,s=>s.data)),jTe(n,this.params,e),n.separation&&n.separation(e.separation!==!1?BTe:x0);try{this.value=n(i)}catch(s){ee(s)}return i.each(s=>UTe(s,r,o)),t.reflow(e.modified()).modifies(o).modifies("leaf")}});function jTe(e,t,n){for(let r,i=0,o=t.length;i<o;++i)r=t[i],r in n&&e[r](n[r])}function UTe(e,t,n){const r=e.data,i=t.length-1;for(let o=0;o<i;++o)r[n[o]]=e[t[o]];r[n[i]]=e.children?e.children.length:0}const hF=["x","y","r","depth","children"];function kN(e){Lu.call(this,e)}kN.Definition={type:"Pack",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"radius",type:"field",default:null},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:hF.length,default:hF}]};he(kN,Lu,{layout:STe,params:["radius","size","padding"],fields:hF});const pF=["x0","y0","x1","y1","depth","children"];function _N(e){Lu.call(this,e)}_N.Definition={type:"Partition",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:pF.length,default:pF}]};he(_N,Lu,{layout:CTe,params:["size","round","padding"],fields:pF});function $N(e){J.call(this,null,e)}$N.Definition={type:"Stratify",metadata:{treesource:!0},params:[{name:"key",type:"field",required:!0},{name:"parentKey",type:"field",required:!0}]};he($N,J,{transform(e,t){t.source||ee("Stratify transform requires an upstream data source.");let n=this.value;const r=e.modified(),i=t.fork(t.ALL).materialize(t.SOURCE),o=!n||r||t.changed(t.ADD_REM)||t.modified(e.key.fields)||t.modified(e.parentKey.fields);return i.source=i.source.slice(),o&&(n=i.source.length?dF(jj().id(e.key).parentId(e.parentKey)(i.source),e.key,ws):dF(jj()([{}]),e.key,e.key)),i.source.root=this.value=n,i}});const Vj={tidy:PTe,cluster:H5e},gF=["x","y","depth","children"];function AN(e){Lu.call(this,e)}AN.Definition={type:"Tree",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"tidy",values:["tidy","cluster"]},{name:"size",type:"number",array:!0,length:2},{name:"nodeSize",type:"number",array:!0,length:2},{name:"separation",type:"boolean",default:!0},{name:"as",type:"string",array:!0,length:gF.length,default:gF}]};he(AN,Lu,{layout(e){const t=e||"tidy";if(Se(Vj,t))return Vj[t]();ee("Unrecognized Tree layout method: "+t)},params:["size","nodeSize"],fields:gF});function TN(e){J.call(this,[],e)}TN.Definition={type:"TreeLinks",metadata:{tree:!0,generates:!0,changes:!0},params:[]};he(TN,J,{transform(e,t){const n=this.value,r=t.source&&t.source.root,i=t.fork(t.NO_SOURCE),o={};return r||ee("TreeLinks transform requires a tree data source."),t.changed(t.ADD_REM)?(i.rem=n,t.visit(t.SOURCE,s=>o[De(s)]=1),r.each(s=>{const a=s.data,l=s.parent&&s.parent.data;l&&o[De(a)]&&o[De(l)]&&i.add.push(Ot({source:l,target:a}))}),this.value=i.add):t.changed(t.MOD)&&(t.visit(t.MOD,s=>o[De(s)]=1),n.forEach(s=>{(o[De(s.source)]||o[De(s.target)])&&i.mod.push(s)})),i}});const Wj={binary:MTe,dice:cx,slice:F_,slicedice:NTe,squarify:fre,resquarify:LTe},mF=["x0","y0","x1","y1","depth","children"];function RN(e){Lu.call(this,e)}RN.Definition={type:"Treemap",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"squarify",values:["squarify","resquarify","binary","dice","slice","slicedice"]},{name:"padding",type:"number",default:0},{name:"paddingInner",type:"number",default:0},{name:"paddingOuter",type:"number",default:0},{name:"paddingTop",type:"number",default:0},{name:"paddingRight",type:"number",default:0},{name:"paddingBottom",type:"number",default:0},{name:"paddingLeft",type:"number",default:0},{name:"ratio",type:"number",default:1.618033988749895},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:mF.length,default:mF}]};he(RN,Lu,{layout(){const e=DTe();return e.ratio=t=>{const n=e.tile();n.ratio&&e.tile(n.ratio(t))},e.method=t=>{Se(Wj,t)?e.tile(Wj[t]):ee("Unrecognized Treemap layout method: "+t)},e},params:["method","ratio","size","round","padding","paddingInner","paddingOuter","paddingTop","paddingRight","paddingBottom","paddingLeft"],fields:mF});const VTe=Object.freeze(Object.defineProperty({__proto__:null,nest:EN,pack:kN,partition:_N,stratify:$N,tree:AN,treelinks:TN,treemap:RN},Symbol.toStringTag,{value:"Module"})),PT=4278190080;function WTe(e,t){const n=e.bitmap();return(t||[]).forEach(r=>n.set(e(r.boundary[0]),e(r.boundary[3]))),[n,void 0]}function HTe(e,t,n,r,i){const o=e.width,s=e.height,a=r||i,l=Yc(o,s).getContext("2d"),u=Yc(o,s).getContext("2d"),c=a&&Yc(o,s).getContext("2d");n.forEach(k=>lS(l,k,!1)),lS(u,t,!1),a&&lS(c,t,!0);const f=DT(l,o,s),d=DT(u,o,s),h=a&&DT(c,o,s),p=e.bitmap(),g=a&&e.bitmap();let m,y,v,b,x,w,E,S;for(y=0;y<s;++y)for(m=0;m<o;++m)x=y*o+m,w=f[x]&PT,S=d[x]&PT,E=a&&h[x]&PT,(w||E||S)&&(v=e(m),b=e(y),!i&&(w||S)&&p.set(v,b),a&&(w||E)&&g.set(v,b));return[p,g]}function DT(e,t,n){return new Uint32Array(e.getImageData(0,0,t,n).data.buffer)}function lS(e,t,n){if(!t.length)return;const r=t[0].mark.marktype;r==="group"?t.forEach(i=>{i.items.forEach(o=>lS(e,o.items,n))}):Io[r].draw(e,{items:n?t.map(qTe):t})}function qTe(e){const t=qk(e,{});return t.stroke&&t.strokeOpacity!==0||t.fill&&t.fillOpacity!==0?{...t,strokeOpacity:1,stroke:"#000",fillOpacity:0}:t}const Hl=5,hi=31,Nv=32,bc=new Uint32Array(Nv+1),Ys=new Uint32Array(Nv+1);Ys[0]=0;bc[0]=~Ys[0];for(let e=1;e<=Nv;++e)Ys[e]=Ys[e-1]<<1|1,bc[e]=~Ys[e];function GTe(e,t){const n=new Uint32Array(~~((e*t+Nv)/Nv));function r(o,s){n[o]|=s}function i(o,s){n[o]&=s}return{array:n,get:(o,s)=>{const a=s*e+o;return n[a>>>Hl]&1<<(a&hi)},set:(o,s)=>{const a=s*e+o;r(a>>>Hl,1<<(a&hi))},clear:(o,s)=>{const a=s*e+o;i(a>>>Hl,~(1<<(a&hi)))},getRange:(o,s,a,l)=>{let u=l,c,f,d,h;for(;u>=s;--u)if(c=u*e+o,f=u*e+a,d=c>>>Hl,h=f>>>Hl,d===h){if(n[d]&bc[c&hi]&Ys[(f&hi)+1])return!0}else{if(n[d]&bc[c&hi]||n[h]&Ys[(f&hi)+1])return!0;for(let p=d+1;p<h;++p)if(n[p])return!0}return!1},setRange:(o,s,a,l)=>{let u,c,f,d,h;for(;s<=l;++s)if(u=s*e+o,c=s*e+a,f=u>>>Hl,d=c>>>Hl,f===d)r(f,bc[u&hi]&Ys[(c&hi)+1]);else for(r(f,bc[u&hi]),r(d,Ys[(c&hi)+1]),h=f+1;h<d;++h)r(h,4294967295)},clearRange:(o,s,a,l)=>{let u,c,f,d,h;for(;s<=l;++s)if(u=s*e+o,c=s*e+a,f=u>>>Hl,d=c>>>Hl,f===d)i(f,Ys[u&hi]|bc[(c&hi)+1]);else for(i(f,Ys[u&hi]),i(d,bc[(c&hi)+1]),h=f+1;h<d;++h)i(h,0)},outOfBounds:(o,s,a,l)=>o<0||s<0||l>=t||a>=e}}function XTe(e,t,n){const r=Math.max(1,Math.sqrt(e*t/1e6)),i=~~((e+2*n+r)/r),o=~~((t+2*n+r)/r),s=a=>~~((a+n)/r);return s.invert=a=>a*r-n,s.bitmap=()=>GTe(i,o),s.ratio=r,s.padding=n,s.width=e,s.height=t,s}function YTe(e,t,n,r){const i=e.width,o=e.height;return function(s){const a=s.datum.datum.items[r].items,l=a.length,u=s.datum.fontSize,c=To.width(s.datum,s.datum.text);let f=0,d,h,p,g,m,y,v;for(let b=0;b<l;++b)d=a[b].x,p=a[b].y,h=a[b].x2===void 0?d:a[b].x2,g=a[b].y2===void 0?p:a[b].y2,m=(d+h)/2,y=(p+g)/2,v=Math.abs(h-d+g-p),v>=f&&(f=v,s.x=m,s.y=y);return m=c/2,y=u/2,d=s.x-m,h=s.x+m,p=s.y-y,g=s.y+y,s.align="center",d<0&&h<=i?s.align="left":0<=d&&i<h&&(s.align="right"),s.baseline="middle",p<0&&g<=o?s.baseline="top":0<=p&&o<g&&(s.baseline="bottom"),!0}}function lE(e,t,n,r,i,o){let s=n/2;return e-s<0||e+s>i||t-(s=r/2)<0||t+s>o}function Uc(e,t,n,r,i,o,s,a){const l=i*o/(r*2),u=e(t-l),c=e(t+l),f=e(n-(o=o/2)),d=e(n+o);return s.outOfBounds(u,f,c,d)||s.getRange(u,f,c,d)||a&&a.getRange(u,f,c,d)}function KTe(e,t,n,r){const i=e.width,o=e.height,s=t[0],a=t[1];function l(u,c,f,d,h){const p=e.invert(u),g=e.invert(c);let m=f,y=o,v;if(!lE(p,g,d,h,i,o)&&!Uc(e,p,g,h,d,m,s,a)&&!Uc(e,p,g,h,d,h,s,null)){for(;y-m>=1;)v=(m+y)/2,Uc(e,p,g,h,d,v,s,a)?y=v:m=v;if(m>f)return[p,g,m,!0]}}return function(u){const c=u.datum.datum.items[r].items,f=c.length,d=u.datum.fontSize,h=To.width(u.datum,u.datum.text);let p=n?d:0,g=!1,m=!1,y=0,v,b,x,w,E,S,k,$,F,P,j,D,L,A,O,B,z;for(let U=0;U<f;++U){for(v=c[U].x,x=c[U].y,b=c[U].x2===void 0?v:c[U].x2,w=c[U].y2===void 0?x:c[U].y2,v>b&&(z=v,v=b,b=z),x>w&&(z=x,x=w,w=z),F=e(v),j=e(b),P=~~((F+j)/2),D=e(x),A=e(w),L=~~((D+A)/2),k=P;k>=F;--k)for($=L;$>=D;--$)B=l(k,$,p,h,d),B&&([u.x,u.y,p,g]=B);for(k=P;k<=j;++k)for($=L;$<=A;++$)B=l(k,$,p,h,d),B&&([u.x,u.y,p,g]=B);!g&&!n&&(O=Math.abs(b-v+w-x),E=(v+b)/2,S=(x+w)/2,O>=y&&!lE(E,S,h,d,i,o)&&!Uc(e,E,S,d,h,d,s,null)&&(y=O,u.x=E,u.y=S,m=!0))}return g||m?(E=h/2,S=d/2,s.setRange(e(u.x-E),e(u.y-S),e(u.x+E),e(u.y+S)),u.align="center",u.baseline="middle",!0):!1}}const QTe=[-1,-1,1,1],JTe=[-1,1,-1,1];function ZTe(e,t,n,r){const i=e.width,o=e.height,s=t[0],a=t[1],l=e.bitmap();return function(u){const c=u.datum.datum.items[r].items,f=c.length,d=u.datum.fontSize,h=To.width(u.datum,u.datum.text),p=[];let g=n?d:0,m=!1,y=!1,v=0,b,x,w,E,S,k,$,F,P,j,D,L;for(let A=0;A<f;++A){for(b=c[A].x,w=c[A].y,x=c[A].x2===void 0?b:c[A].x2,E=c[A].y2===void 0?w:c[A].y2,p.push([e((b+x)/2),e((w+E)/2)]);p.length;)if([$,F]=p.pop(),!(s.get($,F)||a.get($,F)||l.get($,F))){l.set($,F);for(let O=0;O<4;++O)S=$+QTe[O],k=F+JTe[O],l.outOfBounds(S,k,S,k)||p.push([S,k]);if(S=e.invert($),k=e.invert(F),P=g,j=o,!lE(S,k,h,d,i,o)&&!Uc(e,S,k,d,h,P,s,a)&&!Uc(e,S,k,d,h,d,s,null)){for(;j-P>=1;)D=(P+j)/2,Uc(e,S,k,d,h,D,s,a)?j=D:P=D;P>g&&(u.x=S,u.y=k,g=P,m=!0)}}!m&&!n&&(L=Math.abs(x-b+E-w),S=(b+x)/2,k=(w+E)/2,L>=v&&!lE(S,k,h,d,i,o)&&!Uc(e,S,k,d,h,d,s,null)&&(v=L,u.x=S,u.y=k,y=!0))}return m||y?(S=h/2,k=d/2,s.setRange(e(u.x-S),e(u.y-k),e(u.x+S),e(u.y+k)),u.align="center",u.baseline="middle",!0):!1}}const e3e=["right","center","left"],t3e=["bottom","middle","top"];function n3e(e,t,n,r){const i=e.width,o=e.height,s=t[0],a=t[1],l=r.length;return function(u){const c=u.boundary,f=u.datum.fontSize;if(c[2]<0||c[5]<0||c[0]>i||c[3]>o)return!1;let d=u.textWidth??0,h,p,g,m,y,v,b,x,w,E,S,k,$,F,P;for(let j=0;j<l;++j){if(h=(n[j]&3)-1,p=(n[j]>>>2&3)-1,g=h===0&&p===0||r[j]<0,m=h&&p?Math.SQRT1_2:1,y=r[j]<0?-1:1,v=c[1+h]+r[j]*h*m,S=c[4+p]+y*f*p/2+r[j]*p*m,x=S-f/2,w=S+f/2,k=e(v),F=e(x),P=e(w),!d)if(Hj(k,k,F,P,s,a,v,v,x,w,c,g))d=To.width(u.datum,u.datum.text);else continue;if(E=v+y*d*h/2,v=E-d/2,b=E+d/2,k=e(v),$=e(b),Hj(k,$,F,P,s,a,v,b,x,w,c,g))return u.x=h?h*y<0?b:v:E,u.y=p?p*y<0?w:x:S,u.align=e3e[h*y+1],u.baseline=t3e[p*y+1],s.setRange(k,F,$,P),!0}return!1}}function Hj(e,t,n,r,i,o,s,a,l,u,c,f){return!(i.outOfBounds(e,n,t,r)||(f&&o||i).getRange(e,n,t,r))}const MT=0,NT=4,LT=8,IT=0,zT=1,BT=2,r3e={"top-left":MT+IT,top:MT+zT,"top-right":MT+BT,left:NT+IT,middle:NT+zT,right:NT+BT,"bottom-left":LT+IT,bottom:LT+zT,"bottom-right":LT+BT},i3e={naive:YTe,"reduced-search":KTe,floodfill:ZTe};function o3e(e,t,n,r,i,o,s,a,l,u,c){if(!e.length)return e;const f=Math.max(r.length,i.length),d=s3e(r,f),h=a3e(i,f),p=l3e(e[0].datum),g=p==="group"&&e[0].datum.items[l].marktype,m=g==="area",y=u3e(p,g,a,l),v=u===null||u===1/0,b=m&&c==="naive";let x=-1,w=-1;const E=e.map(F=>{const P=v?To.width(F,F.text):void 0;return x=Math.max(x,P),w=Math.max(w,F.fontSize),{datum:F,opacity:0,x:void 0,y:void 0,align:void 0,baseline:void 0,boundary:y(F),textWidth:P}});u=u===null||u===1/0?Math.max(x,w)+Math.max(...r):u;const S=XTe(t[0],t[1],u);let k;if(!b){n&&E.sort((j,D)=>n(j.datum,D.datum));let F=!1;for(let j=0;j<h.length&&!F;++j)F=h[j]===5||d[j]<0;const P=(p&&s||m)&&e.map(j=>j.datum);k=o.length||P?HTe(S,P||[],o,F,m):WTe(S,s&&E)}const $=m?i3e[c](S,k,s,l):n3e(S,k,h,d);return E.forEach(F=>F.opacity=+$(F)),E}function s3e(e,t){const n=new Float64Array(t),r=e.length;for(let i=0;i<r;++i)n[i]=e[i]||0;for(let i=r;i<t;++i)n[i]=n[r-1];return n}function a3e(e,t){const n=new Int8Array(t),r=e.length;for(let i=0;i<r;++i)n[i]|=r3e[e[i]];for(let i=r;i<t;++i)n[i]=n[r-1];return n}function l3e(e){return e&&e.mark&&e.mark.marktype}function u3e(e,t,n,r){const i=o=>[o.x,o.x,o.x,o.y,o.y,o.y];return e?e==="line"||e==="area"?o=>i(o.datum):t==="line"?o=>{const s=o.datum.items[r].items;return i(s.length?s[n==="start"?0:s.length-1]:{x:NaN,y:NaN})}:o=>{const s=o.datum.bounds;return[s.x1,(s.x1+s.x2)/2,s.x2,s.y1,(s.y1+s.y2)/2,s.y2]}:i}const yF=["x","y","opacity","align","baseline"],dre=["top-left","left","bottom-left","top","bottom","top-right","right","bottom-right"];function FN(e){J.call(this,null,e)}FN.Definition={type:"Label",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"sort",type:"compare"},{name:"anchor",type:"string",array:!0,default:dre},{name:"offset",type:"number",array:!0,default:[1]},{name:"padding",type:"number",default:0,null:!0},{name:"lineAnchor",type:"string",values:["start","end"],default:"end"},{name:"markIndex",type:"number",default:0},{name:"avoidBaseMark",type:"boolean",default:!0},{name:"avoidMarks",type:"data",array:!0},{name:"method",type:"string",default:"naive"},{name:"as",type:"string",array:!0,length:yF.length,default:yF}]};he(FN,J,{transform(e,t){function n(o){const s=e[o];return et(s)&&t.modified(s.fields)}const r=e.modified();if(!(r||t.changed(t.ADD_REM)||n("sort")))return;(!e.size||e.size.length!==2)&&ee("Size parameter should be specified as a [width, height] array.");const i=e.as||yF;return o3e(t.materialize(t.SOURCE).source||[],e.size,e.sort,xe(e.offset==null?1:e.offset),xe(e.anchor||dre),e.avoidMarks||[],e.avoidBaseMark!==!1,e.lineAnchor||"end",e.markIndex||0,e.padding===void 0?0:e.padding,e.method||"naive").forEach(o=>{const s=o.datum;s[i[0]]=o.x,s[i[1]]=o.y,s[i[2]]=o.opacity,s[i[3]]=o.align,s[i[4]]=o.baseline}),t.reflow(r).modifies(i)}});const c3e=Object.freeze(Object.defineProperty({__proto__:null,label:FN},Symbol.toStringTag,{value:"Module"}));function hre(e,t){var n=[],r=function(c){return c(a)},i,o,s,a,l,u;if(t==null)n.push(e);else for(i={},o=0,s=e.length;o<s;++o)a=e[o],l=t.map(r),u=i[l],u||(i[l]=u=[],u.dims=l,n.push(u)),u.push(a);return n}function ON(e){J.call(this,null,e)}ON.Definition={type:"Loess",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"bandwidth",type:"number",default:.3},{name:"as",type:"string",array:!0}]};he(ON,J,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const r=t.materialize(t.SOURCE).source,i=hre(r,e.groupby),o=(e.groupby||[]).map(On),s=o.length,a=e.as||[On(e.x),On(e.y)],l=[];i.forEach(u=>{pJ(u,e.x,e.y,e.bandwidth||.3).forEach(c=>{const f={};for(let d=0;d<s;++d)f[o[d]]=u.dims[d];f[a[0]]=c[0],f[a[1]]=c[1],l.push(Ot(f))})}),this.value&&(n.rem=this.value),this.value=n.add=n.source=l}return n}});const vF={constant:dD,linear:hD,log:cJ,exp:fJ,pow:dJ,quad:pD,poly:hJ},f3e=(e,t)=>e==="poly"?t:e==="quad"?2:1;function PN(e){J.call(this,null,e)}PN.Definition={type:"Regression",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"string",default:"linear",values:Object.keys(vF)},{name:"order",type:"number",default:3},{name:"extent",type:"number",array:!0,length:2},{name:"params",type:"boolean",default:!1},{name:"as",type:"string",array:!0}]};he(PN,J,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const r=t.materialize(t.SOURCE).source,i=hre(r,e.groupby),o=(e.groupby||[]).map(On),s=e.method||"linear",a=e.order==null?3:e.order,l=f3e(s,a),u=e.as||[On(e.x),On(e.y)],c=vF[s],f=[];let d=e.extent;Se(vF,s)||ee("Invalid regression method: "+s),d!=null&&s==="log"&&d[0]<=0&&(t.dataflow.warn("Ignoring extent with values <= 0 for log regression."),d=null),i.forEach(h=>{if(h.length<=l){t.dataflow.warn("Skipping regression with more parameters than data points.");return}const g=c(h,e.x,e.y,a);if(e.params){f.push(Ot({keys:h.dims,coef:g.coef,rSquared:g.rSquared}));return}const m=d||vl(h,e.x),y=v=>{const b={};for(let x=0;x<o.length;++x)b[o[x]]=h.dims[x];b[u[0]]=v[0],b[u[1]]=v[1],f.push(Ot(b))};s==="linear"||s==="constant"?m.forEach(v=>y([v,g.predict(v)])):Zk(g.predict,m,25,200).forEach(y)}),this.value&&(n.rem=this.value),this.value=n.add=n.source=f}return n}});const d3e=Object.freeze(Object.defineProperty({__proto__:null,loess:ON,regression:PN},Symbol.toStringTag,{value:"Module"})),gu=11102230246251565e-32,Vr=134217729,h3e=(3+8*gu)*gu;function jT(e,t,n,r,i){let o,s,a,l,u=t[0],c=r[0],f=0,d=0;c>u==c>-u?(o=u,u=t[++f]):(o=c,c=r[++d]);let h=0;if(f<e&&d<n)for(c>u==c>-u?(s=u+o,a=o-(s-u),u=t[++f]):(s=c+o,a=o-(s-c),c=r[++d]),o=s,a!==0&&(i[h++]=a);f<e&&d<n;)c>u==c>-u?(s=o+u,l=s-o,a=o-(s-l)+(u-l),u=t[++f]):(s=o+c,l=s-o,a=o-(s-l)+(c-l),c=r[++d]),o=s,a!==0&&(i[h++]=a);for(;f<e;)s=o+u,l=s-o,a=o-(s-l)+(u-l),u=t[++f],o=s,a!==0&&(i[h++]=a);for(;d<n;)s=o+c,l=s-o,a=o-(s-l)+(c-l),c=r[++d],o=s,a!==0&&(i[h++]=a);return(o!==0||h===0)&&(i[h++]=o),h}function p3e(e,t){let n=t[0];for(let r=1;r<e;r++)n+=t[r];return n}function fx(e){return new Float64Array(e)}const g3e=(3+16*gu)*gu,m3e=(2+12*gu)*gu,y3e=(9+64*gu)*gu*gu,Ip=fx(4),qj=fx(8),Gj=fx(12),Xj=fx(16),pi=fx(4);function v3e(e,t,n,r,i,o,s){let a,l,u,c,f,d,h,p,g,m,y,v,b,x,w,E,S,k;const $=e-i,F=n-i,P=t-o,j=r-o;x=$*j,d=Vr*$,h=d-(d-$),p=$-h,d=Vr*j,g=d-(d-j),m=j-g,w=p*m-(x-h*g-p*g-h*m),E=P*F,d=Vr*P,h=d-(d-P),p=P-h,d=Vr*F,g=d-(d-F),m=F-g,S=p*m-(E-h*g-p*g-h*m),y=w-S,f=w-y,Ip[0]=w-(y+f)+(f-S),v=x+y,f=v-x,b=x-(v-f)+(y-f),y=b-E,f=b-y,Ip[1]=b-(y+f)+(f-E),k=v+y,f=k-v,Ip[2]=v-(k-f)+(y-f),Ip[3]=k;let D=p3e(4,Ip),L=m3e*s;if(D>=L||-D>=L||(f=e-$,a=e-($+f)+(f-i),f=n-F,u=n-(F+f)+(f-i),f=t-P,l=t-(P+f)+(f-o),f=r-j,c=r-(j+f)+(f-o),a===0&&l===0&&u===0&&c===0)||(L=y3e*s+h3e*Math.abs(D),D+=$*c+j*a-(P*u+F*l),D>=L||-D>=L))return D;x=a*j,d=Vr*a,h=d-(d-a),p=a-h,d=Vr*j,g=d-(d-j),m=j-g,w=p*m-(x-h*g-p*g-h*m),E=l*F,d=Vr*l,h=d-(d-l),p=l-h,d=Vr*F,g=d-(d-F),m=F-g,S=p*m-(E-h*g-p*g-h*m),y=w-S,f=w-y,pi[0]=w-(y+f)+(f-S),v=x+y,f=v-x,b=x-(v-f)+(y-f),y=b-E,f=b-y,pi[1]=b-(y+f)+(f-E),k=v+y,f=k-v,pi[2]=v-(k-f)+(y-f),pi[3]=k;const A=jT(4,Ip,4,pi,qj);x=$*c,d=Vr*$,h=d-(d-$),p=$-h,d=Vr*c,g=d-(d-c),m=c-g,w=p*m-(x-h*g-p*g-h*m),E=P*u,d=Vr*P,h=d-(d-P),p=P-h,d=Vr*u,g=d-(d-u),m=u-g,S=p*m-(E-h*g-p*g-h*m),y=w-S,f=w-y,pi[0]=w-(y+f)+(f-S),v=x+y,f=v-x,b=x-(v-f)+(y-f),y=b-E,f=b-y,pi[1]=b-(y+f)+(f-E),k=v+y,f=k-v,pi[2]=v-(k-f)+(y-f),pi[3]=k;const O=jT(A,qj,4,pi,Gj);x=a*c,d=Vr*a,h=d-(d-a),p=a-h,d=Vr*c,g=d-(d-c),m=c-g,w=p*m-(x-h*g-p*g-h*m),E=l*u,d=Vr*l,h=d-(d-l),p=l-h,d=Vr*u,g=d-(d-u),m=u-g,S=p*m-(E-h*g-p*g-h*m),y=w-S,f=w-y,pi[0]=w-(y+f)+(f-S),v=x+y,f=v-x,b=x-(v-f)+(y-f),y=b-E,f=b-y,pi[1]=b-(y+f)+(f-E),k=v+y,f=k-v,pi[2]=v-(k-f)+(y-f),pi[3]=k;const B=jT(O,Gj,4,pi,Xj);return Xj[B-1]}function U2(e,t,n,r,i,o){const s=(t-o)*(n-i),a=(e-i)*(r-o),l=s-a,u=Math.abs(s+a);return Math.abs(l)>=g3e*u?l:-v3e(e,t,n,r,i,o,u)}const Yj=Math.pow(2,-52),V2=new Uint32Array(512);class uE{static from(t,n=C3e,r=E3e){const i=t.length,o=new Float64Array(i*2);for(let s=0;s<i;s++){const a=t[s];o[2*s]=n(a),o[2*s+1]=r(a)}return new uE(o)}constructor(t){const n=t.length>>1;if(n>0&&typeof t[0]!="number")throw new Error("Expected coords to contain numbers.");this.coords=t;const r=Math.max(2*n-5,0);this._triangles=new Uint32Array(r*3),this._halfedges=new Int32Array(r*3),this._hashSize=Math.ceil(Math.sqrt(n)),this._hullPrev=new Uint32Array(n),this._hullNext=new Uint32Array(n),this._hullTri=new Uint32Array(n),this._hullHash=new Int32Array(this._hashSize),this._ids=new Uint32Array(n),this._dists=new Float64Array(n),this.update()}update(){const{coords:t,_hullPrev:n,_hullNext:r,_hullTri:i,_hullHash:o}=this,s=t.length>>1;let a=1/0,l=1/0,u=-1/0,c=-1/0;for(let $=0;$<s;$++){const F=t[2*$],P=t[2*$+1];F<a&&(a=F),P<l&&(l=P),F>u&&(u=F),P>c&&(c=P),this._ids[$]=$}const f=(a+u)/2,d=(l+c)/2;let h,p,g;for(let $=0,F=1/0;$<s;$++){const P=UT(f,d,t[2*$],t[2*$+1]);P<F&&(h=$,F=P)}const m=t[2*h],y=t[2*h+1];for(let $=0,F=1/0;$<s;$++){if($===h)continue;const P=UT(m,y,t[2*$],t[2*$+1]);P<F&&P>0&&(p=$,F=P)}let v=t[2*p],b=t[2*p+1],x=1/0;for(let $=0;$<s;$++){if($===h||$===p)continue;const F=w3e(m,y,v,b,t[2*$],t[2*$+1]);F<x&&(g=$,x=F)}let w=t[2*g],E=t[2*g+1];if(x===1/0){for(let P=0;P<s;P++)this._dists[P]=t[2*P]-t[0]||t[2*P+1]-t[1];sg(this._ids,this._dists,0,s-1);const $=new Uint32Array(s);let F=0;for(let P=0,j=-1/0;P<s;P++){const D=this._ids[P],L=this._dists[D];L>j&&($[F++]=D,j=L)}this.hull=$.subarray(0,F),this.triangles=new Uint32Array(0),this.halfedges=new Uint32Array(0);return}if(U2(m,y,v,b,w,E)<0){const $=p,F=v,P=b;p=g,v=w,b=E,g=$,w=F,E=P}const S=S3e(m,y,v,b,w,E);this._cx=S.x,this._cy=S.y;for(let $=0;$<s;$++)this._dists[$]=UT(t[2*$],t[2*$+1],S.x,S.y);sg(this._ids,this._dists,0,s-1),this._hullStart=h;let k=3;r[h]=n[g]=p,r[p]=n[h]=g,r[g]=n[p]=h,i[h]=0,i[p]=1,i[g]=2,o.fill(-1),o[this._hashKey(m,y)]=h,o[this._hashKey(v,b)]=p,o[this._hashKey(w,E)]=g,this.trianglesLen=0,this._addTriangle(h,p,g,-1,-1,-1);for(let $=0,F,P;$<this._ids.length;$++){const j=this._ids[$],D=t[2*j],L=t[2*j+1];if($>0&&Math.abs(D-F)<=Yj&&Math.abs(L-P)<=Yj||(F=D,P=L,j===h||j===p||j===g))continue;let A=0;for(let X=0,K=this._hashKey(D,L);X<this._hashSize&&(A=o[(K+X)%this._hashSize],!(A!==-1&&A!==r[A]));X++);A=n[A];let O=A,B;for(;B=r[O],U2(D,L,t[2*O],t[2*O+1],t[2*B],t[2*B+1])>=0;)if(O=B,O===A){O=-1;break}if(O===-1)continue;let z=this._addTriangle(O,j,r[O],-1,-1,i[O]);i[j]=this._legalize(z+2),i[O]=z,k++;let U=r[O];for(;B=r[U],U2(D,L,t[2*U],t[2*U+1],t[2*B],t[2*B+1])<0;)z=this._addTriangle(U,j,B,i[j],-1,i[U]),i[j]=this._legalize(z+2),r[U]=U,k--,U=B;if(O===A)for(;B=n[O],U2(D,L,t[2*B],t[2*B+1],t[2*O],t[2*O+1])<0;)z=this._addTriangle(B,j,O,-1,i[O],i[B]),this._legalize(z+2),i[B]=z,r[O]=O,k--,O=B;this._hullStart=n[j]=O,r[O]=n[U]=j,r[j]=U,o[this._hashKey(D,L)]=j,o[this._hashKey(t[2*O],t[2*O+1])]=O}this.hull=new Uint32Array(k);for(let $=0,F=this._hullStart;$<k;$++)this.hull[$]=F,F=r[F];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(t,n){return Math.floor(b3e(t-this._cx,n-this._cy)*this._hashSize)%this._hashSize}_legalize(t){const{_triangles:n,_halfedges:r,coords:i}=this;let o=0,s=0;for(;;){const a=r[t],l=t-t%3;if(s=l+(t+2)%3,a===-1){if(o===0)break;t=V2[--o];continue}const u=a-a%3,c=l+(t+1)%3,f=u+(a+2)%3,d=n[s],h=n[t],p=n[c],g=n[f];if(x3e(i[2*d],i[2*d+1],i[2*h],i[2*h+1],i[2*p],i[2*p+1],i[2*g],i[2*g+1])){n[t]=g,n[a]=d;const y=r[f];if(y===-1){let b=this._hullStart;do{if(this._hullTri[b]===f){this._hullTri[b]=t;break}b=this._hullPrev[b]}while(b!==this._hullStart)}this._link(t,y),this._link(a,r[s]),this._link(s,f);const v=u+(a+1)%3;o<V2.length&&(V2[o++]=v)}else{if(o===0)break;t=V2[--o]}}return s}_link(t,n){this._halfedges[t]=n,n!==-1&&(this._halfedges[n]=t)}_addTriangle(t,n,r,i,o,s){const a=this.trianglesLen;return this._triangles[a]=t,this._triangles[a+1]=n,this._triangles[a+2]=r,this._link(a,i),this._link(a+1,o),this._link(a+2,s),this.trianglesLen+=3,a}}function b3e(e,t){const n=e/(Math.abs(e)+Math.abs(t));return(t>0?3-n:1+n)/4}function UT(e,t,n,r){const i=e-n,o=t-r;return i*i+o*o}function x3e(e,t,n,r,i,o,s,a){const l=e-s,u=t-a,c=n-s,f=r-a,d=i-s,h=o-a,p=l*l+u*u,g=c*c+f*f,m=d*d+h*h;return l*(f*m-g*h)-u*(c*m-g*d)+p*(c*h-f*d)<0}function w3e(e,t,n,r,i,o){const s=n-e,a=r-t,l=i-e,u=o-t,c=s*s+a*a,f=l*l+u*u,d=.5/(s*u-a*l),h=(u*c-a*f)*d,p=(s*f-l*c)*d;return h*h+p*p}function S3e(e,t,n,r,i,o){const s=n-e,a=r-t,l=i-e,u=o-t,c=s*s+a*a,f=l*l+u*u,d=.5/(s*u-a*l),h=e+(u*c-a*f)*d,p=t+(s*f-l*c)*d;return{x:h,y:p}}function sg(e,t,n,r){if(r-n<=20)for(let i=n+1;i<=r;i++){const o=e[i],s=t[o];let a=i-1;for(;a>=n&&t[e[a]]>s;)e[a+1]=e[a--];e[a+1]=o}else{const i=n+r>>1;let o=n+1,s=r;Ey(e,i,o),t[e[n]]>t[e[r]]&&Ey(e,n,r),t[e[o]]>t[e[r]]&&Ey(e,o,r),t[e[n]]>t[e[o]]&&Ey(e,n,o);const a=e[o],l=t[a];for(;;){do o++;while(t[e[o]]<l);do s--;while(t[e[s]]>l);if(s<o)break;Ey(e,o,s)}e[n+1]=e[s],e[s]=a,r-o+1>=s-n?(sg(e,t,o,r),sg(e,t,n,s-1)):(sg(e,t,n,s-1),sg(e,t,o,r))}}function Ey(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function C3e(e){return e[0]}function E3e(e){return e[1]}const Kj=1e-6;class Ld{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(t,n){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(t,n){this._+=`L${this._x1=+t},${this._y1=+n}`}arc(t,n,r){t=+t,n=+n,r=+r;const i=t+r,o=n;if(r<0)throw new Error("negative radius");this._x1===null?this._+=`M${i},${o}`:(Math.abs(this._x1-i)>Kj||Math.abs(this._y1-o)>Kj)&&(this._+="L"+i+","+o),r&&(this._+=`A${r},${r},0,1,1,${t-r},${n}A${r},${r},0,1,1,${this._x1=i},${this._y1=o}`)}rect(t,n,r,i){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${+r}v${+i}h${-r}Z`}value(){return this._||null}}class bF{constructor(){this._=[]}moveTo(t,n){this._.push([t,n])}closePath(){this._.push(this._[0].slice())}lineTo(t,n){this._.push([t,n])}value(){return this._.length?this._:null}}let k3e=class{constructor(t,[n,r,i,o]=[0,0,960,500]){if(!((i=+i)>=(n=+n))||!((o=+o)>=(r=+r)))throw new Error("invalid bounds");this.delaunay=t,this._circumcenters=new Float64Array(t.points.length*2),this.vectors=new Float64Array(t.points.length*2),this.xmax=i,this.xmin=n,this.ymax=o,this.ymin=r,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){const{delaunay:{points:t,hull:n,triangles:r},vectors:i}=this;let o,s;const a=this.circumcenters=this._circumcenters.subarray(0,r.length/3*2);for(let g=0,m=0,y=r.length,v,b;g<y;g+=3,m+=2){const x=r[g]*2,w=r[g+1]*2,E=r[g+2]*2,S=t[x],k=t[x+1],$=t[w],F=t[w+1],P=t[E],j=t[E+1],D=$-S,L=F-k,A=P-S,O=j-k,B=(D*O-L*A)*2;if(Math.abs(B)<1e-9){if(o===void 0){o=s=0;for(const U of n)o+=t[U*2],s+=t[U*2+1];o/=n.length,s/=n.length}const z=1e9*Math.sign((o-S)*O-(s-k)*A);v=(S+P)/2-z*O,b=(k+j)/2+z*A}else{const z=1/B,U=D*D+L*L,X=A*A+O*O;v=S+(O*U-L*X)*z,b=k+(D*X-A*U)*z}a[m]=v,a[m+1]=b}let l=n[n.length-1],u,c=l*4,f,d=t[2*l],h,p=t[2*l+1];i.fill(0);for(let g=0;g<n.length;++g)l=n[g],u=c,f=d,h=p,c=l*4,d=t[2*l],p=t[2*l+1],i[u+2]=i[c]=h-p,i[u+3]=i[c+1]=d-f}render(t){const n=t==null?t=new Ld:void 0,{delaunay:{halfedges:r,inedges:i,hull:o},circumcenters:s,vectors:a}=this;if(o.length<=1)return null;for(let c=0,f=r.length;c<f;++c){const d=r[c];if(d<c)continue;const h=Math.floor(c/3)*2,p=Math.floor(d/3)*2,g=s[h],m=s[h+1],y=s[p],v=s[p+1];this._renderSegment(g,m,y,v,t)}let l,u=o[o.length-1];for(let c=0;c<o.length;++c){l=u,u=o[c];const f=Math.floor(i[u]/3)*2,d=s[f],h=s[f+1],p=l*4,g=this._project(d,h,a[p+2],a[p+3]);g&&this._renderSegment(d,h,g[0],g[1],t)}return n&&n.value()}renderBounds(t){const n=t==null?t=new Ld:void 0;return t.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),n&&n.value()}renderCell(t,n){const r=n==null?n=new Ld:void 0,i=this._clip(t);if(i===null||!i.length)return;n.moveTo(i[0],i[1]);let o=i.length;for(;i[0]===i[o-2]&&i[1]===i[o-1]&&o>1;)o-=2;for(let s=2;s<o;s+=2)(i[s]!==i[s-2]||i[s+1]!==i[s-1])&&n.lineTo(i[s],i[s+1]);return n.closePath(),r&&r.value()}*cellPolygons(){const{delaunay:{points:t}}=this;for(let n=0,r=t.length/2;n<r;++n){const i=this.cellPolygon(n);i&&(i.index=n,yield i)}}cellPolygon(t){const n=new bF;return this.renderCell(t,n),n.value()}_renderSegment(t,n,r,i,o){let s;const a=this._regioncode(t,n),l=this._regioncode(r,i);a===0&&l===0?(o.moveTo(t,n),o.lineTo(r,i)):(s=this._clipSegment(t,n,r,i,a,l))&&(o.moveTo(s[0],s[1]),o.lineTo(s[2],s[3]))}contains(t,n,r){return n=+n,n!==n||(r=+r,r!==r)?!1:this.delaunay._step(t,n,r)===t}*neighbors(t){const n=this._clip(t);if(n)for(const r of this.delaunay.neighbors(t)){const i=this._clip(r);if(i){e:for(let o=0,s=n.length;o<s;o+=2)for(let a=0,l=i.length;a<l;a+=2)if(n[o]===i[a]&&n[o+1]===i[a+1]&&n[(o+2)%s]===i[(a+l-2)%l]&&n[(o+3)%s]===i[(a+l-1)%l]){yield r;break e}}}}_cell(t){const{circumcenters:n,delaunay:{inedges:r,halfedges:i,triangles:o}}=this,s=r[t];if(s===-1)return null;const a=[];let l=s;do{const u=Math.floor(l/3);if(a.push(n[u*2],n[u*2+1]),l=l%3===2?l-2:l+1,o[l]!==t)break;l=i[l]}while(l!==s&&l!==-1);return a}_clip(t){if(t===0&&this.delaunay.hull.length===1)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const n=this._cell(t);if(n===null)return null;const{vectors:r}=this,i=t*4;return this._simplify(r[i]||r[i+1]?this._clipInfinite(t,n,r[i],r[i+1],r[i+2],r[i+3]):this._clipFinite(t,n))}_clipFinite(t,n){const r=n.length;let i=null,o,s,a=n[r-2],l=n[r-1],u,c=this._regioncode(a,l),f,d=0;for(let h=0;h<r;h+=2)if(o=a,s=l,a=n[h],l=n[h+1],u=c,c=this._regioncode(a,l),u===0&&c===0)f=d,d=0,i?i.push(a,l):i=[a,l];else{let p,g,m,y,v;if(u===0){if((p=this._clipSegment(o,s,a,l,u,c))===null)continue;[g,m,y,v]=p}else{if((p=this._clipSegment(a,l,o,s,c,u))===null)continue;[y,v,g,m]=p,f=d,d=this._edgecode(g,m),f&&d&&this._edge(t,f,d,i,i.length),i?i.push(g,m):i=[g,m]}f=d,d=this._edgecode(y,v),f&&d&&this._edge(t,f,d,i,i.length),i?i.push(y,v):i=[y,v]}if(i)f=d,d=this._edgecode(i[0],i[1]),f&&d&&this._edge(t,f,d,i,i.length);else if(this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return i}_clipSegment(t,n,r,i,o,s){const a=o<s;for(a&&([t,n,r,i,o,s]=[r,i,t,n,s,o]);;){if(o===0&&s===0)return a?[r,i,t,n]:[t,n,r,i];if(o&s)return null;let l,u,c=o||s;c&8?(l=t+(r-t)*(this.ymax-n)/(i-n),u=this.ymax):c&4?(l=t+(r-t)*(this.ymin-n)/(i-n),u=this.ymin):c&2?(u=n+(i-n)*(this.xmax-t)/(r-t),l=this.xmax):(u=n+(i-n)*(this.xmin-t)/(r-t),l=this.xmin),o?(t=l,n=u,o=this._regioncode(t,n)):(r=l,i=u,s=this._regioncode(r,i))}}_clipInfinite(t,n,r,i,o,s){let a=Array.from(n),l;if((l=this._project(a[0],a[1],r,i))&&a.unshift(l[0],l[1]),(l=this._project(a[a.length-2],a[a.length-1],o,s))&&a.push(l[0],l[1]),a=this._clipFinite(t,a))for(let u=0,c=a.length,f,d=this._edgecode(a[c-2],a[c-1]);u<c;u+=2)f=d,d=this._edgecode(a[u],a[u+1]),f&&d&&(u=this._edge(t,f,d,a,u),c=a.length);else this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(a=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return a}_edge(t,n,r,i,o){for(;n!==r;){let s,a;switch(n){case 5:n=4;continue;case 4:n=6,s=this.xmax,a=this.ymin;break;case 6:n=2;continue;case 2:n=10,s=this.xmax,a=this.ymax;break;case 10:n=8;continue;case 8:n=9,s=this.xmin,a=this.ymax;break;case 9:n=1;continue;case 1:n=5,s=this.xmin,a=this.ymin;break}(i[o]!==s||i[o+1]!==a)&&this.contains(t,s,a)&&(i.splice(o,0,s,a),o+=2)}return o}_project(t,n,r,i){let o=1/0,s,a,l;if(i<0){if(n<=this.ymin)return null;(s=(this.ymin-n)/i)<o&&(l=this.ymin,a=t+(o=s)*r)}else if(i>0){if(n>=this.ymax)return null;(s=(this.ymax-n)/i)<o&&(l=this.ymax,a=t+(o=s)*r)}if(r>0){if(t>=this.xmax)return null;(s=(this.xmax-t)/r)<o&&(a=this.xmax,l=n+(o=s)*i)}else if(r<0){if(t<=this.xmin)return null;(s=(this.xmin-t)/r)<o&&(a=this.xmin,l=n+(o=s)*i)}return[a,l]}_edgecode(t,n){return(t===this.xmin?1:t===this.xmax?2:0)|(n===this.ymin?4:n===this.ymax?8:0)}_regioncode(t,n){return(t<this.xmin?1:t>this.xmax?2:0)|(n<this.ymin?4:n>this.ymax?8:0)}_simplify(t){if(t&&t.length>4){for(let n=0;n<t.length;n+=2){const r=(n+2)%t.length,i=(n+4)%t.length;(t[n]===t[r]&&t[r]===t[i]||t[n+1]===t[r+1]&&t[r+1]===t[i+1])&&(t.splice(r,2),n-=2)}t.length||(t=null)}return t}};const _3e=2*Math.PI,zp=Math.pow;function $3e(e){return e[0]}function A3e(e){return e[1]}function T3e(e){const{triangles:t,coords:n}=e;for(let r=0;r<t.length;r+=3){const i=2*t[r],o=2*t[r+1],s=2*t[r+2];if((n[s]-n[i])*(n[o+1]-n[i+1])-(n[o]-n[i])*(n[s+1]-n[i+1])>1e-10)return!1}return!0}function R3e(e,t,n){return[e+Math.sin(e+t)*n,t+Math.cos(e-t)*n]}class DN{static from(t,n=$3e,r=A3e,i){return new DN("length"in t?F3e(t,n,r,i):Float64Array.from(O3e(t,n,r,i)))}constructor(t){this._delaunator=new uE(t),this.inedges=new Int32Array(t.length/2),this._hullIndex=new Int32Array(t.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){const t=this._delaunator,n=this.points;if(t.hull&&t.hull.length>2&&T3e(t)){this.collinear=Int32Array.from({length:n.length/2},(d,h)=>h).sort((d,h)=>n[2*d]-n[2*h]||n[2*d+1]-n[2*h+1]);const l=this.collinear[0],u=this.collinear[this.collinear.length-1],c=[n[2*l],n[2*l+1],n[2*u],n[2*u+1]],f=1e-8*Math.hypot(c[3]-c[1],c[2]-c[0]);for(let d=0,h=n.length/2;d<h;++d){const p=R3e(n[2*d],n[2*d+1],f);n[2*d]=p[0],n[2*d+1]=p[1]}this._delaunator=new uE(n)}else delete this.collinear;const r=this.halfedges=this._delaunator.halfedges,i=this.hull=this._delaunator.hull,o=this.triangles=this._delaunator.triangles,s=this.inedges.fill(-1),a=this._hullIndex.fill(-1);for(let l=0,u=r.length;l<u;++l){const c=o[l%3===2?l-2:l+1];(r[l]===-1||s[c]===-1)&&(s[c]=l)}for(let l=0,u=i.length;l<u;++l)a[i[l]]=l;i.length<=2&&i.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=i[0],s[i[0]]=1,i.length===2&&(s[i[1]]=0,this.triangles[1]=i[1],this.triangles[2]=i[1]))}voronoi(t){return new k3e(this,t)}*neighbors(t){const{inedges:n,hull:r,_hullIndex:i,halfedges:o,triangles:s,collinear:a}=this;if(a){const f=a.indexOf(t);f>0&&(yield a[f-1]),f<a.length-1&&(yield a[f+1]);return}const l=n[t];if(l===-1)return;let u=l,c=-1;do{if(yield c=s[u],u=u%3===2?u-2:u+1,s[u]!==t)return;if(u=o[u],u===-1){const f=r[(i[t]+1)%r.length];f!==c&&(yield f);return}}while(u!==l)}find(t,n,r=0){if(t=+t,t!==t||(n=+n,n!==n))return-1;const i=r;let o;for(;(o=this._step(r,t,n))>=0&&o!==r&&o!==i;)r=o;return o}_step(t,n,r){const{inedges:i,hull:o,_hullIndex:s,halfedges:a,triangles:l,points:u}=this;if(i[t]===-1||!u.length)return(t+1)%(u.length>>1);let c=t,f=zp(n-u[t*2],2)+zp(r-u[t*2+1],2);const d=i[t];let h=d;do{let p=l[h];const g=zp(n-u[p*2],2)+zp(r-u[p*2+1],2);if(g<f&&(f=g,c=p),h=h%3===2?h-2:h+1,l[h]!==t)break;if(h=a[h],h===-1){if(h=o[(s[t]+1)%o.length],h!==p&&zp(n-u[h*2],2)+zp(r-u[h*2+1],2)<f)return h;break}}while(h!==d);return c}render(t){const n=t==null?t=new Ld:void 0,{points:r,halfedges:i,triangles:o}=this;for(let s=0,a=i.length;s<a;++s){const l=i[s];if(l<s)continue;const u=o[s]*2,c=o[l]*2;t.moveTo(r[u],r[u+1]),t.lineTo(r[c],r[c+1])}return this.renderHull(t),n&&n.value()}renderPoints(t,n){n===void 0&&(!t||typeof t.moveTo!="function")&&(n=t,t=null),n=n==null?2:+n;const r=t==null?t=new Ld:void 0,{points:i}=this;for(let o=0,s=i.length;o<s;o+=2){const a=i[o],l=i[o+1];t.moveTo(a+n,l),t.arc(a,l,n,0,_3e)}return r&&r.value()}renderHull(t){const n=t==null?t=new Ld:void 0,{hull:r,points:i}=this,o=r[0]*2,s=r.length;t.moveTo(i[o],i[o+1]);for(let a=1;a<s;++a){const l=2*r[a];t.lineTo(i[l],i[l+1])}return t.closePath(),n&&n.value()}hullPolygon(){const t=new bF;return this.renderHull(t),t.value()}renderTriangle(t,n){const r=n==null?n=new Ld:void 0,{points:i,triangles:o}=this,s=o[t*=3]*2,a=o[t+1]*2,l=o[t+2]*2;return n.moveTo(i[s],i[s+1]),n.lineTo(i[a],i[a+1]),n.lineTo(i[l],i[l+1]),n.closePath(),r&&r.value()}*trianglePolygons(){const{triangles:t}=this;for(let n=0,r=t.length/3;n<r;++n)yield this.trianglePolygon(n)}trianglePolygon(t){const n=new bF;return this.renderTriangle(t,n),n.value()}}function F3e(e,t,n,r){const i=e.length,o=new Float64Array(i*2);for(let s=0;s<i;++s){const a=e[s];o[s*2]=t.call(r,a,s,e),o[s*2+1]=n.call(r,a,s,e)}return o}function*O3e(e,t,n,r){let i=0;for(const o of e)yield t.call(r,o,i,e),yield n.call(r,o,i,e),++i}function MN(e){J.call(this,null,e)}MN.Definition={type:"Voronoi",metadata:{modifies:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"size",type:"number",array:!0,length:2},{name:"extent",type:"array",array:!0,length:2,default:[[-1e5,-1e5],[1e5,1e5]],content:{type:"number",array:!0,length:2}},{name:"as",type:"string",default:"path"}]};const P3e=[-1e5,-1e5,1e5,1e5];he(MN,J,{transform(e,t){const n=e.as||"path",r=t.source;if(!r||!r.length)return t;let i=e.size;i=i?[0,0,i[0],i[1]]:(i=e.extent)?[i[0][0],i[0][1],i[1][0],i[1][1]]:P3e;const o=this.value=DN.from(r,e.x,e.y).voronoi(i);for(let s=0,a=r.length;s<a;++s){const l=o.cellPolygon(s);r[s][n]=l&&!M3e(l)?D3e(l):null}return t.reflow(e.modified()).modifies(n)}});function D3e(e){const t=e[0][0],n=e[0][1];let r=e.length-1;for(;e[r][0]===t&&e[r][1]===n;--r);return"M"+e.slice(0,r+1).join("L")+"Z"}function M3e(e){return e.length===2&&e[0][0]===e[1][0]&&e[0][1]===e[1][1]}const N3e=Object.freeze(Object.defineProperty({__proto__:null,voronoi:MN},Symbol.toStringTag,{value:"Module"}));var VT=Math.PI/180,x1=64,uS=2048;function L3e(){var e=[256,256],t,n,r,i,o,s,a,l=pre,u=[],c=Math.random,f={};f.layout=function(){for(var p=d(Yc()),g=V3e((e[0]>>5)*e[1]),m=null,y=u.length,v=-1,b=[],x=u.map(E=>({text:t(E),font:n(E),style:i(E),weight:o(E),rotate:s(E),size:~~(r(E)+1e-14),padding:a(E),xoff:0,yoff:0,x1:0,y1:0,x0:0,y0:0,hasText:!1,sprite:null,datum:E})).sort((E,S)=>S.size-E.size);++v<y;){var w=x[v];w.x=e[0]*(c()+.5)>>1,w.y=e[1]*(c()+.5)>>1,I3e(p,w,x,v),w.hasText&&h(g,w,m)&&(b.push(w),m?B3e(m,w):m=[{x:w.x+w.x0,y:w.y+w.y0},{x:w.x+w.x1,y:w.y+w.y1}],w.x-=e[0]>>1,w.y-=e[1]>>1)}return b};function d(p){p.width=p.height=1;var g=Math.sqrt(p.getContext("2d").getImageData(0,0,1,1).data.length>>2);p.width=(x1<<5)/g,p.height=uS/g;var m=p.getContext("2d");return m.fillStyle=m.strokeStyle="red",m.textAlign="center",{context:m,ratio:g}}function h(p,g,m){for(var y=g.x,v=g.y,b=Math.hypot(e[0],e[1]),x=l(e),w=c()<.5?1:-1,E=-w,S,k,$;(S=x(E+=w))&&(k=~~S[0],$=~~S[1],!(Math.min(Math.abs(k),Math.abs($))>=b));)if(g.x=y+k,g.y=v+$,!(g.x+g.x0<0||g.y+g.y0<0||g.x+g.x1>e[0]||g.y+g.y1>e[1])&&(!m||!z3e(g,p,e[0]))&&(!m||j3e(g,m))){for(var F=g.sprite,P=g.width>>5,j=e[0]>>5,D=g.x-(P<<4),L=D&127,A=32-L,O=g.y1-g.y0,B=(g.y+g.y0)*j+(D>>5),z,U=0;U<O;U++){z=0;for(var X=0;X<=P;X++)p[B+X]|=z<<A|(X<P?(z=F[U*P+X])>>>L:0);B+=j}return g.sprite=null,!0}return!1}return f.words=function(p){return arguments.length?(u=p,f):u},f.size=function(p){return arguments.length?(e=[+p[0],+p[1]],f):e},f.font=function(p){return arguments.length?(n=od(p),f):n},f.fontStyle=function(p){return arguments.length?(i=od(p),f):i},f.fontWeight=function(p){return arguments.length?(o=od(p),f):o},f.rotate=function(p){return arguments.length?(s=od(p),f):s},f.text=function(p){return arguments.length?(t=od(p),f):t},f.spiral=function(p){return arguments.length?(l=W3e[p]||p,f):l},f.fontSize=function(p){return arguments.length?(r=od(p),f):r},f.padding=function(p){return arguments.length?(a=od(p),f):a},f.random=function(p){return arguments.length?(c=p,f):c},f}function I3e(e,t,n,r){if(!t.sprite){var i=e.context,o=e.ratio;i.clearRect(0,0,(x1<<5)/o,uS/o);var s=0,a=0,l=0,u=n.length,c,f,d,h,p;for(--r;++r<u;){if(t=n[r],i.save(),i.font=t.style+" "+t.weight+" "+~~((t.size+1)/o)+"px "+t.font,c=i.measureText(t.text+"m").width*o,d=t.size<<1,t.rotate){var g=Math.sin(t.rotate*VT),m=Math.cos(t.rotate*VT),y=c*m,v=c*g,b=d*m,x=d*g;c=Math.max(Math.abs(y+x),Math.abs(y-x))+31>>5<<5,d=~~Math.max(Math.abs(v+b),Math.abs(v-b))}else c=c+31>>5<<5;if(d>l&&(l=d),s+c>=x1<<5&&(s=0,a+=l,l=0),a+d>=uS)break;i.translate((s+(c>>1))/o,(a+(d>>1))/o),t.rotate&&i.rotate(t.rotate*VT),i.fillText(t.text,0,0),t.padding&&(i.lineWidth=2*t.padding,i.strokeText(t.text,0,0)),i.restore(),t.width=c,t.height=d,t.xoff=s,t.yoff=a,t.x1=c>>1,t.y1=d>>1,t.x0=-t.x1,t.y0=-t.y1,t.hasText=!0,s+=c}for(var w=i.getImageData(0,0,(x1<<5)/o,uS/o).data,E=[];--r>=0;)if(t=n[r],!!t.hasText){for(c=t.width,f=c>>5,d=t.y1-t.y0,h=0;h<d*f;h++)E[h]=0;if(s=t.xoff,s==null)return;a=t.yoff;var S=0,k=-1;for(p=0;p<d;p++){for(h=0;h<c;h++){var $=f*p+(h>>5),F=w[(a+p)*(x1<<5)+(s+h)<<2]?1<<31-h%32:0;E[$]|=F,S|=F}S?k=p:(t.y0++,d--,p--,a++)}t.y1=t.y0+k,t.sprite=E.slice(0,(t.y1-t.y0)*f)}}}function z3e(e,t,n){n>>=5;for(var r=e.sprite,i=e.width>>5,o=e.x-(i<<4),s=o&127,a=32-s,l=e.y1-e.y0,u=(e.y+e.y0)*n+(o>>5),c,f=0;f<l;f++){c=0;for(var d=0;d<=i;d++)if((c<<a|(d<i?(c=r[f*i+d])>>>s:0))&t[u+d])return!0;u+=n}return!1}function B3e(e,t){var n=e[0],r=e[1];t.x+t.x0<n.x&&(n.x=t.x+t.x0),t.y+t.y0<n.y&&(n.y=t.y+t.y0),t.x+t.x1>r.x&&(r.x=t.x+t.x1),t.y+t.y1>r.y&&(r.y=t.y+t.y1)}function j3e(e,t){return e.x+e.x1>t[0].x&&e.x+e.x0<t[1].x&&e.y+e.y1>t[0].y&&e.y+e.y0<t[1].y}function pre(e){var t=e[0]/e[1];return function(n){return[t*(n*=.1)*Math.cos(n),n*Math.sin(n)]}}function U3e(e){var t=4,n=t*e[0]/e[1],r=0,i=0;return function(o){var s=o<0?-1:1;switch(Math.sqrt(1+4*s*o)-s&3){case 0:r+=n;break;case 1:i+=t;break;case 2:r-=n;break;default:i-=t;break}return[r,i]}}function V3e(e){for(var t=[],n=-1;++n<e;)t[n]=0;return t}function od(e){return typeof e=="function"?e:function(){return e}}var W3e={archimedean:pre,rectangular:U3e};const gre=["x","y","font","fontSize","fontStyle","fontWeight","angle"],H3e=["text","font","rotate","fontSize","fontStyle","fontWeight"];function NN(e){J.call(this,L3e(),e)}NN.Definition={type:"Wordcloud",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2},{name:"font",type:"string",expr:!0,default:"sans-serif"},{name:"fontStyle",type:"string",expr:!0,default:"normal"},{name:"fontWeight",type:"string",expr:!0,default:"normal"},{name:"fontSize",type:"number",expr:!0,default:14},{name:"fontSizeRange",type:"number",array:"nullable",default:[10,50]},{name:"rotate",type:"number",expr:!0,default:0},{name:"text",type:"field"},{name:"spiral",type:"string",values:["archimedean","rectangular"]},{name:"padding",type:"number",expr:!0},{name:"as",type:"string",array:!0,length:7,default:gre}]};he(NN,J,{transform(e,t){e.size&&!(e.size[0]&&e.size[1])&&ee("Wordcloud size dimensions must be non-zero.");function n(p){const g=e[p];return et(g)&&t.modified(g.fields)}const r=e.modified();if(!(r||t.changed(t.ADD_REM)||H3e.some(n)))return;const i=t.materialize(t.SOURCE).source,o=this.value,s=e.as||gre;let a=e.fontSize||14,l;if(et(a)?l=e.fontSizeRange:a=li(a),l){const p=a,g=Et("sqrt")().domain(vl(i,p)).range(l);a=m=>g(p(m))}i.forEach(p=>{p[s[0]]=NaN,p[s[1]]=NaN,p[s[3]]=0});const u=o.words(i).text(e.text).size(e.size||[500,500]).padding(e.padding||1).spiral(e.spiral||"archimedean").rotate(e.rotate||0).font(e.font||"sans-serif").fontStyle(e.fontStyle||"normal").fontWeight(e.fontWeight||"normal").fontSize(a).random(Cs).layout(),c=o.size(),f=c[0]>>1,d=c[1]>>1,h=u.length;for(let p=0,g,m;p<h;++p)g=u[p],m=g.datum,m[s[0]]=g.x+f,m[s[1]]=g.y+d,m[s[2]]=g.font,m[s[3]]=g.size,m[s[4]]=g.style,m[s[5]]=g.weight,m[s[6]]=g.rotate;return t.reflow(r).modifies(s)}});const q3e=Object.freeze(Object.defineProperty({__proto__:null,wordcloud:NN},Symbol.toStringTag,{value:"Module"})),G3e=e=>new Uint8Array(e),X3e=e=>new Uint16Array(e),X1=e=>new Uint32Array(e);function Y3e(){let e=8,t=[],n=X1(0),r=W2(0,e),i=W2(0,e);return{data:()=>t,seen:()=>n=K3e(n,t.length),add(o){for(let s=0,a=t.length,l=o.length,u;s<l;++s)u=o[s],u._index=a++,t.push(u)},remove(o,s){const a=t.length,l=Array(a-o),u=t;let c,f,d;for(f=0;!s[f]&&f<a;++f)l[f]=t[f],u[f]=f;for(d=f;f<a;++f)c=t[f],s[f]?u[f]=-1:(u[f]=d,r[d]=r[f],i[d]=i[f],l[d]=c,c._index=d++),r[f]=0;return t=l,u},size:()=>t.length,curr:()=>r,prev:()=>i,reset:o=>i[o]=r[o],all:()=>e<257?255:e<65537?65535:4294967295,set(o,s){r[o]|=s},clear(o,s){r[o]&=~s},resize(o,s){const a=r.length;(o>a||s>e)&&(e=Math.max(s,e),r=W2(o,e,r),i=W2(o,e))}}}function K3e(e,t,n){return e.length>=t?e:(n=n||new e.constructor(t),n.set(e),n)}function W2(e,t,n){const r=(t<257?G3e:t<65537?X3e:X1)(e);return n&&r.set(n),r}function Qj(e,t,n){const r=1<<t;return{one:r,zero:~r,range:n.slice(),bisect:e.bisect,index:e.index,size:e.size,onAdd(i,o){const s=this,a=s.bisect(s.range,i.value),l=i.index,u=a[0],c=a[1],f=l.length;let d;for(d=0;d<u;++d)o[l[d]]|=r;for(d=c;d<f;++d)o[l[d]]|=r;return s}}}function Jj(){let e=X1(0),t=[],n=0;function r(a,l,u){if(!l.length)return[];const c=n,f=l.length,d=X1(f);let h=Array(f),p,g,m;for(m=0;m<f;++m)h[m]=a(l[m]),d[m]=m;if(h=Q3e(h,d),c)p=t,g=e,t=Array(c+f),e=X1(c+f),J3e(u,p,g,c,h,d,f,t,e);else{if(u>0)for(m=0;m<f;++m)d[m]+=u;t=h,e=d}return n=c+f,{index:d,value:h}}function i(a,l){const u=n;let c,f,d;for(f=0;!l[e[f]]&&f<u;++f);for(d=f;f<u;++f)l[c=e[f]]||(e[d]=c,t[d]=t[f],++d);n=u-a}function o(a){for(let l=0,u=n;l<u;++l)e[l]=a[e[l]]}function s(a,l){let u;return l?u=l.length:(l=t,u=n),[uve(l,a[0],0,u),uf(l,a[1],0,u)]}return{insert:r,remove:i,bisect:s,reindex:o,index:()=>e,size:()=>n}}function Q3e(e,t){return e.sort.call(t,(n,r)=>{const i=e[n],o=e[r];return i<o?-1:i>o?1:0}),dve(e,t)}function J3e(e,t,n,r,i,o,s,a,l){let u=0,c=0,f;for(f=0;u<r&&c<s;++f)t[u]<i[c]?(a[f]=t[u],l[f]=n[u++]):(a[f]=i[c],l[f]=o[c++]+e);for(;u<r;++u,++f)a[f]=t[u],l[f]=n[u];for(;c<s;++c,++f)a[f]=i[c],l[f]=o[c]+e}function LN(e){J.call(this,Y3e(),e),this._indices=null,this._dims=null}LN.Definition={type:"CrossFilter",metadata:{},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"query",type:"array",array:!0,required:!0,content:{type:"number",array:!0,length:2}}]};he(LN,J,{transform(e,t){if(this._dims){var n=e.modified("fields")||e.fields.some(r=>t.modified(r.fields));return n?this.reinit(e,t):this.eval(e,t)}else return this.init(e,t)},init(e,t){const n=e.fields,r=e.query,i=this._indices={},o=this._dims=[],s=r.length;let a=0,l,u;for(;a<s;++a)l=n[a].fname,u=i[l]||(i[l]=Jj()),o.push(Qj(u,a,r[a]));return this.eval(e,t)},reinit(e,t){const n=t.materialize().fork(),r=e.fields,i=e.query,o=this._indices,s=this._dims,a=this.value,l=a.curr(),u=a.prev(),c=a.all(),f=n.rem=n.add,d=n.mod,h=i.length,p={};let g,m,y,v,b,x,w,E,S;if(u.set(l),t.rem.length&&(b=this.remove(e,t,n)),t.add.length&&a.add(t.add),t.mod.length)for(x={},v=t.mod,w=0,E=v.length;w<E;++w)x[v[w]._index]=1;for(w=0;w<h;++w)S=r[w],(!s[w]||e.modified("fields",w)||t.modified(S.fields))&&(y=S.fname,(g=p[y])||(o[y]=m=Jj(),p[y]=g=m.insert(S,t.source,0)),s[w]=Qj(m,w,i[w]).onAdd(g,l));for(w=0,E=a.data().length;w<E;++w)b[w]||(u[w]!==l[w]?f.push(w):x[w]&&l[w]!==c&&d.push(w));return a.mask=(1<<h)-1,n},eval(e,t){const n=t.materialize().fork(),r=this._dims.length;let i=0;return t.rem.length&&(this.remove(e,t,n),i|=(1<<r)-1),e.modified("query")&&!e.modified("fields")&&(i|=this.update(e,t,n)),t.add.length&&(this.insert(e,t,n),i|=(1<<r)-1),t.mod.length&&(this.modify(t,n),i|=(1<<r)-1),this.value.mask=i,n},insert(e,t,n){const r=t.add,i=this.value,o=this._dims,s=this._indices,a=e.fields,l={},u=n.add,c=i.size()+r.length,f=o.length;let d=i.size(),h,p,g;i.resize(c,f),i.add(r);const m=i.curr(),y=i.prev(),v=i.all();for(h=0;h<f;++h)p=a[h].fname,g=l[p]||(l[p]=s[p].insert(a[h],r,d)),o[h].onAdd(g,m);for(;d<c;++d)y[d]=v,m[d]!==v&&u.push(d)},modify(e,t){const n=t.mod,r=this.value,i=r.curr(),o=r.all(),s=e.mod;let a,l,u;for(a=0,l=s.length;a<l;++a)u=s[a]._index,i[u]!==o&&n.push(u)},remove(e,t,n){const r=this._indices,i=this.value,o=i.curr(),s=i.prev(),a=i.all(),l={},u=n.rem,c=t.rem;let f,d,h,p;for(f=0,d=c.length;f<d;++f)h=c[f]._index,l[h]=1,s[h]=p=o[h],o[h]=a,p!==a&&u.push(h);for(h in r)r[h].remove(d,l);return this.reindex(t,d,l),l},reindex(e,t,n){const r=this._indices,i=this.value;e.runAfter(()=>{const o=i.remove(t,n);for(const s in r)r[s].reindex(o)})},update(e,t,n){const r=this._dims,i=e.query,o=t.stamp,s=r.length;let a=0,l,u;for(n.filters=0,u=0;u<s;++u)e.modified("query",u)&&(l=u,++a);if(a===1)a=r[l].one,this.incrementOne(r[l],i[l],n.add,n.rem);else for(u=0,a=0;u<s;++u)e.modified("query",u)&&(a|=r[u].one,this.incrementAll(r[u],i[u],o,n.add),n.rem=n.add);return a},incrementAll(e,t,n,r){const i=this.value,o=i.seen(),s=i.curr(),a=i.prev(),l=e.index(),u=e.bisect(e.range),c=e.bisect(t),f=c[0],d=c[1],h=u[0],p=u[1],g=e.one;let m,y,v;if(f<h)for(m=f,y=Math.min(h,d);m<y;++m)v=l[m],o[v]!==n&&(a[v]=s[v],o[v]=n,r.push(v)),s[v]^=g;else if(f>h)for(m=h,y=Math.min(f,p);m<y;++m)v=l[m],o[v]!==n&&(a[v]=s[v],o[v]=n,r.push(v)),s[v]^=g;if(d>p)for(m=Math.max(f,p),y=d;m<y;++m)v=l[m],o[v]!==n&&(a[v]=s[v],o[v]=n,r.push(v)),s[v]^=g;else if(d<p)for(m=Math.max(h,d),y=p;m<y;++m)v=l[m],o[v]!==n&&(a[v]=s[v],o[v]=n,r.push(v)),s[v]^=g;e.range=t.slice()},incrementOne(e,t,n,r){const i=this.value,o=i.curr(),s=e.index(),a=e.bisect(e.range),l=e.bisect(t),u=l[0],c=l[1],f=a[0],d=a[1],h=e.one;let p,g,m;if(u<f)for(p=u,g=Math.min(f,c);p<g;++p)m=s[p],o[m]^=h,n.push(m);else if(u>f)for(p=f,g=Math.min(u,d);p<g;++p)m=s[p],o[m]^=h,r.push(m);if(c>d)for(p=Math.max(u,d),g=c;p<g;++p)m=s[p],o[m]^=h,n.push(m);else if(c<d)for(p=Math.max(f,c),g=d;p<g;++p)m=s[p],o[m]^=h,r.push(m);e.range=t.slice()}});function IN(e){J.call(this,null,e)}IN.Definition={type:"ResolveFilter",metadata:{},params:[{name:"ignore",type:"number",required:!0,description:"A bit mask indicating which filters to ignore."},{name:"filter",type:"object",required:!0,description:"Per-tuple filter bitmaps from a CrossFilter transform."}]};he(IN,J,{transform(e,t){const n=~(e.ignore||0),r=e.filter,i=r.mask;if(!(i&n))return t.StopPropagation;const o=t.fork(t.ALL),s=r.data(),a=r.curr(),l=r.prev(),u=c=>a[c]&n?null:s[c];return o.filter(o.MOD,u),i&i-1?(o.filter(o.ADD,c=>{const f=a[c]&n;return!f&&f^l[c]&n?s[c]:null}),o.filter(o.REM,c=>{const f=a[c]&n;return f&&!(f^(f^l[c]&n))?s[c]:null})):(o.filter(o.ADD,u),o.filter(o.REM,c=>(a[c]&n)===i?s[c]:null)),o.filter(o.SOURCE,c=>u(c._index))}});const Z3e=Object.freeze(Object.defineProperty({__proto__:null,crossfilter:LN,resolvefilter:IN},Symbol.toStringTag,{value:"Module"})),e4e="RawCode",Eh="Literal",t4e="Property",n4e="Identifier",r4e="ArrayExpression",i4e="BinaryExpression",mre="CallExpression",o4e="ConditionalExpression",s4e="LogicalExpression",a4e="MemberExpression",l4e="ObjectExpression",u4e="UnaryExpression";function Sa(e){this.type=e}Sa.prototype.visit=function(e){let t,n,r;if(e(this))return 1;for(t=c4e(this),n=0,r=t.length;n<r;++n)if(t[n].visit(e))return 1};function c4e(e){switch(e.type){case r4e:return e.elements;case i4e:case s4e:return[e.left,e.right];case mre:return[e.callee].concat(e.arguments);case o4e:return[e.test,e.consequent,e.alternate];case a4e:return[e.object,e.property];case l4e:return e.properties;case t4e:return[e.key,e.value];case u4e:return[e.argument];case n4e:case Eh:case e4e:default:return[]}}var Fl,Te,Z,oi,zt,O_=1,dx=2,kh=3,Nf=4,P_=5,np=6,qi=7,hx=8,f4e=9;Fl={};Fl[O_]="Boolean";Fl[dx]="<end>";Fl[kh]="Identifier";Fl[Nf]="Keyword";Fl[P_]="Null";Fl[np]="Numeric";Fl[qi]="Punctuator";Fl[hx]="String";Fl[f4e]="RegularExpression";var d4e="ArrayExpression",h4e="BinaryExpression",p4e="CallExpression",g4e="ConditionalExpression",yre="Identifier",m4e="Literal",y4e="LogicalExpression",v4e="MemberExpression",b4e="ObjectExpression",x4e="Property",w4e="UnaryExpression",gr="Unexpected token %0",S4e="Unexpected number",C4e="Unexpected string",E4e="Unexpected identifier",k4e="Unexpected reserved word",_4e="Unexpected end of input",xF="Invalid regular expression",WT="Invalid regular expression: missing /",vre="Octal literals are not allowed in strict mode.",$4e="Duplicate data property in object literal not allowed in strict mode",Pr="ILLEGAL",Lv="Disabled.",A4e=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B2\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]"),T4e=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0300-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u0483-\\u0487\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0610-\\u061A\\u0620-\\u0669\\u066E-\\u06D3\\u06D5-\\u06DC\\u06DF-\\u06E8\\u06EA-\\u06FC\\u06FF\\u0710-\\u074A\\u074D-\\u07B1\\u07C0-\\u07F5\\u07FA\\u0800-\\u082D\\u0840-\\u085B\\u08A0-\\u08B2\\u08E4-\\u0963\\u0966-\\u096F\\u0971-\\u0983\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BC-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CE\\u09D7\\u09DC\\u09DD\\u09DF-\\u09E3\\u09E6-\\u09F1\\u0A01-\\u0A03\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A75\\u0A81-\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABC-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AD0\\u0AE0-\\u0AE3\\u0AE6-\\u0AEF\\u0B01-\\u0B03\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3C-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B5C\\u0B5D\\u0B5F-\\u0B63\\u0B66-\\u0B6F\\u0B71\\u0B82\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD0\\u0BD7\\u0BE6-\\u0BEF\\u0C00-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C58\\u0C59\\u0C60-\\u0C63\\u0C66-\\u0C6F\\u0C81-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBC-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CDE\\u0CE0-\\u0CE3\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D01-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4E\\u0D57\\u0D60-\\u0D63\\u0D66-\\u0D6F\\u0D7A-\\u0D7F\\u0D82\\u0D83\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DE6-\\u0DEF\\u0DF2\\u0DF3\\u0E01-\\u0E3A\\u0E40-\\u0E4E\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB9\\u0EBB-\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F18\\u0F19\\u0F20-\\u0F29\\u0F35\\u0F37\\u0F39\\u0F3E-\\u0F47\\u0F49-\\u0F6C\\u0F71-\\u0F84\\u0F86-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u1000-\\u1049\\u1050-\\u109D\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u135D-\\u135F\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176C\\u176E-\\u1770\\u1772\\u1773\\u1780-\\u17D3\\u17D7\\u17DC\\u17DD\\u17E0-\\u17E9\\u180B-\\u180D\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19D9\\u1A00-\\u1A1B\\u1A20-\\u1A5E\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1AB0-\\u1ABD\\u1B00-\\u1B4B\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1BF3\\u1C00-\\u1C37\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1CD0-\\u1CD2\\u1CD4-\\u1CF6\\u1CF8\\u1CF9\\u1D00-\\u1DF5\\u1DFC-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u200C\\u200D\\u203F\\u2040\\u2054\\u2071\\u207F\\u2090-\\u209C\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D7F-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2DE0-\\u2DFF\\u2E2F\\u3005-\\u3007\\u3021-\\u302F\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u3099\\u309A\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66F\\uA674-\\uA67D\\uA67F-\\uA69D\\uA69F-\\uA6F1\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA827\\uA840-\\uA873\\uA880-\\uA8C4\\uA8D0-\\uA8D9\\uA8E0-\\uA8F7\\uA8FB\\uA900-\\uA92D\\uA930-\\uA953\\uA960-\\uA97C\\uA980-\\uA9C0\\uA9CF-\\uA9D9\\uA9E0-\\uA9FE\\uAA00-\\uAA36\\uAA40-\\uAA4D\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A-\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEF\\uAAF2-\\uAAF6\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABEA\\uABEC\\uABED\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE00-\\uFE0F\\uFE20-\\uFE2D\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF3F\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]");function D_(e,t){if(!e)throw new Error("ASSERT: "+t)}function Jl(e){return e>=48&&e<=57}function zN(e){return"0123456789abcdefABCDEF".includes(e)}function Y1(e){return"01234567".includes(e)}function R4e(e){return e===32||e===9||e===11||e===12||e===160||e>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].includes(e)}function Iv(e){return e===10||e===13||e===8232||e===8233}function px(e){return e===36||e===95||e>=65&&e<=90||e>=97&&e<=122||e===92||e>=128&&A4e.test(String.fromCharCode(e))}function cE(e){return e===36||e===95||e>=65&&e<=90||e>=97&&e<=122||e>=48&&e<=57||e===92||e>=128&&T4e.test(String.fromCharCode(e))}const F4e={if:1,in:1,do:1,var:1,for:1,new:1,try:1,let:1,this:1,else:1,case:1,void:1,with:1,enum:1,while:1,break:1,catch:1,throw:1,const:1,yield:1,class:1,super:1,return:1,typeof:1,delete:1,switch:1,export:1,import:1,public:1,static:1,default:1,finally:1,extends:1,package:1,private:1,function:1,continue:1,debugger:1,interface:1,protected:1,instanceof:1,implements:1};function bre(){for(;Z<oi;){const e=Te.charCodeAt(Z);if(R4e(e)||Iv(e))++Z;else break}}function wF(e){var t,n,r,i=0;for(n=e==="u"?4:2,t=0;t<n;++t)Z<oi&&zN(Te[Z])?(r=Te[Z++],i=i*16+"0123456789abcdef".indexOf(r.toLowerCase())):wt({},gr,Pr);return String.fromCharCode(i)}function O4e(){var e,t,n,r;for(e=Te[Z],t=0,e==="}"&&wt({},gr,Pr);Z<oi&&(e=Te[Z++],!!zN(e));)t=t*16+"0123456789abcdef".indexOf(e.toLowerCase());return(t>1114111||e!=="}")&&wt({},gr,Pr),t<=65535?String.fromCharCode(t):(n=(t-65536>>10)+55296,r=(t-65536&1023)+56320,String.fromCharCode(n,r))}function xre(){var e,t;for(e=Te.charCodeAt(Z++),t=String.fromCharCode(e),e===92&&(Te.charCodeAt(Z)!==117&&wt({},gr,Pr),++Z,e=wF("u"),(!e||e==="\\"||!px(e.charCodeAt(0)))&&wt({},gr,Pr),t=e);Z<oi&&(e=Te.charCodeAt(Z),!!cE(e));)++Z,t+=String.fromCharCode(e),e===92&&(t=t.substr(0,t.length-1),Te.charCodeAt(Z)!==117&&wt({},gr,Pr),++Z,e=wF("u"),(!e||e==="\\"||!cE(e.charCodeAt(0)))&&wt({},gr,Pr),t+=e);return t}function P4e(){var e,t;for(e=Z++;Z<oi;){if(t=Te.charCodeAt(Z),t===92)return Z=e,xre();if(cE(t))++Z;else break}return Te.slice(e,Z)}function D4e(){var e,t,n;return e=Z,t=Te.charCodeAt(Z)===92?xre():P4e(),t.length===1?n=kh:F4e.hasOwnProperty(t)?n=Nf:t==="null"?n=P_:t==="true"||t==="false"?n=O_:n=kh,{type:n,value:t,start:e,end:Z}}function HT(){var e=Z,t=Te.charCodeAt(Z),n,r=Te[Z],i,o,s;switch(t){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++Z,{type:qi,value:String.fromCharCode(t),start:e,end:Z};default:if(n=Te.charCodeAt(Z+1),n===61)switch(t){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return Z+=2,{type:qi,value:String.fromCharCode(t)+String.fromCharCode(n),start:e,end:Z};case 33:case 61:return Z+=2,Te.charCodeAt(Z)===61&&++Z,{type:qi,value:Te.slice(e,Z),start:e,end:Z}}}if(s=Te.substr(Z,4),s===">>>=")return Z+=4,{type:qi,value:s,start:e,end:Z};if(o=s.substr(0,3),o===">>>"||o==="<<="||o===">>=")return Z+=3,{type:qi,value:o,start:e,end:Z};if(i=o.substr(0,2),r===i[1]&&"+-<>&|".includes(r)||i==="=>")return Z+=2,{type:qi,value:i,start:e,end:Z};if(i==="//"&&wt({},gr,Pr),"<>=!+-*%&|^/".includes(r))return++Z,{type:qi,value:r,start:e,end:Z};wt({},gr,Pr)}function M4e(e){let t="";for(;Z<oi&&zN(Te[Z]);)t+=Te[Z++];return t.length===0&&wt({},gr,Pr),px(Te.charCodeAt(Z))&&wt({},gr,Pr),{type:np,value:parseInt("0x"+t,16),start:e,end:Z}}function N4e(e){let t="0"+Te[Z++];for(;Z<oi&&Y1(Te[Z]);)t+=Te[Z++];return(px(Te.charCodeAt(Z))||Jl(Te.charCodeAt(Z)))&&wt({},gr,Pr),{type:np,value:parseInt(t,8),octal:!0,start:e,end:Z}}function Zj(){var e,t,n;if(n=Te[Z],D_(Jl(n.charCodeAt(0))||n===".","Numeric literal must start with a decimal digit or a decimal point"),t=Z,e="",n!=="."){if(e=Te[Z++],n=Te[Z],e==="0"){if(n==="x"||n==="X")return++Z,M4e(t);if(Y1(n))return N4e(t);n&&Jl(n.charCodeAt(0))&&wt({},gr,Pr)}for(;Jl(Te.charCodeAt(Z));)e+=Te[Z++];n=Te[Z]}if(n==="."){for(e+=Te[Z++];Jl(Te.charCodeAt(Z));)e+=Te[Z++];n=Te[Z]}if(n==="e"||n==="E")if(e+=Te[Z++],n=Te[Z],(n==="+"||n==="-")&&(e+=Te[Z++]),Jl(Te.charCodeAt(Z)))for(;Jl(Te.charCodeAt(Z));)e+=Te[Z++];else wt({},gr,Pr);return px(Te.charCodeAt(Z))&&wt({},gr,Pr),{type:np,value:parseFloat(e),start:t,end:Z}}function L4e(){var e="",t,n,r,i,o=!1;for(t=Te[Z],D_(t==="'"||t==='"',"String literal must starts with a quote"),n=Z,++Z;Z<oi;)if(r=Te[Z++],r===t){t="";break}else if(r==="\\")if(r=Te[Z++],!r||!Iv(r.charCodeAt(0)))switch(r){case"u":case"x":Te[Z]==="{"?(++Z,e+=O4e()):e+=wF(r);break;case"n":e+=`
`;break;case"r":e+="\r";break;case"t":e+="	";break;case"b":e+="\b";break;case"f":e+="\f";break;case"v":e+="\v";break;default:Y1(r)?(i="01234567".indexOf(r),i!==0&&(o=!0),Z<oi&&Y1(Te[Z])&&(o=!0,i=i*8+"01234567".indexOf(Te[Z++]),"0123".includes(r)&&Z<oi&&Y1(Te[Z])&&(i=i*8+"01234567".indexOf(Te[Z++]))),e+=String.fromCharCode(i)):e+=r;break}else r==="\r"&&Te[Z]===`
`&&++Z;else{if(Iv(r.charCodeAt(0)))break;e+=r}return t!==""&&wt({},gr,Pr),{type:hx,value:e,octal:o,start:n,end:Z}}function I4e(e,t){let n=e;t.includes("u")&&(n=n.replace(/\\u\{([0-9a-fA-F]+)\}/g,(r,i)=>{if(parseInt(i,16)<=1114111)return"x";wt({},xF)}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(n)}catch{wt({},xF)}try{return new RegExp(e,t)}catch{return null}}function z4e(){var e,t,n,r,i;for(e=Te[Z],D_(e==="/","Regular expression literal must start with a slash"),t=Te[Z++],n=!1,r=!1;Z<oi;)if(e=Te[Z++],t+=e,e==="\\")e=Te[Z++],Iv(e.charCodeAt(0))&&wt({},WT),t+=e;else if(Iv(e.charCodeAt(0)))wt({},WT);else if(n)e==="]"&&(n=!1);else if(e==="/"){r=!0;break}else e==="["&&(n=!0);return r||wt({},WT),i=t.substr(1,t.length-2),{value:i,literal:t}}function B4e(){var e,t,n;for(t="",n="";Z<oi&&(e=Te[Z],!!cE(e.charCodeAt(0)));)++Z,e==="\\"&&Z<oi?wt({},gr,Pr):(n+=e,t+=e);return n.search(/[^gimuy]/g)>=0&&wt({},xF,n),{value:n,literal:t}}function j4e(){var e,t,n,r;return zt=null,bre(),e=Z,t=z4e(),n=B4e(),r=I4e(t.value,n.value),{literal:t.literal+n.literal,value:r,regex:{pattern:t.value,flags:n.value},start:e,end:Z}}function U4e(e){return e.type===kh||e.type===Nf||e.type===O_||e.type===P_}function wre(){if(bre(),Z>=oi)return{type:dx,start:Z,end:Z};const e=Te.charCodeAt(Z);return px(e)?D4e():e===40||e===41||e===59?HT():e===39||e===34?L4e():e===46?Jl(Te.charCodeAt(Z+1))?Zj():HT():Jl(e)?Zj():HT()}function Yi(){const e=zt;return Z=e.end,zt=wre(),Z=e.end,e}function Sre(){const e=Z;zt=wre(),Z=e}function V4e(e){const t=new Sa(d4e);return t.elements=e,t}function eU(e,t,n){const r=new Sa(e==="||"||e==="&&"?y4e:h4e);return r.operator=e,r.left=t,r.right=n,r}function W4e(e,t){const n=new Sa(p4e);return n.callee=e,n.arguments=t,n}function H4e(e,t,n){const r=new Sa(g4e);return r.test=e,r.consequent=t,r.alternate=n,r}function BN(e){const t=new Sa(yre);return t.name=e,t}function w1(e){const t=new Sa(m4e);return t.value=e.value,t.raw=Te.slice(e.start,e.end),e.regex&&(t.raw==="//"&&(t.raw="/(?:)/"),t.regex=e.regex),t}function tU(e,t,n){const r=new Sa(v4e);return r.computed=e==="[",r.object=t,r.property=n,r.computed||(n.member=!0),r}function q4e(e){const t=new Sa(b4e);return t.properties=e,t}function nU(e,t,n){const r=new Sa(x4e);return r.key=t,r.value=n,r.kind=e,r}function G4e(e,t){const n=new Sa(w4e);return n.operator=e,n.argument=t,n.prefix=!0,n}function wt(e,t){var n,r=Array.prototype.slice.call(arguments,2),i=t.replace(/%(\d)/g,(o,s)=>(D_(s<r.length,"Message reference must be in range"),r[s]));throw n=new Error(i),n.index=Z,n.description=i,n}function M_(e){e.type===dx&&wt(e,_4e),e.type===np&&wt(e,S4e),e.type===hx&&wt(e,C4e),e.type===kh&&wt(e,E4e),e.type===Nf&&wt(e,k4e),wt(e,gr,e.value)}function si(e){const t=Yi();(t.type!==qi||t.value!==e)&&M_(t)}function an(e){return zt.type===qi&&zt.value===e}function qT(e){return zt.type===Nf&&zt.value===e}function X4e(){const e=[];for(Z=zt.start,si("[");!an("]");)an(",")?(Yi(),e.push(null)):(e.push(_h()),an("]")||si(","));return Yi(),V4e(e)}function rU(){Z=zt.start;const e=Yi();return e.type===hx||e.type===np?(e.octal&&wt(e,vre),w1(e)):BN(e.value)}function Y4e(){var e,t,n,r;if(Z=zt.start,e=zt,e.type===kh)return n=rU(),si(":"),r=_h(),nU("init",n,r);if(e.type===dx||e.type===qi)M_(e);else return t=rU(),si(":"),r=_h(),nU("init",t,r)}function K4e(){var e=[],t,n,r,i={},o=String;for(Z=zt.start,si("{");!an("}");)t=Y4e(),t.key.type===yre?n=t.key.name:n=o(t.key.value),r="$"+n,Object.prototype.hasOwnProperty.call(i,r)?wt({},$4e):i[r]=!0,e.push(t),an("}")||si(",");return si("}"),q4e(e)}function Q4e(){si("(");const e=jN();return si(")"),e}const J4e={if:1};function Z4e(){var e,t,n;if(an("("))return Q4e();if(an("["))return X4e();if(an("{"))return K4e();if(e=zt.type,Z=zt.start,e===kh||J4e[zt.value])n=BN(Yi().value);else if(e===hx||e===np)zt.octal&&wt(zt,vre),n=w1(Yi());else{if(e===Nf)throw new Error(Lv);e===O_?(t=Yi(),t.value=t.value==="true",n=w1(t)):e===P_?(t=Yi(),t.value=null,n=w1(t)):an("/")||an("/=")?(n=w1(j4e()),Sre()):M_(Yi())}return n}function eRe(){const e=[];if(si("("),!an(")"))for(;Z<oi&&(e.push(_h()),!an(")"));)si(",");return si(")"),e}function tRe(){Z=zt.start;const e=Yi();return U4e(e)||M_(e),BN(e.value)}function nRe(){return si("."),tRe()}function rRe(){si("[");const e=jN();return si("]"),e}function iRe(){var e,t,n;for(e=Z4e();;)if(an("."))n=nRe(),e=tU(".",e,n);else if(an("("))t=eRe(),e=W4e(e,t);else if(an("["))n=rRe(),e=tU("[",e,n);else break;return e}function iU(){const e=iRe();if(zt.type===qi&&(an("++")||an("--")))throw new Error(Lv);return e}function cS(){var e,t;if(zt.type!==qi&&zt.type!==Nf)t=iU();else{if(an("++")||an("--"))throw new Error(Lv);if(an("+")||an("-")||an("~")||an("!"))e=Yi(),t=cS(),t=G4e(e.value,t);else{if(qT("delete")||qT("void")||qT("typeof"))throw new Error(Lv);t=iU()}}return t}function oU(e){let t=0;if(e.type!==qi&&e.type!==Nf)return 0;switch(e.value){case"||":t=1;break;case"&&":t=2;break;case"|":t=3;break;case"^":t=4;break;case"&":t=5;break;case"==":case"!=":case"===":case"!==":t=6;break;case"<":case">":case"<=":case">=":case"instanceof":case"in":t=7;break;case"<<":case">>":case">>>":t=8;break;case"+":case"-":t=9;break;case"*":case"/":case"%":t=11;break}return t}function oRe(){var e,t,n,r,i,o,s,a,l,u;if(e=zt,l=cS(),r=zt,i=oU(r),i===0)return l;for(r.prec=i,Yi(),t=[e,zt],s=cS(),o=[l,r,s];(i=oU(zt))>0;){for(;o.length>2&&i<=o[o.length-2].prec;)s=o.pop(),a=o.pop().value,l=o.pop(),t.pop(),n=eU(a,l,s),o.push(n);r=Yi(),r.prec=i,o.push(r),t.push(zt),n=cS(),o.push(n)}for(u=o.length-1,n=o[u],t.pop();u>1;)t.pop(),n=eU(o[u-1].value,o[u-2],n),u-=2;return n}function _h(){var e,t,n;return e=oRe(),an("?")&&(Yi(),t=_h(),si(":"),n=_h(),e=H4e(e,t,n)),e}function jN(){const e=_h();if(an(","))throw new Error(Lv);return e}function UN(e){Te=e,Z=0,oi=Te.length,zt=null,Sre();const t=jN();if(zt.type!==dx)throw new Error("Unexpect token after expression.");return t}var Cre={NaN:"NaN",E:"Math.E",LN2:"Math.LN2",LN10:"Math.LN10",LOG2E:"Math.LOG2E",LOG10E:"Math.LOG10E",PI:"Math.PI",SQRT1_2:"Math.SQRT1_2",SQRT2:"Math.SQRT2",MIN_VALUE:"Number.MIN_VALUE",MAX_VALUE:"Number.MAX_VALUE"};function Ere(e){function t(s,a,l,u){let c=e(a[0]);return l&&(c=l+"("+c+")",l.lastIndexOf("new ",0)===0&&(c="("+c+")")),c+"."+s+(u<0?"":u===0?"()":"("+a.slice(1).map(e).join(",")+")")}function n(s,a,l){return u=>t(s,u,a,l)}const r="new Date",i="String",o="RegExp";return{isNaN:"Number.isNaN",isFinite:"Number.isFinite",abs:"Math.abs",acos:"Math.acos",asin:"Math.asin",atan:"Math.atan",atan2:"Math.atan2",ceil:"Math.ceil",cos:"Math.cos",exp:"Math.exp",floor:"Math.floor",hypot:"Math.hypot",log:"Math.log",max:"Math.max",min:"Math.min",pow:"Math.pow",random:"Math.random",round:"Math.round",sin:"Math.sin",sqrt:"Math.sqrt",tan:"Math.tan",clamp:function(s){s.length<3&&ee("Missing arguments to clamp function."),s.length>3&&ee("Too many arguments to clamp function.");const a=s.map(e);return"Math.max("+a[1]+", Math.min("+a[2]+","+a[0]+"))"},now:"Date.now",utc:"Date.UTC",datetime:r,date:n("getDate",r,0),day:n("getDay",r,0),year:n("getFullYear",r,0),month:n("getMonth",r,0),hours:n("getHours",r,0),minutes:n("getMinutes",r,0),seconds:n("getSeconds",r,0),milliseconds:n("getMilliseconds",r,0),time:n("getTime",r,0),timezoneoffset:n("getTimezoneOffset",r,0),utcdate:n("getUTCDate",r,0),utcday:n("getUTCDay",r,0),utcyear:n("getUTCFullYear",r,0),utcmonth:n("getUTCMonth",r,0),utchours:n("getUTCHours",r,0),utcminutes:n("getUTCMinutes",r,0),utcseconds:n("getUTCSeconds",r,0),utcmilliseconds:n("getUTCMilliseconds",r,0),length:n("length",null,-1),parseFloat:"parseFloat",parseInt:"parseInt",upper:n("toUpperCase",i,0),lower:n("toLowerCase",i,0),substring:n("substring",i),split:n("split",i),trim:n("trim",i,0),regexp:o,test:n("test",o),if:function(s){s.length<3&&ee("Missing arguments to if function."),s.length>3&&ee("Too many arguments to if function.");const a=s.map(e);return"("+a[0]+"?"+a[1]+":"+a[2]+")"}}}function sRe(e){const t=e&&e.length-1;return t&&(e[0]==='"'&&e[t]==='"'||e[0]==="'"&&e[t]==="'")?e.slice(1,-1):e}function kre(e){e=e||{};const t=e.allowed?da(e.allowed):{},n=e.forbidden?da(e.forbidden):{},r=e.constants||Cre,i=(e.functions||Ere)(f),o=e.globalvar,s=e.fieldvar,a=et(o)?o:p=>`${o}["${p}"]`;let l={},u={},c=0;function f(p){if(we(p))return p;const g=d[p.type];return g==null&&ee("Unsupported type: "+p.type),g(p)}const d={Literal:p=>p.raw,Identifier:p=>{const g=p.name;return c>0?g:Se(n,g)?ee("Illegal identifier: "+g):Se(r,g)?r[g]:Se(t,g)?g:(l[g]=1,a(g))},MemberExpression:p=>{const g=!p.computed,m=f(p.object);g&&(c+=1);const y=f(p.property);return m===s&&(u[sRe(y)]=1),g&&(c-=1),m+(g?"."+y:"["+y+"]")},CallExpression:p=>{p.callee.type!=="Identifier"&&ee("Illegal callee type: "+p.callee.type);const g=p.callee.name,m=p.arguments,y=Se(i,g)&&i[g];return y||ee("Unrecognized function: "+g),et(y)?y(m):y+"("+m.map(f).join(",")+")"},ArrayExpression:p=>"["+p.elements.map(f).join(",")+"]",BinaryExpression:p=>"("+f(p.left)+" "+p.operator+" "+f(p.right)+")",UnaryExpression:p=>"("+p.operator+f(p.argument)+")",ConditionalExpression:p=>"("+f(p.test)+"?"+f(p.consequent)+":"+f(p.alternate)+")",LogicalExpression:p=>"("+f(p.left)+p.operator+f(p.right)+")",ObjectExpression:p=>"{"+p.properties.map(f).join(",")+"}",Property:p=>{c+=1;const g=f(p.key);return c-=1,g+":"+f(p.value)}};function h(p){const g={code:f(p),globals:Object.keys(l),fields:Object.keys(u)};return l={},u={},g}return h.functions=i,h.constants=r,h}const sU=Symbol("vega_selection_getter");function _re(e){return(!e.getter||!e.getter[sU])&&(e.getter=xs(e.field),e.getter[sU]=!0),e.getter}const VN="intersect",aU="union",aRe="vlMulti",lRe="vlPoint",lU="or",uRe="and",Ya="_vgsid_",zv=xs(Ya),cRe="E",fRe="R",dRe="R-E",hRe="R-LE",pRe="R-RE",fE="index:unit";function uU(e,t){for(var n=t.fields,r=t.values,i=n.length,o=0,s,a;o<i;++o)if(a=n[o],s=_re(a)(e),Gc(s)&&(s=ti(s)),Gc(r[o])&&(r[o]=ti(r[o])),te(r[o])&&Gc(r[o][0])&&(r[o]=r[o].map(ti)),a.type===cRe){if(te(r[o])?r[o].indexOf(s)<0:s!==r[o])return!1}else if(a.type===fRe){if(!ng(s,r[o]))return!1}else if(a.type===pRe){if(!ng(s,r[o],!0,!1))return!1}else if(a.type===dRe){if(!ng(s,r[o],!1,!1))return!1}else if(a.type===hRe&&!ng(s,r[o],!1,!0))return!1;return!0}function gRe(e,t,n){for(var r=this.context.data[e],i=r?r.values.value:[],o=r?r[fE]&&r[fE].value:void 0,s=n===VN,a=i.length,l=0,u,c,f,d,h;l<a;++l)if(u=i[l],o&&s){if(c=c||{},f=c[d=u.unit]||0,f===-1)continue;if(h=uU(t,u),c[d]=h?-1:++f,h&&o.size===1)return!0;if(!h&&f===o.get(d).count)return!1}else if(h=uU(t,u),s^h)return h;return a&&s}const $re=E0(zv),mRe=$re.left,yRe=$re.right;function vRe(e,t,n){const r=this.context.data[e],i=r?r.values.value:[],o=r?r[fE]&&r[fE].value:void 0,s=n===VN,a=zv(t),l=mRe(i,a);if(l===i.length||zv(i[l])!==a)return!1;if(o&&s){if(o.size===1)return!0;if(yRe(i,a)-l<o.size)return!1}return!0}function bRe(e,t){return e.map(n=>Ze(t.fields?{values:t.fields.map(r=>_re(r)(n.datum))}:{[Ya]:zv(n.datum)},t))}function xRe(e,t,n,r){for(var i=this.context.data[e],o=i?i.values.value:[],s={},a={},l={},u,c,f,d,h,p,g,m,y,v,b=o.length,x=0,w,E;x<b;++x)if(u=o[x],d=u.unit,c=u.fields,f=u.values,c&&f){for(w=0,E=c.length;w<E;++w)h=c[w],g=s[h.field]||(s[h.field]={}),m=g[d]||(g[d]=[]),l[h.field]=y=h.type.charAt(0),v=GT[`${y}_union`],g[d]=v(m,xe(f[w]));n&&(m=a[d]||(a[d]=[]),m.push(xe(f).reduce((S,k,$)=>(S[c[$].field]=k,S),{})))}else h=Ya,p=zv(u),g=s[h]||(s[h]={}),m=g[d]||(g[d]=[]),m.push(p),n&&(m=a[d]||(a[d]=[]),m.push({[Ya]:p}));if(t=t||aU,s[Ya]?s[Ya]=GT[`${Ya}_${t}`](...Object.values(s[Ya])):Object.keys(s).forEach(S=>{s[S]=Object.keys(s[S]).map(k=>s[S][k]).reduce((k,$)=>k===void 0?$:GT[`${l[S]}_${t}`](k,$))}),o=Object.keys(a),n&&o.length){const S=r?lRe:aRe;s[S]=t===aU?{[lU]:o.reduce((k,$)=>(k.push(...a[$]),k),[])}:{[uRe]:o.map(k=>({[lU]:a[k]}))}}return s}var GT={[`${Ya}_union`]:wve,[`${Ya}_intersect`]:bve,E_union:function(e,t){if(!e.length)return t;for(var n=0,r=t.length;n<r;++n)e.indexOf(t[n])<0&&e.push(t[n]);return e},E_intersect:function(e,t){return e.length?e.filter(n=>t.indexOf(n)>=0):t},R_union:function(e,t){var n=ti(t[0]),r=ti(t[1]);return n>r&&(n=t[1],r=t[0]),e.length?(e[0]>n&&(e[0]=n),e[1]<r&&(e[1]=r),e):[n,r]},R_intersect:function(e,t){var n=ti(t[0]),r=ti(t[1]);return n>r&&(n=t[1],r=t[0]),e.length?r<e[0]||e[1]<n?[]:(e[0]<n&&(e[0]=n),e[1]>r&&(e[1]=r),e):[n,r]}};const wRe=":",SRe="@";function WN(e,t,n,r){t[0].type!==Eh&&ee("First argument to selection functions must be a string literal.");const i=t[0].value,o=t.length>=2&&gt(t).value,s="unit",a=SRe+s,l=wRe+i;o===VN&&!Se(r,a)&&(r[a]=n.getData(i).indataRef(n,s)),Se(r,l)||(r[l]=n.getData(i).tuplesRef())}function Are(e){const t=this.context.data[e];return t?t.values.value:[]}function CRe(e,t,n){const r=this.context.data[e]["index:"+t],i=r?r.value.get(n):void 0;return i&&i.count}function ERe(e,t){const n=this.context.dataflow,r=this.context.data[e],i=r.input;return n.pulse(i,n.changeset().remove(ws).insert(t)),1}function kRe(e,t,n){if(e){const r=this.context.dataflow,i=e.mark.source;r.pulse(i,r.changeset().encode(e,t))}return n!==void 0?n:e}const gx=e=>function(t,n){const r=this.context.dataflow.locale();return t===null?"null":r[e](n)(t)},_Re=gx("format"),Tre=gx("timeFormat"),$Re=gx("utcFormat"),ARe=gx("timeParse"),TRe=gx("utcParse"),H2=new Date(2e3,0,1);function N_(e,t,n){return!Number.isInteger(e)||!Number.isInteger(t)?"":(H2.setYear(2e3),H2.setMonth(e),H2.setDate(t),Tre.call(this,H2,n))}function RRe(e){return N_.call(this,e,1,"%B")}function FRe(e){return N_.call(this,e,1,"%b")}function ORe(e){return N_.call(this,0,2+e,"%A")}function PRe(e){return N_.call(this,0,2+e,"%a")}const DRe=":",MRe="@",SF="%",Rre="$";function HN(e,t,n,r){t[0].type!==Eh&&ee("First argument to data functions must be a string literal.");const i=t[0].value,o=DRe+i;if(!Se(o,r))try{r[o]=n.getData(i).tuplesRef()}catch{}}function NRe(e,t,n,r){t[0].type!==Eh&&ee("First argument to indata must be a string literal."),t[1].type!==Eh&&ee("Second argument to indata must be a string literal.");const i=t[0].value,o=t[1].value,s=MRe+o;Se(s,r)||(r[s]=n.getData(i).indataRef(n,o))}function Ri(e,t,n,r){if(t[0].type===Eh)cU(n,r,t[0].value);else for(e in n.scales)cU(n,r,e)}function cU(e,t,n){const r=SF+n;if(!Se(t,r))try{t[r]=e.scaleRef(n)}catch{}}function Ol(e,t){if(et(e))return e;if(we(e)){const n=t.scales[e];return n&&GSe(n.value)?n.value:void 0}}function LRe(e,t,n){t.__bandwidth=i=>i&&i.bandwidth?i.bandwidth():0,n._bandwidth=Ri,n._range=Ri,n._scale=Ri;const r=i=>"_["+(i.type===Eh?de(SF+i.value):de(SF)+"+"+e(i))+"]";return{_bandwidth:i=>`this.__bandwidth(${r(i[0])})`,_range:i=>`${r(i[0])}.range()`,_scale:i=>`${r(i[0])}(${e(i[1])})`}}function qN(e,t){return function(n,r,i){if(n){const o=Ol(n,(i||this).context);return o&&o.path[e](r)}else return t(r)}}const IRe=qN("area",l$e),zRe=qN("bounds",d$e),BRe=qN("centroid",v$e);function jRe(e,t){const n=Ol(e,(t||this).context);return n&&n.scale()}function URe(e){const t=this.context.group;let n=!1;if(t)for(;e;){if(e===t){n=!0;break}e=e.mark.group}return n}function GN(e,t,n){try{e[t].apply(e,["EXPRESSION"].concat([].slice.call(n)))}catch(r){e.warn(r)}return n[n.length-1]}function VRe(){return GN(this.context.dataflow,"warn",arguments)}function WRe(){return GN(this.context.dataflow,"info",arguments)}function HRe(){return GN(this.context.dataflow,"debug",arguments)}function XT(e){const t=e/255;return t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)}function CF(e){const t=hf(e),n=XT(t.r),r=XT(t.g),i=XT(t.b);return .2126*n+.7152*r+.0722*i}function qRe(e,t){const n=CF(e),r=CF(t),i=Math.max(n,r),o=Math.min(n,r);return(i+.05)/(o+.05)}function GRe(){const e=[].slice.call(arguments);return e.unshift({}),Ze(...e)}function Fre(e,t){return e===t||e!==e&&t!==t?!0:te(e)?te(t)&&e.length===t.length?XRe(e,t):!1:ve(e)&&ve(t)?Ore(e,t):!1}function XRe(e,t){for(let n=0,r=e.length;n<r;++n)if(!Fre(e[n],t[n]))return!1;return!0}function Ore(e,t){for(const n in e)if(!Fre(e[n],t[n]))return!1;return!0}function fU(e){return t=>Ore(e,t)}function YRe(e,t,n,r,i,o){const s=this.context.dataflow,a=this.context.data[e],l=a.input,u=s.stamp();let c=a.changes,f,d;if(s._trigger===!1||!(l.value.length||t||r))return 0;if((!c||c.stamp<u)&&(a.changes=c=s.changeset(),c.stamp=u,s.runAfter(()=>{a.modified=!0,s.pulse(l,c).run()},!0,1)),n&&(f=n===!0?ws:te(n)||Hk(n)?n:fU(n),c.remove(f)),t&&c.insert(t),r&&(f=fU(r),l.value.some(f)?c.remove(f):c.insert(r)),i)for(d in o)c.modify(i,d,o[d]);return 1}function KRe(e){const t=e.touches,n=t[0].clientX-t[1].clientX,r=t[0].clientY-t[1].clientY;return Math.hypot(n,r)}function QRe(e){const t=e.touches;return Math.atan2(t[0].clientY-t[1].clientY,t[0].clientX-t[1].clientX)}const dU={};function JRe(e,t){const n=dU[t]||(dU[t]=xs(t));return te(e)?e.map(n):n(e)}function XN(e){return te(e)||ArrayBuffer.isView(e)?e:null}function YN(e){return XN(e)||(we(e)?e:null)}function ZRe(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return XN(e).join(...n)}function eFe(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return YN(e).indexOf(...n)}function tFe(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return YN(e).lastIndexOf(...n)}function nFe(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return YN(e).slice(...n)}function rFe(e,t,n){return et(n)&&ee("Function argument passed to replace."),String(e).replace(t,n)}function iFe(e){return XN(e).slice().reverse()}function oFe(e,t,n){return aM(e||0,t||0,n||0)}function sFe(e,t){const n=Ol(e,(t||this).context);return n&&n.bandwidth?n.bandwidth():0}function aFe(e,t){const n=Ol(e,(t||this).context);return n?n.copy():void 0}function lFe(e,t){const n=Ol(e,(t||this).context);return n?n.domain():[]}function uFe(e,t,n){const r=Ol(e,(n||this).context);return r?te(t)?(r.invertRange||r.invert)(t):(r.invert||r.invertExtent)(t):void 0}function cFe(e,t){const n=Ol(e,(t||this).context);return n&&n.range?n.range():[]}function fFe(e,t,n){const r=Ol(e,(n||this).context);return r?r(t):void 0}function dFe(e,t,n,r,i){e=Ol(e,(i||this).context);const o=See(t,n);let s=e.domain(),a=s[0],l=gt(s),u=ai;return l-a?u=cee(e,a,l):e=(e.interpolator?Et("sequential")().interpolator(e.interpolator()):Et("linear")().interpolate(e.interpolate()).range(e.range())).domain([a=0,l=1]),e.ticks&&(s=e.ticks(+r||15),a!==s[0]&&s.unshift(a),l!==gt(s)&&s.push(l)),s.forEach(c=>o.stop(u(c),e(c))),o}function hFe(e,t,n){const r=Ol(e,(n||this).context);return function(i){return r?r.path.context(i)(t):""}}function pFe(e){let t=null;return function(n){return n?Tv(n,t=t||_m(e)):e}}const Pre=e=>e.data;function Dre(e,t){const n=Are.call(t,e);return n.root&&n.root.lookup||{}}function gFe(e,t,n){const r=Dre(e,this),i=r[t],o=r[n];return i&&o?i.path(o).map(Pre):void 0}function mFe(e,t){const n=Dre(e,this)[t];return n?n.ancestors().map(Pre):void 0}const Mre=()=>typeof window<"u"&&window||null;function yFe(){const e=Mre();return e?e.screen:{}}function vFe(){const e=Mre();return e?[e.innerWidth,e.innerHeight]:[void 0,void 0]}function bFe(){const e=this.context.dataflow,t=e.container&&e.container();return t?[t.clientWidth,t.clientHeight]:[void 0,void 0]}function Nre(e,t,n){if(!e)return[];const[r,i]=e,o=new Xn().set(r[0],r[1],i[0],i[1]),s=n||this.context.dataflow.scenegraph().root;return bte(s,o,xFe(t))}function xFe(e){let t=null;if(e){const n=xe(e.marktype),r=xe(e.markname);t=i=>(!n.length||n.some(o=>i.marktype===o))&&(!r.length||r.some(o=>i.name===o))}return t}function wFe(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:5;e=xe(e);const i=e[e.length-1];return i===void 0||Math.hypot(i[0]-t,i[1]-n)>r?[...e,[t,n]]:e}function SFe(e){return xe(e).reduce((t,n,r)=>{let[i,o]=n;return t+=r==0?`M ${i},${o} `:r===e.length-1?" Z":`L ${i},${o} `},"")}function CFe(e,t,n){const{x:r,y:i,mark:o}=n,s=new Xn().set(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER,Number.MIN_SAFE_INTEGER,Number.MIN_SAFE_INTEGER);for(const[l,u]of t)l<s.x1&&(s.x1=l),l>s.x2&&(s.x2=l),u<s.y1&&(s.y1=u),u>s.y2&&(s.y2=u);return s.translate(r,i),Nre([[s.x1,s.y1],[s.x2,s.y2]],e,o).filter(l=>EFe(l.x,l.y,t))}function EFe(e,t,n){let r=0;for(let i=0,o=n.length-1;i<n.length;o=i++){const[s,a]=n[o],[l,u]=n[i];u>t!=a>t&&e<(s-l)*(t-u)/(a-u)+l&&r++}return r&1}const Bv={random(){return Cs()},cumulativeNormal:Kk,cumulativeLogNormal:sD,cumulativeUniform:cD,densityNormal:tD,densityLogNormal:oD,densityUniform:uD,quantileNormal:Qk,quantileLogNormal:aD,quantileUniform:fD,sampleNormal:Yk,sampleLogNormal:iD,sampleUniform:lD,isArray:te,isBoolean:Ff,isDate:Gc,isDefined(e){return e!==void 0},isNumber:St,isObject:ve,isRegExp:IK,isString:we,isTuple:Hk,isValid(e){return e!=null&&e===e},toBoolean:D6,toDate(e){return M6(e)},toNumber:ti,toString:N6,indexof:eFe,join:ZRe,lastindexof:tFe,replace:rFe,reverse:iFe,slice:nFe,flush:NK,lerp:zK,merge:GRe,pad:UK,peek:gt,pluck:JRe,span:Ib,inrange:ng,truncate:VK,rgb:hf,lab:mC,hcl:yC,hsl:pC,luminance:CF,contrast:qRe,sequence:_o,format:_Re,utcFormat:$Re,utcParse:TRe,utcOffset:wQ,utcSequence:EQ,timeFormat:Tre,timeParse:ARe,timeOffset:xQ,timeSequence:CQ,timeUnitSpecifier:uQ,monthFormat:RRe,monthAbbrevFormat:FRe,dayFormat:ORe,dayAbbrevFormat:PRe,quarter:OK,utcquarter:PK,week:fQ,utcweek:pQ,dayofyear:cQ,utcdayofyear:hQ,warn:VRe,info:WRe,debug:HRe,extent(e){return vl(e)},inScope:URe,intersect:Nre,clampRange:DK,pinchDistance:KRe,pinchAngle:QRe,screen:yFe,containerSize:bFe,windowSize:vFe,bandspace:oFe,setdata:ERe,pathShape:pFe,panLinear:AK,panLog:TK,panPow:RK,panSymlog:FK,zoomLinear:A6,zoomLog:T6,zoomPow:tC,zoomSymlog:R6,encode:kRe,modify:YRe,lassoAppend:wFe,lassoPath:SFe,intersectLasso:CFe},kFe=["view","item","group","xy","x","y"],_Fe="event.vega.",Lre="this.",KN={},Ire={forbidden:["_"],allowed:["datum","event","item"],fieldvar:"datum",globalvar:e=>`_[${de(Rre+e)}]`,functions:$Fe,constants:Cre,visitors:KN},EF=kre(Ire);function $Fe(e){const t=Ere(e);kFe.forEach(n=>t[n]=_Fe+n);for(const n in Bv)t[n]=Lre+n;return Ze(t,LRe(e,Bv,KN)),t}function Vn(e,t,n){return arguments.length===1?Bv[e]:(Bv[e]=t,n&&(KN[e]=n),EF&&(EF.functions[e]=Lre+e),this)}Vn("bandwidth",sFe,Ri);Vn("copy",aFe,Ri);Vn("domain",lFe,Ri);Vn("range",cFe,Ri);Vn("invert",uFe,Ri);Vn("scale",fFe,Ri);Vn("gradient",dFe,Ri);Vn("geoArea",IRe,Ri);Vn("geoBounds",zRe,Ri);Vn("geoCentroid",BRe,Ri);Vn("geoShape",hFe,Ri);Vn("geoScale",jRe,Ri);Vn("indata",CRe,NRe);Vn("data",Are,HN);Vn("treePath",gFe,HN);Vn("treeAncestors",mFe,HN);Vn("vlSelectionTest",gRe,WN);Vn("vlSelectionIdTest",vRe,WN);Vn("vlSelectionResolve",xRe,WN);Vn("vlSelectionTuples",bRe);function wl(e,t){const n={};let r;try{e=we(e)?e:de(e)+"",r=UN(e)}catch{ee("Expression parse error: "+e)}r.visit(o=>{if(o.type!==mre)return;const s=o.callee.name,a=Ire.visitors[s];a&&a(s,o.arguments,t,n)});const i=EF(r);return i.globals.forEach(o=>{const s=Rre+o;!Se(n,s)&&t.getSignal(o)&&(n[s]=t.signalRef(o))}),{$expr:Ze({code:i.code},t.options.ast?{ast:r}:null),$fields:i.fields,$params:n}}function AFe(e){const t=this,n=e.operators||[];return e.background&&(t.background=e.background),e.eventConfig&&(t.eventConfig=e.eventConfig),e.locale&&(t.locale=e.locale),n.forEach(r=>t.parseOperator(r)),n.forEach(r=>t.parseOperatorParameters(r)),(e.streams||[]).forEach(r=>t.parseStream(r)),(e.updates||[]).forEach(r=>t.parseUpdate(r)),t.resolve()}const TFe=da(["rule"]),hU=da(["group","image","rect"]);function RFe(e,t){let n="";return TFe[t]||(e.x2&&(e.x?(hU[t]&&(n+="if(o.x>o.x2)$=o.x,o.x=o.x2,o.x2=$;"),n+="o.width=o.x2-o.x;"):n+="o.x=o.x2-(o.width||0);"),e.xc&&(n+="o.x=o.xc-(o.width||0)/2;"),e.y2&&(e.y?(hU[t]&&(n+="if(o.y>o.y2)$=o.y,o.y=o.y2,o.y2=$;"),n+="o.height=o.y2-o.y;"):n+="o.y=o.y2-(o.height||0);"),e.yc&&(n+="o.y=o.yc-(o.height||0)/2;")),n}function QN(e){return(e+"").toLowerCase()}function FFe(e){return QN(e)==="operator"}function OFe(e){return QN(e)==="collect"}function ky(e,t,n){n.endsWith(";")||(n="return("+n+");");const r=Function(...t.concat(n));return e&&e.functions?r.bind(e.functions):r}function PFe(e,t,n,r){return`((u = ${e}) < (v = ${t}) || u == null) && v != null ? ${n}
  : (u > v || v == null) && u != null ? ${r}
  : ((v = v instanceof Date ? +v : v), (u = u instanceof Date ? +u : u)) !== u && v === v ? ${n}
  : v !== v && u === u ? ${r} : `}var DFe={operator:(e,t)=>ky(e,["_"],t.code),parameter:(e,t)=>ky(e,["datum","_"],t.code),event:(e,t)=>ky(e,["event"],t.code),handler:(e,t)=>{const n=`var datum=event.item&&event.item.datum;return ${t.code};`;return ky(e,["_","event"],n)},encode:(e,t)=>{const{marktype:n,channels:r}=t;let i="var o=item,datum=o.datum,m=0,$;";for(const o in r){const s="o["+de(o)+"]";i+=`$=${r[o].code};if(${s}!==$)${s}=$,m=1;`}return i+=RFe(r,n),i+="return m;",ky(e,["item","_"],i)},codegen:{get(e){const t=`[${e.map(de).join("][")}]`,n=Function("_",`return _${t};`);return n.path=t,n},comparator(e,t){let n;const r=(o,s)=>{const a=t[s];let l,u;return o.path?(l=`a${o.path}`,u=`b${o.path}`):((n=n||{})["f"+s]=o,l=`this.f${s}(a)`,u=`this.f${s}(b)`),PFe(l,u,-a,a)},i=Function("a","b","var u, v; return "+e.map(r).join("")+"0;");return n?i.bind(n):i}}};function MFe(e){const t=this;FFe(e.type)||!e.type?t.operator(e,e.update?t.operatorExpression(e.update):null):t.transform(e,e.type)}function NFe(e){const t=this;if(e.params){const n=t.get(e.id);n||ee("Invalid operator id: "+e.id),t.dataflow.connect(n,n.parameters(t.parseParameters(e.params),e.react,e.initonly))}}function LFe(e,t){t=t||{};const n=this;for(const r in e){const i=e[r];t[r]=te(i)?i.map(o=>pU(o,n,t)):pU(i,n,t)}return t}function pU(e,t,n){if(!e||!ve(e))return e;for(let r=0,i=gU.length,o;r<i;++r)if(o=gU[r],Se(e,o.key))return o.parse(e,t,n);return e}var gU=[{key:"$ref",parse:IFe},{key:"$key",parse:BFe},{key:"$expr",parse:zFe},{key:"$field",parse:jFe},{key:"$encode",parse:VFe},{key:"$compare",parse:UFe},{key:"$context",parse:WFe},{key:"$subflow",parse:HFe},{key:"$tupleid",parse:qFe}];function IFe(e,t){return t.get(e.$ref)||ee("Operator not defined: "+e.$ref)}function zFe(e,t,n){e.$params&&t.parseParameters(e.$params,n);const r="e:"+e.$expr.code;return t.fn[r]||(t.fn[r]=go(t.parameterExpression(e.$expr),e.$fields))}function BFe(e,t){const n="k:"+e.$key+"_"+!!e.$flat;return t.fn[n]||(t.fn[n]=P6(e.$key,e.$flat,t.expr.codegen))}function jFe(e,t){if(!e.$field)return null;const n="f:"+e.$field+"_"+e.$name;return t.fn[n]||(t.fn[n]=xs(e.$field,e.$name,t.expr.codegen))}function UFe(e,t){const n="c:"+e.$compare+"_"+e.$order,r=xe(e.$compare).map(i=>i&&i.$tupleid?De:i);return t.fn[n]||(t.fn[n]=F6(r,e.$order,t.expr.codegen))}function VFe(e,t){const n=e.$encode,r={};for(const i in n){const o=n[i];r[i]=go(t.encodeExpression(o.$expr),o.$fields),r[i].output=o.$output}return r}function WFe(e,t){return t}function HFe(e,t){const n=e.$subflow;return function(r,i,o){const s=t.fork().parse(n),a=s.get(n.operators[0].id),l=s.signals.parent;return l&&l.set(o),a.detachSubflow=()=>t.detach(s),a}}function qFe(){return De}function GFe(e){var t=this,n=e.filter!=null?t.eventExpression(e.filter):void 0,r=e.stream!=null?t.get(e.stream):void 0,i;e.source?r=t.events(e.source,e.type,n):e.merge&&(i=e.merge.map(o=>t.get(o)),r=i[0].merge.apply(i[0],i.slice(1))),e.between&&(i=e.between.map(o=>t.get(o)),r=r.between(i[0],i[1])),e.filter&&(r=r.filter(n)),e.throttle!=null&&(r=r.throttle(+e.throttle)),e.debounce!=null&&(r=r.debounce(+e.debounce)),r==null&&ee("Invalid stream definition: "+JSON.stringify(e)),e.consume&&r.consume(!0),t.stream(e,r)}function XFe(e){var t=this,n=ve(n=e.source)?n.$ref:n,r=t.get(n),i=null,o=e.update,s=void 0;r||ee("Source not defined: "+e.source),i=e.target&&e.target.$expr?t.eventExpression(e.target.$expr):t.get(e.target),o&&o.$expr&&(o.$params&&(s=t.parseParameters(o.$params)),o=t.handlerExpression(o.$expr)),t.update(e,r,i,o,s)}const YFe={skip:!0};function KFe(e){var t=this,n={};if(e.signals){var r=n.signals={};Object.keys(t.signals).forEach(o=>{const s=t.signals[o];e.signals(o,s)&&(r[o]=s.value)})}if(e.data){var i=n.data={};Object.keys(t.data).forEach(o=>{const s=t.data[o];e.data(o,s)&&(i[o]=s.input.value)})}return t.subcontext&&e.recurse!==!1&&(n.subcontext=t.subcontext.map(o=>o.getState(e))),n}function QFe(e){var t=this,n=t.dataflow,r=e.data,i=e.signals;Object.keys(i||{}).forEach(o=>{n.update(t.signals[o],i[o],YFe)}),Object.keys(r||{}).forEach(o=>{n.pulse(t.data[o].input,n.changeset().remove(ws).insert(r[o]))}),(e.subcontext||[]).forEach((o,s)=>{const a=t.subcontext[s];a&&a.setState(o)})}function zre(e,t,n,r){return new Bre(e,t,n,r)}function Bre(e,t,n,r){this.dataflow=e,this.transforms=t,this.events=e.events.bind(e),this.expr=r||DFe,this.signals={},this.scales={},this.nodes={},this.data={},this.fn={},n&&(this.functions=Object.create(n),this.functions.context=this)}function mU(e){this.dataflow=e.dataflow,this.transforms=e.transforms,this.events=e.events,this.expr=e.expr,this.signals=Object.create(e.signals),this.scales=Object.create(e.scales),this.nodes=Object.create(e.nodes),this.data=Object.create(e.data),this.fn=Object.create(e.fn),e.functions&&(this.functions=Object.create(e.functions),this.functions.context=this)}Bre.prototype=mU.prototype={fork(){const e=new mU(this);return(this.subcontext||(this.subcontext=[])).push(e),e},detach(e){this.subcontext=this.subcontext.filter(n=>n!==e);const t=Object.keys(e.nodes);for(const n of t)e.nodes[n]._targets=null;for(const n of t)e.nodes[n].detach();e.nodes=null},get(e){return this.nodes[e]},set(e,t){return this.nodes[e]=t},add(e,t){const n=this,r=n.dataflow,i=e.value;if(n.set(e.id,t),OFe(e.type)&&i&&(i.$ingest?r.ingest(t,i.$ingest,i.$format):i.$request?r.preload(t,i.$request,i.$format):r.pulse(t,r.changeset().insert(i))),e.root&&(n.root=t),e.parent){let o=n.get(e.parent.$ref);o?(r.connect(o,[t]),t.targets().add(o)):(n.unresolved=n.unresolved||[]).push(()=>{o=n.get(e.parent.$ref),r.connect(o,[t]),t.targets().add(o)})}if(e.signal&&(n.signals[e.signal]=t),e.scale&&(n.scales[e.scale]=t),e.data)for(const o in e.data){const s=n.data[o]||(n.data[o]={});e.data[o].forEach(a=>s[a]=t)}},resolve(){return(this.unresolved||[]).forEach(e=>e()),delete this.unresolved,this},operator(e,t){this.add(e,this.dataflow.add(e.value,t))},transform(e,t){this.add(e,this.dataflow.add(this.transforms[QN(t)]))},stream(e,t){this.set(e.id,t)},update(e,t,n,r,i){this.dataflow.on(t,n,r,i,e.options)},operatorExpression(e){return this.expr.operator(this,e)},parameterExpression(e){return this.expr.parameter(this,e)},eventExpression(e){return this.expr.event(this,e)},handlerExpression(e){return this.expr.handler(this,e)},encodeExpression(e){return this.expr.encode(this,e)},parse:AFe,parseOperator:MFe,parseOperatorParameters:NFe,parseParameters:LFe,parseStream:GFe,parseUpdate:XFe,getState:KFe,setState:QFe};function JFe(e){const t=e.container();t&&(t.setAttribute("role","graphics-document"),t.setAttribute("aria-roleDescription","visualization"),jre(t,e.description()))}function jre(e,t){e&&(t==null?e.removeAttribute("aria-label"):e.setAttribute("aria-label",t))}function ZFe(e){e.add(null,t=>(e._background=t.bg,e._resize=1,t.bg),{bg:e._signals.background})}const YT="default";function eOe(e){const t=e._signals.cursor||(e._signals.cursor=e.add({user:YT,item:null}));e.on(e.events("view","pointermove"),t,(n,r)=>{const i=t.value,o=i?we(i)?i:i.user:YT,s=r.item&&r.item.cursor||null;return i&&o===i.user&&s==i.item?i:{user:o,item:s}}),e.add(null,function(n){let r=n.cursor,i=this.value;return we(r)||(i=r.item,r=r.user),kF(e,r&&r!==YT?r:i||r),i},{cursor:t})}function kF(e,t){const n=e.globalCursor()?typeof document<"u"&&document.body:e.container();if(n)return t==null?n.style.removeProperty("cursor"):n.style.cursor=t}function dE(e,t){var n=e._runtime.data;return Se(n,t)||ee("Unrecognized data set: "+t),n[t]}function tOe(e,t){return arguments.length<2?dE(this,e).values.value:L_.call(this,e,Zh().remove(ws).insert(t))}function L_(e,t){QQ(t)||ee("Second argument to changes must be a changeset.");const n=dE(this,e);return n.modified=!0,this.pulse(n.input,t)}function nOe(e,t){return L_.call(this,e,Zh().insert(t))}function rOe(e,t){return L_.call(this,e,Zh().remove(t))}function Ure(e){var t=e.padding();return Math.max(0,e._viewWidth+t.left+t.right)}function Vre(e){var t=e.padding();return Math.max(0,e._viewHeight+t.top+t.bottom)}function I_(e){var t=e.padding(),n=e._origin;return[t.left+n[0],t.top+n[1]]}function iOe(e){var t=I_(e),n=Ure(e),r=Vre(e);e._renderer.background(e.background()),e._renderer.resize(n,r,t),e._handler.origin(t),e._resizeListeners.forEach(i=>{try{i(n,r)}catch(o){e.error(o)}})}function oOe(e,t,n){var r=e._renderer,i=r&&r.canvas(),o,s,a;return i&&(a=I_(e),s=t.changedTouches?t.changedTouches[0]:t,o=E_(s,i),o[0]-=a[0],o[1]-=a[1]),t.dataflow=e,t.item=n,t.vega=sOe(e,n,o),t}function sOe(e,t,n){const r=t?t.mark.marktype==="group"?t:t.mark.group:null;function i(s){var a=r,l;if(s){for(l=t;l;l=l.mark.group)if(l.mark.name===s){a=l;break}}return a&&a.mark&&a.mark.interactive?a:{}}function o(s){if(!s)return n;we(s)&&(s=i(s));const a=n.slice();for(;s;)a[0]-=s.x||0,a[1]-=s.y||0,s=s.mark&&s.mark.group;return a}return{view:li(e),item:li(t||{}),group:i,xy:o,x:s=>o(s)[0],y:s=>o(s)[1]}}const yU="view",aOe="timer",lOe="window",uOe={trap:!1};function cOe(e){const t=Ze({defaults:{}},e),n=(r,i)=>{i.forEach(o=>{te(r[o])&&(r[o]=da(r[o]))})};return n(t.defaults,["prevent","allow"]),n(t,["view","window","selector"]),t}function Wre(e,t,n,r){e._eventListeners.push({type:n,sources:xe(t),handler:r})}function fOe(e,t){var n=e._eventConfig.defaults,r=n.prevent,i=n.allow;return r===!1||i===!0?!1:r===!0||i===!1?!0:r?r[t]:i?!i[t]:e.preventDefault()}function q2(e,t,n){const r=e._eventConfig&&e._eventConfig[t];return r===!1||ve(r)&&!r[n]?(e.warn(`Blocked ${t} ${n} event listener.`),!1):!0}function dOe(e,t,n){var r=this,i=new Xk(n),o=function(u,c){r.runAsync(null,()=>{e===yU&&fOe(r,t)&&u.preventDefault(),i.receive(oOe(r,u,c))})},s;if(e===aOe)q2(r,"timer",t)&&r.timer(o,t);else if(e===yU)q2(r,"view",t)&&r.addEventListener(t,o,uOe);else if(e===lOe?q2(r,"window",t)&&typeof window<"u"&&(s=[window]):typeof document<"u"&&q2(r,"selector",t)&&(s=Array.from(document.querySelectorAll(e))),!s)r.warn("Can not resolve event source: "+e);else{for(var a=0,l=s.length;a<l;++a)s[a].addEventListener(t,o);Wre(r,s,t,o)}return i}function vU(e){return e.item}function bU(e){return e.item.mark.source}function xU(e){return function(t,n){return n.vega.view().changeset().encode(n.item,e)}}function hOe(e,t){return e=[e||"hover"],t=[t||"update",e[0]],this.on(this.events("view","pointerover",vU),bU,xU(e)),this.on(this.events("view","pointerout",vU),bU,xU(t)),this}function pOe(){var e=this._tooltip,t=this._timers,n=this._handler.handlers(),r=this._eventListeners,i,o,s,a,l;for(i=t.length;--i>=0;)t[i].stop();for(i=r.length;--i>=0;)for(s=r[i],o=s.sources.length;--o>=0;)s.sources[o].removeEventListener(s.type,s.handler);for(e&&e.call(this,this._handler,null,null,null),i=n.length;--i>=0;)l=n[i].type,a=n[i].handler,this._handler.off(l,a);return this}function Ro(e,t,n){const r=document.createElement(e);for(const i in t)r.setAttribute(i,t[i]);return n!=null&&(r.textContent=n),r}const gOe="vega-bind",mOe="vega-bind-name",yOe="vega-bind-radio";function vOe(e,t,n){if(!t)return;const r=n.param;let i=n.state;return i||(i=n.state={elements:null,active:!1,set:null,update:s=>{s!=e.signal(r.signal)&&e.runAsync(null,()=>{i.source=!0,e.signal(r.signal,s)})}},r.debounce&&(i.update=O6(r.debounce,i.update))),(r.input==null&&r.element?bOe:wOe)(i,t,r,e),i.active||(e.on(e._signals[r.signal],null,()=>{i.source?i.source=!1:i.set(e.signal(r.signal))}),i.active=!0),i}function bOe(e,t,n,r){const i=n.event||"input",o=()=>e.update(t.value);r.signal(n.signal,t.value),t.addEventListener(i,o),Wre(r,t,i,o),e.set=s=>{t.value=s,t.dispatchEvent(xOe(i))}}function xOe(e){return typeof Event<"u"?new Event(e):{type:e}}function wOe(e,t,n,r){const i=r.signal(n.signal),o=Ro("div",{class:gOe}),s=n.input==="radio"?o:o.appendChild(Ro("label"));s.appendChild(Ro("span",{class:mOe},n.name||n.signal)),t.appendChild(o);let a=SOe;switch(n.input){case"checkbox":a=COe;break;case"select":a=EOe;break;case"radio":a=kOe;break;case"range":a=_Oe;break}a(e,s,n,i)}function SOe(e,t,n,r){const i=Ro("input");for(const o in n)o!=="signal"&&o!=="element"&&i.setAttribute(o==="input"?"type":o,n[o]);i.setAttribute("name",n.signal),i.value=r,t.appendChild(i),i.addEventListener("input",()=>e.update(i.value)),e.elements=[i],e.set=o=>i.value=o}function COe(e,t,n,r){const i={type:"checkbox",name:n.signal};r&&(i.checked=!0);const o=Ro("input",i);t.appendChild(o),o.addEventListener("change",()=>e.update(o.checked)),e.elements=[o],e.set=s=>o.checked=!!s||null}function EOe(e,t,n,r){const i=Ro("select",{name:n.signal}),o=n.labels||[];n.options.forEach((s,a)=>{const l={value:s};hE(s,r)&&(l.selected=!0),i.appendChild(Ro("option",l,(o[a]||s)+""))}),t.appendChild(i),i.addEventListener("change",()=>{e.update(n.options[i.selectedIndex])}),e.elements=[i],e.set=s=>{for(let a=0,l=n.options.length;a<l;++a)if(hE(n.options[a],s)){i.selectedIndex=a;return}}}function kOe(e,t,n,r){const i=Ro("span",{class:yOe}),o=n.labels||[];t.appendChild(i),e.elements=n.options.map((s,a)=>{const l={type:"radio",name:n.signal,value:s};hE(s,r)&&(l.checked=!0);const u=Ro("input",l);u.addEventListener("change",()=>e.update(s));const c=Ro("label",{},(o[a]||s)+"");return c.prepend(u),i.appendChild(c),u}),e.set=s=>{const a=e.elements,l=a.length;for(let u=0;u<l;++u)hE(a[u].value,s)&&(a[u].checked=!0)}}function _Oe(e,t,n,r){r=r!==void 0?r:(+n.max+ +n.min)/2;const i=n.max!=null?n.max:Math.max(100,+r)||100,o=n.min||Math.min(0,i,+r)||0,s=n.step||cf(o,i,100),a=Ro("input",{type:"range",name:n.signal,min:o,max:i,step:s});a.value=r;const l=Ro("span",{},+r);t.appendChild(a),t.appendChild(l);const u=()=>{l.textContent=a.value,e.update(+a.value)};a.addEventListener("input",u),a.addEventListener("change",u),e.elements=[a],e.set=c=>{a.value=c,l.textContent=c}}function hE(e,t){return e===t||e+""==t+""}function Hre(e,t,n,r,i,o){return t=t||new r(e.loader()),t.initialize(n,Ure(e),Vre(e),I_(e),i,o).background(e.background())}function JN(e,t){return t?function(){try{t.apply(this,arguments)}catch(n){e.error(n)}}:null}function $Oe(e,t,n,r){const i=new r(e.loader(),JN(e,e.tooltip())).scene(e.scenegraph().root).initialize(n,I_(e),e);return t&&t.handlers().forEach(o=>{i.on(o.type,o.handler)}),i}function AOe(e,t){const n=this,r=n._renderType,i=n._eventConfig.bind,o=k_(r);e=n._el=e?KT(n,e,!0):null,JFe(n),o||n.error("Unrecognized renderer type: "+r);const s=o.handler||ax,a=e?o.renderer:o.headless;return n._renderer=a?Hre(n,n._renderer,e,a):null,n._handler=$Oe(n,n._handler,e,s),n._redraw=!0,e&&i!=="none"&&(t=t?n._elBind=KT(n,t,!0):e.appendChild(Ro("form",{class:"vega-bindings"})),n._bind.forEach(l=>{l.param.element&&i!=="container"&&(l.element=KT(n,l.param.element,!!l.param.input))}),n._bind.forEach(l=>{vOe(n,l.element||t,l)})),n}function KT(e,t,n){if(typeof t=="string")if(typeof document<"u"){if(t=document.querySelector(t),!t)return e.error("Signal bind element not found: "+t),null}else return e.error("DOM document instance not found."),null;if(t&&n)try{t.textContent=""}catch(r){t=null,e.error(r)}return t}const _y=e=>+e||0,TOe=e=>({top:e,bottom:e,left:e,right:e});function wU(e){return ve(e)?{top:_y(e.top),bottom:_y(e.bottom),left:_y(e.left),right:_y(e.right)}:TOe(_y(e))}async function ZN(e,t,n,r){const i=k_(t),o=i&&i.headless;return o||ee("Unrecognized renderer type: "+t),await e.runAsync(),Hre(e,null,null,o,n,r).renderAsync(e._scenegraph.root)}async function ROe(e,t){e!==Ic.Canvas&&e!==Ic.SVG&&e!==Ic.PNG&&ee("Unrecognized image type: "+e);const n=await ZN(this,e,t);return e===Ic.SVG?FOe(n.svg(),"image/svg+xml"):n.canvas().toDataURL("image/png")}function FOe(e,t){const n=new Blob([e],{type:t});return window.URL.createObjectURL(n)}async function OOe(e,t){return(await ZN(this,Ic.Canvas,e,t)).canvas()}async function POe(e){return(await ZN(this,Ic.SVG,e)).svg()}function DOe(e,t,n){return zre(e,xm,Bv,n).parse(t)}function MOe(e){var t=this._runtime.scales;return Se(t,e)||ee("Unrecognized scale or projection: "+e),t[e].value}var qre="width",Gre="height",eL="padding",SU={skip:!0};function Xre(e,t){var n=e.autosize(),r=e.padding();return t-(n&&n.contains===eL?r.left+r.right:0)}function Yre(e,t){var n=e.autosize(),r=e.padding();return t-(n&&n.contains===eL?r.top+r.bottom:0)}function NOe(e){var t=e._signals,n=t[qre],r=t[Gre],i=t[eL];function o(){e._autosize=e._resize=1}e._resizeWidth=e.add(null,a=>{e._width=a.size,e._viewWidth=Xre(e,a.size),o()},{size:n}),e._resizeHeight=e.add(null,a=>{e._height=a.size,e._viewHeight=Yre(e,a.size),o()},{size:r});const s=e.add(null,o,{pad:i});e._resizeWidth.rank=n.rank+1,e._resizeHeight.rank=r.rank+1,s.rank=i.rank+1}function LOe(e,t,n,r,i,o){this.runAfter(s=>{let a=0;s._autosize=0,s.width()!==n&&(a=1,s.signal(qre,n,SU),s._resizeWidth.skip(!0)),s.height()!==r&&(a=1,s.signal(Gre,r,SU),s._resizeHeight.skip(!0)),s._viewWidth!==e&&(s._resize=1,s._viewWidth=e),s._viewHeight!==t&&(s._resize=1,s._viewHeight=t),(s._origin[0]!==i[0]||s._origin[1]!==i[1])&&(s._resize=1,s._origin=i),a&&s.run("enter"),o&&s.runAfter(l=>l.resize())},!1,1)}function IOe(e){return this._runtime.getState(e||{data:zOe,signals:BOe,recurse:!0})}function zOe(e,t){return t.modified&&te(t.input.value)&&!e.startsWith("_:vega:_")}function BOe(e,t){return!(e==="parent"||t instanceof xm.proxy)}function jOe(e){return this.runAsync(null,t=>{t._trigger=!1,t._runtime.setState(e)},t=>{t._trigger=!0}),this}function UOe(e,t){function n(r){e({timestamp:Date.now(),elapsed:r})}this._timers.push(b5e(n,t))}function VOe(e,t,n,r){const i=e.element();i&&i.setAttribute("title",WOe(r))}function WOe(e){return e==null?"":te(e)?Kre(e):ve(e)&&!Gc(e)?HOe(e):e+""}function HOe(e){return Object.keys(e).map(t=>{const n=e[t];return t+": "+(te(n)?Kre(n):Qre(n))}).join(`
`)}function Kre(e){return"["+e.map(Qre).join(", ")+"]"}function Qre(e){return te(e)?"[]":ve(e)&&!Gc(e)?"{}":e}function qOe(){if(this.renderer()==="canvas"&&this._renderer._canvas){let e=null;const t=()=>{e!=null&&e();const n=matchMedia(`(resolution: ${window.devicePixelRatio}dppx)`);n.addEventListener("change",t),e=()=>{n.removeEventListener("change",t)},this._renderer._canvas.getContext("2d").pixelRatio=window.devicePixelRatio||1,this._redraw=!0,this._resize=1,this.resize().runAsync()};t()}}function Jre(e,t){const n=this;if(t=t||{},Rg.call(n),t.loader&&n.loader(t.loader),t.logger&&n.logger(t.logger),t.logLevel!=null&&n.logLevel(t.logLevel),t.locale||e.locale){const o=Ze({},e.locale,t.locale);n.locale(jQ(o.number,o.time))}n._el=null,n._elBind=null,n._renderType=t.renderer||Ic.Canvas,n._scenegraph=new qee;const r=n._scenegraph.root;n._renderer=null,n._tooltip=t.tooltip||VOe,n._redraw=!0,n._handler=new ax().scene(r),n._globalCursor=!1,n._preventDefault=!1,n._timers=[],n._eventListeners=[],n._resizeListeners=[],n._eventConfig=cOe(e.eventConfig),n.globalCursor(n._eventConfig.globalCursor);const i=DOe(n,e,t.expr);n._runtime=i,n._signals=i.signals,n._bind=(e.bindings||[]).map(o=>({state:null,param:Ze({},o)})),i.root&&i.root.set(r),r.source=i.data.root.input,n.pulse(i.data.root.input,n.changeset().insert(r.items)),n._width=n.width(),n._height=n.height(),n._viewWidth=Xre(n,n._width),n._viewHeight=Yre(n,n._height),n._origin=[0,0],n._resize=0,n._autosize=1,NOe(n),ZFe(n),eOe(n),n.description(e.description),t.hover&&n.hover(),t.container&&n.initialize(t.container,t.bind),t.watchPixelRatio&&n._watchPixelRatio()}function G2(e,t){return Se(e._signals,t)?e._signals[t]:ee("Unrecognized signal name: "+de(t))}function Zre(e,t){const n=(e._targets||[]).filter(r=>r._update&&r._update.handler===t);return n.length?n[0]:null}function CU(e,t,n,r){let i=Zre(n,r);return i||(i=JN(e,()=>r(t,n.value)),i.handler=r,e.on(n,null,i)),e}function EU(e,t,n){const r=Zre(t,n);return r&&t._targets.remove(r),e}he(Jre,Rg,{async evaluate(e,t,n){if(await Rg.prototype.evaluate.call(this,e,t),this._redraw||this._resize)try{this._renderer&&(this._resize&&(this._resize=0,iOe(this)),await this._renderer.renderAsync(this._scenegraph.root)),this._redraw=!1}catch(r){this.error(r)}return n&&Gw(this,n),this},dirty(e){this._redraw=!0,this._renderer&&this._renderer.dirty(e)},description(e){if(arguments.length){const t=e!=null?e+"":null;return t!==this._desc&&jre(this._el,this._desc=t),this}return this._desc},container(){return this._el},scenegraph(){return this._scenegraph},origin(){return this._origin.slice()},signal(e,t,n){const r=G2(this,e);return arguments.length===1?r.value:this.update(r,t,n)},width(e){return arguments.length?this.signal("width",e):this.signal("width")},height(e){return arguments.length?this.signal("height",e):this.signal("height")},padding(e){return arguments.length?this.signal("padding",wU(e)):wU(this.signal("padding"))},autosize(e){return arguments.length?this.signal("autosize",e):this.signal("autosize")},background(e){return arguments.length?this.signal("background",e):this.signal("background")},renderer(e){return arguments.length?(k_(e)||ee("Unrecognized renderer type: "+e),e!==this._renderType&&(this._renderType=e,this._resetRenderer()),this):this._renderType},tooltip(e){return arguments.length?(e!==this._tooltip&&(this._tooltip=e,this._resetRenderer()),this):this._tooltip},loader(e){return arguments.length?(e!==this._loader&&(Rg.prototype.loader.call(this,e),this._resetRenderer()),this):this._loader},resize(){return this._autosize=1,this.touch(G2(this,"autosize"))},_resetRenderer(){this._renderer&&(this._renderer=null,this.initialize(this._el,this._elBind))},_resizeView:LOe,addEventListener(e,t,n){let r=t;return n&&n.trap===!1||(r=JN(this,t),r.raw=t),this._handler.on(e,r),this},removeEventListener(e,t){for(var n=this._handler.handlers(e),r=n.length,i,o;--r>=0;)if(o=n[r].type,i=n[r].handler,e===o&&(t===i||t===i.raw)){this._handler.off(o,i);break}return this},addResizeListener(e){const t=this._resizeListeners;return t.includes(e)||t.push(e),this},removeResizeListener(e){var t=this._resizeListeners,n=t.indexOf(e);return n>=0&&t.splice(n,1),this},addSignalListener(e,t){return CU(this,e,G2(this,e),t)},removeSignalListener(e,t){return EU(this,G2(this,e),t)},addDataListener(e,t){return CU(this,e,dE(this,e).values,t)},removeDataListener(e,t){return EU(this,dE(this,e).values,t)},globalCursor(e){if(arguments.length){if(this._globalCursor!==!!e){const t=kF(this,null);this._globalCursor=!!e,t&&kF(this,t)}return this}else return this._globalCursor},preventDefault(e){return arguments.length?(this._preventDefault=e,this):this._preventDefault},timer:UOe,events:dOe,finalize:pOe,hover:hOe,data:tOe,change:L_,insert:nOe,remove:rOe,scale:MOe,initialize:AOe,toImageURL:ROe,toCanvas:OOe,toSVG:POe,getState:IOe,setState:jOe,_watchPixelRatio:qOe});const GOe="view",pE="[",gE="]",eie="{",tie="}",XOe=":",nie=",",YOe="@",KOe=">",QOe=/[[\]{}]/,JOe={"*":1,arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1};let rie,iie;function Lf(e,t,n){return rie=t||GOe,iie=n||JOe,oie(e.trim()).map(_F)}function ZOe(e){return iie[e]}function K1(e,t,n,r,i){const o=e.length;let s=0,a;for(;t<o;++t){if(a=e[t],!s&&a===n)return t;i&&i.indexOf(a)>=0?--s:r&&r.indexOf(a)>=0&&++s}return t}function oie(e){const t=[],n=e.length;let r=0,i=0;for(;i<n;)i=K1(e,i,nie,pE+eie,gE+tie),t.push(e.substring(r,i).trim()),r=++i;if(t.length===0)throw"Empty event selector: "+e;return t}function _F(e){return e[0]==="["?ePe(e):tPe(e)}function ePe(e){const t=e.length;let n=1,r;if(n=K1(e,n,gE,pE,gE),n===t)throw"Empty between selector: "+e;if(r=oie(e.substring(1,n)),r.length!==2)throw"Between selector must have two elements: "+e;if(e=e.slice(n+1).trim(),e[0]!==KOe)throw"Expected '>' after between selector: "+e;r=r.map(_F);const i=_F(e.slice(1).trim());return i.between?{between:r,stream:i}:(i.between=r,i)}function tPe(e){const t={source:rie},n=[];let r=[0,0],i=0,o=0,s=e.length,a=0,l,u;if(e[s-1]===tie){if(a=e.lastIndexOf(eie),a>=0){try{r=nPe(e.substring(a+1,s-1))}catch{throw"Invalid throttle specification: "+e}e=e.slice(0,a).trim(),s=e.length}else throw"Unmatched right brace: "+e;a=0}if(!s)throw e;if(e[0]===YOe&&(i=++a),l=K1(e,a,XOe),l<s&&(n.push(e.substring(o,l).trim()),o=a=++l),a=K1(e,a,pE),a===s)n.push(e.substring(o,s).trim());else if(n.push(e.substring(o,a).trim()),u=[],o=++a,o===s)throw"Unmatched left bracket: "+e;for(;a<s;){if(a=K1(e,a,gE),a===s)throw"Unmatched left bracket: "+e;if(u.push(e.substring(o,a).trim()),a<s-1&&e[++a]!==pE)throw"Expected left bracket: "+e;o=++a}if(!(s=n.length)||QOe.test(n[s-1]))throw"Invalid event selector: "+e;return s>1?(t.type=n[1],i?t.markname=n[0].slice(1):ZOe(n[0])?t.marktype=n[0]:t.source=n[0]):t.type=n[0],t.type.slice(-1)==="!"&&(t.consume=!0,t.type=t.type.slice(0,-1)),u!=null&&(t.filter=u),r[0]&&(t.throttle=r[0]),r[1]&&(t.debounce=r[1]),t}function nPe(e){const t=e.split(nie);if(!e.length||t.length>2)throw e;return t.map(n=>{const r=+n;if(r!==r)throw e;return r})}function rPe(e){return ve(e)?e:{type:e||"pad"}}const $y=e=>+e||0,iPe=e=>({top:e,bottom:e,left:e,right:e});function oPe(e){return ve(e)?e.signal?e:{top:$y(e.top),bottom:$y(e.bottom),left:$y(e.left),right:$y(e.right)}:iPe($y(e))}const mr=e=>ve(e)&&!te(e)?Ze({},e):{value:e};function kU(e,t,n,r){return n!=null?(ve(n)&&!te(n)||te(n)&&n.length&&ve(n[0])?e.update[t]=n:e[r||"enter"][t]={value:n},1):0}function Lr(e,t,n){for(const r in t)kU(e,r,t[r]);for(const r in n)kU(e,r,n[r],"update")}function P0(e,t,n){for(const r in t)n&&Se(n,r)||(e[r]=Ze(e[r]||{},t[r]));return e}function eg(e,t){return t&&(t.enter&&t.enter[e]||t.update&&t.update[e])}const tL="mark",nL="frame",rL="scope",sPe="axis",aPe="axis-domain",lPe="axis-grid",uPe="axis-label",cPe="axis-tick",fPe="axis-title",dPe="legend",hPe="legend-band",pPe="legend-entry",gPe="legend-gradient",sie="legend-label",mPe="legend-symbol",yPe="legend-title",vPe="title",bPe="title-text",xPe="title-subtitle";function wPe(e,t,n,r,i){const o={},s={};let a,l,u,c;l="lineBreak",t==="text"&&i[l]!=null&&!eg(l,e)&&QT(o,l,i[l]),(n=="legend"||String(n).startsWith("axis"))&&(n=null),c=n===nL?i.group:n===tL?Ze({},i.mark,i[t]):null;for(l in c)u=eg(l,e)||(l==="fill"||l==="stroke")&&(eg("fill",e)||eg("stroke",e)),u||QT(o,l,c[l]);xe(r).forEach(f=>{const d=i.style&&i.style[f];for(const h in d)eg(h,e)||QT(o,h,d[h])}),e=Ze({},e);for(l in o)c=o[l],c.signal?(a=a||{})[l]=c:s[l]=c;return e.enter=Ze(s,e.enter),a&&(e.update=Ze(a,e.update)),e}function QT(e,t,n){e[t]=n&&n.signal?{signal:n.signal}:{value:n}}const aie=e=>we(e)?de(e):e.signal?`(${e.signal})`:lie(e);function z_(e){if(e.gradient!=null)return CPe(e);let t=e.signal?`(${e.signal})`:e.color?SPe(e.color):e.field!=null?lie(e.field):e.value!==void 0?de(e.value):void 0;return e.scale!=null&&(t=EPe(e,t)),t===void 0&&(t=null),e.exponent!=null&&(t=`pow(${t},${fS(e.exponent)})`),e.mult!=null&&(t+=`*${fS(e.mult)}`),e.offset!=null&&(t+=`+${fS(e.offset)}`),e.round&&(t=`round(${t})`),t}const X2=(e,t,n,r)=>`(${e}(${[t,n,r].map(z_).join(",")})+'')`;function SPe(e){return e.c?X2("hcl",e.h,e.c,e.l):e.h||e.s?X2("hsl",e.h,e.s,e.l):e.l||e.a?X2("lab",e.l,e.a,e.b):e.r||e.g||e.b?X2("rgb",e.r,e.g,e.b):null}function CPe(e){const t=[e.start,e.stop,e.count].map(n=>n==null?null:de(n));for(;t.length&&gt(t)==null;)t.pop();return t.unshift(aie(e.gradient)),`gradient(${t.join(",")})`}function fS(e){return ve(e)?"("+z_(e)+")":e}function lie(e){return uie(ve(e)?e:{datum:e})}function uie(e){let t,n,r;if(e.signal)t="datum",r=e.signal;else if(e.group||e.parent){for(n=Math.max(1,e.level||1),t="item";n-- >0;)t+=".mark.group";e.parent?(r=e.parent,t+=".datum"):r=e.group}else e.datum?(t="datum",r=e.datum):ee("Invalid field reference: "+de(e));return e.signal||(r=we(r)?_l(r).map(de).join("]["):uie(r)),t+"["+r+"]"}function EPe(e,t){const n=aie(e.scale);return e.range!=null?t=`lerp(_range(${n}), ${+e.range})`:(t!==void 0&&(t=`_scale(${n}, ${t})`),e.band&&(t=(t?t+"+":"")+`_bandwidth(${n})`+(+e.band==1?"":"*"+fS(e.band)),e.extra&&(t=`(datum.extra ? _scale(${n}, datum.extra.value) : ${t})`)),t==null&&(t="0")),t}function kPe(e){let t="";return e.forEach(n=>{const r=z_(n);t+=n.test?`(${n.test})?${r}:`:r}),gt(t)===":"&&(t+="null"),t}function cie(e,t,n,r,i,o){const s={};o=o||{},o.encoders={$encode:s},e=wPe(e,t,n,r,i.config);for(const a in e)s[a]=_Pe(e[a],t,o,i);return o}function _Pe(e,t,n,r){const i={},o={};for(const s in e)e[s]!=null&&(i[s]=APe($Pe(e[s]),r,n,o));return{$expr:{marktype:t,channels:i},$fields:Object.keys(o),$output:Object.keys(e)}}function $Pe(e){return te(e)?kPe(e):z_(e)}function APe(e,t,n,r){const i=wl(e,t);return i.$fields.forEach(o=>r[o]=1),Ze(n,i.$params),i.$expr}const TPe="outer",RPe=["value","update","init","react","bind"];function _U(e,t){ee(e+' for "outer" push: '+de(t))}function fie(e,t){const n=e.name;if(e.push===TPe)t.signals[n]||_U("No prior signal definition",n),RPe.forEach(r=>{e[r]!==void 0&&_U("Invalid property ",r)});else{const r=t.addSignal(n,e.value);e.react===!1&&(r.react=!1),e.bind&&t.addBinding(n,e.bind)}}function $F(e,t,n,r){this.id=-1,this.type=e,this.value=t,this.params=n,r&&(this.parent=r)}function B_(e,t,n,r){return new $F(e,t,n,r)}function mE(e,t){return B_("operator",e,t)}function Pe(e){const t={$ref:e.id};return e.id<0&&(e.refs=e.refs||[]).push(t),t}function jv(e,t){return t?{$field:e,$name:t}:{$field:e}}const AF=jv("key");function $U(e,t){return{$compare:e,$order:t}}function FPe(e,t){const n={$key:e};return t&&(n.$flat=!0),n}const OPe="ascending",PPe="descending";function DPe(e){return ve(e)?(e.order===PPe?"-":"+")+j_(e.op,e.field):""}function j_(e,t){return(e&&e.signal?"$"+e.signal:e||"")+(e&&t?"_":"")+(t&&t.signal?"$"+t.signal:t||"")}const iL="scope",TF="view";function or(e){return e&&e.signal}function MPe(e){return e&&e.expr}function dS(e){if(or(e))return!0;if(ve(e)){for(const t in e)if(dS(e[t]))return!0}return!1}function qs(e,t){return e??t}function nh(e){return e&&e.signal||e}const AU="timer";function Uv(e,t){return(e.merge?LPe:e.stream?IPe:e.type?zPe:ee("Invalid stream specification: "+de(e)))(e,t)}function NPe(e){return e===iL?TF:e||TF}function LPe(e,t){const n=e.merge.map(i=>Uv(i,t)),r=oL({merge:n},e,t);return t.addStream(r).id}function IPe(e,t){const n=Uv(e.stream,t),r=oL({stream:n},e,t);return t.addStream(r).id}function zPe(e,t){let n;e.type===AU?(n=t.event(AU,e.throttle),e={between:e.between,filter:e.filter}):n=t.event(NPe(e.source),e.type);const r=oL({stream:n},e,t);return Object.keys(r).length===1?n:t.addStream(r).id}function oL(e,t,n){let r=t.between;return r&&(r.length!==2&&ee('Stream "between" parameter must have 2 entries: '+de(t)),e.between=[Uv(r[0],n),Uv(r[1],n)]),r=t.filter?[].concat(t.filter):[],(t.marktype||t.markname||t.markrole)&&r.push(BPe(t.marktype,t.markname,t.markrole)),t.source===iL&&r.push("inScope(event.item)"),r.length&&(e.filter=wl("("+r.join(")&&(")+")",n).$expr),(r=t.throttle)!=null&&(e.throttle=+r),(r=t.debounce)!=null&&(e.debounce=+r),t.consume&&(e.consume=!0),e}function BPe(e,t,n){const r="event.item";return r+(e&&e!=="*"?"&&"+r+".mark.marktype==='"+e+"'":"")+(n?"&&"+r+".mark.role==='"+n+"'":"")+(t?"&&"+r+".mark.name==='"+t+"'":"")}const jPe={code:"_.$value",ast:{type:"Identifier",value:"value"}};function UPe(e,t,n){const r=e.encode,i={target:n};let o=e.events,s=e.update,a=[];o||ee("Signal update missing events specification."),we(o)&&(o=Lf(o,t.isSubscope()?iL:TF)),o=xe(o).filter(l=>l.signal||l.scale?(a.push(l),0):1),a.length>1&&(a=[WPe(a)]),o.length&&a.push(o.length>1?{merge:o}:o[0]),r!=null&&(s&&ee("Signal encode and update are mutually exclusive."),s="encode(item(),"+de(r)+")"),i.update=we(s)?wl(s,t):s.expr!=null?wl(s.expr,t):s.value!=null?s.value:s.signal!=null?{$expr:jPe,$params:{$value:t.signalRef(s.signal)}}:ee("Invalid signal update specification."),e.force&&(i.options={force:!0}),a.forEach(l=>t.addUpdate(Ze(VPe(l,t),i)))}function VPe(e,t){return{source:e.signal?t.signalRef(e.signal):e.scale?t.scaleRef(e.scale):Uv(e,t)}}function WPe(e){return{signal:"["+e.map(t=>t.scale?'scale("'+t.scale+'")':t.signal)+"]"}}function HPe(e,t){const n=t.getSignal(e.name);let r=e.update;e.init&&(r?ee("Signals can not include both init and update expressions."):(r=e.init,n.initonly=!0)),r&&(r=wl(r,t),n.update=r.$expr,n.params=r.$params),e.on&&e.on.forEach(i=>UPe(i,t,n.id))}const Gt=e=>(t,n,r)=>B_(e,n,t||void 0,r),die=Gt("aggregate"),qPe=Gt("axisticks"),hie=Gt("bound"),Ca=Gt("collect"),TU=Gt("compare"),GPe=Gt("datajoin"),pie=Gt("encode"),XPe=Gt("expression"),YPe=Gt("facet"),KPe=Gt("field"),QPe=Gt("key"),JPe=Gt("legendentries"),ZPe=Gt("load"),e6e=Gt("mark"),t6e=Gt("multiextent"),n6e=Gt("multivalues"),r6e=Gt("overlap"),i6e=Gt("params"),gie=Gt("prefacet"),o6e=Gt("projection"),s6e=Gt("proxy"),a6e=Gt("relay"),mie=Gt("render"),l6e=Gt("scale"),rp=Gt("sieve"),u6e=Gt("sortitems"),yie=Gt("viewlayout"),c6e=Gt("values");let f6e=0;const vie={min:"min",max:"max",count:"sum"};function d6e(e,t){const n=e.type||"linear";iee(n)||ee("Unrecognized scale type: "+de(n)),t.addScale(e.name,{type:n,domain:void 0})}function h6e(e,t){const n=t.getScale(e.name).params;let r;n.domain=bie(e.domain,e,t),e.range!=null&&(n.range=wie(e,t,n)),e.interpolate!=null&&C6e(e.interpolate,n),e.nice!=null&&(n.nice=S6e(e.nice,t)),e.bins!=null&&(n.bins=w6e(e.bins,t));for(r in e)Se(n,r)||r==="name"||(n[r]=ds(e[r],t))}function ds(e,t){return ve(e)?e.signal?t.signalRef(e.signal):ee("Unsupported object: "+de(e)):e}function hS(e,t){return e.signal?t.signalRef(e.signal):e.map(n=>ds(n,t))}function U_(e){ee("Can not find data set: "+de(e))}function bie(e,t,n){if(!e){(t.domainMin!=null||t.domainMax!=null)&&ee("No scale domain defined for domainMin/domainMax to override.");return}return e.signal?n.signalRef(e.signal):(te(e)?p6e:e.fields?m6e:g6e)(e,t,n)}function p6e(e,t,n){return e.map(r=>ds(r,n))}function g6e(e,t,n){const r=n.getData(e.data);return r||U_(e.data),km(t.type)?r.valuesRef(n,e.field,xie(e.sort,!1)):aee(t.type)?r.domainRef(n,e.field):r.extentRef(n,e.field)}function m6e(e,t,n){const r=e.data,i=e.fields.reduce((o,s)=>(s=we(s)?{data:r,field:s}:te(s)||s.signal?y6e(s,n):s,o.push(s),o),[]);return(km(t.type)?v6e:aee(t.type)?b6e:x6e)(e,n,i)}function y6e(e,t){const n="_:vega:_"+f6e++,r=Ca({});if(te(e))r.value={$ingest:e};else if(e.signal){const i="setdata("+de(n)+","+e.signal+")";r.params.input=t.signalRef(i)}return t.addDataPipeline(n,[r,rp({})]),{data:n,field:"data"}}function v6e(e,t,n){const r=xie(e.sort,!0);let i,o;const s=n.map(u=>{const c=t.getData(u.data);return c||U_(u.data),c.countsRef(t,u.field,r)}),a={groupby:AF,pulse:s};r&&(i=r.op||"count",o=r.field?j_(i,r.field):"count",a.ops=[vie[i]],a.fields=[t.fieldRef(o)],a.as=[o]),i=t.add(die(a));const l=t.add(Ca({pulse:Pe(i)}));return o=t.add(c6e({field:AF,sort:t.sortRef(r),pulse:Pe(l)})),Pe(o)}function xie(e,t){return e&&(!e.field&&!e.op?ve(e)?e.field="key":e={field:"key"}:!e.field&&e.op!=="count"?ee("No field provided for sort aggregate op: "+e.op):t&&e.field&&e.op&&!vie[e.op]&&ee("Multiple domain scales can not be sorted using "+e.op)),e}function b6e(e,t,n){const r=n.map(i=>{const o=t.getData(i.data);return o||U_(i.data),o.domainRef(t,i.field)});return Pe(t.add(n6e({values:r})))}function x6e(e,t,n){const r=n.map(i=>{const o=t.getData(i.data);return o||U_(i.data),o.extentRef(t,i.field)});return Pe(t.add(t6e({extents:r})))}function w6e(e,t){return e.signal||te(e)?hS(e,t):t.objectProperty(e)}function S6e(e,t){return e.signal?t.signalRef(e.signal):ve(e)?{interval:ds(e.interval),step:ds(e.step)}:ds(e)}function C6e(e,t){t.interpolate=ds(e.type||e),e.gamma!=null&&(t.interpolateGamma=ds(e.gamma))}function wie(e,t,n){const r=t.config.range;let i=e.range;if(i.signal)return t.signalRef(i.signal);if(we(i)){if(r&&Se(r,i))return e=Ze({},e,{range:r[i]}),wie(e,t,n);i==="width"?i=[0,{signal:"width"}]:i==="height"?i=km(e.type)?[0,{signal:"height"}]:[{signal:"height"},0]:ee("Unrecognized scale range value: "+de(i))}else if(i.scheme){n.scheme=te(i.scheme)?hS(i.scheme,t):ds(i.scheme,t),i.extent&&(n.schemeExtent=hS(i.extent,t)),i.count&&(n.schemeCount=ds(i.count,t));return}else if(i.step){n.rangeStep=ds(i.step,t);return}else{if(km(e.type)&&!te(i))return bie(i,e,t);te(i)||ee("Unsupported range type: "+de(i))}return i.map(o=>(te(o)?hS:ds)(o,t))}function E6e(e,t){const n=t.config.projection||{},r={};for(const i in e)i!=="name"&&(r[i]=RF(e[i],i,t));for(const i in n)r[i]==null&&(r[i]=RF(n[i],i,t));t.addProjection(e.name,r)}function RF(e,t,n){return te(e)?e.map(r=>RF(r,t,n)):ve(e)?e.signal?n.signalRef(e.signal):t==="fit"?e:ee("Unsupported parameter object: "+de(e)):e}const Ea="top",D0="left",M0="right",vf="bottom",Sie="center",k6e="vertical",_6e="start",$6e="middle",A6e="end",FF="index",sL="label",T6e="offset",Dm="perc",R6e="perc2",ys="value",mx="guide-label",aL="guide-title",F6e="group-title",O6e="group-subtitle",RU="symbol",pS="gradient",OF="discrete",PF="size",P6e="shape",D6e="fill",M6e="stroke",N6e="strokeWidth",L6e="strokeDash",I6e="opacity",lL=[PF,P6e,D6e,M6e,N6e,L6e,I6e],yx={name:1,style:1,interactive:1},yt={value:0},vs={value:1},V_="group",Cie="rect",uL="rule",z6e="symbol",ip="text";function Vv(e){return e.type=V_,e.interactive=e.interactive||!1,e}function mo(e,t){const n=(r,i)=>qs(e[r],qs(t[r],i));return n.isVertical=r=>k6e===qs(e.direction,t.direction||(r?t.symbolDirection:t.gradientDirection)),n.gradientLength=()=>qs(e.gradientLength,t.gradientLength||t.gradientWidth),n.gradientThickness=()=>qs(e.gradientThickness,t.gradientThickness||t.gradientHeight),n.entryColumns=()=>qs(e.columns,qs(t.columns,+n.isVertical(!0))),n}function Eie(e,t){const n=t&&(t.update&&t.update[e]||t.enter&&t.enter[e]);return n&&n.signal?n:n?n.value:null}function B6e(e,t,n){const r=t.config.style[n];return r&&r[e]}function W_(e,t,n){return`item.anchor === '${_6e}' ? ${e} : item.anchor === '${A6e}' ? ${t} : ${n}`}const cL=W_(de(D0),de(M0),de(Sie));function j6e(e){const t=e("tickBand");let n=e("tickOffset"),r,i;return t?t.signal?(r={signal:`(${t.signal}) === 'extent' ? 1 : 0.5`},i={signal:`(${t.signal}) === 'extent'`},ve(n)||(n={signal:`(${t.signal}) === 'extent' ? 0 : ${n}`})):t==="extent"?(r=1,i=!0,n=0):(r=.5,i=!1):(r=e("bandPosition"),i=e("tickExtra")),{extra:i,band:r,offset:n}}function kie(e,t){return t?e?ve(e)?Object.assign({},e,{offset:kie(e.offset,t)}):{value:e,offset:t}:t:e}function zo(e,t){return t?(e.name=t.name,e.style=t.style||e.style,e.interactive=!!t.interactive,e.encode=P0(e.encode,t,yx)):e.interactive=!1,e}function U6e(e,t,n,r){const i=mo(e,n),o=i.isVertical(),s=i.gradientThickness(),a=i.gradientLength();let l,u,c,f,d;o?(u=[0,1],c=[0,0],f=s,d=a):(u=[0,0],c=[1,0],f=a,d=s);const h={enter:l={opacity:yt,x:yt,y:yt,width:mr(f),height:mr(d)},update:Ze({},l,{opacity:vs,fill:{gradient:t,start:u,stop:c}}),exit:{opacity:yt}};return Lr(h,{stroke:i("gradientStrokeColor"),strokeWidth:i("gradientStrokeWidth")},{opacity:i("gradientOpacity")}),zo({type:Cie,role:gPe,encode:h},r)}function V6e(e,t,n,r,i){const o=mo(e,n),s=o.isVertical(),a=o.gradientThickness(),l=o.gradientLength();let u,c,f,d,h="";s?(u="y",f="y2",c="x",d="width",h="1-"):(u="x",f="x2",c="y",d="height");const p={opacity:yt,fill:{scale:t,field:ys}};p[u]={signal:h+"datum."+Dm,mult:l},p[c]=yt,p[f]={signal:h+"datum."+R6e,mult:l},p[d]=mr(a);const g={enter:p,update:Ze({},p,{opacity:vs}),exit:{opacity:yt}};return Lr(g,{stroke:o("gradientStrokeColor"),strokeWidth:o("gradientStrokeWidth")},{opacity:o("gradientOpacity")}),zo({type:Cie,role:hPe,key:ys,from:i,encode:g},r)}const W6e=`datum.${Dm}<=0?"${D0}":datum.${Dm}>=1?"${M0}":"${Sie}"`,H6e=`datum.${Dm}<=0?"${vf}":datum.${Dm}>=1?"${Ea}":"${$6e}"`;function FU(e,t,n,r){const i=mo(e,t),o=i.isVertical(),s=mr(i.gradientThickness()),a=i.gradientLength();let l=i("labelOverlap"),u,c,f,d,h="";const p={enter:u={opacity:yt},update:c={opacity:vs,text:{field:sL}},exit:{opacity:yt}};return Lr(p,{fill:i("labelColor"),fillOpacity:i("labelOpacity"),font:i("labelFont"),fontSize:i("labelFontSize"),fontStyle:i("labelFontStyle"),fontWeight:i("labelFontWeight"),limit:qs(e.labelLimit,t.gradientLabelLimit)}),o?(u.align={value:"left"},u.baseline=c.baseline={signal:H6e},f="y",d="x",h="1-"):(u.align=c.align={signal:W6e},u.baseline={value:"top"},f="x",d="y"),u[f]=c[f]={signal:h+"datum."+Dm,mult:a},u[d]=c[d]=s,s.offset=qs(e.labelOffset,t.gradientLabelOffset)||0,l=l?{separation:i("labelSeparation"),method:l,order:"datum."+FF}:void 0,zo({type:ip,role:sie,style:mx,key:ys,from:r,encode:p,overlap:l},n)}function q6e(e,t,n,r,i){const o=mo(e,t),s=n.entries,a=!!(s&&s.interactive),l=s?s.name:void 0,u=o("clipHeight"),c=o("symbolOffset"),f={data:"value"},d=`(${i}) ? datum.${T6e} : datum.${PF}`,h=u?mr(u):{field:PF},p=`datum.${FF}`,g=`max(1, ${i})`;let m,y,v,b,x;h.mult=.5,m={enter:y={opacity:yt,x:{signal:d,mult:.5,offset:c},y:h},update:v={opacity:vs,x:y.x,y:y.y},exit:{opacity:yt}};let w=null,E=null;e.fill||(w=t.symbolBaseFillColor,E=t.symbolBaseStrokeColor),Lr(m,{fill:o("symbolFillColor",w),shape:o("symbolType"),size:o("symbolSize"),stroke:o("symbolStrokeColor",E),strokeDash:o("symbolDash"),strokeDashOffset:o("symbolDashOffset"),strokeWidth:o("symbolStrokeWidth")},{opacity:o("symbolOpacity")}),lL.forEach(F=>{e[F]&&(v[F]=y[F]={scale:e[F],field:ys})});const S=zo({type:z6e,role:mPe,key:ys,from:f,clip:u?!0:void 0,encode:m},n.symbols),k=mr(c);k.offset=o("labelOffset"),m={enter:y={opacity:yt,x:{signal:d,offset:k},y:h},update:v={opacity:vs,text:{field:sL},x:y.x,y:y.y},exit:{opacity:yt}},Lr(m,{align:o("labelAlign"),baseline:o("labelBaseline"),fill:o("labelColor"),fillOpacity:o("labelOpacity"),font:o("labelFont"),fontSize:o("labelFontSize"),fontStyle:o("labelFontStyle"),fontWeight:o("labelFontWeight"),limit:o("labelLimit")});const $=zo({type:ip,role:sie,style:mx,key:ys,from:f,encode:m},n.labels);return m={enter:{noBound:{value:!u},width:yt,height:u?mr(u):yt,opacity:yt},exit:{opacity:yt},update:v={opacity:vs,row:{signal:null},column:{signal:null}}},o.isVertical(!0)?(b=`ceil(item.mark.items.length / ${g})`,v.row.signal=`${p}%${b}`,v.column.signal=`floor(${p} / ${b})`,x={field:["row",p]}):(v.row.signal=`floor(${p} / ${g})`,v.column.signal=`${p} % ${g}`,x={field:p}),v.column.signal=`(${i})?${v.column.signal}:${p}`,r={facet:{data:r,name:"value",groupby:FF}},Vv({role:rL,from:r,encode:P0(m,s,yx),marks:[S,$],name:l,interactive:a,sort:x})}function G6e(e,t){const n=mo(e,t);return{align:n("gridAlign"),columns:n.entryColumns(),center:{row:!0,column:!1},padding:{row:n("rowPadding"),column:n("columnPadding")}}}const fL='item.orient === "left"',dL='item.orient === "right"',H_=`(${fL} || ${dL})`,X6e=`datum.vgrad && ${H_}`,Y6e=W_('"top"','"bottom"','"middle"'),K6e=W_('"right"','"left"','"center"'),Q6e=`datum.vgrad && ${dL} ? (${K6e}) : (${H_} && !(datum.vgrad && ${fL})) ? "left" : ${cL}`,J6e=`item._anchor || (${H_} ? "middle" : "start")`,Z6e=`${X6e} ? (${fL} ? -90 : 90) : 0`,eDe=`${H_} ? (datum.vgrad ? (${dL} ? "bottom" : "top") : ${Y6e}) : "top"`;function tDe(e,t,n,r){const i=mo(e,t),o={enter:{opacity:yt},update:{opacity:vs,x:{field:{group:"padding"}},y:{field:{group:"padding"}}},exit:{opacity:yt}};return Lr(o,{orient:i("titleOrient"),_anchor:i("titleAnchor"),anchor:{signal:J6e},angle:{signal:Z6e},align:{signal:Q6e},baseline:{signal:eDe},text:e.title,fill:i("titleColor"),fillOpacity:i("titleOpacity"),font:i("titleFont"),fontSize:i("titleFontSize"),fontStyle:i("titleFontStyle"),fontWeight:i("titleFontWeight"),limit:i("titleLimit"),lineHeight:i("titleLineHeight")},{align:i("titleAlign"),baseline:i("titleBaseline")}),zo({type:ip,role:yPe,style:aL,from:r,encode:o},n)}function nDe(e,t){let n;return ve(e)&&(e.signal?n=e.signal:e.path?n="pathShape("+OU(e.path)+")":e.sphere&&(n="geoShape("+OU(e.sphere)+', {type: "Sphere"})')),n?t.signalRef(n):!!e}function OU(e){return ve(e)&&e.signal?e.signal:de(e)}function _ie(e){const t=e.role||"";return t.startsWith("axis")||t.startsWith("legend")||t.startsWith("title")?t:e.type===V_?rL:t||tL}function rDe(e){return{marktype:e.type,name:e.name||void 0,role:e.role||_ie(e),zindex:+e.zindex||void 0,aria:e.aria,description:e.description}}function iDe(e,t){return e&&e.signal?t.signalRef(e.signal):e!==!1}function hL(e,t){const n=eJ(e.type);n||ee("Unrecognized transform type: "+de(e.type));const r=B_(n.type.toLowerCase(),null,$ie(n,e,t));return e.signal&&t.addSignal(e.signal,t.proxy(r)),r.metadata=n.metadata||{},r}function $ie(e,t,n){const r={},i=e.params.length;for(let o=0;o<i;++o){const s=e.params[o];r[s.name]=oDe(s,t,n)}return r}function oDe(e,t,n){const r=e.type,i=t[e.name];if(r==="index")return sDe(e,t,n);if(i===void 0){e.required&&ee("Missing required "+de(t.type)+" parameter: "+de(e.name));return}else{if(r==="param")return aDe(e,t,n);if(r==="projection")return n.projectionRef(t[e.name])}return e.array&&!or(i)?i.map(o=>PU(e,o,n)):PU(e,i,n)}function PU(e,t,n){const r=e.type;if(or(t))return MU(r)?ee("Expression references can not be signals."):JT(r)?n.fieldRef(t):NU(r)?n.compareRef(t):n.signalRef(t.signal);{const i=e.expr||JT(r);return i&&lDe(t)?n.exprRef(t.expr,t.as):i&&uDe(t)?jv(t.field,t.as):MU(r)?wl(t,n):cDe(r)?Pe(n.getData(t).values):JT(r)?jv(t):NU(r)?n.compareRef(t):t}}function sDe(e,t,n){return we(t.from)||ee('Lookup "from" parameter must be a string literal.'),n.getData(t.from).lookupRef(n,t.key)}function aDe(e,t,n){const r=t[e.name];return e.array?(te(r)||ee("Expected an array of sub-parameters. Instead: "+de(r)),r.map(i=>DU(e,i,n))):DU(e,r,n)}function DU(e,t,n){const r=e.params.length;let i;for(let s=0;s<r;++s){i=e.params[s];for(const a in i.key)if(i.key[a]!==t[a]){i=null;break}if(i)break}i||ee("Unsupported parameter: "+de(t));const o=Ze($ie(i,t,n),i.key);return Pe(n.add(i6e(o)))}const lDe=e=>e&&e.expr,uDe=e=>e&&e.field,cDe=e=>e==="data",MU=e=>e==="expr",JT=e=>e==="field",NU=e=>e==="compare";function fDe(e,t,n){let r,i,o,s,a;return e?(r=e.facet)&&(t||ee("Only group marks can be faceted."),r.field!=null?s=a=gS(r,n):(e.data?a=Pe(n.getData(e.data).aggregate):(o=hL(Ze({type:"aggregate",groupby:xe(r.groupby)},r.aggregate),n),o.params.key=n.keyRef(r.groupby),o.params.pulse=gS(r,n),s=a=Pe(n.add(o))),i=n.keyRef(r.groupby,!0))):s=Pe(n.add(Ca(null,[{}]))),s||(s=gS(e,n)),{key:i,pulse:s,parent:a}}function gS(e,t){return e.$ref?e:e.data&&e.data.$ref?e.data:Pe(t.getData(e.data).output)}function $h(e,t,n,r,i){this.scope=e,this.input=t,this.output=n,this.values=r,this.aggregate=i,this.index={}}$h.fromEntries=function(e,t){const n=t.length,r=t[n-1],i=t[n-2];let o=t[0],s=null,a=1;for(o&&o.type==="load"&&(o=t[1]),e.add(t[0]);a<n;++a)t[a].params.pulse=Pe(t[a-1]),e.add(t[a]),t[a].type==="aggregate"&&(s=t[a]);return new $h(e,o,i,r,s)};function Aie(e){return we(e)?e:null}function LU(e,t,n){const r=j_(n.op,n.field);let i;if(t.ops){for(let o=0,s=t.as.length;o<s;++o)if(t.as[o]===r)return}else t.ops=["count"],t.fields=[null],t.as=["count"];n.op&&(t.ops.push((i=n.op.signal)?e.signalRef(i):n.op),t.fields.push(e.fieldRef(n.field)),t.as.push(r))}function Ay(e,t,n,r,i,o,s){const a=t[n]||(t[n]={}),l=DPe(o);let u=Aie(i),c,f;if(u!=null&&(e=t.scope,u=u+(l?"|"+l:""),c=a[u]),!c){const d=o?{field:AF,pulse:t.countsRef(e,i,o)}:{field:e.fieldRef(i),pulse:Pe(t.output)};l&&(d.sort=e.sortRef(o)),f=e.add(B_(r,void 0,d)),s&&(t.index[i]=f),c=Pe(f),u!=null&&(a[u]=c)}return c}$h.prototype={countsRef(e,t,n){const r=this,i=r.counts||(r.counts={}),o=Aie(t);let s,a,l;return o!=null&&(e=r.scope,s=i[o]),s?n&&n.field&&LU(e,s.agg.params,n):(l={groupby:e.fieldRef(t,"key"),pulse:Pe(r.output)},n&&n.field&&LU(e,l,n),a=e.add(die(l)),s=e.add(Ca({pulse:Pe(a)})),s={agg:a,ref:Pe(s)},o!=null&&(i[o]=s)),s.ref},tuplesRef(){return Pe(this.values)},extentRef(e,t){return Ay(e,this,"extent","extent",t,!1)},domainRef(e,t){return Ay(e,this,"domain","values",t,!1)},valuesRef(e,t,n){return Ay(e,this,"vals","values",t,n||!0)},lookupRef(e,t){return Ay(e,this,"lookup","tupleindex",t,!1)},indataRef(e,t){return Ay(e,this,"indata","tupleindex",t,!0,!0)}};function dDe(e,t,n){const r=e.from.facet,i=r.name,o=gS(r,t);let s;r.name||ee("Facet must have a name: "+de(r)),r.data||ee("Facet must reference a data set: "+de(r)),r.field?s=t.add(gie({field:t.fieldRef(r.field),pulse:o})):r.groupby?s=t.add(YPe({key:t.keyRef(r.groupby),group:Pe(t.proxy(n.parent)),pulse:o})):ee("Facet must specify groupby or field: "+de(r));const a=t.fork(),l=a.add(Ca()),u=a.add(rp({pulse:Pe(l)}));a.addData(i,new $h(a,l,l,u)),a.addSignal("parent",null),s.params.subflow={$subflow:a.parse(e).toRuntime()}}function hDe(e,t,n){const r=t.add(gie({pulse:n.pulse})),i=t.fork();i.add(rp()),i.addSignal("parent",null),r.params.subflow={$subflow:i.parse(e).toRuntime()}}function Tie(e,t,n){const r=e.remove,i=e.insert,o=e.toggle,s=e.modify,a=e.values,l=t.add(mE()),u="if("+e.trigger+',modify("'+n+'",'+[i,r,o,s,a].map(f=>f??"null").join(",")+"),0)",c=wl(u,t);l.update=c.$expr,l.params=c.$params}function q_(e,t){const n=_ie(e),r=e.type===V_,i=e.from&&e.from.facet,o=e.overlap;let s=e.layout||n===rL||n===nL,a,l,u,c,f,d,h;const p=n===tL||s||i,g=fDe(e.from,r,t);l=t.add(GPe({key:g.key||(e.key?jv(e.key):void 0),pulse:g.pulse,clean:!r}));const m=Pe(l);l=u=t.add(Ca({pulse:m})),l=t.add(e6e({markdef:rDe(e),interactive:iDe(e.interactive,t),clip:nDe(e.clip,t),context:{$context:!0},groups:t.lookup(),parent:t.signals.parent?t.signalRef("parent"):null,index:t.markpath(),pulse:Pe(l)}));const y=Pe(l);l=c=t.add(pie(cie(e.encode,e.type,n,e.style,t,{mod:!1,pulse:y}))),l.params.parent=t.encode(),e.transform&&e.transform.forEach(E=>{const S=hL(E,t),k=S.metadata;(k.generates||k.changes)&&ee("Mark transforms should not generate new data."),k.nomod||(c.params.mod=!0),S.params.pulse=Pe(l),t.add(l=S)}),e.sort&&(l=t.add(u6e({sort:t.compareRef(e.sort),pulse:Pe(l)})));const v=Pe(l);(i||s)&&(s=t.add(yie({layout:t.objectProperty(e.layout),legends:t.legends,mark:y,pulse:v})),d=Pe(s));const b=t.add(hie({mark:y,pulse:d||v}));h=Pe(b),r&&(p&&(a=t.operators,a.pop(),s&&a.pop()),t.pushState(v,d||h,m),i?dDe(e,t,g):p?hDe(e,t,g):t.parse(e),t.popState(),p&&(s&&a.push(s),a.push(b))),o&&(h=pDe(o,h,t));const x=t.add(mie({pulse:h})),w=t.add(rp({pulse:Pe(x)},void 0,t.parent()));e.name!=null&&(f=e.name,t.addData(f,new $h(t,u,x,w)),e.on&&e.on.forEach(E=>{(E.insert||E.remove||E.toggle)&&ee("Marks only support modify triggers."),Tie(E,t,f)}))}function pDe(e,t,n){const r=e.method,i=e.bound,o=e.separation,s={separation:or(o)?n.signalRef(o.signal):o,method:or(r)?n.signalRef(r.signal):r,pulse:t};if(e.order&&(s.sort=n.compareRef({field:e.order})),i){const a=i.tolerance;s.boundTolerance=or(a)?n.signalRef(a.signal):+a,s.boundScale=n.scaleRef(i.scale),s.boundOrient=i.orient}return Pe(n.add(r6e(s)))}function gDe(e,t){const n=t.config.legend,r=e.encode||{},i=mo(e,n),o=r.legend||{},s=o.name||void 0,a=o.interactive,l=o.style,u={};let c=0,f,d,h;lL.forEach(b=>e[b]?(u[b]=e[b],c=c||e[b]):0),c||ee("Missing valid scale for legend.");const p=mDe(e,t.scaleType(c)),g={title:e.title!=null,scales:u,type:p,vgrad:p!=="symbol"&&i.isVertical()},m=Pe(t.add(Ca(null,[g]))),y={enter:{x:{value:0},y:{value:0}}},v=Pe(t.add(JPe(d={type:p,scale:t.scaleRef(c),count:t.objectProperty(i("tickCount")),limit:t.property(i("symbolLimit")),values:t.objectProperty(e.values),minstep:t.property(e.tickMinStep),formatType:t.property(e.formatType),formatSpecifier:t.property(e.format)})));return p===pS?(h=[U6e(e,c,n,r.gradient),FU(e,n,r.labels,v)],d.count=d.count||t.signalRef(`max(2,2*floor((${nh(i.gradientLength())})/100))`)):p===OF?h=[V6e(e,c,n,r.gradient,v),FU(e,n,r.labels,v)]:(f=G6e(e,n),h=[q6e(e,n,r,v,nh(f.columns))],d.size=bDe(e,t,h[0].marks)),h=[Vv({role:pPe,from:m,encode:y,marks:h,layout:f,interactive:a})],g.title&&h.push(tDe(e,n,r.title,m)),q_(Vv({role:dPe,from:m,encode:P0(vDe(i,e,n),o,yx),marks:h,aria:i("aria"),description:i("description"),zindex:i("zindex"),name:s,interactive:a,style:l}),t)}function mDe(e,t){let n=e.type||RU;return!e.type&&yDe(e)===1&&(e.fill||e.stroke)&&(n=dM(t)?pS:ER(t)?OF:RU),n!==pS?n:ER(t)?OF:pS}function yDe(e){return lL.reduce((t,n)=>t+(e[n]?1:0),0)}function vDe(e,t,n){const r={enter:{},update:{}};return Lr(r,{orient:e("orient"),offset:e("offset"),padding:e("padding"),titlePadding:e("titlePadding"),cornerRadius:e("cornerRadius"),fill:e("fillColor"),stroke:e("strokeColor"),strokeWidth:n.strokeWidth,strokeDash:n.strokeDash,x:e("legendX"),y:e("legendY"),format:t.format,formatType:t.formatType}),r}function bDe(e,t,n){const r=nh(IU("size",e,n)),i=nh(IU("strokeWidth",e,n)),o=nh(xDe(n[1].encode,t,mx));return wl(`max(ceil(sqrt(${r})+${i}),${o})`,t)}function IU(e,t,n){return t[e]?`scale("${t[e]}",datum)`:Eie(e,n[0].encode)}function xDe(e,t,n){return Eie("fontSize",e)||B6e("fontSize",t,n)}const wDe=`item.orient==="${D0}"?-90:item.orient==="${M0}"?90:0`;function SDe(e,t){e=we(e)?{text:e}:e;const n=mo(e,t.config.title),r=e.encode||{},i=r.group||{},o=i.name||void 0,s=i.interactive,a=i.style,l=[],u={},c=Pe(t.add(Ca(null,[u])));return l.push(kDe(e,n,CDe(e),c)),e.subtitle&&l.push(_De(e,n,r.subtitle,c)),q_(Vv({role:vPe,from:c,encode:EDe(n,i),marks:l,aria:n("aria"),description:n("description"),zindex:n("zindex"),name:o,interactive:s,style:a}),t)}function CDe(e){const t=e.encode;return t&&t.title||Ze({name:e.name,interactive:e.interactive,style:e.style},t)}function EDe(e,t){const n={enter:{},update:{}};return Lr(n,{orient:e("orient"),anchor:e("anchor"),align:{signal:cL},angle:{signal:wDe},limit:e("limit"),frame:e("frame"),offset:e("offset")||0,padding:e("subtitlePadding")}),P0(n,t,yx)}function kDe(e,t,n,r){const i={value:0},o=e.text,s={enter:{opacity:i},update:{opacity:{value:1}},exit:{opacity:i}};return Lr(s,{text:o,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:t("dx"),dy:t("dy"),fill:t("color"),font:t("font"),fontSize:t("fontSize"),fontStyle:t("fontStyle"),fontWeight:t("fontWeight"),lineHeight:t("lineHeight")},{align:t("align"),angle:t("angle"),baseline:t("baseline")}),zo({type:ip,role:bPe,style:F6e,from:r,encode:s},n)}function _De(e,t,n,r){const i={value:0},o=e.subtitle,s={enter:{opacity:i},update:{opacity:{value:1}},exit:{opacity:i}};return Lr(s,{text:o,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:t("dx"),dy:t("dy"),fill:t("subtitleColor"),font:t("subtitleFont"),fontSize:t("subtitleFontSize"),fontStyle:t("subtitleFontStyle"),fontWeight:t("subtitleFontWeight"),lineHeight:t("subtitleLineHeight")},{align:t("align"),angle:t("angle"),baseline:t("baseline")}),zo({type:ip,role:xPe,style:O6e,from:r,encode:s},n)}function $De(e,t){const n=[];e.transform&&e.transform.forEach(r=>{n.push(hL(r,t))}),e.on&&e.on.forEach(r=>{Tie(r,t,e.name)}),t.addDataPipeline(e.name,ADe(e,t,n))}function ADe(e,t,n){const r=[];let i=null,o=!1,s=!1,a,l,u,c,f;for(e.values?or(e.values)||dS(e.format)?(r.push(zU(t,e)),r.push(i=sd())):r.push(i=sd({$ingest:e.values,$format:e.format})):e.url?dS(e.url)||dS(e.format)?(r.push(zU(t,e)),r.push(i=sd())):r.push(i=sd({$request:e.url,$format:e.format})):e.source&&(i=a=xe(e.source).map(d=>Pe(t.getData(d).output)),r.push(null)),l=0,u=n.length;l<u;++l)c=n[l],f=c.metadata,!i&&!f.source&&r.push(i=sd()),r.push(c),f.generates&&(s=!0),f.modifies&&!s&&(o=!0),f.source?i=c:f.changes&&(i=null);return a&&(u=a.length-1,r[0]=a6e({derive:o,pulse:u?a:a[0]}),(o||u)&&r.splice(1,0,sd())),i||r.push(sd()),r.push(rp({})),r}function sd(e){const t=Ca({},e);return t.metadata={source:!0},t}function zU(e,t){return ZPe({url:t.url?e.property(t.url):void 0,async:t.async?e.property(t.async):void 0,values:t.values?e.property(t.values):void 0,format:e.objectProperty(t.format)})}const Rie=e=>e===vf||e===Ea,G_=(e,t,n)=>or(e)?ODe(e.signal,t,n):e===D0||e===Ea?t:n,yr=(e,t,n)=>or(e)?RDe(e.signal,t,n):Rie(e)?t:n,aa=(e,t,n)=>or(e)?FDe(e.signal,t,n):Rie(e)?n:t,Fie=(e,t,n)=>or(e)?PDe(e.signal,t,n):e===Ea?{value:t}:{value:n},TDe=(e,t,n)=>or(e)?DDe(e.signal,t,n):e===M0?{value:t}:{value:n},RDe=(e,t,n)=>Oie(`${e} === '${Ea}' || ${e} === '${vf}'`,t,n),FDe=(e,t,n)=>Oie(`${e} !== '${Ea}' && ${e} !== '${vf}'`,t,n),ODe=(e,t,n)=>pL(`${e} === '${D0}' || ${e} === '${Ea}'`,t,n),PDe=(e,t,n)=>pL(`${e} === '${Ea}'`,t,n),DDe=(e,t,n)=>pL(`${e} === '${M0}'`,t,n),Oie=(e,t,n)=>(t=t!=null?mr(t):t,n=n!=null?mr(n):n,BU(t)&&BU(n)?(t=t?t.signal||de(t.value):null,n=n?n.signal||de(n.value):null,{signal:`${e} ? (${t}) : (${n})`}):[Ze({test:e},t)].concat(n||[])),BU=e=>e==null||Object.keys(e).length===1,pL=(e,t,n)=>({signal:`${e} ? (${ag(t)}) : (${ag(n)})`}),MDe=(e,t,n,r,i)=>({signal:(r!=null?`${e} === '${D0}' ? (${ag(r)}) : `:"")+(n!=null?`${e} === '${vf}' ? (${ag(n)}) : `:"")+(i!=null?`${e} === '${M0}' ? (${ag(i)}) : `:"")+(t!=null?`${e} === '${Ea}' ? (${ag(t)}) : `:"")+"(null)"}),ag=e=>or(e)?e.signal:e==null?null:de(e),NDe=(e,t)=>t===0?0:or(e)?{signal:`(${e.signal}) * ${t}`}:{value:e*t},Dg=(e,t)=>{const n=e.signal;return n&&n.endsWith("(null)")?{signal:n.slice(0,-6)+t.signal}:e};function Bp(e,t,n,r){let i;if(t&&Se(t,e))return t[e];if(Se(n,e))return n[e];if(e.startsWith("title")){switch(e){case"titleColor":i="fill";break;case"titleFont":case"titleFontSize":case"titleFontWeight":i=e[5].toLowerCase()+e.slice(6)}return r[aL][i]}else if(e.startsWith("label")){switch(e){case"labelColor":i="fill";break;case"labelFont":case"labelFontSize":i=e[5].toLowerCase()+e.slice(6)}return r[mx][i]}return null}function jU(e){const t={};for(const n of e)if(n)for(const r in n)t[r]=1;return Object.keys(t)}function LDe(e,t){var n=t.config,r=n.style,i=n.axis,o=t.scaleType(e.scale)==="band"&&n.axisBand,s=e.orient,a,l,u;if(or(s)){const f=jU([n.axisX,n.axisY]),d=jU([n.axisTop,n.axisBottom,n.axisLeft,n.axisRight]);a={};for(u of f)a[u]=yr(s,Bp(u,n.axisX,i,r),Bp(u,n.axisY,i,r));l={};for(u of d)l[u]=MDe(s.signal,Bp(u,n.axisTop,i,r),Bp(u,n.axisBottom,i,r),Bp(u,n.axisLeft,i,r),Bp(u,n.axisRight,i,r))}else a=s===Ea||s===vf?n.axisX:n.axisY,l=n["axis"+s[0].toUpperCase()+s.slice(1)];return a||l||o?Ze({},i,a,l,o):i}function IDe(e,t,n,r){const i=mo(e,t),o=e.orient;let s,a;const l={enter:s={opacity:yt},update:a={opacity:vs},exit:{opacity:yt}};Lr(l,{stroke:i("domainColor"),strokeCap:i("domainCap"),strokeDash:i("domainDash"),strokeDashOffset:i("domainDashOffset"),strokeWidth:i("domainWidth"),strokeOpacity:i("domainOpacity")});const u=UU(e,0),c=UU(e,1);return s.x=a.x=yr(o,u,yt),s.x2=a.x2=yr(o,c),s.y=a.y=aa(o,u,yt),s.y2=a.y2=aa(o,c),zo({type:uL,role:aPe,from:r,encode:l},n)}function UU(e,t){return{scale:e.scale,range:t}}function zDe(e,t,n,r,i){const o=mo(e,t),s=e.orient,a=e.gridScale,l=G_(s,1,-1),u=BDe(e.offset,l);let c,f,d;const h={enter:c={opacity:yt},update:d={opacity:vs},exit:f={opacity:yt}};Lr(h,{stroke:o("gridColor"),strokeCap:o("gridCap"),strokeDash:o("gridDash"),strokeDashOffset:o("gridDashOffset"),strokeOpacity:o("gridOpacity"),strokeWidth:o("gridWidth")});const p={scale:e.scale,field:ys,band:i.band,extra:i.extra,offset:i.offset,round:o("tickRound")},g=yr(s,{signal:"height"},{signal:"width"}),m=a?{scale:a,range:0,mult:l,offset:u}:{value:0,offset:u},y=a?{scale:a,range:1,mult:l,offset:u}:Ze(g,{mult:l,offset:u});return c.x=d.x=yr(s,p,m),c.y=d.y=aa(s,p,m),c.x2=d.x2=aa(s,y),c.y2=d.y2=yr(s,y),f.x=yr(s,p),f.y=aa(s,p),zo({type:uL,role:lPe,key:ys,from:r,encode:h},n)}function BDe(e,t){if(t!==1)if(!ve(e))e=or(t)?{signal:`(${t.signal}) * (${e||0})`}:t*(e||0);else{let n=e=Ze({},e);for(;n.mult!=null;)if(ve(n.mult))n=n.mult=Ze({},n.mult);else return n.mult=or(t)?{signal:`(${n.mult}) * (${t.signal})`}:n.mult*t,e;n.mult=t}return e}function jDe(e,t,n,r,i,o){const s=mo(e,t),a=e.orient,l=G_(a,-1,1);let u,c,f;const d={enter:u={opacity:yt},update:f={opacity:vs},exit:c={opacity:yt}};Lr(d,{stroke:s("tickColor"),strokeCap:s("tickCap"),strokeDash:s("tickDash"),strokeDashOffset:s("tickDashOffset"),strokeOpacity:s("tickOpacity"),strokeWidth:s("tickWidth")});const h=mr(i);h.mult=l;const p={scale:e.scale,field:ys,band:o.band,extra:o.extra,offset:o.offset,round:s("tickRound")};return f.y=u.y=yr(a,yt,p),f.y2=u.y2=yr(a,h),c.x=yr(a,p),f.x=u.x=aa(a,yt,p),f.x2=u.x2=aa(a,h),c.y=aa(a,p),zo({type:uL,role:cPe,key:ys,from:r,encode:d},n)}function ZT(e,t,n,r,i){return{signal:'flush(range("'+e+'"), scale("'+e+'", datum.value), '+t+","+n+","+r+","+i+")"}}function UDe(e,t,n,r,i,o){const s=mo(e,t),a=e.orient,l=e.scale,u=G_(a,-1,1),c=nh(s("labelFlush")),f=nh(s("labelFlushOffset")),d=s("labelAlign"),h=s("labelBaseline");let p=c===0||!!c,g;const m=mr(i);m.mult=u,m.offset=mr(s("labelPadding")||0),m.offset.mult=u;const y={scale:l,field:ys,band:.5,offset:kie(o.offset,s("labelOffset"))},v=yr(a,p?ZT(l,c,'"left"','"right"','"center"'):{value:"center"},TDe(a,"left","right")),b=yr(a,Fie(a,"bottom","top"),p?ZT(l,c,'"top"','"bottom"','"middle"'):{value:"middle"}),x=ZT(l,c,`-(${f})`,f,0);p=p&&f;const w={opacity:yt,x:yr(a,y,m),y:aa(a,y,m)},E={enter:w,update:g={opacity:vs,text:{field:sL},x:w.x,y:w.y,align:v,baseline:b},exit:{opacity:yt,x:w.x,y:w.y}};Lr(E,{dx:!d&&p?yr(a,x):null,dy:!h&&p?aa(a,x):null}),Lr(E,{angle:s("labelAngle"),fill:s("labelColor"),fillOpacity:s("labelOpacity"),font:s("labelFont"),fontSize:s("labelFontSize"),fontWeight:s("labelFontWeight"),fontStyle:s("labelFontStyle"),limit:s("labelLimit"),lineHeight:s("labelLineHeight")},{align:d,baseline:h});const S=s("labelBound");let k=s("labelOverlap");return k=k||S?{separation:s("labelSeparation"),method:k,order:"datum.index",bound:S?{scale:l,orient:a,tolerance:S}:null}:void 0,g.align!==v&&(g.align=Dg(g.align,v)),g.baseline!==b&&(g.baseline=Dg(g.baseline,b)),zo({type:ip,role:uPe,style:mx,key:ys,from:r,encode:E,overlap:k},n)}function VDe(e,t,n,r){const i=mo(e,t),o=e.orient,s=G_(o,-1,1);let a,l;const u={enter:a={opacity:yt,anchor:mr(i("titleAnchor",null)),align:{signal:cL}},update:l=Ze({},a,{opacity:vs,text:mr(e.title)}),exit:{opacity:yt}},c={signal:`lerp(range("${e.scale}"), ${W_(0,1,.5)})`};return l.x=yr(o,c),l.y=aa(o,c),a.angle=yr(o,yt,NDe(s,90)),a.baseline=yr(o,Fie(o,vf,Ea),{value:vf}),l.angle=a.angle,l.baseline=a.baseline,Lr(u,{fill:i("titleColor"),fillOpacity:i("titleOpacity"),font:i("titleFont"),fontSize:i("titleFontSize"),fontStyle:i("titleFontStyle"),fontWeight:i("titleFontWeight"),limit:i("titleLimit"),lineHeight:i("titleLineHeight")},{align:i("titleAlign"),angle:i("titleAngle"),baseline:i("titleBaseline")}),WDe(i,o,u,n),u.update.align=Dg(u.update.align,a.align),u.update.angle=Dg(u.update.angle,a.angle),u.update.baseline=Dg(u.update.baseline,a.baseline),zo({type:ip,role:fPe,style:aL,from:r,encode:u},n)}function WDe(e,t,n,r){const i=(a,l)=>a!=null?(n.update[l]=Dg(mr(a),n.update[l]),!1):!eg(l,r),o=i(e("titleX"),"x"),s=i(e("titleY"),"y");n.enter.auto=s===o?mr(s):yr(t,mr(s),mr(o))}function HDe(e,t){const n=LDe(e,t),r=e.encode||{},i=r.axis||{},o=i.name||void 0,s=i.interactive,a=i.style,l=mo(e,n),u=j6e(l),c={scale:e.scale,ticks:!!l("ticks"),labels:!!l("labels"),grid:!!l("grid"),domain:!!l("domain"),title:e.title!=null},f=Pe(t.add(Ca({},[c]))),d=Pe(t.add(qPe({scale:t.scaleRef(e.scale),extra:t.property(u.extra),count:t.objectProperty(e.tickCount),values:t.objectProperty(e.values),minstep:t.property(e.tickMinStep),formatType:t.property(e.formatType),formatSpecifier:t.property(e.format)}))),h=[];let p;return c.grid&&h.push(zDe(e,n,r.grid,d,u)),c.ticks&&(p=l("tickSize"),h.push(jDe(e,n,r.ticks,d,p,u))),c.labels&&(p=c.ticks?p:0,h.push(UDe(e,n,r.labels,d,p,u))),c.domain&&h.push(IDe(e,n,r.domain,f)),c.title&&h.push(VDe(e,n,r.title,f)),q_(Vv({role:sPe,from:f,encode:P0(qDe(l,e),i,yx),marks:h,aria:l("aria"),description:l("description"),zindex:l("zindex"),name:o,interactive:s,style:a}),t)}function qDe(e,t){const n={enter:{},update:{}};return Lr(n,{orient:e("orient"),offset:e("offset")||0,position:qs(t.position,0),titlePadding:e("titlePadding"),minExtent:e("minExtent"),maxExtent:e("maxExtent"),range:{signal:`abs(span(range("${t.scale}")))`},translate:e("translate"),format:t.format,formatType:t.formatType}),n}function Pie(e,t,n){const r=xe(e.signals),i=xe(e.scales);return n||r.forEach(o=>fie(o,t)),xe(e.projections).forEach(o=>E6e(o,t)),i.forEach(o=>d6e(o,t)),xe(e.data).forEach(o=>$De(o,t)),i.forEach(o=>h6e(o,t)),(n||r).forEach(o=>HPe(o,t)),xe(e.axes).forEach(o=>HDe(o,t)),xe(e.marks).forEach(o=>q_(o,t)),xe(e.legends).forEach(o=>gDe(o,t)),e.title&&SDe(e.title,t),t.parseLambdas(),t}const GDe=e=>P0({enter:{x:{value:0},y:{value:0}},update:{width:{signal:"width"},height:{signal:"height"}}},e);function XDe(e,t){const n=t.config,r=Pe(t.root=t.add(mE())),i=YDe(e,n);i.forEach(u=>fie(u,t)),t.description=e.description||n.description,t.eventConfig=n.events,t.legends=t.objectProperty(n.legend&&n.legend.layout),t.locale=n.locale;const o=t.add(Ca()),s=t.add(pie(cie(GDe(e.encode),V_,nL,e.style,t,{pulse:Pe(o)}))),a=t.add(yie({layout:t.objectProperty(e.layout),legends:t.legends,autosize:t.signalRef("autosize"),mark:r,pulse:Pe(s)}));t.operators.pop(),t.pushState(Pe(s),Pe(a),null),Pie(e,t,i),t.operators.push(a);let l=t.add(hie({mark:r,pulse:Pe(a)}));return l=t.add(mie({pulse:Pe(l)})),l=t.add(rp({pulse:Pe(l)})),t.addData("root",new $h(t,o,o,l)),t}function Ty(e,t){return t&&t.signal?{name:e,update:t.signal}:{name:e,value:t}}function YDe(e,t){const n=s=>qs(e[s],t[s]),r=[Ty("background",n("background")),Ty("autosize",rPe(n("autosize"))),Ty("padding",oPe(n("padding"))),Ty("width",n("width")||0),Ty("height",n("height")||0)],i=r.reduce((s,a)=>(s[a.name]=a,s),{}),o={};return xe(e.signals).forEach(s=>{Se(i,s.name)?s=Ze(i[s.name],s):r.push(s),o[s.name]=s}),xe(t.signals).forEach(s=>{!Se(o,s.name)&&!Se(i,s.name)&&r.push(s)}),r}function Die(e,t){this.config=e||{},this.options=t||{},this.bindings=[],this.field={},this.signals={},this.lambdas={},this.scales={},this.events={},this.data={},this.streams=[],this.updates=[],this.operators=[],this.eventConfig=null,this.locale=null,this._id=0,this._subid=0,this._nextsub=[0],this._parent=[],this._encode=[],this._lookup=[],this._markpath=[]}function VU(e){this.config=e.config,this.options=e.options,this.legends=e.legends,this.field=Object.create(e.field),this.signals=Object.create(e.signals),this.lambdas=Object.create(e.lambdas),this.scales=Object.create(e.scales),this.events=Object.create(e.events),this.data=Object.create(e.data),this.streams=[],this.updates=[],this.operators=[],this._id=0,this._subid=++e._nextsub[0],this._nextsub=e._nextsub,this._parent=e._parent.slice(),this._encode=e._encode.slice(),this._lookup=e._lookup.slice(),this._markpath=e._markpath}Die.prototype=VU.prototype={parse(e){return Pie(e,this)},fork(){return new VU(this)},isSubscope(){return this._subid>0},toRuntime(){return this.finish(),{description:this.description,operators:this.operators,streams:this.streams,updates:this.updates,bindings:this.bindings,eventConfig:this.eventConfig,locale:this.locale}},id(){return(this._subid?this._subid+":":0)+this._id++},add(e){return this.operators.push(e),e.id=this.id(),e.refs&&(e.refs.forEach(t=>{t.$ref=e.id}),e.refs=null),e},proxy(e){const t=e instanceof $F?Pe(e):e;return this.add(s6e({value:t}))},addStream(e){return this.streams.push(e),e.id=this.id(),e},addUpdate(e){return this.updates.push(e),e},finish(){let e,t;this.root&&(this.root.root=!0);for(e in this.signals)this.signals[e].signal=e;for(e in this.scales)this.scales[e].scale=e;function n(r,i,o){let s,a;r&&(s=r.data||(r.data={}),a=s[i]||(s[i]=[]),a.push(o))}for(e in this.data){t=this.data[e],n(t.input,e,"input"),n(t.output,e,"output"),n(t.values,e,"values");for(const r in t.index)n(t.index[r],e,"index:"+r)}return this},pushState(e,t,n){this._encode.push(Pe(this.add(rp({pulse:e})))),this._parent.push(t),this._lookup.push(n?Pe(this.proxy(n)):null),this._markpath.push(-1)},popState(){this._encode.pop(),this._parent.pop(),this._lookup.pop(),this._markpath.pop()},parent(){return gt(this._parent)},encode(){return gt(this._encode)},lookup(){return gt(this._lookup)},markpath(){const e=this._markpath;return++e[e.length-1]},fieldRef(e,t){if(we(e))return jv(e,t);e.signal||ee("Unsupported field reference: "+de(e));const n=e.signal;let r=this.field[n];if(!r){const i={name:this.signalRef(n)};t&&(i.as=t),this.field[n]=r=Pe(this.add(KPe(i)))}return r},compareRef(e){let t=!1;const n=o=>or(o)?(t=!0,this.signalRef(o.signal)):MPe(o)?(t=!0,this.exprRef(o.expr)):o,r=xe(e.field).map(n),i=xe(e.order).map(n);return t?Pe(this.add(TU({fields:r,orders:i}))):$U(r,i)},keyRef(e,t){let n=!1;const r=o=>or(o)?(n=!0,Pe(i[o.signal])):o,i=this.signals;return e=xe(e).map(r),n?Pe(this.add(QPe({fields:e,flat:t}))):FPe(e,t)},sortRef(e){if(!e)return e;const t=j_(e.op,e.field),n=e.order||OPe;return n.signal?Pe(this.add(TU({fields:t,orders:this.signalRef(n.signal)}))):$U(t,n)},event(e,t){const n=e+":"+t;if(!this.events[n]){const r=this.id();this.streams.push({id:r,source:e,type:t}),this.events[n]=r}return this.events[n]},hasOwnSignal(e){return Se(this.signals,e)},addSignal(e,t){this.hasOwnSignal(e)&&ee("Duplicate signal name: "+de(e));const n=t instanceof $F?t:this.add(mE(t));return this.signals[e]=n},getSignal(e){return this.signals[e]||ee("Unrecognized signal name: "+de(e)),this.signals[e]},signalRef(e){return this.signals[e]?Pe(this.signals[e]):(Se(this.lambdas,e)||(this.lambdas[e]=this.add(mE(null))),Pe(this.lambdas[e]))},parseLambdas(){const e=Object.keys(this.lambdas);for(let t=0,n=e.length;t<n;++t){const r=e[t],i=wl(r,this),o=this.lambdas[r];o.params=i.$params,o.update=i.$expr}},property(e){return e&&e.signal?this.signalRef(e.signal):e},objectProperty(e){return!e||!ve(e)?e:this.signalRef(e.signal||gL(e))},exprRef(e,t){const n={expr:wl(e,this)};return t&&(n.expr.$name=t),Pe(this.add(XPe(n)))},addBinding(e,t){this.bindings||ee("Nested signals do not support binding: "+de(e)),this.bindings.push(Ze({signal:e},t))},addScaleProj(e,t){Se(this.scales,e)&&ee("Duplicate scale or projection name: "+de(e)),this.scales[e]=this.add(t)},addScale(e,t){this.addScaleProj(e,l6e(t))},addProjection(e,t){this.addScaleProj(e,o6e(t))},getScale(e){return this.scales[e]||ee("Unrecognized scale name: "+de(e)),this.scales[e]},scaleRef(e){return Pe(this.getScale(e))},scaleType(e){return this.getScale(e).params.type},projectionRef(e){return this.scaleRef(e)},projectionType(e){return this.scaleType(e)},addData(e,t){return Se(this.data,e)&&ee("Duplicate data set name: "+de(e)),this.data[e]=t},getData(e){return this.data[e]||ee("Undefined data set name: "+de(e)),this.data[e]},addDataPipeline(e,t){return Se(this.data,e)&&ee("Duplicate data set name: "+de(e)),this.addData(e,$h.fromEntries(this,t))}};function gL(e){return(te(e)?KDe:QDe)(e)}function KDe(e){const t=e.length;let n="[";for(let r=0;r<t;++r){const i=e[r];n+=(r>0?",":"")+(ve(i)?i.signal||gL(i):de(i))}return n+"]"}function QDe(e){let t="{",n=0,r,i;for(r in e)i=e[r],t+=(++n>1?",":"")+de(r)+":"+(ve(i)?i.signal||gL(i):de(i));return t+"}"}function JDe(){const e="sans-serif",r="#4c78a8",i="#000",o="#888",s="#ddd";return{description:"Vega visualization",padding:0,autosize:"pad",background:null,events:{defaults:{allow:["wheel"]}},group:null,mark:null,arc:{fill:r},area:{fill:r},image:null,line:{stroke:r,strokeWidth:2},path:{stroke:r},rect:{fill:r},rule:{stroke:i},shape:{stroke:r},symbol:{fill:r,size:64},text:{fill:i,font:e,fontSize:11},trail:{fill:r,size:2},style:{"guide-label":{fill:i,font:e,fontSize:10},"guide-title":{fill:i,font:e,fontSize:11,fontWeight:"bold"},"group-title":{fill:i,font:e,fontSize:13,fontWeight:"bold"},"group-subtitle":{fill:i,font:e,fontSize:12},point:{size:30,strokeWidth:2,shape:"circle"},circle:{size:30,strokeWidth:2},square:{size:30,strokeWidth:2,shape:"square"},cell:{fill:"transparent",stroke:s},view:{fill:"transparent"}},title:{orient:"top",anchor:"middle",offset:4,subtitlePadding:3},axis:{minExtent:0,maxExtent:200,bandPosition:.5,domain:!0,domainWidth:1,domainColor:o,grid:!1,gridWidth:1,gridColor:s,labels:!0,labelAngle:0,labelLimit:180,labelOffset:0,labelPadding:2,ticks:!0,tickColor:o,tickOffset:0,tickRound:!0,tickSize:5,tickWidth:1,titlePadding:4},axisBand:{tickOffset:-.5},projection:{type:"mercator"},legend:{orient:"right",padding:0,gridAlign:"each",columnPadding:10,rowPadding:2,symbolDirection:"vertical",gradientDirection:"vertical",gradientLength:200,gradientThickness:16,gradientStrokeColor:s,gradientStrokeWidth:0,gradientLabelOffset:2,labelAlign:"left",labelBaseline:"middle",labelLimit:160,labelOffset:4,labelOverlap:!0,symbolLimit:30,symbolType:"circle",symbolSize:100,symbolOffset:0,symbolStrokeWidth:1.5,symbolBaseFillColor:"transparent",symbolBaseStrokeColor:o,titleLimit:180,titleOrient:"top",titlePadding:5,layout:{offset:18,direction:"horizontal",left:{direction:"vertical"},right:{direction:"vertical"}}},range:{category:{scheme:"tableau10"},ordinal:{scheme:"blues"},heatmap:{scheme:"yellowgreenblue"},ramp:{scheme:"blues"},diverging:{scheme:"blueorange",extent:[1,0]},symbol:["circle","square","triangle-up","cross","diamond","triangle-right","triangle-down","triangle-left"]}}}function ZDe(e,t,n){return ve(e)||ee("Input Vega specification must be an object."),t=w0(JDe(),t,e.config),XDe(e,new Die(t,n)).toRuntime()}var eMe="5.30.0";Ze(xm,nwe,__e,i$e,VAe,L5e,c3e,VTe,d3e,N3e,q3e,Z3e);const Mie=Object.freeze(Object.defineProperty({__proto__:null,Bounds:Xn,CanvasHandler:ax,CanvasRenderer:RC,DATE:ao,DAY:ei,DAYOFYEAR:bl,Dataflow:Rg,Debug:CK,Error:Ik,EventStream:Xk,Gradient:See,GroupItem:y_,HOURS:No,Handler:LM,HybridHandler:hte,HybridRenderer:MR,Info:SK,Item:m_,MILLISECONDS:ga,MINUTES:Lo,MONTH:ii,Marks:Io,MultiPulse:K6,None:wK,Operator:Qt,Parameters:Gk,Pulse:Xc,QUARTER:so,RenderType:Ic,Renderer:sx,ResourceLoader:Tee,SECONDS:Ss,SVGHandler:ete,SVGRenderer:VM,SVGStringRenderer:dte,Scenegraph:qee,TIME_UNITS:B6,Transform:J,View:Jre,WEEK:nr,Warn:_6,YEAR:Dr,accessor:go,accessorFields:ri,accessorName:On,array:xe,ascending:jk,bandwidthNRD:eD,bin:rJ,bootstrapCI:iJ,boundClip:Cte,boundContext:nx,boundItem:RR,boundMark:Uee,boundStroke:Nu,changeset:Zh,clampRange:DK,codegenExpression:kre,compare:F6,constant:li,cumulativeLogNormal:sD,cumulativeNormal:Kk,cumulativeUniform:cD,dayofyear:cQ,debounce:O6,defaultLocale:H6,definition:eJ,densityLogNormal:oD,densityNormal:tD,densityUniform:uD,domChild:tr,domClear:os,domCreate:Nc,domFind:NM,dotbin:oJ,error:ee,expressionFunction:Vn,extend:Ze,extent:vl,extentIndex:MK,falsy:fc,fastmap:C0,field:xs,flush:NK,font:S_,fontFamily:ox,fontSize:Tl,format:qw,formatLocale:aC,formats:X6,hasOwnProperty:Se,id:Lb,identity:ai,inferType:VQ,inferTypes:WQ,ingest:Ot,inherits:he,inrange:ng,interpolate:hM,interpolateColors:p_,interpolateRange:lee,intersect:bte,intersectBoxLine:rg,intersectPath:wM,intersectPoint:SM,intersectRule:Fee,isArray:te,isBoolean:Ff,isDate:Gc,isFunction:et,isIterable:LK,isNumber:St,isObject:ve,isRegExp:IK,isString:we,isTuple:Hk,key:P6,lerp:zK,lineHeight:gf,loader:Vk,locale:jQ,logger:$6,lruCache:BK,markup:UM,merge:jK,mergeConfig:w0,multiLineOffset:PM,one:x0,pad:UK,panLinear:AK,panLog:TK,panPow:RK,panSymlog:FK,parse:ZDe,parseExpression:UN,parseSelector:Lf,path:t_,pathCurves:vM,pathEqual:Ete,pathParse:_m,pathRectangle:kee,pathRender:Tv,pathSymbols:Eee,pathTrail:_ee,peek:gt,point:E_,projection:lN,quantileLogNormal:aD,quantileNormal:Qk,quantileUniform:fD,quantiles:J6,quantizeInterpolator:uee,quarter:OK,quartiles:Z6,get random(){return Cs},randomInteger:s2e,randomKDE:rD,randomLCG:o2e,randomLogNormal:aJ,randomMixture:lJ,randomNormal:nD,randomUniform:uJ,read:GQ,regressionConstant:dD,regressionExp:fJ,regressionLinear:hD,regressionLoess:pJ,regressionLog:cJ,regressionPoly:hJ,regressionPow:dJ,regressionQuad:pD,renderModule:k_,repeat:t1,resetDefaultLocale:nxe,resetSVGClipId:Aee,resetSVGDefIds:Wke,responseType:qQ,runtimeContext:zre,sampleCurve:Zk,sampleLogNormal:iD,sampleNormal:Yk,sampleUniform:lD,scale:Et,sceneEqual:WM,sceneFromJSON:Wee,scenePickVisit:SC,sceneToJSON:Vee,sceneVisit:ma,sceneZOrder:CM,scheme:pM,serializeXML:lte,setHybridRendererOptions:Bke,setRandom:r2e,span:Ib,splitAccessPath:_l,stringValue:de,textMetrics:To,timeBin:$Q,timeFloor:yQ,timeFormatLocale:Cv,timeInterval:k0,timeOffset:xQ,timeSequence:CQ,timeUnitSpecifier:uQ,timeUnits:j6,toBoolean:D6,toDate:M6,toNumber:ti,toSet:da,toString:N6,transform:tJ,transforms:xm,truncate:VK,truthy:ws,tupleid:De,typeParsers:hR,utcFloor:vQ,utcInterval:_0,utcOffset:wQ,utcSequence:EQ,utcdayofyear:hQ,utcquarter:PK,utcweek:pQ,version:eMe,visitArray:mc,week:fQ,writeConfig:S0,zero:kc,zoomLinear:A6,zoomLog:T6,zoomPow:tC,zoomSymlog:R6},Symbol.toStringTag,{value:"Module"}));function tMe(e,t,n){let r;t.x2&&(t.x?(n&&e.x>e.x2&&(r=e.x,e.x=e.x2,e.x2=r),e.width=e.x2-e.x):e.x=e.x2-(e.width||0)),t.xc&&(e.x=e.xc-(e.width||0)/2),t.y2&&(t.y?(n&&e.y>e.y2&&(r=e.y,e.y=e.y2,e.y2=r),e.height=e.y2-e.y):e.y=e.y2-(e.height||0)),t.yc&&(e.y=e.yc-(e.height||0)/2)}var nMe={NaN:NaN,E:Math.E,LN2:Math.LN2,LN10:Math.LN10,LOG2E:Math.LOG2E,LOG10E:Math.LOG10E,PI:Math.PI,SQRT1_2:Math.SQRT1_2,SQRT2:Math.SQRT2,MIN_VALUE:Number.MIN_VALUE,MAX_VALUE:Number.MAX_VALUE},rMe={"*":(e,t)=>e*t,"+":(e,t)=>e+t,"-":(e,t)=>e-t,"/":(e,t)=>e/t,"%":(e,t)=>e%t,">":(e,t)=>e>t,"<":(e,t)=>e<t,"<=":(e,t)=>e<=t,">=":(e,t)=>e>=t,"==":(e,t)=>e==t,"!=":(e,t)=>e!=t,"===":(e,t)=>e===t,"!==":(e,t)=>e!==t,"&":(e,t)=>e&t,"|":(e,t)=>e|t,"^":(e,t)=>e^t,"<<":(e,t)=>e<<t,">>":(e,t)=>e>>t,">>>":(e,t)=>e>>>t},iMe={"+":e=>+e,"-":e=>-e,"~":e=>~e,"!":e=>!e};const oMe=Array.prototype.slice,ad=(e,t,n)=>{const r=n?n(t[0]):t[0];return r[e].apply(r,oMe.call(t,1))},sMe=(e,t,n,r,i,o,s)=>new Date(e,t||0,n??1,r||0,i||0,o||0,s||0);var aMe={isNaN:Number.isNaN,isFinite:Number.isFinite,abs:Math.abs,acos:Math.acos,asin:Math.asin,atan:Math.atan,atan2:Math.atan2,ceil:Math.ceil,cos:Math.cos,exp:Math.exp,floor:Math.floor,log:Math.log,max:Math.max,min:Math.min,pow:Math.pow,random:Math.random,round:Math.round,sin:Math.sin,sqrt:Math.sqrt,tan:Math.tan,clamp:(e,t,n)=>Math.max(t,Math.min(n,e)),now:Date.now,utc:Date.UTC,datetime:sMe,date:e=>new Date(e).getDate(),day:e=>new Date(e).getDay(),year:e=>new Date(e).getFullYear(),month:e=>new Date(e).getMonth(),hours:e=>new Date(e).getHours(),minutes:e=>new Date(e).getMinutes(),seconds:e=>new Date(e).getSeconds(),milliseconds:e=>new Date(e).getMilliseconds(),time:e=>new Date(e).getTime(),timezoneoffset:e=>new Date(e).getTimezoneOffset(),utcdate:e=>new Date(e).getUTCDate(),utcday:e=>new Date(e).getUTCDay(),utcyear:e=>new Date(e).getUTCFullYear(),utcmonth:e=>new Date(e).getUTCMonth(),utchours:e=>new Date(e).getUTCHours(),utcminutes:e=>new Date(e).getUTCMinutes(),utcseconds:e=>new Date(e).getUTCSeconds(),utcmilliseconds:e=>new Date(e).getUTCMilliseconds(),length:e=>e.length,join:function(){return ad("join",arguments)},indexof:function(){return ad("indexOf",arguments)},lastindexof:function(){return ad("lastIndexOf",arguments)},slice:function(){return ad("slice",arguments)},reverse:e=>e.slice().reverse(),parseFloat,parseInt,upper:e=>String(e).toUpperCase(),lower:e=>String(e).toLowerCase(),substring:function(){return ad("substring",arguments,String)},split:function(){return ad("split",arguments,String)},replace:function(){return ad("replace",arguments,String)},trim:e=>String(e).trim(),regexp:RegExp,test:(e,t)=>RegExp(e).test(t)};const lMe=["view","item","group","xy","x","y"],DF=new Set([Function,eval,setTimeout,setInterval]);typeof setImmediate=="function"&&DF.add(setImmediate);const uMe={Literal:(e,t)=>t.value,Identifier:(e,t)=>{const n=t.name;return e.memberDepth>0?n:n==="datum"?e.datum:n==="event"?e.event:n==="item"?e.item:nMe[n]||e.params["$"+n]},MemberExpression:(e,t)=>{const n=!t.computed,r=e(t.object);n&&(e.memberDepth+=1);const i=e(t.property);if(n&&(e.memberDepth-=1),DF.has(r[i])){console.error(`Prevented interpretation of member "${i}" which could lead to insecure code execution`);return}return r[i]},CallExpression:(e,t)=>{const n=t.arguments;let r=t.callee.name;return r.startsWith("_")&&(r=r.slice(1)),r==="if"?e(n[0])?e(n[1]):e(n[2]):(e.fn[r]||aMe[r]).apply(e.fn,n.map(e))},ArrayExpression:(e,t)=>t.elements.map(e),BinaryExpression:(e,t)=>rMe[t.operator](e(t.left),e(t.right)),UnaryExpression:(e,t)=>iMe[t.operator](e(t.argument)),ConditionalExpression:(e,t)=>e(t.test)?e(t.consequent):e(t.alternate),LogicalExpression:(e,t)=>t.operator==="&&"?e(t.left)&&e(t.right):e(t.left)||e(t.right),ObjectExpression:(e,t)=>t.properties.reduce((n,r)=>{e.memberDepth+=1;const i=e(r.key);return e.memberDepth-=1,DF.has(e(r.value))?console.error(`Prevented interpretation of property "${i}" which could lead to insecure code execution`):n[i]=e(r.value),n},{})};function Ry(e,t,n,r,i,o){const s=a=>uMe[a.type](s,a);return s.memberDepth=0,s.fn=Object.create(t),s.params=n,s.datum=r,s.event=i,s.item=o,lMe.forEach(a=>s.fn[a]=function(){return i.vega[a](...arguments)}),s(e)}var cMe={operator(e,t){const n=t.ast,r=e.functions;return i=>Ry(n,r,i)},parameter(e,t){const n=t.ast,r=e.functions;return(i,o)=>Ry(n,r,o,i)},event(e,t){const n=t.ast,r=e.functions;return i=>Ry(n,r,void 0,void 0,i)},handler(e,t){const n=t.ast,r=e.functions;return(i,o)=>{const s=o.item&&o.item.datum;return Ry(n,r,i,s,o)}},encode(e,t){const{marktype:n,channels:r}=t,i=e.functions,o=n==="group"||n==="image"||n==="rect";return(s,a)=>{const l=s.datum;let u=0,c;for(const f in r)c=Ry(r[f].ast,i,a,l,void 0,s),s[f]!==c&&(s[f]=c,u=1);return n!=="rule"&&tMe(s,r,o),u}}};const fMe="vega-lite",dMe='Dominik Moritz, Kanit "Ham" Wongsuphasawat, Arvind Satyanarayan, Jeffrey Heer',hMe="5.21.0",pMe=["Kanit Wongsuphasawat (http://kanitw.yellowpigz.com)","Dominik Moritz (https://www.domoritz.de)","Arvind Satyanarayan (https://arvindsatya.com)","Jeffrey Heer (https://jheer.org)"],gMe="https://vega.github.io/vega-lite/",mMe="Vega-Lite is a concise high-level language for interactive visualization.",yMe=["vega","chart","visualization"],vMe="build/vega-lite.js",bMe="build/vega-lite.min.js",xMe="build/vega-lite.min.js",wMe="build/src/index",SMe="build/src/index.d.ts",CMe={vl2pdf:"./bin/vl2pdf",vl2png:"./bin/vl2png",vl2svg:"./bin/vl2svg",vl2vg:"./bin/vl2vg"},EMe=["bin","build","src","vega-lite*","tsconfig.json"],kMe={changelog:"conventional-changelog -p angular -r 2",prebuild:"yarn clean:build",build:"yarn build:only","build:only":"tsc -p tsconfig.build.json && rollup -c","prebuild:examples":"yarn build:only","build:examples":"yarn data && TZ=America/Los_Angeles scripts/build-examples.sh","prebuild:examples-full":"yarn build:only","build:examples-full":"TZ=America/Los_Angeles scripts/build-examples.sh 1","build:example":"TZ=America/Los_Angeles scripts/build-example.sh","build:toc":"yarn build:jekyll && scripts/generate-toc","build:site":"rollup -c site/rollup.config.mjs","build:jekyll":"pushd site && bundle exec jekyll build -q && popd","build:versions":"scripts/update-version.sh",clean:"yarn clean:build && del-cli 'site/data/*' 'examples/compiled/*.png' && find site/examples ! -name 'index.md' ! -name 'data' -type f -delete","clean:build":"del-cli 'build/*' !build/vega-lite-schema.json",data:"rsync -r node_modules/vega-datasets/data/* site/data","build-editor-preview":"scripts/build-editor-preview.sh",schema:"mkdir -p build && ts-json-schema-generator -f tsconfig.json -p src/index.ts -t TopLevelSpec --no-type-check --no-ref-encode > build/vega-lite-schema.json && yarn renameschema && cp build/vega-lite-schema.json site/_data/",renameschema:"scripts/rename-schema.sh",presite:"yarn data && yarn schema && yarn build:site && yarn build:versions && scripts/create-example-pages.sh",site:"yarn site:only","site:only":"pushd site && bundle exec jekyll serve -I -l && popd",prettierbase:"prettier '**/*.{md,css,yml}'",format:"eslint . --fix && yarn prettierbase --write",lint:"eslint . && yarn prettierbase --check",test:"yarn jest test/ && yarn lint && yarn schema && yarn jest examples/ && yarn test:runtime","test:cover":"yarn jest --collectCoverage test/","test:inspect":"node --inspect-brk ./node_modules/.bin/jest --runInBand test","test:runtime":"TZ=America/Los_Angeles npx jest test-runtime/ --config test-runtime/jest-config.json","test:runtime:generate":"yarn build:only && del-cli test-runtime/resources && VL_GENERATE_TESTS=true yarn test:runtime",watch:"tsc -p tsconfig.build.json -w","watch:site":"yarn build:site -w","watch:test":"yarn jest --watch test/","watch:test:runtime":"TZ=America/Los_Angeles npx jest --watch test-runtime/ --config test-runtime/jest-config.json",release:"release-it"},_Me={type:"git",url:"https://github.com/vega/vega-lite.git"},$Me="BSD-3-Clause",AMe={url:"https://github.com/vega/vega-lite/issues"},TMe={"@babel/core":"^7.24.9","@babel/preset-env":"^7.25.0","@babel/preset-typescript":"^7.24.7","@release-it/conventional-changelog":"^8.0.1","@rollup/plugin-alias":"^5.1.0","@rollup/plugin-babel":"^6.0.4","@rollup/plugin-commonjs":"^26.0.1","@rollup/plugin-json":"^6.1.0","@rollup/plugin-node-resolve":"^15.2.3","@rollup/plugin-terser":"^0.4.4","@types/d3":"^7.4.3","@types/jest":"^29.5.12","@types/pako":"^2.0.3","@typescript-eslint/eslint-plugin":"^7.17.0","@typescript-eslint/parser":"^7.17.0",ajv:"^8.17.1","ajv-formats":"^3.0.1",cheerio:"^1.0.0-rc.12","conventional-changelog-cli":"^5.0.0",d3:"^7.9.0","del-cli":"^5.1.0",eslint:"^8.57.0","eslint-config-prettier":"^9.1.0","eslint-plugin-jest":"^27.9.0","eslint-plugin-prettier":"^5.2.1","fast-json-stable-stringify":"~2.1.0","highlight.js":"^11.10.0",jest:"^29.7.0","jest-dev-server":"^10.0.0",mkdirp:"^3.0.1",pako:"^2.1.0",prettier:"^3.3.3",puppeteer:"^15.0.0","release-it":"17.6.0",rollup:"^4.19.1","rollup-plugin-bundle-size":"^1.0.3",serve:"^14.2.3",terser:"^5.31.3","ts-jest":"^29.2.3","ts-json-schema-generator":"^2.3.0",typescript:"~5.5.4","vega-cli":"^5.28.0","vega-datasets":"^2.8.1","vega-embed":"^6.26.0","vega-tooltip":"^0.34.0","yaml-front-matter":"^4.1.1"},RMe={"json-stringify-pretty-compact":"~3.0.0",tslib:"~2.6.3","vega-event-selector":"~3.0.1","vega-expression":"~5.1.1","vega-util":"~1.17.2",yargs:"~17.7.2"},FMe={vega:"^5.24.0"},OMe={node:">=18"},PMe="yarn@1.22.19",DMe={name:fMe,author:dMe,version:hMe,collaborators:pMe,homepage:gMe,description:mMe,keywords:yMe,main:vMe,unpkg:bMe,jsdelivr:xMe,module:wMe,types:SMe,bin:CMe,files:EMe,scripts:kMe,repository:_Me,license:$Me,bugs:AMe,devDependencies:TMe,dependencies:RMe,peerDependencies:FMe,engines:OMe,packageManager:PMe};function mL(e){return le(e,"or")}function yL(e){return le(e,"and")}function vL(e){return le(e,"not")}function mS(e,t){if(vL(e))mS(e.not,t);else if(yL(e))for(const n of e.and)mS(n,t);else if(mL(e))for(const n of e.or)mS(n,t);else t(e)}function Mg(e,t){return vL(e)?{not:Mg(e.not,t)}:yL(e)?{and:e.and.map(n=>Mg(n,t))}:mL(e)?{or:e.or.map(n=>Mg(n,t))}:t(e)}const Ge=structuredClone;function Nie(e){throw new Error(e)}function Mm(e,t){const n={};for(const r of t)Se(e,r)&&(n[r]=e[r]);return n}function eo(e,t){const n={...e};for(const r of t)delete n[r];return n}Set.prototype.toJSON=function(){return`Set(${[...this].map(e=>qt(e)).join(",")})`};function ut(e){if(St(e))return e;const t=we(e)?e:qt(e);if(t.length<250)return t;let n=0;for(let r=0;r<t.length;r++){const i=t.charCodeAt(r);n=(n<<5)-n+i,n=n&n}return n}function MF(e){return e===!1||e===null}function it(e,t){return e.includes(t)}function Nm(e,t){let n=0;for(const[r,i]of e.entries())if(t(i,r,n++))return!0;return!1}function bL(e,t){let n=0;for(const[r,i]of e.entries())if(!t(i,r,n++))return!1;return!0}function Lie(e,...t){for(const n of t)MMe(e,n??{});return e}function MMe(e,t){for(const n of se(t))S0(e,n,t[n],!0)}function rl(e,t){const n=[],r={};let i;for(const o of e)i=t(o),!(i in r)&&(r[i]=1,n.push(o));return n}function yS(e,t){const n=se(e),r=se(t);if(n.length!==r.length)return!1;for(const i of n)if(e[i]!==t[i])return!1;return!0}function Iie(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}function xL(e,t){for(const n of e)if(t.has(n))return!0;return!1}function NF(e){const t=new Set;for(const n of e){const i=_l(n).map((s,a)=>a===0?s:`[${s}]`),o=i.map((s,a)=>i.slice(0,a+1).join(""));for(const s of o)t.add(s)}return t}function wL(e,t){return e===void 0||t===void 0?!0:xL(NF(e),NF(t))}function Ht(e){return se(e).length===0}const se=Object.keys,Mr=Object.values,bf=Object.entries;function Wv(e){return e===!0||e===!1}function pn(e){const t=e.replace(/\W/g,"_");return(e.match(/^\d+/)?"_":"")+t}function Q1(e,t){return vL(e)?`!(${Q1(e.not,t)})`:yL(e)?`(${e.and.map(n=>Q1(n,t)).join(") && (")})`:mL(e)?`(${e.or.map(n=>Q1(n,t)).join(") || (")})`:t(e)}function yE(e,t){if(t.length===0)return!0;const n=t.shift();return n in e&&yE(e[n],t)&&delete e[n],Ht(e)}function vx(e){return e.charAt(0).toUpperCase()+e.substr(1)}function SL(e,t="datum"){const n=_l(e),r=[];for(let i=1;i<=n.length;i++){const o=`[${n.slice(0,i).map(de).join("][")}]`;r.push(`${t}${o}`)}return r.join(" && ")}function zie(e,t="datum"){return`${t}[${de(_l(e).join("."))}]`}function NMe(e){return e.replace(/(\[|\]|\.|'|")/g,"\\$1")}function ks(e){return`${_l(e).map(NMe).join("\\.")}`}function Ah(e,t,n){return e.replace(new RegExp(t.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"),"g"),n)}function N0(e){return`${_l(e).join(".")}`}function Lm(e){return e?_l(e).length:0}function jn(...e){return e.find(t=>t!==void 0)}let Bie=42;function jie(e){const t=++Bie;return e?String(e)+t:t}function LMe(){Bie=42}function Uie(e){return Vie(e)?e:`__${e}`}function Vie(e){return e.startsWith("__")}function Hv(e){if(e!==void 0)return(e%360+360)%360}function X_(e){return St(e)?!0:!isNaN(e)&&!isNaN(parseFloat(e))}const WU=Object.getPrototypeOf(structuredClone({}));function $o(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor.name!==t.constructor.name)return!1;let n,r;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!$o(e[r],t[r]))return!1;return!0}if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const o of e.entries())if(!t.has(o[0]))return!1;for(const o of e.entries())if(!$o(o[1],t.get(o[0])))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const o of e.entries())if(!t.has(o[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(e[r]!==t[r])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&e.valueOf!==WU.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&e.toString!==WU.toString)return e.toString()===t.toString();const i=Object.keys(e);if(n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const o=i[r];if(!$o(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function qt(e){const t=[];return function n(r){if(r&&r.toJSON&&typeof r.toJSON=="function"&&(r=r.toJSON()),r===void 0)return;if(typeof r=="number")return isFinite(r)?""+r:"null";if(typeof r!="object")return JSON.stringify(r);let i,o;if(Array.isArray(r)){for(o="[",i=0;i<r.length;i++)i&&(o+=","),o+=n(r[i])||"null";return o+"]"}if(r===null)return"null";if(t.includes(r))throw new TypeError("Converting circular structure to JSON");const s=t.push(r)-1,a=Object.keys(r).sort();for(o="",i=0;i<a.length;i++){const l=a[i],u=n(r[l]);u&&(o&&(o+=","),o+=JSON.stringify(l)+":"+u)}return t.splice(s,1),`{${o}}`}(e)}function le(e,t){return ve(e)&&Se(e,t)&&e[t]!==void 0}const mu="row",yu="column",Y_="facet",mn="x",wr="y",ka="x2",Pl="y2",If="xOffset",L0="yOffset",_a="radius",Iu="radius2",Rs="theta",zu="theta2",$a="latitude",Aa="longitude",Ta="latitude2",_s="longitude2",uo="color",Dl="fill",Ml="stroke",co="shape",Bu="size",op="angle",ju="opacity",zf="fillOpacity",Bf="strokeOpacity",jf="strokeWidth",Uf="strokeDash",bx="text",Im="order",xx="detail",K_="key",Th="tooltip",Q_="href",J_="url",Z_="description",IMe={x:1,y:1,x2:1,y2:1},Wie={theta:1,theta2:1,radius:1,radius2:1};function Hie(e){return Se(Wie,e)}const CL={longitude:1,longitude2:1,latitude:1,latitude2:1};function qie(e){switch(e){case $a:return"y";case Ta:return"y2";case Aa:return"x";case _s:return"x2"}}function Gie(e){return Se(CL,e)}const zMe=se(CL),EL={...IMe,...Wie,...CL,xOffset:1,yOffset:1,color:1,fill:1,stroke:1,opacity:1,fillOpacity:1,strokeOpacity:1,strokeWidth:1,strokeDash:1,size:1,angle:1,shape:1,order:1,text:1,detail:1,key:1,tooltip:1,href:1,url:1,description:1};function Ng(e){return e===uo||e===Dl||e===Ml}const Xie={row:1,column:1,facet:1},hs=se(Xie),kL={...EL,...Xie},BMe=se(kL),{order:Vht,detail:Wht,tooltip:Hht,...jMe}=kL,{row:qht,column:Ght,facet:Xht,...UMe}=jMe;function VMe(e){return Se(UMe,e)}function Yie(e){return Se(kL,e)}const WMe=[ka,Pl,Ta,_s,zu,Iu];function Kie(e){return sp(e)!==e}function sp(e){switch(e){case ka:return mn;case Pl:return wr;case Ta:return $a;case _s:return Aa;case zu:return Rs;case Iu:return _a}return e}function xf(e){if(Hie(e))switch(e){case Rs:return"startAngle";case zu:return"endAngle";case _a:return"outerRadius";case Iu:return"innerRadius"}return e}function Nl(e){switch(e){case mn:return ka;case wr:return Pl;case $a:return Ta;case Aa:return _s;case Rs:return zu;case _a:return Iu}}function fo(e){switch(e){case mn:case ka:return"width";case wr:case Pl:return"height"}}function Qie(e){switch(e){case mn:return"xOffset";case wr:return"yOffset";case ka:return"x2Offset";case Pl:return"y2Offset";case Rs:return"thetaOffset";case _a:return"radiusOffset";case zu:return"theta2Offset";case Iu:return"radius2Offset"}}function _L(e){switch(e){case mn:return"xOffset";case wr:return"yOffset"}}function HMe(e){switch(e){case"xOffset":return"x";case"yOffset":return"y"}}const qMe=se(EL),{x:Yht,y:Kht,x2:Qht,y2:Jht,xOffset:Zht,yOffset:ept,latitude:tpt,longitude:npt,latitude2:rpt,longitude2:ipt,theta:opt,theta2:spt,radius:apt,radius2:lpt,...$L}=EL,GMe=se($L),AL={x:1,y:1},Uu=se(AL);function Un(e){return Se(AL,e)}const TL={theta:1,radius:1},XMe=se(TL);function e$(e){return e==="width"?mn:wr}const Jie={xOffset:1,yOffset:1};function wx(e){return Se(Jie,e)}const{text:upt,tooltip:cpt,href:fpt,url:dpt,description:hpt,detail:ppt,key:gpt,order:mpt,...Zie}=$L,YMe=se(Zie);function KMe(e){return Se($L,e)}function QMe(e){switch(e){case uo:case Dl:case Ml:case Bu:case co:case ju:case jf:case Uf:return!0;case zf:case Bf:case op:return!1}}const eoe={...AL,...TL,...Jie,...Zie},RL=se(eoe);function Ll(e){return Se(eoe,e)}function JMe(e,t){return eNe(e)[t]}const toe={arc:"always",area:"always",bar:"always",circle:"always",geoshape:"always",image:"always",line:"always",rule:"always",point:"always",rect:"always",square:"always",trail:"always",text:"always",tick:"always"},{geoshape:ypt,...ZMe}=toe;function eNe(e){switch(e){case uo:case Dl:case Ml:case Z_:case xx:case K_:case Th:case Q_:case Im:case ju:case zf:case Bf:case jf:case Y_:case mu:case yu:return toe;case mn:case wr:case If:case L0:case $a:case Aa:return ZMe;case ka:case Pl:case Ta:case _s:return{area:"always",bar:"always",image:"always",rect:"always",rule:"always",circle:"binned",point:"binned",square:"binned",tick:"binned",line:"binned",trail:"binned"};case Bu:return{point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",text:"always",line:"always",trail:"always"};case Uf:return{line:"always",point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",geoshape:"always"};case co:return{point:"always",geoshape:"always"};case bx:return{text:"always"};case op:return{point:"always",square:"always",text:"always"};case J_:return{image:"always"};case Rs:return{text:"always",arc:"always"};case _a:return{text:"always",arc:"always"};case zu:case Iu:return{arc:"always"}}}function e3(e){switch(e){case mn:case wr:case Rs:case _a:case If:case L0:case Bu:case op:case jf:case ju:case zf:case Bf:case ka:case Pl:case zu:case Iu:return;case Y_:case mu:case yu:case co:case Uf:case bx:case Th:case Q_:case J_:case Z_:return"discrete";case uo:case Dl:case Ml:return"flexible";case $a:case Aa:case Ta:case _s:case xx:case K_:case Im:return}}const tNe={argmax:1,argmin:1,average:1,count:1,distinct:1,exponential:1,exponentialb:1,product:1,max:1,mean:1,median:1,min:1,missing:1,q1:1,q3:1,ci0:1,ci1:1,stderr:1,stdev:1,stdevp:1,sum:1,valid:1,values:1,variance:1,variancep:1},nNe={count:1,min:1,max:1};function Sl(e){return le(e,"argmin")}function Vu(e){return le(e,"argmax")}function FL(e){return we(e)&&Se(tNe,e)}const rNe=new Set(["count","valid","missing","distinct"]);function t$(e){return we(e)&&rNe.has(e)}function iNe(e){return we(e)&&it(["min","max"],e)}const oNe=new Set(["count","sum","distinct","valid","missing"]),sNe=new Set(["mean","average","median","q1","q3","min","max"]);function noe(e){return Ff(e)&&(e=d$(e,void 0)),"bin"+se(e).map(t=>n$(e[t])?pn(`_${t}_${bf(e[t])}`):pn(`_${t}_${e[t]}`)).join("")}function Jt(e){return e===!0||ap(e)&&!e.binned}function _r(e){return e==="binned"||ap(e)&&e.binned===!0}function ap(e){return ve(e)}function n$(e){return le(e,"param")}function HU(e){switch(e){case mu:case yu:case Bu:case uo:case Dl:case Ml:case jf:case ju:case zf:case Bf:case co:return 6;case Uf:return 4;default:return 10}}function Sx(e){return le(e,"expr")}function $r(e,{level:t}={level:0}){const n=se(e||{}),r={};for(const i of n)r[i]=t===0?Co(e[i]):$r(e[i],{level:t-1});return r}function roe(e){const{anchor:t,frame:n,offset:r,orient:i,angle:o,limit:s,color:a,subtitleColor:l,subtitleFont:u,subtitleFontSize:c,subtitleFontStyle:f,subtitleFontWeight:d,subtitleLineHeight:h,subtitlePadding:p,...g}=e,m={...g,...a?{fill:a}:{}},y={...t?{anchor:t}:{},...n?{frame:n}:{},...r?{offset:r}:{},...i?{orient:i}:{},...o!==void 0?{angle:o}:{},...s!==void 0?{limit:s}:{}},v={...l?{subtitleColor:l}:{},...u?{subtitleFont:u}:{},...c?{subtitleFontSize:c}:{},...f?{subtitleFontStyle:f}:{},...d?{subtitleFontWeight:d}:{},...h?{subtitleLineHeight:h}:{},...p?{subtitlePadding:p}:{}},b=Mm(e,["align","baseline","dx","dy","limit"]);return{titleMarkConfig:m,subtitleMarkConfig:b,nonMarkTitleProperties:y,subtitle:v}}function xc(e){return we(e)||te(e)&&we(e[0])}function Fe(e){return le(e,"signal")}function lp(e){return le(e,"step")}function aNe(e){return te(e)?!1:le(e,"fields")&&!le(e,"data")}function lNe(e){return te(e)?!1:le(e,"fields")&&le(e,"data")}function lu(e){return te(e)?!1:le(e,"field")&&le(e,"data")}const uNe={aria:1,description:1,ariaRole:1,ariaRoleDescription:1,blend:1,opacity:1,fill:1,fillOpacity:1,stroke:1,strokeCap:1,strokeWidth:1,strokeOpacity:1,strokeDash:1,strokeDashOffset:1,strokeJoin:1,strokeOffset:1,strokeMiterLimit:1,startAngle:1,endAngle:1,padAngle:1,innerRadius:1,outerRadius:1,size:1,shape:1,interpolate:1,tension:1,orient:1,align:1,baseline:1,text:1,dir:1,dx:1,dy:1,ellipsis:1,limit:1,radius:1,theta:1,angle:1,font:1,fontSize:1,fontWeight:1,fontStyle:1,lineBreak:1,lineHeight:1,cursor:1,href:1,tooltip:1,cornerRadius:1,cornerRadiusTopLeft:1,cornerRadiusTopRight:1,cornerRadiusBottomLeft:1,cornerRadiusBottomRight:1,aspect:1,width:1,height:1,url:1,smooth:1},cNe=se(uNe),fNe={arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1},LF=["cornerRadius","cornerRadiusTopLeft","cornerRadiusTopRight","cornerRadiusBottomLeft","cornerRadiusBottomRight"];function ioe(e){const t=te(e.condition)?e.condition.map(qU):qU(e.condition);return{...Co(e),condition:t}}function Co(e){if(Sx(e)){const{expr:t,...n}=e;return{signal:t,...n}}return e}function qU(e){if(Sx(e)){const{expr:t,...n}=e;return{signal:t,...n}}return e}function ln(e){if(Sx(e)){const{expr:t,...n}=e;return{signal:t,...n}}return Fe(e)?e:e!==void 0?{value:e}:void 0}function dNe(e){return Fe(e)?e.signal:de(e)}function GU(e){return Fe(e)?e.signal:de(e.value)}function oa(e){return Fe(e)?e.signal:e==null?null:de(e)}function hNe(e,t,n){for(const r of n){const i=Cl(r,t.markDef,t.config);i!==void 0&&(e[r]=ln(i))}return e}function ooe(e){return[].concat(e.type,e.style??[])}function Wt(e,t,n,r={}){const{vgChannel:i,ignoreVgConfig:o}=r;return i&&le(t,i)?t[i]:t[e]!==void 0?t[e]:o&&(!i||i===e)?void 0:Cl(e,t,n,r)}function Cl(e,t,n,{vgChannel:r}={}){const i=IF(e,t,n.style);return jn(r?i:void 0,i,r?n[t.type][r]:void 0,n[t.type][e],r?n.mark[r]:n.mark[e])}function IF(e,t,n){return soe(e,ooe(t),n)}function soe(e,t,n){t=xe(t);let r;for(const i of t){const o=n[i];le(o,e)&&(r=o[e])}return r}function aoe(e,t){return xe(e).reduce((n,r)=>(n.field.push(ye(r,t)),n.order.push(r.sort??"ascending"),n),{field:[],order:[]})}function loe(e,t){const n=[...e];return t.forEach(r=>{for(const i of n)if($o(i,r))return;n.push(r)}),n}function uoe(e,t){return $o(e,t)||!t?e:e?[...xe(e),...xe(t)].join(", "):t}function coe(e,t){const n=e.value,r=t.value;if(n==null||r===null)return{explicit:e.explicit,value:null};if((xc(n)||Fe(n))&&(xc(r)||Fe(r)))return{explicit:e.explicit,value:uoe(n,r)};if(xc(n)||Fe(n))return{explicit:e.explicit,value:n};if(xc(r)||Fe(r))return{explicit:e.explicit,value:r};if(!xc(n)&&!Fe(n)&&!xc(r)&&!Fe(r))return{explicit:e.explicit,value:loe(n,r)};throw new Error("It should never reach here")}function OL(e){return`Invalid specification ${qt(e)}. Make sure the specification includes at least one of the following properties: "mark", "layer", "facet", "hconcat", "vconcat", "concat", or "repeat".`}const pNe='Autosize "fit" only works for single views and layered views.';function XU(e){return`${e=="width"?"Width":"Height"} "container" only works for single views and layered views.`}function YU(e){const t=e=="width"?"Width":"Height",n=e=="width"?"x":"y";return`${t} "container" only works well with autosize "fit" or "fit-${n}".`}function KU(e){return e?`Dropping "fit-${e}" because spec has discrete ${fo(e)}.`:'Dropping "fit" because spec has discrete size.'}function PL(e){return`Unknown field for ${e}. Cannot calculate view size.`}function QU(e){return`Cannot project a selection on encoding channel "${e}", which has no field.`}function gNe(e,t){return`Cannot project a selection on encoding channel "${e}" as it uses an aggregate function ("${t}").`}function mNe(e){return`The "nearest" transform is not supported for ${e} marks.`}function foe(e){return`Selection not supported for ${e} yet.`}function yNe(e){return`Cannot find a selection named "${e}".`}const vNe="Scale bindings are currently only supported for scales with unbinned, continuous domains.",bNe="Sequntial scales are deprecated. The available quantitative scale type values are linear, log, pow, sqrt, symlog, time and utc",xNe="Legend bindings are only supported for selections over an individual field or encoding channel.";function wNe(e){return`Lookups can only be performed on selection parameters. "${e}" is a variable parameter.`}function SNe(e){return`Cannot define and lookup the "${e}" selection in the same view. Try moving the lookup into a second, layered view?`}const CNe="The same selection must be used to override scale domains in a layered view.",ENe='Interval selections should be initialized using "x", "y", "longitude", or "latitude" keys.';function kNe(e){return`Unknown repeated value "${e}".`}function JU(e){return`The "columns" property cannot be used when "${e}" has nested row/column.`}const _Ne="Axes cannot be shared in concatenated or repeated views yet (https://github.com/vega/vega-lite/issues/2415).";function $Ne(e){return`Unrecognized parse "${e}".`}function ZU(e,t,n){return`An ancestor parsed field "${e}" as ${n} but a child wants to parse the field as ${t}.`}const ANe="Attempt to add the same child twice.";function TNe(e){return`Ignoring an invalid transform: ${qt(e)}.`}const RNe='If "from.fields" is not specified, "as" has to be a string that specifies the key to be used for the data from the secondary source.';function eV(e){return`Config.customFormatTypes is not true, thus custom format type and format for channel ${e} are dropped.`}function FNe(e){const{parentProjection:t,projection:n}=e;return`Layer's shared projection ${qt(t)} is overridden by a child projection ${qt(n)}.`}const ONe="Arc marks uses theta channel rather than angle, replacing angle with theta.";function PNe(e){return`${e}Offset dropped because ${e} is continuous`}function DNe(e,t,n){return`Channel ${e} is a ${t}. Converted to {value: ${qt(n)}}.`}function doe(e){return`Invalid field type "${e}".`}function MNe(e,t){return`Invalid field type "${e}" for aggregate: "${t}", using "quantitative" instead.`}function NNe(e){return`Invalid aggregation operator "${e}".`}function hoe(e,t){const{fill:n,stroke:r}=t;return`Dropping color ${e} as the plot also has ${n&&r?"fill and stroke":n?"fill":"stroke"}.`}function LNe(e){return`Position range does not support relative band size for ${e}.`}function zF(e,t){return`Dropping ${qt(e)} from channel "${t}" since it does not contain any data field, datum, value, or signal.`}const INe="Line marks cannot encode size with a non-groupby field. You may want to use trail marks instead.";function r$(e,t,n){return`${e} dropped as it is incompatible with "${t}".`}function zNe(e){return`${e}-encoding is dropped as ${e} is not a valid encoding channel.`}function BNe(e){return`${e} encoding should be discrete (ordinal / nominal / binned).`}function jNe(e){return`${e} encoding should be discrete (ordinal / nominal / binned) or use a discretizing scale (e.g. threshold).`}function UNe(e){return`Facet encoding dropped as ${e.join(" and ")} ${e.length>1?"are":"is"} also specified.`}function t3(e,t){return`Using discrete channel "${e}" to encode "${t}" field can be misleading as it does not encode ${t==="ordinal"?"order":"magnitude"}.`}function VNe(e){return`The ${e} for range marks cannot be an expression`}function WNe(e,t){return`Line mark is for continuous lines and thus cannot be used with ${e&&t?"x2 and y2":e?"x2":"y2"}. We will use the rule mark (line segments) instead.`}function HNe(e,t){return`Specified orient "${e}" overridden with "${t}".`}function qNe(e){return`Cannot use the scale property "${e}" with non-color channel.`}function GNe(e){return`Cannot use the relative band size with ${e} scale.`}function XNe(e){return`Using unaggregated domain with raw field has no effect (${qt(e)}).`}function YNe(e){return`Unaggregated domain not applicable for "${e}" since it produces values outside the origin domain of the source data.`}function KNe(e){return`Unaggregated domain is currently unsupported for log scale (${qt(e)}).`}function QNe(e){return`Cannot apply size to non-oriented mark "${e}".`}function JNe(e,t,n){return`Channel "${e}" does not work with "${t}" scale. We are using "${n}" scale instead.`}function ZNe(e,t){return`FieldDef does not work with "${e}" scale. We are using "${t}" scale instead.`}function poe(e,t,n){return`${n}-scale's "${t}" is dropped as it does not work with ${e} scale.`}function goe(e){return`The step for "${e}" is dropped because the ${e==="width"?"x":"y"} is continuous.`}function eLe(e,t,n,r){return`Conflicting ${t.toString()} property "${e.toString()}" (${qt(n)} and ${qt(r)}). Using ${qt(n)}.`}function tLe(e,t,n,r){return`Conflicting ${t.toString()} property "${e.toString()}" (${qt(n)} and ${qt(r)}). Using the union of the two domains.`}function nLe(e){return`Setting the scale to be independent for "${e}" means we also have to set the guide (axis or legend) to be independent.`}function rLe(e){return`Dropping sort property ${qt(e)} as unioned domains only support boolean or op "count", "min", and "max".`}const tV="Domains that should be unioned has conflicting sort properties. Sort will be set to true.",iLe="Detected faceted independent scales that union domain of multiple fields from different data sources. We will use the first field. The result view size may be incorrect.",oLe="Detected faceted independent scales that union domain of the same fields from different source. We will assume that this is the same field from a different fork of the same data source. However, if this is not the case, the result view size may be incorrect.",sLe="Detected faceted independent scales that union domain of multiple fields from the same data source. We will use the first field. The result view size may be incorrect.";function aLe(e){return`Cannot stack "${e}" if there is already "${e}2".`}function lLe(e){return`Stack is applied to a non-linear scale (${e}).`}function uLe(e){return`Stacking is applied even though the aggregate function is non-summative ("${e}").`}function vE(e,t){return`Invalid ${e}: ${qt(t)}.`}function cLe(e){return`Dropping day from datetime ${qt(e)} as day cannot be combined with other units.`}function fLe(e,t){return`${t?"extent ":""}${t&&e?"and ":""}${e?"center ":""}${t&&e?"are ":"is "}not needed when data are aggregated.`}function dLe(e,t,n){return`${e} is not usually used with ${t} for ${n}.`}function hLe(e,t){return`Continuous axis should not have customized aggregation function ${e}; ${t} already agregates the axis.`}function nV(e){return`1D error band does not support ${e}.`}function moe(e){return`Channel ${e} is required for "binned" bin.`}function pLe(e){return`Channel ${e} should not be used with "binned" bin.`}function gLe(e){return`Domain for ${e} is required for threshold scale.`}const yoe=$6(_6);let zm=yoe;function mLe(e){return zm=e,zm}function yLe(){return zm=yoe,zm}function ue(...e){zm.warn(...e)}function vLe(...e){zm.debug(...e)}function up(e){if(e&&ve(e)){for(const t of ML)if(le(e,t))return!0}return!1}const voe=["january","february","march","april","may","june","july","august","september","october","november","december"],bLe=voe.map(e=>e.substr(0,3)),boe=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],xLe=boe.map(e=>e.substr(0,3));function wLe(e){if(X_(e)&&(e=+e),St(e))return e>4&&ue(vE("quarter",e)),e-1;throw new Error(vE("quarter",e))}function SLe(e){if(X_(e)&&(e=+e),St(e))return e-1;{const t=e.toLowerCase(),n=voe.indexOf(t);if(n!==-1)return n;const r=t.substr(0,3),i=bLe.indexOf(r);if(i!==-1)return i;throw new Error(vE("month",e))}}function CLe(e){if(X_(e)&&(e=+e),St(e))return e%7;{const t=e.toLowerCase(),n=boe.indexOf(t);if(n!==-1)return n;const r=t.substr(0,3),i=xLe.indexOf(r);if(i!==-1)return i;throw new Error(vE("day",e))}}function DL(e,t){const n=[];if(t&&e.day!==void 0&&se(e).length>1&&(ue(cLe(e)),e=Ge(e),delete e.day),e.year!==void 0?n.push(e.year):n.push(2012),e.month!==void 0){const r=t?SLe(e.month):e.month;n.push(r)}else if(e.quarter!==void 0){const r=t?wLe(e.quarter):e.quarter;n.push(St(r)?r*3:`${r}*3`)}else n.push(0);if(e.date!==void 0)n.push(e.date);else if(e.day!==void 0){const r=t?CLe(e.day):e.day;n.push(St(r)?r+1:`${r}+1`)}else n.push(1);for(const r of["hours","minutes","seconds","milliseconds"]){const i=e[r];n.push(typeof i>"u"?0:i)}return n}function Rh(e){const n=DL(e,!0).join(", ");return e.utc?`utc(${n})`:`datetime(${n})`}function ELe(e){const n=DL(e,!1).join(", ");return e.utc?`utc(${n})`:`datetime(${n})`}function kLe(e){const t=DL(e,!0);return e.utc?+new Date(Date.UTC(...t)):+new Date(...t)}const xoe={year:1,quarter:1,month:1,week:1,day:1,dayofyear:1,date:1,hours:1,minutes:1,seconds:1,milliseconds:1},ML=se(xoe);function _Le(e){return Se(xoe,e)}function Vf(e){return ve(e)?e.binned:woe(e)}function woe(e){return e&&e.startsWith("binned")}function NL(e){return e.startsWith("utc")}function $Le(e){return e.substring(3)}const ALe={"year-month":"%b %Y ","year-month-date":"%b %d, %Y "};function Cx(e){return ML.filter(t=>Coe(e,t))}function Soe(e){const t=Cx(e);return t[t.length-1]}function Coe(e,t){const n=e.indexOf(t);return!(n<0||n>0&&t==="seconds"&&e.charAt(n-1)==="i"||e.length>n+3&&t==="day"&&e.charAt(n+3)==="o"||n>0&&t==="year"&&e.charAt(n-1)==="f")}function TLe(e,t,{end:n}={end:!1}){const r=SL(t),i=NL(e)?"utc":"";function o(l){return l==="quarter"?`(${i}quarter(${r})-1)`:`${i}${l}(${r})`}let s;const a={};for(const l of ML)Coe(e,l)&&(a[l]=o(l),s=l);return n&&(a[s]+="+1"),ELe(a)}function Eoe(e){if(!e)return;const t=Cx(e);return`timeUnitSpecifier(${qt(t)}, ${qt(ALe)})`}function RLe(e,t,n){if(!e)return;const r=Eoe(e);return`${n||NL(e)?"utc":"time"}Format(${t}, ${r})`}function sr(e){if(!e)return;let t;return we(e)?woe(e)?t={unit:e.substring(6),binned:!0}:t={unit:e}:ve(e)&&(t={...e,...e.unit?{unit:e.unit}:{}}),NL(t.unit)&&(t.utc=!0,t.unit=$Le(t.unit)),t}function FLe(e){const{utc:t,...n}=sr(e);return n.unit?(t?"utc":"")+se(n).map(r=>pn(`${r==="unit"?"":`_${r}_`}${n[r]}`)).join(""):(t?"utc":"")+"timeunit"+se(n).map(r=>pn(`_${r}_${n[r]}`)).join("")}function koe(e,t=n=>n){const n=sr(e),r=Soe(n.unit);if(r&&r!=="day"){const i={year:2001,month:1,date:1,hours:0,minutes:0,seconds:0,milliseconds:0},{step:o,part:s}=_oe(r,n.step),a={...i,[s]:+i[s]+o};return`${t(Rh(a))} - ${t(Rh(i))}`}}const OLe={year:1,month:1,date:1,hours:1,minutes:1,seconds:1,milliseconds:1};function PLe(e){return Se(OLe,e)}function _oe(e,t=1){if(PLe(e))return{part:e,step:t};switch(e){case"day":case"dayofyear":return{part:"date",step:t};case"quarter":return{part:"month",step:t*3};case"week":return{part:"date",step:t*7}}}function DLe(e){return le(e,"param")}function LL(e){return!!(e!=null&&e.field)&&e.equal!==void 0}function IL(e){return!!(e!=null&&e.field)&&e.lt!==void 0}function zL(e){return!!(e!=null&&e.field)&&e.lte!==void 0}function BL(e){return!!(e!=null&&e.field)&&e.gt!==void 0}function jL(e){return!!(e!=null&&e.field)&&e.gte!==void 0}function UL(e){if(e!=null&&e.field){if(te(e.range)&&e.range.length===2)return!0;if(Fe(e.range))return!0}return!1}function VL(e){return!!(e!=null&&e.field)&&(te(e.oneOf)||te(e.in))}function MLe(e){return!!(e!=null&&e.field)&&e.valid!==void 0}function $oe(e){return VL(e)||LL(e)||UL(e)||IL(e)||BL(e)||zL(e)||jL(e)}function La(e,t){return h$(e,{timeUnit:t,wrapTime:!0})}function NLe(e,t){return e.map(n=>La(n,t))}function Aoe(e,t=!0){const{field:n}=e,r=sr(e.timeUnit),{unit:i,binned:o}=r||{},s=ye(e,{expr:"datum"}),a=i?`time(${o?s:TLe(i,n)})`:s;if(LL(e))return`${a}===${La(e.equal,i)}`;if(IL(e)){const l=e.lt;return`${a}<${La(l,i)}`}else if(BL(e)){const l=e.gt;return`${a}>${La(l,i)}`}else if(zL(e)){const l=e.lte;return`${a}<=${La(l,i)}`}else if(jL(e)){const l=e.gte;return`${a}>=${La(l,i)}`}else{if(VL(e))return`indexof([${NLe(e.oneOf,i).join(",")}], ${a}) !== -1`;if(MLe(e))return i$(a,e.valid);if(UL(e)){const{range:l}=$r(e),u=Fe(l)?{signal:`${l.signal}[0]`}:l[0],c=Fe(l)?{signal:`${l.signal}[1]`}:l[1];if(u!==null&&c!==null&&t)return"inrange("+a+", ["+La(u,i)+", "+La(c,i)+"])";const f=[];return u!==null&&f.push(`${a} >= ${La(u,i)}`),c!==null&&f.push(`${a} <= ${La(c,i)}`),f.length>0?f.join(" && "):"true"}}throw new Error(`Invalid field predicate: ${qt(e)}`)}function i$(e,t=!0){return t?`isValid(${e}) && isFinite(+${e})`:`!isValid(${e}) || !isFinite(+${e})`}function LLe(e){return $oe(e)&&e.timeUnit?{...e,timeUnit:sr(e.timeUnit)}:e}const Ex={quantitative:"quantitative",ordinal:"ordinal",temporal:"temporal",nominal:"nominal",geojson:"geojson"};function ILe(e){return e==="quantitative"||e==="temporal"}function Toe(e){return e==="ordinal"||e==="nominal"}const Fh=Ex.quantitative,WL=Ex.ordinal,Bm=Ex.temporal,HL=Ex.nominal,I0=Ex.geojson;function zLe(e){if(e)switch(e=e.toLowerCase(),e){case"q":case Fh:return"quantitative";case"t":case Bm:return"temporal";case"o":case WL:return"ordinal";case"n":case HL:return"nominal";case I0:return"geojson"}}const Tr={LINEAR:"linear",LOG:"log",POW:"pow",SQRT:"sqrt",SYMLOG:"symlog",IDENTITY:"identity",SEQUENTIAL:"sequential",TIME:"time",UTC:"utc",QUANTILE:"quantile",QUANTIZE:"quantize",THRESHOLD:"threshold",BIN_ORDINAL:"bin-ordinal",ORDINAL:"ordinal",POINT:"point",BAND:"band"},BF={linear:"numeric",log:"numeric",pow:"numeric",sqrt:"numeric",symlog:"numeric",identity:"numeric",sequential:"numeric",time:"time",utc:"time",ordinal:"ordinal","bin-ordinal":"bin-ordinal",point:"ordinal-position",band:"ordinal-position",quantile:"discretizing",quantize:"discretizing",threshold:"discretizing"};function BLe(e,t){const n=BF[e],r=BF[t];return n===r||n==="ordinal-position"&&r==="time"||r==="ordinal-position"&&n==="time"}const jLe={linear:0,log:1,pow:1,sqrt:1,symlog:1,identity:1,sequential:1,time:0,utc:0,point:10,band:11,ordinal:0,"bin-ordinal":0,quantile:0,quantize:0,threshold:0};function rV(e){return jLe[e]}const Roe=new Set(["linear","log","pow","sqrt","symlog"]),Foe=new Set([...Roe,"time","utc"]);function Ooe(e){return Roe.has(e)}const Poe=new Set(["quantile","quantize","threshold"]),ULe=new Set([...Foe,...Poe,"sequential","identity"]),VLe=new Set(["ordinal","bin-ordinal","point","band"]);function br(e){return VLe.has(e)}function ya(e){return ULe.has(e)}function il(e){return Foe.has(e)}function jm(e){return Poe.has(e)}const WLe={pointPadding:.5,barBandPaddingInner:.1,rectBandPaddingInner:0,tickBandPaddingInner:.25,bandWithNestedOffsetPaddingInner:.2,bandWithNestedOffsetPaddingOuter:.2,minBandSize:2,minFontSize:8,maxFontSize:40,minOpacity:.3,maxOpacity:.8,minSize:4,minStrokeWidth:1,maxStrokeWidth:4,quantileCount:4,quantizeCount:4,zero:!0};function HLe(e){return!we(e)&&le(e,"name")}function Doe(e){return le(e,"param")}function qLe(e){return le(e,"unionWith")}function GLe(e){return ve(e)&&"field"in e}const XLe={type:1,domain:1,domainMax:1,domainMin:1,domainMid:1,domainRaw:1,align:1,range:1,rangeMax:1,rangeMin:1,scheme:1,bins:1,reverse:1,round:1,clamp:1,nice:1,base:1,exponent:1,constant:1,interpolate:1,zero:1,padding:1,paddingInner:1,paddingOuter:1},{type:vpt,domain:bpt,range:xpt,rangeMax:wpt,rangeMin:Spt,scheme:Cpt,...YLe}=XLe,KLe=se(YLe);function jF(e,t){switch(t){case"type":case"domain":case"reverse":case"range":return!0;case"scheme":case"interpolate":return!["point","band","identity"].includes(e);case"bins":return!["point","band","identity","ordinal"].includes(e);case"round":return il(e)||e==="band"||e==="point";case"padding":case"rangeMin":case"rangeMax":return il(e)||["point","band"].includes(e);case"paddingOuter":case"align":return["point","band"].includes(e);case"paddingInner":return e==="band";case"domainMax":case"domainMid":case"domainMin":case"domainRaw":case"clamp":return il(e);case"nice":return il(e)||e==="quantize"||e==="threshold";case"exponent":return e==="pow";case"base":return e==="log";case"constant":return e==="symlog";case"zero":return ya(e)&&!it(["log","time","utc","threshold","quantile"],e)}}function Moe(e,t){switch(t){case"interpolate":case"scheme":case"domainMid":return Ng(e)?void 0:qNe(t);case"align":case"type":case"bins":case"domain":case"domainMax":case"domainMin":case"domainRaw":case"range":case"base":case"exponent":case"constant":case"nice":case"padding":case"paddingInner":case"paddingOuter":case"rangeMax":case"rangeMin":case"reverse":case"round":case"clamp":case"zero":return}}function QLe(e,t){return it([WL,HL],t)?e===void 0||br(e):t===Bm?it([Tr.TIME,Tr.UTC,void 0],e):t===Fh?Ooe(e)||jm(e)||e===void 0:!0}function JLe(e,t,n=!1){if(!Ll(e))return!1;switch(e){case mn:case wr:case If:case L0:case Rs:case _a:return il(t)||t==="band"?!0:t==="point"?!n:!1;case Bu:case jf:case ju:case zf:case Bf:case op:return il(t)||jm(t)||it(["band","point","ordinal"],t);case uo:case Dl:case Ml:return t!=="band";case Uf:case co:return t==="ordinal"||jm(t)}}function ZLe(e){return ve(e)&&"value"in e}const Ii={arc:"arc",area:"area",bar:"bar",image:"image",line:"line",point:"point",rect:"rect",rule:"rule",text:"text",tick:"tick",trail:"trail",circle:"circle",square:"square",geoshape:"geoshape"},Noe=Ii.arc,o$=Ii.area,s$=Ii.bar,eIe=Ii.image,a$=Ii.line,l$=Ii.point,tIe=Ii.rect,bE=Ii.rule,Loe=Ii.text,qL=Ii.tick,nIe=Ii.trail,GL=Ii.circle,XL=Ii.square,Ioe=Ii.geoshape;function Wf(e){return["line","area","trail"].includes(e)}function qv(e){return["rect","bar","image","arc","tick"].includes(e)}const rIe=new Set(se(Ii));function El(e){return le(e,"type")}const iIe=["stroke","strokeWidth","strokeDash","strokeDashOffset","strokeOpacity","strokeJoin","strokeMiterLimit"],oIe=["fill","fillOpacity"],sIe=[...iIe,...oIe],aIe={color:1,filled:1,invalid:1,order:1,radius2:1,theta2:1,timeUnitBandSize:1,timeUnitBandPosition:1},iV=se(aIe),n3=["binSpacing","continuousBandSize","discreteBandSize","minBandSize"],lIe={area:["line","point"],bar:n3,rect:n3,line:["point"],tick:["bandSize","thickness",...n3]},uIe={color:"#4c78a8",invalid:"break-paths-show-path-domains",timeUnitBandSize:1},cIe={mark:1,arc:1,area:1,bar:1,circle:1,image:1,line:1,point:1,rect:1,rule:1,square:1,text:1,tick:1,trail:1,geoshape:1},zoe=se(cIe);function Oh(e){return le(e,"band")}const fIe={horizontal:["cornerRadiusTopRight","cornerRadiusBottomRight"],vertical:["cornerRadiusTopLeft","cornerRadiusTopRight"]},dIe=5,YL={binSpacing:0,continuousBandSize:dIe,minBandSize:.25,timeUnitBandPosition:.5},hIe={...YL,binSpacing:1},pIe={...YL,thickness:1};function gIe(e){return El(e)?e.type:e}function Boe(e,{isPath:t}){return e===void 0||e==="break-paths-show-path-domains"?t?"break-paths-show-domains":"filter":e===null?"show":e}function KL({markDef:e,config:t,scaleChannel:n,scaleType:r,isCountAggregate:i}){var a,l;if(!r||!ya(r)||i)return"always-valid";const o=Boe(Wt("invalid",e,t),{isPath:Wf(e.type)});return((l=(a=t.scale)==null?void 0:a.invalid)==null?void 0:l[n])!==void 0?"show":o}function mIe(e){return e==="break-paths-filter-domains"||e==="break-paths-show-domains"}function joe({scaleName:e,scale:t,mode:n}){const r=`domain('${e}')`;if(!t||!e)return;const i=`${r}[0]`,o=`peek(${r})`,s=t.domainHasZero();return s==="definitely"?{scale:e,value:0}:s==="maybe"?{signal:`scale('${e}', inrange(0, ${r}) ? 0 : ${n==="zeroOrMin"?i:o})`}:{signal:`scale('${e}', ${n==="zeroOrMin"?i:o})`}}function Uoe({scaleChannel:e,channelDef:t,scale:n,scaleName:r,markDef:i,config:o}){var c;const s=n==null?void 0:n.get("type"),a=ba(t),l=t$(a==null?void 0:a.aggregate),u=KL({scaleChannel:e,markDef:i,config:o,scaleType:s,isCountAggregate:l});if(a&&u==="show"){const f=((c=o.scale.invalid)==null?void 0:c[e])??"zero-or-min";return{test:i$(ye(a,{expr:"datum"}),!1),...yIe(f,n,r)}}}function yIe(e,t,n){if(ZLe(e)){const{value:r}=e;return Fe(r)?{signal:r.signal}:{value:r}}return joe({scale:t,scaleName:n,mode:"zeroOrMin"})}function QL(e){const{channel:t,channelDef:n,markDef:r,scale:i,scaleName:o,config:s}=e,a=sp(t),l=JL(e),u=Uoe({scaleChannel:a,channelDef:n,scale:i,scaleName:o,markDef:r,config:s});return u!==void 0?[u,l]:l}function vIe(e){const{datum:t}=e;return up(t)?Rh(t):`${qt(t)}`}function rh(e,t,n,r){const i={};if(t&&(i.scale=t),Il(e)){const{datum:o}=e;up(o)?i.signal=Rh(o):Fe(o)?i.signal=o.signal:Sx(o)?i.signal=o.expr:i.value=o}else i.field=ye(e,n);if(r){const{offset:o,band:s}=r;o&&(i.offset=o),s&&(i.band=s)}return i}function xE({scaleName:e,fieldOrDatumDef:t,fieldOrDatumDef2:n,offset:r,startSuffix:i,endSuffix:o="end",bandPosition:s=.5}){const a=!Fe(s)&&0<s&&s<1?"datum":void 0,l=ye(t,{expr:a,suffix:i}),u=n!==void 0?ye(n,{expr:a}):ye(t,{suffix:o,expr:a}),c={};if(s===0||s===1){c.scale=e;const f=s===0?l:u;c.field=f}else{const f=Fe(s)?`(1-${s.signal}) * ${l} + ${s.signal} * ${u}`:`${1-s} * ${l} + ${s} * ${u}`;c.signal=`scale("${e}", ${f})`}return r&&(c.offset=r),c}function bIe({scaleName:e,fieldDef:t}){const n=ye(t,{expr:"datum"}),r=ye(t,{expr:"datum",suffix:"end"});return`abs(scale("${e}", ${r}) - scale("${e}", ${n}))`}function JL({channel:e,channelDef:t,channel2Def:n,markDef:r,config:i,scaleName:o,scale:s,stack:a,offset:l,defaultRef:u,bandPosition:c}){if(t){if(Qe(t)){const f=s==null?void 0:s.get("type");if(Mi(t)){c??(c=wf({fieldDef:t,fieldDef2:n,markDef:r,config:i}));const{bin:d,timeUnit:h,type:p}=t;if(Jt(d)||c&&h&&p===Bm)return a!=null&&a.impute?rh(t,o,{binSuffix:"mid"},{offset:l}):c&&!br(f)?xE({scaleName:o,fieldOrDatumDef:t,bandPosition:c,offset:l}):rh(t,o,Tx(t,e)?{binSuffix:"range"}:{},{offset:l});if(_r(d)){if(ce(n))return xE({scaleName:o,fieldOrDatumDef:t,fieldOrDatumDef2:n,bandPosition:c,offset:l});ue(moe(e===mn?ka:Pl))}}return rh(t,o,br(f)?{binSuffix:"range"}:{},{offset:l,band:f==="band"?c??t.bandPosition??.5:void 0})}else if(va(t)){const f=t.value,d=l?{offset:l}:{};return{...J1(e,f),...d}}}return et(u)&&(u=u()),u&&{...u,...l?{offset:l}:{}}}function J1(e,t){return it(["x","x2"],e)&&t==="width"?{field:{group:"width"}}:it(["y","y2"],e)&&t==="height"?{field:{group:"height"}}:ln(t)}function Ph(e){return e&&e!=="number"&&e!=="time"}function Voe(e,t,n){return`${e}(${t}${n?`, ${qt(n)}`:""})`}const xIe="  ";function ZL({fieldOrDatumDef:e,format:t,formatType:n,expr:r,normalizeStack:i,config:o}){var l,u;if(Ph(n))return sa({fieldOrDatumDef:e,format:t,formatType:n,expr:r,config:o});const s=Woe(e,r,i),a=Um(e);if(t===void 0&&n===void 0&&o.customFormatTypes){if(a==="quantitative"){if(i&&o.normalizedNumberFormatType)return sa({fieldOrDatumDef:e,format:o.normalizedNumberFormat,formatType:o.normalizedNumberFormatType,expr:r,config:o});if(o.numberFormatType)return sa({fieldOrDatumDef:e,format:o.numberFormat,formatType:o.numberFormatType,expr:r,config:o})}if(a==="temporal"&&o.timeFormatType&&ce(e)&&e.timeUnit===void 0)return sa({fieldOrDatumDef:e,format:o.timeFormat,formatType:o.timeFormatType,expr:r,config:o})}if(Wm(e)){const c=SIe({field:s,timeUnit:ce(e)?(l=sr(e.timeUnit))==null?void 0:l.unit:void 0,format:t,formatType:o.timeFormatType,rawTimeFormat:o.timeFormat,isUTCScale:cp(e)&&((u=e.scale)==null?void 0:u.type)===Tr.UTC});return c?{signal:c}:void 0}if(t=UF({type:a,specifiedFormat:t,config:o,normalizeStack:i}),ce(e)&&Jt(e.bin)){const c=ye(e,{expr:r,binSuffix:"end"});return{signal:kx(s,c,t,n,o)}}else return t||Um(e)==="quantitative"?{signal:`${Goe(s,t)}`}:{signal:`isValid(${s}) ? ${s} : ""+${s}`}}function Woe(e,t,n){return ce(e)?n?`${ye(e,{expr:t,suffix:"end"})}-${ye(e,{expr:t,suffix:"start"})}`:ye(e,{expr:t}):vIe(e)}function sa({fieldOrDatumDef:e,format:t,formatType:n,expr:r,normalizeStack:i,config:o,field:s}){if(s??(s=Woe(e,r,i)),s!=="datum.value"&&ce(e)&&Jt(e.bin)){const a=ye(e,{expr:r,binSuffix:"end"});return{signal:kx(s,a,t,n,o)}}return{signal:Voe(n,s,t)}}function Hoe(e,t,n,r,i,o){var s;if(!(we(r)&&Ph(r))&&!(n===void 0&&r===void 0&&i.customFormatTypes&&Um(e)==="quantitative"&&(i.normalizedNumberFormatType&&Vm(e)&&e.stack==="normalize"||i.numberFormatType))){if(Vm(e)&&e.stack==="normalize"&&i.normalizedNumberFormat)return UF({type:"quantitative",config:i,normalizeStack:!0});if(Wm(e)){const a=ce(e)?(s=sr(e.timeUnit))==null?void 0:s.unit:void 0;return a===void 0&&i.customFormatTypes&&i.timeFormatType?void 0:wIe({specifiedFormat:n,timeUnit:a,config:i,omitTimeFormatConfig:o})}return UF({type:t,specifiedFormat:n,config:i})}}function qoe(e,t,n){var r;if(e&&(Fe(e)||e==="number"||e==="time"))return e;if(Wm(t)&&n!=="time"&&n!=="utc")return ce(t)&&((r=sr(t==null?void 0:t.timeUnit))!=null&&r.utc)?"utc":"time"}function UF({type:e,specifiedFormat:t,config:n,normalizeStack:r}){if(we(t))return t;if(e===Fh)return r?n.normalizedNumberFormat:n.numberFormat}function wIe({specifiedFormat:e,timeUnit:t,config:n,omitTimeFormatConfig:r}){return e||(t?{signal:Eoe(t)}:r?void 0:n.timeFormat)}function Goe(e,t){return`format(${e}, "${t||""}")`}function oV(e,t,n,r){return Ph(n)?Voe(n,e,t):Goe(e,(we(t)?t:void 0)??r.numberFormat)}function kx(e,t,n,r,i){if(n===void 0&&r===void 0&&i.customFormatTypes&&i.numberFormatType)return kx(e,t,i.numberFormat,i.numberFormatType,i);const o=oV(e,n,r,i),s=oV(t,n,r,i);return`${i$(e,!1)} ? "null" : ${o} + "${xIe}" + ${s}`}function SIe({field:e,timeUnit:t,format:n,formatType:r,rawTimeFormat:i,isUTCScale:o}){return!t||n?!t&&r?`${r}(${e}, '${n}')`:(n=we(n)?n:i,`${o?"utc":"time"}Format(${e}, '${n}')`):RLe(t,e,o)}const u$="min",CIe={x:1,y:1,color:1,fill:1,stroke:1,strokeWidth:1,size:1,shape:1,fillOpacity:1,strokeOpacity:1,opacity:1,text:1};function sV(e){return Se(CIe,e)}function EIe(e){return le(e,"encoding")}function vu(e){return e&&(e.op==="count"||le(e,"field"))}function Xoe(e){return e&&te(e)}function _x(e){return le(e,"row")||le(e,"column")}function eI(e){return le(e,"header")}function c$(e){return le(e,"facet")}function kIe(e){return le(e,"param")}function _Ie(e){return!we(e)&&le(e,"repeat")}function aV(e){const{field:t,timeUnit:n,bin:r,aggregate:i}=e;return{...n?{timeUnit:n}:{},...r?{bin:r}:{},...i?{aggregate:i}:{},field:t}}function tI(e){return le(e,"sort")}function wf({fieldDef:e,fieldDef2:t,markDef:n,config:r}){if(Qe(e)&&e.bandPosition!==void 0)return e.bandPosition;if(ce(e)){const{timeUnit:i,bin:o}=e;if(i&&!t)return Cl("timeUnitBandPosition",n,r);if(Jt(o))return .5}}function Yoe({channel:e,fieldDef:t,fieldDef2:n,markDef:r,config:i,scaleType:o,useVlSizeChannel:s}){var u,c,f;const a=fo(e),l=Wt(s?"size":a,r,i,{vgChannel:a});if(l!==void 0)return l;if(ce(t)){const{timeUnit:d,bin:h}=t;if(d&&!n)return{band:Cl("timeUnitBandSize",r,i)};if(Jt(h)&&!br(o))return{band:1}}if(qv(r.type))return o?br(o)?((u=i[r.type])==null?void 0:u.discreteBandSize)||{band:1}:(c=i[r.type])==null?void 0:c.continuousBandSize:(f=i[r.type])==null?void 0:f.discreteBandSize}function Koe(e,t,n,r){return Jt(e.bin)||e.timeUnit&&Mi(e)&&e.type==="temporal"?wf({fieldDef:e,fieldDef2:t,markDef:n,config:r})!==void 0:!1}function Qoe(e){return le(e,"sort")&&!le(e,"field")}function $x(e){return le(e,"condition")}function f$(e){const t=e==null?void 0:e.condition;return!!t&&!te(t)&&ce(t)}function Ax(e){const t=e==null?void 0:e.condition;return!!t&&!te(t)&&Qe(t)}function $Ie(e){const t=e==null?void 0:e.condition;return!!t&&(te(t)||va(t))}function ce(e){return le(e,"field")||(e==null?void 0:e.aggregate)==="count"}function Um(e){return e==null?void 0:e.type}function Il(e){return le(e,"datum")}function Vc(e){return Mi(e)&&!SE(e)||wE(e)}function lV(e){return Mi(e)&&e.type==="quantitative"&&!e.bin||wE(e)}function wE(e){return Il(e)&&St(e.datum)}function Qe(e){return ce(e)||Il(e)}function Mi(e){return e&&(le(e,"field")||e.aggregate==="count")&&le(e,"type")}function va(e){return le(e,"value")}function cp(e){return le(e,"scale")||le(e,"sort")}function Vm(e){return le(e,"axis")||le(e,"stack")||le(e,"impute")}function Joe(e){return le(e,"legend")}function Zoe(e){return le(e,"format")||le(e,"formatType")}function AIe(e){return eo(e,["legend","axis","header","scale"])}function TIe(e){return le(e,"op")}function ye(e,t={}){let n=e.field;const r=t.prefix;let i=t.suffix,o="";if(FIe(e))n=Uie("count");else{let s;if(!t.nofn)if(TIe(e))s=e.op;else{const{bin:a,aggregate:l,timeUnit:u}=e;Jt(a)?(s=noe(a),i=(t.binSuffix??"")+(t.suffix??"")):l?Vu(l)?(o=`["${n}"]`,n=`argmax_${l.argmax}`):Sl(l)?(o=`["${n}"]`,n=`argmin_${l.argmin}`):s=String(l):u&&!Vf(u)&&(s=FLe(u),i=(!["range","mid"].includes(t.binSuffix)&&t.binSuffix||"")+(t.suffix??""))}s&&(n=n?`${s}_${n}`:s)}return i&&(n=`${n}_${i}`),r&&(n=`${r}_${n}`),t.forAs?N0(n):t.expr?zie(n,t.expr)+o:ks(n)+o}function SE(e){switch(e.type){case"nominal":case"ordinal":case"geojson":return!0;case"quantitative":return ce(e)&&!!e.bin;case"temporal":return!1}throw new Error(doe(e.type))}function RIe(e){var t;return cp(e)&&jm((t=e.scale)==null?void 0:t.type)}function FIe(e){return e.aggregate==="count"}function OIe(e,t){var s;const{field:n,bin:r,timeUnit:i,aggregate:o}=e;if(o==="count")return t.countTitle;if(Jt(r))return`${n} (binned)`;if(i&&!Vf(i)){const a=(s=sr(i))==null?void 0:s.unit;if(a)return`${n} (${Cx(a).join("-")})`}else if(o)return Vu(o)?`${n} for max ${o.argmax}`:Sl(o)?`${n} for min ${o.argmin}`:`${vx(o)} of ${n}`;return n}function PIe(e){const{aggregate:t,bin:n,timeUnit:r,field:i}=e;if(Vu(t))return`${i} for argmax(${t.argmax})`;if(Sl(t))return`${i} for argmin(${t.argmin})`;const o=r&&!Vf(r)?sr(r):void 0,s=t||(o==null?void 0:o.unit)||(o==null?void 0:o.maxbins)&&"timeunit"||Jt(n)&&"bin";return s?`${s.toUpperCase()}(${i})`:i}const ese=(e,t)=>{switch(t.fieldTitle){case"plain":return e.field;case"functional":return PIe(e);default:return OIe(e,t)}};let tse=ese;function nse(e){tse=e}function DIe(){nse(ese)}function Lg(e,t,{allowDisabling:n,includeDefault:r=!0}){var a;const i=(a=nI(e))==null?void 0:a.title;if(!ce(e))return i??e.title;const o=e,s=r?rI(o,t):void 0;return n?jn(i,o.title,s):i??o.title??s}function nI(e){if(Vm(e)&&e.axis)return e.axis;if(Joe(e)&&e.legend)return e.legend;if(eI(e)&&e.header)return e.header}function rI(e,t){return tse(e,t)}function CE(e){if(Zoe(e)){const{format:t,formatType:n}=e;return{format:t,formatType:n}}else{const t=nI(e)??{},{format:n,formatType:r}=t;return{format:n,formatType:r}}}function MIe(e,t){var o;switch(t){case"latitude":case"longitude":return"quantitative";case"row":case"column":case"facet":case"shape":case"strokeDash":return"nominal";case"order":return"ordinal"}if(tI(e)&&te(e.sort))return"ordinal";const{aggregate:n,bin:r,timeUnit:i}=e;if(i)return"temporal";if(r||n&&!Vu(n)&&!Sl(n))return"quantitative";if(cp(e)&&((o=e.scale)!=null&&o.type))switch(BF[e.scale.type]){case"numeric":case"discretizing":return"quantitative";case"time":return"temporal"}return"nominal"}function ba(e){if(ce(e))return e;if(f$(e))return e.condition}function rr(e){if(Qe(e))return e;if(Ax(e))return e.condition}function rse(e,t,n,r={}){if(we(e)||St(e)||Ff(e)){const i=we(e)?"string":St(e)?"number":"boolean";return ue(DNe(t,i,e)),{value:e}}return Qe(e)?EE(e,t,n,r):Ax(e)?{...e,condition:EE(e.condition,t,n,r)}:e}function EE(e,t,n,r){if(Zoe(e)){const{format:i,formatType:o,...s}=e;if(Ph(o)&&!n.customFormatTypes)return ue(eV(t)),EE(s,t,n,r)}else{const i=Vm(e)?"axis":Joe(e)?"legend":eI(e)?"header":null;if(i&&e[i]){const{format:o,formatType:s,...a}=e[i];if(Ph(s)&&!n.customFormatTypes)return ue(eV(t)),EE({...e,[i]:a},t,n,r)}}return ce(e)?iI(e,t,r):NIe(e)}function NIe(e){let t=e.type;if(t)return e;const{datum:n}=e;return t=St(n)?"quantitative":we(n)?"nominal":up(n)?"temporal":void 0,{...e,type:t}}function iI(e,t,{compositeMark:n=!1}={}){const{aggregate:r,timeUnit:i,bin:o,field:s}=e,a={...e};if(!n&&r&&!FL(r)&&!Vu(r)&&!Sl(r)&&(ue(NNe(r)),delete a.aggregate),i&&(a.timeUnit=sr(i)),s&&(a.field=`${s}`),Jt(o)&&(a.bin=d$(o,t)),_r(o)&&!Un(t)&&ue(pLe(t)),Mi(a)){const{type:l}=a,u=zLe(l);l!==u&&(a.type=u),l!=="quantitative"&&t$(r)&&(ue(MNe(l,r)),a.type="quantitative")}else if(!Kie(t)){const l=MIe(a,t);a.type=l}if(Mi(a)){const{compatible:l,warning:u}=LIe(a,t)||{};l===!1&&ue(u)}if(tI(a)&&we(a.sort)){const{sort:l}=a;if(sV(l))return{...a,sort:{encoding:l}};const u=l.substring(1);if(l.charAt(0)==="-"&&sV(u))return{...a,sort:{encoding:u,order:"descending"}}}if(eI(a)){const{header:l}=a;if(l){const{orient:u,...c}=l;if(u)return{...a,header:{...c,labelOrient:l.labelOrient||u,titleOrient:l.titleOrient||u}}}}return a}function d$(e,t){return Ff(e)?{maxbins:HU(t)}:e==="binned"?{binned:!0}:!e.maxbins&&!e.step?{...e,maxbins:HU(t)}:e}const jp={compatible:!0};function LIe(e,t){const n=e.type;if(n==="geojson"&&t!=="shape")return{compatible:!1,warning:`Channel ${t} should not be used with a geojson data.`};switch(t){case mu:case yu:case Y_:return SE(e)?jp:{compatible:!1,warning:BNe(t)};case mn:case wr:case If:case L0:case uo:case Dl:case Ml:case bx:case xx:case K_:case Th:case Q_:case J_:case op:case Rs:case _a:case Z_:return jp;case Aa:case _s:case $a:case Ta:return n!==Fh?{compatible:!1,warning:`Channel ${t} should be used with a quantitative field only, not ${e.type} field.`}:jp;case ju:case zf:case Bf:case jf:case Bu:case zu:case Iu:case ka:case Pl:return n==="nominal"&&!e.sort?{compatible:!1,warning:`Channel ${t} should not be used with an unsorted discrete field.`}:jp;case co:case Uf:return!SE(e)&&!RIe(e)?{compatible:!1,warning:jNe(t)}:jp;case Im:return e.type==="nominal"&&!("sort"in e)?{compatible:!1,warning:"Channel order is inappropriate for nominal field, which has no inherent order."}:jp}}function Wm(e){const{formatType:t}=CE(e);return t==="time"||!t&&IIe(e)}function IIe(e){return e&&(e.type==="temporal"||ce(e)&&!!e.timeUnit)}function h$(e,{timeUnit:t,type:n,wrapTime:r,undefinedIfExprNotRequired:i}){var l;const o=t&&((l=sr(t))==null?void 0:l.unit);let s=o||n==="temporal",a;return Sx(e)?a=e.expr:Fe(e)?a=e.signal:up(e)?(s=!0,a=Rh(e)):(we(e)||St(e))&&s&&(a=`datetime(${qt(e)})`,_Le(o)&&(St(e)&&e<1e4||we(e)&&isNaN(Date.parse(e)))&&(a=Rh({[o]:e}))),a?r&&s?`time(${a})`:a:i?void 0:qt(e)}function ise(e,t){const{type:n}=e;return t.map(r=>{const i=ce(e)&&!Vf(e.timeUnit)?e.timeUnit:void 0,o=h$(r,{timeUnit:i,type:n,undefinedIfExprNotRequired:!0});return o!==void 0?{signal:o}:r})}function Tx(e,t){return Jt(e.bin)?Ll(t)&&["ordinal","nominal"].includes(e.type):(console.warn("Only call this method for binned field defs."),!1)}const uV={labelAlign:{part:"labels",vgProp:"align"},labelBaseline:{part:"labels",vgProp:"baseline"},labelColor:{part:"labels",vgProp:"fill"},labelFont:{part:"labels",vgProp:"font"},labelFontSize:{part:"labels",vgProp:"fontSize"},labelFontStyle:{part:"labels",vgProp:"fontStyle"},labelFontWeight:{part:"labels",vgProp:"fontWeight"},labelOpacity:{part:"labels",vgProp:"opacity"},labelOffset:null,labelPadding:null,gridColor:{part:"grid",vgProp:"stroke"},gridDash:{part:"grid",vgProp:"strokeDash"},gridDashOffset:{part:"grid",vgProp:"strokeDashOffset"},gridOpacity:{part:"grid",vgProp:"opacity"},gridWidth:{part:"grid",vgProp:"strokeWidth"},tickColor:{part:"ticks",vgProp:"stroke"},tickDash:{part:"ticks",vgProp:"strokeDash"},tickDashOffset:{part:"ticks",vgProp:"strokeDashOffset"},tickOpacity:{part:"ticks",vgProp:"opacity"},tickSize:null,tickWidth:{part:"ticks",vgProp:"strokeWidth"}};function Rx(e){return e==null?void 0:e.condition}const ose=["domain","grid","labels","ticks","title"],zIe={grid:"grid",gridCap:"grid",gridColor:"grid",gridDash:"grid",gridDashOffset:"grid",gridOpacity:"grid",gridScale:"grid",gridWidth:"grid",orient:"main",bandPosition:"both",aria:"main",description:"main",domain:"main",domainCap:"main",domainColor:"main",domainDash:"main",domainDashOffset:"main",domainOpacity:"main",domainWidth:"main",format:"main",formatType:"main",labelAlign:"main",labelAngle:"main",labelBaseline:"main",labelBound:"main",labelColor:"main",labelFlush:"main",labelFlushOffset:"main",labelFont:"main",labelFontSize:"main",labelFontStyle:"main",labelFontWeight:"main",labelLimit:"main",labelLineHeight:"main",labelOffset:"main",labelOpacity:"main",labelOverlap:"main",labelPadding:"main",labels:"main",labelSeparation:"main",maxExtent:"main",minExtent:"main",offset:"both",position:"main",tickCap:"main",tickColor:"main",tickDash:"main",tickDashOffset:"main",tickMinStep:"both",tickOffset:"both",tickOpacity:"main",tickRound:"both",ticks:"main",tickSize:"main",tickWidth:"both",title:"main",titleAlign:"main",titleAnchor:"main",titleAngle:"main",titleBaseline:"main",titleColor:"main",titleFont:"main",titleFontSize:"main",titleFontStyle:"main",titleFontWeight:"main",titleLimit:"main",titleLineHeight:"main",titleOpacity:"main",titlePadding:"main",titleX:"main",titleY:"main",encode:"both",scale:"both",tickBand:"both",tickCount:"both",tickExtra:"both",translate:"both",values:"both",zindex:"both"},sse={orient:1,aria:1,bandPosition:1,description:1,domain:1,domainCap:1,domainColor:1,domainDash:1,domainDashOffset:1,domainOpacity:1,domainWidth:1,format:1,formatType:1,grid:1,gridCap:1,gridColor:1,gridDash:1,gridDashOffset:1,gridOpacity:1,gridWidth:1,labelAlign:1,labelAngle:1,labelBaseline:1,labelBound:1,labelColor:1,labelFlush:1,labelFlushOffset:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelLineHeight:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labels:1,labelSeparation:1,maxExtent:1,minExtent:1,offset:1,position:1,tickBand:1,tickCap:1,tickColor:1,tickCount:1,tickDash:1,tickDashOffset:1,tickExtra:1,tickMinStep:1,tickOffset:1,tickOpacity:1,tickRound:1,ticks:1,tickSize:1,tickWidth:1,title:1,titleAlign:1,titleAnchor:1,titleAngle:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titlePadding:1,titleX:1,titleY:1,translate:1,values:1,zindex:1},BIe={...sse,style:1,labelExpr:1,encoding:1};function cV(e){return Se(BIe,e)}const jIe={axis:1,axisBand:1,axisBottom:1,axisDiscrete:1,axisLeft:1,axisPoint:1,axisQuantitative:1,axisRight:1,axisTemporal:1,axisTop:1,axisX:1,axisXBand:1,axisXDiscrete:1,axisXPoint:1,axisXQuantitative:1,axisXTemporal:1,axisY:1,axisYBand:1,axisYDiscrete:1,axisYPoint:1,axisYQuantitative:1,axisYTemporal:1},ase=se(jIe);function Wu(e){return le(e,"mark")}class p${constructor(t,n){this.name=t,this.run=n}hasMatchingType(t){return Wu(t)?gIe(t.mark)===this.name:!1}}function ih(e,t){const n=e&&e[t];return n?te(n)?Nm(n,r=>!!r.field):ce(n)||f$(n):!1}function lse(e,t){const n=e&&e[t];return n?te(n)?Nm(n,r=>!!r.field):ce(n)||Il(n)||Ax(n):!1}function use(e,t){if(Un(t)){const n=e[t];if((ce(n)||Il(n))&&(Toe(n.type)||ce(n)&&n.timeUnit)){const r=_L(t);return lse(e,r)}}return!1}function cse(e){return Nm(BMe,t=>{if(ih(e,t)){const n=e[t];if(te(n))return Nm(n,r=>!!r.aggregate);{const r=ba(n);return r&&!!r.aggregate}}return!1})}function fse(e,t){const n=[],r=[],i=[],o=[],s={};return oI(e,(a,l)=>{if(ce(a)){const{field:u,aggregate:c,bin:f,timeUnit:d,...h}=a;if(c||d||f){const p=nI(a),g=p==null?void 0:p.title;let m=ye(a,{forAs:!0});const y={...g?[]:{title:Lg(a,t,{allowDisabling:!0})},...h,field:m};if(c){let v;if(Vu(c)?(v="argmax",m=ye({op:"argmax",field:c.argmax},{forAs:!0}),y.field=`${m}.${u}`):Sl(c)?(v="argmin",m=ye({op:"argmin",field:c.argmin},{forAs:!0}),y.field=`${m}.${u}`):c!=="boxplot"&&c!=="errorbar"&&c!=="errorband"&&(v=c),v){const b={op:v,as:m};u&&(b.field=u),o.push(b)}}else if(n.push(m),Mi(a)&&Jt(f)){if(r.push({bin:f,field:u,as:m}),n.push(ye(a,{binSuffix:"end"})),Tx(a,l)&&n.push(ye(a,{binSuffix:"range"})),Un(l)){const v={field:`${m}_end`};s[`${l}2`]=v}y.bin="binned",Kie(l)||(y.type=Fh)}else if(d&&!Vf(d)){i.push({timeUnit:d,field:u,as:m});const v=Mi(a)&&a.type!==Bm&&"time";v&&(l===bx||l===Th?y.formatType=v:KMe(l)?y.legend={formatType:v,...y.legend}:Un(l)&&(y.axis={formatType:v,...y.axis}))}s[l]=y}else n.push(u),s[l]=e[l]}else s[l]=e[l]}),{bins:r,timeUnits:i,aggregate:o,groupby:n,encoding:s}}function UIe(e,t,n){const r=JMe(t,n);if(r){if(r==="binned"){const i=e[t===ka?mn:wr];return!!(ce(i)&&ce(e[t])&&_r(i.bin))}}else return!1;return!0}function VIe(e,t,n,r){const i={};for(const o of se(e))Yie(o)||ue(zNe(o));for(let o of qMe){if(!e[o])continue;const s=e[o];if(wx(o)){const a=HMe(o),l=i[a];if(ce(l)&&ILe(l.type)&&ce(s)&&!l.timeUnit){ue(PNe(a));continue}}if(o==="angle"&&t==="arc"&&!e.theta&&(ue(ONe),o=Rs),!UIe(e,o,t)){ue(r$(o,t));continue}if(o===Bu&&t==="line"){const a=ba(e[o]);if(a!=null&&a.aggregate){ue(INe);continue}}if(o===uo&&(n?"fill"in e:"stroke"in e)){ue(hoe("encoding",{fill:"fill"in e,stroke:"stroke"in e}));continue}if(o===xx||o===Im&&!te(s)&&!va(s)||o===Th&&te(s)){if(s){if(o===Im){const a=e[o];if(Qoe(a)){i[o]=a;continue}}i[o]=xe(s).reduce((a,l)=>(ce(l)?a.push(iI(l,o)):ue(zF(l,o)),a),[])}}else{if(o===Th&&s===null)i[o]=null;else if(!ce(s)&&!Il(s)&&!va(s)&&!$x(s)&&!Fe(s)){ue(zF(s,o));continue}i[o]=rse(s,o,r)}}return i}function g$(e,t){const n={};for(const r of se(e)){const i=rse(e[r],r,t,{compositeMark:!0});n[r]=i}return n}function WIe(e){const t=[];for(const n of se(e))if(ih(e,n)){const r=e[n],i=xe(r);for(const o of i)ce(o)?t.push(o):f$(o)&&t.push(o.condition)}return t}function oI(e,t,n){if(e)for(const r of se(e)){const i=e[r];if(te(i))for(const o of i)t.call(n,o,r);else t.call(n,i,r)}}function HIe(e,t,n,r){return e?se(e).reduce((i,o)=>{const s=e[o];return te(s)?s.reduce((a,l)=>t.call(r,a,l,o),i):t.call(r,i,s,o)},n):n}function dse(e,t){return se(t).reduce((n,r)=>{switch(r){case mn:case wr:case Q_:case Z_:case J_:case ka:case Pl:case If:case L0:case Rs:case zu:case _a:case Iu:case $a:case Aa:case Ta:case _s:case bx:case co:case op:case Th:return n;case Im:if(e==="line"||e==="trail")return n;case xx:case K_:{const i=t[r];if(te(i)||ce(i))for(const o of xe(i))o.aggregate||n.push(ye(o,{}));return n}case Bu:if(e==="trail")return n;case uo:case Dl:case Ml:case ju:case zf:case Bf:case Uf:case jf:{const i=ba(t[r]);return i&&!i.aggregate&&n.push(ye(i,{})),n}}},[])}function qIe(e){const{tooltip:t,...n}=e;if(!t)return{filteredEncoding:n};let r,i;if(te(t)){for(const o of t)o.aggregate?(r||(r=[]),r.push(o)):(i||(i=[]),i.push(o));r&&(n.tooltip=r)}else t.aggregate?n.tooltip=t:i=t;return te(i)&&i.length===1&&(i=i[0]),{customTooltipWithoutAggregatedField:i,filteredEncoding:n}}function VF(e,t,n,r=!0){if("tooltip"in n)return{tooltip:n.tooltip};const i=e.map(({fieldPrefix:s,titlePrefix:a})=>{const l=r?` of ${sI(t)}`:"";return{field:s+t.field,type:t.type,title:Fe(a)?{signal:`${a}"${escape(l)}"`}:a+l}}),o=WIe(n).map(AIe);return{tooltip:[...i,...rl(o,ut)]}}function sI(e){const{title:t,field:n}=e;return jn(t,n)}function aI(e,t,n,r,i){const{scale:o,axis:s}=n;return({partName:a,mark:l,positionPrefix:u,endPositionPrefix:c=void 0,extraEncoding:f={}})=>{const d=sI(n);return hse(e,a,i,{mark:l,encoding:{[t]:{field:`${u}_${n.field}`,type:n.type,...d!==void 0?{title:d}:{},...o!==void 0?{scale:o}:{},...s!==void 0?{axis:s}:{}},...we(c)?{[`${t}2`]:{field:`${c}_${n.field}`}}:{},...r,...f}})}}function hse(e,t,n,r){const{clip:i,color:o,opacity:s}=e,a=e.type;return e[t]||e[t]===void 0&&n[t]?[{...r,mark:{...n[t],...i?{clip:i}:{},...o?{color:o}:{},...s?{opacity:s}:{},...El(r.mark)?r.mark:{type:r.mark},style:`${a}-${String(t)}`,...Ff(e[t])?{}:e[t]}}]:[]}function pse(e,t,n){const{encoding:r}=e,i=t==="vertical"?"y":"x",o=r[i],s=r[`${i}2`],a=r[`${i}Error`],l=r[`${i}Error2`];return{continuousAxisChannelDef:Y2(o,n),continuousAxisChannelDef2:Y2(s,n),continuousAxisChannelDefError:Y2(a,n),continuousAxisChannelDefError2:Y2(l,n),continuousAxis:i}}function Y2(e,t){if(e!=null&&e.aggregate){const{aggregate:n,...r}=e;return n!==t&&ue(hLe(n,t)),r}else return e}function gse(e,t){const{mark:n,encoding:r}=e,{x:i,y:o}=r;if(El(n)&&n.orient)return n.orient;if(Vc(i)){if(Vc(o)){const s=ce(i)&&i.aggregate,a=ce(o)&&o.aggregate;if(!s&&a===t)return"vertical";if(!a&&s===t)return"horizontal";if(s===t&&a===t)throw new Error("Both x and y cannot have aggregate");return Wm(o)&&!Wm(i)?"horizontal":"vertical"}return"horizontal"}else{if(Vc(o))return"vertical";throw new Error(`Need a valid continuous axis for ${t}s`)}}const kE="boxplot",GIe=["box","median","outliers","rule","ticks"],XIe=new p$(kE,yse);function mse(e){return St(e)?"tukey":e}function yse(e,{config:t}){e={...e,encoding:g$(e.encoding,t)};const{mark:n,encoding:r,params:i,projection:o,...s}=e,a=El(n)?n:{type:n};i&&ue(foe("boxplot"));const l=a.extent??t.boxplot.extent,u=Wt("size",a,t),c=a.invalid,f=mse(l),{bins:d,timeUnits:h,transform:p,continuousAxisChannelDef:g,continuousAxis:m,groupby:y,aggregate:v,encodingWithoutContinuousAxis:b,ticksOrient:x,boxOrient:w,customTooltipWithoutAggregatedField:E}=YIe(e,l,t),S=N0(g.field),{color:k,size:$,...F}=b,P=Yu=>aI(a,m,g,Yu,t.boxplot),j=P(F),D=P(b),L=(ve(t.boxplot.box)?t.boxplot.box.color:t.mark.color)||"#4c78a8",A=P({...F,...$?{size:$}:{},color:{condition:{test:`datum['lower_box_${g.field}'] >= datum['upper_box_${g.field}']`,...k||{value:L}}}}),O=VF([{fieldPrefix:f==="min-max"?"upper_whisker_":"max_",titlePrefix:"Max"},{fieldPrefix:"upper_box_",titlePrefix:"Q3"},{fieldPrefix:"mid_box_",titlePrefix:"Median"},{fieldPrefix:"lower_box_",titlePrefix:"Q1"},{fieldPrefix:f==="min-max"?"lower_whisker_":"min_",titlePrefix:"Min"}],g,b),B={type:"tick",color:"black",opacity:1,orient:x,invalid:c,aria:!1},z=f==="min-max"?O:VF([{fieldPrefix:"upper_whisker_",titlePrefix:"Upper Whisker"},{fieldPrefix:"lower_whisker_",titlePrefix:"Lower Whisker"}],g,b),U=[...j({partName:"rule",mark:{type:"rule",invalid:c,aria:!1},positionPrefix:"lower_whisker",endPositionPrefix:"lower_box",extraEncoding:z}),...j({partName:"rule",mark:{type:"rule",invalid:c,aria:!1},positionPrefix:"upper_box",endPositionPrefix:"upper_whisker",extraEncoding:z}),...j({partName:"ticks",mark:B,positionPrefix:"lower_whisker",extraEncoding:z}),...j({partName:"ticks",mark:B,positionPrefix:"upper_whisker",extraEncoding:z})],X=[...f!=="tukey"?U:[],...D({partName:"box",mark:{type:"bar",...u?{size:u}:{},orient:w,invalid:c,ariaRoleDescription:"box"},positionPrefix:"lower_box",endPositionPrefix:"upper_box",extraEncoding:O}),...A({partName:"median",mark:{type:"tick",invalid:c,...ve(t.boxplot.median)&&t.boxplot.median.color?{color:t.boxplot.median.color}:{},...u?{size:u}:{},orient:x,aria:!1},positionPrefix:"mid_box",extraEncoding:O})];if(f==="min-max")return{...s,transform:(s.transform??[]).concat(p),layer:X};const K=`datum["lower_box_${g.field}"]`,pe=`datum["upper_box_${g.field}"]`,oe=`(${pe} - ${K})`,_e=`${K} - ${l} * ${oe}`,Je=`${pe} + ${l} * ${oe}`,xt=`datum["${g.field}"]`,Dn={joinaggregate:vse(g.field),groupby:y},cr={transform:[{filter:`(${_e} <= ${xt}) && (${xt} <= ${Je})`},{aggregate:[{op:"min",field:g.field,as:`lower_whisker_${S}`},{op:"max",field:g.field,as:`upper_whisker_${S}`},{op:"min",field:`lower_box_${g.field}`,as:`lower_box_${S}`},{op:"max",field:`upper_box_${g.field}`,as:`upper_box_${S}`},...v],groupby:y}],layer:U},{tooltip:be,...Ne}=F,{scale:Ue,axis:ae}=g,Mn=sI(g),vt=eo(ae,["title"]),Yn=hse(a,"outliers",t.boxplot,{transform:[{filter:`(${xt} < ${_e}) || (${xt} > ${Je})`}],mark:"point",encoding:{[m]:{field:g.field,type:g.type,...Mn!==void 0?{title:Mn}:{},...Ue!==void 0?{scale:Ue}:{},...Ht(vt)?{}:{axis:vt}},...Ne,...k?{color:k}:{},...E?{tooltip:E}:{}}})[0];let cn;const Br=[...d,...h,Dn];return Yn?cn={transform:Br,layer:[Yn,cr]}:(cn=cr,cn.transform.unshift(...Br)),{...s,layer:[cn,{transform:p,layer:X}]}}function vse(e){const t=N0(e);return[{op:"q1",field:e,as:`lower_box_${t}`},{op:"q3",field:e,as:`upper_box_${t}`}]}function YIe(e,t,n){const r=gse(e,kE),{continuousAxisChannelDef:i,continuousAxis:o}=pse(e,r,kE),s=i.field,a=N0(s),l=mse(t),u=[...vse(s),{op:"median",field:s,as:`mid_box_${a}`},{op:"min",field:s,as:(l==="min-max"?"lower_whisker_":"min_")+a},{op:"max",field:s,as:(l==="min-max"?"upper_whisker_":"max_")+a}],c=l==="min-max"||l==="tukey"?[]:[{calculate:`datum["upper_box_${a}"] - datum["lower_box_${a}"]`,as:`iqr_${a}`},{calculate:`min(datum["upper_box_${a}"] + datum["iqr_${a}"] * ${t}, datum["max_${a}"])`,as:`upper_whisker_${a}`},{calculate:`max(datum["lower_box_${a}"] - datum["iqr_${a}"] * ${t}, datum["min_${a}"])`,as:`lower_whisker_${a}`}],{[o]:f,...d}=e.encoding,{customTooltipWithoutAggregatedField:h,filteredEncoding:p}=qIe(d),{bins:g,timeUnits:m,aggregate:y,groupby:v,encoding:b}=fse(p,n),x=r==="vertical"?"horizontal":"vertical",w=r,E=[...g,...m,{aggregate:[...y,...u],groupby:v},...c];return{bins:g,timeUnits:m,transform:E,groupby:v,aggregate:y,continuousAxisChannelDef:i,continuousAxis:o,encodingWithoutContinuousAxis:b,ticksOrient:x,boxOrient:w,customTooltipWithoutAggregatedField:h}}const lI="errorbar",KIe=["ticks","rule"],QIe=new p$(lI,bse);function bse(e,{config:t}){e={...e,encoding:g$(e.encoding,t)};const{transform:n,continuousAxisChannelDef:r,continuousAxis:i,encodingWithoutContinuousAxis:o,ticksOrient:s,markDef:a,outerSpec:l,tooltipEncoding:u}=xse(e,lI,t);delete o.size;const c=aI(a,i,r,o,t.errorbar),f=a.thickness,d=a.size,h={type:"tick",orient:s,aria:!1,...f!==void 0?{thickness:f}:{},...d!==void 0?{size:d}:{}},p=[...c({partName:"ticks",mark:h,positionPrefix:"lower",extraEncoding:u}),...c({partName:"ticks",mark:h,positionPrefix:"upper",extraEncoding:u}),...c({partName:"rule",mark:{type:"rule",ariaRoleDescription:"errorbar",...f!==void 0?{size:f}:{}},positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:u})];return{...l,transform:n,...p.length>1?{layer:p}:{...p[0]}}}function JIe(e,t){const{encoding:n}=e;if(ZIe(n))return{orient:gse(e,t),inputType:"raw"};const r=e8e(n),i=t8e(n),o=n.x,s=n.y;if(r){if(i)throw new Error(`${t} cannot be both type aggregated-upper-lower and aggregated-error`);const a=n.x2,l=n.y2;if(Qe(a)&&Qe(l))throw new Error(`${t} cannot have both x2 and y2`);if(Qe(a)){if(Vc(o))return{orient:"horizontal",inputType:"aggregated-upper-lower"};throw new Error(`Both x and x2 have to be quantitative in ${t}`)}else if(Qe(l)){if(Vc(s))return{orient:"vertical",inputType:"aggregated-upper-lower"};throw new Error(`Both y and y2 have to be quantitative in ${t}`)}throw new Error("No ranged axis")}else{const a=n.xError,l=n.xError2,u=n.yError,c=n.yError2;if(Qe(l)&&!Qe(a))throw new Error(`${t} cannot have xError2 without xError`);if(Qe(c)&&!Qe(u))throw new Error(`${t} cannot have yError2 without yError`);if(Qe(a)&&Qe(u))throw new Error(`${t} cannot have both xError and yError with both are quantiative`);if(Qe(a)){if(Vc(o))return{orient:"horizontal",inputType:"aggregated-error"};throw new Error("All x, xError, and xError2 (if exist) have to be quantitative")}else if(Qe(u)){if(Vc(s))return{orient:"vertical",inputType:"aggregated-error"};throw new Error("All y, yError, and yError2 (if exist) have to be quantitative")}throw new Error("No ranged axis")}}function ZIe(e){return(Qe(e.x)||Qe(e.y))&&!Qe(e.x2)&&!Qe(e.y2)&&!Qe(e.xError)&&!Qe(e.xError2)&&!Qe(e.yError)&&!Qe(e.yError2)}function e8e(e){return Qe(e.x2)||Qe(e.y2)}function t8e(e){return Qe(e.xError)||Qe(e.xError2)||Qe(e.yError)||Qe(e.yError2)}function xse(e,t,n){const{mark:r,encoding:i,params:o,projection:s,...a}=e,l=El(r)?r:{type:r};o&&ue(foe(t));const{orient:u,inputType:c}=JIe(e,t),{continuousAxisChannelDef:f,continuousAxisChannelDef2:d,continuousAxisChannelDefError:h,continuousAxisChannelDefError2:p,continuousAxis:g}=pse(e,u,t),{errorBarSpecificAggregate:m,postAggregateCalculates:y,tooltipSummary:v,tooltipTitleWithFieldName:b}=n8e(l,f,d,h,p,c,t,n),{[g]:x,[g==="x"?"x2":"y2"]:w,[g==="x"?"xError":"yError"]:E,[g==="x"?"xError2":"yError2"]:S,...k}=i,{bins:$,timeUnits:F,aggregate:P,groupby:j,encoding:D}=fse(k,n),L=[...P,...m],A=c!=="raw"?[]:j,O=VF(v,f,D,b);return{transform:[...a.transform??[],...$,...F,...L.length===0?[]:[{aggregate:L,groupby:A}],...y],groupby:A,continuousAxisChannelDef:f,continuousAxis:g,encodingWithoutContinuousAxis:D,ticksOrient:u==="vertical"?"horizontal":"vertical",markDef:l,outerSpec:a,tooltipEncoding:O}}function n8e(e,t,n,r,i,o,s,a){let l=[],u=[];const c=t.field;let f,d=!1;if(o==="raw"){const h=e.center?e.center:e.extent?e.extent==="iqr"?"median":"mean":a.errorbar.center,p=e.extent?e.extent:h==="mean"?"stderr":"iqr";if(h==="median"!=(p==="iqr")&&ue(dLe(h,p,s)),p==="stderr"||p==="stdev")l=[{op:p,field:c,as:`extent_${c}`},{op:h,field:c,as:`center_${c}`}],u=[{calculate:`datum["center_${c}"] + datum["extent_${c}"]`,as:`upper_${c}`},{calculate:`datum["center_${c}"] - datum["extent_${c}"]`,as:`lower_${c}`}],f=[{fieldPrefix:"center_",titlePrefix:vx(h)},{fieldPrefix:"upper_",titlePrefix:fV(h,p,"+")},{fieldPrefix:"lower_",titlePrefix:fV(h,p,"-")}],d=!0;else{let g,m,y;p==="ci"?(g="mean",m="ci0",y="ci1"):(g="median",m="q1",y="q3"),l=[{op:m,field:c,as:`lower_${c}`},{op:y,field:c,as:`upper_${c}`},{op:g,field:c,as:`center_${c}`}],f=[{fieldPrefix:"upper_",titlePrefix:Lg({field:c,aggregate:y,type:"quantitative"},a,{allowDisabling:!1})},{fieldPrefix:"lower_",titlePrefix:Lg({field:c,aggregate:m,type:"quantitative"},a,{allowDisabling:!1})},{fieldPrefix:"center_",titlePrefix:Lg({field:c,aggregate:g,type:"quantitative"},a,{allowDisabling:!1})}]}}else{(e.center||e.extent)&&ue(fLe(e.center,e.extent)),o==="aggregated-upper-lower"?(f=[],u=[{calculate:`datum["${n.field}"]`,as:`upper_${c}`},{calculate:`datum["${c}"]`,as:`lower_${c}`}]):o==="aggregated-error"&&(f=[{fieldPrefix:"",titlePrefix:c}],u=[{calculate:`datum["${c}"] + datum["${r.field}"]`,as:`upper_${c}`}],i?u.push({calculate:`datum["${c}"] + datum["${i.field}"]`,as:`lower_${c}`}):u.push({calculate:`datum["${c}"] - datum["${r.field}"]`,as:`lower_${c}`}));for(const h of u)f.push({fieldPrefix:h.as.substring(0,6),titlePrefix:Ah(Ah(h.calculate,'datum["',""),'"]',"")})}return{postAggregateCalculates:u,errorBarSpecificAggregate:l,tooltipSummary:f,tooltipTitleWithFieldName:d}}function fV(e,t,n){return`${vx(e)} ${n} ${t}`}const uI="errorband",r8e=["band","borders"],i8e=new p$(uI,wse);function wse(e,{config:t}){e={...e,encoding:g$(e.encoding,t)};const{transform:n,continuousAxisChannelDef:r,continuousAxis:i,encodingWithoutContinuousAxis:o,markDef:s,outerSpec:a,tooltipEncoding:l}=xse(e,uI,t),u=s,c=aI(u,i,r,o,t.errorband),f=e.encoding.x!==void 0&&e.encoding.y!==void 0;let d={type:f?"area":"rect"},h={type:f?"line":"rule"};const p={...u.interpolate?{interpolate:u.interpolate}:{},...u.tension&&u.interpolate?{tension:u.tension}:{}};return f?(d={...d,...p,ariaRoleDescription:"errorband"},h={...h,...p,aria:!1}):u.interpolate?ue(nV("interpolate")):u.tension&&ue(nV("tension")),{...a,transform:n,layer:[...c({partName:"band",mark:d,positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:l}),...c({partName:"borders",mark:h,positionPrefix:"lower",extraEncoding:l}),...c({partName:"borders",mark:h,positionPrefix:"upper",extraEncoding:l})]}}const Sse={};function cI(e,t,n){const r=new p$(e,t);Sse[e]={normalizer:r,parts:n}}function o8e(){return se(Sse)}cI(kE,yse,GIe);cI(lI,bse,KIe);cI(uI,wse,r8e);const s8e=["gradientHorizontalMaxLength","gradientHorizontalMinLength","gradientVerticalMaxLength","gradientVerticalMinLength","unselectedOpacity"],Cse={titleAlign:"align",titleAnchor:"anchor",titleAngle:"angle",titleBaseline:"baseline",titleColor:"color",titleFont:"font",titleFontSize:"fontSize",titleFontStyle:"fontStyle",titleFontWeight:"fontWeight",titleLimit:"limit",titleLineHeight:"lineHeight",titleOrient:"orient",titlePadding:"offset"},Ese={labelAlign:"align",labelAnchor:"anchor",labelAngle:"angle",labelBaseline:"baseline",labelColor:"color",labelFont:"font",labelFontSize:"fontSize",labelFontStyle:"fontStyle",labelFontWeight:"fontWeight",labelLimit:"limit",labelLineHeight:"lineHeight",labelOrient:"orient",labelPadding:"offset"},a8e=se(Cse),l8e=se(Ese),u8e={header:1,headerRow:1,headerColumn:1,headerFacet:1},kse=se(u8e),_se=["size","shape","fill","stroke","strokeDash","strokeWidth","opacity"],c8e={gradientHorizontalMaxLength:200,gradientHorizontalMinLength:100,gradientVerticalMaxLength:200,gradientVerticalMinLength:64,unselectedOpacity:.35},f8e={aria:1,clipHeight:1,columnPadding:1,columns:1,cornerRadius:1,description:1,direction:1,fillColor:1,format:1,formatType:1,gradientLength:1,gradientOpacity:1,gradientStrokeColor:1,gradientStrokeWidth:1,gradientThickness:1,gridAlign:1,labelAlign:1,labelBaseline:1,labelColor:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labelSeparation:1,legendX:1,legendY:1,offset:1,orient:1,padding:1,rowPadding:1,strokeColor:1,symbolDash:1,symbolDashOffset:1,symbolFillColor:1,symbolLimit:1,symbolOffset:1,symbolOpacity:1,symbolSize:1,symbolStrokeColor:1,symbolStrokeWidth:1,symbolType:1,tickCount:1,tickMinStep:1,title:1,titleAlign:1,titleAnchor:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titleOrient:1,titlePadding:1,type:1,values:1,zindex:1},xa="_vgsid_",d8e={point:{on:"click",fields:[xa],toggle:"event.shiftKey",resolve:"global",clear:"dblclick"},interval:{on:"[pointerdown, window:pointerup] > window:pointermove!",encodings:["x","y"],translate:"[pointerdown, window:pointerup] > window:pointermove!",zoom:"wheel!",mark:{fill:"#333",fillOpacity:.125,stroke:"white"},resolve:"global",clear:"dblclick"}};function fI(e){return e==="legend"||!!(e!=null&&e.legend)}function r3(e){return fI(e)&&ve(e)}function dI(e){return!!(e!=null&&e.select)}function $se(e){const t=[];for(const n of e||[]){if(dI(n))continue;const{expr:r,bind:i,...o}=n;if(i&&r){const s={...o,bind:i,init:r};t.push(s)}else{const s={...o,...r?{update:r}:{},...i?{bind:i}:{}};t.push(s)}}return t}function h8e(e){return m$(e)||pI(e)||hI(e)}function hI(e){return le(e,"concat")}function m$(e){return le(e,"vconcat")}function pI(e){return le(e,"hconcat")}function Ase({step:e,offsetIsDiscrete:t}){return t?e.for??"offset":"position"}function kl(e){return le(e,"step")}function dV(e){return le(e,"view")||le(e,"width")||le(e,"height")}const hV=20,p8e={align:1,bounds:1,center:1,columns:1,spacing:1},g8e=se(p8e);function m8e(e,t,n){const r=n[t],i={},{spacing:o,columns:s}=r;o!==void 0&&(i.spacing=o),s!==void 0&&(c$(e)&&!_x(e.facet)||hI(e))&&(i.columns=s),m$(e)&&(i.columns=1);for(const a of g8e)if(e[a]!==void 0)if(a==="spacing"){const l=e[a];i[a]=St(l)?l:{row:l.row??o,column:l.column??o}}else i[a]=e[a];return i}function WF(e,t){return e[t]??e[t==="width"?"continuousWidth":"continuousHeight"]}function HF(e,t){const n=_E(e,t);return kl(n)?n.step:Tse}function _E(e,t){const n=e[t]??e[t==="width"?"discreteWidth":"discreteHeight"];return jn(n,{step:e.step})}const Tse=20,y8e={continuousWidth:200,continuousHeight:200,step:Tse},v8e={background:"white",padding:5,timeFormat:"%b %d, %Y",countTitle:"Count of Records",view:y8e,mark:uIe,arc:{},area:{},bar:hIe,circle:{},geoshape:{},image:{},line:{},point:{},rect:YL,rule:{color:"black"},square:{},text:{color:"black"},tick:pIe,trail:{},boxplot:{size:14,extent:1.5,box:{},median:{color:"white"},outliers:{},rule:{},ticks:null},errorbar:{center:"mean",rule:!0,ticks:!1},errorband:{band:{opacity:.3},borders:!1},scale:WLe,projection:{},legend:c8e,header:{titlePadding:10,labelPadding:10},headerColumn:{},headerRow:{},headerFacet:{},selection:d8e,style:{},title:{},facet:{spacing:hV},concat:{spacing:hV},normalizedNumberFormat:".0%"},ql=["#4c78a8","#f58518","#e45756","#72b7b2","#54a24b","#eeca3b","#b279a2","#ff9da6","#9d755d","#bab0ac"],pV={text:11,guideLabel:10,guideTitle:11,groupTitle:13,groupSubtitle:12},gV={blue:ql[0],orange:ql[1],red:ql[2],teal:ql[3],green:ql[4],yellow:ql[5],purple:ql[6],pink:ql[7],brown:ql[8],gray0:"#000",gray1:"#111",gray2:"#222",gray3:"#333",gray4:"#444",gray5:"#555",gray6:"#666",gray7:"#777",gray8:"#888",gray9:"#999",gray10:"#aaa",gray11:"#bbb",gray12:"#ccc",gray13:"#ddd",gray14:"#eee",gray15:"#fff"};function b8e(e={}){return{signals:[{name:"color",value:ve(e)?{...gV,...e}:gV}],mark:{color:{signal:"color.blue"}},rule:{color:{signal:"color.gray0"}},text:{color:{signal:"color.gray0"}},style:{"guide-label":{fill:{signal:"color.gray0"}},"guide-title":{fill:{signal:"color.gray0"}},"group-title":{fill:{signal:"color.gray0"}},"group-subtitle":{fill:{signal:"color.gray0"}},cell:{stroke:{signal:"color.gray8"}}},axis:{domainColor:{signal:"color.gray13"},gridColor:{signal:"color.gray8"},tickColor:{signal:"color.gray13"}},range:{category:[{signal:"color.blue"},{signal:"color.orange"},{signal:"color.red"},{signal:"color.teal"},{signal:"color.green"},{signal:"color.yellow"},{signal:"color.purple"},{signal:"color.pink"},{signal:"color.brown"},{signal:"color.grey8"}]}}}function x8e(e){return{signals:[{name:"fontSize",value:ve(e)?{...pV,...e}:pV}],text:{fontSize:{signal:"fontSize.text"}},style:{"guide-label":{fontSize:{signal:"fontSize.guideLabel"}},"guide-title":{fontSize:{signal:"fontSize.guideTitle"}},"group-title":{fontSize:{signal:"fontSize.groupTitle"}},"group-subtitle":{fontSize:{signal:"fontSize.groupSubtitle"}}}}}function w8e(e){return{text:{font:e},style:{"guide-label":{font:e},"guide-title":{font:e},"group-title":{font:e},"group-subtitle":{font:e}}}}function Rse(e){const t=se(e||{}),n={};for(const r of t){const i=e[r];n[r]=Rx(i)?ioe(i):Co(i)}return n}function S8e(e){const t=se(e),n={};for(const r of t)n[r]=Rse(e[r]);return n}const C8e=[...zoe,...ase,...kse,"background","padding","legend","lineBreak","scale","style","title","view"];function Fse(e={}){const{color:t,font:n,fontSize:r,selection:i,...o}=e,s=w0({},Ge(v8e),n?w8e(n):{},t?b8e(t):{},r?x8e(r):{},o||{});i&&S0(s,"selection",i,!0);const a=eo(s,C8e);for(const l of["background","lineBreak","padding"])s[l]&&(a[l]=Co(s[l]));for(const l of zoe)s[l]&&(a[l]=$r(s[l]));for(const l of ase)s[l]&&(a[l]=Rse(s[l]));for(const l of kse)s[l]&&(a[l]=$r(s[l]));if(s.legend&&(a.legend=$r(s.legend)),s.scale){const{invalid:l,...u}=s.scale,c=$r(l,{level:1});a.scale={...$r(u),...se(c).length>0?{invalid:c}:{}}}return s.style&&(a.style=S8e(s.style)),s.title&&(a.title=$r(s.title)),s.view&&(a.view=$r(s.view)),a}const E8e=new Set(["view",...rIe]),k8e=["color","fontSize","background","padding","facet","concat","numberFormat","numberFormatType","normalizedNumberFormat","normalizedNumberFormatType","timeFormat","countTitle","header","axisQuantitative","axisTemporal","axisDiscrete","axisPoint","axisXBand","axisXPoint","axisXDiscrete","axisXQuantitative","axisXTemporal","axisYBand","axisYPoint","axisYDiscrete","axisYQuantitative","axisYTemporal","scale","selection","overlay"],_8e={view:["continuousWidth","continuousHeight","discreteWidth","discreteHeight","step"],...lIe};function $8e(e){e=Ge(e);for(const t of k8e)delete e[t];if(e.axis)for(const t in e.axis)Rx(e.axis[t])&&delete e.axis[t];if(e.legend)for(const t of s8e)delete e.legend[t];if(e.mark){for(const t of iV)delete e.mark[t];e.mark.tooltip&&ve(e.mark.tooltip)&&delete e.mark.tooltip}e.params&&(e.signals=(e.signals||[]).concat($se(e.params)),delete e.params);for(const t of E8e){for(const r of iV)delete e[t][r];const n=_8e[t];if(n)for(const r of n)delete e[t][r];T8e(e,t)}for(const t of o8e())delete e[t];A8e(e);for(const t in e)ve(e[t])&&Ht(e[t])&&delete e[t];return Ht(e)?void 0:e}function A8e(e){const{titleMarkConfig:t,subtitleMarkConfig:n,subtitle:r}=roe(e.title);Ht(t)||(e.style["group-title"]={...e.style["group-title"],...t}),Ht(n)||(e.style["group-subtitle"]={...e.style["group-subtitle"],...n}),Ht(r)?delete e.title:e.title=r}function T8e(e,t,n,r){const i=e[t];t==="view"&&(n="cell");const o={...i,...e.style[n??t]};Ht(o)||(e.style[n??t]=o),delete e[t]}function y$(e){return le(e,"layer")}function R8e(e){return le(e,"repeat")}function F8e(e){return!te(e.repeat)&&le(e.repeat,"layer")}class gI{map(t,n){return c$(t)?this.mapFacet(t,n):R8e(t)?this.mapRepeat(t,n):pI(t)?this.mapHConcat(t,n):m$(t)?this.mapVConcat(t,n):hI(t)?this.mapConcat(t,n):this.mapLayerOrUnit(t,n)}mapLayerOrUnit(t,n){if(y$(t))return this.mapLayer(t,n);if(Wu(t))return this.mapUnit(t,n);throw new Error(OL(t))}mapLayer(t,n){return{...t,layer:t.layer.map(r=>this.mapLayerOrUnit(r,n))}}mapHConcat(t,n){return{...t,hconcat:t.hconcat.map(r=>this.map(r,n))}}mapVConcat(t,n){return{...t,vconcat:t.vconcat.map(r=>this.map(r,n))}}mapConcat(t,n){const{concat:r,...i}=t;return{...i,concat:r.map(o=>this.map(o,n))}}mapFacet(t,n){return{...t,spec:this.map(t.spec,n)}}mapRepeat(t,n){return{...t,spec:this.map(t.spec,n)}}}const O8e={zero:1,center:1,normalize:1};function P8e(e){return Se(O8e,e)}const D8e=new Set([Noe,s$,o$,bE,l$,GL,XL,a$,Loe,qL]),M8e=new Set([s$,o$,Noe]);function Up(e){return ce(e)&&Um(e)==="quantitative"&&!e.bin}function mV(e,t,{orient:n,type:r}){const i=t==="x"?"y":"radius",o=t==="x"&&["bar","area"].includes(r),s=e[t],a=e[i];if(ce(s)&&ce(a))if(Up(s)&&Up(a)){if(s.stack)return t;if(a.stack)return i;const l=ce(s)&&!!s.aggregate,u=ce(a)&&!!a.aggregate;if(l!==u)return l?t:i;if(o){if(n==="vertical")return i;if(n==="horizontal")return t}}else{if(Up(s))return t;if(Up(a))return i}else{if(Up(s))return o&&n==="vertical"?void 0:t;if(Up(a))return o&&n==="horizontal"?void 0:i}}function N8e(e){switch(e){case"x":return"y";case"y":return"x";case"theta":return"radius";case"radius":return"theta"}}function Ose(e,t){var g,m;const n=El(e)?e:{type:e},r=n.type;if(!D8e.has(r))return null;const i=mV(t,"x",n)||mV(t,"theta",n);if(!i)return null;const o=t[i],s=ce(o)?ye(o,{}):void 0,a=N8e(i),l=[],u=new Set;if(t[a]){const y=t[a],v=ce(y)?ye(y,{}):void 0;v&&v!==s&&(l.push(a),u.add(v))}const c=a==="x"?"xOffset":"yOffset",f=t[c],d=ce(f)?ye(f,{}):void 0;d&&d!==s&&(l.push(c),u.add(d));const h=GMe.reduce((y,v)=>{if(v!=="tooltip"&&ih(t,v)){const b=t[v];for(const x of xe(b)){const w=ba(x);if(w.aggregate)continue;const E=ye(w,{});(!E||!u.has(E))&&y.push({channel:v,fieldDef:w})}}return y},[]);let p;return o.stack!==void 0?Ff(o.stack)?p=o.stack?"zero":null:p=o.stack:M8e.has(r)&&(p="zero"),!p||!P8e(p)||cse(t)&&h.length===0?null:((g=o==null?void 0:o.scale)!=null&&g.type&&((m=o==null?void 0:o.scale)==null?void 0:m.type)!==Tr.LINEAR&&o!=null&&o.stack&&ue(lLe(o.scale.type)),Qe(t[Nl(i)])?(o.stack!==void 0&&ue(aLe(i)),null):(ce(o)&&o.aggregate&&!oNe.has(o.aggregate)&&ue(uLe(o.aggregate)),{groupbyChannels:l,groupbyFields:u,fieldChannel:i,impute:o.impute===null?!1:Wf(r),stackBy:h,offset:p}))}function Pse(e,t,n){const r=$r(e),i=Wt("orient",r,n);if(r.orient=B8e(r.type,t,i),i!==void 0&&i!==r.orient&&ue(HNe(r.orient,i)),r.type==="bar"&&r.orient){const l=Wt("cornerRadiusEnd",r,n);if(l!==void 0){const u=r.orient==="horizontal"&&t.x2||r.orient==="vertical"&&t.y2?["cornerRadius"]:fIe[r.orient];for(const c of u)r[c]=l;r.cornerRadiusEnd!==void 0&&delete r.cornerRadiusEnd}}const o=Wt("opacity",r,n),s=Wt("fillOpacity",r,n);return o===void 0&&s===void 0&&(r.opacity=I8e(r.type,t)),Wt("cursor",r,n)===void 0&&(r.cursor=L8e(r,t,n)),r}function L8e(e,t,n){return t.href||e.href||Wt("href",e,n)?"pointer":e.cursor}function I8e(e,t){if(it([l$,qL,GL,XL],e)&&!cse(t))return .7}function z8e(e,t,{graticule:n}){if(n)return!1;const r=Cl("filled",e,t),i=e.type;return jn(r,i!==l$&&i!==a$&&i!==bE)}function B8e(e,t,n){switch(e){case l$:case GL:case XL:case Loe:case tIe:case eIe:return}const{x:r,y:i,x2:o,y2:s}=t;switch(e){case s$:if(ce(r)&&(_r(r.bin)||ce(i)&&i.aggregate&&!r.aggregate))return"vertical";if(ce(i)&&(_r(i.bin)||ce(r)&&r.aggregate&&!i.aggregate))return"horizontal";if(s||o){if(n)return n;if(!o)return(ce(r)&&r.type===Fh&&!Jt(r.bin)||wE(r))&&ce(i)&&_r(i.bin)?"horizontal":"vertical";if(!s)return(ce(i)&&i.type===Fh&&!Jt(i.bin)||wE(i))&&ce(r)&&_r(r.bin)?"vertical":"horizontal"}case bE:if(o&&!(ce(r)&&_r(r.bin))&&s&&!(ce(i)&&_r(i.bin)))return;case o$:if(s)return ce(i)&&_r(i.bin)?"horizontal":"vertical";if(o)return ce(r)&&_r(r.bin)?"vertical":"horizontal";if(e===bE){if(r&&!i)return"vertical";if(i&&!r)return"horizontal"}case a$:case qL:{const a=lV(r),l=lV(i);if(n)return n;if(a&&!l)return e!=="tick"?"horizontal":"vertical";if(!a&&l)return e!=="tick"?"vertical":"horizontal";if(a&&l)return"vertical";{const u=Mi(r)&&r.type===Bm,c=Mi(i)&&i.type===Bm;if(u&&!c)return"vertical";if(!u&&c)return"horizontal"}return}}return"vertical"}function j8e(e){const{point:t,line:n,...r}=e;return se(r).length>1?r:r.type}function U8e(e){for(const t of["line","area","rule","trail"])e[t]&&(e={...e,[t]:eo(e[t],["point","line"])});return e}function i3(e,t={},n){return e.point==="transparent"?{opacity:0}:e.point?ve(e.point)?e.point:{}:e.point!==void 0?null:t.point||n.shape?ve(t.point)?t.point:{}:void 0}function yV(e,t={}){return e.line?e.line===!0?{}:e.line:e.line!==void 0?null:t.line?t.line===!0?{}:t.line:void 0}class V8e{constructor(){this.name="path-overlay"}hasMatchingType(t,n){if(Wu(t)){const{mark:r,encoding:i}=t,o=El(r)?r:{type:r};switch(o.type){case"line":case"rule":case"trail":return!!i3(o,n[o.type],i);case"area":return!!i3(o,n[o.type],i)||!!yV(o,n[o.type])}}return!1}run(t,n,r){const{config:i}=n,{params:o,projection:s,mark:a,name:l,encoding:u,...c}=t,f=g$(u,i),d=El(a)?a:{type:a},h=i3(d,i[d.type],f),p=d.type==="area"&&yV(d,i[d.type]),g=[{name:l,...o?{params:o}:{},mark:j8e({...d.type==="area"&&d.opacity===void 0&&d.fillOpacity===void 0?{opacity:.7}:{},...d}),encoding:eo(f,["shape"])}],m=Ose(Pse(d,f,i),f);let y=f;if(m){const{fieldChannel:v,offset:b}=m;y={...f,[v]:{...f[v],...b?{stack:b}:{}}}}return y=eo(y,["y2","x2"]),p&&g.push({...s?{projection:s}:{},mark:{type:"line",...Mm(d,["clip","interpolate","tension","tooltip"]),...p},encoding:y}),h&&g.push({...s?{projection:s}:{},mark:{type:"point",opacity:1,filled:!0,...Mm(d,["clip","tooltip"]),...h},encoding:y}),r({...c,layer:g},{...n,config:U8e(i)})}}function W8e(e,t){return t?_x(e)?Mse(e,t):Dse(e,t):e}function o3(e,t){return t?Mse(e,t):e}function qF(e,t,n){const r=t[e];if(_Ie(r)){if(r.repeat in n)return{...t,[e]:n[r.repeat]};ue(kNe(r.repeat));return}return t}function Dse(e,t){if(e=qF("field",e,t),e!==void 0){if(e===null)return null;if(tI(e)&&vu(e.sort)){const n=qF("field",e.sort,t);e={...e,...n?{sort:n}:{}}}return e}}function vV(e,t){if(ce(e))return Dse(e,t);{const n=qF("datum",e,t);return n!==e&&!n.type&&(n.type="nominal"),n}}function bV(e,t){if(Qe(e)){const n=vV(e,t);if(n)return n;if($x(e))return{condition:e.condition}}else{if(Ax(e)){const n=vV(e.condition,t);if(n)return{...e,condition:n};{const{condition:r,...i}=e;return i}}return e}}function Mse(e,t){const n={};for(const r in e)if(le(e,r)){const i=e[r];if(te(i))n[r]=i.map(o=>bV(o,t)).filter(o=>o);else{const o=bV(i,t);o!==void 0&&(n[r]=o)}}return n}class H8e{constructor(){this.name="RuleForRangedLine"}hasMatchingType(t){if(Wu(t)){const{encoding:n,mark:r}=t;if(r==="line"||El(r)&&r.type==="line")for(const i of WMe){const o=sp(i),s=n[o];if(n[i]&&(ce(s)&&!_r(s.bin)||Il(s)))return!0}}return!1}run(t,n,r){const{encoding:i,mark:o}=t;return ue(WNe(!!i.x2,!!i.y2)),r({...t,mark:ve(o)?{...o,type:"rule"}:"rule"},n)}}class q8e extends gI{constructor(){super(...arguments),this.nonFacetUnitNormalizers=[XIe,QIe,i8e,new V8e,new H8e]}map(t,n){if(Wu(t)){const r=ih(t.encoding,mu),i=ih(t.encoding,yu),o=ih(t.encoding,Y_);if(r||i||o)return this.mapFacetedUnit(t,n)}return super.map(t,n)}mapUnit(t,n){const{parentEncoding:r,parentProjection:i}=n,o=o3(t.encoding,n.repeater),s={...t,...t.name?{name:[n.repeaterPrefix,t.name].filter(l=>l).join("_")}:{},...o?{encoding:o}:{}};if(r||i)return this.mapUnitWithParentEncodingOrProjection(s,n);const a=this.mapLayerOrUnit.bind(this);for(const l of this.nonFacetUnitNormalizers)if(l.hasMatchingType(s,n.config))return l.run(s,n,a);return s}mapRepeat(t,n){return F8e(t)?this.mapLayerRepeat(t,n):this.mapNonLayerRepeat(t,n)}mapLayerRepeat(t,n){const{repeat:r,spec:i,...o}=t,{row:s,column:a,layer:l}=r,{repeater:u={},repeaterPrefix:c=""}=n;return s||a?this.mapRepeat({...t,repeat:{...s?{row:s}:{},...a?{column:a}:{}},spec:{repeat:{layer:l},spec:i}},n):{...o,layer:l.map(f=>{const d={...u,layer:f},h=`${(i.name?`${i.name}_`:"")+c}child__layer_${pn(f)}`,p=this.mapLayerOrUnit(i,{...n,repeater:d,repeaterPrefix:h});return p.name=h,p})}}mapNonLayerRepeat(t,n){const{repeat:r,spec:i,data:o,...s}=t;!te(r)&&t.columns&&(t=eo(t,["columns"]),ue(JU("repeat")));const a=[],{repeater:l={},repeaterPrefix:u=""}=n,c=!te(r)&&r.row||[l?l.row:null],f=!te(r)&&r.column||[l?l.column:null],d=te(r)&&r||[l?l.repeat:null];for(const p of d)for(const g of c)for(const m of f){const y={repeat:p,row:g,column:m,layer:l.layer},v=(i.name?`${i.name}_`:"")+u+"child__"+(te(r)?`${pn(p)}`:(r.row?`row_${pn(g)}`:"")+(r.column?`column_${pn(m)}`:"")),b=this.map(i,{...n,repeater:y,repeaterPrefix:v});b.name=v,a.push(eo(b,["data"]))}const h=te(r)?t.columns:r.column?r.column.length:1;return{data:i.data??o,align:"all",...s,columns:h,concat:a}}mapFacet(t,n){const{facet:r}=t;return _x(r)&&t.columns&&(t=eo(t,["columns"]),ue(JU("facet"))),super.mapFacet(t,n)}mapUnitWithParentEncodingOrProjection(t,n){const{encoding:r,projection:i}=t,{parentEncoding:o,parentProjection:s,config:a}=n,l=wV({parentProjection:s,projection:i}),u=xV({parentEncoding:o,encoding:o3(r,n.repeater)});return this.mapUnit({...t,...l?{projection:l}:{},...u?{encoding:u}:{}},{config:a})}mapFacetedUnit(t,n){const{row:r,column:i,facet:o,...s}=t.encoding,{mark:a,width:l,projection:u,height:c,view:f,params:d,encoding:h,...p}=t,{facetMapping:g,layout:m}=this.getFacetMappingAndLayout({row:r,column:i,facet:o},n),y=o3(s,n.repeater);return this.mapFacet({...p,...m,facet:g,spec:{...l?{width:l}:{},...c?{height:c}:{},...f?{view:f}:{},...u?{projection:u}:{},mark:a,encoding:y,...d?{params:d}:{}}},n)}getFacetMappingAndLayout(t,n){const{row:r,column:i,facet:o}=t;if(r||i){o&&ue(UNe([...r?[mu]:[],...i?[yu]:[]]));const s={},a={};for(const l of[mu,yu]){const u=t[l];if(u){const{align:c,center:f,spacing:d,columns:h,...p}=u;s[l]=p;for(const g of["align","center","spacing"])u[g]!==void 0&&(a[g]??(a[g]={}),a[g][l]=u[g])}}return{facetMapping:s,layout:a}}else{const{align:s,center:a,spacing:l,columns:u,...c}=o;return{facetMapping:W8e(c,n.repeater),layout:{...s?{align:s}:{},...a?{center:a}:{},...l?{spacing:l}:{},...u?{columns:u}:{}}}}}mapLayer(t,{parentEncoding:n,parentProjection:r,...i}){const{encoding:o,projection:s,...a}=t,l={...i,parentEncoding:xV({parentEncoding:n,encoding:o,layer:!0}),parentProjection:wV({parentProjection:r,projection:s})};return super.mapLayer({...a,...t.name?{name:[l.repeaterPrefix,t.name].filter(u=>u).join("_")}:{}},l)}}function xV({parentEncoding:e,encoding:t={},layer:n}){let r={};if(e){const i=new Set([...se(e),...se(t)]);for(const o of i){const s=t[o],a=e[o];if(Qe(s)){const l={...a,...s};r[o]=l}else Ax(s)?r[o]={...s,condition:{...a,...s.condition}}:s||s===null?r[o]=s:(n||va(a)||Fe(a)||Qe(a)||te(a))&&(r[o]=a)}}else r=t;return!r||Ht(r)?void 0:r}function wV(e){const{parentProjection:t,projection:n}=e;return t&&n&&ue(FNe({parentProjection:t,projection:n})),n??t}function mI(e){return le(e,"filter")}function G8e(e){return le(e,"stop")}function Nse(e){return le(e,"lookup")}function X8e(e){return le(e,"data")}function Y8e(e){return le(e,"param")}function K8e(e){return le(e,"pivot")}function Q8e(e){return le(e,"density")}function J8e(e){return le(e,"quantile")}function Z8e(e){return le(e,"regression")}function e9e(e){return le(e,"loess")}function t9e(e){return le(e,"sample")}function n9e(e){return le(e,"window")}function r9e(e){return le(e,"joinaggregate")}function i9e(e){return le(e,"flatten")}function o9e(e){return le(e,"calculate")}function Lse(e){return le(e,"bin")}function s9e(e){return le(e,"impute")}function a9e(e){return le(e,"timeUnit")}function l9e(e){return le(e,"aggregate")}function u9e(e){return le(e,"stack")}function c9e(e){return le(e,"fold")}function f9e(e){return le(e,"extent")&&!le(e,"density")&&!le(e,"regression")}function d9e(e){return e.map(t=>mI(t)?{filter:Mg(t.filter,LLe)}:t)}class h9e extends gI{map(t,n){return n.emptySelections??(n.emptySelections={}),n.selectionPredicates??(n.selectionPredicates={}),t=SV(t,n),super.map(t,n)}mapLayerOrUnit(t,n){if(t=SV(t,n),t.encoding){const r={};for(const[i,o]of bf(t.encoding))r[i]=Ise(o,n);t={...t,encoding:r}}return super.mapLayerOrUnit(t,n)}mapUnit(t,n){const{selection:r,...i}=t;return r?{...i,params:bf(r).map(([o,s])=>{const{init:a,bind:l,empty:u,...c}=s;c.type==="single"?(c.type="point",c.toggle=!1):c.type==="multi"&&(c.type="point"),n.emptySelections[o]=u!=="none";for(const f of Mr(n.selectionPredicates[o]??{}))f.empty=u!=="none";return{name:o,value:a,select:c,bind:l}})}:t}}function SV(e,t){const{transform:n,...r}=e;if(n){const i=n.map(o=>{if(mI(o))return{filter:GF(o,t)};if(Lse(o)&&ap(o.bin))return{...o,bin:zse(o.bin)};if(Nse(o)){const{selection:s,...a}=o.from;return s?{...o,from:{param:s,...a}}:o}return o});return{...r,transform:i}}return e}function Ise(e,t){var r,i;const n=Ge(e);if(ce(n)&&ap(n.bin)&&(n.bin=zse(n.bin)),cp(n)&&((i=(r=n.scale)==null?void 0:r.domain)!=null&&i.selection)){const{selection:o,...s}=n.scale.domain;n.scale.domain={...s,...o?{param:o}:{}}}if($x(n))if(te(n.condition))n.condition=n.condition.map(o=>{const{selection:s,param:a,test:l,...u}=o;return a?o:{...u,test:GF(o,t)}});else{const{selection:o,param:s,test:a,...l}=Ise(n.condition,t);n.condition=s?n.condition:{...l,test:GF(n.condition,t)}}return n}function zse(e){const t=e.extent;if(t!=null&&t.selection){const{selection:n,...r}=t;return{...e,extent:{...r,param:n}}}return e}function GF(e,t){const n=r=>Mg(r,i=>{var o;const s=t.emptySelections[i]??!0,a={param:i,empty:s};return(o=t.selectionPredicates)[i]??(o[i]=[]),t.selectionPredicates[i].push(a),a});return e.selection?n(e.selection):Mg(e.test||e.filter,r=>r.selection?n(r.selection):r)}class XF extends gI{map(t,n){const r=n.selections??[];if(t.params&&!Wu(t)){const i=[];for(const o of t.params)dI(o)?r.push(o):i.push(o);t.params=i}return n.selections=r,super.map(t,n)}mapUnit(t,n){const r=n.selections;if(!r||!r.length)return t;const i=(n.path??[]).concat(t.name),o=[];for(const s of r)if(!s.views||!s.views.length)o.push(s);else for(const a of s.views)(we(a)&&(a===t.name||i.includes(a))||te(a)&&a.map(l=>i.indexOf(l)).every((l,u,c)=>l!==-1&&(u===0||l>c[u-1])))&&o.push(s);return o.length&&(t.params=o),t}}for(const e of["mapFacet","mapRepeat","mapHConcat","mapVConcat","mapLayer"]){const t=XF.prototype[e];XF.prototype[e]=function(n,r){return t.call(this,n,p9e(n,r))}}function p9e(e,t){return e.name?{...t,path:(t.path??[]).concat(e.name)}:t}function Bse(e,t){t===void 0&&(t=Fse(e.config));const n=v9e(e,t),{width:r,height:i}=e,o=b9e(n,{width:r,height:i,autosize:e.autosize},t);return{...n,...o?{autosize:o}:{}}}const g9e=new q8e,m9e=new h9e,y9e=new XF;function v9e(e,t={}){const n={config:t};return y9e.map(g9e.map(m9e.map(e,n),n),n)}function CV(e){return we(e)?{type:e}:e??{}}function b9e(e,t,n){let{width:r,height:i}=t;const o=Wu(e)||y$(e),s={};o?r=="container"&&i=="container"?(s.type="fit",s.contains="padding"):r=="container"?(s.type="fit-x",s.contains="padding"):i=="container"&&(s.type="fit-y",s.contains="padding"):(r=="container"&&(ue(XU("width")),r=void 0),i=="container"&&(ue(XU("height")),i=void 0));const a={type:"pad",...s,...n?CV(n.autosize):{},...CV(e.autosize)};if(a.type==="fit"&&!o&&(ue(pNe),a.type="pad"),r=="container"&&!(a.type=="fit"||a.type=="fit-x")&&ue(YU("width")),i=="container"&&!(a.type=="fit"||a.type=="fit-y")&&ue(YU("height")),!$o(a,{type:"pad"}))return a}function x9e(e){return["fit","fit-x","fit-y"].includes(e)}function w9e(e){return e?`fit-${e$(e)}`:"fit"}const S9e=["background","padding"];function EV(e,t){const n={};for(const r of S9e)e&&e[r]!==void 0&&(n[r]=Co(e[r]));return t&&(n.params=e.params),n}class Hu{constructor(t={},n={}){this.explicit=t,this.implicit=n}clone(){return new Hu(Ge(this.explicit),Ge(this.implicit))}combine(){return{...this.explicit,...this.implicit}}get(t){return jn(this.explicit[t],this.implicit[t])}getWithExplicit(t){return this.explicit[t]!==void 0?{explicit:!0,value:this.explicit[t]}:this.implicit[t]!==void 0?{explicit:!1,value:this.implicit[t]}:{explicit:!1,value:void 0}}setWithExplicit(t,{value:n,explicit:r}){n!==void 0&&this.set(t,n,r)}set(t,n,r){return delete this[r?"implicit":"explicit"][t],this[r?"explicit":"implicit"][t]=n,this}copyKeyFromSplit(t,{explicit:n,implicit:r}){n[t]!==void 0?this.set(t,n[t],!0):r[t]!==void 0&&this.set(t,r[t],!1)}copyKeyFromObject(t,n){n[t]!==void 0&&this.set(t,n[t],!0)}copyAll(t){for(const n of se(t.combine())){const r=t.getWithExplicit(n);this.setWithExplicit(n,r)}}}function Va(e){return{explicit:!0,value:e}}function vo(e){return{explicit:!1,value:e}}function jse(e){return(t,n,r,i)=>{const o=e(t.value,n.value);return o>0?t:o<0?n:v$(t,n,r,i)}}function v$(e,t,n,r){return e.explicit&&t.explicit&&ue(eLe(n,r,e.value,t.value)),e}function Sf(e,t,n,r,i=v$){return e===void 0||e.value===void 0?t:e.explicit&&!t.explicit?e:t.explicit&&!e.explicit?t:$o(e.value,t.value)?e:i(e,t,n,r)}class C9e extends Hu{constructor(t={},n={},r=!1){super(t,n),this.explicit=t,this.implicit=n,this.parseNothing=r}clone(){const t=super.clone();return t.parseNothing=this.parseNothing,t}}function Hm(e){return le(e,"url")}function Gv(e){return le(e,"values")}function Use(e){return le(e,"name")&&!Hm(e)&&!Gv(e)&&!Qc(e)}function Qc(e){return e&&(Vse(e)||Wse(e)||yI(e))}function Vse(e){return le(e,"sequence")}function Wse(e){return le(e,"sphere")}function yI(e){return le(e,"graticule")}var Fn;(function(e){e[e.Raw=0]="Raw",e[e.Main=1]="Main",e[e.Row=2]="Row",e[e.Column=3]="Column",e[e.Lookup=4]="Lookup",e[e.PreFilterInvalid=5]="PreFilterInvalid",e[e.PostFilterInvalid=6]="PostFilterInvalid"})(Fn||(Fn={}));function Hse({invalid:e,isPath:t}){switch(Boe(e,{isPath:t})){case"filter":return{marks:"exclude-invalid-values",scales:"exclude-invalid-values"};case"break-paths-show-domains":return{marks:t?"include-invalid-values":"exclude-invalid-values",scales:"include-invalid-values"};case"break-paths-filter-domains":return{marks:t?"include-invalid-values":"exclude-invalid-values",scales:"exclude-invalid-values"};case"show":return{marks:"include-invalid-values",scales:"include-invalid-values"}}}function E9e(e){const{marks:t,scales:n}=Hse(e);return t===n?Fn.Main:n==="include-invalid-values"?Fn.PreFilterInvalid:Fn.PostFilterInvalid}function qse(e){const{signals:t,hasLegend:n,index:r,...i}=e;return i.field=ks(i.field),i}function Dh(e,t=!0,n=ai){if(te(e)){const r=e.map(i=>Dh(i,t,n));return t?`[${r.join(", ")}]`:r}else if(up(e))return n(t?Rh(e):kLe(e));return t?n(qt(e)):e}function k9e(e,t){for(const n of Mr(e.component.selection??{})){const r=n.name;let i=`${r}${Cf}, ${n.resolve==="global"?"true":`{unit: ${oh(e)}}`}`;for(const o of S$)o.defined(n)&&(o.signals&&(t=o.signals(e,n,t)),o.modifyExpr&&(i=o.modifyExpr(e,n,i)));t.push({name:r+t7e,on:[{events:{signal:n.name+Cf},update:`modify(${de(n.name+Mh)}, ${i})`}]})}return vI(t)}function _9e(e,t){if(e.component.selection&&se(e.component.selection).length){const n=de(e.getName("cell"));t.unshift({name:"facet",value:{},on:[{events:Lf("pointermove","scope"),update:`isTuple(facet) ? facet : group(${n}).datum`}]})}return vI(t)}function $9e(e,t){let n=!1;for(const r of Mr(e.component.selection??{})){const i=r.name,o=de(i+Mh);if(t.filter(a=>a.name===i).length===0){const a=r.resolve==="global"?"union":r.resolve,l=r.type==="point"?", true, true)":")";t.push({name:r.name,update:`${cae}(${o}, ${de(a)}${l}`})}n=!0;for(const a of S$)a.defined(r)&&a.topLevelSignals&&(t=a.topLevelSignals(e,r,t))}return n&&t.filter(i=>i.name==="unit").length===0&&t.unshift({name:"unit",value:{},on:[{events:"pointermove",update:"isTuple(group()) ? group() : unit"}]}),vI(t)}function A9e(e,t){const n=[...t],r=oh(e,{escape:!1});for(const i of Mr(e.component.selection??{})){const o={name:i.name+Mh};if(i.project.hasSelectionId&&(o.transform=[{type:"collect",sort:{field:xa}}]),i.init){const a=i.project.items.map(qse);o.values=i.project.hasSelectionId?i.init.map(l=>({unit:r,[xa]:Dh(l,!1)[0]})):i.init.map(l=>({unit:r,fields:a,values:Dh(l,!1)}))}n.filter(a=>a.name===i.name+Mh).length||n.push(o)}return n}function Gse(e,t){for(const n of Mr(e.component.selection??{}))for(const r of S$)r.defined(n)&&r.marks&&(t=r.marks(e,n,t));return t}function T9e(e,t){for(const n of e.children)wn(n)&&(t=Gse(n,t));return t}function R9e(e,t,n,r){const i=gae(e,t.param,t);return{signal:ya(n.get("type"))&&te(r)&&r[0]>r[1]?`isValid(${i}) && reverse(${i})`:i}}function vI(e){return e.map(t=>(t.on&&!t.on.length&&delete t.on,t))}class jt{constructor(t,n){this.debugName=n,this._children=[],this._parent=null,t&&(this.parent=t)}clone(){throw new Error("Cannot clone node")}get parent(){return this._parent}set parent(t){this._parent=t,t&&t.addChild(this)}get children(){return this._children}numChildren(){return this._children.length}addChild(t,n){if(this._children.includes(t)){ue(ANe);return}n!==void 0?this._children.splice(n,0,t):this._children.push(t)}removeChild(t){const n=this._children.indexOf(t);return this._children.splice(n,1),n}remove(){let t=this._parent.removeChild(this);for(const n of this._children)n._parent=this._parent,this._parent.addChild(n,t++)}insertAsParentOf(t){const n=t.parent;n.removeChild(this),this.parent=n,t.parent=this}swapWithParent(){const t=this._parent,n=t.parent;for(const i of this._children)i.parent=t;this._children=[],t.removeChild(this);const r=t.parent.removeChild(t);this._parent=n,n.addChild(this,r),t.parent=this}}class to extends jt{clone(){const t=new this.constructor;return t.debugName=`clone_${this.debugName}`,t._source=this._source,t._name=`clone_${this._name}`,t.type=this.type,t.refCounts=this.refCounts,t.refCounts[t._name]=0,t}constructor(t,n,r,i){super(t,n),this.type=r,this.refCounts=i,this._source=this._name=n,this.refCounts&&!(this._name in this.refCounts)&&(this.refCounts[this._name]=0)}dependentFields(){return new Set}producedFields(){return new Set}hash(){return this._hash===void 0&&(this._hash=`Output ${jie()}`),this._hash}getSource(){return this.refCounts[this._name]++,this._source}isRequired(){return!!this.refCounts[this._name]}setSource(t){this._source=t}}function s3(e){return e.as!==void 0}function kV(e){return`${e}_end`}class fl extends jt{clone(){return new fl(null,Ge(this.timeUnits))}constructor(t,n){super(t),this.timeUnits=n}static makeFromEncoding(t,n){const r=n.reduceFieldDef((i,o,s)=>{const{field:a,timeUnit:l}=o;if(l){let u;if(Vf(l)){if(wn(n)){const{mark:c,markDef:f,config:d}=n,h=wf({fieldDef:o,markDef:f,config:d});(qv(c)||h)&&(u={timeUnit:sr(l),field:a})}}else u={as:ye(o,{forAs:!0}),field:a,timeUnit:l};if(wn(n)){const{mark:c,markDef:f,config:d}=n,h=wf({fieldDef:o,markDef:f,config:d});qv(c)&&Un(s)&&h!==.5&&(u.rectBandPosition=h)}u&&(i[ut(u)]=u)}return i},{});return Ht(r)?null:new fl(t,r)}static makeFromTransform(t,n){const{timeUnit:r,...i}={...n},o=sr(r),s={...i,timeUnit:o};return new fl(t,{[ut(s)]:s})}merge(t){this.timeUnits={...this.timeUnits};for(const n in t.timeUnits)this.timeUnits[n]||(this.timeUnits[n]=t.timeUnits[n]);for(const n of t.children)t.removeChild(n),n.parent=this;t.remove()}removeFormulas(t){const n={};for(const[r,i]of bf(this.timeUnits)){const o=s3(i)?i.as:`${i.field}_end`;t.has(o)||(n[r]=i)}this.timeUnits=n}producedFields(){return new Set(Mr(this.timeUnits).map(t=>s3(t)?t.as:kV(t.field)))}dependentFields(){return new Set(Mr(this.timeUnits).map(t=>t.field))}hash(){return`TimeUnit ${ut(this.timeUnits)}`}assemble(){const t=[];for(const n of Mr(this.timeUnits)){const{rectBandPosition:r}=n,i=sr(n.timeUnit);if(s3(n)){const{field:o,as:s}=n,{unit:a,utc:l,...u}=i,c=[s,`${s}_end`];t.push({field:ks(o),type:"timeunit",...a?{units:Cx(a)}:{},...l?{timezone:"utc"}:{},...u,as:c}),t.push(..._V(c,r,i))}else if(n){const{field:o}=n,s=o.replaceAll("\\.","."),a=Xse({timeUnit:i,field:s}),l=kV(s);t.push({type:"formula",expr:a,as:l}),t.push(..._V([s,l],r,i))}}return t}}const b$="offsetted_rect_start",x$="offsetted_rect_end";function Xse({timeUnit:e,field:t,reverse:n}){const{unit:r,utc:i}=e,o=Soe(r),{part:s,step:a}=_oe(o,e.step);return`${i?"utcOffset":"timeOffset"}('${s}', datum['${t}'], ${n?-a:a})`}function _V([e,t],n,r){if(n!==void 0&&n!==.5){const i=`datum['${e}']`,o=`datum['${t}']`;return[{type:"formula",expr:$V([Xse({timeUnit:r,field:e,reverse:!0}),i],n+.5),as:`${e}_${b$}`},{type:"formula",expr:$V([i,o],n+.5),as:`${e}_${x$}`}]}return[]}function $V([e,t],n){return`${1-n} * ${e} + ${n} * ${t}`}const Fx="_tuple_fields";class F9e{constructor(...t){this.items=t,this.hasChannel={},this.hasField={},this.hasSelectionId=!1}}const O9e={defined:()=>!0,parse:(e,t,n)=>{const r=t.name,i=t.project??(t.project=new F9e),o={},s={},a=new Set,l=(p,g)=>{const m=g==="visual"?p.channel:p.field;let y=pn(`${r}_${m}`);for(let v=1;a.has(y);v++)y=pn(`${r}_${m}_${v}`);return a.add(y),{[g]:y}},u=t.type,c=e.config.selection[u],f=n.value!==void 0?xe(n.value):null;let{fields:d,encodings:h}=ve(n.select)?n.select:{};if(!d&&!h&&f){for(const p of f)if(ve(p))for(const g of se(p))VMe(g)?(h||(h=[])).push(g):u==="interval"?(ue(ENe),h=c.encodings):(d??(d=[])).push(g)}!d&&!h&&(h=c.encodings,"fields"in c&&(d=c.fields));for(const p of h??[]){const g=e.fieldDef(p);if(g){let m=g.field;if(g.aggregate){ue(gNe(p,g.aggregate));continue}else if(!m){ue(QU(p));continue}if(g.timeUnit&&!Vf(g.timeUnit)){m=e.vgField(p);const y={timeUnit:g.timeUnit,as:m,field:g.field};s[ut(y)]=y}if(!o[m]){const y=u==="interval"&&Ll(p)&&ya(e.getScaleComponent(p).get("type"))?"R":g.bin?"R-RE":"E",v={field:m,channel:p,type:y,index:i.items.length};v.signals={...l(v,"data"),...l(v,"visual")},i.items.push(o[m]=v),i.hasField[m]=o[m],i.hasSelectionId=i.hasSelectionId||m===xa,Gie(p)?(v.geoChannel=p,v.channel=qie(p),i.hasChannel[v.channel]=o[m]):i.hasChannel[p]=o[m]}}else ue(QU(p))}for(const p of d??[]){if(i.hasField[p])continue;const g={type:"E",field:p,index:i.items.length};g.signals={...l(g,"data")},i.items.push(g),i.hasField[p]=g,i.hasSelectionId=i.hasSelectionId||p===xa}f&&(t.init=f.map(p=>i.items.map(g=>ve(p)?p[g.geoChannel||g.channel]!==void 0?p[g.geoChannel||g.channel]:p[g.field]:p))),Ht(s)||(i.timeUnit=new fl(null,s))},signals:(e,t,n)=>{const r=t.name+Fx;return n.filter(o=>o.name===r).length>0||t.project.hasSelectionId?n:n.concat({name:r,value:t.project.items.map(qse)})}},bu={defined:e=>e.type==="interval"&&e.resolve==="global"&&e.bind&&e.bind==="scales",parse:(e,t)=>{const n=t.scales=[];for(const r of t.project.items){const i=r.channel;if(!Ll(i))continue;const o=e.getScaleComponent(i),s=o?o.get("type"):void 0;if(s=="sequential"&&ue(bNe),!o||!ya(s)){ue(vNe);continue}o.set("selectionExtent",{param:t.name,field:r.field},!0),n.push(r)}},topLevelSignals:(e,t,n)=>{const r=t.scales.filter(s=>n.filter(a=>a.name===s.signals.data).length===0);if(!e.parent||AV(e)||r.length===0)return n;const i=n.find(s=>s.name===t.name);let o=i.update;if(o.includes(cae))i.update=`{${r.map(s=>`${de(ks(s.field))}: ${s.signals.data}`).join(", ")}}`;else{for(const s of r){const a=`${de(ks(s.field))}: ${s.signals.data}`;o.includes(a)||(o=`${o.substring(0,o.length-1)}, ${a}}`)}i.update=o}return n.concat(r.map(s=>({name:s.signals.data})))},signals:(e,t,n)=>{if(e.parent&&!AV(e))for(const r of t.scales){const i=n.find(o=>o.name===r.signals.data);i.push="outer",delete i.value,delete i.update}return n}};function YF(e,t){return`domain(${de(e.scaleName(t))})`}function AV(e){return e.parent&&V0(e.parent)&&!e.parent.parent}const Ig="_brush",Yse="_scale_trigger",Fy="geo_interval_init_tick",Kse="_init",P9e="_center",D9e={defined:e=>e.type==="interval",parse:(e,t,n)=>{var r;if(e.hasProjection){const i={...ve(n.select)?n.select:{}};i.fields=[xa],i.encodings||(i.encodings=n.value?se(n.value):[Aa,$a]),n.select={type:"interval",...i}}if(t.translate&&!bu.defined(t)){const i=`!event.item || event.item.mark.name !== ${de(t.name+Ig)}`;for(const o of t.events){if(!o.between){ue(`${o} is not an ordered event stream for interval selections.`);continue}const s=xe((r=o.between[0]).filter??(r.filter=[]));s.includes(i)||s.push(i)}}},signals:(e,t,n)=>{const r=t.name,i=r+Cf,o=Mr(t.project.hasChannel).filter(a=>a.channel===mn||a.channel===wr),s=t.init?t.init[0]:null;if(n.push(...o.reduce((a,l)=>a.concat(M9e(e,t,l,s&&s[l.index])),[])),e.hasProjection){const a=de(e.projectionName()),l=e.projectionName()+P9e,{x:u,y:c}=t.project.hasChannel,f=u&&u.signals.visual,d=c&&c.signals.visual,h=u?s&&s[u.index]:`${l}[0]`,p=c?s&&s[c.index]:`${l}[1]`,g=w=>e.getSizeSignalRef(w).signal,m=`[[${f?f+"[0]":"0"}, ${d?d+"[0]":"0"}],[${f?f+"[1]":g("width")}, ${d?d+"[1]":g("height")}]]`;s&&(n.unshift({name:r+Kse,init:`[scale(${a}, [${u?h[0]:h}, ${c?p[0]:p}]), scale(${a}, [${u?h[1]:h}, ${c?p[1]:p}])]`}),(!u||!c)&&(n.find(E=>E.name===l)||n.unshift({name:l,update:`invert(${a}, [${g("width")}/2, ${g("height")}/2])`})));const y=`intersect(${m}, {markname: ${de(e.getName("marks"))}}, unit.mark)`,v=`{unit: ${oh(e)}}`,b=`vlSelectionTuples(${y}, ${v})`,x=o.map(w=>w.signals.visual);return n.concat({name:i,on:[{events:[...x.length?[{signal:x.join(" || ")}]:[],...s?[{signal:Fy}]:[]],update:b}]})}else{if(!bu.defined(t)){const u=r+Yse,c=o.map(f=>{const d=f.channel,{data:h,visual:p}=f.signals,g=de(e.scaleName(d)),m=e.getScaleComponent(d).get("type"),y=ya(m)?"+":"";return`(!isArray(${h}) || (${y}invert(${g}, ${p})[0] === ${y}${h}[0] && ${y}invert(${g}, ${p})[1] === ${y}${h}[1]))`});c.length&&n.push({name:u,value:{},on:[{events:o.map(f=>({scale:e.scaleName(f.channel)})),update:c.join(" && ")+` ? ${u} : {}`}]})}const a=o.map(u=>u.signals.data),l=`unit: ${oh(e)}, fields: ${r+Fx}, values`;return n.concat({name:i,...s?{init:`{${l}: ${Dh(s)}}`}:{},...a.length?{on:[{events:[{signal:a.join(" || ")}],update:`${a.join(" && ")} ? {${l}: [${a}]} : null`}]}:{}})}},topLevelSignals:(e,t,n)=>(wn(e)&&e.hasProjection&&t.init&&(n.filter(i=>i.name===Fy).length||n.unshift({name:Fy,value:null,on:[{events:"timer{1}",update:`${Fy} === null ? {} : ${Fy}`}]})),n),marks:(e,t,n)=>{const r=t.name,{x:i,y:o}=t.project.hasChannel,s=i==null?void 0:i.signals.visual,a=o==null?void 0:o.signals.visual,l=`data(${de(t.name+Mh)})`;if(bu.defined(t)||!i&&!o)return n;const u={x:i!==void 0?{signal:`${s}[0]`}:{value:0},y:o!==void 0?{signal:`${a}[0]`}:{value:0},x2:i!==void 0?{signal:`${s}[1]`}:{field:{group:"width"}},y2:o!==void 0?{signal:`${a}[1]`}:{field:{group:"height"}}};if(t.resolve==="global")for(const m of se(u))u[m]=[{test:`${l}.length && ${l}[0].unit === ${oh(e)}`,...u[m]},{value:0}];const{fill:c,fillOpacity:f,cursor:d,...h}=t.mark,p=se(h).reduce((m,y)=>(m[y]=[{test:[i!==void 0&&`${s}[0] !== ${s}[1]`,o!==void 0&&`${a}[0] !== ${a}[1]`].filter(v=>v).join(" && "),value:h[y]},{value:null}],m),{}),g=d??(t.translate?"move":null);return[{name:`${r+Ig}_bg`,type:"rect",clip:!0,encode:{enter:{fill:{value:c},fillOpacity:{value:f}},update:u}},...n,{name:r+Ig,type:"rect",clip:!0,encode:{enter:{...g?{cursor:{value:g}}:{},fill:{value:"transparent"}},update:{...u,...p}}}]}};function M9e(e,t,n,r){const i=!e.hasProjection,o=n.channel,s=n.signals.visual,a=de(i?e.scaleName(o):e.projectionName()),l=d=>`scale(${a}, ${d})`,u=e.getSizeSignalRef(o===mn?"width":"height").signal,c=`${o}(unit)`,f=t.events.reduce((d,h)=>[...d,{events:h.between[0],update:`[${c}, ${c}]`},{events:h,update:`[${s}[0], clamp(${c}, 0, ${u})]`}],[]);if(i){const d=n.signals.data,h=bu.defined(t),p=e.getScaleComponent(o),g=p?p.get("type"):void 0,m=r?{init:Dh(r,!0,l)}:{value:[]};return f.push({events:{signal:t.name+Yse},update:ya(g)?`[${l(`${d}[0]`)}, ${l(`${d}[1]`)}]`:"[0, 0]"}),h?[{name:d,on:[]}]:[{name:s,...m,on:f},{name:d,...r?{init:Dh(r)}:{},on:[{events:{signal:s},update:`${s}[0] === ${s}[1] ? null : invert(${a}, ${s})`}]}]}else{const d=o===mn?0:1,h=t.name+Kse,p=r?{init:`[${h}[0][${d}], ${h}[1][${d}]]`}:{value:[]};return[{name:s,...p,on:f}]}}const N9e={defined:e=>e.type==="point",signals:(e,t,n)=>{const r=t.name,i=r+Fx,o=t.project,s="(item().isVoronoi ? datum.datum : datum)",a=Mr(e.component.selection??{}).reduce((f,d)=>d.type==="interval"?f.concat(d.name+Ig):f,[]).map(f=>`indexof(item().mark.name, '${f}') < 0`).join(" && "),l=`datum && item().mark.marktype !== 'group' && indexof(item().mark.role, 'legend') < 0${a?` && ${a}`:""}`;let u=`unit: ${oh(e)}, `;if(t.project.hasSelectionId)u+=`${xa}: ${s}[${de(xa)}]`;else{const f=o.items.map(d=>{const h=e.fieldDef(d.channel);return h!=null&&h.bin?`[${s}[${de(e.vgField(d.channel,{}))}], ${s}[${de(e.vgField(d.channel,{binSuffix:"end"}))}]]`:`${s}[${de(d.field)}]`}).join(", ");u+=`fields: ${i}, values: [${f}]`}const c=t.events;return n.concat([{name:r+Cf,on:c?[{events:c,update:`${l} ? {${u}} : null`,force:!0}]:[]}])}};function z0({model:e,channelDef:t,vgChannel:n,invalidValueRef:r,mainRefFn:i}){const o=$x(t)&&t.condition;let s=[];o&&(s=xe(o).map(u=>{const c=i(u);if(kIe(u)){const{param:f,empty:d}=u;return{test:pae(e,{param:f,empty:d}),...c}}else return{test:TE(e,u.test),...c}})),r!==void 0&&s.push(r);const a=i(t);return a!==void 0&&s.push(a),s.length>1||s.length===1&&s[0].test?{[n]:s}:s.length===1?{[n]:s[0]}:{}}function bI(e,t="text"){const n=e.encoding[t];return z0({model:e,channelDef:n,vgChannel:t,mainRefFn:r=>w$(r,e.config),invalidValueRef:void 0})}function w$(e,t,n="datum"){if(e){if(va(e))return ln(e.value);if(Qe(e)){const{format:r,formatType:i}=CE(e);return ZL({fieldOrDatumDef:e,format:r,formatType:i,expr:n,config:t})}}}function Qse(e,t={}){const{encoding:n,markDef:r,config:i,stack:o}=e,s=n.tooltip;if(te(s))return{tooltip:TV({tooltip:s},o,i,t)};{const a=t.reactiveGeom?"datum.datum":"datum";return z0({model:e,channelDef:s,vgChannel:"tooltip",mainRefFn:u=>{const c=w$(u,i,a);if(c)return c;if(u===null)return;let f=Wt("tooltip",r,i);if(f===!0&&(f={content:"encoding"}),we(f))return{value:f};if(ve(f))return Fe(f)?f:f.content==="encoding"?TV(n,o,i,t):{signal:a}},invalidValueRef:void 0})}}function Jse(e,t,n,{reactiveGeom:r}={}){const i={...n,...n.tooltipFormat},o=new Set,s=r?"datum.datum":"datum",a=[];function l(c,f){const d=sp(f),h=Mi(c)?c:{...c,type:e[d].type},p=h.title||rI(h,i),g=xe(p).join(", ").replaceAll(/"/g,'\\"');let m;if(Un(f)){const y=f==="x"?"x2":"y2",v=ba(e[y]);if(_r(h.bin)&&v){const b=ye(h,{expr:s}),x=ye(v,{expr:s}),{format:w,formatType:E}=CE(h);m=kx(b,x,w,E,i),o.add(y)}}if((Un(f)||f===Rs||f===_a)&&t&&t.fieldChannel===f&&t.offset==="normalize"){const{format:y,formatType:v}=CE(h);m=ZL({fieldOrDatumDef:h,format:y,formatType:v,expr:s,config:i,normalizeStack:!0}).signal}m??(m=w$(h,i,s).signal),a.push({channel:f,key:g,value:m})}oI(e,(c,f)=>{ce(c)?l(c,f):f$(c)&&l(c.condition,f)});const u={};for(const{channel:c,key:f,value:d}of a)!o.has(c)&&!u[f]&&(u[f]=d);return u}function TV(e,t,n,{reactiveGeom:r}={}){const i=Jse(e,t,n,{reactiveGeom:r}),o=bf(i).map(([s,a])=>`"${s}": ${a}`);return o.length>0?{signal:`{${o.join(", ")}}`}:void 0}function L9e(e){const{markDef:t,config:n}=e,r=Wt("aria",t,n);return r===!1?{}:{...r?{aria:r}:{},...I9e(e),...z9e(e)}}function I9e(e){const{mark:t,markDef:n,config:r}=e;if(r.aria===!1)return{};const i=Wt("ariaRoleDescription",n,r);return i!=null?{ariaRoleDescription:{value:i}}:Se(fNe,t)?{}:{ariaRoleDescription:{value:t}}}function z9e(e){const{encoding:t,markDef:n,config:r,stack:i}=e,o=t.description;if(o)return z0({model:e,channelDef:o,vgChannel:"description",mainRefFn:l=>w$(l,e.config),invalidValueRef:void 0});const s=Wt("description",n,r);if(s!=null)return{description:ln(s)};if(r.aria===!1)return{};const a=Jse(t,i,r);if(!Ht(a))return{description:{signal:bf(a).map(([l,u],c)=>`"${c>0?"; ":""}${l}: " + (${u})`).join(" + ")}}}function Fr(e,t,n={}){const{markDef:r,encoding:i,config:o}=t,{vgChannel:s}=n;let{defaultRef:a,defaultValue:l}=n;const u=i[e];a===void 0&&(l??(l=Wt(e,r,o,{vgChannel:s,ignoreVgConfig:!$x(u)})),l!==void 0&&(a=ln(l)));const c={markDef:r,config:o,scaleName:t.scaleName(e),scale:t.getScaleComponent(e)},f=Uoe({...c,scaleChannel:e,channelDef:u});return z0({model:t,channelDef:u,vgChannel:s??e,invalidValueRef:f,mainRefFn:h=>JL({...c,channel:e,channelDef:h,stack:null,defaultRef:a})})}function Zse(e,t={filled:void 0}){const{markDef:n,encoding:r,config:i}=e,{type:o}=n,s=t.filled??Wt("filled",n,i),a=it(["bar","point","circle","square","geoshape"],o)?"transparent":void 0,l=Wt(s===!0?"color":void 0,n,i,{vgChannel:"fill"})??i.mark[s===!0&&"color"]??a,u=Wt(s===!1?"color":void 0,n,i,{vgChannel:"stroke"})??i.mark[s===!1&&"color"],c=s?"fill":"stroke",f={...l?{fill:ln(l)}:{},...u?{stroke:ln(u)}:{}};return n.color&&(s?n.fill:n.stroke)&&ue(hoe("property",{fill:"fill"in n,stroke:"stroke"in n})),{...f,...Fr("color",e,{vgChannel:c,defaultValue:s?l:u}),...Fr("fill",e,{defaultValue:r.fill?l:void 0}),...Fr("stroke",e,{defaultValue:r.stroke?u:void 0})}}function B9e(e){const{encoding:t,mark:n}=e,r=t.order;return!Wf(n)&&va(r)?z0({model:e,channelDef:r,vgChannel:"zindex",mainRefFn:i=>ln(i.value),invalidValueRef:void 0}):{}}function qm({channel:e,markDef:t,encoding:n={},model:r,bandPosition:i}){const o=`${e}Offset`,s=t[o],a=n[o];if((o==="xOffset"||o==="yOffset")&&a)return{offsetType:"encoding",offset:JL({channel:o,channelDef:a,markDef:t,config:r==null?void 0:r.config,scaleName:r.scaleName(o),scale:r.getScaleComponent(o),stack:null,defaultRef:ln(s),bandPosition:i})};const l=t[o];return l?{offsetType:"visual",offset:l}:{}}function $i(e,t,{defaultPos:n,vgChannel:r}){const{encoding:i,markDef:o,config:s,stack:a}=t,l=i[e],u=i[Nl(e)],c=t.scaleName(e),f=t.getScaleComponent(e),{offset:d,offsetType:h}=qm({channel:e,markDef:o,encoding:i,model:t,bandPosition:.5}),p=xI({model:t,defaultPos:n,channel:e,scaleName:c,scale:f}),g=!l&&Un(e)&&(i.latitude||i.longitude)?{field:t.getName(e)}:j9e({channel:e,channelDef:l,channel2Def:u,markDef:o,config:s,scaleName:c,scale:f,stack:a,offset:d,defaultRef:p,bandPosition:h==="encoding"?0:void 0});return g?{[r||e]:g}:void 0}function j9e(e){const{channel:t,channelDef:n,scaleName:r,stack:i,offset:o,markDef:s}=e;if(Qe(n)&&i&&t===i.fieldChannel){if(ce(n)){let a=n.bandPosition;if(a===void 0&&s.type==="text"&&(t==="radius"||t==="theta")&&(a=.5),a!==void 0)return xE({scaleName:r,fieldOrDatumDef:n,startSuffix:"start",bandPosition:a,offset:o})}return rh(n,r,{suffix:"end"},{offset:o})}return QL(e)}function xI({model:e,defaultPos:t,channel:n,scaleName:r,scale:i}){const{markDef:o,config:s}=e;return()=>{const a=sp(n),l=xf(n),u=Wt(n,o,s,{vgChannel:l});if(u!==void 0)return J1(n,u);switch(t){case"zeroOrMin":return RV({scaleName:r,scale:i,mode:"zeroOrMin",mainChannel:a,config:s});case"zeroOrMax":return RV({scaleName:r,scale:i,mode:{zeroOrMax:{widthSignal:e.width.signal,heightSignal:e.height.signal}},mainChannel:a,config:s});case"mid":return{...e[fo(n)],mult:.5}}}}function RV({mainChannel:e,config:t,...n}){const r=joe(n),{mode:i}=n;if(r)return r;switch(e){case"radius":{if(i==="zeroOrMin")return{value:0};const{widthSignal:o,heightSignal:s}=i.zeroOrMax;return{signal:`min(${o},${s})/2`}}case"theta":return i==="zeroOrMin"?{value:0}:{signal:"2*PI"};case"x":return i==="zeroOrMin"?{value:0}:{field:{group:"width"}};case"y":return i==="zeroOrMin"?{field:{group:"height"}}:{value:0}}}const U9e={left:"x",center:"xc",right:"x2"},V9e={top:"y",middle:"yc",bottom:"y2"};function eae(e,t,n,r="middle"){if(e==="radius"||e==="theta")return xf(e);const i=e==="x"?"align":"baseline",o=Wt(i,t,n);let s;return Fe(o)?(ue(VNe(i)),s=void 0):s=o,e==="x"?U9e[s||(r==="top"?"left":"center")]:V9e[s||r]}function $E(e,t,{defaultPos:n,defaultPos2:r,range:i}){return i?tae(e,t,{defaultPos:n,defaultPos2:r}):$i(e,t,{defaultPos:n})}function tae(e,t,{defaultPos:n,defaultPos2:r}){const{markDef:i,config:o}=t,s=Nl(e),a=fo(e),l=W9e(t,r,s),u=l[a]?eae(e,i,o):xf(e);return{...$i(e,t,{defaultPos:n,vgChannel:u}),...l}}function W9e(e,t,n){const{encoding:r,mark:i,markDef:o,stack:s,config:a}=e,l=sp(n),u=fo(n),c=xf(n),f=r[l],d=e.scaleName(l),h=e.getScaleComponent(l),{offset:p}=n in r||n in o?qm({channel:n,markDef:o,encoding:r,model:e}):qm({channel:l,markDef:o,encoding:r,model:e});if(!f&&(n==="x2"||n==="y2")&&(r.latitude||r.longitude)){const m=fo(n),y=e.markDef[m];return y!=null?{[m]:{value:y}}:{[c]:{field:e.getName(n)}}}const g=H9e({channel:n,channelDef:f,channel2Def:r[n],markDef:o,config:a,scaleName:d,scale:h,stack:s,offset:p,defaultRef:void 0});return g!==void 0?{[c]:g}:K2(n,o)||K2(n,{[n]:IF(n,o,a.style),[u]:IF(u,o,a.style)})||K2(n,a[i])||K2(n,a.mark)||{[c]:xI({model:e,defaultPos:t,channel:n,scaleName:d,scale:h})()}}function H9e({channel:e,channelDef:t,channel2Def:n,markDef:r,config:i,scaleName:o,scale:s,stack:a,offset:l,defaultRef:u}){return Qe(t)&&a&&e.charAt(0)===a.fieldChannel.charAt(0)?rh(t,o,{suffix:"start"},{offset:l}):QL({channel:e,channelDef:n,scaleName:o,scale:s,stack:a,markDef:r,config:i,offset:l,defaultRef:u})}function K2(e,t){const n=fo(e),r=xf(e);if(t[r]!==void 0)return{[r]:J1(e,t[r])};if(t[e]!==void 0)return{[r]:J1(e,t[e])};if(t[n]){const i=t[n];if(Oh(i))ue(LNe(n));else return{[n]:J1(e,i)}}}function Tu(e,t){const{config:n,encoding:r,markDef:i}=e,o=i.type,s=Nl(t),a=fo(t),l=r[t],u=r[s],c=e.getScaleComponent(t),f=c?c.get("type"):void 0,d=i.orient,h=r[a]??r.size??Wt("size",i,n,{vgChannel:a}),p=Qie(t),g=o==="bar"&&(t==="x"?d==="vertical":d==="horizontal")||o==="tick"&&(t==="y"?d==="vertical":d==="horizontal");return ce(l)&&(Jt(l.bin)||_r(l.bin)||l.timeUnit&&!u)&&!(h&&!Oh(h))&&!r[p]&&!br(f)?X9e({fieldDef:l,fieldDef2:u,channel:t,model:e}):(Qe(l)&&br(f)||g)&&!u?G9e(l,t,e):tae(t,e,{defaultPos:"zeroOrMax",defaultPos2:"zeroOrMin"})}function q9e(e,t,n,r,i,o,s){if(Oh(i))if(n){const l=n.get("type");if(l==="band"){let u=`bandwidth('${t}')`;i.band!==1&&(u=`${i.band} * ${u}`);const c=Cl("minBandSize",{type:s},r);return{signal:c?`max(${oa(c)}, ${u})`:u}}else i.band!==1&&(ue(GNe(l)),i=void 0)}else return{mult:i.band,field:{group:e}};else{if(Fe(i))return i;if(i)return{value:i}}if(n){const l=n.get("range");if(lp(l)&&St(l.step))return{value:l.step-2}}if(!o){const{bandPaddingInner:l,barBandPaddingInner:u,rectBandPaddingInner:c,tickBandPaddingInner:f}=r.scale,d=jn(l,s==="tick"?f:s==="bar"?u:c);if(Fe(d))return{signal:`(1 - (${d.signal})) * ${e}`};if(St(d))return{signal:`${1-d} * ${e}`}}return{value:HF(r.view,e)-2}}function G9e(e,t,n){var $,F;const{markDef:r,encoding:i,config:o,stack:s}=n,a=r.orient,l=n.scaleName(t),u=n.getScaleComponent(t),c=fo(t),f=Nl(t),d=Qie(t),h=n.scaleName(d),p=n.getScaleComponent(_L(t)),g=r.type==="tick"||a==="horizontal"&&t==="y"||a==="vertical"&&t==="x";let m;(i.size||r.size)&&(g?m=Fr("size",n,{vgChannel:c,defaultRef:ln(r.size)}):ue(QNe(r.type)));const y=!!m,v=Yoe({channel:t,fieldDef:e,markDef:r,config:o,scaleType:($=u||p)==null?void 0:$.get("type"),useVlSizeChannel:g});m=m||{[c]:q9e(c,h||l,p||u,o,v,!!e,r.type)};const b=((F=u||p)==null?void 0:F.get("type"))==="band"&&Oh(v)&&!y?"top":"middle",x=eae(t,r,o,b),w=x==="xc"||x==="yc",{offset:E,offsetType:S}=qm({channel:t,markDef:r,encoding:i,model:n,bandPosition:w?.5:0}),k=QL({channel:t,channelDef:e,markDef:r,config:o,scaleName:l,scale:u,stack:s,offset:E,defaultRef:xI({model:n,defaultPos:"mid",channel:t,scaleName:l,scale:u}),bandPosition:w?S==="encoding"?0:.5:Fe(v)?{signal:`(1-${v})/2`}:Oh(v)?(1-v.band)/2:0});if(c)return{[x]:k,...m};{const P=xf(f),j=m[c],D=E?{...j,offset:E}:j;return{[x]:k,[P]:te(k)?[k[0],{...k[1],offset:D}]:{...k,offset:D}}}}function FV(e,t,n,r,i,o,s){if(Hie(e))return 0;const a=e==="x"||e==="y2",l=a?-t/2:t/2;if(Fe(n)||Fe(i)||Fe(r)||o){const u=oa(n),c=oa(i),f=oa(r),d=oa(o),p=o?`(${s} < ${d} ? ${a?"":"-"}0.5 * (${d} - (${s})) : ${l})`:l,g=f?`${f} + `:"",m=u?`(${u} ? -1 : 1) * `:"",y=c?`(${c} + ${p})`:p;return{signal:g+m+y}}else return i=i||0,r+(n?-i-l:+i+l)}function X9e({fieldDef:e,fieldDef2:t,channel:n,model:r}){var F;const{config:i,markDef:o,encoding:s}=r,a=r.getScaleComponent(n),l=r.scaleName(n),u=a?a.get("type"):void 0,c=a.get("reverse"),f=Yoe({channel:n,fieldDef:e,markDef:o,config:i,scaleType:u}),d=(F=r.component.axes[n])==null?void 0:F[0],h=(d==null?void 0:d.get("translate"))??.5,p=Un(n)?Wt("binSpacing",o,i)??0:0,g=Nl(n),m=xf(n),y=xf(g),v=Cl("minBandSize",o,i),{offset:b}=qm({channel:n,markDef:o,encoding:s,model:r,bandPosition:0}),{offset:x}=qm({channel:g,markDef:o,encoding:s,model:r,bandPosition:0}),w=bIe({fieldDef:e,scaleName:l}),E=FV(n,p,c,h,b,v,w),S=FV(g,p,c,h,x??b,v,w),k=Fe(f)?{signal:`(1-${f.signal})/2`}:Oh(f)?(1-f.band)/2:.5,$=wf({fieldDef:e,fieldDef2:t,markDef:o,config:i});if(Jt(e.bin)||e.timeUnit){const P=e.timeUnit&&$!==.5;return{[y]:OV({fieldDef:e,scaleName:l,bandPosition:k,offset:S,useRectOffsetField:P}),[m]:OV({fieldDef:e,scaleName:l,bandPosition:Fe(k)?{signal:`1-${k.signal}`}:1-k,offset:E,useRectOffsetField:P})}}else if(_r(e.bin)){const P=rh(e,l,{},{offset:S});if(ce(t))return{[y]:P,[m]:rh(t,l,{},{offset:E})};if(ap(e.bin)&&e.bin.step)return{[y]:P,[m]:{signal:`scale("${l}", ${ye(e,{expr:"datum"})} + ${e.bin.step})`,offset:E}}}ue(moe(g))}function OV({fieldDef:e,scaleName:t,bandPosition:n,offset:r,useRectOffsetField:i}){return xE({scaleName:t,fieldOrDatumDef:e,bandPosition:n,offset:r,...i?{startSuffix:b$,endSuffix:x$}:{}})}const Y9e=new Set(["aria","width","height"]);function Fs(e,t){const{fill:n=void 0,stroke:r=void 0}=t.color==="include"?Zse(e):{};return{...K9e(e.markDef,t),...PV("fill",n),...PV("stroke",r),...Fr("opacity",e),...Fr("fillOpacity",e),...Fr("strokeOpacity",e),...Fr("strokeWidth",e),...Fr("strokeDash",e),...B9e(e),...Qse(e),...bI(e,"href"),...L9e(e)}}function PV(e,t){return t?{[e]:t}:{}}function K9e(e,t){return cNe.reduce((n,r)=>(!Y9e.has(r)&&le(e,r)&&t[r]!=="ignore"&&(n[r]=ln(e[r])),n),{})}function wI(e){const{config:t,markDef:n}=e,r=new Set;if(e.forEachFieldDef((i,o)=>{var u;let s;if(!Ll(o)||!(s=e.getScaleType(o)))return;const a=t$(i.aggregate),l=KL({scaleChannel:o,markDef:n,config:t,scaleType:s,isCountAggregate:a});if(mIe(l)){const c=e.vgField(o,{expr:"datum",binSuffix:(u=e.stack)!=null&&u.impute?"mid":void 0});c&&r.add(c)}}),r.size>0)return{defined:{signal:[...r].map(o=>i$(o,!0)).join(" && ")}}}function DV(e,t){if(t!==void 0)return{[e]:ln(t)}}const a3="voronoi",nae={defined:e=>e.type==="point"&&e.nearest,parse:(e,t)=>{if(t.events)for(const n of t.events)n.markname=e.getName(a3)},marks:(e,t,n)=>{const{x:r,y:i}=t.project.hasChannel,o=e.mark;if(Wf(o))return ue(mNe(o)),n;const s={name:e.getName(a3),type:"path",interactive:!0,from:{data:e.getName("marks")},encode:{update:{fill:{value:"transparent"},strokeWidth:{value:.35},stroke:{value:"transparent"},isVoronoi:{value:!0},...Qse(e,{reactiveGeom:!0})}},transform:[{type:"voronoi",x:{expr:r||!i?"datum.datum.x || 0":"0"},y:{expr:i||!r?"datum.datum.y || 0":"0"},size:[e.getSizeSignalRef("width"),e.getSizeSignalRef("height")]}]};let a=0,l=!1;return n.forEach((u,c)=>{const f=u.name??"";f===e.component.mark[0].name?a=c:f.includes(a3)&&(l=!0)}),l||n.splice(a+1,0,s),n}},rae={defined:e=>e.type==="point"&&e.resolve==="global"&&e.bind&&e.bind!=="scales"&&!fI(e.bind),parse:(e,t,n)=>fae(t,n),topLevelSignals:(e,t,n)=>{const r=t.name,i=t.project,o=t.bind,s=t.init&&t.init[0],a=nae.defined(t)?"(item().isVoronoi ? datum.datum : datum)":"datum";return i.items.forEach((l,u)=>{const c=pn(`${r}_${l.field}`);n.filter(d=>d.name===c).length||n.unshift({name:c,...s?{init:Dh(s[u])}:{value:null},on:t.events?[{events:t.events,update:`datum && item().mark.marktype !== 'group' ? ${a}[${de(l.field)}] : null`}]:[],bind:o[l.field]??o[l.channel]??o})}),n},signals:(e,t,n)=>{const r=t.name,i=t.project,o=n.find(u=>u.name===r+Cf),s=r+Fx,a=i.items.map(u=>pn(`${r}_${u.field}`)),l=a.map(u=>`${u} !== null`).join(" && ");return a.length&&(o.update=`${l} ? {fields: ${s}, values: [${a.join(", ")}]} : null`),delete o.value,delete o.on,n}},AE="_toggle",iae={defined:e=>e.type==="point"&&!!e.toggle,signals:(e,t,n)=>n.concat({name:t.name+AE,value:!1,on:[{events:t.events,update:t.toggle}]}),modifyExpr:(e,t)=>{const n=t.name+Cf,r=t.name+AE;return`${r} ? null : ${n}, `+(t.resolve==="global"?`${r} ? null : true, `:`${r} ? null : {unit: ${oh(e)}}, `)+`${r} ? ${n} : null`}},Q9e={defined:e=>e.clear!==void 0&&e.clear!==!1,parse:(e,t)=>{t.clear&&(t.clear=we(t.clear)?Lf(t.clear,"view"):t.clear)},topLevelSignals:(e,t,n)=>{if(rae.defined(t))for(const r of t.project.items){const i=n.findIndex(o=>o.name===pn(`${t.name}_${r.field}`));i!==-1&&n[i].on.push({events:t.clear,update:"null"})}return n},signals:(e,t,n)=>{function r(i,o){i!==-1&&n[i].on&&n[i].on.push({events:t.clear,update:o})}if(t.type==="interval")for(const i of t.project.items){const o=n.findIndex(s=>s.name===i.signals.visual);if(r(o,"[0, 0]"),o===-1){const s=n.findIndex(a=>a.name===i.signals.data);r(s,"null")}}else{let i=n.findIndex(o=>o.name===t.name+Cf);r(i,"null"),iae.defined(t)&&(i=n.findIndex(o=>o.name===t.name+AE),r(i,"false"))}return n}},oae={defined:e=>{const t=e.resolve==="global"&&e.bind&&fI(e.bind),n=e.project.items.length===1&&e.project.items[0].field!==xa;return t&&!n&&ue(xNe),t&&n},parse:(e,t,n)=>{const r=Ge(n);if(r.select=we(r.select)?{type:r.select,toggle:t.toggle}:{...r.select,toggle:t.toggle},fae(t,r),ve(n.select)&&(n.select.on||n.select.clear)){const s='event.item && indexof(event.item.mark.role, "legend") < 0';for(const a of t.events)a.filter=xe(a.filter??[]),a.filter.includes(s)||a.filter.push(s)}const i=r3(t.bind)?t.bind.legend:"click",o=we(i)?Lf(i,"view"):xe(i);t.bind={legend:{merge:o}}},topLevelSignals:(e,t,n)=>{const r=t.name,i=r3(t.bind)&&t.bind.legend,o=s=>a=>{const l=Ge(a);return l.markname=s,l};for(const s of t.project.items){if(!s.hasLegend)continue;const a=`${pn(s.field)}_legend`,l=`${r}_${a}`;if(n.filter(c=>c.name===l).length===0){const c=i.merge.map(o(`${a}_symbols`)).concat(i.merge.map(o(`${a}_labels`))).concat(i.merge.map(o(`${a}_entries`)));n.unshift({name:l,...t.init?{}:{value:null},on:[{events:c,update:"isDefined(datum.value) ? datum.value : item().items[0].items[0].datum.value",force:!0},{events:i.merge,update:`!event.item || !datum ? null : ${l}`,force:!0}]})}}return n},signals:(e,t,n)=>{const r=t.name,i=t.project,o=n.find(d=>d.name===r+Cf),s=r+Fx,a=i.items.filter(d=>d.hasLegend).map(d=>pn(`${r}_${pn(d.field)}_legend`)),u=`${a.map(d=>`${d} !== null`).join(" && ")} ? {fields: ${s}, values: [${a.join(", ")}]} : null`;t.events&&a.length>0?o.on.push({events:a.map(d=>({signal:d})),update:u}):a.length>0&&(o.update=u,delete o.value,delete o.on);const c=n.find(d=>d.name===r+AE),f=r3(t.bind)&&t.bind.legend;return c&&(t.events?c.on.push({...c.on[0],events:f}):c.on[0].events=f),n}};function J9e(e,t,n){var i;const r=(i=e.fieldDef(t))==null?void 0:i.field;for(const o of Mr(e.component.selection??{})){const s=o.project.hasField[r]??o.project.hasChannel[t];if(s&&oae.defined(o)){const a=n.get("selections")??[];a.push(o.name),n.set("selections",a,!1),s.hasLegend=!0}}}const sae="_translate_anchor",aae="_translate_delta",Z9e={defined:e=>e.type==="interval"&&e.translate,signals:(e,t,n)=>{const r=t.name,i=bu.defined(t),o=r+sae,{x:s,y:a}=t.project.hasChannel;let l=Lf(t.translate,"scope");return i||(l=l.map(u=>(u.between[0].markname=r+Ig,u))),n.push({name:o,value:{},on:[{events:l.map(u=>u.between[0]),update:"{x: x(unit), y: y(unit)"+(s!==void 0?`, extent_x: ${i?YF(e,mn):`slice(${s.signals.visual})`}`:"")+(a!==void 0?`, extent_y: ${i?YF(e,wr):`slice(${a.signals.visual})`}`:"")+"}"}]},{name:r+aae,value:{},on:[{events:l,update:`{x: ${o}.x - x(unit), y: ${o}.y - y(unit)}`}]}),s!==void 0&&MV(e,t,s,"width",n),a!==void 0&&MV(e,t,a,"height",n),n}};function MV(e,t,n,r,i){const o=t.name,s=o+sae,a=o+aae,l=n.channel,u=bu.defined(t),c=i.find(w=>w.name===n.signals[u?"data":"visual"]),f=e.getSizeSignalRef(r).signal,d=e.getScaleComponent(l),h=d&&d.get("type"),p=d&&d.get("reverse"),g=u?l===mn?p?"":"-":p?"-":"":"",m=`${s}.extent_${l}`,y=`${g}${a}.${l} / ${u?`${f}`:`span(${m})`}`,v=!u||!d?"panLinear":h==="log"?"panLog":h==="symlog"?"panSymlog":h==="pow"?"panPow":"panLinear",b=u?h==="pow"?`, ${d.get("exponent")??1}`:h==="symlog"?`, ${d.get("constant")??1}`:"":"",x=`${v}(${m}, ${y}${b})`;c.on.push({events:{signal:a},update:u?x:`clampRange(${x}, 0, ${f})`})}const lae="_zoom_anchor",uae="_zoom_delta",e7e={defined:e=>e.type==="interval"&&e.zoom,signals:(e,t,n)=>{const r=t.name,i=bu.defined(t),o=r+uae,{x:s,y:a}=t.project.hasChannel,l=de(e.scaleName(mn)),u=de(e.scaleName(wr));let c=Lf(t.zoom,"scope");return i||(c=c.map(f=>(f.markname=r+Ig,f))),n.push({name:r+lae,on:[{events:c,update:i?"{"+[l?`x: invert(${l}, x(unit))`:"",u?`y: invert(${u}, y(unit))`:""].filter(f=>f).join(", ")+"}":"{x: x(unit), y: y(unit)}"}]},{name:o,on:[{events:c,force:!0,update:"pow(1.001, event.deltaY * pow(16, event.deltaMode))"}]}),s!==void 0&&NV(e,t,s,"width",n),a!==void 0&&NV(e,t,a,"height",n),n}};function NV(e,t,n,r,i){const o=t.name,s=n.channel,a=bu.defined(t),l=i.find(v=>v.name===n.signals[a?"data":"visual"]),u=e.getSizeSignalRef(r).signal,c=e.getScaleComponent(s),f=c&&c.get("type"),d=a?YF(e,s):l.name,h=o+uae,p=`${o}${lae}.${s}`,g=!a||!c?"zoomLinear":f==="log"?"zoomLog":f==="symlog"?"zoomSymlog":f==="pow"?"zoomPow":"zoomLinear",m=a?f==="pow"?`, ${c.get("exponent")??1}`:f==="symlog"?`, ${c.get("constant")??1}`:"":"",y=`${g}(${d}, ${p}, ${h}${m})`;l.on.push({events:{signal:h},update:a?y:`clampRange(${y}, 0, ${u})`})}const Mh="_store",Cf="_tuple",t7e="_modify",cae="vlSelectionResolve",S$=[N9e,D9e,O9e,iae,rae,bu,oae,Q9e,Z9e,e7e,nae];function n7e(e){let t=e.parent;for(;t&&!Fo(t);)t=t.parent;return t}function oh(e,{escape:t}={escape:!0}){let n=t?de(e.name):e.name;const r=n7e(e);if(r){const{facet:i}=r;for(const o of hs)i[o]&&(n+=` + '__facet_${o}_' + (facet[${de(r.vgField(o))}])`)}return n}function SI(e){return Mr(e.component.selection??{}).reduce((t,n)=>t||n.project.hasSelectionId,!1)}function fae(e,t){(we(t.select)||!t.select.on)&&delete e.events,(we(t.select)||!t.select.clear)&&delete e.clear,(we(t.select)||!t.select.toggle)&&delete e.toggle}function KF(e){const t=[];return e.type==="Identifier"?[e.name]:e.type==="Literal"?[e.value]:(e.type==="MemberExpression"&&(t.push(...KF(e.object)),t.push(...KF(e.property))),t)}function dae(e){return e.object.type==="MemberExpression"?dae(e.object):e.object.name==="datum"}function hae(e){const t=UN(e),n=new Set;return t.visit(r=>{r.type==="MemberExpression"&&dae(r)&&n.add(KF(r).slice(1).join("."))}),n}class B0 extends jt{clone(){return new B0(null,this.model,Ge(this.filter))}constructor(t,n,r){super(t),this.model=n,this.filter=r,this.expr=TE(this.model,this.filter,this),this._dependentFields=hae(this.expr)}dependentFields(){return this._dependentFields}producedFields(){return new Set}assemble(){return{type:"filter",expr:this.expr}}hash(){return`Filter ${this.expr}`}}function r7e(e,t){const n={},r=e.config.selection;if(!t||!t.length)return n;for(const i of t){const o=pn(i.name),s=i.select,a=we(s)?s:s.type,l=ve(s)?Ge(s):{type:a},u=r[a];for(const d in u)d==="fields"||d==="encodings"||(d==="mark"&&(l.mark={...u.mark,...l.mark}),(l[d]===void 0||l[d]===!0)&&(l[d]=Ge(u[d]??l[d])));const c=n[o]={...l,name:o,type:a,init:i.value,bind:i.bind,events:we(l.on)?Lf(l.on,"scope"):xe(Ge(l.on))},f=Ge(i);for(const d of S$)d.defined(c)&&d.parse&&d.parse(e,c,f)}return n}function pae(e,t,n,r="datum"){const i=we(t)?t:t.param,o=pn(i),s=de(o+Mh);let a;try{a=e.getSelectionComponent(o,i)}catch{return`!!${o}`}if(a.project.timeUnit){const d=n??e.component.data.raw,h=a.project.timeUnit.clone();d.parent?h.insertAsParentOf(d):d.parent=h}const l=a.project.hasSelectionId?"vlSelectionIdTest(":"vlSelectionTest(",u=a.resolve==="global"?")":`, ${de(a.resolve)})`,c=`${l}${s}, ${r}${u}`,f=`length(data(${s}))`;return t.empty===!1?`${f} && ${c}`:`!${f} || ${c}`}function gae(e,t,n){const r=pn(t),i=n.encoding;let o=n.field,s;try{s=e.getSelectionComponent(r,t)}catch{return r}if(!i&&!o)o=s.project.items[0].field,s.project.items.length>1&&ue(`A "field" or "encoding" must be specified when using a selection as a scale domain. Using "field": ${de(o)}.`);else if(i&&!o){const a=s.project.items.filter(l=>l.channel===i);!a.length||a.length>1?(o=s.project.items[0].field,ue((a.length?"Multiple ":"No ")+`matching ${de(i)} encoding found for selection ${de(n.param)}. Using "field": ${de(o)}.`)):o=a[0].field}return`${s.name}[${de(ks(o))}]`}function i7e(e,t){for(const[n,r]of bf(e.component.selection??{})){const i=e.getName(`lookup_${n}`);e.component.data.outputNodes[i]=r.materialized=new to(new B0(t,e,{param:n}),i,Fn.Lookup,e.component.data.outputNodeRefCounts)}}function TE(e,t,n){return Q1(t,r=>we(r)?r:DLe(r)?pae(e,r,n):Aoe(r))}function o7e(e,t){if(e)return te(e)&&!xc(e)?e.map(n=>rI(n,t)).join(", "):e}function l3(e,t,n,r){var i,o;e.encode??(e.encode={}),(i=e.encode)[t]??(i[t]={}),(o=e.encode[t]).update??(o.update={}),e.encode[t].update[n]=r}function S1(e,t,n,r={header:!1}){var f,d;const{disable:i,orient:o,scale:s,labelExpr:a,title:l,zindex:u,...c}=e.combine();if(!i){for(const h in c){const p=h,g=zIe[p],m=c[p];if(g&&g!==t&&g!=="both")delete c[p];else if(Rx(m)){const{condition:y,...v}=m,b=xe(y),x=uV[p];if(x){const{vgProp:w,part:E}=x,S=[...b.map(k=>{const{test:$,...F}=k;return{test:TE(null,$),...F}}),v];l3(c,E,w,S),delete c[p]}else if(x===null){const w={signal:b.map(E=>{const{test:S,...k}=E;return`${TE(null,S)} ? ${GU(k)} : `}).join("")+GU(v)};c[p]=w}}else if(Fe(m)){const y=uV[p];if(y){const{vgProp:v,part:b}=y;l3(c,b,v,m),delete c[p]}}it(["labelAlign","labelBaseline"],p)&&c[p]===null&&delete c[p]}if(t==="grid"){if(!c.grid)return;if(c.encode){const{grid:h}=c.encode;c.encode={...h?{grid:h}:{}},Ht(c.encode)&&delete c.encode}return{scale:s,orient:o,...c,domain:!1,labels:!1,aria:!1,maxExtent:0,minExtent:0,ticks:!1,zindex:jn(u,0)}}else{if(!r.header&&e.mainExtracted)return;if(a!==void 0){let p=a;(d=(f=c.encode)==null?void 0:f.labels)!=null&&d.update&&Fe(c.encode.labels.update.text)&&(p=Ah(a,"datum.label",c.encode.labels.update.text.signal)),l3(c,"labels","text",{signal:p})}if(c.labelAlign===null&&delete c.labelAlign,c.encode){for(const p of ose)e.hasAxisPart(p)||delete c.encode[p];Ht(c.encode)&&delete c.encode}const h=o7e(l,n);return{scale:s,orient:o,grid:!1,...h?{title:h}:{},...c,...n.aria===!1?{aria:!1}:{},zindex:jn(u,0)}}}}function mae(e){const{axes:t}=e.component,n=[];for(const r of Uu)if(t[r]){for(const i of t[r])if(!i.get("disable")&&!i.get("gridScale")){const o=r==="x"?"height":"width",s=e.getSizeSignalRef(o).signal;o!==s&&n.push({name:o,update:s})}}return n}function s7e(e,t){const{x:n=[],y:r=[]}=e;return[...n.map(i=>S1(i,"grid",t)),...r.map(i=>S1(i,"grid",t)),...n.map(i=>S1(i,"main",t)),...r.map(i=>S1(i,"main",t))].filter(i=>i)}function LV(e,t,n,r){return Object.assign.apply(null,[{},...e.map(i=>{if(i==="axisOrient"){const o=n==="x"?"bottom":"left",s=t[n==="x"?"axisBottom":"axisLeft"]||{},a=t[n==="x"?"axisTop":"axisRight"]||{},l=new Set([...se(s),...se(a)]),u={};for(const c of l.values())u[c]={signal:`${r.signal} === "${o}" ? ${oa(s[c])} : ${oa(a[c])}`};return u}return t[i]})])}function a7e(e,t,n,r){const i=t==="band"?["axisDiscrete","axisBand"]:t==="point"?["axisDiscrete","axisPoint"]:Ooe(t)?["axisQuantitative"]:t==="time"||t==="utc"?["axisTemporal"]:[],o=e==="x"?"axisX":"axisY",s=Fe(n)?"axisOrient":`axis${vx(n)}`,a=[...i,...i.map(u=>o+u.substr(4))],l=["axis",s,o];return{vlOnlyAxisConfig:LV(a,r,e,n),vgAxisConfig:LV(l,r,e,n),axisConfigStyle:l7e([...l,...a],r)}}function l7e(e,t){var r;const n=[{}];for(const i of e){let o=(r=t[i])==null?void 0:r.style;if(o){o=xe(o);for(const s of o)n.push(t.style[s])}}return Object.assign.apply(null,n)}function QF(e,t,n,r={}){var o;const i=soe(e,n,t);if(i!==void 0)return{configFrom:"style",configValue:i};for(const s of["vlOnlyAxisConfig","vgAxisConfig","axisConfigStyle"])if(((o=r[s])==null?void 0:o[e])!==void 0)return{configFrom:s,configValue:r[s][e]};return{}}const IV={scale:({model:e,channel:t})=>e.scaleName(t),format:({format:e})=>e,formatType:({formatType:e})=>e,grid:({fieldOrDatumDef:e,axis:t,scaleType:n})=>t.grid??u7e(n,e),gridScale:({model:e,channel:t})=>c7e(e,t),labelAlign:({axis:e,labelAngle:t,orient:n,channel:r})=>e.labelAlign||vae(t,n,r),labelAngle:({labelAngle:e})=>e,labelBaseline:({axis:e,labelAngle:t,orient:n,channel:r})=>e.labelBaseline||yae(t,n,r),labelFlush:({axis:e,fieldOrDatumDef:t,channel:n})=>e.labelFlush??d7e(t.type,n),labelOverlap:({axis:e,fieldOrDatumDef:t,scaleType:n})=>e.labelOverlap??h7e(t.type,n,ce(t)&&!!t.timeUnit,ce(t)?t.sort:void 0),orient:({orient:e})=>e,tickCount:({channel:e,model:t,axis:n,fieldOrDatumDef:r,scaleType:i})=>{const o=e==="x"?"width":e==="y"?"height":void 0,s=o?t.getSizeSignalRef(o):void 0;return n.tickCount??g7e({fieldOrDatumDef:r,scaleType:i,size:s,values:n.values})},tickMinStep:m7e,title:({axis:e,model:t,channel:n})=>{if(e.title!==void 0)return e.title;const r=bae(t,n);if(r!==void 0)return r;const i=t.typedFieldDef(n),o=n==="x"?"x2":"y2",s=t.fieldDef(o);return loe(i?[aV(i)]:[],ce(s)?[aV(s)]:[])},values:({axis:e,fieldOrDatumDef:t})=>y7e(e,t),zindex:({axis:e,fieldOrDatumDef:t,mark:n})=>e.zindex??v7e(n,t)};function u7e(e,t){return!br(e)&&ce(t)&&!Jt(t==null?void 0:t.bin)&&!_r(t==null?void 0:t.bin)}function c7e(e,t){const n=t==="x"?"y":"x";if(e.getScaleComponent(n))return e.scaleName(n)}function f7e(e,t,n,r,i){const o=t==null?void 0:t.labelAngle;if(o!==void 0)return Fe(o)?o:Hv(o);{const{configValue:s}=QF("labelAngle",r,t==null?void 0:t.style,i);return s!==void 0?Hv(s):n===mn&&it([HL,WL],e.type)&&!(ce(e)&&e.timeUnit)?270:void 0}}function JF(e){return`(((${e.signal} % 360) + 360) % 360)`}function yae(e,t,n,r){if(e!==void 0)if(n==="x"){if(Fe(e)){const i=JF(e),o=Fe(t)?`(${t.signal} === "top")`:t==="top";return{signal:`(45 < ${i} && ${i} < 135) || (225 < ${i} && ${i} < 315) ? "middle" :(${i} <= 45 || 315 <= ${i}) === ${o} ? "bottom" : "top"`}}if(45<e&&e<135||225<e&&e<315)return"middle";if(Fe(t)){const i=e<=45||315<=e?"===":"!==";return{signal:`${t.signal} ${i} "top" ? "bottom" : "top"`}}return(e<=45||315<=e)==(t==="top")?"bottom":"top"}else{if(Fe(e)){const i=JF(e),o=Fe(t)?`(${t.signal} === "left")`:t==="left";return{signal:`${i} <= 45 || 315 <= ${i} || (135 <= ${i} && ${i} <= 225) ? ${r?'"middle"':"null"} : (45 <= ${i} && ${i} <= 135) === ${o} ? "top" : "bottom"`}}if(e<=45||315<=e||135<=e&&e<=225)return r?"middle":null;if(Fe(t)){const i=45<=e&&e<=135?"===":"!==";return{signal:`${t.signal} ${i} "left" ? "top" : "bottom"`}}return(45<=e&&e<=135)==(t==="left")?"top":"bottom"}}function vae(e,t,n){if(e===void 0)return;const r=n==="x",i=r?0:90,o=r?"bottom":"left";if(Fe(e)){const s=JF(e),a=Fe(t)?`(${t.signal} === "${o}")`:t===o;return{signal:`(${i?`(${s} + 90)`:s} % 180 === 0) ? ${r?null:'"center"'} :(${i} < ${s} && ${s} < ${180+i}) === ${a} ? "left" : "right"`}}if((e+i)%180===0)return r?null:"center";if(Fe(t)){const s=i<e&&e<180+i?"===":"!==";return{signal:`${`${t.signal} ${s} "${o}"`} ? "left" : "right"`}}return(i<e&&e<180+i)==(t===o)?"left":"right"}function d7e(e,t){if(t==="x"&&it(["quantitative","temporal"],e))return!0}function h7e(e,t,n,r){if(n&&!ve(r)||e!=="nominal"&&e!=="ordinal")return t==="log"||t==="symlog"?"greedy":!0}function p7e(e){return e==="x"?"bottom":"left"}function g7e({fieldOrDatumDef:e,scaleType:t,size:n,values:r}){var i;if(!r&&!br(t)&&t!=="log"){if(ce(e)){if(Jt(e.bin))return{signal:`ceil(${n.signal}/10)`};if(e.timeUnit&&it(["month","hours","day","quarter"],(i=sr(e.timeUnit))==null?void 0:i.unit))return}return{signal:`ceil(${n.signal}/40)`}}}function m7e({format:e,fieldOrDatumDef:t}){if(e==="d")return 1;if(ce(t)){const{timeUnit:n}=t;if(n){const r=koe(n);if(r)return{signal:r}}}}function bae(e,t){const n=t==="x"?"x2":"y2",r=e.fieldDef(t),i=e.fieldDef(n),o=r?r.title:void 0,s=i?i.title:void 0;if(o&&s)return uoe(o,s);if(o)return o;if(s)return s;if(o!==void 0)return o;if(s!==void 0)return s}function y7e(e,t){const n=e.values;if(te(n))return ise(t,n);if(Fe(n))return n}function v7e(e,t){return e==="rect"&&SE(t)?1:0}class Gm extends jt{clone(){return new Gm(null,Ge(this.transform))}constructor(t,n){super(t),this.transform=n,this._dependentFields=hae(this.transform.calculate)}static parseAllForSortIndex(t,n){return n.forEachFieldDef((r,i)=>{if(cp(r)&&Xoe(r.sort)){const{field:o,timeUnit:s}=r,a=r.sort,l=a.map((u,c)=>`${Aoe({field:o,timeUnit:s,equal:u})} ? ${c} : `).join("")+a.length;t=new Gm(t,{calculate:l,as:Xm(r,i,{forAs:!0})})}}),t}producedFields(){return new Set([this.transform.as])}dependentFields(){return this._dependentFields}assemble(){return{type:"formula",expr:this.transform.calculate,as:this.transform.as}}hash(){return`Calculate ${ut(this.transform)}`}}function Xm(e,t,n){return ye(e,{prefix:t,suffix:"sort_index",...n})}function C$(e,t){return it(["top","bottom"],t)?"column":it(["left","right"],t)||e==="row"?"row":"column"}function Ym(e,t,n,r){const i=r==="row"?n.headerRow:r==="column"?n.headerColumn:n.headerFacet;return jn((t||{})[e],i[e],n.header[e])}function E$(e,t,n,r){const i={};for(const o of e){const s=Ym(o,t||{},n,r);s!==void 0&&(i[o]=s)}return i}const CI=["row","column"],EI=["header","footer"];function b7e(e,t){const n=e.component.layoutHeaders[t].title,r=e.config?e.config:void 0,i=e.component.layoutHeaders[t].facetFieldDef?e.component.layoutHeaders[t].facetFieldDef:void 0,{titleAnchor:o,titleAngle:s,titleOrient:a}=E$(["titleAnchor","titleAngle","titleOrient"],i.header,r,t),l=C$(t,a),u=Hv(s);return{name:`${t}-title`,type:"group",role:`${l}-title`,title:{text:n,...t==="row"?{orient:"left"}:{},style:"guide-title",...wae(u,l),...xae(l,u,o),...Sae(r,i,t,a8e,Cse)}}}function xae(e,t,n="middle"){switch(n){case"start":return{align:"left"};case"end":return{align:"right"}}const r=vae(t,e==="row"?"left":"top",e==="row"?"y":"x");return r?{align:r}:{}}function wae(e,t){const n=yae(e,t==="row"?"left":"top",t==="row"?"y":"x",!0);return n?{baseline:n}:{}}function x7e(e,t){const n=e.component.layoutHeaders[t],r=[];for(const i of EI)if(n[i])for(const o of n[i]){const s=S7e(e,t,i,n,o);s!=null&&r.push(s)}return r}function w7e(e,t){const{sort:n}=e;return vu(n)?{field:ye(n,{expr:"datum"}),order:n.order??"ascending"}:te(n)?{field:Xm(e,t,{expr:"datum"}),order:"ascending"}:{field:ye(e,{expr:"datum"}),order:n??"ascending"}}function ZF(e,t,n){const{format:r,formatType:i,labelAngle:o,labelAnchor:s,labelOrient:a,labelExpr:l}=E$(["format","formatType","labelAngle","labelAnchor","labelOrient","labelExpr"],e.header,n,t),u=ZL({fieldOrDatumDef:e,format:r,formatType:i,expr:"parent",config:n}).signal,c=C$(t,a);return{text:{signal:l?Ah(Ah(l,"datum.label",u),"datum.value",ye(e,{expr:"parent"})):u},...t==="row"?{orient:"left"}:{},style:"guide-label",frame:"group",...wae(o,c),...xae(c,o,s),...Sae(n,e,t,l8e,Ese)}}function S7e(e,t,n,r,i){if(i){let o=null;const{facetFieldDef:s}=r,a=e.config?e.config:void 0;if(s&&i.labels){const{labelOrient:f}=E$(["labelOrient"],s.header,a,t);(t==="row"&&!it(["top","bottom"],f)||t==="column"&&!it(["left","right"],f))&&(o=ZF(s,t,a))}const l=Fo(e)&&!_x(e.facet),u=i.axes,c=(u==null?void 0:u.length)>0;if(o||c){const f=t==="row"?"height":"width";return{name:e.getName(`${t}_${n}`),type:"group",role:`${t}-${n}`,...r.facetFieldDef?{from:{data:e.getName(`${t}_domain`)},sort:w7e(s,t)}:{},...c&&l?{from:{data:e.getName(`facet_domain_${t}`)}}:{},...o?{title:o}:{},...i.sizeSignal?{encode:{update:{[f]:i.sizeSignal}}}:{},...c?{axes:u}:{}}}}return null}const C7e={column:{start:0,end:1},row:{start:1,end:0}};function E7e(e,t){return C7e[t][e]}function k7e(e,t){const n={};for(const r of hs){const i=e[r];if(i!=null&&i.facetFieldDef){const{titleAnchor:o,titleOrient:s}=E$(["titleAnchor","titleOrient"],i.facetFieldDef.header,t,r),a=C$(r,s),l=E7e(o,a);l!==void 0&&(n[a]=l)}}return Ht(n)?void 0:n}function Sae(e,t,n,r,i){const o={};for(const s of r){if(!i[s])continue;const a=Ym(s,t==null?void 0:t.header,e,n);a!==void 0&&(o[i[s]]=a)}return o}function kI(e){return[...Q2(e,"width"),...Q2(e,"height"),...Q2(e,"childWidth"),...Q2(e,"childHeight")]}function Q2(e,t){const n=t==="width"?"x":"y",r=e.component.layoutSize.get(t);if(!r||r==="merged")return[];const i=e.getSizeSignalRef(t).signal;if(r==="step"){const o=e.getScaleComponent(n);if(o){const s=o.get("type"),a=o.get("range");if(br(s)&&lp(a)){const l=e.scaleName(n);return Fo(e.parent)&&e.parent.component.resolve.scale[n]==="independent"?[zV(l,a)]:[zV(l,a),{name:i,update:Cae(l,o,`domain('${l}').length`)}]}}throw new Error("layout size is step although width/height is not step.")}else if(r=="container"){const o=i.endsWith("width"),s=o?"containerSize()[0]":"containerSize()[1]",a=WF(e.config.view,o?"width":"height"),l=`isFinite(${s}) ? ${s} : ${a}`;return[{name:i,init:l,on:[{update:l,events:"window:resize"}]}]}else return[{name:i,value:r}]}function zV(e,t){const n=`${e}_step`;return Fe(t.step)?{name:n,update:t.step.signal}:{name:n,value:t.step}}function Cae(e,t,n){const r=t.get("type"),i=t.get("padding"),o=jn(t.get("paddingOuter"),i);let s=t.get("paddingInner");return s=r==="band"?s!==void 0?s:i:1,`bandspace(${n}, ${oa(s)}, ${oa(o)}) * ${e}_step`}function Eae(e){return e==="childWidth"?"width":e==="childHeight"?"height":e}function kae(e,t){return se(e).reduce((n,r)=>({...n,...z0({model:t,channelDef:e[r],vgChannel:r,mainRefFn:i=>ln(i.value),invalidValueRef:void 0})}),{})}function _ae(e,t){if(Fo(t))return e==="theta"?"independent":"shared";if(V0(t))return"shared";if(OI(t))return Un(e)||e==="theta"||e==="radius"?"independent":"shared";throw new Error("invalid model type for resolve")}function _I(e,t){const n=e.scale[t],r=Un(t)?"axis":"legend";return n==="independent"?(e[r][t]==="shared"&&ue(nLe(t)),"independent"):e[r][t]||"shared"}const _7e={...f8e,disable:1,labelExpr:1,selections:1,opacity:1,shape:1,stroke:1,fill:1,size:1,strokeWidth:1,strokeDash:1,encode:1},$ae=se(_7e);class $7e extends Hu{}const BV={symbols:A7e,gradient:T7e,labels:R7e,entries:F7e};function A7e(e,{fieldOrDatumDef:t,model:n,channel:r,legendCmpt:i,legendType:o}){if(o!=="symbol")return;const{markDef:s,encoding:a,config:l,mark:u}=n,c=s.filled&&u!=="trail";let f={...hNe({},n,sIe),...Zse(n,{filled:c})};const d=i.get("symbolOpacity")??l.legend.symbolOpacity,h=i.get("symbolFillColor")??l.legend.symbolFillColor,p=i.get("symbolStrokeColor")??l.legend.symbolStrokeColor,g=d===void 0?Aae(a.opacity)??s.opacity:void 0;if(f.fill){if(r==="fill"||c&&r===uo)delete f.fill;else if(le(f.fill,"field"))h?delete f.fill:(f.fill=ln(l.legend.symbolBaseFillColor??"black"),f.fillOpacity=ln(g??1));else if(te(f.fill)){const m=eO(a.fill??a.color)??s.fill??(c&&s.color);m&&(f.fill=ln(m))}}if(f.stroke){if(r==="stroke"||!c&&r===uo)delete f.stroke;else if(le(f.stroke,"field")||p)delete f.stroke;else if(te(f.stroke)){const m=jn(eO(a.stroke||a.color),s.stroke,c?s.color:void 0);m&&(f.stroke={value:m})}}if(r!==ju){const m=ce(t)&&Rae(n,i,t);m?f.opacity=[{test:m,...ln(g??1)},ln(l.legend.unselectedOpacity)]:g&&(f.opacity=ln(g))}return f={...f,...e},Ht(f)?void 0:f}function T7e(e,{model:t,legendType:n,legendCmpt:r}){if(n!=="gradient")return;const{config:i,markDef:o,encoding:s}=t;let a={};const u=(r.get("gradientOpacity")??i.legend.gradientOpacity)===void 0?Aae(s.opacity)||o.opacity:void 0;return u&&(a.opacity=ln(u)),a={...a,...e},Ht(a)?void 0:a}function R7e(e,{fieldOrDatumDef:t,model:n,channel:r,legendCmpt:i}){const o=n.legend(r)||{},s=n.config,a=ce(t)?Rae(n,i,t):void 0,l=a?[{test:a,value:1},{value:s.legend.unselectedOpacity}]:void 0,{format:u,formatType:c}=o;let f;Ph(c)?f=sa({fieldOrDatumDef:t,field:"datum.value",format:u,formatType:c,config:s}):u===void 0&&c===void 0&&s.customFormatTypes&&(t.type==="quantitative"&&s.numberFormatType?f=sa({fieldOrDatumDef:t,field:"datum.value",format:s.numberFormat,formatType:s.numberFormatType,config:s}):t.type==="temporal"&&s.timeFormatType&&ce(t)&&t.timeUnit===void 0&&(f=sa({fieldOrDatumDef:t,field:"datum.value",format:s.timeFormat,formatType:s.timeFormatType,config:s})));const d={...l?{opacity:l}:{},...f?{text:f}:{},...e};return Ht(d)?void 0:d}function F7e(e,{legendCmpt:t}){const n=t.get("selections");return n!=null&&n.length?{...e,fill:{value:"transparent"}}:e}function Aae(e){return Tae(e,(t,n)=>Math.max(t,n.value))}function eO(e){return Tae(e,(t,n)=>jn(t,n.value))}function Tae(e,t){if($Ie(e))return xe(e.condition).reduce(t,e.value);if(va(e))return e.value}function Rae(e,t,n){const r=t.get("selections");if(!(r!=null&&r.length))return;const i=de(n.field);return r.map(o=>`(!length(data(${de(pn(o)+Mh)})) || (${o}[${i}] && indexof(${o}[${i}], datum.value) >= 0))`).join(" || ")}const jV={direction:({direction:e})=>e,format:({fieldOrDatumDef:e,legend:t,config:n})=>{const{format:r,formatType:i}=t;return Hoe(e,e.type,r,i,n,!1)},formatType:({legend:e,fieldOrDatumDef:t,scaleType:n})=>{const{formatType:r}=e;return qoe(r,t,n)},gradientLength:e=>{const{legend:t,legendConfig:n}=e;return t.gradientLength??n.gradientLength??I7e(e)},labelOverlap:({legend:e,legendConfig:t,scaleType:n})=>e.labelOverlap??t.labelOverlap??z7e(n),symbolType:({legend:e,markDef:t,channel:n,encoding:r})=>e.symbolType??P7e(t.type,n,r.shape,t.shape),title:({fieldOrDatumDef:e,config:t})=>Lg(e,t,{allowDisabling:!0}),type:({legendType:e,scaleType:t,channel:n})=>{if(Ng(n)&&il(t)){if(e==="gradient")return}else if(e==="symbol")return;return e},values:({fieldOrDatumDef:e,legend:t})=>O7e(t,e)};function O7e(e,t){const n=e.values;if(te(n))return ise(t,n);if(Fe(n))return n}function P7e(e,t,n,r){if(t!=="shape"){const i=eO(n)??r;if(i)return i}switch(e){case"bar":case"rect":case"image":case"square":return"square";case"line":case"trail":case"rule":return"stroke";case"arc":case"point":case"circle":case"tick":case"geoshape":case"area":case"text":return"circle"}}function D7e(e){const{legend:t}=e;return jn(t.type,M7e(e))}function M7e({channel:e,timeUnit:t,scaleType:n}){if(Ng(e)){if(it(["quarter","month","day"],t))return"symbol";if(il(n))return"gradient"}return"symbol"}function N7e({legendConfig:e,legendType:t,orient:n,legend:r}){return r.direction??e[t?"gradientDirection":"symbolDirection"]??L7e(n,t)}function L7e(e,t){switch(e){case"top":case"bottom":return"horizontal";case"left":case"right":case"none":case void 0:return;default:return t==="gradient"?"horizontal":void 0}}function I7e({legendConfig:e,model:t,direction:n,orient:r,scaleType:i}){const{gradientHorizontalMaxLength:o,gradientHorizontalMinLength:s,gradientVerticalMaxLength:a,gradientVerticalMinLength:l}=e;if(il(i))return n==="horizontal"?r==="top"||r==="bottom"?UV(t,"width",s,o):s:UV(t,"height",l,a)}function UV(e,t,n,r){return{signal:`clamp(${e.getSizeSignalRef(t).signal}, ${n}, ${r})`}}function z7e(e){if(it(["quantile","threshold","log","symlog"],e))return"greedy"}function Fae(e){const t=wn(e)?B7e(e):W7e(e);return e.component.legends=t,t}function B7e(e){const{encoding:t}=e,n={};for(const r of[uo,..._se]){const i=rr(t[r]);!i||!e.getScaleComponent(r)||r===co&&ce(i)&&i.type===I0||(n[r]=V7e(e,r))}return n}function j7e(e,t){const n=e.scaleName(t);if(e.mark==="trail"){if(t==="color")return{stroke:n};if(t==="size")return{strokeWidth:n}}return t==="color"?e.markDef.filled?{fill:n}:{stroke:n}:{[t]:n}}function U7e(e,t,n,r){switch(t){case"disable":return n!==void 0;case"values":return!!(n!=null&&n.values);case"title":if(t==="title"&&e===(r==null?void 0:r.title))return!0}return e===(n||{})[t]}function V7e(e,t){var x;let n=e.legend(t);const{markDef:r,encoding:i,config:o}=e,s=o.legend,a=new $7e({},j7e(e,t));J9e(e,t,a);const l=n!==void 0?!n:s.disable;if(a.set("disable",l,n!==void 0),l)return a;n=n||{};const u=e.getScaleComponent(t).get("type"),c=rr(i[t]),f=ce(c)?(x=sr(c.timeUnit))==null?void 0:x.unit:void 0,d=n.orient||o.legend.orient||"right",h=D7e({legend:n,channel:t,timeUnit:f,scaleType:u}),p=N7e({legend:n,legendType:h,orient:d,legendConfig:s}),g={legend:n,channel:t,model:e,markDef:r,encoding:i,fieldOrDatumDef:c,legendConfig:s,config:o,scaleType:u,orient:d,legendType:h,direction:p};for(const w of $ae){if(h==="gradient"&&w.startsWith("symbol")||h==="symbol"&&w.startsWith("gradient"))continue;const E=w in jV?jV[w](g):n[w];if(E!==void 0){const S=U7e(E,w,n,e.fieldDef(t));(S||o.legend[w]===void 0)&&a.set(w,E,S)}}const m=(n==null?void 0:n.encoding)??{},y=a.get("selections"),v={},b={fieldOrDatumDef:c,model:e,channel:t,legendCmpt:a,legendType:h};for(const w of["labels","legend","title","symbols","gradient","entries"]){const E=kae(m[w]??{},e),S=w in BV?BV[w](E,b):E;S!==void 0&&!Ht(S)&&(v[w]={...y!=null&&y.length&&ce(c)?{name:`${pn(c.field)}_legend_${w}`}:{},...y!=null&&y.length?{interactive:!!y}:{},update:S})}return Ht(v)||a.set("encode",v,!!(n!=null&&n.encoding)),a}function W7e(e){const{legends:t,resolve:n}=e.component;for(const r of e.children){Fae(r);for(const i of se(r.component.legends))n.legend[i]=_I(e.component.resolve,i),n.legend[i]==="shared"&&(t[i]=Oae(t[i],r.component.legends[i]),t[i]||(n.legend[i]="independent",delete t[i]))}for(const r of se(t))for(const i of e.children)i.component.legends[r]&&n.legend[r]==="shared"&&delete i.component.legends[r];return t}function Oae(e,t){var o,s,a,l;if(!e)return t.clone();const n=e.getWithExplicit("orient"),r=t.getWithExplicit("orient");if(n.explicit&&r.explicit&&n.value!==r.value)return;let i=!1;for(const u of $ae){const c=Sf(e.getWithExplicit(u),t.getWithExplicit(u),u,"legend",(f,d)=>{switch(u){case"symbolType":return H7e(f,d);case"title":return coe(f,d);case"type":return i=!0,vo("symbol")}return v$(f,d,u,"legend")});e.setWithExplicit(u,c)}return i&&((s=(o=e.implicit)==null?void 0:o.encode)!=null&&s.gradient&&yE(e.implicit,["encode","gradient"]),(l=(a=e.explicit)==null?void 0:a.encode)!=null&&l.gradient&&yE(e.explicit,["encode","gradient"])),e}function H7e(e,t){return t.value==="circle"?t:e}function q7e(e,t,n,r){var i,o;e.encode??(e.encode={}),(i=e.encode)[t]??(i[t]={}),(o=e.encode[t]).update??(o.update={}),e.encode[t].update[n]=r}function Pae(e){const t=e.component.legends,n={};for(const i of se(t)){const o=e.getScaleComponent(i),s=qt(o.get("domains"));if(n[s])for(const a of n[s])Oae(a,t[i])||n[s].push(t[i]);else n[s]=[t[i].clone()]}return Mr(n).flat().map(i=>G7e(i,e.config)).filter(i=>i!==void 0)}function G7e(e,t){var s,a,l;const{disable:n,labelExpr:r,selections:i,...o}=e.combine();if(!n){if(t.aria===!1&&o.aria==null&&(o.aria=!1),(s=o.encode)!=null&&s.symbols){const u=o.encode.symbols.update;u.fill&&u.fill.value!=="transparent"&&!u.stroke&&!o.stroke&&(u.stroke={value:"transparent"});for(const c of _se)o[c]&&delete u[c]}if(o.title||delete o.title,r!==void 0){let u=r;(l=(a=o.encode)==null?void 0:a.labels)!=null&&l.update&&Fe(o.encode.labels.update.text)&&(u=Ah(r,"datum.label",o.encode.labels.update.text.signal)),q7e(o,"labels","text",{signal:u})}return o}}function X7e(e){return V0(e)||OI(e)?Y7e(e):Dae(e)}function Y7e(e){return e.children.reduce((t,n)=>t.concat(n.assembleProjections()),Dae(e))}function Dae(e){const t=e.component.projection;if(!t||t.merged)return[];const n=t.combine(),{name:r}=n;if(t.data){const i={signal:`[${t.size.map(s=>s.signal).join(", ")}]`},o=t.data.reduce((s,a)=>{const l=Fe(a)?a.signal:`data('${e.lookupDataSource(a)}')`;return it(s,l)||s.push(l),s},[]);if(o.length<=0)throw new Error("Projection's fit didn't find any data sources");return[{name:r,size:i,fit:{signal:o.length>1?`[${o.join(", ")}]`:o[0]},...n}]}else return[{name:r,translate:{signal:"[width / 2, height / 2]"},...n}]}const K7e=["type","clipAngle","clipExtent","center","rotate","precision","reflectX","reflectY","coefficient","distance","fraction","lobes","parallel","radius","ratio","spacing","tilt"];class Mae extends Hu{constructor(t,n,r,i){super({...n},{name:t}),this.specifiedProjection=n,this.size=r,this.data=i,this.merged=!1}get isFit(){return!!this.data}}function Nae(e){e.component.projection=wn(e)?Q7e(e):eze(e)}function Q7e(e){if(e.hasProjection){const t=$r(e.specifiedProjection),n=!(t&&(t.scale!=null||t.translate!=null)),r=n?[e.getSizeSignalRef("width"),e.getSizeSignalRef("height")]:void 0,i=n?J7e(e):void 0,o=new Mae(e.projectionName(!0),{...$r(e.config.projection),...t},r,i);return o.get("type")||o.set("type","equalEarth",!1),o}}function J7e(e){const t=[],{encoding:n}=e;for(const r of[[Aa,$a],[_s,Ta]])(rr(n[r[0]])||rr(n[r[1]]))&&t.push({signal:e.getName(`geojson_${t.length}`)});return e.channelHasField(co)&&e.typedFieldDef(co).type===I0&&t.push({signal:e.getName(`geojson_${t.length}`)}),t.length===0&&t.push(e.requestDataName(Fn.Main)),t}function Z7e(e,t){const n=bL(K7e,i=>!!(!Se(e.explicit,i)&&!Se(t.explicit,i)||Se(e.explicit,i)&&Se(t.explicit,i)&&$o(e.get(i),t.get(i))));if($o(e.size,t.size)){if(n)return e;if($o(e.explicit,{}))return t;if($o(t.explicit,{}))return e}return null}function eze(e){if(e.children.length===0)return;let t;for(const r of e.children)Nae(r);const n=bL(e.children,r=>{const i=r.component.projection;if(i)if(t){const o=Z7e(t,i);return o&&(t=o),!!o}else return t=i,!0;else return!0});if(t&&n){const r=e.projectionName(!0),i=new Mae(r,t.specifiedProjection,t.size,Ge(t.data));for(const o of e.children){const s=o.component.projection;s&&(s.isFit&&i.data.push(...o.component.projection.data),o.renameProjection(s.get("name"),r),s.merged=!0)}return i}}function tze(e,t,n,r){if(Tx(t,n)){const i=wn(e)?e.axis(n)??e.legend(n)??{}:{},o=ye(t,{expr:"datum"}),s=ye(t,{expr:"datum",binSuffix:"end"});return{formulaAs:ye(t,{binSuffix:"range",forAs:!0}),formula:kx(o,s,i.format,i.formatType,r)}}return{}}function Lae(e,t){return`${noe(e)}_${t}`}function nze(e,t){return{signal:e.getName(`${t}_bins`),extentSignal:e.getName(`${t}_extent`)}}function $I(e,t,n){const r=d$(n,void 0)??{},i=Lae(r,t);return e.getName(`${i}_bins`)}function rze(e){return"as"in e}function VV(e,t,n){let r,i;rze(e)?r=we(e.as)?[e.as,`${e.as}_end`]:[e.as[0],e.as[1]]:r=[ye(e,{forAs:!0}),ye(e,{binSuffix:"end",forAs:!0})];const o={...d$(t,void 0)},s=Lae(o,e.field),{signal:a,extentSignal:l}=nze(n,s);if(n$(o.extent)){const c=o.extent;i=gae(n,c.param,c),delete o.extent}const u={bin:o,field:e.field,as:[r],...a?{signal:a}:{},...l?{extentSignal:l}:{},...i?{span:i}:{}};return{key:s,binComponent:u}}class dl extends jt{clone(){return new dl(null,Ge(this.bins))}constructor(t,n){super(t),this.bins=n}static makeFromEncoding(t,n){const r=n.reduceFieldDef((i,o,s)=>{if(Mi(o)&&Jt(o.bin)){const{key:a,binComponent:l}=VV(o,o.bin,n);i[a]={...l,...i[a],...tze(n,o,s,n.config)}}return i},{});return Ht(r)?null:new dl(t,r)}static makeFromTransform(t,n,r){const{key:i,binComponent:o}=VV(n,n.bin,r);return new dl(t,{[i]:o})}merge(t,n){for(const r of se(t.bins))r in this.bins?(n(t.bins[r].signal,this.bins[r].signal),this.bins[r].as=rl([...this.bins[r].as,...t.bins[r].as],ut)):this.bins[r]=t.bins[r];for(const r of t.children)t.removeChild(r),r.parent=this;t.remove()}producedFields(){return new Set(Mr(this.bins).map(t=>t.as).flat(2))}dependentFields(){return new Set(Mr(this.bins).map(t=>t.field))}hash(){return`Bin ${ut(this.bins)}`}assemble(){return Mr(this.bins).flatMap(t=>{const n=[],[r,...i]=t.as,{extent:o,...s}=t.bin,a={type:"bin",field:ks(t.field),as:r,signal:t.signal,...n$(o)?{extent:null}:{extent:o},...t.span?{span:{signal:`span(${t.span})`}}:{},...s};!o&&t.extentSignal&&(n.push({type:"extent",field:ks(t.field),signal:t.extentSignal}),a.extent={signal:t.extentSignal}),n.push(a);for(const l of i)for(let u=0;u<2;u++)n.push({type:"formula",expr:ye({field:r[u]},{expr:"datum"}),as:l[u]});return t.formula&&n.push({type:"formula",expr:t.formula,as:t.formulaAs}),n})}}function ize(e,t,n,r){var o;const i=wn(r)?r.encoding[Nl(t)]:void 0;if(Mi(n)&&wn(r)&&Koe(n,i,r.markDef,r.config)){e.add(ye(n,{})),e.add(ye(n,{suffix:"end"}));const{mark:s,markDef:a,config:l}=r,u=wf({fieldDef:n,markDef:a,config:l});qv(s)&&u!==.5&&Un(t)&&(e.add(ye(n,{suffix:b$})),e.add(ye(n,{suffix:x$}))),n.bin&&Tx(n,t)&&e.add(ye(n,{binSuffix:"range"}))}else if(Gie(t)){const s=qie(t);e.add(r.getName(s))}else e.add(ye(n));return cp(n)&&GLe((o=n.scale)==null?void 0:o.range)&&e.add(n.scale.range.field),e}function oze(e,t){for(const n of se(t)){const r=t[n];for(const i of se(r))n in e?e[n][i]=new Set([...e[n][i]??[],...r[i]]):e[n]={[i]:r[i]}}}class la extends jt{clone(){return new la(null,new Set(this.dimensions),Ge(this.measures))}constructor(t,n,r){super(t),this.dimensions=n,this.measures=r}get groupBy(){return this.dimensions}static makeFromEncoding(t,n){let r=!1;n.forEachFieldDef(s=>{s.aggregate&&(r=!0)});const i={},o=new Set;return!r||(n.forEachFieldDef((s,a)=>{const{aggregate:l,field:u}=s;if(l)if(l==="count")i["*"]??(i["*"]={}),i["*"].count=new Set([ye(s,{forAs:!0})]);else{if(Sl(l)||Vu(l)){const c=Sl(l)?"argmin":"argmax",f=l[c];i[f]??(i[f]={}),i[f][c]=new Set([ye({op:c,field:f},{forAs:!0})])}else i[u]??(i[u]={}),i[u][l]=new Set([ye(s,{forAs:!0})]);Ll(a)&&n.scaleDomain(a)==="unaggregated"&&(i[u]??(i[u]={}),i[u].min=new Set([ye({field:u,aggregate:"min"},{forAs:!0})]),i[u].max=new Set([ye({field:u,aggregate:"max"},{forAs:!0})]))}else ize(o,a,s,n)}),o.size+se(i).length===0)?null:new la(t,o,i)}static makeFromTransform(t,n){var r;const i=new Set,o={};for(const s of n.aggregate){const{op:a,field:l,as:u}=s;a&&(a==="count"?(o["*"]??(o["*"]={}),o["*"].count=new Set([u||ye(s,{forAs:!0})])):(o[l]??(o[l]={}),(r=o[l])[a]??(r[a]=new Set),o[l][a].add(u||ye(s,{forAs:!0}))))}for(const s of n.groupby??[])i.add(s);return i.size+se(o).length===0?null:new la(t,i,o)}merge(t){return Iie(this.dimensions,t.dimensions)?(oze(this.measures,t.measures),!0):(vLe("different dimensions, cannot merge"),!1)}addDimensions(t){t.forEach(this.dimensions.add,this.dimensions)}dependentFields(){return new Set([...this.dimensions,...se(this.measures)])}producedFields(){const t=new Set;for(const n of se(this.measures))for(const r of se(this.measures[n])){const i=this.measures[n][r];i.size===0?t.add(`${r}_${n}`):i.forEach(t.add,t)}return t}hash(){return`Aggregate ${ut({dimensions:this.dimensions,measures:this.measures})}`}assemble(){const t=[],n=[],r=[];for(const o of se(this.measures))for(const s of se(this.measures[o]))for(const a of this.measures[o][s])r.push(a),t.push(s),n.push(o==="*"?null:ks(o));return{type:"aggregate",groupby:[...this.dimensions].map(ks),ops:t,fields:n,as:r}}}class j0 extends jt{constructor(t,n,r,i){super(t),this.model=n,this.name=r,this.data=i;for(const o of hs){const s=n.facet[o];if(s){const{bin:a,sort:l}=s;this[o]={name:n.getName(`${o}_domain`),fields:[ye(s),...Jt(a)?[ye(s,{binSuffix:"end"})]:[]],...vu(l)?{sortField:l}:te(l)?{sortIndexField:Xm(s,o)}:{}}}}this.childModel=n.child}hash(){let t="Facet";for(const n of hs)this[n]&&(t+=` ${n.charAt(0)}:${ut(this[n])}`);return t}get fields(){var n;const t=[];for(const r of hs)(n=this[r])!=null&&n.fields&&t.push(...this[r].fields);return t}dependentFields(){const t=new Set(this.fields);for(const n of hs)this[n]&&(this[n].sortField&&t.add(this[n].sortField.field),this[n].sortIndexField&&t.add(this[n].sortIndexField));return t}producedFields(){return new Set}getSource(){return this.name}getChildIndependentFieldsWithStep(){const t={};for(const n of Uu){const r=this.childModel.component.scales[n];if(r&&!r.merged){const i=r.get("type"),o=r.get("range");if(br(i)&&lp(o)){const s=k$(this.childModel,n),a=FI(s);a?t[n]=a:ue(PL(n))}}}return t}assembleRowColumnHeaderData(t,n,r){const i={row:"y",column:"x",facet:void 0}[t],o=[],s=[],a=[];i&&r&&r[i]&&(n?(o.push(`distinct_${r[i]}`),s.push("max")):(o.push(r[i]),s.push("distinct")),a.push(`distinct_${r[i]}`));const{sortField:l,sortIndexField:u}=this[t];if(l){const{op:c=u$,field:f}=l;o.push(f),s.push(c),a.push(ye(l,{forAs:!0}))}else u&&(o.push(u),s.push("max"),a.push(u));return{name:this[t].name,source:n??this.data,transform:[{type:"aggregate",groupby:this[t].fields,...o.length?{fields:o,ops:s,as:a}:{}}]}}assembleFacetHeaderData(t){var l;const{columns:n}=this.model.layout,{layoutHeaders:r}=this.model.component,i=[],o={};for(const u of CI){for(const c of EI){const f=(r[u]&&r[u][c])??[];for(const d of f)if(((l=d.axes)==null?void 0:l.length)>0){o[u]=!0;break}}if(o[u]){const c=`length(data("${this.facet.name}"))`,f=u==="row"?n?{signal:`ceil(${c} / ${n})`}:1:n?{signal:`min(${c}, ${n})`}:{signal:c};i.push({name:`${this.facet.name}_${u}`,transform:[{type:"sequence",start:0,stop:f}]})}}const{row:s,column:a}=o;return(s||a)&&i.unshift(this.assembleRowColumnHeaderData("facet",null,t)),i}assemble(){const t=[];let n=null;const r=this.getChildIndependentFieldsWithStep(),{column:i,row:o,facet:s}=this;if(i&&o&&(r.x||r.y)){n=`cross_${this.column.name}_${this.row.name}`;const a=[].concat(r.x??[],r.y??[]),l=a.map(()=>"distinct");t.push({name:n,source:this.data,transform:[{type:"aggregate",groupby:this.fields,fields:a,ops:l}]})}for(const a of[yu,mu])this[a]&&t.push(this.assembleRowColumnHeaderData(a,n,r));if(s){const a=this.assembleFacetHeaderData(r);a&&t.push(...a)}return t}}function WV(e){return e.startsWith("'")&&e.endsWith("'")||e.startsWith('"')&&e.endsWith('"')?e.slice(1,-1):e}function sze(e,t){const n=SL(e);if(t==="number")return`toNumber(${n})`;if(t==="boolean")return`toBoolean(${n})`;if(t==="string")return`toString(${n})`;if(t==="date")return`toDate(${n})`;if(t==="flatten")return n;if(t.startsWith("date:")){const r=WV(t.slice(5,t.length));return`timeParse(${n},'${r}')`}else if(t.startsWith("utc:")){const r=WV(t.slice(4,t.length));return`utcParse(${n},'${r}')`}else return ue($Ne(t)),null}function aze(e){const t={};return mS(e.filter,n=>{if($oe(n)){let r=null;LL(n)?r=Co(n.equal):zL(n)?r=Co(n.lte):IL(n)?r=Co(n.lt):BL(n)?r=Co(n.gt):jL(n)?r=Co(n.gte):UL(n)?r=n.range[0]:VL(n)&&(r=(n.oneOf??n.in)[0]),r&&(up(r)?t[n.field]="date":St(r)?t[n.field]="number":we(r)&&(t[n.field]="string")),n.timeUnit&&(t[n.field]="date")}}),t}function lze(e){const t={};function n(r){Wm(r)?t[r.field]="date":r.type==="quantitative"&&iNe(r.aggregate)?t[r.field]="number":Lm(r.field)>1?r.field in t||(t[r.field]="flatten"):cp(r)&&vu(r.sort)&&Lm(r.sort.field)>1&&(r.sort.field in t||(t[r.sort.field]="flatten"))}if((wn(e)||Fo(e))&&e.forEachFieldDef((r,i)=>{if(Mi(r))n(r);else{const o=sp(i),s=e.fieldDef(o);n({...r,type:s.type})}}),wn(e)){const{mark:r,markDef:i,encoding:o}=e;if(Wf(r)&&!e.encoding.order){const s=i.orient==="horizontal"?"y":"x",a=o[s];ce(a)&&a.type==="quantitative"&&!(a.field in t)&&(t[a.field]="number")}}return t}function uze(e){const t={};if(wn(e)&&e.component.selection)for(const n of se(e.component.selection)){const r=e.component.selection[n];for(const i of r.project.items)!i.channel&&Lm(i.field)>1&&(t[i.field]="flatten")}return t}class ni extends jt{clone(){return new ni(null,Ge(this._parse))}constructor(t,n){super(t),this._parse=n}hash(){return`Parse ${ut(this._parse)}`}static makeExplicit(t,n,r){var s;let i={};const o=n.data;return!Qc(o)&&((s=o==null?void 0:o.format)!=null&&s.parse)&&(i=o.format.parse),this.makeWithAncestors(t,i,{},r)}static makeWithAncestors(t,n,r,i){for(const a of se(r)){const l=i.getWithExplicit(a);l.value!==void 0&&(l.explicit||l.value===r[a]||l.value==="derived"||r[a]==="flatten"?delete r[a]:ue(ZU(a,r[a],l.value)))}for(const a of se(n)){const l=i.get(a);l!==void 0&&(l===n[a]?delete n[a]:ue(ZU(a,n[a],l)))}const o=new Hu(n,r);i.copyAll(o);const s={};for(const a of se(o.combine())){const l=o.get(a);l!==null&&(s[a]=l)}return se(s).length===0||i.parseNothing?null:new ni(t,s)}get parse(){return this._parse}merge(t){this._parse={...this._parse,...t.parse},t.remove()}assembleFormatParse(){const t={};for(const n of se(this._parse)){const r=this._parse[n];Lm(n)===1&&(t[n]=r)}return t}producedFields(){return new Set(se(this._parse))}dependentFields(){return new Set(se(this._parse))}assembleTransforms(t=!1){return se(this._parse).filter(n=>t?Lm(n)>1:!0).map(n=>{const r=sze(n,this._parse[n]);return r?{type:"formula",expr:r,as:N0(n)}:null}).filter(n=>n!==null)}}class Ef extends jt{clone(){return new Ef(null)}constructor(t){super(t)}dependentFields(){return new Set}producedFields(){return new Set([xa])}hash(){return"Identifier"}assemble(){return{type:"identifier",as:xa}}}class Ox extends jt{clone(){return new Ox(null,this.params)}constructor(t,n){super(t),this.params=n}dependentFields(){return new Set}producedFields(){}hash(){return`Graticule ${ut(this.params)}`}assemble(){return{type:"graticule",...this.params===!0?{}:this.params}}}class Px extends jt{clone(){return new Px(null,this.params)}constructor(t,n){super(t),this.params=n}dependentFields(){return new Set}producedFields(){return new Set([this.params.as??"data"])}hash(){return`Hash ${ut(this.params)}`}assemble(){return{type:"sequence",...this.params}}}class Nh extends jt{constructor(t){super(null),t??(t={name:"source"});let n;if(Qc(t)||(n=t.format?{...eo(t.format,["parse"])}:{}),Gv(t))this._data={values:t.values};else if(Hm(t)){if(this._data={url:t.url},!n.type){let r=/(?:\.([^.]+))?$/.exec(t.url)[1];it(["json","csv","tsv","dsv","topojson"],r)||(r="json"),n.type=r}}else Wse(t)?this._data={values:[{type:"Sphere"}]}:(Use(t)||Qc(t))&&(this._data={});this._generator=Qc(t),t.name&&(this._name=t.name),n&&!Ht(n)&&(this._data.format=n)}dependentFields(){return new Set}producedFields(){}get data(){return this._data}hasName(){return!!this._name}get isGenerator(){return this._generator}get dataName(){return this._name}set dataName(t){this._name=t}set parent(t){throw new Error("Source nodes have to be roots.")}remove(){throw new Error("Source nodes are roots and cannot be removed.")}hash(){throw new Error("Cannot hash sources")}assemble(){return{name:this._name,...this._data,transform:[]}}}var HV=function(e,t,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(e,n):i?i.value=n:t.set(e,n),n},cze=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},C1;function AI(e){return e instanceof Nh||e instanceof Ox||e instanceof Px}class TI{constructor(){C1.set(this,void 0),HV(this,C1,!1,"f")}setModified(){HV(this,C1,!0,"f")}get modifiedFlag(){return cze(this,C1,"f")}}C1=new WeakMap;class fp extends TI{getNodeDepths(t,n,r){r.set(t,n);for(const i of t.children)this.getNodeDepths(i,n+1,r);return r}optimize(t){const r=[...this.getNodeDepths(t,0,new Map).entries()].sort((i,o)=>o[1]-i[1]);for(const i of r)this.run(i[0]);return this.modifiedFlag}}class RI extends TI{optimize(t){this.run(t);for(const n of t.children)this.optimize(n);return this.modifiedFlag}}class fze extends RI{mergeNodes(t,n){const r=n.shift();for(const i of n)t.removeChild(i),i.parent=r,i.remove()}run(t){const n=t.children.map(i=>i.hash()),r={};for(let i=0;i<n.length;i++)r[n[i]]===void 0?r[n[i]]=[t.children[i]]:r[n[i]].push(t.children[i]);for(const i of se(r))r[i].length>1&&(this.setModified(),this.mergeNodes(t,r[i]))}}class dze extends RI{constructor(t){super(),this.requiresSelectionId=t&&SI(t)}run(t){t instanceof Ef&&(this.requiresSelectionId&&(AI(t.parent)||t.parent instanceof la||t.parent instanceof ni)||(this.setModified(),t.remove()))}}class hze extends TI{optimize(t){return this.run(t,new Set),this.modifiedFlag}run(t,n){let r=new Set;t instanceof fl&&(r=t.producedFields(),xL(r,n)&&(this.setModified(),t.removeFormulas(n),t.producedFields.length===0&&t.remove()));for(const i of t.children)this.run(i,new Set([...n,...r]))}}class pze extends RI{constructor(){super()}run(t){t instanceof to&&!t.isRequired()&&(this.setModified(),t.remove())}}class gze extends fp{run(t){if(!AI(t)&&!(t.numChildren()>1)){for(const n of t.children)if(n instanceof ni)if(t instanceof ni)this.setModified(),t.merge(n);else{if(wL(t.producedFields(),n.dependentFields()))continue;this.setModified(),n.swapWithParent()}}}}class mze extends fp{run(t){const n=[...t.children],r=t.children.filter(i=>i instanceof ni);if(t.numChildren()>1&&r.length>=1){const i={},o=new Set;for(const s of r){const a=s.parse;for(const l of se(a))l in i?i[l]!==a[l]&&o.add(l):i[l]=a[l]}for(const s of o)delete i[s];if(!Ht(i)){this.setModified();const s=new ni(t,i);for(const a of n){if(a instanceof ni)for(const l of se(i))delete a.parse[l];t.removeChild(a),a.parent=s,a instanceof ni&&se(a.parse).length===0&&a.remove()}}}}}class yze extends fp{run(t){t instanceof to||t.numChildren()>0||t instanceof j0||t instanceof Nh||(this.setModified(),t.remove())}}class vze extends fp{run(t){const n=t.children.filter(i=>i instanceof fl),r=n.pop();for(const i of n)this.setModified(),r.merge(i)}}class bze extends fp{run(t){const n=t.children.filter(i=>i instanceof la),r={};for(const i of n){const o=ut(i.groupBy);o in r||(r[o]=[]),r[o].push(i)}for(const i of se(r)){const o=r[i];if(o.length>1){const s=o.pop();for(const a of o)s.merge(a)&&(t.removeChild(a),a.parent=s,a.remove(),this.setModified())}}}}class xze extends fp{constructor(t){super(),this.model=t}run(t){const n=!(AI(t)||t instanceof B0||t instanceof ni||t instanceof Ef),r=[],i=[];for(const o of t.children)o instanceof dl&&(n&&!wL(t.producedFields(),o.dependentFields())?r.push(o):i.push(o));if(r.length>0){const o=r.pop();for(const s of r)o.merge(s,this.model.renameSignal.bind(this.model));this.setModified(),t instanceof dl?t.merge(o,this.model.renameSignal.bind(this.model)):o.swapWithParent()}if(i.length>1){const o=i.pop();for(const s of i)o.merge(s,this.model.renameSignal.bind(this.model));this.setModified()}}}class wze extends fp{run(t){const n=[...t.children];if(!Nm(n,s=>s instanceof to)||t.numChildren()<=1)return;const i=[];let o;for(const s of n)if(s instanceof to){let a=s;for(;a.numChildren()===1;){const[l]=a.children;if(l instanceof to)a=l;else break}i.push(...a.children),o?(t.removeChild(s),s.parent=o.parent,o.parent.removeChild(o),o.parent=a,this.setModified()):o=a}else i.push(s);if(i.length){this.setModified();for(const s of i)s.parent.removeChild(s),s.parent=o}}}class dp extends jt{clone(){return new dp(null,Ge(this.transform))}constructor(t,n){super(t),this.transform=n}addDimensions(t){this.transform.groupby=rl(this.transform.groupby.concat(t),n=>n)}dependentFields(){const t=new Set;return this.transform.groupby&&this.transform.groupby.forEach(t.add,t),this.transform.joinaggregate.map(n=>n.field).filter(n=>n!==void 0).forEach(t.add,t),t}producedFields(){return new Set(this.transform.joinaggregate.map(this.getDefaultName))}getDefaultName(t){return t.as??ye(t)}hash(){return`JoinAggregateTransform ${ut(this.transform)}`}assemble(){const t=[],n=[],r=[];for(const o of this.transform.joinaggregate)n.push(o.op),r.push(this.getDefaultName(o)),t.push(o.field===void 0?null:o.field);const i=this.transform.groupby;return{type:"joinaggregate",as:r,ops:n,fields:t,...i!==void 0?{groupby:i}:{}}}}class Km extends jt{clone(){return new Km(null,{...this.filter})}constructor(t,n){super(t),this.filter=n}static make(t,n,r){const{config:i,markDef:o}=n,{marks:s,scales:a}=r;if(s==="include-invalid-values"&&a==="include-invalid-values")return null;const l=n.reduceFieldDef((u,c,f)=>{const d=Ll(f)&&n.getScaleComponent(f);if(d){const h=d.get("type"),{aggregate:p}=c,g=KL({scaleChannel:f,markDef:o,config:i,scaleType:h,isCountAggregate:t$(p)});g!=="show"&&g!=="always-valid"&&(u[c.field]=c)}return u},{});return se(l).length?new Km(t,l):null}dependentFields(){return new Set(se(this.filter))}producedFields(){return new Set}hash(){return`FilterInvalid ${ut(this.filter)}`}assemble(){const t=se(this.filter).reduce((n,r)=>{const i=this.filter[r],o=ye(i,{expr:"datum"});return i!==null&&(i.type==="temporal"?n.push(`(isDate(${o}) || (${tO(o)}))`):i.type==="quantitative"&&n.push(tO(o))),n},[]);return t.length>0?{type:"filter",expr:t.join(" && ")}:null}}function tO(e){return`isValid(${e}) && isFinite(+${e})`}function Sze(e){return e.stack.stackBy.reduce((t,n)=>{const r=n.fieldDef,i=ye(r);return i&&t.push(i),t},[])}function Cze(e){return te(e)&&e.every(t=>we(t))&&e.length>1}class xu extends jt{clone(){return new xu(null,Ge(this._stack))}constructor(t,n){super(t),this._stack=n}static makeFromTransform(t,n){const{stack:r,groupby:i,as:o,offset:s="zero"}=n,a=[],l=[];if(n.sort!==void 0)for(const f of n.sort)a.push(f.field),l.push(jn(f.order,"ascending"));const u={field:a,order:l};let c;return Cze(o)?c=o:we(o)?c=[o,`${o}_end`]:c=[`${n.stack}_start`,`${n.stack}_end`],new xu(t,{dimensionFieldDefs:[],stackField:r,groupby:i,offset:s,sort:u,facetby:[],as:c})}static makeFromEncoding(t,n){const r=n.stack,{encoding:i}=n;if(!r)return null;const{groupbyChannels:o,fieldChannel:s,offset:a,impute:l}=r,u=o.map(h=>{const p=i[h];return ba(p)}).filter(h=>!!h),c=Sze(n),f=n.encoding.order;let d;if(te(f)||ce(f))d=aoe(f);else{const h=Qoe(f)?f.sort:s==="y"?"descending":"ascending";d=c.reduce((p,g)=>(p.field.includes(g)||(p.field.push(g),p.order.push(h)),p),{field:[],order:[]})}return new xu(t,{dimensionFieldDefs:u,stackField:n.vgField(s),facetby:[],stackby:c,sort:d,offset:a,impute:l,as:[n.vgField(s,{suffix:"start",forAs:!0}),n.vgField(s,{suffix:"end",forAs:!0})]})}get stack(){return this._stack}addDimensions(t){this._stack.facetby.push(...t)}dependentFields(){const t=new Set;return t.add(this._stack.stackField),this.getGroupbyFields().forEach(t.add,t),this._stack.facetby.forEach(t.add,t),this._stack.sort.field.forEach(t.add,t),t}producedFields(){return new Set(this._stack.as)}hash(){return`Stack ${ut(this._stack)}`}getGroupbyFields(){const{dimensionFieldDefs:t,impute:n,groupby:r}=this._stack;return t.length>0?t.map(i=>i.bin?n?[ye(i,{binSuffix:"mid"})]:[ye(i,{}),ye(i,{binSuffix:"end"})]:[ye(i)]).flat():r??[]}assemble(){const t=[],{facetby:n,dimensionFieldDefs:r,stackField:i,stackby:o,sort:s,offset:a,impute:l,as:u}=this._stack;if(l)for(const c of r){const{bandPosition:f=.5,bin:d}=c;if(d){const h=ye(c,{expr:"datum"}),p=ye(c,{expr:"datum",binSuffix:"end"});t.push({type:"formula",expr:`${tO(h)} ? ${f}*${h}+${1-f}*${p} : ${h}`,as:ye(c,{binSuffix:"mid",forAs:!0})})}t.push({type:"impute",field:i,groupby:[...o,...n],key:ye(c,{binSuffix:"mid"}),method:"value",value:0})}return t.push({type:"stack",groupby:[...this.getGroupbyFields(),...n],field:i,sort:s,as:u,offset:a}),t}}class U0 extends jt{clone(){return new U0(null,Ge(this.transform))}constructor(t,n){super(t),this.transform=n}addDimensions(t){this.transform.groupby=rl(this.transform.groupby.concat(t),n=>n)}dependentFields(){const t=new Set;return(this.transform.groupby??[]).forEach(t.add,t),(this.transform.sort??[]).forEach(n=>t.add(n.field)),this.transform.window.map(n=>n.field).filter(n=>n!==void 0).forEach(t.add,t),t}producedFields(){return new Set(this.transform.window.map(this.getDefaultName))}getDefaultName(t){return t.as??ye(t)}hash(){return`WindowTransform ${ut(this.transform)}`}assemble(){const t=[],n=[],r=[],i=[];for(const f of this.transform.window)n.push(f.op),r.push(this.getDefaultName(f)),i.push(f.param===void 0?null:f.param),t.push(f.field===void 0?null:f.field);const o=this.transform.frame,s=this.transform.groupby;if(o&&o[0]===null&&o[1]===null&&n.every(f=>FL(f)))return{type:"joinaggregate",as:r,ops:n,fields:t,...s!==void 0?{groupby:s}:{}};const a=[],l=[];if(this.transform.sort!==void 0)for(const f of this.transform.sort)a.push(f.field),l.push(f.order??"ascending");const u={field:a,order:l},c=this.transform.ignorePeers;return{type:"window",params:i,as:r,ops:n,fields:t,sort:u,...c!==void 0?{ignorePeers:c}:{},...s!==void 0?{groupby:s}:{},...o!==void 0?{frame:o}:{}}}}function Eze(e){function t(n){if(!(n instanceof j0)){const r=n.clone();if(r instanceof to){const i=rO+r.getSource();r.setSource(i),e.model.component.data.outputNodes[i]=r}else(r instanceof la||r instanceof xu||r instanceof U0||r instanceof dp)&&r.addDimensions(e.fields);for(const i of n.children.flatMap(t))i.parent=r;return[r]}return n.children.flatMap(t)}return t}function nO(e){if(e instanceof j0)if(e.numChildren()===1&&!(e.children[0]instanceof to)){const t=e.children[0];(t instanceof la||t instanceof xu||t instanceof U0||t instanceof dp)&&t.addDimensions(e.fields),t.swapWithParent(),nO(e)}else{const t=e.model.component.data.main;Iae(t);const n=Eze(e),r=e.children.map(n).flat();for(const i of r)i.parent=t}else e.children.map(nO)}function Iae(e){if(e instanceof to&&e.type===Fn.Main&&e.numChildren()===1){const t=e.children[0];t instanceof j0||(t.swapWithParent(),Iae(e))}}const rO="scale_",J2=5;function iO(e){for(const t of e){for(const n of t.children)if(n.parent!==t)return!1;if(!iO(t.children))return!1}return!0}function Ls(e,t){let n=!1;for(const r of t)n=e.optimize(r)||n;return n}function qV(e,t,n){let r=e.sources,i=!1;return i=Ls(new pze,r)||i,i=Ls(new dze(t),r)||i,r=r.filter(o=>o.numChildren()>0),i=Ls(new yze,r)||i,r=r.filter(o=>o.numChildren()>0),n||(i=Ls(new gze,r)||i,i=Ls(new xze(t),r)||i,i=Ls(new hze,r)||i,i=Ls(new mze,r)||i,i=Ls(new bze,r)||i,i=Ls(new vze,r)||i,i=Ls(new fze,r)||i,i=Ls(new wze,r)||i),e.sources=r,i}function kze(e,t){iO(e.sources);let n=0,r=0;for(let i=0;i<J2&&qV(e,t,!0);i++)n++;e.sources.map(nO);for(let i=0;i<J2&&qV(e,t,!1);i++)r++;iO(e.sources),Math.max(n,r)===J2&&ue(`Maximum optimization runs(${J2}) reached.`)}class dr{constructor(t){Object.defineProperty(this,"signal",{enumerable:!0,get:t})}static fromName(t,n){return new dr(()=>t(n))}}function zae(e){wn(e)?_ze(e):$ze(e)}function _ze(e){const t=e.component.scales;for(const n of se(t)){const r=Tze(e,n);if(t[n].setWithExplicit("domains",r),Fze(e,n),e.component.data.isFaceted){let o=e;for(;!Fo(o)&&o.parent;)o=o.parent;if(o.component.resolve.scale[n]==="shared")for(const a of r.value)lu(a)&&(a.data=rO+a.data.replace(rO,""))}}}function $ze(e){for(const n of e.children)zae(n);const t=e.component.scales;for(const n of se(t)){let r,i=null;for(const o of e.children){const s=o.component.scales[n];if(s){r===void 0?r=s.getWithExplicit("domains"):r=Sf(r,s.getWithExplicit("domains"),"domains","scale",oO);const a=s.get("selectionExtent");i&&a&&i.param!==a.param&&ue(CNe),i=a}}t[n].setWithExplicit("domains",r),i&&t[n].set("selectionExtent",i,!0)}}function Aze(e,t,n,r){if(e==="unaggregated"){const{valid:i,reason:o}=GV(t,n);if(!i){ue(o);return}}else if(e===void 0&&r.useUnaggregatedDomain){const{valid:i}=GV(t,n);if(i)return"unaggregated"}return e}function Tze(e,t){const n=e.getScaleComponent(t).get("type"),{encoding:r}=e,i=Aze(e.scaleDomain(t),e.typedFieldDef(t),n,e.config.scale);return i!==e.scaleDomain(t)&&(e.specifiedScales[t]={...e.specifiedScales[t],domain:i}),t==="x"&&rr(r.x2)?rr(r.x)?Sf(hc(n,i,e,"x"),hc(n,i,e,"x2"),"domain","scale",oO):hc(n,i,e,"x2"):t==="y"&&rr(r.y2)?rr(r.y)?Sf(hc(n,i,e,"y"),hc(n,i,e,"y2"),"domain","scale",oO):hc(n,i,e,"y2"):hc(n,i,e,t)}function Rze(e,t,n){return e.map(r=>({signal:`{data: ${h$(r,{timeUnit:n,type:t})}}`}))}function u3(e,t,n){var i;const r=(i=sr(n))==null?void 0:i.unit;return t==="temporal"||r?Rze(e,t,r):[e]}function hc(e,t,n,r){const{encoding:i,markDef:o,mark:s,config:a,stack:l}=n,u=rr(i[r]),{type:c}=u,f=u.timeUnit,d=E9e({invalid:Cl("invalid",o,a),isPath:Wf(s)});if(qLe(t)){const g=hc(e,void 0,n,r),m=u3(t.unionWith,c,f);return Va([...m,...g.value])}else{if(Fe(t))return Va([t]);if(t&&t!=="unaggregated"&&!Doe(t))return Va(u3(t,c,f))}if(l&&r===l.fieldChannel){if(l.offset==="normalize")return vo([[0,1]]);const g=n.requestDataName(d);return vo([{data:g,field:n.vgField(r,{suffix:"start"})},{data:g,field:n.vgField(r,{suffix:"end"})}])}const h=Ll(r)&&ce(u)?Oze(n,r,e):void 0;if(Il(u)){const g=u3([u.datum],c,f);return vo(g)}const p=u;if(t==="unaggregated"){const{field:g}=u;return vo([{data:n.requestDataName(d),field:ye({field:g,aggregate:"min"})},{data:n.requestDataName(d),field:ye({field:g,aggregate:"max"})}])}else if(Jt(p.bin)){if(br(e))return vo(e==="bin-ordinal"?[]:[{data:Wv(h)?n.requestDataName(d):n.requestDataName(Fn.Raw),field:n.vgField(r,Tx(p,r)?{binSuffix:"range"}:{}),sort:h===!0||!ve(h)?{field:n.vgField(r,{}),op:"min"}:h}]);{const{bin:g}=p;if(Jt(g)){const m=$I(n,p.field,g);return vo([new dr(()=>{const y=n.getSignalName(m);return`[${y}.start, ${y}.stop]`})])}else return vo([{data:n.requestDataName(d),field:n.vgField(r,{})}])}}else if(p.timeUnit&&it(["time","utc"],e)){const g=i[Nl(r)];if(Koe(p,g,o,a)){const m=n.requestDataName(d),y=wf({fieldDef:p,fieldDef2:g,markDef:o,config:a}),v=qv(s)&&y!==.5&&Un(r);return vo([{data:m,field:n.vgField(r,v?{suffix:b$}:{})},{data:m,field:n.vgField(r,{suffix:v?x$:"end"})}])}}return vo(h?[{data:Wv(h)?n.requestDataName(d):n.requestDataName(Fn.Raw),field:n.vgField(r),sort:h}]:[{data:n.requestDataName(d),field:n.vgField(r)}])}function c3(e,t){const{op:n,field:r,order:i}=e;return{op:n??(t?"sum":u$),...r?{field:ks(r)}:{},...i?{order:i}:{}}}function Fze(e,t){var a;const n=e.component.scales[t],r=e.specifiedScales[t].domain,i=(a=e.fieldDef(t))==null?void 0:a.bin,o=Doe(r)?r:void 0,s=ap(i)&&n$(i.extent)?i.extent:void 0;(o||s)&&n.set("selectionExtent",o??s,!0)}function Oze(e,t,n){if(!br(n))return;const r=e.fieldDef(t),i=r.sort;if(Xoe(i))return{op:"min",field:Xm(r,t),order:"ascending"};const{stack:o}=e,s=o?new Set([...o.groupbyFields,...o.stackBy.map(a=>a.fieldDef.field)]):void 0;if(vu(i)){const a=o&&!s.has(i.field);return c3(i,a)}else if(EIe(i)){const{encoding:a,order:l}=i,u=e.fieldDef(a),{aggregate:c,field:f}=u,d=o&&!s.has(f);if(Sl(c)||Vu(c))return c3({field:ye(u),order:l},d);if(FL(c)||!c)return c3({op:c,field:f,order:l},d)}else{if(i==="descending")return{op:"min",field:e.vgField(t),order:"descending"};if(it(["ascending",void 0],i))return!0}}function GV(e,t){const{aggregate:n,type:r}=e;return n?we(n)&&!sNe.has(n)?{valid:!1,reason:YNe(n)}:r==="quantitative"&&t==="log"?{valid:!1,reason:KNe(e)}:{valid:!0}:{valid:!1,reason:XNe(e)}}function oO(e,t,n,r){return e.explicit&&t.explicit&&ue(tLe(n,r,e.value,t.value)),{explicit:e.explicit,value:[...e.value,...t.value]}}function Pze(e){const t=rl(e.map(s=>{if(lu(s)){const{sort:a,...l}=s;return l}return s}),ut),n=rl(e.map(s=>{if(lu(s)){const a=s.sort;return a!==void 0&&!Wv(a)&&("op"in a&&a.op==="count"&&delete a.field,a.order==="ascending"&&delete a.order),a}}).filter(s=>s!==void 0),ut);if(t.length===0)return;if(t.length===1){const s=e[0];if(lu(s)&&n.length>0){let a=n[0];if(n.length>1){ue(tV);const l=n.filter(u=>ve(u)&&"op"in u&&u.op!=="min");n.every(u=>ve(u)&&"op"in u)&&l.length===1?a=l[0]:a=!0}else if(ve(a)&&"field"in a){const l=a.field;s.field===l&&(a=a.order?{order:a.order}:!0)}return{...s,sort:a}}return s}const r=rl(n.map(s=>Wv(s)||!("op"in s)||we(s.op)&&Se(nNe,s.op)?s:(ue(rLe(s)),!0)),ut);let i;r.length===1?i=r[0]:r.length>1&&(ue(tV),i=!0);const o=rl(e.map(s=>lu(s)?s.data:null),s=>s);return o.length===1&&o[0]!==null?{data:o[0],fields:t.map(a=>a.field),...i?{sort:i}:{}}:{fields:t,...i?{sort:i}:{}}}function FI(e){if(lu(e)&&we(e.field))return e.field;if(aNe(e)){let t;for(const n of e.fields)if(lu(n)&&we(n.field)){if(!t)t=n.field;else if(t!==n.field)return ue(iLe),t}return ue(oLe),t}else if(lNe(e)){ue(sLe);const t=e.fields[0];return we(t)?t:void 0}}function k$(e,t){const r=e.component.scales[t].get("domains").map(i=>(lu(i)&&(i.data=e.lookupDataSource(i.data)),i));return Pze(r)}function Bae(e){return V0(e)||OI(e)?e.children.reduce((t,n)=>t.concat(Bae(n)),XV(e)):XV(e)}function XV(e){return se(e.component.scales).reduce((t,n)=>{const r=e.component.scales[n];if(r.merged)return t;const i=r.combine(),{name:o,type:s,selectionExtent:a,domains:l,range:u,reverse:c,...f}=i,d=Dze(i.range,o,n,e),h=k$(e,n),p=a?R9e(e,a,r,h):null;return t.push({name:o,type:s,...h?{domain:h}:{},...p?{domainRaw:p}:{},range:d,...c!==void 0?{reverse:c}:{},...f}),t},[])}function Dze(e,t,n,r){if(Un(n)){if(lp(e))return{step:{signal:`${t}_step`}}}else if(ve(e)&&lu(e))return{...e,data:r.lookupDataSource(e.data)};return e}class jae extends Hu{constructor(t,n){super({},{name:t}),this.merged=!1,this.setWithExplicit("type",n)}domainHasZero(){const t=this.get("type");if(it([Tr.LOG,Tr.TIME,Tr.UTC],t))return"definitely-not";const n=this.get("zero");if(n===!0||n===void 0&&it([Tr.LINEAR,Tr.SQRT,Tr.POW],t))return"definitely";const r=this.get("domains");if(r.length>0){let i=!1,o=!1,s=!1;for(const a of r){if(te(a)){const l=a[0],u=a[a.length-1];if(St(l)&&St(u))if(l<=0&&u>=0){i=!0;continue}else{o=!0;continue}}s=!0}if(i)return"definitely";if(o&&!s)return"definitely-not"}return"maybe"}}const Mze=["range","scheme"];function Nze(e){const t=e.component.scales;for(const n of RL){const r=t[n];if(!r)continue;const i=Lze(n,e);r.setWithExplicit("range",i)}}function YV(e,t){const n=e.fieldDef(t);if(n!=null&&n.bin){const{bin:r,field:i}=n,o=fo(t),s=e.getName(o);if(ve(r)&&r.binned&&r.step!==void 0)return new dr(()=>{const a=e.scaleName(t),l=`(domain("${a}")[1] - domain("${a}")[0]) / ${r.step}`;return`${e.getSignalName(s)} / (${l})`});if(Jt(r)){const a=$I(e,i,r);return new dr(()=>{const l=e.getSignalName(a),u=`(${l}.stop - ${l}.start) / ${l}.step`;return`${e.getSignalName(s)} / (${u})`})}}}function Lze(e,t){const n=t.specifiedScales[e],{size:r}=t,o=t.getScaleComponent(e).get("type");for(const f of Mze)if(n[f]!==void 0){const d=jF(o,f),h=Moe(e,f);if(!d)ue(poe(o,f,e));else if(h)ue(h);else switch(f){case"range":{const p=n.range;if(te(p)){if(Un(e))return Va(p.map(g=>{if(g==="width"||g==="height"){const m=t.getName(g),y=t.getSignalName.bind(t);return dr.fromName(y,m)}return g}))}else if(ve(p))return Va({data:t.requestDataName(Fn.Main),field:p.field,sort:{op:"min",field:t.vgField(e)}});return Va(p)}case"scheme":return Va(Ize(n[f]))}}const s=e===mn||e==="xOffset"?"width":"height",a=r[s];if(kl(a)){if(Un(e))if(br(o)){const f=Vae(a,t,e);if(f)return Va({step:f})}else ue(goe(s));else if(wx(e)){const f=e===If?"x":"y";if(t.getScaleComponent(f).get("type")==="band"){const p=Wae(a,o);if(p)return Va(p)}}}const{rangeMin:l,rangeMax:u}=n,c=zze(e,t);return(l!==void 0||u!==void 0)&&jF(o,"rangeMin")&&te(c)&&c.length===2?Va([l??c[0],u??c[1]]):vo(c)}function Ize(e){return HLe(e)?{scheme:e.name,...eo(e,["name"])}:{scheme:e}}function Uae(e,t,n,{center:r}={}){const i=fo(e),o=t.getName(i),s=t.getSignalName.bind(t);return e===wr&&ya(n)?r?[dr.fromName(a=>`${s(a)}/2`,o),dr.fromName(a=>`-${s(a)}/2`,o)]:[dr.fromName(s,o),0]:r?[dr.fromName(a=>`-${s(a)}/2`,o),dr.fromName(a=>`${s(a)}/2`,o)]:[0,dr.fromName(s,o)]}function zze(e,t){const{size:n,config:r,mark:i,encoding:o}=t,{type:s}=rr(o[e]),l=t.getScaleComponent(e).get("type"),{domain:u,domainMid:c}=t.specifiedScales[e];switch(e){case mn:case wr:{if(it(["point","band"],l)){const f=Hae(e,n,r.view);if(kl(f))return{step:Vae(f,t,e)}}return Uae(e,t,l)}case If:case L0:return Bze(e,t,l);case Bu:{const f=Vze(i,r),d=Wze(i,n,t,r);return jm(l)?Uze(f,d,jze(l,r,u,e)):[f,d]}case Rs:return[0,Math.PI*2];case op:return[0,360];case _a:return[0,new dr(()=>{const f=t.getSignalName(Fo(t.parent)?"child_width":"width"),d=t.getSignalName(Fo(t.parent)?"child_height":"height");return`min(${f},${d})/2`})];case jf:return[r.scale.minStrokeWidth,r.scale.maxStrokeWidth];case Uf:return[[1,0],[4,2],[2,1],[1,1],[1,2,4,2]];case co:return"symbol";case uo:case Dl:case Ml:return l==="ordinal"?s==="nominal"?"category":"ordinal":c!==void 0?"diverging":i==="rect"||i==="geoshape"?"heatmap":"ramp";case ju:case zf:case Bf:return[r.scale.minOpacity,r.scale.maxOpacity]}}function Vae(e,t,n){const{encoding:r}=t,i=t.getScaleComponent(n),o=_L(n),s=r[o];if(Ase({step:e,offsetIsDiscrete:Qe(s)&&Toe(s.type)})==="offset"&&lse(r,o)){const l=t.getScaleComponent(o);let c=`domain('${t.scaleName(o)}').length`;if(l.get("type")==="band"){const d=l.get("paddingInner")??l.get("padding")??0,h=l.get("paddingOuter")??l.get("padding")??0;c=`bandspace(${c}, ${d}, ${h})`}const f=i.get("paddingInner")??i.get("padding");return{signal:`${e.step} * ${c} / (1-${dNe(f)})`}}else return e.step}function Wae(e,t){if(Ase({step:e,offsetIsDiscrete:br(t)})==="offset")return{step:e.step}}function Bze(e,t,n){const r=e===If?"x":"y",i=t.getScaleComponent(r);if(!i)return Uae(r,t,n,{center:!0});const o=i.get("type"),s=t.scaleName(r),{markDef:a,config:l}=t;if(o==="band"){const u=Hae(r,t.size,t.config.view);if(kl(u)){const c=Wae(u,n);if(c)return c}return[0,{signal:`bandwidth('${s}')`}]}else{const u=t.encoding[r];if(ce(u)&&u.timeUnit){const c=koe(u.timeUnit,p=>`scale('${s}', ${p})`),f=t.config.scale.bandWithNestedOffsetPaddingInner,d=wf({fieldDef:u,markDef:a,config:l})-.5,h=d!==0?` + ${d}`:"";if(f){const p=Fe(f)?`${f.signal}/2`+h:`${f/2+d}`,g=Fe(f)?`(1 - ${f.signal}/2)`+h:`${1-f/2+d}`;return[{signal:`${p} * (${c})`},{signal:`${g} * (${c})`}]}return[0,{signal:c}]}return Nie(`Cannot use ${e} scale if ${r} scale is not discrete.`)}}function Hae(e,t,n){const r=e===mn?"width":"height",i=t[r];return i||_E(n,r)}function jze(e,t,n,r){switch(e){case"quantile":return t.scale.quantileCount;case"quantize":return t.scale.quantizeCount;case"threshold":return n!==void 0&&te(n)?n.length+1:(ue(gLe(r)),3)}}function Uze(e,t,n){const r=()=>{const i=oa(t),o=oa(e),s=`(${i} - ${o}) / (${n} - 1)`;return`sequence(${o}, ${i} + ${s}, ${s})`};return Fe(t)?new dr(r):{signal:r()}}function Vze(e,t){switch(e){case"bar":case"tick":return t.scale.minBandSize;case"line":case"trail":case"rule":return t.scale.minStrokeWidth;case"text":return t.scale.minFontSize;case"point":case"square":case"circle":return t.scale.minSize}throw new Error(r$("size",e))}const KV=.95;function Wze(e,t,n,r){const i={x:YV(n,"x"),y:YV(n,"y")};switch(e){case"bar":case"tick":{if(r.scale.maxBandSize!==void 0)return r.scale.maxBandSize;const o=QV(t,i,r.view);return St(o)?o-1:new dr(()=>`${o.signal} - 1`)}case"line":case"trail":case"rule":return r.scale.maxStrokeWidth;case"text":return r.scale.maxFontSize;case"point":case"square":case"circle":{if(r.scale.maxSize)return r.scale.maxSize;const o=QV(t,i,r.view);return St(o)?Math.pow(KV*o,2):new dr(()=>`pow(${KV} * ${o.signal}, 2)`)}}throw new Error(r$("size",e))}function QV(e,t,n){const r=kl(e.width)?e.width.step:HF(n,"width"),i=kl(e.height)?e.height.step:HF(n,"height");return t.x||t.y?new dr(()=>`min(${[t.x?t.x.signal:r,t.y?t.y.signal:i].join(", ")})`):Math.min(r,i)}function qae(e,t){wn(e)?Hze(e,t):Xae(e,t)}function Hze(e,t){const n=e.component.scales,{config:r,encoding:i,markDef:o,specifiedScales:s}=e;for(const a of se(n)){const l=s[a],u=n[a],c=e.getScaleComponent(a),f=rr(i[a]),d=l[t],h=c.get("type"),p=c.get("padding"),g=c.get("paddingInner"),m=jF(h,t),y=Moe(a,t);if(d!==void 0&&(m?y&&ue(y):ue(poe(h,t,a))),m&&y===void 0)if(d!==void 0){const v=f.timeUnit,b=f.type;switch(t){case"domainMax":case"domainMin":up(l[t])||b==="temporal"||v?u.set(t,{signal:h$(l[t],{type:b,timeUnit:v})},!0):u.set(t,l[t],!0);break;default:u.copyKeyFromObject(t,l)}}else{const v=le(JV,t)?JV[t]({model:e,channel:a,fieldOrDatumDef:f,scaleType:h,scalePadding:p,scalePaddingInner:g,domain:l.domain,domainMin:l.domainMin,domainMax:l.domainMax,markDef:o,config:r,hasNestedOffsetScale:use(i,a),hasSecondaryRangeChannel:!!i[Nl(a)]}):r.scale[t];v!==void 0&&u.set(t,v,!1)}}}const JV={bins:({model:e,fieldOrDatumDef:t})=>ce(t)?qze(e,t):void 0,interpolate:({channel:e,fieldOrDatumDef:t})=>Gze(e,t.type),nice:({scaleType:e,channel:t,domain:n,domainMin:r,domainMax:i,fieldOrDatumDef:o})=>Xze(e,t,n,r,i,o),padding:({channel:e,scaleType:t,fieldOrDatumDef:n,markDef:r,config:i})=>Yze(e,t,i.scale,n,r,i.bar),paddingInner:({scalePadding:e,channel:t,markDef:n,scaleType:r,config:i,hasNestedOffsetScale:o})=>Kze(e,t,n.type,r,i.scale,o),paddingOuter:({scalePadding:e,channel:t,scaleType:n,scalePaddingInner:r,config:i,hasNestedOffsetScale:o})=>Qze(e,t,n,r,i.scale,o),reverse:({fieldOrDatumDef:e,scaleType:t,channel:n,config:r})=>{const i=ce(e)?e.sort:void 0;return Jze(t,i,n,r.scale)},zero:({channel:e,fieldOrDatumDef:t,domain:n,markDef:r,scaleType:i,config:o,hasSecondaryRangeChannel:s})=>Zze(e,t,n,r,i,o.scale,s)};function Gae(e){wn(e)?Nze(e):Xae(e,"range")}function Xae(e,t){const n=e.component.scales;for(const r of e.children)t==="range"?Gae(r):qae(r,t);for(const r of se(n)){let i;for(const o of e.children){const s=o.component.scales[r];if(s){const a=s.getWithExplicit(t);i=Sf(i,a,t,"scale",jse((l,u)=>{switch(t){case"range":return l.step&&u.step?l.step-u.step:0}return 0}))}}n[r].setWithExplicit(t,i)}}function qze(e,t){const n=t.bin;if(Jt(n)){const r=$I(e,t.field,n);return new dr(()=>e.getSignalName(r))}else if(_r(n)&&ap(n)&&n.step!==void 0)return{step:n.step}}function Gze(e,t){if(it([uo,Dl,Ml],e)&&t!=="nominal")return"hcl"}function Xze(e,t,n,r,i,o){var s;if(!((s=ba(o))!=null&&s.bin||te(n)||i!=null||r!=null||it([Tr.TIME,Tr.UTC],e)))return Un(t)?!0:void 0}function Yze(e,t,n,r,i,o){if(Un(e)){if(il(t)){if(n.continuousPadding!==void 0)return n.continuousPadding;const{type:s,orient:a}=i;if(s==="bar"&&!(ce(r)&&(r.bin||r.timeUnit))&&(a==="vertical"&&e==="x"||a==="horizontal"&&e==="y"))return o.continuousBandSize}if(t===Tr.POINT)return n.pointPadding}}function Kze(e,t,n,r,i,o=!1){if(e===void 0){if(Un(t)){const{bandPaddingInner:s,barBandPaddingInner:a,rectBandPaddingInner:l,tickBandPaddingInner:u,bandWithNestedOffsetPaddingInner:c}=i;return o?c:jn(s,n==="bar"?a:n==="tick"?u:l)}else if(wx(t)&&r===Tr.BAND)return i.offsetBandPaddingInner}}function Qze(e,t,n,r,i,o=!1){if(e===void 0){if(Un(t)){const{bandPaddingOuter:s,bandWithNestedOffsetPaddingOuter:a}=i;if(o)return a;if(n===Tr.BAND)return jn(s,Fe(r)?{signal:`${r.signal}/2`}:r/2)}else if(wx(t)){if(n===Tr.POINT)return .5;if(n===Tr.BAND)return i.offsetBandPaddingOuter}}}function Jze(e,t,n,r){if(n==="x"&&r.xReverse!==void 0)return ya(e)&&t==="descending"?Fe(r.xReverse)?{signal:`!${r.xReverse.signal}`}:!r.xReverse:r.xReverse;if(ya(e)&&t==="descending")return!0}function Zze(e,t,n,r,i,o,s){if(!!n&&n!=="unaggregated"&&ya(i)){if(te(n)){const l=n[0],u=n[n.length-1];if(St(l)&&l<=0&&St(u)&&u>=0)return!0}return!1}if(e==="size"&&t.type==="quantitative"&&!jm(i))return!0;if(!(ce(t)&&t.bin)&&it([...Uu,...XMe],e)){const{orient:l,type:u}=r;return it(["bar","area","line","trail"],u)&&(l==="horizontal"&&e==="y"||l==="vertical"&&e==="x")?!1:it(["bar","area"],u)&&!s?!0:o==null?void 0:o.zero}return!1}function eBe(e,t,n,r,i=!1){const o=tBe(t,n,r,i),{type:s}=e;return Ll(t)?s!==void 0?JLe(t,s)?ce(n)&&!QLe(s,n.type)?(ue(ZNe(s,o)),o):s:(ue(JNe(t,s,o)),o):o:null}function tBe(e,t,n,r){var i;switch(t.type){case"nominal":case"ordinal":{if(Ng(e)||e3(e)==="discrete")return e==="shape"&&t.type==="ordinal"&&ue(t3(e,"ordinal")),"ordinal";if(Un(e)||wx(e)){if(it(["rect","bar","image","rule","tick"],n.type)||r)return"band"}else if(n.type==="arc"&&e in TL)return"band";const o=n[fo(e)];return Oh(o)||Vm(t)&&((i=t.axis)!=null&&i.tickBand)?"band":"point"}case"temporal":return Ng(e)?"time":e3(e)==="discrete"?(ue(t3(e,"temporal")),"ordinal"):ce(t)&&t.timeUnit&&sr(t.timeUnit).utc?"utc":"time";case"quantitative":return Ng(e)?ce(t)&&Jt(t.bin)?"bin-ordinal":"linear":e3(e)==="discrete"?(ue(t3(e,"quantitative")),"ordinal"):"linear";case"geojson":return}throw new Error(doe(t.type))}function nBe(e,{ignoreRange:t}={}){Yae(e),zae(e);for(const n of KLe)qae(e,n);t||Gae(e)}function Yae(e){wn(e)?e.component.scales=rBe(e):e.component.scales=oBe(e)}function rBe(e){const{encoding:t,mark:n,markDef:r}=e,i={};for(const o of RL){const s=rr(t[o]);if(s&&n===Ioe&&o===co&&s.type===I0)continue;let a=s&&s.scale;if(s&&a!==null&&a!==!1){a??(a={});const l=use(t,o),u=eBe(a,o,s,r,l);i[o]=new jae(e.scaleName(`${o}`,!0),{value:u,explicit:a.type===u})}}return i}const iBe=jse((e,t)=>rV(e)-rV(t));function oBe(e){var t;const n=e.component.scales={},r={},i=e.component.resolve;for(const o of e.children){Yae(o);for(const s of se(o.component.scales))if((t=i.scale)[s]??(t[s]=_ae(s,e)),i.scale[s]==="shared"){const a=r[s],l=o.component.scales[s].getWithExplicit("type");a?BLe(a.value,l.value)?r[s]=Sf(a,l,"type","scale",iBe):(i.scale[s]="independent",delete r[s]):r[s]=l}}for(const o of se(r)){const s=e.scaleName(o,!0),a=r[o];n[o]=new jae(s,a);for(const l of e.children){const u=l.component.scales[o];u&&(l.renameScale(u.get("name"),s),u.merged=!0)}}return n}class f3{constructor(){this.nameMap={}}rename(t,n){this.nameMap[t]=n}has(t){return this.nameMap[t]!==void 0}get(t){for(;this.nameMap[t]&&t!==this.nameMap[t];)t=this.nameMap[t];return t}}function wn(e){return(e==null?void 0:e.type)==="unit"}function Fo(e){return(e==null?void 0:e.type)==="facet"}function OI(e){return(e==null?void 0:e.type)==="concat"}function V0(e){return(e==null?void 0:e.type)==="layer"}class PI{constructor(t,n,r,i,o,s,a){this.type=n,this.parent=r,this.config=o,this.correctDataNames=l=>{var u,c,f;return(u=l.from)!=null&&u.data&&(l.from.data=this.lookupDataSource(l.from.data)),(f=(c=l.from)==null?void 0:c.facet)!=null&&f.data&&(l.from.facet.data=this.lookupDataSource(l.from.facet.data)),l},this.parent=r,this.config=o,this.view=$r(a),this.name=t.name??i,this.title=xc(t.title)?{text:t.title}:t.title?$r(t.title):void 0,this.scaleNameMap=r?r.scaleNameMap:new f3,this.projectionNameMap=r?r.projectionNameMap:new f3,this.signalNameMap=r?r.signalNameMap:new f3,this.data=t.data,this.description=t.description,this.transforms=d9e(t.transform??[]),this.layout=n==="layer"||n==="unit"?{}:m8e(t,n,o),this.component={data:{sources:r?r.component.data.sources:[],outputNodes:r?r.component.data.outputNodes:{},outputNodeRefCounts:r?r.component.data.outputNodeRefCounts:{},isFaceted:c$(t)||(r==null?void 0:r.component.data.isFaceted)&&t.data===void 0},layoutSize:new Hu,layoutHeaders:{row:{},column:{},facet:{}},mark:null,resolve:{scale:{},axis:{},legend:{},...s?Ge(s):{}},selection:null,scales:null,projection:null,axes:{},legends:{}}}get width(){return this.getSizeSignalRef("width")}get height(){return this.getSizeSignalRef("height")}parse(){this.parseScale(),this.parseLayoutSize(),this.renameTopLevelLayoutSizeSignal(),this.parseSelections(),this.parseProjection(),this.parseData(),this.parseAxesAndHeaders(),this.parseLegends(),this.parseMarkGroup()}parseScale(){nBe(this)}parseProjection(){Nae(this)}renameTopLevelLayoutSizeSignal(){this.getName("width")!=="width"&&this.renameSignal(this.getName("width"),"width"),this.getName("height")!=="height"&&this.renameSignal(this.getName("height"),"height")}parseLegends(){Fae(this)}assembleEncodeFromView(t){const{style:n,...r}=t,i={};for(const o of se(r)){const s=r[o];s!==void 0&&(i[o]=ln(s))}return i}assembleGroupEncodeEntry(t){let n={};return this.view&&(n=this.assembleEncodeFromView(this.view)),!t&&(this.description&&(n.description=ln(this.description)),this.type==="unit"||this.type==="layer")?{width:this.getSizeSignalRef("width"),height:this.getSizeSignalRef("height"),...n}:Ht(n)?void 0:n}assembleLayout(){if(!this.layout)return;const{spacing:t,...n}=this.layout,{component:r,config:i}=this,o=k7e(r.layoutHeaders,i);return{padding:t,...this.assembleDefaultLayout(),...n,...o?{titleBand:o}:{}}}assembleDefaultLayout(){return{}}assembleHeaderMarks(){const{layoutHeaders:t}=this.component;let n=[];for(const r of hs)t[r].title&&n.push(b7e(this,r));for(const r of CI)n=n.concat(x7e(this,r));return n}assembleAxes(){return s7e(this.component.axes,this.config)}assembleLegends(){return Pae(this)}assembleProjections(){return X7e(this)}assembleTitle(){const{encoding:t,...n}=this.title??{},r={...roe(this.config.title).nonMarkTitleProperties,...n,...t?{encode:{update:t}}:{}};if(r.text)return it(["unit","layer"],this.type)?it(["middle",void 0],r.anchor)&&(r.frame??(r.frame="group")):r.anchor??(r.anchor="start"),Ht(r)?void 0:r}assembleGroup(t=[]){const n={};t=t.concat(this.assembleSignals()),t.length>0&&(n.signals=t);const r=this.assembleLayout();r&&(n.layout=r),n.marks=[].concat(this.assembleHeaderMarks(),this.assembleMarks());const i=!this.parent||Fo(this.parent)?Bae(this):[];i.length>0&&(n.scales=i);const o=this.assembleAxes();o.length>0&&(n.axes=o);const s=this.assembleLegends();return s.length>0&&(n.legends=s),n}getName(t){return pn((this.name?`${this.name}_`:"")+t)}getDataName(t){return this.getName(Fn[t].toLowerCase())}requestDataName(t){const n=this.getDataName(t),r=this.component.data.outputNodeRefCounts;return r[n]=(r[n]||0)+1,n}getSizeSignalRef(t){if(Fo(this.parent)){const n=Eae(t),r=e$(n),i=this.component.scales[r];if(i&&!i.merged){const o=i.get("type"),s=i.get("range");if(br(o)&&lp(s)){const a=i.get("name"),l=k$(this,r),u=FI(l);if(u){const c=ye({aggregate:"distinct",field:u},{expr:"datum"});return{signal:Cae(a,i,c)}}else return ue(PL(r)),null}}}return{signal:this.signalNameMap.get(this.getName(t))}}lookupDataSource(t){const n=this.component.data.outputNodes[t];return n?n.getSource():t}getSignalName(t){return this.signalNameMap.get(t)}renameSignal(t,n){this.signalNameMap.rename(t,n)}renameScale(t,n){this.scaleNameMap.rename(t,n)}renameProjection(t,n){this.projectionNameMap.rename(t,n)}scaleName(t,n){if(n)return this.getName(t);if(Yie(t)&&Ll(t)&&this.component.scales[t]||this.scaleNameMap.has(this.getName(t)))return this.scaleNameMap.get(this.getName(t))}projectionName(t){if(t)return this.getName("projection");if(this.component.projection&&!this.component.projection.merged||this.projectionNameMap.has(this.getName("projection")))return this.projectionNameMap.get(this.getName("projection"))}getScaleComponent(t){if(!this.component.scales)throw new Error("getScaleComponent cannot be called before parseScale(). Make sure you have called parseScale or use parseUnitModelWithScale().");const n=this.component.scales[t];return n&&!n.merged?n:this.parent?this.parent.getScaleComponent(t):void 0}getScaleType(t){const n=this.getScaleComponent(t);return n?n.get("type"):void 0}getSelectionComponent(t,n){let r=this.component.selection[t];if(!r&&this.parent&&(r=this.parent.getSelectionComponent(t,n)),!r)throw new Error(yNe(n));return r}hasAxisOrientSignalRef(){var t,n;return((t=this.component.axes.x)==null?void 0:t.some(r=>r.hasOrientSignalRef()))||((n=this.component.axes.y)==null?void 0:n.some(r=>r.hasOrientSignalRef()))}}class Kae extends PI{vgField(t,n={}){const r=this.fieldDef(t);if(r)return ye(r,n)}reduceFieldDef(t,n){return HIe(this.getMapping(),(r,i,o)=>{const s=ba(i);return s?t(r,s,o):r},n)}forEachFieldDef(t,n){oI(this.getMapping(),(r,i)=>{const o=ba(r);o&&t(o,i)},n)}}class _$ extends jt{clone(){return new _$(null,Ge(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=Ge(n);const r=this.transform.as??[void 0,void 0];this.transform.as=[r[0]??"value",r[1]??"density"];const i=this.transform.resolve??"shared";this.transform.resolve=i}dependentFields(){return new Set([this.transform.density,...this.transform.groupby??[]])}producedFields(){return new Set(this.transform.as)}hash(){return`DensityTransform ${ut(this.transform)}`}assemble(){const{density:t,...n}=this.transform,r={type:"kde",field:t,...n};return r.resolve=this.transform.resolve,r}}class $$ extends jt{clone(){return new $$(null,Ge(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=Ge(n)}dependentFields(){return new Set([this.transform.extent])}producedFields(){return new Set([])}hash(){return`ExtentTransform ${ut(this.transform)}`}assemble(){const{extent:t,param:n}=this.transform;return{type:"extent",field:t,signal:n}}}class A$ extends jt{clone(){return new A$(this.parent,Ge(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=Ge(n);const{flatten:r,as:i=[]}=this.transform;this.transform.as=r.map((o,s)=>i[s]??o)}dependentFields(){return new Set(this.transform.flatten)}producedFields(){return new Set(this.transform.as)}hash(){return`FlattenTransform ${ut(this.transform)}`}assemble(){const{flatten:t,as:n}=this.transform;return{type:"flatten",fields:t,as:n}}}class T$ extends jt{clone(){return new T$(null,Ge(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=Ge(n);const r=this.transform.as??[void 0,void 0];this.transform.as=[r[0]??"key",r[1]??"value"]}dependentFields(){return new Set(this.transform.fold)}producedFields(){return new Set(this.transform.as)}hash(){return`FoldTransform ${ut(this.transform)}`}assemble(){const{fold:t,as:n}=this.transform;return{type:"fold",fields:t,as:n}}}class zg extends jt{clone(){return new zg(null,Ge(this.fields),this.geojson,this.signal)}static parseAll(t,n){if(n.component.projection&&!n.component.projection.isFit)return t;let r=0;for(const i of[[Aa,$a],[_s,Ta]]){const o=i.map(s=>{const a=rr(n.encoding[s]);return ce(a)?a.field:Il(a)?{expr:`${a.datum}`}:va(a)?{expr:`${a.value}`}:void 0});(o[0]||o[1])&&(t=new zg(t,o,null,n.getName(`geojson_${r++}`)))}if(n.channelHasField(co)){const i=n.typedFieldDef(co);i.type===I0&&(t=new zg(t,null,i.field,n.getName(`geojson_${r++}`)))}return t}constructor(t,n,r,i){super(t),this.fields=n,this.geojson=r,this.signal=i}dependentFields(){const t=(this.fields??[]).filter(we);return new Set([...this.geojson?[this.geojson]:[],...t])}producedFields(){return new Set}hash(){return`GeoJSON ${this.geojson} ${this.signal} ${ut(this.fields)}`}assemble(){return[...this.geojson?[{type:"filter",expr:`isValid(datum["${this.geojson}"])`}]:[],{type:"geojson",...this.fields?{fields:this.fields}:{},...this.geojson?{geojson:this.geojson}:{},signal:this.signal}]}}class Xv extends jt{clone(){return new Xv(null,this.projection,Ge(this.fields),Ge(this.as))}constructor(t,n,r,i){super(t),this.projection=n,this.fields=r,this.as=i}static parseAll(t,n){if(!n.projectionName())return t;for(const r of[[Aa,$a],[_s,Ta]]){const i=r.map(s=>{const a=rr(n.encoding[s]);return ce(a)?a.field:Il(a)?{expr:`${a.datum}`}:va(a)?{expr:`${a.value}`}:void 0}),o=r[0]===_s?"2":"";(i[0]||i[1])&&(t=new Xv(t,n.projectionName(),i,[n.getName(`x${o}`),n.getName(`y${o}`)]))}return t}dependentFields(){return new Set(this.fields.filter(we))}producedFields(){return new Set(this.as)}hash(){return`Geopoint ${this.projection} ${ut(this.fields)} ${ut(this.as)}`}assemble(){return{type:"geopoint",projection:this.projection,fields:this.fields,as:this.as}}}class sh extends jt{clone(){return new sh(null,Ge(this.transform))}constructor(t,n){super(t),this.transform=n}dependentFields(){return new Set([this.transform.impute,this.transform.key,...this.transform.groupby??[]])}producedFields(){return new Set([this.transform.impute])}processSequence(t){const{start:n=0,stop:r,step:i}=t;return{signal:`sequence(${[n,r,...i?[i]:[]].join(",")})`}}static makeFromTransform(t,n){return new sh(t,n)}static makeFromEncoding(t,n){const r=n.encoding,i=r.x,o=r.y;if(ce(i)&&ce(o)){const s=i.impute?i:o.impute?o:void 0;if(s===void 0)return;const a=i.impute?o:o.impute?i:void 0,{method:l,value:u,frame:c,keyvals:f}=s.impute,d=dse(n.mark,r);return new sh(t,{impute:s.field,key:a.field,...l?{method:l}:{},...u!==void 0?{value:u}:{},...c?{frame:c}:{},...f!==void 0?{keyvals:f}:{},...d.length?{groupby:d}:{}})}return null}hash(){return`Impute ${ut(this.transform)}`}assemble(){const{impute:t,key:n,keyvals:r,method:i,groupby:o,value:s,frame:a=[null,null]}=this.transform,l={type:"impute",field:t,key:n,...r?{keyvals:G8e(r)?this.processSequence(r):r}:{},method:"value",...o?{groupby:o}:{},value:!i||i==="value"?s:null};if(i&&i!=="value"){const u={type:"window",as:[`imputed_${t}_value`],ops:[i],fields:[t],frame:a,ignorePeers:!1,...o?{groupby:o}:{}},c={type:"formula",expr:`datum.${t} === null ? datum.imputed_${t}_value : datum.${t}`,as:t};return[l,u,c]}else return[l]}}class R$ extends jt{clone(){return new R$(null,Ge(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=Ge(n);const r=this.transform.as??[void 0,void 0];this.transform.as=[r[0]??n.on,r[1]??n.loess]}dependentFields(){return new Set([this.transform.loess,this.transform.on,...this.transform.groupby??[]])}producedFields(){return new Set(this.transform.as)}hash(){return`LoessTransform ${ut(this.transform)}`}assemble(){const{loess:t,on:n,...r}=this.transform;return{type:"loess",x:n,y:t,...r}}}class Yv extends jt{clone(){return new Yv(null,Ge(this.transform),this.secondary)}constructor(t,n,r){super(t),this.transform=n,this.secondary=r}static make(t,n,r,i){const o=n.component.data.sources,{from:s}=r;let a=null;if(X8e(s)){let l=Zae(s.data,o);l||(l=new Nh(s.data),o.push(l));const u=n.getName(`lookup_${i}`);a=new to(l,u,Fn.Lookup,n.component.data.outputNodeRefCounts),n.component.data.outputNodes[u]=a}else if(Y8e(s)){const l=s.param;r={as:l,...r};let u;try{u=n.getSelectionComponent(pn(l),l)}catch{throw new Error(wNe(l))}if(a=u.materialized,!a)throw new Error(SNe(l))}return new Yv(t,r,a.getSource())}dependentFields(){return new Set([this.transform.lookup])}producedFields(){return new Set(this.transform.as?xe(this.transform.as):this.transform.from.fields)}hash(){return`Lookup ${ut({transform:this.transform,secondary:this.secondary})}`}assemble(){let t;if(this.transform.from.fields)t={values:this.transform.from.fields,...this.transform.as?{as:xe(this.transform.as)}:{}};else{let n=this.transform.as;we(n)||(ue(RNe),n="_lookup"),t={as:[n]}}return{type:"lookup",from:this.secondary,key:this.transform.from.key,fields:[this.transform.lookup],...t,...this.transform.default?{default:this.transform.default}:{}}}}class F$ extends jt{clone(){return new F$(null,Ge(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=Ge(n);const r=this.transform.as??[void 0,void 0];this.transform.as=[r[0]??"prob",r[1]??"value"]}dependentFields(){return new Set([this.transform.quantile,...this.transform.groupby??[]])}producedFields(){return new Set(this.transform.as)}hash(){return`QuantileTransform ${ut(this.transform)}`}assemble(){const{quantile:t,...n}=this.transform;return{type:"quantile",field:t,...n}}}class O$ extends jt{clone(){return new O$(null,Ge(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=Ge(n);const r=this.transform.as??[void 0,void 0];this.transform.as=[r[0]??n.on,r[1]??n.regression]}dependentFields(){return new Set([this.transform.regression,this.transform.on,...this.transform.groupby??[]])}producedFields(){return new Set(this.transform.as)}hash(){return`RegressionTransform ${ut(this.transform)}`}assemble(){const{regression:t,on:n,...r}=this.transform;return{type:"regression",x:n,y:t,...r}}}class P$ extends jt{clone(){return new P$(null,Ge(this.transform))}constructor(t,n){super(t),this.transform=n}addDimensions(t){this.transform.groupby=rl((this.transform.groupby??[]).concat(t),n=>n)}producedFields(){}dependentFields(){return new Set([this.transform.pivot,this.transform.value,...this.transform.groupby??[]])}hash(){return`PivotTransform ${ut(this.transform)}`}assemble(){const{pivot:t,value:n,groupby:r,limit:i,op:o}=this.transform;return{type:"pivot",field:t,value:n,...i!==void 0?{limit:i}:{},...o!==void 0?{op:o}:{},...r!==void 0?{groupby:r}:{}}}}class D$ extends jt{clone(){return new D$(null,Ge(this.transform))}constructor(t,n){super(t),this.transform=n}dependentFields(){return new Set}producedFields(){return new Set}hash(){return`SampleTransform ${ut(this.transform)}`}assemble(){return{type:"sample",size:this.transform.sample}}}function Qae(e){let t=0;function n(r,i){if(r instanceof Nh&&!r.isGenerator&&!Hm(r.data)&&(e.push(i),i={name:null,source:i.name,transform:[]}),r instanceof ni&&(r.parent instanceof Nh&&!i.source?(i.format={...i.format,parse:r.assembleFormatParse()},i.transform.push(...r.assembleTransforms(!0))):i.transform.push(...r.assembleTransforms())),r instanceof j0){i.name||(i.name=`data_${t++}`),!i.source||i.transform.length>0?(e.push(i),r.data=i.name):r.data=i.source,e.push(...r.assemble());return}switch((r instanceof Ox||r instanceof Px||r instanceof Km||r instanceof B0||r instanceof Gm||r instanceof Xv||r instanceof la||r instanceof Yv||r instanceof U0||r instanceof dp||r instanceof T$||r instanceof A$||r instanceof _$||r instanceof R$||r instanceof F$||r instanceof O$||r instanceof Ef||r instanceof D$||r instanceof P$||r instanceof $$)&&i.transform.push(r.assemble()),(r instanceof dl||r instanceof fl||r instanceof sh||r instanceof xu||r instanceof zg)&&i.transform.push(...r.assemble()),r instanceof to&&(i.source&&i.transform.length===0?r.setSource(i.source):r.parent instanceof to?r.setSource(i.name):(i.name||(i.name=`data_${t++}`),r.setSource(i.name),r.numChildren()===1&&(e.push(i),i={name:null,source:i.name,transform:[]}))),r.numChildren()){case 0:r instanceof to&&(!i.source||i.transform.length>0)&&e.push(i);break;case 1:n(r.children[0],i);break;default:{i.name||(i.name=`data_${t++}`);let o=i.name;!i.source||i.transform.length>0?e.push(i):o=i.source;for(const s of r.children)n(s,{name:null,source:o,transform:[]});break}}}return n}function sBe(e){const t=[],n=Qae(t);for(const r of e.children)n(r,{source:e.name,name:null,transform:[]});return t}function aBe(e,t){const n=[],r=Qae(n);let i=0;for(const s of e.sources){s.hasName()||(s.dataName=`source_${i++}`);const a=s.assemble();r(s,a)}for(const s of n)s.transform.length===0&&delete s.transform;let o=0;for(const[s,a]of n.entries())(a.transform??[]).length===0&&!a.source&&n.splice(o++,0,n.splice(s,1)[0]);for(const s of n)for(const a of s.transform??[])a.type==="lookup"&&(a.from=e.outputNodes[a.from].getSource());for(const s of n)s.name in t&&(s.values=t[s.name]);return n}function lBe(e){return e==="top"||e==="left"||Fe(e)?"header":"footer"}function uBe(e){for(const t of hs)cBe(e,t);ZV(e,"x"),ZV(e,"y")}function cBe(e,t){var s;const{facet:n,config:r,child:i,component:o}=e;if(e.channelHasField(t)){const a=n[t],l=Ym("title",null,r,t);let u=Lg(a,r,{allowDisabling:!0,includeDefault:l===void 0||!!l});i.component.layoutHeaders[t].title&&(u=te(u)?u.join(", "):u,u+=` / ${i.component.layoutHeaders[t].title}`,i.component.layoutHeaders[t].title=null);const c=Ym("labelOrient",a.header,r,t),f=a.header!==null?jn((s=a.header)==null?void 0:s.labels,r.header.labels,!0):!1,d=it(["bottom","right"],c)?"footer":"header";o.layoutHeaders[t]={title:a.header!==null?u:null,facetFieldDef:a,[d]:t==="facet"?[]:[Jae(e,t,f)]}}}function Jae(e,t,n){const r=t==="row"?"height":"width";return{labels:n,sizeSignal:e.child.component.layoutSize.get(r)?e.child.getSizeSignalRef(r):void 0,axes:[]}}function ZV(e,t){const{child:n}=e;if(n.component.axes[t]){const{layoutHeaders:r,resolve:i}=e.component;if(i.axis[t]=_I(i,t),i.axis[t]==="shared"){const o=t==="x"?"column":"row",s=r[o];for(const a of n.component.axes[t]){const l=lBe(a.get("orient"));s[l]??(s[l]=[Jae(e,o,!1)]);const u=S1(a,"main",e.config,{header:!0});u&&s[l][0].axes.push(u),a.mainExtracted=!0}}}}function fBe(e){DI(e),RE(e,"width"),RE(e,"height")}function dBe(e){DI(e);const t=e.layout.columns===1?"width":"childWidth",n=e.layout.columns===void 0?"height":"childHeight";RE(e,t),RE(e,n)}function DI(e){for(const t of e.children)t.parseLayoutSize()}function RE(e,t){const n=Eae(t),r=e$(n),i=e.component.resolve,o=e.component.layoutSize;let s;for(const a of e.children){const l=a.component.layoutSize.getWithExplicit(n),u=i.scale[r]??_ae(r,e);if(u==="independent"&&l.value==="step"){s=void 0;break}if(s){if(u==="independent"&&s.value!==l.value){s=void 0;break}s=Sf(s,l,n,"")}else s=l}if(s){for(const a of e.children)e.renameSignal(a.getName(n),e.getName(t)),a.component.layoutSize.set(n,"merged",!1);o.setWithExplicit(t,s)}else o.setWithExplicit(t,{explicit:!1,value:void 0})}function hBe(e){const{size:t,component:n}=e;for(const r of Uu){const i=fo(r);if(t[i]){const o=t[i];n.layoutSize.set(i,kl(o)?"step":o,!0)}else{const o=pBe(e,i);n.layoutSize.set(i,o,!1)}}}function pBe(e,t){const n=t==="width"?"x":"y",r=e.config,i=e.getScaleComponent(n);if(i){const o=i.get("type"),s=i.get("range");if(br(o)){const a=_E(r.view,t);return lp(s)||kl(a)?"step":a}else return WF(r.view,t)}else{if(e.hasProjection||e.mark==="arc")return WF(r.view,t);{const o=_E(r.view,t);return kl(o)?o.step:o}}}function sO(e,t,n){return ye(t,{suffix:`by_${ye(e)}`,...n})}class Z1 extends Kae{constructor(t,n,r,i){super(t,"facet",n,r,i,t.resolve),this.child=zI(t.spec,this,this.getName("child"),void 0,i),this.children=[this.child],this.facet=this.initFacet(t.facet)}initFacet(t){if(!_x(t))return{facet:this.initFacetFieldDef(t,"facet")};const n=se(t),r={};for(const i of n){if(![mu,yu].includes(i)){ue(r$(i,"facet"));break}const o=t[i];if(o.field===void 0){ue(zF(o,i));break}r[i]=this.initFacetFieldDef(o,i)}return r}initFacetFieldDef(t,n){const r=iI(t,n);return r.header?r.header=$r(r.header):r.header===null&&(r.header=null),r}channelHasField(t){return le(this.facet,t)}fieldDef(t){return this.facet[t]}parseData(){this.component.data=M$(this),this.child.parseData()}parseLayoutSize(){DI(this)}parseSelections(){this.child.parseSelections(),this.component.selection=this.child.component.selection}parseMarkGroup(){this.child.parseMarkGroup()}parseAxesAndHeaders(){this.child.parseAxesAndHeaders(),uBe(this)}assembleSelectionTopLevelSignals(t){return this.child.assembleSelectionTopLevelSignals(t)}assembleSignals(){return this.child.assembleSignals(),[]}assembleSelectionData(t){return this.child.assembleSelectionData(t)}getHeaderLayoutMixins(){const t={};for(const n of hs)for(const r of EI){const i=this.component.layoutHeaders[n],o=i[r],{facetFieldDef:s}=i;if(s){const a=Ym("titleOrient",s.header,this.config,n);if(["right","bottom"].includes(a)){const l=C$(n,a);t.titleAnchor??(t.titleAnchor={}),t.titleAnchor[l]="end"}}if(o!=null&&o[0]){const a=n==="row"?"height":"width",l=r==="header"?"headerBand":"footerBand";n!=="facet"&&!this.child.component.layoutSize.get(a)&&(t[l]??(t[l]={}),t[l][n]=.5),i.title&&(t.offset??(t.offset={}),t.offset[n==="row"?"rowTitle":"columnTitle"]=10)}}return t}assembleDefaultLayout(){const{column:t,row:n}=this.facet,r=t?this.columnDistinctSignal():n?1:void 0;let i="all";return(!n&&this.component.resolve.scale.x==="independent"||!t&&this.component.resolve.scale.y==="independent")&&(i="none"),{...this.getHeaderLayoutMixins(),...r?{columns:r}:{},bounds:"full",align:i}}assembleLayoutSignals(){return this.child.assembleLayoutSignals()}columnDistinctSignal(){if(!(this.parent&&this.parent instanceof Z1))return{signal:`length(data('${this.getName("column_domain")}'))`}}assembleGroupStyle(){}assembleGroup(t){return this.parent&&this.parent instanceof Z1?{...this.channelHasField("column")?{encode:{update:{columns:{field:ye(this.facet.column,{prefix:"distinct"})}}}}:{},...super.assembleGroup(t)}:super.assembleGroup(t)}getCardinalityAggregateForChild(){const t=[],n=[],r=[];if(this.child instanceof Z1){if(this.child.channelHasField("column")){const i=ye(this.child.facet.column);t.push(i),n.push("distinct"),r.push(`distinct_${i}`)}}else for(const i of Uu){const o=this.child.component.scales[i];if(o&&!o.merged){const s=o.get("type"),a=o.get("range");if(br(s)&&lp(a)){const l=k$(this.child,i),u=FI(l);u?(t.push(u),n.push("distinct"),r.push(`distinct_${u}`)):ue(PL(i))}}}return{fields:t,ops:n,as:r}}assembleFacet(){const{name:t,data:n}=this.component.data.facetRoot,{row:r,column:i}=this.facet,{fields:o,ops:s,as:a}=this.getCardinalityAggregateForChild(),l=[];for(const c of hs){const f=this.facet[c];if(f){l.push(ye(f));const{bin:d,sort:h}=f;if(Jt(d)&&l.push(ye(f,{binSuffix:"end"})),vu(h)){const{field:p,op:g=u$}=h,m=sO(f,h);r&&i?(o.push(m),s.push("max"),a.push(m)):(o.push(p),s.push(g),a.push(m))}else if(te(h)){const p=Xm(f,c);o.push(p),s.push("max"),a.push(p)}}}const u=!!r&&!!i;return{name:t,data:n,groupby:l,...u||o.length>0?{aggregate:{...u?{cross:u}:{},...o.length?{fields:o,ops:s,as:a}:{}}}:{}}}facetSortFields(t){const{facet:n}=this,r=n[t];return r?vu(r.sort)?[sO(r,r.sort,{expr:"datum"})]:te(r.sort)?[Xm(r,t,{expr:"datum"})]:[ye(r,{expr:"datum"})]:[]}facetSortOrder(t){const{facet:n}=this,r=n[t];if(r){const{sort:i}=r;return[(vu(i)?i.order:!te(i)&&i)||"ascending"]}return[]}assembleLabelTitle(){var i;const{facet:t,config:n}=this;if(t.facet)return ZF(t.facet,"facet",n);const r={row:["top","bottom"],column:["left","right"]};for(const o of CI)if(t[o]){const s=Ym("labelOrient",(i=t[o])==null?void 0:i.header,n,o);if(r[o].includes(s))return ZF(t[o],o,n)}}assembleMarks(){const{child:t}=this,n=this.component.data.facetRoot,r=sBe(n),i=t.assembleGroupEncodeEntry(!1),o=this.assembleLabelTitle()||t.assembleTitle(),s=t.assembleGroupStyle();return[{name:this.getName("cell"),type:"group",...o?{title:o}:{},...s?{style:s}:{},from:{facet:this.assembleFacet()},sort:{field:hs.map(l=>this.facetSortFields(l)).flat(),order:hs.map(l=>this.facetSortOrder(l)).flat()},...r.length>0?{data:r}:{},...i?{encode:{update:i}}:{},...t.assembleGroup(_9e(this,[]))}]}getMapping(){return this.facet}}function gBe(e,t){const{row:n,column:r}=t;if(n&&r){let i=null;for(const o of[n,r])if(vu(o.sort)){const{field:s,op:a=u$}=o.sort;e=i=new dp(e,{joinaggregate:[{op:a,field:s,as:sO(o,o.sort,{forAs:!0})}],groupby:[ye(o)]})}return i}return null}function Zae(e,t){var n,r,i,o;for(const s of t){const a=s.data;if(e.name&&s.hasName()&&e.name!==s.dataName)continue;const l=(n=e.format)==null?void 0:n.mesh,u=(r=a.format)==null?void 0:r.feature;if(l&&u)continue;const c=(i=e.format)==null?void 0:i.feature;if((c||u)&&c!==u)continue;const f=(o=a.format)==null?void 0:o.mesh;if(!((l||f)&&l!==f)){if(Gv(e)&&Gv(a)){if($o(e.values,a.values))return s}else if(Hm(e)&&Hm(a)){if(e.url===a.url)return s}else if(Use(e)&&e.name===s.dataName)return s}}return null}function mBe(e,t){if(e.data||!e.parent){if(e.data===null){const r=new Nh({values:[]});return t.push(r),r}const n=Zae(e.data,t);if(n)return Qc(e.data)||(n.data.format=Lie({},e.data.format,n.data.format)),!n.hasName()&&e.data.name&&(n.dataName=e.data.name),n;{const r=new Nh(e.data);return t.push(r),r}}else return e.parent.component.data.facetRoot?e.parent.component.data.facetRoot:e.parent.component.data.main}function yBe(e,t,n){let r=0;for(const i of t.transforms){let o,s;if(o9e(i))s=e=new Gm(e,i),o="derived";else if(mI(i)){const a=aze(i);s=e=ni.makeWithAncestors(e,{},a,n)??e,e=new B0(e,t,i.filter)}else if(Lse(i))s=e=dl.makeFromTransform(e,i,t),o="number";else if(a9e(i))o="date",n.getWithExplicit(i.field).value===void 0&&(e=new ni(e,{[i.field]:o}),n.set(i.field,o,!1)),s=e=fl.makeFromTransform(e,i);else if(l9e(i))s=e=la.makeFromTransform(e,i),o="number",SI(t)&&(e=new Ef(e));else if(Nse(i))s=e=Yv.make(e,t,i,r++),o="derived";else if(n9e(i))s=e=new U0(e,i),o="number";else if(r9e(i))s=e=new dp(e,i),o="number";else if(u9e(i))s=e=xu.makeFromTransform(e,i),o="derived";else if(c9e(i))s=e=new T$(e,i),o="derived";else if(f9e(i))s=e=new $$(e,i),o="derived";else if(i9e(i))s=e=new A$(e,i),o="derived";else if(K8e(i))s=e=new P$(e,i),o="derived";else if(t9e(i))e=new D$(e,i);else if(s9e(i))s=e=sh.makeFromTransform(e,i),o="derived";else if(Q8e(i))s=e=new _$(e,i),o="derived";else if(J8e(i))s=e=new F$(e,i),o="derived";else if(Z8e(i))s=e=new O$(e,i),o="derived";else if(e9e(i))s=e=new R$(e,i),o="derived";else{ue(TNe(i));continue}if(s&&o!==void 0)for(const a of s.producedFields()??[])n.set(a,o,!1)}return e}function M$(e){var m;let t=mBe(e,e.component.data.sources);const{outputNodes:n,outputNodeRefCounts:r}=e.component.data,i=e.data,s=!(i&&(Qc(i)||Hm(i)||Gv(i)))&&e.parent?e.parent.component.data.ancestorParse.clone():new C9e;Qc(i)?(Vse(i)?t=new Px(t,i.sequence):yI(i)&&(t=new Ox(t,i.graticule)),s.parseNothing=!0):((m=i==null?void 0:i.format)==null?void 0:m.parse)===null&&(s.parseNothing=!0),t=ni.makeExplicit(t,e,s)??t,t=new Ef(t);const a=e.parent&&V0(e.parent);(wn(e)||Fo(e))&&a&&(t=dl.makeFromEncoding(t,e)??t),e.transforms.length>0&&(t=yBe(t,e,s));const l=uze(e),u=lze(e);t=ni.makeWithAncestors(t,{},{...l,...u},s)??t,wn(e)&&(t=zg.parseAll(t,e),t=Xv.parseAll(t,e)),(wn(e)||Fo(e))&&(a||(t=dl.makeFromEncoding(t,e)??t),t=fl.makeFromEncoding(t,e)??t,t=Gm.parseAllForSortIndex(t,e));const c=t=Z2(Fn.Raw,e,t);if(wn(e)){const y=la.makeFromEncoding(t,e);y&&(t=y,SI(e)&&(t=new Ef(t))),t=sh.makeFromEncoding(t,e)??t,t=xu.makeFromEncoding(t,e)??t}let f,d;if(wn(e)){const{markDef:y,mark:v,config:b}=e,x=Wt("invalid",y,b),{marks:w,scales:E}=d=Hse({invalid:x,isPath:Wf(v)});w!==E&&E==="include-invalid-values"&&(f=t=Z2(Fn.PreFilterInvalid,e,t)),w==="exclude-invalid-values"&&(t=Km.make(t,e,d)??t)}const h=t=Z2(Fn.Main,e,t);let p;if(wn(e)&&d){const{marks:y,scales:v}=d;y==="include-invalid-values"&&v==="exclude-invalid-values"&&(t=Km.make(t,e,d)??t,p=t=Z2(Fn.PostFilterInvalid,e,t))}wn(e)&&i7e(e,h);let g=null;if(Fo(e)){const y=e.getName("facet");t=gBe(t,e.facet)??t,g=new j0(t,e,y,h.getSource()),n[y]=g}return{...e.component.data,outputNodes:n,outputNodeRefCounts:r,raw:c,main:h,facetRoot:g,ancestorParse:s,preFilterInvalid:f,postFilterInvalid:p}}function Z2(e,t,n){const{outputNodes:r,outputNodeRefCounts:i}=t.component.data,o=t.getDataName(e),s=new to(n,o,e,i);return r[o]=s,s}class vBe extends PI{constructor(t,n,r,i){var o,s,a,l;super(t,"concat",n,r,i,t.resolve),(((s=(o=t.resolve)==null?void 0:o.axis)==null?void 0:s.x)==="shared"||((l=(a=t.resolve)==null?void 0:a.axis)==null?void 0:l.y)==="shared")&&ue(_Ne),this.children=this.getChildren(t).map((u,c)=>zI(u,this,this.getName(`concat_${c}`),void 0,i))}parseData(){this.component.data=M$(this);for(const t of this.children)t.parseData()}parseSelections(){this.component.selection={};for(const t of this.children){t.parseSelections();for(const n of se(t.component.selection))this.component.selection[n]=t.component.selection[n]}}parseMarkGroup(){for(const t of this.children)t.parseMarkGroup()}parseAxesAndHeaders(){for(const t of this.children)t.parseAxesAndHeaders()}getChildren(t){return m$(t)?t.vconcat:pI(t)?t.hconcat:t.concat}parseLayoutSize(){dBe(this)}parseAxisGroup(){return null}assembleSelectionTopLevelSignals(t){return this.children.reduce((n,r)=>r.assembleSelectionTopLevelSignals(n),t)}assembleSignals(){return this.children.forEach(t=>t.assembleSignals()),[]}assembleLayoutSignals(){const t=kI(this);for(const n of this.children)t.push(...n.assembleLayoutSignals());return t}assembleSelectionData(t){return this.children.reduce((n,r)=>r.assembleSelectionData(n),t)}assembleMarks(){return this.children.map(t=>{const n=t.assembleTitle(),r=t.assembleGroupStyle(),i=t.assembleGroupEncodeEntry(!1);return{type:"group",name:t.getName("group"),...n?{title:n}:{},...r?{style:r}:{},...i?{encode:{update:i}}:{},...t.assembleGroup()}})}assembleGroupStyle(){}assembleDefaultLayout(){const t=this.layout.columns;return{...t!=null?{columns:t}:{},bounds:"full",align:"each"}}}function bBe(e){return e===!1||e===null}const xBe={disable:1,gridScale:1,scale:1,...sse,labelExpr:1,encode:1},ele=se(xBe);class MI extends Hu{constructor(t={},n={},r=!1){super(),this.explicit=t,this.implicit=n,this.mainExtracted=r}clone(){return new MI(Ge(this.explicit),Ge(this.implicit),this.mainExtracted)}hasAxisPart(t){return t==="axis"?!0:t==="grid"||t==="title"?!!this.get(t):!bBe(this.get(t))}hasOrientSignalRef(){return Fe(this.explicit.orient)}}function wBe(e,t,n){const{encoding:r,config:i}=e,o=rr(r[t])??rr(r[Nl(t)]),s=e.axis(t)||{},{format:a,formatType:l}=s;if(Ph(l))return{text:sa({fieldOrDatumDef:o,field:"datum.value",format:a,formatType:l,config:i}),...n};if(a===void 0&&l===void 0&&i.customFormatTypes){if(Um(o)==="quantitative"){if(Vm(o)&&o.stack==="normalize"&&i.normalizedNumberFormatType)return{text:sa({fieldOrDatumDef:o,field:"datum.value",format:i.normalizedNumberFormat,formatType:i.normalizedNumberFormatType,config:i}),...n};if(i.numberFormatType)return{text:sa({fieldOrDatumDef:o,field:"datum.value",format:i.numberFormat,formatType:i.numberFormatType,config:i}),...n}}if(Um(o)==="temporal"&&i.timeFormatType&&ce(o)&&!o.timeUnit)return{text:sa({fieldOrDatumDef:o,field:"datum.value",format:i.timeFormat,formatType:i.timeFormatType,config:i}),...n}}return n}function SBe(e){return Uu.reduce((t,n)=>(e.component.scales[n]&&(t[n]=[TBe(n,e)]),t),{})}const CBe={bottom:"top",top:"bottom",left:"right",right:"left"};function EBe(e){const{axes:t,resolve:n}=e.component,r={top:0,bottom:0,right:0,left:0};for(const i of e.children){i.parseAxesAndHeaders();for(const o of se(i.component.axes))n.axis[o]=_I(e.component.resolve,o),n.axis[o]==="shared"&&(t[o]=kBe(t[o],i.component.axes[o]),t[o]||(n.axis[o]="independent",delete t[o]))}for(const i of Uu){for(const o of e.children)if(o.component.axes[i]){if(n.axis[i]==="independent"){t[i]=(t[i]??[]).concat(o.component.axes[i]);for(const s of o.component.axes[i]){const{value:a,explicit:l}=s.getWithExplicit("orient");if(!Fe(a)){if(r[a]>0&&!l){const u=CBe[a];r[a]>r[u]&&s.set("orient",u,!1)}r[a]++}}}delete o.component.axes[i]}if(n.axis[i]==="independent"&&t[i]&&t[i].length>1)for(const[o,s]of(t[i]||[]).entries())o>0&&s.get("grid")&&!s.explicit.grid&&(s.implicit.grid=!1)}}function kBe(e,t){if(e){if(e.length!==t.length)return;const n=e.length;for(let r=0;r<n;r++){const i=e[r],o=t[r];if(!!i!=!!o)return;if(i&&o){const s=i.getWithExplicit("orient"),a=o.getWithExplicit("orient");if(s.explicit&&a.explicit&&s.value!==a.value)return;e[r]=_Be(i,o)}}}else return t.map(n=>n.clone());return e}function _Be(e,t){for(const n of ele){const r=Sf(e.getWithExplicit(n),t.getWithExplicit(n),n,"axis",(i,o)=>{switch(n){case"title":return coe(i,o);case"gridScale":return{explicit:i.explicit,value:jn(i.value,o.value)}}return v$(i,o,n,"axis")});e.setWithExplicit(n,r)}return e}function $Be(e,t,n,r,i){if(t==="disable")return n!==void 0;switch(n=n||{},t){case"titleAngle":case"labelAngle":return e===(Fe(n.labelAngle)?n.labelAngle:Hv(n.labelAngle));case"values":return!!n.values;case"encode":return!!n.encoding||!!n.labelAngle;case"title":if(e===bae(r,i))return!0}return e===n[t]}const ABe=new Set(["grid","translate","format","formatType","orient","labelExpr","tickCount","position","tickMinStep"]);function TBe(e,t){var y,v;let n=t.axis(e);const r=new MI,i=rr(t.encoding[e]),{mark:o,config:s}=t,a=(n==null?void 0:n.orient)||((y=s[e==="x"?"axisX":"axisY"])==null?void 0:y.orient)||((v=s.axis)==null?void 0:v.orient)||p7e(e),l=t.getScaleComponent(e).get("type"),u=a7e(e,l,a,t.config),c=n!==void 0?!n:QF("disable",s.style,n==null?void 0:n.style,u).configValue;if(r.set("disable",c,n!==void 0),c)return r;n=n||{};const f=f7e(i,n,e,s.style,u),d=qoe(n.formatType,i,l),h=Hoe(i,i.type,n.format,n.formatType,s,!0),p={fieldOrDatumDef:i,axis:n,channel:e,model:t,scaleType:l,orient:a,labelAngle:f,format:h,formatType:d,mark:o,config:s};for(const b of ele){const x=b in IV?IV[b](p):cV(b)?n[b]:void 0,w=x!==void 0,E=$Be(x,b,n,t,e);if(w&&E)r.set(b,x,E);else{const{configValue:S=void 0,configFrom:k=void 0}=cV(b)&&b!=="values"?QF(b,s.style,n.style,u):{},$=S!==void 0;w&&!$?r.set(b,x,E):(k!=="vgAxisConfig"||ABe.has(b)&&$||Rx(S)||Fe(S))&&r.set(b,S,!1)}}const g=n.encoding??{},m=ose.reduce((b,x)=>{if(!r.hasAxisPart(x))return b;const w=kae(g[x]??{},t),E=x==="labels"?wBe(t,e,w):w;return E!==void 0&&!Ht(E)&&(b[x]={update:E}),b},{});return Ht(m)||r.set("encode",m,!!n.encoding||n.labelAngle!==void 0),r}function RBe({encoding:e,size:t}){for(const n of Uu){const r=fo(n);kl(t[r])&&Vc(e[n])&&(delete t[r],ue(goe(r)))}return t}const FBe={vgMark:"arc",encodeEntry:e=>({...Fs(e,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"}),...$i("x",e,{defaultPos:"mid"}),...$i("y",e,{defaultPos:"mid"}),...Tu(e,"radius"),...Tu(e,"theta")})},OBe={vgMark:"area",encodeEntry:e=>({...Fs(e,{align:"ignore",baseline:"ignore",color:"include",orient:"include",size:"ignore",theta:"ignore"}),...$E("x",e,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:e.markDef.orient==="horizontal"}),...$E("y",e,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:e.markDef.orient==="vertical"}),...wI(e)})},PBe={vgMark:"rect",encodeEntry:e=>({...Fs(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...Tu(e,"x"),...Tu(e,"y")})},DBe={vgMark:"shape",encodeEntry:e=>({...Fs(e,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"})}),postEncodingTransform:e=>{const{encoding:t}=e,n=t.shape;return[{type:"geoshape",projection:e.projectionName(),...n&&ce(n)&&n.type===I0?{field:ye(n,{expr:"datum"})}:{}}]}},MBe={vgMark:"image",encodeEntry:e=>({...Fs(e,{align:"ignore",baseline:"ignore",color:"ignore",orient:"ignore",size:"ignore",theta:"ignore"}),...Tu(e,"x"),...Tu(e,"y"),...bI(e,"url")})},NBe={vgMark:"line",encodeEntry:e=>({...Fs(e,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"}),...$i("x",e,{defaultPos:"mid"}),...$i("y",e,{defaultPos:"mid"}),...Fr("size",e,{vgChannel:"strokeWidth"}),...wI(e)})},LBe={vgMark:"trail",encodeEntry:e=>({...Fs(e,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"}),...$i("x",e,{defaultPos:"mid"}),...$i("y",e,{defaultPos:"mid"}),...Fr("size",e),...wI(e)})};function NI(e,t){const{config:n}=e;return{...Fs(e,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"}),...$i("x",e,{defaultPos:"mid"}),...$i("y",e,{defaultPos:"mid"}),...Fr("size",e),...Fr("angle",e),...IBe(e,n,t)}}function IBe(e,t,n){return n?{shape:{value:n}}:Fr("shape",e)}const zBe={vgMark:"symbol",encodeEntry:e=>NI(e)},BBe={vgMark:"symbol",encodeEntry:e=>NI(e,"circle")},jBe={vgMark:"symbol",encodeEntry:e=>NI(e,"square")},UBe={vgMark:"rect",encodeEntry:e=>({...Fs(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...Tu(e,"x"),...Tu(e,"y")})},VBe={vgMark:"rule",encodeEntry:e=>{const{markDef:t}=e,n=t.orient;return!e.encoding.x&&!e.encoding.y&&!e.encoding.latitude&&!e.encoding.longitude?{}:{...Fs(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...$E("x",e,{defaultPos:n==="horizontal"?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:n!=="vertical"}),...$E("y",e,{defaultPos:n==="vertical"?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:n!=="horizontal"}),...Fr("size",e,{vgChannel:"strokeWidth"})}}},WBe={vgMark:"text",encodeEntry:e=>{const{config:t,encoding:n}=e;return{...Fs(e,{align:"include",baseline:"include",color:"include",size:"ignore",orient:"ignore",theta:"include"}),...$i("x",e,{defaultPos:"mid"}),...$i("y",e,{defaultPos:"mid"}),...bI(e),...Fr("size",e,{vgChannel:"fontSize"}),...Fr("angle",e),...DV("align",HBe(e.markDef,n,t)),...DV("baseline",qBe(e.markDef,n,t)),...$i("radius",e,{defaultPos:null}),...$i("theta",e,{defaultPos:null})}}};function HBe(e,t,n){if(Wt("align",e,n)===void 0)return"center"}function qBe(e,t,n){if(Wt("baseline",e,n)===void 0)return"middle"}const GBe={vgMark:"rect",encodeEntry:e=>{const{config:t,markDef:n}=e,r=n.orient,i=r==="horizontal"?"x":"y",o=r==="horizontal"?"y":"x",s=r==="horizontal"?"height":"width";return{...Fs(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...Tu(e,i),...$i(o,e,{defaultPos:"mid",vgChannel:o==="y"?"yc":"xc"}),[s]:ln(Wt("thickness",n,t))}}},ew={arc:FBe,area:OBe,bar:PBe,circle:BBe,geoshape:DBe,image:MBe,line:NBe,point:zBe,rect:UBe,rule:VBe,square:jBe,text:WBe,tick:GBe,trail:LBe};function XBe(e){if(it([a$,o$,nIe],e.mark)){const t=dse(e.mark,e.encoding);if(t.length>0)return YBe(e,t)}else if(e.mark===s$){const t=LF.some(n=>Wt(n,e.markDef,e.config));if(e.stack&&!e.fieldDef("size")&&t)return KBe(e)}return LI(e)}const eW="faceted_path_";function YBe(e,t){return[{name:e.getName("pathgroup"),type:"group",from:{facet:{name:eW+e.requestDataName(Fn.Main),data:e.requestDataName(Fn.Main),groupby:t}},encode:{update:{width:{field:{group:"width"}},height:{field:{group:"height"}}}},marks:LI(e,{fromPrefix:eW})}]}const tW="stack_group_";function KBe(e){var u;const[t]=LI(e,{fromPrefix:tW}),n=e.scaleName(e.stack.fieldChannel),r=(c={})=>e.vgField(e.stack.fieldChannel,c),i=(c,f)=>{const d=[r({prefix:"min",suffix:"start",expr:f}),r({prefix:"max",suffix:"start",expr:f}),r({prefix:"min",suffix:"end",expr:f}),r({prefix:"max",suffix:"end",expr:f})];return`${c}(${d.map(h=>`scale('${n}',${h})`).join(",")})`};let o,s;e.stack.fieldChannel==="x"?(o={...Mm(t.encode.update,["y","yc","y2","height",...LF]),x:{signal:i("min","datum")},x2:{signal:i("max","datum")},clip:{value:!0}},s={x:{field:{group:"x"},mult:-1},height:{field:{group:"height"}}},t.encode.update={...eo(t.encode.update,["y","yc","y2"]),height:{field:{group:"height"}}}):(o={...Mm(t.encode.update,["x","xc","x2","width"]),y:{signal:i("min","datum")},y2:{signal:i("max","datum")},clip:{value:!0}},s={y:{field:{group:"y"},mult:-1},width:{field:{group:"width"}}},t.encode.update={...eo(t.encode.update,["x","xc","x2"]),width:{field:{group:"width"}}});for(const c of LF){const f=Cl(c,e.markDef,e.config);t.encode.update[c]?(o[c]=t.encode.update[c],delete t.encode.update[c]):f&&(o[c]=ln(f)),f&&(t.encode.update[c]={value:0})}const a=[];if(((u=e.stack.groupbyChannels)==null?void 0:u.length)>0)for(const c of e.stack.groupbyChannels){const f=e.fieldDef(c),d=ye(f);d&&a.push(d),(f!=null&&f.bin||f!=null&&f.timeUnit)&&a.push(ye(f,{binSuffix:"end"}))}return o=["stroke","strokeWidth","strokeJoin","strokeCap","strokeDash","strokeDashOffset","strokeMiterLimit","strokeOpacity"].reduce((c,f)=>{if(t.encode.update[f])return{...c,[f]:t.encode.update[f]};{const d=Cl(f,e.markDef,e.config);return d!==void 0?{...c,[f]:ln(d)}:c}},o),o.stroke&&(o.strokeForeground={value:!0},o.strokeOffset={value:0}),[{type:"group",from:{facet:{data:e.requestDataName(Fn.Main),name:tW+e.requestDataName(Fn.Main),groupby:a,aggregate:{fields:[r({suffix:"start"}),r({suffix:"start"}),r({suffix:"end"}),r({suffix:"end"})],ops:["min","max","min","max"]}}},encode:{update:o},marks:[{type:"group",encode:{update:s},marks:[t]}]}]}function QBe(e){const{encoding:t,stack:n,mark:r,markDef:i,config:o}=e,s=t.order;if(!(!te(s)&&va(s)&&MF(s.value)||!s&&MF(Wt("order",i,o)))){if((te(s)||ce(s))&&!n)return aoe(s,{expr:"datum"});if(Wf(r)){const a=i.orient==="horizontal"?"y":"x",l=t[a];if(ce(l))return{field:a}}}}function LI(e,t={fromPrefix:""}){const{mark:n,markDef:r,encoding:i,config:o}=e,s=jn(r.clip,JBe(e),ZBe(e)),a=ooe(r),l=i.key,u=QBe(e),c=eje(e),f=Wt("aria",r,o),d=ew[n].postEncodingTransform?ew[n].postEncodingTransform(e):null;return[{name:e.getName("marks"),type:ew[n].vgMark,...s?{clip:s}:{},...a?{style:a}:{},...l?{key:l.field}:{},...u?{sort:u}:{},...c||{},...f===!1?{aria:f}:{},from:{data:t.fromPrefix+e.requestDataName(Fn.Main)},encode:{update:ew[n].encodeEntry(e)},...d?{transform:d}:{}}]}function JBe(e){const t=e.getScaleComponent("x"),n=e.getScaleComponent("y");return t!=null&&t.get("selectionExtent")||n!=null&&n.get("selectionExtent")?!0:void 0}function ZBe(e){const t=e.component.projection;return t&&!t.isFit?!0:void 0}function eje(e){if(!e.component.selection)return null;const t=se(e.component.selection).length;let n=t,r=e.parent;for(;r&&n===0;)n=se(r.component.selection).length,r=r.parent;return n?{interactive:t>0||e.mark==="geoshape"||!!e.encoding.tooltip||!!e.markDef.tooltip}:null}class tle extends Kae{constructor(t,n,r,i={},o){super(t,"unit",n,r,o,void 0,dV(t)?t.view:void 0),this.specifiedScales={},this.specifiedAxes={},this.specifiedLegends={},this.specifiedProjection={},this.selection=[],this.children=[];const s=El(t.mark)?{...t.mark}:{type:t.mark},a=s.type;s.filled===void 0&&(s.filled=z8e(s,o,{graticule:t.data&&yI(t.data)}));const l=this.encoding=VIe(t.encoding||{},a,s.filled,o);this.markDef=Pse(s,l,o),this.size=RBe({encoding:l,size:dV(t)?{...i,...t.width?{width:t.width}:{},...t.height?{height:t.height}:{}}:i}),this.stack=Ose(this.markDef,l),this.specifiedScales=this.initScales(a,l),this.specifiedAxes=this.initAxes(l),this.specifiedLegends=this.initLegends(l),this.specifiedProjection=t.projection,this.selection=(t.params??[]).filter(u=>dI(u))}get hasProjection(){const{encoding:t}=this,n=this.mark===Ioe,r=t&&zMe.some(i=>Qe(t[i]));return n||r}scaleDomain(t){const n=this.specifiedScales[t];return n?n.domain:void 0}axis(t){return this.specifiedAxes[t]}legend(t){return this.specifiedLegends[t]}initScales(t,n){return RL.reduce((r,i)=>{const o=rr(n[i]);return o&&(r[i]=this.initScale(o.scale??{})),r},{})}initScale(t){const{domain:n,range:r}=t,i=$r(t);return te(n)&&(i.domain=n.map(Co)),te(r)&&(i.range=r.map(Co)),i}initAxes(t){return Uu.reduce((n,r)=>{const i=t[r];if(Qe(i)||r===mn&&Qe(t.x2)||r===wr&&Qe(t.y2)){const o=Qe(i)?i.axis:void 0;n[r]=o&&this.initAxis({...o})}return n},{})}initAxis(t){const n=se(t),r={};for(const i of n){const o=t[i];r[i]=Rx(o)?ioe(o):Co(o)}return r}initLegends(t){return YMe.reduce((n,r)=>{const i=rr(t[r]);if(i&&QMe(r)){const o=i.legend;n[r]=o&&$r(o)}return n},{})}parseData(){this.component.data=M$(this)}parseLayoutSize(){hBe(this)}parseSelections(){this.component.selection=r7e(this,this.selection)}parseMarkGroup(){this.component.mark=XBe(this)}parseAxesAndHeaders(){this.component.axes=SBe(this)}assembleSelectionTopLevelSignals(t){return $9e(this,t)}assembleSignals(){return[...mae(this),...k9e(this,[])]}assembleSelectionData(t){return A9e(this,t)}assembleLayout(){return null}assembleLayoutSignals(){return kI(this)}assembleMarks(){let t=this.component.mark??[];return(!this.parent||!V0(this.parent))&&(t=Gse(this,t)),t.map(this.correctDataNames)}assembleGroupStyle(){const{style:t}=this.view||{};return t!==void 0?t:this.encoding.x||this.encoding.y?"cell":"view"}getMapping(){return this.encoding}get mark(){return this.markDef.type}channelHasField(t){return ih(this.encoding,t)}fieldDef(t){const n=this.encoding[t];return ba(n)}typedFieldDef(t){const n=this.fieldDef(t);return Mi(n)?n:null}}class II extends PI{constructor(t,n,r,i,o){super(t,"layer",n,r,o,t.resolve,t.view);const s={...i,...t.width?{width:t.width}:{},...t.height?{height:t.height}:{}};this.children=t.layer.map((a,l)=>{if(y$(a))return new II(a,this,this.getName(`layer_${l}`),s,o);if(Wu(a))return new tle(a,this,this.getName(`layer_${l}`),s,o);throw new Error(OL(a))})}parseData(){this.component.data=M$(this);for(const t of this.children)t.parseData()}parseLayoutSize(){fBe(this)}parseSelections(){this.component.selection={};for(const t of this.children){t.parseSelections();for(const n of se(t.component.selection))this.component.selection[n]=t.component.selection[n]}}parseMarkGroup(){for(const t of this.children)t.parseMarkGroup()}parseAxesAndHeaders(){EBe(this)}assembleSelectionTopLevelSignals(t){return this.children.reduce((n,r)=>r.assembleSelectionTopLevelSignals(n),t)}assembleSignals(){return this.children.reduce((t,n)=>t.concat(n.assembleSignals()),mae(this))}assembleLayoutSignals(){return this.children.reduce((t,n)=>t.concat(n.assembleLayoutSignals()),kI(this))}assembleSelectionData(t){return this.children.reduce((n,r)=>r.assembleSelectionData(n),t)}assembleGroupStyle(){const t=new Set;for(const r of this.children)for(const i of xe(r.assembleGroupStyle()))t.add(i);const n=Array.from(t);return n.length>1?n:n.length===1?n[0]:void 0}assembleTitle(){let t=super.assembleTitle();if(t)return t;for(const n of this.children)if(t=n.assembleTitle(),t)return t}assembleLayout(){return null}assembleMarks(){return T9e(this,this.children.flatMap(t=>t.assembleMarks()))}assembleLegends(){return this.children.reduce((t,n)=>t.concat(n.assembleLegends()),Pae(this))}}function zI(e,t,n,r,i){if(c$(e))return new Z1(e,t,n,i);if(y$(e))return new II(e,t,n,r,i);if(Wu(e))return new tle(e,t,n,r,i);if(h8e(e))return new vBe(e,t,n,i);throw new Error(OL(e))}function tje(e,t={}){t.logger&&mLe(t.logger),t.fieldTitle&&nse(t.fieldTitle);try{const n=Fse(w0(t.config,e.config)),r=Bse(e,n),i=zI(r,null,"",void 0,n);return i.parse(),kze(i.component.data,i),{spec:rje(i,nje(e,r.autosize,n,i),e.datasets,e.usermeta),normalized:r}}finally{t.logger&&yLe(),t.fieldTitle&&DIe()}}function nje(e,t,n,r){const i=r.component.layoutSize.get("width"),o=r.component.layoutSize.get("height");if(t===void 0?(t={type:"pad"},r.hasAxisOrientSignalRef()&&(t.resize=!0)):we(t)&&(t={type:t}),i&&o&&x9e(t.type)){if(i==="step"&&o==="step")ue(KU()),t.type="pad";else if(i==="step"||o==="step"){const s=i==="step"?"width":"height";ue(KU(e$(s)));const a=s==="width"?"height":"width";t.type=w9e(a)}}return{...se(t).length===1&&t.type?t.type==="pad"?{}:{autosize:t.type}:{autosize:t},...EV(n,!1),...EV(e,!0)}}function rje(e,t,n={},r){const i=e.config?$8e(e.config):void 0,o=[].concat(e.assembleSelectionData([]),aBe(e.component.data,n)),s=e.assembleProjections(),a=e.assembleTitle(),l=e.assembleGroupStyle(),u=e.assembleGroupEncodeEntry(!0);let c=e.assembleLayoutSignals();c=c.filter(h=>(h.name==="width"||h.name==="height")&&h.value!==void 0?(t[h.name]=+h.value,!1):!0);const{params:f,...d}=t;return{$schema:"https://vega.github.io/schema/vega/v5.json",...e.description?{description:e.description}:{},...d,...a?{title:a}:{},...l?{style:l}:{},...u?{encode:{update:u}}:{},data:o,...s.length>0?{projections:s}:{},...e.assembleGroup([...c,...e.assembleSelectionTopLevelSignals([]),...$se(f)]),...i?{config:i}:{},...r?{usermeta:r}:{}}}const ije=DMe.version,nle=Object.freeze(Object.defineProperty({__proto__:null,accessPathDepth:Lm,accessPathWithDatum:SL,compile:tje,contains:it,deepEqual:$o,deleteNestedProperty:yE,duplicate:Ge,entries:bf,every:bL,fieldIntersection:wL,flatAccessWithDatum:zie,getFirstDefined:jn,hasIntersection:xL,hasProperty:le,hash:ut,internalField:Uie,isBoolean:Wv,isEmpty:Ht,isEqual:yS,isInternalField:Vie,isNullOrFalse:MF,isNumeric:X_,keys:se,logicalExpr:Q1,mergeDeep:Lie,never:Nie,normalize:Bse,normalizeAngle:Hv,omit:eo,pick:Mm,prefixGenerator:NF,removePathFromField:N0,replaceAll:Ah,replacePathInField:ks,resetIdCounter:LMe,setEqual:Iie,some:Nm,stringify:qt,titleCase:vx,unique:rl,uniqueId:jie,vals:Mr,varName:pn,version:ije},Symbol.toStringTag,{value:"Module"}));function rle(e){const[t,n]=/schema\/([\w-]+)\/([\w\.\-]+)\.json$/g.exec(e).slice(1,3);return{library:t,version:n}}var oje="vega-themes",sje="2.15.0",aje="Themes for stylized Vega and Vega-Lite visualizations.",lje=["vega","vega-lite","themes","style"],uje="BSD-3-Clause",cje={name:"UW Interactive Data Lab",url:"https://idl.cs.washington.edu"},fje=[{name:"Emily Gu",url:"https://github.com/emilygu"},{name:"Arvind Satyanarayan",url:"http://arvindsatya.com"},{name:"Jeffrey Heer",url:"https://idl.cs.washington.edu"},{name:"Dominik Moritz",url:"https://www.domoritz.de"}],dje="build/vega-themes.js",BI="build/vega-themes.module.js",hje="build/vega-themes.min.js",pje="build/vega-themes.min.js",gje="build/vega-themes.module.d.ts",mje={type:"git",url:"https://github.com/vega/vega-themes.git"},yje=["src","build"],vje={prebuild:"yarn clean",build:"rollup -c",clean:"rimraf build && rimraf examples/build","copy:data":"rsync -r node_modules/vega-datasets/data/* examples/data","copy:build":"rsync -r build/* examples/build","deploy:gh":"yarn build && mkdir -p examples/build && rsync -r build/* examples/build && gh-pages -d examples",preversion:"yarn lint",serve:"browser-sync start -s -f build examples --serveStatic examples",start:"yarn build && concurrently --kill-others -n Server,Rollup 'yarn serve' 'rollup -c -w'",format:"eslint . --fix",lint:"eslint .",release:"release-it"},bje={"@babel/core":"^7.24.6","@babel/plugin-transform-runtime":"^7.24.6","@babel/preset-env":"^7.24.6","@babel/preset-typescript":"^7.24.6","@release-it/conventional-changelog":"^8.0.1","@rollup/plugin-json":"^6.1.0","@rollup/plugin-node-resolve":"^15.2.3","@rollup/plugin-terser":"^0.4.4","@typescript-eslint/eslint-plugin":"^7.11.0","@typescript-eslint/parser":"^7.11.0","browser-sync":"^3.0.2",concurrently:"^8.2.2",eslint:"^8.45.0","eslint-config-prettier":"^9.1.0","eslint-plugin-prettier":"^5.1.3","gh-pages":"^6.1.1",prettier:"^3.2.5","release-it":"^17.3.0",rollup:"^4.18.0","rollup-plugin-bundle-size":"^1.0.3","rollup-plugin-ts":"^3.4.5",typescript:"^5.4.5",vega:"^5.25.0","vega-lite":"^5.9.3"},xje={vega:"*","vega-lite":"*"},wje={},Sje={name:oje,version:sje,description:aje,keywords:lje,license:uje,author:cje,contributors:fje,main:dje,module:BI,unpkg:hje,jsdelivr:pje,types:gje,repository:mje,files:yje,scripts:vje,devDependencies:bje,peerDependencies:xje,dependencies:wje};const Vp="#fff",nW="#888",Cje={background:"#333",view:{stroke:nW},title:{color:Vp,subtitleColor:Vp},style:{"guide-label":{fill:Vp},"guide-title":{fill:Vp}},axis:{domainColor:Vp,gridColor:nW,tickColor:Vp}},ld="#4572a7",Eje={background:"#fff",arc:{fill:ld},area:{fill:ld},line:{stroke:ld,strokeWidth:2},path:{stroke:ld},rect:{fill:ld},shape:{stroke:ld},symbol:{fill:ld,strokeWidth:1.5,size:50},axis:{bandPosition:.5,grid:!0,gridColor:"#000000",gridOpacity:1,gridWidth:.5,labelPadding:10,tickSize:5,tickWidth:.5},axisBand:{grid:!1,tickExtra:!0},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:50,symbolType:"square"},range:{category:["#4572a7","#aa4643","#8aa453","#71598e","#4598ae","#d98445","#94aace","#d09393","#b9cc98","#a99cbc"]}},ud="#30a2da",d3="#cbcbcb",kje="#999",_je="#333",rW="#f0f0f0",iW="#333",$je={arc:{fill:ud},area:{fill:ud},axis:{domainColor:d3,grid:!0,gridColor:d3,gridWidth:1,labelColor:kje,labelFontSize:10,titleColor:_je,tickColor:d3,tickSize:10,titleFontSize:14,titlePadding:10,labelPadding:4},axisBand:{grid:!1},background:rW,group:{fill:rW},legend:{labelColor:iW,labelFontSize:11,padding:1,symbolSize:30,symbolType:"square",titleColor:iW,titleFontSize:14,titlePadding:10},line:{stroke:ud,strokeWidth:2},path:{stroke:ud,strokeWidth:.5},rect:{fill:ud},range:{category:["#30a2da","#fc4f30","#e5ae38","#6d904f","#8b8b8b","#b96db8","#ff9e27","#56cc60","#52d2ca","#52689e","#545454","#9fe4f8"],diverging:["#cc0020","#e77866","#f6e7e1","#d6e8ed","#91bfd9","#1d78b5"],heatmap:["#d6e8ed","#cee0e5","#91bfd9","#549cc6","#1d78b5"]},point:{filled:!0,shape:"circle"},shape:{stroke:ud},bar:{binSpacing:2,fill:ud,stroke:null},title:{anchor:"start",fontSize:24,fontWeight:600,offset:20}},cd="#000",Aje={group:{fill:"#e5e5e5"},arc:{fill:cd},area:{fill:cd},line:{stroke:cd},path:{stroke:cd},rect:{fill:cd},shape:{stroke:cd},symbol:{fill:cd,size:40},axis:{domain:!1,grid:!0,gridColor:"#FFFFFF",gridOpacity:1,labelColor:"#7F7F7F",labelPadding:4,tickColor:"#7F7F7F",tickSize:5.67,titleFontSize:16,titleFontWeight:"normal"},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:40},range:{category:["#000000","#7F7F7F","#1A1A1A","#999999","#333333","#B0B0B0","#4D4D4D","#C9C9C9","#666666","#DCDCDC"]}},Tje=22,Rje="normal",oW="Benton Gothic, sans-serif",sW=11.5,Fje="normal",fd="#82c6df",h3="Benton Gothic Bold, sans-serif",aW="normal",lW=13,Oy={"category-6":["#ec8431","#829eb1","#c89d29","#3580b1","#adc839","#ab7fb4"],"fire-7":["#fbf2c7","#f9e39c","#f8d36e","#f4bb6a","#e68a4f","#d15a40","#ab4232"],"fireandice-6":["#e68a4f","#f4bb6a","#f9e39c","#dadfe2","#a6b7c6","#849eae"],"ice-7":["#edefee","#dadfe2","#c4ccd2","#a6b7c6","#849eae","#607785","#47525d"]},Oje={background:"#ffffff",title:{anchor:"start",color:"#000000",font:h3,fontSize:Tje,fontWeight:Rje},arc:{fill:fd},area:{fill:fd},line:{stroke:fd,strokeWidth:2},path:{stroke:fd},rect:{fill:fd},shape:{stroke:fd},symbol:{fill:fd,size:30},axis:{labelFont:oW,labelFontSize:sW,labelFontWeight:Fje,titleFont:h3,titleFontSize:lW,titleFontWeight:aW},axisX:{labelAngle:0,labelPadding:4,tickSize:3},axisY:{labelBaseline:"middle",maxExtent:45,minExtent:45,tickSize:2,titleAlign:"left",titleAngle:0,titleX:-45,titleY:-11},legend:{labelFont:oW,labelFontSize:sW,symbolType:"square",titleFont:h3,titleFontSize:lW,titleFontWeight:aW},range:{category:Oy["category-6"],diverging:Oy["fireandice-6"],heatmap:Oy["fire-7"],ordinal:Oy["fire-7"],ramp:Oy["fire-7"]}},dd="#ab5787",tw="#979797",Pje={background:"#f9f9f9",arc:{fill:dd},area:{fill:dd},line:{stroke:dd},path:{stroke:dd},rect:{fill:dd},shape:{stroke:dd},symbol:{fill:dd,size:30},axis:{domainColor:tw,domainWidth:.5,gridWidth:.2,labelColor:tw,tickColor:tw,tickWidth:.2,titleColor:tw},axisBand:{grid:!1},axisX:{grid:!0,tickSize:10},axisY:{domain:!1,grid:!0,tickSize:0},legend:{labelFontSize:11,padding:1,symbolSize:30,symbolType:"square"},range:{category:["#ab5787","#51b2e5","#703c5c","#168dd9","#d190b6","#00609f","#d365ba","#154866","#666666","#c4c4c4"]}},hd="#3e5c69",Dje={background:"#fff",arc:{fill:hd},area:{fill:hd},line:{stroke:hd},path:{stroke:hd},rect:{fill:hd},shape:{stroke:hd},symbol:{fill:hd},axis:{domainWidth:.5,grid:!0,labelPadding:2,tickSize:5,tickWidth:.5,titleFontWeight:"normal"},axisBand:{grid:!1},axisX:{gridWidth:.2},axisY:{gridDash:[3],gridWidth:.4},legend:{labelFontSize:11,padding:1,symbolType:"square"},range:{category:["#3e5c69","#6793a6","#182429","#0570b0","#3690c0","#74a9cf","#a6bddb","#e2ddf2"]}},Ko="#1696d2",uW="#000000",Mje="#FFFFFF",nw="Lato",p3="Lato",Nje="Lato",Lje="#DEDDDD",Ije=18,Py={"main-colors":["#1696d2","#d2d2d2","#000000","#fdbf11","#ec008b","#55b748","#5c5859","#db2b27"],"shades-blue":["#CFE8F3","#A2D4EC","#73BFE2","#46ABDB","#1696D2","#12719E","#0A4C6A","#062635"],"shades-gray":["#F5F5F5","#ECECEC","#E3E3E3","#DCDBDB","#D2D2D2","#9D9D9D","#696969","#353535"],"shades-yellow":["#FFF2CF","#FCE39E","#FDD870","#FCCB41","#FDBF11","#E88E2D","#CA5800","#843215"],"shades-magenta":["#F5CBDF","#EB99C2","#E46AA7","#E54096","#EC008B","#AF1F6B","#761548","#351123"],"shades-green":["#DCEDD9","#BCDEB4","#98CF90","#78C26D","#55B748","#408941","#2C5C2D","#1A2E19"],"shades-black":["#D5D5D4","#ADABAC","#848081","#5C5859","#332D2F","#262223","#1A1717","#0E0C0D"],"shades-red":["#F8D5D4","#F1AAA9","#E9807D","#E25552","#DB2B27","#A4201D","#6E1614","#370B0A"],"one-group":["#1696d2","#000000"],"two-groups-cat-1":["#1696d2","#000000"],"two-groups-cat-2":["#1696d2","#fdbf11"],"two-groups-cat-3":["#1696d2","#db2b27"],"two-groups-seq":["#a2d4ec","#1696d2"],"three-groups-cat":["#1696d2","#fdbf11","#000000"],"three-groups-seq":["#a2d4ec","#1696d2","#0a4c6a"],"four-groups-cat-1":["#000000","#d2d2d2","#fdbf11","#1696d2"],"four-groups-cat-2":["#1696d2","#ec0008b","#fdbf11","#5c5859"],"four-groups-seq":["#cfe8f3","#73bf42","#1696d2","#0a4c6a"],"five-groups-cat-1":["#1696d2","#fdbf11","#d2d2d2","#ec008b","#000000"],"five-groups-cat-2":["#1696d2","#0a4c6a","#d2d2d2","#fdbf11","#332d2f"],"five-groups-seq":["#cfe8f3","#73bf42","#1696d2","#0a4c6a","#000000"],"six-groups-cat-1":["#1696d2","#ec008b","#fdbf11","#000000","#d2d2d2","#55b748"],"six-groups-cat-2":["#1696d2","#d2d2d2","#ec008b","#fdbf11","#332d2f","#0a4c6a"],"six-groups-seq":["#cfe8f3","#a2d4ec","#73bfe2","#46abdb","#1696d2","#12719e"],"diverging-colors":["#ca5800","#fdbf11","#fdd870","#fff2cf","#cfe8f3","#73bfe2","#1696d2","#0a4c6a"]},zje={background:Mje,title:{anchor:"start",fontSize:Ije,font:nw},axisX:{domain:!0,domainColor:uW,domainWidth:1,grid:!1,labelFontSize:12,labelFont:p3,labelAngle:0,tickColor:uW,tickSize:5,titleFontSize:12,titlePadding:10,titleFont:nw},axisY:{domain:!1,domainWidth:1,grid:!0,gridColor:Lje,gridWidth:1,labelFontSize:12,labelFont:p3,labelPadding:8,ticks:!1,titleFontSize:12,titlePadding:10,titleFont:nw,titleAngle:0,titleY:-10,titleX:18},legend:{labelFontSize:12,labelFont:p3,symbolSize:100,titleFontSize:12,titlePadding:10,titleFont:nw,orient:"right",offset:10},view:{stroke:"transparent"},range:{category:Py["six-groups-cat-1"],diverging:Py["diverging-colors"],heatmap:Py["diverging-colors"],ordinal:Py["six-groups-seq"],ramp:Py["shades-blue"]},area:{fill:Ko},rect:{fill:Ko},line:{color:Ko,stroke:Ko,strokeWidth:5},trail:{color:Ko,stroke:Ko,strokeWidth:0,size:1},path:{stroke:Ko,strokeWidth:.5},point:{filled:!0},text:{font:Nje,color:Ko,fontSize:11,align:"center",fontWeight:400,size:11},style:{bar:{fill:Ko,stroke:null}},arc:{fill:Ko},shape:{stroke:Ko},symbol:{fill:Ko,size:30}},pd="#3366CC",cW="#ccc",rw="Arial, sans-serif",Bje={arc:{fill:pd},area:{fill:pd},path:{stroke:pd},rect:{fill:pd},shape:{stroke:pd},symbol:{stroke:pd},circle:{fill:pd},background:"#fff",padding:{top:10,right:10,bottom:10,left:10},style:{"guide-label":{font:rw,fontSize:12},"guide-title":{font:rw,fontSize:12},"group-title":{font:rw,fontSize:12}},title:{font:rw,fontSize:14,fontWeight:"bold",dy:-3,anchor:"start"},axis:{gridColor:cW,tickColor:cW,domain:!1,grid:!0},range:{category:["#4285F4","#DB4437","#F4B400","#0F9D58","#AB47BC","#00ACC1","#FF7043","#9E9D24","#5C6BC0","#F06292","#00796B","#C2185B"],heatmap:["#c6dafc","#5e97f6","#2a56c6"]}},jI=e=>e*(1/3+1),fW=jI(9),dW=jI(10),hW=jI(12),Dy="Segoe UI",pW="wf_standard-font, helvetica, arial, sans-serif",gW="#252423",My="#605E5C",mW="transparent",jje="#C8C6C4",Us="#118DFF",Uje="#12239E",Vje="#E66C37",Wje="#6B007B",Hje="#E044A7",qje="#744EC2",Gje="#D9B300",Xje="#D64550",ile=Us,ole="#DEEFFF",yW=[ole,ile],Yje=[ole,"#c7e4ff","#b0d9ff","#9aceff","#83c3ff","#6cb9ff","#55aeff","#3fa3ff","#2898ff",ile],Kje={view:{stroke:mW},background:mW,font:Dy,header:{titleFont:pW,titleFontSize:hW,titleColor:gW,labelFont:Dy,labelFontSize:dW,labelColor:My},axis:{ticks:!1,grid:!1,domain:!1,labelColor:My,labelFontSize:fW,titleFont:pW,titleColor:gW,titleFontSize:hW,titleFontWeight:"normal"},axisQuantitative:{tickCount:3,grid:!0,gridColor:jje,gridDash:[1,5],labelFlush:!1},axisBand:{tickExtra:!0},axisX:{labelPadding:5},axisY:{labelPadding:10},bar:{fill:Us},line:{stroke:Us,strokeWidth:3,strokeCap:"round",strokeJoin:"round"},text:{font:Dy,fontSize:fW,fill:My},arc:{fill:Us},area:{fill:Us,line:!0,opacity:.6},path:{stroke:Us},rect:{fill:Us},point:{fill:Us,filled:!0,size:75},shape:{stroke:Us},symbol:{fill:Us,strokeWidth:1.5,size:50},legend:{titleFont:Dy,titleFontWeight:"bold",titleColor:My,labelFont:Dy,labelFontSize:dW,labelColor:My,symbolType:"circle",symbolSize:75},range:{category:[Us,Uje,Vje,Wje,Hje,qje,Gje,Xje],diverging:yW,heatmap:yW,ordinal:Yje}},g3='IBM Plex Sans,system-ui,-apple-system,BlinkMacSystemFont,".sfnstext-regular",sans-serif',Qje='IBM Plex Sans Condensed, system-ui, -apple-system, BlinkMacSystemFont, ".SFNSText-Regular", sans-serif',m3=400,iw={textPrimary:{g90:"#f4f4f4",g100:"#f4f4f4",white:"#161616",g10:"#161616"},textSecondary:{g90:"#c6c6c6",g100:"#c6c6c6",white:"#525252",g10:"#525252"},layerAccent01:{white:"#e0e0e0",g10:"#e0e0e0",g90:"#525252",g100:"#393939"},gridBg:{white:"#ffffff",g10:"#ffffff",g90:"#161616",g100:"#161616"}},Jje=["#8a3ffc","#33b1ff","#007d79","#ff7eb6","#fa4d56","#fff1f1","#6fdc8c","#4589ff","#d12771","#d2a106","#08bdba","#bae6ff","#ba4e00","#d4bbff"],Zje=["#6929c4","#1192e8","#005d5d","#9f1853","#fa4d56","#570408","#198038","#002d9c","#ee538b","#b28600","#009d9a","#012749","#8a3800","#a56eff"];function N$({theme:e,background:t}){const n=["white","g10"].includes(e)?"light":"dark",r=iw.gridBg[e],i=iw.textPrimary[e],o=iw.textSecondary[e],s=n==="dark"?Jje:Zje,a=n==="dark"?"#d4bbff":"#6929c4";return{background:t,arc:{fill:a},area:{fill:a},path:{stroke:a},rect:{fill:a},shape:{stroke:a},symbol:{stroke:a},circle:{fill:a},view:{fill:r,stroke:r},group:{fill:r},title:{color:i,anchor:"start",dy:-15,fontSize:16,font:g3,fontWeight:600},axis:{labelColor:o,labelFontSize:12,labelFont:Qje,labelFontWeight:m3,titleColor:i,titleFontWeight:600,titleFontSize:12,grid:!0,gridColor:iw.layerAccent01[e],labelAngle:0},axisX:{titlePadding:10},axisY:{titlePadding:2.5},style:{"guide-label":{font:g3,fill:o,fontWeight:m3},"guide-title":{font:g3,fill:o,fontWeight:m3}},range:{category:s,diverging:["#750e13","#a2191f","#da1e28","#fa4d56","#ff8389","#ffb3b8","#ffd7d9","#fff1f1","#e5f6ff","#bae6ff","#82cfff","#33b1ff","#1192e8","#0072c3","#00539a","#003a6d"],heatmap:["#f6f2ff","#e8daff","#d4bbff","#be95ff","#a56eff","#8a3ffc","#6929c4","#491d8b","#31135e","#1c0f30"]}}}const eUe=N$({theme:"white",background:"#ffffff"}),tUe=N$({theme:"g10",background:"#f4f4f4"}),nUe=N$({theme:"g90",background:"#262626"}),rUe=N$({theme:"g100",background:"#161616"}),iUe=Sje.version,oUe=Object.freeze(Object.defineProperty({__proto__:null,carbong10:tUe,carbong100:rUe,carbong90:nUe,carbonwhite:eUe,dark:Cje,excel:Eje,fivethirtyeight:$je,ggplot2:Aje,googlecharts:Bje,latimes:Oje,powerbi:Kje,quartz:Pje,urbaninstitute:zje,version:iUe,vox:Dje},Symbol.toStringTag,{value:"Module"}));function sUe(e,t,n,r){if(te(e))return`[${e.map(i=>t(we(i)?i:vW(i,n))).join(", ")}]`;if(ve(e)){let i="";const{title:o,image:s,...a}=e;o&&(i+=`<h2>${t(o)}</h2>`),s&&(i+=`<img src="${new URL(t(s),r||location.href).href}">`);const l=Object.keys(a);if(l.length>0){i+="<table>";for(const u of l){let c=a[u];c!==void 0&&(ve(c)&&(c=vW(c,n)),i+=`<tr><td class="key">${t(u)}</td><td class="value">${t(c)}</td></tr>`)}i+="</table>"}return i||"{}"}return t(e)}function aUe(e){const t=[];return function(n,r){if(typeof r!="object"||r===null)return r;const i=t.indexOf(this)+1;return t.length=i,t.length>e?"[Object]":t.indexOf(r)>=0?"[Circular]":(t.push(r),r)}}function vW(e,t){return JSON.stringify(e,aUe(t))}var lUe=`#vg-tooltip-element {
  visibility: hidden;
  padding: 8px;
  position: fixed;
  z-index: 1000;
  font-family: sans-serif;
  font-size: 11px;
  border-radius: 3px;
  box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
  /* The default theme is the light theme. */
  background-color: rgba(255, 255, 255, 0.95);
  border: 1px solid #d9d9d9;
  color: black;
}
#vg-tooltip-element.visible {
  visibility: visible;
}
#vg-tooltip-element h2 {
  margin-top: 0;
  margin-bottom: 10px;
  font-size: 13px;
}
#vg-tooltip-element table {
  border-spacing: 0;
}
#vg-tooltip-element table tr {
  border: none;
}
#vg-tooltip-element table tr td {
  overflow: hidden;
  text-overflow: ellipsis;
  padding-top: 2px;
  padding-bottom: 2px;
}
#vg-tooltip-element table tr td.key {
  color: #808080;
  max-width: 150px;
  text-align: right;
  padding-right: 4px;
}
#vg-tooltip-element table tr td.value {
  display: block;
  max-width: 300px;
  max-height: 7em;
  text-align: left;
}
#vg-tooltip-element.dark-theme {
  background-color: rgba(32, 32, 32, 0.9);
  border: 1px solid #f5f5f5;
  color: white;
}
#vg-tooltip-element.dark-theme td.key {
  color: #bfbfbf;
}
`;const sle="vg-tooltip-element",uUe={offsetX:10,offsetY:10,id:sle,styleId:"vega-tooltip-style",theme:"light",disableDefaultStyle:!1,sanitize:cUe,maxDepth:2,formatTooltip:sUe,baseURL:""};function cUe(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;")}function fUe(e){if(!/^[A-Za-z]+[-:.\w]*$/.test(e))throw new Error("Invalid HTML ID");return lUe.toString().replace(sle,e)}function dUe(e,t,n,r){let i=e.clientX+n;i+t.width>window.innerWidth&&(i=+e.clientX-n-t.width);let o=e.clientY+r;return o+t.height>window.innerHeight&&(o=+e.clientY-r-t.height),{x:i,y:o}}class hUe{constructor(t){this.options={...uUe,...t};const n=this.options.id;if(this.el=null,this.call=this.tooltipHandler.bind(this),!this.options.disableDefaultStyle&&!document.getElementById(this.options.styleId)){const r=document.createElement("style");r.setAttribute("id",this.options.styleId),r.innerHTML=fUe(n);const i=document.head;i.childNodes.length>0?i.insertBefore(r,i.childNodes[0]):i.appendChild(r)}}tooltipHandler(t,n,r,i){if(this.el=document.getElementById(this.options.id),this.el||(this.el=document.createElement("div"),this.el.setAttribute("id",this.options.id),this.el.classList.add("vg-tooltip"),(document.fullscreenElement??document.body).appendChild(this.el)),i==null||i===""){this.el.classList.remove("visible",`${this.options.theme}-theme`);return}this.el.innerHTML=this.options.formatTooltip(i,this.options.sanitize,this.options.maxDepth,this.options.baseURL),this.el.classList.add("visible",`${this.options.theme}-theme`);const{x:o,y:s}=dUe(n,this.el.getBoundingClientRect(),this.options.offsetX,this.options.offsetY);this.el.style.top=`${s}px`,this.el.style.left=`${o}px`}}var y3={};function pUe(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}class gUe{constructor(){this.max=1e3,this.map=new Map}get(t){const n=this.map.get(t);if(n!==void 0)return this.map.delete(t),this.map.set(t,n),n}delete(t){return this.map.delete(t)}set(t,n){if(!this.delete(t)&&n!==void 0){if(this.map.size>=this.max){const i=this.map.keys().next().value;this.delete(i)}this.map.set(t,n)}return this}}var mUe=gUe;const yUe=Object.freeze({loose:!0}),vUe=Object.freeze({}),bUe=e=>e?typeof e!="object"?yUe:e:vUe;var UI=bUe,aO={exports:{}};const xUe="2.0.0",ale=256,wUe=Number.MAX_SAFE_INTEGER||9007199254740991,SUe=16,CUe=ale-6,EUe=["major","premajor","minor","preminor","patch","prepatch","prerelease"];var VI={MAX_LENGTH:ale,MAX_SAFE_COMPONENT_LENGTH:SUe,MAX_SAFE_BUILD_LENGTH:CUe,MAX_SAFE_INTEGER:wUe,RELEASE_TYPES:EUe,SEMVER_SPEC_VERSION:xUe,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2};const kUe=typeof process=="object"&&y3&&y3.NODE_DEBUG&&/\bsemver\b/i.test(y3.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};var L$=kUe;(function(e,t){const{MAX_SAFE_COMPONENT_LENGTH:n,MAX_SAFE_BUILD_LENGTH:r,MAX_LENGTH:i}=VI,o=L$;t=e.exports={};const s=t.re=[],a=t.safeRe=[],l=t.src=[],u=t.t={};let c=0;const f="[a-zA-Z0-9-]",d=[["\\s",1],["\\d",i],[f,r]],h=g=>{for(const[m,y]of d)g=g.split(`${m}*`).join(`${m}{0,${y}}`).split(`${m}+`).join(`${m}{1,${y}}`);return g},p=(g,m,y)=>{const v=h(m),b=c++;o(g,b,m),u[g]=b,l[b]=m,s[b]=new RegExp(m,y?"g":void 0),a[b]=new RegExp(v,y?"g":void 0)};p("NUMERICIDENTIFIER","0|[1-9]\\d*"),p("NUMERICIDENTIFIERLOOSE","\\d+"),p("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${f}*`),p("MAINVERSION",`(${l[u.NUMERICIDENTIFIER]})\\.(${l[u.NUMERICIDENTIFIER]})\\.(${l[u.NUMERICIDENTIFIER]})`),p("MAINVERSIONLOOSE",`(${l[u.NUMERICIDENTIFIERLOOSE]})\\.(${l[u.NUMERICIDENTIFIERLOOSE]})\\.(${l[u.NUMERICIDENTIFIERLOOSE]})`),p("PRERELEASEIDENTIFIER",`(?:${l[u.NUMERICIDENTIFIER]}|${l[u.NONNUMERICIDENTIFIER]})`),p("PRERELEASEIDENTIFIERLOOSE",`(?:${l[u.NUMERICIDENTIFIERLOOSE]}|${l[u.NONNUMERICIDENTIFIER]})`),p("PRERELEASE",`(?:-(${l[u.PRERELEASEIDENTIFIER]}(?:\\.${l[u.PRERELEASEIDENTIFIER]})*))`),p("PRERELEASELOOSE",`(?:-?(${l[u.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${l[u.PRERELEASEIDENTIFIERLOOSE]})*))`),p("BUILDIDENTIFIER",`${f}+`),p("BUILD",`(?:\\+(${l[u.BUILDIDENTIFIER]}(?:\\.${l[u.BUILDIDENTIFIER]})*))`),p("FULLPLAIN",`v?${l[u.MAINVERSION]}${l[u.PRERELEASE]}?${l[u.BUILD]}?`),p("FULL",`^${l[u.FULLPLAIN]}$`),p("LOOSEPLAIN",`[v=\\s]*${l[u.MAINVERSIONLOOSE]}${l[u.PRERELEASELOOSE]}?${l[u.BUILD]}?`),p("LOOSE",`^${l[u.LOOSEPLAIN]}$`),p("GTLT","((?:<|>)?=?)"),p("XRANGEIDENTIFIERLOOSE",`${l[u.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),p("XRANGEIDENTIFIER",`${l[u.NUMERICIDENTIFIER]}|x|X|\\*`),p("XRANGEPLAIN",`[v=\\s]*(${l[u.XRANGEIDENTIFIER]})(?:\\.(${l[u.XRANGEIDENTIFIER]})(?:\\.(${l[u.XRANGEIDENTIFIER]})(?:${l[u.PRERELEASE]})?${l[u.BUILD]}?)?)?`),p("XRANGEPLAINLOOSE",`[v=\\s]*(${l[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[u.XRANGEIDENTIFIERLOOSE]})(?:${l[u.PRERELEASELOOSE]})?${l[u.BUILD]}?)?)?`),p("XRANGE",`^${l[u.GTLT]}\\s*${l[u.XRANGEPLAIN]}$`),p("XRANGELOOSE",`^${l[u.GTLT]}\\s*${l[u.XRANGEPLAINLOOSE]}$`),p("COERCEPLAIN",`(^|[^\\d])(\\d{1,${n}})(?:\\.(\\d{1,${n}}))?(?:\\.(\\d{1,${n}}))?`),p("COERCE",`${l[u.COERCEPLAIN]}(?:$|[^\\d])`),p("COERCEFULL",l[u.COERCEPLAIN]+`(?:${l[u.PRERELEASE]})?(?:${l[u.BUILD]})?(?:$|[^\\d])`),p("COERCERTL",l[u.COERCE],!0),p("COERCERTLFULL",l[u.COERCEFULL],!0),p("LONETILDE","(?:~>?)"),p("TILDETRIM",`(\\s*)${l[u.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",p("TILDE",`^${l[u.LONETILDE]}${l[u.XRANGEPLAIN]}$`),p("TILDELOOSE",`^${l[u.LONETILDE]}${l[u.XRANGEPLAINLOOSE]}$`),p("LONECARET","(?:\\^)"),p("CARETTRIM",`(\\s*)${l[u.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",p("CARET",`^${l[u.LONECARET]}${l[u.XRANGEPLAIN]}$`),p("CARETLOOSE",`^${l[u.LONECARET]}${l[u.XRANGEPLAINLOOSE]}$`),p("COMPARATORLOOSE",`^${l[u.GTLT]}\\s*(${l[u.LOOSEPLAIN]})$|^$`),p("COMPARATOR",`^${l[u.GTLT]}\\s*(${l[u.FULLPLAIN]})$|^$`),p("COMPARATORTRIM",`(\\s*)${l[u.GTLT]}\\s*(${l[u.LOOSEPLAIN]}|${l[u.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",p("HYPHENRANGE",`^\\s*(${l[u.XRANGEPLAIN]})\\s+-\\s+(${l[u.XRANGEPLAIN]})\\s*$`),p("HYPHENRANGELOOSE",`^\\s*(${l[u.XRANGEPLAINLOOSE]})\\s+-\\s+(${l[u.XRANGEPLAINLOOSE]})\\s*$`),p("STAR","(<|>)?=?\\s*\\*"),p("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),p("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(aO,aO.exports);var WI=aO.exports;const bW=/^[0-9]+$/,lle=(e,t)=>{const n=bW.test(e),r=bW.test(t);return n&&r&&(e=+e,t=+t),e===t?0:n&&!r?-1:r&&!n?1:e<t?-1:1},_Ue=(e,t)=>lle(t,e);var $Ue={compareIdentifiers:lle,rcompareIdentifiers:_Ue};const ow=L$,{MAX_LENGTH:xW,MAX_SAFE_INTEGER:sw}=VI,{safeRe:wW,t:SW}=WI,AUe=UI,{compareIdentifiers:Wp}=$Ue;let TUe=class Ia{constructor(t,n){if(n=AUe(n),t instanceof Ia){if(t.loose===!!n.loose&&t.includePrerelease===!!n.includePrerelease)return t;t=t.version}else if(typeof t!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof t}".`);if(t.length>xW)throw new TypeError(`version is longer than ${xW} characters`);ow("SemVer",t,n),this.options=n,this.loose=!!n.loose,this.includePrerelease=!!n.includePrerelease;const r=t.trim().match(n.loose?wW[SW.LOOSE]:wW[SW.FULL]);if(!r)throw new TypeError(`Invalid Version: ${t}`);if(this.raw=t,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>sw||this.major<0)throw new TypeError("Invalid major version");if(this.minor>sw||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>sw||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){const o=+i;if(o>=0&&o<sw)return o}return i}):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(t){if(ow("SemVer.compare",this.version,this.options,t),!(t instanceof Ia)){if(typeof t=="string"&&t===this.version)return 0;t=new Ia(t,this.options)}return t.version===this.version?0:this.compareMain(t)||this.comparePre(t)}compareMain(t){return t instanceof Ia||(t=new Ia(t,this.options)),Wp(this.major,t.major)||Wp(this.minor,t.minor)||Wp(this.patch,t.patch)}comparePre(t){if(t instanceof Ia||(t=new Ia(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;let n=0;do{const r=this.prerelease[n],i=t.prerelease[n];if(ow("prerelease compare",n,r,i),r===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(r===void 0)return-1;if(r===i)continue;return Wp(r,i)}while(++n)}compareBuild(t){t instanceof Ia||(t=new Ia(t,this.options));let n=0;do{const r=this.build[n],i=t.build[n];if(ow("build compare",n,r,i),r===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(r===void 0)return-1;if(r===i)continue;return Wp(r,i)}while(++n)}inc(t,n,r){switch(t){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",n,r);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",n,r);break;case"prepatch":this.prerelease.length=0,this.inc("patch",n,r),this.inc("pre",n,r);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",n,r),this.inc("pre",n,r);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const i=Number(r)?1:0;if(!n&&r===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[i];else{let o=this.prerelease.length;for(;--o>=0;)typeof this.prerelease[o]=="number"&&(this.prerelease[o]++,o=-2);if(o===-1){if(n===this.prerelease.join(".")&&r===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(i)}}if(n){let o=[n,i];r===!1&&(o=[n]),Wp(this.prerelease[0],n)===0?isNaN(this.prerelease[1])&&(this.prerelease=o):this.prerelease=o}break}default:throw new Error(`invalid increment argument: ${t}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};var HI=TUe;const CW=HI,RUe=(e,t,n)=>new CW(e,n).compare(new CW(t,n));var W0=RUe;const FUe=W0,OUe=(e,t,n)=>FUe(e,t,n)===0;var PUe=OUe;const DUe=W0,MUe=(e,t,n)=>DUe(e,t,n)!==0;var NUe=MUe;const LUe=W0,IUe=(e,t,n)=>LUe(e,t,n)>0;var zUe=IUe;const BUe=W0,jUe=(e,t,n)=>BUe(e,t,n)>=0;var UUe=jUe;const VUe=W0,WUe=(e,t,n)=>VUe(e,t,n)<0;var HUe=WUe;const qUe=W0,GUe=(e,t,n)=>qUe(e,t,n)<=0;var XUe=GUe;const YUe=PUe,KUe=NUe,QUe=zUe,JUe=UUe,ZUe=HUe,eVe=XUe,tVe=(e,t,n,r)=>{switch(t){case"===":return typeof e=="object"&&(e=e.version),typeof n=="object"&&(n=n.version),e===n;case"!==":return typeof e=="object"&&(e=e.version),typeof n=="object"&&(n=n.version),e!==n;case"":case"=":case"==":return YUe(e,n,r);case"!=":return KUe(e,n,r);case">":return QUe(e,n,r);case">=":return JUe(e,n,r);case"<":return ZUe(e,n,r);case"<=":return eVe(e,n,r);default:throw new TypeError(`Invalid operator: ${t}`)}};var nVe=tVe,v3,EW;function rVe(){if(EW)return v3;EW=1;const e=Symbol("SemVer ANY");class t{static get ANY(){return e}constructor(c,f){if(f=n(f),c instanceof t){if(c.loose===!!f.loose)return c;c=c.value}c=c.trim().split(/\s+/).join(" "),s("comparator",c,f),this.options=f,this.loose=!!f.loose,this.parse(c),this.semver===e?this.value="":this.value=this.operator+this.semver.version,s("comp",this)}parse(c){const f=this.options.loose?r[i.COMPARATORLOOSE]:r[i.COMPARATOR],d=c.match(f);if(!d)throw new TypeError(`Invalid comparator: ${c}`);this.operator=d[1]!==void 0?d[1]:"",this.operator==="="&&(this.operator=""),d[2]?this.semver=new a(d[2],this.options.loose):this.semver=e}toString(){return this.value}test(c){if(s("Comparator.test",c,this.options.loose),this.semver===e||c===e)return!0;if(typeof c=="string")try{c=new a(c,this.options)}catch{return!1}return o(c,this.operator,this.semver,this.options)}intersects(c,f){if(!(c instanceof t))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new l(c.value,f).test(this.value):c.operator===""?c.value===""?!0:new l(this.value,f).test(c.semver):(f=n(f),f.includePrerelease&&(this.value==="<0.0.0-0"||c.value==="<0.0.0-0")||!f.includePrerelease&&(this.value.startsWith("<0.0.0")||c.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&c.operator.startsWith(">")||this.operator.startsWith("<")&&c.operator.startsWith("<")||this.semver.version===c.semver.version&&this.operator.includes("=")&&c.operator.includes("=")||o(this.semver,"<",c.semver,f)&&this.operator.startsWith(">")&&c.operator.startsWith("<")||o(this.semver,">",c.semver,f)&&this.operator.startsWith("<")&&c.operator.startsWith(">")))}}v3=t;const n=UI,{safeRe:r,t:i}=WI,o=nVe,s=L$,a=HI,l=ule();return v3}var b3,kW;function ule(){if(kW)return b3;kW=1;class e{constructor(L,A){if(A=r(A),L instanceof e)return L.loose===!!A.loose&&L.includePrerelease===!!A.includePrerelease?L:new e(L.raw,A);if(L instanceof i)return this.raw=L.value,this.set=[[L]],this.format(),this;if(this.options=A,this.loose=!!A.loose,this.includePrerelease=!!A.includePrerelease,this.raw=L.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map(O=>this.parseRange(O.trim())).filter(O=>O.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const O=this.set[0];if(this.set=this.set.filter(B=>!p(B[0])),this.set.length===0)this.set=[O];else if(this.set.length>1){for(const B of this.set)if(B.length===1&&g(B[0])){this.set=[B];break}}}this.format()}format(){return this.range=this.set.map(L=>L.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(L){const O=((this.options.includePrerelease&&d)|(this.options.loose&&h))+":"+L,B=n.get(O);if(B)return B;const z=this.options.loose,U=z?a[l.HYPHENRANGELOOSE]:a[l.HYPHENRANGE];L=L.replace(U,P(this.options.includePrerelease)),o("hyphen replace",L),L=L.replace(a[l.COMPARATORTRIM],u),o("comparator trim",L),L=L.replace(a[l.TILDETRIM],c),o("tilde trim",L),L=L.replace(a[l.CARETTRIM],f),o("caret trim",L);let X=L.split(" ").map(_e=>y(_e,this.options)).join(" ").split(/\s+/).map(_e=>F(_e,this.options));z&&(X=X.filter(_e=>(o("loose invalid filter",_e,this.options),!!_e.match(a[l.COMPARATORLOOSE])))),o("range list",X);const K=new Map,pe=X.map(_e=>new i(_e,this.options));for(const _e of pe){if(p(_e))return[_e];K.set(_e.value,_e)}K.size>1&&K.has("")&&K.delete("");const oe=[...K.values()];return n.set(O,oe),oe}intersects(L,A){if(!(L instanceof e))throw new TypeError("a Range is required");return this.set.some(O=>m(O,A)&&L.set.some(B=>m(B,A)&&O.every(z=>B.every(U=>z.intersects(U,A)))))}test(L){if(!L)return!1;if(typeof L=="string")try{L=new s(L,this.options)}catch{return!1}for(let A=0;A<this.set.length;A++)if(j(this.set[A],L,this.options))return!0;return!1}}b3=e;const t=mUe,n=new t,r=UI,i=rVe(),o=L$,s=HI,{safeRe:a,t:l,comparatorTrimReplace:u,tildeTrimReplace:c,caretTrimReplace:f}=WI,{FLAG_INCLUDE_PRERELEASE:d,FLAG_LOOSE:h}=VI,p=D=>D.value==="<0.0.0-0",g=D=>D.value==="",m=(D,L)=>{let A=!0;const O=D.slice();let B=O.pop();for(;A&&O.length;)A=O.every(z=>B.intersects(z,L)),B=O.pop();return A},y=(D,L)=>(o("comp",D,L),D=w(D,L),o("caret",D),D=b(D,L),o("tildes",D),D=S(D,L),o("xrange",D),D=$(D,L),o("stars",D),D),v=D=>!D||D.toLowerCase()==="x"||D==="*",b=(D,L)=>D.trim().split(/\s+/).map(A=>x(A,L)).join(" "),x=(D,L)=>{const A=L.loose?a[l.TILDELOOSE]:a[l.TILDE];return D.replace(A,(O,B,z,U,X)=>{o("tilde",D,O,B,z,U,X);let K;return v(B)?K="":v(z)?K=`>=${B}.0.0 <${+B+1}.0.0-0`:v(U)?K=`>=${B}.${z}.0 <${B}.${+z+1}.0-0`:X?(o("replaceTilde pr",X),K=`>=${B}.${z}.${U}-${X} <${B}.${+z+1}.0-0`):K=`>=${B}.${z}.${U} <${B}.${+z+1}.0-0`,o("tilde return",K),K})},w=(D,L)=>D.trim().split(/\s+/).map(A=>E(A,L)).join(" "),E=(D,L)=>{o("caret",D,L);const A=L.loose?a[l.CARETLOOSE]:a[l.CARET],O=L.includePrerelease?"-0":"";return D.replace(A,(B,z,U,X,K)=>{o("caret",D,B,z,U,X,K);let pe;return v(z)?pe="":v(U)?pe=`>=${z}.0.0${O} <${+z+1}.0.0-0`:v(X)?z==="0"?pe=`>=${z}.${U}.0${O} <${z}.${+U+1}.0-0`:pe=`>=${z}.${U}.0${O} <${+z+1}.0.0-0`:K?(o("replaceCaret pr",K),z==="0"?U==="0"?pe=`>=${z}.${U}.${X}-${K} <${z}.${U}.${+X+1}-0`:pe=`>=${z}.${U}.${X}-${K} <${z}.${+U+1}.0-0`:pe=`>=${z}.${U}.${X}-${K} <${+z+1}.0.0-0`):(o("no pr"),z==="0"?U==="0"?pe=`>=${z}.${U}.${X}${O} <${z}.${U}.${+X+1}-0`:pe=`>=${z}.${U}.${X}${O} <${z}.${+U+1}.0-0`:pe=`>=${z}.${U}.${X} <${+z+1}.0.0-0`),o("caret return",pe),pe})},S=(D,L)=>(o("replaceXRanges",D,L),D.split(/\s+/).map(A=>k(A,L)).join(" ")),k=(D,L)=>{D=D.trim();const A=L.loose?a[l.XRANGELOOSE]:a[l.XRANGE];return D.replace(A,(O,B,z,U,X,K)=>{o("xRange",D,O,B,z,U,X,K);const pe=v(z),oe=pe||v(U),_e=oe||v(X),Je=_e;return B==="="&&Je&&(B=""),K=L.includePrerelease?"-0":"",pe?B===">"||B==="<"?O="<0.0.0-0":O="*":B&&Je?(oe&&(U=0),X=0,B===">"?(B=">=",oe?(z=+z+1,U=0,X=0):(U=+U+1,X=0)):B==="<="&&(B="<",oe?z=+z+1:U=+U+1),B==="<"&&(K="-0"),O=`${B+z}.${U}.${X}${K}`):oe?O=`>=${z}.0.0${K} <${+z+1}.0.0-0`:_e&&(O=`>=${z}.${U}.0${K} <${z}.${+U+1}.0-0`),o("xRange return",O),O})},$=(D,L)=>(o("replaceStars",D,L),D.trim().replace(a[l.STAR],"")),F=(D,L)=>(o("replaceGTE0",D,L),D.trim().replace(a[L.includePrerelease?l.GTE0PRE:l.GTE0],"")),P=D=>(L,A,O,B,z,U,X,K,pe,oe,_e,Je)=>(v(O)?A="":v(B)?A=`>=${O}.0.0${D?"-0":""}`:v(z)?A=`>=${O}.${B}.0${D?"-0":""}`:U?A=`>=${A}`:A=`>=${A}${D?"-0":""}`,v(pe)?K="":v(oe)?K=`<${+pe+1}.0.0-0`:v(_e)?K=`<${pe}.${+oe+1}.0-0`:Je?K=`<=${pe}.${oe}.${_e}-${Je}`:D?K=`<${pe}.${oe}.${+_e+1}-0`:K=`<=${K}`,`${A} ${K}`.trim()),j=(D,L,A)=>{for(let O=0;O<D.length;O++)if(!D[O].test(L))return!1;if(L.prerelease.length&&!A.includePrerelease){for(let O=0;O<D.length;O++)if(o(D[O].semver),D[O].semver!==i.ANY&&D[O].semver.prerelease.length>0){const B=D[O].semver;if(B.major===L.major&&B.minor===L.minor&&B.patch===L.patch)return!0}return!1}return!0};return b3}const iVe=ule(),oVe=(e,t,n)=>{try{t=new iVe(t,n)}catch{return!1}return t.test(e)};var sVe=oVe,cle=pUe(sVe);function aVe(e,t,n){const r=e.open(t),i=1e4,o=250,{origin:s}=new URL(t);let a=~~(i/o);function l(c){c.source===r&&(a=0,e.removeEventListener("message",l,!1))}e.addEventListener("message",l,!1);function u(){a<=0||(r.postMessage(n,s),setTimeout(u,o),a-=1)}setTimeout(u,o)}var lVe=`.vega-embed {
  position: relative;
  display: inline-block;
  box-sizing: border-box;
}
.vega-embed.has-actions {
  padding-right: 38px;
}
.vega-embed details:not([open]) > :not(summary) {
  display: none !important;
}
.vega-embed summary {
  list-style: none;
  position: absolute;
  top: 0;
  right: 0;
  padding: 6px;
  z-index: 1000;
  background: white;
  box-shadow: 1px 1px 3px rgba(0, 0, 0, 0.1);
  color: #1b1e23;
  border: 1px solid #aaa;
  border-radius: 999px;
  opacity: 0.2;
  transition: opacity 0.4s ease-in;
  cursor: pointer;
  line-height: 0px;
}
.vega-embed summary::-webkit-details-marker {
  display: none;
}
.vega-embed summary:active {
  box-shadow: #aaa 0px 0px 0px 1px inset;
}
.vega-embed summary svg {
  width: 14px;
  height: 14px;
}
.vega-embed details[open] summary {
  opacity: 0.7;
}
.vega-embed:hover summary, .vega-embed:focus-within summary {
  opacity: 1 !important;
  transition: opacity 0.2s ease;
}
.vega-embed .vega-actions {
  position: absolute;
  z-index: 1001;
  top: 35px;
  right: -9px;
  display: flex;
  flex-direction: column;
  padding-bottom: 8px;
  padding-top: 8px;
  border-radius: 4px;
  box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.2);
  border: 1px solid #d9d9d9;
  background: white;
  animation-duration: 0.15s;
  animation-name: scale-in;
  animation-timing-function: cubic-bezier(0.2, 0, 0.13, 1.5);
  text-align: left;
}
.vega-embed .vega-actions a {
  padding: 8px 16px;
  font-family: sans-serif;
  font-size: 14px;
  font-weight: 600;
  white-space: nowrap;
  color: #434a56;
  text-decoration: none;
}
.vega-embed .vega-actions a:hover, .vega-embed .vega-actions a:focus {
  background-color: #f7f7f9;
  color: black;
}
.vega-embed .vega-actions::before, .vega-embed .vega-actions::after {
  content: "";
  display: inline-block;
  position: absolute;
}
.vega-embed .vega-actions::before {
  left: auto;
  right: 14px;
  top: -16px;
  border: 8px solid rgba(0, 0, 0, 0);
  border-bottom-color: #d9d9d9;
}
.vega-embed .vega-actions::after {
  left: auto;
  right: 15px;
  top: -14px;
  border: 7px solid rgba(0, 0, 0, 0);
  border-bottom-color: #fff;
}
.vega-embed .chart-wrapper.fit-x {
  width: 100%;
}
.vega-embed .chart-wrapper.fit-y {
  height: 100%;
}

.vega-embed-wrapper {
  max-width: 100%;
  overflow: auto;
  padding-right: 14px;
}

@keyframes scale-in {
  from {
    opacity: 0;
    transform: scale(0.6);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}
`;function fle(e,...t){for(const n of t)uVe(e,n);return e}function uVe(e,t){for(const n of Object.keys(t))S0(e,n,t[n],!0)}const Ba=Mie;let Qm=nle;const aw=typeof window<"u"?window:void 0;var cY;Qm===void 0&&((cY=aw==null?void 0:aw.vl)!=null&&cY.compile)&&(Qm=aw.vl);const cVe={export:{svg:!0,png:!0},source:!0,compiled:!0,editor:!0},fVe={CLICK_TO_VIEW_ACTIONS:"Click to view actions",COMPILED_ACTION:"View Compiled Vega",EDITOR_ACTION:"Open in Vega Editor",PNG_ACTION:"Save as PNG",SOURCE_ACTION:"View Source",SVG_ACTION:"Save as SVG"},E1={vega:"Vega","vega-lite":"Vega-Lite"},FE={vega:Ba.version,"vega-lite":Qm?Qm.version:"not available"},dVe={vega:e=>e,"vega-lite":(e,t)=>Qm.compile(e,{config:t}).spec},hVe=`
<svg viewBox="0 0 16 16" fill="currentColor" stroke="none" stroke-width="1" stroke-linecap="round" stroke-linejoin="round">
  <circle r="2" cy="8" cx="2"></circle>
  <circle r="2" cy="8" cx="8"></circle>
  <circle r="2" cy="8" cx="14"></circle>
</svg>`,pVe="chart-wrapper";function gVe(e){return typeof e=="function"}function _W(e,t,n,r){const i=`<html><head>${t}</head><body><pre><code class="json">`,o=`</code></pre>${n}</body></html>`,s=window.open("");s.document.write(i+e+o),s.document.title=`${E1[r]} JSON Source`}function mVe(e,t){if(e.$schema){const n=rle(e.$schema);t&&t!==n.library&&console.warn(`The given visualization spec is written in ${E1[n.library]}, but mode argument sets ${E1[t]??t}.`);const r=n.library;return cle(FE[r],`^${n.version.slice(1)}`)||console.warn(`The input spec uses ${E1[r]} ${n.version}, but the current version of ${E1[r]} is v${FE[r]}.`),r}return"mark"in e||"encoding"in e||"layer"in e||"hconcat"in e||"vconcat"in e||"facet"in e||"repeat"in e?"vega-lite":"marks"in e||"signals"in e||"scales"in e||"axes"in e?"vega":t??"vega"}function dle(e){return!!(e&&"load"in e)}function $W(e){return dle(e)?e:Ba.loader(e)}function yVe(e){var n;const t=((n=e.usermeta)==null?void 0:n.embedOptions)??{};return we(t.defaultStyle)&&(t.defaultStyle=!1),t}async function vVe(e,t,n={}){let r,i;we(t)?(i=$W(n.loader),r=JSON.parse(await i.load(t))):r=t;const o=yVe(r),s=o.loader;(!i||s)&&(i=$W(n.loader??s));const a=await AW(o,i),l=await AW(n,i),u={...fle(l,a),config:w0(l.config??{},a.config??{})};return await xVe(e,r,u,i)}async function AW(e,t){const n=we(e.config)?JSON.parse(await t.load(e.config)):e.config??{},r=we(e.patch)?JSON.parse(await t.load(e.patch)):e.patch;return{...e,...r?{patch:r}:{},...n?{config:n}:{}}}function bVe(e){const t=e.getRootNode?e.getRootNode():document;return t instanceof ShadowRoot?{root:t,rootContainer:t}:{root:document,rootContainer:document.head??document.body}}async function xVe(e,t,n={},r){const i=n.theme?w0(oUe[n.theme],n.config??{}):n.config,o=Ff(n.actions)?n.actions:fle({},cVe,n.actions??{}),s={...fVe,...n.i18n},a=n.renderer??"canvas",l=n.logLevel??Ba.Warn,u=n.downloadFileName??"visualization",c=typeof e=="string"?document.querySelector(e):e;if(!c)throw new Error(`${e} does not exist`);if(n.defaultStyle!==!1){const w="vega-embed-style",{root:E,rootContainer:S}=bVe(c);if(!E.getElementById(w)){const k=document.createElement("style");k.id=w,k.innerHTML=n.defaultStyle===void 0||n.defaultStyle===!0?lVe.toString():n.defaultStyle,S.appendChild(k)}}const f=mVe(t,n.mode);let d=dVe[f](t,i);if(f==="vega-lite"&&d.$schema){const w=rle(d.$schema);cle(FE.vega,`^${w.version.slice(1)}`)||console.warn(`The compiled spec uses Vega ${w.version}, but current version is v${FE.vega}.`)}c.classList.add("vega-embed"),o&&c.classList.add("has-actions"),c.innerHTML="";let h=c;if(o){const w=document.createElement("div");w.classList.add(pVe),c.appendChild(w),h=w}const p=n.patch;if(p&&(d=p instanceof Function?p(d):Lk(d,p,!0,!1).newDocument),n.formatLocale&&Ba.formatLocale(n.formatLocale),n.timeFormatLocale&&Ba.timeFormatLocale(n.timeFormatLocale),n.expressionFunctions)for(const w in n.expressionFunctions){const E=n.expressionFunctions[w];"fn"in E?Ba.expressionFunction(w,E.fn,E.visitor):E instanceof Function&&Ba.expressionFunction(w,E)}const{ast:g}=n,m=Ba.parse(d,f==="vega-lite"?{}:i,{ast:g}),y=new(n.viewClass||Ba.View)(m,{loader:r,logLevel:l,renderer:a,...g?{expr:Ba.expressionInterpreter??n.expr??cMe}:{}});if(y.addSignalListener("autosize",(w,E)=>{const{type:S}=E;S=="fit-x"?(h.classList.add("fit-x"),h.classList.remove("fit-y")):S=="fit-y"?(h.classList.remove("fit-x"),h.classList.add("fit-y")):S=="fit"?h.classList.add("fit-x","fit-y"):h.classList.remove("fit-x","fit-y")}),n.tooltip!==!1){const{loader:w,tooltip:E}=n,S=w&&!dle(w)?w==null?void 0:w.baseURL:void 0,k=gVe(E)?E:new hUe({baseURL:S,...E===!0?{}:E}).call;y.tooltip(k)}let{hover:v}=n;if(v===void 0&&(v=f==="vega"),v){const{hoverSet:w,updateSet:E}=typeof v=="boolean"?{}:v;y.hover(w,E)}n&&(n.width!=null&&y.width(n.width),n.height!=null&&y.height(n.height),n.padding!=null&&y.padding(n.padding)),await y.initialize(h,n.bind).runAsync();let b;if(o!==!1){let w=c;if(n.defaultStyle!==!1||n.forceActionsMenu){const S=document.createElement("details");S.title=s.CLICK_TO_VIEW_ACTIONS,c.append(S),w=S;const k=document.createElement("summary");k.innerHTML=hVe,S.append(k),b=$=>{S.contains($.target)||S.removeAttribute("open")},document.addEventListener("click",b)}const E=document.createElement("div");if(w.append(E),E.classList.add("vega-actions"),o===!0||o.export!==!1){for(const S of["svg","png"])if(o===!0||o.export===!0||o.export[S]){const k=s[`${S.toUpperCase()}_ACTION`],$=document.createElement("a"),F=ve(n.scaleFactor)?n.scaleFactor[S]:n.scaleFactor;$.text=k,$.href="#",$.target="_blank",$.download=`${u}.${S}`,$.addEventListener("mousedown",async function(P){P.preventDefault();const j=await y.toImageURL(S,F);this.href=j}),E.append($)}}if(o===!0||o.source!==!1){const S=document.createElement("a");S.text=s.SOURCE_ACTION,S.href="#",S.addEventListener("click",function(k){_W(Q5(t),n.sourceHeader??"",n.sourceFooter??"",f),k.preventDefault()}),E.append(S)}if(f==="vega-lite"&&(o===!0||o.compiled!==!1)){const S=document.createElement("a");S.text=s.COMPILED_ACTION,S.href="#",S.addEventListener("click",function(k){_W(Q5(d),n.sourceHeader??"",n.sourceFooter??"","vega"),k.preventDefault()}),E.append(S)}if(o===!0||o.editor!==!1){const S=n.editorUrl??"https://vega.github.io/editor/",k=document.createElement("a");k.text=s.EDITOR_ACTION,k.href="#",k.addEventListener("click",function($){aVe(window,S,{config:i,mode:p?"vega":f,renderer:a,spec:Q5(p?d:t)}),$.preventDefault()}),E.append(k)}}function x(){b&&document.removeEventListener("click",b),y.finalize()}return{view:y,spec:t,vgSpec:d,finalize:x,embedOptions:n}}const wVe={count:" ",sum:"",mean:"",average:"",median:"",min:"",max:"",variance:"",stdev:"",first:"",last:"",ci0:" ",ci1:" ",missing:"",valid:"",distinct:""},SVe={year:"",quarter:"",month:"",week:"",day:"",date:"",hours:"",minutes:"",seconds:"",milliseconds:"",yearquarter:"",yearquartermonth:"",yearmonth:"",yearmonthdate:"",yearmonthdatehours:"",yearmonthdatehoursminutes:"",yearmonthdatehoursminutesseconds:"",monthdate:"",hoursminutes:"",hoursminutesseconds:"",minutesseconds:"",secondsmilliseconds:""};function x3(e){return wVe[e]||SVe[e]||e}function CVe(e){return/[---]/.test(e)}function EVe(e){return Qm.compile(e,{config:{locale:{time:{dateTime:"%Y/%m/%d %a %X",date:"%Y/%m/%d",time:"%H:%M:%S",periods:["",""],days:["","","","","","",""],shortDays:["","","","","","",""],months:["1","2","3","4","5","6","7","8","9","10","11","12"],shortMonths:["1","2","3","4","5","6","7","8","9","10","11","12"]},number:{decimal:".",thousands:",",grouping:[3],currency:["",""]}},axis:{labelExpr:`
  isValid(datum.value) && isNumber(datum.value) ? (
    datum.value == 0 ? '0' :
    datum.value > 1e15 ? format(datum.value/1e15, (floor(datum.value/1e15) == datum.value/1e15) ? ',d' : ',.1f') + '' :
    datum.value == 1e15 ? '' :
    datum.value > 1e14 ? format(datum.value/1e14, (floor(datum.value/1e14) == datum.value/1e14) ? ',d' : ',.1f') + '' :
    datum.value == 1e14 ? '' :
    datum.value > 1e13 ? format(datum.value/1e13, (floor(datum.value/1e13) == datum.value/1e13) ? ',d' : ',.1f') + '' :
    datum.value == 1e13 ? '' :
    datum.value > 1e12 ? format(datum.value/1e12, (floor(datum.value/1e12) == datum.value/1e12) ? ',d' : ',.1f') + '' :
    datum.value == 1e12 ? '' :
    datum.value > 1e11 ? format(datum.value/1e11, (floor(datum.value/1e11) == datum.value/1e11) ? ',d' : ',.1f') + '' :
    datum.value == 1e11 ? '' :
    datum.value > 1e10 ? format(datum.value/1e10, (floor(datum.value/1e10) == datum.value/1e10) ? ',d' : ',.1f') + '' :
    datum.value == 1e10 ? '' :
    datum.value > 1e9 ? format(datum.value/1e9, (floor(datum.value/1e9) == datum.value/1e9) ? ',d' : ',.1f') + '' :
    datum.value == 1e9 ? '' :
    datum.value > 1e8 ? format(datum.value/1e8, (floor(datum.value/1e8) == datum.value/1e8) ? ',d' : ',.1f') + '' :
    datum.value == 1e8 ? '' :
    datum.value > 1e7 ? format(datum.value/1e7, (floor(datum.value/1e7) == datum.value/1e7) ? ',d' : ',.1f') + '' :
    datum.value == 1e7 ? '' :
    datum.value > 1e6 ? format(datum.value/1e6, (floor(datum.value/1e6) == datum.value/1e6) ? ',d' : ',.1f') + '' :
    datum.value == 1e6 ? '' :
    datum.value > 1e5 ? format(datum.value/1e5, (floor(datum.value/1e5) == datum.value/1e5) ? ',d' : ',.1f') + '' :
    datum.value == 1e5 ? '' :
    datum.value > 1e4 ? format(datum.value/1e4, (floor(datum.value/1e4) == datum.value/1e4) ? ',d' : ',.1f') + '' :
    datum.value == 1e4 ? '' :
    datum.value > 1e3 ? format(datum.value/1e3, (floor(datum.value/1e3) == datum.value/1e3) ? ',d' : ',.1f') + '' :
    datum.value == 1e3 ? '' :
    format(datum.value, floor(datum.value) == datum.value ? ',.0f' : ',.1f')
  ) : datum.label`}},fieldTitle:(t,n)=>{var a;const{field:r,aggregate:i,timeUnit:o,bin:s}=t;if(i==="count")return n.countTitle&&CVe(n.countTitle)?n.countTitle:x3("count");if(s&&Jt(s))return`${r} ()`;if(o&&!Vf(o)){const l=(a=sr(o))==null?void 0:a.unit;if(l)return`${r} (${Cx(l).map(x3).join(" ")})`}else if(i)return Vu(i)?`${i.argmax}   ${r}`:Sl(i)?`${i.argmin}   ${r}`:`${r} ${x3(i)}`;return String(r)}}).spec}const kVe=[{name:"Barley",href:"/data/barley.json"},{name:"Birdstrikes",href:"/data/birdstrikes_5000.json"},{name:"Burtin",href:"/data/burtin.json"},{name:"Cars",href:"/data/cars.json"},{name:"Cars (Korean)",href:"/data/cars_ko.json"},{name:"Crimea",href:"/data/crimea.json"},{name:"Jobs",href:"/data/jobs.json"},{name:"Movies",href:"/data/movies.json"},{name:"Movies (Korean)",href:"/data/movies_ko.json"},{name:"Population",href:"/data/population.json"},{name:"Seoul Bike Rides",href:"/data/SeoulBikeData_ko_cleaned_5000.json"}],en={black:"#000000",white:"#FFFFFF","blackAlpha.50":"rgba(0, 0, 0, 0.04)","blackAlpha.100":"rgba(0, 0, 0, 0.06)","blackAlpha.200":"rgba(0, 0, 0, 0.08)","blackAlpha.300":"rgba(0, 0, 0, 0.16)","blackAlpha.400":"rgba(0, 0, 0, 0.24)","blackAlpha.500":"rgba(0, 0, 0, 0.36)","blackAlpha.600":"rgba(0, 0, 0, 0.48)","blackAlpha.700":"rgba(0, 0, 0, 0.64)","blackAlpha.800":"rgba(0, 0, 0, 0.80)","blackAlpha.900":"rgba(0, 0, 0, 0.92)","whiteAlpha.50":"rgba(255, 255, 255, 0.04)","whiteAlpha.100":"rgba(255, 255, 255, 0.06)","whiteAlpha.200":"rgba(255, 255, 255, 0.08)","whiteAlpha.300":"rgba(255, 255, 255, 0.16)","whiteAlpha.400":"rgba(255, 255, 255, 0.24)","whiteAlpha.500":"rgba(255, 255, 255, 0.36)","whiteAlpha.600":"rgba(255, 255, 255, 0.48)","whiteAlpha.700":"rgba(255, 255, 255, 0.64)","whiteAlpha.800":"rgba(255, 255, 255, 0.80)","whiteAlpha.900":"rgba(255, 255, 255, 0.92)","gray.50":"#F7FAFC","gray.100":"#EDF2F7","gray.200":"#E2E8F0","gray.300":"#CBD5E0","gray.400":"#A0AEC0","gray.500":"#718096","gray.600":"#4A5568","gray.700":"#2D3748","gray.800":"#1A202C","gray.900":"#171923","red.50":"#FFF5F5","red.100":"#FED7D7","red.200":"#FEB2B2","red.300":"#FC8181","red.400":"#F56565","red.500":"#E53E3E","red.600":"#C53030","red.700":"#9B2C2C","red.800":"#822727","red.900":"#63171B","orange.50":"#FFFAF0","orange.100":"#FEEBC8","orange.200":"#FBD38D","orange.300":"#F6AD55","orange.400":"#ED8936","orange.500":"#DD6B20","orange.600":"#C05621","orange.700":"#9C4221","orange.800":"#7B341E","orange.900":"#652B19","yellow.50":"#FFFFF0","yellow.100":"#FEFCBF","yellow.200":"#FAF089","yellow.300":"#F6E05E","yellow.400":"#ECC94B","yellow.500":"#D69E2E","yellow.600":"#B7791F","yellow.700":"#975A16","yellow.800":"#744210","yellow.900":"#5F370E","green.50":"#F0FFF4","green.100":"#C6F6D5","green.200":"#9AE6B4","green.300":"#68D391","green.400":"#48BB78","green.500":"#38A169","green.600":"#2F855A","green.700":"#276749","green.800":"#22543D","green.900":"#1C4532","teal.50":"#E6FFFA","teal.100":"#B2F5EA","teal.200":"#81E6D9","teal.300":"#4FD1C5","teal.400":"#38B2AC","teal.500":"#319795","teal.600":"#2C7A7B","teal.700":"#285E61","teal.800":"#234E52","teal.900":"#1D4044","blue.50":"#EBF8FF","blue.100":"#BEE3F8","blue.200":"#90CDF4","blue.300":"#63B3ED","blue.400":"#4299E1","blue.500":"#3182CE","blue.600":"#2B6CB0","blue.700":"#2C5282","blue.800":"#2A4365","blue.900":"#1A365D","cyan.50":"#EDFDFD","cyan.100":"#C4F1F9","cyan.200":"#9DECF9","cyan.300":"#76E4F7","cyan.400":"#0BC5EA","cyan.500":"#00B5D8","cyan.600":"#00A3C4","cyan.700":"#0987A0","cyan.800":"#086F83","cyan.900":"#065666","purple.50":"#FAF5FF","purple.100":"#E9D8FD","purple.200":"#D6BCFA","purple.300":"#B794F4","purple.400":"#9F7AEA","purple.500":"#805AD5","purple.600":"#6B46C1","purple.700":"#553C9A","purple.800":"#44337A","purple.900":"#322659","pink.50":"#FFF5F7","pink.100":"#FED7E2","pink.200":"#FBB6CE","pink.300":"#F687B3","pink.400":"#ED64A6","pink.500":"#D53F8C","pink.600":"#B83280","pink.700":"#97266D","pink.800":"#702459","pink.900":"#521B41"},TW=kVe.map(e=>({...e,href:`/Swipytics${e.href}`})),lw=1,Qn="orange",Wc={50:en[`${Qn}.50`],100:en[`${Qn}.100`],200:en[`${Qn}.200`],300:en[`${Qn}.300`],400:en[`${Qn}.400`],500:en[`${Qn}.500`],600:en[`${Qn}.600`],700:en[`${Qn}.700`],800:en[`${Qn}.800`],900:en[`${Qn}.900`]},hle="table";function ple(e){return`thumbnail@${JSON.stringify(e)}`}async function _Ve(e,t,n=100){const r=$Ve(e);if(r)return r;const i=await RVe(e,t,n);return i&&sessionStorage.setItem(ple(e),i),i}function $Ve(e){return sessionStorage.getItem(ple(e))}function AVe(e,t=100,n=100){return{...e,width:t,height:n,data:{name:hle},config:{...e.config,background:"transparent",title:{fontSize:18,offset:16},axisX:{labelFontSize:14,titleFontSize:16,titlePadding:16,labelLimit:100,labelAngle:-45},axisY:{labelFontSize:14,titleFontSize:16,titlePadding:16,labelLimit:70},autosize:{type:"fit"},legend:{direction:"horizontal",columns:2,orient:"bottom",labelFontSize:14,titleFontSize:16},numberFormat:".3~s"}}}function TVe(e,t){return{...e,width:t,height:t,config:{...e.config,legend:{disable:!0},axis:{title:null,disable:!0,grid:!1,ticks:!1,labels:!1},style:{view:{stroke:"transparent"},cell:{stroke:"transparent"}}},background:"transparent",title:void 0}}async function RVe(e,t,n=100){if(!e||!t)return;const r=TVe(e,n);return(await(await vVe(document.createElement("div"),{...r,data:{values:t}},{actions:!1}).then(o=>o.view)).toCanvas()).toDataURL()}const FVe={year:"%Y",month:"%b",day:"%a",hours:"%H"};function OVe(e,t,n){return{...e,config:{...e.config,axisTemporal:{format:FVe[t]}},transform:[{timeUnit:t,field:n.name,as:n.name}]}}function PVe(e){if(e.startsWith("/")||e.startsWith("./")||e.startsWith("../"))return!0;try{return new URL(e),!0}catch{return!1}}function gle(e){try{let t;e.startsWith("/")||e.startsWith("./")||e.startsWith("../")?t=e.split("/"):t=new URL(e).pathname.split("/"),t=t.filter(r=>r.length>0);const n=t[t.length-1];if(!n)throw new Error("No filename found");return decodeURIComponent(n)}catch(t){throw t instanceof Error?t:new Error("Invalid URL or path")}}const DVe={BASE_URL:"/Swipytics",DEV:!1,MODE:"production",PROD:!0,SSR:!1},RW=e=>{let t;const n=new Set,r=(c,f)=>{const d=typeof c=="function"?c(t):c;if(!Object.is(d,t)){const h=t;t=f??(typeof d!="object"||d===null)?d:Object.assign({},t,d),n.forEach(p=>p(t,h))}},i=()=>t,l={setState:r,getState:i,getInitialState:()=>u,subscribe:c=>(n.add(c),()=>n.delete(c)),destroy:()=>{(DVe?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},u=t=e(r,i,l);return l},MVe=e=>e?RW(e):RW;var mle={exports:{}},yle={},vle={exports:{}},ble={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jm=M;function NVe(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var LVe=typeof Object.is=="function"?Object.is:NVe,IVe=Jm.useState,zVe=Jm.useEffect,BVe=Jm.useLayoutEffect,jVe=Jm.useDebugValue;function UVe(e,t){var n=t(),r=IVe({inst:{value:n,getSnapshot:t}}),i=r[0].inst,o=r[1];return BVe(function(){i.value=n,i.getSnapshot=t,w3(i)&&o({inst:i})},[e,n,t]),zVe(function(){return w3(i)&&o({inst:i}),e(function(){w3(i)&&o({inst:i})})},[e]),jVe(n),n}function w3(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!LVe(e,n)}catch{return!0}}function VVe(e,t){return t()}var WVe=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?VVe:UVe;ble.useSyncExternalStore=Jm.useSyncExternalStore!==void 0?Jm.useSyncExternalStore:WVe;vle.exports=ble;var HVe=vle.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I$=M,qVe=HVe;function GVe(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var XVe=typeof Object.is=="function"?Object.is:GVe,YVe=qVe.useSyncExternalStore,KVe=I$.useRef,QVe=I$.useEffect,JVe=I$.useMemo,ZVe=I$.useDebugValue;yle.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var o=KVe(null);if(o.current===null){var s={hasValue:!1,value:null};o.current=s}else s=o.current;o=JVe(function(){function l(h){if(!u){if(u=!0,c=h,h=r(h),i!==void 0&&s.hasValue){var p=s.value;if(i(p,h))return f=p}return f=h}if(p=f,XVe(c,h))return p;var g=r(h);return i!==void 0&&i(p,g)?p:(c=h,f=g)}var u=!1,c,f,d=n===void 0?null:n;return[function(){return l(t())},d===null?void 0:function(){return l(d())}]},[t,n,r,i]);var a=YVe(e,o[0],o[1]);return QVe(function(){s.hasValue=!0,s.value=a},[a]),ZVe(a),a};mle.exports=yle;var eWe=mle.exports;const tWe=qh(eWe),xle={BASE_URL:"/Swipytics",DEV:!1,MODE:"production",PROD:!0,SSR:!1},{useDebugValue:nWe}=fm,{useSyncExternalStoreWithSelector:rWe}=tWe;let FW=!1;const iWe=e=>e;function oWe(e,t=iWe,n){(xle?"production":void 0)!=="production"&&n&&!FW&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),FW=!0);const r=rWe(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return nWe(r),r}const OW=e=>{(xle?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?MVe(e):e,n=(r,i)=>oWe(t,r,i);return Object.assign(n,t),n},qI=e=>e?OW(e):OW,S3={BASE_URL:"/Swipytics",DEV:!1,MODE:"production",PROD:!0,SSR:!1},lO=new Map,uw=e=>{const t=lO.get(e);return t?Object.fromEntries(Object.entries(t.stores).map(([n,r])=>[n,r.getState()])):{}},sWe=(e,t,n)=>{if(e===void 0)return{type:"untracked",connection:t.connect(n)};const r=lO.get(n.name);if(r)return{type:"tracked",store:e,...r};const i={connection:t.connect(n),stores:{}};return lO.set(n.name,i),{type:"tracked",store:e,...i}},aWe=(e,t={})=>(n,r,i)=>{const{enabled:o,anonymousActionType:s,store:a,...l}=t;let u;try{u=(o??(S3?"production":void 0)!=="production")&&window.__REDUX_DEVTOOLS_EXTENSION__}catch{}if(!u)return(S3?"production":void 0)!=="production"&&o&&console.warn("[zustand devtools middleware] Please install/enable Redux devtools extension"),e(n,r,i);const{connection:c,...f}=sWe(a,u,l);let d=!0;i.setState=(g,m,y)=>{const v=n(g,m);if(!d)return v;const b=y===void 0?{type:s||"anonymous"}:typeof y=="string"?{type:y}:y;return a===void 0?(c==null||c.send(b,r()),v):(c==null||c.send({...b,type:`${a}/${b.type}`},{...uw(l.name),[a]:i.getState()}),v)};const h=(...g)=>{const m=d;d=!1,n(...g),d=m},p=e(i.setState,r,i);if(f.type==="untracked"?c==null||c.init(p):(f.stores[f.store]=i,c==null||c.init(Object.fromEntries(Object.entries(f.stores).map(([g,m])=>[g,g===f.store?p:m.getState()])))),i.dispatchFromDevtools&&typeof i.dispatch=="function"){let g=!1;const m=i.dispatch;i.dispatch=(...y)=>{(S3?"production":void 0)!=="production"&&y[0].type==="__setState"&&!g&&(console.warn('[zustand devtools middleware] "__setState" action type is reserved to set state from the devtools. Avoid using it.'),g=!0),m(...y)}}return c.subscribe(g=>{var m;switch(g.type){case"ACTION":if(typeof g.payload!="string"){console.error("[zustand devtools middleware] Unsupported action format");return}return C3(g.payload,y=>{if(y.type==="__setState"){if(a===void 0){h(y.state);return}Object.keys(y.state).length!==1&&console.error(`
                    [zustand devtools middleware] Unsupported __setState action format. 
                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),
                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }
                    `);const v=y.state[a];if(v==null)return;JSON.stringify(i.getState())!==JSON.stringify(v)&&h(v);return}i.dispatchFromDevtools&&typeof i.dispatch=="function"&&i.dispatch(y)});case"DISPATCH":switch(g.payload.type){case"RESET":return h(p),a===void 0?c==null?void 0:c.init(i.getState()):c==null?void 0:c.init(uw(l.name));case"COMMIT":if(a===void 0){c==null||c.init(i.getState());return}return c==null?void 0:c.init(uw(l.name));case"ROLLBACK":return C3(g.state,y=>{if(a===void 0){h(y),c==null||c.init(i.getState());return}h(y[a]),c==null||c.init(uw(l.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return C3(g.state,y=>{if(a===void 0){h(y);return}JSON.stringify(i.getState())!==JSON.stringify(y[a])&&h(y[a])});case"IMPORT_STATE":{const{nextLiftedState:y}=g.payload,v=(m=y.computedStates.slice(-1)[0])==null?void 0:m.state;if(!v)return;h(a===void 0?v:v[a]),c==null||c.send(null,y);return}case"PAUSE_RECORDING":return d=!d}return}}),p},GI=aWe,C3=(e,t)=>{let n;try{n=JSON.parse(e)}catch(r){console.error("[zustand devtools middleware] Could not parse the received json",r)}n!==void 0&&t(n)},lWe={json:eye,csv:C6},kf=qI(GI(e=>({filename:null,fileCache:null,data:void 0,writingFile:!1,writeFile:async t=>{e({writingFile:!0,filename:null,fileCache:null,data:void 0});try{const n=t instanceof File?t.name:gle(t),r=n.split(".").pop(),o=await(await H4(t)).arrayBuffer(),s=new Uint8Array(o),a=await x6(o,lWe[r],{worker:!0,fetch:{mode:"no-cors"}});await us.lazyCall("writeFile",{filename:n,fileBuffer:s}),e({filename:n,fileCache:t,data:a,writingFile:!1})}catch(n){console.error(n)}finally{e({writingFile:!1})}}}),{name:"DataStore",anonymousActionType:"DataStore Action",enabled:!1}));var uWe=!1;function cWe(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function fWe(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var dWe=function(){function e(n){var r=this;this._insertTag=function(i){var o;r.tags.length===0?r.insertionPoint?o=r.insertionPoint.nextSibling:r.prepend?o=r.container.firstChild:o=r.before:o=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,o),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!uWe:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(r){r.forEach(this._insertTag)},t.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(fWe(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var o=cWe(i);try{o.insertRule(r,o.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},t.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},e}(),qr="-ms-",OE="-moz-",At="-webkit-",wle="comm",XI="rule",YI="decl",hWe="@import",Sle="@keyframes",pWe="@layer",gWe=Math.abs,z$=String.fromCharCode,mWe=Object.assign;function yWe(e,t){return Ar(e,0)^45?(((t<<2^Ar(e,0))<<2^Ar(e,1))<<2^Ar(e,2))<<2^Ar(e,3):0}function Cle(e){return e.trim()}function vWe(e,t){return(e=t.exec(e))?e[0]:e}function Tt(e,t,n){return e.replace(t,n)}function uO(e,t){return e.indexOf(t)}function Ar(e,t){return e.charCodeAt(t)|0}function Kv(e,t,n){return e.slice(t,n)}function Ka(e){return e.length}function KI(e){return e.length}function cw(e,t){return t.push(e),e}function bWe(e,t){return e.map(t).join("")}var B$=1,Zm=1,Ele=0,ho=0,qn=0,H0="";function j$(e,t,n,r,i,o,s){return{value:e,root:t,parent:n,type:r,props:i,children:o,line:B$,column:Zm,length:s,return:""}}function Ny(e,t){return mWe(j$("",null,null,"",null,null,0),e,{length:-e.length},t)}function xWe(){return qn}function wWe(){return qn=ho>0?Ar(H0,--ho):0,Zm--,qn===10&&(Zm=1,B$--),qn}function Oo(){return qn=ho<Ele?Ar(H0,ho++):0,Zm++,qn===10&&(Zm=1,B$++),qn}function hl(){return Ar(H0,ho)}function vS(){return ho}function Dx(e,t){return Kv(H0,e,t)}function Qv(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function kle(e){return B$=Zm=1,Ele=Ka(H0=e),ho=0,[]}function _le(e){return H0="",e}function bS(e){return Cle(Dx(ho-1,cO(e===91?e+2:e===40?e+1:e)))}function SWe(e){for(;(qn=hl())&&qn<33;)Oo();return Qv(e)>2||Qv(qn)>3?"":" "}function CWe(e,t){for(;--t&&Oo()&&!(qn<48||qn>102||qn>57&&qn<65||qn>70&&qn<97););return Dx(e,vS()+(t<6&&hl()==32&&Oo()==32))}function cO(e){for(;Oo();)switch(qn){case e:return ho;case 34:case 39:e!==34&&e!==39&&cO(qn);break;case 40:e===41&&cO(e);break;case 92:Oo();break}return ho}function EWe(e,t){for(;Oo()&&e+qn!==57;)if(e+qn===84&&hl()===47)break;return"/*"+Dx(t,ho-1)+"*"+z$(e===47?e:Oo())}function kWe(e){for(;!Qv(hl());)Oo();return Dx(e,ho)}function _We(e){return _le(xS("",null,null,null,[""],e=kle(e),0,[0],e))}function xS(e,t,n,r,i,o,s,a,l){for(var u=0,c=0,f=s,d=0,h=0,p=0,g=1,m=1,y=1,v=0,b="",x=i,w=o,E=r,S=b;m;)switch(p=v,v=Oo()){case 40:if(p!=108&&Ar(S,f-1)==58){uO(S+=Tt(bS(v),"&","&\f"),"&\f")!=-1&&(y=-1);break}case 34:case 39:case 91:S+=bS(v);break;case 9:case 10:case 13:case 32:S+=SWe(p);break;case 92:S+=CWe(vS()-1,7);continue;case 47:switch(hl()){case 42:case 47:cw($We(EWe(Oo(),vS()),t,n),l);break;default:S+="/"}break;case 123*g:a[u++]=Ka(S)*y;case 125*g:case 59:case 0:switch(v){case 0:case 125:m=0;case 59+c:y==-1&&(S=Tt(S,/\f/g,"")),h>0&&Ka(S)-f&&cw(h>32?DW(S+";",r,n,f-1):DW(Tt(S," ","")+";",r,n,f-2),l);break;case 59:S+=";";default:if(cw(E=PW(S,t,n,u,c,i,a,b,x=[],w=[],f),o),v===123)if(c===0)xS(S,t,E,E,x,o,f,a,w);else switch(d===99&&Ar(S,3)===110?100:d){case 100:case 108:case 109:case 115:xS(e,E,E,r&&cw(PW(e,E,E,0,0,i,a,b,i,x=[],f),w),i,w,f,a,r?x:w);break;default:xS(S,E,E,E,[""],w,0,a,w)}}u=c=h=0,g=y=1,b=S="",f=s;break;case 58:f=1+Ka(S),h=p;default:if(g<1){if(v==123)--g;else if(v==125&&g++==0&&wWe()==125)continue}switch(S+=z$(v),v*g){case 38:y=c>0?1:(S+="\f",-1);break;case 44:a[u++]=(Ka(S)-1)*y,y=1;break;case 64:hl()===45&&(S+=bS(Oo())),d=hl(),c=f=Ka(b=S+=kWe(vS())),v++;break;case 45:p===45&&Ka(S)==2&&(g=0)}}return o}function PW(e,t,n,r,i,o,s,a,l,u,c){for(var f=i-1,d=i===0?o:[""],h=KI(d),p=0,g=0,m=0;p<r;++p)for(var y=0,v=Kv(e,f+1,f=gWe(g=s[p])),b=e;y<h;++y)(b=Cle(g>0?d[y]+" "+v:Tt(v,/&\f/g,d[y])))&&(l[m++]=b);return j$(e,t,n,i===0?XI:a,l,u,c)}function $We(e,t,n){return j$(e,t,n,wle,z$(xWe()),Kv(e,2,-2),0)}function DW(e,t,n,r){return j$(e,t,n,YI,Kv(e,0,r),Kv(e,r+1,-1),r)}function Bg(e,t){for(var n="",r=KI(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function AWe(e,t,n,r){switch(e.type){case pWe:if(e.children.length)break;case hWe:case YI:return e.return=e.return||e.value;case wle:return"";case Sle:return e.return=e.value+"{"+Bg(e.children,r)+"}";case XI:e.value=e.props.join(",")}return Ka(n=Bg(e.children,r))?e.return=e.value+"{"+n+"}":""}function TWe(e){var t=KI(e);return function(n,r,i,o){for(var s="",a=0;a<t;a++)s+=e[a](n,r,i,o)||"";return s}}function RWe(e){return function(t){t.root||(t=t.return)&&e(t)}}var MW=function(t){var n=new WeakMap;return function(r){if(n.has(r))return n.get(r);var i=t(r);return n.set(r,i),i}};function $le(e){var t=Object.create(null);return function(n){return t[n]===void 0&&(t[n]=e(n)),t[n]}}var FWe=function(t,n,r){for(var i=0,o=0;i=o,o=hl(),i===38&&o===12&&(n[r]=1),!Qv(o);)Oo();return Dx(t,ho)},OWe=function(t,n){var r=-1,i=44;do switch(Qv(i)){case 0:i===38&&hl()===12&&(n[r]=1),t[r]+=FWe(ho-1,n,r);break;case 2:t[r]+=bS(i);break;case 4:if(i===44){t[++r]=hl()===58?"&\f":"",n[r]=t[r].length;break}default:t[r]+=z$(i)}while(i=Oo());return t},PWe=function(t,n){return _le(OWe(kle(t),n))},NW=new WeakMap,DWe=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var n=t.value,r=t.parent,i=t.column===r.column&&t.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(t.props.length===1&&n.charCodeAt(0)!==58&&!NW.get(r))&&!i){NW.set(t,!0);for(var o=[],s=PWe(n,o),a=r.props,l=0,u=0;l<s.length;l++)for(var c=0;c<a.length;c++,u++)t.props[u]=o[l]?s[l].replace(/&\f/g,a[c]):a[c]+" "+s[l]}}},MWe=function(t){if(t.type==="decl"){var n=t.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(t.return="",t.value="")}};function Ale(e,t){switch(yWe(e,t)){case 5103:return At+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return At+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return At+e+OE+e+qr+e+e;case 6828:case 4268:return At+e+qr+e+e;case 6165:return At+e+qr+"flex-"+e+e;case 5187:return At+e+Tt(e,/(\w+).+(:[^]+)/,At+"box-$1$2"+qr+"flex-$1$2")+e;case 5443:return At+e+qr+"flex-item-"+Tt(e,/flex-|-self/,"")+e;case 4675:return At+e+qr+"flex-line-pack"+Tt(e,/align-content|flex-|-self/,"")+e;case 5548:return At+e+qr+Tt(e,"shrink","negative")+e;case 5292:return At+e+qr+Tt(e,"basis","preferred-size")+e;case 6060:return At+"box-"+Tt(e,"-grow","")+At+e+qr+Tt(e,"grow","positive")+e;case 4554:return At+Tt(e,/([^-])(transform)/g,"$1"+At+"$2")+e;case 6187:return Tt(Tt(Tt(e,/(zoom-|grab)/,At+"$1"),/(image-set)/,At+"$1"),e,"")+e;case 5495:case 3959:return Tt(e,/(image-set\([^]*)/,At+"$1$`$1");case 4968:return Tt(Tt(e,/(.+:)(flex-)?(.*)/,At+"box-pack:$3"+qr+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+At+e+e;case 4095:case 3583:case 4068:case 2532:return Tt(e,/(.+)-inline(.+)/,At+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Ka(e)-1-t>6)switch(Ar(e,t+1)){case 109:if(Ar(e,t+4)!==45)break;case 102:return Tt(e,/(.+:)(.+)-([^]+)/,"$1"+At+"$2-$3$1"+OE+(Ar(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~uO(e,"stretch")?Ale(Tt(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(Ar(e,t+1)!==115)break;case 6444:switch(Ar(e,Ka(e)-3-(~uO(e,"!important")&&10))){case 107:return Tt(e,":",":"+At)+e;case 101:return Tt(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+At+(Ar(e,14)===45?"inline-":"")+"box$3$1"+At+"$2$3$1"+qr+"$2box$3")+e}break;case 5936:switch(Ar(e,t+11)){case 114:return At+e+qr+Tt(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return At+e+qr+Tt(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return At+e+qr+Tt(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return At+e+qr+e+e}return e}var NWe=function(t,n,r,i){if(t.length>-1&&!t.return)switch(t.type){case YI:t.return=Ale(t.value,t.length);break;case Sle:return Bg([Ny(t,{value:Tt(t.value,"@","@"+At)})],i);case XI:if(t.length)return bWe(t.props,function(o){switch(vWe(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Bg([Ny(t,{props:[Tt(o,/:(read-\w+)/,":"+OE+"$1")]})],i);case"::placeholder":return Bg([Ny(t,{props:[Tt(o,/:(plac\w+)/,":"+At+"input-$1")]}),Ny(t,{props:[Tt(o,/:(plac\w+)/,":"+OE+"$1")]}),Ny(t,{props:[Tt(o,/:(plac\w+)/,qr+"input-$1")]})],i)}return""})}},LWe=[NWe],IWe=function(t){var n=t.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(g){var m=g.getAttribute("data-emotion");m.indexOf(" ")!==-1&&(document.head.appendChild(g),g.setAttribute("data-s",""))})}var i=t.stylisPlugins||LWe,o={},s,a=[];s=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(g){for(var m=g.getAttribute("data-emotion").split(" "),y=1;y<m.length;y++)o[m[y]]=!0;a.push(g)});var l,u=[DWe,MWe];{var c,f=[AWe,RWe(function(g){c.insert(g)})],d=TWe(u.concat(i,f)),h=function(m){return Bg(_We(m),d)};l=function(m,y,v,b){c=v,h(m?m+"{"+y.styles+"}":y.styles),b&&(p.inserted[y.name]=!0)}}var p={key:n,sheet:new dWe({key:n,container:s,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:o,registered:{},insert:l};return p.sheet.hydrate(a),p};function PE(){return PE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},PE.apply(null,arguments)}var Tle={exports:{}},Ut={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sr=typeof Symbol=="function"&&Symbol.for,QI=Sr?Symbol.for("react.element"):60103,JI=Sr?Symbol.for("react.portal"):60106,U$=Sr?Symbol.for("react.fragment"):60107,V$=Sr?Symbol.for("react.strict_mode"):60108,W$=Sr?Symbol.for("react.profiler"):60114,H$=Sr?Symbol.for("react.provider"):60109,q$=Sr?Symbol.for("react.context"):60110,ZI=Sr?Symbol.for("react.async_mode"):60111,G$=Sr?Symbol.for("react.concurrent_mode"):60111,X$=Sr?Symbol.for("react.forward_ref"):60112,Y$=Sr?Symbol.for("react.suspense"):60113,zWe=Sr?Symbol.for("react.suspense_list"):60120,K$=Sr?Symbol.for("react.memo"):60115,Q$=Sr?Symbol.for("react.lazy"):60116,BWe=Sr?Symbol.for("react.block"):60121,jWe=Sr?Symbol.for("react.fundamental"):60117,UWe=Sr?Symbol.for("react.responder"):60118,VWe=Sr?Symbol.for("react.scope"):60119;function Wo(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case QI:switch(e=e.type,e){case ZI:case G$:case U$:case W$:case V$:case Y$:return e;default:switch(e=e&&e.$$typeof,e){case q$:case X$:case Q$:case K$:case H$:return e;default:return t}}case JI:return t}}}function Rle(e){return Wo(e)===G$}Ut.AsyncMode=ZI;Ut.ConcurrentMode=G$;Ut.ContextConsumer=q$;Ut.ContextProvider=H$;Ut.Element=QI;Ut.ForwardRef=X$;Ut.Fragment=U$;Ut.Lazy=Q$;Ut.Memo=K$;Ut.Portal=JI;Ut.Profiler=W$;Ut.StrictMode=V$;Ut.Suspense=Y$;Ut.isAsyncMode=function(e){return Rle(e)||Wo(e)===ZI};Ut.isConcurrentMode=Rle;Ut.isContextConsumer=function(e){return Wo(e)===q$};Ut.isContextProvider=function(e){return Wo(e)===H$};Ut.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===QI};Ut.isForwardRef=function(e){return Wo(e)===X$};Ut.isFragment=function(e){return Wo(e)===U$};Ut.isLazy=function(e){return Wo(e)===Q$};Ut.isMemo=function(e){return Wo(e)===K$};Ut.isPortal=function(e){return Wo(e)===JI};Ut.isProfiler=function(e){return Wo(e)===W$};Ut.isStrictMode=function(e){return Wo(e)===V$};Ut.isSuspense=function(e){return Wo(e)===Y$};Ut.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===U$||e===G$||e===W$||e===V$||e===Y$||e===zWe||typeof e=="object"&&e!==null&&(e.$$typeof===Q$||e.$$typeof===K$||e.$$typeof===H$||e.$$typeof===q$||e.$$typeof===X$||e.$$typeof===jWe||e.$$typeof===UWe||e.$$typeof===VWe||e.$$typeof===BWe)};Ut.typeOf=Wo;Tle.exports=Ut;var WWe=Tle.exports,Fle=WWe,HWe={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},qWe={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Ole={};Ole[Fle.ForwardRef]=HWe;Ole[Fle.Memo]=qWe;var GWe=!0;function XWe(e,t,n){var r="";return n.split(" ").forEach(function(i){e[i]!==void 0?t.push(e[i]+";"):r+=i+" "}),r}var Ple=function(t,n,r){var i=t.key+"-"+n.name;(r===!1||GWe===!1)&&t.registered[i]===void 0&&(t.registered[i]=n.styles)},Dle=function(t,n,r){Ple(t,n,r);var i=t.key+"-"+n.name;if(t.inserted[n.name]===void 0){var o=n;do t.insert(n===o?"."+i:"",o,t.sheet,!0),o=o.next;while(o!==void 0)}};function YWe(e){for(var t=0,n,r=0,i=e.length;i>=4;++r,i-=4)n=e.charCodeAt(r)&255|(e.charCodeAt(++r)&255)<<8|(e.charCodeAt(++r)&255)<<16|(e.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,t=(n&65535)*1540483477+((n>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(i){case 3:t^=(e.charCodeAt(r+2)&255)<<16;case 2:t^=(e.charCodeAt(r+1)&255)<<8;case 1:t^=e.charCodeAt(r)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var KWe={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},QWe=!1,JWe=/[A-Z]|^ms/g,ZWe=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Mle=function(t){return t.charCodeAt(1)===45},LW=function(t){return t!=null&&typeof t!="boolean"},E3=$le(function(e){return Mle(e)?e:e.replace(JWe,"-$&").toLowerCase()}),IW=function(t,n){switch(t){case"animation":case"animationName":if(typeof n=="string")return n.replace(ZWe,function(r,i,o){return Qa={name:i,styles:o,next:Qa},i})}return KWe[t]!==1&&!Mle(t)&&typeof n=="number"&&n!==0?n+"px":n},eHe="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function Jv(e,t,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var i=n;if(i.anim===1)return Qa={name:i.name,styles:i.styles,next:Qa},i.name;var o=n;if(o.styles!==void 0){var s=o.next;if(s!==void 0)for(;s!==void 0;)Qa={name:s.name,styles:s.styles,next:Qa},s=s.next;var a=o.styles+";";return a}return tHe(e,t,n)}case"function":{if(e!==void 0){var l=Qa,u=n(e);return Qa=l,Jv(e,t,u)}break}}var c=n;if(t==null)return c;var f=t[c];return f!==void 0?f:c}function tHe(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Jv(e,t,n[i])+";";else for(var o in n){var s=n[o];if(typeof s!="object"){var a=s;t!=null&&t[a]!==void 0?r+=o+"{"+t[a]+"}":LW(a)&&(r+=E3(o)+":"+IW(o,a)+";")}else{if(o==="NO_COMPONENT_SELECTOR"&&QWe)throw new Error(eHe);if(Array.isArray(s)&&typeof s[0]=="string"&&(t==null||t[s[0]]===void 0))for(var l=0;l<s.length;l++)LW(s[l])&&(r+=E3(o)+":"+IW(o,s[l])+";");else{var u=Jv(e,t,s);switch(o){case"animation":case"animationName":{r+=E3(o)+":"+u+";";break}default:r+=o+"{"+u+"}"}}}}return r}var zW=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Qa;function e8(e,t,n){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var r=!0,i="";Qa=void 0;var o=e[0];if(o==null||o.raw===void 0)r=!1,i+=Jv(n,t,o);else{var s=o;i+=s[0]}for(var a=1;a<e.length;a++)if(i+=Jv(n,t,e[a]),r){var l=o;i+=l[a]}zW.lastIndex=0;for(var u="",c;(c=zW.exec(i))!==null;)u+="-"+c[1];var f=YWe(i)+u;return{name:f,styles:i,next:Qa}}var nHe=function(t){return t()},Nle=P7.useInsertionEffect?P7.useInsertionEffect:!1,rHe=Nle||nHe,BW=Nle||M.useLayoutEffect,Lle=M.createContext(typeof HTMLElement<"u"?IWe({key:"css"}):null);Lle.Provider;var Ile=function(t){return M.forwardRef(function(n,r){var i=M.useContext(Lle);return t(n,i,r)})},Zv=M.createContext({}),iHe=function(t,n){if(typeof n=="function"){var r=n(t);return r}return PE({},t,n)},oHe=MW(function(e){return MW(function(t){return iHe(e,t)})}),sHe=function(t){var n=M.useContext(Zv);return t.theme!==n&&(n=oHe(n)(t.theme)),M.createElement(Zv.Provider,{value:n},t.children)},J$=Ile(function(e,t){var n=e.styles,r=e8([n],void 0,M.useContext(Zv)),i=M.useRef();return BW(function(){var o=t.key+"-global",s=new t.sheet.constructor({key:o,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),a=!1,l=document.querySelector('style[data-emotion="'+o+" "+r.name+'"]');return t.sheet.tags.length&&(s.before=t.sheet.tags[0]),l!==null&&(a=!0,l.setAttribute("data-emotion",o),s.hydrate([l])),i.current=[s,a],function(){s.flush()}},[t]),BW(function(){var o=i.current,s=o[0],a=o[1];if(a){o[1]=!1;return}if(r.next!==void 0&&Dle(t,r.next,!0),s.tags.length){var l=s.tags[s.tags.length-1].nextElementSibling;s.before=l,s.flush()}t.insert("",r,s,!1)},[t,r.name]),null});function aHe(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e8(t)}var hp=function(){var t=aHe.apply(void 0,arguments),n="animation-"+t.name;return{name:n,styles:"@keyframes "+n+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},zle=String.raw,Ble=zle`
  :root,
  :host {
    --chakra-vh: 100vh;
  }

  @supports (height: -webkit-fill-available) {
    :root,
    :host {
      --chakra-vh: -webkit-fill-available;
    }
  }

  @supports (height: -moz-fill-available) {
    :root,
    :host {
      --chakra-vh: -moz-fill-available;
    }
  }

  @supports (height: 100dvh) {
    :root,
    :host {
      --chakra-vh: 100dvh;
    }
  }
`,lHe=()=>R.jsx(J$,{styles:Ble}),uHe=({scope:e=""})=>R.jsx(J$,{styles:zle`
      html {
        line-height: 1.5;
        -webkit-text-size-adjust: 100%;
        font-family: system-ui, sans-serif;
        -webkit-font-smoothing: antialiased;
        text-rendering: optimizeLegibility;
        -moz-osx-font-smoothing: grayscale;
        touch-action: manipulation;
      }

      body {
        position: relative;
        min-height: 100%;
        margin: 0;
        font-feature-settings: "kern";
      }

      ${e} :where(*, *::before, *::after) {
        border-width: 0;
        border-style: solid;
        box-sizing: border-box;
        word-wrap: break-word;
      }

      main {
        display: block;
      }

      ${e} hr {
        border-top-width: 1px;
        box-sizing: content-box;
        height: 0;
        overflow: visible;
      }

      ${e} :where(pre, code, kbd,samp) {
        font-family: SFMono-Regular, Menlo, Monaco, Consolas, monospace;
        font-size: 1em;
      }

      ${e} a {
        background-color: transparent;
        color: inherit;
        text-decoration: inherit;
      }

      ${e} abbr[title] {
        border-bottom: none;
        text-decoration: underline;
        -webkit-text-decoration: underline dotted;
        text-decoration: underline dotted;
      }

      ${e} :where(b, strong) {
        font-weight: bold;
      }

      ${e} small {
        font-size: 80%;
      }

      ${e} :where(sub,sup) {
        font-size: 75%;
        line-height: 0;
        position: relative;
        vertical-align: baseline;
      }

      ${e} sub {
        bottom: -0.25em;
      }

      ${e} sup {
        top: -0.5em;
      }

      ${e} img {
        border-style: none;
      }

      ${e} :where(button, input, optgroup, select, textarea) {
        font-family: inherit;
        font-size: 100%;
        line-height: 1.15;
        margin: 0;
      }

      ${e} :where(button, input) {
        overflow: visible;
      }

      ${e} :where(button, select) {
        text-transform: none;
      }

      ${e} :where(
          button::-moz-focus-inner,
          [type="button"]::-moz-focus-inner,
          [type="reset"]::-moz-focus-inner,
          [type="submit"]::-moz-focus-inner
        ) {
        border-style: none;
        padding: 0;
      }

      ${e} fieldset {
        padding: 0.35em 0.75em 0.625em;
      }

      ${e} legend {
        box-sizing: border-box;
        color: inherit;
        display: table;
        max-width: 100%;
        padding: 0;
        white-space: normal;
      }

      ${e} progress {
        vertical-align: baseline;
      }

      ${e} textarea {
        overflow: auto;
      }

      ${e} :where([type="checkbox"], [type="radio"]) {
        box-sizing: border-box;
        padding: 0;
      }

      ${e} input[type="number"]::-webkit-inner-spin-button,
      ${e} input[type="number"]::-webkit-outer-spin-button {
        -webkit-appearance: none !important;
      }

      ${e} input[type="number"] {
        -moz-appearance: textfield;
      }

      ${e} input[type="search"] {
        -webkit-appearance: textfield;
        outline-offset: -2px;
      }

      ${e} input[type="search"]::-webkit-search-decoration {
        -webkit-appearance: none !important;
      }

      ${e} ::-webkit-file-upload-button {
        -webkit-appearance: button;
        font: inherit;
      }

      ${e} details {
        display: block;
      }

      ${e} summary {
        display: list-item;
      }

      template {
        display: none;
      }

      [hidden] {
        display: none !important;
      }

      ${e} :where(
          blockquote,
          dl,
          dd,
          h1,
          h2,
          h3,
          h4,
          h5,
          h6,
          hr,
          figure,
          p,
          pre
        ) {
        margin: 0;
      }

      ${e} button {
        background: transparent;
        padding: 0;
      }

      ${e} fieldset {
        margin: 0;
        padding: 0;
      }

      ${e} :where(ol, ul) {
        margin: 0;
        padding: 0;
      }

      ${e} textarea {
        resize: vertical;
      }

      ${e} :where(button, [role="button"]) {
        cursor: pointer;
      }

      ${e} button::-moz-focus-inner {
        border: 0 !important;
      }

      ${e} table {
        border-collapse: collapse;
      }

      ${e} :where(h1, h2, h3, h4, h5, h6) {
        font-size: inherit;
        font-weight: inherit;
      }

      ${e} :where(button, input, optgroup, select, textarea) {
        padding: 0;
        line-height: inherit;
        color: inherit;
      }

      ${e} :where(img, svg, video, canvas, audio, iframe, embed, object) {
        display: block;
      }

      ${e} :where(img, video) {
        max-width: 100%;
        height: auto;
      }

      [data-js-focus-visible]
        :focus:not([data-focus-visible-added]):not(
          [data-focus-visible-disabled]
        ) {
        outline: none;
        box-shadow: none;
      }

      ${e} select::-ms-expand {
        display: none;
      }

      ${Ble}
    `});function cHe(e,t){return`${e} returned \`undefined\`. Seems you forgot to wrap component within ${t}`}function zi(e={}){const{name:t,strict:n=!0,hookName:r="useContext",providerName:i="Provider",errorMessage:o,defaultValue:s}=e,a=M.createContext(s);a.displayName=t;function l(){var u;const c=M.useContext(a);if(!c&&n){const f=new Error(o??cHe(r,i));throw f.name="ContextError",(u=Error.captureStackTrace)==null||u.call(Error,f,l),f}return c}return[a.Provider,l,a]}var[fHe,dHe]=zi({strict:!1,name:"PortalManagerContext"});function jle(e){const{children:t,zIndex:n}=e;return R.jsx(fHe,{value:{zIndex:n},children:t})}jle.displayName="PortalManager";var e0=globalThis!=null&&globalThis.document?M.useLayoutEffect:M.useEffect,Ule={exports:{}},Ho={},Vle={exports:{}},Wle={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(z,U){var X=z.length;z.push(U);e:for(;0<X;){var K=X-1>>>1,pe=z[K];if(0<i(pe,U))z[K]=U,z[X]=pe,X=K;else break e}}function n(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var U=z[0],X=z.pop();if(X!==U){z[0]=X;e:for(var K=0,pe=z.length,oe=pe>>>1;K<oe;){var _e=2*(K+1)-1,Je=z[_e],xt=_e+1,Dn=z[xt];if(0>i(Je,X))xt<pe&&0>i(Dn,Je)?(z[K]=Dn,z[xt]=X,K=xt):(z[K]=Je,z[_e]=X,K=_e);else if(xt<pe&&0>i(Dn,X))z[K]=Dn,z[xt]=X,K=xt;else break e}}return U}function i(z,U){var X=z.sortIndex-U.sortIndex;return X!==0?X:z.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();e.unstable_now=function(){return s.now()-a}}var l=[],u=[],c=1,f=null,d=3,h=!1,p=!1,g=!1,m=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(z){for(var U=n(u);U!==null;){if(U.callback===null)r(u);else if(U.startTime<=z)r(u),U.sortIndex=U.expirationTime,t(l,U);else break;U=n(u)}}function x(z){if(g=!1,b(z),!p)if(n(l)!==null)p=!0,O(w);else{var U=n(u);U!==null&&B(x,U.startTime-z)}}function w(z,U){p=!1,g&&(g=!1,y(k),k=-1),h=!0;var X=d;try{for(b(U),f=n(l);f!==null&&(!(f.expirationTime>U)||z&&!P());){var K=f.callback;if(typeof K=="function"){f.callback=null,d=f.priorityLevel;var pe=K(f.expirationTime<=U);U=e.unstable_now(),typeof pe=="function"?f.callback=pe:f===n(l)&&r(l),b(U)}else r(l);f=n(l)}if(f!==null)var oe=!0;else{var _e=n(u);_e!==null&&B(x,_e.startTime-U),oe=!1}return oe}finally{f=null,d=X,h=!1}}var E=!1,S=null,k=-1,$=5,F=-1;function P(){return!(e.unstable_now()-F<$)}function j(){if(S!==null){var z=e.unstable_now();F=z;var U=!0;try{U=S(!0,z)}finally{U?D():(E=!1,S=null)}}else E=!1}var D;if(typeof v=="function")D=function(){v(j)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,A=L.port2;L.port1.onmessage=j,D=function(){A.postMessage(null)}}else D=function(){m(j,0)};function O(z){S=z,E||(E=!0,D())}function B(z,U){k=m(function(){z(e.unstable_now())},U)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(z){z.callback=null},e.unstable_continueExecution=function(){p||h||(p=!0,O(w))},e.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<z?Math.floor(1e3/z):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(z){switch(d){case 1:case 2:case 3:var U=3;break;default:U=d}var X=d;d=U;try{return z()}finally{d=X}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(z,U){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var X=d;d=z;try{return U()}finally{d=X}},e.unstable_scheduleCallback=function(z,U,X){var K=e.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?K+X:K):X=K,z){case 1:var pe=-1;break;case 2:pe=250;break;case 5:pe=1073741823;break;case 4:pe=1e4;break;default:pe=5e3}return pe=X+pe,z={id:c++,callback:U,priorityLevel:z,startTime:X,expirationTime:pe,sortIndex:-1},X>K?(z.sortIndex=X,t(u,z),n(l)===null&&z===n(u)&&(g?(y(k),k=-1):g=!0,B(x,X-K))):(z.sortIndex=pe,t(l,z),p||h||(p=!0,O(w))),z},e.unstable_shouldYield=P,e.unstable_wrapCallback=function(z){var U=d;return function(){var X=d;d=U;try{return z.apply(this,arguments)}finally{d=X}}}})(Wle);Vle.exports=Wle;var hHe=Vle.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pHe=M,Bo=hHe;function fe(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Hle=new Set,eb={};function pp(e,t){t0(e,t),t0(e+"Capture",t)}function t0(e,t){for(eb[e]=t,e=0;e<t.length;e++)Hle.add(t[e])}var Ru=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),fO=Object.prototype.hasOwnProperty,gHe=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,jW={},UW={};function mHe(e){return fO.call(UW,e)?!0:fO.call(jW,e)?!1:gHe.test(e)?UW[e]=!0:(jW[e]=!0,!1)}function yHe(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function vHe(e,t,n,r){if(t===null||typeof t>"u"||yHe(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Bi(e,t,n,r,i,o,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var Ir={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ir[e]=new Bi(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ir[t]=new Bi(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ir[e]=new Bi(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ir[e]=new Bi(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ir[e]=new Bi(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ir[e]=new Bi(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ir[e]=new Bi(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ir[e]=new Bi(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ir[e]=new Bi(e,5,!1,e.toLowerCase(),null,!1,!1)});var t8=/[\-:]([a-z])/g;function n8(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(t8,n8);Ir[t]=new Bi(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(t8,n8);Ir[t]=new Bi(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(t8,n8);Ir[t]=new Bi(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ir[e]=new Bi(e,1,!1,e.toLowerCase(),null,!1,!1)});Ir.xlinkHref=new Bi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ir[e]=new Bi(e,1,!1,e.toLowerCase(),null,!0,!0)});function r8(e,t,n,r){var i=Ir.hasOwnProperty(t)?Ir[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(vHe(t,n,i,r)&&(n=null),r||i===null?mHe(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var qu=pHe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,fw=Symbol.for("react.element"),lg=Symbol.for("react.portal"),ug=Symbol.for("react.fragment"),i8=Symbol.for("react.strict_mode"),dO=Symbol.for("react.profiler"),qle=Symbol.for("react.provider"),Gle=Symbol.for("react.context"),o8=Symbol.for("react.forward_ref"),hO=Symbol.for("react.suspense"),pO=Symbol.for("react.suspense_list"),s8=Symbol.for("react.memo"),wc=Symbol.for("react.lazy"),Xle=Symbol.for("react.offscreen"),VW=Symbol.iterator;function Ly(e){return e===null||typeof e!="object"?null:(e=VW&&e[VW]||e["@@iterator"],typeof e=="function"?e:null)}var En=Object.assign,k3;function k1(e){if(k3===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);k3=t&&t[1]||""}return`
`+k3+e}var _3=!1;function $3(e,t){if(!e||_3)return"";_3=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=s&&0<=a);break}}}finally{_3=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?k1(e):""}function bHe(e){switch(e.tag){case 5:return k1(e.type);case 16:return k1("Lazy");case 13:return k1("Suspense");case 19:return k1("SuspenseList");case 0:case 2:case 15:return e=$3(e.type,!1),e;case 11:return e=$3(e.type.render,!1),e;case 1:return e=$3(e.type,!0),e;default:return""}}function gO(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ug:return"Fragment";case lg:return"Portal";case dO:return"Profiler";case i8:return"StrictMode";case hO:return"Suspense";case pO:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Gle:return(e.displayName||"Context")+".Consumer";case qle:return(e._context.displayName||"Context")+".Provider";case o8:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case s8:return t=e.displayName||null,t!==null?t:gO(e.type)||"Memo";case wc:t=e._payload,e=e._init;try{return gO(e(t))}catch{}}return null}function xHe(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return gO(t);case 8:return t===i8?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function _f(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Yle(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function wHe(e){var t=Yle(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function dw(e){e._valueTracker||(e._valueTracker=wHe(e))}function Kle(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Yle(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function DE(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function mO(e,t){var n=t.checked;return En({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function WW(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=_f(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Qle(e,t){t=t.checked,t!=null&&r8(e,"checked",t,!1)}function yO(e,t){Qle(e,t);var n=_f(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?vO(e,t.type,n):t.hasOwnProperty("defaultValue")&&vO(e,t.type,_f(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function HW(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function vO(e,t,n){(t!=="number"||DE(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var _1=Array.isArray;function jg(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+_f(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function bO(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(fe(91));return En({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function qW(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(fe(92));if(_1(n)){if(1<n.length)throw Error(fe(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:_f(n)}}function Jle(e,t){var n=_f(t.value),r=_f(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function GW(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Zle(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function xO(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Zle(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var hw,eue=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(hw=hw||document.createElement("div"),hw.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=hw.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function tb(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var ev={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},SHe=["Webkit","ms","Moz","O"];Object.keys(ev).forEach(function(e){SHe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ev[t]=ev[e]})});function tue(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||ev.hasOwnProperty(e)&&ev[e]?(""+t).trim():t+"px"}function nue(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=tue(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var CHe=En({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function wO(e,t){if(t){if(CHe[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(fe(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(fe(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(fe(61))}if(t.style!=null&&typeof t.style!="object")throw Error(fe(62))}}function SO(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var CO=null;function a8(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var EO=null,Ug=null,Vg=null;function XW(e){if(e=Lx(e)){if(typeof EO!="function")throw Error(fe(280));var t=e.stateNode;t&&(t=rA(t),EO(e.stateNode,e.type,t))}}function rue(e){Ug?Vg?Vg.push(e):Vg=[e]:Ug=e}function iue(){if(Ug){var e=Ug,t=Vg;if(Vg=Ug=null,XW(e),t)for(e=0;e<t.length;e++)XW(t[e])}}function oue(e,t){return e(t)}function sue(){}var A3=!1;function aue(e,t,n){if(A3)return e(t,n);A3=!0;try{return oue(e,t,n)}finally{A3=!1,(Ug!==null||Vg!==null)&&(sue(),iue())}}function nb(e,t){var n=e.stateNode;if(n===null)return null;var r=rA(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(fe(231,t,typeof n));return n}var kO=!1;if(Ru)try{var Iy={};Object.defineProperty(Iy,"passive",{get:function(){kO=!0}}),window.addEventListener("test",Iy,Iy),window.removeEventListener("test",Iy,Iy)}catch{kO=!1}function EHe(e,t,n,r,i,o,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var tv=!1,ME=null,NE=!1,_O=null,kHe={onError:function(e){tv=!0,ME=e}};function _He(e,t,n,r,i,o,s,a,l){tv=!1,ME=null,EHe.apply(kHe,arguments)}function $He(e,t,n,r,i,o,s,a,l){if(_He.apply(this,arguments),tv){if(tv){var u=ME;tv=!1,ME=null}else throw Error(fe(198));NE||(NE=!0,_O=u)}}function gp(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function lue(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function YW(e){if(gp(e)!==e)throw Error(fe(188))}function AHe(e){var t=e.alternate;if(!t){if(t=gp(e),t===null)throw Error(fe(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return YW(i),e;if(o===r)return YW(i),t;o=o.sibling}throw Error(fe(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(fe(189))}}if(n.alternate!==r)throw Error(fe(190))}if(n.tag!==3)throw Error(fe(188));return n.stateNode.current===n?e:t}function uue(e){return e=AHe(e),e!==null?cue(e):null}function cue(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=cue(e);if(t!==null)return t;e=e.sibling}return null}var fue=Bo.unstable_scheduleCallback,KW=Bo.unstable_cancelCallback,THe=Bo.unstable_shouldYield,RHe=Bo.unstable_requestPaint,In=Bo.unstable_now,FHe=Bo.unstable_getCurrentPriorityLevel,l8=Bo.unstable_ImmediatePriority,due=Bo.unstable_UserBlockingPriority,LE=Bo.unstable_NormalPriority,OHe=Bo.unstable_LowPriority,hue=Bo.unstable_IdlePriority,Z$=null,pl=null;function PHe(e){if(pl&&typeof pl.onCommitFiberRoot=="function")try{pl.onCommitFiberRoot(Z$,e,void 0,(e.current.flags&128)===128)}catch{}}var ua=Math.clz32?Math.clz32:NHe,DHe=Math.log,MHe=Math.LN2;function NHe(e){return e>>>=0,e===0?32:31-(DHe(e)/MHe|0)|0}var pw=64,gw=4194304;function $1(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function IE(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=$1(a):(o&=s,o!==0&&(r=$1(o)))}else s=n&~i,s!==0?r=$1(s):o!==0&&(r=$1(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-ua(t),i=1<<n,r|=e[n],t&=~i;return r}function LHe(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function IHe(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-ua(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=LHe(a,t)):l<=t&&(e.expiredLanes|=a),o&=~a}}function $O(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function pue(){var e=pw;return pw<<=1,!(pw&4194240)&&(pw=64),e}function T3(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Mx(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ua(t),e[t]=n}function zHe(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ua(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}function u8(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ua(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Bt=0;function gue(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var mue,c8,yue,vue,bue,AO=!1,mw=[],Jc=null,Zc=null,ef=null,rb=new Map,ib=new Map,_c=[],BHe="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function QW(e,t){switch(e){case"focusin":case"focusout":Jc=null;break;case"dragenter":case"dragleave":Zc=null;break;case"mouseover":case"mouseout":ef=null;break;case"pointerover":case"pointerout":rb.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ib.delete(t.pointerId)}}function zy(e,t,n,r,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},t!==null&&(t=Lx(t),t!==null&&c8(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function jHe(e,t,n,r,i){switch(t){case"focusin":return Jc=zy(Jc,e,t,n,r,i),!0;case"dragenter":return Zc=zy(Zc,e,t,n,r,i),!0;case"mouseover":return ef=zy(ef,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return rb.set(o,zy(rb.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,ib.set(o,zy(ib.get(o)||null,e,t,n,r,i)),!0}return!1}function xue(e){var t=Id(e.target);if(t!==null){var n=gp(t);if(n!==null){if(t=n.tag,t===13){if(t=lue(n),t!==null){e.blockedOn=t,bue(e.priority,function(){yue(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function wS(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=TO(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);CO=r,n.target.dispatchEvent(r),CO=null}else return t=Lx(n),t!==null&&c8(t),e.blockedOn=n,!1;t.shift()}return!0}function JW(e,t,n){wS(e)&&n.delete(t)}function UHe(){AO=!1,Jc!==null&&wS(Jc)&&(Jc=null),Zc!==null&&wS(Zc)&&(Zc=null),ef!==null&&wS(ef)&&(ef=null),rb.forEach(JW),ib.forEach(JW)}function By(e,t){e.blockedOn===t&&(e.blockedOn=null,AO||(AO=!0,Bo.unstable_scheduleCallback(Bo.unstable_NormalPriority,UHe)))}function ob(e){function t(i){return By(i,e)}if(0<mw.length){By(mw[0],e);for(var n=1;n<mw.length;n++){var r=mw[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Jc!==null&&By(Jc,e),Zc!==null&&By(Zc,e),ef!==null&&By(ef,e),rb.forEach(t),ib.forEach(t),n=0;n<_c.length;n++)r=_c[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<_c.length&&(n=_c[0],n.blockedOn===null);)xue(n),n.blockedOn===null&&_c.shift()}var Wg=qu.ReactCurrentBatchConfig,zE=!0;function VHe(e,t,n,r){var i=Bt,o=Wg.transition;Wg.transition=null;try{Bt=1,f8(e,t,n,r)}finally{Bt=i,Wg.transition=o}}function WHe(e,t,n,r){var i=Bt,o=Wg.transition;Wg.transition=null;try{Bt=4,f8(e,t,n,r)}finally{Bt=i,Wg.transition=o}}function f8(e,t,n,r){if(zE){var i=TO(e,t,n,r);if(i===null)z3(e,t,r,BE,n),QW(e,r);else if(jHe(i,e,t,n,r))r.stopPropagation();else if(QW(e,r),t&4&&-1<BHe.indexOf(e)){for(;i!==null;){var o=Lx(i);if(o!==null&&mue(o),o=TO(e,t,n,r),o===null&&z3(e,t,r,BE,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else z3(e,t,r,null,n)}}var BE=null;function TO(e,t,n,r){if(BE=null,e=a8(r),e=Id(e),e!==null)if(t=gp(e),t===null)e=null;else if(n=t.tag,n===13){if(e=lue(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return BE=e,null}function wue(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(FHe()){case l8:return 1;case due:return 4;case LE:case OHe:return 16;case hue:return 536870912;default:return 16}default:return 16}}var Hc=null,d8=null,SS=null;function Sue(){if(SS)return SS;var e,t=d8,n=t.length,r,i="value"in Hc?Hc.value:Hc.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===i[o-r];r++);return SS=i.slice(e,1<r?1-r:void 0)}function CS(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function yw(){return!0}function ZW(){return!1}function qo(e){function t(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?yw:ZW,this.isPropagationStopped=ZW,this}return En(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=yw)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=yw)},persist:function(){},isPersistent:yw}),t}var q0={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},h8=qo(q0),Nx=En({},q0,{view:0,detail:0}),HHe=qo(Nx),R3,F3,jy,eA=En({},Nx,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:p8,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==jy&&(jy&&e.type==="mousemove"?(R3=e.screenX-jy.screenX,F3=e.screenY-jy.screenY):F3=R3=0,jy=e),R3)},movementY:function(e){return"movementY"in e?e.movementY:F3}}),eH=qo(eA),qHe=En({},eA,{dataTransfer:0}),GHe=qo(qHe),XHe=En({},Nx,{relatedTarget:0}),O3=qo(XHe),YHe=En({},q0,{animationName:0,elapsedTime:0,pseudoElement:0}),KHe=qo(YHe),QHe=En({},q0,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),JHe=qo(QHe),ZHe=En({},q0,{data:0}),tH=qo(ZHe),eqe={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tqe={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nqe={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rqe(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=nqe[e])?!!t[e]:!1}function p8(){return rqe}var iqe=En({},Nx,{key:function(e){if(e.key){var t=eqe[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=CS(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?tqe[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:p8,charCode:function(e){return e.type==="keypress"?CS(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?CS(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),oqe=qo(iqe),sqe=En({},eA,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),nH=qo(sqe),aqe=En({},Nx,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:p8}),lqe=qo(aqe),uqe=En({},q0,{propertyName:0,elapsedTime:0,pseudoElement:0}),cqe=qo(uqe),fqe=En({},eA,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),dqe=qo(fqe),hqe=[9,13,27,32],g8=Ru&&"CompositionEvent"in window,nv=null;Ru&&"documentMode"in document&&(nv=document.documentMode);var pqe=Ru&&"TextEvent"in window&&!nv,Cue=Ru&&(!g8||nv&&8<nv&&11>=nv),rH=" ",iH=!1;function Eue(e,t){switch(e){case"keyup":return hqe.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function kue(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var cg=!1;function gqe(e,t){switch(e){case"compositionend":return kue(t);case"keypress":return t.which!==32?null:(iH=!0,rH);case"textInput":return e=t.data,e===rH&&iH?null:e;default:return null}}function mqe(e,t){if(cg)return e==="compositionend"||!g8&&Eue(e,t)?(e=Sue(),SS=d8=Hc=null,cg=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Cue&&t.locale!=="ko"?null:t.data;default:return null}}var yqe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function oH(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!yqe[e.type]:t==="textarea"}function _ue(e,t,n,r){rue(r),t=jE(t,"onChange"),0<t.length&&(n=new h8("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var rv=null,sb=null;function vqe(e){Lue(e,0)}function tA(e){var t=hg(e);if(Kle(t))return e}function bqe(e,t){if(e==="change")return t}var $ue=!1;if(Ru){var P3;if(Ru){var D3="oninput"in document;if(!D3){var sH=document.createElement("div");sH.setAttribute("oninput","return;"),D3=typeof sH.oninput=="function"}P3=D3}else P3=!1;$ue=P3&&(!document.documentMode||9<document.documentMode)}function aH(){rv&&(rv.detachEvent("onpropertychange",Aue),sb=rv=null)}function Aue(e){if(e.propertyName==="value"&&tA(sb)){var t=[];_ue(t,sb,e,a8(e)),aue(vqe,t)}}function xqe(e,t,n){e==="focusin"?(aH(),rv=t,sb=n,rv.attachEvent("onpropertychange",Aue)):e==="focusout"&&aH()}function wqe(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return tA(sb)}function Sqe(e,t){if(e==="click")return tA(t)}function Cqe(e,t){if(e==="input"||e==="change")return tA(t)}function Eqe(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var wa=typeof Object.is=="function"?Object.is:Eqe;function ab(e,t){if(wa(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!fO.call(t,i)||!wa(e[i],t[i]))return!1}return!0}function lH(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function uH(e,t){var n=lH(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=lH(n)}}function Tue(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Tue(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Rue(){for(var e=window,t=DE();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=DE(e.document)}return t}function m8(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function kqe(e){var t=Rue(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Tue(n.ownerDocument.documentElement,n)){if(r!==null&&m8(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=uH(n,o);var s=uH(n,r);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var _qe=Ru&&"documentMode"in document&&11>=document.documentMode,fg=null,RO=null,iv=null,FO=!1;function cH(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;FO||fg==null||fg!==DE(r)||(r=fg,"selectionStart"in r&&m8(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),iv&&ab(iv,r)||(iv=r,r=jE(RO,"onSelect"),0<r.length&&(t=new h8("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=fg)))}function vw(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var dg={animationend:vw("Animation","AnimationEnd"),animationiteration:vw("Animation","AnimationIteration"),animationstart:vw("Animation","AnimationStart"),transitionend:vw("Transition","TransitionEnd")},M3={},Fue={};Ru&&(Fue=document.createElement("div").style,"AnimationEvent"in window||(delete dg.animationend.animation,delete dg.animationiteration.animation,delete dg.animationstart.animation),"TransitionEvent"in window||delete dg.transitionend.transition);function nA(e){if(M3[e])return M3[e];if(!dg[e])return e;var t=dg[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Fue)return M3[e]=t[n];return e}var Oue=nA("animationend"),Pue=nA("animationiteration"),Due=nA("animationstart"),Mue=nA("transitionend"),Nue=new Map,fH="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Hf(e,t){Nue.set(e,t),pp(t,[e])}for(var N3=0;N3<fH.length;N3++){var L3=fH[N3],$qe=L3.toLowerCase(),Aqe=L3[0].toUpperCase()+L3.slice(1);Hf($qe,"on"+Aqe)}Hf(Oue,"onAnimationEnd");Hf(Pue,"onAnimationIteration");Hf(Due,"onAnimationStart");Hf("dblclick","onDoubleClick");Hf("focusin","onFocus");Hf("focusout","onBlur");Hf(Mue,"onTransitionEnd");t0("onMouseEnter",["mouseout","mouseover"]);t0("onMouseLeave",["mouseout","mouseover"]);t0("onPointerEnter",["pointerout","pointerover"]);t0("onPointerLeave",["pointerout","pointerover"]);pp("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));pp("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));pp("onBeforeInput",["compositionend","keypress","textInput","paste"]);pp("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));pp("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));pp("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var A1="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Tqe=new Set("cancel close invalid load scroll toggle".split(" ").concat(A1));function dH(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,$He(r,t,void 0,e),e.currentTarget=null}function Lue(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;dH(i,a,u),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,u=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;dH(i,a,u),o=l}}}if(NE)throw e=_O,NE=!1,_O=null,e}function on(e,t){var n=t[NO];n===void 0&&(n=t[NO]=new Set);var r=e+"__bubble";n.has(r)||(Iue(t,e,2,!1),n.add(r))}function I3(e,t,n){var r=0;t&&(r|=4),Iue(n,e,r,t)}var bw="_reactListening"+Math.random().toString(36).slice(2);function lb(e){if(!e[bw]){e[bw]=!0,Hle.forEach(function(n){n!=="selectionchange"&&(Tqe.has(n)||I3(n,!1,e),I3(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[bw]||(t[bw]=!0,I3("selectionchange",!1,t))}}function Iue(e,t,n,r){switch(wue(t)){case 1:var i=VHe;break;case 4:i=WHe;break;default:i=f8}n=i.bind(null,t,n,e),i=void 0,!kO||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function z3(e,t,n,r,i){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=Id(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}aue(function(){var u=o,c=a8(n),f=[];e:{var d=Nue.get(e);if(d!==void 0){var h=h8,p=e;switch(e){case"keypress":if(CS(n)===0)break e;case"keydown":case"keyup":h=oqe;break;case"focusin":p="focus",h=O3;break;case"focusout":p="blur",h=O3;break;case"beforeblur":case"afterblur":h=O3;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=eH;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=GHe;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=lqe;break;case Oue:case Pue:case Due:h=KHe;break;case Mue:h=cqe;break;case"scroll":h=HHe;break;case"wheel":h=dqe;break;case"copy":case"cut":case"paste":h=JHe;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=nH}var g=(t&4)!==0,m=!g&&e==="scroll",y=g?d!==null?d+"Capture":null:d;g=[];for(var v=u,b;v!==null;){b=v;var x=b.stateNode;if(b.tag===5&&x!==null&&(b=x,y!==null&&(x=nb(v,y),x!=null&&g.push(ub(v,x,b)))),m)break;v=v.return}0<g.length&&(d=new h(d,p,null,n,c),f.push({event:d,listeners:g}))}}if(!(t&7)){e:{if(d=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",d&&n!==CO&&(p=n.relatedTarget||n.fromElement)&&(Id(p)||p[Fu]))break e;if((h||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,h?(p=n.relatedTarget||n.toElement,h=u,p=p?Id(p):null,p!==null&&(m=gp(p),p!==m||p.tag!==5&&p.tag!==6)&&(p=null)):(h=null,p=u),h!==p)){if(g=eH,x="onMouseLeave",y="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(g=nH,x="onPointerLeave",y="onPointerEnter",v="pointer"),m=h==null?d:hg(h),b=p==null?d:hg(p),d=new g(x,v+"leave",h,n,c),d.target=m,d.relatedTarget=b,x=null,Id(c)===u&&(g=new g(y,v+"enter",p,n,c),g.target=b,g.relatedTarget=m,x=g),m=x,h&&p)t:{for(g=h,y=p,v=0,b=g;b;b=Hp(b))v++;for(b=0,x=y;x;x=Hp(x))b++;for(;0<v-b;)g=Hp(g),v--;for(;0<b-v;)y=Hp(y),b--;for(;v--;){if(g===y||y!==null&&g===y.alternate)break t;g=Hp(g),y=Hp(y)}g=null}else g=null;h!==null&&hH(f,d,h,g,!1),p!==null&&m!==null&&hH(f,m,p,g,!0)}}e:{if(d=u?hg(u):window,h=d.nodeName&&d.nodeName.toLowerCase(),h==="select"||h==="input"&&d.type==="file")var w=bqe;else if(oH(d))if($ue)w=Cqe;else{w=wqe;var E=xqe}else(h=d.nodeName)&&h.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(w=Sqe);if(w&&(w=w(e,u))){_ue(f,w,n,c);break e}E&&E(e,d,u),e==="focusout"&&(E=d._wrapperState)&&E.controlled&&d.type==="number"&&vO(d,"number",d.value)}switch(E=u?hg(u):window,e){case"focusin":(oH(E)||E.contentEditable==="true")&&(fg=E,RO=u,iv=null);break;case"focusout":iv=RO=fg=null;break;case"mousedown":FO=!0;break;case"contextmenu":case"mouseup":case"dragend":FO=!1,cH(f,n,c);break;case"selectionchange":if(_qe)break;case"keydown":case"keyup":cH(f,n,c)}var S;if(g8)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else cg?Eue(e,n)&&(k="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(k="onCompositionStart");k&&(Cue&&n.locale!=="ko"&&(cg||k!=="onCompositionStart"?k==="onCompositionEnd"&&cg&&(S=Sue()):(Hc=c,d8="value"in Hc?Hc.value:Hc.textContent,cg=!0)),E=jE(u,k),0<E.length&&(k=new tH(k,e,null,n,c),f.push({event:k,listeners:E}),S?k.data=S:(S=kue(n),S!==null&&(k.data=S)))),(S=pqe?gqe(e,n):mqe(e,n))&&(u=jE(u,"onBeforeInput"),0<u.length&&(c=new tH("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:u}),c.data=S))}Lue(f,t)})}function ub(e,t,n){return{instance:e,listener:t,currentTarget:n}}function jE(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=nb(e,n),o!=null&&r.unshift(ub(e,o,i)),o=nb(e,t),o!=null&&r.push(ub(e,o,i))),e=e.return}return r}function Hp(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function hH(e,t,n,r,i){for(var o=t._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=nb(n,o),l!=null&&s.unshift(ub(n,l,a))):i||(l=nb(n,o),l!=null&&s.push(ub(n,l,a)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var Rqe=/\r\n?/g,Fqe=/\u0000|\uFFFD/g;function pH(e){return(typeof e=="string"?e:""+e).replace(Rqe,`
`).replace(Fqe,"")}function xw(e,t,n){if(t=pH(t),pH(e)!==t&&n)throw Error(fe(425))}function UE(){}var OO=null,PO=null;function DO(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var MO=typeof setTimeout=="function"?setTimeout:void 0,Oqe=typeof clearTimeout=="function"?clearTimeout:void 0,gH=typeof Promise=="function"?Promise:void 0,Pqe=typeof queueMicrotask=="function"?queueMicrotask:typeof gH<"u"?function(e){return gH.resolve(null).then(e).catch(Dqe)}:MO;function Dqe(e){setTimeout(function(){throw e})}function B3(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),ob(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);ob(t)}function tf(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function mH(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var G0=Math.random().toString(36).slice(2),tl="__reactFiber$"+G0,cb="__reactProps$"+G0,Fu="__reactContainer$"+G0,NO="__reactEvents$"+G0,Mqe="__reactListeners$"+G0,Nqe="__reactHandles$"+G0;function Id(e){var t=e[tl];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Fu]||n[tl]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=mH(e);e!==null;){if(n=e[tl])return n;e=mH(e)}return t}e=n,n=e.parentNode}return null}function Lx(e){return e=e[tl]||e[Fu],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function hg(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(fe(33))}function rA(e){return e[cb]||null}var LO=[],pg=-1;function qf(e){return{current:e}}function un(e){0>pg||(e.current=LO[pg],LO[pg]=null,pg--)}function tn(e,t){pg++,LO[pg]=e.current,e.current=t}var $f={},ui=qf($f),no=qf(!1),Lh=$f;function n0(e,t){var n=e.type.contextTypes;if(!n)return $f;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function ro(e){return e=e.childContextTypes,e!=null}function VE(){un(no),un(ui)}function yH(e,t,n){if(ui.current!==$f)throw Error(fe(168));tn(ui,t),tn(no,n)}function zue(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(fe(108,xHe(e)||"Unknown",i));return En({},n,r)}function WE(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||$f,Lh=ui.current,tn(ui,e),tn(no,no.current),!0}function vH(e,t,n){var r=e.stateNode;if(!r)throw Error(fe(169));n?(e=zue(e,t,Lh),r.__reactInternalMemoizedMergedChildContext=e,un(no),un(ui),tn(ui,e)):un(no),tn(no,n)}var Zl=null,iA=!1,j3=!1;function Bue(e){Zl===null?Zl=[e]:Zl.push(e)}function Lqe(e){iA=!0,Bue(e)}function Gf(){if(!j3&&Zl!==null){j3=!0;var e=0,t=Bt;try{var n=Zl;for(Bt=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Zl=null,iA=!1}catch(i){throw Zl!==null&&(Zl=Zl.slice(e+1)),fue(l8,Gf),i}finally{Bt=t,j3=!1}}return null}var gg=[],mg=0,HE=null,qE=0,ss=[],as=0,Ih=null,uu=1,cu="";function bd(e,t){gg[mg++]=qE,gg[mg++]=HE,HE=e,qE=t}function jue(e,t,n){ss[as++]=uu,ss[as++]=cu,ss[as++]=Ih,Ih=e;var r=uu;e=cu;var i=32-ua(r)-1;r&=~(1<<i),n+=1;var o=32-ua(t)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,uu=1<<32-ua(t)+i|n<<i|r,cu=o+e}else uu=1<<o|n<<i|r,cu=e}function y8(e){e.return!==null&&(bd(e,1),jue(e,1,0))}function v8(e){for(;e===HE;)HE=gg[--mg],gg[mg]=null,qE=gg[--mg],gg[mg]=null;for(;e===Ih;)Ih=ss[--as],ss[as]=null,cu=ss[--as],ss[as]=null,uu=ss[--as],ss[as]=null}var Po=null,Ao=null,hn=!1,Ks=null;function Uue(e,t){var n=ps(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function bH(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Po=e,Ao=tf(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Po=e,Ao=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Ih!==null?{id:uu,overflow:cu}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=ps(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Po=e,Ao=null,!0):!1;default:return!1}}function IO(e){return(e.mode&1)!==0&&(e.flags&128)===0}function zO(e){if(hn){var t=Ao;if(t){var n=t;if(!bH(e,t)){if(IO(e))throw Error(fe(418));t=tf(n.nextSibling);var r=Po;t&&bH(e,t)?Uue(r,n):(e.flags=e.flags&-4097|2,hn=!1,Po=e)}}else{if(IO(e))throw Error(fe(418));e.flags=e.flags&-4097|2,hn=!1,Po=e}}}function xH(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Po=e}function ww(e){if(e!==Po)return!1;if(!hn)return xH(e),hn=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!DO(e.type,e.memoizedProps)),t&&(t=Ao)){if(IO(e))throw Vue(),Error(fe(418));for(;t;)Uue(e,t),t=tf(t.nextSibling)}if(xH(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(fe(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ao=tf(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ao=null}}else Ao=Po?tf(e.stateNode.nextSibling):null;return!0}function Vue(){for(var e=Ao;e;)e=tf(e.nextSibling)}function r0(){Ao=Po=null,hn=!1}function b8(e){Ks===null?Ks=[e]:Ks.push(e)}var Iqe=qu.ReactCurrentBatchConfig;function Uy(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(fe(309));var r=n.stateNode}if(!r)throw Error(fe(147,e));var i=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(s){var a=i.refs;s===null?delete a[o]:a[o]=s},t._stringRef=o,t)}if(typeof e!="string")throw Error(fe(284));if(!n._owner)throw Error(fe(290,e))}return e}function Sw(e,t){throw e=Object.prototype.toString.call(t),Error(fe(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function wH(e){var t=e._init;return t(e._payload)}function Wue(e){function t(y,v){if(e){var b=y.deletions;b===null?(y.deletions=[v],y.flags|=16):b.push(v)}}function n(y,v){if(!e)return null;for(;v!==null;)t(y,v),v=v.sibling;return null}function r(y,v){for(y=new Map;v!==null;)v.key!==null?y.set(v.key,v):y.set(v.index,v),v=v.sibling;return y}function i(y,v){return y=sf(y,v),y.index=0,y.sibling=null,y}function o(y,v,b){return y.index=b,e?(b=y.alternate,b!==null?(b=b.index,b<v?(y.flags|=2,v):b):(y.flags|=2,v)):(y.flags|=1048576,v)}function s(y){return e&&y.alternate===null&&(y.flags|=2),y}function a(y,v,b,x){return v===null||v.tag!==6?(v=X3(b,y.mode,x),v.return=y,v):(v=i(v,b),v.return=y,v)}function l(y,v,b,x){var w=b.type;return w===ug?c(y,v,b.props.children,x,b.key):v!==null&&(v.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===wc&&wH(w)===v.type)?(x=i(v,b.props),x.ref=Uy(y,v,b),x.return=y,x):(x=RS(b.type,b.key,b.props,null,y.mode,x),x.ref=Uy(y,v,b),x.return=y,x)}function u(y,v,b,x){return v===null||v.tag!==4||v.stateNode.containerInfo!==b.containerInfo||v.stateNode.implementation!==b.implementation?(v=Y3(b,y.mode,x),v.return=y,v):(v=i(v,b.children||[]),v.return=y,v)}function c(y,v,b,x,w){return v===null||v.tag!==7?(v=lh(b,y.mode,x,w),v.return=y,v):(v=i(v,b),v.return=y,v)}function f(y,v,b){if(typeof v=="string"&&v!==""||typeof v=="number")return v=X3(""+v,y.mode,b),v.return=y,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case fw:return b=RS(v.type,v.key,v.props,null,y.mode,b),b.ref=Uy(y,null,v),b.return=y,b;case lg:return v=Y3(v,y.mode,b),v.return=y,v;case wc:var x=v._init;return f(y,x(v._payload),b)}if(_1(v)||Ly(v))return v=lh(v,y.mode,b,null),v.return=y,v;Sw(y,v)}return null}function d(y,v,b,x){var w=v!==null?v.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return w!==null?null:a(y,v,""+b,x);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case fw:return b.key===w?l(y,v,b,x):null;case lg:return b.key===w?u(y,v,b,x):null;case wc:return w=b._init,d(y,v,w(b._payload),x)}if(_1(b)||Ly(b))return w!==null?null:c(y,v,b,x,null);Sw(y,b)}return null}function h(y,v,b,x,w){if(typeof x=="string"&&x!==""||typeof x=="number")return y=y.get(b)||null,a(v,y,""+x,w);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case fw:return y=y.get(x.key===null?b:x.key)||null,l(v,y,x,w);case lg:return y=y.get(x.key===null?b:x.key)||null,u(v,y,x,w);case wc:var E=x._init;return h(y,v,b,E(x._payload),w)}if(_1(x)||Ly(x))return y=y.get(b)||null,c(v,y,x,w,null);Sw(v,x)}return null}function p(y,v,b,x){for(var w=null,E=null,S=v,k=v=0,$=null;S!==null&&k<b.length;k++){S.index>k?($=S,S=null):$=S.sibling;var F=d(y,S,b[k],x);if(F===null){S===null&&(S=$);break}e&&S&&F.alternate===null&&t(y,S),v=o(F,v,k),E===null?w=F:E.sibling=F,E=F,S=$}if(k===b.length)return n(y,S),hn&&bd(y,k),w;if(S===null){for(;k<b.length;k++)S=f(y,b[k],x),S!==null&&(v=o(S,v,k),E===null?w=S:E.sibling=S,E=S);return hn&&bd(y,k),w}for(S=r(y,S);k<b.length;k++)$=h(S,y,k,b[k],x),$!==null&&(e&&$.alternate!==null&&S.delete($.key===null?k:$.key),v=o($,v,k),E===null?w=$:E.sibling=$,E=$);return e&&S.forEach(function(P){return t(y,P)}),hn&&bd(y,k),w}function g(y,v,b,x){var w=Ly(b);if(typeof w!="function")throw Error(fe(150));if(b=w.call(b),b==null)throw Error(fe(151));for(var E=w=null,S=v,k=v=0,$=null,F=b.next();S!==null&&!F.done;k++,F=b.next()){S.index>k?($=S,S=null):$=S.sibling;var P=d(y,S,F.value,x);if(P===null){S===null&&(S=$);break}e&&S&&P.alternate===null&&t(y,S),v=o(P,v,k),E===null?w=P:E.sibling=P,E=P,S=$}if(F.done)return n(y,S),hn&&bd(y,k),w;if(S===null){for(;!F.done;k++,F=b.next())F=f(y,F.value,x),F!==null&&(v=o(F,v,k),E===null?w=F:E.sibling=F,E=F);return hn&&bd(y,k),w}for(S=r(y,S);!F.done;k++,F=b.next())F=h(S,y,k,F.value,x),F!==null&&(e&&F.alternate!==null&&S.delete(F.key===null?k:F.key),v=o(F,v,k),E===null?w=F:E.sibling=F,E=F);return e&&S.forEach(function(j){return t(y,j)}),hn&&bd(y,k),w}function m(y,v,b,x){if(typeof b=="object"&&b!==null&&b.type===ug&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case fw:e:{for(var w=b.key,E=v;E!==null;){if(E.key===w){if(w=b.type,w===ug){if(E.tag===7){n(y,E.sibling),v=i(E,b.props.children),v.return=y,y=v;break e}}else if(E.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===wc&&wH(w)===E.type){n(y,E.sibling),v=i(E,b.props),v.ref=Uy(y,E,b),v.return=y,y=v;break e}n(y,E);break}else t(y,E);E=E.sibling}b.type===ug?(v=lh(b.props.children,y.mode,x,b.key),v.return=y,y=v):(x=RS(b.type,b.key,b.props,null,y.mode,x),x.ref=Uy(y,v,b),x.return=y,y=x)}return s(y);case lg:e:{for(E=b.key;v!==null;){if(v.key===E)if(v.tag===4&&v.stateNode.containerInfo===b.containerInfo&&v.stateNode.implementation===b.implementation){n(y,v.sibling),v=i(v,b.children||[]),v.return=y,y=v;break e}else{n(y,v);break}else t(y,v);v=v.sibling}v=Y3(b,y.mode,x),v.return=y,y=v}return s(y);case wc:return E=b._init,m(y,v,E(b._payload),x)}if(_1(b))return p(y,v,b,x);if(Ly(b))return g(y,v,b,x);Sw(y,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,v!==null&&v.tag===6?(n(y,v.sibling),v=i(v,b),v.return=y,y=v):(n(y,v),v=X3(b,y.mode,x),v.return=y,y=v),s(y)):n(y,v)}return m}var i0=Wue(!0),Hue=Wue(!1),GE=qf(null),XE=null,yg=null,x8=null;function w8(){x8=yg=XE=null}function S8(e){var t=GE.current;un(GE),e._currentValue=t}function BO(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Hg(e,t){XE=e,x8=yg=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Zi=!0),e.firstContext=null)}function $s(e){var t=e._currentValue;if(x8!==e)if(e={context:e,memoizedValue:t,next:null},yg===null){if(XE===null)throw Error(fe(308));yg=e,XE.dependencies={lanes:0,firstContext:e}}else yg=yg.next=e;return t}var zd=null;function C8(e){zd===null?zd=[e]:zd.push(e)}function que(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,C8(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ou(e,r)}function Ou(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Sc=!1;function E8(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Gue(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function wu(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function nf(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,bt&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ou(e,n)}return i=r.interleaved,i===null?(t.next=t,C8(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ou(e,n)}function ES(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,u8(e,n)}}function SH(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function YE(e,t,n,r){var i=e.updateQueue;Sc=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,s===null?o=u:s.next=u,s=l;var c=e.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==s&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(o!==null){var f=i.baseState;s=0,c=u=l=null,a=o;do{var d=a.lane,h=a.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,g=a;switch(d=t,h=n,g.tag){case 1:if(p=g.payload,typeof p=="function"){f=p.call(h,f,d);break e}f=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=g.payload,d=typeof p=="function"?p.call(h,f,d):p,d==null)break e;f=En({},f,d);break e;case 2:Sc=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,d=i.effects,d===null?i.effects=[a]:d.push(a))}else h={eventTime:h,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=h,l=f):c=c.next=h,s|=d;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;d=a,a=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(c===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);Bh|=s,e.lanes=s,e.memoizedState=f}}function CH(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(fe(191,i));i.call(r)}}}var Ix={},gl=qf(Ix),fb=qf(Ix),db=qf(Ix);function Bd(e){if(e===Ix)throw Error(fe(174));return e}function k8(e,t){switch(tn(db,t),tn(fb,e),tn(gl,Ix),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:xO(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=xO(t,e)}un(gl),tn(gl,t)}function o0(){un(gl),un(fb),un(db)}function Xue(e){Bd(db.current);var t=Bd(gl.current),n=xO(t,e.type);t!==n&&(tn(fb,e),tn(gl,n))}function _8(e){fb.current===e&&(un(gl),un(fb))}var xn=qf(0);function KE(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var U3=[];function $8(){for(var e=0;e<U3.length;e++)U3[e]._workInProgressVersionPrimary=null;U3.length=0}var kS=qu.ReactCurrentDispatcher,V3=qu.ReactCurrentBatchConfig,zh=0,Cn=null,Jn=null,fr=null,QE=!1,ov=!1,hb=0,zqe=0;function Wr(){throw Error(fe(321))}function A8(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!wa(e[n],t[n]))return!1;return!0}function T8(e,t,n,r,i,o){if(zh=o,Cn=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,kS.current=e===null||e.memoizedState===null?Vqe:Wqe,e=n(r,i),ov){o=0;do{if(ov=!1,hb=0,25<=o)throw Error(fe(301));o+=1,fr=Jn=null,t.updateQueue=null,kS.current=Hqe,e=n(r,i)}while(ov)}if(kS.current=JE,t=Jn!==null&&Jn.next!==null,zh=0,fr=Jn=Cn=null,QE=!1,t)throw Error(fe(300));return e}function R8(){var e=hb!==0;return hb=0,e}function ja(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fr===null?Cn.memoizedState=fr=e:fr=fr.next=e,fr}function As(){if(Jn===null){var e=Cn.alternate;e=e!==null?e.memoizedState:null}else e=Jn.next;var t=fr===null?Cn.memoizedState:fr.next;if(t!==null)fr=t,Jn=e;else{if(e===null)throw Error(fe(310));Jn=e,e={memoizedState:Jn.memoizedState,baseState:Jn.baseState,baseQueue:Jn.baseQueue,queue:Jn.queue,next:null},fr===null?Cn.memoizedState=fr=e:fr=fr.next=e}return fr}function pb(e,t){return typeof t=="function"?t(e):t}function W3(e){var t=As(),n=t.queue;if(n===null)throw Error(fe(311));n.lastRenderedReducer=e;var r=Jn,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,u=o;do{var c=u.lane;if((zh&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=f,s=r):l=l.next=f,Cn.lanes|=c,Bh|=c}u=u.next}while(u!==null&&u!==o);l===null?s=r:l.next=a,wa(r,t.memoizedState)||(Zi=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do o=i.lane,Cn.lanes|=o,Bh|=o,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function H3(e){var t=As(),n=t.queue;if(n===null)throw Error(fe(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=e(o,s.action),s=s.next;while(s!==i);wa(o,t.memoizedState)||(Zi=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Yue(){}function Kue(e,t){var n=Cn,r=As(),i=t(),o=!wa(r.memoizedState,i);if(o&&(r.memoizedState=i,Zi=!0),r=r.queue,F8(Zue.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||fr!==null&&fr.memoizedState.tag&1){if(n.flags|=2048,gb(9,Jue.bind(null,n,r,i,t),void 0,null),vr===null)throw Error(fe(349));zh&30||Que(n,t,i)}return i}function Que(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Cn.updateQueue,t===null?(t={lastEffect:null,stores:null},Cn.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Jue(e,t,n,r){t.value=n,t.getSnapshot=r,ece(t)&&tce(e)}function Zue(e,t,n){return n(function(){ece(t)&&tce(e)})}function ece(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!wa(e,n)}catch{return!0}}function tce(e){var t=Ou(e,1);t!==null&&ca(t,e,1,-1)}function EH(e){var t=ja();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:pb,lastRenderedState:e},t.queue=e,e=e.dispatch=Uqe.bind(null,Cn,e),[t.memoizedState,e]}function gb(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Cn.updateQueue,t===null?(t={lastEffect:null,stores:null},Cn.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function nce(){return As().memoizedState}function _S(e,t,n,r){var i=ja();Cn.flags|=e,i.memoizedState=gb(1|t,n,void 0,r===void 0?null:r)}function oA(e,t,n,r){var i=As();r=r===void 0?null:r;var o=void 0;if(Jn!==null){var s=Jn.memoizedState;if(o=s.destroy,r!==null&&A8(r,s.deps)){i.memoizedState=gb(t,n,o,r);return}}Cn.flags|=e,i.memoizedState=gb(1|t,n,o,r)}function kH(e,t){return _S(8390656,8,e,t)}function F8(e,t){return oA(2048,8,e,t)}function rce(e,t){return oA(4,2,e,t)}function ice(e,t){return oA(4,4,e,t)}function oce(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function sce(e,t,n){return n=n!=null?n.concat([e]):null,oA(4,4,oce.bind(null,t,e),n)}function O8(){}function ace(e,t){var n=As();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&A8(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function lce(e,t){var n=As();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&A8(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function uce(e,t,n){return zh&21?(wa(n,t)||(n=pue(),Cn.lanes|=n,Bh|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Zi=!0),e.memoizedState=n)}function Bqe(e,t){var n=Bt;Bt=n!==0&&4>n?n:4,e(!0);var r=V3.transition;V3.transition={};try{e(!1),t()}finally{Bt=n,V3.transition=r}}function cce(){return As().memoizedState}function jqe(e,t,n){var r=of(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},fce(e))dce(t,n);else if(n=que(e,t,n,r),n!==null){var i=Fi();ca(n,e,r,i),hce(n,t,r)}}function Uqe(e,t,n){var r=of(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(fce(e))dce(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var s=t.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,wa(a,s)){var l=t.interleaved;l===null?(i.next=i,C8(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=que(e,t,i,r),n!==null&&(i=Fi(),ca(n,e,r,i),hce(n,t,r))}}function fce(e){var t=e.alternate;return e===Cn||t!==null&&t===Cn}function dce(e,t){ov=QE=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function hce(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,u8(e,n)}}var JE={readContext:$s,useCallback:Wr,useContext:Wr,useEffect:Wr,useImperativeHandle:Wr,useInsertionEffect:Wr,useLayoutEffect:Wr,useMemo:Wr,useReducer:Wr,useRef:Wr,useState:Wr,useDebugValue:Wr,useDeferredValue:Wr,useTransition:Wr,useMutableSource:Wr,useSyncExternalStore:Wr,useId:Wr,unstable_isNewReconciler:!1},Vqe={readContext:$s,useCallback:function(e,t){return ja().memoizedState=[e,t===void 0?null:t],e},useContext:$s,useEffect:kH,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,_S(4194308,4,oce.bind(null,t,e),n)},useLayoutEffect:function(e,t){return _S(4194308,4,e,t)},useInsertionEffect:function(e,t){return _S(4,2,e,t)},useMemo:function(e,t){var n=ja();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ja();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=jqe.bind(null,Cn,e),[r.memoizedState,e]},useRef:function(e){var t=ja();return e={current:e},t.memoizedState=e},useState:EH,useDebugValue:O8,useDeferredValue:function(e){return ja().memoizedState=e},useTransition:function(){var e=EH(!1),t=e[0];return e=Bqe.bind(null,e[1]),ja().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Cn,i=ja();if(hn){if(n===void 0)throw Error(fe(407));n=n()}else{if(n=t(),vr===null)throw Error(fe(349));zh&30||Que(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,kH(Zue.bind(null,r,o,e),[e]),r.flags|=2048,gb(9,Jue.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=ja(),t=vr.identifierPrefix;if(hn){var n=cu,r=uu;n=(r&~(1<<32-ua(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=hb++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=zqe++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Wqe={readContext:$s,useCallback:ace,useContext:$s,useEffect:F8,useImperativeHandle:sce,useInsertionEffect:rce,useLayoutEffect:ice,useMemo:lce,useReducer:W3,useRef:nce,useState:function(){return W3(pb)},useDebugValue:O8,useDeferredValue:function(e){var t=As();return uce(t,Jn.memoizedState,e)},useTransition:function(){var e=W3(pb)[0],t=As().memoizedState;return[e,t]},useMutableSource:Yue,useSyncExternalStore:Kue,useId:cce,unstable_isNewReconciler:!1},Hqe={readContext:$s,useCallback:ace,useContext:$s,useEffect:F8,useImperativeHandle:sce,useInsertionEffect:rce,useLayoutEffect:ice,useMemo:lce,useReducer:H3,useRef:nce,useState:function(){return H3(pb)},useDebugValue:O8,useDeferredValue:function(e){var t=As();return Jn===null?t.memoizedState=e:uce(t,Jn.memoizedState,e)},useTransition:function(){var e=H3(pb)[0],t=As().memoizedState;return[e,t]},useMutableSource:Yue,useSyncExternalStore:Kue,useId:cce,unstable_isNewReconciler:!1};function Vs(e,t){if(e&&e.defaultProps){t=En({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function jO(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:En({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var sA={isMounted:function(e){return(e=e._reactInternals)?gp(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Fi(),i=of(e),o=wu(r,i);o.payload=t,n!=null&&(o.callback=n),t=nf(e,o,i),t!==null&&(ca(t,e,i,r),ES(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Fi(),i=of(e),o=wu(r,i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=nf(e,o,i),t!==null&&(ca(t,e,i,r),ES(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Fi(),r=of(e),i=wu(n,r);i.tag=2,t!=null&&(i.callback=t),t=nf(e,i,r),t!==null&&(ca(t,e,r,n),ES(t,e,r))}};function _H(e,t,n,r,i,o,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,s):t.prototype&&t.prototype.isPureReactComponent?!ab(n,r)||!ab(i,o):!0}function pce(e,t,n){var r=!1,i=$f,o=t.contextType;return typeof o=="object"&&o!==null?o=$s(o):(i=ro(t)?Lh:ui.current,r=t.contextTypes,o=(r=r!=null)?n0(e,i):$f),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=sA,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function $H(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&sA.enqueueReplaceState(t,t.state,null)}function UO(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},E8(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=$s(o):(o=ro(t)?Lh:ui.current,i.context=n0(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(jO(e,t,o,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&sA.enqueueReplaceState(i,i.state,null),YE(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function s0(e,t){try{var n="",r=t;do n+=bHe(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function q3(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function VO(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var qqe=typeof WeakMap=="function"?WeakMap:Map;function gce(e,t,n){n=wu(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ek||(ek=!0,ZO=r),VO(e,t)},n}function mce(e,t,n){n=wu(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){VO(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){VO(e,t),typeof r!="function"&&(rf===null?rf=new Set([this]):rf.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function AH(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new qqe;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=sGe.bind(null,e,t,n),t.then(e,e))}function TH(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function RH(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=wu(-1,1),t.tag=2,nf(n,t,1))),n.lanes|=1),e)}var Gqe=qu.ReactCurrentOwner,Zi=!1;function bi(e,t,n,r){t.child=e===null?Hue(t,null,n,r):i0(t,e.child,n,r)}function FH(e,t,n,r,i){n=n.render;var o=t.ref;return Hg(t,i),r=T8(e,t,n,r,o,i),n=R8(),e!==null&&!Zi?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Pu(e,t,i)):(hn&&n&&y8(t),t.flags|=1,bi(e,t,r,i),t.child)}function OH(e,t,n,r,i){if(e===null){var o=n.type;return typeof o=="function"&&!B8(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,yce(e,t,o,r,i)):(e=RS(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:ab,n(s,r)&&e.ref===t.ref)return Pu(e,t,i)}return t.flags|=1,e=sf(o,r),e.ref=t.ref,e.return=t,t.child=e}function yce(e,t,n,r,i){if(e!==null){var o=e.memoizedProps;if(ab(o,r)&&e.ref===t.ref)if(Zi=!1,t.pendingProps=r=o,(e.lanes&i)!==0)e.flags&131072&&(Zi=!0);else return t.lanes=e.lanes,Pu(e,t,i)}return WO(e,t,n,r,i)}function vce(e,t,n){var r=t.pendingProps,i=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},tn(bg,wo),wo|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,tn(bg,wo),wo|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,tn(bg,wo),wo|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,tn(bg,wo),wo|=r;return bi(e,t,i,n),t.child}function bce(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function WO(e,t,n,r,i){var o=ro(n)?Lh:ui.current;return o=n0(t,o),Hg(t,i),n=T8(e,t,n,r,o,i),r=R8(),e!==null&&!Zi?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Pu(e,t,i)):(hn&&r&&y8(t),t.flags|=1,bi(e,t,n,i),t.child)}function PH(e,t,n,r,i){if(ro(n)){var o=!0;WE(t)}else o=!1;if(Hg(t,i),t.stateNode===null)$S(e,t),pce(t,n,r),UO(t,n,r,i),r=!0;else if(e===null){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=$s(u):(u=ro(n)?Lh:ui.current,u=n0(t,u));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==u)&&$H(t,s,r,u),Sc=!1;var d=t.memoizedState;s.state=d,YE(t,r,s,i),l=t.memoizedState,a!==r||d!==l||no.current||Sc?(typeof c=="function"&&(jO(t,n,c,r),l=t.memoizedState),(a=Sc||_H(t,n,a,r,d,l,u))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=u,r=a):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,Gue(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:Vs(t.type,a),s.props=u,f=t.pendingProps,d=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=$s(l):(l=ro(n)?Lh:ui.current,l=n0(t,l));var h=n.getDerivedStateFromProps;(c=typeof h=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==f||d!==l)&&$H(t,s,r,l),Sc=!1,d=t.memoizedState,s.state=d,YE(t,r,s,i);var p=t.memoizedState;a!==f||d!==p||no.current||Sc?(typeof h=="function"&&(jO(t,n,h,r),p=t.memoizedState),(u=Sc||_H(t,n,u,r,d,p,l)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,p,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,p,l)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),s.props=r,s.state=p,s.context=l,r=u):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return HO(e,t,n,r,o,i)}function HO(e,t,n,r,i,o){bce(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return i&&vH(t,n,!1),Pu(e,t,o);r=t.stateNode,Gqe.current=t;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=i0(t,e.child,null,o),t.child=i0(t,null,a,o)):bi(e,t,a,o),t.memoizedState=r.state,i&&vH(t,n,!0),t.child}function xce(e){var t=e.stateNode;t.pendingContext?yH(e,t.pendingContext,t.pendingContext!==t.context):t.context&&yH(e,t.context,!1),k8(e,t.containerInfo)}function DH(e,t,n,r,i){return r0(),b8(i),t.flags|=256,bi(e,t,n,r),t.child}var qO={dehydrated:null,treeContext:null,retryLane:0};function GO(e){return{baseLanes:e,cachePool:null,transitions:null}}function wce(e,t,n){var r=t.pendingProps,i=xn.current,o=!1,s=(t.flags&128)!==0,a;if((a=s)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),tn(xn,i&1),e===null)return zO(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,o?(r=t.mode,o=t.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=uA(s,r,0,null),e=lh(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=GO(n),t.memoizedState=qO,e):P8(t,s));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return Xqe(e,t,s,r,a,i,n);if(o){o=r.fallback,s=t.mode,i=e.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=sf(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=sf(a,o):(o=lh(o,s,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,s=e.child.memoizedState,s=s===null?GO(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=e.childLanes&~n,t.memoizedState=qO,r}return o=e.child,e=o.sibling,r=sf(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function P8(e,t){return t=uA({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Cw(e,t,n,r){return r!==null&&b8(r),i0(t,e.child,null,n),e=P8(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Xqe(e,t,n,r,i,o,s){if(n)return t.flags&256?(t.flags&=-257,r=q3(Error(fe(422))),Cw(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=uA({mode:"visible",children:r.children},i,0,null),o=lh(o,i,s,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&i0(t,e.child,null,s),t.child.memoizedState=GO(s),t.memoizedState=qO,o);if(!(t.mode&1))return Cw(e,t,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(fe(419)),r=q3(o,r,void 0),Cw(e,t,s,r)}if(a=(s&e.childLanes)!==0,Zi||a){if(r=vr,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Ou(e,i),ca(r,e,i,-1))}return z8(),r=q3(Error(fe(421))),Cw(e,t,s,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=aGe.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,Ao=tf(i.nextSibling),Po=t,hn=!0,Ks=null,e!==null&&(ss[as++]=uu,ss[as++]=cu,ss[as++]=Ih,uu=e.id,cu=e.overflow,Ih=t),t=P8(t,r.children),t.flags|=4096,t)}function MH(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),BO(e.return,t,n)}function G3(e,t,n,r,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Sce(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(bi(e,t,r.children,n),r=xn.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&MH(e,n,t);else if(e.tag===19)MH(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(tn(xn,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&KE(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),G3(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&KE(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}G3(t,!0,n,null,o);break;case"together":G3(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function $S(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Pu(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Bh|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(fe(153));if(t.child!==null){for(e=t.child,n=sf(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=sf(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Yqe(e,t,n){switch(t.tag){case 3:xce(t),r0();break;case 5:Xue(t);break;case 1:ro(t.type)&&WE(t);break;case 4:k8(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;tn(GE,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(tn(xn,xn.current&1),t.flags|=128,null):n&t.child.childLanes?wce(e,t,n):(tn(xn,xn.current&1),e=Pu(e,t,n),e!==null?e.sibling:null);tn(xn,xn.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Sce(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),tn(xn,xn.current),r)break;return null;case 22:case 23:return t.lanes=0,vce(e,t,n)}return Pu(e,t,n)}var Cce,XO,Ece,kce;Cce=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};XO=function(){};Ece=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Bd(gl.current);var o=null;switch(n){case"input":i=mO(e,i),r=mO(e,r),o=[];break;case"select":i=En({},i,{value:void 0}),r=En({},r,{value:void 0}),o=[];break;case"textarea":i=bO(e,i),r=bO(e,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=UE)}wO(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(eb.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(eb.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&on("scroll",e),o||a===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};kce=function(e,t,n,r){n!==r&&(t.flags|=4)};function Vy(e,t){if(!hn)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Hr(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Kqe(e,t,n){var r=t.pendingProps;switch(v8(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Hr(t),null;case 1:return ro(t.type)&&VE(),Hr(t),null;case 3:return r=t.stateNode,o0(),un(no),un(ui),$8(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(ww(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ks!==null&&(nP(Ks),Ks=null))),XO(e,t),Hr(t),null;case 5:_8(t);var i=Bd(db.current);if(n=t.type,e!==null&&t.stateNode!=null)Ece(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(fe(166));return Hr(t),null}if(e=Bd(gl.current),ww(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[tl]=t,r[cb]=o,e=(t.mode&1)!==0,n){case"dialog":on("cancel",r),on("close",r);break;case"iframe":case"object":case"embed":on("load",r);break;case"video":case"audio":for(i=0;i<A1.length;i++)on(A1[i],r);break;case"source":on("error",r);break;case"img":case"image":case"link":on("error",r),on("load",r);break;case"details":on("toggle",r);break;case"input":WW(r,o),on("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},on("invalid",r);break;case"textarea":qW(r,o),on("invalid",r)}wO(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&xw(r.textContent,a,e),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&xw(r.textContent,a,e),i=["children",""+a]):eb.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&on("scroll",r)}switch(n){case"input":dw(r),HW(r,o,!0);break;case"textarea":dw(r),GW(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=UE)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Zle(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[tl]=t,e[cb]=r,Cce(e,t,!1,!1),t.stateNode=e;e:{switch(s=SO(n,r),n){case"dialog":on("cancel",e),on("close",e),i=r;break;case"iframe":case"object":case"embed":on("load",e),i=r;break;case"video":case"audio":for(i=0;i<A1.length;i++)on(A1[i],e);i=r;break;case"source":on("error",e),i=r;break;case"img":case"image":case"link":on("error",e),on("load",e),i=r;break;case"details":on("toggle",e),i=r;break;case"input":WW(e,r),i=mO(e,r),on("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=En({},r,{value:void 0}),on("invalid",e);break;case"textarea":qW(e,r),i=bO(e,r),on("invalid",e);break;default:i=r}wO(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?nue(e,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&eue(e,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&tb(e,l):typeof l=="number"&&tb(e,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(eb.hasOwnProperty(o)?l!=null&&o==="onScroll"&&on("scroll",e):l!=null&&r8(e,o,l,s))}switch(n){case"input":dw(e),HW(e,r,!1);break;case"textarea":dw(e),GW(e);break;case"option":r.value!=null&&e.setAttribute("value",""+_f(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?jg(e,!!r.multiple,o,!1):r.defaultValue!=null&&jg(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=UE)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Hr(t),null;case 6:if(e&&t.stateNode!=null)kce(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(fe(166));if(n=Bd(db.current),Bd(gl.current),ww(t)){if(r=t.stateNode,n=t.memoizedProps,r[tl]=t,(o=r.nodeValue!==n)&&(e=Po,e!==null))switch(e.tag){case 3:xw(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&xw(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[tl]=t,t.stateNode=r}return Hr(t),null;case 13:if(un(xn),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(hn&&Ao!==null&&t.mode&1&&!(t.flags&128))Vue(),r0(),t.flags|=98560,o=!1;else if(o=ww(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(fe(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(fe(317));o[tl]=t}else r0(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Hr(t),o=!1}else Ks!==null&&(nP(Ks),Ks=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||xn.current&1?ir===0&&(ir=3):z8())),t.updateQueue!==null&&(t.flags|=4),Hr(t),null);case 4:return o0(),XO(e,t),e===null&&lb(t.stateNode.containerInfo),Hr(t),null;case 10:return S8(t.type._context),Hr(t),null;case 17:return ro(t.type)&&VE(),Hr(t),null;case 19:if(un(xn),o=t.memoizedState,o===null)return Hr(t),null;if(r=(t.flags&128)!==0,s=o.rendering,s===null)if(r)Vy(o,!1);else{if(ir!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=KE(e),s!==null){for(t.flags|=128,Vy(o,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return tn(xn,xn.current&1|2),t.child}e=e.sibling}o.tail!==null&&In()>a0&&(t.flags|=128,r=!0,Vy(o,!1),t.lanes=4194304)}else{if(!r)if(e=KE(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Vy(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!hn)return Hr(t),null}else 2*In()-o.renderingStartTime>a0&&n!==1073741824&&(t.flags|=128,r=!0,Vy(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(n=o.last,n!==null?n.sibling=s:t.child=s,o.last=s)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=In(),t.sibling=null,n=xn.current,tn(xn,r?n&1|2:n&1),t):(Hr(t),null);case 22:case 23:return I8(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?wo&1073741824&&(Hr(t),t.subtreeFlags&6&&(t.flags|=8192)):Hr(t),null;case 24:return null;case 25:return null}throw Error(fe(156,t.tag))}function Qqe(e,t){switch(v8(t),t.tag){case 1:return ro(t.type)&&VE(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return o0(),un(no),un(ui),$8(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return _8(t),null;case 13:if(un(xn),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(fe(340));r0()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return un(xn),null;case 4:return o0(),null;case 10:return S8(t.type._context),null;case 22:case 23:return I8(),null;case 24:return null;default:return null}}var Ew=!1,Zr=!1,Jqe=typeof WeakSet=="function"?WeakSet:Set,Ee=null;function vg(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Tn(e,t,r)}else n.current=null}function YO(e,t,n){try{n()}catch(r){Tn(e,t,r)}}var NH=!1;function Zqe(e,t){if(OO=zE,e=Rue(),m8(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,u=0,c=0,f=e,d=null;t:for(;;){for(var h;f!==n||i!==0&&f.nodeType!==3||(a=s+i),f!==o||r!==0&&f.nodeType!==3||(l=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(h=f.firstChild)!==null;)d=f,f=h;for(;;){if(f===e)break t;if(d===n&&++u===i&&(a=s),d===o&&++c===r&&(l=s),(h=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=h}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(PO={focusedElem:e,selectionRange:n},zE=!1,Ee=t;Ee!==null;)if(t=Ee,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ee=e;else for(;Ee!==null;){t=Ee;try{var p=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var g=p.memoizedProps,m=p.memoizedState,y=t.stateNode,v=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:Vs(t.type,g),m);y.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(fe(163))}}catch(x){Tn(t,t.return,x)}if(e=t.sibling,e!==null){e.return=t.return,Ee=e;break}Ee=t.return}return p=NH,NH=!1,p}function sv(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&YO(t,n,o)}i=i.next}while(i!==r)}}function aA(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function KO(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function _ce(e){var t=e.alternate;t!==null&&(e.alternate=null,_ce(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[tl],delete t[cb],delete t[NO],delete t[Mqe],delete t[Nqe])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function $ce(e){return e.tag===5||e.tag===3||e.tag===4}function LH(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||$ce(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function QO(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=UE));else if(r!==4&&(e=e.child,e!==null))for(QO(e,t,n),e=e.sibling;e!==null;)QO(e,t,n),e=e.sibling}function JO(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(JO(e,t,n),e=e.sibling;e!==null;)JO(e,t,n),e=e.sibling}var kr=null,Gs=!1;function sc(e,t,n){for(n=n.child;n!==null;)Ace(e,t,n),n=n.sibling}function Ace(e,t,n){if(pl&&typeof pl.onCommitFiberUnmount=="function")try{pl.onCommitFiberUnmount(Z$,n)}catch{}switch(n.tag){case 5:Zr||vg(n,t);case 6:var r=kr,i=Gs;kr=null,sc(e,t,n),kr=r,Gs=i,kr!==null&&(Gs?(e=kr,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):kr.removeChild(n.stateNode));break;case 18:kr!==null&&(Gs?(e=kr,n=n.stateNode,e.nodeType===8?B3(e.parentNode,n):e.nodeType===1&&B3(e,n),ob(e)):B3(kr,n.stateNode));break;case 4:r=kr,i=Gs,kr=n.stateNode.containerInfo,Gs=!0,sc(e,t,n),kr=r,Gs=i;break;case 0:case 11:case 14:case 15:if(!Zr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&YO(n,t,s),i=i.next}while(i!==r)}sc(e,t,n);break;case 1:if(!Zr&&(vg(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Tn(n,t,a)}sc(e,t,n);break;case 21:sc(e,t,n);break;case 22:n.mode&1?(Zr=(r=Zr)||n.memoizedState!==null,sc(e,t,n),Zr=r):sc(e,t,n);break;default:sc(e,t,n)}}function IH(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Jqe),t.forEach(function(r){var i=lGe.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Is(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,a=s;e:for(;a!==null;){switch(a.tag){case 5:kr=a.stateNode,Gs=!1;break e;case 3:kr=a.stateNode.containerInfo,Gs=!0;break e;case 4:kr=a.stateNode.containerInfo,Gs=!0;break e}a=a.return}if(kr===null)throw Error(fe(160));Ace(o,s,i),kr=null,Gs=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Tn(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Tce(t,e),t=t.sibling}function Tce(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Is(t,e),Ma(e),r&4){try{sv(3,e,e.return),aA(3,e)}catch(g){Tn(e,e.return,g)}try{sv(5,e,e.return)}catch(g){Tn(e,e.return,g)}}break;case 1:Is(t,e),Ma(e),r&512&&n!==null&&vg(n,n.return);break;case 5:if(Is(t,e),Ma(e),r&512&&n!==null&&vg(n,n.return),e.flags&32){var i=e.stateNode;try{tb(i,"")}catch(g){Tn(e,e.return,g)}}if(r&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,s=n!==null?n.memoizedProps:o,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&Qle(i,o),SO(a,s);var u=SO(a,o);for(s=0;s<l.length;s+=2){var c=l[s],f=l[s+1];c==="style"?nue(i,f):c==="dangerouslySetInnerHTML"?eue(i,f):c==="children"?tb(i,f):r8(i,c,f,u)}switch(a){case"input":yO(i,o);break;case"textarea":Jle(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var h=o.value;h!=null?jg(i,!!o.multiple,h,!1):d!==!!o.multiple&&(o.defaultValue!=null?jg(i,!!o.multiple,o.defaultValue,!0):jg(i,!!o.multiple,o.multiple?[]:"",!1))}i[cb]=o}catch(g){Tn(e,e.return,g)}}break;case 6:if(Is(t,e),Ma(e),r&4){if(e.stateNode===null)throw Error(fe(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(g){Tn(e,e.return,g)}}break;case 3:if(Is(t,e),Ma(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ob(t.containerInfo)}catch(g){Tn(e,e.return,g)}break;case 4:Is(t,e),Ma(e);break;case 13:Is(t,e),Ma(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(N8=In())),r&4&&IH(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(Zr=(u=Zr)||c,Is(t,e),Zr=u):Is(t,e),Ma(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(Ee=e,c=e.child;c!==null;){for(f=Ee=c;Ee!==null;){switch(d=Ee,h=d.child,d.tag){case 0:case 11:case 14:case 15:sv(4,d,d.return);break;case 1:vg(d,d.return);var p=d.stateNode;if(typeof p.componentWillUnmount=="function"){r=d,n=d.return;try{t=r,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(g){Tn(r,n,g)}}break;case 5:vg(d,d.return);break;case 22:if(d.memoizedState!==null){BH(f);continue}}h!==null?(h.return=d,Ee=h):BH(f)}c=c.sibling}e:for(c=null,f=e;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=tue("display",s))}catch(g){Tn(e,e.return,g)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(g){Tn(e,e.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Is(t,e),Ma(e),r&4&&IH(e);break;case 21:break;default:Is(t,e),Ma(e)}}function Ma(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if($ce(n)){var r=n;break e}n=n.return}throw Error(fe(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(tb(i,""),r.flags&=-33);var o=LH(e);JO(e,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=LH(e);QO(e,a,s);break;default:throw Error(fe(161))}}catch(l){Tn(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function eGe(e,t,n){Ee=e,Rce(e)}function Rce(e,t,n){for(var r=(e.mode&1)!==0;Ee!==null;){var i=Ee,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||Ew;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Zr;a=Ew;var u=Zr;if(Ew=s,(Zr=l)&&!u)for(Ee=i;Ee!==null;)s=Ee,l=s.child,s.tag===22&&s.memoizedState!==null?jH(i):l!==null?(l.return=s,Ee=l):jH(i);for(;o!==null;)Ee=o,Rce(o),o=o.sibling;Ee=i,Ew=a,Zr=u}zH(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,Ee=o):zH(e)}}function zH(e){for(;Ee!==null;){var t=Ee;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Zr||aA(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Zr)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Vs(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&CH(t,o,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}CH(t,s,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&ob(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(fe(163))}Zr||t.flags&512&&KO(t)}catch(d){Tn(t,t.return,d)}}if(t===e){Ee=null;break}if(n=t.sibling,n!==null){n.return=t.return,Ee=n;break}Ee=t.return}}function BH(e){for(;Ee!==null;){var t=Ee;if(t===e){Ee=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Ee=n;break}Ee=t.return}}function jH(e){for(;Ee!==null;){var t=Ee;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{aA(4,t)}catch(l){Tn(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){Tn(t,i,l)}}var o=t.return;try{KO(t)}catch(l){Tn(t,o,l)}break;case 5:var s=t.return;try{KO(t)}catch(l){Tn(t,s,l)}}}catch(l){Tn(t,t.return,l)}if(t===e){Ee=null;break}var a=t.sibling;if(a!==null){a.return=t.return,Ee=a;break}Ee=t.return}}var tGe=Math.ceil,ZE=qu.ReactCurrentDispatcher,D8=qu.ReactCurrentOwner,bs=qu.ReactCurrentBatchConfig,bt=0,vr=null,Gn=null,Nr=0,wo=0,bg=qf(0),ir=0,mb=null,Bh=0,lA=0,M8=0,av=null,Xi=null,N8=0,a0=1/0,Kl=null,ek=!1,ZO=null,rf=null,kw=!1,qc=null,tk=0,lv=0,eP=null,AS=-1,TS=0;function Fi(){return bt&6?In():AS!==-1?AS:AS=In()}function of(e){return e.mode&1?bt&2&&Nr!==0?Nr&-Nr:Iqe.transition!==null?(TS===0&&(TS=pue()),TS):(e=Bt,e!==0||(e=window.event,e=e===void 0?16:wue(e.type)),e):1}function ca(e,t,n,r){if(50<lv)throw lv=0,eP=null,Error(fe(185));Mx(e,n,r),(!(bt&2)||e!==vr)&&(e===vr&&(!(bt&2)&&(lA|=n),ir===4&&$c(e,Nr)),io(e,r),n===1&&bt===0&&!(t.mode&1)&&(a0=In()+500,iA&&Gf()))}function io(e,t){var n=e.callbackNode;IHe(e,t);var r=IE(e,e===vr?Nr:0);if(r===0)n!==null&&KW(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&KW(n),t===1)e.tag===0?Lqe(UH.bind(null,e)):Bue(UH.bind(null,e)),Pqe(function(){!(bt&6)&&Gf()}),n=null;else{switch(gue(r)){case 1:n=l8;break;case 4:n=due;break;case 16:n=LE;break;case 536870912:n=hue;break;default:n=LE}n=Ice(n,Fce.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Fce(e,t){if(AS=-1,TS=0,bt&6)throw Error(fe(327));var n=e.callbackNode;if(qg()&&e.callbackNode!==n)return null;var r=IE(e,e===vr?Nr:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=nk(e,r);else{t=r;var i=bt;bt|=2;var o=Pce();(vr!==e||Nr!==t)&&(Kl=null,a0=In()+500,ah(e,t));do try{iGe();break}catch(a){Oce(e,a)}while(!0);w8(),ZE.current=o,bt=i,Gn!==null?t=0:(vr=null,Nr=0,t=ir)}if(t!==0){if(t===2&&(i=$O(e),i!==0&&(r=i,t=tP(e,i))),t===1)throw n=mb,ah(e,0),$c(e,r),io(e,In()),n;if(t===6)$c(e,r);else{if(i=e.current.alternate,!(r&30)&&!nGe(i)&&(t=nk(e,r),t===2&&(o=$O(e),o!==0&&(r=o,t=tP(e,o))),t===1))throw n=mb,ah(e,0),$c(e,r),io(e,In()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(fe(345));case 2:xd(e,Xi,Kl);break;case 3:if($c(e,r),(r&130023424)===r&&(t=N8+500-In(),10<t)){if(IE(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Fi(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=MO(xd.bind(null,e,Xi,Kl),t);break}xd(e,Xi,Kl);break;case 4:if($c(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-ua(r);o=1<<s,s=t[s],s>i&&(i=s),r&=~o}if(r=i,r=In()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*tGe(r/1960))-r,10<r){e.timeoutHandle=MO(xd.bind(null,e,Xi,Kl),r);break}xd(e,Xi,Kl);break;case 5:xd(e,Xi,Kl);break;default:throw Error(fe(329))}}}return io(e,In()),e.callbackNode===n?Fce.bind(null,e):null}function tP(e,t){var n=av;return e.current.memoizedState.isDehydrated&&(ah(e,t).flags|=256),e=nk(e,t),e!==2&&(t=Xi,Xi=n,t!==null&&nP(t)),e}function nP(e){Xi===null?Xi=e:Xi.push.apply(Xi,e)}function nGe(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!wa(o(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function $c(e,t){for(t&=~M8,t&=~lA,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ua(t),r=1<<n;e[n]=-1,t&=~r}}function UH(e){if(bt&6)throw Error(fe(327));qg();var t=IE(e,0);if(!(t&1))return io(e,In()),null;var n=nk(e,t);if(e.tag!==0&&n===2){var r=$O(e);r!==0&&(t=r,n=tP(e,r))}if(n===1)throw n=mb,ah(e,0),$c(e,t),io(e,In()),n;if(n===6)throw Error(fe(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xd(e,Xi,Kl),io(e,In()),null}function L8(e,t){var n=bt;bt|=1;try{return e(t)}finally{bt=n,bt===0&&(a0=In()+500,iA&&Gf())}}function jh(e){qc!==null&&qc.tag===0&&!(bt&6)&&qg();var t=bt;bt|=1;var n=bs.transition,r=Bt;try{if(bs.transition=null,Bt=1,e)return e()}finally{Bt=r,bs.transition=n,bt=t,!(bt&6)&&Gf()}}function I8(){wo=bg.current,un(bg)}function ah(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Oqe(n)),Gn!==null)for(n=Gn.return;n!==null;){var r=n;switch(v8(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&VE();break;case 3:o0(),un(no),un(ui),$8();break;case 5:_8(r);break;case 4:o0();break;case 13:un(xn);break;case 19:un(xn);break;case 10:S8(r.type._context);break;case 22:case 23:I8()}n=n.return}if(vr=e,Gn=e=sf(e.current,null),Nr=wo=t,ir=0,mb=null,M8=lA=Bh=0,Xi=av=null,zd!==null){for(t=0;t<zd.length;t++)if(n=zd[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}zd=null}return e}function Oce(e,t){do{var n=Gn;try{if(w8(),kS.current=JE,QE){for(var r=Cn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}QE=!1}if(zh=0,fr=Jn=Cn=null,ov=!1,hb=0,D8.current=null,n===null||n.return===null){ir=1,mb=t,Gn=null;break}e:{var o=e,s=n.return,a=n,l=t;if(t=Nr,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var h=TH(s);if(h!==null){h.flags&=-257,RH(h,s,a,o,t),h.mode&1&&AH(o,u,t),t=h,l=u;var p=t.updateQueue;if(p===null){var g=new Set;g.add(l),t.updateQueue=g}else p.add(l);break e}else{if(!(t&1)){AH(o,u,t),z8();break e}l=Error(fe(426))}}else if(hn&&a.mode&1){var m=TH(s);if(m!==null){!(m.flags&65536)&&(m.flags|=256),RH(m,s,a,o,t),b8(s0(l,a));break e}}o=l=s0(l,a),ir!==4&&(ir=2),av===null?av=[o]:av.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var y=gce(o,l,t);SH(o,y);break e;case 1:a=l;var v=o.type,b=o.stateNode;if(!(o.flags&128)&&(typeof v.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(rf===null||!rf.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t;var x=mce(o,a,t);SH(o,x);break e}}o=o.return}while(o!==null)}Mce(n)}catch(w){t=w,Gn===n&&n!==null&&(Gn=n=n.return);continue}break}while(!0)}function Pce(){var e=ZE.current;return ZE.current=JE,e===null?JE:e}function z8(){(ir===0||ir===3||ir===2)&&(ir=4),vr===null||!(Bh&268435455)&&!(lA&268435455)||$c(vr,Nr)}function nk(e,t){var n=bt;bt|=2;var r=Pce();(vr!==e||Nr!==t)&&(Kl=null,ah(e,t));do try{rGe();break}catch(i){Oce(e,i)}while(!0);if(w8(),bt=n,ZE.current=r,Gn!==null)throw Error(fe(261));return vr=null,Nr=0,ir}function rGe(){for(;Gn!==null;)Dce(Gn)}function iGe(){for(;Gn!==null&&!THe();)Dce(Gn)}function Dce(e){var t=Lce(e.alternate,e,wo);e.memoizedProps=e.pendingProps,t===null?Mce(e):Gn=t,D8.current=null}function Mce(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Qqe(n,t),n!==null){n.flags&=32767,Gn=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ir=6,Gn=null;return}}else if(n=Kqe(n,t,wo),n!==null){Gn=n;return}if(t=t.sibling,t!==null){Gn=t;return}Gn=t=e}while(t!==null);ir===0&&(ir=5)}function xd(e,t,n){var r=Bt,i=bs.transition;try{bs.transition=null,Bt=1,oGe(e,t,n,r)}finally{bs.transition=i,Bt=r}return null}function oGe(e,t,n,r){do qg();while(qc!==null);if(bt&6)throw Error(fe(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(fe(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(zHe(e,o),e===vr&&(Gn=vr=null,Nr=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||kw||(kw=!0,Ice(LE,function(){return qg(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=bs.transition,bs.transition=null;var s=Bt;Bt=1;var a=bt;bt|=4,D8.current=null,Zqe(e,n),Tce(n,e),kqe(PO),zE=!!OO,PO=OO=null,e.current=n,eGe(n),RHe(),bt=a,Bt=s,bs.transition=o}else e.current=n;if(kw&&(kw=!1,qc=e,tk=i),o=e.pendingLanes,o===0&&(rf=null),PHe(n.stateNode),io(e,In()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(ek)throw ek=!1,e=ZO,ZO=null,e;return tk&1&&e.tag!==0&&qg(),o=e.pendingLanes,o&1?e===eP?lv++:(lv=0,eP=e):lv=0,Gf(),null}function qg(){if(qc!==null){var e=gue(tk),t=bs.transition,n=Bt;try{if(bs.transition=null,Bt=16>e?16:e,qc===null)var r=!1;else{if(e=qc,qc=null,tk=0,bt&6)throw Error(fe(331));var i=bt;for(bt|=4,Ee=e.current;Ee!==null;){var o=Ee,s=o.child;if(Ee.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(Ee=u;Ee!==null;){var c=Ee;switch(c.tag){case 0:case 11:case 15:sv(8,c,o)}var f=c.child;if(f!==null)f.return=c,Ee=f;else for(;Ee!==null;){c=Ee;var d=c.sibling,h=c.return;if(_ce(c),c===u){Ee=null;break}if(d!==null){d.return=h,Ee=d;break}Ee=h}}}var p=o.alternate;if(p!==null){var g=p.child;if(g!==null){p.child=null;do{var m=g.sibling;g.sibling=null,g=m}while(g!==null)}}Ee=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,Ee=s;else e:for(;Ee!==null;){if(o=Ee,o.flags&2048)switch(o.tag){case 0:case 11:case 15:sv(9,o,o.return)}var y=o.sibling;if(y!==null){y.return=o.return,Ee=y;break e}Ee=o.return}}var v=e.current;for(Ee=v;Ee!==null;){s=Ee;var b=s.child;if(s.subtreeFlags&2064&&b!==null)b.return=s,Ee=b;else e:for(s=v;Ee!==null;){if(a=Ee,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:aA(9,a)}}catch(w){Tn(a,a.return,w)}if(a===s){Ee=null;break e}var x=a.sibling;if(x!==null){x.return=a.return,Ee=x;break e}Ee=a.return}}if(bt=i,Gf(),pl&&typeof pl.onPostCommitFiberRoot=="function")try{pl.onPostCommitFiberRoot(Z$,e)}catch{}r=!0}return r}finally{Bt=n,bs.transition=t}}return!1}function VH(e,t,n){t=s0(n,t),t=gce(e,t,1),e=nf(e,t,1),t=Fi(),e!==null&&(Mx(e,1,t),io(e,t))}function Tn(e,t,n){if(e.tag===3)VH(e,e,n);else for(;t!==null;){if(t.tag===3){VH(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(rf===null||!rf.has(r))){e=s0(n,e),e=mce(t,e,1),t=nf(t,e,1),e=Fi(),t!==null&&(Mx(t,1,e),io(t,e));break}}t=t.return}}function sGe(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Fi(),e.pingedLanes|=e.suspendedLanes&n,vr===e&&(Nr&n)===n&&(ir===4||ir===3&&(Nr&130023424)===Nr&&500>In()-N8?ah(e,0):M8|=n),io(e,t)}function Nce(e,t){t===0&&(e.mode&1?(t=gw,gw<<=1,!(gw&130023424)&&(gw=4194304)):t=1);var n=Fi();e=Ou(e,t),e!==null&&(Mx(e,t,n),io(e,n))}function aGe(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Nce(e,n)}function lGe(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(fe(314))}r!==null&&r.delete(t),Nce(e,n)}var Lce;Lce=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||no.current)Zi=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Zi=!1,Yqe(e,t,n);Zi=!!(e.flags&131072)}else Zi=!1,hn&&t.flags&1048576&&jue(t,qE,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;$S(e,t),e=t.pendingProps;var i=n0(t,ui.current);Hg(t,n),i=T8(null,t,r,e,i,n);var o=R8();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ro(r)?(o=!0,WE(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,E8(t),i.updater=sA,t.stateNode=i,i._reactInternals=t,UO(t,r,e,n),t=HO(null,t,r,!0,o,n)):(t.tag=0,hn&&o&&y8(t),bi(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch($S(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=cGe(r),e=Vs(r,e),i){case 0:t=WO(null,t,r,e,n);break e;case 1:t=PH(null,t,r,e,n);break e;case 11:t=FH(null,t,r,e,n);break e;case 14:t=OH(null,t,r,Vs(r.type,e),n);break e}throw Error(fe(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Vs(r,i),WO(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Vs(r,i),PH(e,t,r,i,n);case 3:e:{if(xce(t),e===null)throw Error(fe(387));r=t.pendingProps,o=t.memoizedState,i=o.element,Gue(e,t),YE(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=s0(Error(fe(423)),t),t=DH(e,t,r,n,i);break e}else if(r!==i){i=s0(Error(fe(424)),t),t=DH(e,t,r,n,i);break e}else for(Ao=tf(t.stateNode.containerInfo.firstChild),Po=t,hn=!0,Ks=null,n=Hue(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(r0(),r===i){t=Pu(e,t,n);break e}bi(e,t,r,n)}t=t.child}return t;case 5:return Xue(t),e===null&&zO(t),r=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,s=i.children,DO(r,i)?s=null:o!==null&&DO(r,o)&&(t.flags|=32),bce(e,t),bi(e,t,s,n),t.child;case 6:return e===null&&zO(t),null;case 13:return wce(e,t,n);case 4:return k8(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=i0(t,null,r,n):bi(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Vs(r,i),FH(e,t,r,i,n);case 7:return bi(e,t,t.pendingProps,n),t.child;case 8:return bi(e,t,t.pendingProps.children,n),t.child;case 12:return bi(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,tn(GE,r._currentValue),r._currentValue=s,o!==null)if(wa(o.value,s)){if(o.children===i.children&&!no.current){t=Pu(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=wu(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),BO(o.return,n,t),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===t.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(fe(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),BO(s,n,t),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===t){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}bi(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Hg(t,n),i=$s(i),r=r(i),t.flags|=1,bi(e,t,r,n),t.child;case 14:return r=t.type,i=Vs(r,t.pendingProps),i=Vs(r.type,i),OH(e,t,r,i,n);case 15:return yce(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Vs(r,i),$S(e,t),t.tag=1,ro(r)?(e=!0,WE(t)):e=!1,Hg(t,n),pce(t,r,i),UO(t,r,i,n),HO(null,t,r,!0,e,n);case 19:return Sce(e,t,n);case 22:return vce(e,t,n)}throw Error(fe(156,t.tag))};function Ice(e,t){return fue(e,t)}function uGe(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ps(e,t,n,r){return new uGe(e,t,n,r)}function B8(e){return e=e.prototype,!(!e||!e.isReactComponent)}function cGe(e){if(typeof e=="function")return B8(e)?1:0;if(e!=null){if(e=e.$$typeof,e===o8)return 11;if(e===s8)return 14}return 2}function sf(e,t){var n=e.alternate;return n===null?(n=ps(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function RS(e,t,n,r,i,o){var s=2;if(r=e,typeof e=="function")B8(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case ug:return lh(n.children,i,o,t);case i8:s=8,i|=8;break;case dO:return e=ps(12,n,t,i|2),e.elementType=dO,e.lanes=o,e;case hO:return e=ps(13,n,t,i),e.elementType=hO,e.lanes=o,e;case pO:return e=ps(19,n,t,i),e.elementType=pO,e.lanes=o,e;case Xle:return uA(n,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case qle:s=10;break e;case Gle:s=9;break e;case o8:s=11;break e;case s8:s=14;break e;case wc:s=16,r=null;break e}throw Error(fe(130,e==null?e:typeof e,""))}return t=ps(s,n,t,i),t.elementType=e,t.type=r,t.lanes=o,t}function lh(e,t,n,r){return e=ps(7,e,r,t),e.lanes=n,e}function uA(e,t,n,r){return e=ps(22,e,r,t),e.elementType=Xle,e.lanes=n,e.stateNode={isHidden:!1},e}function X3(e,t,n){return e=ps(6,e,null,t),e.lanes=n,e}function Y3(e,t,n){return t=ps(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function fGe(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=T3(0),this.expirationTimes=T3(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=T3(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function j8(e,t,n,r,i,o,s,a,l){return e=new fGe(e,t,n,a,l),t===1?(t=1,o===!0&&(t|=8)):t=0,o=ps(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},E8(o),e}function dGe(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:lg,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function zce(e){if(!e)return $f;e=e._reactInternals;e:{if(gp(e)!==e||e.tag!==1)throw Error(fe(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ro(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(fe(171))}if(e.tag===1){var n=e.type;if(ro(n))return zue(e,n,t)}return t}function Bce(e,t,n,r,i,o,s,a,l){return e=j8(n,r,!0,e,i,o,s,a,l),e.context=zce(null),n=e.current,r=Fi(),i=of(n),o=wu(r,i),o.callback=t??null,nf(n,o,i),e.current.lanes=i,Mx(e,i,r),io(e,r),e}function cA(e,t,n,r){var i=t.current,o=Fi(),s=of(i);return n=zce(n),t.context===null?t.context=n:t.pendingContext=n,t=wu(o,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=nf(i,t,s),e!==null&&(ca(e,i,s,o),ES(e,i,s)),s}function rk(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function WH(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function U8(e,t){WH(e,t),(e=e.alternate)&&WH(e,t)}function hGe(){return null}var jce=typeof reportError=="function"?reportError:function(e){console.error(e)};function V8(e){this._internalRoot=e}fA.prototype.render=V8.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(fe(409));cA(e,t,null,null)};fA.prototype.unmount=V8.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;jh(function(){cA(null,e,null,null)}),t[Fu]=null}};function fA(e){this._internalRoot=e}fA.prototype.unstable_scheduleHydration=function(e){if(e){var t=vue();e={blockedOn:null,target:e,priority:t};for(var n=0;n<_c.length&&t!==0&&t<_c[n].priority;n++);_c.splice(n,0,e),n===0&&xue(e)}};function W8(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function dA(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function HH(){}function pGe(e,t,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=rk(s);o.call(u)}}var s=Bce(t,r,e,0,null,!1,!1,"",HH);return e._reactRootContainer=s,e[Fu]=s.current,lb(e.nodeType===8?e.parentNode:e),jh(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=rk(l);a.call(u)}}var l=j8(e,0,!1,null,null,!1,!1,"",HH);return e._reactRootContainer=l,e[Fu]=l.current,lb(e.nodeType===8?e.parentNode:e),jh(function(){cA(t,l,n,r)}),l}function hA(e,t,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=rk(s);a.call(l)}}cA(t,s,e,i)}else s=pGe(n,t,e,i,r);return rk(s)}mue=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=$1(t.pendingLanes);n!==0&&(u8(t,n|1),io(t,In()),!(bt&6)&&(a0=In()+500,Gf()))}break;case 13:jh(function(){var r=Ou(e,1);if(r!==null){var i=Fi();ca(r,e,1,i)}}),U8(e,1)}};c8=function(e){if(e.tag===13){var t=Ou(e,134217728);if(t!==null){var n=Fi();ca(t,e,134217728,n)}U8(e,134217728)}};yue=function(e){if(e.tag===13){var t=of(e),n=Ou(e,t);if(n!==null){var r=Fi();ca(n,e,t,r)}U8(e,t)}};vue=function(){return Bt};bue=function(e,t){var n=Bt;try{return Bt=e,t()}finally{Bt=n}};EO=function(e,t,n){switch(t){case"input":if(yO(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=rA(r);if(!i)throw Error(fe(90));Kle(r),yO(r,i)}}}break;case"textarea":Jle(e,n);break;case"select":t=n.value,t!=null&&jg(e,!!n.multiple,t,!1)}};oue=L8;sue=jh;var gGe={usingClientEntryPoint:!1,Events:[Lx,hg,rA,rue,iue,L8]},Wy={findFiberByHostInstance:Id,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},mGe={bundleType:Wy.bundleType,version:Wy.version,rendererPackageName:Wy.rendererPackageName,rendererConfig:Wy.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:qu.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=uue(e),e===null?null:e.stateNode},findFiberByHostInstance:Wy.findFiberByHostInstance||hGe,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _w=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_w.isDisabled&&_w.supportsFiber)try{Z$=_w.inject(mGe),pl=_w}catch{}}Ho.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=gGe;Ho.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!W8(t))throw Error(fe(200));return dGe(e,t,null,n)};Ho.createRoot=function(e,t){if(!W8(e))throw Error(fe(299));var n=!1,r="",i=jce;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=j8(e,1,!1,null,null,n,!1,r,i),e[Fu]=t.current,lb(e.nodeType===8?e.parentNode:e),new V8(t)};Ho.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(fe(188)):(e=Object.keys(e).join(","),Error(fe(268,e)));return e=uue(t),e=e===null?null:e.stateNode,e};Ho.flushSync=function(e){return jh(e)};Ho.hydrate=function(e,t,n){if(!dA(t))throw Error(fe(200));return hA(null,e,t,!0,n)};Ho.hydrateRoot=function(e,t,n){if(!W8(e))throw Error(fe(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=jce;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=Bce(t,null,e,1,n??null,i,!1,o,s),e[Fu]=t.current,lb(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new fA(t)};Ho.render=function(e,t,n){if(!dA(t))throw Error(fe(200));return hA(null,e,t,!1,n)};Ho.unmountComponentAtNode=function(e){if(!dA(e))throw Error(fe(40));return e._reactRootContainer?(jh(function(){hA(null,null,e,!1,function(){e._reactRootContainer=null,e[Fu]=null})}),!0):!1};Ho.unstable_batchedUpdates=L8;Ho.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!dA(n))throw Error(fe(200));if(e==null||e._reactInternals===void 0)throw Error(fe(38));return hA(e,t,n,!1,r)};Ho.version="18.3.1-next-f1338f8080-20240426";function Uce(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Uce)}catch(e){console.error(e)}}Uce(),Ule.exports=Ho;var H8=Ule.exports,[Vce,yGe]=zi({strict:!1,name:"PortalContext"}),q8="chakra-portal",vGe=".chakra-portal",bGe=e=>R.jsx("div",{className:"chakra-portal-zIndex",style:{position:"absolute",zIndex:e.zIndex,top:0,left:0,right:0},children:e.children}),xGe=e=>{const{appendToParentPortal:t,children:n}=e,[r,i]=M.useState(null),o=M.useRef(null),[,s]=M.useState({});M.useEffect(()=>s({}),[]);const a=yGe(),l=dHe();e0(()=>{if(!r)return;const c=r.ownerDocument,f=t?a??c.body:c.body;if(!f)return;o.current=c.createElement("div"),o.current.className=q8,f.appendChild(o.current),s({});const d=o.current;return()=>{f.contains(d)&&f.removeChild(d)}},[r]);const u=l!=null&&l.zIndex?R.jsx(bGe,{zIndex:l==null?void 0:l.zIndex,children:n}):n;return o.current?H8.createPortal(R.jsx(Vce,{value:o.current,children:u}),o.current):R.jsx("span",{ref:c=>{c&&i(c)}})},wGe=e=>{const{children:t,containerRef:n,appendToParentPortal:r}=e,i=n.current,o=i??(typeof window<"u"?document.body:void 0),s=M.useMemo(()=>{const l=i==null?void 0:i.ownerDocument.createElement("div");return l&&(l.className=q8),l},[i]),[,a]=M.useState({});return e0(()=>a({}),[]),e0(()=>{if(!(!s||!o))return o.appendChild(s),()=>{o.removeChild(s)}},[s,o]),o&&s?H8.createPortal(R.jsx(Vce,{value:r?s:null,children:t}),s):null};function pA(e){const t={appendToParentPortal:!0,...e},{containerRef:n,...r}=t;return n?R.jsx(wGe,{containerRef:n,...r}):R.jsx(xGe,{...r})}pA.className=q8;pA.selector=vGe;pA.displayName="Portal";function gA(){const e=M.useContext(Zv);if(!e)throw Error("useTheme: `theme` is undefined. Seems you forgot to wrap your app in `<ChakraProvider />` or `<ThemeProvider />`");return e}var G8=M.createContext({});G8.displayName="ColorModeContext";function zx(){const e=M.useContext(G8);if(e===void 0)throw new Error("useColorMode must be used within a ColorModeProvider");return e}function zs(e,t){const{colorMode:n}=zx();return n==="dark"?t:e}var $w={light:"chakra-ui-light",dark:"chakra-ui-dark"};function SGe(e={}){const{preventTransition:t=!0}=e,n={setDataset:r=>{const i=t?n.preventTransition():void 0;document.documentElement.dataset.theme=r,document.documentElement.style.colorScheme=r,i==null||i()},setClassName(r){document.body.classList.add(r?$w.dark:$w.light),document.body.classList.remove(r?$w.light:$w.dark)},query(){return window.matchMedia("(prefers-color-scheme: dark)")},getSystemTheme(r){var i;return((i=n.query().matches)!=null?i:r==="dark")?"dark":"light"},addListener(r){const i=n.query(),o=s=>{r(s.matches?"dark":"light")};return typeof i.addListener=="function"?i.addListener(o):i.addEventListener("change",o),()=>{typeof i.removeListener=="function"?i.removeListener(o):i.removeEventListener("change",o)}},preventTransition(){const r=document.createElement("style");return r.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(r),()=>{window.getComputedStyle(document.body),requestAnimationFrame(()=>{requestAnimationFrame(()=>{document.head.removeChild(r)})})}}};return n}var CGe="chakra-ui-color-mode";function EGe(e){return{ssr:!1,type:"localStorage",get(t){if(!(globalThis!=null&&globalThis.document))return t;let n;try{n=localStorage.getItem(e)||t}catch{}return n||t},set(t){try{localStorage.setItem(e,t)}catch{}}}}var kGe=EGe(CGe),qH=()=>{};function GH(e,t){return e.type==="cookie"&&e.ssr?e.get(t):t}function Wce(e){const{value:t,children:n,options:{useSystemColorMode:r,initialColorMode:i,disableTransitionOnChange:o}={},colorModeManager:s=kGe}=e,a=i==="dark"?"dark":"light",[l,u]=M.useState(()=>GH(s,a)),[c,f]=M.useState(()=>GH(s)),{getSystemTheme:d,setClassName:h,setDataset:p,addListener:g}=M.useMemo(()=>SGe({preventTransition:o}),[o]),m=i==="system"&&!l?c:l,y=M.useCallback(x=>{const w=x==="system"?d():x;u(w),h(w==="dark"),p(w),s.set(w)},[s,d,h,p]);e0(()=>{i==="system"&&f(d())},[]),M.useEffect(()=>{const x=s.get();if(x){y(x);return}if(i==="system"){y("system");return}y(a)},[s,a,i,y]);const v=M.useCallback(()=>{y(m==="dark"?"light":"dark")},[m,y]);M.useEffect(()=>{if(r)return g(y)},[r,g,y]);const b=M.useMemo(()=>({colorMode:t??m,toggleColorMode:t?qH:v,setColorMode:t?qH:y,forced:t!==void 0}),[m,v,y,t]);return R.jsx(G8.Provider,{value:b,children:n})}Wce.displayName="ColorModeProvider";function Hce(){const e=zx(),t=gA();return{...e,theme:t}}function _Ge(e,t,n){var r,i;if(t==null)return t;const o=s=>{var a,l;return(l=(a=e.__cssMap)==null?void 0:a[s])==null?void 0:l.value};return(i=(r=o(t))!=null?r:o(n))!=null?i:n}function $Ge(e,t,n){const r=gA();return AGe(e,t,n)(r)}function AGe(e,t,n){const r=Array.isArray(t)?t:[t],i=Array.isArray(n)?n:[n];return o=>{const s=i.filter(Boolean),a=r.map((l,u)=>{var c;const f=`${e}.${l}`;return _Ge(o,f,(c=s[u])!=null?c:l)});return Array.isArray(t)?a:a[0]}}var Lt=(...e)=>e.filter(Boolean).join(" ");function oo(e){const t=typeof e;return e!=null&&(t==="object"||t==="function")&&!Array.isArray(e)}function ol(e,...t){return TGe(e)?e(...t):e}var TGe=e=>typeof e=="function",rs=e=>e?"":void 0,K3=e=>e?!0:void 0;function yb(...e){return function(n){e.some(r=>(r==null||r(n),n==null?void 0:n.defaultPrevented))}}var ik={exports:{}};ik.exports;(function(e,t){var n=200,r="__lodash_hash_undefined__",i=800,o=16,s=9007199254740991,a="[object Arguments]",l="[object Array]",u="[object AsyncFunction]",c="[object Boolean]",f="[object Date]",d="[object Error]",h="[object Function]",p="[object GeneratorFunction]",g="[object Map]",m="[object Number]",y="[object Null]",v="[object Object]",b="[object Proxy]",x="[object RegExp]",w="[object Set]",E="[object String]",S="[object Undefined]",k="[object WeakMap]",$="[object ArrayBuffer]",F="[object DataView]",P="[object Float32Array]",j="[object Float64Array]",D="[object Int8Array]",L="[object Int16Array]",A="[object Int32Array]",O="[object Uint8Array]",B="[object Uint8ClampedArray]",z="[object Uint16Array]",U="[object Uint32Array]",X=/[\\^$.*+?()[\]{}|]/g,K=/^\[object .+?Constructor\]$/,pe=/^(?:0|[1-9]\d*)$/,oe={};oe[P]=oe[j]=oe[D]=oe[L]=oe[A]=oe[O]=oe[B]=oe[z]=oe[U]=!0,oe[a]=oe[l]=oe[$]=oe[c]=oe[F]=oe[f]=oe[d]=oe[h]=oe[g]=oe[m]=oe[v]=oe[x]=oe[w]=oe[E]=oe[k]=!1;var _e=typeof Qi=="object"&&Qi&&Qi.Object===Object&&Qi,Je=typeof self=="object"&&self&&self.Object===Object&&self,xt=_e||Je||Function("return this")(),Dn=t&&!t.nodeType&&t,cr=Dn&&!0&&e&&!e.nodeType&&e,be=cr&&cr.exports===Dn,Ne=be&&_e.process,Ue=function(){try{var N=cr&&cr.require&&cr.require("util").types;return N||Ne&&Ne.binding&&Ne.binding("util")}catch{}}(),ae=Ue&&Ue.isTypedArray;function Mn(N,V,Y){switch(Y.length){case 0:return N.call(V);case 1:return N.call(V,Y[0]);case 2:return N.call(V,Y[0],Y[1]);case 3:return N.call(V,Y[0],Y[1],Y[2])}return N.apply(V,Y)}function vt(N,V){for(var Y=-1,ke=Array(N);++Y<N;)ke[Y]=V(Y);return ke}function Yn(N){return function(V){return N(V)}}function cn(N,V){return N==null?void 0:N[V]}function Br(N,V){return function(Y){return N(V(Y))}}var Yu=Array.prototype,Yx=Function.prototype,vp=Object.prototype,X0=xt["__core-js_shared__"],bp=Yx.toString,zl=vp.hasOwnProperty,xp=function(){var N=/[^.]+$/.exec(X0&&X0.keys&&X0.keys.IE_PROTO||"");return N?"Symbol(src)_1."+N:""}(),WA=vp.toString,wp=bp.call(Object),Y0=RegExp("^"+bp.call(zl).replace(X,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Kf=be?xt.Buffer:void 0,K0=xt.Symbol,HA=xt.Uint8Array;Kf&&Kf.allocUnsafe;var Kx=Br(Object.getPrototypeOf,Object),Qf=Object.create,Qx=vp.propertyIsEnumerable,Sp=Yu.splice,Ra=K0?K0.toStringTag:void 0,Jf=function(){try{var N=J0(Object,"defineProperty");return N({},"",{}),N}catch{}}(),qA=Kf?Kf.isBuffer:void 0,Bl=Math.max,Z9=Date.now,Cp=J0(xt,"Map"),Ku=J0(Object,"create"),e7=function(){function N(){}return function(V){if(!Vi(V))return{};if(Qf)return Qf(V);N.prototype=V;var Y=new N;return N.prototype=void 0,Y}}();function Ui(N){var V=-1,Y=N==null?0:N.length;for(this.clear();++V<Y;){var ke=N[V];this.set(ke[0],ke[1])}}function GA(){this.__data__=Ku?Ku(null):{},this.size=0}function t7(N){var V=this.has(N)&&delete this.__data__[N];return this.size-=V?1:0,V}function XA(N){var V=this.__data__;if(Ku){var Y=V[N];return Y===r?void 0:Y}return zl.call(V,N)?V[N]:void 0}function YA(N){var V=this.__data__;return Ku?V[N]!==void 0:zl.call(V,N)}function n7(N,V){var Y=this.__data__;return this.size+=this.has(N)?0:1,Y[N]=Ku&&V===void 0?r:V,this}Ui.prototype.clear=GA,Ui.prototype.delete=t7,Ui.prototype.get=XA,Ui.prototype.has=YA,Ui.prototype.set=n7;function Ps(N){var V=-1,Y=N==null?0:N.length;for(this.clear();++V<Y;){var ke=N[V];this.set(ke[0],ke[1])}}function KA(){this.__data__=[],this.size=0}function r7(N){var V=this.__data__,Y=Zu(V,N);if(Y<0)return!1;var ke=V.length-1;return Y==ke?V.pop():Sp.call(V,Y,1),--this.size,!0}function QA(N){var V=this.__data__,Y=Zu(V,N);return Y<0?void 0:V[Y][1]}function JA(N){return Zu(this.__data__,N)>-1}function i7(N,V){var Y=this.__data__,ke=Zu(Y,N);return ke<0?(++this.size,Y.push([N,V])):Y[ke][1]=V,this}Ps.prototype.clear=KA,Ps.prototype.delete=r7,Ps.prototype.get=QA,Ps.prototype.has=JA,Ps.prototype.set=i7;function Qu(N){var V=-1,Y=N==null?0:N.length;for(this.clear();++V<Y;){var ke=N[V];this.set(ke[0],ke[1])}}function ZA(){this.size=0,this.__data__={hash:new Ui,map:new(Cp||Ps),string:new Ui}}function o7(N){var V=tc(this,N).delete(N);return this.size-=V?1:0,V}function e5(N){return tc(this,N).get(N)}function t5(N){return tc(this,N).has(N)}function s7(N,V){var Y=tc(this,N),ke=Y.size;return Y.set(N,V),this.size+=Y.size==ke?0:1,this}Qu.prototype.clear=ZA,Qu.prototype.delete=o7,Qu.prototype.get=e5,Qu.prototype.has=t5,Qu.prototype.set=s7;function Ju(N){var V=this.__data__=new Ps(N);this.size=V.size}function n5(){this.__data__=new Ps,this.size=0}function r5(N){var V=this.__data__,Y=V.delete(N);return this.size=V.size,Y}function i5(N){return this.__data__.get(N)}function o5(N){return this.__data__.has(N)}function s5(N,V){var Y=this.__data__;if(Y instanceof Ps){var ke=Y.__data__;if(!Cp||ke.length<n-1)return ke.push([N,V]),this.size=++Y.size,this;Y=this.__data__=new Qu(ke)}return Y.set(N,V),this.size=Y.size,this}Ju.prototype.clear=n5,Ju.prototype.delete=r5,Ju.prototype.get=i5,Ju.prototype.has=o5,Ju.prototype.set=s5;function a5(N,V){var Y=ny(N),ke=!Y&&ty(N),st=!Y&&!ke&&r2(N),It=!Y&&!ke&&!st&&Fa(N),Xt=Y||ke||st||It,mt=Xt?vt(N.length,String):[],Zt=mt.length;for(var Kn in N)Xt&&(Kn=="length"||st&&(Kn=="offset"||Kn=="parent")||It&&(Kn=="buffer"||Kn=="byteLength"||Kn=="byteOffset")||Z0(Kn,Zt))||mt.push(Kn);return mt}function Jx(N,V,Y){(Y!==void 0&&!kp(N[V],Y)||Y===void 0&&!(V in N))&&Ep(N,V,Y)}function l5(N,V,Y){var ke=N[V];(!(zl.call(N,V)&&kp(ke,Y))||Y===void 0&&!(V in N))&&Ep(N,V,Y)}function Zu(N,V){for(var Y=N.length;Y--;)if(kp(N[Y][0],V))return Y;return-1}function Ep(N,V,Y){V=="__proto__"&&Jf?Jf(N,V,{configurable:!0,enumerable:!0,value:Y,writable:!0}):N[V]=Y}var u5=v5();function ec(N){return N==null?N===void 0?S:y:Ra&&Ra in Object(N)?Zf(N):E5(N)}function Q0(N){return nc(N)&&ec(N)==a}function Zx(N){if(!Vi(N)||S5(N))return!1;var V=iy(N)?Y0:K;return V.test(A5(N))}function c5(N){return nc(N)&&i2(N.length)&&!!oe[ec(N)]}function a7(N){if(!Vi(N))return C5(N);var V=n2(N),Y=[];for(var ke in N)ke=="constructor"&&(V||!zl.call(N,ke))||Y.push(ke);return Y}function e2(N,V,Y,ke,st){N!==V&&u5(V,function(It,Xt){if(st||(st=new Ju),Vi(It))t2(N,V,Xt,Y,e2,ke,st);else{var mt=ke?ke(ey(N,Xt),It,Xt+"",N,V,st):void 0;mt===void 0&&(mt=It),Jx(N,Xt,mt)}},Oa)}function t2(N,V,Y,ke,st,It,Xt){var mt=ey(N,Y),Zt=ey(V,Y),Kn=Xt.get(Zt);if(Kn){Jx(N,Y,Kn);return}var Cr=It?It(mt,Zt,Y+"",N,V,Xt):void 0,rc=Cr===void 0;if(rc){var _p=ny(Zt),Ul=!_p&&r2(Zt),a2=!_p&&!Ul&&Fa(Zt);Cr=Zt,_p||Ul||a2?ny(mt)?Cr=mt:T5(mt)?Cr=jl(mt):Ul?(rc=!1,Cr=h5(Zt)):a2?(rc=!1,Cr=g5(Zt)):Cr=[]:R5(Zt)||ty(Zt)?(Cr=mt,ty(mt)?Cr=F5(mt):(!Vi(mt)||iy(mt))&&(Cr=b5(Zt))):rc=!1}rc&&(Xt.set(Zt,Cr),st(Cr,Zt,ke,It,Xt),Xt.delete(Zt)),Jx(N,Y,Cr)}function f5(N,V){return _5(k5(N,V,o2),N+"")}var d5=Jf?function(N,V){return Jf(N,"toString",{configurable:!0,enumerable:!1,value:O5(V),writable:!0})}:o2;function h5(N,V){return N.slice()}function p5(N){var V=new N.constructor(N.byteLength);return new HA(V).set(new HA(N)),V}function g5(N,V){var Y=p5(N.buffer);return new N.constructor(Y,N.byteOffset,N.length)}function jl(N,V){var Y=-1,ke=N.length;for(V||(V=Array(ke));++Y<ke;)V[Y]=N[Y];return V}function m5(N,V,Y,ke){var st=!Y;Y||(Y={});for(var It=-1,Xt=V.length;++It<Xt;){var mt=V[It],Zt=void 0;Zt===void 0&&(Zt=N[mt]),st?Ep(Y,mt,Zt):l5(Y,mt,Zt)}return Y}function y5(N){return f5(function(V,Y){var ke=-1,st=Y.length,It=st>1?Y[st-1]:void 0,Xt=st>2?Y[2]:void 0;for(It=N.length>3&&typeof It=="function"?(st--,It):void 0,Xt&&x5(Y[0],Y[1],Xt)&&(It=st<3?void 0:It,st=1),V=Object(V);++ke<st;){var mt=Y[ke];mt&&N(V,mt,ke,It)}return V})}function v5(N){return function(V,Y,ke){for(var st=-1,It=Object(V),Xt=ke(V),mt=Xt.length;mt--;){var Zt=Xt[++st];if(Y(It[Zt],Zt,It)===!1)break}return V}}function tc(N,V){var Y=N.__data__;return w5(V)?Y[typeof V=="string"?"string":"hash"]:Y.map}function J0(N,V){var Y=cn(N,V);return Zx(Y)?Y:void 0}function Zf(N){var V=zl.call(N,Ra),Y=N[Ra];try{N[Ra]=void 0;var ke=!0}catch{}var st=WA.call(N);return ke&&(V?N[Ra]=Y:delete N[Ra]),st}function b5(N){return typeof N.constructor=="function"&&!n2(N)?e7(Kx(N)):{}}function Z0(N,V){var Y=typeof N;return V=V??s,!!V&&(Y=="number"||Y!="symbol"&&pe.test(N))&&N>-1&&N%1==0&&N<V}function x5(N,V,Y){if(!Vi(Y))return!1;var ke=typeof V;return(ke=="number"?ry(Y)&&Z0(V,Y.length):ke=="string"&&V in Y)?kp(Y[V],N):!1}function w5(N){var V=typeof N;return V=="string"||V=="number"||V=="symbol"||V=="boolean"?N!=="__proto__":N===null}function S5(N){return!!xp&&xp in N}function n2(N){var V=N&&N.constructor,Y=typeof V=="function"&&V.prototype||vp;return N===Y}function C5(N){var V=[];if(N!=null)for(var Y in Object(N))V.push(Y);return V}function E5(N){return WA.call(N)}function k5(N,V,Y){return V=Bl(V===void 0?N.length-1:V,0),function(){for(var ke=arguments,st=-1,It=Bl(ke.length-V,0),Xt=Array(It);++st<It;)Xt[st]=ke[V+st];st=-1;for(var mt=Array(V+1);++st<V;)mt[st]=ke[st];return mt[V]=Y(Xt),Mn(N,this,mt)}}function ey(N,V){if(!(V==="constructor"&&typeof N[V]=="function")&&V!="__proto__")return N[V]}var _5=$5(d5);function $5(N){var V=0,Y=0;return function(){var ke=Z9(),st=o-(ke-Y);if(Y=ke,st>0){if(++V>=i)return arguments[0]}else V=0;return N.apply(void 0,arguments)}}function A5(N){if(N!=null){try{return bp.call(N)}catch{}try{return N+""}catch{}}return""}function kp(N,V){return N===V||N!==N&&V!==V}var ty=Q0(function(){return arguments}())?Q0:function(N){return nc(N)&&zl.call(N,"callee")&&!Qx.call(N,"callee")},ny=Array.isArray;function ry(N){return N!=null&&i2(N.length)&&!iy(N)}function T5(N){return nc(N)&&ry(N)}var r2=qA||s2;function iy(N){if(!Vi(N))return!1;var V=ec(N);return V==h||V==p||V==u||V==b}function i2(N){return typeof N=="number"&&N>-1&&N%1==0&&N<=s}function Vi(N){var V=typeof N;return N!=null&&(V=="object"||V=="function")}function nc(N){return N!=null&&typeof N=="object"}function R5(N){if(!nc(N)||ec(N)!=v)return!1;var V=Kx(N);if(V===null)return!0;var Y=zl.call(V,"constructor")&&V.constructor;return typeof Y=="function"&&Y instanceof Y&&bp.call(Y)==wp}var Fa=ae?Yn(ae):c5;function F5(N){return m5(N,Oa(N))}function Oa(N){return ry(N)?a5(N):a7(N)}var oy=y5(function(N,V,Y,ke){e2(N,V,Y,ke)});function O5(N){return function(){return N}}function o2(N){return N}function s2(){return!1}e.exports=oy})(ik,ik.exports);var RGe=ik.exports;const gs=qh(RGe);var FGe=e=>/!(important)?$/.test(e),XH=e=>typeof e=="string"?e.replace(/!(important)?$/,"").trim():e,OGe=(e,t)=>n=>{const r=String(t),i=FGe(r),o=XH(r),s=e?`${e}.${o}`:o;let a=oo(n.__cssMap)&&s in n.__cssMap?n.__cssMap[s].varRef:t;return a=XH(a),i?`${a} !important`:a};function X8(e){const{scale:t,transform:n,compose:r}=e;return(o,s)=>{var a;const l=OGe(t,o)(s);let u=(a=n==null?void 0:n(l,s))!=null?a:l;return r&&(u=r(u,s)),u}}var Aw=(...e)=>t=>e.reduce((n,r)=>r(n),t);function Qo(e,t){return n=>{const r={property:n,scale:e};return r.transform=X8({scale:e,transform:t}),r}}var PGe=({rtl:e,ltr:t})=>n=>n.direction==="rtl"?e:t;function DGe(e){const{property:t,scale:n,transform:r}=e;return{scale:n,property:PGe(t),transform:n?X8({scale:n,compose:r}):r}}var qce=["rotate(var(--chakra-rotate, 0))","scaleX(var(--chakra-scale-x, 1))","scaleY(var(--chakra-scale-y, 1))","skewX(var(--chakra-skew-x, 0))","skewY(var(--chakra-skew-y, 0))"];function MGe(){return["translateX(var(--chakra-translate-x, 0))","translateY(var(--chakra-translate-y, 0))",...qce].join(" ")}function NGe(){return["translate3d(var(--chakra-translate-x, 0), var(--chakra-translate-y, 0), 0)",...qce].join(" ")}var LGe={"--chakra-blur":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-brightness":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-contrast":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-grayscale":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-hue-rotate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-invert":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-saturate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-sepia":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-drop-shadow":"var(--chakra-empty,/*!*/ /*!*/)",filter:["var(--chakra-blur)","var(--chakra-brightness)","var(--chakra-contrast)","var(--chakra-grayscale)","var(--chakra-hue-rotate)","var(--chakra-invert)","var(--chakra-saturate)","var(--chakra-sepia)","var(--chakra-drop-shadow)"].join(" ")},IGe={backdropFilter:["var(--chakra-backdrop-blur)","var(--chakra-backdrop-brightness)","var(--chakra-backdrop-contrast)","var(--chakra-backdrop-grayscale)","var(--chakra-backdrop-hue-rotate)","var(--chakra-backdrop-invert)","var(--chakra-backdrop-opacity)","var(--chakra-backdrop-saturate)","var(--chakra-backdrop-sepia)"].join(" "),"--chakra-backdrop-blur":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-brightness":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-contrast":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-grayscale":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-hue-rotate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-invert":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-opacity":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-saturate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-sepia":"var(--chakra-empty,/*!*/ /*!*/)"};function zGe(e){return{"--chakra-ring-offset-shadow":"var(--chakra-ring-inset) 0 0 0 var(--chakra-ring-offset-width) var(--chakra-ring-offset-color)","--chakra-ring-shadow":"var(--chakra-ring-inset) 0 0 0 calc(var(--chakra-ring-width) + var(--chakra-ring-offset-width)) var(--chakra-ring-color)","--chakra-ring-width":e,boxShadow:["var(--chakra-ring-offset-shadow)","var(--chakra-ring-shadow)","var(--chakra-shadow, 0 0 #0000)"].join(", ")}}var BGe={"row-reverse":{space:"--chakra-space-x-reverse",divide:"--chakra-divide-x-reverse"},"column-reverse":{space:"--chakra-space-y-reverse",divide:"--chakra-divide-y-reverse"}},rP={"to-t":"to top","to-tr":"to top right","to-r":"to right","to-br":"to bottom right","to-b":"to bottom","to-bl":"to bottom left","to-l":"to left","to-tl":"to top left"},jGe=new Set(Object.values(rP)),iP=new Set(["none","-moz-initial","inherit","initial","revert","unset"]),UGe=e=>e.trim();function VGe(e,t){if(e==null||iP.has(e))return e;if(!(oP(e)||iP.has(e)))return`url('${e}')`;const i=/(^[a-z-A-Z]+)\((.*)\)/g.exec(e),o=i==null?void 0:i[1],s=i==null?void 0:i[2];if(!o||!s)return e;const a=o.includes("-gradient")?o:`${o}-gradient`,[l,...u]=s.split(",").map(UGe).filter(Boolean);if((u==null?void 0:u.length)===0)return e;const c=l in rP?rP[l]:l;u.unshift(c);const f=u.map(d=>{if(jGe.has(d))return d;const h=d.indexOf(" "),[p,g]=h!==-1?[d.substr(0,h),d.substr(h+1)]:[d],m=oP(g)?g:g&&g.split(" "),y=`colors.${p}`,v=y in t.__cssMap?t.__cssMap[y].varRef:p;return m?[v,...Array.isArray(m)?m:[m]].join(" "):v});return`${a}(${f.join(", ")})`}var oP=e=>typeof e=="string"&&e.includes("(")&&e.includes(")"),WGe=(e,t)=>VGe(e,t??{});function HGe(e){return/^var\(--.+\)$/.test(e)}var qGe=e=>{const t=parseFloat(e.toString()),n=e.toString().replace(String(t),"");return{unitless:!n,value:t,unit:n}},Na=e=>t=>`${e}(${t})`,ht={filter(e){return e!=="auto"?e:LGe},backdropFilter(e){return e!=="auto"?e:IGe},ring(e){return zGe(ht.px(e))},bgClip(e){return e==="text"?{color:"transparent",backgroundClip:"text"}:{backgroundClip:e}},transform(e){return e==="auto"?MGe():e==="auto-gpu"?NGe():e},vh(e){return e==="$100vh"?"var(--chakra-vh)":e},px(e){if(e==null)return e;const{unitless:t}=qGe(e);return t||typeof e=="number"?`${e}px`:e},fraction(e){return typeof e!="number"||e>1?e:`${e*100}%`},float(e,t){const n={left:"right",right:"left"};return t.direction==="rtl"?n[e]:e},degree(e){if(HGe(e)||e==null)return e;const t=typeof e=="string"&&!e.endsWith("deg");return typeof e=="number"||t?`${e}deg`:e},gradient:WGe,blur:Na("blur"),opacity:Na("opacity"),brightness:Na("brightness"),contrast:Na("contrast"),dropShadow:Na("drop-shadow"),grayscale:Na("grayscale"),hueRotate:e=>Na("hue-rotate")(ht.degree(e)),invert:Na("invert"),saturate:Na("saturate"),sepia:Na("sepia"),bgImage(e){return e==null||oP(e)||iP.has(e)?e:`url(${e})`},outline(e){const t=String(e)==="0"||String(e)==="none";return e!==null&&t?{outline:"2px solid transparent",outlineOffset:"2px"}:{outline:e}},flexDirection(e){var t;const{space:n,divide:r}=(t=BGe[e])!=null?t:{},i={flexDirection:e};return n&&(i[n]=1),r&&(i[r]=1),i}},W={borderWidths:Qo("borderWidths"),borderStyles:Qo("borderStyles"),colors:Qo("colors"),borders:Qo("borders"),gradients:Qo("gradients",ht.gradient),radii:Qo("radii",ht.px),space:Qo("space",Aw(ht.vh,ht.px)),spaceT:Qo("space",Aw(ht.vh,ht.px)),degreeT(e){return{property:e,transform:ht.degree}},prop(e,t,n){return{property:e,scale:t,...t&&{transform:X8({scale:t,transform:n})}}},propT(e,t){return{property:e,transform:t}},sizes:Qo("sizes",Aw(ht.vh,ht.px)),sizesT:Qo("sizes",Aw(ht.vh,ht.fraction)),shadows:Qo("shadows"),logical:DGe,blur:Qo("blur",ht.blur)},FS={background:W.colors("background"),backgroundColor:W.colors("backgroundColor"),backgroundImage:W.gradients("backgroundImage"),backgroundSize:!0,backgroundPosition:!0,backgroundRepeat:!0,backgroundAttachment:!0,backgroundClip:{transform:ht.bgClip},bgSize:W.prop("backgroundSize"),bgPosition:W.prop("backgroundPosition"),bg:W.colors("background"),bgColor:W.colors("backgroundColor"),bgPos:W.prop("backgroundPosition"),bgRepeat:W.prop("backgroundRepeat"),bgAttachment:W.prop("backgroundAttachment"),bgGradient:W.gradients("backgroundImage"),bgClip:{transform:ht.bgClip}};Object.assign(FS,{bgImage:FS.backgroundImage,bgImg:FS.backgroundImage});var $t={border:W.borders("border"),borderWidth:W.borderWidths("borderWidth"),borderStyle:W.borderStyles("borderStyle"),borderColor:W.colors("borderColor"),borderRadius:W.radii("borderRadius"),borderTop:W.borders("borderTop"),borderBlockStart:W.borders("borderBlockStart"),borderTopLeftRadius:W.radii("borderTopLeftRadius"),borderStartStartRadius:W.logical({scale:"radii",property:{ltr:"borderTopLeftRadius",rtl:"borderTopRightRadius"}}),borderEndStartRadius:W.logical({scale:"radii",property:{ltr:"borderBottomLeftRadius",rtl:"borderBottomRightRadius"}}),borderTopRightRadius:W.radii("borderTopRightRadius"),borderStartEndRadius:W.logical({scale:"radii",property:{ltr:"borderTopRightRadius",rtl:"borderTopLeftRadius"}}),borderEndEndRadius:W.logical({scale:"radii",property:{ltr:"borderBottomRightRadius",rtl:"borderBottomLeftRadius"}}),borderRight:W.borders("borderRight"),borderInlineEnd:W.borders("borderInlineEnd"),borderBottom:W.borders("borderBottom"),borderBlockEnd:W.borders("borderBlockEnd"),borderBottomLeftRadius:W.radii("borderBottomLeftRadius"),borderBottomRightRadius:W.radii("borderBottomRightRadius"),borderLeft:W.borders("borderLeft"),borderInlineStart:{property:"borderInlineStart",scale:"borders"},borderInlineStartRadius:W.logical({scale:"radii",property:{ltr:["borderTopLeftRadius","borderBottomLeftRadius"],rtl:["borderTopRightRadius","borderBottomRightRadius"]}}),borderInlineEndRadius:W.logical({scale:"radii",property:{ltr:["borderTopRightRadius","borderBottomRightRadius"],rtl:["borderTopLeftRadius","borderBottomLeftRadius"]}}),borderX:W.borders(["borderLeft","borderRight"]),borderInline:W.borders("borderInline"),borderY:W.borders(["borderTop","borderBottom"]),borderBlock:W.borders("borderBlock"),borderTopWidth:W.borderWidths("borderTopWidth"),borderBlockStartWidth:W.borderWidths("borderBlockStartWidth"),borderTopColor:W.colors("borderTopColor"),borderBlockStartColor:W.colors("borderBlockStartColor"),borderTopStyle:W.borderStyles("borderTopStyle"),borderBlockStartStyle:W.borderStyles("borderBlockStartStyle"),borderBottomWidth:W.borderWidths("borderBottomWidth"),borderBlockEndWidth:W.borderWidths("borderBlockEndWidth"),borderBottomColor:W.colors("borderBottomColor"),borderBlockEndColor:W.colors("borderBlockEndColor"),borderBottomStyle:W.borderStyles("borderBottomStyle"),borderBlockEndStyle:W.borderStyles("borderBlockEndStyle"),borderLeftWidth:W.borderWidths("borderLeftWidth"),borderInlineStartWidth:W.borderWidths("borderInlineStartWidth"),borderLeftColor:W.colors("borderLeftColor"),borderInlineStartColor:W.colors("borderInlineStartColor"),borderLeftStyle:W.borderStyles("borderLeftStyle"),borderInlineStartStyle:W.borderStyles("borderInlineStartStyle"),borderRightWidth:W.borderWidths("borderRightWidth"),borderInlineEndWidth:W.borderWidths("borderInlineEndWidth"),borderRightColor:W.colors("borderRightColor"),borderInlineEndColor:W.colors("borderInlineEndColor"),borderRightStyle:W.borderStyles("borderRightStyle"),borderInlineEndStyle:W.borderStyles("borderInlineEndStyle"),borderTopRadius:W.radii(["borderTopLeftRadius","borderTopRightRadius"]),borderBottomRadius:W.radii(["borderBottomLeftRadius","borderBottomRightRadius"]),borderLeftRadius:W.radii(["borderTopLeftRadius","borderBottomLeftRadius"]),borderRightRadius:W.radii(["borderTopRightRadius","borderBottomRightRadius"])};Object.assign($t,{rounded:$t.borderRadius,roundedTop:$t.borderTopRadius,roundedTopLeft:$t.borderTopLeftRadius,roundedTopRight:$t.borderTopRightRadius,roundedTopStart:$t.borderStartStartRadius,roundedTopEnd:$t.borderStartEndRadius,roundedBottom:$t.borderBottomRadius,roundedBottomLeft:$t.borderBottomLeftRadius,roundedBottomRight:$t.borderBottomRightRadius,roundedBottomStart:$t.borderEndStartRadius,roundedBottomEnd:$t.borderEndEndRadius,roundedLeft:$t.borderLeftRadius,roundedRight:$t.borderRightRadius,roundedStart:$t.borderInlineStartRadius,roundedEnd:$t.borderInlineEndRadius,borderStart:$t.borderInlineStart,borderEnd:$t.borderInlineEnd,borderTopStartRadius:$t.borderStartStartRadius,borderTopEndRadius:$t.borderStartEndRadius,borderBottomStartRadius:$t.borderEndStartRadius,borderBottomEndRadius:$t.borderEndEndRadius,borderStartRadius:$t.borderInlineStartRadius,borderEndRadius:$t.borderInlineEndRadius,borderStartWidth:$t.borderInlineStartWidth,borderEndWidth:$t.borderInlineEndWidth,borderStartColor:$t.borderInlineStartColor,borderEndColor:$t.borderInlineEndColor,borderStartStyle:$t.borderInlineStartStyle,borderEndStyle:$t.borderInlineEndStyle});var GGe={color:W.colors("color"),textColor:W.colors("color"),fill:W.colors("fill"),stroke:W.colors("stroke")},sP={boxShadow:W.shadows("boxShadow"),mixBlendMode:!0,blendMode:W.prop("mixBlendMode"),backgroundBlendMode:!0,bgBlendMode:W.prop("backgroundBlendMode"),opacity:!0};Object.assign(sP,{shadow:sP.boxShadow});var XGe={filter:{transform:ht.filter},blur:W.blur("--chakra-blur"),brightness:W.propT("--chakra-brightness",ht.brightness),contrast:W.propT("--chakra-contrast",ht.contrast),hueRotate:W.propT("--chakra-hue-rotate",ht.hueRotate),invert:W.propT("--chakra-invert",ht.invert),saturate:W.propT("--chakra-saturate",ht.saturate),dropShadow:W.propT("--chakra-drop-shadow",ht.dropShadow),backdropFilter:{transform:ht.backdropFilter},backdropBlur:W.blur("--chakra-backdrop-blur"),backdropBrightness:W.propT("--chakra-backdrop-brightness",ht.brightness),backdropContrast:W.propT("--chakra-backdrop-contrast",ht.contrast),backdropHueRotate:W.propT("--chakra-backdrop-hue-rotate",ht.hueRotate),backdropInvert:W.propT("--chakra-backdrop-invert",ht.invert),backdropSaturate:W.propT("--chakra-backdrop-saturate",ht.saturate)},ok={alignItems:!0,alignContent:!0,justifyItems:!0,justifyContent:!0,flexWrap:!0,flexDirection:{transform:ht.flexDirection},flex:!0,flexFlow:!0,flexGrow:!0,flexShrink:!0,flexBasis:W.sizes("flexBasis"),justifySelf:!0,alignSelf:!0,order:!0,placeItems:!0,placeContent:!0,placeSelf:!0,gap:W.space("gap"),rowGap:W.space("rowGap"),columnGap:W.space("columnGap")};Object.assign(ok,{flexDir:ok.flexDirection});var Gce={gridGap:W.space("gridGap"),gridColumnGap:W.space("gridColumnGap"),gridRowGap:W.space("gridRowGap"),gridColumn:!0,gridRow:!0,gridAutoFlow:!0,gridAutoColumns:!0,gridColumnStart:!0,gridColumnEnd:!0,gridRowStart:!0,gridRowEnd:!0,gridAutoRows:!0,gridTemplate:!0,gridTemplateColumns:!0,gridTemplateRows:!0,gridTemplateAreas:!0,gridArea:!0},YGe={appearance:!0,cursor:!0,resize:!0,userSelect:!0,pointerEvents:!0,outline:{transform:ht.outline},outlineOffset:!0,outlineColor:W.colors("outlineColor")},Zo={width:W.sizesT("width"),inlineSize:W.sizesT("inlineSize"),height:W.sizes("height"),blockSize:W.sizes("blockSize"),boxSize:W.sizes(["width","height"]),minWidth:W.sizes("minWidth"),minInlineSize:W.sizes("minInlineSize"),minHeight:W.sizes("minHeight"),minBlockSize:W.sizes("minBlockSize"),maxWidth:W.sizes("maxWidth"),maxInlineSize:W.sizes("maxInlineSize"),maxHeight:W.sizes("maxHeight"),maxBlockSize:W.sizes("maxBlockSize"),overflow:!0,overflowX:!0,overflowY:!0,overscrollBehavior:!0,overscrollBehaviorX:!0,overscrollBehaviorY:!0,display:!0,aspectRatio:!0,hideFrom:{scale:"breakpoints",transform:(e,t)=>{var n,r,i;return{[`@media screen and (min-width: ${(i=(r=(n=t.__breakpoints)==null?void 0:n.get(e))==null?void 0:r.minW)!=null?i:e})`]:{display:"none"}}}},hideBelow:{scale:"breakpoints",transform:(e,t)=>{var n,r,i;return{[`@media screen and (max-width: ${(i=(r=(n=t.__breakpoints)==null?void 0:n.get(e))==null?void 0:r._minW)!=null?i:e})`]:{display:"none"}}}},verticalAlign:!0,boxSizing:!0,boxDecorationBreak:!0,float:W.propT("float",ht.float),objectFit:!0,objectPosition:!0,visibility:!0,isolation:!0};Object.assign(Zo,{w:Zo.width,h:Zo.height,minW:Zo.minWidth,maxW:Zo.maxWidth,minH:Zo.minHeight,maxH:Zo.maxHeight,overscroll:Zo.overscrollBehavior,overscrollX:Zo.overscrollBehaviorX,overscrollY:Zo.overscrollBehaviorY});var KGe={listStyleType:!0,listStylePosition:!0,listStylePos:W.prop("listStylePosition"),listStyleImage:!0,listStyleImg:W.prop("listStyleImage")};function QGe(e,t,n,r){const i=typeof t=="string"?t.split("."):[t];for(r=0;r<i.length&&e;r+=1)e=e[i[r]];return e===void 0?n:e}var JGe=e=>{const t=new WeakMap;return(r,i,o,s)=>{if(typeof r>"u")return e(r,i,o);t.has(r)||t.set(r,new Map);const a=t.get(r);if(a.has(i))return a.get(i);const l=e(r,i,o,s);return a.set(i,l),l}},ZGe=JGe(QGe),eXe={border:"0px",clip:"rect(0, 0, 0, 0)",width:"1px",height:"1px",margin:"-1px",padding:"0px",overflow:"hidden",whiteSpace:"nowrap",position:"absolute"},tXe={position:"static",width:"auto",height:"auto",clip:"auto",padding:"0",margin:"0",overflow:"visible",whiteSpace:"normal"},Q3=(e,t,n)=>{const r={},i=ZGe(e,t,{});for(const o in i)o in n&&n[o]!=null||(r[o]=i[o]);return r},nXe={srOnly:{transform(e){return e===!0?eXe:e==="focusable"?tXe:{}}},layerStyle:{processResult:!0,transform:(e,t,n)=>Q3(t,`layerStyles.${e}`,n)},textStyle:{processResult:!0,transform:(e,t,n)=>Q3(t,`textStyles.${e}`,n)},apply:{processResult:!0,transform:(e,t,n)=>Q3(t,e,n)}},uv={position:!0,pos:W.prop("position"),zIndex:W.prop("zIndex","zIndices"),inset:W.spaceT("inset"),insetX:W.spaceT(["left","right"]),insetInline:W.spaceT("insetInline"),insetY:W.spaceT(["top","bottom"]),insetBlock:W.spaceT("insetBlock"),top:W.spaceT("top"),insetBlockStart:W.spaceT("insetBlockStart"),bottom:W.spaceT("bottom"),insetBlockEnd:W.spaceT("insetBlockEnd"),left:W.spaceT("left"),insetInlineStart:W.logical({scale:"space",property:{ltr:"left",rtl:"right"}}),right:W.spaceT("right"),insetInlineEnd:W.logical({scale:"space",property:{ltr:"right",rtl:"left"}})};Object.assign(uv,{insetStart:uv.insetInlineStart,insetEnd:uv.insetInlineEnd});var rXe={ring:{transform:ht.ring},ringColor:W.colors("--chakra-ring-color"),ringOffset:W.prop("--chakra-ring-offset-width"),ringOffsetColor:W.colors("--chakra-ring-offset-color"),ringInset:W.prop("--chakra-ring-inset")},sn={margin:W.spaceT("margin"),marginTop:W.spaceT("marginTop"),marginBlockStart:W.spaceT("marginBlockStart"),marginRight:W.spaceT("marginRight"),marginInlineEnd:W.spaceT("marginInlineEnd"),marginBottom:W.spaceT("marginBottom"),marginBlockEnd:W.spaceT("marginBlockEnd"),marginLeft:W.spaceT("marginLeft"),marginInlineStart:W.spaceT("marginInlineStart"),marginX:W.spaceT(["marginInlineStart","marginInlineEnd"]),marginInline:W.spaceT("marginInline"),marginY:W.spaceT(["marginTop","marginBottom"]),marginBlock:W.spaceT("marginBlock"),padding:W.space("padding"),paddingTop:W.space("paddingTop"),paddingBlockStart:W.space("paddingBlockStart"),paddingRight:W.space("paddingRight"),paddingBottom:W.space("paddingBottom"),paddingBlockEnd:W.space("paddingBlockEnd"),paddingLeft:W.space("paddingLeft"),paddingInlineStart:W.space("paddingInlineStart"),paddingInlineEnd:W.space("paddingInlineEnd"),paddingX:W.space(["paddingInlineStart","paddingInlineEnd"]),paddingInline:W.space("paddingInline"),paddingY:W.space(["paddingTop","paddingBottom"]),paddingBlock:W.space("paddingBlock")};Object.assign(sn,{m:sn.margin,mt:sn.marginTop,mr:sn.marginRight,me:sn.marginInlineEnd,marginEnd:sn.marginInlineEnd,mb:sn.marginBottom,ml:sn.marginLeft,ms:sn.marginInlineStart,marginStart:sn.marginInlineStart,mx:sn.marginX,my:sn.marginY,p:sn.padding,pt:sn.paddingTop,py:sn.paddingY,px:sn.paddingX,pb:sn.paddingBottom,pl:sn.paddingLeft,ps:sn.paddingInlineStart,paddingStart:sn.paddingInlineStart,pr:sn.paddingRight,pe:sn.paddingInlineEnd,paddingEnd:sn.paddingInlineEnd});var iXe={textDecorationColor:W.colors("textDecorationColor"),textDecoration:!0,textDecor:{property:"textDecoration"},textDecorationLine:!0,textDecorationStyle:!0,textDecorationThickness:!0,textUnderlineOffset:!0,textShadow:W.shadows("textShadow")},oXe={clipPath:!0,transform:W.propT("transform",ht.transform),transformOrigin:!0,translateX:W.spaceT("--chakra-translate-x"),translateY:W.spaceT("--chakra-translate-y"),skewX:W.degreeT("--chakra-skew-x"),skewY:W.degreeT("--chakra-skew-y"),scaleX:W.prop("--chakra-scale-x"),scaleY:W.prop("--chakra-scale-y"),scale:W.prop(["--chakra-scale-x","--chakra-scale-y"]),rotate:W.degreeT("--chakra-rotate")},sXe={transition:!0,transitionDelay:!0,animation:!0,willChange:!0,transitionDuration:W.prop("transitionDuration","transition.duration"),transitionProperty:W.prop("transitionProperty","transition.property"),transitionTimingFunction:W.prop("transitionTimingFunction","transition.easing")},aXe={fontFamily:W.prop("fontFamily","fonts"),fontSize:W.prop("fontSize","fontSizes",ht.px),fontWeight:W.prop("fontWeight","fontWeights"),lineHeight:W.prop("lineHeight","lineHeights"),letterSpacing:W.prop("letterSpacing","letterSpacings"),textAlign:!0,fontStyle:!0,textIndent:!0,wordBreak:!0,overflowWrap:!0,textOverflow:!0,textTransform:!0,whiteSpace:!0,isTruncated:{transform(e){if(e===!0)return{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}}},noOfLines:{static:{overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitBoxOrient:"vertical",WebkitLineClamp:"var(--chakra-line-clamp)"},property:"--chakra-line-clamp"}},lXe={scrollBehavior:!0,scrollSnapAlign:!0,scrollSnapStop:!0,scrollSnapType:!0,scrollMargin:W.spaceT("scrollMargin"),scrollMarginTop:W.spaceT("scrollMarginTop"),scrollMarginBottom:W.spaceT("scrollMarginBottom"),scrollMarginLeft:W.spaceT("scrollMarginLeft"),scrollMarginRight:W.spaceT("scrollMarginRight"),scrollMarginX:W.spaceT(["scrollMarginLeft","scrollMarginRight"]),scrollMarginY:W.spaceT(["scrollMarginTop","scrollMarginBottom"]),scrollPadding:W.spaceT("scrollPadding"),scrollPaddingTop:W.spaceT("scrollPaddingTop"),scrollPaddingBottom:W.spaceT("scrollPaddingBottom"),scrollPaddingLeft:W.spaceT("scrollPaddingLeft"),scrollPaddingRight:W.spaceT("scrollPaddingRight"),scrollPaddingX:W.spaceT(["scrollPaddingLeft","scrollPaddingRight"]),scrollPaddingY:W.spaceT(["scrollPaddingTop","scrollPaddingBottom"])};function Xce(e){return oo(e)&&e.reference?e.reference:String(e)}var mA=(e,...t)=>t.map(Xce).join(` ${e} `).replace(/calc/g,""),YH=(...e)=>`calc(${mA("+",...e)})`,KH=(...e)=>`calc(${mA("-",...e)})`,aP=(...e)=>`calc(${mA("*",...e)})`,QH=(...e)=>`calc(${mA("/",...e)})`,JH=e=>{const t=Xce(e);return t!=null&&!Number.isNaN(parseFloat(t))?String(t).startsWith("-")?String(t).slice(1):`-${t}`:aP(t,-1)},Od=Object.assign(e=>({add:(...t)=>Od(YH(e,...t)),subtract:(...t)=>Od(KH(e,...t)),multiply:(...t)=>Od(aP(e,...t)),divide:(...t)=>Od(QH(e,...t)),negate:()=>Od(JH(e)),toString:()=>e.toString()}),{add:YH,subtract:KH,multiply:aP,divide:QH,negate:JH});function uXe(e,t="-"){return e.replace(/\s+/g,t)}function cXe(e){const t=uXe(e.toString());return dXe(fXe(t))}function fXe(e){return e.includes("\\.")?e:!Number.isInteger(parseFloat(e.toString()))?e.replace(".","\\."):e}function dXe(e){return e.replace(/[!-,/:-@[-^`{-~]/g,"\\$&")}function hXe(e,t=""){return[t,e].filter(Boolean).join("-")}function pXe(e,t){return`var(${e}${t?`, ${t}`:""})`}function gXe(e,t=""){return cXe(`--${hXe(e,t)}`)}function Ie(e,t,n){const r=gXe(e,n);return{variable:r,reference:pXe(r,t)}}function mXe(e,t){const n={};for(const r of t){if(Array.isArray(r)){const[i,o]=r;n[i]=Ie(`${e}-${i}`,o);continue}n[r]=Ie(`${e}-${r}`)}return n}function yXe(e){const t=e==null?0:e.length;return t?e[t-1]:void 0}function vXe(e){const t=parseFloat(e.toString()),n=e.toString().replace(String(t),"");return{unitless:!n,value:t,unit:n}}function lP(e){if(e==null)return e;const{unitless:t}=vXe(e);return t||typeof e=="number"?`${e}px`:e}var Yce=(e,t)=>parseInt(e[1],10)>parseInt(t[1],10)?1:-1,Y8=e=>Object.fromEntries(Object.entries(e).sort(Yce));function ZH(e){const t=Y8(e);return Object.assign(Object.values(t),t)}function bXe(e){const t=Object.keys(Y8(e));return new Set(t)}function eq(e){var t;if(!e)return e;e=(t=lP(e))!=null?t:e;const n=-.02;return typeof e=="number"?`${e+n}`:e.replace(/(\d+\.?\d*)/u,r=>`${parseFloat(r)+n}`)}function T1(e,t){const n=["@media screen"];return e&&n.push("and",`(min-width: ${lP(e)})`),t&&n.push("and",`(max-width: ${lP(t)})`),n.join(" ")}function xXe(e){var t;if(!e)return null;e.base=(t=e.base)!=null?t:"0px";const n=ZH(e),r=Object.entries(e).sort(Yce).map(([s,a],l,u)=>{var c;let[,f]=(c=u[l+1])!=null?c:[];return f=parseFloat(f)>0?eq(f):void 0,{_minW:eq(a),breakpoint:s,minW:a,maxW:f,maxWQuery:T1(null,f),minWQuery:T1(a),minMaxQuery:T1(a,f)}}),i=bXe(e),o=Array.from(i.values());return{keys:i,normalized:n,isResponsive(s){const a=Object.keys(s);return a.length>0&&a.every(l=>i.has(l))},asObject:Y8(e),asArray:ZH(e),details:r,get(s){return r.find(a=>a.breakpoint===s)},media:[null,...n.map(s=>T1(s)).slice(1)],toArrayValue(s){if(!oo(s))throw new Error("toArrayValue: value must be an object");const a=o.map(l=>{var u;return(u=s[l])!=null?u:null});for(;yXe(a)===null;)a.pop();return a},toObjectValue(s){if(!Array.isArray(s))throw new Error("toObjectValue: value must be an array");return s.reduce((a,l,u)=>{const c=o[u];return c!=null&&l!=null&&(a[c]=l),a},{})}}}var Er={hover:(e,t)=>`${e}:hover ${t}, ${e}[data-hover] ${t}`,focus:(e,t)=>`${e}:focus ${t}, ${e}[data-focus] ${t}`,focusVisible:(e,t)=>`${e}:focus-visible ${t}`,focusWithin:(e,t)=>`${e}:focus-within ${t}`,active:(e,t)=>`${e}:active ${t}, ${e}[data-active] ${t}`,disabled:(e,t)=>`${e}:disabled ${t}, ${e}[data-disabled] ${t}`,invalid:(e,t)=>`${e}:invalid ${t}, ${e}[data-invalid] ${t}`,checked:(e,t)=>`${e}:checked ${t}, ${e}[data-checked] ${t}`,indeterminate:(e,t)=>`${e}:indeterminate ${t}, ${e}[aria-checked=mixed] ${t}, ${e}[data-indeterminate] ${t}`,readOnly:(e,t)=>`${e}:read-only ${t}, ${e}[readonly] ${t}, ${e}[data-read-only] ${t}`,expanded:(e,t)=>`${e}:read-only ${t}, ${e}[aria-expanded=true] ${t}, ${e}[data-expanded] ${t}`,placeholderShown:(e,t)=>`${e}:placeholder-shown ${t}`},ac=e=>Kce(t=>e(t,"&"),"[role=group]","[data-group]",".group"),Gl=e=>Kce(t=>e(t,"~ &"),"[data-peer]",".peer"),Kce=(e,...t)=>t.map(e).join(", "),yA={_hover:"&:hover, &[data-hover]",_active:"&:active, &[data-active]",_focus:"&:focus, &[data-focus]",_highlighted:"&[data-highlighted]",_focusWithin:"&:focus-within",_focusVisible:"&:focus-visible, &[data-focus-visible]",_disabled:"&:disabled, &[disabled], &[aria-disabled=true], &[data-disabled]",_readOnly:"&[aria-readonly=true], &[readonly], &[data-readonly]",_before:"&::before",_after:"&::after",_empty:"&:empty",_expanded:"&[aria-expanded=true], &[data-expanded]",_checked:"&[aria-checked=true], &[data-checked]",_grabbed:"&[aria-grabbed=true], &[data-grabbed]",_pressed:"&[aria-pressed=true], &[data-pressed]",_invalid:"&[aria-invalid=true], &[data-invalid]",_valid:"&[data-valid], &[data-state=valid]",_loading:"&[data-loading], &[aria-busy=true]",_selected:"&[aria-selected=true], &[data-selected]",_hidden:"&[hidden], &[data-hidden]",_autofill:"&:-webkit-autofill",_even:"&:nth-of-type(even)",_odd:"&:nth-of-type(odd)",_first:"&:first-of-type",_firstLetter:"&::first-letter",_last:"&:last-of-type",_notFirst:"&:not(:first-of-type)",_notLast:"&:not(:last-of-type)",_visited:"&:visited",_activeLink:"&[aria-current=page]",_activeStep:"&[aria-current=step]",_indeterminate:"&:indeterminate, &[aria-checked=mixed], &[data-indeterminate]",_groupHover:ac(Er.hover),_peerHover:Gl(Er.hover),_groupFocus:ac(Er.focus),_peerFocus:Gl(Er.focus),_groupFocusVisible:ac(Er.focusVisible),_peerFocusVisible:Gl(Er.focusVisible),_groupActive:ac(Er.active),_peerActive:Gl(Er.active),_groupDisabled:ac(Er.disabled),_peerDisabled:Gl(Er.disabled),_groupInvalid:ac(Er.invalid),_peerInvalid:Gl(Er.invalid),_groupChecked:ac(Er.checked),_peerChecked:Gl(Er.checked),_groupFocusWithin:ac(Er.focusWithin),_peerFocusWithin:Gl(Er.focusWithin),_peerPlaceholderShown:Gl(Er.placeholderShown),_placeholder:"&::placeholder",_placeholderShown:"&:placeholder-shown",_fullScreen:"&:fullscreen",_selection:"&::selection",_rtl:"[dir=rtl] &, &[dir=rtl]",_ltr:"[dir=ltr] &, &[dir=ltr]",_mediaDark:"@media (prefers-color-scheme: dark)",_mediaReduceMotion:"@media (prefers-reduced-motion: reduce)",_dark:".chakra-ui-dark &:not([data-theme]),[data-theme=dark] &:not([data-theme]),&[data-theme=dark]",_light:".chakra-ui-light &:not([data-theme]),[data-theme=light] &:not([data-theme]),&[data-theme=light]",_horizontal:"&[data-orientation=horizontal]",_vertical:"&[data-orientation=vertical]"},Qce=Object.keys(yA);function tq(e,t){return Ie(String(e).replace(/\./g,"-"),void 0,t)}function wXe(e,t){let n={};const r={};for(const[i,o]of Object.entries(e)){const{isSemantic:s,value:a}=o,{variable:l,reference:u}=tq(i,t==null?void 0:t.cssVarPrefix);if(!s){if(i.startsWith("space")){const d=i.split("."),[h,...p]=d,g=`${h}.-${p.join(".")}`,m=Od.negate(a),y=Od.negate(u);r[g]={value:m,var:l,varRef:y}}n[l]=a,r[i]={value:a,var:l,varRef:u};continue}const c=d=>{const p=[String(i).split(".")[0],d].join(".");if(!e[p])return d;const{reference:m}=tq(p,t==null?void 0:t.cssVarPrefix);return m},f=oo(a)?a:{default:a};n=gs(n,Object.entries(f).reduce((d,[h,p])=>{var g,m;if(!p)return d;const y=c(`${p}`);if(h==="default")return d[l]=y,d;const v=(m=(g=yA)==null?void 0:g[h])!=null?m:h;return d[v]={[l]:y},d},{})),r[i]={value:u,var:l,varRef:u}}return{cssVars:n,cssMap:r}}function SXe(e,t=[]){const n=Object.assign({},e);for(const r of t)r in n&&delete n[r];return n}function CXe(e,t){const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}function EXe(e){return typeof e=="object"&&e!=null&&!Array.isArray(e)}function nq(e,t,n={}){const{stop:r,getKey:i}=n;function o(s,a=[]){var l;if(EXe(s)||Array.isArray(s)){const u={};for(const[c,f]of Object.entries(s)){const d=(l=i==null?void 0:i(c))!=null?l:c,h=[...a,d];if(r!=null&&r(s,h))return t(s,a);u[d]=o(f,h)}return u}return t(s,a)}return o(e)}var kXe=["colors","borders","borderWidths","borderStyles","fonts","fontSizes","fontWeights","gradients","letterSpacings","lineHeights","radii","space","shadows","sizes","zIndices","transition","blur","breakpoints"];function _Xe(e){return CXe(e,kXe)}function $Xe(e){return e.semanticTokens}function AXe(e){const{__cssMap:t,__cssVars:n,__breakpoints:r,...i}=e;return i}var TXe=e=>Qce.includes(e)||e==="default";function RXe({tokens:e,semanticTokens:t}){const n={};return nq(e,(r,i)=>{r!=null&&(n[i.join(".")]={isSemantic:!1,value:r})}),nq(t,(r,i)=>{r!=null&&(n[i.join(".")]={isSemantic:!0,value:r})},{stop:r=>Object.keys(r).every(TXe)}),n}function FXe(e){var t;const n=AXe(e),r=_Xe(n),i=$Xe(n),o=RXe({tokens:r,semanticTokens:i}),s=(t=n.config)==null?void 0:t.cssVarPrefix,{cssMap:a,cssVars:l}=wXe(o,{cssVarPrefix:s});return Object.assign(n,{__cssVars:{...{"--chakra-ring-inset":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-ring-offset-width":"0px","--chakra-ring-offset-color":"#fff","--chakra-ring-color":"rgba(66, 153, 225, 0.6)","--chakra-ring-offset-shadow":"0 0 #0000","--chakra-ring-shadow":"0 0 #0000","--chakra-space-x-reverse":"0","--chakra-space-y-reverse":"0"},...l},__cssMap:a,__breakpoints:xXe(n.breakpoints)}),n}var K8=gs({},FS,$t,GGe,ok,Zo,XGe,rXe,YGe,Gce,nXe,uv,sP,sn,lXe,aXe,iXe,oXe,KGe,sXe),OXe=Object.assign({},sn,Zo,ok,Gce,uv),PXe=Object.keys(OXe),DXe=[...Object.keys(K8),...Qce],MXe={...K8,...yA},NXe=e=>e in MXe,LXe=e=>t=>{if(!t.__breakpoints)return e;const{isResponsive:n,toArrayValue:r,media:i}=t.__breakpoints,o={};for(const s in e){let a=ol(e[s],t);if(a==null)continue;if(a=oo(a)&&n(a)?r(a):a,!Array.isArray(a)){o[s]=a;continue}const l=a.slice(0,i.length).length;for(let u=0;u<l;u+=1){const c=i==null?void 0:i[u];if(!c){o[s]=a[u];continue}o[c]=o[c]||{},a[u]!=null&&(o[c][s]=a[u])}}return o};function IXe(e){const t=[];let n="",r=!1;for(let i=0;i<e.length;i++){const o=e[i];o==="("?(r=!0,n+=o):o===")"?(r=!1,n+=o):o===","&&!r?(t.push(n),n=""):n+=o}return n=n.trim(),n&&t.push(n),t}function zXe(e){return/^var\(--.+\)$/.test(e)}var BXe=(e,t)=>e.startsWith("--")&&typeof t=="string"&&!zXe(t),jXe=(e,t)=>{var n,r;if(t==null)return t;const i=l=>{var u,c;return(c=(u=e.__cssMap)==null?void 0:u[l])==null?void 0:c.varRef},o=l=>{var u;return(u=i(l))!=null?u:l},[s,a]=IXe(t);return t=(r=(n=i(s))!=null?n:o(a))!=null?r:o(t),t};function UXe(e){const{configs:t={},pseudos:n={},theme:r}=e,i=(o,s=!1)=>{var a,l,u;const c=ol(o,r),f=LXe(c)(r);let d={};for(let h in f){const p=f[h];let g=ol(p,r);h in n&&(h=n[h]),BXe(h,g)&&(g=jXe(r,g));let m=t[h];if(m===!0&&(m={property:h}),oo(g)){d[h]=(a=d[h])!=null?a:{},d[h]=gs({},d[h],i(g,!0));continue}let y=(u=(l=m==null?void 0:m.transform)==null?void 0:l.call(m,g,r,c))!=null?u:g;y=m!=null&&m.processResult?i(y,!0):y;const v=ol(m==null?void 0:m.property,r);if(!s&&(m!=null&&m.static)){const b=ol(m.static,r);d=gs({},d,b)}if(v&&Array.isArray(v)){for(const b of v)d[b]=y;continue}if(v){v==="&"&&oo(y)?d=gs({},d,y):d[v]=y;continue}if(oo(y)){d=gs({},d,y);continue}d[h]=y}return d};return i}var Jce=e=>t=>UXe({theme:t,pseudos:yA,configs:K8})(e);function rn(e){return{definePartsStyle(t){return t},defineMultiStyleConfig(t){return{parts:e,...t}}}}function VXe(e,t){if(Array.isArray(e))return e;if(oo(e))return t(e);if(e!=null)return[e]}function WXe(e,t){for(let n=t+1;n<e.length;n++)if(e[n]!=null)return n;return-1}function HXe(e){const t=e.__breakpoints;return function(r,i,o,s){var a,l;if(!t)return;const u={},c=VXe(o,t.toArrayValue);if(!c)return u;const f=c.length,d=f===1,h=!!r.parts;for(let p=0;p<f;p++){const g=t.details[p],m=t.details[WXe(c,p)],y=T1(g.minW,m==null?void 0:m._minW),v=ol((a=r[i])==null?void 0:a[c[p]],s);if(v){if(h){(l=r.parts)==null||l.forEach(b=>{gs(u,{[b]:d?v[b]:{[y]:v[b]}})});continue}if(!h){d?gs(u,v):u[y]=v;continue}u[y]=v}}return u}}function qXe(e){return t=>{var n;const{variant:r,size:i,theme:o}=t,s=HXe(o);return gs({},ol((n=e.baseStyle)!=null?n:{},t),s(e,"sizes",i,t),s(e,"variants",r,t))}}function ci(e){return SXe(e,["styleConfig","size","variant","colorScheme"])}var GXe=["borders","breakpoints","colors","components","config","direction","fonts","fontSizes","fontWeights","letterSpacings","lineHeights","radii","shadows","sizes","space","styles","transition","zIndices"];function XXe(e){return oo(e)?GXe.every(t=>Object.prototype.hasOwnProperty.call(e,t)):!1}var YXe={common:"background-color, border-color, color, fill, stroke, opacity, box-shadow, transform",colors:"background-color, border-color, color, fill, stroke",dimensions:"width, height",position:"left, right, top, bottom",background:"background-color, background-image, background-position"},KXe={"ease-in":"cubic-bezier(0.4, 0, 1, 1)","ease-out":"cubic-bezier(0, 0, 0.2, 1)","ease-in-out":"cubic-bezier(0.4, 0, 0.2, 1)"},QXe={"ultra-fast":"50ms",faster:"100ms",fast:"150ms",normal:"200ms",slow:"300ms",slower:"400ms","ultra-slow":"500ms"},JXe={property:YXe,easing:KXe,duration:QXe},ZXe=JXe,eYe={hide:-1,auto:"auto",base:0,docked:10,dropdown:1e3,sticky:1100,banner:1200,overlay:1300,modal:1400,popover:1500,skipLink:1600,toast:1700,tooltip:1800},tYe=eYe,nYe={none:0,"1px":"1px solid","2px":"2px solid","4px":"4px solid","8px":"8px solid"},rYe=nYe,iYe={base:"0em",sm:"30em",md:"48em",lg:"62em",xl:"80em","2xl":"96em"},oYe=iYe,sYe={transparent:"transparent",current:"currentColor",black:"#000000",white:"#FFFFFF",whiteAlpha:{50:"rgba(255, 255, 255, 0.04)",100:"rgba(255, 255, 255, 0.06)",200:"rgba(255, 255, 255, 0.08)",300:"rgba(255, 255, 255, 0.16)",400:"rgba(255, 255, 255, 0.24)",500:"rgba(255, 255, 255, 0.36)",600:"rgba(255, 255, 255, 0.48)",700:"rgba(255, 255, 255, 0.64)",800:"rgba(255, 255, 255, 0.80)",900:"rgba(255, 255, 255, 0.92)"},blackAlpha:{50:"rgba(0, 0, 0, 0.04)",100:"rgba(0, 0, 0, 0.06)",200:"rgba(0, 0, 0, 0.08)",300:"rgba(0, 0, 0, 0.16)",400:"rgba(0, 0, 0, 0.24)",500:"rgba(0, 0, 0, 0.36)",600:"rgba(0, 0, 0, 0.48)",700:"rgba(0, 0, 0, 0.64)",800:"rgba(0, 0, 0, 0.80)",900:"rgba(0, 0, 0, 0.92)"},gray:{50:"#F7FAFC",100:"#EDF2F7",200:"#E2E8F0",300:"#CBD5E0",400:"#A0AEC0",500:"#718096",600:"#4A5568",700:"#2D3748",800:"#1A202C",900:"#171923"},red:{50:"#FFF5F5",100:"#FED7D7",200:"#FEB2B2",300:"#FC8181",400:"#F56565",500:"#E53E3E",600:"#C53030",700:"#9B2C2C",800:"#822727",900:"#63171B"},orange:{50:"#FFFAF0",100:"#FEEBC8",200:"#FBD38D",300:"#F6AD55",400:"#ED8936",500:"#DD6B20",600:"#C05621",700:"#9C4221",800:"#7B341E",900:"#652B19"},yellow:{50:"#FFFFF0",100:"#FEFCBF",200:"#FAF089",300:"#F6E05E",400:"#ECC94B",500:"#D69E2E",600:"#B7791F",700:"#975A16",800:"#744210",900:"#5F370E"},green:{50:"#F0FFF4",100:"#C6F6D5",200:"#9AE6B4",300:"#68D391",400:"#48BB78",500:"#38A169",600:"#2F855A",700:"#276749",800:"#22543D",900:"#1C4532"},teal:{50:"#E6FFFA",100:"#B2F5EA",200:"#81E6D9",300:"#4FD1C5",400:"#38B2AC",500:"#319795",600:"#2C7A7B",700:"#285E61",800:"#234E52",900:"#1D4044"},blue:{50:"#ebf8ff",100:"#bee3f8",200:"#90cdf4",300:"#63b3ed",400:"#4299e1",500:"#3182ce",600:"#2b6cb0",700:"#2c5282",800:"#2a4365",900:"#1A365D"},cyan:{50:"#EDFDFD",100:"#C4F1F9",200:"#9DECF9",300:"#76E4F7",400:"#0BC5EA",500:"#00B5D8",600:"#00A3C4",700:"#0987A0",800:"#086F83",900:"#065666"},purple:{50:"#FAF5FF",100:"#E9D8FD",200:"#D6BCFA",300:"#B794F4",400:"#9F7AEA",500:"#805AD5",600:"#6B46C1",700:"#553C9A",800:"#44337A",900:"#322659"},pink:{50:"#FFF5F7",100:"#FED7E2",200:"#FBB6CE",300:"#F687B3",400:"#ED64A6",500:"#D53F8C",600:"#B83280",700:"#97266D",800:"#702459",900:"#521B41"},linkedin:{50:"#E8F4F9",100:"#CFEDFB",200:"#9BDAF3",300:"#68C7EC",400:"#34B3E4",500:"#00A0DC",600:"#008CC9",700:"#0077B5",800:"#005E93",900:"#004471"},facebook:{50:"#E8F4F9",100:"#D9DEE9",200:"#B7C2DA",300:"#6482C0",400:"#4267B2",500:"#385898",600:"#314E89",700:"#29487D",800:"#223B67",900:"#1E355B"},messenger:{50:"#D0E6FF",100:"#B9DAFF",200:"#A2CDFF",300:"#7AB8FF",400:"#2E90FF",500:"#0078FF",600:"#0063D1",700:"#0052AC",800:"#003C7E",900:"#002C5C"},whatsapp:{50:"#dffeec",100:"#b9f5d0",200:"#90edb3",300:"#65e495",400:"#3cdd78",500:"#22c35e",600:"#179848",700:"#0c6c33",800:"#01421c",900:"#001803"},twitter:{50:"#E5F4FD",100:"#C8E9FB",200:"#A8DCFA",300:"#83CDF7",400:"#57BBF5",500:"#1DA1F2",600:"#1A94DA",700:"#1681BF",800:"#136B9E",900:"#0D4D71"},telegram:{50:"#E3F2F9",100:"#C5E4F3",200:"#A2D4EC",300:"#7AC1E4",400:"#47A9DA",500:"#0088CC",600:"#007AB8",700:"#006BA1",800:"#005885",900:"#003F5E"}},aYe=sYe,lYe={none:"0",sm:"0.125rem",base:"0.25rem",md:"0.375rem",lg:"0.5rem",xl:"0.75rem","2xl":"1rem","3xl":"1.5rem",full:"9999px"},uYe=lYe,cYe={xs:"0 0 0 1px rgba(0, 0, 0, 0.05)",sm:"0 1px 2px 0 rgba(0, 0, 0, 0.05)",base:"0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06)",md:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",lg:"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)",xl:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)","2xl":"0 25px 50px -12px rgba(0, 0, 0, 0.25)",outline:"0 0 0 3px rgba(66, 153, 225, 0.6)",inner:"inset 0 2px 4px 0 rgba(0,0,0,0.06)",none:"none","dark-lg":"rgba(0, 0, 0, 0.1) 0px 0px 0px 1px, rgba(0, 0, 0, 0.2) 0px 5px 10px, rgba(0, 0, 0, 0.4) 0px 15px 40px"},fYe=cYe,dYe={none:0,sm:"4px",base:"8px",md:"12px",lg:"16px",xl:"24px","2xl":"40px","3xl":"64px"},hYe=dYe,pYe={letterSpacings:{tighter:"-0.05em",tight:"-0.025em",normal:"0",wide:"0.025em",wider:"0.05em",widest:"0.1em"},lineHeights:{normal:"normal",none:1,shorter:1.25,short:1.375,base:1.5,tall:1.625,taller:"2",3:".75rem",4:"1rem",5:"1.25rem",6:"1.5rem",7:"1.75rem",8:"2rem",9:"2.25rem",10:"2.5rem"},fontWeights:{hairline:100,thin:200,light:300,normal:400,medium:500,semibold:600,bold:700,extrabold:800,black:900},fonts:{heading:'-apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',body:'-apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',mono:'SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace'},fontSizes:{"3xs":"0.45rem","2xs":"0.625rem",xs:"0.75rem",sm:"0.875rem",md:"1rem",lg:"1.125rem",xl:"1.25rem","2xl":"1.5rem","3xl":"1.875rem","4xl":"2.25rem","5xl":"3rem","6xl":"3.75rem","7xl":"4.5rem","8xl":"6rem","9xl":"8rem"}},Zce=pYe,efe={px:"1px",.5:"0.125rem",1:"0.25rem",1.5:"0.375rem",2:"0.5rem",2.5:"0.625rem",3:"0.75rem",3.5:"0.875rem",4:"1rem",5:"1.25rem",6:"1.5rem",7:"1.75rem",8:"2rem",9:"2.25rem",10:"2.5rem",12:"3rem",14:"3.5rem",16:"4rem",20:"5rem",24:"6rem",28:"7rem",32:"8rem",36:"9rem",40:"10rem",44:"11rem",48:"12rem",52:"13rem",56:"14rem",60:"15rem",64:"16rem",72:"18rem",80:"20rem",96:"24rem"},gYe={max:"max-content",min:"min-content",full:"100%","3xs":"14rem","2xs":"16rem",xs:"20rem",sm:"24rem",md:"28rem",lg:"32rem",xl:"36rem","2xl":"42rem","3xl":"48rem","4xl":"56rem","5xl":"64rem","6xl":"72rem","7xl":"80rem","8xl":"90rem",prose:"60ch"},mYe={sm:"640px",md:"768px",lg:"1024px",xl:"1280px"},yYe={...efe,...gYe,container:mYe},tfe=yYe,vYe={breakpoints:oYe,zIndices:tYe,radii:uYe,blur:hYe,colors:aYe,...Zce,sizes:tfe,shadows:fYe,space:efe,borders:rYe,transition:ZXe},{defineMultiStyleConfig:bYe,definePartsStyle:R1}=rn(["stepper","step","title","description","indicator","separator","icon","number"]),nu=Ie("stepper-indicator-size"),xg=Ie("stepper-icon-size"),wg=Ie("stepper-title-font-size"),F1=Ie("stepper-description-font-size"),Hy=Ie("stepper-accent-color"),xYe=R1(({colorScheme:e})=>({stepper:{display:"flex",justifyContent:"space-between",gap:"4","&[data-orientation=vertical]":{flexDirection:"column",alignItems:"flex-start"},"&[data-orientation=horizontal]":{flexDirection:"row",alignItems:"center"},[Hy.variable]:`colors.${e}.500`,_dark:{[Hy.variable]:`colors.${e}.200`}},title:{fontSize:wg.reference,fontWeight:"medium"},description:{fontSize:F1.reference,color:"chakra-subtle-text"},number:{fontSize:wg.reference},step:{flexShrink:0,position:"relative",display:"flex",gap:"2","&[data-orientation=horizontal]":{alignItems:"center"},flex:"1","&:last-of-type:not([data-stretch])":{flex:"initial"}},icon:{flexShrink:0,width:xg.reference,height:xg.reference},indicator:{flexShrink:0,borderRadius:"full",width:nu.reference,height:nu.reference,display:"flex",justifyContent:"center",alignItems:"center","&[data-status=active]":{borderWidth:"2px",borderColor:Hy.reference},"&[data-status=complete]":{bg:Hy.reference,color:"chakra-inverse-text"},"&[data-status=incomplete]":{borderWidth:"2px"}},separator:{bg:"chakra-border-color",flex:"1","&[data-status=complete]":{bg:Hy.reference},"&[data-orientation=horizontal]":{width:"100%",height:"2px",marginStart:"2"},"&[data-orientation=vertical]":{width:"2px",position:"absolute",height:"100%",maxHeight:`calc(100% - ${nu.reference} - 8px)`,top:`calc(${nu.reference} + 4px)`,insetStart:`calc(${nu.reference} / 2 - 1px)`}}})),wYe=bYe({baseStyle:xYe,sizes:{xs:R1({stepper:{[nu.variable]:"sizes.4",[xg.variable]:"sizes.3",[wg.variable]:"fontSizes.xs",[F1.variable]:"fontSizes.xs"}}),sm:R1({stepper:{[nu.variable]:"sizes.6",[xg.variable]:"sizes.4",[wg.variable]:"fontSizes.sm",[F1.variable]:"fontSizes.xs"}}),md:R1({stepper:{[nu.variable]:"sizes.8",[xg.variable]:"sizes.5",[wg.variable]:"fontSizes.md",[F1.variable]:"fontSizes.sm"}}),lg:R1({stepper:{[nu.variable]:"sizes.10",[xg.variable]:"sizes.6",[wg.variable]:"fontSizes.lg",[F1.variable]:"fontSizes.md"}})},defaultProps:{size:"md",colorScheme:"blue"}});function Dt(e,t={}){let n=!1;function r(){if(!n){n=!0;return}throw new Error("[anatomy] .part(...) should only be called once. Did you mean to use .extend(...) ?")}function i(...c){r();for(const f of c)t[f]=l(f);return Dt(e,t)}function o(...c){for(const f of c)f in t||(t[f]=l(f));return Dt(e,t)}function s(){return Object.fromEntries(Object.entries(t).map(([f,d])=>[f,d.selector]))}function a(){return Object.fromEntries(Object.entries(t).map(([f,d])=>[f,d.className]))}function l(c){const h=`chakra-${(["container","root"].includes(c??"")?[e]:[e,c]).filter(Boolean).join("__")}`;return{className:h,selector:`.${h}`,toString:()=>c}}return{parts:i,toPart:l,extend:o,selectors:s,classnames:a,get keys(){return Object.keys(t)},__type:{}}}var SYe=Dt("accordion").parts("root","container","button","panel").extend("icon"),CYe=Dt("alert").parts("title","description","container").extend("icon","spinner"),EYe=Dt("avatar").parts("label","badge","container").extend("excessLabel","group"),kYe=Dt("breadcrumb").parts("link","item","container").extend("separator");Dt("button").parts();var _Ye=Dt("checkbox").parts("control","icon","container").extend("label");Dt("progress").parts("track","filledTrack").extend("label");var $Ye=Dt("drawer").parts("overlay","dialogContainer","dialog").extend("header","closeButton","body","footer"),AYe=Dt("editable").parts("preview","input","textarea"),TYe=Dt("form").parts("container","requiredIndicator","helperText"),RYe=Dt("formError").parts("text","icon"),FYe=Dt("input").parts("addon","field","element","group"),OYe=Dt("list").parts("container","item","icon"),PYe=Dt("menu").parts("button","list","item").extend("groupTitle","icon","command","divider"),DYe=Dt("modal").parts("overlay","dialogContainer","dialog").extend("header","closeButton","body","footer"),MYe=Dt("numberinput").parts("root","field","stepperGroup","stepper");Dt("pininput").parts("field");var NYe=Dt("popover").parts("content","header","body","footer").extend("popper","arrow","closeButton"),LYe=Dt("progress").parts("label","filledTrack","track"),IYe=Dt("radio").parts("container","control","label"),zYe=Dt("select").parts("field","icon"),BYe=Dt("slider").parts("container","track","thumb","filledTrack","mark"),jYe=Dt("stat").parts("container","label","helpText","number","icon"),UYe=Dt("switch").parts("container","track","thumb","label"),VYe=Dt("table").parts("table","thead","tbody","tr","th","td","tfoot","caption"),WYe=Dt("tabs").parts("root","tab","tablist","tabpanel","tabpanels","indicator"),HYe=Dt("tag").parts("container","label","closeButton"),qYe=Dt("card").parts("container","header","body","footer");Dt("stepper").parts("stepper","step","title","description","indicator","separator","icon","number");function jd(e,t,n){return Math.min(Math.max(e,n),t)}class GYe extends Error{constructor(t){super(`Failed to parse color: "${t}"`)}}var O1=GYe;function Q8(e){if(typeof e!="string")throw new O1(e);if(e.trim().toLowerCase()==="transparent")return[0,0,0,0];let t=e.trim();t=tKe.test(e)?KYe(e):e;const n=QYe.exec(t);if(n){const s=Array.from(n).slice(1);return[...s.slice(0,3).map(a=>parseInt(vb(a,2),16)),parseInt(vb(s[3]||"f",2),16)/255]}const r=JYe.exec(t);if(r){const s=Array.from(r).slice(1);return[...s.slice(0,3).map(a=>parseInt(a,16)),parseInt(s[3]||"ff",16)/255]}const i=ZYe.exec(t);if(i){const s=Array.from(i).slice(1);return[...s.slice(0,3).map(a=>parseInt(a,10)),parseFloat(s[3]||"1")]}const o=eKe.exec(t);if(o){const[s,a,l,u]=Array.from(o).slice(1).map(parseFloat);if(jd(0,100,a)!==a)throw new O1(e);if(jd(0,100,l)!==l)throw new O1(e);return[...nKe(s,a,l),Number.isNaN(u)?1:u]}throw new O1(e)}function XYe(e){let t=5381,n=e.length;for(;n;)t=t*33^e.charCodeAt(--n);return(t>>>0)%2341}const rq=e=>parseInt(e.replace(/_/g,""),36),YYe="1q29ehhb 1n09sgk7 1kl1ekf_ _yl4zsno 16z9eiv3 1p29lhp8 _bd9zg04 17u0____ _iw9zhe5 _to73___ _r45e31e _7l6g016 _jh8ouiv _zn3qba8 1jy4zshs 11u87k0u 1ro9yvyo 1aj3xael 1gz9zjz0 _3w8l4xo 1bf1ekf_ _ke3v___ _4rrkb__ 13j776yz _646mbhl _nrjr4__ _le6mbhl 1n37ehkb _m75f91n _qj3bzfz 1939yygw 11i5z6x8 _1k5f8xs 1509441m 15t5lwgf _ae2th1n _tg1ugcv 1lp1ugcv 16e14up_ _h55rw7n _ny9yavn _7a11xb_ 1ih442g9 _pv442g9 1mv16xof 14e6y7tu 1oo9zkds 17d1cisi _4v9y70f _y98m8kc 1019pq0v 12o9zda8 _348j4f4 1et50i2o _8epa8__ _ts6senj 1o350i2o 1mi9eiuo 1259yrp0 1ln80gnw _632xcoy 1cn9zldc _f29edu4 1n490c8q _9f9ziet 1b94vk74 _m49zkct 1kz6s73a 1eu9dtog _q58s1rz 1dy9sjiq __u89jo3 _aj5nkwg _ld89jo3 13h9z6wx _qa9z2ii _l119xgq _bs5arju 1hj4nwk9 1qt4nwk9 1ge6wau6 14j9zlcw 11p1edc_ _ms1zcxe _439shk6 _jt9y70f _754zsow 1la40eju _oq5p___ _x279qkz 1fa5r3rv _yd2d9ip _424tcku _8y1di2_ _zi2uabw _yy7rn9h 12yz980_ __39ljp6 1b59zg0x _n39zfzp 1fy9zest _b33k___ _hp9wq92 1il50hz4 _io472ub _lj9z3eo 19z9ykg0 _8t8iu3a 12b9bl4a 1ak5yw0o _896v4ku _tb8k8lv _s59zi6t _c09ze0p 1lg80oqn 1id9z8wb _238nba5 1kq6wgdi _154zssg _tn3zk49 _da9y6tc 1sg7cv4f _r12jvtt 1gq5fmkz 1cs9rvci _lp9jn1c _xw1tdnb 13f9zje6 16f6973h _vo7ir40 _bt5arjf _rc45e4t _hr4e100 10v4e100 _hc9zke2 _w91egv_ _sj2r1kk 13c87yx8 _vqpds__ _ni8ggk8 _tj9yqfb 1ia2j4r4 _7x9b10u 1fc9ld4j 1eq9zldr _5j9lhpx _ez9zl6o _md61fzm".split(" ").reduce((e,t)=>{const n=rq(t.substring(0,3)),r=rq(t.substring(3)).toString(16);let i="";for(let o=0;o<6-r.length;o++)i+="0";return e[n]=`${i}${r}`,e},{});function KYe(e){const t=e.toLowerCase().trim(),n=YYe[XYe(t)];if(!n)throw new O1(e);return`#${n}`}const vb=(e,t)=>Array.from(Array(t)).map(()=>e).join(""),QYe=new RegExp(`^#${vb("([a-f0-9])",3)}([a-f0-9])?$`,"i"),JYe=new RegExp(`^#${vb("([a-f0-9]{2})",3)}([a-f0-9]{2})?$`,"i"),ZYe=new RegExp(`^rgba?\\(\\s*(\\d+)\\s*${vb(",\\s*(\\d+)\\s*",2)}(?:,\\s*([\\d.]+))?\\s*\\)$`,"i"),eKe=/^hsla?\(\s*([\d.]+)\s*,\s*([\d.]+)%\s*,\s*([\d.]+)%(?:\s*,\s*([\d.]+))?\s*\)$/i,tKe=/^[a-z]+$/i,iq=e=>Math.round(e*255),nKe=(e,t,n)=>{let r=n/100;if(t===0)return[r,r,r].map(iq);const i=(e%360+360)%360/60,o=(1-Math.abs(2*r-1))*(t/100),s=o*(1-Math.abs(i%2-1));let a=0,l=0,u=0;i>=0&&i<1?(a=o,l=s):i>=1&&i<2?(a=s,l=o):i>=2&&i<3?(l=o,u=s):i>=3&&i<4?(l=s,u=o):i>=4&&i<5?(a=s,u=o):i>=5&&i<6&&(a=o,u=s);const c=r-o/2,f=a+c,d=l+c,h=u+c;return[f,d,h].map(iq)};function rKe(e,t,n,r){return`rgba(${jd(0,255,e).toFixed()}, ${jd(0,255,t).toFixed()}, ${jd(0,255,n).toFixed()}, ${parseFloat(jd(0,1,r).toFixed(3))})`}function iKe(e,t){const[n,r,i,o]=Q8(e);return rKe(n,r,i,o-t)}function oKe(e){const[t,n,r,i]=Q8(e);let o=s=>{const a=jd(0,255,s).toString(16);return a.length===1?`0${a}`:a};return`#${o(t)}${o(n)}${o(r)}${i<1?o(Math.round(i*255)):""}`}function sKe(e,t,n,r,i){for(t=t.split?t.split("."):t,r=0;r<t.length;r++)e=e?e[t[r]]:i;return e===i?n:e}var aKe=e=>Object.keys(e).length===0,Ai=(e,t,n)=>{const r=sKe(e,`colors.${t}`,t);try{return oKe(r),r}catch{return n??"#000000"}},lKe=e=>{const[t,n,r]=Q8(e);return(t*299+n*587+r*114)/1e3},uKe=e=>t=>{const n=Ai(t,e);return lKe(n)<128?"dark":"light"},cKe=e=>t=>uKe(e)(t)==="dark",l0=(e,t)=>n=>{const r=Ai(n,e);return iKe(r,1-t)};function oq(e="1rem",t="rgba(255, 255, 255, 0.15)"){return{backgroundImage:`linear-gradient(
    45deg,
    ${t} 25%,
    transparent 25%,
    transparent 50%,
    ${t} 50%,
    ${t} 75%,
    transparent 75%,
    transparent
  )`,backgroundSize:`${e} ${e}`}}var fKe=()=>`#${Math.floor(Math.random()*16777215).toString(16).padEnd(6,"0")}`;function dKe(e){const t=fKe();return!e||aKe(e)?t:e.string&&e.colors?pKe(e.string,e.colors):e.string&&!e.colors?hKe(e.string):e.colors&&!e.string?gKe(e.colors):t}function hKe(e){let t=0;if(e.length===0)return t.toString();for(let r=0;r<e.length;r+=1)t=e.charCodeAt(r)+((t<<5)-t),t=t&t;let n="#";for(let r=0;r<3;r+=1){const i=t>>r*8&255;n+=`00${i.toString(16)}`.substr(-2)}return n}function pKe(e,t){let n=0;if(e.length===0)return t[0];for(let r=0;r<e.length;r+=1)n=e.charCodeAt(r)+((n<<5)-n),n=n&n;return n=(n%t.length+t.length)%t.length,t[n]}function gKe(e){return e[Math.floor(Math.random()*e.length)]}function je(e,t){return n=>n.colorMode==="dark"?t:e}function J8(e){const{orientation:t,vertical:n,horizontal:r}=e;return t?t==="vertical"?n:r:{}}function nfe(e){return oo(e)&&e.reference?e.reference:String(e)}var vA=(e,...t)=>t.map(nfe).join(` ${e} `).replace(/calc/g,""),sq=(...e)=>`calc(${vA("+",...e)})`,aq=(...e)=>`calc(${vA("-",...e)})`,uP=(...e)=>`calc(${vA("*",...e)})`,lq=(...e)=>`calc(${vA("/",...e)})`,uq=e=>{const t=nfe(e);return t!=null&&!Number.isNaN(parseFloat(t))?String(t).startsWith("-")?String(t).slice(1):`-${t}`:uP(t,-1)},ru=Object.assign(e=>({add:(...t)=>ru(sq(e,...t)),subtract:(...t)=>ru(aq(e,...t)),multiply:(...t)=>ru(uP(e,...t)),divide:(...t)=>ru(lq(e,...t)),negate:()=>ru(uq(e)),toString:()=>e.toString()}),{add:sq,subtract:aq,multiply:uP,divide:lq,negate:uq});function mKe(e){return!Number.isInteger(parseFloat(e.toString()))}function yKe(e,t="-"){return e.replace(/\s+/g,t)}function rfe(e){const t=yKe(e.toString());return t.includes("\\.")?e:mKe(e)?t.replace(".","\\."):e}function vKe(e,t=""){return[t,rfe(e)].filter(Boolean).join("-")}function bKe(e,t){return`var(${rfe(e)}${t?`, ${t}`:""})`}function xKe(e,t=""){return`--${vKe(e,t)}`}function ur(e,t){const n=xKe(e,void 0);return{variable:n,reference:bKe(n,wKe(void 0))}}function wKe(e){return typeof e=="string"?e:e==null?void 0:e.reference}var{defineMultiStyleConfig:SKe,definePartsStyle:OS}=rn(UYe.keys),cv=ur("switch-track-width"),uh=ur("switch-track-height"),J3=ur("switch-track-diff"),CKe=ru.subtract(cv,uh),cP=ur("switch-thumb-x"),qy=ur("switch-bg"),EKe=e=>{const{colorScheme:t}=e;return{borderRadius:"full",p:"0.5",width:[cv.reference],height:[uh.reference],transitionProperty:"common",transitionDuration:"fast",[qy.variable]:"colors.gray.300",_dark:{[qy.variable]:"colors.whiteAlpha.400"},_focusVisible:{boxShadow:"outline"},_disabled:{opacity:.4,cursor:"not-allowed"},_checked:{[qy.variable]:`colors.${t}.500`,_dark:{[qy.variable]:`colors.${t}.200`}},bg:qy.reference}},kKe={bg:"white",transitionProperty:"transform",transitionDuration:"normal",borderRadius:"inherit",width:[uh.reference],height:[uh.reference],_checked:{transform:`translateX(${cP.reference})`}},_Ke=OS(e=>({container:{[J3.variable]:CKe,[cP.variable]:J3.reference,_rtl:{[cP.variable]:ru(J3).negate().toString()}},track:EKe(e),thumb:kKe})),$Ke={sm:OS({container:{[cv.variable]:"1.375rem",[uh.variable]:"sizes.3"}}),md:OS({container:{[cv.variable]:"1.875rem",[uh.variable]:"sizes.4"}}),lg:OS({container:{[cv.variable]:"2.875rem",[uh.variable]:"sizes.6"}})},AKe=SKe({baseStyle:_Ke,sizes:$Ke,defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:TKe,definePartsStyle:Gg}=rn(VYe.keys),RKe=Gg({table:{fontVariantNumeric:"lining-nums tabular-nums",borderCollapse:"collapse",width:"full"},th:{fontFamily:"heading",fontWeight:"bold",textTransform:"uppercase",letterSpacing:"wider",textAlign:"start"},td:{textAlign:"start"},caption:{mt:4,fontFamily:"heading",textAlign:"center",fontWeight:"medium"}}),sk={"&[data-is-numeric=true]":{textAlign:"end"}},FKe=Gg(e=>{const{colorScheme:t}=e;return{th:{color:je("gray.600","gray.400")(e),borderBottom:"1px",borderColor:je(`${t}.100`,`${t}.700`)(e),...sk},td:{borderBottom:"1px",borderColor:je(`${t}.100`,`${t}.700`)(e),...sk},caption:{color:je("gray.600","gray.100")(e)},tfoot:{tr:{"&:last-of-type":{th:{borderBottomWidth:0}}}}}}),OKe=Gg(e=>{const{colorScheme:t}=e;return{th:{color:je("gray.600","gray.400")(e),borderBottom:"1px",borderColor:je(`${t}.100`,`${t}.700`)(e),...sk},td:{borderBottom:"1px",borderColor:je(`${t}.100`,`${t}.700`)(e),...sk},caption:{color:je("gray.600","gray.100")(e)},tbody:{tr:{"&:nth-of-type(odd)":{"th, td":{borderBottomWidth:"1px",borderColor:je(`${t}.100`,`${t}.700`)(e)},td:{background:je(`${t}.100`,`${t}.700`)(e)}}}},tfoot:{tr:{"&:last-of-type":{th:{borderBottomWidth:0}}}}}}),PKe={simple:FKe,striped:OKe,unstyled:{}},DKe={sm:Gg({th:{px:"4",py:"1",lineHeight:"4",fontSize:"xs"},td:{px:"4",py:"2",fontSize:"sm",lineHeight:"4"},caption:{px:"4",py:"2",fontSize:"xs"}}),md:Gg({th:{px:"6",py:"3",lineHeight:"4",fontSize:"xs"},td:{px:"6",py:"4",lineHeight:"5"},caption:{px:"6",py:"2",fontSize:"sm"}}),lg:Gg({th:{px:"8",py:"4",lineHeight:"5",fontSize:"sm"},td:{px:"8",py:"5",lineHeight:"6"},caption:{px:"6",py:"2",fontSize:"md"}})},MKe=TKe({baseStyle:RKe,variants:PKe,sizes:DKe,defaultProps:{variant:"simple",size:"md",colorScheme:"gray"}}),Ki=Ie("tabs-color"),ea=Ie("tabs-bg"),Tw=Ie("tabs-border-color"),{defineMultiStyleConfig:NKe,definePartsStyle:ml}=rn(WYe.keys),LKe=e=>{const{orientation:t}=e;return{display:t==="vertical"?"flex":"block"}},IKe=e=>{const{isFitted:t}=e;return{flex:t?1:void 0,transitionProperty:"common",transitionDuration:"normal",_focusVisible:{zIndex:1,boxShadow:"outline"},_disabled:{cursor:"not-allowed",opacity:.4}}},zKe=e=>{const{align:t="start",orientation:n}=e;return{justifyContent:{end:"flex-end",center:"center",start:"flex-start"}[t],flexDirection:n==="vertical"?"column":"row"}},BKe={p:4},jKe=ml(e=>({root:LKe(e),tab:IKe(e),tablist:zKe(e),tabpanel:BKe})),UKe={sm:ml({tab:{py:1,px:4,fontSize:"sm"}}),md:ml({tab:{fontSize:"md",py:2,px:4}}),lg:ml({tab:{fontSize:"lg",py:3,px:4}})},VKe=ml(e=>{const{colorScheme:t,orientation:n}=e,r=n==="vertical",i=r?"borderStart":"borderBottom",o=r?"marginStart":"marginBottom";return{tablist:{[i]:"2px solid",borderColor:"inherit"},tab:{[i]:"2px solid",borderColor:"transparent",[o]:"-2px",_selected:{[Ki.variable]:`colors.${t}.600`,_dark:{[Ki.variable]:`colors.${t}.300`},borderColor:"currentColor"},_active:{[ea.variable]:"colors.gray.200",_dark:{[ea.variable]:"colors.whiteAlpha.300"}},_disabled:{_active:{bg:"none"}},color:Ki.reference,bg:ea.reference}}}),WKe=ml(e=>{const{colorScheme:t}=e;return{tab:{borderTopRadius:"md",border:"1px solid",borderColor:"transparent",mb:"-1px",[Tw.variable]:"transparent",_selected:{[Ki.variable]:`colors.${t}.600`,[Tw.variable]:"colors.white",_dark:{[Ki.variable]:`colors.${t}.300`,[Tw.variable]:"colors.gray.800"},borderColor:"inherit",borderBottomColor:Tw.reference},color:Ki.reference},tablist:{mb:"-1px",borderBottom:"1px solid",borderColor:"inherit"}}}),HKe=ml(e=>{const{colorScheme:t}=e;return{tab:{border:"1px solid",borderColor:"inherit",[ea.variable]:"colors.gray.50",_dark:{[ea.variable]:"colors.whiteAlpha.50"},mb:"-1px",_notLast:{marginEnd:"-1px"},_selected:{[ea.variable]:"colors.white",[Ki.variable]:`colors.${t}.600`,_dark:{[ea.variable]:"colors.gray.800",[Ki.variable]:`colors.${t}.300`},borderColor:"inherit",borderTopColor:"currentColor",borderBottomColor:"transparent"},color:Ki.reference,bg:ea.reference},tablist:{mb:"-1px",borderBottom:"1px solid",borderColor:"inherit"}}}),qKe=ml(e=>{const{colorScheme:t,theme:n}=e;return{tab:{borderRadius:"full",fontWeight:"semibold",color:"gray.600",_selected:{color:Ai(n,`${t}.700`),bg:Ai(n,`${t}.100`)}}}}),GKe=ml(e=>{const{colorScheme:t}=e;return{tab:{borderRadius:"full",fontWeight:"semibold",[Ki.variable]:"colors.gray.600",_dark:{[Ki.variable]:"inherit"},_selected:{[Ki.variable]:"colors.white",[ea.variable]:`colors.${t}.600`,_dark:{[Ki.variable]:"colors.gray.800",[ea.variable]:`colors.${t}.300`}},color:Ki.reference,bg:ea.reference}}}),XKe=ml({}),YKe={line:VKe,enclosed:WKe,"enclosed-colored":HKe,"soft-rounded":qKe,"solid-rounded":GKe,unstyled:XKe},KKe=NKe({baseStyle:jKe,sizes:UKe,variants:YKe,defaultProps:{size:"md",variant:"line",colorScheme:"blue"}}),Bn=mXe("badge",["bg","color","shadow"]),QKe={px:1,textTransform:"uppercase",fontSize:"xs",borderRadius:"sm",fontWeight:"bold",bg:Bn.bg.reference,color:Bn.color.reference,boxShadow:Bn.shadow.reference},JKe=e=>{const{colorScheme:t,theme:n}=e,r=l0(`${t}.500`,.6)(n);return{[Bn.bg.variable]:`colors.${t}.500`,[Bn.color.variable]:"colors.white",_dark:{[Bn.bg.variable]:r,[Bn.color.variable]:"colors.whiteAlpha.800"}}},ZKe=e=>{const{colorScheme:t,theme:n}=e,r=l0(`${t}.200`,.16)(n);return{[Bn.bg.variable]:`colors.${t}.100`,[Bn.color.variable]:`colors.${t}.800`,_dark:{[Bn.bg.variable]:r,[Bn.color.variable]:`colors.${t}.200`}}},eQe=e=>{const{colorScheme:t,theme:n}=e,r=l0(`${t}.200`,.8)(n);return{[Bn.color.variable]:`colors.${t}.500`,_dark:{[Bn.color.variable]:r},[Bn.shadow.variable]:`inset 0 0 0px 1px ${Bn.color.reference}`}},tQe={solid:JKe,subtle:ZKe,outline:eQe},fv={baseStyle:QKe,variants:tQe,defaultProps:{variant:"subtle",colorScheme:"gray"}},{defineMultiStyleConfig:nQe,definePartsStyle:ch}=rn(HYe.keys),cq=Ie("tag-bg"),fq=Ie("tag-color"),Z3=Ie("tag-shadow"),PS=Ie("tag-min-height"),DS=Ie("tag-min-width"),MS=Ie("tag-font-size"),NS=Ie("tag-padding-inline"),rQe={fontWeight:"medium",lineHeight:1.2,outline:0,[fq.variable]:Bn.color.reference,[cq.variable]:Bn.bg.reference,[Z3.variable]:Bn.shadow.reference,color:fq.reference,bg:cq.reference,boxShadow:Z3.reference,borderRadius:"md",minH:PS.reference,minW:DS.reference,fontSize:MS.reference,px:NS.reference,_focusVisible:{[Z3.variable]:"shadows.outline"}},iQe={lineHeight:1.2,overflow:"visible"},oQe={fontSize:"lg",w:"5",h:"5",transitionProperty:"common",transitionDuration:"normal",borderRadius:"full",marginStart:"1.5",marginEnd:"-1",opacity:.5,_disabled:{opacity:.4},_focusVisible:{boxShadow:"outline",bg:"rgba(0, 0, 0, 0.14)"},_hover:{opacity:.8},_active:{opacity:1}},sQe=ch({container:rQe,label:iQe,closeButton:oQe}),aQe={sm:ch({container:{[PS.variable]:"sizes.5",[DS.variable]:"sizes.5",[MS.variable]:"fontSizes.xs",[NS.variable]:"space.2"},closeButton:{marginEnd:"-2px",marginStart:"0.35rem"}}),md:ch({container:{[PS.variable]:"sizes.6",[DS.variable]:"sizes.6",[MS.variable]:"fontSizes.sm",[NS.variable]:"space.2"}}),lg:ch({container:{[PS.variable]:"sizes.8",[DS.variable]:"sizes.8",[MS.variable]:"fontSizes.md",[NS.variable]:"space.3"}})},lQe={subtle:ch(e=>{var t;return{container:(t=fv.variants)==null?void 0:t.subtle(e)}}),solid:ch(e=>{var t;return{container:(t=fv.variants)==null?void 0:t.solid(e)}}),outline:ch(e=>{var t;return{container:(t=fv.variants)==null?void 0:t.outline(e)}})},uQe=nQe({variants:lQe,baseStyle:sQe,sizes:aQe,defaultProps:{size:"md",variant:"subtle",colorScheme:"gray"}}),{definePartsStyle:fu,defineMultiStyleConfig:cQe}=rn(FYe.keys),Sg=Ie("input-height"),Cg=Ie("input-font-size"),Eg=Ie("input-padding"),kg=Ie("input-border-radius"),fQe=fu({addon:{height:Sg.reference,fontSize:Cg.reference,px:Eg.reference,borderRadius:kg.reference},field:{width:"100%",height:Sg.reference,fontSize:Cg.reference,px:Eg.reference,borderRadius:kg.reference,minWidth:0,outline:0,position:"relative",appearance:"none",transitionProperty:"common",transitionDuration:"normal",_disabled:{opacity:.4,cursor:"not-allowed"}}}),lc={lg:{[Cg.variable]:"fontSizes.lg",[Eg.variable]:"space.4",[kg.variable]:"radii.md",[Sg.variable]:"sizes.12"},md:{[Cg.variable]:"fontSizes.md",[Eg.variable]:"space.4",[kg.variable]:"radii.md",[Sg.variable]:"sizes.10"},sm:{[Cg.variable]:"fontSizes.sm",[Eg.variable]:"space.3",[kg.variable]:"radii.sm",[Sg.variable]:"sizes.8"},xs:{[Cg.variable]:"fontSizes.xs",[Eg.variable]:"space.2",[kg.variable]:"radii.sm",[Sg.variable]:"sizes.6"}},dQe={lg:fu({field:lc.lg,group:lc.lg}),md:fu({field:lc.md,group:lc.md}),sm:fu({field:lc.sm,group:lc.sm}),xs:fu({field:lc.xs,group:lc.xs})};function Z8(e){const{focusBorderColor:t,errorBorderColor:n}=e;return{focusBorderColor:t||je("blue.500","blue.300")(e),errorBorderColor:n||je("red.500","red.300")(e)}}var hQe=fu(e=>{const{theme:t}=e,{focusBorderColor:n,errorBorderColor:r}=Z8(e);return{field:{border:"1px solid",borderColor:"inherit",bg:"inherit",_hover:{borderColor:je("gray.300","whiteAlpha.400")(e)},_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:Ai(t,r),boxShadow:`0 0 0 1px ${Ai(t,r)}`},_focusVisible:{zIndex:1,borderColor:Ai(t,n),boxShadow:`0 0 0 1px ${Ai(t,n)}`}},addon:{border:"1px solid",borderColor:je("inherit","whiteAlpha.50")(e),bg:je("gray.100","whiteAlpha.300")(e)}}}),pQe=fu(e=>{const{theme:t}=e,{focusBorderColor:n,errorBorderColor:r}=Z8(e);return{field:{border:"2px solid",borderColor:"transparent",bg:je("gray.100","whiteAlpha.50")(e),_hover:{bg:je("gray.200","whiteAlpha.100")(e)},_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:Ai(t,r)},_focusVisible:{bg:"transparent",borderColor:Ai(t,n)}},addon:{border:"2px solid",borderColor:"transparent",bg:je("gray.100","whiteAlpha.50")(e)}}}),gQe=fu(e=>{const{theme:t}=e,{focusBorderColor:n,errorBorderColor:r}=Z8(e);return{field:{borderBottom:"1px solid",borderColor:"inherit",borderRadius:"0",px:"0",bg:"transparent",_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:Ai(t,r),boxShadow:`0px 1px 0px 0px ${Ai(t,r)}`},_focusVisible:{borderColor:Ai(t,n),boxShadow:`0px 1px 0px 0px ${Ai(t,n)}`}},addon:{borderBottom:"2px solid",borderColor:"inherit",borderRadius:"0",px:"0",bg:"transparent"}}}),mQe=fu({field:{bg:"transparent",px:"0",height:"auto"},addon:{bg:"transparent",px:"0",height:"auto"}}),yQe={outline:hQe,filled:pQe,flushed:gQe,unstyled:mQe},Rt=cQe({baseStyle:fQe,sizes:dQe,variants:yQe,defaultProps:{size:"md",variant:"outline"}}),dq,vQe={...(dq=Rt.baseStyle)==null?void 0:dq.field,paddingY:"2",minHeight:"20",lineHeight:"short",verticalAlign:"top"},hq,pq,bQe={outline:e=>{var t,n;return(n=(t=Rt.variants)==null?void 0:t.outline(e).field)!=null?n:{}},flushed:e=>{var t,n;return(n=(t=Rt.variants)==null?void 0:t.flushed(e).field)!=null?n:{}},filled:e=>{var t,n;return(n=(t=Rt.variants)==null?void 0:t.filled(e).field)!=null?n:{}},unstyled:(pq=(hq=Rt.variants)==null?void 0:hq.unstyled.field)!=null?pq:{}},gq,mq,yq,vq,bq,xq,wq,Sq,xQe={xs:(mq=(gq=Rt.sizes)==null?void 0:gq.xs.field)!=null?mq:{},sm:(vq=(yq=Rt.sizes)==null?void 0:yq.sm.field)!=null?vq:{},md:(xq=(bq=Rt.sizes)==null?void 0:bq.md.field)!=null?xq:{},lg:(Sq=(wq=Rt.sizes)==null?void 0:wq.lg.field)!=null?Sq:{}},wQe={baseStyle:vQe,sizes:xQe,variants:bQe,defaultProps:{size:"md",variant:"outline"}},Rw=ur("tooltip-bg"),e4=ur("tooltip-fg"),SQe=ur("popper-arrow-bg"),CQe={bg:Rw.reference,color:e4.reference,[Rw.variable]:"colors.gray.700",[e4.variable]:"colors.whiteAlpha.900",_dark:{[Rw.variable]:"colors.gray.300",[e4.variable]:"colors.gray.900"},[SQe.variable]:Rw.reference,px:"2",py:"0.5",borderRadius:"sm",fontWeight:"medium",fontSize:"sm",boxShadow:"md",maxW:"xs",zIndex:"tooltip"},EQe={baseStyle:CQe},{defineMultiStyleConfig:kQe,definePartsStyle:P1}=rn(LYe.keys),_Qe=e=>{const{colorScheme:t,theme:n,isIndeterminate:r,hasStripe:i}=e,o=je(oq(),oq("1rem","rgba(0,0,0,0.1)"))(e),s=je(`${t}.500`,`${t}.200`)(e),a=`linear-gradient(
    to right,
    transparent 0%,
    ${Ai(n,s)} 50%,
    transparent 100%
  )`;return{...!r&&i&&o,...r?{bgImage:a}:{bgColor:s}}},$Qe={lineHeight:"1",fontSize:"0.25em",fontWeight:"bold",color:"white"},AQe=e=>({bg:je("gray.100","whiteAlpha.300")(e)}),TQe=e=>({transitionProperty:"common",transitionDuration:"slow",..._Qe(e)}),RQe=P1(e=>({label:$Qe,filledTrack:TQe(e),track:AQe(e)})),FQe={xs:P1({track:{h:"1"}}),sm:P1({track:{h:"2"}}),md:P1({track:{h:"3"}}),lg:P1({track:{h:"4"}})},OQe=kQe({sizes:FQe,baseStyle:RQe,defaultProps:{size:"md",colorScheme:"blue"}}),PQe=e=>typeof e=="function";function Oi(e,...t){return PQe(e)?e(...t):e}var{definePartsStyle:LS,defineMultiStyleConfig:DQe}=rn(_Ye.keys),dv=Ie("checkbox-size"),MQe=e=>{const{colorScheme:t}=e;return{w:dv.reference,h:dv.reference,transitionProperty:"box-shadow",transitionDuration:"normal",border:"2px solid",borderRadius:"sm",borderColor:"inherit",color:"white",_checked:{bg:je(`${t}.500`,`${t}.200`)(e),borderColor:je(`${t}.500`,`${t}.200`)(e),color:je("white","gray.900")(e),_hover:{bg:je(`${t}.600`,`${t}.300`)(e),borderColor:je(`${t}.600`,`${t}.300`)(e)},_disabled:{borderColor:je("gray.200","transparent")(e),bg:je("gray.200","whiteAlpha.300")(e),color:je("gray.500","whiteAlpha.500")(e)}},_indeterminate:{bg:je(`${t}.500`,`${t}.200`)(e),borderColor:je(`${t}.500`,`${t}.200`)(e),color:je("white","gray.900")(e)},_disabled:{bg:je("gray.100","whiteAlpha.100")(e),borderColor:je("gray.100","transparent")(e)},_focusVisible:{boxShadow:"outline"},_invalid:{borderColor:je("red.500","red.300")(e)}}},NQe={_disabled:{cursor:"not-allowed"}},LQe={userSelect:"none",_disabled:{opacity:.4}},IQe={transitionProperty:"transform",transitionDuration:"normal"},zQe=LS(e=>({icon:IQe,container:NQe,control:Oi(MQe,e),label:LQe})),BQe={sm:LS({control:{[dv.variable]:"sizes.3"},label:{fontSize:"sm"},icon:{fontSize:"3xs"}}),md:LS({control:{[dv.variable]:"sizes.4"},label:{fontSize:"md"},icon:{fontSize:"2xs"}}),lg:LS({control:{[dv.variable]:"sizes.5"},label:{fontSize:"lg"},icon:{fontSize:"2xs"}})},ak=DQe({baseStyle:zQe,sizes:BQe,defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:jQe,definePartsStyle:IS}=rn(IYe.keys),UQe=e=>{var t;const n=(t=Oi(ak.baseStyle,e))==null?void 0:t.control;return{...n,borderRadius:"full",_checked:{...n==null?void 0:n._checked,_before:{content:'""',display:"inline-block",pos:"relative",w:"50%",h:"50%",borderRadius:"50%",bg:"currentColor"}}}},VQe=IS(e=>{var t,n,r,i;return{label:(n=(t=ak).baseStyle)==null?void 0:n.call(t,e).label,container:(i=(r=ak).baseStyle)==null?void 0:i.call(r,e).container,control:UQe(e)}}),WQe={md:IS({control:{w:"4",h:"4"},label:{fontSize:"md"}}),lg:IS({control:{w:"5",h:"5"},label:{fontSize:"lg"}}),sm:IS({control:{width:"3",height:"3"},label:{fontSize:"sm"}})},HQe=jQe({baseStyle:VQe,sizes:WQe,defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:qQe,definePartsStyle:GQe}=rn(zYe.keys),Fw=Ie("select-bg"),Cq,XQe={...(Cq=Rt.baseStyle)==null?void 0:Cq.field,appearance:"none",paddingBottom:"1px",lineHeight:"normal",bg:Fw.reference,[Fw.variable]:"colors.white",_dark:{[Fw.variable]:"colors.gray.700"},"> option, > optgroup":{bg:Fw.reference}},YQe={width:"6",height:"100%",insetEnd:"2",position:"relative",color:"currentColor",fontSize:"xl",_disabled:{opacity:.5}},KQe=GQe({field:XQe,icon:YQe}),Ow={paddingInlineEnd:"8"},Eq,kq,_q,$q,Aq,Tq,Rq,Fq,QQe={lg:{...(Eq=Rt.sizes)==null?void 0:Eq.lg,field:{...(kq=Rt.sizes)==null?void 0:kq.lg.field,...Ow}},md:{...(_q=Rt.sizes)==null?void 0:_q.md,field:{...($q=Rt.sizes)==null?void 0:$q.md.field,...Ow}},sm:{...(Aq=Rt.sizes)==null?void 0:Aq.sm,field:{...(Tq=Rt.sizes)==null?void 0:Tq.sm.field,...Ow}},xs:{...(Rq=Rt.sizes)==null?void 0:Rq.xs,field:{...(Fq=Rt.sizes)==null?void 0:Fq.xs.field,...Ow},icon:{insetEnd:"1"}}},JQe=qQe({baseStyle:KQe,sizes:QQe,variants:Rt.variants,defaultProps:Rt.defaultProps}),t4=Ie("skeleton-start-color"),n4=Ie("skeleton-end-color"),ZQe={[t4.variable]:"colors.gray.100",[n4.variable]:"colors.gray.400",_dark:{[t4.variable]:"colors.gray.800",[n4.variable]:"colors.gray.600"},background:t4.reference,borderColor:n4.reference,opacity:.7,borderRadius:"sm"},eJe={baseStyle:ZQe},r4=Ie("skip-link-bg"),tJe={borderRadius:"md",fontWeight:"semibold",_focusVisible:{boxShadow:"outline",padding:"4",position:"fixed",top:"6",insetStart:"6",[r4.variable]:"colors.white",_dark:{[r4.variable]:"colors.gray.700"},bg:r4.reference}},nJe={baseStyle:tJe},{defineMultiStyleConfig:rJe,definePartsStyle:bA}=rn(BYe.keys),bb=Ie("slider-thumb-size"),xb=Ie("slider-track-size"),Ac=Ie("slider-bg"),iJe=e=>{const{orientation:t}=e;return{display:"inline-block",position:"relative",cursor:"pointer",_disabled:{opacity:.6,cursor:"default",pointerEvents:"none"},...J8({orientation:t,vertical:{h:"100%"},horizontal:{w:"100%"}})}},oJe=e=>({...J8({orientation:e.orientation,horizontal:{h:xb.reference},vertical:{w:xb.reference}}),overflow:"hidden",borderRadius:"sm",[Ac.variable]:"colors.gray.200",_dark:{[Ac.variable]:"colors.whiteAlpha.200"},_disabled:{[Ac.variable]:"colors.gray.300",_dark:{[Ac.variable]:"colors.whiteAlpha.300"}},bg:Ac.reference}),sJe=e=>{const{orientation:t}=e;return{...J8({orientation:t,vertical:{left:"50%",transform:"translateX(-50%)",_active:{transform:"translateX(-50%) scale(1.15)"}},horizontal:{top:"50%",transform:"translateY(-50%)",_active:{transform:"translateY(-50%) scale(1.15)"}}}),w:bb.reference,h:bb.reference,display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",outline:0,zIndex:1,borderRadius:"full",bg:"white",boxShadow:"base",border:"1px solid",borderColor:"transparent",transitionProperty:"transform",transitionDuration:"normal",_focusVisible:{boxShadow:"outline"},_disabled:{bg:"gray.300"}}},aJe=e=>{const{colorScheme:t}=e;return{width:"inherit",height:"inherit",[Ac.variable]:`colors.${t}.500`,_dark:{[Ac.variable]:`colors.${t}.200`},bg:Ac.reference}},lJe=bA(e=>({container:iJe(e),track:oJe(e),thumb:sJe(e),filledTrack:aJe(e)})),uJe=bA({container:{[bb.variable]:"sizes.4",[xb.variable]:"sizes.1"}}),cJe=bA({container:{[bb.variable]:"sizes.3.5",[xb.variable]:"sizes.1"}}),fJe=bA({container:{[bb.variable]:"sizes.2.5",[xb.variable]:"sizes.0.5"}}),dJe={lg:uJe,md:cJe,sm:fJe},hJe=rJe({baseStyle:lJe,sizes:dJe,defaultProps:{size:"md",colorScheme:"blue"}}),Pd=ur("spinner-size"),pJe={width:[Pd.reference],height:[Pd.reference]},gJe={xs:{[Pd.variable]:"sizes.3"},sm:{[Pd.variable]:"sizes.4"},md:{[Pd.variable]:"sizes.6"},lg:{[Pd.variable]:"sizes.8"},xl:{[Pd.variable]:"sizes.12"}},mJe={baseStyle:pJe,sizes:gJe,defaultProps:{size:"md"}},{defineMultiStyleConfig:yJe,definePartsStyle:ife}=rn(jYe.keys),vJe={fontWeight:"medium"},bJe={opacity:.8,marginBottom:"2"},xJe={verticalAlign:"baseline",fontWeight:"semibold"},wJe={marginEnd:1,w:"3.5",h:"3.5",verticalAlign:"middle"},SJe=ife({container:{},label:vJe,helpText:bJe,number:xJe,icon:wJe}),CJe={md:ife({label:{fontSize:"sm"},helpText:{fontSize:"sm"},number:{fontSize:"2xl"}})},EJe=yJe({baseStyle:SJe,sizes:CJe,defaultProps:{size:"md"}}),i4=Ie("kbd-bg"),kJe={[i4.variable]:"colors.gray.100",_dark:{[i4.variable]:"colors.whiteAlpha.100"},bg:i4.reference,borderRadius:"md",borderWidth:"1px",borderBottomWidth:"3px",fontSize:"0.8em",fontWeight:"bold",lineHeight:"normal",px:"0.4em",whiteSpace:"nowrap"},_Je={baseStyle:kJe},$Je={transitionProperty:"common",transitionDuration:"fast",transitionTimingFunction:"ease-out",cursor:"pointer",textDecoration:"none",outline:"none",color:"inherit",_hover:{textDecoration:"underline"},_focusVisible:{boxShadow:"outline"}},AJe={baseStyle:$Je},{defineMultiStyleConfig:TJe,definePartsStyle:RJe}=rn(OYe.keys),FJe={marginEnd:"2",display:"inline",verticalAlign:"text-bottom"},OJe=RJe({icon:FJe}),PJe=TJe({baseStyle:OJe}),{defineMultiStyleConfig:DJe,definePartsStyle:MJe}=rn(PYe.keys),Wa=Ie("menu-bg"),o4=Ie("menu-shadow"),NJe={[Wa.variable]:"#fff",[o4.variable]:"shadows.sm",_dark:{[Wa.variable]:"colors.gray.700",[o4.variable]:"shadows.dark-lg"},color:"inherit",minW:"3xs",py:"2",zIndex:1,borderRadius:"md",borderWidth:"1px",bg:Wa.reference,boxShadow:o4.reference},LJe={py:"1.5",px:"3",transitionProperty:"background",transitionDuration:"ultra-fast",transitionTimingFunction:"ease-in",_focus:{[Wa.variable]:"colors.gray.100",_dark:{[Wa.variable]:"colors.whiteAlpha.100"}},_active:{[Wa.variable]:"colors.gray.200",_dark:{[Wa.variable]:"colors.whiteAlpha.200"}},_expanded:{[Wa.variable]:"colors.gray.100",_dark:{[Wa.variable]:"colors.whiteAlpha.100"}},_disabled:{opacity:.4,cursor:"not-allowed"},bg:Wa.reference},IJe={mx:4,my:2,fontWeight:"semibold",fontSize:"sm"},zJe={display:"inline-flex",alignItems:"center",justifyContent:"center",flexShrink:0},BJe={opacity:.6},jJe={border:0,borderBottom:"1px solid",borderColor:"inherit",my:"2",opacity:.6},UJe={transitionProperty:"common",transitionDuration:"normal"},VJe=MJe({button:UJe,list:NJe,item:LJe,groupTitle:IJe,icon:zJe,command:BJe,divider:jJe}),WJe=DJe({baseStyle:VJe}),{defineMultiStyleConfig:HJe,definePartsStyle:fP}=rn(DYe.keys),s4=Ie("modal-bg"),a4=Ie("modal-shadow"),qJe={bg:"blackAlpha.600",zIndex:"modal"},GJe=e=>{const{isCentered:t,scrollBehavior:n}=e;return{display:"flex",zIndex:"modal",justifyContent:"center",alignItems:t?"center":"flex-start",overflow:n==="inside"?"hidden":"auto",overscrollBehaviorY:"none"}},XJe=e=>{const{isCentered:t,scrollBehavior:n}=e;return{borderRadius:"md",color:"inherit",my:t?"auto":"16",mx:t?"auto":void 0,zIndex:"modal",maxH:n==="inside"?"calc(100% - 7.5rem)":void 0,[s4.variable]:"colors.white",[a4.variable]:"shadows.lg",_dark:{[s4.variable]:"colors.gray.700",[a4.variable]:"shadows.dark-lg"},bg:s4.reference,boxShadow:a4.reference}},YJe={px:"6",py:"4",fontSize:"xl",fontWeight:"semibold"},KJe={position:"absolute",top:"2",insetEnd:"3"},QJe=e=>{const{scrollBehavior:t}=e;return{px:"6",py:"2",flex:"1",overflow:t==="inside"?"auto":void 0}},JJe={px:"6",py:"4"},ZJe=fP(e=>({overlay:qJe,dialogContainer:Oi(GJe,e),dialog:Oi(XJe,e),header:YJe,closeButton:KJe,body:Oi(QJe,e),footer:JJe}));function Bs(e){return fP(e==="full"?{dialog:{maxW:"100vw",minH:"$100vh",my:"0",borderRadius:"0"}}:{dialog:{maxW:e}})}var eZe={xs:Bs("xs"),sm:Bs("sm"),md:Bs("md"),lg:Bs("lg"),xl:Bs("xl"),"2xl":Bs("2xl"),"3xl":Bs("3xl"),"4xl":Bs("4xl"),"5xl":Bs("5xl"),"6xl":Bs("6xl"),full:Bs("full")},tZe=HJe({baseStyle:ZJe,sizes:eZe,defaultProps:{size:"md"}}),{defineMultiStyleConfig:nZe,definePartsStyle:ofe}=rn(MYe.keys),e9=ur("number-input-stepper-width"),sfe=ur("number-input-input-padding"),rZe=ru(e9).add("0.5rem").toString(),l4=ur("number-input-bg"),u4=ur("number-input-color"),c4=ur("number-input-border-color"),iZe={[e9.variable]:"sizes.6",[sfe.variable]:rZe},oZe=e=>{var t,n;return(n=(t=Oi(Rt.baseStyle,e))==null?void 0:t.field)!=null?n:{}},sZe={width:e9.reference},aZe={borderStart:"1px solid",borderStartColor:c4.reference,color:u4.reference,bg:l4.reference,[u4.variable]:"colors.chakra-body-text",[c4.variable]:"colors.chakra-border-color",_dark:{[u4.variable]:"colors.whiteAlpha.800",[c4.variable]:"colors.whiteAlpha.300"},_active:{[l4.variable]:"colors.gray.200",_dark:{[l4.variable]:"colors.whiteAlpha.300"}},_disabled:{opacity:.4,cursor:"not-allowed"}},lZe=ofe(e=>{var t;return{root:iZe,field:(t=Oi(oZe,e))!=null?t:{},stepperGroup:sZe,stepper:aZe}});function Pw(e){var t,n,r;const i=(t=Rt.sizes)==null?void 0:t[e],o={lg:"md",md:"md",sm:"sm",xs:"sm"},s=(r=(n=i.field)==null?void 0:n.fontSize)!=null?r:"md",a=Zce.fontSizes[s];return ofe({field:{...i.field,paddingInlineEnd:sfe.reference,verticalAlign:"top"},stepper:{fontSize:ru(a).multiply(.75).toString(),_first:{borderTopEndRadius:o[e]},_last:{borderBottomEndRadius:o[e],mt:"-1px",borderTopWidth:1}}})}var uZe={xs:Pw("xs"),sm:Pw("sm"),md:Pw("md"),lg:Pw("lg")},cZe=nZe({baseStyle:lZe,sizes:uZe,variants:Rt.variants,defaultProps:Rt.defaultProps}),Oq,fZe={...(Oq=Rt.baseStyle)==null?void 0:Oq.field,textAlign:"center"},dZe={lg:{fontSize:"lg",w:12,h:12,borderRadius:"md"},md:{fontSize:"md",w:10,h:10,borderRadius:"md"},sm:{fontSize:"sm",w:8,h:8,borderRadius:"sm"},xs:{fontSize:"xs",w:6,h:6,borderRadius:"sm"}},Pq,Dq,hZe={outline:e=>{var t,n,r;return(r=(n=Oi((t=Rt.variants)==null?void 0:t.outline,e))==null?void 0:n.field)!=null?r:{}},flushed:e=>{var t,n,r;return(r=(n=Oi((t=Rt.variants)==null?void 0:t.flushed,e))==null?void 0:n.field)!=null?r:{}},filled:e=>{var t,n,r;return(r=(n=Oi((t=Rt.variants)==null?void 0:t.filled,e))==null?void 0:n.field)!=null?r:{}},unstyled:(Dq=(Pq=Rt.variants)==null?void 0:Pq.unstyled.field)!=null?Dq:{}},pZe={baseStyle:fZe,sizes:dZe,variants:hZe,defaultProps:Rt.defaultProps},{defineMultiStyleConfig:gZe,definePartsStyle:mZe}=rn(NYe.keys),Dw=ur("popper-bg"),yZe=ur("popper-arrow-bg"),Mq=ur("popper-arrow-shadow-color"),vZe={zIndex:10},bZe={[Dw.variable]:"colors.white",bg:Dw.reference,[yZe.variable]:Dw.reference,[Mq.variable]:"colors.gray.200",_dark:{[Dw.variable]:"colors.gray.700",[Mq.variable]:"colors.whiteAlpha.300"},width:"xs",border:"1px solid",borderColor:"inherit",borderRadius:"md",boxShadow:"sm",zIndex:"inherit",_focusVisible:{outline:0,boxShadow:"outline"}},xZe={px:3,py:2,borderBottomWidth:"1px"},wZe={px:3,py:2},SZe={px:3,py:2,borderTopWidth:"1px"},CZe={position:"absolute",borderRadius:"md",top:1,insetEnd:2,padding:2},EZe=mZe({popper:vZe,content:bZe,header:xZe,body:wZe,footer:SZe,closeButton:CZe}),kZe=gZe({baseStyle:EZe}),{definePartsStyle:dP,defineMultiStyleConfig:_Ze}=rn($Ye.keys),f4=Ie("drawer-bg"),d4=Ie("drawer-box-shadow");function qp(e){return dP(e==="full"?{dialog:{maxW:"100vw",h:"100vh"}}:{dialog:{maxW:e}})}var $Ze={bg:"blackAlpha.600",zIndex:"modal"},AZe={display:"flex",zIndex:"modal",justifyContent:"center"},TZe=e=>{const{isFullHeight:t}=e;return{...t&&{height:"100vh"},zIndex:"modal",maxH:"100vh",color:"inherit",[f4.variable]:"colors.white",[d4.variable]:"shadows.lg",_dark:{[f4.variable]:"colors.gray.700",[d4.variable]:"shadows.dark-lg"},bg:f4.reference,boxShadow:d4.reference}},RZe={px:"6",py:"4",fontSize:"xl",fontWeight:"semibold"},FZe={position:"absolute",top:"2",insetEnd:"3"},OZe={px:"6",py:"2",flex:"1",overflow:"auto"},PZe={px:"6",py:"4"},DZe=dP(e=>({overlay:$Ze,dialogContainer:AZe,dialog:Oi(TZe,e),header:RZe,closeButton:FZe,body:OZe,footer:PZe})),MZe={xs:qp("xs"),sm:qp("md"),md:qp("lg"),lg:qp("2xl"),xl:qp("4xl"),full:qp("full")},NZe=_Ze({baseStyle:DZe,sizes:MZe,defaultProps:{size:"xs"}}),{definePartsStyle:LZe,defineMultiStyleConfig:IZe}=rn(AYe.keys),zZe={borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal"},BZe={borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal",width:"full",_focusVisible:{boxShadow:"outline"},_placeholder:{opacity:.6}},jZe={borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal",width:"full",_focusVisible:{boxShadow:"outline"},_placeholder:{opacity:.6}},UZe=LZe({preview:zZe,input:BZe,textarea:jZe}),VZe=IZe({baseStyle:UZe}),{definePartsStyle:WZe,defineMultiStyleConfig:HZe}=rn(TYe.keys),Xg=Ie("form-control-color"),qZe={marginStart:"1",[Xg.variable]:"colors.red.500",_dark:{[Xg.variable]:"colors.red.300"},color:Xg.reference},GZe={mt:"2",[Xg.variable]:"colors.gray.600",_dark:{[Xg.variable]:"colors.whiteAlpha.600"},color:Xg.reference,lineHeight:"normal",fontSize:"sm"},XZe=WZe({container:{width:"100%",position:"relative"},requiredIndicator:qZe,helperText:GZe}),YZe=HZe({baseStyle:XZe}),{definePartsStyle:KZe,defineMultiStyleConfig:QZe}=rn(RYe.keys),Yg=Ie("form-error-color"),JZe={[Yg.variable]:"colors.red.500",_dark:{[Yg.variable]:"colors.red.300"},color:Yg.reference,mt:"2",fontSize:"sm",lineHeight:"normal"},ZZe={marginEnd:"0.5em",[Yg.variable]:"colors.red.500",_dark:{[Yg.variable]:"colors.red.300"},color:Yg.reference},eet=KZe({text:JZe,icon:ZZe}),tet=QZe({baseStyle:eet}),net={fontSize:"md",marginEnd:"3",mb:"2",fontWeight:"medium",transitionProperty:"common",transitionDuration:"normal",opacity:1,_disabled:{opacity:.4}},ret={baseStyle:net},iet={fontFamily:"heading",fontWeight:"bold"},oet={"4xl":{fontSize:["6xl",null,"7xl"],lineHeight:1},"3xl":{fontSize:["5xl",null,"6xl"],lineHeight:1},"2xl":{fontSize:["4xl",null,"5xl"],lineHeight:[1.2,null,1]},xl:{fontSize:["3xl",null,"4xl"],lineHeight:[1.33,null,1.2]},lg:{fontSize:["2xl",null,"3xl"],lineHeight:[1.33,null,1.2]},md:{fontSize:"xl",lineHeight:1.2},sm:{fontSize:"md",lineHeight:1.2},xs:{fontSize:"sm",lineHeight:1.2}},set={baseStyle:iet,sizes:oet,defaultProps:{size:"xl"}},{defineMultiStyleConfig:aet,definePartsStyle:uet}=rn(kYe.keys),h4=Ie("breadcrumb-link-decor"),cet={transitionProperty:"common",transitionDuration:"fast",transitionTimingFunction:"ease-out",outline:"none",color:"inherit",textDecoration:h4.reference,[h4.variable]:"none","&:not([aria-current=page])":{cursor:"pointer",_hover:{[h4.variable]:"underline"},_focusVisible:{boxShadow:"outline"}}},fet=uet({link:cet}),det=aet({baseStyle:fet}),het={lineHeight:"1.2",borderRadius:"md",fontWeight:"semibold",transitionProperty:"common",transitionDuration:"normal",_focusVisible:{boxShadow:"outline"},_disabled:{opacity:.4,cursor:"not-allowed",boxShadow:"none"},_hover:{_disabled:{bg:"initial"}}},afe=e=>{const{colorScheme:t,theme:n}=e;if(t==="gray")return{color:je("gray.800","whiteAlpha.900")(e),_hover:{bg:je("gray.100","whiteAlpha.200")(e)},_active:{bg:je("gray.200","whiteAlpha.300")(e)}};const r=l0(`${t}.200`,.12)(n),i=l0(`${t}.200`,.24)(n);return{color:je(`${t}.600`,`${t}.200`)(e),bg:"transparent",_hover:{bg:je(`${t}.50`,r)(e)},_active:{bg:je(`${t}.100`,i)(e)}}},pet=e=>{const{colorScheme:t}=e,n=je("gray.200","whiteAlpha.300")(e);return{border:"1px solid",borderColor:t==="gray"?n:"currentColor",".chakra-button__group[data-attached][data-orientation=horizontal] > &:not(:last-of-type)":{marginEnd:"-1px"},".chakra-button__group[data-attached][data-orientation=vertical] > &:not(:last-of-type)":{marginBottom:"-1px"},...Oi(afe,e)}},get={yellow:{bg:"yellow.400",color:"black",hoverBg:"yellow.500",activeBg:"yellow.600"},cyan:{bg:"cyan.400",color:"black",hoverBg:"cyan.500",activeBg:"cyan.600"}},met=e=>{var t;const{colorScheme:n}=e;if(n==="gray"){const l=je("gray.100","whiteAlpha.200")(e);return{bg:l,color:je("gray.800","whiteAlpha.900")(e),_hover:{bg:je("gray.200","whiteAlpha.300")(e),_disabled:{bg:l}},_active:{bg:je("gray.300","whiteAlpha.400")(e)}}}const{bg:r=`${n}.500`,color:i="white",hoverBg:o=`${n}.600`,activeBg:s=`${n}.700`}=(t=get[n])!=null?t:{},a=je(r,`${n}.200`)(e);return{bg:a,color:je(i,"gray.800")(e),_hover:{bg:je(o,`${n}.300`)(e),_disabled:{bg:a}},_active:{bg:je(s,`${n}.400`)(e)}}},yet=e=>{const{colorScheme:t}=e;return{padding:0,height:"auto",lineHeight:"normal",verticalAlign:"baseline",color:je(`${t}.500`,`${t}.200`)(e),_hover:{textDecoration:"underline",_disabled:{textDecoration:"none"}},_active:{color:je(`${t}.700`,`${t}.500`)(e)}}},vet={bg:"none",color:"inherit",display:"inline",lineHeight:"inherit",m:"0",p:"0"},bet={ghost:afe,outline:pet,solid:met,link:yet,unstyled:vet},xet={lg:{h:"12",minW:"12",fontSize:"lg",px:"6"},md:{h:"10",minW:"10",fontSize:"md",px:"4"},sm:{h:"8",minW:"8",fontSize:"sm",px:"3"},xs:{h:"6",minW:"6",fontSize:"xs",px:"2"}},wet={baseStyle:het,variants:bet,sizes:xet,defaultProps:{variant:"solid",size:"md",colorScheme:"gray"}},{definePartsStyle:fh,defineMultiStyleConfig:Cet}=rn(qYe.keys),lk=Ie("card-bg"),Su=Ie("card-padding"),lfe=Ie("card-shadow"),zS=Ie("card-radius"),ufe=Ie("card-border-width","0"),cfe=Ie("card-border-color"),Eet=fh({container:{[lk.variable]:"colors.chakra-body-bg",backgroundColor:lk.reference,boxShadow:lfe.reference,borderRadius:zS.reference,color:"chakra-body-text",borderWidth:ufe.reference,borderColor:cfe.reference},body:{padding:Su.reference,flex:"1 1 0%"},header:{padding:Su.reference},footer:{padding:Su.reference}}),ket={sm:fh({container:{[zS.variable]:"radii.base",[Su.variable]:"space.3"}}),md:fh({container:{[zS.variable]:"radii.md",[Su.variable]:"space.5"}}),lg:fh({container:{[zS.variable]:"radii.xl",[Su.variable]:"space.7"}})},_et={elevated:fh({container:{[lfe.variable]:"shadows.base",_dark:{[lk.variable]:"colors.gray.700"}}}),outline:fh({container:{[ufe.variable]:"1px",[cfe.variable]:"colors.chakra-border-color"}}),filled:fh({container:{[lk.variable]:"colors.chakra-subtle-bg"}}),unstyled:{body:{[Su.variable]:0},header:{[Su.variable]:0},footer:{[Su.variable]:0}}},$et=Cet({baseStyle:Eet,variants:_et,sizes:ket,defaultProps:{variant:"elevated",size:"md"}}),hv=ur("close-button-size"),Gy=ur("close-button-bg"),Aet={w:[hv.reference],h:[hv.reference],borderRadius:"md",transitionProperty:"common",transitionDuration:"normal",_disabled:{opacity:.4,cursor:"not-allowed",boxShadow:"none"},_hover:{[Gy.variable]:"colors.blackAlpha.100",_dark:{[Gy.variable]:"colors.whiteAlpha.100"}},_active:{[Gy.variable]:"colors.blackAlpha.200",_dark:{[Gy.variable]:"colors.whiteAlpha.200"}},_focusVisible:{boxShadow:"outline"},bg:Gy.reference},Tet={lg:{[hv.variable]:"sizes.10",fontSize:"md"},md:{[hv.variable]:"sizes.8",fontSize:"xs"},sm:{[hv.variable]:"sizes.6",fontSize:"2xs"}},Ret={baseStyle:Aet,sizes:Tet,defaultProps:{size:"md"}},{variants:Fet,defaultProps:Oet}=fv,Pet={fontFamily:"mono",fontSize:"sm",px:"0.2em",borderRadius:"sm",bg:Bn.bg.reference,color:Bn.color.reference,boxShadow:Bn.shadow.reference},Det={baseStyle:Pet,variants:Fet,defaultProps:Oet},Met={w:"100%",mx:"auto",maxW:"prose",px:"4"},Net={baseStyle:Met},Let={opacity:.6,borderColor:"inherit"},Iet={borderStyle:"solid"},zet={borderStyle:"dashed"},Bet={solid:Iet,dashed:zet},jet={baseStyle:Let,variants:Bet,defaultProps:{variant:"solid"}},{definePartsStyle:Uet,defineMultiStyleConfig:Vet}=rn(SYe.keys),Wet={borderTopWidth:"1px",borderColor:"inherit",_last:{borderBottomWidth:"1px"}},Het={transitionProperty:"common",transitionDuration:"normal",fontSize:"md",_focusVisible:{boxShadow:"outline"},_hover:{bg:"blackAlpha.50"},_disabled:{opacity:.4,cursor:"not-allowed"},px:"4",py:"2"},qet={pt:"2",px:"4",pb:"5"},Get={fontSize:"1.25em"},Xet=Uet({container:Wet,button:Het,panel:qet,icon:Get}),Yet=Vet({baseStyle:Xet}),{definePartsStyle:Bx,defineMultiStyleConfig:Ket}=rn(CYe.keys),Do=Ie("alert-fg"),Du=Ie("alert-bg"),Qet=Bx({container:{bg:Du.reference,px:"4",py:"3"},title:{fontWeight:"bold",lineHeight:"6",marginEnd:"2"},description:{lineHeight:"6"},icon:{color:Do.reference,flexShrink:0,marginEnd:"3",w:"5",h:"6"},spinner:{color:Do.reference,flexShrink:0,marginEnd:"3",w:"5",h:"5"}});function t9(e){const{theme:t,colorScheme:n}=e,r=l0(`${n}.200`,.16)(t);return{light:`colors.${n}.100`,dark:r}}var Jet=Bx(e=>{const{colorScheme:t}=e,n=t9(e);return{container:{[Do.variable]:`colors.${t}.600`,[Du.variable]:n.light,_dark:{[Do.variable]:`colors.${t}.200`,[Du.variable]:n.dark}}}}),Zet=Bx(e=>{const{colorScheme:t}=e,n=t9(e);return{container:{[Do.variable]:`colors.${t}.600`,[Du.variable]:n.light,_dark:{[Do.variable]:`colors.${t}.200`,[Du.variable]:n.dark},paddingStart:"3",borderStartWidth:"4px",borderStartColor:Do.reference}}}),ett=Bx(e=>{const{colorScheme:t}=e,n=t9(e);return{container:{[Do.variable]:`colors.${t}.600`,[Du.variable]:n.light,_dark:{[Do.variable]:`colors.${t}.200`,[Du.variable]:n.dark},pt:"2",borderTopWidth:"4px",borderTopColor:Do.reference}}}),ttt=Bx(e=>{const{colorScheme:t}=e;return{container:{[Do.variable]:"colors.white",[Du.variable]:`colors.${t}.600`,_dark:{[Do.variable]:"colors.gray.900",[Du.variable]:`colors.${t}.200`},color:Do.reference}}}),ntt={subtle:Jet,"left-accent":Zet,"top-accent":ett,solid:ttt},rtt=Ket({baseStyle:Qet,variants:ntt,defaultProps:{variant:"subtle",colorScheme:"blue"}}),{definePartsStyle:ffe,defineMultiStyleConfig:itt}=rn(EYe.keys),Kg=Ie("avatar-border-color"),pv=Ie("avatar-bg"),wb=Ie("avatar-font-size"),u0=Ie("avatar-size"),ott={borderRadius:"full",border:"0.2em solid",borderColor:Kg.reference,[Kg.variable]:"white",_dark:{[Kg.variable]:"colors.gray.800"}},stt={bg:pv.reference,fontSize:wb.reference,width:u0.reference,height:u0.reference,lineHeight:"1",[pv.variable]:"colors.gray.200",_dark:{[pv.variable]:"colors.whiteAlpha.400"}},att=e=>{const{name:t,theme:n}=e,r=t?dKe({string:t}):"colors.gray.400",i=cKe(r)(n);let o="white";return i||(o="gray.800"),{bg:pv.reference,fontSize:wb.reference,color:o,borderColor:Kg.reference,verticalAlign:"top",width:u0.reference,height:u0.reference,"&:not([data-loaded])":{[pv.variable]:r},[Kg.variable]:"colors.white",_dark:{[Kg.variable]:"colors.gray.800"}}},ltt={fontSize:wb.reference,lineHeight:"1"},utt=ffe(e=>({badge:Oi(ott,e),excessLabel:Oi(stt,e),container:Oi(att,e),label:ltt}));function uc(e){const t=e!=="100%"?tfe[e]:void 0;return ffe({container:{[u0.variable]:t??e,[wb.variable]:`calc(${t??e} / 2.5)`},excessLabel:{[u0.variable]:t??e,[wb.variable]:`calc(${t??e} / 2.5)`}})}var ctt={"2xs":uc(4),xs:uc(6),sm:uc(8),md:uc(12),lg:uc(16),xl:uc(24),"2xl":uc(32),full:uc("100%")},ftt=itt({baseStyle:utt,sizes:ctt,defaultProps:{size:"md"}}),dtt={Accordion:Yet,Alert:rtt,Avatar:ftt,Badge:fv,Breadcrumb:det,Button:wet,Checkbox:ak,CloseButton:Ret,Code:Det,Container:Net,Divider:jet,Drawer:NZe,Editable:VZe,Form:YZe,FormError:tet,FormLabel:ret,Heading:set,Input:Rt,Kbd:_Je,Link:AJe,List:PJe,Menu:WJe,Modal:tZe,NumberInput:cZe,PinInput:pZe,Popover:kZe,Progress:OQe,Radio:HQe,Select:JQe,Skeleton:eJe,SkipLink:nJe,Slider:hJe,Spinner:mJe,Stat:EJe,Switch:AKe,Table:MKe,Tabs:KKe,Tag:uQe,Textarea:wQe,Tooltip:EQe,Card:$et,Stepper:wYe},htt={colors:{"chakra-body-text":{_light:"gray.800",_dark:"whiteAlpha.900"},"chakra-body-bg":{_light:"white",_dark:"gray.800"},"chakra-border-color":{_light:"gray.200",_dark:"whiteAlpha.300"},"chakra-inverse-text":{_light:"white",_dark:"gray.800"},"chakra-subtle-bg":{_light:"gray.100",_dark:"gray.700"},"chakra-subtle-text":{_light:"gray.600",_dark:"gray.400"},"chakra-placeholder-color":{_light:"gray.500",_dark:"whiteAlpha.400"}}},ptt={global:{body:{fontFamily:"body",color:"chakra-body-text",bg:"chakra-body-bg",transitionProperty:"background-color",transitionDuration:"normal",lineHeight:"base"},"*::placeholder":{color:"chakra-placeholder-color"},"*, *::before, &::after":{borderColor:"chakra-border-color"}}},gtt="ltr",mtt={useSystemColorMode:!1,initialColorMode:"light",cssVarPrefix:"chakra"},dfe={semanticTokens:htt,direction:gtt,...vYe,components:dtt,styles:ptt,config:mtt};function D1(e){return typeof e=="function"}function ytt(...e){return t=>e.reduce((n,r)=>r(n),t)}var vtt=e=>function(...n){let r=[...n],i=n[n.length-1];return XXe(i)&&r.length>1?r=r.slice(0,r.length-1):i=e,ytt(...r.map(o=>s=>D1(o)?o(s):xtt(s,o)))(i)},btt=vtt(dfe);function xtt(...e){return gs({},...e,hfe)}function hfe(e,t,n,r){if((D1(e)||D1(t))&&Object.prototype.hasOwnProperty.call(r,n))return(...i)=>{const o=D1(e)?e(...i):e,s=D1(t)?t(...i):t;return gs({},o,s,hfe)}}function wtt(e,t){const n={};return Object.keys(e).forEach(r=>{t.includes(r)||(n[r]=e[r])}),n}function Stt(e,t,n,r){const i=typeof t=="string"?t.split("."):[t];for(r=0;r<i.length&&e;r+=1)e=e[i[r]];return e===void 0?n:e}var Ctt=e=>{const t=new WeakMap;return(r,i,o,s)=>{if(typeof r>"u")return e(r,i,o);t.has(r)||t.set(r,new Map);const a=t.get(r);if(a.has(i))return a.get(i);const l=e(r,i,o,s);return a.set(i,l),l}},pfe=Ctt(Stt);function gfe(e,t){const n={};return Object.keys(e).forEach(r=>{const i=e[r];t(i,r,e)&&(n[r]=i)}),n}var mfe=e=>gfe(e,t=>t!=null);function Ett(e){return typeof e=="function"}function yfe(e,...t){return Ett(e)?e(...t):e}var ktt=typeof Element<"u",_tt=typeof Map=="function",$tt=typeof Set=="function",Att=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function BS(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var n,r,i;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!BS(e[r],t[r]))return!1;return!0}var o;if(_tt&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(o=e.entries();!(r=o.next()).done;)if(!t.has(r.value[0]))return!1;for(o=e.entries();!(r=o.next()).done;)if(!BS(r.value[1],t.get(r.value[0])))return!1;return!0}if($tt&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(o=e.entries();!(r=o.next()).done;)if(!t.has(r.value[0]))return!1;return!0}if(Att&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(e[r]!==t[r])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&typeof e.valueOf=="function"&&typeof t.valueOf=="function")return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&typeof e.toString=="function"&&typeof t.toString=="function")return e.toString()===t.toString();if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,i[r]))return!1;if(ktt&&e instanceof Element)return!1;for(r=n;r--!==0;)if(!((i[r]==="_owner"||i[r]==="__v"||i[r]==="__o")&&e.$$typeof)&&!BS(e[i[r]],t[i[r]]))return!1;return!0}return e!==e&&t!==t}var Ttt=function(t,n){try{return BS(t,n)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}};const Rtt=qh(Ttt);function vfe(e,t={}){var n;const{styleConfig:r,...i}=t,{theme:o,colorMode:s}=Hce(),a=e?pfe(o,`components.${e}`):void 0,l=r||a,u=gs({theme:o,colorMode:s},(n=l==null?void 0:l.defaultProps)!=null?n:{},mfe(wtt(i,["children"]))),c=M.useRef({});if(l){const d=qXe(l)(u);Rtt(c.current,d)||(c.current=d)}return c.current}function Gu(e,t={}){return vfe(e,t)}function Xf(e,t={}){return vfe(e,t)}var Ftt=new Set([...DXe,"textStyle","layerStyle","apply","noOfLines","focusBorderColor","errorBorderColor","as","__css","css","sx"]),Ott=new Set(["htmlWidth","htmlHeight","htmlSize","htmlTranslate"]);function Ptt(e){return Ott.has(e)||!Ftt.has(e)}function Dtt(e,...t){if(e==null)throw new TypeError("Cannot convert undefined or null to object");const n={...e};for(const r of t)if(r!=null)for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&(i in n&&delete n[i],n[i]=r[i]);return n}function bfe(e){const t=Object.assign({},e);for(let n in t)t[n]===void 0&&delete t[n];return t}var Mtt=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,Ntt=$le(function(e){return Mtt.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91}),Ltt=Ntt,Itt=function(t){return t!=="theme"},Nq=function(t){return typeof t=="string"&&t.charCodeAt(0)>96?Ltt:Itt},Lq=function(t,n,r){var i;if(n){var o=n.shouldForwardProp;i=t.__emotion_forwardProp&&o?function(s){return t.__emotion_forwardProp(s)&&o(s)}:o}return typeof i!="function"&&r&&(i=t.__emotion_forwardProp),i},ztt=!1,Btt=function(t){var n=t.cache,r=t.serialized,i=t.isStringTag;return Ple(n,r,i),rHe(function(){return Dle(n,r,i)}),null},jtt=function e(t,n){var r=t.__emotion_real===t,i=r&&t.__emotion_base||t,o,s;n!==void 0&&(o=n.label,s=n.target);var a=Lq(t,n,r),l=a||Nq(i),u=!l("as");return function(){var c=arguments,f=r&&t.__emotion_styles!==void 0?t.__emotion_styles.slice(0):[];if(o!==void 0&&f.push("label:"+o+";"),c[0]==null||c[0].raw===void 0)f.push.apply(f,c);else{f.push(c[0][0]);for(var d=c.length,h=1;h<d;h++)f.push(c[h],c[0][h])}var p=Ile(function(g,m,y){var v=u&&g.as||i,b="",x=[],w=g;if(g.theme==null){w={};for(var E in g)w[E]=g[E];w.theme=M.useContext(Zv)}typeof g.className=="string"?b=XWe(m.registered,x,g.className):g.className!=null&&(b=g.className+" ");var S=e8(f.concat(x),m.registered,w);b+=m.key+"-"+S.name,s!==void 0&&(b+=" "+s);var k=u&&a===void 0?Nq(v):l,$={};for(var F in g)u&&F==="as"||k(F)&&($[F]=g[F]);return $.className=b,y&&($.ref=y),M.createElement(M.Fragment,null,M.createElement(Btt,{cache:m,serialized:S,isStringTag:typeof v=="string"}),M.createElement(v,$))});return p.displayName=o!==void 0?o:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",p.defaultProps=t.defaultProps,p.__emotion_real=p,p.__emotion_base=i,p.__emotion_styles=f,p.__emotion_forwardProp=a,Object.defineProperty(p,"toString",{value:function(){return s===void 0&&ztt?"NO_COMPONENT_SELECTOR":"."+s}}),p.withComponent=function(g,m){return e(g,PE({},n,m,{shouldForwardProp:Lq(p,m,!0)})).apply(void 0,f)},p}},Utt=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],uk=jtt.bind();Utt.forEach(function(e){uk[e]=uk(e)});var Iq,Vtt=(Iq=uk.default)!=null?Iq:uk,Wtt=({baseStyle:e})=>t=>{const{theme:n,css:r,__css:i,sx:o,...s}=t,a=gfe(s,(f,d)=>NXe(d)),l=yfe(e,t),u=Dtt({},i,l,mfe(a),o),c=Jce(u)(t.theme);return r?[c,r]:c};function p4(e,t){const{baseStyle:n,...r}=t??{};r.shouldForwardProp||(r.shouldForwardProp=Ptt);const i=Wtt({baseStyle:n}),o=Vtt(e,r)(i);return fm.forwardRef(function(l,u){const{colorMode:c,forced:f}=zx();return fm.createElement(o,{ref:u,"data-theme":f?c:void 0,...l})})}function Htt(){const e=new Map;return new Proxy(p4,{apply(t,n,r){return p4(...r)},get(t,n){return e.has(n)||e.set(n,p4(n)),e.get(n)}})}var Ve=Htt();function Xe(e){return M.forwardRef(e)}function qtt(e={}){const{strict:t=!0,errorMessage:n="useContext: `context` is undefined. Seems you forgot to wrap component within the Provider",name:r}=e,i=M.createContext(void 0);i.displayName=r;function o(){var s;const a=M.useContext(i);if(!a&&t){const l=new Error(n);throw l.name="ContextError",(s=Error.captureStackTrace)==null||s.call(Error,l,o),l}return a}return[i.Provider,o,i]}function Gtt(e){const{cssVarsRoot:t,theme:n,children:r}=e,i=M.useMemo(()=>FXe(n),[n]);return R.jsxs(sHe,{theme:i,children:[R.jsx(Xtt,{root:t}),r]})}function Xtt({root:e=":host, :root"}){const t=[e,"[data-theme]"].join(",");return R.jsx(J$,{styles:n=>({[t]:n.__cssVars})})}qtt({name:"StylesContext",errorMessage:"useStyles: `styles` is undefined. Seems you forgot to wrap the components in `<StylesProvider />` "});function Ytt(){const{colorMode:e}=zx();return R.jsx(J$,{styles:t=>{const n=pfe(t,"styles.global"),r=yfe(n,{theme:t,colorMode:e});return r?Jce(r)(t):void 0}})}var n9=M.createContext({getDocument(){return document},getWindow(){return window}});n9.displayName="EnvironmentContext";function Ktt({defer:e}={}){const[,t]=M.useReducer(n=>n+1,0);return e0(()=>{e&&t()},[e]),M.useContext(n9)}function xfe(e){const{children:t,environment:n,disabled:r}=e,i=M.useRef(null),o=M.useMemo(()=>n||{getDocument:()=>{var a,l;return(l=(a=i.current)==null?void 0:a.ownerDocument)!=null?l:document},getWindow:()=>{var a,l;return(l=(a=i.current)==null?void 0:a.ownerDocument.defaultView)!=null?l:window}},[n]),s=!r||!n;return R.jsxs(n9.Provider,{value:o,children:[t,s&&R.jsx("span",{id:"__chakra_env",hidden:!0,ref:i})]})}xfe.displayName="EnvironmentProvider";var Qtt=e=>{const{children:t,colorModeManager:n,portalZIndex:r,resetScope:i,resetCSS:o=!0,theme:s={},environment:a,cssVarsRoot:l,disableEnvironment:u,disableGlobalStyle:c}=e,f=R.jsx(xfe,{environment:a,disabled:u,children:t});return R.jsx(Gtt,{theme:s,cssVarsRoot:l,children:R.jsxs(Wce,{colorModeManager:n,options:s.config,children:[o?R.jsx(uHe,{scope:i}):R.jsx(lHe,{}),!c&&R.jsx(Ytt,{}),r?R.jsx(jle,{zIndex:r,children:f}):f]})})},Jtt=(e,t)=>e.find(n=>n.id===t);function zq(e,t){const n=wfe(e,t),r=n?e[n].findIndex(i=>i.id===t):-1;return{position:n,index:r}}function wfe(e,t){for(const[n,r]of Object.entries(e))if(Jtt(r,t))return n}function Ztt(e){const t=e.includes("right"),n=e.includes("left");let r="center";return t&&(r="flex-end"),n&&(r="flex-start"),{display:"flex",flexDirection:"column",alignItems:r}}function ent(e){const n=e==="top"||e==="bottom"?"0 auto":void 0,r=e.includes("top")?"env(safe-area-inset-top, 0px)":void 0,i=e.includes("bottom")?"env(safe-area-inset-bottom, 0px)":void 0,o=e.includes("left")?void 0:"env(safe-area-inset-right, 0px)",s=e.includes("right")?void 0:"env(safe-area-inset-left, 0px)";return{position:"fixed",zIndex:"var(--toast-z-index, 5500)",pointerEvents:"none",display:"flex",flexDirection:"column",margin:n,top:r,bottom:i,right:o,left:s}}function jS(e,t=[]){const n=M.useRef(e);return M.useEffect(()=>{n.current=e}),M.useCallback((...r)=>{var i;return(i=n.current)==null?void 0:i.call(n,...r)},t)}function tnt(e,t){const n=jS(e);M.useEffect(()=>{if(t==null)return;let r=null;return r=window.setTimeout(()=>{n()},t),()=>{r&&window.clearTimeout(r)}},[t,n])}function Bq(e,t){const n=M.useRef(!1),r=M.useRef(!1);M.useEffect(()=>{if(n.current&&r.current)return e();r.current=!0},t),M.useEffect(()=>(n.current=!0,()=>{n.current=!1}),[])}const Sfe=M.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),xA=M.createContext({}),jx=M.createContext(null),wA=typeof document<"u",r9=wA?M.useLayoutEffect:M.useEffect,Cfe=M.createContext({strict:!1}),i9=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),nnt="framerAppearId",Efe="data-"+i9(nnt);function rnt(e,t,n,r){const{visualElement:i}=M.useContext(xA),o=M.useContext(Cfe),s=M.useContext(jx),a=M.useContext(Sfe).reducedMotion,l=M.useRef();r=r||o.renderer,!l.current&&r&&(l.current=r(e,{visualState:t,parent:i,props:n,presenceContext:s,blockInitialAnimation:s?s.initial===!1:!1,reducedMotionConfig:a}));const u=l.current;M.useInsertionEffect(()=>{u&&u.update(n,s)});const c=M.useRef(!!(n[Efe]&&!window.HandoffComplete));return r9(()=>{u&&(u.render(),c.current&&u.animationState&&u.animationState.animateChanges())}),M.useEffect(()=>{u&&(u.updateFeatures(),!c.current&&u.animationState&&u.animationState.animateChanges(),c.current&&(c.current=!1,window.HandoffComplete=!0))}),u}function _g(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function int(e,t,n){return M.useCallback(r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):_g(n)&&(n.current=r))},[t])}function Sb(e){return typeof e=="string"||Array.isArray(e)}function SA(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const o9=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],s9=["initial",...o9];function CA(e){return SA(e.animate)||s9.some(t=>Sb(e[t]))}function kfe(e){return!!(CA(e)||e.variants)}function ont(e,t){if(CA(e)){const{initial:n,animate:r}=e;return{initial:n===!1||Sb(n)?n:void 0,animate:Sb(r)?r:void 0}}return e.inherit!==!1?t:{}}function snt(e){const{initial:t,animate:n}=ont(e,M.useContext(xA));return M.useMemo(()=>({initial:t,animate:n}),[jq(t),jq(n)])}function jq(e){return Array.isArray(e)?e.join(" "):e}const Uq={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Cb={};for(const e in Uq)Cb[e]={isEnabled:t=>Uq[e].some(n=>!!t[n])};function ant(e){for(const t in e)Cb[t]={...Cb[t],...e[t]}}const a9=M.createContext({}),_fe=M.createContext({}),lnt=Symbol.for("motionComponentSymbol");function unt({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:i}){e&&ant(e);function o(a,l){let u;const c={...M.useContext(Sfe),...a,layoutId:cnt(a)},{isStatic:f}=c,d=snt(a),h=r(a,f);if(!f&&wA){d.visualElement=rnt(i,h,c,t);const p=M.useContext(_fe),g=M.useContext(Cfe).strict;d.visualElement&&(u=d.visualElement.loadFeatures(c,g,e,p))}return M.createElement(xA.Provider,{value:d},u&&d.visualElement?M.createElement(u,{visualElement:d.visualElement,...c}):null,n(i,a,int(h,d.visualElement,l),h,f,d.visualElement))}const s=M.forwardRef(o);return s[lnt]=i,s}function cnt({layoutId:e}){const t=M.useContext(a9).id;return t&&e!==void 0?t+"-"+e:e}function fnt(e){function t(r,i={}){return unt(e(r,i))}if(typeof Proxy>"u")return t;const n=new Map;return new Proxy(t,{get:(r,i)=>(n.has(i)||n.set(i,t(i)),n.get(i))})}const dnt=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function l9(e){return typeof e!="string"||e.includes("-")?!1:!!(dnt.indexOf(e)>-1||/[A-Z]/.test(e))}const ck={};function hnt(e){Object.assign(ck,e)}const Ux=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],mp=new Set(Ux);function $fe(e,{layout:t,layoutId:n}){return mp.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!ck[e]||e==="opacity")}const po=e=>!!(e&&e.getVelocity),pnt={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},gnt=Ux.length;function mnt(e,{enableHardwareAcceleration:t=!0,allowTransformNone:n=!0},r,i){let o="";for(let s=0;s<gnt;s++){const a=Ux[s];if(e[a]!==void 0){const l=pnt[a]||a;o+=`${l}(${e[a]}) `}}return t&&!e.z&&(o+="translateZ(0)"),o=o.trim(),i?o=i(e,r?"":o):n&&r&&(o="none"),o}const Afe=e=>t=>typeof t=="string"&&t.startsWith(e),Tfe=Afe("--"),hP=Afe("var(--"),ynt=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,vnt=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Af=(e,t,n)=>Math.min(Math.max(n,e),t),yp={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},gv={...yp,transform:e=>Af(0,1,e)},Mw={...yp,default:1},mv=e=>Math.round(e*1e5)/1e5,EA=/(-)?([\d]*\.?[\d])+/g,Rfe=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,bnt=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Vx(e){return typeof e=="string"}const Wx=e=>({test:t=>Vx(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),pc=Wx("deg"),yl=Wx("%"),We=Wx("px"),xnt=Wx("vh"),wnt=Wx("vw"),Vq={...yl,parse:e=>yl.parse(e)/100,transform:e=>yl.transform(e*100)},Wq={...yp,transform:Math.round},Ffe={borderWidth:We,borderTopWidth:We,borderRightWidth:We,borderBottomWidth:We,borderLeftWidth:We,borderRadius:We,radius:We,borderTopLeftRadius:We,borderTopRightRadius:We,borderBottomRightRadius:We,borderBottomLeftRadius:We,width:We,maxWidth:We,height:We,maxHeight:We,size:We,top:We,right:We,bottom:We,left:We,padding:We,paddingTop:We,paddingRight:We,paddingBottom:We,paddingLeft:We,margin:We,marginTop:We,marginRight:We,marginBottom:We,marginLeft:We,rotate:pc,rotateX:pc,rotateY:pc,rotateZ:pc,scale:Mw,scaleX:Mw,scaleY:Mw,scaleZ:Mw,skew:pc,skewX:pc,skewY:pc,distance:We,translateX:We,translateY:We,translateZ:We,x:We,y:We,z:We,perspective:We,transformPerspective:We,opacity:gv,originX:Vq,originY:Vq,originZ:We,zIndex:Wq,fillOpacity:gv,strokeOpacity:gv,numOctaves:Wq};function u9(e,t,n,r){const{style:i,vars:o,transform:s,transformOrigin:a}=e;let l=!1,u=!1,c=!0;for(const f in t){const d=t[f];if(Tfe(f)){o[f]=d;continue}const h=Ffe[f],p=vnt(d,h);if(mp.has(f)){if(l=!0,s[f]=p,!c)continue;d!==(h.default||0)&&(c=!1)}else f.startsWith("origin")?(u=!0,a[f]=p):i[f]=p}if(t.transform||(l||r?i.transform=mnt(e.transform,n,c,r):i.transform&&(i.transform="none")),u){const{originX:f="50%",originY:d="50%",originZ:h=0}=a;i.transformOrigin=`${f} ${d} ${h}`}}const c9=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Ofe(e,t,n){for(const r in t)!po(t[r])&&!$fe(r,n)&&(e[r]=t[r])}function Snt({transformTemplate:e},t,n){return M.useMemo(()=>{const r=c9();return u9(r,t,{enableHardwareAcceleration:!n},e),Object.assign({},r.vars,r.style)},[t])}function Cnt(e,t,n){const r=e.style||{},i={};return Ofe(i,r,e),Object.assign(i,Snt(e,t,n)),e.transformValues?e.transformValues(i):i}function Ent(e,t,n){const r={},i=Cnt(e,t,n);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=i,r}const knt=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function fk(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||knt.has(e)}let Pfe=e=>!fk(e);function _nt(e){e&&(Pfe=t=>t.startsWith("on")?!fk(t):e(t))}try{_nt(require("@emotion/is-prop-valid").default)}catch{}function $nt(e,t,n){const r={};for(const i in e)i==="values"&&typeof e.values=="object"||(Pfe(i)||n===!0&&fk(i)||!t&&!fk(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}function Hq(e,t,n){return typeof e=="string"?e:We.transform(t+n*e)}function Ant(e,t,n){const r=Hq(t,e.x,e.width),i=Hq(n,e.y,e.height);return`${r} ${i}`}const Tnt={offset:"stroke-dashoffset",array:"stroke-dasharray"},Rnt={offset:"strokeDashoffset",array:"strokeDasharray"};function Fnt(e,t,n=1,r=0,i=!0){e.pathLength=1;const o=i?Tnt:Rnt;e[o.offset]=We.transform(-r);const s=We.transform(t),a=We.transform(n);e[o.array]=`${s} ${a}`}function f9(e,{attrX:t,attrY:n,attrScale:r,originX:i,originY:o,pathLength:s,pathSpacing:a=1,pathOffset:l=0,...u},c,f,d){if(u9(e,u,c,d),f){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:h,style:p,dimensions:g}=e;h.transform&&(g&&(p.transform=h.transform),delete h.transform),g&&(i!==void 0||o!==void 0||p.transform)&&(p.transformOrigin=Ant(g,i!==void 0?i:.5,o!==void 0?o:.5)),t!==void 0&&(h.x=t),n!==void 0&&(h.y=n),r!==void 0&&(h.scale=r),s!==void 0&&Fnt(h,s,a,l,!1)}const Dfe=()=>({...c9(),attrs:{}}),d9=e=>typeof e=="string"&&e.toLowerCase()==="svg";function Ont(e,t,n,r){const i=M.useMemo(()=>{const o=Dfe();return f9(o,t,{enableHardwareAcceleration:!1},d9(r),e.transformTemplate),{...o.attrs,style:{...o.style}}},[t]);if(e.style){const o={};Ofe(o,e.style,e),i.style={...o,...i.style}}return i}function Pnt(e=!1){return(n,r,i,{latestValues:o},s)=>{const l=(l9(n)?Ont:Ent)(r,o,s,n),c={...$nt(r,typeof n=="string",e),...l,ref:i},{children:f}=r,d=M.useMemo(()=>po(f)?f.get():f,[f]);return M.createElement(n,{...c,children:d})}}function Mfe(e,{style:t,vars:n},r,i){Object.assign(e.style,t,i&&i.getProjectionStyles(r));for(const o in n)e.style.setProperty(o,n[o])}const Nfe=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Lfe(e,t,n,r){Mfe(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(Nfe.has(i)?i:i9(i),t.attrs[i])}function h9(e,t){const{style:n}=e,r={};for(const i in n)(po(n[i])||t.style&&po(t.style[i])||$fe(i,e))&&(r[i]=n[i]);return r}function Ife(e,t){const n=h9(e,t);for(const r in e)if(po(e[r])||po(t[r])){const i=Ux.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[i]=e[r]}return n}function p9(e,t,n,r={},i={}){return typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,i)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,i)),t}function zfe(e){const t=M.useRef(null);return t.current===null&&(t.current=e()),t.current}const dk=e=>Array.isArray(e),Dnt=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),Mnt=e=>dk(e)?e[e.length-1]||0:e;function US(e){const t=po(e)?e.get():e;return Dnt(t)?t.toValue():t}function Nnt({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:n},r,i,o){const s={latestValues:Lnt(r,i,o,e),renderState:t()};return n&&(s.mount=a=>n(r,a,s)),s}const Bfe=e=>(t,n)=>{const r=M.useContext(xA),i=M.useContext(jx),o=()=>Nnt(e,t,r,i);return n?o():zfe(o)};function Lnt(e,t,n,r){const i={},o=r(e,{});for(const d in o)i[d]=US(o[d]);let{initial:s,animate:a}=e;const l=CA(e),u=kfe(e);t&&u&&!l&&e.inherit!==!1&&(s===void 0&&(s=t.initial),a===void 0&&(a=t.animate));let c=n?n.initial===!1:!1;c=c||s===!1;const f=c?a:s;return f&&typeof f!="boolean"&&!SA(f)&&(Array.isArray(f)?f:[f]).forEach(h=>{const p=p9(e,h);if(!p)return;const{transitionEnd:g,transition:m,...y}=p;for(const v in y){let b=y[v];if(Array.isArray(b)){const x=c?b.length-1:0;b=b[x]}b!==null&&(i[v]=b)}for(const v in g)i[v]=g[v]}),i}const zn=e=>e;class qq{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const n=this.order.indexOf(t);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function Int(e){let t=new qq,n=new qq,r=0,i=!1,o=!1;const s=new WeakSet,a={schedule:(l,u=!1,c=!1)=>{const f=c&&i,d=f?t:n;return u&&s.add(l),d.add(l)&&f&&i&&(r=t.order.length),l},cancel:l=>{n.remove(l),s.delete(l)},process:l=>{if(i){o=!0;return}if(i=!0,[t,n]=[n,t],n.clear(),r=t.order.length,r)for(let u=0;u<r;u++){const c=t.order[u];c(l),s.has(c)&&(a.schedule(c),e())}i=!1,o&&(o=!1,a.process(l))}};return a}const Nw=["prepare","read","update","preRender","render","postRender"],znt=40;function Bnt(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},o=Nw.reduce((f,d)=>(f[d]=Int(()=>n=!0),f),{}),s=f=>o[f].process(i),a=()=>{const f=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(f-i.timestamp,znt),1),i.timestamp=f,i.isProcessing=!0,Nw.forEach(s),i.isProcessing=!1,n&&t&&(r=!1,e(a))},l=()=>{n=!0,r=!0,i.isProcessing||e(a)};return{schedule:Nw.reduce((f,d)=>{const h=o[d];return f[d]=(p,g=!1,m=!1)=>(n||l(),h.schedule(p,g,m)),f},{}),cancel:f=>Nw.forEach(d=>o[d].cancel(f)),state:i,steps:o}}const{schedule:nn,cancel:Mu,state:Kr,steps:g4}=Bnt(typeof requestAnimationFrame<"u"?requestAnimationFrame:zn,!0),jnt={useVisualState:Bfe({scrapeMotionValuesFromProps:Ife,createRenderState:Dfe,onMount:(e,t,{renderState:n,latestValues:r})=>{nn.read(()=>{try{n.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),nn.render(()=>{f9(n,r,{enableHardwareAcceleration:!1},d9(t.tagName),e.transformTemplate),Lfe(t,n)})}})},Unt={useVisualState:Bfe({scrapeMotionValuesFromProps:h9,createRenderState:c9})};function Vnt(e,{forwardMotionProps:t=!1},n,r){return{...l9(e)?jnt:Unt,preloadedFeatures:n,useRender:Pnt(t),createVisualElement:r,Component:e}}function du(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const jfe=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function kA(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const Wnt=e=>t=>jfe(t)&&e(t,kA(t));function Cu(e,t,n,r){return du(e,t,Wnt(n),r)}const Hnt=(e,t)=>n=>t(e(n)),af=(...e)=>e.reduce(Hnt);function Ufe(e){let t=null;return()=>{const n=()=>{t=null};return t===null?(t=e,n):!1}}const Gq=Ufe("dragHorizontal"),Xq=Ufe("dragVertical");function Vfe(e){let t=!1;if(e==="y")t=Xq();else if(e==="x")t=Gq();else{const n=Gq(),r=Xq();n&&r?t=()=>{n(),r()}:(n&&n(),r&&r())}return t}function Wfe(){const e=Vfe(!0);return e?(e(),!1):!0}class Yf{constructor(t){this.isMounted=!1,this.node=t}update(){}}function Yq(e,t){const n="pointer"+(t?"enter":"leave"),r="onHover"+(t?"Start":"End"),i=(o,s)=>{if(o.pointerType==="touch"||Wfe())return;const a=e.getProps();e.animationState&&a.whileHover&&e.animationState.setActive("whileHover",t),a[r]&&nn.update(()=>a[r](o,s))};return Cu(e.current,n,i,{passive:!e.getProps()[r]})}class qnt extends Yf{mount(){this.unmount=af(Yq(this.node,!0),Yq(this.node,!1))}unmount(){}}class Gnt extends Yf{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=af(du(this.node.current,"focus",()=>this.onFocus()),du(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const Hfe=(e,t)=>t?e===t?!0:Hfe(e,t.parentElement):!1;function m4(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,kA(n))}class Xnt extends Yf{constructor(){super(...arguments),this.removeStartListeners=zn,this.removeEndListeners=zn,this.removeAccessibleListeners=zn,this.startPointerPress=(t,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),o=Cu(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:c,globalTapTarget:f}=this.node.getProps();nn.update(()=>{!f&&!Hfe(this.node.current,a.target)?c&&c(a,l):u&&u(a,l)})},{passive:!(r.onTap||r.onPointerUp)}),s=Cu(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=af(o,s),this.startPress(t,n)},this.startAccessiblePress=()=>{const t=o=>{if(o.key!=="Enter"||this.isPressing)return;const s=a=>{a.key!=="Enter"||!this.checkPressEnd()||m4("up",(l,u)=>{const{onTap:c}=this.node.getProps();c&&nn.update(()=>c(l,u))})};this.removeEndListeners(),this.removeEndListeners=du(this.node.current,"keyup",s),m4("down",(a,l)=>{this.startPress(a,l)})},n=du(this.node.current,"keydown",t),r=()=>{this.isPressing&&m4("cancel",(o,s)=>this.cancelPress(o,s))},i=du(this.node.current,"blur",r);this.removeAccessibleListeners=af(n,i)}}startPress(t,n){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&nn.update(()=>r(t,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!Wfe()}cancelPress(t,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&nn.update(()=>r(t,n))}mount(){const t=this.node.getProps(),n=Cu(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),r=du(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=af(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const pP=new WeakMap,y4=new WeakMap,Ynt=e=>{const t=pP.get(e.target);t&&t(e)},Knt=e=>{e.forEach(Ynt)};function Qnt({root:e,...t}){const n=e||document;y4.has(n)||y4.set(n,{});const r=y4.get(n),i=JSON.stringify(t);return r[i]||(r[i]=new IntersectionObserver(Knt,{root:e,...t})),r[i]}function Jnt(e,t,n){const r=Qnt(t);return pP.set(e,n),r.observe(e),()=>{pP.delete(e),r.unobserve(e)}}const Znt={some:0,all:1};class ert extends Yf{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:o}=t,s={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:Znt[i]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,o&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:c,onViewportLeave:f}=this.node.getProps(),d=u?c:f;d&&d(l)};return Jnt(this.node.current,s,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(trt(t,n))&&this.startObserver()}unmount(){}}function trt({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const nrt={inView:{Feature:ert},tap:{Feature:Xnt},focus:{Feature:Gnt},hover:{Feature:qnt}};function qfe(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function rrt(e){const t={};return e.values.forEach((n,r)=>t[r]=n.get()),t}function irt(e){const t={};return e.values.forEach((n,r)=>t[r]=n.getVelocity()),t}function _A(e,t,n){const r=e.getProps();return p9(r,t,n!==void 0?n:r.custom,rrt(e),irt(e))}let hk=zn;const dh=e=>e*1e3,Eu=e=>e/1e3,ort={current:!1},Gfe=e=>Array.isArray(e)&&typeof e[0]=="number";function Xfe(e){return!!(!e||typeof e=="string"&&Yfe[e]||Gfe(e)||Array.isArray(e)&&e.every(Xfe))}const M1=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,Yfe={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:M1([0,.65,.55,1]),circOut:M1([.55,0,1,.45]),backIn:M1([.31,.01,.66,-.59]),backOut:M1([.33,1.53,.69,.99])};function Kfe(e){if(e)return Gfe(e)?M1(e):Array.isArray(e)?e.map(Kfe):Yfe[e]}function srt(e,t,n,{delay:r=0,duration:i,repeat:o=0,repeatType:s="loop",ease:a,times:l}={}){const u={[t]:n};l&&(u.offset=l);const c=Kfe(a);return Array.isArray(c)&&(u.easing=c),e.animate(u,{delay:r,duration:i,easing:Array.isArray(c)?"linear":c,fill:"both",iterations:o+1,direction:s==="reverse"?"alternate":"normal"})}function art(e,{repeat:t,repeatType:n="loop"}){const r=t&&n!=="loop"&&t%2===1?0:e.length-1;return e[r]}const Qfe=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,lrt=1e-7,urt=12;function crt(e,t,n,r,i){let o,s,a=0;do s=t+(n-t)/2,o=Qfe(s,r,i)-e,o>0?n=s:t=s;while(Math.abs(o)>lrt&&++a<urt);return s}function Hx(e,t,n,r){if(e===t&&n===r)return zn;const i=o=>crt(o,0,1,e,n);return o=>o===0||o===1?o:Qfe(i(o),t,r)}const frt=Hx(.42,0,1,1),drt=Hx(0,0,.58,1),Jfe=Hx(.42,0,.58,1),hrt=e=>Array.isArray(e)&&typeof e[0]!="number",Zfe=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,ede=e=>t=>1-e(1-t),g9=e=>1-Math.sin(Math.acos(e)),tde=ede(g9),prt=Zfe(g9),nde=Hx(.33,1.53,.69,.99),m9=ede(nde),grt=Zfe(m9),mrt=e=>(e*=2)<1?.5*m9(e):.5*(2-Math.pow(2,-10*(e-1))),Kq={linear:zn,easeIn:frt,easeInOut:Jfe,easeOut:drt,circIn:g9,circInOut:prt,circOut:tde,backIn:m9,backInOut:grt,backOut:nde,anticipate:mrt},Qq=e=>{if(Array.isArray(e)){hk(e.length===4);const[t,n,r,i]=e;return Hx(t,n,r,i)}else if(typeof e=="string")return hk(Kq[e]!==void 0),Kq[e];return e},y9=(e,t)=>n=>!!(Vx(n)&&bnt.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),rde=(e,t,n)=>r=>{if(!Vx(r))return r;const[i,o,s,a]=r.match(EA);return{[e]:parseFloat(i),[t]:parseFloat(o),[n]:parseFloat(s),alpha:a!==void 0?parseFloat(a):1}},yrt=e=>Af(0,255,e),v4={...yp,transform:e=>Math.round(yrt(e))},Ud={test:y9("rgb","red"),parse:rde("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+v4.transform(e)+", "+v4.transform(t)+", "+v4.transform(n)+", "+mv(gv.transform(r))+")"};function vrt(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const gP={test:y9("#"),parse:vrt,transform:Ud.transform},$g={test:y9("hsl","hue"),parse:rde("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+yl.transform(mv(t))+", "+yl.transform(mv(n))+", "+mv(gv.transform(r))+")"},vi={test:e=>Ud.test(e)||gP.test(e)||$g.test(e),parse:e=>Ud.test(e)?Ud.parse(e):$g.test(e)?$g.parse(e):gP.parse(e),transform:e=>Vx(e)?e:e.hasOwnProperty("red")?Ud.transform(e):$g.transform(e)},Sn=(e,t,n)=>-n*e+n*t+e;function b4(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function brt({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let i=0,o=0,s=0;if(!t)i=o=s=n;else{const a=n<.5?n*(1+t):n+t-n*t,l=2*n-a;i=b4(l,a,e+1/3),o=b4(l,a,e),s=b4(l,a,e-1/3)}return{red:Math.round(i*255),green:Math.round(o*255),blue:Math.round(s*255),alpha:r}}const x4=(e,t,n)=>{const r=e*e;return Math.sqrt(Math.max(0,n*(t*t-r)+r))},xrt=[gP,Ud,$g],wrt=e=>xrt.find(t=>t.test(e));function Jq(e){const t=wrt(e);let n=t.parse(e);return t===$g&&(n=brt(n)),n}const ide=(e,t)=>{const n=Jq(e),r=Jq(t),i={...n};return o=>(i.red=x4(n.red,r.red,o),i.green=x4(n.green,r.green,o),i.blue=x4(n.blue,r.blue,o),i.alpha=Sn(n.alpha,r.alpha,o),Ud.transform(i))};function Srt(e){var t,n;return isNaN(e)&&Vx(e)&&(((t=e.match(EA))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(Rfe))===null||n===void 0?void 0:n.length)||0)>0}const ode={regex:ynt,countKey:"Vars",token:"${v}",parse:zn},sde={regex:Rfe,countKey:"Colors",token:"${c}",parse:vi.parse},ade={regex:EA,countKey:"Numbers",token:"${n}",parse:yp.parse};function w4(e,{regex:t,countKey:n,token:r,parse:i}){const o=e.tokenised.match(t);o&&(e["num"+n]=o.length,e.tokenised=e.tokenised.replace(t,r),e.values.push(...o.map(i)))}function pk(e){const t=e.toString(),n={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&w4(n,ode),w4(n,sde),w4(n,ade),n}function lde(e){return pk(e).values}function ude(e){const{values:t,numColors:n,numVars:r,tokenised:i}=pk(e),o=t.length;return s=>{let a=i;for(let l=0;l<o;l++)l<r?a=a.replace(ode.token,s[l]):l<r+n?a=a.replace(sde.token,vi.transform(s[l])):a=a.replace(ade.token,mv(s[l]));return a}}const Crt=e=>typeof e=="number"?0:e;function Ert(e){const t=lde(e);return ude(e)(t.map(Crt))}const Tf={test:Srt,parse:lde,createTransformer:ude,getAnimatableNone:Ert},cde=(e,t)=>n=>`${n>0?t:e}`;function fde(e,t){return typeof e=="number"?n=>Sn(e,t,n):vi.test(e)?ide(e,t):e.startsWith("var(")?cde(e,t):hde(e,t)}const dde=(e,t)=>{const n=[...e],r=n.length,i=e.map((o,s)=>fde(o,t[s]));return o=>{for(let s=0;s<r;s++)n[s]=i[s](o);return n}},krt=(e,t)=>{const n={...e,...t},r={};for(const i in n)e[i]!==void 0&&t[i]!==void 0&&(r[i]=fde(e[i],t[i]));return i=>{for(const o in r)n[o]=r[o](i);return n}},hde=(e,t)=>{const n=Tf.createTransformer(t),r=pk(e),i=pk(t);return r.numVars===i.numVars&&r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?af(dde(r.values,i.values),n):cde(e,t)},Eb=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},Zq=(e,t)=>n=>Sn(e,t,n);function _rt(e){return typeof e=="number"?Zq:typeof e=="string"?vi.test(e)?ide:hde:Array.isArray(e)?dde:typeof e=="object"?krt:Zq}function $rt(e,t,n){const r=[],i=n||_rt(e[0]),o=e.length-1;for(let s=0;s<o;s++){let a=i(e[s],e[s+1]);if(t){const l=Array.isArray(t)?t[s]||zn:t;a=af(l,a)}r.push(a)}return r}function pde(e,t,{clamp:n=!0,ease:r,mixer:i}={}){const o=e.length;if(hk(o===t.length),o===1)return()=>t[0];e[0]>e[o-1]&&(e=[...e].reverse(),t=[...t].reverse());const s=$rt(t,r,i),a=s.length,l=u=>{let c=0;if(a>1)for(;c<e.length-2&&!(u<e[c+1]);c++);const f=Eb(e[c],e[c+1],u);return s[c](f)};return n?u=>l(Af(e[0],e[o-1],u)):l}function Art(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=Eb(0,t,r);e.push(Sn(n,1,i))}}function Trt(e){const t=[0];return Art(t,e.length-1),t}function Rrt(e,t){return e.map(n=>n*t)}function Frt(e,t){return e.map(()=>t||Jfe).splice(0,e.length-1)}function gk({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const i=hrt(r)?r.map(Qq):Qq(r),o={done:!1,value:t[0]},s=Rrt(n&&n.length===t.length?n:Trt(t),e),a=pde(s,t,{ease:Array.isArray(i)?i:Frt(t,i)});return{calculatedDuration:e,next:l=>(o.value=a(l),o.done=l>=e,o)}}function gde(e,t){return t?e*(1e3/t):0}const Ort=5;function mde(e,t,n){const r=Math.max(t-Ort,0);return gde(n-e(r),t-r)}const S4=.001,Prt=.01,Drt=10,Mrt=.05,Nrt=1;function Lrt({duration:e=800,bounce:t=.25,velocity:n=0,mass:r=1}){let i,o,s=1-t;s=Af(Mrt,Nrt,s),e=Af(Prt,Drt,Eu(e)),s<1?(i=u=>{const c=u*s,f=c*e,d=c-n,h=mP(u,s),p=Math.exp(-f);return S4-d/h*p},o=u=>{const f=u*s*e,d=f*n+n,h=Math.pow(s,2)*Math.pow(u,2)*e,p=Math.exp(-f),g=mP(Math.pow(u,2),s);return(-i(u)+S4>0?-1:1)*((d-h)*p)/g}):(i=u=>{const c=Math.exp(-u*e),f=(u-n)*e+1;return-S4+c*f},o=u=>{const c=Math.exp(-u*e),f=(n-u)*(e*e);return c*f});const a=5/e,l=zrt(i,o,a);if(e=dh(e),isNaN(l))return{stiffness:100,damping:10,duration:e};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:s*2*Math.sqrt(r*u),duration:e}}}const Irt=12;function zrt(e,t,n){let r=n;for(let i=1;i<Irt;i++)r=r-e(r)/t(r);return r}function mP(e,t){return e*Math.sqrt(1-t*t)}const Brt=["duration","bounce"],jrt=["stiffness","damping","mass"];function eG(e,t){return t.some(n=>e[n]!==void 0)}function Urt(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!eG(e,jrt)&&eG(e,Brt)){const n=Lrt(e);t={...t,...n,mass:1},t.isResolvedFromDuration=!0}return t}function yde({keyframes:e,restDelta:t,restSpeed:n,...r}){const i=e[0],o=e[e.length-1],s={done:!1,value:i},{stiffness:a,damping:l,mass:u,duration:c,velocity:f,isResolvedFromDuration:d}=Urt({...r,velocity:-Eu(r.velocity||0)}),h=f||0,p=l/(2*Math.sqrt(a*u)),g=o-i,m=Eu(Math.sqrt(a/u)),y=Math.abs(g)<5;n||(n=y?.01:2),t||(t=y?.005:.5);let v;if(p<1){const b=mP(m,p);v=x=>{const w=Math.exp(-p*m*x);return o-w*((h+p*m*g)/b*Math.sin(b*x)+g*Math.cos(b*x))}}else if(p===1)v=b=>o-Math.exp(-m*b)*(g+(h+m*g)*b);else{const b=m*Math.sqrt(p*p-1);v=x=>{const w=Math.exp(-p*m*x),E=Math.min(b*x,300);return o-w*((h+p*m*g)*Math.sinh(E)+b*g*Math.cosh(E))/b}}return{calculatedDuration:d&&c||null,next:b=>{const x=v(b);if(d)s.done=b>=c;else{let w=h;b!==0&&(p<1?w=mde(v,b,x):w=0);const E=Math.abs(w)<=n,S=Math.abs(o-x)<=t;s.done=E&&S}return s.value=s.done?o:x,s}}}function tG({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:o=500,modifyTarget:s,min:a,max:l,restDelta:u=.5,restSpeed:c}){const f=e[0],d={done:!1,value:f},h=k=>a!==void 0&&k<a||l!==void 0&&k>l,p=k=>a===void 0?l:l===void 0||Math.abs(a-k)<Math.abs(l-k)?a:l;let g=n*t;const m=f+g,y=s===void 0?m:s(m);y!==m&&(g=y-f);const v=k=>-g*Math.exp(-k/r),b=k=>y+v(k),x=k=>{const $=v(k),F=b(k);d.done=Math.abs($)<=u,d.value=d.done?y:F};let w,E;const S=k=>{h(d.value)&&(w=k,E=yde({keyframes:[d.value,p(d.value)],velocity:mde(b,k,d.value),damping:i,stiffness:o,restDelta:u,restSpeed:c}))};return S(0),{calculatedDuration:null,next:k=>{let $=!1;return!E&&w===void 0&&($=!0,x(k),S(k)),w!==void 0&&k>w?E.next(k-w):(!$&&x(k),d)}}}const Vrt=e=>{const t=({timestamp:n})=>e(n);return{start:()=>nn.update(t,!0),stop:()=>Mu(t),now:()=>Kr.isProcessing?Kr.timestamp:performance.now()}},nG=2e4;function rG(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<nG;)t+=n,r=e.next(t);return t>=nG?1/0:t}const Wrt={decay:tG,inertia:tG,tween:gk,keyframes:gk,spring:yde};function mk({autoplay:e=!0,delay:t=0,driver:n=Vrt,keyframes:r,type:i="keyframes",repeat:o=0,repeatDelay:s=0,repeatType:a="loop",onPlay:l,onStop:u,onComplete:c,onUpdate:f,...d}){let h=1,p=!1,g,m;const y=()=>{m=new Promise(K=>{g=K})};y();let v;const b=Wrt[i]||gk;let x;b!==gk&&typeof r[0]!="number"&&(x=pde([0,100],r,{clamp:!1}),r=[0,100]);const w=b({...d,keyframes:r});let E;a==="mirror"&&(E=b({...d,keyframes:[...r].reverse(),velocity:-(d.velocity||0)}));let S="idle",k=null,$=null,F=null;w.calculatedDuration===null&&o&&(w.calculatedDuration=rG(w));const{calculatedDuration:P}=w;let j=1/0,D=1/0;P!==null&&(j=P+s,D=j*(o+1)-s);let L=0;const A=K=>{if($===null)return;h>0&&($=Math.min($,K)),h<0&&($=Math.min(K-D/h,$)),k!==null?L=k:L=Math.round(K-$)*h;const pe=L-t*(h>=0?1:-1),oe=h>=0?pe<0:pe>D;L=Math.max(pe,0),S==="finished"&&k===null&&(L=D);let _e=L,Je=w;if(o){const be=Math.min(L,D)/j;let Ne=Math.floor(be),Ue=be%1;!Ue&&be>=1&&(Ue=1),Ue===1&&Ne--,Ne=Math.min(Ne,o+1),!!(Ne%2)&&(a==="reverse"?(Ue=1-Ue,s&&(Ue-=s/j)):a==="mirror"&&(Je=E)),_e=Af(0,1,Ue)*j}const xt=oe?{done:!1,value:r[0]}:Je.next(_e);x&&(xt.value=x(xt.value));let{done:Dn}=xt;!oe&&P!==null&&(Dn=h>=0?L>=D:L<=0);const cr=k===null&&(S==="finished"||S==="running"&&Dn);return f&&f(xt.value),cr&&z(),xt},O=()=>{v&&v.stop(),v=void 0},B=()=>{S="idle",O(),g(),y(),$=F=null},z=()=>{S="finished",c&&c(),O(),g()},U=()=>{if(p)return;v||(v=n(A));const K=v.now();l&&l(),k!==null?$=K-k:(!$||S==="finished")&&($=K),S==="finished"&&y(),F=$,k=null,S="running",v.start()};e&&U();const X={then(K,pe){return m.then(K,pe)},get time(){return Eu(L)},set time(K){K=dh(K),L=K,k!==null||!v||h===0?k=K:$=v.now()-K/h},get duration(){const K=w.calculatedDuration===null?rG(w):w.calculatedDuration;return Eu(K)},get speed(){return h},set speed(K){K===h||!v||(h=K,X.time=Eu(L))},get state(){return S},play:U,pause:()=>{S="paused",k=L},stop:()=>{p=!0,S!=="idle"&&(S="idle",u&&u(),B())},cancel:()=>{F!==null&&A(F),B()},complete:()=>{S="finished"},sample:K=>($=0,A(K))};return X}function Hrt(e){let t;return()=>(t===void 0&&(t=e()),t)}const qrt=Hrt(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Grt=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Lw=10,Xrt=2e4,Yrt=(e,t)=>t.type==="spring"||e==="backgroundColor"||!Xfe(t.ease);function Krt(e,t,{onUpdate:n,onComplete:r,...i}){if(!(qrt()&&Grt.has(t)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0&&i.type!=="inertia"))return!1;let s=!1,a,l,u=!1;const c=()=>{l=new Promise(b=>{a=b})};c();let{keyframes:f,duration:d=300,ease:h,times:p}=i;if(Yrt(t,i)){const b=mk({...i,repeat:0,delay:0});let x={done:!1,value:f[0]};const w=[];let E=0;for(;!x.done&&E<Xrt;)x=b.sample(E),w.push(x.value),E+=Lw;p=void 0,f=w,d=E-Lw,h="linear"}const g=srt(e.owner.current,t,f,{...i,duration:d,ease:h,times:p}),m=()=>{u=!1,g.cancel()},y=()=>{u=!0,nn.update(m),a(),c()};return g.onfinish=()=>{u||(e.set(art(f,i)),r&&r(),y())},{then(b,x){return l.then(b,x)},attachTimeline(b){return g.timeline=b,g.onfinish=null,zn},get time(){return Eu(g.currentTime||0)},set time(b){g.currentTime=dh(b)},get speed(){return g.playbackRate},set speed(b){g.playbackRate=b},get duration(){return Eu(d)},play:()=>{s||(g.play(),Mu(m))},pause:()=>g.pause(),stop:()=>{if(s=!0,g.playState==="idle")return;const{currentTime:b}=g;if(b){const x=mk({...i,autoplay:!1});e.setWithVelocity(x.sample(b-Lw).value,x.sample(b).value,Lw)}y()},complete:()=>{u||g.finish()},cancel:y}}function Qrt({keyframes:e,delay:t,onUpdate:n,onComplete:r}){const i=()=>(n&&n(e[e.length-1]),r&&r(),{time:0,speed:1,duration:0,play:zn,pause:zn,stop:zn,then:o=>(o(),Promise.resolve()),cancel:zn,complete:zn});return t?mk({keyframes:[0,1],duration:0,delay:t,onComplete:i}):i()}const Jrt={type:"spring",stiffness:500,damping:25,restSpeed:10},Zrt=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),eit={type:"keyframes",duration:.8},tit={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},nit=(e,{keyframes:t})=>t.length>2?eit:mp.has(e)?e.startsWith("scale")?Zrt(t[1]):Jrt:tit,yP=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Tf.test(t)||t==="0")&&!t.startsWith("url(")),rit=new Set(["brightness","contrast","saturate","opacity"]);function iit(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(EA)||[];if(!r)return e;const i=n.replace(r,"");let o=rit.has(t)?1:0;return r!==n&&(o*=100),t+"("+o+i+")"}const oit=/([a-z-]*)\(.*?\)/g,vP={...Tf,getAnimatableNone:e=>{const t=e.match(oit);return t?t.map(iit).join(" "):e}},sit={...Ffe,color:vi,backgroundColor:vi,outlineColor:vi,fill:vi,stroke:vi,borderColor:vi,borderTopColor:vi,borderRightColor:vi,borderBottomColor:vi,borderLeftColor:vi,filter:vP,WebkitFilter:vP},v9=e=>sit[e];function vde(e,t){let n=v9(e);return n!==vP&&(n=Tf),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const bde=e=>/^0[^.\s]+$/.test(e);function ait(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||bde(e)}function lit(e,t,n,r){const i=yP(t,n);let o;Array.isArray(n)?o=[...n]:o=[null,n];const s=r.from!==void 0?r.from:e.get();let a;const l=[];for(let u=0;u<o.length;u++)o[u]===null&&(o[u]=u===0?s:o[u-1]),ait(o[u])&&l.push(u),typeof o[u]=="string"&&o[u]!=="none"&&o[u]!=="0"&&(a=o[u]);if(i&&l.length&&a)for(let u=0;u<l.length;u++){const c=l[u];o[c]=vde(t,a)}return o}function uit({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:o,repeatType:s,repeatDelay:a,from:l,elapsed:u,...c}){return!!Object.keys(c).length}function b9(e,t){return e[t]||e.default||e}const cit={skipAnimations:!1},x9=(e,t,n,r={})=>i=>{const o=b9(r,e)||{},s=o.delay||r.delay||0;let{elapsed:a=0}=r;a=a-dh(s);const l=lit(t,e,n,o),u=l[0],c=l[l.length-1],f=yP(e,u),d=yP(e,c);let h={keyframes:l,velocity:t.getVelocity(),ease:"easeOut",...o,delay:-a,onUpdate:p=>{t.set(p),o.onUpdate&&o.onUpdate(p)},onComplete:()=>{i(),o.onComplete&&o.onComplete()}};if(uit(o)||(h={...h,...nit(e,h)}),h.duration&&(h.duration=dh(h.duration)),h.repeatDelay&&(h.repeatDelay=dh(h.repeatDelay)),!f||!d||ort.current||o.type===!1||cit.skipAnimations)return Qrt(h);if(!r.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const p=Krt(t,e,h);if(p)return p}return mk(h)};function yk(e){return!!(po(e)&&e.add)}const xde=e=>/^\-?\d*\.?\d+$/.test(e);function w9(e,t){e.indexOf(t)===-1&&e.push(t)}function S9(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class C9{constructor(){this.subscriptions=[]}add(t){return w9(this.subscriptions,t),()=>S9(this.subscriptions,t)}notify(t,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,n,r);else for(let o=0;o<i;o++){const s=this.subscriptions[o];s&&s(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const fit=e=>!isNaN(parseFloat(e));class dit{constructor(t,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,i=!0)=>{this.prev=this.current,this.current=r;const{delta:o,timestamp:s}=Kr;this.lastUpdated!==s&&(this.timeDelta=o,this.lastUpdated=s,nn.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>nn.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=fit(this.current),this.owner=n.owner}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new C9);const r=this.events[t].add(n);return t==="change"?()=>{r(),nn.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=t,this.timeDelta=r}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?gde(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function c0(e,t){return new dit(e,t)}const wde=e=>t=>t.test(e),hit={test:e=>e==="auto",parse:e=>e},Sde=[yp,We,yl,pc,wnt,xnt,hit],Xy=e=>Sde.find(wde(e)),pit=[...Sde,vi,Tf],git=e=>pit.find(wde(e));function mit(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,c0(n))}function yit(e,t){const n=_A(e,t);let{transitionEnd:r={},transition:i={},...o}=n?e.makeTargetAnimatable(n,!1):{};o={...o,...r};for(const s in o){const a=Mnt(o[s]);mit(e,s,a)}}function vit(e,t,n){var r,i;const o=Object.keys(t).filter(a=>!e.hasValue(a)),s=o.length;if(s)for(let a=0;a<s;a++){const l=o[a],u=t[l];let c=null;Array.isArray(u)&&(c=u[0]),c===null&&(c=(i=(r=n[l])!==null&&r!==void 0?r:e.readValue(l))!==null&&i!==void 0?i:t[l]),c!=null&&(typeof c=="string"&&(xde(c)||bde(c))?c=parseFloat(c):!git(c)&&Tf.test(u)&&(c=vde(l,u)),e.addValue(l,c0(c,{owner:e})),n[l]===void 0&&(n[l]=c),c!==null&&e.setBaseTarget(l,c))}}function bit(e,t){return t?(t[e]||t.default||t).from:void 0}function xit(e,t,n){const r={};for(const i in e){const o=bit(i,t);if(o!==void 0)r[i]=o;else{const s=n.getValue(i);s&&(r[i]=s.get())}}return r}function wit({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function Sit(e,t){const n=e.get();if(Array.isArray(t)){for(let r=0;r<t.length;r++)if(t[r]!==n)return!0}else return n!==t}function Cde(e,t,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:o=e.getDefaultTransition(),transitionEnd:s,...a}=e.makeTargetAnimatable(t);const l=e.getValue("willChange");r&&(o=r);const u=[],c=i&&e.animationState&&e.animationState.getState()[i];for(const f in a){const d=e.getValue(f),h=a[f];if(!d||h===void 0||c&&wit(c,f))continue;const p={delay:n,elapsed:0,...b9(o||{},f)};if(window.HandoffAppearAnimations){const y=e.getProps()[Efe];if(y){const v=window.HandoffAppearAnimations(y,f,d,nn);v!==null&&(p.elapsed=v,p.isHandoff=!0)}}let g=!p.isHandoff&&!Sit(d,h);if(p.type==="spring"&&(d.getVelocity()||p.velocity)&&(g=!1),d.animation&&(g=!1),g)continue;d.start(x9(f,d,h,e.shouldReduceMotion&&mp.has(f)?{type:!1}:p));const m=d.animation;yk(l)&&(l.add(f),m.then(()=>l.remove(f))),u.push(m)}return s&&Promise.all(u).then(()=>{s&&yit(e,s)}),u}function bP(e,t,n={}){const r=_A(e,t,n.custom);let{transition:i=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const o=r?()=>Promise.all(Cde(e,r,n)):()=>Promise.resolve(),s=e.variantChildren&&e.variantChildren.size?(l=0)=>{const{delayChildren:u=0,staggerChildren:c,staggerDirection:f}=i;return Cit(e,t,u+l,c,f,n)}:()=>Promise.resolve(),{when:a}=i;if(a){const[l,u]=a==="beforeChildren"?[o,s]:[s,o];return l().then(()=>u())}else return Promise.all([o(),s(n.delay)])}function Cit(e,t,n=0,r=0,i=1,o){const s=[],a=(e.variantChildren.size-1)*r,l=i===1?(u=0)=>u*r:(u=0)=>a-u*r;return Array.from(e.variantChildren).sort(Eit).forEach((u,c)=>{u.notify("AnimationStart",t),s.push(bP(u,t,{...o,delay:n+l(c)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(s)}function Eit(e,t){return e.sortNodePosition(t)}function kit(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const i=t.map(o=>bP(e,o,n));r=Promise.all(i)}else if(typeof t=="string")r=bP(e,t,n);else{const i=typeof t=="function"?_A(e,t,n.custom):t;r=Promise.all(Cde(e,i,n))}return r.then(()=>e.notify("AnimationComplete",t))}const _it=[...o9].reverse(),$it=o9.length;function Ait(e){return t=>Promise.all(t.map(({animation:n,options:r})=>kit(e,n,r)))}function Tit(e){let t=Ait(e);const n=Fit();let r=!0;const i=(l,u)=>{const c=_A(e,u);if(c){const{transition:f,transitionEnd:d,...h}=c;l={...l,...h,...d}}return l};function o(l){t=l(e)}function s(l,u){const c=e.getProps(),f=e.getVariantContext(!0)||{},d=[],h=new Set;let p={},g=1/0;for(let y=0;y<$it;y++){const v=_it[y],b=n[v],x=c[v]!==void 0?c[v]:f[v],w=Sb(x),E=v===u?b.isActive:null;E===!1&&(g=y);let S=x===f[v]&&x!==c[v]&&w;if(S&&r&&e.manuallyAnimateOnMount&&(S=!1),b.protectedKeys={...p},!b.isActive&&E===null||!x&&!b.prevProp||SA(x)||typeof x=="boolean")continue;let $=Rit(b.prevProp,x)||v===u&&b.isActive&&!S&&w||y>g&&w,F=!1;const P=Array.isArray(x)?x:[x];let j=P.reduce(i,{});E===!1&&(j={});const{prevResolvedValues:D={}}=b,L={...D,...j},A=O=>{$=!0,h.has(O)&&(F=!0,h.delete(O)),b.needsAnimating[O]=!0};for(const O in L){const B=j[O],z=D[O];if(p.hasOwnProperty(O))continue;let U=!1;dk(B)&&dk(z)?U=!qfe(B,z):U=B!==z,U?B!==void 0?A(O):h.add(O):B!==void 0&&h.has(O)?A(O):b.protectedKeys[O]=!0}b.prevProp=x,b.prevResolvedValues=j,b.isActive&&(p={...p,...j}),r&&e.blockInitialAnimation&&($=!1),$&&(!S||F)&&d.push(...P.map(O=>({animation:O,options:{type:v,...l}})))}if(h.size){const y={};h.forEach(v=>{const b=e.getBaseTarget(v);b!==void 0&&(y[v]=b)}),d.push({animation:y})}let m=!!d.length;return r&&(c.initial===!1||c.initial===c.animate)&&!e.manuallyAnimateOnMount&&(m=!1),r=!1,m?t(d):Promise.resolve()}function a(l,u,c){var f;if(n[l].isActive===u)return Promise.resolve();(f=e.variantChildren)===null||f===void 0||f.forEach(h=>{var p;return(p=h.animationState)===null||p===void 0?void 0:p.setActive(l,u)}),n[l].isActive=u;const d=s(c,l);for(const h in n)n[h].protectedKeys={};return d}return{animateChanges:s,setActive:a,setAnimateFunction:o,getState:()=>n}}function Rit(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!qfe(t,e):!1}function gd(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Fit(){return{animate:gd(!0),whileInView:gd(),whileHover:gd(),whileTap:gd(),whileDrag:gd(),whileFocus:gd(),exit:gd()}}class Oit extends Yf{constructor(t){super(t),t.animationState||(t.animationState=Tit(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),SA(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let Pit=0;class Dit extends Yf{constructor(){super(...arguments),this.id=Pit++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const o=this.node.animationState.setActive("exit",!t,{custom:r??this.node.getProps().custom});n&&!t&&o.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const Mit={animation:{Feature:Oit},exit:{Feature:Dit}},iG=(e,t)=>Math.abs(e-t);function Nit(e,t){const n=iG(e.x,t.x),r=iG(e.y,t.y);return Math.sqrt(n**2+r**2)}class Ede{constructor(t,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=E4(this.lastMoveEventInfo,this.history),d=this.startEvent!==null,h=Nit(f.offset,{x:0,y:0})>=3;if(!d&&!h)return;const{point:p}=f,{timestamp:g}=Kr;this.history.push({...p,timestamp:g});const{onStart:m,onMove:y}=this.handlers;d||(m&&m(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,f)},this.handlePointerMove=(f,d)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=C4(d,this.transformPagePoint),nn.update(this.updatePoint,!0)},this.handlePointerUp=(f,d)=>{this.end();const{onEnd:h,onSessionEnd:p,resumeAnimation:g}=this.handlers;if(this.dragSnapToOrigin&&g&&g(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=E4(f.type==="pointercancel"?this.lastMoveEventInfo:C4(d,this.transformPagePoint),this.history);this.startEvent&&h&&h(f,m),p&&p(f,m)},!jfe(t))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const s=kA(t),a=C4(s,this.transformPagePoint),{point:l}=a,{timestamp:u}=Kr;this.history=[{...l,timestamp:u}];const{onSessionStart:c}=n;c&&c(t,E4(a,this.history)),this.removeListeners=af(Cu(this.contextWindow,"pointermove",this.handlePointerMove),Cu(this.contextWindow,"pointerup",this.handlePointerUp),Cu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Mu(this.updatePoint)}}function C4(e,t){return t?{point:t(e.point)}:e}function oG(e,t){return{x:e.x-t.x,y:e.y-t.y}}function E4({point:e},t){return{point:e,delta:oG(e,kde(t)),offset:oG(e,Lit(t)),velocity:Iit(t,.1)}}function Lit(e){return e[0]}function kde(e){return e[e.length-1]}function Iit(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=kde(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>dh(t)));)n--;if(!r)return{x:0,y:0};const o=Eu(i.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const s={x:(i.x-r.x)/o,y:(i.y-r.y)/o};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function jo(e){return e.max-e.min}function xP(e,t=0,n=.01){return Math.abs(e-t)<=n}function sG(e,t,n,r=.5){e.origin=r,e.originPoint=Sn(t.min,t.max,e.origin),e.scale=jo(n)/jo(t),(xP(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=Sn(n.min,n.max,e.origin)-e.originPoint,(xP(e.translate)||isNaN(e.translate))&&(e.translate=0)}function yv(e,t,n,r){sG(e.x,t.x,n.x,r?r.originX:void 0),sG(e.y,t.y,n.y,r?r.originY:void 0)}function aG(e,t,n){e.min=n.min+t.min,e.max=e.min+jo(t)}function zit(e,t,n){aG(e.x,t.x,n.x),aG(e.y,t.y,n.y)}function lG(e,t,n){e.min=t.min-n.min,e.max=e.min+jo(t)}function vv(e,t,n){lG(e.x,t.x,n.x),lG(e.y,t.y,n.y)}function Bit(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?Sn(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?Sn(n,e,r.max):Math.min(e,n)),e}function uG(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function jit(e,{top:t,left:n,bottom:r,right:i}){return{x:uG(e.x,n,i),y:uG(e.y,t,r)}}function cG(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function Uit(e,t){return{x:cG(e.x,t.x),y:cG(e.y,t.y)}}function Vit(e,t){let n=.5;const r=jo(e),i=jo(t);return i>r?n=Eb(t.min,t.max-r,e.min):r>i&&(n=Eb(e.min,e.max-i,t.min)),Af(0,1,n)}function Wit(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const wP=.35;function Hit(e=wP){return e===!1?e=0:e===!0&&(e=wP),{x:fG(e,"left","right"),y:fG(e,"top","bottom")}}function fG(e,t,n){return{min:dG(e,t),max:dG(e,n)}}function dG(e,t){return typeof e=="number"?e:e[t]||0}const hG=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ag=()=>({x:hG(),y:hG()}),pG=()=>({min:0,max:0}),Hn=()=>({x:pG(),y:pG()});function es(e){return[e("x"),e("y")]}function _de({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function qit({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function Git(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function k4(e){return e===void 0||e===1}function SP({scale:e,scaleX:t,scaleY:n}){return!k4(e)||!k4(t)||!k4(n)}function wd(e){return SP(e)||$de(e)||e.z||e.rotate||e.rotateX||e.rotateY}function $de(e){return gG(e.x)||gG(e.y)}function gG(e){return e&&e!=="0%"}function vk(e,t,n){const r=e-n,i=t*r;return n+i}function mG(e,t,n,r,i){return i!==void 0&&(e=vk(e,i,r)),vk(e,n,r)+t}function CP(e,t=0,n=1,r,i){e.min=mG(e.min,t,n,r,i),e.max=mG(e.max,t,n,r,i)}function Ade(e,{x:t,y:n}){CP(e.x,t.translate,t.scale,t.originPoint),CP(e.y,n.translate,n.scale,n.originPoint)}function Xit(e,t,n,r=!1){const i=n.length;if(!i)return;t.x=t.y=1;let o,s;for(let a=0;a<i;a++){o=n[a],s=o.projectionDelta;const l=o.instance;l&&l.style&&l.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Tg(e,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),s&&(t.x*=s.x.scale,t.y*=s.y.scale,Ade(e,s)),r&&wd(o.latestValues)&&Tg(e,o.latestValues))}t.x=yG(t.x),t.y=yG(t.y)}function yG(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function Cc(e,t){e.min=e.min+t,e.max=e.max+t}function vG(e,t,[n,r,i]){const o=t[i]!==void 0?t[i]:.5,s=Sn(e.min,e.max,o);CP(e,t[n],t[r],s,t.scale)}const Yit=["x","scaleX","originX"],Kit=["y","scaleY","originY"];function Tg(e,t){vG(e.x,t,Yit),vG(e.y,t,Kit)}function Tde(e,t){return _de(Git(e.getBoundingClientRect(),t))}function Qit(e,t,n){const r=Tde(e,n),{scroll:i}=t;return i&&(Cc(r.x,i.offset.x),Cc(r.y,i.offset.y)),r}const Rde=({current:e})=>e?e.ownerDocument.defaultView:null,Jit=new WeakMap;class Zit{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Hn(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=c=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(kA(c,"page").point)},o=(c,f)=>{const{drag:d,dragPropagation:h,onDragStart:p}=this.getProps();if(d&&!h&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=Vfe(d),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),es(m=>{let y=this.getAxisMotionValue(m).get()||0;if(yl.test(y)){const{projection:v}=this.visualElement;if(v&&v.layout){const b=v.layout.layoutBox[m];b&&(y=jo(b)*(parseFloat(y)/100))}}this.originPoint[m]=y}),p&&nn.update(()=>p(c,f),!1,!0);const{animationState:g}=this.visualElement;g&&g.setActive("whileDrag",!0)},s=(c,f)=>{const{dragPropagation:d,dragDirectionLock:h,onDirectionLock:p,onDrag:g}=this.getProps();if(!d&&!this.openGlobalLock)return;const{offset:m}=f;if(h&&this.currentDirection===null){this.currentDirection=eot(m),this.currentDirection!==null&&p&&p(this.currentDirection);return}this.updateAxis("x",f.point,m),this.updateAxis("y",f.point,m),this.visualElement.render(),g&&g(c,f)},a=(c,f)=>this.stop(c,f),l=()=>es(c=>{var f;return this.getAnimationState(c)==="paused"&&((f=this.getAxisMotionValue(c).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new Ede(t,{onSessionStart:i,onStart:o,onMove:s,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:Rde(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:o}=this.getProps();o&&nn.update(()=>o(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:i}=this.getProps();if(!r||!Iw(t,i,this.currentDirection))return;const o=this.getAxisMotionValue(t);let s=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(s=Bit(s,this.constraints[t],this.elastic[t])),o.set(s)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,o=this.constraints;n&&_g(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=jit(i.layoutBox,n):this.constraints=!1,this.elastic=Hit(r),o!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&es(s=>{this.getAxisMotionValue(s)&&(this.constraints[s]=Wit(i.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!_g(t))return!1;const r=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const o=Qit(r,i.root,this.visualElement.getTransformPagePoint());let s=Uit(i.layout.layoutBox,o);if(n){const a=n(qit(s));this.hasMutatedConstraints=!!a,a&&(s=_de(a))}return s}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:o,dragSnapToOrigin:s,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=es(c=>{if(!Iw(c,n,this.currentDirection))return;let f=l&&l[c]||{};s&&(f={min:0,max:0});const d=i?200:1e6,h=i?40:1e7,p={type:"inertia",velocity:r?t[c]:0,bounceStiffness:d,bounceDamping:h,timeConstant:750,restDelta:1,restSpeed:10,...o,...f};return this.startAxisValueAnimation(c,p)});return Promise.all(u).then(a)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return r.start(x9(t,r,0,n))}stopAnimation(){es(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){es(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n="_drag"+t.toUpperCase(),r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){es(n=>{const{drag:r}=this.getProps();if(!Iw(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,o=this.getAxisMotionValue(n);if(i&&i.layout){const{min:s,max:a}=i.layout.layoutBox[n];o.set(t[n]-Sn(s,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!_g(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};es(s=>{const a=this.getAxisMotionValue(s);if(a){const l=a.get();i[s]=Vit({min:l,max:l},this.constraints[s])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),es(s=>{if(!Iw(s,t,null))return;const a=this.getAxisMotionValue(s),{min:l,max:u}=this.constraints[s];a.set(Sn(l,u,i[s]))})}addListeners(){if(!this.visualElement.current)return;Jit.set(this.visualElement,this);const t=this.visualElement.current,n=Cu(t,"pointerdown",l=>{const{drag:u,dragListener:c=!0}=this.getProps();u&&c&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();_g(l)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,o=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),r();const s=du(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(es(c=>{const f=this.getAxisMotionValue(c);f&&(this.originPoint[c]+=l[c].translate,f.set(f.get()+l[c].translate))}),this.visualElement.render())});return()=>{s(),n(),o(),a&&a()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:o=!1,dragElastic:s=wP,dragMomentum:a=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:o,dragElastic:s,dragMomentum:a}}}function Iw(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function eot(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class tot extends Yf{constructor(t){super(t),this.removeGroupControls=zn,this.removeListeners=zn,this.controls=new Zit(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||zn}unmount(){this.removeGroupControls(),this.removeListeners()}}const bG=e=>(t,n)=>{e&&nn.update(()=>e(t,n))};class not extends Yf{constructor(){super(...arguments),this.removePointerDownListener=zn}onPointerDown(t){this.session=new Ede(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Rde(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:bG(t),onStart:bG(n),onMove:r,onEnd:(o,s)=>{delete this.session,i&&nn.update(()=>i(o,s))}}}mount(){this.removePointerDownListener=Cu(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function rot(){const e=M.useContext(jx);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:r}=e,i=M.useId();return M.useEffect(()=>r(i),[]),!t&&n?[!1,()=>n&&n(i)]:[!0]}function iot(){return oot(M.useContext(jx))}function oot(e){return e===null?!0:e.isPresent}const VS={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function xG(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Yy={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(We.test(e))e=parseFloat(e);else return e;const n=xG(e,t.target.x),r=xG(e,t.target.y);return`${n}% ${r}%`}},sot={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,i=Tf.parse(e);if(i.length>5)return r;const o=Tf.createTransformer(e),s=typeof i[0]!="number"?1:0,a=n.x.scale*t.x,l=n.y.scale*t.y;i[0+s]/=a,i[1+s]/=l;const u=Sn(a,l,.5);return typeof i[2+s]=="number"&&(i[2+s]/=u),typeof i[3+s]=="number"&&(i[3+s]/=u),o(i)}};class aot extends fm.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:o}=t;hnt(lot),o&&(n.group&&n.group.add(o),r&&r.register&&i&&r.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),VS.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:i,isPresent:o}=this.props,s=r.projection;return s&&(s.isPresent=o,i||t.layoutDependency!==n||n===void 0?s.willUpdate():this.safeToRemove(),t.isPresent!==o&&(o?s.promote():s.relegate()||nn.postRender(()=>{const a=s.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=t;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function Fde(e){const[t,n]=rot(),r=M.useContext(a9);return fm.createElement(aot,{...e,layoutGroup:r,switchLayoutGroup:M.useContext(_fe),isPresent:t,safeToRemove:n})}const lot={borderRadius:{...Yy,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Yy,borderTopRightRadius:Yy,borderBottomLeftRadius:Yy,borderBottomRightRadius:Yy,boxShadow:sot},Ode=["TopLeft","TopRight","BottomLeft","BottomRight"],uot=Ode.length,wG=e=>typeof e=="string"?parseFloat(e):e,SG=e=>typeof e=="number"||We.test(e);function cot(e,t,n,r,i,o){i?(e.opacity=Sn(0,n.opacity!==void 0?n.opacity:1,fot(r)),e.opacityExit=Sn(t.opacity!==void 0?t.opacity:1,0,dot(r))):o&&(e.opacity=Sn(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let s=0;s<uot;s++){const a=`border${Ode[s]}Radius`;let l=CG(t,a),u=CG(n,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||SG(l)===SG(u)?(e[a]=Math.max(Sn(wG(l),wG(u),r),0),(yl.test(u)||yl.test(l))&&(e[a]+="%")):e[a]=u}(t.rotate||n.rotate)&&(e.rotate=Sn(t.rotate||0,n.rotate||0,r))}function CG(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const fot=Pde(0,.5,tde),dot=Pde(.5,.95,zn);function Pde(e,t,n){return r=>r<e?0:r>t?1:n(Eb(e,t,r))}function EG(e,t){e.min=t.min,e.max=t.max}function Jo(e,t){EG(e.x,t.x),EG(e.y,t.y)}function kG(e,t,n,r,i){return e-=t,e=vk(e,1/n,r),i!==void 0&&(e=vk(e,1/i,r)),e}function hot(e,t=0,n=1,r=.5,i,o=e,s=e){if(yl.test(t)&&(t=parseFloat(t),t=Sn(s.min,s.max,t/100)-s.min),typeof t!="number")return;let a=Sn(o.min,o.max,r);e===o&&(a-=t),e.min=kG(e.min,t,n,a,i),e.max=kG(e.max,t,n,a,i)}function _G(e,t,[n,r,i],o,s){hot(e,t[n],t[r],t[i],t.scale,o,s)}const pot=["x","scaleX","originX"],got=["y","scaleY","originY"];function $G(e,t,n,r){_G(e.x,t,pot,n?n.x:void 0,r?r.x:void 0),_G(e.y,t,got,n?n.y:void 0,r?r.y:void 0)}function AG(e){return e.translate===0&&e.scale===1}function Dde(e){return AG(e.x)&&AG(e.y)}function mot(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function Mde(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function TG(e){return jo(e.x)/jo(e.y)}class yot{constructor(){this.members=[]}add(t){w9(this.members,t),t.scheduleRender()}remove(t){if(S9(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(i=>t===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const o=this.members[i];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function RG(e,t,n){let r="";const i=e.x.translate/t.x,o=e.y.translate/t.y;if((i||o)&&(r=`translate3d(${i}px, ${o}px, 0) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{rotate:l,rotateX:u,rotateY:c}=n;l&&(r+=`rotate(${l}deg) `),u&&(r+=`rotateX(${u}deg) `),c&&(r+=`rotateY(${c}deg) `)}const s=e.x.scale*t.x,a=e.y.scale*t.y;return(s!==1||a!==1)&&(r+=`scale(${s}, ${a})`),r||"none"}const vot=(e,t)=>e.depth-t.depth;class bot{constructor(){this.children=[],this.isDirty=!1}add(t){w9(this.children,t),this.isDirty=!0}remove(t){S9(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(vot),this.isDirty=!1,this.children.forEach(t)}}function xot(e,t){const n=performance.now(),r=({timestamp:i})=>{const o=i-n;o>=t&&(Mu(r),e(o-t))};return nn.read(r,!0),()=>Mu(r)}function wot(e){window.MotionDebug&&window.MotionDebug.record(e)}function Sot(e){return e instanceof SVGElement&&e.tagName!=="svg"}function Cot(e,t,n){const r=po(e)?e:c0(e);return r.start(x9("",r,t,n)),r.animation}const FG=["","X","Y","Z"],Eot={visibility:"hidden"},OG=1e3;let kot=0;const Sd={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function Nde({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(s={},a=t==null?void 0:t()){this.id=kot++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Sd.totalNodes=Sd.resolvedTargetDeltas=Sd.recalculatedProjection=0,this.nodes.forEach(Aot),this.nodes.forEach(Pot),this.nodes.forEach(Dot),this.nodes.forEach(Tot),wot(Sd)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new bot)}addEventListener(s,a){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new C9),this.eventHandlers.get(s).add(a)}notifyListeners(s,...a){const l=this.eventHandlers.get(s);l&&l.notify(...a)}hasListeners(s){return this.eventHandlers.has(s)}mount(s,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=Sot(s),this.instance=s;const{layoutId:l,layout:u,visualElement:c}=this.options;if(c&&!c.current&&c.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(u||l)&&(this.isLayoutDirty=!0),e){let f;const d=()=>this.root.updateBlockedByResize=!1;e(s,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=xot(d,250),VS.hasAnimatedSinceResize&&(VS.hasAnimatedSinceResize=!1,this.nodes.forEach(DG))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&c&&(l||u)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:d,hasRelativeTargetChanged:h,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||c.getDefaultTransition()||zot,{onLayoutAnimationStart:m,onLayoutAnimationComplete:y}=c.getProps(),v=!this.targetLayout||!Mde(this.targetLayout,p)||h,b=!d&&h;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||b||d&&(v||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,b);const x={...b9(g,"layout"),onPlay:m,onComplete:y};(c.shouldReduceMotion||this.options.layoutRoot)&&(x.delay=0,x.type=!1),this.startAnimation(x)}else d||DG(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Mu(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Mot),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let c=0;c<this.path.length;c++){const f=this.path[c];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(PG);return}this.isUpdating||this.nodes.forEach(Fot),this.isUpdating=!1,this.nodes.forEach(Oot),this.nodes.forEach(_ot),this.nodes.forEach($ot),this.clearAllSnapshots();const a=performance.now();Kr.delta=Af(0,1e3/60,a-Kr.timestamp),Kr.timestamp=a,Kr.isProcessing=!0,g4.update.process(Kr),g4.preRender.process(Kr),g4.render.process(Kr),Kr.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(Rot),this.sharedNodes.forEach(Not)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,nn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){nn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Hn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:s,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!i)return;const s=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!Dde(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,c=u!==this.prevTransformTemplateValue;s&&(a||wd(this.latestValues)||c)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return s&&(l=this.removeTransform(l)),Bot(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:s}=this.options;if(!s)return Hn();const a=s.measureViewportBox(),{scroll:l}=this.root;return l&&(Cc(a.x,l.offset.x),Cc(a.y,l.offset.y)),a}removeElementScroll(s){const a=Hn();Jo(a,s);for(let l=0;l<this.path.length;l++){const u=this.path[l],{scroll:c,options:f}=u;if(u!==this.root&&c&&f.layoutScroll){if(c.isRoot){Jo(a,s);const{scroll:d}=this.root;d&&(Cc(a.x,-d.offset.x),Cc(a.y,-d.offset.y))}Cc(a.x,c.offset.x),Cc(a.y,c.offset.y)}}return a}applyTransform(s,a=!1){const l=Hn();Jo(l,s);for(let u=0;u<this.path.length;u++){const c=this.path[u];!a&&c.options.layoutScroll&&c.scroll&&c!==c.root&&Tg(l,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),wd(c.latestValues)&&Tg(l,c.latestValues)}return wd(this.latestValues)&&Tg(l,this.latestValues),l}removeTransform(s){const a=Hn();Jo(a,s);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!wd(u.latestValues))continue;SP(u.latestValues)&&u.updateSnapshot();const c=Hn(),f=u.measurePageBox();Jo(c,f),$G(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,c)}return wd(this.latestValues)&&$G(a,this.latestValues),a}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Kr.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(s||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:f,layoutId:d}=this.options;if(!(!this.layout||!(f||d))){if(this.resolvedRelativeTargetAt=Kr.timestamp,!this.targetDelta&&!this.relativeTarget){const h=this.getClosestProjectingParent();h&&h.layout&&this.animationProgress!==1?(this.relativeParent=h,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Hn(),this.relativeTargetOrigin=Hn(),vv(this.relativeTargetOrigin,this.layout.layoutBox,h.layout.layoutBox),Jo(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Hn(),this.targetWithTransforms=Hn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),zit(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Jo(this.target,this.layout.layoutBox),Ade(this.target,this.targetDelta)):Jo(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const h=this.getClosestProjectingParent();h&&!!h.resumingFrom==!!this.resumingFrom&&!h.options.layoutScroll&&h.target&&this.animationProgress!==1?(this.relativeParent=h,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Hn(),this.relativeTargetOrigin=Hn(),vv(this.relativeTargetOrigin,this.target,h.target),Jo(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Sd.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||SP(this.parent.latestValues)||$de(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var s;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||!((s=this.parent)===null||s===void 0)&&s.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Kr.timestamp&&(u=!1),u)return;const{layout:c,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||f))return;Jo(this.layoutCorrected,this.layout.layoutBox);const d=this.treeScale.x,h=this.treeScale.y;Xit(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox);const{target:p}=a;if(!p){this.projectionTransform&&(this.projectionDelta=Ag(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Ag(),this.projectionDeltaWithTransform=Ag());const g=this.projectionTransform;yv(this.projectionDelta,this.layoutCorrected,p,this.latestValues),this.projectionTransform=RG(this.projectionDelta,this.treeScale),(this.projectionTransform!==g||this.treeScale.x!==d||this.treeScale.y!==h)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p)),Sd.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),s){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(s,a=!1){const l=this.snapshot,u=l?l.latestValues:{},c={...this.latestValues},f=Ag();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const d=Hn(),h=l?l.source:void 0,p=this.layout?this.layout.source:void 0,g=h!==p,m=this.getStack(),y=!m||m.members.length<=1,v=!!(g&&!y&&this.options.crossfade===!0&&!this.path.some(Iot));this.animationProgress=0;let b;this.mixTargetDelta=x=>{const w=x/1e3;MG(f.x,s.x,w),MG(f.y,s.y,w),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(vv(d,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Lot(this.relativeTarget,this.relativeTargetOrigin,d,w),b&&mot(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=Hn()),Jo(b,this.relativeTarget)),g&&(this.animationValues=c,cot(c,u,this.latestValues,w,v,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=w},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Mu(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=nn.update(()=>{VS.hasAnimatedSinceResize=!0,this.currentAnimation=Cot(0,OG,{...s,onUpdate:a=>{this.mixTargetDelta(a),s.onUpdate&&s.onUpdate(a)},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(OG),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:c}=s;if(!(!a||!l||!u)){if(this!==s&&this.layout&&u&&Lde(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||Hn();const f=jo(this.layout.layoutBox.x);l.x.min=s.target.x.min,l.x.max=l.x.min+f;const d=jo(this.layout.layoutBox.y);l.y.min=s.target.y.min,l.y.max=l.y.min+d}Jo(a,l),Tg(a,c),yv(this.projectionDeltaWithTransform,this.layoutCorrected,a,c)}}registerSharedNode(s,a){this.sharedNodes.has(s)||this.sharedNodes.set(s,new yot),this.sharedNodes.get(s).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){var s;const{layoutId:a}=this.options;return a?((s=this.getStack())===null||s===void 0?void 0:s.lead)||this:this}getPrevLead(){var s;const{layoutId:a}=this.options;return a?(s=this.getStack())===null||s===void 0?void 0:s.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),s&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetRotation(){const{visualElement:s}=this.options;if(!s)return;let a=!1;const{latestValues:l}=s;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(a=!0),!a)return;const u={};for(let c=0;c<FG.length;c++){const f="rotate"+FG[c];l[f]&&(u[f]=l[f],s.setStaticValue(f,0))}s.render();for(const c in u)s.setStaticValue(c,u[c]);s.scheduleRender()}getProjectionStyles(s){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return Eot;const u={visibility:""},c=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=US(s==null?void 0:s.pointerEvents)||"",u.transform=c?c(this.latestValues,""):"none",u;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const g={};return this.options.layoutId&&(g.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,g.pointerEvents=US(s==null?void 0:s.pointerEvents)||""),this.hasProjected&&!wd(this.latestValues)&&(g.transform=c?c({},""):"none",this.hasProjected=!1),g}const d=f.animationValues||f.latestValues;this.applyTransformsToTarget(),u.transform=RG(this.projectionDeltaWithTransform,this.treeScale,d),c&&(u.transform=c(d,u.transform));const{x:h,y:p}=this.projectionDelta;u.transformOrigin=`${h.origin*100}% ${p.origin*100}% 0`,f.animationValues?u.opacity=f===this?(l=(a=d.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:u.opacity=f===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const g in ck){if(d[g]===void 0)continue;const{correct:m,applyTo:y}=ck[g],v=u.transform==="none"?d[g]:m(d[g],f);if(y){const b=y.length;for(let x=0;x<b;x++)u[y[x]]=v}else u[g]=v}return this.options.layoutId&&(u.pointerEvents=f===this?US(s==null?void 0:s.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>{var a;return(a=s.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(PG),this.root.sharedNodes.clear()}}}function _ot(e){e.updateLayout()}function $ot(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=e.layout,{animationType:o}=e.options,s=n.source!==e.layout.source;o==="size"?es(f=>{const d=s?n.measuredBox[f]:n.layoutBox[f],h=jo(d);d.min=r[f].min,d.max=d.min+h}):Lde(o,n.layoutBox,r)&&es(f=>{const d=s?n.measuredBox[f]:n.layoutBox[f],h=jo(r[f]);d.max=d.min+h,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+h)});const a=Ag();yv(a,r,n.layoutBox);const l=Ag();s?yv(l,e.applyTransform(i,!0),n.measuredBox):yv(l,r,n.layoutBox);const u=!Dde(a);let c=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:d,layout:h}=f;if(d&&h){const p=Hn();vv(p,n.layoutBox,d.layoutBox);const g=Hn();vv(g,r,h.layoutBox),Mde(p,g)||(c=!0),f.options.layoutRoot&&(e.relativeTarget=g,e.relativeTargetOrigin=p,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeTargetChanged:c})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function Aot(e){Sd.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function Tot(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function Rot(e){e.clearSnapshot()}function PG(e){e.clearMeasurements()}function Fot(e){e.isLayoutDirty=!1}function Oot(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function DG(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function Pot(e){e.resolveTargetDelta()}function Dot(e){e.calcProjection()}function Mot(e){e.resetRotation()}function Not(e){e.removeLeadSnapshot()}function MG(e,t,n){e.translate=Sn(t.translate,0,n),e.scale=Sn(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function NG(e,t,n,r){e.min=Sn(t.min,n.min,r),e.max=Sn(t.max,n.max,r)}function Lot(e,t,n,r){NG(e.x,t.x,n.x,r),NG(e.y,t.y,n.y,r)}function Iot(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const zot={duration:.45,ease:[.4,0,.1,1]},LG=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),IG=LG("applewebkit/")&&!LG("chrome/")?Math.round:zn;function zG(e){e.min=IG(e.min),e.max=IG(e.max)}function Bot(e){zG(e.x),zG(e.y)}function Lde(e,t,n){return e==="position"||e==="preserve-aspect"&&!xP(TG(t),TG(n),.2)}const jot=Nde({attachResizeListener:(e,t)=>du(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),_4={current:void 0},Ide=Nde({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!_4.current){const e=new jot({});e.mount(window),e.setOptions({layoutScroll:!0}),_4.current=e}return _4.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),Uot={pan:{Feature:not},drag:{Feature:tot,ProjectionNode:Ide,MeasureLayout:Fde}},Vot=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function Wot(e){const t=Vot.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]}function EP(e,t,n=1){const[r,i]=Wot(e);if(!r)return;const o=window.getComputedStyle(t).getPropertyValue(r);if(o){const s=o.trim();return xde(s)?parseFloat(s):s}else return hP(i)?EP(i,t,n+1):i}function Hot(e,{...t},n){const r=e.current;if(!(r instanceof Element))return{target:t,transitionEnd:n};n&&(n={...n}),e.values.forEach(i=>{const o=i.get();if(!hP(o))return;const s=EP(o,r);s&&i.set(s)});for(const i in t){const o=t[i];if(!hP(o))continue;const s=EP(o,r);s&&(t[i]=s,n||(n={}),n[i]===void 0&&(n[i]=o))}return{target:t,transitionEnd:n}}const qot=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),zde=e=>qot.has(e),Got=e=>Object.keys(e).some(zde),BG=e=>e===yp||e===We,jG=(e,t)=>parseFloat(e.split(", ")[t]),UG=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/);if(i)return jG(i[1],t);{const o=r.match(/^matrix\((.+)\)$/);return o?jG(o[1],e):0}},Xot=new Set(["x","y","z"]),Yot=Ux.filter(e=>!Xot.has(e));function Kot(e){const t=[];return Yot.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t.length&&e.render(),t}const f0={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:UG(4,13),y:UG(5,14)};f0.translateX=f0.x;f0.translateY=f0.y;const Qot=(e,t,n)=>{const r=t.measureViewportBox(),i=t.current,o=getComputedStyle(i),{display:s}=o,a={};s==="none"&&t.setStaticValue("display",e.display||"block"),n.forEach(u=>{a[u]=f0[u](r,o)}),t.render();const l=t.measureViewportBox();return n.forEach(u=>{const c=t.getValue(u);c&&c.jump(a[u]),e[u]=f0[u](l,o)}),e},Jot=(e,t,n={},r={})=>{t={...t},r={...r};const i=Object.keys(t).filter(zde);let o=[],s=!1;const a=[];if(i.forEach(l=>{const u=e.getValue(l);if(!e.hasValue(l))return;let c=n[l],f=Xy(c);const d=t[l];let h;if(dk(d)){const p=d.length,g=d[0]===null?1:0;c=d[g],f=Xy(c);for(let m=g;m<p&&d[m]!==null;m++)h?hk(Xy(d[m])===h):h=Xy(d[m])}else h=Xy(d);if(f!==h)if(BG(f)&&BG(h)){const p=u.get();typeof p=="string"&&u.set(parseFloat(p)),typeof d=="string"?t[l]=parseFloat(d):Array.isArray(d)&&h===We&&(t[l]=d.map(parseFloat))}else f!=null&&f.transform&&(h!=null&&h.transform)&&(c===0||d===0)?c===0?u.set(h.transform(c)):t[l]=f.transform(d):(s||(o=Kot(e),s=!0),a.push(l),r[l]=r[l]!==void 0?r[l]:t[l],u.jump(d))}),a.length){const l=a.indexOf("height")>=0?window.pageYOffset:null,u=Qot(t,e,a);return o.length&&o.forEach(([c,f])=>{e.getValue(c).set(f)}),e.render(),wA&&l!==null&&window.scrollTo({top:l}),{target:u,transitionEnd:r}}else return{target:t,transitionEnd:r}};function Zot(e,t,n,r){return Got(t)?Jot(e,t,n,r):{target:t,transitionEnd:r}}const est=(e,t,n,r)=>{const i=Hot(e,t,r);return t=i.target,r=i.transitionEnd,Zot(e,t,n,r)},kP={current:null},Bde={current:!1};function tst(){if(Bde.current=!0,!!wA)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>kP.current=e.matches;e.addListener(t),t()}else kP.current=!1}function nst(e,t,n){const{willChange:r}=t;for(const i in t){const o=t[i],s=n[i];if(po(o))e.addValue(i,o),yk(r)&&r.add(i);else if(po(s))e.addValue(i,c0(o,{owner:e})),yk(r)&&r.remove(i);else if(s!==o)if(e.hasValue(i)){const a=e.getValue(i);!a.hasAnimated&&a.set(o)}else{const a=e.getStaticValue(i);e.addValue(i,c0(a!==void 0?a:o,{owner:e}))}}for(const i in n)t[i]===void 0&&e.removeValue(i);return t}const VG=new WeakMap,jde=Object.keys(Cb),rst=jde.length,WG=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],ist=s9.length;class ost{constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:i,visualState:o},s={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>nn.render(this.render,!1,!0);const{latestValues:a,renderState:l}=o;this.latestValues=a,this.baseTarget={...a},this.initialValues=n.initial?{...a}:{},this.renderState=l,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=s,this.isControllingVariants=CA(n),this.isVariantNode=kfe(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...c}=this.scrapeMotionValuesFromProps(n,{});for(const f in c){const d=c[f];a[f]!==void 0&&po(d)&&(d.set(a[f],!1),yk(u)&&u.add(f))}}scrapeMotionValuesFromProps(t,n){return{}}mount(t){this.current=t,VG.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),Bde.current||tst(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:kP.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){VG.delete(this.current),this.projection&&this.projection.unmount(),Mu(this.notifyUpdate),Mu(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,n){const r=mp.has(t),i=n.on("change",s=>{this.latestValues[t]=s,this.props.onUpdate&&nn.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),o=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{i(),o()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...n},r,i,o){let s,a;for(let l=0;l<rst;l++){const u=jde[l],{isEnabled:c,Feature:f,ProjectionNode:d,MeasureLayout:h}=Cb[u];d&&(s=d),c(n)&&(!this.features[u]&&f&&(this.features[u]=new f(this)),h&&(a=h))}if((this.type==="html"||this.type==="svg")&&!this.projection&&s){this.projection=new s(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:u,drag:c,dragConstraints:f,layoutScroll:d,layoutRoot:h}=n;this.projection.setOptions({layoutId:l,layout:u,alwaysMeasureLayout:!!c||f&&_g(f),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:o,layoutScroll:d,layoutRoot:h})}return a}updateFeatures(){for(const t in this.features){const n=this.features[t];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Hn()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}makeTargetAnimatable(t,n=!0){return this.makeTargetAnimatableFromInstance(t,this.props,n)}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<WG.length;r++){const i=WG[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const o=t["on"+i];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=nst(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<ist;r++){const i=s9[r],o=this.props[i];(Sb(o)||o===!1)&&(n[i]=o)}return n}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){n!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,n)),this.values.set(t,n),this.latestValues[t]=n.get()}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=c0(n,{owner:this}),this.addValue(t,r)),r}readValue(t){var n;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props,i=typeof r=="string"||typeof r=="object"?(n=p9(this.props,r))===null||n===void 0?void 0:n[t]:void 0;if(r&&i!==void 0)return i;const o=this.getBaseTargetFromProps(this.props,t);return o!==void 0&&!po(o)?o:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new C9),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class Ude extends ost{sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:n,...r},{transformValues:i},o){let s=xit(r,t||{},this);if(i&&(n&&(n=i(n)),r&&(r=i(r)),s&&(s=i(s))),o){vit(this,r,s);const a=est(this,r,s,n);n=a.transitionEnd,r=a.target}return{transition:t,transitionEnd:n,...r}}}function sst(e){return window.getComputedStyle(e)}class ast extends Ude{constructor(){super(...arguments),this.type="html"}readValueFromInstance(t,n){if(mp.has(n)){const r=v9(n);return r&&r.default||0}else{const r=sst(t),i=(Tfe(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:n}){return Tde(t,n)}build(t,n,r,i){u9(t,n,r,i.transformTemplate)}scrapeMotionValuesFromProps(t,n){return h9(t,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;po(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(t,n,r,i){Mfe(t,n,r,i)}}class lst extends Ude{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(mp.has(n)){const r=v9(n);return r&&r.default||0}return n=Nfe.has(n)?n:i9(n),t.getAttribute(n)}measureInstanceViewportBox(){return Hn()}scrapeMotionValuesFromProps(t,n){return Ife(t,n)}build(t,n,r,i){f9(t,n,r,this.isSVGTag,i.transformTemplate)}renderInstance(t,n,r,i){Lfe(t,n,r,i)}mount(t){this.isSVGTag=d9(t.tagName),super.mount(t)}}const ust=(e,t)=>l9(e)?new lst(t,{enableHardwareAcceleration:!1}):new ast(t,{enableHardwareAcceleration:!0}),cst={layout:{ProjectionNode:Ide,MeasureLayout:Fde}},fst={...Mit,...nrt,...Uot,...cst},E9=fnt((e,t)=>Vnt(e,t,fst,ust));function Vde(){const e=M.useRef(!1);return r9(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function dst(){const e=Vde(),[t,n]=M.useState(0),r=M.useCallback(()=>{e.current&&n(t+1)},[t]);return[M.useCallback(()=>nn.postRender(r),[r]),t]}class hst extends M.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function pst({children:e,isPresent:t}){const n=M.useId(),r=M.useRef(null),i=M.useRef({width:0,height:0,top:0,left:0});return M.useInsertionEffect(()=>{const{width:o,height:s,top:a,left:l}=i.current;if(t||!r.current||!o||!s)return;r.current.dataset.motionPopId=n;const u=document.createElement("style");return document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${s}px !important;
            top: ${a}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[t]),M.createElement(hst,{isPresent:t,childRef:r,sizeRef:i},M.cloneElement(e,{ref:r}))}const $4=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:o,mode:s})=>{const a=zfe(gst),l=M.useId(),u=M.useMemo(()=>({id:l,initial:t,isPresent:n,custom:i,onExitComplete:c=>{a.set(c,!0);for(const f of a.values())if(!f)return;r&&r()},register:c=>(a.set(c,!1),()=>a.delete(c))}),o?void 0:[n]);return M.useMemo(()=>{a.forEach((c,f)=>a.set(f,!1))},[n]),M.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),s==="popLayout"&&(e=M.createElement(pst,{isPresent:n},e)),M.createElement(jx.Provider,{value:u},e)};function gst(){return new Map}function mst(e){return M.useEffect(()=>()=>e(),[])}const Cd=e=>e.key||"";function yst(e,t){e.forEach(n=>{const r=Cd(n);t.set(r,n)})}function vst(e){const t=[];return M.Children.forEach(e,n=>{M.isValidElement(n)&&t.push(n)}),t}const Wde=({children:e,custom:t,initial:n=!0,onExitComplete:r,exitBeforeEnter:i,presenceAffectsLayout:o=!0,mode:s="sync"})=>{const a=M.useContext(a9).forceRender||dst()[0],l=Vde(),u=vst(e);let c=u;const f=M.useRef(new Map).current,d=M.useRef(c),h=M.useRef(new Map).current,p=M.useRef(!0);if(r9(()=>{p.current=!1,yst(u,h),d.current=c}),mst(()=>{p.current=!0,h.clear(),f.clear()}),p.current)return M.createElement(M.Fragment,null,c.map(v=>M.createElement($4,{key:Cd(v),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:o,mode:s},v)));c=[...c];const g=d.current.map(Cd),m=u.map(Cd),y=g.length;for(let v=0;v<y;v++){const b=g[v];m.indexOf(b)===-1&&!f.has(b)&&f.set(b,void 0)}return s==="wait"&&f.size&&(c=[]),f.forEach((v,b)=>{if(m.indexOf(b)!==-1)return;const x=h.get(b);if(!x)return;const w=g.indexOf(b);let E=v;if(!E){const S=()=>{f.delete(b);const k=Array.from(h.keys()).filter($=>!m.includes($));if(k.forEach($=>h.delete($)),d.current=u.filter($=>{const F=Cd($);return F===b||k.includes(F)}),!f.size){if(l.current===!1)return;a(),r&&r()}};E=M.createElement($4,{key:Cd(x),isPresent:!1,onExitComplete:S,custom:t,presenceAffectsLayout:o,mode:s},x),f.set(b,E)}c.splice(w,0,E)}),c=c.map(v=>{const b=v.key;return f.has(b)?v:M.createElement($4,{key:Cd(v),isPresent:!0,presenceAffectsLayout:o,mode:s},v)}),M.createElement(M.Fragment,null,f.size?c:c.map(v=>M.cloneElement(v)))};var bst={initial:e=>{const{position:t}=e,n=["top","bottom"].includes(t)?"y":"x";let r=["top-right","bottom-right"].includes(t)?1:-1;return t==="bottom"&&(r=1),{opacity:0,[n]:r*24}},animate:{opacity:1,y:0,x:0,scale:1,transition:{duration:.4,ease:[.4,0,.2,1]}},exit:{opacity:0,scale:.85,transition:{duration:.2,ease:[.4,0,1,1]}}},Hde=M.memo(e=>{const{id:t,message:n,onCloseComplete:r,onRequestRemove:i,requestClose:o=!1,position:s="bottom",duration:a=5e3,containerStyle:l,motionVariants:u=bst,toastSpacing:c="0.5rem"}=e,[f,d]=M.useState(a),h=iot();Bq(()=>{h||r==null||r()},[h]),Bq(()=>{d(a)},[a]);const p=()=>d(null),g=()=>d(a),m=()=>{h&&i()};M.useEffect(()=>{h&&o&&i()},[h,o,i]),tnt(m,f);const y=M.useMemo(()=>({pointerEvents:"auto",maxWidth:560,minWidth:300,margin:c,...l}),[l,c]),v=M.useMemo(()=>Ztt(s),[s]);return R.jsx(E9.div,{layout:!0,className:"chakra-toast",variants:u,initial:"initial",animate:"animate",exit:"exit",onHoverStart:p,onHoverEnd:g,custom:{position:s},style:v,children:R.jsx(Ve.div,{role:"status","aria-atomic":"true",className:"chakra-toast__inner",__css:y,children:ol(n,{id:t,onClose:m})})})});Hde.displayName="ToastComponent";function xst(e,t){var n;const r=e??"bottom",o={"top-start":{ltr:"top-left",rtl:"top-right"},"top-end":{ltr:"top-right",rtl:"top-left"},"bottom-start":{ltr:"bottom-left",rtl:"bottom-right"},"bottom-end":{ltr:"bottom-right",rtl:"bottom-left"}}[r];return(n=o==null?void 0:o[t])!=null?n:r}var HG={path:R.jsxs("g",{stroke:"currentColor",strokeWidth:"1.5",children:[R.jsx("path",{strokeLinecap:"round",fill:"none",d:"M9,9a3,3,0,1,1,4,2.829,1.5,1.5,0,0,0-1,1.415V14.25"}),R.jsx("path",{fill:"currentColor",strokeLinecap:"round",d:"M12,17.25a.375.375,0,1,0,.375.375A.375.375,0,0,0,12,17.25h0"}),R.jsx("circle",{fill:"none",strokeMiterlimit:"10",cx:"12",cy:"12",r:"11.25"})]}),viewBox:"0 0 24 24"},Pt=Xe((e,t)=>{const{as:n,viewBox:r,color:i="currentColor",focusable:o=!1,children:s,className:a,__css:l,...u}=e,c=Lt("chakra-icon",a),f=Gu("Icon",e),d={w:"1em",h:"1em",display:"inline-block",lineHeight:"1em",flexShrink:0,color:i,...l,...f},h={ref:t,focusable:o,className:c,__css:d},p=r??HG.viewBox;if(n&&typeof n!="string")return R.jsx(Ve.svg,{as:n,...h,...u});const g=s??HG.path;return R.jsx(Ve.svg,{verticalAlign:"middle",viewBox:p,...h,...u,children:g})});Pt.displayName="Icon";function wst(e){return R.jsx(Pt,{viewBox:"0 0 24 24",...e,children:R.jsx("path",{fill:"currentColor",d:"M12,0A12,12,0,1,0,24,12,12.014,12.014,0,0,0,12,0Zm6.927,8.2-6.845,9.289a1.011,1.011,0,0,1-1.43.188L5.764,13.769a1,1,0,1,1,1.25-1.562l4.076,3.261,6.227-8.451A1,1,0,1,1,18.927,8.2Z"})})}function Sst(e){return R.jsx(Pt,{viewBox:"0 0 24 24",...e,children:R.jsx("path",{fill:"currentColor",d:"M12,0A12,12,0,1,0,24,12,12.013,12.013,0,0,0,12,0Zm.25,5a1.5,1.5,0,1,1-1.5,1.5A1.5,1.5,0,0,1,12.25,5ZM14.5,18.5h-4a1,1,0,0,1,0-2h.75a.25.25,0,0,0,.25-.25v-4.5a.25.25,0,0,0-.25-.25H10.5a1,1,0,0,1,0-2h1a2,2,0,0,1,2,2v4.75a.25.25,0,0,0,.25.25h.75a1,1,0,1,1,0,2Z"})})}function qG(e){return R.jsx(Pt,{viewBox:"0 0 24 24",...e,children:R.jsx("path",{fill:"currentColor",d:"M11.983,0a12.206,12.206,0,0,0-8.51,3.653A11.8,11.8,0,0,0,0,12.207,11.779,11.779,0,0,0,11.8,24h.214A12.111,12.111,0,0,0,24,11.791h0A11.766,11.766,0,0,0,11.983,0ZM10.5,16.542a1.476,1.476,0,0,1,1.449-1.53h.027a1.527,1.527,0,0,1,1.523,1.47,1.475,1.475,0,0,1-1.449,1.53h-.027A1.529,1.529,0,0,1,10.5,16.542ZM11,12.5v-6a1,1,0,0,1,2,0v6a1,1,0,1,1-2,0Z"})})}var Cst=hp({"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}}),k9=Xe((e,t)=>{const n=Gu("Spinner",e),{label:r="Loading...",thickness:i="2px",speed:o="0.45s",emptyColor:s="transparent",className:a,...l}=ci(e),u=Lt("chakra-spinner",a),c={display:"inline-block",borderColor:"currentColor",borderStyle:"solid",borderRadius:"99999px",borderWidth:i,borderBottomColor:s,borderLeftColor:s,animation:`${Cst} ${o} linear infinite`,...n};return R.jsx(Ve.div,{ref:t,__css:c,className:u,...l,children:r&&R.jsx(Ve.span,{srOnly:!0,children:r})})});k9.displayName="Spinner";var[Est,_9]=zi({name:"AlertContext",hookName:"useAlertContext",providerName:"<Alert />"}),[kst,$9]=zi({name:"AlertStylesContext",hookName:"useAlertStyles",providerName:"<Alert />"}),qde={info:{icon:Sst,colorScheme:"blue"},warning:{icon:qG,colorScheme:"orange"},success:{icon:wst,colorScheme:"green"},error:{icon:qG,colorScheme:"red"},loading:{icon:k9,colorScheme:"blue"}};function _st(e){return qde[e].colorScheme}function $st(e){return qde[e].icon}var Gde=Xe(function(t,n){const r=$9(),{status:i}=_9(),o={display:"inline",...r.description};return R.jsx(Ve.div,{ref:n,"data-status":i,...t,className:Lt("chakra-alert__desc",t.className),__css:o})});Gde.displayName="AlertDescription";function Xde(e){const{status:t}=_9(),n=$st(t),r=$9(),i=t==="loading"?r.spinner:r.icon;return R.jsx(Ve.span,{display:"inherit","data-status":t,...e,className:Lt("chakra-alert__icon",e.className),__css:i,children:e.children||R.jsx(n,{h:"100%",w:"100%"})})}Xde.displayName="AlertIcon";var Yde=Xe(function(t,n){const r=$9(),{status:i}=_9();return R.jsx(Ve.div,{ref:n,"data-status":i,...t,className:Lt("chakra-alert__title",t.className),__css:r.title})});Yde.displayName="AlertTitle";var Kde=Xe(function(t,n){var r;const{status:i="info",addRole:o=!0,...s}=ci(t),a=(r=t.colorScheme)!=null?r:_st(i),l=Xf("Alert",{...t,colorScheme:a}),u={width:"100%",display:"flex",alignItems:"center",position:"relative",overflow:"hidden",...l.container};return R.jsx(Est,{value:{status:i},children:R.jsx(kst,{value:l,children:R.jsx(Ve.div,{"data-status":i,role:o?"alert":void 0,ref:n,...s,className:Lt("chakra-alert",t.className),__css:u})})})});Kde.displayName="Alert";function Ast(e){return R.jsx(Pt,{focusable:"false","aria-hidden":!0,...e,children:R.jsx("path",{fill:"currentColor",d:"M.439,21.44a1.5,1.5,0,0,0,2.122,2.121L11.823,14.3a.25.25,0,0,1,.354,0l9.262,9.263a1.5,1.5,0,1,0,2.122-2.121L14.3,12.177a.25.25,0,0,1,0-.354l9.263-9.262A1.5,1.5,0,0,0,21.439.44L12.177,9.7a.25.25,0,0,1-.354,0L2.561.44A1.5,1.5,0,0,0,.439,2.561L9.7,11.823a.25.25,0,0,1,0,.354Z"})})}var Qde=Xe(function(t,n){const r=Gu("CloseButton",t),{children:i,isDisabled:o,__css:s,...a}=ci(t),l={outline:0,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0};return R.jsx(Ve.button,{type:"button","aria-label":"Close",ref:n,disabled:o,__css:{...l,...r,...s},...a,children:i||R.jsx(Ast,{width:"1em",height:"1em"})})});Qde.displayName="CloseButton";var Tst={top:[],"top-left":[],"top-right":[],"bottom-left":[],bottom:[],"bottom-right":[]},nl=Rst(Tst);function Rst(e){let t=e;const n=new Set,r=i=>{t=i(t),n.forEach(o=>o())};return{getState:()=>t,subscribe:i=>(n.add(i),()=>{r(()=>e),n.delete(i)}),removeToast:(i,o)=>{r(s=>({...s,[o]:s[o].filter(a=>a.id!=i)}))},notify:(i,o)=>{const s=Fst(i,o),{position:a,id:l}=s;return r(u=>{var c,f;const h=a.includes("top")?[s,...(c=u[a])!=null?c:[]]:[...(f=u[a])!=null?f:[],s];return{...u,[a]:h}}),l},update:(i,o)=>{i&&r(s=>{const a={...s},{position:l,index:u}=zq(a,i);return l&&u!==-1&&(a[l][u]={...a[l][u],...o,message:Jde(o)}),a})},closeAll:({positions:i}={})=>{r(o=>(i??["bottom","bottom-right","bottom-left","top","top-left","top-right"]).reduce((l,u)=>(l[u]=o[u].map(c=>({...c,requestClose:!0})),l),{...o}))},close:i=>{r(o=>{const s=wfe(o,i);return s?{...o,[s]:o[s].map(a=>a.id==i?{...a,requestClose:!0}:a)}:o})},isActive:i=>!!zq(nl.getState(),i).position}}var GG=0;function Fst(e,t={}){var n,r;GG+=1;const i=(n=t.id)!=null?n:GG,o=(r=t.position)!=null?r:"bottom";return{id:i,message:e,position:o,duration:t.duration,onCloseComplete:t.onCloseComplete,onRequestRemove:()=>nl.removeToast(String(i),o),status:t.status,requestClose:!1,containerStyle:t.containerStyle}}var Ost=e=>{const{status:t,variant:n="solid",id:r,title:i,isClosable:o,onClose:s,description:a,colorScheme:l,icon:u}=e,c=r?{root:`toast-${r}`,title:`toast-${r}-title`,description:`toast-${r}-description`}:void 0;return R.jsxs(Kde,{addRole:!1,status:t,variant:n,id:c==null?void 0:c.root,alignItems:"start",borderRadius:"md",boxShadow:"lg",paddingEnd:8,textAlign:"start",width:"auto",colorScheme:l,children:[R.jsx(Xde,{children:u}),R.jsxs(Ve.div,{flex:"1",maxWidth:"100%",children:[i&&R.jsx(Yde,{id:c==null?void 0:c.title,children:i}),a&&R.jsx(Gde,{id:c==null?void 0:c.description,display:"block",children:a})]}),o&&R.jsx(Qde,{size:"sm",onClick:s,position:"absolute",insetEnd:1,top:1})]})};function Jde(e={}){const{render:t,toastComponent:n=Ost}=e;return i=>typeof t=="function"?t({...i,...e}):R.jsx(n,{...i,...e})}function Pst(e,t){const n=i=>{var o;return{...t,...i,position:xst((o=i==null?void 0:i.position)!=null?o:t==null?void 0:t.position,e)}},r=i=>{const o=n(i),s=Jde(o);return nl.notify(s,o)};return r.update=(i,o)=>{nl.update(i,n(o))},r.promise=(i,o)=>{const s=r({...o.loading,status:"loading",duration:null});i.then(a=>r.update(s,{status:"success",duration:5e3,...ol(o.success,a)})).catch(a=>r.update(s,{status:"error",duration:5e3,...ol(o.error,a)}))},r.closeAll=nl.closeAll,r.close=nl.close,r.isActive=nl.isActive,r}var[Dst,Mst]=zi({name:"ToastOptionsContext",strict:!1}),Nst=e=>{const t=M.useSyncExternalStore(nl.subscribe,nl.getState,nl.getState),{motionVariants:n,component:r=Hde,portalProps:i}=e,s=Object.keys(t).map(a=>{const l=t[a];return R.jsx("div",{role:"region","aria-live":"polite","aria-label":`Notifications-${a}`,id:`chakra-toast-manager-${a}`,style:ent(a),children:R.jsx(Wde,{initial:!1,children:l.map(u=>R.jsx(r,{motionVariants:n,...u},u.id))})},a)});return R.jsx(pA,{...i,children:s})};function Lst(e){const{theme:t}=Hce(),n=Mst();return M.useMemo(()=>Pst(t.direction,{...n,...e}),[e,t.direction,n])}var Ist=e=>function({children:n,theme:r=e,toastOptions:i,...o}){return R.jsxs(Qtt,{theme:r,...o,children:[R.jsx(Dst,{value:i==null?void 0:i.defaultOptions,children:n}),R.jsx(Nst,{...i})]})},zst=Ist(dfe),Bst=Object.defineProperty,jst=(e,t,n)=>t in e?Bst(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,kn=(e,t,n)=>(jst(e,typeof t!="symbol"?t+"":t,n),n);function XG(e){return e.sort((t,n)=>{const r=t.compareDocumentPosition(n);if(r&Node.DOCUMENT_POSITION_FOLLOWING||r&Node.DOCUMENT_POSITION_CONTAINED_BY)return-1;if(r&Node.DOCUMENT_POSITION_PRECEDING||r&Node.DOCUMENT_POSITION_CONTAINS)return 1;if(r&Node.DOCUMENT_POSITION_DISCONNECTED||r&Node.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC)throw Error("Cannot sort the given nodes.");return 0})}var Ust=e=>typeof e=="object"&&"nodeType"in e&&e.nodeType===Node.ELEMENT_NODE;function YG(e,t,n){let r=e+1;return n&&r>=t&&(r=0),r}function KG(e,t,n){let r=e-1;return n&&r<0&&(r=t),r}var _P=typeof window<"u"?M.useLayoutEffect:M.useEffect,bk=e=>e,Vst=class{constructor(){kn(this,"descendants",new Map),kn(this,"register",e=>{if(e!=null)return Ust(e)?this.registerNode(e):t=>{this.registerNode(t,e)}}),kn(this,"unregister",e=>{this.descendants.delete(e);const t=XG(Array.from(this.descendants.keys()));this.assignIndex(t)}),kn(this,"destroy",()=>{this.descendants.clear()}),kn(this,"assignIndex",e=>{this.descendants.forEach(t=>{const n=e.indexOf(t.node);t.index=n,t.node.dataset.index=t.index.toString()})}),kn(this,"count",()=>this.descendants.size),kn(this,"enabledCount",()=>this.enabledValues().length),kn(this,"values",()=>Array.from(this.descendants.values()).sort((t,n)=>t.index-n.index)),kn(this,"enabledValues",()=>this.values().filter(e=>!e.disabled)),kn(this,"item",e=>{if(this.count()!==0)return this.values()[e]}),kn(this,"enabledItem",e=>{if(this.enabledCount()!==0)return this.enabledValues()[e]}),kn(this,"first",()=>this.item(0)),kn(this,"firstEnabled",()=>this.enabledItem(0)),kn(this,"last",()=>this.item(this.descendants.size-1)),kn(this,"lastEnabled",()=>{const e=this.enabledValues().length-1;return this.enabledItem(e)}),kn(this,"indexOf",e=>{var t,n;return e&&(n=(t=this.descendants.get(e))==null?void 0:t.index)!=null?n:-1}),kn(this,"enabledIndexOf",e=>e==null?-1:this.enabledValues().findIndex(t=>t.node.isSameNode(e))),kn(this,"next",(e,t=!0)=>{const n=YG(e,this.count(),t);return this.item(n)}),kn(this,"nextEnabled",(e,t=!0)=>{const n=this.item(e);if(!n)return;const r=this.enabledIndexOf(n.node),i=YG(r,this.enabledCount(),t);return this.enabledItem(i)}),kn(this,"prev",(e,t=!0)=>{const n=KG(e,this.count()-1,t);return this.item(n)}),kn(this,"prevEnabled",(e,t=!0)=>{const n=this.item(e);if(!n)return;const r=this.enabledIndexOf(n.node),i=KG(r,this.enabledCount()-1,t);return this.enabledItem(i)}),kn(this,"registerNode",(e,t)=>{if(!e||this.descendants.has(e))return;const n=Array.from(this.descendants.keys()).concat(e),r=XG(n);t!=null&&t.disabled&&(t.disabled=!!t.disabled);const i={node:e,index:-1,...t};this.descendants.set(e,i),this.assignIndex(r)})}};function Wst(e,t){if(e!=null){if(typeof e=="function"){e(t);return}try{e.current=t}catch{throw new Error(`Cannot assign value '${t}' to ref '${e}'`)}}}function d0(...e){return t=>{e.forEach(n=>{Wst(n,t)})}}function Hst(...e){return M.useMemo(()=>d0(...e),e)}function qst(){const e=M.useRef(new Vst);return _P(()=>()=>e.current.destroy()),e.current}var[Gst,Zde]=zi({name:"DescendantsProvider",errorMessage:"useDescendantsContext must be used within DescendantsProvider"});function Xst(e){const t=Zde(),[n,r]=M.useState(-1),i=M.useRef(null);_P(()=>()=>{i.current&&t.unregister(i.current)},[]),_P(()=>{if(!i.current)return;const s=Number(i.current.dataset.index);n!=s&&!Number.isNaN(s)&&r(s)});const o=bk(e?t.register(e):t.register);return{descendants:t,index:n,enabledIndex:t.enabledIndexOf(i.current),register:d0(o,i)}}function Yst(){return[bk(Gst),()=>bk(Zde()),()=>qst(),i=>Xst(i)]}function Kst(e){const{value:t,defaultValue:n,onChange:r,shouldUpdate:i=(d,h)=>d!==h}=e,o=jS(r),s=jS(i),[a,l]=M.useState(n),u=t!==void 0,c=u?t:a,f=jS(d=>{const p=typeof d=="function"?d(c):d;s(c,p)&&(u||l(p),o(p))},[u,o,c,s]);return[c,f]}var QG={ease:[.25,.1,.25,1],easeIn:[.4,0,1,1],easeOut:[0,0,.2,1],easeInOut:[.4,0,.2,1]},JG={enter:{duration:.2,ease:QG.easeOut},exit:{duration:.1,ease:QG.easeIn}},ZG={enter:(e,t)=>({...e,delay:typeof t=="number"?t:t==null?void 0:t.enter}),exit:(e,t)=>({...e,delay:typeof t=="number"?t:t==null?void 0:t.exit})},Qst={enter:({transition:e,transitionEnd:t,delay:n}={})=>{var r;return{opacity:1,transition:(r=e==null?void 0:e.enter)!=null?r:ZG.enter(JG.enter,n),transitionEnd:t==null?void 0:t.enter}},exit:({transition:e,transitionEnd:t,delay:n}={})=>{var r;return{opacity:0,transition:(r=e==null?void 0:e.exit)!=null?r:ZG.exit(JG.exit,n),transitionEnd:t==null?void 0:t.exit}}},Jst={initial:"exit",animate:"enter",exit:"exit",variants:Qst},ehe=M.forwardRef(function(t,n){const{unmountOnExit:r,in:i,className:o,transition:s,transitionEnd:a,delay:l,...u}=t,c=i||r?"enter":"exit",f=r?i&&r:!0,d={transition:s,transitionEnd:a,delay:l};return R.jsx(Wde,{custom:d,children:f&&R.jsx(E9.div,{ref:n,className:Lt("chakra-fade",o),custom:d,...Jst,animate:c,...u})})});ehe.displayName="Fade";var $P=Xe(function(t,n){const{htmlWidth:r,htmlHeight:i,alt:o,...s}=t;return R.jsx("img",{width:r,height:i,ref:n,alt:o,...s})});$P.displayName="NativeImage";function Zst(e){const{loading:t,src:n,srcSet:r,onLoad:i,onError:o,crossOrigin:s,sizes:a,ignoreFallback:l}=e,[u,c]=M.useState("pending");M.useEffect(()=>{c(n?"loading":"pending")},[n]);const f=M.useRef(),d=M.useCallback(()=>{if(!n)return;h();const p=new Image;p.src=n,s&&(p.crossOrigin=s),r&&(p.srcset=r),a&&(p.sizes=a),t&&(p.loading=t),p.onload=g=>{h(),c("loaded"),i==null||i(g)},p.onerror=g=>{h(),c("failed"),o==null||o(g)},f.current=p},[n,s,r,a,i,o,t]),h=()=>{f.current&&(f.current.onload=null,f.current.onerror=null,f.current=null)};return e0(()=>{if(!l)return u==="loading"&&d(),()=>{h()}},[u,d,l]),l?"loaded":u}var eat=(e,t)=>e!=="loaded"&&t==="beforeLoadOrError"||e==="failed"&&t==="onError";function tat(e,t=[]){const n=Object.assign({},e);for(const r of t)r in n&&delete n[r];return n}var the=Xe(function(t,n){const{fallbackSrc:r,fallback:i,src:o,srcSet:s,align:a,fit:l,loading:u,ignoreFallback:c,crossOrigin:f,fallbackStrategy:d="beforeLoadOrError",referrerPolicy:h,...p}=t,g=r!==void 0||i!==void 0,m=u!=null||c||!g,y=Zst({...t,crossOrigin:f,ignoreFallback:m}),v=eat(y,d),b={ref:n,objectFit:l,objectPosition:a,...m?p:tat(p,["onError","onLoad"])};return v?i||R.jsx(Ve.img,{as:$P,className:"chakra-image__placeholder",src:r,...b}):R.jsx(Ve.img,{as:$P,src:o,srcSet:s,crossOrigin:f,loading:u,referrerPolicy:h,className:"chakra-image",...b})});the.displayName="Image";function $A(e){return M.Children.toArray(e).filter(t=>M.isValidElement(t))}var[nat,rat]=zi({strict:!1,name:"ButtonGroupContext"}),iat={horizontal:{"> *:first-of-type:not(:last-of-type)":{borderEndRadius:0},"> *:not(:first-of-type):not(:last-of-type)":{borderRadius:0},"> *:not(:first-of-type):last-of-type":{borderStartRadius:0}},vertical:{"> *:first-of-type:not(:last-of-type)":{borderBottomRadius:0},"> *:not(:first-of-type):not(:last-of-type)":{borderRadius:0},"> *:not(:first-of-type):last-of-type":{borderTopRadius:0}}},oat={horizontal:e=>({"& > *:not(style) ~ *:not(style)":{marginStart:e}}),vertical:e=>({"& > *:not(style) ~ *:not(style)":{marginTop:e}})},A9=Xe(function(t,n){const{size:r,colorScheme:i,variant:o,className:s,spacing:a="0.5rem",isAttached:l,isDisabled:u,orientation:c="horizontal",...f}=t,d=Lt("chakra-button__group",s),h=M.useMemo(()=>({size:r,colorScheme:i,variant:o,isDisabled:u}),[r,i,o,u]);let p={display:"inline-flex",...l?iat[c]:oat[c](a)};const g=c==="vertical";return R.jsx(nat,{value:h,children:R.jsx(Ve.div,{ref:n,role:"group",__css:p,className:d,"data-attached":l?"":void 0,"data-orientation":c,flexDir:g?"column":void 0,...f})})});A9.displayName="ButtonGroup";function sat(e){const[t,n]=M.useState(!e);return{ref:M.useCallback(o=>{o&&n(o.tagName==="BUTTON")},[]),type:t?"button":void 0}}function AP(e){const{children:t,className:n,...r}=e,i=M.isValidElement(t)?M.cloneElement(t,{"aria-hidden":!0,focusable:!1}):t,o=Lt("chakra-button__icon",n);return R.jsx(Ve.span,{display:"inline-flex",alignSelf:"center",flexShrink:0,...r,className:o,children:i})}AP.displayName="ButtonIcon";function TP(e){const{label:t,placement:n,spacing:r="0.5rem",children:i=R.jsx(k9,{color:"currentColor",width:"1em",height:"1em"}),className:o,__css:s,...a}=e,l=Lt("chakra-button__spinner",o),u=n==="start"?"marginEnd":"marginStart",c=M.useMemo(()=>({display:"flex",alignItems:"center",position:t?"relative":"absolute",[u]:t?r:0,fontSize:"1em",lineHeight:"normal",...s}),[s,t,u,r]);return R.jsx(Ve.div,{className:l,...a,__css:c,children:i})}TP.displayName="ButtonSpinner";var ms=Xe((e,t)=>{const n=rat(),r=Gu("Button",{...n,...e}),{isDisabled:i=n==null?void 0:n.isDisabled,isLoading:o,isActive:s,children:a,leftIcon:l,rightIcon:u,loadingText:c,iconSpacing:f="0.5rem",type:d,spinner:h,spinnerPlacement:p="start",className:g,as:m,...y}=ci(e),v=M.useMemo(()=>{const E={...r==null?void 0:r._focus,zIndex:1};return{display:"inline-flex",appearance:"none",alignItems:"center",justifyContent:"center",userSelect:"none",position:"relative",whiteSpace:"nowrap",verticalAlign:"middle",outline:"none",...r,...!!n&&{_focus:E}}},[r,n]),{ref:b,type:x}=sat(m),w={rightIcon:u,leftIcon:l,iconSpacing:f,children:a};return R.jsxs(Ve.button,{ref:Hst(t,b),as:m,type:d??x,"data-active":rs(s),"data-loading":rs(o),__css:v,className:Lt("chakra-button",g),...y,disabled:i||o,children:[o&&p==="start"&&R.jsx(TP,{className:"chakra-button__spinner--start",label:c,placement:"start",spacing:f,children:h}),o?c||R.jsx(Ve.span,{opacity:0,children:R.jsx(eX,{...w})}):R.jsx(eX,{...w}),o&&p==="end"&&R.jsx(TP,{className:"chakra-button__spinner--end",label:c,placement:"end",spacing:f,children:h})]})});ms.displayName="Button";function eX(e){const{leftIcon:t,rightIcon:n,children:r,iconSpacing:i}=e;return R.jsxs(R.Fragment,{children:[t&&R.jsx(AP,{marginEnd:i,children:t}),r,n&&R.jsx(AP,{marginStart:i,children:n})]})}var Uh=Xe((e,t)=>{const{icon:n,children:r,isRound:i,"aria-label":o,...s}=e,a=n||r,l=M.isValidElement(a)?M.cloneElement(a,{"aria-hidden":!0,focusable:!1}):null;return R.jsx(ms,{padding:"0",borderRadius:i?"full":void 0,ref:t,"aria-label":o,...s,children:l})});Uh.displayName="IconButton";var[aat,lat]=zi({name:"FormControlStylesContext",errorMessage:`useFormControlStyles returned is 'undefined'. Seems you forgot to wrap the components in "<FormControl />" `}),[uat,nhe]=zi({strict:!1,name:"FormControlContext"});function cat(e){const{id:t,isRequired:n,isInvalid:r,isDisabled:i,isReadOnly:o,...s}=e,a=M.useId(),l=t||`field-${a}`,u=`${l}-label`,c=`${l}-feedback`,f=`${l}-helptext`,[d,h]=M.useState(!1),[p,g]=M.useState(!1),[m,y]=M.useState(!1),v=M.useCallback((S={},k=null)=>({id:f,...S,ref:d0(k,$=>{$&&g(!0)})}),[f]),b=M.useCallback((S={},k=null)=>({...S,ref:k,"data-focus":rs(m),"data-disabled":rs(i),"data-invalid":rs(r),"data-readonly":rs(o),id:S.id!==void 0?S.id:u,htmlFor:S.htmlFor!==void 0?S.htmlFor:l}),[l,i,m,r,o,u]),x=M.useCallback((S={},k=null)=>({id:c,...S,ref:d0(k,$=>{$&&h(!0)}),"aria-live":"polite"}),[c]),w=M.useCallback((S={},k=null)=>({...S,...s,ref:k,role:"group","data-focus":rs(m),"data-disabled":rs(i),"data-invalid":rs(r),"data-readonly":rs(o)}),[s,i,m,r,o]),E=M.useCallback((S={},k=null)=>({...S,ref:k,role:"presentation","aria-hidden":!0,children:S.children||"*"}),[]);return{isRequired:!!n,isInvalid:!!r,isReadOnly:!!o,isDisabled:!!i,isFocused:!!m,onFocus:()=>y(!0),onBlur:()=>y(!1),hasFeedbackText:d,setHasFeedbackText:h,hasHelpText:p,setHasHelpText:g,id:l,labelId:u,feedbackId:c,helpTextId:f,htmlProps:s,getHelpTextProps:v,getErrorMessageProps:x,getRootProps:w,getLabelProps:b,getRequiredIndicatorProps:E}}var rhe=Xe(function(t,n){const r=Xf("Form",t),i=ci(t),{getRootProps:o,htmlProps:s,...a}=cat(i),l=Lt("chakra-form-control",t.className);return R.jsx(uat,{value:a,children:R.jsx(aat,{value:r,children:R.jsx(Ve.div,{...o({},n),className:l,__css:r.container})})})});rhe.displayName="FormControl";var fat=Xe(function(t,n){const r=nhe(),i=lat(),o=Lt("chakra-form__helper-text",t.className);return R.jsx(Ve.div,{...r==null?void 0:r.getHelpTextProps(t,n),__css:i.helperText,className:o})});fat.displayName="FormHelperText";function ihe(e){const{isDisabled:t,isInvalid:n,isReadOnly:r,isRequired:i,...o}=dat(e);return{...o,disabled:t,readOnly:r,required:i,"aria-invalid":K3(n),"aria-required":K3(i),"aria-readonly":K3(r)}}function dat(e){var t,n,r;const i=nhe(),{id:o,disabled:s,readOnly:a,required:l,isRequired:u,isInvalid:c,isReadOnly:f,isDisabled:d,onFocus:h,onBlur:p,...g}=e,m=e["aria-describedby"]?[e["aria-describedby"]]:[];return i!=null&&i.hasFeedbackText&&(i!=null&&i.isInvalid)&&m.push(i.feedbackId),i!=null&&i.hasHelpText&&m.push(i.helpTextId),{...g,"aria-describedby":m.join(" ")||void 0,id:o??(i==null?void 0:i.id),isDisabled:(t=s??d)!=null?t:i==null?void 0:i.isDisabled,isReadOnly:(n=a??f)!=null?n:i==null?void 0:i.isReadOnly,isRequired:(r=l??u)!=null?r:i==null?void 0:i.isRequired,isInvalid:c??(i==null?void 0:i.isInvalid),onFocus:yb(i==null?void 0:i.onFocus,h),onBlur:yb(i==null?void 0:i.onBlur,p)}}var ohe={exports:{}},hat="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",pat=hat,gat=pat;function she(){}function ahe(){}ahe.resetWarningCache=she;var mat=function(){function e(r,i,o,s,a,l){if(l!==gat){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:ahe,resetWarningCache:she};return n.PropTypes=n,n};ohe.exports=mat();var lhe=ohe.exports,[yat,vat]=zi({name:"InputGroupStylesContext",errorMessage:`useInputGroupStyles returned is 'undefined'. Seems you forgot to wrap the components in "<InputGroup />" `}),uhe=Xe(function(t,n){const r=Xf("Input",t),{children:i,className:o,...s}=ci(t),a=Lt("chakra-input__group",o),l={},u=$A(i),c=r.field;u.forEach(d=>{var h,p;r&&(c&&d.type.id==="InputLeftElement"&&(l.paddingStart=(h=c.height)!=null?h:c.h),c&&d.type.id==="InputRightElement"&&(l.paddingEnd=(p=c.height)!=null?p:c.h),d.type.id==="InputRightAddon"&&(l.borderEndRadius=0),d.type.id==="InputLeftAddon"&&(l.borderStartRadius=0))});const f=u.map(d=>{var h,p;const g=bfe({size:((h=d.props)==null?void 0:h.size)||t.size,variant:((p=d.props)==null?void 0:p.variant)||t.variant});return d.type.id!=="Input"?M.cloneElement(d,g):M.cloneElement(d,Object.assign(g,l,d.props))});return R.jsx(Ve.div,{className:a,ref:n,__css:{width:"100%",display:"flex",position:"relative",isolation:"isolate",...r.group},"data-group":!0,...s,children:R.jsx(yat,{value:r,children:f})})});uhe.displayName="InputGroup";var bat=Ve("div",{baseStyle:{display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",top:"0",zIndex:2}}),AA=Xe(function(t,n){var r,i;const{placement:o="left",...s}=t,a=vat(),l=a.field,c={[o==="left"?"insetStart":"insetEnd"]:"0",width:(r=l==null?void 0:l.height)!=null?r:l==null?void 0:l.h,height:(i=l==null?void 0:l.height)!=null?i:l==null?void 0:l.h,fontSize:l==null?void 0:l.fontSize,...a.element};return R.jsx(bat,{ref:n,__css:c,...s})});AA.id="InputElement";AA.displayName="InputElement";var che=Xe(function(t,n){const{className:r,...i}=t,o=Lt("chakra-input__left-element",r);return R.jsx(AA,{ref:n,placement:"left",className:o,...i})});che.id="InputLeftElement";che.displayName="InputLeftElement";var T9=Xe(function(t,n){const{className:r,...i}=t,o=Lt("chakra-input__right-element",r);return R.jsx(AA,{ref:n,placement:"right",className:o,...i})});T9.id="InputRightElement";T9.displayName="InputRightElement";var xk=Xe(function(t,n){const{htmlSize:r,...i}=t,o=Xf("Input",i),s=ci(i),a=ihe(s),l=Lt("chakra-input",t.className);return R.jsx(Ve.input,{size:r,...a,__css:o.field,ref:n,className:l})});xk.displayName="Input";xk.id="Input";var WS=Xe(function(t,n){const r=Gu("Link",t),{className:i,isExternal:o,...s}=ci(t);return R.jsx(Ve.a,{target:o?"_blank":void 0,rel:o?"noopener":void 0,ref:n,className:Lt("chakra-link",i),...s,__css:r})});WS.displayName="Link";var[xat,fhe]=zi({name:"ListStylesContext",errorMessage:`useListStyles returned is 'undefined'. Seems you forgot to wrap the components in "<List />" `}),R9=Xe(function(t,n){const r=Xf("List",t),{children:i,styleType:o="none",stylePosition:s,spacing:a,...l}=ci(t),u=$A(i),f=a?{["& > *:not(style) ~ *:not(style)"]:{mt:a}}:{};return R.jsx(xat,{value:r,children:R.jsx(Ve.ul,{ref:n,listStyleType:o,listStylePosition:s,role:"list",__css:{...r.container,...f},...l,children:u})})});R9.displayName="List";var wk=Xe((e,t)=>{const{as:n,...r}=e;return R.jsx(R9,{ref:t,as:"ol",styleType:"decimal",marginStart:"1em",...r})});wk.displayName="OrderedList";var wat=Xe(function(t,n){const{as:r,...i}=t;return R.jsx(R9,{ref:n,as:"ul",styleType:"initial",marginStart:"1em",...i})});wat.displayName="UnorderedList";var dhe=Xe(function(t,n){const r=fhe();return R.jsx(Ve.li,{ref:n,...t,__css:r.item})});dhe.displayName="ListItem";var Sat=Xe(function(t,n){const r=fhe();return R.jsx(Pt,{ref:n,role:"presentation",...t,__css:r.icon})});Sat.displayName="ListIcon";var hhe=Object.freeze(["base","sm","md","lg","xl","2xl"]);function Cat(e,t){return Array.isArray(e)?e.map(n=>n===null?null:t(n)):oo(e)?Object.keys(e).reduce((n,r)=>(n[r]=t(e[r]),n),{}):e!=null?t(e):null}function Eat(e,t=hhe){const n={};return e.forEach((r,i)=>{const o=t[i];r!=null&&(n[o]=r)}),n}var TA=Ve("div",{baseStyle:{flex:1,justifySelf:"stretch",alignSelf:"stretch"}});TA.displayName="Spacer";var er=Xe(function(t,n){const r=Gu("Text",t),{className:i,align:o,decoration:s,casing:a,...l}=ci(t),u=bfe({textAlign:t.align,textDecoration:t.decoration,textTransform:t.casing});return R.jsx(Ve.p,{ref:n,className:Lt("chakra-text",t.className),...u,...l,__css:r})});er.displayName="Text";var phe=e=>R.jsx(Ve.div,{className:"chakra-stack__item",...e,__css:{display:"inline-block",flex:"0 0 auto",minWidth:0,...e.__css}});phe.displayName="StackItem";function kat(e){const{spacing:t,direction:n}=e,r={column:{my:t,mx:0,borderLeftWidth:0,borderBottomWidth:"1px"},"column-reverse":{my:t,mx:0,borderLeftWidth:0,borderBottomWidth:"1px"},row:{mx:t,my:0,borderLeftWidth:"1px",borderBottomWidth:0},"row-reverse":{mx:t,my:0,borderLeftWidth:"1px",borderBottomWidth:0}};return{"&":Cat(n,i=>r[i])}}var ghe=Xe((e,t)=>{const{isInline:n,direction:r,align:i,justify:o,spacing:s="0.5rem",wrap:a,children:l,divider:u,className:c,shouldWrapChildren:f,...d}=e,h=n?"row":r??"column",p=M.useMemo(()=>kat({spacing:s,direction:h}),[s,h]),g=!!u,m=!f&&!g,y=M.useMemo(()=>{const b=$A(l);return m?b:b.map((x,w)=>{const E=typeof x.key<"u"?x.key:w,S=w+1===b.length,$=f?R.jsx(phe,{children:x},E):x;if(!g)return $;const F=M.cloneElement(u,{__css:p}),P=S?null:F;return R.jsxs(M.Fragment,{children:[$,P]},E)})},[u,p,g,m,f,l]),v=Lt("chakra-stack",c);return R.jsx(Ve.div,{ref:t,display:"flex",alignItems:i,justifyContent:o,flexDirection:h,flexWrap:a,gap:g?void 0:s,className:v,...d,children:y})});ghe.displayName="Stack";var hh=Xe((e,t)=>R.jsx(ghe,{align:"center",...e,direction:"column",ref:t}));hh.displayName="VStack";var h0=Xe(function(t,n){const r=Gu("Heading",t),{className:i,...o}=ci(t);return R.jsx(Ve.h2,{ref:n,className:Lt("chakra-heading",t.className),...o,__css:r})});h0.displayName="Heading";var F9=Ve("div");F9.displayName="Box";var mhe=Xe(function(t,n){const{size:r,centerContent:i=!0,...o}=t,s=i?{display:"flex",alignItems:"center",justifyContent:"center"}:{};return R.jsx(F9,{ref:n,boxSize:r,__css:{...s,flexShrink:0,flexGrow:0},...o})});mhe.displayName="Square";var _at=Xe(function(t,n){const{size:r,...i}=t;return R.jsx(mhe,{size:r,ref:n,borderRadius:"9999px",...i})});_at.displayName="Circle";var fa=Ve("div",{baseStyle:{display:"flex",alignItems:"center",justifyContent:"center"}});fa.displayName="Center";var $at={horizontal:{insetStart:"50%",transform:"translateX(-50%)"},vertical:{top:"50%",transform:"translateY(-50%)"},both:{insetStart:"50%",top:"50%",transform:"translate(-50%, -50%)"}};Xe(function(t,n){const{axis:r="both",...i}=t;return R.jsx(Ve.div,{ref:n,__css:$at[r],...i,position:"absolute"})});var RA=Xe(function(t,n){const{borderLeftWidth:r,borderBottomWidth:i,borderTopWidth:o,borderRightWidth:s,borderWidth:a,borderStyle:l,borderColor:u,...c}=Gu("Divider",t),{className:f,orientation:d="horizontal",__css:h,...p}=ci(t),g={vertical:{borderLeftWidth:r||s||a||"1px",height:"100%"},horizontal:{borderBottomWidth:i||o||a||"1px",width:"100%"}};return R.jsx(Ve.hr,{ref:n,"aria-orientation":d,...p,__css:{...c,border:"0",borderColor:u,borderStyle:l,...g[d],...h},className:Lt("chakra-divider",f)})});RA.displayName="Divider";var gn=Xe(function(t,n){const{direction:r,align:i,justify:o,wrap:s,basis:a,grow:l,shrink:u,...c}=t,f={display:"flex",flexDirection:r,alignItems:i,justifyContent:o,flexWrap:s,flexBasis:a,flexGrow:l,flexShrink:u};return R.jsx(Ve.div,{ref:n,__css:f,...c})});gn.displayName="Flex";function Aat(e,t={}){const{ssr:n=!0,fallback:r}=t,{getWindow:i}=Ktt(),o=Array.isArray(e)?e:[e];let s=Array.isArray(r)?r:[r];s=s.filter(u=>u!=null);const[a,l]=M.useState(()=>o.map((u,c)=>({media:u,matches:n?!!s[c]:i().matchMedia(u).matches})));return M.useEffect(()=>{const u=i();l(o.map(d=>({media:d,matches:u.matchMedia(d).matches})));const c=o.map(d=>u.matchMedia(d)),f=d=>{l(h=>h.slice().map(p=>p.media===d.media?{...p,matches:d.matches}:p))};return c.forEach(d=>{typeof d.addListener=="function"?d.addListener(f):d.addEventListener("change",f)}),()=>{c.forEach(d=>{typeof d.removeListener=="function"?d.removeListener(f):d.removeEventListener("change",f)})}},[i]),a.map(u=>u.matches)}function Tat(e,t,n=hhe){let r=Object.keys(e).indexOf(t);if(r!==-1)return e[t];let i=n.indexOf(t);for(;i>=0;){const o=n[i];if(e.hasOwnProperty(o)){r=i;break}i-=1}if(r!==-1){const o=n[r];return e[o]}}function Rat(e){var t,n;const r=oo(e)?e:{fallback:e??"base"},o=gA().__breakpoints.details.map(({minMaxQuery:u,breakpoint:c})=>({breakpoint:c,query:u.replace("@media screen and ","")})),s=o.map(u=>u.breakpoint===r.fallback),l=Aat(o.map(u=>u.query),{fallback:s,ssr:r.ssr}).findIndex(u=>u==!0);return(n=(t=o[l])==null?void 0:t.breakpoint)!=null?n:r.fallback}function Ed(e,t){var n;const r=oo(t)?t:{fallback:"base"},i=Rat(r),o=gA();if(!i)return;const s=Array.from(((n=o.__breakpoints)==null?void 0:n.keys)||[]),a=Array.isArray(e)?Object.fromEntries(Object.entries(Eat(e,s)).map(([l,u])=>[l,u])):e;return Tat(a,i,s)}function Fat(){const e=M.useRef(new Map),t=e.current,n=M.useCallback((i,o,s,a)=>{e.current.set(s,{type:o,el:i,options:a}),i.addEventListener(o,s,a)},[]),r=M.useCallback((i,o,s,a)=>{i.removeEventListener(o,s,a),e.current.delete(s)},[]);return M.useEffect(()=>()=>{t.forEach((i,o)=>{r(i.el,i.type,o,i.options)})},[r,t]),{add:n,remove:r}}function A4(e){const t=e.target,{tagName:n,isContentEditable:r}=t;return n!=="INPUT"&&n!=="TEXTAREA"&&r!==!0}function Oat(e={}){const{ref:t,isDisabled:n,isFocusable:r,clickOnEnter:i=!0,clickOnSpace:o=!0,onMouseDown:s,onMouseUp:a,onClick:l,onKeyDown:u,onKeyUp:c,tabIndex:f,onMouseOver:d,onMouseLeave:h,...p}=e,[g,m]=M.useState(!0),[y,v]=M.useState(!1),b=Fat(),x=B=>{B&&B.tagName!=="BUTTON"&&m(!1)},w=g?f:f||0,E=n&&!r,S=M.useCallback(B=>{if(n){B.stopPropagation(),B.preventDefault();return}B.currentTarget.focus(),l==null||l(B)},[n,l]),k=M.useCallback(B=>{y&&A4(B)&&(B.preventDefault(),B.stopPropagation(),v(!1),b.remove(document,"keyup",k,!1))},[y,b]),$=M.useCallback(B=>{if(u==null||u(B),n||B.defaultPrevented||B.metaKey||!A4(B.nativeEvent)||g)return;const z=i&&B.key==="Enter";o&&B.key===" "&&(B.preventDefault(),v(!0)),z&&(B.preventDefault(),B.currentTarget.click()),b.add(document,"keyup",k,!1)},[n,g,u,i,o,b,k]),F=M.useCallback(B=>{if(c==null||c(B),n||B.defaultPrevented||B.metaKey||!A4(B.nativeEvent)||g)return;o&&B.key===" "&&(B.preventDefault(),v(!1),B.currentTarget.click())},[o,g,n,c]),P=M.useCallback(B=>{B.button===0&&(v(!1),b.remove(document,"mouseup",P,!1))},[b]),j=M.useCallback(B=>{if(B.button!==0)return;if(n){B.stopPropagation(),B.preventDefault();return}g||v(!0),B.currentTarget.focus({preventScroll:!0}),b.add(document,"mouseup",P,!1),s==null||s(B)},[n,g,s,b,P]),D=M.useCallback(B=>{B.button===0&&(g||v(!1),a==null||a(B))},[a,g]),L=M.useCallback(B=>{if(n){B.preventDefault();return}d==null||d(B)},[n,d]),A=M.useCallback(B=>{y&&(B.preventDefault(),v(!1)),h==null||h(B)},[y,h]),O=d0(t,x);return g?{...p,ref:O,type:"button","aria-disabled":E?void 0:n,disabled:E,onClick:S,onMouseDown:s,onMouseUp:a,onKeyUp:c,onKeyDown:u,onMouseOver:d,onMouseLeave:h}:{...p,ref:O,role:"button","data-active":rs(y),"aria-disabled":n?"true":void 0,tabIndex:E?void 0:w,onClick:S,onMouseDown:j,onMouseUp:D,onKeyUp:F,onKeyDown:$,onMouseOver:L,onMouseLeave:A}}function Pat(e){const{wasSelected:t,enabled:n,isSelected:r,mode:i="unmount"}=e;return!!(!n||r||i==="keepMounted"&&t)}var yhe=Xe(function(t,n){const{children:r,placeholder:i,className:o,...s}=t;return R.jsxs(Ve.select,{...s,ref:n,className:Lt("chakra-select",o),children:[i&&R.jsx("option",{value:"",children:i}),r]})});yhe.displayName="SelectField";function Dat(e,t){const n={},r={};for(const[i,o]of Object.entries(e))t.includes(i)?n[i]=o:r[i]=o;return[n,r]}var O9=Xe((e,t)=>{var n;const r=Xf("Select",e),{rootProps:i,placeholder:o,icon:s,color:a,height:l,h:u,minH:c,minHeight:f,iconColor:d,iconSize:h,...p}=ci(e),[g,m]=Dat(p,PXe),y=ihe(m),v={width:"100%",height:"fit-content",position:"relative",color:a},b={paddingEnd:"2rem",...r.field,_focus:{zIndex:"unset",...(n=r.field)==null?void 0:n._focus}};return R.jsxs(Ve.div,{className:"chakra-select__wrapper",__css:v,...g,...i,children:[R.jsx(yhe,{ref:t,height:u??l,minH:c??f,placeholder:o,...y,__css:b,children:e.children}),R.jsx(vhe,{"data-disabled":rs(y.disabled),...(d||a)&&{color:d||a},__css:r.icon,...h&&{fontSize:h},children:s})]})});O9.displayName="Select";var Mat=e=>R.jsx("svg",{viewBox:"0 0 24 24",...e,children:R.jsx("path",{fill:"currentColor",d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"})}),Nat=Ve("div",{baseStyle:{position:"absolute",display:"inline-flex",alignItems:"center",justifyContent:"center",pointerEvents:"none",top:"50%",transform:"translateY(-50%)"}}),vhe=e=>{const{children:t=R.jsx(Mat,{}),...n}=e,r=M.cloneElement(t,{role:"presentation",className:"chakra-select__icon",focusable:!1,"aria-hidden":!0,style:{width:"1em",height:"1em",color:"currentColor"}});return R.jsx(Nat,{...n,className:"chakra-select__icon-wrapper",children:M.isValidElement(t)?r:null})};vhe.displayName="SelectIcon";function Lat(){const e=M.useRef(!0);return M.useEffect(()=>{e.current=!1},[]),e.current}function Iat(e){const t=M.useRef();return M.useEffect(()=>{t.current=e},[e]),t.current}var zat=Ve("div",{baseStyle:{boxShadow:"none",backgroundClip:"padding-box",cursor:"default",color:"transparent",pointerEvents:"none",userSelect:"none","&::before, &::after, *":{visibility:"hidden"}}}),RP=Ie("skeleton-start-color"),FP=Ie("skeleton-end-color"),Bat=hp({from:{opacity:0},to:{opacity:1}}),jat=hp({from:{borderColor:RP.reference,background:RP.reference},to:{borderColor:FP.reference,background:FP.reference}}),P9=Xe((e,t)=>{const n={...e,fadeDuration:typeof e.fadeDuration=="number"?e.fadeDuration:.4,speed:typeof e.speed=="number"?e.speed:.8},r=Gu("Skeleton",n),i=Lat(),{startColor:o="",endColor:s="",isLoaded:a,fadeDuration:l,speed:u,className:c,fitContent:f,...d}=ci(n),[h,p]=$Ge("colors",[o,s]),g=Iat(a),m=Lt("chakra-skeleton",c),y={...h&&{[RP.variable]:h},...p&&{[FP.variable]:p}};if(a){const v=i||g?"none":`${Bat} ${l}s`;return R.jsx(Ve.div,{ref:t,className:m,__css:{animation:v},...d})}return R.jsx(zat,{ref:t,className:m,...d,__css:{width:f?"fit-content":void 0,...r,...y,_dark:{...r._dark,...y},animation:`${u}s linear infinite alternate ${jat}`}})});P9.displayName="Skeleton";function Uat(e){return Array(e).fill(1).map((t,n)=>n+1)}var tX=3,bhe=e=>{const{noOfLines:t=tX,spacing:n="0.5rem",skeletonHeight:r="0.5rem",className:i,startColor:o,endColor:s,isLoaded:a,fadeDuration:l,speed:u,variant:c,size:f,colorScheme:d,children:h,...p}=e,g=Ed(typeof t=="number"?[t]:t)||tX,m=Uat(g),y=b=>g>1&&b===m.length?"80%":"100%",v=Lt("chakra-skeleton__group",i);return R.jsx(Ve.div,{className:v,...p,children:m.map((b,x)=>{if(a&&x>0)return null;const w=a?null:{mb:b===m.length?"0":n,width:y(b),height:r};return R.jsx(P9,{startColor:o,endColor:s,isLoaded:a,fadeDuration:l,speed:u,variant:c,size:f,colorScheme:d,...w,children:x===0?h:void 0},m.length.toString()+b)})})};bhe.displayName="SkeletonText";var[Vat,Wat,Hat,qat]=Yst();function Gat(e){var t;const{defaultIndex:n,onChange:r,index:i,isManual:o,isLazy:s,lazyBehavior:a="unmount",orientation:l="horizontal",direction:u="ltr",...c}=e,[f,d]=M.useState(n??0),[h,p]=Kst({defaultValue:n??0,value:i,onChange:r});M.useEffect(()=>{i!=null&&d(i)},[i]);const g=Hat(),m=M.useId();return{id:`tabs-${(t=e.id)!=null?t:m}`,selectedIndex:h,focusedIndex:f,setSelectedIndex:p,setFocusedIndex:d,isManual:o,isLazy:s,lazyBehavior:a,orientation:l,descendants:g,direction:u,htmlProps:c}}var[Xat,FA]=zi({name:"TabsContext",errorMessage:"useTabsContext: `context` is undefined. Seems you forgot to wrap all tabs components within <Tabs />"});function Yat(e){const{focusedIndex:t,orientation:n,direction:r}=FA(),i=Wat(),o=M.useCallback(s=>{const a=()=>{var v;const b=i.nextEnabled(t);b&&((v=b.node)==null||v.focus())},l=()=>{var v;const b=i.prevEnabled(t);b&&((v=b.node)==null||v.focus())},u=()=>{var v;const b=i.firstEnabled();b&&((v=b.node)==null||v.focus())},c=()=>{var v;const b=i.lastEnabled();b&&((v=b.node)==null||v.focus())},f=n==="horizontal",d=n==="vertical",h=s.key,p=r==="ltr"?"ArrowLeft":"ArrowRight",g=r==="ltr"?"ArrowRight":"ArrowLeft",y={[p]:()=>f&&l(),[g]:()=>f&&a(),ArrowDown:()=>d&&a(),ArrowUp:()=>d&&l(),Home:u,End:c}[h];y&&(s.preventDefault(),y(s))},[i,t,n,r]);return{...e,role:"tablist","aria-orientation":n,onKeyDown:yb(e.onKeyDown,o)}}function Kat(e){const{isDisabled:t=!1,isFocusable:n=!1,...r}=e,{setSelectedIndex:i,isManual:o,id:s,setFocusedIndex:a,selectedIndex:l}=FA(),{index:u,register:c}=qat({disabled:t&&!n}),f=u===l,d=()=>{i(u)},h=()=>{a(u),!o&&!(t&&n)&&i(u)};return{...Oat({...r,ref:d0(c,e.ref),isDisabled:t,isFocusable:n,onClick:yb(e.onClick,d)}),id:xhe(s,u),role:"tab",tabIndex:f?0:-1,type:"button","aria-selected":f,"aria-controls":whe(s,u),onFocus:t?void 0:yb(e.onFocus,h)}}var[Qat,Jat]=zi({});function Zat(e){const t=FA(),{id:n,selectedIndex:r}=t,o=$A(e.children).map((s,a)=>M.createElement(Qat,{key:a,value:{isSelected:a===r,id:whe(n,a),tabId:xhe(n,a),selectedIndex:r}},s));return{...e,children:o}}function elt(e){const{children:t,...n}=e,{isLazy:r,lazyBehavior:i}=FA(),{isSelected:o,id:s,tabId:a}=Jat(),l=M.useRef(!1);o&&(l.current=!0);const u=Pat({wasSelected:l.current,isSelected:o,enabled:r,mode:i});return{tabIndex:0,...n,children:u?t:null,role:"tabpanel","aria-labelledby":a,hidden:!o,id:s}}function xhe(e,t){return`${e}--tab-${t}`}function whe(e,t){return`${e}--tabpanel-${t}`}var[tlt,OA]=zi({name:"TabsStylesContext",errorMessage:`useTabsStyles returned is 'undefined'. Seems you forgot to wrap the components in "<Tabs />" `}),PA=Xe(function(t,n){const r=Xf("Tabs",t),{children:i,className:o,...s}=ci(t),{htmlProps:a,descendants:l,...u}=Gat(s),c=M.useMemo(()=>u,[u]),{isFitted:f,...d}=a,h={position:"relative",...r.root};return R.jsx(Vat,{value:l,children:R.jsx(Xat,{value:c,children:R.jsx(tlt,{value:r,children:R.jsx(Ve.div,{className:Lt("chakra-tabs",o),ref:n,...d,__css:h,children:i})})})})});PA.displayName="Tabs";var D9=Xe(function(t,n){const r=Yat({...t,ref:n}),o={display:"flex",...OA().tablist};return R.jsx(Ve.div,{...r,className:Lt("chakra-tabs__tablist",t.className),__css:o})});D9.displayName="TabList";var M9=Xe(function(t,n){const r=elt({...t,ref:n}),i=OA();return R.jsx(Ve.div,{outline:"0",...r,className:Lt("chakra-tabs__tab-panel",t.className),__css:i.tabpanel})});M9.displayName="TabPanel";var N9=Xe(function(t,n){const r=Zat(t),i=OA();return R.jsx(Ve.div,{...r,width:"100%",ref:n,className:Lt("chakra-tabs__tab-panels",t.className),__css:i.tabpanels})});N9.displayName="TabPanels";var L9=Xe(function(t,n){const r=OA(),i=Kat({...t,ref:n}),o={outline:"0",display:"flex",alignItems:"center",justifyContent:"center",...r.tab};return R.jsx(Ve.button,{...i,className:Lt("chakra-tabs__tab",t.className),__css:o})});L9.displayName="Tab";var[nlt,She]=zi({name:"TagStylesContext",errorMessage:`useTagStyles returned is 'undefined'. Seems you forgot to wrap the components in "<Tag />" `}),Che=Xe((e,t)=>{const n=Xf("Tag",e),r=ci(e),i={display:"inline-flex",verticalAlign:"top",alignItems:"center",maxWidth:"100%",...n.container};return R.jsx(nlt,{value:n,children:R.jsx(Ve.span,{ref:t,...r,__css:i})})});Che.displayName="Tag";var Ehe=Xe((e,t)=>{const n=She();return R.jsx(Ve.span,{ref:t,noOfLines:1,...e,__css:n.label})});Ehe.displayName="TagLabel";var rlt=Xe((e,t)=>R.jsx(Pt,{ref:t,verticalAlign:"top",marginEnd:"0.5rem",...e}));rlt.displayName="TagLeftIcon";var ilt=Xe((e,t)=>R.jsx(Pt,{ref:t,verticalAlign:"top",marginStart:"0.5rem",...e}));ilt.displayName="TagRightIcon";var khe=e=>R.jsx(Pt,{verticalAlign:"inherit",viewBox:"0 0 512 512",...e,children:R.jsx("path",{fill:"currentColor",d:"M289.94 256l95-95A24 24 0 00351 127l-95 95-95-95a24 24 0 00-34 34l95 95-95 95a24 24 0 1034 34l95-95 95 95a24 24 0 0034-34z"})});khe.displayName="TagCloseIcon";var olt=Xe((e,t)=>{const{isDisabled:n,children:r,...i}=e,s={display:"flex",alignItems:"center",justifyContent:"center",outline:"0",...She().closeButton};return R.jsx(Ve.button,{ref:t,"aria-label":"close",...i,type:"button",disabled:n,__css:s,children:r||R.jsx(khe,{})})});olt.displayName="TagCloseButton";const T4={charts:0,likes:1,search:2,fields:-2,settings:-1},Mo=qI(GI(e=>({tabIndex:T4.settings,setTabByIndex:t=>e({tabIndex:t<0?Object.keys(PA).length+t:t}),setTabByName:t=>e({tabIndex:T4[t]}),searchTargetFieldNames:[],setSearchTargetFieldNames:t=>e(n=>({searchTargetFieldNames:typeof t=="function"?t(n.searchTargetFieldNames):t})),appendSearchTarget:t=>e(n=>({searchTargetFieldNames:[...n.searchTargetFieldNames,t]})),resetInteractionStore:t=>e({searchTargetFieldNames:[],tabIndex:T4[t]})}),{name:"InteractionStore",anonymousActionType:"InteractionStore Action",enabled:!1}));var _he=Symbol.for("immer-nothing"),nX=Symbol.for("immer-draftable"),Uo=Symbol.for("immer-state");function ta(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var p0=Object.getPrototypeOf;function g0(e){return!!e&&!!e[Uo]}function Vh(e){var t;return e?$he(e)||Array.isArray(e)||!!e[nX]||!!((t=e.constructor)!=null&&t[nX])||MA(e)||NA(e):!1}var slt=Object.prototype.constructor.toString();function $he(e){if(!e||typeof e!="object")return!1;const t=p0(e);if(t===null)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===slt}function Sk(e,t){DA(e)===0?Reflect.ownKeys(e).forEach(n=>{t(n,e[n],e)}):e.forEach((n,r)=>t(r,n,e))}function DA(e){const t=e[Uo];return t?t.type_:Array.isArray(e)?1:MA(e)?2:NA(e)?3:0}function OP(e,t){return DA(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Ahe(e,t,n){const r=DA(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function alt(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function MA(e){return e instanceof Map}function NA(e){return e instanceof Set}function kd(e){return e.copy_||e.base_}function PP(e,t){if(MA(e))return new Map(e);if(NA(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=$he(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[Uo];let i=Reflect.ownKeys(r);for(let o=0;o<i.length;o++){const s=i[o],a=r[s];a.writable===!1&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(r[s]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[s]})}return Object.create(p0(e),r)}else{const r=p0(e);if(r!==null&&n)return{...e};const i=Object.create(r);return Object.assign(i,e)}}function I9(e,t=!1){return LA(e)||g0(e)||!Vh(e)||(DA(e)>1&&(e.set=e.add=e.clear=e.delete=llt),Object.freeze(e),t&&Object.entries(e).forEach(([n,r])=>I9(r,!0))),e}function llt(){ta(2)}function LA(e){return Object.isFrozen(e)}var ult={};function Wh(e){const t=ult[e];return t||ta(0,e),t}var kb;function The(){return kb}function clt(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function rX(e,t){t&&(Wh("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function DP(e){MP(e),e.drafts_.forEach(flt),e.drafts_=null}function MP(e){e===kb&&(kb=e.parent_)}function iX(e){return kb=clt(kb,e)}function flt(e){const t=e[Uo];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function oX(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[Uo].modified_&&(DP(t),ta(4)),Vh(e)&&(e=Ck(t,e),t.parent_||Ek(t,e)),t.patches_&&Wh("Patches").generateReplacementPatches_(n[Uo].base_,e,t.patches_,t.inversePatches_)):e=Ck(t,n,[]),DP(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==_he?e:void 0}function Ck(e,t,n){if(LA(t))return t;const r=t[Uo];if(!r)return Sk(t,(i,o)=>sX(e,r,t,i,o,n)),t;if(r.scope_!==e)return t;if(!r.modified_)return Ek(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let o=i,s=!1;r.type_===3&&(o=new Set(i),i.clear(),s=!0),Sk(o,(a,l)=>sX(e,r,i,a,l,n,s)),Ek(e,i,!1),n&&e.patches_&&Wh("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function sX(e,t,n,r,i,o,s){if(g0(i)){const a=o&&t&&t.type_!==3&&!OP(t.assigned_,r)?o.concat(r):void 0,l=Ck(e,i,a);if(Ahe(n,r,l),g0(l))e.canAutoFreeze_=!1;else return}else s&&n.add(i);if(Vh(i)&&!LA(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;Ck(e,i),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,r)&&Ek(e,i)}}function Ek(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&I9(t,n)}function dlt(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:The(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,o=z9;n&&(i=[r],o=_b);const{revoke:s,proxy:a}=Proxy.revocable(i,o);return r.draft_=a,r.revoke_=s,a}var z9={get(e,t){if(t===Uo)return e;const n=kd(e);if(!OP(n,t))return hlt(e,n,t);const r=n[t];return e.finalized_||!Vh(r)?r:r===R4(e.base_,t)?(F4(e),e.copy_[t]=LP(r,e)):r},has(e,t){return t in kd(e)},ownKeys(e){return Reflect.ownKeys(kd(e))},set(e,t,n){const r=Rhe(kd(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=R4(kd(e),t),o=i==null?void 0:i[Uo];if(o&&o.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(alt(n,i)&&(n!==void 0||OP(e.base_,t)))return!0;F4(e),NP(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return R4(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,F4(e),NP(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=kd(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){ta(11)},getPrototypeOf(e){return p0(e.base_)},setPrototypeOf(){ta(12)}},_b={};Sk(z9,(e,t)=>{_b[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});_b.deleteProperty=function(e,t){return _b.set.call(this,e,t,void 0)};_b.set=function(e,t,n){return z9.set.call(this,e[0],t,n,e[0])};function R4(e,t){const n=e[Uo];return(n?kd(n):e)[t]}function hlt(e,t,n){var i;const r=Rhe(t,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function Rhe(e,t){if(!(t in e))return;let n=p0(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=p0(n)}}function NP(e){e.modified_||(e.modified_=!0,e.parent_&&NP(e.parent_))}function F4(e){e.copy_||(e.copy_=PP(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var plt=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const o=n;n=t;const s=this;return function(l=o,...u){return s.produce(l,c=>n.call(this,c,...u))}}typeof n!="function"&&ta(6),r!==void 0&&typeof r!="function"&&ta(7);let i;if(Vh(t)){const o=iX(this),s=LP(t,void 0);let a=!0;try{i=n(s),a=!1}finally{a?DP(o):MP(o)}return rX(o,r),oX(i,o)}else if(!t||typeof t!="object"){if(i=n(t),i===void 0&&(i=t),i===_he&&(i=void 0),this.autoFreeze_&&I9(i,!0),r){const o=[],s=[];Wh("Patches").generateReplacementPatches_(t,i,o,s),r(o,s)}return i}else ta(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(s,...a)=>this.produceWithPatches(s,l=>t(l,...a));let r,i;return[this.produce(t,n,(s,a)=>{r=s,i=a}),r,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){Vh(e)||ta(8),g0(e)&&(e=glt(e));const t=iX(this),n=LP(e,void 0);return n[Uo].isManual_=!0,MP(t),n}finishDraft(e,t){const n=e&&e[Uo];(!n||!n.isManual_)&&ta(9);const{scope_:r}=n;return rX(r,t),oX(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const r=Wh("Patches").applyPatches_;return g0(e)?r(e,t):this.produce(e,i=>r(i,t))}};function LP(e,t){const n=MA(e)?Wh("MapSet").proxyMap_(e,t):NA(e)?Wh("MapSet").proxySet_(e,t):dlt(e,t);return(t?t.scope_:The()).drafts_.push(n),n}function glt(e){return g0(e)||ta(10,e),Fhe(e)}function Fhe(e){if(!Vh(e)||LA(e))return e;const t=e[Uo];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=PP(e,t.scope_.immer_.useStrictShallowCopy_)}else n=PP(e,!0);return Sk(n,(r,i)=>{Ahe(n,r,Fhe(i))}),t&&(t.finalized_=!1),n}var Vo=new plt,Ky=Vo.produce;Vo.produceWithPatches.bind(Vo);Vo.setAutoFreeze.bind(Vo);Vo.setUseStrictShallowCopy.bind(Vo);Vo.applyPatches.bind(Vo);Vo.createDraft.bind(Vo);Vo.finishDraft.bind(Vo);const Ft=qI(GI((e,t)=>({filename:"",timestamp:0,charts:[],fields:[],currentChartIndex:-1,loadingSession:!1,appendingChart:!1,resetSession:()=>e({filename:"",timestamp:0,charts:[],fields:[],currentChartIndex:-1}),setCurrentChartIndex:n=>{const{appendingChart:r,charts:i,currentChartIndex:o}=t();r||n<-1||n>i.length-1||n===o||e({currentChartIndex:n})},setCurrentChartToLast:()=>{const{charts:n,currentChartIndex:r}=t(),i=n.length-1;i!==r&&e({currentChartIndex:i})},loadSession:async n=>{e({loadingSession:!0,filename:n});const{timestamp:r,charts:i,fields:o,currentChartIndex:s}=t(),a=await us.call("loadSession",{session:{filename:n,timestamp:r,charts:i,fields:o}});e(a?Ky(l=>{Object.assign(l,a),l.currentChartIndex=s===-1?0:s,l.loadingSession=!1}):{loadingSession:!1})},appendNextChart:async()=>{const{appendingChart:n}=t();if(n)return;e({appendingChart:!0});const r=await us.call("appendNextChart");e(r?Ky(i=>{i.charts.push(r),i.appendingChart=!1}):{appendingChart:!1})},appendChart:async n=>{const{appendingChart:r}=t();r||(e({appendingChart:!0}),await us.call("appendChart",{chart:n}),e(Ky(i=>{i.charts.length>lw&&(i.charts=i.charts.slice(0,-lw)),i.charts.push({...n,timestamp:Date.now()}),i.appendingChart=!1})))},setChartPreferred:(n,r)=>{us.call("setPreferred",{key:n,preferred:r}),e(Ky(i=>{i.charts.length>lw&&(i.charts=i.charts.slice(0,-lw));const o=i.charts.find(s=>s.key===n);o&&(o.preferred=r)})),t().appendNextChart()},setCurrentChartPreferred:n=>{const{charts:r,currentChartIndex:i,setChartPreferred:o}=t(),s=r[i];s&&o(s.key,n)},setChartTimeUnit:(n,r)=>e(Ky(i=>{var s;const o=i.charts.find(a=>a.key===n);o&&(o.timeUnit=r,(s=o.spec.transform)==null||s.forEach(a=>{"timeUnit"in a&&(a.timeUnit=r)}))}))}),{name:"SessionStore",anonymousActionType:"SessionStore Action",enabled:!1}));var qx=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},m0=typeof window>"u"||"Deno"in globalThis;function is(){}function mlt(e,t){return typeof e=="function"?e(t):e}function IP(e){return typeof e=="number"&&e>=0&&e!==1/0}function Ohe(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Qg(e,t){return typeof e=="function"?e(t):e}function Qs(e,t){return typeof e=="function"?e(t):e}function aX(e,t){const{type:n="all",exact:r,fetchStatus:i,predicate:o,queryKey:s,stale:a}=e;if(s){if(r){if(t.queryHash!==B9(s,t.options))return!1}else if(!Ab(t.queryKey,s))return!1}if(n!=="all"){const l=t.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&t.isStale()!==a||i&&i!==t.state.fetchStatus||o&&!o(t))}function lX(e,t){const{exact:n,status:r,predicate:i,mutationKey:o}=e;if(o){if(!t.options.mutationKey)return!1;if(n){if($b(t.options.mutationKey)!==$b(o))return!1}else if(!Ab(t.options.mutationKey,o))return!1}return!(r&&t.state.status!==r||i&&!i(t))}function B9(e,t){return((t==null?void 0:t.queryKeyHashFn)||$b)(e)}function $b(e){return JSON.stringify(e,(t,n)=>BP(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function Ab(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(n=>!Ab(e[n],t[n])):!1}function Phe(e,t){if(e===t)return e;const n=uX(e)&&uX(t);if(n||BP(e)&&BP(t)){const r=n?e:Object.keys(e),i=r.length,o=n?t:Object.keys(t),s=o.length,a=n?[]:{};let l=0;for(let u=0;u<s;u++){const c=n?u:o[u];(!n&&r.includes(c)||n)&&e[c]===void 0&&t[c]===void 0?(a[c]=void 0,l++):(a[c]=Phe(e[c],t[c]),a[c]===e[c]&&e[c]!==void 0&&l++)}return i===s&&l===i?e:a}return t}function zP(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function uX(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function BP(e){if(!cX(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!cX(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function cX(e){return Object.prototype.toString.call(e)==="[object Object]"}function ylt(e){return new Promise(t=>{setTimeout(t,e)})}function jP(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?Phe(e,t):t}function vlt(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function blt(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var Dhe=Symbol();function Mhe(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Dhe?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var Vd,Tc,Jg,fY,xlt=(fY=class extends qx{constructor(){super();Ke(this,Vd);Ke(this,Tc);Ke(this,Jg);Ae(this,Jg,t=>{if(!m0&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){H(this,Tc)||this.setEventListener(H(this,Jg))}onUnsubscribe(){var t;this.hasListeners()||((t=H(this,Tc))==null||t.call(this),Ae(this,Tc,void 0))}setEventListener(t){var n;Ae(this,Jg,t),(n=H(this,Tc))==null||n.call(this),Ae(this,Tc,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){H(this,Vd)!==t&&(Ae(this,Vd,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof H(this,Vd)=="boolean"?H(this,Vd):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Vd=new WeakMap,Tc=new WeakMap,Jg=new WeakMap,fY),j9=new xlt,Zg,Rc,em,dY,wlt=(dY=class extends qx{constructor(){super();Ke(this,Zg,!0);Ke(this,Rc);Ke(this,em);Ae(this,em,t=>{if(!m0&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){H(this,Rc)||this.setEventListener(H(this,em))}onUnsubscribe(){var t;this.hasListeners()||((t=H(this,Rc))==null||t.call(this),Ae(this,Rc,void 0))}setEventListener(t){var n;Ae(this,em,t),(n=H(this,Rc))==null||n.call(this),Ae(this,Rc,t(this.setOnline.bind(this)))}setOnline(t){H(this,Zg)!==t&&(Ae(this,Zg,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return H(this,Zg)}},Zg=new WeakMap,Rc=new WeakMap,em=new WeakMap,dY),kk=new wlt;function Slt(e){return Math.min(1e3*2**e,3e4)}function Nhe(e){return(e??"online")==="online"?kk.isOnline():!0}var Lhe=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function O4(e){return e instanceof Lhe}function Ihe(e){let t=!1,n=0,r=!1,i,o,s;const a=new Promise((y,v)=>{o=y,s=v}),l=y=>{var v;r||(p(new Lhe(y)),(v=e.abort)==null||v.call(e))},u=()=>{t=!0},c=()=>{t=!1},f=()=>j9.isFocused()&&(e.networkMode==="always"||kk.isOnline())&&e.canRun(),d=()=>Nhe(e.networkMode)&&e.canRun(),h=y=>{var v;r||(r=!0,(v=e.onSuccess)==null||v.call(e,y),i==null||i(),o(y))},p=y=>{var v;r||(r=!0,(v=e.onError)==null||v.call(e,y),i==null||i(),s(y))},g=()=>new Promise(y=>{var v;i=b=>{(r||f())&&y(b)},(v=e.onPause)==null||v.call(e)}).then(()=>{var y;i=void 0,r||(y=e.onContinue)==null||y.call(e)}),m=()=>{if(r)return;let y;const v=n===0?e.initialPromise:void 0;try{y=v??e.fn()}catch(b){y=Promise.reject(b)}Promise.resolve(y).then(h).catch(b=>{var k;if(r)return;const x=e.retry??(m0?0:3),w=e.retryDelay??Slt,E=typeof w=="function"?w(n,b):w,S=x===!0||typeof x=="number"&&n<x||typeof x=="function"&&x(n,b);if(t||!S){p(b);return}n++,(k=e.onFail)==null||k.call(e,n,b),ylt(E).then(()=>f()?void 0:g()).then(()=>{t?p(b):m()})})};return{promise:a,cancel:l,continue:()=>(i==null||i(),a),cancelRetry:u,continueRetry:c,canStart:d,start:()=>(d()?m():g().then(m),a)}}function Clt(){let e=[],t=0,n=d=>{d()},r=d=>{d()},i=d=>setTimeout(d,0);const o=d=>{i=d},s=d=>{let h;t++;try{h=d()}finally{t--,t||u()}return h},a=d=>{t?e.push(d):i(()=>{n(d)})},l=d=>(...h)=>{a(()=>{d(...h)})},u=()=>{const d=e;e=[],d.length&&i(()=>{r(()=>{d.forEach(h=>{n(h)})})})};return{batch:s,batchCalls:l,schedule:a,setNotifyFunction:d=>{n=d},setBatchNotifyFunction:d=>{r=d},setScheduler:o}}var Rr=Clt(),Wd,hY,zhe=(hY=class{constructor(){Ke(this,Wd)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),IP(this.gcTime)&&Ae(this,Wd,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(m0?1/0:5*60*1e3))}clearGcTimeout(){H(this,Wd)&&(clearTimeout(H(this,Wd)),Ae(this,Wd,void 0))}},Wd=new WeakMap,hY),tm,nm,ts,Yr,Fb,Hd,Ws,Xl,pY,Elt=(pY=class extends zhe{constructor(t){super();Ke(this,Ws);Ke(this,tm);Ke(this,nm);Ke(this,ts);Ke(this,Yr);Ke(this,Fb);Ke(this,Hd);Ae(this,Hd,!1),Ae(this,Fb,t.defaultOptions),this.setOptions(t.options),this.observers=[],Ae(this,ts,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Ae(this,tm,klt(this.options)),this.state=t.state??H(this,tm),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=H(this,Yr))==null?void 0:t.promise}setOptions(t){this.options={...H(this,Fb),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&H(this,ts).remove(this)}setData(t,n){const r=jP(this.state.data,t,this.options);return ft(this,Ws,Xl).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){ft(this,Ws,Xl).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,i;const n=(r=H(this,Yr))==null?void 0:r.promise;return(i=H(this,Yr))==null||i.cancel(t),n?n.then(is).catch(is):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(H(this,tm))}isActive(){return this.observers.some(t=>Qs(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!Ohe(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=H(this,Yr))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=H(this,Yr))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),H(this,ts).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(H(this,Yr)&&(H(this,Hd)?H(this,Yr).cancel({revert:!0}):H(this,Yr).cancelRetry()),this.scheduleGc()),H(this,ts).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||ft(this,Ws,Xl).call(this,{type:"invalidate"})}fetch(t,n){var l,u,c;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(H(this,Yr))return H(this,Yr).continueRetry(),H(this,Yr).promise}if(t&&this.setOptions(t),!this.options.queryFn){const f=this.observers.find(d=>d.options.queryFn);f&&this.setOptions(f.options)}const r=new AbortController,i=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(Ae(this,Hd,!0),r.signal)})},o=()=>{const f=Mhe(this.options,n),d={queryKey:this.queryKey,meta:this.meta};return i(d),Ae(this,Hd,!1),this.options.persister?this.options.persister(f,d,this):f(d)},s={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};i(s),(l=this.options.behavior)==null||l.onFetch(s,this),Ae(this,nm,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=s.fetchOptions)==null?void 0:u.meta))&&ft(this,Ws,Xl).call(this,{type:"fetch",meta:(c=s.fetchOptions)==null?void 0:c.meta});const a=f=>{var d,h,p,g;O4(f)&&f.silent||ft(this,Ws,Xl).call(this,{type:"error",error:f}),O4(f)||((h=(d=H(this,ts).config).onError)==null||h.call(d,f,this),(g=(p=H(this,ts).config).onSettled)==null||g.call(p,this.state.data,f,this)),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return Ae(this,Yr,Ihe({initialPromise:n==null?void 0:n.initialPromise,fn:s.fetchFn,abort:r.abort.bind(r),onSuccess:f=>{var d,h,p,g;if(f===void 0){a(new Error(`${this.queryHash} data is undefined`));return}this.setData(f),(h=(d=H(this,ts).config).onSuccess)==null||h.call(d,f,this),(g=(p=H(this,ts).config).onSettled)==null||g.call(p,f,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:a,onFail:(f,d)=>{ft(this,Ws,Xl).call(this,{type:"failed",failureCount:f,error:d})},onPause:()=>{ft(this,Ws,Xl).call(this,{type:"pause"})},onContinue:()=>{ft(this,Ws,Xl).call(this,{type:"continue"})},retry:s.options.retry,retryDelay:s.options.retryDelay,networkMode:s.options.networkMode,canRun:()=>!0})),H(this,Yr).start()}},tm=new WeakMap,nm=new WeakMap,ts=new WeakMap,Yr=new WeakMap,Fb=new WeakMap,Hd=new WeakMap,Ws=new WeakSet,Xl=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...Bhe(r.data,this.options),fetchMeta:t.meta??null};case"success":return{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=t.error;return O4(i)&&i.revert&&H(this,nm)?{...H(this,nm),fetchStatus:"idle"}:{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),Rr.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),H(this,ts).notify({query:this,type:"updated",action:t})})},pY);function Bhe(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Nhe(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function klt(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Ha,gY,_lt=(gY=class extends qx{constructor(t={}){super();Ke(this,Ha);this.config=t,Ae(this,Ha,new Map)}build(t,n,r){const i=n.queryKey,o=n.queryHash??B9(i,n);let s=this.get(o);return s||(s=new Elt({cache:this,queryKey:i,queryHash:o,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(i)}),this.add(s)),s}add(t){H(this,Ha).has(t.queryHash)||(H(this,Ha).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=H(this,Ha).get(t.queryHash);n&&(t.destroy(),n===t&&H(this,Ha).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Rr.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return H(this,Ha).get(t)}getAll(){return[...H(this,Ha).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>aX(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>aX(t,r)):n}notify(t){Rr.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){Rr.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Rr.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Ha=new WeakMap,gY),qa,gi,qd,Ga,gc,mY,$lt=(mY=class extends zhe{constructor(t){super();Ke(this,Ga);Ke(this,qa);Ke(this,gi);Ke(this,qd);this.mutationId=t.mutationId,Ae(this,gi,t.mutationCache),Ae(this,qa,[]),this.state=t.state||Alt(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){H(this,qa).includes(t)||(H(this,qa).push(t),this.clearGcTimeout(),H(this,gi).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Ae(this,qa,H(this,qa).filter(n=>n!==t)),this.scheduleGc(),H(this,gi).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){H(this,qa).length||(this.state.status==="pending"?this.scheduleGc():H(this,gi).remove(this))}continue(){var t;return((t=H(this,qd))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var i,o,s,a,l,u,c,f,d,h,p,g,m,y,v,b,x,w,E,S;Ae(this,qd,Ihe({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(k,$)=>{ft(this,Ga,gc).call(this,{type:"failed",failureCount:k,error:$})},onPause:()=>{ft(this,Ga,gc).call(this,{type:"pause"})},onContinue:()=>{ft(this,Ga,gc).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>H(this,gi).canRun(this)}));const n=this.state.status==="pending",r=!H(this,qd).canStart();try{if(!n){ft(this,Ga,gc).call(this,{type:"pending",variables:t,isPaused:r}),await((o=(i=H(this,gi).config).onMutate)==null?void 0:o.call(i,t,this));const $=await((a=(s=this.options).onMutate)==null?void 0:a.call(s,t));$!==this.state.context&&ft(this,Ga,gc).call(this,{type:"pending",context:$,variables:t,isPaused:r})}const k=await H(this,qd).start();return await((u=(l=H(this,gi).config).onSuccess)==null?void 0:u.call(l,k,t,this.state.context,this)),await((f=(c=this.options).onSuccess)==null?void 0:f.call(c,k,t,this.state.context)),await((h=(d=H(this,gi).config).onSettled)==null?void 0:h.call(d,k,null,this.state.variables,this.state.context,this)),await((g=(p=this.options).onSettled)==null?void 0:g.call(p,k,null,t,this.state.context)),ft(this,Ga,gc).call(this,{type:"success",data:k}),k}catch(k){try{throw await((y=(m=H(this,gi).config).onError)==null?void 0:y.call(m,k,t,this.state.context,this)),await((b=(v=this.options).onError)==null?void 0:b.call(v,k,t,this.state.context)),await((w=(x=H(this,gi).config).onSettled)==null?void 0:w.call(x,void 0,k,this.state.variables,this.state.context,this)),await((S=(E=this.options).onSettled)==null?void 0:S.call(E,void 0,k,t,this.state.context)),k}finally{ft(this,Ga,gc).call(this,{type:"error",error:k})}}finally{H(this,gi).runNext(this)}}},qa=new WeakMap,gi=new WeakMap,qd=new WeakMap,Ga=new WeakSet,gc=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Rr.batch(()=>{H(this,qa).forEach(r=>{r.onMutationUpdate(t)}),H(this,gi).notify({mutation:this,type:"updated",action:t})})},mY);function Alt(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var bo,Ob,yY,Tlt=(yY=class extends qx{constructor(t={}){super();Ke(this,bo);Ke(this,Ob);this.config=t,Ae(this,bo,new Map),Ae(this,Ob,Date.now())}build(t,n,r){const i=new $lt({mutationCache:this,mutationId:++m2(this,Ob)._,options:t.defaultMutationOptions(n),state:r});return this.add(i),i}add(t){const n=zw(t),r=H(this,bo).get(n)??[];r.push(t),H(this,bo).set(n,r),this.notify({type:"added",mutation:t})}remove(t){var r;const n=zw(t);if(H(this,bo).has(n)){const i=(r=H(this,bo).get(n))==null?void 0:r.filter(o=>o!==t);i&&(i.length===0?H(this,bo).delete(n):H(this,bo).set(n,i))}this.notify({type:"removed",mutation:t})}canRun(t){var r;const n=(r=H(this,bo).get(zw(t)))==null?void 0:r.find(i=>i.state.status==="pending");return!n||n===t}runNext(t){var r;const n=(r=H(this,bo).get(zw(t)))==null?void 0:r.find(i=>i!==t&&i.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){Rr.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...H(this,bo).values()].flat()}find(t){const n={exact:!0,...t};return this.getAll().find(r=>lX(n,r))}findAll(t={}){return this.getAll().filter(n=>lX(t,n))}notify(t){Rr.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return Rr.batch(()=>Promise.all(t.map(n=>n.continue().catch(is))))}},bo=new WeakMap,Ob=new WeakMap,yY);function zw(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function Rlt(e){return{onFetch:(t,n)=>{const r=async()=>{var p,g,m,y,v;const i=t.options,o=(m=(g=(p=t.fetchOptions)==null?void 0:p.meta)==null?void 0:g.fetchMore)==null?void 0:m.direction,s=((y=t.state.data)==null?void 0:y.pages)||[],a=((v=t.state.data)==null?void 0:v.pageParams)||[],l={pages:[],pageParams:[]};let u=!1;const c=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(t.signal.aborted?u=!0:t.signal.addEventListener("abort",()=>{u=!0}),t.signal)})},f=Mhe(t.options,t.fetchOptions),d=async(b,x,w)=>{if(u)return Promise.reject();if(x==null&&b.pages.length)return Promise.resolve(b);const E={queryKey:t.queryKey,pageParam:x,direction:w?"backward":"forward",meta:t.options.meta};c(E);const S=await f(E),{maxPages:k}=t.options,$=w?blt:vlt;return{pages:$(b.pages,S,k),pageParams:$(b.pageParams,x,k)}};let h;if(o&&s.length){const b=o==="backward",x=b?Flt:fX,w={pages:s,pageParams:a},E=x(i,w);h=await d(w,E,b)}else{h=await d(l,a[0]??i.initialPageParam);const b=e??s.length;for(let x=1;x<b;x++){const w=fX(i,h);if(w==null)break;h=await d(h,w)}}return h};t.options.persister?t.fetchFn=()=>{var i,o;return(o=(i=t.options).persister)==null?void 0:o.call(i,r,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=r}}}function fX(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function Flt(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var _n,Fc,Oc,rm,im,Pc,om,sm,vY,Olt=(vY=class{constructor(e={}){Ke(this,_n);Ke(this,Fc);Ke(this,Oc);Ke(this,rm);Ke(this,im);Ke(this,Pc);Ke(this,om);Ke(this,sm);Ae(this,_n,e.queryCache||new _lt),Ae(this,Fc,e.mutationCache||new Tlt),Ae(this,Oc,e.defaultOptions||{}),Ae(this,rm,new Map),Ae(this,im,new Map),Ae(this,Pc,0)}mount(){m2(this,Pc)._++,H(this,Pc)===1&&(Ae(this,om,j9.subscribe(async e=>{e&&(await this.resumePausedMutations(),H(this,_n).onFocus())})),Ae(this,sm,kk.subscribe(async e=>{e&&(await this.resumePausedMutations(),H(this,_n).onOnline())})))}unmount(){var e,t;m2(this,Pc)._--,H(this,Pc)===0&&((e=H(this,om))==null||e.call(this),Ae(this,om,void 0),(t=H(this,sm))==null||t.call(this),Ae(this,sm,void 0))}isFetching(e){return H(this,_n).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return H(this,Fc).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=H(this,_n).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const n=this.defaultQueryOptions(e),r=H(this,_n).build(this,n);return e.revalidateIfStale&&r.isStaleByTime(Qg(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(t)}}getQueriesData(e){return H(this,_n).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),i=H(this,_n).get(r.queryHash),o=i==null?void 0:i.state.data,s=mlt(t,o);if(s!==void 0)return H(this,_n).build(this,r).setData(s,{...n,manual:!0})}setQueriesData(e,t,n){return Rr.batch(()=>H(this,_n).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=H(this,_n).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=H(this,_n);Rr.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=H(this,_n),r={type:"active",...e};return Rr.batch(()=>(n.findAll(e).forEach(i=>{i.reset()}),this.refetchQueries(r,t)))}cancelQueries(e={},t={}){const n={revert:!0,...t},r=Rr.batch(()=>H(this,_n).findAll(e).map(i=>i.cancel(n)));return Promise.all(r).then(is).catch(is)}invalidateQueries(e={},t={}){return Rr.batch(()=>{if(H(this,_n).findAll(e).forEach(r=>{r.invalidate()}),e.refetchType==="none")return Promise.resolve();const n={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(n,t)})}refetchQueries(e={},t){const n={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},r=Rr.batch(()=>H(this,_n).findAll(e).filter(i=>!i.isDisabled()).map(i=>{let o=i.fetch(void 0,n);return n.throwOnError||(o=o.catch(is)),i.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(r).then(is)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=H(this,_n).build(this,t);return n.isStaleByTime(Qg(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(is).catch(is)}fetchInfiniteQuery(e){return e.behavior=Rlt(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(is).catch(is)}resumePausedMutations(){return kk.isOnline()?H(this,Fc).resumePausedMutations():Promise.resolve()}getQueryCache(){return H(this,_n)}getMutationCache(){return H(this,Fc)}getDefaultOptions(){return H(this,Oc)}setDefaultOptions(e){Ae(this,Oc,e)}setQueryDefaults(e,t){H(this,rm).set($b(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...H(this,rm).values()];let n={};return t.forEach(r=>{Ab(e,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(e,t){H(this,im).set($b(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...H(this,im).values()];let n={};return t.forEach(r=>{Ab(e,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...H(this,Oc).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=B9(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===Dhe&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...H(this,Oc).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){H(this,_n).clear(),H(this,Fc).clear()}},_n=new WeakMap,Fc=new WeakMap,Oc=new WeakMap,rm=new WeakMap,im=new WeakMap,Pc=new WeakMap,om=new WeakMap,sm=new WeakMap,vY),Hi,dt,Pb,mi,Gd,am,Xa,Db,lm,um,Xd,Yd,Dc,cm,Nt,N1,UP,VP,WP,HP,qP,GP,XP,jhe,bY,Plt=(bY=class extends qx{constructor(t,n){super();Ke(this,Nt);Ke(this,Hi);Ke(this,dt);Ke(this,Pb);Ke(this,mi);Ke(this,Gd);Ke(this,am);Ke(this,Xa);Ke(this,Db);Ke(this,lm);Ke(this,um);Ke(this,Xd);Ke(this,Yd);Ke(this,Dc);Ke(this,cm,new Set);this.options=n,Ae(this,Hi,t),Ae(this,Xa,null),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(H(this,dt).addObserver(this),dX(H(this,dt),this.options)?ft(this,Nt,N1).call(this):this.updateResult(),ft(this,Nt,HP).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return YP(H(this,dt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return YP(H(this,dt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,ft(this,Nt,qP).call(this),ft(this,Nt,GP).call(this),H(this,dt).removeObserver(this)}setOptions(t,n){const r=this.options,i=H(this,dt);if(this.options=H(this,Hi).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Qs(this.options.enabled,H(this,dt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");ft(this,Nt,XP).call(this),H(this,dt).setOptions(this.options),r._defaulted&&!zP(this.options,r)&&H(this,Hi).getQueryCache().notify({type:"observerOptionsUpdated",query:H(this,dt),observer:this});const o=this.hasListeners();o&&hX(H(this,dt),i,this.options,r)&&ft(this,Nt,N1).call(this),this.updateResult(n),o&&(H(this,dt)!==i||Qs(this.options.enabled,H(this,dt))!==Qs(r.enabled,H(this,dt))||Qg(this.options.staleTime,H(this,dt))!==Qg(r.staleTime,H(this,dt)))&&ft(this,Nt,UP).call(this);const s=ft(this,Nt,VP).call(this);o&&(H(this,dt)!==i||Qs(this.options.enabled,H(this,dt))!==Qs(r.enabled,H(this,dt))||s!==H(this,Dc))&&ft(this,Nt,WP).call(this,s)}getOptimisticResult(t){const n=H(this,Hi).getQueryCache().build(H(this,Hi),t),r=this.createResult(n,t);return Mlt(this,r)&&(Ae(this,mi,r),Ae(this,am,this.options),Ae(this,Gd,H(this,dt).state)),r}getCurrentResult(){return H(this,mi)}trackResult(t,n){const r={};return Object.keys(t).forEach(i=>{Object.defineProperty(r,i,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(i),n==null||n(i),t[i])})}),r}trackProp(t){H(this,cm).add(t)}getCurrentQuery(){return H(this,dt)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=H(this,Hi).defaultQueryOptions(t),r=H(this,Hi).getQueryCache().build(H(this,Hi),n);return r.isFetchingOptimistic=!0,r.fetch().then(()=>this.createResult(r,n))}fetch(t){return ft(this,Nt,N1).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),H(this,mi)))}createResult(t,n){var S;const r=H(this,dt),i=this.options,o=H(this,mi),s=H(this,Gd),a=H(this,am),u=t!==r?t.state:H(this,Pb),{state:c}=t;let f={...c},d=!1,h;if(n._optimisticResults){const k=this.hasListeners(),$=!k&&dX(t,n),F=k&&hX(t,r,n,i);($||F)&&(f={...f,...Bhe(c.data,t.options)}),n._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:p,errorUpdatedAt:g,status:m}=f;if(n.select&&f.data!==void 0)if(o&&f.data===(s==null?void 0:s.data)&&n.select===H(this,Db))h=H(this,lm);else try{Ae(this,Db,n.select),h=n.select(f.data),h=jP(o==null?void 0:o.data,h,n),Ae(this,lm,h),Ae(this,Xa,null)}catch(k){Ae(this,Xa,k)}else h=f.data;if(n.placeholderData!==void 0&&h===void 0&&m==="pending"){let k;if(o!=null&&o.isPlaceholderData&&n.placeholderData===(a==null?void 0:a.placeholderData))k=o.data;else if(k=typeof n.placeholderData=="function"?n.placeholderData((S=H(this,um))==null?void 0:S.state.data,H(this,um)):n.placeholderData,n.select&&k!==void 0)try{k=n.select(k),Ae(this,Xa,null)}catch($){Ae(this,Xa,$)}k!==void 0&&(m="success",h=jP(o==null?void 0:o.data,k,n),d=!0)}H(this,Xa)&&(p=H(this,Xa),h=H(this,lm),g=Date.now(),m="error");const y=f.fetchStatus==="fetching",v=m==="pending",b=m==="error",x=v&&y,w=h!==void 0;return{status:m,fetchStatus:f.fetchStatus,isPending:v,isSuccess:m==="success",isError:b,isInitialLoading:x,isLoading:x,data:h,dataUpdatedAt:f.dataUpdatedAt,error:p,errorUpdatedAt:g,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:y,isRefetching:y&&!v,isLoadingError:b&&!w,isPaused:f.fetchStatus==="paused",isPlaceholderData:d,isRefetchError:b&&w,isStale:U9(t,n),refetch:this.refetch}}updateResult(t){const n=H(this,mi),r=this.createResult(H(this,dt),this.options);if(Ae(this,Gd,H(this,dt).state),Ae(this,am,this.options),H(this,Gd).data!==void 0&&Ae(this,um,H(this,dt)),zP(r,n))return;Ae(this,mi,r);const i={},o=()=>{if(!n)return!0;const{notifyOnChangeProps:s}=this.options,a=typeof s=="function"?s():s;if(a==="all"||!a&&!H(this,cm).size)return!0;const l=new Set(a??H(this,cm));return this.options.throwOnError&&l.add("error"),Object.keys(H(this,mi)).some(u=>{const c=u;return H(this,mi)[c]!==n[c]&&l.has(c)})};(t==null?void 0:t.listeners)!==!1&&o()&&(i.listeners=!0),ft(this,Nt,jhe).call(this,{...i,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&ft(this,Nt,HP).call(this)}},Hi=new WeakMap,dt=new WeakMap,Pb=new WeakMap,mi=new WeakMap,Gd=new WeakMap,am=new WeakMap,Xa=new WeakMap,Db=new WeakMap,lm=new WeakMap,um=new WeakMap,Xd=new WeakMap,Yd=new WeakMap,Dc=new WeakMap,cm=new WeakMap,Nt=new WeakSet,N1=function(t){ft(this,Nt,XP).call(this);let n=H(this,dt).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(is)),n},UP=function(){ft(this,Nt,qP).call(this);const t=Qg(this.options.staleTime,H(this,dt));if(m0||H(this,mi).isStale||!IP(t))return;const r=Ohe(H(this,mi).dataUpdatedAt,t)+1;Ae(this,Xd,setTimeout(()=>{H(this,mi).isStale||this.updateResult()},r))},VP=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(H(this,dt)):this.options.refetchInterval)??!1},WP=function(t){ft(this,Nt,GP).call(this),Ae(this,Dc,t),!(m0||Qs(this.options.enabled,H(this,dt))===!1||!IP(H(this,Dc))||H(this,Dc)===0)&&Ae(this,Yd,setInterval(()=>{(this.options.refetchIntervalInBackground||j9.isFocused())&&ft(this,Nt,N1).call(this)},H(this,Dc)))},HP=function(){ft(this,Nt,UP).call(this),ft(this,Nt,WP).call(this,ft(this,Nt,VP).call(this))},qP=function(){H(this,Xd)&&(clearTimeout(H(this,Xd)),Ae(this,Xd,void 0))},GP=function(){H(this,Yd)&&(clearInterval(H(this,Yd)),Ae(this,Yd,void 0))},XP=function(){const t=H(this,Hi).getQueryCache().build(H(this,Hi),this.options);if(t===H(this,dt))return;const n=H(this,dt);Ae(this,dt,t),Ae(this,Pb,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},jhe=function(t){Rr.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(H(this,mi))}),H(this,Hi).getQueryCache().notify({query:H(this,dt),type:"observerResultsUpdated"})})},bY);function Dlt(e,t){return Qs(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function dX(e,t){return Dlt(e,t)||e.state.data!==void 0&&YP(e,t,t.refetchOnMount)}function YP(e,t,n){if(Qs(t.enabled,e)!==!1){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&U9(e,t)}return!1}function hX(e,t,n,r){return(e!==t||Qs(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&U9(e,n)}function U9(e,t){return Qs(t.enabled,e)!==!1&&e.isStaleByTime(Qg(t.staleTime,e))}function Mlt(e,t){return!zP(e.getCurrentResult(),t)}var Uhe=M.createContext(void 0),Nlt=e=>{const t=M.useContext(Uhe);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},Llt=({client:e,children:t})=>(M.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),R.jsx(Uhe.Provider,{value:e,children:t})),Vhe=M.createContext(!1),Ilt=()=>M.useContext(Vhe);Vhe.Provider;function zlt(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var Blt=M.createContext(zlt()),jlt=()=>M.useContext(Blt);function Ult(e,t){return typeof e=="function"?e(...t):!!e}var Vlt=(e,t)=>{(e.suspense||e.throwOnError)&&(t.isReset()||(e.retryOnMount=!1))},Wlt=e=>{M.useEffect(()=>{e.clearReset()},[e])},Hlt=({result:e,errorResetBoundary:t,throwOnError:n,query:r})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&Ult(n,[e.error,r]),qlt=e=>{e.suspense&&(typeof e.staleTime!="number"&&(e.staleTime=1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},Glt=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,Xlt=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function Ylt(e,t,n){var u,c,f,d;const r=Nlt(),i=Ilt(),o=jlt(),s=r.defaultQueryOptions(e);(c=(u=r.getDefaultOptions().queries)==null?void 0:u._experimental_beforeQuery)==null||c.call(u,s),s._optimisticResults=i?"isRestoring":"optimistic",qlt(s),Vlt(s,o),Wlt(o);const[a]=M.useState(()=>new t(r,s)),l=a.getOptimisticResult(s);if(M.useSyncExternalStore(M.useCallback(h=>{const p=i?()=>{}:a.subscribe(Rr.batchCalls(h));return a.updateResult(),p},[a,i]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),M.useEffect(()=>{a.setOptions(s,{listeners:!1})},[s,a]),Glt(s,l))throw Xlt(s,a,o);if(Hlt({result:l,errorResetBoundary:o,throwOnError:s.throwOnError,query:r.getQueryCache().get(s.queryHash)}))throw l.error;return(d=(f=r.getDefaultOptions().queries)==null?void 0:f._experimental_afterQuery)==null||d.call(f,s,l),s.notifyOnChangeProps?l:a.trackResult(l)}function Klt(e,t){return Ylt(e,Plt)}function Qlt(){var f;const e=Ft(d=>d.charts),t=Ft(d=>d.fields),n=Ft(d=>d.setCurrentChartIndex),r=Ft(d=>d.setCurrentChartPreferred),i=Ft(d=>d.currentChartIndex),o=0<=i&&i<e.length&&((f=e[i])==null?void 0:f.preferred),s=i!==-1;return{sessionInitialized:t.length>0,chartDisplaying:s,currentChartPreferred:o,handleNextChart:()=>n(i+1),handlePrevChart:()=>n(i-1),handlePreferChart:()=>{r(!o)}}}function Whe(){const e=kf(u=>u.writingFile),t=kf(u=>u.writeFile),n=Ft(u=>u.loadingSession),r=Ft(u=>u.loadSession),i=Ft(u=>u.resetSession),o=Ft(u=>u.filename),s=Mo(u=>u.resetInteractionStore),{mobile:a}=ji();return{loading:e||n,initializeSession:async u=>{const c=u instanceof File?u.name:gle(u);c&&(c!==o&&i(),await t(u),await r(c),s(a?"charts":"search"))}}}function Jlt(){const{loading:e,initializeSession:t}=Whe(),[n,r]=M.useState(null);return{loading:e,selectedDemo:n,handleSubmit:()=>{n!=null&&n.href&&t(n.href)},handleDemoSelect:s=>{r(s)}}}const Zlt=(e,t={})=>{const{latency:n=200}=t,[r,i]=M.useState(0),[o,s]=M.useState(0),a=M.useCallback(()=>{s(Date.now())},[]),l=M.useCallback(c=>{if(Date.now()-o>n)return;const d=Date.now();d-r<n&&(c.preventDefault(),e(c)),i(d)},[e,r,n,o]),u=M.useCallback(c=>{e(c)},[e]);return{onTouchStart:a,onTouchEnd:l,onDoubleClick:u}};function eut(){var c,f;const{loading:e,initializeSession:t}=Whe(),[n,r]=M.useState(""),i=M.useRef(null),o=d=>{var p,g;const h=((g=d.target.files)==null?void 0:g[((p=d.target.files)==null?void 0:p.length)-1].name)??"";r(h)},s=d=>{r(d.target.value),i.current&&(i.current.value="",i.current.files=null)},a=()=>{i.current&&i.current.click()},l=()=>{var d,h;if((h=(d=i.current)==null?void 0:d.files)!=null&&h.length){const p=i.current.files[0];t(p)}else PVe(n)&&t(n)},u=!n&&!((f=(c=i.current)==null?void 0:c.files)!=null&&f.length);return{fileInputRef:i,inputDisabled:u,loadingData:e,pathInput:n,handleInputChange:s,handleSubmit:l,handleFileChange:o,handleFileButtonClick:a}}function ji(){const e=Ed({base:4,lg:0}),t=2,n=M.useRef(null),r=Ed({base:window.innerWidth-2*t*4,lg:880}),i=Ed({base:window.innerHeight-140,lg:window.innerHeight*.8-18}),[o,s]=Ed({base:[window.innerWidth-64,Math.min(window.innerHeight-350,500)],lg:[Math.min(window.innerWidth-250,600),Math.min(window.innerHeight-250,600)]})??[300,300],a=r-2*e*4,l=i-2*e*4,u=Ed({base:!0,lg:!1}),c=zs(en.white,en["gray.900"]),f=zs(en.white,en["gray.900"]),d=zs(en["gray.200"],en["gray.700"]),h=Ed({base:"calc(100dvh - 110px)",lg:window.innerHeight*.8-200}),p=5,g="70px",m=zs(en["gray.100"],en["gray.800"]),y=zs(Wc[600],Wc[300]),v=zs(Wc[500],Wc[400]),b=zs(en["red.500"],en["red.200"]),x=zs(en["orange.50"],en["orange.800"]),w=zs(en["orange.600"],en["orange.200"]),E=zs(en["gray.400"],en["gray.600"]),S={"&::-webkit-scrollbar":{width:"5px"},"&::-webkit-scrollbar-track":{background:"transparent"},"&::-webkit-scrollbar-thumb":{background:y,borderRadius:"5px"},"&::-webkit-scrollbar-thumb:hover":{background:v}},k=zs(void 0,"dark");return{cardRef:n,cardInnerHeight:l,cardInnerWidth:a,indicatorGap:6,chartTheme:k,indicatorPadding:{TOP:12,BOTTOM:12},chartHeight:s,chartWidth:o,accentColor:y,accentHoverColor:v,borderColor:d,preferredColor:b,buttonColor:m,cardPadding:e,cardWidth:r,cardHeight:i,cardColor:f,drawerBgColor:c,tabPanelHeight:h,tabIconSize:p,defaultGrayColor:E,thumbnailSize:g,mobile:u,scrollbarStyle:S,accentSelected:x,accentSelectedHover:w}}function Hhe(){const[e,t]=M.useState(()=>us.getLoadingStatus()??{loading:!0,loadingPyodide:!0,loadingServer:!0});return M.useEffect(()=>{const n=r=>{t(r)};return us.on("loadingStatusChange",n),()=>{us.off("loadingStatusChange",n)}},[]),e}const qhe=M.createContext(void 0);function tut({client:e,eventTypes:t=[],attachTo:n=window,children:r}){return M.useEffect(()=>e.registerLogger(t,n),[n,t,e]),R.jsx(qhe.Provider,{value:e,children:r})}function V9(e){const t=M.useContext(qhe);if(!t)throw new Error("useLogger must be used within a LoggerProvider");return t}const nut=(...e)=>{console!=null&&console.warn&&(ph(e[0])&&(e[0]=`react-i18next:: ${e[0]}`),console.warn(...e))},pX={},KP=(...e)=>{ph(e[0])&&pX[e[0]]||(ph(e[0])&&(pX[e[0]]=new Date),nut(...e))},Ghe=(e,t)=>()=>{if(e.isInitialized)t();else{const n=()=>{setTimeout(()=>{e.off("initialized",n)},0),t()};e.on("initialized",n)}},gX=(e,t,n)=>{e.loadNamespaces(t,Ghe(e,n))},mX=(e,t,n,r)=>{ph(n)&&(n=[n]),n.forEach(i=>{e.options.ns.indexOf(i)<0&&e.options.ns.push(i)}),e.loadLanguages(t,Ghe(e,r))},rut=(e,t,n={})=>!t.languages||!t.languages.length?(KP("i18n.languages were undefined or empty",t.languages),!0):t.hasLoadedNamespace(e,{lng:n.lng,precheck:(r,i)=>{var o;if(((o=n.bindI18n)==null?void 0:o.indexOf("languageChanging"))>-1&&r.services.backendConnector.backend&&r.isLanguageChangingTo&&!i(r.isLanguageChangingTo,e))return!1}}),ph=e=>typeof e=="string",iut=e=>typeof e=="object"&&e!==null,out=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,sut={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},aut=e=>sut[e],lut=e=>e.replace(out,aut);let QP={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:lut};const uut=(e={})=>{QP={...QP,...e}},cut=()=>QP;let Xhe;const fut=e=>{Xhe=e},dut=()=>Xhe,hut={type:"3rdParty",init(e){uut(e.options.react),fut(e)}},put=M.createContext();class gut{constructor(){this.usedNamespaces={}}addUsedNamespaces(t){t.forEach(n=>{var r;(r=this.usedNamespaces)[n]??(r[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const mut=(e,t)=>{const n=M.useRef();return M.useEffect(()=>{n.current=e},[e,t]),n.current},Yhe=(e,t,n,r)=>e.getFixedT(t,n,r),yut=(e,t,n,r)=>M.useCallback(Yhe(e,t,n,r),[e,t,n,r]),Os=(e,t={})=>{var x,w,E,S;const{i18n:n}=t,{i18n:r,defaultNS:i}=M.useContext(put)||{},o=n||r||dut();if(o&&!o.reportNamespaces&&(o.reportNamespaces=new gut),!o){KP("You will need to pass in an i18next instance by using initReactI18next");const k=(F,P)=>ph(P)?P:iut(P)&&ph(P.defaultValue)?P.defaultValue:Array.isArray(F)?F[F.length-1]:F,$=[k,{},!1];return $.t=k,$.i18n={},$.ready=!1,$}(x=o.options.react)!=null&&x.wait&&KP("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const s={...cut(),...o.options.react,...t},{useSuspense:a,keyPrefix:l}=s;let u=i||((w=o.options)==null?void 0:w.defaultNS);u=ph(u)?[u]:u||["translation"],(S=(E=o.reportNamespaces).addUsedNamespaces)==null||S.call(E,u);const c=(o.isInitialized||o.initializedStoreOnce)&&u.every(k=>rut(k,o,s)),f=yut(o,t.lng||null,s.nsMode==="fallback"?u:u[0],l),d=()=>f,h=()=>Yhe(o,t.lng||null,s.nsMode==="fallback"?u:u[0],l),[p,g]=M.useState(d);let m=u.join();t.lng&&(m=`${t.lng}${m}`);const y=mut(m),v=M.useRef(!0);M.useEffect(()=>{const{bindI18n:k,bindI18nStore:$}=s;v.current=!0,!c&&!a&&(t.lng?mX(o,t.lng,u,()=>{v.current&&g(h)}):gX(o,u,()=>{v.current&&g(h)})),c&&y&&y!==m&&v.current&&g(h);const F=()=>{v.current&&g(h)};return k&&(o==null||o.on(k,F)),$&&(o==null||o.store.on($,F)),()=>{v.current=!1,o&&(k==null||k.split(" ").forEach(P=>o.off(P,F))),$&&o&&$.split(" ").forEach(P=>o.store.off(P,F))}},[o,m]),M.useEffect(()=>{v.current&&c&&g(d)},[o,l,c]);const b=[p,o,c];if(b.t=p,b.i18n=o,b.ready=c,c||!c&&!a)return b;throw new Promise(k=>{t.lng?mX(o,t.lng,u,()=>k()):gX(o,u,()=>k())})};function vut(){const{fileCache:e,writeFile:t}=kf(),{loadSession:n,filename:r}=Ft(),{colorMode:i,toggleColorMode:o}=zx(),[s,a]=M.useState(()=>us.getPythonType()),{t:l,i18n:u}=Os(),c=Lst(),f=V9();return{python:s,handleServerButtonClick:async()=>{if(!us)return;const g=s==="pyodide"?"server":"pyodide";if(!us.setPython(g)){c({id:"server-not-available",title:l("toast.server_not_available_title"),description:l("toast.server_not_available_description"),status:"error",duration:3e3,isClosable:!0,position:"bottom",containerStyle:{margin:10}});return}a(g),e&&(await t(e),await n(r))},handleDownloadLogs:()=>{try{f.export()}catch(g){c({title:"Oh no!",description:JSON.stringify(g),status:"error",duration:3e3,isClosable:!0,position:"bottom",containerStyle:{margin:10}})}},handleClearLogs:()=>{f.clearLogs().then(()=>{c({title:l("toast.logs_cleared_title"),description:l("toast.logs_cleared_description"),status:"success",duration:3e3,isClosable:!0,position:"bottom",containerStyle:{margin:10}})}).catch(g=>{c({title:l("toast.logs_clear_failed_title"),description:JSON.stringify(g),status:"error",duration:3e3,isClosable:!0,position:"bottom",containerStyle:{margin:10}})})},colorMode:i,toggleColorMode:o,locale:u.language,setLocale:g=>u.changeLanguage(g)}}function but(e,t,{signal:n}={}){let r=null;const i=function(...s){r!==null&&clearTimeout(r),!(n!=null&&n.aborted)&&(r=setTimeout(()=>{e(...s),r=null},t))},o=function(){i.cancel()};return i.cancel=function(){r!==null&&(clearTimeout(r),r=null)},n==null||n.addEventListener("abort",o,{once:!0}),i}function Gp(e,t){const n={};for(const r of t)n[r]=e[r];return n}function yX(e,t){const n={};for(const[r,i]of Object.entries(e))t(i,r)&&(n[r]=i);return n}function xut(){const e=V9();M.useEffect(()=>{const t=kf.subscribe((i,o)=>{const s=Gp(i,["filename"]),a=Gp(o,["filename"]);yS(s,a)||e.log("data-store","state",Hw(s,a))}),n=Mo.subscribe((i,o)=>{const s=yX(i,l=>typeof l!="function"),a=yX(o,l=>typeof l!="function");yS(s,a)||e.log("interaction-store","state",Hw(s,a))}),r=Ft.subscribe((i,o)=>{const s=Gp({...i,charts:i.charts.map(l=>Gp(l,["key","title","preferred","timestamp"]))},["charts","filename","timestamp","currentChartIndex"]),a=Gp({...o,charts:o.charts.map(l=>Gp(l,["key","title","preferred","timestamp"]))},["charts","filename","timestamp","currentChartIndex"]);yS(s,a)||e.log("session-store","state",Hw(s,a))});return()=>{t(),n(),r()}},[e])}function wut(e,t=100){const n=kf(o=>o.data),[r,i]=M.useState(e.thumbnail);return M.useEffect(()=>{!r&&n&&(async()=>{const s=await _Ve(e.spec,n,t);i(s)})()},[n,r,t,e.spec]),r}/**
 * @license hugeicons-react v0.2.0
 *
 * See the LICENSE file in the root directory of this source tree.
 */var Sut={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license hugeicons-react v0.2.0
 *
 * See the LICENSE file in the root directory of this source tree.
 */const Pn=(e,t)=>{const n=M.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:o=1.5,className:s="",children:a,...l},u)=>{const c={ref:u,...Sut,width:i,height:i,strokeWidth:o,color:r,className:s,...l};return M.createElement("svg",c,(t==null?void 0:t.map(([f,d])=>M.createElement(f,{key:d.id,...d})))??[],...Array.isArray(a)?a:[a])});return n.displayName=`${e}Icon`,n};/**
 * @license hugeicons-react v0.2.0
 *
 * See the LICENSE file in the root directory of this source tree.
 */const Khe=Pn("ArrowDown01Icon",[["path",{d:"M18 9.00005C18 9.00005 13.5811 15 12 15C10.4188 15 6 9 6 9",stroke:"currentColor",key:"k0"}]]);/**
 * @license hugeicons-react v0.2.0
 *
 * See the LICENSE file in the root directory of this source tree.
 */const Cut=Pn("ArrowDown03Icon",[["path",{d:"M6 20L18 20",stroke:"currentColor",key:"k0"}],["path",{d:"M12 16V4",stroke:"currentColor",key:"k1"}],["path",{d:"M16 12C16 12 13.054 16 12 16C10.9459 16 8 12 8 12",stroke:"currentColor",key:"k2"}]]);/**
 * @license hugeicons-react v0.2.0
 *
 * See the LICENSE file in the root directory of this source tree.
 */const Eut=Pn("ArrowUp01Icon",[["path",{d:"M18 15C18 15 13.5811 9.00001 12 9C10.4188 8.99999 6 15 6 15",stroke:"currentColor",key:"k0"}]]);/**
 * @license hugeicons-react v0.2.0
 *
 * See the LICENSE file in the root directory of this source tree.
 */const kut=Pn("CancelCircleIcon",[["path",{d:"M14.9994 15L9 9M9.00064 15L15 9",stroke:"currentColor",key:"k0"}],["path",{d:"M22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22C17.5228 22 22 17.5228 22 12Z",stroke:"currentColor",key:"k1"}]]);/**
 * @license hugeicons-react v0.2.0
 *
 * See the LICENSE file in the root directory of this source tree.
 */const _ut=Pn("ChartIcon",[["path",{d:"M2 21.5L22 21.5",stroke:"currentColor",key:"k0"}],["path",{d:"M18 15.5H18.009M18 18.5H18.009",stroke:"currentColor",key:"k1"}],["path",{d:"M6 18.5H6.00898M6 15.5H6.00898M6 12.5H6.00898M6 9.5H6.00898",stroke:"currentColor",key:"k2"}],["path",{d:"M7.79063 5.39186L16.2183 9.5904M8 4.5C8 5.60457 7.10457 6.5 6 6.5C4.89543 6.5 4 5.60457 4 4.5C4 3.39543 4.89543 2.5 6 2.5C7.10457 2.5 8 3.39543 8 4.5ZM20 10.5C20 11.6046 19.1046 12.5 18 12.5C16.8954 12.5 16 11.6046 16 10.5C16 9.39543 16.8954 8.5 18 8.5C19.1046 8.5 20 9.39543 20 10.5Z",stroke:"currentColor",key:"k3"}]]);/**
 * @license hugeicons-react v0.2.0
 *
 * See the LICENSE file in the root directory of this source tree.
 */const $ut=Pn("CheckmarkCircle01Icon",[["path",{d:"M22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22C17.5228 22 22 17.5228 22 12Z",stroke:"currentColor",key:"k0"}],["path",{d:"M8 12.75C8 12.75 9.6 13.6625 10.4 15C10.4 15 12.8 9.75 16 8",stroke:"currentColor",key:"k1"}]]);/**
 * @license hugeicons-react v0.2.0
 *
 * See the LICENSE file in the root directory of this source tree.
 */const Aut=Pn("CloudIcon",[["path",{d:"M17.4776 10.0001C17.485 10 17.4925 10 17.5 10C19.9853 10 22 12.0147 22 14.5C22 16.9853 19.9853 19 17.5 19H7C4.23858 19 2 16.7614 2 14C2 11.4003 3.98398 9.26407 6.52042 9.0227M17.4776 10.0001C17.4924 9.83536 17.5 9.66856 17.5 9.5C17.5 6.46243 15.0376 4 12 4C9.12324 4 6.76233 6.20862 6.52042 9.0227M17.4776 10.0001C17.3753 11.1345 16.9286 12.1696 16.2428 13M6.52042 9.0227C6.67826 9.00768 6.83823 9 7 9C8.12582 9 9.16474 9.37209 10.0005 10",stroke:"currentColor",key:"k0"}]]);/**
 * @license hugeicons-react v0.2.0
 *
 * See the LICENSE file in the root directory of this source tree.
 */const Tut=Pn("FileAttachmentIcon",[["path",{d:"M4 12.0004L4 14.5446C4 17.7896 4 19.4121 4.88607 20.5111C5.06508 20.7331 5.26731 20.9354 5.48933 21.1144C6.58831 22.0004 8.21082 22.0004 11.4558 22.0004C12.1614 22.0004 12.5141 22.0004 12.8372 21.8864C12.9044 21.8627 12.9702 21.8354 13.0345 21.8047C13.3436 21.6569 13.593 21.4074 14.0919 20.9085L18.8284 16.172C19.4065 15.5939 19.6955 15.3049 19.8478 14.9374C20 14.5698 20 14.1611 20 13.3436V10.0004C20 6.22919 20 4.34358 18.8284 3.172C17.7693 2.11284 16.1265 2.01122 13.0345 2.00146M13 21.5004V21.0004C13 18.172 13 16.7578 13.8787 15.8791C14.7574 15.0004 16.1716 15.0004 19 15.0004H19.5",stroke:"currentColor",key:"k0"}],["path",{d:"M4 8.23028V5.46105C4 3.54929 5.567 1.99951 7.5 1.99951C9.433 1.99951 11 3.54929 11 5.46105V9.26874C11 10.2246 10.2165 10.9995 9.25 10.9995C8.2835 10.9995 7.5 10.2246 7.5 9.26874V5.46105",stroke:"currentColor",key:"k1"}]]);/**
 * @license hugeicons-react v0.2.0
 *
 * See the LICENSE file in the root directory of this source tree.
 */const Rut=Pn("GithubIcon",[["path",{d:"M10 20.5675C6.57143 21.7248 3.71429 20.5675 2 17",stroke:"currentColor",key:"k0"}],["path",{d:"M10 22V18.7579C10 18.1596 10.1839 17.6396 10.4804 17.1699C10.6838 16.8476 10.5445 16.3904 10.1771 16.2894C7.13394 15.4528 5 14.1077 5 9.64606C5 8.48611 5.38005 7.39556 6.04811 6.4464C6.21437 6.21018 6.29749 6.09208 6.31748 5.9851C6.33746 5.87813 6.30272 5.73852 6.23322 5.45932C5.95038 4.32292 5.96871 3.11619 6.39322 2.02823C6.39322 2.02823 7.27042 1.74242 9.26698 2.98969C9.72282 3.27447 9.95075 3.41686 10.1515 3.44871C10.3522 3.48056 10.6206 3.41384 11.1573 3.28041C11.8913 3.09795 12.6476 3 13.5 3C14.3524 3 15.1087 3.09795 15.8427 3.28041C16.3794 3.41384 16.6478 3.48056 16.8485 3.44871C17.0493 3.41686 17.2772 3.27447 17.733 2.98969C19.7296 1.74242 20.6068 2.02823 20.6068 2.02823C21.0313 3.11619 21.0496 4.32292 20.7668 5.45932C20.6973 5.73852 20.6625 5.87813 20.6825 5.9851C20.7025 6.09207 20.7856 6.21019 20.9519 6.4464C21.6199 7.39556 22 8.48611 22 9.64606C22 14.1077 19.8661 15.4528 16.8229 16.2894C16.4555 16.3904 16.3162 16.8476 16.5196 17.1699C16.8161 17.6396 17 18.1596 17 18.7579V22",stroke:"currentColor",key:"k1"}]]);/**
 * @license hugeicons-react v0.2.0
 *
 * See the LICENSE file in the root directory of this source tree.
 */const Qhe=Pn("HeartAddIcon",[["path",{d:"M12 21C10.6588 21 9.88572 20.4278 8.33953 19.2834C0.221721 13.2749 1.01807 6.15294 4.53744 3.99415C7.21909 2.34923 9.55962 3.01211 10.9656 4.06801C11.5422 4.50096 11.8304 4.71743 12 4.71743C12.1696 4.71743 12.4578 4.50096 13.0344 4.06801C14.4404 3.01211 16.7809 2.34923 19.4626 3.99415C21.1812 5.04838 22.2505 7.28623 21.9494 10",stroke:"currentColor",key:"k0"}],["path",{d:"M14 17H22M18 13L18 21",stroke:"currentColor",key:"k1"}]]);/**
 * @license hugeicons-react v0.2.0
 *
 * See the LICENSE file in the root directory of this source tree.
 */const W9=Pn("HeartCheckIcon",[["path",{d:"M12 21C10.6588 21 9.88572 20.4278 8.33953 19.2834C0.221721 13.2749 1.01807 6.15294 4.53744 3.99415C7.21909 2.34923 9.55962 3.01211 10.9656 4.06801C11.5422 4.50096 11.8304 4.71743 12 4.71743C12.1696 4.71743 12.4578 4.50096 13.0344 4.06801C14.4404 3.01211 16.7809 2.34923 19.4626 3.99415C21.1812 5.04838 22.2505 7.28623 21.9494 10",stroke:"currentColor",key:"k0"}],["path",{d:"M14 18C14 18 15 18 16 20C16 20 19.1765 15 22 14",stroke:"currentColor",key:"k1"}]]);/**
 * @license hugeicons-react v0.2.0
 *
 * See the LICENSE file in the root directory of this source tree.
 */const Fut=Pn("LabelImportantIcon",[["path",{d:"M13 4H6.23456C3.79424 4 2.57407 4 2.14438 4.76649C2.13129 4.78984 2.11883 4.81353 2.10701 4.83754C1.71893 5.62592 2.41032 6.63129 3.7931 8.64204C4.89612 10.246 5.44763 11.048 5.4611 11.9555C5.46154 11.9852 5.46154 12.0148 5.4611 12.0445C5.44763 12.952 4.89612 13.754 3.7931 15.358C2.41032 17.3687 1.71893 18.3741 2.10701 19.1625C2.11883 19.1865 2.13129 19.2102 2.14438 19.2335C2.57407 20 3.79424 20 6.23456 20H13C14.9628 20 15.9443 20 16.7889 19.5777C17.6334 19.1554 18.2223 18.3703 19.4 16.8C21.1333 14.4889 22 13.3333 22 12C22 10.6667 21.1333 9.51111 19.4 7.2C18.2223 5.62972 17.6334 4.84458 16.7889 4.42229C15.9443 4 14.9628 4 13 4Z",stroke:"currentColor",key:"k0"}]]);/**
 * @license hugeicons-react v0.2.0
 *
 * See the LICENSE file in the root directory of this source tree.
 */const Out=Pn("Moon01Icon",[["path",{d:"M21.0985 7.84477C20.458 8.55417 19.5311 9 18.5 9C16.567 9 15 7.433 15 5.5C15 4.46895 15.4458 3.54203 16.1552 2.90149M21.0985 7.84477C21.6774 9.11025 22 10.5174 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C13.4826 2 14.8898 2.32262 16.1552 2.90149M21.0985 7.84477C20.0998 5.66155 18.3384 3.90018 16.1552 2.90149",stroke:"currentColor",key:"k0"}],["path",{d:"M10 8H10.0064",stroke:"currentColor",key:"k1"}],["path",{d:"M7 14H7.00635",stroke:"currentColor",key:"k2"}],["path",{d:"M16 16C16 17.1046 15.1046 18 14 18C12.8954 18 12 17.1046 12 16C12 14.8954 12.8954 14 14 14C15.1046 14 16 14.8954 16 16Z",stroke:"currentColor",key:"k3"}]]);/**
 * @license hugeicons-react v0.2.0
 *
 * See the LICENSE file in the root directory of this source tree.
 */const Put=Pn("Sad02Icon",[["path",{d:"M9.5 21.685C10.299 21.8906 11.1368 22 12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 12.3375 2.01672 12.6711 2.04938 13",stroke:"currentColor",key:"k0"}],["path",{d:"M5.02108 14L2.8602 16.0826C1.69974 17.2204 1.71976 19.0523 2.88023 20.1707C4.06071 21.2892 5.96146 21.2699 7.12193 20.1515C8.30241 19.0137 8.2824 17.1818 7.12193 16.0633L5.02108 14Z",stroke:"currentColor",key:"k1"}],["path",{d:"M8.00897 8.44238H8M16 8.44238H15.991",stroke:"currentColor",key:"k2"}],["path",{d:"M15 16C14.1644 15.3721 13.1256 15 12 15C11.0893 15 10.2354 15.2436 9.5 15.6692",stroke:"currentColor",key:"k3"}]]);/**
 * @license hugeicons-react v0.2.0
 *
 * See the LICENSE file in the root directory of this source tree.
 */const Jhe=Pn("Search01Icon",[["path",{d:"M17.5 17.5L22 22",stroke:"currentColor",key:"k0"}],["path",{d:"M20 11C20 6.02944 15.9706 2 11 2C6.02944 2 2 6.02944 2 11C2 15.9706 6.02944 20 11 20C15.9706 20 20 15.9706 20 11Z",stroke:"currentColor",key:"k1"}]]);/**
 * @license hugeicons-react v0.2.0
 *
 * See the LICENSE file in the root directory of this source tree.
 */const Dut=Pn("Search02Icon",[["path",{d:"M14 14L16.5 16.5",stroke:"currentColor",key:"k0"}],["path",{d:"M16.4333 18.5252C15.8556 17.9475 15.8556 17.0109 16.4333 16.4333C17.0109 15.8556 17.9475 15.8556 18.5252 16.4333L21.5667 19.4748C22.1444 20.0525 22.1444 20.9891 21.5667 21.5667C20.9891 22.1444 20.0525 22.1444 19.4748 21.5667L16.4333 18.5252Z",stroke:"currentColor",key:"k1"}],["path",{d:"M16 9C16 5.13401 12.866 2 9 2C5.13401 2 2 5.13401 2 9C2 12.866 5.13401 16 9 16C12.866 16 16 12.866 16 9Z",stroke:"currentColor",key:"k2"}]]);/**
 * @license hugeicons-react v0.2.0
 *
 * See the LICENSE file in the root directory of this source tree.
 */const Mut=Pn("SearchRemoveIcon",[["path",{d:"M17.5 17.5L22 22",stroke:"currentColor",key:"k0"}],["path",{d:"M20 11C20 6.02944 15.9706 2 11 2C6.02944 2 2 6.02944 2 11C2 15.9706 6.02944 20 11 20C15.9706 20 20 15.9706 20 11Z",stroke:"currentColor",key:"k1"}],["path",{d:"M8 14L14 8M8 8L14 14",stroke:"currentColor",key:"k2"}]]);/**
 * @license hugeicons-react v0.2.0
 *
 * See the LICENSE file in the root directory of this source tree.
 */const H9=Pn("Settings01Icon",[["path",{d:"M21.3175 7.14139L20.8239 6.28479C20.4506 5.63696 20.264 5.31305 19.9464 5.18388C19.6288 5.05472 19.2696 5.15664 18.5513 5.36048L17.3311 5.70418C16.8725 5.80994 16.3913 5.74994 15.9726 5.53479L15.6357 5.34042C15.2766 5.11043 15.0004 4.77133 14.8475 4.37274L14.5136 3.37536C14.294 2.71534 14.1842 2.38533 13.9228 2.19657C13.6615 2.00781 13.3143 2.00781 12.6199 2.00781H11.5051C10.8108 2.00781 10.4636 2.00781 10.2022 2.19657C9.94085 2.38533 9.83106 2.71534 9.61149 3.37536L9.27753 4.37274C9.12465 4.77133 8.84845 5.11043 8.48937 5.34042L8.15249 5.53479C7.73374 5.74994 7.25259 5.80994 6.79398 5.70418L5.57375 5.36048C4.85541 5.15664 4.49625 5.05472 4.17867 5.18388C3.86109 5.31305 3.67445 5.63696 3.30115 6.28479L2.80757 7.14139C2.45766 7.74864 2.2827 8.05227 2.31666 8.37549C2.35061 8.69871 2.58483 8.95918 3.05326 9.48012L4.0843 10.6328C4.3363 10.9518 4.51521 11.5078 4.51521 12.0077C4.51521 12.5078 4.33636 13.0636 4.08433 13.3827L3.05326 14.5354C2.58483 15.0564 2.35062 15.3168 2.31666 15.6401C2.2827 15.9633 2.45766 16.2669 2.80757 16.8741L3.30114 17.7307C3.67443 18.3785 3.86109 18.7025 4.17867 18.8316C4.49625 18.9608 4.85542 18.8589 5.57377 18.655L6.79394 18.3113C7.25263 18.2055 7.73387 18.2656 8.15267 18.4808L8.4895 18.6752C8.84851 18.9052 9.12464 19.2442 9.2775 19.6428L9.61149 20.6403C9.83106 21.3003 9.94085 21.6303 10.2022 21.8191C10.4636 22.0078 10.8108 22.0078 11.5051 22.0078H12.6199C13.3143 22.0078 13.6615 22.0078 13.9228 21.8191C14.1842 21.6303 14.294 21.3003 14.5136 20.6403L14.8476 19.6428C15.0004 19.2442 15.2765 18.9052 15.6356 18.6752L15.9724 18.4808C16.3912 18.2656 16.8724 18.2055 17.3311 18.3113L18.5513 18.655C19.2696 18.8589 19.6288 18.9608 19.9464 18.8316C20.264 18.7025 20.4506 18.3785 20.8239 17.7307L21.3175 16.8741C21.6674 16.2669 21.8423 15.9633 21.8084 15.6401C21.7744 15.3168 21.5402 15.0564 21.0718 14.5354L20.0407 13.3827C19.7887 13.0636 19.6098 12.5078 19.6098 12.0077C19.6098 11.5078 19.7888 10.9518 20.0407 10.6328L21.0718 9.48012C21.5402 8.95918 21.7744 8.69871 21.8084 8.37549C21.8423 8.05227 21.6674 7.74864 21.3175 7.14139Z",stroke:"currentColor",key:"k0"}],["path",{d:"M15.5195 12C15.5195 13.933 13.9525 15.5 12.0195 15.5C10.0865 15.5 8.51953 13.933 8.51953 12C8.51953 10.067 10.0865 8.5 12.0195 8.5C13.9525 8.5 15.5195 10.067 15.5195 12Z",stroke:"currentColor",key:"k1"}]]);/**
 * @license hugeicons-react v0.2.0
 *
 * See the LICENSE file in the root directory of this source tree.
 */const Nut=Pn("SmartPhone01Icon",[["path",{d:"M5 9C5 5.70017 5 4.05025 6.02513 3.02513C7.05025 2 8.70017 2 12 2C15.2998 2 16.9497 2 17.9749 3.02513C19 4.05025 19 5.70017 19 9V15C19 18.2998 19 19.9497 17.9749 20.9749C16.9497 22 15.2998 22 12 22C8.70017 22 7.05025 22 6.02513 20.9749C5 19.9497 5 18.2998 5 15V9Z",stroke:"currentColor",key:"k0"}],["path",{d:"M11 19H13",stroke:"currentColor",key:"k1"}],["path",{d:"M9 2L9.089 2.53402C9.28188 3.69129 9.37832 4.26993 9.77519 4.62204C10.1892 4.98934 10.7761 5 12 5C13.2239 5 13.8108 4.98934 14.2248 4.62204C14.6217 4.26993 14.7181 3.69129 14.911 2.53402L15 2",stroke:"currentColor",key:"k2"}]]);/**
 * @license hugeicons-react v0.2.0
 *
 * See the LICENSE file in the root directory of this source tree.
 */const Zhe=Pn("StartUp02Icon",[["path",{d:"M7 11.2947C12.284 1.44656 18.8635 1.333 21.4928 2.50724C22.667 5.1365 22.5534 11.716 12.7053 17C12.6031 16.4129 12.0352 14.8749 10.5801 13.4199C9.12512 11.9648 7.58712 11.3969 7 11.2947Z",stroke:"currentColor",key:"k0"}],["path",{d:"M14 16.8C16.0428 17.7334 16.2609 19.4069 16.5439 21C16.5439 21 20.8223 18.0481 18.0856 14",stroke:"currentColor",key:"k1"}],["path",{d:"M7.19998 9.99987C6.26664 7.95709 4.59305 7.73899 3 7.45601C3 7.45601 5.95194 3.17753 10 5.91431",stroke:"currentColor",key:"k2"}],["path",{d:"M6.20866 13.9998C5.57677 14.6317 4.50255 16.4642 5.26082 18.739C7.53564 19.4973 9.36813 18.4231 10 17.7912",stroke:"currentColor",key:"k3"}],["path",{d:"M18.0952 7.753C18.0952 6.7328 17.2682 5.90578 16.248 5.90578C15.2278 5.90578 14.4008 6.7328 14.4008 7.753C14.4008 8.77319 15.2278 9.60022 16.248 9.60022C17.2682 9.60022 18.0952 8.77319 18.0952 7.753Z",stroke:"currentColor",key:"k4"}]]);/**
 * @license hugeicons-react v0.2.0
 *
 * See the LICENSE file in the root directory of this source tree.
 */const Lut=Pn("Sun03Icon",[["path",{d:"M17 12C17 14.7614 14.7614 17 12 17C9.23858 17 7 14.7614 7 12C7 9.23858 9.23858 7 12 7C14.7614 7 17 9.23858 17 12Z",stroke:"currentColor",key:"k0"}],["path",{d:"M12 2V3.5M12 20.5V22M19.0708 19.0713L18.0101 18.0106M5.98926 5.98926L4.9286 4.9286M22 12H20.5M3.5 12H2M19.0713 4.92871L18.0106 5.98937M5.98975 18.0107L4.92909 19.0714",stroke:"currentColor",key:"k1"}]]);/**
 * @license hugeicons-react v0.2.0
 *
 * See the LICENSE file in the root directory of this source tree.
 */const epe=Pn("SwipeUp02Icon",[["path",{d:"M18.5 2.00195V8.00195M18.5 2.00195C17.7998 2.00195 16.4915 3.99625 16 4.50195M18.5 2.00195C19.2002 2.00195 20.5085 3.99625 21 4.50195",stroke:"currentColor",key:"k0"}],["path",{d:"M15.3913 21.998C15.3395 20.084 15.4684 19.8535 15.6052 19.4277C15.7419 19.002 16.6982 17.4665 17.0366 16.3695C18.1313 12.8202 17.111 12.0653 15.7507 11.0588C14.2422 9.94257 11.3968 9.37728 9.98573 9.49966V3.7462C9.98573 2.78288 9.20481 2.00195 8.24148 2.00195C7.27816 2.00195 6.49723 2.78288 6.49723 3.7462V9.96607M6.49774 21.9988V20.9854C6.43328 20.041 5.49529 18.9235 4.32672 17.3166C3.12509 15.576 2.86688 14.6973 3.05591 13.8848C3.15329 13.4694 3.40594 12.7832 4.64647 11.6104L6.49723 9.96607M6.49723 14.0323V9.96607",stroke:"currentColor",key:"k1"}]]);var Xp=[..."".normalize("NFD")].map(e=>e.charCodeAt(0)),_k=44032,tpe=55203,HS=28,vX=21,Iut={"":"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},zut={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},But=["","","","","","","","","","","","","","","","","","",""],jut=Object.values(zut),npe=["","","","","","","","","","","","","","","","","","","","","","","","","","","",""].map(e=>Iut[e]);function Uut(e){const t=e.charCodeAt(0);if(!(_k<=t&&t<=tpe))return;const r=t-_k,i=r%HS,o=(r-i)/HS%vX,s=Math.floor((r-i)/HS/vX);return{choseong:But[s],jungseong:jut[o],jongseong:npe[i]}}function Vut(e,t){const n=e[e.length-1];if(n==null)return!1;const r=n.charCodeAt(0);if(r<_k||r>tpe)return!1;const o=(r-_k)%HS,s=npe[o].length;switch(void 0){case"single":return s===1;case"double":return s===2;default:return o>0}}var Wut=["/","/","/","/"];function JP(e,t){return e.length===0?e:e+rpe(e,t)}JP.pick=rpe;function rpe(e,t){var n;if(e.length===0)return t.split("/")[0];const r=Vut(e);let i=r?0:1;const o=r&&((n=Uut(e[e.length-1]))==null?void 0:n.jongseong)==="",s=r&&o&&Wut.includes(t);(t==="/"||s)&&(i=i===0?1:0);const a=e[e.length-1]==="";return t==="/"&&a&&(i=1),t.split("/")[i]}var $k={START_CHOSEONG:Xp[0],START_JUNGSEONG:Xp[1],START_JONGSEONG:Xp[2],END_CHOSEONG:Xp[3],END_JUNGSEONG:Xp[4],END_JONGSEONG:Xp[5]};new RegExp(`[^\\u${$k.START_CHOSEONG.toString(16)}-\\u${$k.END_CHOSEONG.toString(16)}-\\s]+`,"ug");new RegExp(`[\\u${$k.START_CHOSEONG.toString(16)}-\\u${$k.END_CHOSEONG.toString(16)}]`,"g");function bX(e){return e.replace(/[^---]/g,"")}function ipe({chart:e,...t}){const n=e.fields,{accentSelectedHover:r}=ji(),{i18n:i}=Os();return R.jsxs(er,{as:"p",fontSize:"md",...t,children:[R.jsx(er,{as:"span",fontWeight:600,color:r,children:n[0].name}),n.length>1&&R.jsx(er,{as:"span",fontWeight:400,children:i.language==="ko"?`${JP.pick(bX(n[0].name),"/")} `:" and "}),n.length>1&&R.jsx(er,{as:"span",fontWeight:600,color:r,children:n[1].name}),n.length>2&&R.jsx(er,{as:"span",fontWeight:400,children:i.language==="ko"?`${JP.pick(bX(n[1].name),"/")} `:" and "}),n.length>2&&R.jsx(er,{as:"span",fontWeight:600,color:r,children:`${n[2].name}`})]})}const Hut=hp`
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
`,qut=hp`
  from {
    opacity: 1;
  }
  to {
    opacity: 0;
  }
`;function ope({chart:e,handleClick:t,thumbnailSize:n=70,animation:r=!0}){const{buttonColor:i}=ji(),o=wut(e,n*1.5);return R.jsxs(dhe,{as:gn,flexDir:"column",animation:r?`${Hut} 0.2s ease-in-out`:void 0,sx:{"&.removing":{animation:r?`${qut} 0.1s ease-in-out forwards`:void 0}},children:[R.jsxs(gn,{p:1,gap:4,borderRadius:"md",alignItems:"center",onClick:()=>t(e),_hover:{cursor:"pointer",bg:i},children:[!!o&&R.jsx(the,{src:o,alt:`Chart thumbnail ${e.title}`,w:`${n}px`,h:`${n}px`}),R.jsx(ipe,{chart:e})]}),R.jsx(RA,{my:1})]},`bookmark-${e.key}`)}var IA={},zA={};zA.__esModule=!0;zA.default=Gut;const xX={};function Gut(e,t){e===void 0&&(e=xX),t===void 0&&(t=xX);const n=Object.keys(e),r=Object.keys(t);return e===t||n.length===r.length&&n.every(i=>e[i]===t[i])}var q9={},G9={},spe={exports:{}};const Xut=wY(Mie),Yut=wY(nle);(function(e,t){var n={};(function(r,i){e.exports=i(Xut,Yut)})(Qi,function(r,i){var A7;function o(C){var _=Object.create(null);return C&&Object.keys(C).forEach(function(T){if(T!=="default"){var I=Object.getOwnPropertyDescriptor(C,T);Object.defineProperty(_,T,I.get?I:{enumerable:!0,get:function(){return C[T]}})}}),_.default=C,Object.freeze(_)}var s=o(r),a=o(i);/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2022 Joachim Wester
 * MIT licensed
 */var l=function(){var C=function(_,T){return C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(I,q){I.__proto__=q}||function(I,q){for(var G in q)q.hasOwnProperty(G)&&(I[G]=q[G])},C(_,T)};return function(_,T){C(_,T);function I(){this.constructor=_}_.prototype=T===null?Object.create(T):(I.prototype=T.prototype,new I)}}(),u=Object.prototype.hasOwnProperty;function c(C,_){return u.call(C,_)}function f(C){if(Array.isArray(C)){for(var _=new Array(C.length),T=0;T<_.length;T++)_[T]=""+T;return _}if(Object.keys)return Object.keys(C);var I=[];for(var q in C)c(C,q)&&I.push(q);return I}function d(C){switch(typeof C){case"object":return JSON.parse(JSON.stringify(C));case"undefined":return null;default:return C}}function h(C){for(var _=0,T=C.length,I;_<T;){if(I=C.charCodeAt(_),I>=48&&I<=57){_++;continue}return!1}return!0}function p(C){return C.indexOf("/")===-1&&C.indexOf("~")===-1?C:C.replace(/~/g,"~0").replace(/\//g,"~1")}function g(C){return C.replace(/~1/g,"/").replace(/~0/g,"~")}function m(C){if(C===void 0)return!0;if(C){if(Array.isArray(C)){for(var _=0,T=C.length;_<T;_++)if(m(C[_]))return!0}else if(typeof C=="object"){for(var I=f(C),q=I.length,G=0;G<q;G++)if(m(C[I[G]]))return!0}}return!1}function y(C,_){var T=[C];for(var I in _){var q=typeof _[I]=="object"?JSON.stringify(_[I],null,2):_[I];typeof q<"u"&&T.push(I+": "+q)}return T.join(`
`)}var v=function(C){l(_,C);function _(T,I,q,G,re){var ie=this.constructor,Q=C.call(this,y(T,{name:I,index:q,operation:G,tree:re}))||this;return Q.name=I,Q.index=q,Q.operation=G,Q.tree=re,Object.setPrototypeOf(Q,ie.prototype),Q.message=y(T,{name:I,index:q,operation:G,tree:re}),Q}return _}(Error),b=v,x=d,w={add:function(C,_,T){return C[_]=this.value,{newDocument:T}},remove:function(C,_,T){var I=C[_];return delete C[_],{newDocument:T,removed:I}},replace:function(C,_,T){var I=C[_];return C[_]=this.value,{newDocument:T,removed:I}},move:function(C,_,T){var I=S(T,this.path);I&&(I=d(I));var q=k(T,{op:"remove",path:this.from}).removed;return k(T,{op:"add",path:this.path,value:q}),{newDocument:T,removed:I}},copy:function(C,_,T){var I=S(T,this.from);return k(T,{op:"add",path:this.path,value:d(I)}),{newDocument:T}},test:function(C,_,T){return{newDocument:T,test:D(C[_],this.value)}},_get:function(C,_,T){return this.value=C[_],{newDocument:T}}},E={add:function(C,_,T){return h(_)?C.splice(_,0,this.value):C[_]=this.value,{newDocument:T,index:_}},remove:function(C,_,T){var I=C.splice(_,1);return{newDocument:T,removed:I[0]}},replace:function(C,_,T){var I=C[_];return C[_]=this.value,{newDocument:T,removed:I}},move:w.move,copy:w.copy,test:w.test,_get:w._get};function S(C,_){if(_=="")return C;var T={op:"_get",path:_};return k(C,T),T.value}function k(C,_,T,I,q,G){if(T===void 0&&(T=!1),I===void 0&&(I=!0),q===void 0&&(q=!0),G===void 0&&(G=0),T&&(typeof T=="function"?T(_,0,C,_.path):P(_,0)),_.path===""){var re={newDocument:C};if(_.op==="add")return re.newDocument=_.value,re;if(_.op==="replace")return re.newDocument=_.value,re.removed=C,re;if(_.op==="move"||_.op==="copy")return re.newDocument=S(C,_.from),_.op==="move"&&(re.removed=C),re;if(_.op==="test"){if(re.test=D(C,_.value),re.test===!1)throw new b("Test operation failed","TEST_OPERATION_FAILED",G,_,C);return re.newDocument=C,re}else{if(_.op==="remove")return re.removed=C,re.newDocument=null,re;if(_.op==="_get")return _.value=C,re;if(T)throw new b("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",G,_,C);return re}}else{I||(C=d(C));var ie=_.path||"",Q=ie.split("/"),ne=C,ge=1,Oe=Q.length,kt=void 0,ct=void 0,Re=void 0;for(typeof T=="function"?Re=T:Re=P;;){if(ct=Q[ge],ct&&ct.indexOf("~")!=-1&&(ct=g(ct)),q&&(ct=="__proto__"||ct=="prototype"&&ge>0&&Q[ge-1]=="constructor"))throw new TypeError("JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(T&&kt===void 0&&(ne[ct]===void 0?kt=Q.slice(0,ge).join("/"):ge==Oe-1&&(kt=_.path),kt!==void 0&&Re(_,0,C,kt)),ge++,Array.isArray(ne)){if(ct==="-")ct=ne.length;else{if(T&&!h(ct))throw new b("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",G,_,C);h(ct)&&(ct=~~ct)}if(ge>=Oe){if(T&&_.op==="add"&&ct>ne.length)throw new b("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",G,_,C);var re=E[_.op].call(_,ne,ct,C);if(re.test===!1)throw new b("Test operation failed","TEST_OPERATION_FAILED",G,_,C);return re}}else if(ge>=Oe){var re=w[_.op].call(_,ne,ct,C);if(re.test===!1)throw new b("Test operation failed","TEST_OPERATION_FAILED",G,_,C);return re}if(ne=ne[ct],T&&ge<Oe&&(!ne||typeof ne!="object"))throw new b("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",G,_,C)}}}function $(C,_,T,I,q){if(I===void 0&&(I=!0),q===void 0&&(q=!0),T&&!Array.isArray(_))throw new b("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");I||(C=d(C));for(var G=new Array(_.length),re=0,ie=_.length;re<ie;re++)G[re]=k(C,_[re],T,!0,q,re),C=G[re].newDocument;return G.newDocument=C,G}function F(C,_,T){var I=k(C,_);if(I.test===!1)throw new b("Test operation failed","TEST_OPERATION_FAILED",T,_,C);return I.newDocument}function P(C,_,T,I){if(typeof C!="object"||C===null||Array.isArray(C))throw new b("Operation is not an object","OPERATION_NOT_AN_OBJECT",_,C,T);if(w[C.op]){if(typeof C.path!="string")throw new b("Operation `path` property is not a string","OPERATION_PATH_INVALID",_,C,T);if(C.path.indexOf("/")!==0&&C.path.length>0)throw new b('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",_,C,T);if((C.op==="move"||C.op==="copy")&&typeof C.from!="string")throw new b("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",_,C,T);if((C.op==="add"||C.op==="replace"||C.op==="test")&&C.value===void 0)throw new b("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",_,C,T);if((C.op==="add"||C.op==="replace"||C.op==="test")&&m(C.value))throw new b("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",_,C,T);if(T){if(C.op=="add"){var q=C.path.split("/").length,G=I.split("/").length;if(q!==G+1&&q!==G)throw new b("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",_,C,T)}else if(C.op==="replace"||C.op==="remove"||C.op==="_get"){if(C.path!==I)throw new b("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",_,C,T)}else if(C.op==="move"||C.op==="copy"){var re={op:"_get",path:C.from,value:void 0},ie=j([re],T);if(ie&&ie.name==="OPERATION_PATH_UNRESOLVABLE")throw new b("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",_,C,T)}}}else throw new b("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",_,C,T)}function j(C,_,T){try{if(!Array.isArray(C))throw new b("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(_)$(d(_),d(C),T||!0);else{T=T||P;for(var I=0;I<C.length;I++)T(C[I],I,_,void 0)}}catch(q){if(q instanceof b)return q;throw q}}function D(C,_){if(C===_)return!0;if(C&&_&&typeof C=="object"&&typeof _=="object"){var T=Array.isArray(C),I=Array.isArray(_),q,G,re;if(T&&I){if(G=C.length,G!=_.length)return!1;for(q=G;q--!==0;)if(!D(C[q],_[q]))return!1;return!0}if(T!=I)return!1;var ie=Object.keys(C);if(G=ie.length,G!==Object.keys(_).length)return!1;for(q=G;q--!==0;)if(!_.hasOwnProperty(ie[q]))return!1;for(q=G;q--!==0;)if(re=ie[q],!D(C[re],_[re]))return!1;return!0}return C!==C&&_!==_}var L=Object.freeze({__proto__:null,JsonPatchError:b,_areEquals:D,applyOperation:k,applyPatch:$,applyReducer:F,deepClone:x,getValueByPointer:S,validate:j,validator:P});/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2021 Joachim Wester
 * MIT license
 */var A=new WeakMap,O=function(){function C(_){this.observers=new Map,this.obj=_}return C}(),B=function(){function C(_,T){this.callback=_,this.observer=T}return C}();function z(C){return A.get(C)}function U(C,_){return C.observers.get(_)}function X(C,_){C.observers.delete(_.callback)}function K(C,_){_.unobserve()}function pe(C,_){var T=[],I,q=z(C);if(!q)q=new O(C),A.set(C,q);else{var G=U(q,_);I=G&&G.observer}if(I)return I;if(I={},q.value=d(C),_){I.callback=_,I.next=null;var re=function(){oe(I)},ie=function(){clearTimeout(I.next),I.next=setTimeout(re)};typeof window<"u"&&(window.addEventListener("mouseup",ie),window.addEventListener("keyup",ie),window.addEventListener("mousedown",ie),window.addEventListener("keydown",ie),window.addEventListener("change",ie))}return I.patches=T,I.object=C,I.unobserve=function(){oe(I),clearTimeout(I.next),X(q,I),typeof window<"u"&&(window.removeEventListener("mouseup",ie),window.removeEventListener("keyup",ie),window.removeEventListener("mousedown",ie),window.removeEventListener("keydown",ie),window.removeEventListener("change",ie))},q.observers.set(_,new B(_,I)),I}function oe(C,_){_===void 0&&(_=!1);var T=A.get(C.object);_e(T.value,C.object,C.patches,"",_),C.patches.length&&$(T.value,C.patches);var I=C.patches;return I.length>0&&(C.patches=[],C.callback&&C.callback(I)),I}function _e(C,_,T,I,q){if(_!==C){typeof _.toJSON=="function"&&(_=_.toJSON());for(var G=f(_),re=f(C),ie=!1,Q=re.length-1;Q>=0;Q--){var ne=re[Q],ge=C[ne];if(c(_,ne)&&!(_[ne]===void 0&&ge!==void 0&&Array.isArray(_)===!1)){var Oe=_[ne];typeof ge=="object"&&ge!=null&&typeof Oe=="object"&&Oe!=null&&Array.isArray(ge)===Array.isArray(Oe)?_e(ge,Oe,T,I+"/"+p(ne),q):ge!==Oe&&(q&&T.push({op:"test",path:I+"/"+p(ne),value:d(ge)}),T.push({op:"replace",path:I+"/"+p(ne),value:d(Oe)}))}else Array.isArray(C)===Array.isArray(_)?(q&&T.push({op:"test",path:I+"/"+p(ne),value:d(ge)}),T.push({op:"remove",path:I+"/"+p(ne)}),ie=!0):(q&&T.push({op:"test",path:I,value:C}),T.push({op:"replace",path:I,value:_}))}if(!(!ie&&G.length==re.length))for(var Q=0;Q<G.length;Q++){var ne=G[Q];!c(C,ne)&&_[ne]!==void 0&&T.push({op:"add",path:I+"/"+p(ne),value:d(_[ne])})}}}function Je(C,_,T){T===void 0&&(T=!1);var I=[];return _e(C,_,I,"",T),I}var xt=Object.freeze({__proto__:null,compare:Je,generate:oe,observe:pe,unobserve:K});Object.assign({},L,xt,{JsonPatchError:v,deepClone:d,escapePathComponent:p,unescapePathComponent:g});function Dn(C){return C&&C.__esModule&&Object.prototype.hasOwnProperty.call(C,"default")?C.default:C}var cr=/("(?:[^\\"]|\\.)*")|[:,]/g,be=function(_,T){var I,q,G;return T=T||{},I=JSON.stringify([1],void 0,T.indent===void 0?2:T.indent).slice(2,-3),q=I===""?1/0:T.maxLength===void 0?80:T.maxLength,G=T.replacer,function re(ie,Q,ne){var ge,Oe,kt,ct,Re,di,fn,yn,Yt,jr,Ns,_t;if(ie&&typeof ie.toJSON=="function"&&(ie=ie.toJSON()),Ns=JSON.stringify(ie,G),Ns===void 0)return Ns;if(fn=q-Q.length-ne,Ns.length<=fn&&(Yt=Ns.replace(cr,function(Kt,at){return at||Kt+" "}),Yt.length<=fn))return Yt;if(G!=null&&(ie=JSON.parse(Ns),G=void 0),typeof ie=="object"&&ie!==null){if(yn=Q+I,kt=[],Oe=0,Array.isArray(ie))for(jr="[",ge="]",fn=ie.length;Oe<fn;Oe++)kt.push(re(ie[Oe],yn,Oe===fn-1?0:1)||"null");else for(jr="{",ge="}",di=Object.keys(ie),fn=di.length;Oe<fn;Oe++)ct=di[Oe],Re=JSON.stringify(ct)+": ",_t=re(ie[ct],yn,Re.length+(Oe===fn-1?0:1)),_t!==void 0&&kt.push(Re+_t);if(kt.length>0)return[jr,I+kt.join(`,
`+yn),ge].join(`
`+Q)}return Ns}(_,"",0)},Ne=Dn(be);class Ue{constructor(){this.max=1e3,this.map=new Map}get(_){const T=this.map.get(_);if(T!==void 0)return this.map.delete(_),this.map.set(_,T),T}delete(_){return this.map.delete(_)}set(_,T){if(!this.delete(_)&&T!==void 0){if(this.map.size>=this.max){const q=this.map.keys().next().value;this.delete(q)}this.map.set(_,T)}return this}}var ae=Ue;const Mn=Object.freeze({loose:!0}),vt=Object.freeze({});var cn=C=>C?typeof C!="object"?Mn:C:vt,Br={exports:{}};const Yu="2.0.0",Yx=256,vp=Number.MAX_SAFE_INTEGER||9007199254740991,X0=16,bp=Yx-6;var xp={MAX_LENGTH:Yx,MAX_SAFE_COMPONENT_LENGTH:X0,MAX_SAFE_BUILD_LENGTH:bp,MAX_SAFE_INTEGER:vp,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:Yu,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2},wp=typeof process=="object"&&n&&n.NODE_DEBUG&&/\bsemver\b/i.test(n.NODE_DEBUG)?(...C)=>console.error("SEMVER",...C):()=>{};(function(C,_){const{MAX_SAFE_COMPONENT_LENGTH:T,MAX_SAFE_BUILD_LENGTH:I,MAX_LENGTH:q}=xp,G=wp;_=C.exports={};const re=_.re=[],ie=_.safeRe=[],Q=_.src=[],ne=_.t={};let ge=0;const Oe="[a-zA-Z0-9-]",kt=[["\\s",1],["\\d",q],[Oe,I]],ct=di=>{for(const[fn,yn]of kt)di=di.split(`${fn}*`).join(`${fn}{0,${yn}}`).split(`${fn}+`).join(`${fn}{1,${yn}}`);return di},Re=(di,fn,yn)=>{const Yt=ct(fn),jr=ge++;G(di,jr,fn),ne[di]=jr,Q[jr]=fn,re[jr]=new RegExp(fn,yn?"g":void 0),ie[jr]=new RegExp(Yt,yn?"g":void 0)};Re("NUMERICIDENTIFIER","0|[1-9]\\d*"),Re("NUMERICIDENTIFIERLOOSE","\\d+"),Re("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${Oe}*`),Re("MAINVERSION",`(${Q[ne.NUMERICIDENTIFIER]})\\.(${Q[ne.NUMERICIDENTIFIER]})\\.(${Q[ne.NUMERICIDENTIFIER]})`),Re("MAINVERSIONLOOSE",`(${Q[ne.NUMERICIDENTIFIERLOOSE]})\\.(${Q[ne.NUMERICIDENTIFIERLOOSE]})\\.(${Q[ne.NUMERICIDENTIFIERLOOSE]})`),Re("PRERELEASEIDENTIFIER",`(?:${Q[ne.NUMERICIDENTIFIER]}|${Q[ne.NONNUMERICIDENTIFIER]})`),Re("PRERELEASEIDENTIFIERLOOSE",`(?:${Q[ne.NUMERICIDENTIFIERLOOSE]}|${Q[ne.NONNUMERICIDENTIFIER]})`),Re("PRERELEASE",`(?:-(${Q[ne.PRERELEASEIDENTIFIER]}(?:\\.${Q[ne.PRERELEASEIDENTIFIER]})*))`),Re("PRERELEASELOOSE",`(?:-?(${Q[ne.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${Q[ne.PRERELEASEIDENTIFIERLOOSE]})*))`),Re("BUILDIDENTIFIER",`${Oe}+`),Re("BUILD",`(?:\\+(${Q[ne.BUILDIDENTIFIER]}(?:\\.${Q[ne.BUILDIDENTIFIER]})*))`),Re("FULLPLAIN",`v?${Q[ne.MAINVERSION]}${Q[ne.PRERELEASE]}?${Q[ne.BUILD]}?`),Re("FULL",`^${Q[ne.FULLPLAIN]}$`),Re("LOOSEPLAIN",`[v=\\s]*${Q[ne.MAINVERSIONLOOSE]}${Q[ne.PRERELEASELOOSE]}?${Q[ne.BUILD]}?`),Re("LOOSE",`^${Q[ne.LOOSEPLAIN]}$`),Re("GTLT","((?:<|>)?=?)"),Re("XRANGEIDENTIFIERLOOSE",`${Q[ne.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),Re("XRANGEIDENTIFIER",`${Q[ne.NUMERICIDENTIFIER]}|x|X|\\*`),Re("XRANGEPLAIN",`[v=\\s]*(${Q[ne.XRANGEIDENTIFIER]})(?:\\.(${Q[ne.XRANGEIDENTIFIER]})(?:\\.(${Q[ne.XRANGEIDENTIFIER]})(?:${Q[ne.PRERELEASE]})?${Q[ne.BUILD]}?)?)?`),Re("XRANGEPLAINLOOSE",`[v=\\s]*(${Q[ne.XRANGEIDENTIFIERLOOSE]})(?:\\.(${Q[ne.XRANGEIDENTIFIERLOOSE]})(?:\\.(${Q[ne.XRANGEIDENTIFIERLOOSE]})(?:${Q[ne.PRERELEASELOOSE]})?${Q[ne.BUILD]}?)?)?`),Re("XRANGE",`^${Q[ne.GTLT]}\\s*${Q[ne.XRANGEPLAIN]}$`),Re("XRANGELOOSE",`^${Q[ne.GTLT]}\\s*${Q[ne.XRANGEPLAINLOOSE]}$`),Re("COERCEPLAIN",`(^|[^\\d])(\\d{1,${T}})(?:\\.(\\d{1,${T}}))?(?:\\.(\\d{1,${T}}))?`),Re("COERCE",`${Q[ne.COERCEPLAIN]}(?:$|[^\\d])`),Re("COERCEFULL",Q[ne.COERCEPLAIN]+`(?:${Q[ne.PRERELEASE]})?(?:${Q[ne.BUILD]})?(?:$|[^\\d])`),Re("COERCERTL",Q[ne.COERCE],!0),Re("COERCERTLFULL",Q[ne.COERCEFULL],!0),Re("LONETILDE","(?:~>?)"),Re("TILDETRIM",`(\\s*)${Q[ne.LONETILDE]}\\s+`,!0),_.tildeTrimReplace="$1~",Re("TILDE",`^${Q[ne.LONETILDE]}${Q[ne.XRANGEPLAIN]}$`),Re("TILDELOOSE",`^${Q[ne.LONETILDE]}${Q[ne.XRANGEPLAINLOOSE]}$`),Re("LONECARET","(?:\\^)"),Re("CARETTRIM",`(\\s*)${Q[ne.LONECARET]}\\s+`,!0),_.caretTrimReplace="$1^",Re("CARET",`^${Q[ne.LONECARET]}${Q[ne.XRANGEPLAIN]}$`),Re("CARETLOOSE",`^${Q[ne.LONECARET]}${Q[ne.XRANGEPLAINLOOSE]}$`),Re("COMPARATORLOOSE",`^${Q[ne.GTLT]}\\s*(${Q[ne.LOOSEPLAIN]})$|^$`),Re("COMPARATOR",`^${Q[ne.GTLT]}\\s*(${Q[ne.FULLPLAIN]})$|^$`),Re("COMPARATORTRIM",`(\\s*)${Q[ne.GTLT]}\\s*(${Q[ne.LOOSEPLAIN]}|${Q[ne.XRANGEPLAIN]})`,!0),_.comparatorTrimReplace="$1$2$3",Re("HYPHENRANGE",`^\\s*(${Q[ne.XRANGEPLAIN]})\\s+-\\s+(${Q[ne.XRANGEPLAIN]})\\s*$`),Re("HYPHENRANGELOOSE",`^\\s*(${Q[ne.XRANGEPLAINLOOSE]})\\s+-\\s+(${Q[ne.XRANGEPLAINLOOSE]})\\s*$`),Re("STAR","(<|>)?=?\\s*\\*"),Re("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),Re("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(Br,Br.exports);var Y0=Br.exports;const Kf=/^[0-9]+$/,K0=(C,_)=>{const T=Kf.test(C),I=Kf.test(_);return T&&I&&(C=+C,_=+_),C===_?0:T&&!I?-1:I&&!T?1:C<_?-1:1};var Kx={compareIdentifiers:K0,rcompareIdentifiers:(C,_)=>K0(_,C)};const Qf=wp,{MAX_LENGTH:Qx,MAX_SAFE_INTEGER:Sp}=xp,{safeRe:Ra,t:Jf}=Y0,qA=cn,{compareIdentifiers:Bl}=Kx;var Cp=class za{constructor(_,T){if(T=qA(T),_ instanceof za){if(_.loose===!!T.loose&&_.includePrerelease===!!T.includePrerelease)return _;_=_.version}else if(typeof _!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof _}".`);if(_.length>Qx)throw new TypeError(`version is longer than ${Qx} characters`);Qf("SemVer",_,T),this.options=T,this.loose=!!T.loose,this.includePrerelease=!!T.includePrerelease;const I=_.trim().match(T.loose?Ra[Jf.LOOSE]:Ra[Jf.FULL]);if(!I)throw new TypeError(`Invalid Version: ${_}`);if(this.raw=_,this.major=+I[1],this.minor=+I[2],this.patch=+I[3],this.major>Sp||this.major<0)throw new TypeError("Invalid major version");if(this.minor>Sp||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>Sp||this.patch<0)throw new TypeError("Invalid patch version");I[4]?this.prerelease=I[4].split(".").map(q=>{if(/^[0-9]+$/.test(q)){const G=+q;if(G>=0&&G<Sp)return G}return q}):this.prerelease=[],this.build=I[5]?I[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(_){if(Qf("SemVer.compare",this.version,this.options,_),!(_ instanceof za)){if(typeof _=="string"&&_===this.version)return 0;_=new za(_,this.options)}return _.version===this.version?0:this.compareMain(_)||this.comparePre(_)}compareMain(_){return _ instanceof za||(_=new za(_,this.options)),Bl(this.major,_.major)||Bl(this.minor,_.minor)||Bl(this.patch,_.patch)}comparePre(_){if(_ instanceof za||(_=new za(_,this.options)),this.prerelease.length&&!_.prerelease.length)return-1;if(!this.prerelease.length&&_.prerelease.length)return 1;if(!this.prerelease.length&&!_.prerelease.length)return 0;let T=0;do{const I=this.prerelease[T],q=_.prerelease[T];if(Qf("prerelease compare",T,I,q),I===void 0&&q===void 0)return 0;if(q===void 0)return 1;if(I===void 0)return-1;if(I===q)continue;return Bl(I,q)}while(++T)}compareBuild(_){_ instanceof za||(_=new za(_,this.options));let T=0;do{const I=this.build[T],q=_.build[T];if(Qf("build compare",T,I,q),I===void 0&&q===void 0)return 0;if(q===void 0)return 1;if(I===void 0)return-1;if(I===q)continue;return Bl(I,q)}while(++T)}inc(_,T,I){switch(_){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",T,I);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",T,I);break;case"prepatch":this.prerelease.length=0,this.inc("patch",T,I),this.inc("pre",T,I);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",T,I),this.inc("pre",T,I);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const q=Number(I)?1:0;if(!T&&I===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[q];else{let G=this.prerelease.length;for(;--G>=0;)typeof this.prerelease[G]=="number"&&(this.prerelease[G]++,G=-2);if(G===-1){if(T===this.prerelease.join(".")&&I===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(q)}}if(T){let G=[T,q];I===!1&&(G=[T]),Bl(this.prerelease[0],T)===0?isNaN(this.prerelease[1])&&(this.prerelease=G):this.prerelease=G}break}default:throw new Error(`invalid increment argument: ${_}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};const Ku=Cp;var Ui=(C,_,T)=>new Ku(C,T).compare(new Ku(_,T));const GA=Ui;var XA=(C,_,T)=>GA(C,_,T)===0;const YA=Ui;var Ps=(C,_,T)=>YA(C,_,T)!==0;const KA=Ui;var QA=(C,_,T)=>KA(C,_,T)>0;const JA=Ui;var Qu=(C,_,T)=>JA(C,_,T)>=0;const ZA=Ui;var e5=(C,_,T)=>ZA(C,_,T)<0;const t5=Ui;var Ju=(C,_,T)=>t5(C,_,T)<=0;const n5=XA,r5=Ps,i5=QA,o5=Qu,s5=e5,a5=Ju;var l5=(C,_,T,I)=>{switch(_){case"===":return typeof C=="object"&&(C=C.version),typeof T=="object"&&(T=T.version),C===T;case"!==":return typeof C=="object"&&(C=C.version),typeof T=="object"&&(T=T.version),C!==T;case"":case"=":case"==":return n5(C,T,I);case"!=":return r5(C,T,I);case">":return i5(C,T,I);case">=":return o5(C,T,I);case"<":return s5(C,T,I);case"<=":return a5(C,T,I);default:throw new TypeError(`Invalid operator: ${_}`)}},Zu,Ep;function u5(){if(Ep)return Zu;Ep=1;const C=Symbol("SemVer ANY");class _{static get ANY(){return C}constructor(ge,Oe){if(Oe=T(Oe),ge instanceof _){if(ge.loose===!!Oe.loose)return ge;ge=ge.value}ge=ge.trim().split(/\s+/).join(" "),re("comparator",ge,Oe),this.options=Oe,this.loose=!!Oe.loose,this.parse(ge),this.semver===C?this.value="":this.value=this.operator+this.semver.version,re("comp",this)}parse(ge){const Oe=this.options.loose?I[q.COMPARATORLOOSE]:I[q.COMPARATOR],kt=ge.match(Oe);if(!kt)throw new TypeError(`Invalid comparator: ${ge}`);this.operator=kt[1]!==void 0?kt[1]:"",this.operator==="="&&(this.operator=""),kt[2]?this.semver=new ie(kt[2],this.options.loose):this.semver=C}toString(){return this.value}test(ge){if(re("Comparator.test",ge,this.options.loose),this.semver===C||ge===C)return!0;if(typeof ge=="string")try{ge=new ie(ge,this.options)}catch{return!1}return G(ge,this.operator,this.semver,this.options)}intersects(ge,Oe){if(!(ge instanceof _))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new Q(ge.value,Oe).test(this.value):ge.operator===""?ge.value===""?!0:new Q(this.value,Oe).test(ge.semver):(Oe=T(Oe),Oe.includePrerelease&&(this.value==="<0.0.0-0"||ge.value==="<0.0.0-0")||!Oe.includePrerelease&&(this.value.startsWith("<0.0.0")||ge.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&ge.operator.startsWith(">")||this.operator.startsWith("<")&&ge.operator.startsWith("<")||this.semver.version===ge.semver.version&&this.operator.includes("=")&&ge.operator.includes("=")||G(this.semver,"<",ge.semver,Oe)&&this.operator.startsWith(">")&&ge.operator.startsWith("<")||G(this.semver,">",ge.semver,Oe)&&this.operator.startsWith("<")&&ge.operator.startsWith(">")))}}Zu=_;const T=cn,{safeRe:I,t:q}=Y0,G=l5,re=wp,ie=Cp,Q=Zx();return Zu}var ec,Q0;function Zx(){if(Q0)return ec;Q0=1;class C{constructor(Ce,Ye){if(Ye=I(Ye),Ce instanceof C)return Ce.loose===!!Ye.loose&&Ce.includePrerelease===!!Ye.includePrerelease?Ce:new C(Ce.raw,Ye);if(Ce instanceof q)return this.raw=Ce.value,this.set=[[Ce]],this.format(),this;if(this.options=Ye,this.loose=!!Ye.loose,this.includePrerelease=!!Ye.includePrerelease,this.raw=Ce.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map(He=>this.parseRange(He.trim())).filter(He=>He.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const He=this.set[0];if(this.set=this.set.filter(qe=>!Re(qe[0])),this.set.length===0)this.set=[He];else if(this.set.length>1){for(const qe of this.set)if(qe.length===1&&di(qe[0])){this.set=[qe];break}}}this.format()}format(){return this.range=this.set.map(Ce=>Ce.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(Ce){const He=((this.options.includePrerelease&&kt)|(this.options.loose&&ct))+":"+Ce,qe=T.get(He);if(qe)return qe;const ze=this.options.loose,tt=ze?ie[Q.HYPHENRANGELOOSE]:ie[Q.HYPHENRANGE];Ce=Ce.replace(tt,z5(this.options.includePrerelease)),G("hyphen replace",Ce),Ce=Ce.replace(ie[Q.COMPARATORTRIM],ne),G("comparator trim",Ce),Ce=Ce.replace(ie[Q.TILDETRIM],ge),G("tilde trim",Ce),Ce=Ce.replace(ie[Q.CARETTRIM],Oe),G("caret trim",Ce);let Vt=Ce.split(" ").map(Wn=>yn(Wn,this.options)).join(" ").split(/\s+/).map(Wn=>I5(Wn,this.options));ze&&(Vt=Vt.filter(Wn=>(G("loose invalid filter",Wn,this.options),!!Wn.match(ie[Q.COMPARATORLOOSE])))),G("range list",Vt);const lt=new Map,vn=Vt.map(Wn=>new q(Wn,this.options));for(const Wn of vn){if(Re(Wn))return[Wn];lt.set(Wn.value,Wn)}lt.size>1&&lt.has("")&&lt.delete("");const yo=[...lt.values()];return T.set(He,yo),yo}intersects(Ce,Ye){if(!(Ce instanceof C))throw new TypeError("a Range is required");return this.set.some(He=>fn(He,Ye)&&Ce.set.some(qe=>fn(qe,Ye)&&He.every(ze=>qe.every(tt=>ze.intersects(tt,Ye)))))}test(Ce){if(!Ce)return!1;if(typeof Ce=="string")try{Ce=new re(Ce,this.options)}catch{return!1}for(let Ye=0;Ye<this.set.length;Ye++)if(B5(this.set[Ye],Ce,this.options))return!0;return!1}}ec=C;const _=ae,T=new _,I=cn,q=u5(),G=wp,re=Cp,{safeRe:ie,t:Q,comparatorTrimReplace:ne,tildeTrimReplace:ge,caretTrimReplace:Oe}=Y0,{FLAG_INCLUDE_PRERELEASE:kt,FLAG_LOOSE:ct}=xp,Re=$e=>$e.value==="<0.0.0-0",di=$e=>$e.value==="",fn=($e,Ce)=>{let Ye=!0;const He=$e.slice();let qe=He.pop();for(;Ye&&He.length;)Ye=He.every(ze=>qe.intersects(ze,Ce)),qe=He.pop();return Ye},yn=($e,Ce)=>(G("comp",$e,Ce),$e=_t($e,Ce),G("caret",$e),$e=jr($e,Ce),G("tildes",$e),$e=at($e,Ce),G("xrange",$e),$e=Xo($e,Ce),G("stars",$e),$e),Yt=$e=>!$e||$e.toLowerCase()==="x"||$e==="*",jr=($e,Ce)=>$e.trim().split(/\s+/).map(Ye=>Ns(Ye,Ce)).join(" "),Ns=($e,Ce)=>{const Ye=Ce.loose?ie[Q.TILDELOOSE]:ie[Q.TILDE];return $e.replace(Ye,(He,qe,ze,tt,Vt)=>{G("tilde",$e,He,qe,ze,tt,Vt);let lt;return Yt(qe)?lt="":Yt(ze)?lt=`>=${qe}.0.0 <${+qe+1}.0.0-0`:Yt(tt)?lt=`>=${qe}.${ze}.0 <${qe}.${+ze+1}.0-0`:Vt?(G("replaceTilde pr",Vt),lt=`>=${qe}.${ze}.${tt}-${Vt} <${qe}.${+ze+1}.0-0`):lt=`>=${qe}.${ze}.${tt} <${qe}.${+ze+1}.0-0`,G("tilde return",lt),lt})},_t=($e,Ce)=>$e.trim().split(/\s+/).map(Ye=>Kt(Ye,Ce)).join(" "),Kt=($e,Ce)=>{G("caret",$e,Ce);const Ye=Ce.loose?ie[Q.CARETLOOSE]:ie[Q.CARET],He=Ce.includePrerelease?"-0":"";return $e.replace(Ye,(qe,ze,tt,Vt,lt)=>{G("caret",$e,qe,ze,tt,Vt,lt);let vn;return Yt(ze)?vn="":Yt(tt)?vn=`>=${ze}.0.0${He} <${+ze+1}.0.0-0`:Yt(Vt)?ze==="0"?vn=`>=${ze}.${tt}.0${He} <${ze}.${+tt+1}.0-0`:vn=`>=${ze}.${tt}.0${He} <${+ze+1}.0.0-0`:lt?(G("replaceCaret pr",lt),ze==="0"?tt==="0"?vn=`>=${ze}.${tt}.${Vt}-${lt} <${ze}.${tt}.${+Vt+1}-0`:vn=`>=${ze}.${tt}.${Vt}-${lt} <${ze}.${+tt+1}.0-0`:vn=`>=${ze}.${tt}.${Vt}-${lt} <${+ze+1}.0.0-0`):(G("no pr"),ze==="0"?tt==="0"?vn=`>=${ze}.${tt}.${Vt}${He} <${ze}.${tt}.${+Vt+1}-0`:vn=`>=${ze}.${tt}.${Vt}${He} <${ze}.${+tt+1}.0-0`:vn=`>=${ze}.${tt}.${Vt} <${+ze+1}.0.0-0`),G("caret return",vn),vn})},at=($e,Ce)=>(G("replaceXRanges",$e,Ce),$e.split(/\s+/).map(Ye=>Nn(Ye,Ce)).join(" ")),Nn=($e,Ce)=>{$e=$e.trim();const Ye=Ce.loose?ie[Q.XRANGELOOSE]:ie[Q.XRANGE];return $e.replace(Ye,(He,qe,ze,tt,Vt,lt)=>{G("xRange",$e,He,qe,ze,tt,Vt,lt);const vn=Yt(ze),yo=vn||Yt(tt),Wn=yo||Yt(Vt),cy=Wn;return qe==="="&&cy&&(qe=""),lt=Ce.includePrerelease?"-0":"",vn?qe===">"||qe==="<"?He="<0.0.0-0":He="*":qe&&cy?(yo&&(tt=0),Vt=0,qe===">"?(qe=">=",yo?(ze=+ze+1,tt=0,Vt=0):(tt=+tt+1,Vt=0)):qe==="<="&&(qe="<",yo?ze=+ze+1:tt=+tt+1),qe==="<"&&(lt="-0"),He=`${qe+ze}.${tt}.${Vt}${lt}`):yo?He=`>=${ze}.0.0${lt} <${+ze+1}.0.0-0`:Wn&&(He=`>=${ze}.${tt}.0${lt} <${ze}.${+tt+1}.0-0`),G("xRange return",He),He})},Xo=($e,Ce)=>(G("replaceStars",$e,Ce),$e.trim().replace(ie[Q.STAR],"")),I5=($e,Ce)=>(G("replaceGTE0",$e,Ce),$e.trim().replace(ie[Ce.includePrerelease?Q.GTE0PRE:Q.GTE0],"")),z5=$e=>(Ce,Ye,He,qe,ze,tt,Vt,lt,vn,yo,Wn,cy)=>(Yt(He)?Ye="":Yt(qe)?Ye=`>=${He}.0.0${$e?"-0":""}`:Yt(ze)?Ye=`>=${He}.${qe}.0${$e?"-0":""}`:tt?Ye=`>=${Ye}`:Ye=`>=${Ye}${$e?"-0":""}`,Yt(vn)?lt="":Yt(yo)?lt=`<${+vn+1}.0.0-0`:Yt(Wn)?lt=`<${vn}.${+yo+1}.0-0`:cy?lt=`<=${vn}.${yo}.${Wn}-${cy}`:$e?lt=`<${vn}.${yo}.${+Wn+1}-0`:lt=`<=${lt}`,`${Ye} ${lt}`.trim()),B5=($e,Ce,Ye)=>{for(let He=0;He<$e.length;He++)if(!$e[He].test(Ce))return!1;if(Ce.prerelease.length&&!Ye.includePrerelease){for(let He=0;He<$e.length;He++)if(G($e[He].semver),$e[He].semver!==q.ANY&&$e[He].semver.prerelease.length>0){const qe=$e[He].semver;if(qe.major===Ce.major&&qe.minor===Ce.minor&&qe.patch===Ce.patch)return!0}return!1}return!0};return ec}const c5=Zx();var e2=(C,_,T)=>{try{_=new c5(_,T)}catch{return!1}return _.test(C)},t2=Dn(e2);function f5(C,_,T){let I;_.x2&&(_.x?(T&&C.x>C.x2&&(I=C.x,C.x=C.x2,C.x2=I),C.width=C.x2-C.x):C.x=C.x2-(C.width||0)),_.xc&&(C.x=C.xc-(C.width||0)/2),_.y2&&(_.y?(T&&C.y>C.y2&&(I=C.y,C.y=C.y2,C.y2=I),C.height=C.y2-C.y):C.y=C.y2-(C.height||0)),_.yc&&(C.y=C.yc-(C.height||0)/2)}var d5={NaN:NaN,E:Math.E,LN2:Math.LN2,LN10:Math.LN10,LOG2E:Math.LOG2E,LOG10E:Math.LOG10E,PI:Math.PI,SQRT1_2:Math.SQRT1_2,SQRT2:Math.SQRT2,MIN_VALUE:Number.MIN_VALUE,MAX_VALUE:Number.MAX_VALUE},h5={"*":(C,_)=>C*_,"+":(C,_)=>C+_,"-":(C,_)=>C-_,"/":(C,_)=>C/_,"%":(C,_)=>C%_,">":(C,_)=>C>_,"<":(C,_)=>C<_,"<=":(C,_)=>C<=_,">=":(C,_)=>C>=_,"==":(C,_)=>C==_,"!=":(C,_)=>C!=_,"===":(C,_)=>C===_,"!==":(C,_)=>C!==_,"&":(C,_)=>C&_,"|":(C,_)=>C|_,"^":(C,_)=>C^_,"<<":(C,_)=>C<<_,">>":(C,_)=>C>>_,">>>":(C,_)=>C>>>_},p5={"+":C=>+C,"-":C=>-C,"~":C=>~C,"!":C=>!C};const g5=Array.prototype.slice,jl=(C,_,T)=>{const I=T?T(_[0]):_[0];return I[C].apply(I,g5.call(_,1))},m5=(C,_,T,I,q,G,re)=>new Date(C,_||0,T??1,I||0,q||0,G||0,re||0);var y5={isNaN:Number.isNaN,isFinite:Number.isFinite,abs:Math.abs,acos:Math.acos,asin:Math.asin,atan:Math.atan,atan2:Math.atan2,ceil:Math.ceil,cos:Math.cos,exp:Math.exp,floor:Math.floor,log:Math.log,max:Math.max,min:Math.min,pow:Math.pow,random:Math.random,round:Math.round,sin:Math.sin,sqrt:Math.sqrt,tan:Math.tan,clamp:(C,_,T)=>Math.max(_,Math.min(T,C)),now:Date.now,utc:Date.UTC,datetime:m5,date:C=>new Date(C).getDate(),day:C=>new Date(C).getDay(),year:C=>new Date(C).getFullYear(),month:C=>new Date(C).getMonth(),hours:C=>new Date(C).getHours(),minutes:C=>new Date(C).getMinutes(),seconds:C=>new Date(C).getSeconds(),milliseconds:C=>new Date(C).getMilliseconds(),time:C=>new Date(C).getTime(),timezoneoffset:C=>new Date(C).getTimezoneOffset(),utcdate:C=>new Date(C).getUTCDate(),utcday:C=>new Date(C).getUTCDay(),utcyear:C=>new Date(C).getUTCFullYear(),utcmonth:C=>new Date(C).getUTCMonth(),utchours:C=>new Date(C).getUTCHours(),utcminutes:C=>new Date(C).getUTCMinutes(),utcseconds:C=>new Date(C).getUTCSeconds(),utcmilliseconds:C=>new Date(C).getUTCMilliseconds(),length:C=>C.length,join:function(){return jl("join",arguments)},indexof:function(){return jl("indexOf",arguments)},lastindexof:function(){return jl("lastIndexOf",arguments)},slice:function(){return jl("slice",arguments)},reverse:C=>C.slice().reverse(),parseFloat,parseInt,upper:C=>String(C).toUpperCase(),lower:C=>String(C).toLowerCase(),substring:function(){return jl("substring",arguments,String)},split:function(){return jl("split",arguments,String)},replace:function(){return jl("replace",arguments,String)},trim:C=>String(C).trim(),regexp:RegExp,test:(C,_)=>RegExp(C).test(_)};const v5=["view","item","group","xy","x","y"],tc=new Set([Function,eval,setTimeout,setInterval]);typeof setImmediate=="function"&&tc.add(setImmediate);const J0={Literal:(C,_)=>_.value,Identifier:(C,_)=>{const T=_.name;return C.memberDepth>0?T:T==="datum"?C.datum:T==="event"?C.event:T==="item"?C.item:d5[T]||C.params["$"+T]},MemberExpression:(C,_)=>{const T=!_.computed,I=C(_.object);T&&(C.memberDepth+=1);const q=C(_.property);if(T&&(C.memberDepth-=1),tc.has(I[q])){console.error(`Prevented interpretation of member "${q}" which could lead to insecure code execution`);return}return I[q]},CallExpression:(C,_)=>{const T=_.arguments;let I=_.callee.name;return I.startsWith("_")&&(I=I.slice(1)),I==="if"?C(T[0])?C(T[1]):C(T[2]):(C.fn[I]||y5[I]).apply(C.fn,T.map(C))},ArrayExpression:(C,_)=>_.elements.map(C),BinaryExpression:(C,_)=>h5[_.operator](C(_.left),C(_.right)),UnaryExpression:(C,_)=>p5[_.operator](C(_.argument)),ConditionalExpression:(C,_)=>C(_.test)?C(_.consequent):C(_.alternate),LogicalExpression:(C,_)=>_.operator==="&&"?C(_.left)&&C(_.right):C(_.left)||C(_.right),ObjectExpression:(C,_)=>_.properties.reduce((T,I)=>{C.memberDepth+=1;const q=C(I.key);return C.memberDepth-=1,tc.has(C(I.value))?console.error(`Prevented interpretation of property "${q}" which could lead to insecure code execution`):T[q]=C(I.value),T},{})};function Zf(C,_,T,I,q,G){const re=ie=>J0[ie.type](re,ie);return re.memberDepth=0,re.fn=Object.create(_),re.params=T,re.datum=I,re.event=q,re.item=G,v5.forEach(ie=>re.fn[ie]=function(){return q.vega[ie](...arguments)}),re(C)}var b5={operator(C,_){const T=_.ast,I=C.functions;return q=>Zf(T,I,q)},parameter(C,_){const T=_.ast,I=C.functions;return(q,G)=>Zf(T,I,G,q)},event(C,_){const T=_.ast,I=C.functions;return q=>Zf(T,I,void 0,void 0,q)},handler(C,_){const T=_.ast,I=C.functions;return(q,G)=>{const re=G.item&&G.item.datum;return Zf(T,I,q,re,G)}},encode(C,_){const{marktype:T,channels:I}=_,q=C.functions,G=T==="group"||T==="image"||T==="rect";return(re,ie)=>{const Q=re.datum;let ne=0,ge;for(const Oe in I)ge=Zf(I[Oe].ast,q,ie,Q,void 0,re),re[Oe]!==ge&&(re[Oe]=ge,ne=1);return T!=="rule"&&f5(re,I,G),ne}}};function Z0(C){const[_,T]=/schema\/([\w-]+)\/([\w\.\-]+)\.json$/g.exec(C).slice(1,3);return{library:_,version:T}}var x5="vega-themes",w5="2.15.0",S5="Themes for stylized Vega and Vega-Lite visualizations.",n2=["vega","vega-lite","themes","style"],C5="BSD-3-Clause",E5={name:"UW Interactive Data Lab",url:"https://idl.cs.washington.edu"},k5=[{name:"Emily Gu",url:"https://github.com/emilygu"},{name:"Arvind Satyanarayan",url:"http://arvindsatya.com"},{name:"Jeffrey Heer",url:"https://idl.cs.washington.edu"},{name:"Dominik Moritz",url:"https://www.domoritz.de"}],ey="build/vega-themes.js",_5="build/vega-themes.module.js",$5="build/vega-themes.min.js",A5="build/vega-themes.min.js",kp="build/vega-themes.module.d.ts",ty={type:"git",url:"https://github.com/vega/vega-themes.git"},ny=["src","build"],ry={prebuild:"yarn clean",build:"rollup -c",clean:"rimraf build && rimraf examples/build","copy:data":"rsync -r node_modules/vega-datasets/data/* examples/data","copy:build":"rsync -r build/* examples/build","deploy:gh":"yarn build && mkdir -p examples/build && rsync -r build/* examples/build && gh-pages -d examples",preversion:"yarn lint",serve:"browser-sync start -s -f build examples --serveStatic examples",start:"yarn build && concurrently --kill-others -n Server,Rollup 'yarn serve' 'rollup -c -w'",format:"eslint . --fix",lint:"eslint .",release:"release-it"},T5={"@babel/core":"^7.24.6","@babel/plugin-transform-runtime":"^7.24.6","@babel/preset-env":"^7.24.6","@babel/preset-typescript":"^7.24.6","@release-it/conventional-changelog":"^8.0.1","@rollup/plugin-json":"^6.1.0","@rollup/plugin-node-resolve":"^15.2.3","@rollup/plugin-terser":"^0.4.4","@typescript-eslint/eslint-plugin":"^7.11.0","@typescript-eslint/parser":"^7.11.0","browser-sync":"^3.0.2",concurrently:"^8.2.2",eslint:"^8.45.0","eslint-config-prettier":"^9.1.0","eslint-plugin-prettier":"^5.1.3","gh-pages":"^6.1.1",prettier:"^3.2.5","release-it":"^17.3.0",rollup:"^4.18.0","rollup-plugin-bundle-size":"^1.0.3","rollup-plugin-ts":"^3.4.5",typescript:"^5.4.5",vega:"^5.25.0","vega-lite":"^5.9.3"},r2={vega:"*","vega-lite":"*"},iy={},i2={name:x5,version:w5,description:S5,keywords:n2,license:C5,author:E5,contributors:k5,main:ey,module:_5,unpkg:$5,jsdelivr:A5,types:kp,repository:ty,files:ny,scripts:ry,devDependencies:T5,peerDependencies:r2,dependencies:iy};const Vi="#fff",nc="#888",R5={background:"#333",view:{stroke:nc},title:{color:Vi,subtitleColor:Vi},style:{"guide-label":{fill:Vi},"guide-title":{fill:Vi}},axis:{domainColor:Vi,gridColor:nc,tickColor:Vi}},Fa="#4572a7",F5={background:"#fff",arc:{fill:Fa},area:{fill:Fa},line:{stroke:Fa,strokeWidth:2},path:{stroke:Fa},rect:{fill:Fa},shape:{stroke:Fa},symbol:{fill:Fa,strokeWidth:1.5,size:50},axis:{bandPosition:.5,grid:!0,gridColor:"#000000",gridOpacity:1,gridWidth:.5,labelPadding:10,tickSize:5,tickWidth:.5},axisBand:{grid:!1,tickExtra:!0},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:50,symbolType:"square"},range:{category:["#4572a7","#aa4643","#8aa453","#71598e","#4598ae","#d98445","#94aace","#d09393","#b9cc98","#a99cbc"]}},Oa="#30a2da",oy="#cbcbcb",O5="#999",o2="#333",s2="#f0f0f0",N="#333",V={arc:{fill:Oa},area:{fill:Oa},axis:{domainColor:oy,grid:!0,gridColor:oy,gridWidth:1,labelColor:O5,labelFontSize:10,titleColor:o2,tickColor:oy,tickSize:10,titleFontSize:14,titlePadding:10,labelPadding:4},axisBand:{grid:!1},background:s2,group:{fill:s2},legend:{labelColor:N,labelFontSize:11,padding:1,symbolSize:30,symbolType:"square",titleColor:N,titleFontSize:14,titlePadding:10},line:{stroke:Oa,strokeWidth:2},path:{stroke:Oa,strokeWidth:.5},rect:{fill:Oa},range:{category:["#30a2da","#fc4f30","#e5ae38","#6d904f","#8b8b8b","#b96db8","#ff9e27","#56cc60","#52d2ca","#52689e","#545454","#9fe4f8"],diverging:["#cc0020","#e77866","#f6e7e1","#d6e8ed","#91bfd9","#1d78b5"],heatmap:["#d6e8ed","#cee0e5","#91bfd9","#549cc6","#1d78b5"]},point:{filled:!0,shape:"circle"},shape:{stroke:Oa},bar:{binSpacing:2,fill:Oa,stroke:null},title:{anchor:"start",fontSize:24,fontWeight:600,offset:20}},Y="#000",ke={group:{fill:"#e5e5e5"},arc:{fill:Y},area:{fill:Y},line:{stroke:Y},path:{stroke:Y},rect:{fill:Y},shape:{stroke:Y},symbol:{fill:Y,size:40},axis:{domain:!1,grid:!0,gridColor:"#FFFFFF",gridOpacity:1,labelColor:"#7F7F7F",labelPadding:4,tickColor:"#7F7F7F",tickSize:5.67,titleFontSize:16,titleFontWeight:"normal"},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:40},range:{category:["#000000","#7F7F7F","#1A1A1A","#999999","#333333","#B0B0B0","#4D4D4D","#C9C9C9","#666666","#DCDCDC"]}},st=22,It="normal",Xt="Benton Gothic, sans-serif",mt=11.5,Zt="normal",Kn="#82c6df",Cr="Benton Gothic Bold, sans-serif",rc="normal",_p=13,Ul={"category-6":["#ec8431","#829eb1","#c89d29","#3580b1","#adc839","#ab7fb4"],"fire-7":["#fbf2c7","#f9e39c","#f8d36e","#f4bb6a","#e68a4f","#d15a40","#ab4232"],"fireandice-6":["#e68a4f","#f4bb6a","#f9e39c","#dadfe2","#a6b7c6","#849eae"],"ice-7":["#edefee","#dadfe2","#c4ccd2","#a6b7c6","#849eae","#607785","#47525d"]},a2={background:"#ffffff",title:{anchor:"start",color:"#000000",font:Cr,fontSize:st,fontWeight:It},arc:{fill:Kn},area:{fill:Kn},line:{stroke:Kn,strokeWidth:2},path:{stroke:Kn},rect:{fill:Kn},shape:{stroke:Kn},symbol:{fill:Kn,size:30},axis:{labelFont:Xt,labelFontSize:mt,labelFontWeight:Zt,titleFont:Cr,titleFontSize:_p,titleFontWeight:rc},axisX:{labelAngle:0,labelPadding:4,tickSize:3},axisY:{labelBaseline:"middle",maxExtent:45,minExtent:45,tickSize:2,titleAlign:"left",titleAngle:0,titleX:-45,titleY:-11},legend:{labelFont:Xt,labelFontSize:mt,symbolType:"square",titleFont:Cr,titleFontSize:_p,titleFontWeight:rc},range:{category:Ul["category-6"],diverging:Ul["fireandice-6"],heatmap:Ul["fire-7"],ordinal:Ul["fire-7"],ramp:Ul["fire-7"]}},ed="#ab5787",l2="#979797",Mpe={background:"#f9f9f9",arc:{fill:ed},area:{fill:ed},line:{stroke:ed},path:{stroke:ed},rect:{fill:ed},shape:{stroke:ed},symbol:{fill:ed,size:30},axis:{domainColor:l2,domainWidth:.5,gridWidth:.2,labelColor:l2,tickColor:l2,tickWidth:.2,titleColor:l2},axisBand:{grid:!1},axisX:{grid:!0,tickSize:10},axisY:{domain:!1,grid:!0,tickSize:0},legend:{labelFontSize:11,padding:1,symbolSize:30,symbolType:"square"},range:{category:["#ab5787","#51b2e5","#703c5c","#168dd9","#d190b6","#00609f","#d365ba","#154866","#666666","#c4c4c4"]}},td="#3e5c69",Npe={background:"#fff",arc:{fill:td},area:{fill:td},line:{stroke:td},path:{stroke:td},rect:{fill:td},shape:{stroke:td},symbol:{fill:td},axis:{domainWidth:.5,grid:!0,labelPadding:2,tickSize:5,tickWidth:.5,titleFontWeight:"normal"},axisBand:{grid:!1},axisX:{gridWidth:.2},axisY:{gridDash:[3],gridWidth:.4},legend:{labelFontSize:11,padding:1,symbolType:"square"},range:{category:["#3e5c69","#6793a6","#182429","#0570b0","#3690c0","#74a9cf","#a6bddb","#e2ddf2"]}},Go="#1696d2",l7="#000000",Lpe="#FFFFFF",u2="Lato",P5="Lato",Ipe="Lato",zpe="#DEDDDD",Bpe=18,sy={"main-colors":["#1696d2","#d2d2d2","#000000","#fdbf11","#ec008b","#55b748","#5c5859","#db2b27"],"shades-blue":["#CFE8F3","#A2D4EC","#73BFE2","#46ABDB","#1696D2","#12719E","#0A4C6A","#062635"],"shades-gray":["#F5F5F5","#ECECEC","#E3E3E3","#DCDBDB","#D2D2D2","#9D9D9D","#696969","#353535"],"shades-yellow":["#FFF2CF","#FCE39E","#FDD870","#FCCB41","#FDBF11","#E88E2D","#CA5800","#843215"],"shades-magenta":["#F5CBDF","#EB99C2","#E46AA7","#E54096","#EC008B","#AF1F6B","#761548","#351123"],"shades-green":["#DCEDD9","#BCDEB4","#98CF90","#78C26D","#55B748","#408941","#2C5C2D","#1A2E19"],"shades-black":["#D5D5D4","#ADABAC","#848081","#5C5859","#332D2F","#262223","#1A1717","#0E0C0D"],"shades-red":["#F8D5D4","#F1AAA9","#E9807D","#E25552","#DB2B27","#A4201D","#6E1614","#370B0A"],"one-group":["#1696d2","#000000"],"two-groups-cat-1":["#1696d2","#000000"],"two-groups-cat-2":["#1696d2","#fdbf11"],"two-groups-cat-3":["#1696d2","#db2b27"],"two-groups-seq":["#a2d4ec","#1696d2"],"three-groups-cat":["#1696d2","#fdbf11","#000000"],"three-groups-seq":["#a2d4ec","#1696d2","#0a4c6a"],"four-groups-cat-1":["#000000","#d2d2d2","#fdbf11","#1696d2"],"four-groups-cat-2":["#1696d2","#ec0008b","#fdbf11","#5c5859"],"four-groups-seq":["#cfe8f3","#73bf42","#1696d2","#0a4c6a"],"five-groups-cat-1":["#1696d2","#fdbf11","#d2d2d2","#ec008b","#000000"],"five-groups-cat-2":["#1696d2","#0a4c6a","#d2d2d2","#fdbf11","#332d2f"],"five-groups-seq":["#cfe8f3","#73bf42","#1696d2","#0a4c6a","#000000"],"six-groups-cat-1":["#1696d2","#ec008b","#fdbf11","#000000","#d2d2d2","#55b748"],"six-groups-cat-2":["#1696d2","#d2d2d2","#ec008b","#fdbf11","#332d2f","#0a4c6a"],"six-groups-seq":["#cfe8f3","#a2d4ec","#73bfe2","#46abdb","#1696d2","#12719e"],"diverging-colors":["#ca5800","#fdbf11","#fdd870","#fff2cf","#cfe8f3","#73bfe2","#1696d2","#0a4c6a"]},jpe={background:Lpe,title:{anchor:"start",fontSize:Bpe,font:u2},axisX:{domain:!0,domainColor:l7,domainWidth:1,grid:!1,labelFontSize:12,labelFont:P5,labelAngle:0,tickColor:l7,tickSize:5,titleFontSize:12,titlePadding:10,titleFont:u2},axisY:{domain:!1,domainWidth:1,grid:!0,gridColor:zpe,gridWidth:1,labelFontSize:12,labelFont:P5,labelPadding:8,ticks:!1,titleFontSize:12,titlePadding:10,titleFont:u2,titleAngle:0,titleY:-10,titleX:18},legend:{labelFontSize:12,labelFont:P5,symbolSize:100,titleFontSize:12,titlePadding:10,titleFont:u2,orient:"right",offset:10},view:{stroke:"transparent"},range:{category:sy["six-groups-cat-1"],diverging:sy["diverging-colors"],heatmap:sy["diverging-colors"],ordinal:sy["six-groups-seq"],ramp:sy["shades-blue"]},area:{fill:Go},rect:{fill:Go},line:{color:Go,stroke:Go,strokeWidth:5},trail:{color:Go,stroke:Go,strokeWidth:0,size:1},path:{stroke:Go,strokeWidth:.5},point:{filled:!0},text:{font:Ipe,color:Go,fontSize:11,align:"center",fontWeight:400,size:11},style:{bar:{fill:Go,stroke:null}},arc:{fill:Go},shape:{stroke:Go},symbol:{fill:Go,size:30}},nd="#3366CC",u7="#ccc",c2="Arial, sans-serif",Upe={arc:{fill:nd},area:{fill:nd},path:{stroke:nd},rect:{fill:nd},shape:{stroke:nd},symbol:{stroke:nd},circle:{fill:nd},background:"#fff",padding:{top:10,right:10,bottom:10,left:10},style:{"guide-label":{font:c2,fontSize:12},"guide-title":{font:c2,fontSize:12},"group-title":{font:c2,fontSize:12}},title:{font:c2,fontSize:14,fontWeight:"bold",dy:-3,anchor:"start"},axis:{gridColor:u7,tickColor:u7,domain:!1,grid:!0},range:{category:["#4285F4","#DB4437","#F4B400","#0F9D58","#AB47BC","#00ACC1","#FF7043","#9E9D24","#5C6BC0","#F06292","#00796B","#C2185B"],heatmap:["#c6dafc","#5e97f6","#2a56c6"]}},D5=C=>C*(1/3+1),c7=D5(9),f7=D5(10),d7=D5(12),ay="Segoe UI",h7="wf_standard-font, helvetica, arial, sans-serif",p7="#252423",ly="#605E5C",g7="transparent",Vpe="#C8C6C4",Ds="#118DFF",Wpe="#12239E",Hpe="#E66C37",qpe="#6B007B",Gpe="#E044A7",Xpe="#744EC2",Ype="#D9B300",Kpe="#D64550",m7=Ds,y7="#DEEFFF",v7=[y7,m7],Qpe={view:{stroke:g7},background:g7,font:ay,header:{titleFont:h7,titleFontSize:d7,titleColor:p7,labelFont:ay,labelFontSize:f7,labelColor:ly},axis:{ticks:!1,grid:!1,domain:!1,labelColor:ly,labelFontSize:c7,titleFont:h7,titleColor:p7,titleFontSize:d7,titleFontWeight:"normal"},axisQuantitative:{tickCount:3,grid:!0,gridColor:Vpe,gridDash:[1,5],labelFlush:!1},axisBand:{tickExtra:!0},axisX:{labelPadding:5},axisY:{labelPadding:10},bar:{fill:Ds},line:{stroke:Ds,strokeWidth:3,strokeCap:"round",strokeJoin:"round"},text:{font:ay,fontSize:c7,fill:ly},arc:{fill:Ds},area:{fill:Ds,line:!0,opacity:.6},path:{stroke:Ds},rect:{fill:Ds},point:{fill:Ds,filled:!0,size:75},shape:{stroke:Ds},symbol:{fill:Ds,strokeWidth:1.5,size:50},legend:{titleFont:ay,titleFontWeight:"bold",titleColor:ly,labelFont:ay,labelFontSize:f7,labelColor:ly,symbolType:"circle",symbolSize:75},range:{category:[Ds,Wpe,Hpe,qpe,Gpe,Xpe,Ype,Kpe],diverging:v7,heatmap:v7,ordinal:[y7,"#c7e4ff","#b0d9ff","#9aceff","#83c3ff","#6cb9ff","#55aeff","#3fa3ff","#2898ff",m7]}},M5='IBM Plex Sans,system-ui,-apple-system,BlinkMacSystemFont,".sfnstext-regular",sans-serif',Jpe='IBM Plex Sans Condensed, system-ui, -apple-system, BlinkMacSystemFont, ".SFNSText-Regular", sans-serif',N5=400,f2={textPrimary:{g90:"#f4f4f4",g100:"#f4f4f4",white:"#161616",g10:"#161616"},textSecondary:{g90:"#c6c6c6",g100:"#c6c6c6",white:"#525252",g10:"#525252"},layerAccent01:{white:"#e0e0e0",g10:"#e0e0e0",g90:"#525252",g100:"#393939"},gridBg:{white:"#ffffff",g10:"#ffffff",g90:"#161616",g100:"#161616"}},Zpe=["#8a3ffc","#33b1ff","#007d79","#ff7eb6","#fa4d56","#fff1f1","#6fdc8c","#4589ff","#d12771","#d2a106","#08bdba","#bae6ff","#ba4e00","#d4bbff"],ege=["#6929c4","#1192e8","#005d5d","#9f1853","#fa4d56","#570408","#198038","#002d9c","#ee538b","#b28600","#009d9a","#012749","#8a3800","#a56eff"];function d2({theme:C,background:_}){const T=["white","g10"].includes(C)?"light":"dark",I=f2.gridBg[C],q=f2.textPrimary[C],G=f2.textSecondary[C],re=T==="dark"?Zpe:ege,ie=T==="dark"?"#d4bbff":"#6929c4";return{background:_,arc:{fill:ie},area:{fill:ie},path:{stroke:ie},rect:{fill:ie},shape:{stroke:ie},symbol:{stroke:ie},circle:{fill:ie},view:{fill:I,stroke:I},group:{fill:I},title:{color:q,anchor:"start",dy:-15,fontSize:16,font:M5,fontWeight:600},axis:{labelColor:G,labelFontSize:12,labelFont:Jpe,labelFontWeight:N5,titleColor:q,titleFontWeight:600,titleFontSize:12,grid:!0,gridColor:f2.layerAccent01[C],labelAngle:0},axisX:{titlePadding:10},axisY:{titlePadding:2.5},style:{"guide-label":{font:M5,fill:G,fontWeight:N5},"guide-title":{font:M5,fill:G,fontWeight:N5}},range:{category:re,diverging:["#750e13","#a2191f","#da1e28","#fa4d56","#ff8389","#ffb3b8","#ffd7d9","#fff1f1","#e5f6ff","#bae6ff","#82cfff","#33b1ff","#1192e8","#0072c3","#00539a","#003a6d"],heatmap:["#f6f2ff","#e8daff","#d4bbff","#be95ff","#a56eff","#8a3ffc","#6929c4","#491d8b","#31135e","#1c0f30"]}}}const tge=d2({theme:"white",background:"#ffffff"}),nge=d2({theme:"g10",background:"#f4f4f4"}),rge=d2({theme:"g90",background:"#262626"}),ige=d2({theme:"g100",background:"#161616"}),oge=i2.version;var sge=Object.freeze({__proto__:null,carbong10:nge,carbong100:ige,carbong90:rge,carbonwhite:tge,dark:R5,excel:F5,fivethirtyeight:V,ggplot2:ke,googlecharts:Upe,latimes:a2,powerbi:Qpe,quartz:Mpe,urbaninstitute:jpe,version:oge,vox:Npe});function $p(C,_,T){return C.fields=_||[],C.fname=T,C}function age(C){return C.length===1?lge(C[0]):uge(C)}const lge=C=>function(_){return _[C]},uge=C=>{const _=C.length;return function(T){for(let I=0;I<_;++I)T=T[C[I]];return T}};function L5(C){throw Error(C)}function cge(C){const _=[],T=C.length;let I=null,q=0,G="",re,ie,Q;C=C+"";function ne(){_.push(G+C.substring(re,ie)),G="",re=ie+1}for(re=ie=0;ie<T;++ie)if(Q=C[ie],Q==="\\")G+=C.substring(re,ie++),re=ie;else if(Q===I)ne(),I=null,q=-1;else{if(I)continue;re===q&&Q==='"'||re===q&&Q==="'"?(re=ie+1,I=Q):Q==="."&&!q?ie>re?ne():re=ie+1:Q==="["?(ie>re&&ne(),q=re=ie+1):Q==="]"&&(q||L5("Access path missing open bracket: "+C),q>0&&ne(),q=0,re=ie+1)}return q&&L5("Access path missing closing bracket: "+C),I&&L5("Access path missing closing quote: "+C),ie>re&&(ie++,ne()),_}function fge(C,_,T){const I=cge(C);return C=I.length===1?I[0]:C,$p(age(I),[C],C)}fge("id"),$p(C=>C,[],"identity"),$p(()=>0,[],"zero"),$p(()=>1,[],"one"),$p(()=>!0,[],"true"),$p(()=>!1,[],"false");var dge=Array.isArray;function b7(C){return C===Object(C)}function hge(C){return typeof C=="string"}function pge(C,_,T,I){if(dge(C))return`[${C.map(q=>_(hge(q)?q:x7(q,T))).join(", ")}]`;if(b7(C)){let q="";const{title:G,image:re,...ie}=C;G&&(q+=`<h2>${_(G)}</h2>`),re&&(q+=`<img src="${new URL(_(re),I||location.href).href}">`);const Q=Object.keys(ie);if(Q.length>0){q+="<table>";for(const ne of Q){let ge=ie[ne];ge!==void 0&&(b7(ge)&&(ge=x7(ge,T)),q+=`<tr><td class="key">${_(ne)}</td><td class="value">${_(ge)}</td></tr>`)}q+="</table>"}return q||"{}"}return _(C)}function gge(C){const _=[];return function(T,I){if(typeof I!="object"||I===null)return I;const q=_.indexOf(this)+1;return _.length=q,_.length>C?"[Object]":_.indexOf(I)>=0?"[Circular]":(_.push(I),I)}}function x7(C,_){return JSON.stringify(C,gge(_))}var mge=`#vg-tooltip-element {
  visibility: hidden;
  padding: 8px;
  position: fixed;
  z-index: 1000;
  font-family: sans-serif;
  font-size: 11px;
  border-radius: 3px;
  box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
  /* The default theme is the light theme. */
  background-color: rgba(255, 255, 255, 0.95);
  border: 1px solid #d9d9d9;
  color: black;
}
#vg-tooltip-element.visible {
  visibility: visible;
}
#vg-tooltip-element h2 {
  margin-top: 0;
  margin-bottom: 10px;
  font-size: 13px;
}
#vg-tooltip-element table {
  border-spacing: 0;
}
#vg-tooltip-element table tr {
  border: none;
}
#vg-tooltip-element table tr td {
  overflow: hidden;
  text-overflow: ellipsis;
  padding-top: 2px;
  padding-bottom: 2px;
}
#vg-tooltip-element table tr td.key {
  color: #808080;
  max-width: 150px;
  text-align: right;
  padding-right: 4px;
}
#vg-tooltip-element table tr td.value {
  display: block;
  max-width: 300px;
  max-height: 7em;
  text-align: left;
}
#vg-tooltip-element.dark-theme {
  background-color: rgba(32, 32, 32, 0.9);
  border: 1px solid #f5f5f5;
  color: white;
}
#vg-tooltip-element.dark-theme td.key {
  color: #bfbfbf;
}
`;const w7="vg-tooltip-element",yge={offsetX:10,offsetY:10,id:w7,styleId:"vega-tooltip-style",theme:"light",disableDefaultStyle:!1,sanitize:vge,maxDepth:2,formatTooltip:pge,baseURL:""};function vge(C){return String(C).replace(/&/g,"&amp;").replace(/</g,"&lt;")}function bge(C){if(!/^[A-Za-z]+[-:.\w]*$/.test(C))throw new Error("Invalid HTML ID");return mge.toString().replace(w7,C)}function xge(C,_,T,I){let q=C.clientX+T;q+_.width>window.innerWidth&&(q=+C.clientX-T-_.width);let G=C.clientY+I;return G+_.height>window.innerHeight&&(G=+C.clientY-I-_.height),{x:q,y:G}}class wge{constructor(_){this.options={...yge,..._};const T=this.options.id;if(this.el=null,this.call=this.tooltipHandler.bind(this),!this.options.disableDefaultStyle&&!document.getElementById(this.options.styleId)){const I=document.createElement("style");I.setAttribute("id",this.options.styleId),I.innerHTML=bge(T);const q=document.head;q.childNodes.length>0?q.insertBefore(I,q.childNodes[0]):q.appendChild(I)}}tooltipHandler(_,T,I,q){if(this.el=document.getElementById(this.options.id),this.el||(this.el=document.createElement("div"),this.el.setAttribute("id",this.options.id),this.el.classList.add("vg-tooltip"),(document.fullscreenElement??document.body).appendChild(this.el)),q==null||q===""){this.el.classList.remove("visible",`${this.options.theme}-theme`);return}this.el.innerHTML=this.options.formatTooltip(q,this.options.sanitize,this.options.maxDepth,this.options.baseURL),this.el.classList.add("visible",`${this.options.theme}-theme`);const{x:G,y:re}=xge(T,this.el.getBoundingClientRect(),this.options.offsetX,this.options.offsetY);this.el.style.top=`${re}px`,this.el.style.left=`${G}px`}}function Sge(C,_,T){const I=C.open(_),q=1e4,G=250,{origin:re}=new URL(_);let ie=~~(q/G);function Q(ge){ge.source===I&&(ie=0,C.removeEventListener("message",Q,!1))}C.addEventListener("message",Q,!1);function ne(){ie<=0||(I.postMessage(T,re),setTimeout(ne,G),ie-=1)}setTimeout(ne,G)}var Cge=`.vega-embed {
  position: relative;
  display: inline-block;
  box-sizing: border-box;
}
.vega-embed.has-actions {
  padding-right: 38px;
}
.vega-embed details:not([open]) > :not(summary) {
  display: none !important;
}
.vega-embed summary {
  list-style: none;
  position: absolute;
  top: 0;
  right: 0;
  padding: 6px;
  z-index: 1000;
  background: white;
  box-shadow: 1px 1px 3px rgba(0, 0, 0, 0.1);
  color: #1b1e23;
  border: 1px solid #aaa;
  border-radius: 999px;
  opacity: 0.2;
  transition: opacity 0.4s ease-in;
  cursor: pointer;
  line-height: 0px;
}
.vega-embed summary::-webkit-details-marker {
  display: none;
}
.vega-embed summary:active {
  box-shadow: #aaa 0px 0px 0px 1px inset;
}
.vega-embed summary svg {
  width: 14px;
  height: 14px;
}
.vega-embed details[open] summary {
  opacity: 0.7;
}
.vega-embed:hover summary, .vega-embed:focus-within summary {
  opacity: 1 !important;
  transition: opacity 0.2s ease;
}
.vega-embed .vega-actions {
  position: absolute;
  z-index: 1001;
  top: 35px;
  right: -9px;
  display: flex;
  flex-direction: column;
  padding-bottom: 8px;
  padding-top: 8px;
  border-radius: 4px;
  box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.2);
  border: 1px solid #d9d9d9;
  background: white;
  animation-duration: 0.15s;
  animation-name: scale-in;
  animation-timing-function: cubic-bezier(0.2, 0, 0.13, 1.5);
  text-align: left;
}
.vega-embed .vega-actions a {
  padding: 8px 16px;
  font-family: sans-serif;
  font-size: 14px;
  font-weight: 600;
  white-space: nowrap;
  color: #434a56;
  text-decoration: none;
}
.vega-embed .vega-actions a:hover, .vega-embed .vega-actions a:focus {
  background-color: #f7f7f9;
  color: black;
}
.vega-embed .vega-actions::before, .vega-embed .vega-actions::after {
  content: "";
  display: inline-block;
  position: absolute;
}
.vega-embed .vega-actions::before {
  left: auto;
  right: 14px;
  top: -16px;
  border: 8px solid rgba(0, 0, 0, 0);
  border-bottom-color: #d9d9d9;
}
.vega-embed .vega-actions::after {
  left: auto;
  right: 15px;
  top: -14px;
  border: 7px solid rgba(0, 0, 0, 0);
  border-bottom-color: #fff;
}
.vega-embed .chart-wrapper.fit-x {
  width: 100%;
}
.vega-embed .chart-wrapper.fit-y {
  height: 100%;
}

.vega-embed-wrapper {
  max-width: 100%;
  overflow: auto;
  padding-right: 14px;
}

@keyframes scale-in {
  from {
    opacity: 0;
    transform: scale(0.6);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}
`;function Ege(C){return C.startsWith("http://")||C.startsWith("https://")||C.startsWith("//")}function S7(C,..._){for(const T of _)kge(C,T);return C}function kge(C,_){for(const T of Object.keys(_))r.writeConfig(C,T,_[T],!0)}var _ge="vega-embed",$ge="6.26.0",Age="Publish Vega visualizations as embedded web components.",Tge=["vega","data","visualization","component","embed"],Rge={type:"git",url:"http://github.com/vega/vega-embed.git"},Fge={name:"UW Interactive Data Lab",url:"http://idl.cs.washington.edu"},Oge=[{name:"Dominik Moritz",url:"https://www.domoritz.de"}],Pge={url:"https://github.com/vega/vega-embed/issues"},Dge="https://github.com/vega/vega-embed#readme",Mge="BSD-3-Clause",Nge="build/vega-embed.js",Lge="build/vega-embed.module.js",Ige="build/vega-embed.min.js",zge="build/vega-embed.min.js",Bge="build/vega-embed.module.d.ts",jge=["src","build"],Uge={".":{import:{types:"./build/vega-embed.module.d.ts",default:"./build/vega-embed.module.js"},require:{default:"./build/vega-embed.js"}}},Vge={"@babel/core":"^7.24.7","@babel/eslint-parser":"^7.24.7","@babel/plugin-transform-runtime":"^7.24.7","@babel/preset-env":"^7.24.7","@babel/preset-typescript":"^7.24.7","@release-it/conventional-changelog":"^8.0.1","@rollup/plugin-commonjs":"26.0.1","@rollup/plugin-json":"^6.1.0","@rollup/plugin-node-resolve":"^15.2.3","@rollup/plugin-terser":"^0.4.4","@types/semver":"^7.5.8","@typescript-eslint/parser":"^7.15.0","@vitest/coverage-v8":"^1.6.0","browser-sync":"^3.0.2",concurrently:"^8.2.2","del-cli":"^5.1.0",eslint:"^9.6.0","eslint-config-prettier":"^9.1.0","eslint-plugin-prettier":"^5.1.3","eslint-plugin-vitest":"^0.5.4",jsdom:"^24.1.0","postinstall-postinstall":"^2.1.0",prettier:"^3.3.2","release-it":"^17.4.1",rollup:"4.18.0","rollup-plugin-bundle-size":"^1.0.3","rollup-plugin-ts":"^3.4.5",sass:"^1.77.6",typescript:"^5.5.3","typescript-eslint":"^7.15.0",vega:"^5.30.0","vega-lite":"^5.19.0",vitest:"^1.6.0","vitest-canvas-mock":"^0.3.3"},Wge={vega:"^5.21.0","vega-lite":"*"},Hge={"fast-json-patch":"^3.1.1","json-stringify-pretty-compact":"^3.0.0",semver:"^7.6.2",tslib:"^2.6.3","vega-interpreter":"^1.0.5","vega-schema-url-parser":"^2.2.0","vega-themes":"^2.15.0","vega-tooltip":"^0.34.0"},qge={prebuild:"yarn clean && yarn build:style",build:"rollup -c","build:style":"./build-style.sh",clean:"del-cli build src/style.ts",prepublishOnly:"yarn clean && yarn build",preversion:"yarn lint && yarn test",serve:"browser-sync start --directory -s -f build *.html",start:"yarn build && concurrently --kill-others -n Server,Rollup 'yarn serve' 'rollup -c -w'",pretest:"yarn build:style",test:"vitest run",prettierbase:"prettier '*.{css,scss,html}'",format:"eslint . --fix && yarn prettierbase --write",lint:"eslint . && yarn prettierbase --check",release:"release-it"},Gge={name:_ge,version:$ge,description:Age,keywords:Tge,repository:Rge,author:Fge,contributors:Oge,bugs:Pge,homepage:Dge,license:Mge,main:Nge,module:Lge,unpkg:Ige,jsdelivr:zge,types:Bge,files:jge,exports:Uge,devDependencies:Vge,peerDependencies:Wge,dependencies:Hge,scripts:qge};const Xge=Gge.version,Ms=s;let rd=a;const h2=typeof window<"u"?window:void 0;rd===void 0&&((A7=h2==null?void 0:h2.vl)!=null&&A7.compile)&&(rd=h2.vl);const Yge={export:{svg:!0,png:!0},source:!0,compiled:!0,editor:!0},Kge={CLICK_TO_VIEW_ACTIONS:"Click to view actions",COMPILED_ACTION:"View Compiled Vega",EDITOR_ACTION:"Open in Vega Editor",PNG_ACTION:"Save as PNG",SOURCE_ACTION:"View Source",SVG_ACTION:"Save as SVG"},uy={vega:"Vega","vega-lite":"Vega-Lite"},p2={vega:Ms.version,"vega-lite":rd?rd.version:"not available"},Qge={vega:C=>C,"vega-lite":(C,_)=>rd.compile(C,{config:_}).spec},Jge=`
<svg viewBox="0 0 16 16" fill="currentColor" stroke="none" stroke-width="1" stroke-linecap="round" stroke-linejoin="round">
  <circle r="2" cy="8" cx="2"></circle>
  <circle r="2" cy="8" cx="8"></circle>
  <circle r="2" cy="8" cx="14"></circle>
</svg>`,Zge="chart-wrapper";function eme(C){return typeof C=="function"}function C7(C,_,T,I){const q=`<html><head>${_}</head><body><pre><code class="json">`,G=`</code></pre>${T}</body></html>`,re=window.open("");re.document.write(q+C+G),re.document.title=`${uy[I]} JSON Source`}function tme(C,_){if(C.$schema){const T=Z0(C.$schema);_&&_!==T.library&&console.warn(`The given visualization spec is written in ${uy[T.library]}, but mode argument sets ${uy[_]??_}.`);const I=T.library;return t2(p2[I],`^${T.version.slice(1)}`)||console.warn(`The input spec uses ${uy[I]} ${T.version}, but the current version of ${uy[I]} is v${p2[I]}.`),I}return"mark"in C||"encoding"in C||"layer"in C||"hconcat"in C||"vconcat"in C||"facet"in C||"repeat"in C?"vega-lite":"marks"in C||"signals"in C||"scales"in C||"axes"in C?"vega":_??"vega"}function E7(C){return!!(C&&"load"in C)}function k7(C){return E7(C)?C:Ms.loader(C)}function nme(C){var T;const _=((T=C.usermeta)==null?void 0:T.embedOptions)??{};return r.isString(_.defaultStyle)&&(_.defaultStyle=!1),_}async function g2(C,_,T={}){let I,q;r.isString(_)?(q=k7(T.loader),I=JSON.parse(await q.load(_))):I=_;const G=nme(I),re=G.loader;(!q||re)&&(q=k7(T.loader??re));const ie=await _7(G,q),Q=await _7(T,q),ne={...S7(Q,ie),config:r.mergeConfig(Q.config??{},ie.config??{})};return await ime(C,I,ne,q)}async function _7(C,_){const T=r.isString(C.config)?JSON.parse(await _.load(C.config)):C.config??{},I=r.isString(C.patch)?JSON.parse(await _.load(C.patch)):C.patch;return{...C,...I?{patch:I}:{},...T?{config:T}:{}}}function rme(C){const _=C.getRootNode?C.getRootNode():document;return _ instanceof ShadowRoot?{root:_,rootContainer:_}:{root:document,rootContainer:document.head??document.body}}async function ime(C,_,T={},I){const q=T.theme?r.mergeConfig(sge[T.theme],T.config??{}):T.config,G=r.isBoolean(T.actions)?T.actions:S7({},Yge,T.actions??{}),re={...Kge,...T.i18n},ie=T.renderer??"canvas",Q=T.logLevel??Ms.Warn,ne=T.downloadFileName??"visualization",ge=typeof C=="string"?document.querySelector(C):C;if(!ge)throw new Error(`${C} does not exist`);if(T.defaultStyle!==!1){const _t="vega-embed-style",{root:Kt,rootContainer:at}=rme(ge);if(!Kt.getElementById(_t)){const Nn=document.createElement("style");Nn.id=_t,Nn.innerHTML=T.defaultStyle===void 0||T.defaultStyle===!0?Cge.toString():T.defaultStyle,at.appendChild(Nn)}}const Oe=tme(_,T.mode);let kt=Qge[Oe](_,q);if(Oe==="vega-lite"&&kt.$schema){const _t=Z0(kt.$schema);t2(p2.vega,`^${_t.version.slice(1)}`)||console.warn(`The compiled spec uses Vega ${_t.version}, but current version is v${p2.vega}.`)}ge.classList.add("vega-embed"),G&&ge.classList.add("has-actions"),ge.innerHTML="";let ct=ge;if(G){const _t=document.createElement("div");_t.classList.add(Zge),ge.appendChild(_t),ct=_t}const Re=T.patch;if(Re&&(kt=Re instanceof Function?Re(kt):$(kt,Re,!0,!1).newDocument),T.formatLocale&&Ms.formatLocale(T.formatLocale),T.timeFormatLocale&&Ms.timeFormatLocale(T.timeFormatLocale),T.expressionFunctions)for(const _t in T.expressionFunctions){const Kt=T.expressionFunctions[_t];"fn"in Kt?Ms.expressionFunction(_t,Kt.fn,Kt.visitor):Kt instanceof Function&&Ms.expressionFunction(_t,Kt)}const{ast:di}=T,fn=Ms.parse(kt,Oe==="vega-lite"?{}:q,{ast:di}),yn=new(T.viewClass||Ms.View)(fn,{loader:I,logLevel:Q,renderer:ie,...di?{expr:Ms.expressionInterpreter??T.expr??b5}:{}});if(yn.addSignalListener("autosize",(_t,Kt)=>{const{type:at}=Kt;at=="fit-x"?(ct.classList.add("fit-x"),ct.classList.remove("fit-y")):at=="fit-y"?(ct.classList.remove("fit-x"),ct.classList.add("fit-y")):at=="fit"?ct.classList.add("fit-x","fit-y"):ct.classList.remove("fit-x","fit-y")}),T.tooltip!==!1){const{loader:_t,tooltip:Kt}=T,at=_t&&!E7(_t)?_t==null?void 0:_t.baseURL:void 0,Nn=eme(Kt)?Kt:new wge({baseURL:at,...Kt===!0?{}:Kt}).call;yn.tooltip(Nn)}let{hover:Yt}=T;if(Yt===void 0&&(Yt=Oe==="vega"),Yt){const{hoverSet:_t,updateSet:Kt}=typeof Yt=="boolean"?{}:Yt;yn.hover(_t,Kt)}T&&(T.width!=null&&yn.width(T.width),T.height!=null&&yn.height(T.height),T.padding!=null&&yn.padding(T.padding)),await yn.initialize(ct,T.bind).runAsync();let jr;if(G!==!1){let _t=ge;if(T.defaultStyle!==!1||T.forceActionsMenu){const at=document.createElement("details");at.title=re.CLICK_TO_VIEW_ACTIONS,ge.append(at),_t=at;const Nn=document.createElement("summary");Nn.innerHTML=Jge,at.append(Nn),jr=Xo=>{at.contains(Xo.target)||at.removeAttribute("open")},document.addEventListener("click",jr)}const Kt=document.createElement("div");if(_t.append(Kt),Kt.classList.add("vega-actions"),G===!0||G.export!==!1){for(const at of["svg","png"])if(G===!0||G.export===!0||G.export[at]){const Nn=re[`${at.toUpperCase()}_ACTION`],Xo=document.createElement("a"),I5=r.isObject(T.scaleFactor)?T.scaleFactor[at]:T.scaleFactor;Xo.text=Nn,Xo.href="#",Xo.target="_blank",Xo.download=`${ne}.${at}`,Xo.addEventListener("mousedown",async function(z5){z5.preventDefault();const B5=await yn.toImageURL(at,I5);this.href=B5}),Kt.append(Xo)}}if(G===!0||G.source!==!1){const at=document.createElement("a");at.text=re.SOURCE_ACTION,at.href="#",at.addEventListener("click",function(Nn){C7(Ne(_),T.sourceHeader??"",T.sourceFooter??"",Oe),Nn.preventDefault()}),Kt.append(at)}if(Oe==="vega-lite"&&(G===!0||G.compiled!==!1)){const at=document.createElement("a");at.text=re.COMPILED_ACTION,at.href="#",at.addEventListener("click",function(Nn){C7(Ne(kt),T.sourceHeader??"",T.sourceFooter??"","vega"),Nn.preventDefault()}),Kt.append(at)}if(G===!0||G.editor!==!1){const at=T.editorUrl??"https://vega.github.io/editor/",Nn=document.createElement("a");Nn.text=re.EDITOR_ACTION,Nn.href="#",Nn.addEventListener("click",function(Xo){Sge(window,at,{config:q,mode:Re?"vega":Oe,renderer:ie,spec:Ne(Re?kt:_)}),Xo.preventDefault()}),Kt.append(Nn)}}function Ns(){jr&&document.removeEventListener("click",jr),yn.finalize()}return{view:yn,spec:_,vgSpec:kt,finalize:Ns,embedOptions:T}}async function $7(C,_={}){const T=document.createElement("div");T.classList.add("vega-embed-wrapper");const I=document.createElement("div");T.appendChild(I);const q=_.actions===!0||_.actions===!1?_.actions:{export:!0,source:!1,compiled:!0,editor:!0,..._.actions},G=await g2(I,C,{actions:q,..._});return T.value=G.view,T}function ome(C){return C instanceof HTMLElement}const ic=(...C)=>C.length>1&&(r.isString(C[0])&&!Ege(C[0])||ome(C[0])||C.length===3)?g2(C[0],C[1],C[2]):$7(C[0],C[1]);return ic.vegaLite=rd,ic.vl=rd,ic.container=$7,ic.embed=g2,ic.vega=Ms,ic.default=g2,ic.version=Xge,ic})})(spe);var ape=spe.exports,X9={};X9.__esModule=!0;X9.default=Kut;function Kut(e){return!!e&&{}.toString.call(e)==="[object Function]"}G9.__esModule=!0;G9.default=ect;var Qut=ape,Jut=Zut(X9);function Zut(e){return e&&e.__esModule?e:{default:e}}function ect(e,t,n){n&&((0,Jut.default)(n)?n(e.data(t)):e.change(t,Qut.vega.changeset().remove(()=>!0).insert(n)))}q9.__esModule=!0;q9.default=rct;var tct=nct(G9);function nct(e){return e&&e.__esModule?e:{default:e}}function rct(e,t){Object.keys(t).forEach(n=>{(0,tct.default)(e,n,t[n])})}var BA={},jA={};jA.__esModule=!0;jA.default=ict;function ict(e){const t=new Set;return e.forEach(n=>{Object.keys(n).forEach(r=>{t.add(r)})}),t}var Gx={};Gx.__esModule=!0;Gx.NOOP=void 0;const oct=()=>{};Gx.NOOP=oct;var Y9={};Y9.__esModule=!0;Y9.default=sct;function sct(e,t){const n=Object.keys(t);return n.forEach(r=>{try{e.addSignalListener(r,t[r])}catch(i){console.warn("Cannot add invalid signal listener.",i)}}),n.length>0}var K9={},act=function e(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var r,i,o;if(Array.isArray(t)){if(r=t.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(o=Object.keys(t),r=o.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,o[i]))return!1;for(i=r;i--!==0;){var s=o[i];if(!e(t[s],n[s]))return!1}return!0}return t!==t&&n!==n};K9.__esModule=!0;K9.default=cct;var lct=lpe(act),uct=lpe(jA);function lpe(e){return e&&e.__esModule?e:{default:e}}function cct(e,t){if(e===t)return!1;const n={width:!1,height:!1,isExpensive:!1},r=(0,uct.default)([e,t]);return r.has("width")&&(!("width"in e)||!("width"in t)||e.width!==t.width)&&("width"in e&&typeof e.width=="number"?n.width=e.width:n.isExpensive=!0),r.has("height")&&(!("height"in e)||!("height"in t)||e.height!==t.height)&&("height"in e&&typeof e.height=="number"?n.height=e.height:n.isExpensive=!0),r.delete("width"),r.delete("height"),[...r].some(i=>!(i in e)||!(i in t)||!(0,lct.default)(e[i],t[i]))&&(n.isExpensive=!0),n.width!==!1||n.height!==!1||n.isExpensive?n:!1}var Q9={};Q9.__esModule=!0;Q9.default=fct;function fct(e,t){const n=Object.keys(t);return n.forEach(r=>{try{e.removeSignalListener(r,t[r])}catch(i){console.warn("Cannot remove invalid signal listener.",i)}}),n.length>0}var J9={};J9.__esModule=!0;J9.default=dct;function dct(e){const{spec:t,width:n,height:r}=e;return typeof n<"u"&&typeof r<"u"?{...t,width:n,height:r}:typeof n<"u"?{...t,width:n}:typeof r<"u"?{...t,height:r}:t}BA.__esModule=!0;BA.default=void 0;var wX=Xu(lhe),P4=Xu(M),hct=Xu(ape),SX=Xu(zA),pct=Xu(jA),gct=Gx,D4=Xu(Y9),mct=Xu(K9),CX=Xu(Q9),M4=Xu(J9);function Xu(e){return e&&e.__esModule?e:{default:e}}function L1(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class upe extends P4.default.PureComponent{constructor(){super(...arguments),L1(this,"containerRef",P4.default.createRef()),L1(this,"resultPromise",void 0),L1(this,"handleError",t=>{const{onError:n=gct.NOOP}=this.props;n(t,this.containerRef.current),console.warn(t)}),L1(this,"modifyView",t=>{this.resultPromise&&this.resultPromise.then(n=>(n&&t(n.view),!0)).catch(this.handleError)})}componentDidMount(){this.createView()}componentDidUpdate(t){const n=(0,pct.default)([this.props,t]);if(n.delete("className"),n.delete("signalListeners"),n.delete("spec"),n.delete("style"),n.delete("width"),n.delete("height"),Array.from(n).some(r=>this.props[r]!==t[r]))this.clearView(),this.createView();else{const r=(0,mct.default)((0,M4.default)(this.props),(0,M4.default)(t)),{signalListeners:i}=this.props,{signalListeners:o}=t;if(r)if(r.isExpensive)this.clearView(),this.createView();else{const s=!(0,SX.default)(i,o);this.modifyView(a=>{r.width!==!1&&a.width(r.width),r.height!==!1&&a.height(r.height),s&&(o&&(0,CX.default)(a,o),i&&(0,D4.default)(a,i)),a.run()})}else(0,SX.default)(i,o)||this.modifyView(s=>{o&&(0,CX.default)(s,o),i&&(0,D4.default)(s,i),s.run()})}}componentWillUnmount(){this.clearView()}createView(){const{spec:t,onNewView:n,signalListeners:r={},width:i,height:o,...s}=this.props;if(this.containerRef.current){const a=(0,M4.default)(this.props);this.resultPromise=(0,hct.default)(this.containerRef.current,a,s).then(l=>{if(l){const{view:u}=l;(0,D4.default)(u,r)&&u.run()}return l}).catch(this.handleError),n&&this.modifyView(n)}}clearView(){return this.resultPromise&&this.resultPromise.then(t=>{t&&t.finalize()}).catch(this.handleError),this.resultPromise=void 0,this}render(){const{className:t,style:n}=this.props;return P4.default.createElement("div",{ref:this.containerRef,className:t,style:n})}}BA.default=upe;L1(upe,"propTypes",{className:wX.default.string,onError:wX.default.func});IA.__esModule=!0;IA.default=void 0;Xx(lhe);var N4=Xx(M),yct=Xx(zA),vct=Xx(q9),bct=Xx(BA),xct=Gx;function Xx(e){return e&&e.__esModule?e:{default:e}}function ZP(){return ZP=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ZP.apply(this,arguments)}function e6(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const wct={};class cpe extends N4.default.PureComponent{constructor(){super(...arguments),e6(this,"vegaEmbed",N4.default.createRef()),e6(this,"handleNewView",t=>{this.update();const{onNewView:n=xct.NOOP}=this.props;n(t)})}componentDidMount(){this.update()}componentDidUpdate(t){(0,yct.default)(this.props.data,t.data)||this.update()}update(){const{data:t}=this.props;this.vegaEmbed.current&&t&&Object.keys(t).length>0&&this.vegaEmbed.current.modifyView(n=>{(0,vct.default)(n,t),n.resize().run()})}render(){const{data:t,...n}=this.props;return N4.default.createElement(bct.default,ZP({ref:this.vegaEmbed},n,{onNewView:this.handleNewView}))}}IA.default=cpe;e6(cpe,"defaultProps",{data:wct});var Sct=kct,Cct=fpe(M),Ect=fpe(IA);function fpe(e){return e&&e.__esModule?e:{default:e}}function t6(){return t6=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},t6.apply(this,arguments)}function kct(e){return Cct.default.createElement(Ect.default,t6({},e,{mode:"vega-lite"}))}const EX=new Map;function _ct({spec:e,theme:t,...n}){const{i18n:r}=Os(),i=JSON.stringify({spec:e,theme:t,locale:r.language}),o=EX.get(i);return o?R.jsx("img",{src:o,alt:"cached"}):R.jsx(Sct,{spec:e,theme:t,actions:!1,renderer:"canvas",onNewView:s=>{s.toImageURL("svg").then(a=>{EX.set(i,a)})},...n})}const $ct=e=>R.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",role:"img",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",...e,children:R.jsx("path",{fill:"currentColor",d:"M1 8.99836C1 5.35802 3.3947 2 7.43 2C9.30819 2 10.7026 2.8047 11.75 4.01046C12.7974 2.8047 14.1918 2 16.07 2C20.1053 2 22.5 5.35802 22.5 8.99836C22.5 9.46105 22.4685 9.91191 22.408 10.3511C22.3483 10.7843 22.231 11.2599 22.0514 11.7668C21.3153 11.6779 20.5472 11.9159 19.9822 12.4809L16.25 16.2131L16.0178 15.9809C15.0415 15.0045 13.4585 15.0045 12.4822 15.9809C11.5059 16.9572 11.5059 18.5401 12.4822 19.5164L13.5921 20.6262C13.2689 20.808 12.9356 20.9867 12.5922 21.1621C12.4224 21.2496 12.2535 21.3354 12.0855 21.4194C11.8743 21.525 11.6257 21.525 11.4145 21.4194C9.06793 20.2456 6.48346 18.718 4.47892 16.7123C2.46481 14.697 1 12.16 1 8.99836ZM22.4571 14.9557C22.8476 14.5652 22.8476 13.932 22.4571 13.5415C22.0666 13.151 21.4334 13.151 21.0429 13.5415L16.25 18.3344L14.9571 17.0415C14.5666 16.651 13.9334 16.651 13.5429 17.0415C13.1524 17.432 13.1524 18.0652 13.5429 18.4557L15.5429 20.4557C15.7304 20.6433 15.9848 20.7486 16.25 20.7486C16.5152 20.7486 16.7696 20.6433 16.9571 20.4557L22.4571 14.9557Z"})});function Act({chart:e,...t}){const{mobile:n,chartTheme:r,chartWidth:i,chartHeight:o}=ji(),{i18n:s}=Os(),a=kf(E=>E.data),l=Ft(E=>E.setChartPreferred),u=Ft(E=>E.setChartTimeUnit),c=e.fields.find(E=>E.type==="datetime"),f=c==null?void 0:c.metadata,h=(f&&f.type==="datetime"?[f.yearUnique,f.monthUnique,f.dayUnique,f.hoursUnique]:[]).reduce((E,S,k,$)=>S>$[E]?k:E,0),p=["year","month","day","hours"].filter(E=>((f==null?void 0:f[`${E}Unique`])??0)>1),[g,m]=M.useState(()=>{if(p.length!==0)return p[h]}),y=M.useMemo(()=>({[hle]:a}),[a]),v=M.useMemo(()=>{let E=AVe(e.spec,i,o);return c&&g&&(u(e.key,g),E=OVe(E,g,c)),s.language==="ko"?EVe(E):E},[e.spec,e.key,i,o,c,g,u,s.language]),b=e.preferred,x=()=>{e.key&&l(e.key,!b)},w=Zlt(x);return R.jsxs(fa,{flexDir:"column",...w,...t,children:[R.jsxs(hh,{children:[R.jsx(ipe,{chart:e,textAlign:"center",fontSize:"lg"}),R.jsx(_ct,{width:i,height:o,spec:v,data:y,theme:r,actions:!1,logLevel:Ik})]}),g&&R.jsx(A9,{gap:0,w:"full",my:4,spacing:0,children:p.map((E,S)=>R.jsx(ms,{borderLeftRadius:S===0?"lg":0,borderLeft:S===0?"lg":0,borderRightRadius:S===p.length-1?"lg":0,variant:g===E?"solid":"outline",m:0,colorScheme:Qn,size:"md",onClick:()=>m(E),w:"full",children:E.charAt(0).toUpperCase()+E.slice(1)},`temporal-select-${E}`))}),n&&R.jsxs(R.Fragment,{children:[R.jsx(TA,{}),R.jsx(gn,{justifyContent:"flex-end",w:"full",children:R.jsx(Uh,{variant:"ghost",icon:R.jsx(Pt,{as:b?$ct:Qhe,boxSize:10}),py:8,size:"lg","aria-label":"Bookmark current chart",onClick:x,"data-log-click":"prefer-chart",colorScheme:b?"red":"gray"})})]})]})}const Tct=M.memo(Act);function Rct(e){const{sessionInitialized:t,chartDisplaying:n,currentChartPreferred:r,handleNextChart:i,handlePrevChart:o,handlePreferChart:s}=Qlt(),{t:a}=Os();return R.jsxs(A9,{...e,children:[R.jsx(ms,{py:8,size:"lg",w:"full","aria-label":"Previous chart",onClick:o,"data-log-click":"prev-chart",isDisabled:!t||!n,variant:"ghost",children:R.jsxs(hh,{spacing:2,children:[R.jsx(Pt,{as:Eut,boxSize:6}),R.jsx(er,{fontSize:"sm",children:a("navigator.prev")})]})}),R.jsx(ms,{py:8,size:"lg",w:"full","aria-label":"Next chart",onClick:i,"data-log-click":"next-chart",isDisabled:!t,variant:"ghost",children:R.jsxs(hh,{spacing:2,children:[R.jsx(Pt,{as:Khe,boxSize:6}),R.jsx(er,{fontSize:"sm",children:a("navigator.next")})]})}),R.jsx(ms,{py:8,size:"lg",w:"full","aria-label":"Bookmark current chart",onClick:s,"data-log-click":"prefer-chart",colorScheme:r?"red":"gray",isDisabled:!t||!n,variant:r?"solid":"ghost",children:R.jsxs(hh,{spacing:2,children:[R.jsx(Pt,{as:r?W9:Qhe,boxSize:6}),R.jsx(er,{fontSize:"sm",children:a("bookmarks.action")})]})})]})}zb(".3~s");function Fct({selected:e,field:t,...n}){const{name:r}=t;return R.jsxs(Che,{gap:2,p:2,borderRadius:"full",colorScheme:Qn,...n,children:[R.jsx(Pt,{as:e?kut:$ut,boxSize:5}),R.jsx(Ehe,{fontSize:n.size,children:r})]})}function Oct(e){const{loading:t}=Hhe(),{loadingData:n,fileInputRef:r,pathInput:i,inputDisabled:o,handleFileButtonClick:s,handleFileChange:a,handleInputChange:l,handleSubmit:u}=eut();return R.jsxs(gn,{as:rhe,...e,children:[R.jsxs(uhe,{size:"md",children:[R.jsx(xk,{placeholder:"https://...",onChange:l,value:i,borderRightRadius:0,_focusVisible:{borderColor:Qn}}),R.jsxs(T9,{children:[R.jsx(xk,{type:"file",display:"none",ref:r,onChange:a,"data-log-change":"file-attachment",accept:".csv,.json"}),R.jsx(Uh,{size:"md","aria-label":"Select File",icon:R.jsx(Pt,{as:Tut}),variant:"link",onClick:s,"data-log-click":"file-attachment"})]})]}),R.jsx(Uh,{size:"md",borderLeftRadius:0,colorScheme:Qn,type:"submit",isLoading:n||t,icon:R.jsx(Pt,{as:Zhe}),"aria-label":"Load Data",isDisabled:o,"data-log-click":"submit-data",onClick:u,children:o?"Please Input Data":"Load Data"})]})}function dpe(e){const{t}=Os();return R.jsxs(fa,{flexDir:"column",p:2,...e,children:[R.jsxs(fa,{gap:2,mb:4,children:[R.jsx(Pt,{as:epe,boxSize:12}),R.jsx(h0,{fontSize:40,children:"Swipytics"})]}),R.jsx(er,{textColor:"gray",textAlign:"center",fontSize:"sm",children:t("home.description")}),R.jsxs(hh,{w:"full",color:"gray",gap:1,mt:8,p:0,children:[R.jsxs(gn,{gap:1,children:[R.jsx(er,{fontSize:"xs",textAlign:"center",children:"Swipytics @ 2024"}),R.jsx(WS,{href:"https://jiwnchoi.me",isExternal:!0,children:R.jsx(er,{fontSize:"xs",textAlign:"center",textDecoration:"underline",children:"Jiwon Choi"})}),R.jsx(er,{fontSize:"xs",textAlign:"center",children:"All rights reserved."})]}),R.jsxs(gn,{gap:4,children:[R.jsx(WS,{href:"https://github.com/jiwnchoi/Swipytics",isExternal:!0,children:R.jsx(ms,{leftIcon:R.jsx(Pt,{as:Rut}),size:"xs",variant:"link",color:"gray",children:"GitHub"})}),R.jsx(WS,{href:"https://idclab.skku.edu",isExternal:!0,children:R.jsxs(ms,{variant:"link",size:"xs",leftIcon:R.jsx(Pt,{as:Fut}),color:"gray",children:[R.jsx(er,{fontFamily:"Rajdhani",fontWeight:600,fontSize:"sm",children:"IDC"}),R.jsx(er,{fontFamily:"Rajdhani",fontWeight:500,fontSize:"sm",children:"Lab"})]})})]})]})]})}function Pct(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var hpe=Pct,Dct=typeof Qi=="object"&&Qi&&Qi.Object===Object&&Qi,Mct=Dct,Nct=Mct,Lct=typeof self=="object"&&self&&self.Object===Object&&self,Ict=Nct||Lct||Function("return this")(),ppe=Ict,zct=ppe,Bct=function(){return zct.Date.now()},jct=Bct,Uct=/\s/;function Vct(e){for(var t=e.length;t--&&Uct.test(e.charAt(t)););return t}var Wct=Vct,Hct=Wct,qct=/^\s+/;function Gct(e){return e&&e.slice(0,Hct(e)+1).replace(qct,"")}var Xct=Gct,Yct=ppe,Kct=Yct.Symbol,gpe=Kct,kX=gpe,mpe=Object.prototype,Qct=mpe.hasOwnProperty,Jct=mpe.toString,Qy=kX?kX.toStringTag:void 0;function Zct(e){var t=Qct.call(e,Qy),n=e[Qy];try{e[Qy]=void 0;var r=!0}catch{}var i=Jct.call(e);return r&&(t?e[Qy]=n:delete e[Qy]),i}var eft=Zct,tft=Object.prototype,nft=tft.toString;function rft(e){return nft.call(e)}var ift=rft,_X=gpe,oft=eft,sft=ift,aft="[object Null]",lft="[object Undefined]",$X=_X?_X.toStringTag:void 0;function uft(e){return e==null?e===void 0?lft:aft:$X&&$X in Object(e)?oft(e):sft(e)}var cft=uft;function fft(e){return e!=null&&typeof e=="object"}var dft=fft,hft=cft,pft=dft,gft="[object Symbol]";function mft(e){return typeof e=="symbol"||pft(e)&&hft(e)==gft}var yft=mft,vft=Xct,AX=hpe,bft=yft,TX=NaN,xft=/^[-+]0x[0-9a-f]+$/i,wft=/^0b[01]+$/i,Sft=/^0o[0-7]+$/i,Cft=parseInt;function Eft(e){if(typeof e=="number")return e;if(bft(e))return TX;if(AX(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=AX(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=vft(e);var n=wft.test(e);return n||Sft.test(e)?Cft(e.slice(2),n?2:8):xft.test(e)?TX:+e}var kft=Eft,_ft=hpe,L4=jct,RX=kft,$ft="Expected a function",Aft=Math.max,Tft=Math.min;function Rft(e,t,n){var r,i,o,s,a,l,u=0,c=!1,f=!1,d=!0;if(typeof e!="function")throw new TypeError($ft);t=RX(t)||0,_ft(n)&&(c=!!n.leading,f="maxWait"in n,o=f?Aft(RX(n.maxWait)||0,t):o,d="trailing"in n?!!n.trailing:d);function h(E){var S=r,k=i;return r=i=void 0,u=E,s=e.apply(k,S),s}function p(E){return u=E,a=setTimeout(y,t),c?h(E):s}function g(E){var S=E-l,k=E-u,$=t-S;return f?Tft($,o-k):$}function m(E){var S=E-l,k=E-u;return l===void 0||S>=t||S<0||f&&k>=o}function y(){var E=L4();if(m(E))return v(E);a=setTimeout(y,g(E))}function v(E){return a=void 0,d&&r?h(E):(r=i=void 0,s)}function b(){a!==void 0&&clearTimeout(a),u=0,r=l=i=a=void 0}function x(){return a===void 0?s:v(L4())}function w(){var E=L4(),S=m(E);if(r=arguments,i=this,l=E,S){if(a===void 0)return p(l);if(f)return clearTimeout(a),a=setTimeout(y,t),h(l)}return a===void 0&&(a=setTimeout(y,t)),s}return w.cancel=b,w.flush=x,w}var Fft=Rft;const Oft=qh(Fft);function Ak(){return Ak=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ak.apply(this,arguments)}var Pft=[],FX={width:0,height:0,top:0,left:0};function Dft(e){var t=e===void 0?{}:e,n=t.initialSize,r=n===void 0?FX:n,i=t.debounceTime,o=i===void 0?300:i,s=t.ignoreDimensions,a=s===void 0?Pft:s,l=t.enableDebounceLeadingCall,u=l===void 0?!0:l,c=t.resizeObserverPolyfill,f=M.useRef(null),d=M.useRef(0),h=M.useState(Ak({},FX,r)),p=h[0],g=h[1],m=M.useMemo(function(){var y=Array.isArray(a)?a:[a];return Oft(function(v){g(function(b){var x=Object.keys(b),w=x.filter(function(S){return b[S]!==v[S]}),E=w.every(function(S){return y.includes(S)});return E?b:v})},o,{leading:u})},[o,u,a]);return M.useEffect(function(){var y=c||window.ResizeObserver,v=new y(function(b){b.forEach(function(x){var w,E=(w=x==null?void 0:x.contentRect)!=null?w:{},S=E.left,k=E.top,$=E.width,F=E.height;d.current=window.requestAnimationFrame(function(){m({width:$,height:F,top:k,left:S})})})});return f.current&&v.observe(f.current),function(){window.cancelAnimationFrame(d.current),v.disconnect(),m.cancel()}},[m,c]),Ak({parentRef:f,resize:m},p)}function Mft(e,t){t.domain&&("nice"in e||"quantiles"in e||"padding"in e,e.domain(t.domain))}function Nft(e,t){t.range&&("padding"in e,e.range(t.range))}function Lft(e,t){"align"in e&&"align"in t&&typeof t.align<"u"&&e.align(t.align)}function Ift(e,t){"base"in e&&"base"in t&&typeof t.base<"u"&&e.base(t.base)}function zft(e,t){"clamp"in e&&"clamp"in t&&typeof t.clamp<"u"&&e.clamp(t.clamp)}function Bft(e,t){"constant"in e&&"constant"in t&&typeof t.constant<"u"&&e.constant(t.constant)}function jft(e,t){"exponent"in e&&"exponent"in t&&typeof t.exponent<"u"&&e.exponent(t.exponent)}var OX={lab:OZ,hcl:DZ,"hcl-long":MZ,hsl:RZ,"hsl-long":FZ,cubehelix:LZ,"cubehelix-long":IZ,rgb:vC};function Uft(e){switch(e){case"lab":case"hcl":case"hcl-long":case"hsl":case"hsl-long":case"cubehelix":case"cubehelix-long":case"rgb":return OX[e]}var t=e.type,n=e.gamma,r=OX[t];return typeof n>"u"?r:r.gamma(n)}function Vft(e,t){if("interpolate"in t&&"interpolate"in e&&typeof t.interpolate<"u"){var n=Uft(t.interpolate);e.interpolate(n)}}var Wft=new Date(Date.UTC(2020,1,2,3,4,5)),Hft="%Y-%m-%d %H:%M";function qft(e){var t=e.tickFormat(1,Hft)(Wft);return t==="2020-02-02 03:04"}var PX={day:al,hour:Ub,minute:Bb,month:ym,second:na,week:Yh,year:ha},DX={day:pu,hour:Vb,minute:jb,month:vm,second:na,week:Qh,year:pa};function Gft(e,t){if("nice"in t&&typeof t.nice<"u"&&"nice"in e){var n=t.nice;if(typeof n=="boolean")n&&e.nice();else if(typeof n=="number")e.nice(n);else{var r=e,i=qft(r);if(typeof n=="string")r.nice(i?DX[n]:PX[n]);else{var o=n.interval,s=n.step,a=(i?DX[o]:PX[o]).every(s);a!=null&&r.nice(a)}}}}function Xft(e,t){"padding"in e&&"padding"in t&&typeof t.padding<"u"&&e.padding(t.padding),"paddingInner"in e&&"paddingInner"in t&&typeof t.paddingInner<"u"&&e.paddingInner(t.paddingInner),"paddingOuter"in e&&"paddingOuter"in t&&typeof t.paddingOuter<"u"&&e.paddingOuter(t.paddingOuter)}function Yft(e,t){if(t.reverse){var n=e.range().slice().reverse();"padding"in e,e.range(n)}}function Kft(e,t){"round"in t&&typeof t.round<"u"&&(t.round&&"interpolate"in t&&typeof t.interpolate<"u"?console.warn("[visx/scale/applyRound] ignoring round: scale config contains round and interpolate. only applying interpolate. config:",t):"round"in e?e.round(t.round):"interpolate"in e&&t.round&&e.interpolate(T0))}function Qft(e,t){"unknown"in e&&"unknown"in t&&typeof t.unknown<"u"&&e.unknown(t.unknown)}function Jft(e,t){if("zero"in t&&t.zero===!0){var n=e.domain(),r=n[0],i=n[1],o=i<r,s=o?[i,r]:[r,i],a=s[0],l=s[1],u=[Math.min(0,a),Math.max(0,l)];e.domain(o?u.reverse():u)}}var Zft=["domain","nice","zero","interpolate","round","range","reverse","align","base","clamp","constant","exponent","padding","unknown"],edt={domain:Mft,nice:Gft,zero:Jft,interpolate:Vft,round:Kft,align:Lft,base:Ift,clamp:zft,constant:Bft,exponent:jft,padding:Xft,range:Nft,reverse:Yft,unknown:Qft};function tdt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=new Set(t),i=Zft.filter(function(o){return r.has(o)});return function(s,a){return typeof a<"u"&&i.forEach(function(l){edt[l](s,a)}),s}}var ndt=tdt("domain","range","reverse","clamp","interpolate","nice","round","zero");function rdt(e){return ndt(JD(),e)}function ype(e){const{cardHeight:t,mobile:n,cardWidth:r,preferredColor:i,indicatorGap:o,indicatorPadding:s,defaultGrayColor:a}=ji(),{parentRef:l,width:u,height:c}=Dft({debounceTime:50}),f=Mo(y=>y.tabIndex),d=Ft(y=>y.charts),h=Ft(y=>y.currentChartIndex),p=Ft(y=>y.appendingChart),g=Ft(y=>y.setCurrentChartIndex),m=()=>{const v=p?d:d.slice(0,-1),b=Math.min(c-s.TOP-s.BOTTOM,2*3*v.length+o*(v.length-1)),x=rdt({domain:[0,v.length-1],range:[c/2-b/2,c/2+b/2]});return v.map((w,E)=>({key:`indicator-${w.key}`,cy:x(E),r:E===h?6:3,fill:w.preferred?i:a}))};return R.jsxs(gn,{ref:l,position:"absolute",minH:"28px",h:t,visibility:!n||f===0?"visible":"hidden",...e,children:[R.jsx("svg",{width:u,height:c,children:m().map(({key:y,cy:v,r:b,fill:x})=>R.jsx(E9.circle,{cx:9,cy:v,fill:x,initial:{r:0},animate:{r:b,fill:x,cy:v},transition:{type:"spring",stiffness:100,damping:20,fill:{duration:.2}}},y))}),R.jsx(ehe,{in:h<d.length-2||p&&h===d.length-2,children:R.jsx(Uh,{variant:"outline",colorScheme:Qn,position:"absolute",bottom:6,left:r/2-24,borderRadius:"xl",size:"lg","aria-label":"Scroll to bottom",icon:R.jsx(Pt,{as:Cut,boxSize:8}),onClick:()=>g(d.length-2),"data-log-click":"scroll-to-bottom"})})]})}const idt={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){console&&console[e]&&console[e].apply(console,t)}};class Tk{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(t,n)}init(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=n.prefix||"i18next:",this.logger=t||idt,this.options=n,this.debug=n.debug}log(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.forward(n,"log","",!0)}warn(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.forward(n,"warn","",!0)}error(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.forward(n,"error","")}deprecate(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.forward(n,"warn","WARNING DEPRECATED: ",!0)}forward(t,n,r,i){return i&&!this.debug?null:(typeof t[0]=="string"&&(t[0]=`${r}${this.prefix} ${t[0]}`),this.logger[n](t))}create(t){return new Tk(this.logger,{prefix:`${this.prefix}:${t}:`,...this.options})}clone(t){return t=t||this.options,t.prefix=t.prefix||this.prefix,new Tk(this.logger,t)}}var sl=new Tk;class UA{constructor(){this.observers={}}on(t,n){return t.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const i=this.observers[r].get(n)||0;this.observers[r].set(n,i+1)}),this}off(t,n){if(this.observers[t]){if(!n){delete this.observers[t];return}this.observers[t].delete(n)}}emit(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];this.observers[t]&&Array.from(this.observers[t].entries()).forEach(s=>{let[a,l]=s;for(let u=0;u<l;u++)a(...r)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(s=>{let[a,l]=s;for(let u=0;u<l;u++)a.apply(a,[t,...r])})}}const Jy=()=>{let e,t;const n=new Promise((r,i)=>{e=r,t=i});return n.resolve=e,n.reject=t,n},MX=e=>e==null?"":""+e,odt=(e,t,n)=>{e.forEach(r=>{t[r]&&(n[r]=t[r])})},sdt=/###/g,NX=e=>e&&e.indexOf("###")>-1?e.replace(sdt,"."):e,LX=e=>!e||typeof e=="string",bv=(e,t,n)=>{const r=typeof t!="string"?t:t.split(".");let i=0;for(;i<r.length-1;){if(LX(e))return{};const o=NX(r[i]);!e[o]&&n&&(e[o]=new n),Object.prototype.hasOwnProperty.call(e,o)?e=e[o]:e={},++i}return LX(e)?{}:{obj:e,k:NX(r[i])}},IX=(e,t,n)=>{const{obj:r,k:i}=bv(e,t,Object);if(r!==void 0||t.length===1){r[i]=n;return}let o=t[t.length-1],s=t.slice(0,t.length-1),a=bv(e,s,Object);for(;a.obj===void 0&&s.length;)o=`${s[s.length-1]}.${o}`,s=s.slice(0,s.length-1),a=bv(e,s,Object),a&&a.obj&&typeof a.obj[`${a.k}.${o}`]<"u"&&(a.obj=void 0);a.obj[`${a.k}.${o}`]=n},adt=(e,t,n,r)=>{const{obj:i,k:o}=bv(e,t,Object);i[o]=i[o]||[],i[o].push(n)},Rk=(e,t)=>{const{obj:n,k:r}=bv(e,t);if(n)return n[r]},ldt=(e,t,n)=>{const r=Rk(e,n);return r!==void 0?r:Rk(t,n)},vpe=(e,t,n)=>{for(const r in t)r!=="__proto__"&&r!=="constructor"&&(r in e?typeof e[r]=="string"||e[r]instanceof String||typeof t[r]=="string"||t[r]instanceof String?n&&(e[r]=t[r]):vpe(e[r],t[r],n):e[r]=t[r]);return e},Yp=e=>e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var udt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const cdt=e=>typeof e=="string"?e.replace(/[&<>"'\/]/g,t=>udt[t]):e;class fdt{constructor(t){this.capacity=t,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(t){const n=this.regExpMap.get(t);if(n!==void 0)return n;const r=new RegExp(t);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(t,r),this.regExpQueue.push(t),r}}const ddt=[" ",",","?","!",";"],hdt=new fdt(20),pdt=(e,t,n)=>{t=t||"",n=n||"";const r=ddt.filter(s=>t.indexOf(s)<0&&n.indexOf(s)<0);if(r.length===0)return!0;const i=hdt.getRegExp(`(${r.map(s=>s==="?"?"\\?":s).join("|")})`);let o=!i.test(e);if(!o){const s=e.indexOf(n);s>0&&!i.test(e.substring(0,s))&&(o=!0)}return o},n6=function(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!e)return;if(e[t])return e[t];const r=t.split(n);let i=e;for(let o=0;o<r.length;){if(!i||typeof i!="object")return;let s,a="";for(let l=o;l<r.length;++l)if(l!==o&&(a+=n),a+=r[l],s=i[a],s!==void 0){if(["string","number","boolean"].indexOf(typeof s)>-1&&l<r.length-1)continue;o+=l-o+1;break}i=s}return i},Fk=e=>e&&e.indexOf("_")>0?e.replace("_","-"):e;class zX extends UA{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=t||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(t){this.options.ns.indexOf(t)<0&&this.options.ns.push(t)}removeNamespaces(t){const n=this.options.ns.indexOf(t);n>-1&&this.options.ns.splice(n,1)}getResource(t,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const o=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,s=i.ignoreJSONStructure!==void 0?i.ignoreJSONStructure:this.options.ignoreJSONStructure;let a;t.indexOf(".")>-1?a=t.split("."):(a=[t,n],r&&(Array.isArray(r)?a.push(...r):typeof r=="string"&&o?a.push(...r.split(o)):a.push(r)));const l=Rk(this.data,a);return!l&&!n&&!r&&t.indexOf(".")>-1&&(t=a[0],n=a[1],r=a.slice(2).join(".")),l||!s||typeof r!="string"?l:n6(this.data&&this.data[t]&&this.data[t][n],r,o)}addResource(t,n,r,i){let o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const s=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator;let a=[t,n];r&&(a=a.concat(s?r.split(s):r)),t.indexOf(".")>-1&&(a=t.split("."),i=n,n=a[1]),this.addNamespaces(n),IX(this.data,a,i),o.silent||this.emit("added",t,n,r,i)}addResources(t,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const o in r)(typeof r[o]=="string"||Array.isArray(r[o]))&&this.addResource(t,n,o,r[o],{silent:!0});i.silent||this.emit("added",t,n,r)}addResourceBundle(t,n,r,i,o){let s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},a=[t,n];t.indexOf(".")>-1&&(a=t.split("."),i=r,r=n,n=a[1]),this.addNamespaces(n);let l=Rk(this.data,a)||{};s.skipCopy||(r=JSON.parse(JSON.stringify(r))),i?vpe(l,r,o):l={...l,...r},IX(this.data,a,l),s.silent||this.emit("added",t,n,r)}removeResourceBundle(t,n){this.hasResourceBundle(t,n)&&delete this.data[t][n],this.removeNamespaces(n),this.emit("removed",t,n)}hasResourceBundle(t,n){return this.getResource(t,n)!==void 0}getResourceBundle(t,n){return n||(n=this.options.defaultNS),this.options.compatibilityAPI==="v1"?{...this.getResource(t,n)}:this.getResource(t,n)}getDataByLanguage(t){return this.data[t]}hasLanguageSomeTranslations(t){const n=this.getDataByLanguage(t);return!!(n&&Object.keys(n)||[]).find(i=>n[i]&&Object.keys(n[i]).length>0)}toJSON(){return this.data}}var bpe={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,n,r,i){return e.forEach(o=>{this.processors[o]&&(t=this.processors[o].process(t,n,r,i))}),t}};const BX={};class Ok extends UA{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),odt(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],t,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=sl.create("translator")}changeLanguage(t){t&&(this.language=t)}exists(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(t==null)return!1;const r=this.resolve(t,n);return r&&r.res!==void 0}extractFromKey(t,n){let r=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const i=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let o=n.ns||this.options.defaultNS||[];const s=r&&t.indexOf(r)>-1,a=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!pdt(t,r,i);if(s&&!a){const l=t.match(this.interpolator.nestingRegexp);if(l&&l.length>0)return{key:t,namespaces:o};const u=t.split(r);(r!==i||r===i&&this.options.ns.indexOf(u[0])>-1)&&(o=u.shift()),t=u.join(i)}return typeof o=="string"&&(o=[o]),{key:t,namespaces:o}}translate(t,n,r){if(typeof n!="object"&&this.options.overloadTranslationOptionHandler&&(n=this.options.overloadTranslationOptionHandler(arguments)),typeof n=="object"&&(n={...n}),n||(n={}),t==null)return"";Array.isArray(t)||(t=[String(t)]);const i=n.returnDetails!==void 0?n.returnDetails:this.options.returnDetails,o=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator,{key:s,namespaces:a}=this.extractFromKey(t[t.length-1],n),l=a[a.length-1],u=n.lng||this.language,c=n.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(u&&u.toLowerCase()==="cimode"){if(c){const x=n.nsSeparator||this.options.nsSeparator;return i?{res:`${l}${x}${s}`,usedKey:s,exactUsedKey:s,usedLng:u,usedNS:l,usedParams:this.getUsedParamsDetails(n)}:`${l}${x}${s}`}return i?{res:s,usedKey:s,exactUsedKey:s,usedLng:u,usedNS:l,usedParams:this.getUsedParamsDetails(n)}:s}const f=this.resolve(t,n);let d=f&&f.res;const h=f&&f.usedKey||s,p=f&&f.exactUsedKey||s,g=Object.prototype.toString.apply(d),m=["[object Number]","[object Function]","[object RegExp]"],y=n.joinArrays!==void 0?n.joinArrays:this.options.joinArrays,v=!this.i18nFormat||this.i18nFormat.handleAsObject;if(v&&d&&(typeof d!="string"&&typeof d!="boolean"&&typeof d!="number")&&m.indexOf(g)<0&&!(typeof y=="string"&&Array.isArray(d))){if(!n.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const x=this.options.returnedObjectHandler?this.options.returnedObjectHandler(h,d,{...n,ns:a}):`key '${s} (${this.language})' returned an object instead of string.`;return i?(f.res=x,f.usedParams=this.getUsedParamsDetails(n),f):x}if(o){const x=Array.isArray(d),w=x?[]:{},E=x?p:h;for(const S in d)if(Object.prototype.hasOwnProperty.call(d,S)){const k=`${E}${o}${S}`;w[S]=this.translate(k,{...n,joinArrays:!1,ns:a}),w[S]===k&&(w[S]=d[S])}d=w}}else if(v&&typeof y=="string"&&Array.isArray(d))d=d.join(y),d&&(d=this.extendTranslation(d,t,n,r));else{let x=!1,w=!1;const E=n.count!==void 0&&typeof n.count!="string",S=Ok.hasDefaultValue(n),k=E?this.pluralResolver.getSuffix(u,n.count,n):"",$=n.ordinal&&E?this.pluralResolver.getSuffix(u,n.count,{ordinal:!1}):"",F=E&&!n.ordinal&&n.count===0&&this.pluralResolver.shouldUseIntlApi(),P=F&&n[`defaultValue${this.options.pluralSeparator}zero`]||n[`defaultValue${k}`]||n[`defaultValue${$}`]||n.defaultValue;!this.isValidLookup(d)&&S&&(x=!0,d=P),this.isValidLookup(d)||(w=!0,d=s);const D=(n.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&w?void 0:d,L=S&&P!==d&&this.options.updateMissing;if(w||x||L){if(this.logger.log(L?"updateKey":"missingKey",u,l,s,L?P:d),o){const z=this.resolve(s,{...n,keySeparator:!1});z&&z.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let A=[];const O=this.languageUtils.getFallbackCodes(this.options.fallbackLng,n.lng||this.language);if(this.options.saveMissingTo==="fallback"&&O&&O[0])for(let z=0;z<O.length;z++)A.push(O[z]);else this.options.saveMissingTo==="all"?A=this.languageUtils.toResolveHierarchy(n.lng||this.language):A.push(n.lng||this.language);const B=(z,U,X)=>{const K=S&&X!==d?X:D;this.options.missingKeyHandler?this.options.missingKeyHandler(z,l,U,K,L,n):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(z,l,U,K,L,n),this.emit("missingKey",z,l,U,d)};this.options.saveMissing&&(this.options.saveMissingPlurals&&E?A.forEach(z=>{const U=this.pluralResolver.getSuffixes(z,n);F&&n[`defaultValue${this.options.pluralSeparator}zero`]&&U.indexOf(`${this.options.pluralSeparator}zero`)<0&&U.push(`${this.options.pluralSeparator}zero`),U.forEach(X=>{B([z],s+X,n[`defaultValue${X}`]||P)})}):B(A,s,P))}d=this.extendTranslation(d,t,n,f,r),w&&d===s&&this.options.appendNamespaceToMissingKey&&(d=`${l}:${s}`),(w||x)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?d=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${l}:${s}`:s,x?d:void 0):d=this.options.parseMissingKeyHandler(d))}return i?(f.res=d,f.usedParams=this.getUsedParamsDetails(n),f):d}extendTranslation(t,n,r,i,o){var s=this;if(this.i18nFormat&&this.i18nFormat.parse)t=this.i18nFormat.parse(t,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const u=typeof t=="string"&&(r&&r.interpolation&&r.interpolation.skipOnVariables!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let c;if(u){const d=t.match(this.interpolator.nestingRegexp);c=d&&d.length}let f=r.replace&&typeof r.replace!="string"?r.replace:r;if(this.options.interpolation.defaultVariables&&(f={...this.options.interpolation.defaultVariables,...f}),t=this.interpolator.interpolate(t,f,r.lng||this.language||i.usedLng,r),u){const d=t.match(this.interpolator.nestingRegexp),h=d&&d.length;c<h&&(r.nest=!1)}!r.lng&&this.options.compatibilityAPI!=="v1"&&i&&i.res&&(r.lng=this.language||i.usedLng),r.nest!==!1&&(t=this.interpolator.nest(t,function(){for(var d=arguments.length,h=new Array(d),p=0;p<d;p++)h[p]=arguments[p];return o&&o[0]===h[0]&&!r.context?(s.logger.warn(`It seems you are nesting recursively key: ${h[0]} in key: ${n[0]}`),null):s.translate(...h,n)},r)),r.interpolation&&this.interpolator.reset()}const a=r.postProcess||this.options.postProcess,l=typeof a=="string"?[a]:a;return t!=null&&l&&l.length&&r.applyPostProcessor!==!1&&(t=bpe.handle(l,t,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...i,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),t}resolve(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r,i,o,s,a;return typeof t=="string"&&(t=[t]),t.forEach(l=>{if(this.isValidLookup(r))return;const u=this.extractFromKey(l,n),c=u.key;i=c;let f=u.namespaces;this.options.fallbackNS&&(f=f.concat(this.options.fallbackNS));const d=n.count!==void 0&&typeof n.count!="string",h=d&&!n.ordinal&&n.count===0&&this.pluralResolver.shouldUseIntlApi(),p=n.context!==void 0&&(typeof n.context=="string"||typeof n.context=="number")&&n.context!=="",g=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);f.forEach(m=>{this.isValidLookup(r)||(a=m,!BX[`${g[0]}-${m}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(a)&&(BX[`${g[0]}-${m}`]=!0,this.logger.warn(`key "${i}" for languages "${g.join(", ")}" won't get resolved as namespace "${a}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),g.forEach(y=>{if(this.isValidLookup(r))return;s=y;const v=[c];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(v,c,y,m,n);else{let x;d&&(x=this.pluralResolver.getSuffix(y,n.count,n));const w=`${this.options.pluralSeparator}zero`,E=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(d&&(v.push(c+x),n.ordinal&&x.indexOf(E)===0&&v.push(c+x.replace(E,this.options.pluralSeparator)),h&&v.push(c+w)),p){const S=`${c}${this.options.contextSeparator}${n.context}`;v.push(S),d&&(v.push(S+x),n.ordinal&&x.indexOf(E)===0&&v.push(S+x.replace(E,this.options.pluralSeparator)),h&&v.push(S+w))}}let b;for(;b=v.pop();)this.isValidLookup(r)||(o=b,r=this.getResource(y,m,b,n))}))})}),{res:r,usedKey:i,exactUsedKey:o,usedLng:s,usedNS:a}}isValidLookup(t){return t!==void 0&&!(!this.options.returnNull&&t===null)&&!(!this.options.returnEmptyString&&t==="")}getResource(t,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(t,n,r,i):this.resourceStore.getResource(t,n,r,i)}getUsedParamsDetails(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=t.replace&&typeof t.replace!="string";let i=r?t.replace:t;if(r&&typeof t.count<"u"&&(i.count=t.count),this.options.interpolation.defaultVariables&&(i={...this.options.interpolation.defaultVariables,...i}),!r){i={...i};for(const o of n)delete i[o]}return i}static hasDefaultValue(t){const n="defaultValue";for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&n===r.substring(0,n.length)&&t[r]!==void 0)return!0;return!1}}const I4=e=>e.charAt(0).toUpperCase()+e.slice(1);class jX{constructor(t){this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=sl.create("languageUtils")}getScriptPartFromCode(t){if(t=Fk(t),!t||t.indexOf("-")<0)return null;const n=t.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(t){if(t=Fk(t),!t||t.indexOf("-")<0)return t;const n=t.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(t){if(typeof t=="string"&&t.indexOf("-")>-1){const n=["hans","hant","latn","cyrl","cans","mong","arab"];let r=t.split("-");return this.options.lowerCaseLng?r=r.map(i=>i.toLowerCase()):r.length===2?(r[0]=r[0].toLowerCase(),r[1]=r[1].toUpperCase(),n.indexOf(r[1].toLowerCase())>-1&&(r[1]=I4(r[1].toLowerCase()))):r.length===3&&(r[0]=r[0].toLowerCase(),r[1].length===2&&(r[1]=r[1].toUpperCase()),r[0]!=="sgn"&&r[2].length===2&&(r[2]=r[2].toUpperCase()),n.indexOf(r[1].toLowerCase())>-1&&(r[1]=I4(r[1].toLowerCase())),n.indexOf(r[2].toLowerCase())>-1&&(r[2]=I4(r[2].toLowerCase()))),r.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t}isSupportedCode(t){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(t=this.getLanguagePartFromCode(t)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(t)>-1}getBestMatchFromCodes(t){if(!t)return null;let n;return t.forEach(r=>{if(n)return;const i=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(i))&&(n=i)}),!n&&this.options.supportedLngs&&t.forEach(r=>{if(n)return;const i=this.getLanguagePartFromCode(r);if(this.isSupportedCode(i))return n=i;n=this.options.supportedLngs.find(o=>{if(o===i)return o;if(!(o.indexOf("-")<0&&i.indexOf("-")<0)&&(o.indexOf("-")>0&&i.indexOf("-")<0&&o.substring(0,o.indexOf("-"))===i||o.indexOf(i)===0&&i.length>1))return o})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(t,n){if(!t)return[];if(typeof t=="function"&&(t=t(n)),typeof t=="string"&&(t=[t]),Array.isArray(t))return t;if(!n)return t.default||[];let r=t[n];return r||(r=t[this.getScriptPartFromCode(n)]),r||(r=t[this.formatLanguageCode(n)]),r||(r=t[this.getLanguagePartFromCode(n)]),r||(r=t.default),r||[]}toResolveHierarchy(t,n){const r=this.getFallbackCodes(n||this.options.fallbackLng||[],t),i=[],o=s=>{s&&(this.isSupportedCode(s)?i.push(s):this.logger.warn(`rejecting language code not found in supportedLngs: ${s}`))};return typeof t=="string"&&(t.indexOf("-")>-1||t.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&o(this.formatLanguageCode(t)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&o(this.getScriptPartFromCode(t)),this.options.load!=="currentOnly"&&o(this.getLanguagePartFromCode(t))):typeof t=="string"&&o(this.formatLanguageCode(t)),r.forEach(s=>{i.indexOf(s)<0&&o(this.formatLanguageCode(s))}),i}}let gdt=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],mdt={1:e=>+(e>1),2:e=>+(e!=1),3:e=>0,4:e=>e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2,5:e=>e==0?0:e==1?1:e==2?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5,6:e=>e==1?0:e>=2&&e<=4?1:2,7:e=>e==1?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2,8:e=>e==1?0:e==2?1:e!=8&&e!=11?2:3,9:e=>+(e>=2),10:e=>e==1?0:e==2?1:e<7?2:e<11?3:4,11:e=>e==1||e==11?0:e==2||e==12?1:e>2&&e<20?2:3,12:e=>+(e%10!=1||e%100==11),13:e=>+(e!==0),14:e=>e==1?0:e==2?1:e==3?2:3,15:e=>e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2,16:e=>e%10==1&&e%100!=11?0:e!==0?1:2,17:e=>e==1||e%10==1&&e%100!=11?0:1,18:e=>e==0?0:e==1?1:2,19:e=>e==1?0:e==0||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3,20:e=>e==1?0:e==0||e%100>0&&e%100<20?1:2,21:e=>e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0,22:e=>e==1?0:e==2?1:(e<0||e>10)&&e%10==0?2:3};const ydt=["v1","v2","v3"],vdt=["v4"],UX={zero:0,one:1,two:2,few:3,many:4,other:5},bdt=()=>{const e={};return gdt.forEach(t=>{t.lngs.forEach(n=>{e[n]={numbers:t.nr,plurals:mdt[t.fc]}})}),e};class xdt{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=t,this.options=n,this.logger=sl.create("pluralResolver"),(!this.options.compatibilityJSON||vdt.includes(this.options.compatibilityJSON))&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=bdt(),this.pluralRulesCache={}}addRule(t,n){this.rules[t]=n}clearCache(){this.pluralRulesCache={}}getRule(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi())try{const r=Fk(t==="dev"?"en":t),i=n.ordinal?"ordinal":"cardinal",o=JSON.stringify({cleanedCode:r,type:i});if(o in this.pluralRulesCache)return this.pluralRulesCache[o];const s=new Intl.PluralRules(r,{type:i});return this.pluralRulesCache[o]=s,s}catch{return}return this.rules[t]||this.rules[this.languageUtils.getLanguagePartFromCode(t)]}needsPlural(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=this.getRule(t,n);return this.shouldUseIntlApi()?r&&r.resolvedOptions().pluralCategories.length>1:r&&r.numbers.length>1}getPluralFormsOfKey(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(t,r).map(i=>`${n}${i}`)}getSuffixes(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=this.getRule(t,n);return r?this.shouldUseIntlApi()?r.resolvedOptions().pluralCategories.sort((i,o)=>UX[i]-UX[o]).map(i=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${i}`):r.numbers.map(i=>this.getSuffix(t,i,n)):[]}getSuffix(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const i=this.getRule(t,r);return i?this.shouldUseIntlApi()?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${i.select(n)}`:this.getSuffixRetroCompatible(i,n):(this.logger.warn(`no plural rule found for: ${t}`),"")}getSuffixRetroCompatible(t,n){const r=t.noAbs?t.plurals(n):t.plurals(Math.abs(n));let i=t.numbers[r];this.options.simplifyPluralSuffix&&t.numbers.length===2&&t.numbers[0]===1&&(i===2?i="plural":i===1&&(i=""));const o=()=>this.options.prepend&&i.toString()?this.options.prepend+i.toString():i.toString();return this.options.compatibilityJSON==="v1"?i===1?"":typeof i=="number"?`_plural_${i.toString()}`:o():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&t.numbers.length===2&&t.numbers[0]===1?o():this.options.prepend&&r.toString()?this.options.prepend+r.toString():r.toString()}shouldUseIntlApi(){return!ydt.includes(this.options.compatibilityJSON)}}const VX=function(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,o=ldt(e,t,n);return!o&&i&&typeof n=="string"&&(o=n6(e,n,r),o===void 0&&(o=n6(t,n,r))),o},z4=e=>e.replace(/\$/g,"$$$$");class wdt{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=sl.create("interpolator"),this.options=t,this.format=t.interpolation&&t.interpolation.format||(n=>n),this.init(t)}init(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};t.interpolation||(t.interpolation={escapeValue:!0});const{escape:n,escapeValue:r,useRawValueToEscape:i,prefix:o,prefixEscaped:s,suffix:a,suffixEscaped:l,formatSeparator:u,unescapeSuffix:c,unescapePrefix:f,nestingPrefix:d,nestingPrefixEscaped:h,nestingSuffix:p,nestingSuffixEscaped:g,nestingOptionsSeparator:m,maxReplaces:y,alwaysFormat:v}=t.interpolation;this.escape=n!==void 0?n:cdt,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=i!==void 0?i:!1,this.prefix=o?Yp(o):s||"{{",this.suffix=a?Yp(a):l||"}}",this.formatSeparator=u||",",this.unescapePrefix=c?"":f||"-",this.unescapeSuffix=this.unescapePrefix?"":c||"",this.nestingPrefix=d?Yp(d):h||Yp("$t("),this.nestingSuffix=p?Yp(p):g||Yp(")"),this.nestingOptionsSeparator=m||",",this.maxReplaces=y||1e3,this.alwaysFormat=v!==void 0?v:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const t=(n,r)=>n&&n.source===r?(n.lastIndex=0,n):new RegExp(r,"g");this.regexp=t(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=t(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=t(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(t,n,r,i){let o,s,a;const l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},u=h=>{if(h.indexOf(this.formatSeparator)<0){const y=VX(n,l,h,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(y,void 0,r,{...i,...n,interpolationkey:h}):y}const p=h.split(this.formatSeparator),g=p.shift().trim(),m=p.join(this.formatSeparator).trim();return this.format(VX(n,l,g,this.options.keySeparator,this.options.ignoreJSONStructure),m,r,{...i,...n,interpolationkey:g})};this.resetRegExp();const c=i&&i.missingInterpolationHandler||this.options.missingInterpolationHandler,f=i&&i.interpolation&&i.interpolation.skipOnVariables!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:h=>z4(h)},{regex:this.regexp,safeValue:h=>this.escapeValue?z4(this.escape(h)):z4(h)}].forEach(h=>{for(a=0;o=h.regex.exec(t);){const p=o[1].trim();if(s=u(p),s===void 0)if(typeof c=="function"){const m=c(t,o,i);s=typeof m=="string"?m:""}else if(i&&Object.prototype.hasOwnProperty.call(i,p))s="";else if(f){s=o[0];continue}else this.logger.warn(`missed to pass in variable ${p} for interpolating ${t}`),s="";else typeof s!="string"&&!this.useRawValueToEscape&&(s=MX(s));const g=h.safeValue(s);if(t=t.replace(o[0],g),f?(h.regex.lastIndex+=s.length,h.regex.lastIndex-=o[0].length):h.regex.lastIndex=0,a++,a>=this.maxReplaces)break}}),t}nest(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i,o,s;const a=(l,u)=>{const c=this.nestingOptionsSeparator;if(l.indexOf(c)<0)return l;const f=l.split(new RegExp(`${c}[ ]*{`));let d=`{${f[1]}`;l=f[0],d=this.interpolate(d,s);const h=d.match(/'/g),p=d.match(/"/g);(h&&h.length%2===0&&!p||p.length%2!==0)&&(d=d.replace(/'/g,'"'));try{s=JSON.parse(d),u&&(s={...u,...s})}catch(g){return this.logger.warn(`failed parsing options string in nesting for key ${l}`,g),`${l}${c}${d}`}return s.defaultValue&&s.defaultValue.indexOf(this.prefix)>-1&&delete s.defaultValue,l};for(;i=this.nestingRegexp.exec(t);){let l=[];s={...r},s=s.replace&&typeof s.replace!="string"?s.replace:s,s.applyPostProcessor=!1,delete s.defaultValue;let u=!1;if(i[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(i[1])){const c=i[1].split(this.formatSeparator).map(f=>f.trim());i[1]=c.shift(),l=c,u=!0}if(o=n(a.call(this,i[1].trim(),s),s),o&&i[0]===t&&typeof o!="string")return o;typeof o!="string"&&(o=MX(o)),o||(this.logger.warn(`missed to resolve ${i[1]} for nesting ${t}`),o=""),u&&(o=l.reduce((c,f)=>this.format(c,f,r.lng,{...r,interpolationkey:i[1].trim()}),o.trim())),t=t.replace(i[0],o),this.regexp.lastIndex=0}return t}}const Sdt=e=>{let t=e.toLowerCase().trim();const n={};if(e.indexOf("(")>-1){const r=e.split("(");t=r[0].toLowerCase().trim();const i=r[1].substring(0,r[1].length-1);t==="currency"&&i.indexOf(":")<0?n.currency||(n.currency=i.trim()):t==="relativetime"&&i.indexOf(":")<0?n.range||(n.range=i.trim()):i.split(";").forEach(s=>{if(s){const[a,...l]=s.split(":"),u=l.join(":").trim().replace(/^'+|'+$/g,""),c=a.trim();n[c]||(n[c]=u),u==="false"&&(n[c]=!1),u==="true"&&(n[c]=!0),isNaN(u)||(n[c]=parseInt(u,10))}})}return{formatName:t,formatOptions:n}},Kp=e=>{const t={};return(n,r,i)=>{let o=i;i&&i.interpolationkey&&i.formatParams&&i.formatParams[i.interpolationkey]&&i[i.interpolationkey]&&(o={...o,[i.interpolationkey]:void 0});const s=r+JSON.stringify(o);let a=t[s];return a||(a=e(Fk(r),i),t[s]=a),a(n)}};class Cdt{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=sl.create("formatter"),this.options=t,this.formats={number:Kp((n,r)=>{const i=new Intl.NumberFormat(n,{...r});return o=>i.format(o)}),currency:Kp((n,r)=>{const i=new Intl.NumberFormat(n,{...r,style:"currency"});return o=>i.format(o)}),datetime:Kp((n,r)=>{const i=new Intl.DateTimeFormat(n,{...r});return o=>i.format(o)}),relativetime:Kp((n,r)=>{const i=new Intl.RelativeTimeFormat(n,{...r});return o=>i.format(o,r.range||"day")}),list:Kp((n,r)=>{const i=new Intl.ListFormat(n,{...r});return o=>i.format(o)})},this.init(t)}init(t){const r=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}}).interpolation;this.formatSeparator=r.formatSeparator?r.formatSeparator:r.formatSeparator||","}add(t,n){this.formats[t.toLowerCase().trim()]=n}addCached(t,n){this.formats[t.toLowerCase().trim()]=Kp(n)}format(t,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const o=n.split(this.formatSeparator);if(o.length>1&&o[0].indexOf("(")>1&&o[0].indexOf(")")<0&&o.find(a=>a.indexOf(")")>-1)){const a=o.findIndex(l=>l.indexOf(")")>-1);o[0]=[o[0],...o.splice(1,a)].join(this.formatSeparator)}return o.reduce((a,l)=>{const{formatName:u,formatOptions:c}=Sdt(l);if(this.formats[u]){let f=a;try{const d=i&&i.formatParams&&i.formatParams[i.interpolationkey]||{},h=d.locale||d.lng||i.locale||i.lng||r;f=this.formats[u](a,h,{...c,...i,...d})}catch(d){this.logger.warn(d)}return f}else this.logger.warn(`there was no format function for ${u}`);return a},t)}}const Edt=(e,t)=>{e.pending[t]!==void 0&&(delete e.pending[t],e.pendingCount--)};class kdt extends UA{constructor(t,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=t,this.store=n,this.services=r,this.languageUtils=r.languageUtils,this.options=i,this.logger=sl.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(r,i.backend,i)}queueLoad(t,n,r,i){const o={},s={},a={},l={};return t.forEach(u=>{let c=!0;n.forEach(f=>{const d=`${u}|${f}`;!r.reload&&this.store.hasResourceBundle(u,f)?this.state[d]=2:this.state[d]<0||(this.state[d]===1?s[d]===void 0&&(s[d]=!0):(this.state[d]=1,c=!1,s[d]===void 0&&(s[d]=!0),o[d]===void 0&&(o[d]=!0),l[f]===void 0&&(l[f]=!0)))}),c||(a[u]=!0)}),(Object.keys(o).length||Object.keys(s).length)&&this.queue.push({pending:s,pendingCount:Object.keys(s).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(o),pending:Object.keys(s),toLoadLanguages:Object.keys(a),toLoadNamespaces:Object.keys(l)}}loaded(t,n,r){const i=t.split("|"),o=i[0],s=i[1];n&&this.emit("failedLoading",o,s,n),!n&&r&&this.store.addResourceBundle(o,s,r,void 0,void 0,{skipCopy:!0}),this.state[t]=n?-1:2,n&&r&&(this.state[t]=0);const a={};this.queue.forEach(l=>{adt(l.loaded,[o],s),Edt(l,t),n&&l.errors.push(n),l.pendingCount===0&&!l.done&&(Object.keys(l.loaded).forEach(u=>{a[u]||(a[u]={});const c=l.loaded[u];c.length&&c.forEach(f=>{a[u][f]===void 0&&(a[u][f]=!0)})}),l.done=!0,l.errors.length?l.callback(l.errors):l.callback())}),this.emit("loaded",a),this.queue=this.queue.filter(l=>!l.done)}read(t,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,s=arguments.length>5?arguments[5]:void 0;if(!t.length)return s(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:t,ns:n,fcName:r,tried:i,wait:o,callback:s});return}this.readingCalls++;const a=(u,c)=>{if(this.readingCalls--,this.waitingReads.length>0){const f=this.waitingReads.shift();this.read(f.lng,f.ns,f.fcName,f.tried,f.wait,f.callback)}if(u&&c&&i<this.maxRetries){setTimeout(()=>{this.read.call(this,t,n,r,i+1,o*2,s)},o);return}s(u,c)},l=this.backend[r].bind(this.backend);if(l.length===2){try{const u=l(t,n);u&&typeof u.then=="function"?u.then(c=>a(null,c)).catch(a):a(null,u)}catch(u){a(u)}return}return l(t,n,a)}prepareLoading(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();typeof t=="string"&&(t=this.languageUtils.toResolveHierarchy(t)),typeof n=="string"&&(n=[n]);const o=this.queueLoad(t,n,r,i);if(!o.toLoad.length)return o.pending.length||i(),null;o.toLoad.forEach(s=>{this.loadOne(s)})}load(t,n,r){this.prepareLoading(t,n,{},r)}reload(t,n,r){this.prepareLoading(t,n,{reload:!0},r)}loadOne(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const r=t.split("|"),i=r[0],o=r[1];this.read(i,o,"read",void 0,void 0,(s,a)=>{s&&this.logger.warn(`${n}loading namespace ${o} for language ${i} failed`,s),!s&&a&&this.logger.log(`${n}loaded namespace ${o} for language ${i}`,a),this.loaded(t,s,a)})}saveMissing(t,n,r,i,o){let s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},a=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(n)){this.logger.warn(`did not save key "${r}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if(this.backend&&this.backend.create){const l={...s,isUpdate:o},u=this.backend.create.bind(this.backend);if(u.length<6)try{let c;u.length===5?c=u(t,n,r,i,l):c=u(t,n,r,i),c&&typeof c.then=="function"?c.then(f=>a(null,f)).catch(a):a(null,c)}catch(c){a(c)}else u(t,n,r,i,a,l)}!t||!t[0]||this.store.addResource(t[0],n,r,i)}}}const WX=()=>({debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:e=>{let t={};if(typeof e[1]=="object"&&(t=e[1]),typeof e[1]=="string"&&(t.defaultValue=e[1]),typeof e[2]=="string"&&(t.tDescription=e[2]),typeof e[2]=="object"||typeof e[3]=="object"){const n=e[3]||e[2];Object.keys(n).forEach(r=>{t[r]=n[r]})}return t},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),HX=e=>(typeof e.ns=="string"&&(e.ns=[e.ns]),typeof e.fallbackLng=="string"&&(e.fallbackLng=[e.fallbackLng]),typeof e.fallbackNS=="string"&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs&&e.supportedLngs.indexOf("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),e),Bw=()=>{},_dt=e=>{Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach(n=>{typeof e[n]=="function"&&(e[n]=e[n].bind(e))})};class Tb extends UA{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;if(super(),this.options=HX(t),this.services={},this.logger=sl,this.modules={external:[]},_dt(this),n&&!this.isInitialized&&!t.isClone){if(!this.options.initImmediate)return this.init(t,n),this;setTimeout(()=>{this.init(t,n)},0)}}init(){var t=this;let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof n=="function"&&(r=n,n={}),!n.defaultNS&&n.defaultNS!==!1&&n.ns&&(typeof n.ns=="string"?n.defaultNS=n.ns:n.ns.indexOf("translation")<0&&(n.defaultNS=n.ns[0]));const i=WX();this.options={...i,...this.options,...HX(n)},this.options.compatibilityAPI!=="v1"&&(this.options.interpolation={...i.interpolation,...this.options.interpolation}),n.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=n.keySeparator),n.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=n.nsSeparator);const o=c=>c?typeof c=="function"?new c:c:null;if(!this.options.isClone){this.modules.logger?sl.init(o(this.modules.logger),this.options):sl.init(null,this.options);let c;this.modules.formatter?c=this.modules.formatter:typeof Intl<"u"&&(c=Cdt);const f=new jX(this.options);this.store=new zX(this.options.resources,this.options);const d=this.services;d.logger=sl,d.resourceStore=this.store,d.languageUtils=f,d.pluralResolver=new xdt(f,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),c&&(!this.options.interpolation.format||this.options.interpolation.format===i.interpolation.format)&&(d.formatter=o(c),d.formatter.init(d,this.options),this.options.interpolation.format=d.formatter.format.bind(d.formatter)),d.interpolator=new wdt(this.options),d.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},d.backendConnector=new kdt(o(this.modules.backend),d.resourceStore,d,this.options),d.backendConnector.on("*",function(h){for(var p=arguments.length,g=new Array(p>1?p-1:0),m=1;m<p;m++)g[m-1]=arguments[m];t.emit(h,...g)}),this.modules.languageDetector&&(d.languageDetector=o(this.modules.languageDetector),d.languageDetector.init&&d.languageDetector.init(d,this.options.detection,this.options)),this.modules.i18nFormat&&(d.i18nFormat=o(this.modules.i18nFormat),d.i18nFormat.init&&d.i18nFormat.init(this)),this.translator=new Ok(this.services,this.options),this.translator.on("*",function(h){for(var p=arguments.length,g=new Array(p>1?p-1:0),m=1;m<p;m++)g[m-1]=arguments[m];t.emit(h,...g)}),this.modules.external.forEach(h=>{h.init&&h.init(this)})}if(this.format=this.options.interpolation.format,r||(r=Bw),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const c=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);c.length>0&&c[0]!=="dev"&&(this.options.lng=c[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(c=>{this[c]=function(){return t.store[c](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(c=>{this[c]=function(){return t.store[c](...arguments),t}});const l=Jy(),u=()=>{const c=(f,d)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),l.resolve(d),r(f,d)};if(this.languages&&this.options.compatibilityAPI!=="v1"&&!this.isInitialized)return c(null,this.t.bind(this));this.changeLanguage(this.options.lng,c)};return this.options.resources||!this.options.initImmediate?u():setTimeout(u,0),l}loadResources(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Bw;const i=typeof t=="string"?t:this.language;if(typeof t=="function"&&(r=t),!this.options.resources||this.options.partialBundledLanguages){if(i&&i.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const o=[],s=a=>{if(!a||a==="cimode")return;this.services.languageUtils.toResolveHierarchy(a).forEach(u=>{u!=="cimode"&&o.indexOf(u)<0&&o.push(u)})};i?s(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(l=>s(l)),this.options.preload&&this.options.preload.forEach(a=>s(a)),this.services.backendConnector.load(o,this.options.ns,a=>{!a&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(a)})}else r(null)}reloadResources(t,n,r){const i=Jy();return typeof t=="function"&&(r=t,t=void 0),typeof n=="function"&&(r=n,n=void 0),t||(t=this.languages),n||(n=this.options.ns),r||(r=Bw),this.services.backendConnector.reload(t,n,o=>{i.resolve(),r(o)}),i}use(t){if(!t)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!t.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return t.type==="backend"&&(this.modules.backend=t),(t.type==="logger"||t.log&&t.warn&&t.error)&&(this.modules.logger=t),t.type==="languageDetector"&&(this.modules.languageDetector=t),t.type==="i18nFormat"&&(this.modules.i18nFormat=t),t.type==="postProcessor"&&bpe.addPostProcessor(t),t.type==="formatter"&&(this.modules.formatter=t),t.type==="3rdParty"&&this.modules.external.push(t),this}setResolvedLanguage(t){if(!(!t||!this.languages)&&!(["cimode","dev"].indexOf(t)>-1))for(let n=0;n<this.languages.length;n++){const r=this.languages[n];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}}changeLanguage(t,n){var r=this;this.isLanguageChangingTo=t;const i=Jy();this.emit("languageChanging",t);const o=l=>{this.language=l,this.languages=this.services.languageUtils.toResolveHierarchy(l),this.resolvedLanguage=void 0,this.setResolvedLanguage(l)},s=(l,u)=>{u?(o(u),this.translator.changeLanguage(u),this.isLanguageChangingTo=void 0,this.emit("languageChanged",u),this.logger.log("languageChanged",u)):this.isLanguageChangingTo=void 0,i.resolve(function(){return r.t(...arguments)}),n&&n(l,function(){return r.t(...arguments)})},a=l=>{!t&&!l&&this.services.languageDetector&&(l=[]);const u=typeof l=="string"?l:this.services.languageUtils.getBestMatchFromCodes(l);u&&(this.language||o(u),this.translator.language||this.translator.changeLanguage(u),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(u)),this.loadResources(u,c=>{s(c,u)})};return!t&&this.services.languageDetector&&!this.services.languageDetector.async?a(this.services.languageDetector.detect()):!t&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(a):this.services.languageDetector.detect(a):a(t),i}getFixedT(t,n,r){var i=this;const o=function(s,a){let l;if(typeof a!="object"){for(var u=arguments.length,c=new Array(u>2?u-2:0),f=2;f<u;f++)c[f-2]=arguments[f];l=i.options.overloadTranslationOptionHandler([s,a].concat(c))}else l={...a};l.lng=l.lng||o.lng,l.lngs=l.lngs||o.lngs,l.ns=l.ns||o.ns,l.keyPrefix!==""&&(l.keyPrefix=l.keyPrefix||r||o.keyPrefix);const d=i.options.keySeparator||".";let h;return l.keyPrefix&&Array.isArray(s)?h=s.map(p=>`${l.keyPrefix}${d}${p}`):h=l.keyPrefix?`${l.keyPrefix}${d}${s}`:s,i.t(h,l)};return typeof t=="string"?o.lng=t:o.lngs=t,o.ns=n,o.keyPrefix=r,o}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(t){this.options.defaultNS=t}hasLoadedNamespace(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=n.lng||this.resolvedLanguage||this.languages[0],i=this.options?this.options.fallbackLng:!1,o=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const s=(a,l)=>{const u=this.services.backendConnector.state[`${a}|${l}`];return u===-1||u===0||u===2};if(n.precheck){const a=n.precheck(this,s);if(a!==void 0)return a}return!!(this.hasResourceBundle(r,t)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||s(r,t)&&(!i||s(o,t)))}loadNamespaces(t,n){const r=Jy();return this.options.ns?(typeof t=="string"&&(t=[t]),t.forEach(i=>{this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}),this.loadResources(i=>{r.resolve(),n&&n(i)}),r):(n&&n(),Promise.resolve())}loadLanguages(t,n){const r=Jy();typeof t=="string"&&(t=[t]);const i=this.options.preload||[],o=t.filter(s=>i.indexOf(s)<0&&this.services.languageUtils.isSupportedCode(s));return o.length?(this.options.preload=i.concat(o),this.loadResources(s=>{r.resolve(),n&&n(s)}),r):(n&&n(),Promise.resolve())}dir(t){if(t||(t=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!t)return"rtl";const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=this.services&&this.services.languageUtils||new jX(WX());return n.indexOf(r.getLanguagePartFromCode(t))>-1||t.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;return new Tb(t,n)}cloneInstance(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Bw;const r=t.forkResourceStore;r&&delete t.forkResourceStore;const i={...this.options,...t,isClone:!0},o=new Tb(i);return(t.debug!==void 0||t.prefix!==void 0)&&(o.logger=o.logger.clone(t)),["store","services","language"].forEach(a=>{o[a]=this[a]}),o.services={...this.services},o.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},r&&(o.store=new zX(this.store.data,i),o.services.resourceStore=o.store),o.translator=new Ok(o.services,i),o.translator.on("*",function(a){for(var l=arguments.length,u=new Array(l>1?l-1:0),c=1;c<l;c++)u[c-1]=arguments[c];o.emit(a,...u)}),o.init(i,n),o.translator.options=i,o.translator.backendConnector.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const fi=Tb.createInstance();fi.createInstance=Tb.createInstance;fi.createInstance;fi.dir;fi.init;fi.loadResources;fi.reloadResources;fi.use;fi.changeLanguage;fi.getFixedT;const cc=fi.t;fi.exists;fi.setDefaultNamespace;fi.hasLoadedNamespace;fi.loadNamespaces;fi.loadLanguages;function Qp({label:e,children:t,...n}){return R.jsxs(gn,{w:"full",flexDir:"row",justify:"space-between",alignItems:"center",...n,children:[R.jsx(er,{minW:"130px",children:e}),t]})}function $dt(){const{handleSubmit:e,loading:t,selectedDemo:n,handleDemoSelect:r}=Jlt(),{loading:i}=Hhe(),{t:o}=Os();return R.jsxs(R.Fragment,{children:[R.jsx(O9,{size:"md",onChange:s=>r(TW.find(a=>a.name===s.target.value)??null),"data-log-change":"select-demo",placeholder:o("settings.select_demo"),variant:"outline",colorScheme:Qn,icon:R.jsx(Pt,{as:Khe}),borderRightRadius:0,children:TW.map(s=>R.jsx("option",{value:s.name,children:s.name},s.name))}),R.jsx(Uh,{size:"md",borderLeftRadius:0,colorScheme:Qn,type:"submit",isLoading:t||i,isDisabled:!n||i,icon:R.jsx(Pt,{as:Zhe}),"aria-label":o("settings.load_data"),onClick:e,"data-log-click":"load-demo"})]})}function Adt(e){const{python:t,handleServerButtonClick:n,handleClearLogs:r,handleDownloadLogs:i,colorMode:o,toggleColorMode:s,locale:a,setLocale:l}=vut();return R.jsxs(hh,{...e,children:[R.jsx(Qp,{label:cc("settings.load_data"),children:R.jsx(Oct,{w:"full"})}),R.jsx(Qp,{label:cc("settings.load_demo"),children:R.jsx($dt,{})}),R.jsx(RA,{my:4}),R.jsx(Qp,{label:cc("settings.set_locale"),children:R.jsxs(O9,{size:"md",variant:"outline",value:a,"data-log-change":"select-locale",onChange:u=>{l(u.target.value)},children:[R.jsx("option",{value:"en",children:"English"}),R.jsx("option",{value:"ko",children:""})]})}),R.jsx(Qp,{label:cc("settings.set_color"),children:R.jsx(ms,{leftIcon:R.jsx(Pt,{as:o==="light"?Lut:Out}),onClick:s,"data-log-click":"toggle-color-mode",size:"md",w:"full",children:o==="light"?"Light":"Dark"})}),R.jsx(Qp,{label:cc("settings.set_backend"),children:R.jsx(ms,{leftIcon:R.jsx(Pt,{as:t==="server"?Aut:Nut}),onClick:()=>{n()},"data-log-click":"toggle-server",size:"md",w:"full",children:t&&t[0].toUpperCase()+(t==null?void 0:t.slice(1))})}),R.jsx(Qp,{label:cc("settings.monitor_logs"),children:R.jsxs(gn,{gap:2,w:"full",children:[R.jsx(ms,{w:"full",onClick:r,children:cc("settings.clear_logs")}),R.jsx(ms,{w:"full",onClick:i,"data-log-click":"download-logs",children:cc("settings.download_logs")})]})})]})}const xpe=M.memo(Adt);function Tdt({tabs:e,...t}){const{tabIconSize:n,tabPanelHeight:r,scrollbarStyle:i}=ji(),s=Ft(u=>u.fields).length>0,a=Mo(u=>u.tabIndex),l=Mo(u=>u.setTabByIndex);return R.jsxs(PA,{position:"relative",display:"flex",w:"full",defaultIndex:e.length-1,index:a>=0?a:e.length+a,onChange:l,isFitted:!0,colorScheme:Qn,...t,children:[R.jsx(D9,{my:2,children:e.map(u=>R.jsxs(L9,{gap:1,as:fa,flexDir:"column",isDisabled:!s&&!u.displayingBeforeInit,"data-log-click":`tab-${u.name}`,children:[R.jsx(Pt,{boxSize:n,as:u.icon}),R.jsx(er,{fontSize:"xs",children:u.displayName})]},`tab-${u.name}`))}),R.jsx(N9,{flex:1,overflow:"auto",h:r,minH:r,sx:i,children:e.map(u=>R.jsx(M9,{minH:r,children:u.Panel},`tabpanel-${u.name}`))})]})}function Rdt({tabs:e,...t}){const{tabIconSize:n,cardColor:r,scrollbarStyle:i,cardRef:o,cardPadding:s}=ji(),l=Ft(f=>f.fields).length>0,u=Mo(f=>f.tabIndex),c=Mo(f=>f.setTabByIndex);return R.jsxs(PA,{display:"flex",w:"full",index:u<0?e.length+u:u,onChange:c,isFitted:!0,colorScheme:Qn,...t,children:[R.jsx(N9,{overflow:"hidden",children:e.map(f=>R.jsx(M9,{children:R.jsx(gn,{ref:o,w:"full",h:"calc(100vh - 150px)",bg:r,borderRadius:"md",flexDir:"column",sx:i,p:s,children:f.Panel})},`tabpanel-${f.name}`))}),R.jsx(ype,{w:8}),R.jsx(D9,{my:2,children:e.filter(f=>f.name!=="settings").map(f=>R.jsxs(L9,{gap:1,as:fa,flexDir:"column",isDisabled:!l&&!f.displayingBeforeInit,"data-log-click":`tab-${f.name}`,children:[R.jsx(Pt,{boxSize:n,as:f.icon}),R.jsx(er,{fontSize:"xs",children:f.displayName})]},`tab-${f.name}`))})]})}function Fdt(){const e=Ft(m=>m.appendChart),t=Ft(m=>m.setCurrentChartIndex),n=Ft(m=>m.charts),r=kf(m=>m.data),i=kf(m=>m.filename),o=Ft(m=>m.fields),s=Mo(m=>m.searchTargetFieldNames),a=Mo(m=>m.setSearchTargetFieldNames),l=Mo(m=>m.setTabByName),{mobile:u}=ji(),{data:c=[],isLoading:f}=Klt({queryKey:["getCharts",i,...s.sort()],queryFn:async()=>s.length===0||!r?[]:await us.call("getCharts",{fieldNames:s})??[]}),d=m=>{s.includes(m.name)?a(y=>y.filter(v=>v!==m.name)):s.length<3&&a(y=>[...y,m.name])},h=M.useMemo(()=>Array.from(o).filter(m=>m.type!=="name").sort(C1e),[o]),p=M.useCallback(m=>s.includes(m.name),[s]),g=M.useCallback(async m=>{await e(m),u&&l("charts"),t(n.length-1),a([])},[e,n.length,u,t,a,l]);return{loading:f,queriedCharts:c,handleFieldClick:d,handleChartClick:g,fields:h,isSelected:p,selectedFields:s}}const Odt=({count:e=5,thumbnailSize:t})=>Array.from({length:e}).map((n,r)=>R.jsxs(F9,{children:[R.jsxs(gn,{gap:4,p:1,align:"center",children:[R.jsx(P9,{height:`${t-8}px`,width:`${t-8}px`,borderRadius:"md"}),R.jsx(gn,{flexDir:"column",flex:"1",gap:2,children:R.jsx(bhe,{noOfLines:2,spacing:2,skeletonHeight:4,width:`calc(100% - ${t-16})`})})]}),R.jsx(RA,{my:1})]},`skeleton-${r}`));function wpe({thumbnailSize:e=80,tagSize:t="lg",...n}){const{scrollbarStyle:r}=ji(),{isSelected:i,loading:o,queriedCharts:s,handleFieldClick:a,handleChartClick:l,fields:u,selectedFields:c}=Fdt(),{t:f}=Os();return R.jsxs(gn,{flexDir:"column",w:"full",h:"full",justify:"space-between",gap:4,...n,children:[o?R.jsx(wk,{m:0,p:0,width:"full",overflowY:"scroll",sx:r,flex:"1 1 auto",children:R.jsx(Odt,{thumbnailSize:e,count:c.length===3?3:1})}):s.length===0&&c.length===0?R.jsxs(fa,{w:"full",h:"full",flexDir:"column",gap:8,px:8,children:[R.jsx(Pt,{boxSize:16,as:Jhe}),R.jsx(h0,{fontSize:28,fontWeight:600,textAlign:"center",overflowWrap:"break-word",children:f("search.empty")})]}):s.length===0&&c.length!==0?R.jsxs(fa,{w:"full",h:"full",flexDir:"column",gap:8,px:8,children:[R.jsx(Pt,{boxSize:16,as:Mut}),R.jsx(h0,{fontSize:28,fontWeight:600,textAlign:"center",overflowWrap:"break-word",maxW:280,children:f("search.no-results")})]}):R.jsx(wk,{m:0,p:0,width:"full",overflowY:"scroll",sx:r,flex:"1 1 auto",children:s.map(d=>R.jsx(ope,{animation:!0,thumbnailSize:e,chart:d,handleClick:()=>{l(d)}},`discovered-chart-${d.key}-${d.timestamp}`))}),R.jsx(fa,{flexWrap:"wrap",gap:3,h:"fit-content",flex:"0 0 auto",children:u.map(d=>R.jsx(Fct,{selected:i(d),field:d,size:t,variant:i(d)?"solid":"outline",onClick:()=>a(d),"data-log-click":`search-field-tag-${d.name}`,opacity:i(d)?1:c.length===3?.2:1,transition:"all 0.1s ease-in-out"},`discover-badge-${d.name}`))})]})}function Pdt(){const e=Ft(s=>s.charts),{mobile:t}=ji(),n=Mo(s=>s.setTabByName),r=e.filter(s=>s.preferred),i=Ft(s=>s.setCurrentChartIndex);return{preferredCharts:r,handleClickChart:s=>{const a=e.findIndex(l=>l===s);i(a),t&&n("charts")}}}function Spe({thumbnailSize:e,...t}){const{preferredCharts:n,handleClickChart:r}=Pdt(),{t:i}=Os();return R.jsx(gn,{w:"full",h:"full",...t,children:n.length?R.jsx(wk,{m:0,p:0,width:"full",overflowY:"auto",children:n.map(o=>R.jsx(ope,{thumbnailSize:e,chart:o,"data-log-click":`preferred-chart-${o.key}`,handleClick:r},`bookmark-${o.key}`))}):R.jsxs(fa,{w:"full",flexDir:"column",gap:8,children:[R.jsx(Pt,{boxSize:16,as:Put}),R.jsx(h0,{fontWeight:600,children:i("bookmarks.empty")})]})})}function Ddt(){const e=Ft(c=>c.charts),t=Ft(c=>c.currentChartIndex),n=Ft(c=>c.appendNextChart),r=Ft(c=>c.setCurrentChartIndex),i=Ft(c=>c.setCurrentChartPreferred),o=M.useRef(null),s=V9(),{cardInnerHeight:a}=ji(),l=M.useCallback(but(c=>{if(!c)return;const f=Math.floor((c.scrollTop+a*.5)/a)-1;r(f),f===e.length-1&&n()},100),[a,e.length,n,r]),u=M.useCallback(c=>{var f;(f=o.current)==null||f.scrollTo({top:(c+1)*a,behavior:"smooth"})},[a]);return M.useEffect(()=>{const c=()=>{var f;(f=o.current)!=null&&f.clientHeight?u(t):requestAnimationFrame(c)};requestAnimationFrame(c)},[t,u]),M.useEffect(()=>{const c={ArrowUp:()=>u(t-1),ArrowDown:()=>u(t+1),Enter:()=>i(!e[t].preferred)},f=d=>{const h=c[d.key];h&&(d.preventDefault(),s.log("chart-container","keydown",{key:d.key.toLowerCase().replace("arrow","")}),h())};return window.addEventListener("keydown",f),()=>window.removeEventListener("keydown",f)},[t,e,i,s,u]),{charts:e,currentChartIndex:t,ref:o,scrollContainerCallback:l}}const Mdt=hp`
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
`,Ndt=hp`
  from {
    opacity: 1;
  }
  to {
    opacity: 0;
  }
`;function Cpe(e){const{cardColor:t,cardInnerHeight:n,cardInnerWidth:r}=ji(),{charts:i,ref:o,scrollContainerCallback:s}=Ddt();return R.jsxs(gn,{ref:o,onScroll:a=>s(a.currentTarget),"data-log-scroll":"chart-container",scrollSnapType:"y mandatory",flexDir:"column",borderRadius:"lg",bgColor:t,overflowX:"hidden",animation:`${Mdt} 0.2s ease-in-out`,style:{WebkitOverflowScrolling:"touch"},sx:{"&.removing":{animation:`${Ndt} 0.1s ease-in-out forwards`},"&::-webkit-scrollbar":{display:"none"}},...e,children:[R.jsx(dpe,{flexDir:"column",minW:"full",minH:n,maxH:n,scrollSnapStop:"always",scrollSnapAlign:"start"}),i.map(a=>R.jsx(Tct,{minH:n,maxH:n,w:r,chart:a,flexDirection:"column",borderRadius:"lg",scrollSnapStop:"always",scrollSnapAlign:"start"},`chart-${a.key}-${a.timestamp}`))]})}const Ldt=M.memo(Idt);function Idt(){const{accentColor:e}=ji(),t=Mo(o=>o.tabIndex),n=Mo(o=>o.setTabByName),{t:r}=Os(),i=Ft(o=>o.fields);return R.jsxs(gn,{w:"full",justifyContent:"space-between",alignItems:"center",px:2,py:1,children:[t!==-1?R.jsxs(gn,{alignItems:"center",h:"full",gap:1,children:[R.jsx(Pt,{as:epe,boxSize:7}),R.jsx(h0,{size:"md",children:"Swipytics"})]}):R.jsx(gn,{}),R.jsx(Uh,{variant:"ghost",padding:0,isDisabled:i.length===0,color:t===-1?e:void 0,icon:R.jsx(Pt,{as:H9,boxSize:6}),"aria-label":r("settings.title"),"data-log-click":"setting button",onClick:()=>{n(t===-1?"charts":"settings")}})]})}function zdt(){const{t:e}=Os();return R.jsxs(gn,{p:2,w:"100dvw",h:"100dvh",gap:2,flexDir:"column",position:"relative",children:[R.jsx(Ldt,{}),R.jsx(Rdt,{flexDir:"column",variant:"soft-rounded",tabs:[{name:"charts",displayName:e("charts.title"),icon:_ut,Panel:R.jsx(Cpe,{}),displayingBeforeInit:!1},{name:"likes",displayName:e("bookmarks.title"),icon:W9,Panel:R.jsx(Spe,{thumbnailSize:100}),displayingBeforeInit:!1},{name:"search",displayName:e("search.title"),icon:Dut,Panel:R.jsx(wpe,{tagSize:"md"}),displayingBeforeInit:!1},{name:"settings",displayName:e("settings.title"),icon:H9,Panel:R.jsxs(gn,{flexDir:"column",justify:"space-between",h:"full",children:[R.jsx(dpe,{h:"full"}),R.jsx(TA,{}),R.jsx(xpe,{align:"start"})]}),displayingBeforeInit:!0}]})]})}function Bdt(){const{cardHeight:e,cardColor:t,cardWidth:n,borderColor:r,tabPanelHeight:i}=ji(),{t:o}=Os();return R.jsxs(gn,{minW:"container.xl",maxH:e,gap:4,flexDir:"row",children:[R.jsxs(gn,{position:"relative",w:n,h:e,children:[R.jsx(Cpe,{w:"full",h:"full",gap:4}),R.jsx(ype,{left:2,w:8})]}),R.jsxs(gn,{position:"relative",borderTop:"none",borderColor:r,px:4,py:2,flexDir:"column",bgColor:t,borderRadius:"lg",w:"sm",minW:"sm",children:[R.jsx(Tdt,{flexDir:"column",variant:"line",tabs:[{name:"likes",displayName:o("bookmarks.title"),icon:W9,Panel:R.jsx(Spe,{h:i,thumbnailSize:100}),displayingBeforeInit:!1},{name:"search",displayName:o("search.title"),icon:Jhe,Panel:R.jsx(wpe,{tagSize:"md",h:i,pb:4,thumbnailSize:80}),displayingBeforeInit:!1},{name:"settings",displayName:o("settings.title"),icon:H9,Panel:R.jsx(xpe,{h:i,align:"start",py:4}),displayingBeforeInit:!0}]}),R.jsx(TA,{}),R.jsx(Rct,{spacing:2,w:"full"})]})]})}function jdt(){const{mobile:e}=ji();return xut(),e?R.jsx(zdt,{}):R.jsx(Bdt,{})}const Udt=btt({initialColorMode:"dark",useSystemColorMode:!0,components:{Button:{defaultProps:{size:"sm"}},Input:{defaultProps:{size:"sm",focusBorderColor:Wc[200]},baseStyle:{field:{_focusVisible:{borderColor:Wc[200]}}}},Select:{defaultProps:{size:"sm",focusBorderColor:Wc[200]}},Tabs:{parts:["tabpanel"],baseStyle:{tabpanel:{p:0}}},Card:{baseStyle:e=>({container:{bg:e.colorMode==="light"?"white":"gray.900"}})}},styles:{global:e=>({body:{height:"100dvh",overflow:"smooth",overscrollBehavior:"none",bg:e.colorMode==="light"?"gray.100":"gray.800"},html:{height:"100dvh",overflow:"smooth",overscrollBehavior:"none",overflowY:"overlay",focusBorderColor:Wc[200]}})}});var Epe,qX=H8;Epe=qX.createRoot,qX.hydrateRoot;const r6=(e,t)=>t.some(n=>e instanceof n);let GX,XX;function Vdt(){return GX||(GX=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Wdt(){return XX||(XX=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const i6=new WeakMap,B4=new WeakMap,VA=new WeakMap;function Hdt(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",o),e.removeEventListener("error",s)},o=()=>{n(gh(e.result)),i()},s=()=>{r(e.error),i()};e.addEventListener("success",o),e.addEventListener("error",s)});return VA.set(t,e),t}function qdt(e){if(i6.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",s),e.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",o),e.addEventListener("error",s),e.addEventListener("abort",s)});i6.set(e,t)}let o6={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return i6.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return gh(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function kpe(e){o6=e(o6)}function Gdt(e){return Wdt().includes(e)?function(...t){return e.apply(s6(this),t),gh(this.request)}:function(...t){return gh(e.apply(s6(this),t))}}function Xdt(e){return typeof e=="function"?Gdt(e):(e instanceof IDBTransaction&&qdt(e),r6(e,Vdt())?new Proxy(e,o6):e)}function gh(e){if(e instanceof IDBRequest)return Hdt(e);if(B4.has(e))return B4.get(e);const t=Xdt(e);return t!==e&&(B4.set(e,t),VA.set(t,e)),t}const s6=e=>VA.get(e);function Ydt(e,t,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(e,t),a=gh(s);return r&&s.addEventListener("upgradeneeded",l=>{r(gh(s.result),l.oldVersion,l.newVersion,gh(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const Kdt=["get","getKey","getAll","getAllKeys","count"],Qdt=["put","add","delete","clear"],j4=new Map;function YX(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(j4.get(t))return j4.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=Qdt.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Kdt.includes(n)))return;const o=async function(s,...a){const l=this.transaction(s,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return j4.set(t,o),o}kpe(e=>({...e,get:(t,n,r)=>YX(t,n)||e.get(t,n,r),has:(t,n)=>!!YX(t,n)||e.has(t,n)}));const Jdt=["continue","continuePrimaryKey","advance"],KX={},a6=new WeakMap,_pe=new WeakMap,Zdt={get(e,t){if(!Jdt.includes(t))return e[t];let n=KX[t];return n||(n=KX[t]=function(...r){a6.set(this,_pe.get(this)[t](...r))}),n}};async function*eht(...e){let t=this;if(t instanceof IDBCursor||(t=await t.openCursor(...e)),!t)return;t=t;const n=new Proxy(t,Zdt);for(_pe.set(n,t),VA.set(n,s6(t));t;)yield n,t=await(a6.get(n)||t.continue()),a6.delete(n)}function QX(e,t){return t===Symbol.asyncIterator&&r6(e,[IDBIndex,IDBObjectStore,IDBCursor])||t==="iterate"&&r6(e,[IDBIndex,IDBObjectStore])}kpe(e=>({...e,get(t,n,r){return QX(t,n)?eht:e.get(t,n,r)},has(t,n){return QX(t,n)||e.has(t,n)}}));const tht=e=>Ydt(e,1,{upgrade:t=>{t.objectStoreNames.contains(e)||t.createObjectStore(e,{keyPath:"timestamp"})}}),Pk=()=>new Map,$pe=e=>{const t=localStorage.getItem(e)??"[]";try{const n=JSON.parse(t);return new Map(n)}catch(n){return console.error("Failed to parse existing logs:",n),localStorage.removeItem(e),Pk()}},JX=(e,t,n,r)=>{const i=$pe(e);i.set(t,{...n,timestamp:t,version:r}),localStorage.setItem(e,JSON.stringify(Array.from(i.entries())))},nht=async(e,t)=>{try{const n=e.transaction(t,"readonly"),r=n.objectStore(t),i=Pk(),o=await r.getAll();return await n.done,o.forEach(s=>{s.timestamp!==void 0&&i.set(s.timestamp,s)}),i}catch(n){return console.error("IndexedDB read error:",n),Pk()}},rht=(e,t,n,r,i)=>{e.transaction(t,"readwrite").objectStore(t).add({timestamp:n,...r,version:i})},iht=async(e,t)=>{const n=e?await nht(e,t):Pk(),r=$pe(t),i=new Map([...n,...r]);return Array.from(i.entries()).map(([o,s])=>({...s,timestamp:o})).sort((o,s)=>o.timestamp-s.timestamp)};class oht{constructor(t="logs",n="json",r=1,i="logger"){me(this,"indexedDB",null);me(this,"eventListeners",{});me(this,"scrollLogged",!1);me(this,"logFileName");me(this,"logFileFormat");me(this,"logVersion");me(this,"storageKey");me(this,"saveLog",(t,n)=>{if(!this.indexedDB){console.warn("IndexedDB is not initialized."),JX(this.storageKey,t,n,this.logVersion);return}try{rht(this.indexedDB,this.storageKey,t,n,this.logVersion)}catch(r){console.error("Failed to save log to IndexedDB:",r),JX(this.storageKey,t,n,this.logVersion)}});me(this,"createEventListener",(t,n)=>r=>{if(r.type!==t)return;const o=r.target.closest(`[data-log-${t}]`);if(!o)return;const s=o.getAttribute(`data-log-${t}`);if(typeof s=="string"){if(t==="scroll"){if(this.scrollLogged)return;this.scrollLogged=!0}else this.scrollLogged=!1;if(n){this.saveLog(Date.now(),{key:s,event:t,data:n()});return}else this.saveLog(Date.now(),{key:s,event:t})}});me(this,"registerEvent",(t,n,r)=>(n.forEach(i=>{this.eventListeners[i]||(this.eventListeners[i]=this.createEventListener(i,r)),i==="scroll"?t.addEventListener(i,this.eventListeners[i],{capture:!0}):t.addEventListener(i,this.eventListeners[i])}),()=>{this.detachEvent(t,n)}));me(this,"detachEvent",(t,n)=>{n.forEach(r=>{this.eventListeners[r]&&(r==="scroll"?t.removeEventListener(r,this.eventListeners[r],{capture:!0}):t.removeEventListener(r,this.eventListeners[r]))})});me(this,"export",async()=>{this.indexedDB||console.warn("IndexedDB is not initialized.");const t=await iht(this.indexedDB,this.storageKey),n=new Blob([JSON.stringify(t,null,2)],{type:"application/json"}),r=URL.createObjectURL(n),i=document.createElement("a");i.href=r,i.download=`${this.logFileName}.${this.logFileFormat}`,document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(r)});me(this,"registerLogger",(t=[],n=window)=>(this.initializeDB().then(()=>{this.registerEvent(n,t)}),()=>{this.detachEvent(n,t)}));this.logFileName=t,this.logFileFormat=n,this.logVersion=r,this.storageKey=i,this.initializeDB()}async initializeDB(){try{this.indexedDB=await tht(this.storageKey)}catch(t){console.warn("Failed to connect to IndexedDB:",t)}}log(t,n,r){this.saveLog(Date.now(),{key:t,event:n,data:r}),n!=="scroll"&&(this.scrollLogged=!1)}async clearLogs(){try{if(!this.indexedDB){console.warn("IndexedDB is not initialized."),localStorage.removeItem(this.storageKey);return}await this.indexedDB.transaction(this.storageKey,"readwrite").objectStore(this.storageKey).clear(),localStorage.removeItem(this.storageKey),console.log("Logs cleared successfully")}catch(t){throw console.error("Failed to clear logs:",t),t}}}const{slice:sht,forEach:aht}=[];function lht(e){return aht.call(sht.call(arguments,1),t=>{if(t)for(const n in t)e[n]===void 0&&(e[n]=t[n])}),e}const ZX=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,uht=(e,t,n)=>{const r=n||{};r.path=r.path||"/";const i=encodeURIComponent(t);let o=`${e}=${i}`;if(r.maxAge>0){const s=r.maxAge-0;if(Number.isNaN(s))throw new Error("maxAge should be a Number");o+=`; Max-Age=${Math.floor(s)}`}if(r.domain){if(!ZX.test(r.domain))throw new TypeError("option domain is invalid");o+=`; Domain=${r.domain}`}if(r.path){if(!ZX.test(r.path))throw new TypeError("option path is invalid");o+=`; Path=${r.path}`}if(r.expires){if(typeof r.expires.toUTCString!="function")throw new TypeError("option expires is invalid");o+=`; Expires=${r.expires.toUTCString()}`}if(r.httpOnly&&(o+="; HttpOnly"),r.secure&&(o+="; Secure"),r.sameSite)switch(typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite){case!0:o+="; SameSite=Strict";break;case"lax":o+="; SameSite=Lax";break;case"strict":o+="; SameSite=Strict";break;case"none":o+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return o},eY={create(e,t,n,r){let i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};n&&(i.expires=new Date,i.expires.setTime(i.expires.getTime()+n*60*1e3)),r&&(i.domain=r),document.cookie=uht(e,encodeURIComponent(t),i)},read(e){const t=`${e}=`,n=document.cookie.split(";");for(let r=0;r<n.length;r++){let i=n[r];for(;i.charAt(0)===" ";)i=i.substring(1,i.length);if(i.indexOf(t)===0)return i.substring(t.length,i.length)}return null},remove(e){this.create(e,"",-1)}};var cht={name:"cookie",lookup(e){let{lookupCookie:t}=e;if(t&&typeof document<"u")return eY.read(t)||void 0},cacheUserLanguage(e,t){let{lookupCookie:n,cookieMinutes:r,cookieDomain:i,cookieOptions:o}=t;n&&typeof document<"u"&&eY.create(n,e,r,i,o)}},fht={name:"querystring",lookup(e){var r;let{lookupQuerystring:t}=e,n;if(typeof window<"u"){let{search:i}=window.location;!window.location.search&&((r=window.location.hash)==null?void 0:r.indexOf("?"))>-1&&(i=window.location.hash.substring(window.location.hash.indexOf("?")));const s=i.substring(1).split("&");for(let a=0;a<s.length;a++){const l=s[a].indexOf("=");l>0&&s[a].substring(0,l)===t&&(n=s[a].substring(l+1))}}return n}};let Zy=null;const tY=()=>{if(Zy!==null)return Zy;try{Zy=window!=="undefined"&&window.localStorage!==null;const e="i18next.translate.boo";window.localStorage.setItem(e,"foo"),window.localStorage.removeItem(e)}catch{Zy=!1}return Zy};var dht={name:"localStorage",lookup(e){let{lookupLocalStorage:t}=e;if(t&&tY())return window.localStorage.getItem(t)||void 0},cacheUserLanguage(e,t){let{lookupLocalStorage:n}=t;n&&tY()&&window.localStorage.setItem(n,e)}};let e1=null;const nY=()=>{if(e1!==null)return e1;try{e1=window!=="undefined"&&window.sessionStorage!==null;const e="i18next.translate.boo";window.sessionStorage.setItem(e,"foo"),window.sessionStorage.removeItem(e)}catch{e1=!1}return e1};var hht={name:"sessionStorage",lookup(e){let{lookupSessionStorage:t}=e;if(t&&nY())return window.sessionStorage.getItem(t)||void 0},cacheUserLanguage(e,t){let{lookupSessionStorage:n}=t;n&&nY()&&window.sessionStorage.setItem(n,e)}},pht={name:"navigator",lookup(e){const t=[];if(typeof navigator<"u"){const{languages:n,userLanguage:r,language:i}=navigator;if(n)for(let o=0;o<n.length;o++)t.push(n[o]);r&&t.push(r),i&&t.push(i)}return t.length>0?t:void 0}},ght={name:"htmlTag",lookup(e){let{htmlTag:t}=e,n;const r=t||(typeof document<"u"?document.documentElement:null);return r&&typeof r.getAttribute=="function"&&(n=r.getAttribute("lang")),n}},mht={name:"path",lookup(e){var i;let{lookupFromPathIndex:t}=e;if(typeof window>"u")return;const n=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(n)?(i=n[typeof t=="number"?t:0])==null?void 0:i.replace("/",""):void 0}},yht={name:"subdomain",lookup(e){var i,o;let{lookupFromSubdomainIndex:t}=e;const n=typeof t=="number"?t+1:1,r=typeof window<"u"&&((o=(i=window.location)==null?void 0:i.hostname)==null?void 0:o.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i));if(r)return r[n]}};function vht(){return{order:["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"],lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:e=>e}}class Ape{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(t,n)}init(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=t||{languageUtils:{}},this.options=lht(n,this.options||{},vht()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=i=>i.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=r,this.addDetector(cht),this.addDetector(fht),this.addDetector(dht),this.addDetector(hht),this.addDetector(pht),this.addDetector(ght),this.addDetector(mht),this.addDetector(yht)}addDetector(t){return this.detectors[t.name]=t,this}detect(t){t||(t=this.options.order);let n=[];return t.forEach(r=>{if(this.detectors[r]){let i=this.detectors[r].lookup(this.options);i&&typeof i=="string"&&(i=[i]),i&&(n=n.concat(i))}}),n=n.map(r=>this.options.convertDetectedLanguage(r)),this.services.languageUtils.getBestMatchFromCodes?n:n.length>0?n[0]:null}cacheUserLanguage(t,n){n||(n=this.options.caches),n&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(t)>-1||n.forEach(r=>{this.detectors[r]&&this.detectors[r].cacheUserLanguage(t,this.options)}))}}Ape.type="languageDetector";function l6(e){"@babel/helpers - typeof";return l6=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l6(e)}function Tpe(){return typeof XMLHttpRequest=="function"||(typeof XMLHttpRequest>"u"?"undefined":l6(XMLHttpRequest))==="object"}function bht(e){return!!e&&typeof e.then=="function"}function xht(e){return bht(e)?e:Promise.resolve(e)}function wht(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var u6={exports:{}},jw={exports:{}},rY;function Sht(){return rY||(rY=1,function(e,t){var n=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof Qi<"u"&&Qi,r=function(){function o(){this.fetch=!1,this.DOMException=n.DOMException}return o.prototype=n,new o}();(function(o){(function(s){var a=typeof o<"u"&&o||typeof self<"u"&&self||typeof a<"u"&&a,l={searchParams:"URLSearchParams"in a,iterable:"Symbol"in a&&"iterator"in Symbol,blob:"FileReader"in a&&"Blob"in a&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in a,arrayBuffer:"ArrayBuffer"in a};function u(A){return A&&DataView.prototype.isPrototypeOf(A)}if(l.arrayBuffer)var c=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],f=ArrayBuffer.isView||function(A){return A&&c.indexOf(Object.prototype.toString.call(A))>-1};function d(A){if(typeof A!="string"&&(A=String(A)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(A)||A==="")throw new TypeError('Invalid character in header field name: "'+A+'"');return A.toLowerCase()}function h(A){return typeof A!="string"&&(A=String(A)),A}function p(A){var O={next:function(){var B=A.shift();return{done:B===void 0,value:B}}};return l.iterable&&(O[Symbol.iterator]=function(){return O}),O}function g(A){this.map={},A instanceof g?A.forEach(function(O,B){this.append(B,O)},this):Array.isArray(A)?A.forEach(function(O){this.append(O[0],O[1])},this):A&&Object.getOwnPropertyNames(A).forEach(function(O){this.append(O,A[O])},this)}g.prototype.append=function(A,O){A=d(A),O=h(O);var B=this.map[A];this.map[A]=B?B+", "+O:O},g.prototype.delete=function(A){delete this.map[d(A)]},g.prototype.get=function(A){return A=d(A),this.has(A)?this.map[A]:null},g.prototype.has=function(A){return this.map.hasOwnProperty(d(A))},g.prototype.set=function(A,O){this.map[d(A)]=h(O)},g.prototype.forEach=function(A,O){for(var B in this.map)this.map.hasOwnProperty(B)&&A.call(O,this.map[B],B,this)},g.prototype.keys=function(){var A=[];return this.forEach(function(O,B){A.push(B)}),p(A)},g.prototype.values=function(){var A=[];return this.forEach(function(O){A.push(O)}),p(A)},g.prototype.entries=function(){var A=[];return this.forEach(function(O,B){A.push([B,O])}),p(A)},l.iterable&&(g.prototype[Symbol.iterator]=g.prototype.entries);function m(A){if(A.bodyUsed)return Promise.reject(new TypeError("Already read"));A.bodyUsed=!0}function y(A){return new Promise(function(O,B){A.onload=function(){O(A.result)},A.onerror=function(){B(A.error)}})}function v(A){var O=new FileReader,B=y(O);return O.readAsArrayBuffer(A),B}function b(A){var O=new FileReader,B=y(O);return O.readAsText(A),B}function x(A){for(var O=new Uint8Array(A),B=new Array(O.length),z=0;z<O.length;z++)B[z]=String.fromCharCode(O[z]);return B.join("")}function w(A){if(A.slice)return A.slice(0);var O=new Uint8Array(A.byteLength);return O.set(new Uint8Array(A)),O.buffer}function E(){return this.bodyUsed=!1,this._initBody=function(A){this.bodyUsed=this.bodyUsed,this._bodyInit=A,A?typeof A=="string"?this._bodyText=A:l.blob&&Blob.prototype.isPrototypeOf(A)?this._bodyBlob=A:l.formData&&FormData.prototype.isPrototypeOf(A)?this._bodyFormData=A:l.searchParams&&URLSearchParams.prototype.isPrototypeOf(A)?this._bodyText=A.toString():l.arrayBuffer&&l.blob&&u(A)?(this._bodyArrayBuffer=w(A.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):l.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(A)||f(A))?this._bodyArrayBuffer=w(A):this._bodyText=A=Object.prototype.toString.call(A):this._bodyText="",this.headers.get("content-type")||(typeof A=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):l.searchParams&&URLSearchParams.prototype.isPrototypeOf(A)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},l.blob&&(this.blob=function(){var A=m(this);if(A)return A;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var A=m(this);return A||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else return this.blob().then(v)}),this.text=function(){var A=m(this);if(A)return A;if(this._bodyBlob)return b(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(x(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},l.formData&&(this.formData=function(){return this.text().then(F)}),this.json=function(){return this.text().then(JSON.parse)},this}var S=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function k(A){var O=A.toUpperCase();return S.indexOf(O)>-1?O:A}function $(A,O){if(!(this instanceof $))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');O=O||{};var B=O.body;if(A instanceof $){if(A.bodyUsed)throw new TypeError("Already read");this.url=A.url,this.credentials=A.credentials,O.headers||(this.headers=new g(A.headers)),this.method=A.method,this.mode=A.mode,this.signal=A.signal,!B&&A._bodyInit!=null&&(B=A._bodyInit,A.bodyUsed=!0)}else this.url=String(A);if(this.credentials=O.credentials||this.credentials||"same-origin",(O.headers||!this.headers)&&(this.headers=new g(O.headers)),this.method=k(O.method||this.method||"GET"),this.mode=O.mode||this.mode||null,this.signal=O.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&B)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(B),(this.method==="GET"||this.method==="HEAD")&&(O.cache==="no-store"||O.cache==="no-cache")){var z=/([?&])_=[^&]*/;if(z.test(this.url))this.url=this.url.replace(z,"$1_="+new Date().getTime());else{var U=/\?/;this.url+=(U.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}$.prototype.clone=function(){return new $(this,{body:this._bodyInit})};function F(A){var O=new FormData;return A.trim().split("&").forEach(function(B){if(B){var z=B.split("="),U=z.shift().replace(/\+/g," "),X=z.join("=").replace(/\+/g," ");O.append(decodeURIComponent(U),decodeURIComponent(X))}}),O}function P(A){var O=new g,B=A.replace(/\r?\n[\t ]+/g," ");return B.split("\r").map(function(z){return z.indexOf(`
`)===0?z.substr(1,z.length):z}).forEach(function(z){var U=z.split(":"),X=U.shift().trim();if(X){var K=U.join(":").trim();O.append(X,K)}}),O}E.call($.prototype);function j(A,O){if(!(this instanceof j))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');O||(O={}),this.type="default",this.status=O.status===void 0?200:O.status,this.ok=this.status>=200&&this.status<300,this.statusText=O.statusText===void 0?"":""+O.statusText,this.headers=new g(O.headers),this.url=O.url||"",this._initBody(A)}E.call(j.prototype),j.prototype.clone=function(){return new j(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new g(this.headers),url:this.url})},j.error=function(){var A=new j(null,{status:0,statusText:""});return A.type="error",A};var D=[301,302,303,307,308];j.redirect=function(A,O){if(D.indexOf(O)===-1)throw new RangeError("Invalid status code");return new j(null,{status:O,headers:{location:A}})},s.DOMException=a.DOMException;try{new s.DOMException}catch{s.DOMException=function(O,B){this.message=O,this.name=B;var z=Error(O);this.stack=z.stack},s.DOMException.prototype=Object.create(Error.prototype),s.DOMException.prototype.constructor=s.DOMException}function L(A,O){return new Promise(function(B,z){var U=new $(A,O);if(U.signal&&U.signal.aborted)return z(new s.DOMException("Aborted","AbortError"));var X=new XMLHttpRequest;function K(){X.abort()}X.onload=function(){var oe={status:X.status,statusText:X.statusText,headers:P(X.getAllResponseHeaders()||"")};oe.url="responseURL"in X?X.responseURL:oe.headers.get("X-Request-URL");var _e="response"in X?X.response:X.responseText;setTimeout(function(){B(new j(_e,oe))},0)},X.onerror=function(){setTimeout(function(){z(new TypeError("Network request failed"))},0)},X.ontimeout=function(){setTimeout(function(){z(new TypeError("Network request failed"))},0)},X.onabort=function(){setTimeout(function(){z(new s.DOMException("Aborted","AbortError"))},0)};function pe(oe){try{return oe===""&&a.location.href?a.location.href:oe}catch{return oe}}X.open(U.method,pe(U.url),!0),U.credentials==="include"?X.withCredentials=!0:U.credentials==="omit"&&(X.withCredentials=!1),"responseType"in X&&(l.blob?X.responseType="blob":l.arrayBuffer&&U.headers.get("Content-Type")&&U.headers.get("Content-Type").indexOf("application/octet-stream")!==-1&&(X.responseType="arraybuffer")),O&&typeof O.headers=="object"&&!(O.headers instanceof g)?Object.getOwnPropertyNames(O.headers).forEach(function(oe){X.setRequestHeader(oe,h(O.headers[oe]))}):U.headers.forEach(function(oe,_e){X.setRequestHeader(_e,oe)}),U.signal&&(U.signal.addEventListener("abort",K),X.onreadystatechange=function(){X.readyState===4&&U.signal.removeEventListener("abort",K)}),X.send(typeof U._bodyInit>"u"?null:U._bodyInit)})}return L.polyfill=!0,a.fetch||(a.fetch=L,a.Headers=g,a.Request=$,a.Response=j),s.Headers=g,s.Request=$,s.Response=j,s.fetch=L,s})({})})(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var i=n.fetch?n:r;t=i.fetch,t.default=i.fetch,t.fetch=i.fetch,t.Headers=i.Headers,t.Request=i.Request,t.Response=i.Response,e.exports=t}(jw,jw.exports)),jw.exports}(function(e,t){var n;if(typeof fetch=="function"&&(typeof Qi<"u"&&Qi.fetch?n=Qi.fetch:typeof window<"u"&&window.fetch?n=window.fetch:n=fetch),typeof wht<"u"&&typeof window>"u"){var r=n||Sht();r.default&&(r=r.default),t.default=r,e.exports=t.default}})(u6,u6.exports);var Rpe=u6.exports;const Fpe=qh(Rpe),iY=xY({__proto__:null,default:Fpe},[Rpe]);function oY(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function sY(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?oY(Object(n),!0).forEach(function(r){Cht(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oY(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Cht(e,t,n){return(t=Eht(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Eht(e){var t=kht(e,"string");return Hh(t)=="symbol"?t:t+""}function kht(e,t){if(Hh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Hh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Hh(e){"@babel/helpers - typeof";return Hh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hh(e)}var ku;typeof fetch=="function"&&(typeof global<"u"&&global.fetch?ku=global.fetch:typeof window<"u"&&window.fetch?ku=window.fetch:ku=fetch);var Rb;Tpe()&&(typeof global<"u"&&global.XMLHttpRequest?Rb=global.XMLHttpRequest:typeof window<"u"&&window.XMLHttpRequest&&(Rb=window.XMLHttpRequest));var Dk;typeof ActiveXObject=="function"&&(typeof global<"u"&&global.ActiveXObject?Dk=global.ActiveXObject:typeof window<"u"&&window.ActiveXObject&&(Dk=window.ActiveXObject));!ku&&iY&&!Rb&&!Dk&&(ku=Fpe||iY);typeof ku!="function"&&(ku=void 0);var c6=function(t,n){if(n&&Hh(n)==="object"){var r="";for(var i in n)r+="&"+encodeURIComponent(i)+"="+encodeURIComponent(n[i]);if(!r)return t;t=t+(t.indexOf("?")!==-1?"&":"?")+r.slice(1)}return t},aY=function(t,n,r,i){var o=function(l){if(!l.ok)return r(l.statusText||"Error",{status:l.status});l.text().then(function(u){r(null,{status:l.status,data:u})}).catch(r)};if(i){var s=i(t,n);if(s instanceof Promise){s.then(o).catch(r);return}}typeof fetch=="function"?fetch(t,n).then(o).catch(r):ku(t,n).then(o).catch(r)},lY=!1,_ht=function(t,n,r,i){t.queryStringParams&&(n=c6(n,t.queryStringParams));var o=sY({},typeof t.customHeaders=="function"?t.customHeaders():t.customHeaders);typeof window>"u"&&typeof global<"u"&&typeof global.process<"u"&&global.process.versions&&global.process.versions.node&&(o["User-Agent"]="i18next-http-backend (node/".concat(global.process.version,"; ").concat(global.process.platform," ").concat(global.process.arch,")")),r&&(o["Content-Type"]="application/json");var s=typeof t.requestOptions=="function"?t.requestOptions(r):t.requestOptions,a=sY({method:r?"POST":"GET",body:r?t.stringify(r):void 0,headers:o},lY?{}:s),l=typeof t.alternateFetch=="function"&&t.alternateFetch.length>=1?t.alternateFetch:void 0;try{aY(n,a,i,l)}catch(u){if(!s||Object.keys(s).length===0||!u.message||u.message.indexOf("not implemented")<0)return i(u);try{Object.keys(s).forEach(function(c){delete a[c]}),aY(n,a,i,l),lY=!0}catch(c){i(c)}}},$ht=function(t,n,r,i){r&&Hh(r)==="object"&&(r=c6("",r).slice(1)),t.queryStringParams&&(n=c6(n,t.queryStringParams));try{var o;Rb?o=new Rb:o=new Dk("MSXML2.XMLHTTP.3.0"),o.open(r?"POST":"GET",n,1),t.crossDomain||o.setRequestHeader("X-Requested-With","XMLHttpRequest"),o.withCredentials=!!t.withCredentials,r&&o.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),o.overrideMimeType&&o.overrideMimeType("application/json");var s=t.customHeaders;if(s=typeof s=="function"?s():s,s)for(var a in s)o.setRequestHeader(a,s[a]);o.onreadystatechange=function(){o.readyState>3&&i(o.status>=400?o.statusText:null,{status:o.status,data:o.responseText})},o.send(r)}catch(l){console&&console.log(l)}},Aht=function(t,n,r,i){if(typeof r=="function"&&(i=r,r=void 0),i=i||function(){},ku&&n.indexOf("file:")!==0)return _ht(t,n,r,i);if(Tpe()||typeof ActiveXObject=="function")return $ht(t,n,r,i);i(new Error("No fetch and no xhr implementation found!"))};function y0(e){"@babel/helpers - typeof";return y0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},y0(e)}function uY(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function U4(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?uY(Object(n),!0).forEach(function(r){Ope(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uY(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Tht(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Rht(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ppe(r.key),r)}}function Fht(e,t,n){return t&&Rht(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ope(e,t,n){return(t=Ppe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ppe(e){var t=Oht(e,"string");return y0(t)=="symbol"?t:t+""}function Oht(e,t){if(y0(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(y0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Pht=function(){return{loadPath:"/locales/{{lng}}/{{ns}}.json",addPath:"/locales/add/{{lng}}/{{ns}}",parse:function(n){return JSON.parse(n)},stringify:JSON.stringify,parsePayload:function(n,r,i){return Ope({},r,i||"")},parseLoadPayload:function(n,r){},request:Aht,reloadInterval:typeof window<"u"?!1:60*60*1e3,customHeaders:{},queryStringParams:{},crossDomain:!1,withCredentials:!1,overrideMimeType:!1,requestOptions:{mode:"cors",credentials:"same-origin",cache:"default"}}},Dpe=function(){function e(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Tht(this,e),this.services=t,this.options=n,this.allOptions=r,this.type="backend",this.init(t,n,r)}return Fht(e,[{key:"init",value:function(n){var r=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(this.services=n,this.options=U4(U4(U4({},Pht()),this.options||{}),i),this.allOptions=o,this.services&&this.options.reloadInterval){var s=setInterval(function(){return r.reload()},this.options.reloadInterval);y0(s)==="object"&&typeof s.unref=="function"&&s.unref()}}},{key:"readMulti",value:function(n,r,i){this._readAny(n,n,r,r,i)}},{key:"read",value:function(n,r,i){this._readAny([n],n,[r],r,i)}},{key:"_readAny",value:function(n,r,i,o,s){var a=this,l=this.options.loadPath;typeof this.options.loadPath=="function"&&(l=this.options.loadPath(n,i)),l=xht(l),l.then(function(u){if(!u)return s(null,{});var c=a.services.interpolator.interpolate(u,{lng:n.join("+"),ns:i.join("+")});a.loadUrl(c,s,r,o)})}},{key:"loadUrl",value:function(n,r,i,o){var s=this,a=typeof i=="string"?[i]:i,l=typeof o=="string"?[o]:o,u=this.options.parseLoadPayload(a,l);this.options.request(this.options,n,u,function(c,f){if(f&&(f.status>=500&&f.status<600||!f.status))return r("failed loading "+n+"; status code: "+f.status,!0);if(f&&f.status>=400&&f.status<500)return r("failed loading "+n+"; status code: "+f.status,!1);if(!f&&c&&c.message&&c.message.toLowerCase().indexOf("failed")>-1&&(c.message.indexOf("fetch")>-1||c.message.toLowerCase().indexOf("network")>-1))return r("failed loading "+n+": "+c.message,!0);if(c)return r(c,!1);var d,h;try{typeof f.data=="string"?d=s.options.parse(f.data,i,o):d=f.data}catch{h="failed parsing "+n+" to json"}if(h)return r(h,!1);r(null,d)})}},{key:"create",value:function(n,r,i,o,s){var a=this;if(this.options.addPath){typeof n=="string"&&(n=[n]);var l=this.options.parsePayload(r,i,o),u=0,c=[],f=[];n.forEach(function(d){var h=a.options.addPath;typeof a.options.addPath=="function"&&(h=a.options.addPath(d,r));var p=a.services.interpolator.interpolate(h,{lng:d,ns:r});a.options.request(a.options,p,l,function(g,m){u+=1,c.push(g),f.push(m),u===n.length&&typeof s=="function"&&s(c,f)})})}}},{key:"reload",value:function(){var n=this,r=this.services,i=r.backendConnector,o=r.languageUtils,s=r.logger,a=i.language;if(!(a&&a.toLowerCase()==="cimode")){var l=[],u=function(f){var d=o.toResolveHierarchy(f);d.forEach(function(h){l.indexOf(h)<0&&l.push(h)})};u(a),this.allOptions.preload&&this.allOptions.preload.forEach(function(c){return u(c)}),l.forEach(function(c){n.allOptions.ns.forEach(function(f){i.read(c,f,"read",null,null,function(d,h){d&&s.warn("loading namespace ".concat(f," for language ").concat(c," failed"),d),!d&&h&&s.log("loaded namespace ".concat(f," for language ").concat(c),h),i.loaded("".concat(c,"|").concat(f),d,h)})})})}}}])}();Dpe.type="backend";fi.use(Dpe).use(Ape).use(hut).init({supportedLngs:["en","ko"],fallbackLng:"en",debug:!0,interpolation:{escapeValue:!1},backend:{loadPath:"/Swipytics/locales/{{lng}}/translation.json"},react:{useSuspense:!0}});const Dht=new Olt,Mht=new oht;Epe(document.getElementById("root")).render(R.jsx(M.StrictMode,{children:R.jsx(Llt,{client:Dht,children:R.jsx(tut,{client:Mht,attachTo:window,eventTypes:["click","scroll","change"],children:R.jsx(zst,{theme:Udt,children:R.jsx(fa,{flexDir:"column",minH:"100dvh",p:0,m:0,w:"full",children:R.jsx(jdt,{})})})})})}))});export default Nht();
