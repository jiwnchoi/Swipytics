var Wge=Object.defineProperty;var Sz=e=>{throw TypeError(e)};var Hge=(e,t,n)=>t in e?Wge(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var qge=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var me=(e,t,n)=>Hge(e,typeof t!="symbol"?t+"":t,n),U5=(e,t,n)=>t.has(e)||Sz("Cannot "+n);var H=(e,t,n)=>(U5(e,t,"read from private field"),n?n.call(e):t.get(e)),Ye=(e,t,n)=>t.has(e)?Sz("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Ae=(e,t,n,r)=>(U5(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),ft=(e,t,n)=>(U5(e,t,"access private method"),n);var mw=(e,t,n,r)=>({set _(i){Ae(e,t,i,n)},get _(){return H(e,t,r)}});var lht=qge((Qht,II)=>{function lY(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Qi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Wh(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function uY(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var cY={exports:{}},Ok={},fY={exports:{}},ot={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nb=Symbol.for("react.element"),Gge=Symbol.for("react.portal"),Xge=Symbol.for("react.fragment"),Yge=Symbol.for("react.strict_mode"),Kge=Symbol.for("react.profiler"),Qge=Symbol.for("react.provider"),Jge=Symbol.for("react.context"),Zge=Symbol.for("react.forward_ref"),eme=Symbol.for("react.suspense"),tme=Symbol.for("react.memo"),nme=Symbol.for("react.lazy"),Ez=Symbol.iterator;function rme(e){return e===null||typeof e!="object"?null:(e=Ez&&e[Ez]||e["@@iterator"],typeof e=="function"?e:null)}var dY={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},hY=Object.assign,pY={};function g0(e,t,n){this.props=e,this.context=t,this.refs=pY,this.updater=n||dY}g0.prototype.isReactComponent={};g0.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};g0.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function gY(){}gY.prototype=g0.prototype;function uD(e,t,n){this.props=e,this.context=t,this.refs=pY,this.updater=n||dY}var cD=uD.prototype=new gY;cD.constructor=uD;hY(cD,g0.prototype);cD.isPureReactComponent=!0;var Cz=Array.isArray,mY=Object.prototype.hasOwnProperty,fD={current:null},yY={key:!0,ref:!0,__self:!0,__source:!0};function vY(e,t,n){var r,i={},o=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(o=""+t.key),t)mY.call(t,r)&&!yY.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Nb,type:e,key:o,ref:s,props:i,_owner:fD.current}}function ime(e,t){return{$$typeof:Nb,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function dD(e){return typeof e=="object"&&e!==null&&e.$$typeof===Nb}function ome(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var kz=/\/+/g;function V5(e,t){return typeof e=="object"&&e!==null&&e.key!=null?ome(""+e.key):t.toString(36)}function W2(e,t,n,r,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case Nb:case Gge:s=!0}}if(s)return s=e,i=i(s),e=r===""?"."+V5(s,0):r,Cz(i)?(n="",e!=null&&(n=e.replace(kz,"$&/")+"/"),W2(i,t,n,"",function(u){return u})):i!=null&&(dD(i)&&(i=ime(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(kz,"$&/")+"/")+e)),t.push(i)),1;if(s=0,r=r===""?".":r+":",Cz(e))for(var a=0;a<e.length;a++){o=e[a];var l=r+V5(o,a);s+=W2(o,t,n,l,i)}else if(l=rme(e),typeof l=="function")for(e=l.call(e),a=0;!(o=e.next()).done;)o=o.value,l=r+V5(o,a++),s+=W2(o,t,n,l,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function yw(e,t,n){if(e==null)return e;var r=[],i=0;return W2(e,r,"","",function(o){return t.call(n,o,i++)}),r}function sme(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Li={current:null},H2={transition:null},ame={ReactCurrentDispatcher:Li,ReactCurrentBatchConfig:H2,ReactCurrentOwner:fD};function bY(){throw Error("act(...) is not supported in production builds of React.")}ot.Children={map:yw,forEach:function(e,t,n){yw(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return yw(e,function(){t++}),t},toArray:function(e){return yw(e,function(t){return t})||[]},only:function(e){if(!dD(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ot.Component=g0;ot.Fragment=Xge;ot.Profiler=Kge;ot.PureComponent=uD;ot.StrictMode=Yge;ot.Suspense=eme;ot.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ame;ot.act=bY;ot.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=hY({},e.props),i=e.key,o=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,s=fD.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)mY.call(t,l)&&!yY.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Nb,type:e.type,key:i,ref:o,props:r,_owner:s}};ot.createContext=function(e){return e={$$typeof:Jge,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Qge,_context:e},e.Consumer=e};ot.createElement=vY;ot.createFactory=function(e){var t=vY.bind(null,e);return t.type=e,t};ot.createRef=function(){return{current:null}};ot.forwardRef=function(e){return{$$typeof:Zge,render:e}};ot.isValidElement=dD;ot.lazy=function(e){return{$$typeof:nme,_payload:{_status:-1,_result:e},_init:sme}};ot.memo=function(e,t){return{$$typeof:tme,type:e,compare:t===void 0?null:t}};ot.startTransition=function(e){var t=H2.transition;H2.transition={};try{e()}finally{H2.transition=t}};ot.unstable_act=bY;ot.useCallback=function(e,t){return Li.current.useCallback(e,t)};ot.useContext=function(e){return Li.current.useContext(e)};ot.useDebugValue=function(){};ot.useDeferredValue=function(e){return Li.current.useDeferredValue(e)};ot.useEffect=function(e,t){return Li.current.useEffect(e,t)};ot.useId=function(){return Li.current.useId()};ot.useImperativeHandle=function(e,t,n){return Li.current.useImperativeHandle(e,t,n)};ot.useInsertionEffect=function(e,t){return Li.current.useInsertionEffect(e,t)};ot.useLayoutEffect=function(e,t){return Li.current.useLayoutEffect(e,t)};ot.useMemo=function(e,t){return Li.current.useMemo(e,t)};ot.useReducer=function(e,t,n){return Li.current.useReducer(e,t,n)};ot.useRef=function(e){return Li.current.useRef(e)};ot.useState=function(e){return Li.current.useState(e)};ot.useSyncExternalStore=function(e,t,n){return Li.current.useSyncExternalStore(e,t,n)};ot.useTransition=function(){return Li.current.useTransition()};ot.version="18.3.1";fY.exports=ot;var M=fY.exports;const um=Wh(M),_z=lY({__proto__:null,default:um},[M]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lme=M,ume=Symbol.for("react.element"),cme=Symbol.for("react.fragment"),fme=Object.prototype.hasOwnProperty,dme=lme.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,hme={key:!0,ref:!0,__self:!0,__source:!0};function xY(e,t,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)fme.call(t,r)&&!hme.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:ume,type:e,key:o,ref:s,props:i,_owner:dme.current}}Ok.Fragment=cme;Ok.jsx=xY;Ok.jsxs=xY;cY.exports=Ok;var F=cY.exports;function pme(e){return{all:e=e||new Map,on:function(t,n){var r=e.get(t);r?r.push(n):e.set(t,[n])},off:function(t,n){var r=e.get(t);r&&(n?r.splice(r.indexOf(n)>>>0,1):e.set(t,[]))},emit:function(t,n){var r=e.get(t);r&&r.slice().map(function(i){i(n)}),(r=e.get("*"))&&r.slice().map(function(i){i(t,n)})}}}/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const wY=Symbol("Comlink.proxy"),gme=Symbol("Comlink.endpoint"),SY=Symbol("Comlink.releaseProxy"),W5=Symbol("Comlink.finalizer"),q2=Symbol("Comlink.thrown"),EY=e=>typeof e=="object"&&e!==null||typeof e=="function",mme={canHandle:e=>EY(e)&&e[wY],serialize(e){const{port1:t,port2:n}=new MessageChannel;return kY(e,t),[n,[n]]},deserialize(e){return e.start(),$Y(e)}},yme={canHandle:e=>EY(e)&&q2 in e,serialize({value:e}){let t;return e instanceof Error?t={isError:!0,value:{message:e.message,name:e.name,stack:e.stack}}:t={isError:!1,value:e},[t,[]]},deserialize(e){throw e.isError?Object.assign(new Error(e.value.message),e.value):e.value}},CY=new Map([["proxy",mme],["throw",yme]]);function vme(e,t){for(const n of e)if(t===n||n==="*"||n instanceof RegExp&&n.test(t))return!0;return!1}function kY(e,t=globalThis,n=["*"]){t.addEventListener("message",function r(i){if(!i||!i.data)return;if(!vme(n,i.origin)){console.warn(`Invalid origin '${i.origin}' for comlink proxy`);return}const{id:o,type:s,path:a}=Object.assign({path:[]},i.data),l=(i.data.argumentList||[]).map(Cd);let u;try{const c=a.slice(0,-1).reduce((d,h)=>d[h],e),f=a.reduce((d,h)=>d[h],e);switch(s){case"GET":u=f;break;case"SET":c[a.slice(-1)[0]]=Cd(i.data.value),u=!0;break;case"APPLY":u=f.apply(c,l);break;case"CONSTRUCT":{const d=new f(...l);u=Cme(d)}break;case"ENDPOINT":{const{port1:d,port2:h}=new MessageChannel;kY(e,h),u=Eme(d,[d])}break;case"RELEASE":u=void 0;break;default:return}}catch(c){u={value:c,[q2]:0}}Promise.resolve(u).catch(c=>({value:c,[q2]:0})).then(c=>{const[f,d]=XS(c);t.postMessage(Object.assign(Object.assign({},f),{id:o}),d),s==="RELEASE"&&(t.removeEventListener("message",r),_Y(t),W5 in e&&typeof e[W5]=="function"&&e[W5]())}).catch(c=>{const[f,d]=XS({value:new TypeError("Unserializable return value"),[q2]:0});t.postMessage(Object.assign(Object.assign({},f),{id:o}),d)})}),t.start&&t.start()}function bme(e){return e.constructor.name==="MessagePort"}function _Y(e){bme(e)&&e.close()}function $Y(e,t){return U4(e,[],t)}function vw(e){if(e)throw new Error("Proxy has been released and is not useable")}function AY(e){return Kp(e,{type:"RELEASE"}).then(()=>{_Y(e)})}const qS=new WeakMap,GS="FinalizationRegistry"in globalThis&&new FinalizationRegistry(e=>{const t=(qS.get(e)||0)-1;qS.set(e,t),t===0&&AY(e)});function xme(e,t){const n=(qS.get(t)||0)+1;qS.set(t,n),GS&&GS.register(e,t,e)}function wme(e){GS&&GS.unregister(e)}function U4(e,t=[],n=function(){}){let r=!1;const i=new Proxy(n,{get(o,s){if(vw(r),s===SY)return()=>{wme(i),AY(e),r=!0};if(s==="then"){if(t.length===0)return{then:()=>i};const a=Kp(e,{type:"GET",path:t.map(l=>l.toString())}).then(Cd);return a.then.bind(a)}return U4(e,[...t,s])},set(o,s,a){vw(r);const[l,u]=XS(a);return Kp(e,{type:"SET",path:[...t,s].map(c=>c.toString()),value:l},u).then(Cd)},apply(o,s,a){vw(r);const l=t[t.length-1];if(l===gme)return Kp(e,{type:"ENDPOINT"}).then(Cd);if(l==="bind")return U4(e,t.slice(0,-1));const[u,c]=$z(a);return Kp(e,{type:"APPLY",path:t.map(f=>f.toString()),argumentList:u},c).then(Cd)},construct(o,s){vw(r);const[a,l]=$z(s);return Kp(e,{type:"CONSTRUCT",path:t.map(u=>u.toString()),argumentList:a},l).then(Cd)}});return xme(i,e),i}function Sme(e){return Array.prototype.concat.apply([],e)}function $z(e){const t=e.map(XS);return[t.map(n=>n[0]),Sme(t.map(n=>n[1]))]}const TY=new WeakMap;function Eme(e,t){return TY.set(e,t),e}function Cme(e){return Object.assign(e,{[wY]:!0})}function XS(e){for(const[t,n]of CY)if(n.canHandle(e)){const[r,i]=n.serialize(e);return[{type:"HANDLER",name:t,value:r},i]}return[{type:"RAW",value:e},TY.get(e)||[]]}function Cd(e){switch(e.type){case"HANDLER":return CY.get(e.name).deserialize(e.value);case"RAW":return e.value}}function Kp(e,t,n){return new Promise(r=>{const i=kme();e.addEventListener("message",function o(s){!s.data||!s.data.id||s.data.id!==i||(e.removeEventListener("message",o),r(s.data))}),e.start&&e.start(),e.postMessage(Object.assign({id:i},t),n)})}function kme(){return new Array(4).fill(0).map(()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16)).join("-")}function _me(e){return new Worker("/Swipytics/assets/pyodide-worker-CwBH5OsS.js",{type:"module",name:e==null?void 0:e.name})}let ns=null,Jr=null;const $me=async(e,t)=>{if(!ns||!Jr)throw new Error("pyodide isn't loaded yet");return await Jr.runPython(e,t)},Ame=async(e,t)=>{if(!ns||!Jr)throw new Error("pyodide isn't loaded yet");return Jr.callPythonFunction(e,t)},Tme=async(e,t)=>{if(!ns||!Jr)throw new Error("pyodide isn't loaded yet");return Jr.writeFile(e,t)},Fme=async e=>{if(!ns||!Jr)throw new Error("pyodide isn't loaded yet");return Jr.readFile(e)},Rme=async e=>(ns||(ns=new _me({name:"pyodide-worker"}),Jr=$Y(ns),await Jr.initialize(e)),{runPython:$me,callPythonFunction:Ame,writeFile:Tme,readFile:Fme,terminate:()=>{ns==null||ns.terminate(),ns=null,Jr==null||Jr[SY](),Jr=null},initialize:async t=>{if(!ns||!Jr)throw new Error("pyodide isn't loaded yet");await Jr.initialize(t)}});let L1;async function Pme(e){const{packages:t}=e||{};return L1===void 0&&(L1=await Ome(t)),L1}const Ome=async e=>(L1=await Rme(e),L1),Tf=async()=>await Pme({packages:["draco"]});async function Dme({chart:e}){return await(await Tf()).callPythonFunction("appendChart",[e])}async function Mme({chart:e}){return await(await fetch("/api/appendChart",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({chart:e})})).json()}const Nme={pyodide:Dme,server:Mme};async function Lme(){return await(await Tf()).callPythonFunction("appendNextChart",[])}async function Ime(){return await(await fetch("/api/appendNextChart")).json()}const zme={server:Ime,pyodide:Lme};async function jme({fieldNames:e}){return await(await Tf()).callPythonFunction("browseCharts",[e])}async function Bme({fieldNames:e}){return await(await fetch("/api/browseCharts",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({field_names:e})})).json()}const Ume={pyodide:jme,server:Bme};async function Vme({fieldNames:e}){return await(await Tf()).callPythonFunction("getCharts",[e])}async function Wme({fieldNames:e}){return await(await fetch("/api/getCharts",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({field_names:e})})).json()}const Hme={pyodide:Vme,server:Wme};async function qme({session:e}){return await(await Tf()).callPythonFunction("loadSession",[e])}async function Gme({session:e}){return await(await fetch("/api/loadSession",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).json()}const Xme={pyodide:qme,server:Gme};async function Yme({key:e,preferred:t}){await(await Tf()).callPythonFunction("setPreferred",[e,t])}async function Kme({key:e,preferred:t}){await fetch("/api/setPreferred",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({key:e,preferred:t})})}const Qme={pyodide:Yme,server:Kme};async function Jme({filename:e,fileBuffer:t}){await(await Tf()).writeFile(e,t)}async function Zme({filename:e,fileBuffer:t}){const n=new Blob([t]),r=new FormData;r.append("file",n,e),await fetch("/api/writeFile",{method:"POST",body:r})}const e0e={pyodide:Jme,server:Zme},t0e={appendChart:Nme,getCharts:Hme,appendNextChart:zme,browseCharts:Ume,loadSession:Xme,writeFile:e0e,setPreferred:Qme};async function n0e(e,t,n){return await t0e[t][e](n)}class r0e{constructor(){me(this,"python","pyodide");me(this,"serverConnectable",!1);me(this,"pyodideLoaded",!1);me(this,"emitter",pme());this.initializeRouter()}async initializeRouter(){await Promise.all([this.loadPyodide(),this.checkServerConnection()])}async loadPyodide(){if(!this.pyodideLoaded)try{await Tf(),this.pyodideLoaded=!0,this.emitter.emit("loadingStatusChange",this.getLoadingStatus())}catch(t){console.error("error while connecting pyodide:",t),this.pyodideLoaded=!1,this.emitter.emit("loadingStatusChange",this.getLoadingStatus())}}async checkServerConnection(){try{const t=await fetch("/api");this.serverConnectable=t.ok,this.serverConnectable&&(this.python="server"),this.emitter.emit("loadingStatusChange",this.getLoadingStatus())}catch(t){this.serverConnectable=!1,console.error("error while connecting server:",t),this.emitter.emit("loadingStatusChange",this.getLoadingStatus())}}getPythonType(){return this.python}setPython(t){return t==="server"&&!this.serverConnectable?!1:(this.python=t,this.emitter.emit("loadingStatusChange",this.getLoadingStatus()),!0)}getLoadingStatus(){return{loadingPyodide:this.python==="pyodide"&&!this.pyodideLoaded,loadingServer:this.python==="server"&&!this.serverConnectable,loading:this.python==="pyodide"&&!this.pyodideLoaded||this.python==="server"&&!this.serverConnectable}}on(t,n){this.emitter.on(t,n)}off(t,n){this.emitter.off(t,n)}async call(t,n){if(this.getLoadingStatus().loading)return console.error("Router is not loaded yet"),null;try{return await n0e(this.getPythonType(),t,n)}catch(r){return console.error("error while calling endpoint:",r),null}}async lazyCall(t,n){return new Promise(r=>{const i=()=>{this.getLoadingStatus().loading||(this.off("loadingStatusChange",i),r(this.call(t,n)))};this.on("loadingStatusChange",i),i()})}}const us=new r0e;function Az(e,t){if(!e)throw new Error(t||"loader assertion failed.")}const FY=!!(typeof process!="object"||String(process)!=="[object process]"||process.browser),Tz=typeof process<"u"&&process.version&&/v([0-9]*)/.exec(process.version);Tz&&parseFloat(Tz[1]);const bw=globalThis,$p=globalThis.process||{};function i0e(e){var r,i;if(typeof window<"u"&&((r=window.process)==null?void 0:r.type)==="renderer"||typeof process<"u"&&((i=process.versions)!=null&&i.electron))return!0;const n=typeof navigator<"u"&&navigator.userAgent;return!!(n&&n.indexOf("Electron")>=0)}function hD(){return!(typeof process=="object"&&String(process)==="[object process]"&&!(process!=null&&process.browser))||i0e()}const RY="4.0.7";function o0e(e){try{const t=window[e],n="__storage_test__";return t.setItem(n,n),t.removeItem(n),t}catch{return null}}class s0e{constructor(t,n,r="sessionStorage"){this.storage=o0e(r),this.id=t,this.config=n,this._loadConfiguration()}getConfiguration(){return this.config}setConfiguration(t){if(Object.assign(this.config,t),this.storage){const n=JSON.stringify(this.config);this.storage.setItem(this.id,n)}}_loadConfiguration(){let t={};if(this.storage){const n=this.storage.getItem(this.id);t=n?JSON.parse(n):{}}return Object.assign(this.config,t),this}}function a0e(e){let t;return e<10?t=`${e.toFixed(2)}ms`:e<100?t=`${e.toFixed(1)}ms`:e<1e3?t=`${e.toFixed(0)}ms`:t=`${(e/1e3).toFixed(2)}s`,t}function l0e(e,t=8){const n=Math.max(t-e.length,0);return`${" ".repeat(n)}${e}`}var YS;(function(e){e[e.BLACK=30]="BLACK",e[e.RED=31]="RED",e[e.GREEN=32]="GREEN",e[e.YELLOW=33]="YELLOW",e[e.BLUE=34]="BLUE",e[e.MAGENTA=35]="MAGENTA",e[e.CYAN=36]="CYAN",e[e.WHITE=37]="WHITE",e[e.BRIGHT_BLACK=90]="BRIGHT_BLACK",e[e.BRIGHT_RED=91]="BRIGHT_RED",e[e.BRIGHT_GREEN=92]="BRIGHT_GREEN",e[e.BRIGHT_YELLOW=93]="BRIGHT_YELLOW",e[e.BRIGHT_BLUE=94]="BRIGHT_BLUE",e[e.BRIGHT_MAGENTA=95]="BRIGHT_MAGENTA",e[e.BRIGHT_CYAN=96]="BRIGHT_CYAN",e[e.BRIGHT_WHITE=97]="BRIGHT_WHITE"})(YS||(YS={}));const u0e=10;function Fz(e){return typeof e!="string"?e:(e=e.toUpperCase(),YS[e]||YS.WHITE)}function c0e(e,t,n){return!hD&&typeof e=="string"&&(t&&(e=`\x1B[${Fz(t)}m${e}\x1B[39m`),n&&(e=`\x1B[${Fz(n)+u0e}m${e}\x1B[49m`)),e}function f0e(e,t=["constructor"]){const n=Object.getPrototypeOf(e),r=Object.getOwnPropertyNames(n),i=e;for(const o of r){const s=i[o];typeof s=="function"&&(t.find(a=>o===a)||(i[o]=s.bind(e)))}}function pD(e,t){if(!e)throw new Error("Assertion failed")}function Ap(){var t,n,r;let e;if(hD()&&bw.performance)e=(n=(t=bw==null?void 0:bw.performance)==null?void 0:t.now)==null?void 0:n.call(t);else if("hrtime"in $p){const i=(r=$p==null?void 0:$p.hrtime)==null?void 0:r.call($p);e=i[0]*1e3+i[1]/1e6}else e=Date.now();return e}const Tp={debug:hD()&&console.debug||console.log,log:console.log,info:console.info,warn:console.warn,error:console.error},d0e={enabled:!0,level:0};function Fp(){}const Rz={},Pz={once:!0};let gD=class{constructor({id:t}={id:""}){this.VERSION=RY,this._startTs=Ap(),this._deltaTs=Ap(),this.userData={},this.LOG_THROTTLE_TIMEOUT=0,this.id=t,this.userData={},this._storage=new s0e(`__probe-${this.id}__`,d0e),this.timeStamp(`${this.id} started`),f0e(this),Object.seal(this)}set level(t){this.setLevel(t)}get level(){return this.getLevel()}isEnabled(){return this._storage.config.enabled}getLevel(){return this._storage.config.level}getTotal(){return Number((Ap()-this._startTs).toPrecision(10))}getDelta(){return Number((Ap()-this._deltaTs).toPrecision(10))}set priority(t){this.level=t}get priority(){return this.level}getPriority(){return this.level}enable(t=!0){return this._storage.setConfiguration({enabled:t}),this}setLevel(t){return this._storage.setConfiguration({level:t}),this}get(t){return this._storage.config[t]}set(t,n){this._storage.setConfiguration({[t]:n})}settings(){console.table?console.table(this._storage.config):console.log(this._storage.config)}assert(t,n){if(!t)throw new Error(n||"Assertion failed")}warn(t){return this._getLogFunction(0,t,Tp.warn,arguments,Pz)}error(t){return this._getLogFunction(0,t,Tp.error,arguments)}deprecated(t,n){return this.warn(`\`${t}\` is deprecated and will be removed in a later version. Use \`${n}\` instead`)}removed(t,n){return this.error(`\`${t}\` has been removed. Use \`${n}\` instead`)}probe(t,n){return this._getLogFunction(t,n,Tp.log,arguments,{time:!0,once:!0})}log(t,n){return this._getLogFunction(t,n,Tp.debug,arguments)}info(t,n){return this._getLogFunction(t,n,console.info,arguments)}once(t,n){return this._getLogFunction(t,n,Tp.debug||Tp.info,arguments,Pz)}table(t,n,r){return n?this._getLogFunction(t,n,console.table||Fp,r&&[r],{tag:p0e(n)}):Fp}time(t,n){return this._getLogFunction(t,n,console.time?console.time:console.info)}timeEnd(t,n){return this._getLogFunction(t,n,console.timeEnd?console.timeEnd:console.info)}timeStamp(t,n){return this._getLogFunction(t,n,console.timeStamp||Fp)}group(t,n,r={collapsed:!1}){const i=Oz({logLevel:t,message:n,opts:r}),{collapsed:o}=r;return i.method=(o?console.groupCollapsed:console.group)||console.info,this._getLogFunction(i)}groupCollapsed(t,n,r={}){return this.group(t,n,Object.assign({},r,{collapsed:!0}))}groupEnd(t){return this._getLogFunction(t,"",console.groupEnd||Fp)}withGroup(t,n,r){this.group(t,n)();try{r()}finally{this.groupEnd(t)()}}trace(){console.trace&&console.trace()}_shouldLog(t){return this.isEnabled()&&this.getLevel()>=PY(t)}_getLogFunction(t,n,r,i,o){if(this._shouldLog(t)){o=Oz({logLevel:t,message:n,args:i,opts:o}),r=r||o.method,pD(r),o.total=this.getTotal(),o.delta=this.getDelta(),this._deltaTs=Ap();const s=o.tag||o.message;if(o.once&&s)if(!Rz[s])Rz[s]=Ap();else return Fp;return n=h0e(this.id,o.message,o),r.bind(console,n,...o.args)}return Fp}};gD.VERSION=RY;function PY(e){if(!e)return 0;let t;switch(typeof e){case"number":t=e;break;case"object":t=e.logLevel||e.priority||0;break;default:return 0}return pD(Number.isFinite(t)&&t>=0),t}function Oz(e){const{logLevel:t,message:n}=e;e.logLevel=PY(t);const r=e.args?Array.from(e.args):[];for(;r.length&&r.shift()!==n;);switch(typeof t){case"string":case"function":n!==void 0&&r.unshift(n),e.message=t;break;case"object":Object.assign(e,t);break}typeof e.message=="function"&&(e.message=e.message());const i=typeof e.message;return pD(i==="string"||i==="object"),Object.assign(e,{args:r},e.opts)}function h0e(e,t,n){if(typeof t=="string"){const r=n.time?l0e(a0e(n.total)):"";t=n.time?`${e}: ${r}  ${t}`:`${e}: ${t}`,t=c0e(t,n.color,n.background)}return t}function p0e(e){for(const t in e)for(const n in e[t])return n||"untitled";return"empty"}function g0e(e,t){return OY(e||{},t)}function OY(e,t,n=0){if(n>3)return t;const r={...e};for(const[i,o]of Object.entries(t))o&&typeof o=="object"&&!Array.isArray(o)?r[i]=OY(r[i]||{},t[i],n+1):r[i]=t[i];return r}const m0e="latest";function y0e(){var e;return(e=globalThis._loadersgl_)!=null&&e.version||(globalThis._loadersgl_=globalThis._loadersgl_||{},globalThis._loadersgl_.version="4.2.1"),globalThis._loadersgl_.version}const v0e=y0e();function af(e,t){if(!e)throw new Error(t||"loaders.gl assertion failed.")}const Yd=typeof process!="object"||String(process)!=="[object process]"||process.browser,b0e=typeof window<"u"&&typeof window.orientation<"u",Dz=typeof process<"u"&&process.version&&/v([0-9]*)/.exec(process.version);Dz&&parseFloat(Dz[1]);class x0e{constructor(t,n){me(this,"name");me(this,"workerThread");me(this,"isRunning",!0);me(this,"result");me(this,"_resolve",()=>{});me(this,"_reject",()=>{});this.name=t,this.workerThread=n,this.result=new Promise((r,i)=>{this._resolve=r,this._reject=i})}postMessage(t,n){this.workerThread.postMessage({source:"loaders.gl",type:t,payload:n})}done(t){af(this.isRunning),this.isRunning=!1,this._resolve(t)}error(t){af(this.isRunning),this.isRunning=!1,this._reject(t)}}class H5{terminate(){}}const q5=new Map;function w0e(e){af(e.source&&!e.url||!e.source&&e.url);let t=q5.get(e.source||e.url);return t||(e.url&&(t=S0e(e.url),q5.set(e.url,t)),e.source&&(t=DY(e.source),q5.set(e.source,t))),af(t),t}function S0e(e){if(!e.startsWith("http"))return e;const t=E0e(e);return DY(t)}function DY(e){const t=new Blob([e],{type:"application/javascript"});return URL.createObjectURL(t)}function E0e(e){return`try {
  importScripts('${e}');
} catch (error) {
  console.error(error);
  throw error;
}`}function MY(e,t=!0,n){const r=n||new Set;if(e){if(Mz(e))r.add(e);else if(Mz(e.buffer))r.add(e.buffer);else if(!ArrayBuffer.isView(e)){if(t&&typeof e=="object")for(const i in e)MY(e[i],t,r)}}return n===void 0?Array.from(r):[]}function Mz(e){return e?e instanceof ArrayBuffer||typeof MessagePort<"u"&&e instanceof MessagePort||typeof ImageBitmap<"u"&&e instanceof ImageBitmap||typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas:!1}const G5=()=>{};class V4{constructor(t){me(this,"name");me(this,"source");me(this,"url");me(this,"terminated",!1);me(this,"worker");me(this,"onMessage");me(this,"onError");me(this,"_loadableURL","");const{name:n,source:r,url:i}=t;af(r||i),this.name=n,this.source=r,this.url=i,this.onMessage=G5,this.onError=o=>console.log(o),this.worker=Yd?this._createBrowserWorker():this._createNodeWorker()}static isSupported(){return typeof Worker<"u"&&Yd||typeof H5<"u"&&!Yd}destroy(){this.onMessage=G5,this.onError=G5,this.worker.terminate(),this.terminated=!0}get isRunning(){return!!this.onMessage}postMessage(t,n){n=n||MY(t),this.worker.postMessage(t,n)}_getErrorFromErrorEvent(t){let n="Failed to load ";return n+=`worker ${this.name} from ${this.url}. `,t.message&&(n+=`${t.message} in `),t.lineno&&(n+=`:${t.lineno}:${t.colno}`),new Error(n)}_createBrowserWorker(){this._loadableURL=w0e({source:this.source,url:this.url});const t=new Worker(this._loadableURL,{name:this.name});return t.onmessage=n=>{n.data?this.onMessage(n.data):this.onError(new Error("No data received"))},t.onerror=n=>{this.onError(this._getErrorFromErrorEvent(n)),this.terminated=!0},t.onmessageerror=n=>console.error(n),t}_createNodeWorker(){let t;if(this.url){const r=this.url.includes(":/")||this.url.startsWith("/")?this.url:`./${this.url}`;t=new H5(r,{eval:!1})}else if(this.source)t=new H5(this.source,{eval:!0});else throw new Error("no worker");return t.on("message",n=>{this.onMessage(n)}),t.on("error",n=>{this.onError(n)}),t.on("exit",n=>{}),t}}class C0e{constructor(t){me(this,"name","unnamed");me(this,"source");me(this,"url");me(this,"maxConcurrency",1);me(this,"maxMobileConcurrency",1);me(this,"onDebug",()=>{});me(this,"reuseWorkers",!0);me(this,"props",{});me(this,"jobQueue",[]);me(this,"idleQueue",[]);me(this,"count",0);me(this,"isDestroyed",!1);this.source=t.source,this.url=t.url,this.setProps(t)}static isSupported(){return V4.isSupported()}destroy(){this.idleQueue.forEach(t=>t.destroy()),this.isDestroyed=!0}setProps(t){this.props={...this.props,...t},t.name!==void 0&&(this.name=t.name),t.maxConcurrency!==void 0&&(this.maxConcurrency=t.maxConcurrency),t.maxMobileConcurrency!==void 0&&(this.maxMobileConcurrency=t.maxMobileConcurrency),t.reuseWorkers!==void 0&&(this.reuseWorkers=t.reuseWorkers),t.onDebug!==void 0&&(this.onDebug=t.onDebug)}async startJob(t,n=(i,o,s)=>i.done(s),r=(i,o)=>i.error(o)){const i=new Promise(o=>(this.jobQueue.push({name:t,onMessage:n,onError:r,onStart:o}),this));return this._startQueuedJob(),await i}async _startQueuedJob(){if(!this.jobQueue.length)return;const t=this._getAvailableWorker();if(!t)return;const n=this.jobQueue.shift();if(n){this.onDebug({message:"Starting job",name:n.name,workerThread:t,backlog:this.jobQueue.length});const r=new x0e(n.name,t);t.onMessage=i=>n.onMessage(r,i.type,i.payload),t.onError=i=>n.onError(r,i),n.onStart(r);try{await r.result}catch(i){console.error(`Worker exception: ${i}`)}finally{this.returnWorkerToQueue(t)}}}returnWorkerToQueue(t){!Yd||this.isDestroyed||!this.reuseWorkers||this.count>this._getMaxConcurrency()?(t.destroy(),this.count--):this.idleQueue.push(t),this.isDestroyed||this._startQueuedJob()}_getAvailableWorker(){if(this.idleQueue.length>0)return this.idleQueue.shift()||null;if(this.count<this._getMaxConcurrency()){this.count++;const t=`${this.name.toLowerCase()} (#${this.count} of ${this.maxConcurrency})`;return new V4({name:t,source:this.source,url:this.url})}return null}_getMaxConcurrency(){return b0e?this.maxMobileConcurrency:this.maxConcurrency}}const k0e={maxConcurrency:3,maxMobileConcurrency:1,reuseWorkers:!0,onDebug:()=>{}},Ec=class Ec{constructor(t){me(this,"props");me(this,"workerPools",new Map);this.props={...k0e},this.setProps(t),this.workerPools=new Map}static isSupported(){return V4.isSupported()}static getWorkerFarm(t={}){return Ec._workerFarm=Ec._workerFarm||new Ec({}),Ec._workerFarm.setProps(t),Ec._workerFarm}destroy(){for(const t of this.workerPools.values())t.destroy();this.workerPools=new Map}setProps(t){this.props={...this.props,...t};for(const n of this.workerPools.values())n.setProps(this._getWorkerPoolProps())}getWorkerPool(t){const{name:n,source:r,url:i}=t;let o=this.workerPools.get(n);return o||(o=new C0e({name:n,source:r,url:i}),o.setProps(this._getWorkerPoolProps()),this.workerPools.set(n,o)),o}_getWorkerPoolProps(){return{maxConcurrency:this.props.maxConcurrency,maxMobileConcurrency:this.props.maxMobileConcurrency,reuseWorkers:this.props.reuseWorkers,onDebug:this.props.onDebug}}};me(Ec,"_workerFarm");let KS=Ec;function _0e(e,t={}){const n=t[e.id]||{},r=Yd?`${e.id}-worker.js`:`${e.id}-worker-node.js`;let i=n.workerUrl;if(!i&&e.id==="compression"&&(i=t.workerUrl),t._workerType==="test"&&(Yd?i=`modules/${e.module}/dist/${r}`:i=`modules/${e.module}/src/workers/${e.id}-worker-node.ts`),!i){let o=e.version;o==="latest"&&(o=m0e);const s=o?`@${o}`:"";i=`https://unpkg.com/@loaders.gl/${e.module}${s}/dist/${r}`}return af(i),i}function $0e(e,t=v0e){af(e,"no worker provided");const n=e.version;return!(!t||!n)}function A0e(e,t){return!KS.isSupported()||!Yd&&!(t!=null&&t._nodeWorkers)?!1:e.worker&&(t==null?void 0:t.worker)}async function T0e(e,t,n,r,i){const o=e.id,s=_0e(e,n),l=KS.getWorkerFarm(n).getWorkerPool({name:o,url:s});n=JSON.parse(JSON.stringify(n)),r=JSON.parse(JSON.stringify(r||{}));const u=await l.startJob("process-on-worker",F0e.bind(null,i));return u.postMessage("process",{input:t,options:n,context:r}),await(await u.result).result}async function F0e(e,t,n,r){switch(n){case"done":t.done(r);break;case"error":t.error(new Error(r.error));break;case"process":const{id:i,input:o,options:s}=r;try{const a=await e(o,s);t.postMessage("done",{id:i,result:a})}catch(a){const l=a instanceof Error?a.message:"unknown error";t.postMessage("error",{id:i,error:l})}break;default:console.warn(`parse-with-worker unknown message ${n}`)}}function R0e(e,t,n){if(n=n||e.byteLength,e.byteLength<n||t.byteLength<n)return!1;const r=new Uint8Array(e),i=new Uint8Array(t);for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}function P0e(...e){return O0e(e)}function O0e(e){const t=e.map(o=>o instanceof ArrayBuffer?new Uint8Array(o):o),n=t.reduce((o,s)=>o+s.byteLength,0),r=new Uint8Array(n);let i=0;for(const o of t)r.set(o,i),i+=o.byteLength;return r.buffer}async function D0e(e){const t=[];for await(const n of e)t.push(n);return P0e(...t)}let M0e="";const Nz={};function N0e(e){for(const t in Nz)if(e.startsWith(t)){const n=Nz[t];e=e.replace(t,n)}return!e.startsWith("http://")&&!e.startsWith("https://")&&(e=`${M0e}${e}`),e}const L0e="4.2.1",I0e={dataType:null,batchType:null,name:"JSON",id:"json",module:"json",version:L0e,extensions:["json","geojson"],mimeTypes:["application/json"],category:"json",text:!0,parseTextSync:Lz,parse:async e=>Lz(new TextDecoder().decode(e)),options:{}};function Lz(e){return JSON.parse(e)}function z0e(e){return e&&typeof e=="object"&&e.isBuffer}function NY(e){if(z0e(e))return e;if(e instanceof ArrayBuffer)return e;if(ArrayBuffer.isView(e))return e.byteOffset===0&&e.byteLength===e.buffer.byteLength?e.buffer:e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength);if(typeof e=="string"){const t=e;return new TextEncoder().encode(t).buffer}if(e&&typeof e=="object"&&e._toArrayBuffer)return e._toArrayBuffer();throw new Error("toArrayBuffer")}function LY(e){const t=e?e.lastIndexOf("/"):-1;return t>=0?e.substr(t+1):""}function j0e(e){const t=e?e.lastIndexOf("/"):-1;return t>=0?e.substr(0,t):""}const B0e=e=>typeof e=="boolean",I1=e=>typeof e=="function",Lb=e=>e!==null&&typeof e=="object",Iz=e=>Lb(e)&&e.constructor==={}.constructor,U0e=e=>!!e&&typeof e[Symbol.iterator]=="function",V0e=e=>e&&typeof e[Symbol.asyncIterator]=="function",Hh=e=>typeof Response<"u"&&e instanceof Response||e&&e.arrayBuffer&&e.text&&e.json,m0=e=>typeof Blob<"u"&&e instanceof Blob,W0e=e=>e&&typeof e=="object"&&e.isBuffer,H0e=e=>typeof ReadableStream<"u"&&e instanceof ReadableStream||Lb(e)&&I1(e.tee)&&I1(e.cancel)&&I1(e.getReader),q0e=e=>Lb(e)&&I1(e.read)&&I1(e.pipe)&&B0e(e.readable),IY=e=>H0e(e)||q0e(e);class G0e extends Error{constructor(n,r){super(n);me(this,"reason");me(this,"url");me(this,"response");this.reason=r.reason,this.url=r.url,this.response=r.response}}const X0e=/^data:([-\w.]+\/[-\w.+]+)(;|,)/,Y0e=/^([-\w.]+\/[-\w.+]+)/;function zz(e,t){return e.toLowerCase()===t.toLowerCase()}function K0e(e){const t=Y0e.exec(e);return t?t[1]:e}function jz(e){const t=X0e.exec(e);return t?t[1]:""}const zY=/\?.*/;function Q0e(e){const t=e.match(zY);return t&&t[0]}function mD(e){return e.replace(zY,"")}function J0e(e){if(e.length<50)return e;const t=e.slice(e.length-15);return`${e.substr(0,32)}...${t}`}function Dk(e){return Hh(e)?e.url:m0(e)?e.name||"":typeof e=="string"?e:""}function yD(e){if(Hh(e)){const t=e,n=t.headers.get("content-type")||"",r=mD(t.url);return K0e(n)||jz(r)}return m0(e)?e.type||"":typeof e=="string"?jz(e):""}function Z0e(e){return Hh(e)?e.headers["content-length"]||-1:m0(e)?e.size:typeof e=="string"?e.length:e instanceof ArrayBuffer||ArrayBuffer.isView(e)?e.byteLength:-1}async function jY(e){if(Hh(e))return e;const t={},n=Z0e(e);n>=0&&(t["content-length"]=String(n));const r=Dk(e),i=yD(e);i&&(t["content-type"]=i);const o=await nye(e);o&&(t["x-first-bytes"]=o),typeof e=="string"&&(e=new TextEncoder().encode(e));const s=new Response(e,{headers:t});return Object.defineProperty(s,"url",{value:r}),s}async function eye(e){if(!e.ok)throw await tye(e)}async function tye(e){const t=J0e(e.url);let n=`Failed to fetch resource (${e.status}) ${e.statusText}: ${t}`;n=n.length>100?`${n.slice(0,100)}...`:n;const r={reason:e.statusText,url:e.url,response:e};try{const i=e.headers.get("Content-Type");r.reason=i!=null&&i.includes("application/json")?await e.json():e.text()}catch{}return new G0e(n,r)}async function nye(e){if(typeof e=="string")return`data:,${e.slice(0,5)}`;if(e instanceof Blob){const n=e.slice(0,5);return await new Promise(r=>{const i=new FileReader;i.onload=o=>{var s;return r((s=o==null?void 0:o.target)==null?void 0:s.result)},i.readAsDataURL(n)})}if(e instanceof ArrayBuffer){const n=e.slice(0,5);return`data:base64,${rye(n)}`}return null}function rye(e){let t="";const n=new Uint8Array(e);for(let r=0;r<n.byteLength;r++)t+=String.fromCharCode(n[r]);return btoa(t)}function iye(e){return!oye(e)&&!sye(e)}function oye(e){return e.startsWith("http:")||e.startsWith("https:")}function sye(e){return e.startsWith("data:")}async function W4(e,t){var n,r;if(typeof e=="string"){const i=N0e(e);return iye(i)&&(n=globalThis.loaders)!=null&&n.fetchNode?(r=globalThis.loaders)==null?void 0:r.fetchNode(i,t):await fetch(i,t)}return await jY(e)}const Bz=new gD({id:"loaders.gl"});class aye{log(){return()=>{}}info(){return()=>{}}warn(){return()=>{}}error(){return()=>{}}}class lye{constructor(){me(this,"console");this.console=console}log(...t){return this.console.log.bind(this.console,...t)}info(...t){return this.console.info.bind(this.console,...t)}warn(...t){return this.console.warn.bind(this.console,...t)}error(...t){return this.console.error.bind(this.console,...t)}}const BY={fetch:null,mimeType:void 0,nothrow:!1,log:new lye,useLocalLibraries:!1,CDN:"https://unpkg.com/@loaders.gl",worker:!0,maxConcurrency:3,maxMobileConcurrency:1,reuseWorkers:FY,_nodeWorkers:!1,_workerType:"",limit:0,_limitMB:0,batchSize:"auto",batchDebounceMs:0,metadata:!1,transforms:[]},uye={throws:"nothrow",dataType:"(no longer used)",uri:"baseUri",method:"fetch.method",headers:"fetch.headers",body:"fetch.body",mode:"fetch.mode",credentials:"fetch.credentials",cache:"fetch.cache",redirect:"fetch.redirect",referrer:"fetch.referrer",referrerPolicy:"fetch.referrerPolicy",integrity:"fetch.integrity",keepalive:"fetch.keepalive",signal:"fetch.signal"};function UY(){globalThis.loaders=globalThis.loaders||{};const{loaders:e}=globalThis;return e._state||(e._state={}),e._state}function VY(){const e=UY();return e.globalOptions=e.globalOptions||{...BY},e.globalOptions}function cye(e,t,n,r){return n=n||[],n=Array.isArray(n)?n:[n],fye(e,n),hye(t,e,r)}function fye(e,t){Uz(e,null,BY,uye,t);for(const n of t){const r=e&&e[n.id]||{},i=n.options&&n.options[n.id]||{},o=n.deprecatedOptions&&n.deprecatedOptions[n.id]||{};Uz(r,n.id,i,o,t)}}function Uz(e,t,n,r,i){const o=t||"Top level",s=t?`${t}.`:"";for(const a in e){const l=!t&&Lb(e[a]),u=a==="baseUri"&&!t,c=a==="workerUrl"&&t;if(!(a in n)&&!u&&!c){if(a in r)Bz.warn(`${o} loader option '${s}${a}' no longer supported, use '${r[a]}'`)();else if(!l){const f=dye(a,i);Bz.warn(`${o} loader option '${s}${a}' not recognized. ${f}`)()}}}}function dye(e,t){const n=e.toLowerCase();let r="";for(const i of t)for(const o in i.options){if(e===o)return`Did you mean '${i.id}.${o}'?`;const s=o.toLowerCase();(n.startsWith(s)||s.startsWith(n))&&(r=r||`Did you mean '${i.id}.${o}'?`)}return r}function hye(e,t,n){const i={...e.options||{}};return pye(i,n),i.log===null&&(i.log=new aye),Vz(i,VY()),Vz(i,t),i}function Vz(e,t){for(const n in t)if(n in t){const r=t[n];Iz(r)&&Iz(e[n])?e[n]={...e[n],...t[n]}:e[n]=t[n]}}function pye(e,t){t&&!("baseUri"in e)&&(e.baseUri=t)}function WY(e){return e?(Array.isArray(e)&&(e=e[0]),Array.isArray(e==null?void 0:e.extensions)):!1}function HY(e){Az(e,"null loader"),Az(WY(e),"invalid loader");let t;return Array.isArray(e)&&(t=e[1],e=e[0],e={...e,options:{...e.options,...t}}),(e!=null&&e.parseTextSync||e!=null&&e.parseText)&&(e.text=!0),e.text||(e.binary=!0),e}const gye=()=>{const e=UY();return e.loaderRegistry=e.loaderRegistry||[],e.loaderRegistry};function mye(){return gye()}const yye=new gD({id:"loaders.gl"}),vye=/\.([^.]+)$/;async function bye(e,t=[],n,r){if(!qY(e))return null;let i=Wz(e,t,{...n,nothrow:!0},r);if(i)return i;if(m0(e)&&(e=await e.slice(0,10).arrayBuffer(),i=Wz(e,t,n,r)),!i&&!(n!=null&&n.nothrow))throw new Error(GY(e));return i}function Wz(e,t=[],n,r){if(!qY(e))return null;if(t&&!Array.isArray(t))return HY(t);let i=[];t&&(i=i.concat(t)),n!=null&&n.ignoreRegisteredLoaders||i.push(...mye()),wye(i);const o=xye(e,i,n,r);if(!o&&!(n!=null&&n.nothrow))throw new Error(GY(e));return o}function xye(e,t,n,r){const i=Dk(e),o=yD(e),s=mD(i)||(r==null?void 0:r.url);let a=null,l="";return n!=null&&n.mimeType&&(a=X5(t,n==null?void 0:n.mimeType),l=`match forced by supplied MIME type ${n==null?void 0:n.mimeType}`),a=a||Sye(t,s),l=l||(a?`matched url ${s}`:""),a=a||X5(t,o),l=l||(a?`matched MIME type ${o}`:""),a=a||Cye(t,e),l=l||(a?`matched initial data ${XY(e)}`:""),n!=null&&n.fallbackMimeType&&(a=a||X5(t,n==null?void 0:n.fallbackMimeType),l=l||(a?`matched fallback MIME type ${o}`:"")),l&&yye.log(1,`selectLoader selected ${a==null?void 0:a.name}: ${l}.`),a}function qY(e){return!(e instanceof Response&&e.status===204)}function GY(e){const t=Dk(e),n=yD(e);let r="No valid loader found (";r+=t?`${LY(t)}, `:"no url provided, ",r+=`MIME type: ${n?`"${n}"`:"not provided"}, `;const i=e?XY(e):"";return r+=i?` first bytes: "${i}"`:"first bytes: not available",r+=")",r}function wye(e){for(const t of e)HY(t)}function Sye(e,t){const n=t&&vye.exec(t),r=n&&n[1];return r?Eye(e,r):null}function Eye(e,t){t=t.toLowerCase();for(const n of e)for(const r of n.extensions)if(r.toLowerCase()===t)return n;return null}function X5(e,t){var n;for(const r of e)if((n=r.mimeTypes)!=null&&n.some(i=>zz(t,i))||zz(t,`application/x.${r.id}`))return r;return null}function Cye(e,t){if(!t)return null;for(const n of e)if(typeof t=="string"){if(kye(t,n))return n}else if(ArrayBuffer.isView(t)){if(Hz(t.buffer,t.byteOffset,n))return n}else if(t instanceof ArrayBuffer&&Hz(t,0,n))return n;return null}function kye(e,t){return t.testText?t.testText(e):(Array.isArray(t.tests)?t.tests:[t.tests]).some(r=>e.startsWith(r))}function Hz(e,t,n){return(Array.isArray(n.tests)?n.tests:[n.tests]).some(i=>_ye(e,t,n,i))}function _ye(e,t,n,r){if(r instanceof ArrayBuffer)return R0e(r,e,r.byteLength);switch(typeof r){case"function":return r(e);case"string":const i=H4(e,t,r.length);return r===i;default:return!1}}function XY(e,t=5){return typeof e=="string"?e.slice(0,t):ArrayBuffer.isView(e)?H4(e.buffer,e.byteOffset,t):e instanceof ArrayBuffer?H4(e,0,t):""}function H4(e,t,n){if(e.byteLength<t+n)return"";const r=new DataView(e);let i="";for(let o=0;o<n;o++)i+=String.fromCharCode(r.getUint8(t+o));return i}const $ye=256*1024;function*Aye(e,t){const n=(t==null?void 0:t.chunkSize)||$ye;let r=0;const i=new TextEncoder;for(;r<e.length;){const o=Math.min(e.length-r,n),s=e.slice(r,r+o);r+=o,yield i.encode(s)}}const Tye=256*1024;function*Fye(e,t={}){const{chunkSize:n=Tye}=t;let r=0;for(;r<e.byteLength;){const i=Math.min(e.byteLength-r,n),o=new ArrayBuffer(i),s=new Uint8Array(e,r,i);new Uint8Array(o).set(s),r+=i,yield o}}const Rye=1024*1024;async function*Pye(e,t){const n=(t==null?void 0:t.chunkSize)||Rye;let r=0;for(;r<e.size;){const i=r+n,o=await e.slice(r,i).arrayBuffer();r=i,yield o}}function qz(e,t){return FY?Oye(e,t):Dye(e)}async function*Oye(e,t){const n=e.getReader();let r;try{for(;;){const i=r||n.read();t!=null&&t._streamReadAhead&&(r=n.read());const{done:o,value:s}=await i;if(o)return;yield NY(s)}}catch{n.releaseLock()}}async function*Dye(e,t){for await(const n of e)yield NY(n)}function Mye(e,t){if(typeof e=="string")return Aye(e,t);if(e instanceof ArrayBuffer)return Fye(e,t);if(m0(e))return Pye(e,t);if(IY(e))return qz(e,t);if(Hh(e))return qz(e.body,t);throw new Error("makeIterator")}const YY="Cannot convert supplied data type";function Nye(e,t,n){if(t.text&&typeof e=="string")return e;if(W0e(e)&&(e=e.buffer),e instanceof ArrayBuffer){const r=e;return t.text&&!t.binary?new TextDecoder("utf8").decode(r):r}if(ArrayBuffer.isView(e)){if(t.text&&!t.binary)return new TextDecoder("utf8").decode(e);let r=e.buffer;const i=e.byteLength||e.length;return(e.byteOffset!==0||i!==r.byteLength)&&(r=r.slice(e.byteOffset,e.byteOffset+i)),r}throw new Error(YY)}async function Lye(e,t,n){const r=e instanceof ArrayBuffer||ArrayBuffer.isView(e);if(typeof e=="string"||r)return Nye(e,t);if(m0(e)&&(e=await jY(e)),Hh(e)){const i=e;return await eye(i),t.binary?await i.arrayBuffer():await i.text()}if(IY(e)&&(e=Mye(e,n)),U0e(e)||V0e(e))return D0e(e);throw new Error(YY)}function Iye(e,t){const n=VY(),r=e||n;return typeof r.fetch=="function"?r.fetch:Lb(r.fetch)?i=>W4(i,r.fetch):t!=null&&t.fetch?t==null?void 0:t.fetch:W4}function zye(e,t,n){if(n)return n;const r={fetch:Iye(t,e),...e};if(r.url){const i=mD(r.url);r.baseUrl=i,r.queryString=Q0e(r.url),r.filename=LY(i),r.baseUrl=j0e(i)}return Array.isArray(r.loaders)||(r.loaders=null),r}function jye(e,t){if(e&&!Array.isArray(e))return e;let n;if(e&&(n=Array.isArray(e)?e:[e]),t&&t.loaders){const r=Array.isArray(t.loaders)?t.loaders:[t.loaders];n=n?[...n,...r]:r}return n&&n.length?n:void 0}async function vD(e,t,n,r){t&&!Array.isArray(t)&&!WY(t)&&(r=void 0,n=t,t=void 0),e=await e,n=n||{};const i=Dk(e),s=jye(t,r),a=await bye(e,s,n);return a?(n=cye(n,a,s,i),r=zye({url:i,_parse:vD,loaders:s},n,r||null),await Bye(a,e,n,r)):null}async function Bye(e,t,n,r){if($0e(e),n=g0e(e.options,n),Hh(t)){const o=t,{ok:s,redirected:a,status:l,statusText:u,type:c,url:f}=o,d=Object.fromEntries(o.headers.entries());r.response={headers:d,ok:s,redirected:a,status:l,statusText:u,type:c,url:f}}t=await Lye(t,e,n);const i=e;if(i.parseTextSync&&typeof t=="string")return i.parseTextSync(t,n,r);if(A0e(e,n))return await T0e(e,t,n,r,vD);if(i.parseText&&typeof t=="string")return await i.parseText(t,n,r);if(i.parse)return await i.parse(t,n,r);throw af(!i.parseSync),new Error(`${e.id} loader - no parser found and worker is disabled`)}const Gz=100;class Uye{constructor(t,n){me(this,"schema");me(this,"options");me(this,"shape");me(this,"length",0);me(this,"rows",null);me(this,"cursor",0);me(this,"_headers",[]);if(this.options=n,this.schema=t,!Array.isArray(t)){this._headers=[];for(const r in t)this._headers[t[r].index]=t[r].name}}rowCount(){return this.length}addArrayRow(t,n){Number.isFinite(n)&&(this.cursor=n),this.shape="array-row-table",this.rows=this.rows||new Array(Gz),this.rows[this.length]=t,this.length++}addObjectRow(t,n){Number.isFinite(n)&&(this.cursor=n),this.shape="object-row-table",this.rows=this.rows||new Array(Gz),this.rows[this.length]=t,this.length++}getBatch(){let t=this.rows;return t?(t=t.slice(0,this.length),this.rows=null,{shape:this.shape||"array-row-table",batchType:"data",data:t,length:this.length,schema:this.schema,cursor:this.cursor}):null}}function KY(e,t){if(!e)throw new Error("null row");const n={};if(t)for(let r=0;r<t.length;r++)n[t[r]]=e[r];else for(let r=0;r<e.length;r++){const i=`column-${r}`;n[i]=e[r]}return n}function QY(e,t){if(!e)throw new Error("null row");if(t){const n=new Array(t.length);for(let r=0;r<t.length;r++)n[r]=e[t[r]];return n}return Object.values(e)}function Vye(e){const t=[];for(let n=0;n<e.length;n++){const r=`column-${n}`;t.push(r)}return t}function Wye(e){return Object.keys(e)}const Xz=100;class Hye{constructor(t,n){me(this,"schema");me(this,"options");me(this,"length",0);me(this,"objectRows",null);me(this,"arrayRows",null);me(this,"cursor",0);me(this,"_headers",null);if(this.options=n,this.schema=t,t){this._headers=[];for(const r in t)this._headers[t[r].index]=t[r].name}}rowCount(){return this.length}addArrayRow(t,n){switch(Number.isFinite(n)&&(this.cursor=n),this._headers||(this._headers=Vye(t)),this.options.shape){case"object-row-table":const r=KY(t,this._headers);this.addObjectRow(r,n);break;case"array-row-table":this.arrayRows=this.arrayRows||new Array(Xz),this.arrayRows[this.length]=t,this.length++;break}}addObjectRow(t,n){switch(Number.isFinite(n)&&(this.cursor=n),this._headers||(this._headers=Wye(t)),this.options.shape){case"array-row-table":const r=QY(t,this._headers);this.addArrayRow(r,n);break;case"object-row-table":this.objectRows=this.objectRows||new Array(Xz),this.objectRows[this.length]=t,this.length++;break}}getBatch(){let t=this.arrayRows||this.objectRows;return t?(t=t.slice(0,this.length),this.arrayRows=null,this.objectRows=null,{shape:this.options.shape,batchType:"data",data:t,length:this.length,schema:this.schema,cursor:this.cursor}):null}}const qye=100;class Gye{constructor(t,n){me(this,"schema");me(this,"length",0);me(this,"allocated",0);me(this,"columns",{});this.schema=t,this._reallocateColumns()}rowCount(){return this.length}addArrayRow(t){this._reallocateColumns();let n=0;for(const r in this.columns)this.columns[r][this.length]=t[n++];this.length++}addObjectRow(t){this._reallocateColumns();for(const n in t)this.columns[n][this.length]=t[n];this.length++}getBatch(){this._pruneColumns();const t=Array.isArray(this.schema)?this.columns:{};if(!Array.isArray(this.schema))for(const r in this.schema){const i=this.schema[r];t[i.name]=this.columns[i.index]}return this.columns={},{shape:"columnar-table",batchType:"data",data:t,schema:this.schema,length:this.length}}_reallocateColumns(){if(!(this.length<this.allocated)){this.allocated=this.allocated>0?this.allocated*=2:qye,this.columns={};for(const t in this.schema){const n=this.schema[t],r=n.type||Float32Array,i=this.columns[n.index];if(i&&ArrayBuffer.isView(i)){const o=new r(this.allocated);o.set(i),this.columns[n.index]=o}else i?(i.length=this.allocated,this.columns[n.index]=i):this.columns[n.index]=new r(this.allocated)}}}_pruneColumns(){for(const[t,n]of Object.entries(this.columns))this.columns[t]=n.slice(0,this.length)}}const Xye={shape:void 0,batchSize:"auto",batchDebounceMs:0,limit:0,_limitMB:0},Yye="TableBatchBuilder",bv=class bv{constructor(t,n){me(this,"schema");me(this,"options");me(this,"aggregator",null);me(this,"batchCount",0);me(this,"bytesUsed",0);me(this,"isChunkComplete",!1);me(this,"lastBatchEmittedMs",Date.now());me(this,"totalLength",0);me(this,"totalBytes",0);me(this,"rowBytes",0);this.schema=t,this.options={...Xye,...n}}limitReached(){var t,n;return!!((t=this.options)!=null&&t.limit&&this.totalLength>=this.options.limit||(n=this.options)!=null&&n._limitMB&&this.totalBytes/1e6>=this.options._limitMB)}addRow(t){this.limitReached()||(this.totalLength++,this.rowBytes=this.rowBytes||this._estimateRowMB(t),this.totalBytes+=this.rowBytes,Array.isArray(t)?this.addArrayRow(t):this.addObjectRow(t))}addArrayRow(t){if(!this.aggregator){const n=this._getTableBatchType();this.aggregator=new n(this.schema,this.options)}this.aggregator.addArrayRow(t)}addObjectRow(t){if(!this.aggregator){const n=this._getTableBatchType();this.aggregator=new n(this.schema,this.options)}this.aggregator.addObjectRow(t)}chunkComplete(t){t instanceof ArrayBuffer&&(this.bytesUsed+=t.byteLength),typeof t=="string"&&(this.bytesUsed+=t.length),this.isChunkComplete=!0}getFullBatch(t){return this._isFull()?this._getBatch(t):null}getFinalBatch(t){return this._getBatch(t)}_estimateRowMB(t){return Array.isArray(t)?t.length*8:Object.keys(t).length*8}_isFull(){if(!this.aggregator||this.aggregator.rowCount()===0)return!1;if(this.options.batchSize==="auto"){if(!this.isChunkComplete)return!1}else if(this.options.batchSize>this.aggregator.rowCount())return!1;return this.options.batchDebounceMs>Date.now()-this.lastBatchEmittedMs?!1:(this.isChunkComplete=!1,this.lastBatchEmittedMs=Date.now(),!0)}_getBatch(t){if(!this.aggregator)return null;t!=null&&t.bytesUsed&&(this.bytesUsed=t.bytesUsed);const n=this.aggregator.getBatch();return n.count=this.batchCount,n.bytesUsed=this.bytesUsed,Object.assign(n,t),this.batchCount++,this.aggregator=null,n}_getTableBatchType(){switch(this.options.shape){case"array-row-table":case"object-row-table":return Hye;case"columnar-table":return Gye;case"arrow-table":if(!bv.ArrowBatch)throw new Error(Yye);return bv.ArrowBatch;default:return Uye}}};me(bv,"ArrowBatch");let q4=bv;class Yz extends Array{enqueue(t){return this.push(t)}dequeue(){return this.shift()}}class Kye{constructor(){me(this,"_values");me(this,"_settlers");me(this,"_closed");this._values=new Yz,this._settlers=new Yz,this._closed=!1}close(){for(;this._settlers.length>0;)this._settlers.dequeue().resolve({done:!0});this._closed=!0}[Symbol.asyncIterator](){return this}enqueue(t){if(this._closed)throw new Error("Closed");if(this._settlers.length>0){if(this._values.length>0)throw new Error("Illegal internal state");const n=this._settlers.dequeue();t instanceof Error?n.reject(t):n.resolve({value:t})}else this._values.enqueue(t)}next(){if(this._values.length>0){const t=this._values.dequeue();return t instanceof Error?Promise.reject(t):Promise.resolve({value:t})}if(this._closed){if(this._settlers.length>0)throw new Error("Illegal internal state");return Promise.resolve({done:!0})}return new Promise((t,n)=>{this._settlers.enqueue({resolve:t,reject:n})})}}/* @license
Papa Parse
v5.0.0-beta.0
https://github.com/mholt/PapaParse
License: MIT
*/const Kz="\uFEFF",Co={parse:Qye,unparse:Jye,RECORD_SEP:"",UNIT_SEP:"",BYTE_ORDER_MARK:Kz,BAD_DELIMITERS:["\r",`
`,'"',Kz],WORKERS_SUPPORTED:!1,NODE_STREAM_INPUT:1,LocalChunkSize:1024*1024*10,RemoteChunkSize:1024*1024*5,DefaultDelimiter:",",Parser:G4,ParserHandle:ZY,ChunkStreamer:JY,StringStreamer:cm};function Qye(e,t,n){t=t||{};var r=t.dynamicTyping||!1;if(Si(r)&&(t.dynamicTypingFunction=r,r={}),t.dynamicTyping=r,t.transform=Si(t.transform)?t.transform:!1,t.worker&&Co.WORKERS_SUPPORTED){var i=newWorker();i.userStep=t.step,i.userChunk=t.chunk,i.userComplete=t.complete,i.userError=t.error,t.step=Si(t.step),t.chunk=Si(t.chunk),t.complete=Si(t.complete),t.error=Si(t.error),delete t.worker,i.postMessage({input:e,config:t,workerId:i.id});return}var o=null;return typeof e=="string"&&(o=new cm(t)),o||(o=new n(t)),o.stream(e)}function Jye(e,t){var n=!1,r=!0,i=",",o=`\r
`,s='"',a=s+s,l=!1,u=null;f();var c=new RegExp(xv(s),"g");if(typeof e=="string"&&(e=JSON.parse(e)),Array.isArray(e)){if(!e.length||Array.isArray(e[0]))return h(null,e,l);if(typeof e[0]=="object")return h(u||d(e[0]),e,l)}else if(typeof e=="object")return typeof e.data=="string"&&(e.data=JSON.parse(e.data)),Array.isArray(e.data)&&(e.fields||(e.fields=e.meta&&e.meta.fields),e.fields||(e.fields=Array.isArray(e.data[0])?e.fields:d(e.data[0])),!Array.isArray(e.data[0])&&typeof e.data[0]!="object"&&(e.data=[e.data])),h(e.fields||[],e.data||[],l);throw new Error("Unable to serialize unrecognized input");function f(){if(typeof t=="object"){if(typeof t.delimiter=="string"&&!Co.BAD_DELIMITERS.filter(function(m){return t.delimiter.indexOf(m)!==-1}).length&&(i=t.delimiter),(typeof t.quotes=="boolean"||Array.isArray(t.quotes))&&(n=t.quotes),(typeof t.skipEmptyLines=="boolean"||typeof t.skipEmptyLines=="string")&&(l=t.skipEmptyLines),typeof t.newline=="string"&&(o=t.newline),typeof t.quoteChar=="string"&&(s=t.quoteChar),typeof t.header=="boolean"&&(r=t.header),Array.isArray(t.columns)){if(t.columns.length===0)throw new Error("Option columns is empty");u=t.columns}t.escapeChar!==void 0&&(a=t.escapeChar+s)}}function d(m){if(typeof m!="object")return[];var y=[];for(var v in m)y.push(v);return y}function h(m,y,v){var b="";typeof m=="string"&&(m=JSON.parse(m)),typeof y=="string"&&(y=JSON.parse(y));var x=Array.isArray(m)&&m.length>0,w=!Array.isArray(y[0]);if(x&&r){for(var C=0;C<m.length;C++)C>0&&(b+=i),b+=p(m[C],C);y.length>0&&(b+=o)}for(var S=0;S<y.length;S++){var k=x?m.length:y[S].length,$=!1,R=x?Object.keys(y[S]).length===0:y[S].length===0;if(v&&!x&&($=v==="greedy"?y[S].join("").trim()==="":y[S].length===1&&y[S][0].length===0),v==="greedy"&&x){for(var O=[],B=0;B<k;B++){var D=w?m[B]:B;O.push(y[S][D])}$=O.join("").trim()===""}if(!$){for(var L=0;L<k;L++){L>0&&!R&&(b+=i);var A=x&&w?m[L]:L;b+=p(y[S][A],L)}S<y.length-1&&(!v||k>0&&!R)&&(b+=o)}}return b}function p(m,y){if(typeof m>"u"||m===null)return"";if(m.constructor===Date)return JSON.stringify(m).slice(1,25);m=m.toString().replace(c,a);var v=typeof n=="boolean"&&n||Array.isArray(n)&&n[y]||g(m,Co.BAD_DELIMITERS)||m.indexOf(i)>-1||m.charAt(0)===" "||m.charAt(m.length-1)===" ";return v?s+m+s:m}function g(m,y){for(var v=0;v<y.length;v++)if(m.indexOf(y[v])>-1)return!0;return!1}}function JY(e){this._handle=null,this._finished=!1,this._completed=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},t.call(this,e),this.parseChunk=function(n,r){if(this.isFirstChunk&&Si(this._config.beforeFirstChunk)){var i=this._config.beforeFirstChunk(n);i!==void 0&&(n=i)}this.isFirstChunk=!1;var o=this._partialLine+n;this._partialLine="";var s=this._handle.parse(o,this._baseIndex,!this._finished);if(!(this._handle.paused()||this._handle.aborted())){var a=s.meta.cursor;this._finished||(this._partialLine=o.substring(a-this._baseIndex),this._baseIndex=a),s&&s.data&&(this._rowCount+=s.data.length);var l=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(Si(this._config.chunk)&&!r){if(this._config.chunk(s,this._handle),this._handle.paused()||this._handle.aborted())return;s=void 0,this._completeResults=void 0}return!this._config.step&&!this._config.chunk&&(this._completeResults.data=this._completeResults.data.concat(s.data),this._completeResults.errors=this._completeResults.errors.concat(s.errors),this._completeResults.meta=s.meta),!this._completed&&l&&Si(this._config.complete)&&(!s||!s.meta.aborted)&&(this._config.complete(this._completeResults,this._input),this._completed=!0),!l&&(!s||!s.meta.paused)&&this._nextChunk(),s}},this._sendError=function(n){Si(this._config.error)&&this._config.error(n)};function t(n){var r=bD(n);r.chunkSize=parseInt(r.chunkSize),!n.step&&!n.chunk&&(r.chunkSize=null),this._handle=new ZY(r),this._handle.streamer=this,this._config=r}}function cm(e){e=e||{},JY.call(this,e);var t;this.stream=function(n){return t=n,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var n=this._config.chunkSize,r=n?t.substr(0,n):t;return t=n?t.substr(n):"",this._finished=!t,this.parseChunk(r)}}}cm.prototype=Object.create(cm.prototype);cm.prototype.constructor=cm;function ZY(e){var t=/^\s*-?(\d*\.?\d+|\d+\.?\d*)(e[-+]?\d+)?\s*$/i,n=/(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))/,r=this,i=0,o=0,s,a,l=!1,u=!1,c,f=[],d={data:[],errors:[],meta:{}};if(Si(e.step)){var h=e.step;e.step=function(k){if(d=k,m())g();else{if(g(),!d.data||d.data.length===0)return;i+=k.data.length,e.preview&&i>e.preview?a.abort():h(d,r)}}}this.parse=function(k,$,R){var O=e.quoteChar||'"';if(e.newline||(e.newline=C(k,O)),c=!1,e.delimiter)Si(e.delimiter)&&(e.delimiter=e.delimiter(k),d.meta.delimiter=e.delimiter);else{var B=w(k,e.newline,e.skipEmptyLines,e.comments,e.delimitersToGuess);B.successful?e.delimiter=B.bestDelimiter:(c=!0,e.delimiter=Co.DefaultDelimiter),d.meta.delimiter=e.delimiter}var D=bD(e);return e.preview&&e.header&&D.preview++,s=k,a=new G4(D),d=a.parse(s,$,R),g(),l?{meta:{paused:!0}}:d||{meta:{paused:!1}}},this.paused=function(){return l},this.pause=function(){l=!0,a.abort(),s=s.substr(a.getCharIndex())},this.resume=function(){l=!1,r.streamer.parseChunk(s,!0)},this.aborted=function(){return u},this.abort=function(){u=!0,a.abort(),d.meta.aborted=!0,Si(e.complete)&&e.complete(d),s=""};function p(k){return e.skipEmptyLines==="greedy"?k.join("").trim()==="":k.length===1&&k[0].length===0}function g(){if(d&&c&&(S("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+Co.DefaultDelimiter+"'"),c=!1),e.skipEmptyLines)for(var k=0;k<d.data.length;k++)p(d.data[k])&&d.data.splice(k--,1);return m()&&y(),x()}function m(){return e.header&&f.length===0}function y(){if(!d)return;function k(R){Si(e.transformHeader)&&(R=e.transformHeader(R)),f.push(R)}if(Array.isArray(d.data[0])){for(var $=0;m()&&$<d.data.length;$++)d.data[$].forEach(k);d.data.splice(0,1)}else d.data.forEach(k)}function v(k){return e.dynamicTypingFunction&&e.dynamicTyping[k]===void 0&&(e.dynamicTyping[k]=e.dynamicTypingFunction(k)),(e.dynamicTyping[k]||e.dynamicTyping)===!0}function b(k,$){return v(k)?$==="true"||$==="TRUE"?!0:$==="false"||$==="FALSE"?!1:t.test($)?parseFloat($):n.test($)?new Date($):$===""?null:$:$}function x(){if(!d||!d.data||!e.header&&!e.dynamicTyping&&!e.transform)return d;function k(R,O){var B=e.header?{}:[],D;for(D=0;D<R.length;D++){var L=D,A=R[D];e.header&&(L=D>=f.length?"__parsed_extra":f[D]),e.transform&&(A=e.transform(A,L)),A=b(L,A),L==="__parsed_extra"?(B[L]=B[L]||[],B[L].push(A)):B[L]=A}return e.header&&(D>f.length?S("FieldMismatch","TooManyFields","Too many fields: expected "+f.length+" fields but parsed "+D,o+O):D<f.length&&S("FieldMismatch","TooFewFields","Too few fields: expected "+f.length+" fields but parsed "+D,o+O)),B}var $=1;return!d.data[0]||Array.isArray(d.data[0])?(d.data=d.data.map(k),$=d.data.length):d.data=k(d.data,0),e.header&&d.meta&&(d.meta.fields=f),o+=$,d}function w(k,$,R,O,B){var D,L,A;B=B||[",","	","|",";",Co.RECORD_SEP,Co.UNIT_SEP];for(var P=0;P<B.length;P++){var j=B[P],z=0,U=0,X=0;A=void 0;for(var K=new G4({comments:O,delimiter:j,newline:$,preview:10}).parse(k),pe=0;pe<K.data.length;pe++){if(R&&p(K.data[pe])){X++;continue}var oe=K.data[pe].length;if(U+=oe,typeof A>"u"){A=0;continue}else oe>1&&(z+=Math.abs(oe-A),A=oe)}K.data.length>0&&(U/=K.data.length-X),(typeof L>"u"||z>L)&&U>1.99&&(L=z,D=j)}return e.delimiter=D,{successful:!!D,bestDelimiter:D}}function C(k,$){k=k.substr(0,1024*1024);var R=new RegExp(xv($)+"([^]*?)"+xv($),"gm");k=k.replace(R,"");var O=k.split("\r"),B=k.split(`
`),D=B.length>1&&B[0].length<O[0].length;if(O.length===1||D)return`
`;for(var L=0,A=0;A<O.length;A++)O[A][0]===`
`&&L++;return L>=O.length/2?`\r
`:"\r"}function S(k,$,R,O){d.errors.push({type:k,code:$,message:R,row:O})}}function xv(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function G4(e){e=e||{};var t=e.delimiter,n=e.newline,r=e.comments,i=e.step,o=e.preview,s=e.fastMode,a;e.quoteChar===void 0?a='"':a=e.quoteChar;var l=a;if(e.escapeChar!==void 0&&(l=e.escapeChar),(typeof t!="string"||Co.BAD_DELIMITERS.indexOf(t)>-1)&&(t=","),r===t)throw new Error("Comment character same as delimiter");r===!0?r="#":(typeof r!="string"||Co.BAD_DELIMITERS.indexOf(r)>-1)&&(r=!1),n!==`
`&&n!=="\r"&&n!==`\r
`&&(n=`
`);var u=0,c=!1;this.parse=function(f,d,h){if(typeof f!="string")throw new Error("Input must be a string");var p=f.length,g=t.length,m=n.length,y=r.length,v=Si(i);u=0;var b=[],x=[],w=[],C=0;if(!f)return K();if(s||s!==!1&&f.indexOf(a)===-1){for(var S=f.split(n),k=0;k<S.length;k++){if(w=S[k],u+=w.length,k!==S.length-1)u+=n.length;else if(h)return K();if(!(r&&w.substr(0,y)===r)){if(v){if(b=[],j(w.split(t)),pe(),c)return K()}else j(w.split(t));if(o&&k>=o)return b=b.slice(0,o),K(!0)}}return K()}for(var $=f.indexOf(t,u),R=f.indexOf(n,u),O=new RegExp(xv(l)+xv(a),"g"),B;;){if(f[u]===a){for(B=u,u++;;){if(B=f.indexOf(a,B+1),B===-1)return h||x.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:b.length,index:u}),U();if(B===p-1){var D=f.substring(u,B).replace(O,a);return U(D)}if(a===l&&f[B+1]===l){B++;continue}if(!(a!==l&&B!==0&&f[B-1]===l)){var L=R===-1?$:Math.min($,R),A=z(L);if(f[B+1+A]===t){if(w.push(f.substring(u,B).replace(O,a)),u=B+1+A+g,$=f.indexOf(t,u),R=f.indexOf(n,u),v&&(pe(),c))return K();if(o&&b.length>=o)return K(!0);break}var P=z(R);if(f.substr(B+1+P,m)===n){if(w.push(f.substring(u,B).replace(O,a)),X(B+1+P+m),$=f.indexOf(t,u),v&&(pe(),c))return K();if(o&&b.length>=o)return K(!0);break}x.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:b.length,index:u}),B++}}if(v&&(pe(),c))return K();if(o&&b.length>=o)return K(!0);continue}if(r&&w.length===0&&f.substr(u,y)===r){if(R===-1)return K();u=R+m,R=f.indexOf(n,u),$=f.indexOf(t,u);continue}if($!==-1&&($<R||R===-1)){w.push(f.substring(u,$)),u=$+g,$=f.indexOf(t,u);continue}if(R!==-1){if(w.push(f.substring(u,R)),X(R+m),v&&(pe(),c))return K();if(o&&b.length>=o)return K(!0);continue}break}return U();function j(oe){b.push(oe),C=u}function z(oe){var _e=0;if(oe!==-1){var Qe=f.substring(B+1,oe);Qe&&Qe.trim()===""&&(_e=Qe.length)}return _e}function U(oe){return h||(typeof oe>"u"&&(oe=f.substr(u)),w.push(oe),u=p,j(w),v&&pe()),K()}function X(oe){u=oe,j(w),w=[],R=f.indexOf(n,u)}function K(oe,_e){var Qe=_e||!1;return{data:Qe?b[0]:b,errors:x,meta:{delimiter:t,linebreak:n,aborted:c,truncated:!!oe,cursor:C+(d||0)}}}function pe(){i(K(void 0,!0)),b=[],x=[]}},this.abort=function(){c=!0},this.getCharIndex=function(){return u}}function bD(e){if(typeof e!="object"||e===null)return e;var t=Array.isArray(e)?[]:{};for(var n in e)t[n]=bD(e[n]);return t}function Si(e){return typeof e=="function"}const{ChunkStreamer:eK}=Co;function QS(e){e=e||{},eK.call(this,e),this.textDecoder=new TextDecoder(this._config.encoding),this.stream=async function(t){this._input=t;try{for await(const n of t)this.parseChunk(this.getStringChunk(n));this._finished=!0,this.parseChunk("")}catch(n){this._sendError(n)}},this._nextChunk=function(){},this.getStringChunk=function(t){return typeof t=="string"?t:this.textDecoder.decode(t,{stream:!0})}}QS.prototype=Object.create(eK.prototype);QS.prototype.constructor=QS;const Zye="4.2.1",xD="object-row-table",wD={dataType:null,batchType:null,id:"csv",module:"csv",name:"CSV",version:Zye,extensions:["csv","tsv","dsv"],mimeTypes:["text/csv","text/tab-separated-values","text/dsv"],category:"table",parse:async(e,t)=>Qz(new TextDecoder().decode(e),t),parseText:(e,t)=>Qz(e,t),parseInBatches:e1e,options:{csv:{shape:xD,optimizeMemoryUsage:!1,header:"auto",columnPrefix:"column",quoteChar:'"',escapeChar:'"',dynamicTyping:!0,comments:!1,skipEmptyLines:!0,delimitersToGuess:[",","	","|",";"]}}};async function Qz(e,t){const n={...wD.options.csv,...t==null?void 0:t.csv},r=t1e(e),o=n.header==="auto"?tK(r):!!n.header,s={...n,header:o,download:!1,transformHeader:o?nK():void 0,error:f=>{throw new Error(f)}},a=Co.parse(e,s),l=a.data,u=a.meta.fields||rK(n.columnPrefix,r.length),c=n.shape||xD;switch(c){case"object-row-table":return{shape:"object-row-table",data:l.map(f=>Array.isArray(f)?KY(f,u):f)};case"array-row-table":return{shape:"array-row-table",data:l.map(f=>Array.isArray(f)?f:QY(f,u))};default:throw new Error(c)}}function e1e(e,t){t={...t},t.batchSize==="auto"&&(t.batchSize=4e3);const n={...wD.options.csv,...t==null?void 0:t.csv},r=new Kye;let i=!0,o=null,s=null,a=null;const l={...n,header:!1,download:!1,chunkSize:1024*1024*5,skipEmptyLines:!1,step(u){let c=u.data;if(n.skipEmptyLines&&c.flat().join("").trim()==="")return;const f=u.meta.cursor;if(i&&!o&&(n.header==="auto"?tK(c):!!n.header)){o=c.map(nK());return}i&&(i=!1,o||(o=rK(n.columnPrefix,c.length)),a=n1e(c,o)),n.optimizeMemoryUsage&&(c=JSON.parse(JSON.stringify(c)));const d=n.shape||xD;s=s||new q4(a,{shape:d,...t});try{s.addRow(c);const h=s&&s.getFullBatch({bytesUsed:f});h&&r.enqueue(h)}catch(h){r.enqueue(h)}},complete(u){try{const c=u.meta.cursor,f=s&&s.getFinalBatch({bytesUsed:c});f&&r.enqueue(f)}catch(c){r.enqueue(c)}r.close()}};return Co.parse(e,l,QS),r}function tK(e){return e&&e.every(t=>typeof t=="string")}function t1e(e){return Co.parse(e,{download:!1,dynamicTyping:!0,preview:1}).data[0]}function nK(){const e=new Set;return t=>{let n=t,r=1;for(;e.has(n);)n=`${t}.${r}`,r++;return e.add(n),n}}function rK(e,t=0){const n=[];for(let r=0;r<t;r++)n.push(`${e}${r+1}`);return n}function n1e(e,t){const n=t?{}:[];for(let r=0;r<e.length;r++){const i=t&&t[r]||r;switch(typeof e[r]){case"number":case"boolean":n[i]={name:String(i),index:r,type:Float32Array};break;case"string":default:n[i]={name:String(i),index:r,type:Array}}}return n}var Jz={},Y5={},K5=34,uy=10,Q5=13;function iK(e){return new Function("d","return {"+e.map(function(t,n){return JSON.stringify(t)+": d["+n+'] || ""'}).join(",")+"}")}function r1e(e,t){var n=iK(e);return function(r,i){return t(n(r),i,e)}}function Zz(e){var t=Object.create(null),n=[];return e.forEach(function(r){for(var i in r)i in t||n.push(t[i]=i)}),n}function Wi(e,t){var n=e+"",r=n.length;return r<t?new Array(t-r+1).join(0)+n:n}function i1e(e){return e<0?"-"+Wi(-e,6):e>9999?"+"+Wi(e,6):Wi(e,4)}function o1e(e){var t=e.getUTCHours(),n=e.getUTCMinutes(),r=e.getUTCSeconds(),i=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":i1e(e.getUTCFullYear())+"-"+Wi(e.getUTCMonth()+1,2)+"-"+Wi(e.getUTCDate(),2)+(i?"T"+Wi(t,2)+":"+Wi(n,2)+":"+Wi(r,2)+"."+Wi(i,3)+"Z":r?"T"+Wi(t,2)+":"+Wi(n,2)+":"+Wi(r,2)+"Z":n||t?"T"+Wi(t,2)+":"+Wi(n,2)+"Z":"")}function s1e(e){var t=new RegExp('["'+e+`
\r]`),n=e.charCodeAt(0);function r(f,d){var h,p,g=i(f,function(m,y){if(h)return h(m,y-1);p=m,h=d?r1e(m,d):iK(m)});return g.columns=p||[],g}function i(f,d){var h=[],p=f.length,g=0,m=0,y,v=p<=0,b=!1;f.charCodeAt(p-1)===uy&&--p,f.charCodeAt(p-1)===Q5&&--p;function x(){if(v)return Y5;if(b)return b=!1,Jz;var C,S=g,k;if(f.charCodeAt(S)===K5){for(;g++<p&&f.charCodeAt(g)!==K5||f.charCodeAt(++g)===K5;);return(C=g)>=p?v=!0:(k=f.charCodeAt(g++))===uy?b=!0:k===Q5&&(b=!0,f.charCodeAt(g)===uy&&++g),f.slice(S+1,C-1).replace(/""/g,'"')}for(;g<p;){if((k=f.charCodeAt(C=g++))===uy)b=!0;else if(k===Q5)b=!0,f.charCodeAt(g)===uy&&++g;else if(k!==n)continue;return f.slice(S,C)}return v=!0,f.slice(S,p)}for(;(y=x())!==Y5;){for(var w=[];y!==Jz&&y!==Y5;)w.push(y),y=x();d&&(w=d(w,m++))==null||h.push(w)}return h}function o(f,d){return f.map(function(h){return d.map(function(p){return c(h[p])}).join(e)})}function s(f,d){return d==null&&(d=Zz(f)),[d.map(c).join(e)].concat(o(f,d)).join(`
`)}function a(f,d){return d==null&&(d=Zz(f)),o(f,d).join(`
`)}function l(f){return f.map(u).join(`
`)}function u(f){return f.map(c).join(e)}function c(f){return f==null?"":f instanceof Date?o1e(f):t.test(f+="")?'"'+f.replace(/"/g,'""')+'"':f}return{parse:r,parseRows:i,format:s,formatBody:a,formatRows:l,formatRow:u,formatValue:c}}function a1e(e,t){const n={numeric:0,categorical:1,datetime:2,name:3};return n[e.type]-n[t.type]}function Jy(e,t,n=[]){const r=[];if(e==null||t==null)return e!==t&&r.push({path:n.join("."),value:e}),r;if(typeof e!="object"||typeof t!="object")return e!==t&&r.push({path:n.join("."),value:e}),r;const i=new Set([...Object.keys(e),...Object.keys(t)]);for(const o of i){const s=[...n,o];if(!(o in t))r.push({path:s.join("."),value:e[o]});else if(!(o in e))r.push({path:s.join("."),value:void 0});else if(typeof e[o]=="object"&&e[o]!=null&&typeof t[o]=="object"&&t[o]!=null){const a=Jy(e[o],t[o],s);r.push(...a)}else e[o]!==t[o]&&r.push({path:s.join("."),value:e[o]})}return r}/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2022 Joachim Wester
 * MIT licensed
 */var l1e=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),u1e=Object.prototype.hasOwnProperty;function X4(e,t){return u1e.call(e,t)}function Y4(e){if(Array.isArray(e)){for(var t=new Array(e.length),n=0;n<t.length;n++)t[n]=""+n;return t}if(Object.keys)return Object.keys(e);var r=[];for(var i in e)X4(e,i)&&r.push(i);return r}function ko(e){switch(typeof e){case"object":return JSON.parse(JSON.stringify(e));case"undefined":return null;default:return e}}function K4(e){for(var t=0,n=e.length,r;t<n;){if(r=e.charCodeAt(t),r>=48&&r<=57){t++;continue}return!1}return!0}function gd(e){return e.indexOf("/")===-1&&e.indexOf("~")===-1?e:e.replace(/~/g,"~0").replace(/\//g,"~1")}function oK(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function Q4(e){if(e===void 0)return!0;if(e){if(Array.isArray(e)){for(var t=0,n=e.length;t<n;t++)if(Q4(e[t]))return!0}else if(typeof e=="object"){for(var r=Y4(e),i=r.length,o=0;o<i;o++)if(Q4(e[r[o]]))return!0}}return!1}function e7(e,t){var n=[e];for(var r in t){var i=typeof t[r]=="object"?JSON.stringify(t[r],null,2):t[r];typeof i<"u"&&n.push(r+": "+i)}return n.join(`
`)}var sK=function(e){l1e(t,e);function t(n,r,i,o,s){var a=this.constructor,l=e.call(this,e7(n,{name:r,index:i,operation:o,tree:s}))||this;return l.name=r,l.index=i,l.operation=o,l.tree=s,Object.setPrototypeOf(l,a.prototype),l.message=e7(n,{name:r,index:i,operation:o,tree:s}),l}return t}(Error),An=sK,c1e=ko,Zp={add:function(e,t,n){return e[t]=this.value,{newDocument:n}},remove:function(e,t,n){var r=e[t];return delete e[t],{newDocument:n,removed:r}},replace:function(e,t,n){var r=e[t];return e[t]=this.value,{newDocument:n,removed:r}},move:function(e,t,n){var r=JS(n,this.path);r&&(r=ko(r));var i=Kd(n,{op:"remove",path:this.from}).removed;return Kd(n,{op:"add",path:this.path,value:i}),{newDocument:n,removed:r}},copy:function(e,t,n){var r=JS(n,this.from);return Kd(n,{op:"add",path:this.path,value:ko(r)}),{newDocument:n}},test:function(e,t,n){return{newDocument:n,test:wv(e[t],this.value)}},_get:function(e,t,n){return this.value=e[t],{newDocument:n}}},f1e={add:function(e,t,n){return K4(t)?e.splice(t,0,this.value):e[t]=this.value,{newDocument:n,index:t}},remove:function(e,t,n){var r=e.splice(t,1);return{newDocument:n,removed:r[0]}},replace:function(e,t,n){var r=e[t];return e[t]=this.value,{newDocument:n,removed:r}},move:Zp.move,copy:Zp.copy,test:Zp.test,_get:Zp._get};function JS(e,t){if(t=="")return e;var n={op:"_get",path:t};return Kd(e,n),n.value}function Kd(e,t,n,r,i,o){if(n===void 0&&(n=!1),r===void 0&&(r=!0),i===void 0&&(i=!0),o===void 0&&(o=0),n&&(typeof n=="function"?n(t,0,e,t.path):ZS(t,0)),t.path===""){var s={newDocument:e};if(t.op==="add")return s.newDocument=t.value,s;if(t.op==="replace")return s.newDocument=t.value,s.removed=e,s;if(t.op==="move"||t.op==="copy")return s.newDocument=JS(e,t.from),t.op==="move"&&(s.removed=e),s;if(t.op==="test"){if(s.test=wv(e,t.value),s.test===!1)throw new An("Test operation failed","TEST_OPERATION_FAILED",o,t,e);return s.newDocument=e,s}else{if(t.op==="remove")return s.removed=e,s.newDocument=null,s;if(t.op==="_get")return t.value=e,s;if(n)throw new An("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",o,t,e);return s}}else{r||(e=ko(e));var a=t.path||"",l=a.split("/"),u=e,c=1,f=l.length,d=void 0,h=void 0,p=void 0;for(typeof n=="function"?p=n:p=ZS;;){if(h=l[c],h&&h.indexOf("~")!=-1&&(h=oK(h)),i&&(h=="__proto__"||h=="prototype"&&c>0&&l[c-1]=="constructor"))throw new TypeError("JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(n&&d===void 0&&(u[h]===void 0?d=l.slice(0,c).join("/"):c==f-1&&(d=t.path),d!==void 0&&p(t,0,e,d)),c++,Array.isArray(u)){if(h==="-")h=u.length;else{if(n&&!K4(h))throw new An("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",o,t,e);K4(h)&&(h=~~h)}if(c>=f){if(n&&t.op==="add"&&h>u.length)throw new An("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",o,t,e);var s=f1e[t.op].call(t,u,h,e);if(s.test===!1)throw new An("Test operation failed","TEST_OPERATION_FAILED",o,t,e);return s}}else if(c>=f){var s=Zp[t.op].call(t,u,h,e);if(s.test===!1)throw new An("Test operation failed","TEST_OPERATION_FAILED",o,t,e);return s}if(u=u[h],n&&c<f&&(!u||typeof u!="object"))throw new An("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",o,t,e)}}}function Mk(e,t,n,r,i){if(r===void 0&&(r=!0),i===void 0&&(i=!0),n&&!Array.isArray(t))throw new An("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");r||(e=ko(e));for(var o=new Array(t.length),s=0,a=t.length;s<a;s++)o[s]=Kd(e,t[s],n,!0,i,s),e=o[s].newDocument;return o.newDocument=e,o}function d1e(e,t,n){var r=Kd(e,t);if(r.test===!1)throw new An("Test operation failed","TEST_OPERATION_FAILED",n,t,e);return r.newDocument}function ZS(e,t,n,r){if(typeof e!="object"||e===null||Array.isArray(e))throw new An("Operation is not an object","OPERATION_NOT_AN_OBJECT",t,e,n);if(Zp[e.op]){if(typeof e.path!="string")throw new An("Operation `path` property is not a string","OPERATION_PATH_INVALID",t,e,n);if(e.path.indexOf("/")!==0&&e.path.length>0)throw new An('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",t,e,n);if((e.op==="move"||e.op==="copy")&&typeof e.from!="string")throw new An("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",t,e,n);if((e.op==="add"||e.op==="replace"||e.op==="test")&&e.value===void 0)throw new An("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",t,e,n);if((e.op==="add"||e.op==="replace"||e.op==="test")&&Q4(e.value))throw new An("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",t,e,n);if(n){if(e.op=="add"){var i=e.path.split("/").length,o=r.split("/").length;if(i!==o+1&&i!==o)throw new An("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",t,e,n)}else if(e.op==="replace"||e.op==="remove"||e.op==="_get"){if(e.path!==r)throw new An("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",t,e,n)}else if(e.op==="move"||e.op==="copy"){var s={op:"_get",path:e.from,value:void 0},a=aK([s],n);if(a&&a.name==="OPERATION_PATH_UNRESOLVABLE")throw new An("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",t,e,n)}}}else throw new An("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",t,e,n)}function aK(e,t,n){try{if(!Array.isArray(e))throw new An("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(t)Mk(ko(t),ko(e),n||!0);else{n=n||ZS;for(var r=0;r<e.length;r++)n(e[r],r,t,void 0)}}catch(i){if(i instanceof An)return i;throw i}}function wv(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){var n=Array.isArray(e),r=Array.isArray(t),i,o,s;if(n&&r){if(o=e.length,o!=t.length)return!1;for(i=o;i--!==0;)if(!wv(e[i],t[i]))return!1;return!0}if(n!=r)return!1;var a=Object.keys(e);if(o=a.length,o!==Object.keys(t).length)return!1;for(i=o;i--!==0;)if(!t.hasOwnProperty(a[i]))return!1;for(i=o;i--!==0;)if(s=a[i],!wv(e[s],t[s]))return!1;return!0}return e!==e&&t!==t}const h1e=Object.freeze(Object.defineProperty({__proto__:null,JsonPatchError:An,_areEquals:wv,applyOperation:Kd,applyPatch:Mk,applyReducer:d1e,deepClone:c1e,getValueByPointer:JS,validate:aK,validator:ZS},Symbol.toStringTag,{value:"Module"}));/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2021 Joachim Wester
 * MIT license
 */var SD=new WeakMap,p1e=function(){function e(t){this.observers=new Map,this.obj=t}return e}(),g1e=function(){function e(t,n){this.callback=t,this.observer=n}return e}();function m1e(e){return SD.get(e)}function y1e(e,t){return e.observers.get(t)}function v1e(e,t){e.observers.delete(t.callback)}function b1e(e,t){t.unobserve()}function x1e(e,t){var n=[],r,i=m1e(e);if(!i)i=new p1e(e),SD.set(e,i);else{var o=y1e(i,t);r=o&&o.observer}if(r)return r;if(r={},i.value=ko(e),t){r.callback=t,r.next=null;var s=function(){J4(r)},a=function(){clearTimeout(r.next),r.next=setTimeout(s)};typeof window<"u"&&(window.addEventListener("mouseup",a),window.addEventListener("keyup",a),window.addEventListener("mousedown",a),window.addEventListener("keydown",a),window.addEventListener("change",a))}return r.patches=n,r.object=e,r.unobserve=function(){J4(r),clearTimeout(r.next),v1e(i,r),typeof window<"u"&&(window.removeEventListener("mouseup",a),window.removeEventListener("keyup",a),window.removeEventListener("mousedown",a),window.removeEventListener("keydown",a),window.removeEventListener("change",a))},i.observers.set(t,new g1e(t,r)),r}function J4(e,t){t===void 0&&(t=!1);var n=SD.get(e.object);ED(n.value,e.object,e.patches,"",t),e.patches.length&&Mk(n.value,e.patches);var r=e.patches;return r.length>0&&(e.patches=[],e.callback&&e.callback(r)),r}function ED(e,t,n,r,i){if(t!==e){typeof t.toJSON=="function"&&(t=t.toJSON());for(var o=Y4(t),s=Y4(e),a=!1,l=s.length-1;l>=0;l--){var u=s[l],c=e[u];if(X4(t,u)&&!(t[u]===void 0&&c!==void 0&&Array.isArray(t)===!1)){var f=t[u];typeof c=="object"&&c!=null&&typeof f=="object"&&f!=null&&Array.isArray(c)===Array.isArray(f)?ED(c,f,n,r+"/"+gd(u),i):c!==f&&(i&&n.push({op:"test",path:r+"/"+gd(u),value:ko(c)}),n.push({op:"replace",path:r+"/"+gd(u),value:ko(f)}))}else Array.isArray(e)===Array.isArray(t)?(i&&n.push({op:"test",path:r+"/"+gd(u),value:ko(c)}),n.push({op:"remove",path:r+"/"+gd(u)}),a=!0):(i&&n.push({op:"test",path:r,value:e}),n.push({op:"replace",path:r,value:t}))}if(!(!a&&o.length==s.length))for(var l=0;l<o.length;l++){var u=o[l];!X4(e,u)&&t[u]!==void 0&&n.push({op:"add",path:r+"/"+gd(u),value:ko(t[u])})}}}function w1e(e,t,n){n===void 0&&(n=!1);var r=[];return ED(e,t,r,"",n),r}const S1e=Object.freeze(Object.defineProperty({__proto__:null,compare:w1e,generate:J4,observe:x1e,unobserve:b1e},Symbol.toStringTag,{value:"Module"}));Object.assign({},h1e,S1e,{JsonPatchError:sK,deepClone:ko,escapePathComponent:gd,unescapePathComponent:oK});var E1e=/("(?:[^\\"]|\\.)*")|[:,]/g,C1e=function(t,n){var r,i,o;return n=n||{},r=JSON.stringify([1],void 0,n.indent===void 0?2:n.indent).slice(2,-3),i=r===""?1/0:n.maxLength===void 0?80:n.maxLength,o=n.replacer,function s(a,l,u){var c,f,d,h,p,g,m,y,v,b,x,w;if(a&&typeof a.toJSON=="function"&&(a=a.toJSON()),x=JSON.stringify(a,o),x===void 0)return x;if(m=i-l.length-u,x.length<=m&&(v=x.replace(E1e,function(C,S){return S||C+" "}),v.length<=m))return v;if(o!=null&&(a=JSON.parse(x),o=void 0),typeof a=="object"&&a!==null){if(y=l+r,d=[],f=0,Array.isArray(a))for(b="[",c="]",m=a.length;f<m;f++)d.push(s(a[f],y,f===m-1?0:1)||"null");else for(b="{",c="}",g=Object.keys(a),m=g.length;f<m;f++)h=g[f],p=JSON.stringify(h)+": ",w=s(a[h],y,p.length+(f===m-1?0:1)),w!==void 0&&d.push(p+w);if(d.length>0)return[b,r+d.join(`,
`+y),c].join(`
`+l)}return x}(t,"",0)};const J5=Wh(C1e);function go(e,t,n){return e.fields=t||[],e.fname=n,e}function Pn(e){return e==null?null:e.fname}function ri(e){return e==null?null:e.fields}function lK(e){return e.length===1?k1e(e[0]):_1e(e)}const k1e=e=>function(t){return t[e]},_1e=e=>{const t=e.length;return function(n){for(let r=0;r<t;++r)n=n[e[r]];return n}};function ee(e){throw Error(e)}function Cl(e){const t=[],n=e.length;let r=null,i=0,o="",s,a,l;e=e+"";function u(){t.push(o+e.substring(s,a)),o="",s=a+1}for(s=a=0;a<n;++a)if(l=e[a],l==="\\")o+=e.substring(s,a++),s=a;else if(l===r)u(),r=null,i=-1;else{if(r)continue;s===i&&l==='"'||s===i&&l==="'"?(s=a+1,r=l):l==="."&&!i?a>s?u():s=a+1:l==="["?(a>s&&u(),i=s=a+1):l==="]"&&(i||ee("Access path missing open bracket: "+e),i>0&&u(),i=0,s=a+1)}return i&&ee("Access path missing closing bracket: "+e),r&&ee("Access path missing closing quote: "+e),a>s&&(a++,u()),t}function bs(e,t,n){const r=Cl(e);return e=r.length===1?r[0]:e,go((n&&n.get||lK)(r),[e],t||e)}const Ib=bs("id"),ai=go(e=>e,[],"identity"),Cc=go(()=>0,[],"zero"),y0=go(()=>1,[],"one"),xs=go(()=>!0,[],"true"),cc=go(()=>!1,[],"false");function $1e(e,t,n){const r=[t].concat([].slice.call(n));console[e].apply(console,r)}const uK=0,Nk=1,CD=2,cK=3,fK=4;function kD(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:$1e,r=e||uK;return{level(i){return arguments.length?(r=+i,this):r},error(){return r>=Nk&&n(t||"error","ERROR",arguments),this},warn(){return r>=CD&&n(t||"warn","WARN",arguments),this},info(){return r>=cK&&n(t||"log","INFO",arguments),this},debug(){return r>=fK&&n(t||"log","DEBUG",arguments),this}}}var te=Array.isArray;function ve(e){return e===Object(e)}const t7=e=>e!=="__proto__";function v0(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((r,i)=>{for(const o in i)if(o==="signals")r.signals=A1e(r.signals,i.signals);else{const s=o==="legend"?{layout:1}:o==="style"?!0:null;b0(r,o,i[o],s)}return r},{})}function b0(e,t,n,r){if(!t7(t))return;let i,o;if(ve(n)&&!te(n)){o=ve(e[t])?e[t]:e[t]={};for(i in n)r&&(r===!0||r[i])?b0(o,i,n[i]):t7(i)&&(o[i]=n[i])}else e[t]=n}function A1e(e,t){if(e==null)return t;const n={},r=[];function i(o){n[o.name]||(n[o.name]=1,r.push(o))}return t.forEach(i),e.forEach(i),r}function gt(e){return e[e.length-1]}function ti(e){return e==null||e===""?null:+e}const dK=e=>t=>e*Math.exp(t),hK=e=>t=>Math.log(e*t),pK=e=>t=>Math.sign(t)*Math.log1p(Math.abs(t/e)),gK=e=>t=>Math.sign(t)*Math.expm1(Math.abs(t))*e,eE=e=>t=>t<0?-Math.pow(-t,e):Math.pow(t,e);function Lk(e,t,n,r){const i=n(e[0]),o=n(gt(e)),s=(o-i)*t;return[r(i-s),r(o-s)]}function mK(e,t){return Lk(e,t,ti,ai)}function yK(e,t){var n=Math.sign(e[0]);return Lk(e,t,hK(n),dK(n))}function vK(e,t,n){return Lk(e,t,eE(n),eE(1/n))}function bK(e,t,n){return Lk(e,t,pK(n),gK(n))}function Ik(e,t,n,r,i){const o=r(e[0]),s=r(gt(e)),a=t!=null?r(t):(o+s)/2;return[i(a+(o-a)*n),i(a+(s-a)*n)]}function _D(e,t,n){return Ik(e,t,n,ti,ai)}function $D(e,t,n){const r=Math.sign(e[0]);return Ik(e,t,n,hK(r),dK(r))}function tE(e,t,n,r){return Ik(e,t,n,eE(r),eE(1/r))}function AD(e,t,n,r){return Ik(e,t,n,pK(r),gK(r))}function xK(e){return 1+~~(new Date(e).getMonth()/3)}function wK(e){return 1+~~(new Date(e).getUTCMonth()/3)}function xe(e){return e!=null?te(e)?e:[e]:[]}function SK(e,t,n){let r=e[0],i=e[1],o;return i<r&&(o=i,i=r,r=o),o=i-r,o>=n-t?[t,n]:[r=Math.min(Math.max(r,t),n-o),r+o]}function et(e){return typeof e=="function"}const T1e="descending";function TD(e,t,n){n=n||{},t=xe(t)||[];const r=[],i=[],o={},s=n.comparator||F1e;return xe(e).forEach((a,l)=>{a!=null&&(r.push(t[l]===T1e?-1:1),i.push(a=et(a)?a:bs(a,null,n)),(ri(a)||[]).forEach(u=>o[u]=1))}),i.length===0?null:go(s(i,r),Object.keys(o))}const zk=(e,t)=>(e<t||e==null)&&t!=null?-1:(e>t||t==null)&&e!=null?1:(t=t instanceof Date?+t:t,(e=e instanceof Date?+e:e)!==e&&t===t?-1:t!==t&&e===e?1:0),F1e=(e,t)=>e.length===1?R1e(e[0],t[0]):P1e(e,t,e.length),R1e=(e,t)=>function(n,r){return zk(e(n),e(r))*t},P1e=(e,t,n)=>(t.push(0),function(r,i){let o,s=0,a=-1;for(;s===0&&++a<n;)o=e[a],s=zk(o(r),o(i));return s*t[a]});function li(e){return et(e)?e:()=>e}function FD(e,t){let n;return r=>{n&&clearTimeout(n),n=setTimeout(()=>(t(r),n=null),e)}}function Ze(e){for(let t,n,r=1,i=arguments.length;r<i;++r){t=arguments[r];for(n in t)e[n]=t[n]}return e}function ml(e,t){let n=0,r,i,o,s;if(e&&(r=e.length))if(t==null){for(i=e[n];n<r&&(i==null||i!==i);i=e[++n]);for(o=s=i;n<r;++n)i=e[n],i!=null&&(i<o&&(o=i),i>s&&(s=i))}else{for(i=t(e[n]);n<r&&(i==null||i!==i);i=t(e[++n]));for(o=s=i;n<r;++n)i=t(e[n]),i!=null&&(i<o&&(o=i),i>s&&(s=i))}return[o,s]}function EK(e,t){const n=e.length;let r=-1,i,o,s,a,l;if(t==null){for(;++r<n;)if(o=e[r],o!=null&&o>=o){i=s=o;break}if(r===n)return[-1,-1];for(a=l=r;++r<n;)o=e[r],o!=null&&(i>o&&(i=o,a=r),s<o&&(s=o,l=r))}else{for(;++r<n;)if(o=t(e[r],r,e),o!=null&&o>=o){i=s=o;break}if(r===n)return[-1,-1];for(a=l=r;++r<n;)o=t(e[r],r,e),o!=null&&(i>o&&(i=o,a=r),s<o&&(s=o,l=r))}return[a,l]}const O1e=Object.prototype.hasOwnProperty;function Se(e,t){return O1e.call(e,t)}const xw={};function x0(e){let t={},n;function r(o){return Se(t,o)&&t[o]!==xw}const i={size:0,empty:0,object:t,has:r,get(o){return r(o)?t[o]:void 0},set(o,s){return r(o)||(++i.size,t[o]===xw&&--i.empty),t[o]=s,this},delete(o){return r(o)&&(--i.size,++i.empty,t[o]=xw),this},clear(){i.size=i.empty=0,i.object=t={}},test(o){return arguments.length?(n=o,i):n},clean(){const o={};let s=0;for(const a in t){const l=t[a];l!==xw&&(!n||!n(l))&&(o[a]=l,++s)}i.size=s,i.empty=0,i.object=t=o}};return e&&Object.keys(e).forEach(o=>{i.set(o,e[o])}),i}function CK(e,t,n,r,i,o){if(!n&&n!==0)return o;const s=+n;let a=e[0],l=gt(e),u;l<a&&(u=a,a=l,l=u),u=Math.abs(t-a);const c=Math.abs(l-t);return u<c&&u<=s?r:c<=s?i:o}function he(e,t,n){const r=e.prototype=Object.create(t.prototype);return Object.defineProperty(r,"constructor",{value:e,writable:!0,enumerable:!0,configurable:!0}),Ze(r,n)}function eg(e,t,n,r){let i=t[0],o=t[t.length-1],s;return i>o&&(s=i,i=o,o=s),n=n===void 0||n,r=r===void 0||r,(n?i<=e:i<e)&&(r?e<=o:e<o)}function Ff(e){return typeof e=="boolean"}function qc(e){return Object.prototype.toString.call(e)==="[object Date]"}function kK(e){return e&&et(e[Symbol.iterator])}function St(e){return typeof e=="number"}function _K(e){return Object.prototype.toString.call(e)==="[object RegExp]"}function we(e){return typeof e=="string"}function RD(e,t,n){e&&(e=t?xe(e).map(a=>a.replace(/\\(.)/g,"$1")):xe(e));const r=e&&e.length,i=n&&n.get||lK,o=a=>i(t?[a]:Cl(a));let s;if(!r)s=function(){return""};else if(r===1){const a=o(e[0]);s=function(l){return""+a(l)}}else{const a=e.map(o);s=function(l){let u=""+a[0](l),c=0;for(;++c<r;)u+="|"+a[c](l);return u}}return go(s,e,"key")}function $K(e,t){const n=e[0],r=gt(e),i=+t;return i?i===1?r:n+i*(r-n):n}const D1e=1e4;function AK(e){e=+e||D1e;let t,n,r;const i=()=>{t={},n={},r=0},o=(s,a)=>(++r>e&&(n=t,t={},r=1),t[s]=a);return i(),{clear:i,has:s=>Se(t,s)||Se(n,s),get:s=>Se(t,s)?t[s]:Se(n,s)?o(s,n[s]):void 0,set:(s,a)=>Se(t,s)?t[s]=a:o(s,a)}}function TK(e,t,n,r){const i=t.length,o=n.length;if(!o)return t;if(!i)return n;const s=r||new t.constructor(i+o);let a=0,l=0,u=0;for(;a<i&&l<o;++u)s[u]=e(t[a],n[l])>0?n[l++]:t[a++];for(;a<i;++a,++u)s[u]=t[a];for(;l<o;++l,++u)s[u]=n[l];return s}function Zy(e,t){let n="";for(;--t>=0;)n+=e;return n}function FK(e,t,n,r){const i=n||" ",o=e+"",s=t-o.length;return s<=0?o:r==="left"?Zy(i,s)+o:r==="center"?Zy(i,~~(s/2))+o+Zy(i,Math.ceil(s/2)):o+Zy(i,s)}function zb(e){return e&&gt(e)-e[0]||0}function de(e){return te(e)?"["+e.map(de)+"]":ve(e)||we(e)?JSON.stringify(e).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):e}function PD(e){return e==null||e===""?null:!e||e==="false"||e==="0"?!1:!!e}const M1e=e=>St(e)||qc(e)?e:Date.parse(e);function OD(e,t){return t=t||M1e,e==null||e===""?null:t(e)}function DD(e){return e==null||e===""?null:e+""}function ua(e){const t={},n=e.length;for(let r=0;r<n;++r)t[e[r]]=!0;return t}function RK(e,t,n,r){const i=r??"…",o=e+"",s=o.length,a=Math.max(0,t-i.length);return s<=t?o:n==="left"?i+o.slice(s-a):n==="center"?o.slice(0,Math.ceil(a/2))+i+o.slice(s-~~(a/2)):o.slice(0,a)+i}function gc(e,t,n){if(e)if(t){const r=e.length;for(let i=0;i<r;++i){const o=t(e[i]);o&&n(o,i,e)}}else e.forEach(n)}function N1e(e){return e}function L1e(e){if(e==null)return N1e;var t,n,r=e.scale[0],i=e.scale[1],o=e.translate[0],s=e.translate[1];return function(a,l){l||(t=n=0);var u=2,c=a.length,f=new Array(c);for(f[0]=(t+=a[0])*r+o,f[1]=(n+=a[1])*i+s;u<c;)f[u]=a[u],++u;return f}}function I1e(e,t){for(var n,r=e.length,i=r-t;i<--r;)n=e[i],e[i++]=e[r],e[r]=n}function z1e(e,t){return typeof t=="string"&&(t=e.objects[t]),t.type==="GeometryCollection"?{type:"FeatureCollection",features:t.geometries.map(function(n){return n7(e,n)})}:n7(e,t)}function n7(e,t){var n=t.id,r=t.bbox,i=t.properties==null?{}:t.properties,o=PK(e,t);return n==null&&r==null?{type:"Feature",properties:i,geometry:o}:r==null?{type:"Feature",id:n,properties:i,geometry:o}:{type:"Feature",id:n,bbox:r,properties:i,geometry:o}}function PK(e,t){var n=L1e(e.transform),r=e.arcs;function i(c,f){f.length&&f.pop();for(var d=r[c<0?~c:c],h=0,p=d.length;h<p;++h)f.push(n(d[h],h));c<0&&I1e(f,p)}function o(c){return n(c)}function s(c){for(var f=[],d=0,h=c.length;d<h;++d)i(c[d],f);return f.length<2&&f.push(f[0]),f}function a(c){for(var f=s(c);f.length<4;)f.push(f[0]);return f}function l(c){return c.map(a)}function u(c){var f=c.type,d;switch(f){case"GeometryCollection":return{type:f,geometries:c.geometries.map(u)};case"Point":d=o(c.coordinates);break;case"MultiPoint":d=c.coordinates.map(o);break;case"LineString":d=s(c.arcs);break;case"MultiLineString":d=c.arcs.map(s);break;case"Polygon":d=l(c.arcs);break;case"MultiPolygon":d=c.arcs.map(l);break;default:return null}return{type:f,coordinates:d}}return u(t)}function j1e(e,t){var n={},r={},i={},o=[],s=-1;t.forEach(function(u,c){var f=e.arcs[u<0?~u:u],d;f.length<3&&!f[1][0]&&!f[1][1]&&(d=t[++s],t[s]=u,t[c]=d)}),t.forEach(function(u){var c=a(u),f=c[0],d=c[1],h,p;if(h=i[f])if(delete i[h.end],h.push(u),h.end=d,p=r[d]){delete r[p.start];var g=p===h?h:h.concat(p);r[g.start=h.start]=i[g.end=p.end]=g}else r[h.start]=i[h.end]=h;else if(h=r[d])if(delete r[h.start],h.unshift(u),h.start=f,p=i[f]){delete i[p.end];var m=p===h?h:p.concat(h);r[m.start=p.start]=i[m.end=h.end]=m}else r[h.start]=i[h.end]=h;else h=[u],r[h.start=f]=i[h.end=d]=h});function a(u){var c=e.arcs[u<0?~u:u],f=c[0],d;return e.transform?(d=[0,0],c.forEach(function(h){d[0]+=h[0],d[1]+=h[1]})):d=c[c.length-1],u<0?[d,f]:[f,d]}function l(u,c){for(var f in u){var d=u[f];delete c[d.start],delete d.start,delete d.end,d.forEach(function(h){n[h<0?~h:h]=1}),o.push(d)}}return l(i,r),l(r,i),t.forEach(function(u){n[u<0?~u:u]||o.push([u])}),o}function B1e(e){return PK(e,U1e.apply(this,arguments))}function U1e(e,t,n){var r,i,o;if(arguments.length>1)r=V1e(e,t,n);else for(i=0,r=new Array(o=e.arcs.length);i<o;++i)r[i]=i;return{type:"MultiLineString",arcs:j1e(e,r)}}function V1e(e,t,n){var r=[],i=[],o;function s(f){var d=f<0?~f:f;(i[d]||(i[d]=[])).push({i:f,g:o})}function a(f){f.forEach(s)}function l(f){f.forEach(a)}function u(f){f.forEach(l)}function c(f){switch(o=f,f.type){case"GeometryCollection":f.geometries.forEach(c);break;case"LineString":a(f.arcs);break;case"MultiLineString":case"Polygon":l(f.arcs);break;case"MultiPolygon":u(f.arcs);break}}return c(t),i.forEach(n==null?function(f){r.push(f[0].i)}:function(f){n(f[0].g,f[f.length-1].g)&&r.push(f[0].i)}),r}function fu(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function W1e(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function w0(e){let t,n,r;e.length!==2?(t=fu,n=(a,l)=>fu(e(a),l),r=(a,l)=>e(a)-l):(t=e===fu||e===W1e?e:H1e,n=e,r=e);function i(a,l,u=0,c=a.length){if(u<c){if(t(l,l)!==0)return c;do{const f=u+c>>>1;n(a[f],l)<0?u=f+1:c=f}while(u<c)}return u}function o(a,l,u=0,c=a.length){if(u<c){if(t(l,l)!==0)return c;do{const f=u+c>>>1;n(a[f],l)<=0?u=f+1:c=f}while(u<c)}return u}function s(a,l,u=0,c=a.length){const f=i(a,l,u,c-1);return f>u&&r(a[f-1],l)>-r(a[f],l)?f-1:f}return{left:i,center:s,right:o}}function H1e(){return 0}function OK(e){return e===null?NaN:+e}function*q1e(e,t){if(t===void 0)for(let n of e)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)(r=t(r,++n,e))!=null&&(r=+r)>=r&&(yield r)}}const DK=w0(fu),lf=DK.right,G1e=DK.left;w0(OK).center;function X1e(e,t){let n=0,r,i=0,o=0;if(t===void 0)for(let s of e)s!=null&&(s=+s)>=s&&(r=s-i,i+=r/++n,o+=r*(s-i));else{let s=-1;for(let a of e)(a=t(a,++s,e))!=null&&(a=+a)>=a&&(r=a-i,i+=r/++n,o+=r*(a-i))}if(n>1)return o/(n-1)}function Y1e(e,t){const n=X1e(e,t);return n&&Math.sqrt(n)}class Fi{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const n=this._partials;let r=0;for(let i=0;i<this._n&&i<32;i++){const o=n[i],s=t+o,a=Math.abs(t)<Math.abs(o)?t-(s-o):o-(s-t);a&&(n[r++]=a),t=s}return n[r]=t,this._n=r+1,this}valueOf(){const t=this._partials;let n=this._n,r,i,o,s=0;if(n>0){for(s=t[--n];n>0&&(r=s,i=t[--n],s=r+i,o=i-(s-r),!o););n>0&&(o<0&&t[n-1]<0||o>0&&t[n-1]>0)&&(i=o*2,r=s+i,i==r-s&&(s=r))}return s}}class r7 extends Map{constructor(t,n=LK){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(Z4(this,t))}has(t){return super.has(Z4(this,t))}set(t,n){return super.set(MK(this,t),n)}delete(t){return super.delete(NK(this,t))}}class nE extends Set{constructor(t,n=LK){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const r of t)this.add(r)}has(t){return super.has(Z4(this,t))}add(t){return super.add(MK(this,t))}delete(t){return super.delete(NK(this,t))}}function Z4({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function MK({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function NK({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function LK(e){return e!==null&&typeof e=="object"?e.valueOf():e}function K1e(e,t){return Array.from(t,n=>e[n])}function Q1e(e=fu){if(e===fu)return IK;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function IK(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const J1e=Math.sqrt(50),Z1e=Math.sqrt(10),eve=Math.sqrt(2);function rE(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),s=o>=J1e?10:o>=Z1e?5:o>=eve?2:1;let a,l,u;return i<0?(u=Math.pow(10,-i)/s,a=Math.round(e*u),l=Math.round(t*u),a/u<e&&++a,l/u>t&&--l,u=-u):(u=Math.pow(10,i)*s,a=Math.round(e/u),l=Math.round(t/u),a*u<e&&++a,l*u>t&&--l),l<a&&.5<=n&&n<2?rE(e,t,n*2):[a,l,u]}function eF(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,o,s]=r?rE(t,e,n):rE(e,t,n);if(!(o>=i))return[];const a=o-i+1,l=new Array(a);if(r)if(s<0)for(let u=0;u<a;++u)l[u]=(o-u)/-s;else for(let u=0;u<a;++u)l[u]=(o-u)*s;else if(s<0)for(let u=0;u<a;++u)l[u]=(i+u)/-s;else for(let u=0;u<a;++u)l[u]=(i+u)*s;return l}function tF(e,t,n){return t=+t,e=+e,n=+n,rE(e,t,n)[2]}function uf(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?tF(t,e,n):tF(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function Qd(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function nF(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function zK(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?IK:Q1e(i);r>n;){if(r-n>600){const l=r-n+1,u=t-n+1,c=Math.log(l),f=.5*Math.exp(2*c/3),d=.5*Math.sqrt(c*f*(l-f)/l)*(u-l/2<0?-1:1),h=Math.max(n,Math.floor(t-u*f/l+d)),p=Math.min(r,Math.floor(t+(l-u)*f/l+d));zK(e,t,h,p,i)}const o=e[t];let s=n,a=r;for(cy(e,n,t),i(e[r],o)>0&&cy(e,n,r);s<a;){for(cy(e,s,a),++s,--a;i(e[s],o)<0;)++s;for(;i(e[a],o)>0;)--a}i(e[n],o)===0?cy(e,n,a):(++a,cy(e,a,r)),a<=t&&(n=a+1),t<=a&&(r=a-1)}return e}function cy(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function rF(e,t,n){if(e=Float64Array.from(q1e(e,n)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return nF(e);if(t>=1)return Qd(e);var r,i=(r-1)*t,o=Math.floor(i),s=Qd(zK(e,o).subarray(0,o+1)),a=nF(e.subarray(o+1));return s+(a-s)*(i-o)}}function jK(e,t,n=OK){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,o=Math.floor(i),s=+n(e[o],o,e),a=+n(e[o+1],o+1,e);return s+(a-s)*(i-o)}}function tve(e,t){let n=0,r=0;if(t===void 0)for(let i of e)i!=null&&(i=+i)>=i&&(++n,r+=i);else{let i=-1;for(let o of e)(o=t(o,++i,e))!=null&&(o=+o)>=o&&(++n,r+=o)}if(n)return r/n}function BK(e,t){return rF(e,.5,t)}function*nve(e){for(const t of e)yield*t}function UK(e){return Array.from(nve(e))}function _o(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,o=new Array(i);++r<i;)o[r]=e+r*n;return o}function VK(e,t){let n=0;for(let r of e)(r=+r)&&(n+=r);return n}function rve(e,...t){e=new nE(e),t=t.map(ive);e:for(const n of e)for(const r of t)if(!r.has(n)){e.delete(n);continue e}return e}function ive(e){return e instanceof nE?e:new nE(e)}function ove(...e){const t=new nE;for(const n of e)for(const r of n)t.add(r);return t}function sve(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function iE(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function fm(e){return e=iE(Math.abs(e)),e?e[1]:NaN}function ave(e,t){return function(n,r){for(var i=n.length,o=[],s=0,a=e[0],l=0;i>0&&a>0&&(l+a+1>r&&(a=Math.max(1,r-l)),o.push(n.substring(i-=a,i+a)),!((l+=a+1)>r));)a=e[s=(s+1)%e.length];return o.reverse().join(t)}}function lve(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var uve=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function gh(e){if(!(t=uve.exec(e)))throw new Error("invalid format: "+e);var t;return new MD({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}gh.prototype=MD.prototype;function MD(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}MD.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function cve(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var WK;function fve(e,t){var n=iE(e,t);if(!n)return e+"";var r=n[0],i=n[1],o=i-(WK=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return o===s?r:o>s?r+new Array(o-s+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+iE(e,Math.max(0,t+o-1))[0]}function i7(e,t){var n=iE(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const o7={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:sve,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>i7(e*100,t),r:i7,s:fve,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function s7(e){return e}var a7=Array.prototype.map,l7=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function HK(e){var t=e.grouping===void 0||e.thousands===void 0?s7:ave(a7.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?s7:lve(a7.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",a=e.minus===void 0?"−":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function u(f){f=gh(f);var d=f.fill,h=f.align,p=f.sign,g=f.symbol,m=f.zero,y=f.width,v=f.comma,b=f.precision,x=f.trim,w=f.type;w==="n"?(v=!0,w="g"):o7[w]||(b===void 0&&(b=12),x=!0,w="g"),(m||d==="0"&&h==="=")&&(m=!0,d="0",h="=");var C=g==="$"?n:g==="#"&&/[boxX]/.test(w)?"0"+w.toLowerCase():"",S=g==="$"?r:/[%p]/.test(w)?s:"",k=o7[w],$=/[defgprs%]/.test(w);b=b===void 0?6:/[gprs]/.test(w)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function R(O){var B=C,D=S,L,A,P;if(w==="c")D=k(O)+D,O="";else{O=+O;var j=O<0||1/O<0;if(O=isNaN(O)?l:k(Math.abs(O),b),x&&(O=cve(O)),j&&+O==0&&p!=="+"&&(j=!1),B=(j?p==="("?p:a:p==="-"||p==="("?"":p)+B,D=(w==="s"?l7[8+WK/3]:"")+D+(j&&p==="("?")":""),$){for(L=-1,A=O.length;++L<A;)if(P=O.charCodeAt(L),48>P||P>57){D=(P===46?i+O.slice(L+1):O.slice(L))+D,O=O.slice(0,L);break}}}v&&!m&&(O=t(O,1/0));var z=B.length+O.length+D.length,U=z<y?new Array(y-z+1).join(d):"";switch(v&&m&&(O=t(U+O,U.length?y-D.length:1/0),U=""),h){case"<":O=B+O+D+U;break;case"=":O=B+U+O+D;break;case"^":O=U.slice(0,z=U.length>>1)+B+O+D+U.slice(z);break;default:O=U+B+O+D;break}return o(O)}return R.toString=function(){return f+""},R}function c(f,d){var h=u((f=gh(f),f.type="f",f)),p=Math.max(-8,Math.min(8,Math.floor(fm(d)/3)))*3,g=Math.pow(10,-p),m=l7[8+p/3];return function(y){return h(g*y)+m}}return{format:u,formatPrefix:c}}var ww,jb,ND;dve({thousands:",",grouping:[3],currency:["$",""]});function dve(e){return ww=HK(e),jb=ww.format,ND=ww.formatPrefix,ww}function qK(e){return Math.max(0,-fm(Math.abs(e)))}function GK(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(fm(t)/3)))*3-fm(Math.abs(e)))}function XK(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,fm(t)-fm(e))+1}const Z5=new Date,eT=new Date;function or(e,t,n,r){function i(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(e(o=new Date(+o)),o),i.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),i.round=o=>{const s=i(o),a=i.ceil(o);return o-s<a-o?s:a},i.offset=(o,s)=>(t(o=new Date(+o),s==null?1:Math.floor(s)),o),i.range=(o,s,a)=>{const l=[];if(o=i.ceil(o),a=a==null?1:Math.floor(a),!(o<s)||!(a>0))return l;let u;do l.push(u=new Date(+o)),t(o,a),e(o);while(u<o&&o<s);return l},i.filter=o=>or(s=>{if(s>=s)for(;e(s),!o(s);)s.setTime(s-1)},(s,a)=>{if(s>=s)if(a<0)for(;++a<=0;)for(;t(s,-1),!o(s););else for(;--a>=0;)for(;t(s,1),!o(s););}),n&&(i.count=(o,s)=>(Z5.setTime(+o),eT.setTime(+s),e(Z5),e(eT),Math.floor(n(Z5,eT))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?s=>r(s)%o===0:s=>i.count(0,s)%o===0):i)),i}const dm=or(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);dm.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?or(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):dm);dm.range;const nu=1e3,cs=nu*60,ru=cs*60,Cu=ru*24,LD=Cu*7,u7=Cu*30,tT=Cu*365,Zs=or(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*nu)},(e,t)=>(t-e)/nu,e=>e.getUTCSeconds());Zs.range;const Bb=or(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*nu)},(e,t)=>{e.setTime(+e+t*cs)},(e,t)=>(t-e)/cs,e=>e.getMinutes());Bb.range;const Ub=or(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*cs)},(e,t)=>(t-e)/cs,e=>e.getUTCMinutes());Ub.range;const Vb=or(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*nu-e.getMinutes()*cs)},(e,t)=>{e.setTime(+e+t*ru)},(e,t)=>(t-e)/ru,e=>e.getHours());Vb.range;const Wb=or(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*ru)},(e,t)=>(t-e)/ru,e=>e.getUTCHours());Wb.range;const ol=or(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*cs)/Cu,e=>e.getDate()-1);ol.range;const du=or(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Cu,e=>e.getUTCDate()-1);du.range;const YK=or(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Cu,e=>Math.floor(e/Cu));YK.range;function qh(e){return or(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*cs)/LD)}const Gh=qh(0),oE=qh(1),hve=qh(2),pve=qh(3),hm=qh(4),gve=qh(5),mve=qh(6);Gh.range;oE.range;hve.range;pve.range;hm.range;gve.range;mve.range;function Xh(e){return or(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/LD)}const Yh=Xh(0),sE=Xh(1),yve=Xh(2),vve=Xh(3),pm=Xh(4),bve=Xh(5),xve=Xh(6);Yh.range;sE.range;yve.range;vve.range;pm.range;bve.range;xve.range;const gm=or(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());gm.range;const mm=or(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());mm.range;const ca=or(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());ca.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:or(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});ca.range;const fa=or(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());fa.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:or(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});fa.range;function KK(e,t,n,r,i,o){const s=[[Zs,1,nu],[Zs,5,5*nu],[Zs,15,15*nu],[Zs,30,30*nu],[o,1,cs],[o,5,5*cs],[o,15,15*cs],[o,30,30*cs],[i,1,ru],[i,3,3*ru],[i,6,6*ru],[i,12,12*ru],[r,1,Cu],[r,2,2*Cu],[n,1,LD],[t,1,u7],[t,3,3*u7],[e,1,tT]];function a(u,c,f){const d=c<u;d&&([u,c]=[c,u]);const h=f&&typeof f.range=="function"?f:l(u,c,f),p=h?h.range(u,+c+1):[];return d?p.reverse():p}function l(u,c,f){const d=Math.abs(c-u)/f,h=w0(([,,m])=>m).right(s,d);if(h===s.length)return e.every(uf(u/tT,c/tT,f));if(h===0)return dm.every(Math.max(uf(u,c,f),1));const[p,g]=s[d/s[h-1][2]<s[h][2]/d?h-1:h];return p.every(g)}return[a,l]}const[wve,Sve]=KK(fa,mm,Yh,YK,Wb,Ub),[Eve,Cve]=KK(ca,gm,Gh,ol,Vb,Bb),Dr="year",so="quarter",ii="month",tr="week",ao="date",ei="day",yl="dayofyear",No="hours",Lo="minutes",ws="seconds",da="milliseconds",ID=[Dr,so,ii,tr,ao,ei,yl,No,Lo,ws,da],nT=ID.reduce((e,t,n)=>(e[t]=1+n,e),{});function zD(e){const t=xe(e).slice(),n={};return t.length||ee("Missing time unit."),t.forEach(i=>{Se(nT,i)?n[i]=1:ee(`Invalid time unit: ${i}.`)}),(n[tr]||n[ei]?1:0)+(n[so]||n[ii]||n[ao]?1:0)+(n[yl]?1:0)>1&&ee(`Incompatible time units: ${e}`),t.sort((i,o)=>nT[i]-nT[o]),t}const kve={[Dr]:"%Y ",[so]:"Q%q ",[ii]:"%b ",[ao]:"%d ",[tr]:"W%U ",[ei]:"%a ",[yl]:"%j ",[No]:"%H:00",[Lo]:"00:%M",[ws]:":%S",[da]:".%L",[`${Dr}-${ii}`]:"%Y-%m ",[`${Dr}-${ii}-${ao}`]:"%Y-%m-%d ",[`${No}-${Lo}`]:"%H:%M"};function QK(e,t){const n=Ze({},kve,t),r=zD(e),i=r.length;let o="",s=0,a,l;for(s=0;s<i;)for(a=r.length;a>s;--a)if(l=r.slice(s,a).join("-"),n[l]!=null){o+=n[l],s=a;break}return o.trim()}const kd=new Date;function jD(e){return kd.setFullYear(e),kd.setMonth(0),kd.setDate(1),kd.setHours(0,0,0,0),kd}function JK(e){return eQ(new Date(e))}function ZK(e){return iF(new Date(e))}function eQ(e){return ol.count(jD(e.getFullYear())-1,e)}function iF(e){return Gh.count(jD(e.getFullYear())-1,e)}function oF(e){return jD(e).getDay()}function _ve(e,t,n,r,i,o,s){if(0<=e&&e<100){const a=new Date(-1,t,n,r,i,o,s);return a.setFullYear(e),a}return new Date(e,t,n,r,i,o,s)}function tQ(e){return rQ(new Date(e))}function nQ(e){return sF(new Date(e))}function rQ(e){const t=Date.UTC(e.getUTCFullYear(),0,1);return du.count(t-1,e)}function sF(e){const t=Date.UTC(e.getUTCFullYear(),0,1);return Yh.count(t-1,e)}function aF(e){return kd.setTime(Date.UTC(e,0,1)),kd.getUTCDay()}function $ve(e,t,n,r,i,o,s){if(0<=e&&e<100){const a=new Date(Date.UTC(-1,t,n,r,i,o,s));return a.setUTCFullYear(n.y),a}return new Date(Date.UTC(e,t,n,r,i,o,s))}function iQ(e,t,n,r,i){const o=t||1,s=gt(e),a=(y,v,b)=>(b=b||y,Ave(n[b],r[b],y===s&&o,v)),l=new Date,u=ua(e),c=u[Dr]?a(Dr):li(2012),f=u[ii]?a(ii):u[so]?a(so):Cc,d=u[tr]&&u[ei]?a(ei,1,tr+ei):u[tr]?a(tr,1):u[ei]?a(ei,1):u[ao]?a(ao,1):u[yl]?a(yl,1):y0,h=u[No]?a(No):Cc,p=u[Lo]?a(Lo):Cc,g=u[ws]?a(ws):Cc,m=u[da]?a(da):Cc;return function(y){l.setTime(+y);const v=c(l);return i(v,f(l),d(l,v),h(l),p(l),g(l),m(l))}}function Ave(e,t,n,r){const i=n<=1?e:r?(o,s)=>r+n*Math.floor((e(o,s)-r)/n):(o,s)=>n*Math.floor(e(o,s)/n);return t?(o,s)=>t(i(o,s),s):i}function ym(e,t,n){return t+e*7-(n+6)%7}const Tve={[Dr]:e=>e.getFullYear(),[so]:e=>Math.floor(e.getMonth()/3),[ii]:e=>e.getMonth(),[ao]:e=>e.getDate(),[No]:e=>e.getHours(),[Lo]:e=>e.getMinutes(),[ws]:e=>e.getSeconds(),[da]:e=>e.getMilliseconds(),[yl]:e=>eQ(e),[tr]:e=>iF(e),[tr+ei]:(e,t)=>ym(iF(e),e.getDay(),oF(t)),[ei]:(e,t)=>ym(1,e.getDay(),oF(t))},Fve={[so]:e=>3*e,[tr]:(e,t)=>ym(e,0,oF(t))};function oQ(e,t){return iQ(e,t||1,Tve,Fve,_ve)}const Rve={[Dr]:e=>e.getUTCFullYear(),[so]:e=>Math.floor(e.getUTCMonth()/3),[ii]:e=>e.getUTCMonth(),[ao]:e=>e.getUTCDate(),[No]:e=>e.getUTCHours(),[Lo]:e=>e.getUTCMinutes(),[ws]:e=>e.getUTCSeconds(),[da]:e=>e.getUTCMilliseconds(),[yl]:e=>rQ(e),[tr]:e=>sF(e),[ei]:(e,t)=>ym(1,e.getUTCDay(),aF(t)),[tr+ei]:(e,t)=>ym(sF(e),e.getUTCDay(),aF(t))},Pve={[so]:e=>3*e,[tr]:(e,t)=>ym(e,0,aF(t))};function sQ(e,t){return iQ(e,t||1,Rve,Pve,$ve)}const Ove={[Dr]:ca,[so]:gm.every(3),[ii]:gm,[tr]:Gh,[ao]:ol,[ei]:ol,[yl]:ol,[No]:Vb,[Lo]:Bb,[ws]:Zs,[da]:dm},Dve={[Dr]:fa,[so]:mm.every(3),[ii]:mm,[tr]:Yh,[ao]:du,[ei]:du,[yl]:du,[No]:Wb,[Lo]:Ub,[ws]:Zs,[da]:dm};function S0(e){return Ove[e]}function E0(e){return Dve[e]}function aQ(e,t,n){return e?e.offset(t,n):void 0}function lQ(e,t,n){return aQ(S0(e),t,n)}function uQ(e,t,n){return aQ(E0(e),t,n)}function cQ(e,t,n,r){return e?e.range(t,n,r):void 0}function fQ(e,t,n,r){return cQ(S0(e),t,n,r)}function dQ(e,t,n,r){return cQ(E0(e),t,n,r)}const e1=1e3,t1=e1*60,n1=t1*60,jk=n1*24,Mve=jk*7,c7=jk*30,lF=jk*365,hQ=[Dr,ii,ao,No,Lo,ws,da],r1=hQ.slice(0,-1),i1=r1.slice(0,-1),o1=i1.slice(0,-1),Nve=o1.slice(0,-1),Lve=[Dr,tr],f7=[Dr,ii],pQ=[Dr],fy=[[r1,1,e1],[r1,5,5*e1],[r1,15,15*e1],[r1,30,30*e1],[i1,1,t1],[i1,5,5*t1],[i1,15,15*t1],[i1,30,30*t1],[o1,1,n1],[o1,3,3*n1],[o1,6,6*n1],[o1,12,12*n1],[Nve,1,jk],[Lve,1,Mve],[f7,1,c7],[f7,3,3*c7],[pQ,1,lF]];function gQ(e){const t=e.extent,n=e.maxbins||40,r=Math.abs(zb(t))/n;let i=w0(a=>a[2]).right(fy,r),o,s;return i===fy.length?(o=pQ,s=uf(t[0]/lF,t[1]/lF,n)):i?(i=fy[r/fy[i-1][2]<fy[i][2]/r?i-1:i],o=i[0],s=i[1]):(o=hQ,s=Math.max(uf(t[0],t[1],n),1)),{units:o,step:s}}function rT(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function iT(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function dy(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function mQ(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,o=e.days,s=e.shortDays,a=e.months,l=e.shortMonths,u=hy(i),c=py(i),f=hy(o),d=py(o),h=hy(s),p=py(s),g=hy(a),m=py(a),y=hy(l),v=py(l),b={a:j,A:z,b:U,B:X,c:null,d:y7,e:y7,f:sbe,g:mbe,G:vbe,H:rbe,I:ibe,j:obe,L:yQ,m:abe,M:lbe,p:K,q:pe,Q:x7,s:w7,S:ube,u:cbe,U:fbe,V:dbe,w:hbe,W:pbe,x:null,X:null,y:gbe,Y:ybe,Z:bbe,"%":b7},x={a:oe,A:_e,b:Qe,B:xt,c:null,d:v7,e:v7,f:Ebe,g:Obe,G:Mbe,H:xbe,I:wbe,j:Sbe,L:bQ,m:Cbe,M:kbe,p:On,q:lr,Q:x7,s:w7,S:_be,u:$be,U:Abe,V:Tbe,w:Fbe,W:Rbe,x:null,X:null,y:Pbe,Y:Dbe,Z:Nbe,"%":b7},w={a:R,A:O,b:B,B:D,c:L,d:g7,e:g7,f:Zve,g:p7,G:h7,H:m7,I:m7,j:Yve,L:Jve,m:Xve,M:Kve,p:$,q:Gve,Q:tbe,s:nbe,S:Qve,u:Uve,U:Vve,V:Wve,w:Bve,W:Hve,x:A,X:P,y:p7,Y:h7,Z:qve,"%":ebe};b.x=C(n,b),b.X=C(r,b),b.c=C(t,b),x.x=C(n,x),x.X=C(r,x),x.c=C(t,x);function C(be,Ne){return function(Ue){var ae=[],Dn=-1,vt=0,Yn=be.length,cn,jr,Xu;for(Ue instanceof Date||(Ue=new Date(+Ue));++Dn<Yn;)be.charCodeAt(Dn)===37&&(ae.push(be.slice(vt,Dn)),(jr=d7[cn=be.charAt(++Dn)])!=null?cn=be.charAt(++Dn):jr=cn==="e"?" ":"0",(Xu=Ne[cn])&&(cn=Xu(Ue,jr)),ae.push(cn),vt=Dn+1);return ae.push(be.slice(vt,Dn)),ae.join("")}}function S(be,Ne){return function(Ue){var ae=dy(1900,void 0,1),Dn=k(ae,be,Ue+="",0),vt,Yn;if(Dn!=Ue.length)return null;if("Q"in ae)return new Date(ae.Q);if("s"in ae)return new Date(ae.s*1e3+("L"in ae?ae.L:0));if(Ne&&!("Z"in ae)&&(ae.Z=0),"p"in ae&&(ae.H=ae.H%12+ae.p*12),ae.m===void 0&&(ae.m="q"in ae?ae.q:0),"V"in ae){if(ae.V<1||ae.V>53)return null;"w"in ae||(ae.w=1),"Z"in ae?(vt=iT(dy(ae.y,0,1)),Yn=vt.getUTCDay(),vt=Yn>4||Yn===0?sE.ceil(vt):sE(vt),vt=du.offset(vt,(ae.V-1)*7),ae.y=vt.getUTCFullYear(),ae.m=vt.getUTCMonth(),ae.d=vt.getUTCDate()+(ae.w+6)%7):(vt=rT(dy(ae.y,0,1)),Yn=vt.getDay(),vt=Yn>4||Yn===0?oE.ceil(vt):oE(vt),vt=ol.offset(vt,(ae.V-1)*7),ae.y=vt.getFullYear(),ae.m=vt.getMonth(),ae.d=vt.getDate()+(ae.w+6)%7)}else("W"in ae||"U"in ae)&&("w"in ae||(ae.w="u"in ae?ae.u%7:"W"in ae?1:0),Yn="Z"in ae?iT(dy(ae.y,0,1)).getUTCDay():rT(dy(ae.y,0,1)).getDay(),ae.m=0,ae.d="W"in ae?(ae.w+6)%7+ae.W*7-(Yn+5)%7:ae.w+ae.U*7-(Yn+6)%7);return"Z"in ae?(ae.H+=ae.Z/100|0,ae.M+=ae.Z%100,iT(ae)):rT(ae)}}function k(be,Ne,Ue,ae){for(var Dn=0,vt=Ne.length,Yn=Ue.length,cn,jr;Dn<vt;){if(ae>=Yn)return-1;if(cn=Ne.charCodeAt(Dn++),cn===37){if(cn=Ne.charAt(Dn++),jr=w[cn in d7?Ne.charAt(Dn++):cn],!jr||(ae=jr(be,Ue,ae))<0)return-1}else if(cn!=Ue.charCodeAt(ae++))return-1}return ae}function $(be,Ne,Ue){var ae=u.exec(Ne.slice(Ue));return ae?(be.p=c.get(ae[0].toLowerCase()),Ue+ae[0].length):-1}function R(be,Ne,Ue){var ae=h.exec(Ne.slice(Ue));return ae?(be.w=p.get(ae[0].toLowerCase()),Ue+ae[0].length):-1}function O(be,Ne,Ue){var ae=f.exec(Ne.slice(Ue));return ae?(be.w=d.get(ae[0].toLowerCase()),Ue+ae[0].length):-1}function B(be,Ne,Ue){var ae=y.exec(Ne.slice(Ue));return ae?(be.m=v.get(ae[0].toLowerCase()),Ue+ae[0].length):-1}function D(be,Ne,Ue){var ae=g.exec(Ne.slice(Ue));return ae?(be.m=m.get(ae[0].toLowerCase()),Ue+ae[0].length):-1}function L(be,Ne,Ue){return k(be,t,Ne,Ue)}function A(be,Ne,Ue){return k(be,n,Ne,Ue)}function P(be,Ne,Ue){return k(be,r,Ne,Ue)}function j(be){return s[be.getDay()]}function z(be){return o[be.getDay()]}function U(be){return l[be.getMonth()]}function X(be){return a[be.getMonth()]}function K(be){return i[+(be.getHours()>=12)]}function pe(be){return 1+~~(be.getMonth()/3)}function oe(be){return s[be.getUTCDay()]}function _e(be){return o[be.getUTCDay()]}function Qe(be){return l[be.getUTCMonth()]}function xt(be){return a[be.getUTCMonth()]}function On(be){return i[+(be.getUTCHours()>=12)]}function lr(be){return 1+~~(be.getUTCMonth()/3)}return{format:function(be){var Ne=C(be+="",b);return Ne.toString=function(){return be},Ne},parse:function(be){var Ne=S(be+="",!1);return Ne.toString=function(){return be},Ne},utcFormat:function(be){var Ne=C(be+="",x);return Ne.toString=function(){return be},Ne},utcParse:function(be){var Ne=S(be+="",!0);return Ne.toString=function(){return be},Ne}}}var d7={"-":"",_:" ",0:"0"},br=/^\s*\d+/,Ive=/^%/,zve=/[\\^$*+?|[\]().{}]/g;function Et(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(t)+i:i)}function jve(e){return e.replace(zve,"\\$&")}function hy(e){return new RegExp("^(?:"+e.map(jve).join("|")+")","i")}function py(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function Bve(e,t,n){var r=br.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function Uve(e,t,n){var r=br.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function Vve(e,t,n){var r=br.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function Wve(e,t,n){var r=br.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function Hve(e,t,n){var r=br.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function h7(e,t,n){var r=br.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function p7(e,t,n){var r=br.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function qve(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Gve(e,t,n){var r=br.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function Xve(e,t,n){var r=br.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function g7(e,t,n){var r=br.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function Yve(e,t,n){var r=br.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function m7(e,t,n){var r=br.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function Kve(e,t,n){var r=br.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function Qve(e,t,n){var r=br.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function Jve(e,t,n){var r=br.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function Zve(e,t,n){var r=br.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function ebe(e,t,n){var r=Ive.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function tbe(e,t,n){var r=br.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function nbe(e,t,n){var r=br.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function y7(e,t){return Et(e.getDate(),t,2)}function rbe(e,t){return Et(e.getHours(),t,2)}function ibe(e,t){return Et(e.getHours()%12||12,t,2)}function obe(e,t){return Et(1+ol.count(ca(e),e),t,3)}function yQ(e,t){return Et(e.getMilliseconds(),t,3)}function sbe(e,t){return yQ(e,t)+"000"}function abe(e,t){return Et(e.getMonth()+1,t,2)}function lbe(e,t){return Et(e.getMinutes(),t,2)}function ube(e,t){return Et(e.getSeconds(),t,2)}function cbe(e){var t=e.getDay();return t===0?7:t}function fbe(e,t){return Et(Gh.count(ca(e)-1,e),t,2)}function vQ(e){var t=e.getDay();return t>=4||t===0?hm(e):hm.ceil(e)}function dbe(e,t){return e=vQ(e),Et(hm.count(ca(e),e)+(ca(e).getDay()===4),t,2)}function hbe(e){return e.getDay()}function pbe(e,t){return Et(oE.count(ca(e)-1,e),t,2)}function gbe(e,t){return Et(e.getFullYear()%100,t,2)}function mbe(e,t){return e=vQ(e),Et(e.getFullYear()%100,t,2)}function ybe(e,t){return Et(e.getFullYear()%1e4,t,4)}function vbe(e,t){var n=e.getDay();return e=n>=4||n===0?hm(e):hm.ceil(e),Et(e.getFullYear()%1e4,t,4)}function bbe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Et(t/60|0,"0",2)+Et(t%60,"0",2)}function v7(e,t){return Et(e.getUTCDate(),t,2)}function xbe(e,t){return Et(e.getUTCHours(),t,2)}function wbe(e,t){return Et(e.getUTCHours()%12||12,t,2)}function Sbe(e,t){return Et(1+du.count(fa(e),e),t,3)}function bQ(e,t){return Et(e.getUTCMilliseconds(),t,3)}function Ebe(e,t){return bQ(e,t)+"000"}function Cbe(e,t){return Et(e.getUTCMonth()+1,t,2)}function kbe(e,t){return Et(e.getUTCMinutes(),t,2)}function _be(e,t){return Et(e.getUTCSeconds(),t,2)}function $be(e){var t=e.getUTCDay();return t===0?7:t}function Abe(e,t){return Et(Yh.count(fa(e)-1,e),t,2)}function xQ(e){var t=e.getUTCDay();return t>=4||t===0?pm(e):pm.ceil(e)}function Tbe(e,t){return e=xQ(e),Et(pm.count(fa(e),e)+(fa(e).getUTCDay()===4),t,2)}function Fbe(e){return e.getUTCDay()}function Rbe(e,t){return Et(sE.count(fa(e)-1,e),t,2)}function Pbe(e,t){return Et(e.getUTCFullYear()%100,t,2)}function Obe(e,t){return e=xQ(e),Et(e.getUTCFullYear()%100,t,2)}function Dbe(e,t){return Et(e.getUTCFullYear()%1e4,t,4)}function Mbe(e,t){var n=e.getUTCDay();return e=n>=4||n===0?pm(e):pm.ceil(e),Et(e.getUTCFullYear()%1e4,t,4)}function Nbe(){return"+0000"}function b7(){return"%"}function x7(e){return+e}function w7(e){return Math.floor(+e/1e3)}var Rp,BD,wQ,UD,SQ;Lbe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Lbe(e){return Rp=mQ(e),BD=Rp.format,wQ=Rp.parse,UD=Rp.utcFormat,SQ=Rp.utcParse,Rp}function s1(e){const t={};return n=>t[n]||(t[n]=e(n))}function Ibe(e,t){return n=>{const r=e(n),i=r.indexOf(t);if(i<0)return r;let o=zbe(r,i);const s=o<r.length?r.slice(o):"";for(;--o>i;)if(r[o]!=="0"){++o;break}return r.slice(0,o)+s}}function zbe(e,t){let n=e.lastIndexOf("e"),r;if(n>0)return n;for(n=e.length;--n>t;)if(r=e.charCodeAt(n),r>=48&&r<=57)return n+1}function EQ(e){const t=s1(e.format),n=e.formatPrefix;return{format:t,formatPrefix:n,formatFloat(r){const i=gh(r||",");if(i.precision==null){switch(i.precision=12,i.type){case"%":i.precision-=2;break;case"e":i.precision-=1;break}return Ibe(t(i),t(".1f")(1)[1])}else return t(i)},formatSpan(r,i,o,s){s=gh(s??",f");const a=uf(r,i,o),l=Math.max(Math.abs(r),Math.abs(i));let u;if(s.precision==null)switch(s.type){case"s":return isNaN(u=GK(a,l))||(s.precision=u),n(s,l);case"":case"e":case"g":case"p":case"r":{isNaN(u=XK(a,l))||(s.precision=u-(s.type==="e"));break}case"f":case"%":{isNaN(u=qK(a))||(s.precision=u-(s.type==="%")*2);break}}return t(s)}}}let uF;CQ();function CQ(){return uF=EQ({format:jb,formatPrefix:ND})}function kQ(e){return EQ(HK(e))}function aE(e){return arguments.length?uF=kQ(e):uF}function S7(e,t,n){n=n||{},ve(n)||ee(`Invalid time multi-format specifier: ${n}`);const r=t(ws),i=t(Lo),o=t(No),s=t(ao),a=t(tr),l=t(ii),u=t(so),c=t(Dr),f=e(n[da]||".%L"),d=e(n[ws]||":%S"),h=e(n[Lo]||"%I:%M"),p=e(n[No]||"%I %p"),g=e(n[ao]||n[ei]||"%a %d"),m=e(n[tr]||"%b %d"),y=e(n[ii]||"%B"),v=e(n[so]||"%B"),b=e(n[Dr]||"%Y");return x=>(r(x)<x?f:i(x)<x?d:o(x)<x?h:s(x)<x?p:l(x)<x?a(x)<x?g:m:c(x)<x?u(x)<x?y:v:b)(x)}function _Q(e){const t=s1(e.format),n=s1(e.utcFormat);return{timeFormat:r=>we(r)?t(r):S7(t,S0,r),utcFormat:r=>we(r)?n(r):S7(n,E0,r),timeParse:s1(e.parse),utcParse:s1(e.utcParse)}}let cF;$Q();function $Q(){return cF=_Q({format:BD,parse:wQ,utcFormat:UD,utcParse:SQ})}function AQ(e){return _Q(mQ(e))}function Sv(e){return arguments.length?cF=AQ(e):cF}const fF=(e,t)=>Ze({},e,t);function TQ(e,t){const n=e?kQ(e):aE(),r=t?AQ(t):Sv();return fF(n,r)}function VD(e,t){const n=arguments.length;return n&&n!==2&&ee("defaultLocale expects either zero or two arguments."),n?fF(aE(e),Sv(t)):fF(aE(),Sv())}function jbe(){return CQ(),$Q(),VD()}const Bbe=/^(data:|([A-Za-z]+:)?\/\/)/,Ube=/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp|file|data):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,Vbe=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,E7="file://";function Wbe(e,t){return n=>({options:n||{},sanitize:qbe,load:Hbe,fileAccess:!!t,file:Gbe(t),http:Ybe(e)})}async function Hbe(e,t){const n=await this.sanitize(e,t),r=n.href;return n.localFile?this.file(r):this.http(r,t)}async function qbe(e,t){t=Ze({},this.options,t);const n=this.fileAccess,r={href:null};let i,o,s;const a=Ube.test(e.replace(Vbe,""));(e==null||typeof e!="string"||!a)&&ee("Sanitize failure, invalid URI: "+de(e));const l=Bbe.test(e);return(s=t.baseURL)&&!l&&(!e.startsWith("/")&&!s.endsWith("/")&&(e="/"+e),e=s+e),o=(i=e.startsWith(E7))||t.mode==="file"||t.mode!=="http"&&!l&&n,i?e=e.slice(E7.length):e.startsWith("//")&&(t.defaultProtocol==="file"?(e=e.slice(2),o=!0):e=(t.defaultProtocol||"http")+":"+e),Object.defineProperty(r,"localFile",{value:!!o}),r.href=e,t.target&&(r.target=t.target+""),t.rel&&(r.rel=t.rel+""),t.context==="image"&&t.crossOrigin&&(r.crossOrigin=t.crossOrigin+""),r}function Gbe(e){return e?t=>new Promise((n,r)=>{e.readFile(t,(i,o)=>{i?r(i):n(o)})}):Xbe}async function Xbe(){ee("No file system access.")}function Ybe(e){return e?async function(t,n){const r=Ze({},this.options.http,n),i=n&&n.response,o=await e(t,r);return o.ok?et(o[i])?o[i]():o.text():ee(o.status+""+o.statusText)}:Kbe}async function Kbe(){ee("No HTTP fetch method available.")}const Qbe=e=>e!=null&&e===e,Jbe=e=>e==="true"||e==="false"||e===!0||e===!1,Zbe=e=>!Number.isNaN(Date.parse(e)),FQ=e=>!Number.isNaN(+e)&&!(e instanceof Date),exe=e=>FQ(e)&&Number.isInteger(+e),dF={boolean:PD,integer:ti,number:ti,date:OD,string:DD,unknown:ai},Sw=[Jbe,exe,FQ,Zbe],txe=["boolean","integer","number","date"];function RQ(e,t){if(!e||!e.length)return"unknown";const n=e.length,r=Sw.length,i=Sw.map((o,s)=>s+1);for(let o=0,s=0,a,l;o<n;++o)for(l=t?e[o][t]:e[o],a=0;a<r;++a)if(i[a]&&Qbe(l)&&!Sw[a](l)&&(i[a]=0,++s,s===Sw.length))return"string";return txe[i.reduce((o,s)=>o===0?s:o,0)-1]}function PQ(e,t){return t.reduce((n,r)=>(n[r]=RQ(e,r),n),{})}function C7(e){const t=function(n,r){const i={delimiter:e};return WD(n,r?Ze(r,i):i)};return t.responseType="text",t}function WD(e,t){return t.header&&(e=t.header.map(de).join(t.delimiter)+`
`+e),s1e(t.delimiter).parse(e+"")}WD.responseType="text";function nxe(e){return typeof Buffer=="function"&&et(Buffer.isBuffer)?Buffer.isBuffer(e):!1}function HD(e,t){const n=t&&t.property?bs(t.property):ai;return ve(e)&&!nxe(e)?rxe(n(e),t):n(JSON.parse(e))}HD.responseType="json";function rxe(e,t){return!te(e)&&kK(e)&&(e=[...e]),t&&t.copy?JSON.parse(JSON.stringify(e)):e}const ixe={interior:(e,t)=>e!==t,exterior:(e,t)=>e===t};function OQ(e,t){let n,r,i,o;return e=HD(e,t),t&&t.feature?(n=z1e,i=t.feature):t&&t.mesh?(n=B1e,i=t.mesh,o=ixe[t.filter]):ee("Missing TopoJSON feature or mesh parameter."),r=(r=e.objects[i])?n(e,r,o):ee("Invalid TopoJSON object: "+i),r&&r.features||[r]}OQ.responseType="json";const G2={dsv:WD,csv:C7(","),tsv:C7("	"),json:HD,topojson:OQ};function qD(e,t){return arguments.length>1?(G2[e]=t,this):Se(G2,e)?G2[e]:null}function DQ(e){const t=qD(e);return t&&t.responseType||"text"}function MQ(e,t,n,r){t=t||{};const i=qD(t.type||"json");return i||ee("Unknown data format type: "+t.type),e=i(e,t),t.parse&&oxe(e,t.parse,n,r),Se(e,"columns")&&delete e.columns,e}function oxe(e,t,n,r){if(!e.length)return;const i=Sv();n=n||i.timeParse,r=r||i.utcParse;let o=e.columns||Object.keys(e[0]),s,a,l,u,c,f;t==="auto"&&(t=PQ(e,o)),o=Object.keys(t);const d=o.map(h=>{const p=t[h];let g,m;if(p&&(p.startsWith("date:")||p.startsWith("utc:")))return g=p.split(/:(.+)?/,2),m=g[1],(m[0]==="'"&&m[m.length-1]==="'"||m[0]==='"'&&m[m.length-1]==='"')&&(m=m.slice(1,-1)),(g[0]==="utc"?r:n)(m);if(!dF[p])throw Error("Illegal format pattern: "+h+":"+p);return dF[p]});for(l=0,c=e.length,f=o.length;l<c;++l)for(s=e[l],u=0;u<f;++u)a=o[u],s[a]=d[u](s[a])}const Bk=Wbe(typeof fetch<"u"&&fetch,null);function Uk(e){const t=e||ai,n=[],r={};return n.add=i=>{const o=t(i);return r[o]||(r[o]=1,n.push(i)),n},n.remove=i=>{const o=t(i);if(r[o]){r[o]=0;const s=n.indexOf(i);s>=0&&n.splice(s,1)}return n},n}async function X2(e,t){try{await t(e)}catch(n){e.error(n)}}const NQ=Symbol("vega_id");let sxe=1;function Vk(e){return!!(e&&De(e))}function De(e){return e[NQ]}function LQ(e,t){return e[NQ]=t,e}function Rt(e){const t=e===Object(e)?e:{data:e};return De(t)?t:LQ(t,sxe++)}function GD(e){return Wk(e,Rt({}))}function Wk(e,t){for(const n in e)t[n]=e[n];return t}function IQ(e,t){return LQ(t,De(e))}function Kh(e,t){return e?t?(n,r)=>e(n,r)||De(t(n))-De(t(r)):(n,r)=>e(n,r)||De(n)-De(r):null}function zQ(e){return e&&e.constructor===Qh}function Qh(){const e=[],t=[],n=[],r=[],i=[];let o=null,s=!1;return{constructor:Qh,insert(a){const l=xe(a),u=l.length;for(let c=0;c<u;++c)e.push(l[c]);return this},remove(a){const l=et(a)?r:t,u=xe(a),c=u.length;for(let f=0;f<c;++f)l.push(u[f]);return this},modify(a,l,u){const c={field:l,value:li(u)};return et(a)?(c.filter=a,i.push(c)):(c.tuple=a,n.push(c)),this},encode(a,l){return et(a)?i.push({filter:a,field:l}):n.push({tuple:a,field:l}),this},clean(a){return o=a,this},reflow(){return s=!0,this},pulse(a,l){const u={},c={};let f,d,h,p,g,m;for(f=0,d=l.length;f<d;++f)u[De(l[f])]=1;for(f=0,d=t.length;f<d;++f)g=t[f],u[De(g)]=-1;for(f=0,d=r.length;f<d;++f)p=r[f],l.forEach(v=>{p(v)&&(u[De(v)]=-1)});for(f=0,d=e.length;f<d;++f)g=e[f],m=De(g),u[m]?u[m]=1:a.add.push(Rt(e[f]));for(f=0,d=l.length;f<d;++f)g=l[f],u[De(g)]<0&&a.rem.push(g);function y(v,b,x){x?v[b]=x(v):a.encode=b,s||(c[De(v)]=v)}for(f=0,d=n.length;f<d;++f)h=n[f],g=h.tuple,p=h.field,m=u[De(g)],m>0&&(y(g,p,h.value),a.modifies(p));for(f=0,d=i.length;f<d;++f)h=i[f],p=h.filter,l.forEach(v=>{p(v)&&u[De(v)]>0&&y(v,h.field,h.value)}),a.modifies(h.field);if(s)a.mod=t.length||r.length?l.filter(v=>u[De(v)]>0):l.slice();else for(m in c)a.mod.push(c[m]);return(o||o==null&&(t.length||r.length))&&a.clean(!0),a}}}const Y2="_:mod:_";function Hk(){Object.defineProperty(this,Y2,{writable:!0,value:{}})}Hk.prototype={set(e,t,n,r){const i=this,o=i[e],s=i[Y2];return t!=null&&t>=0?(o[t]!==n||r)&&(o[t]=n,s[t+":"+e]=-1,s[e]=-1):(o!==n||r)&&(i[e]=n,s[e]=te(n)?1+n.length:-1),i},modified(e,t){const n=this[Y2];if(arguments.length){if(te(e)){for(let r=0;r<e.length;++r)if(n[e[r]])return!0;return!1}}else{for(const r in n)if(n[r])return!0;return!1}return t!=null&&t>=0?t+1<n[e]||!!n[t+":"+e]:!!n[e]},clear(){return this[Y2]={},this}};let axe=0;const lxe="pulse",uxe=new Hk,cxe=1,fxe=2;function Qt(e,t,n,r){this.id=++axe,this.value=e,this.stamp=-1,this.rank=-1,this.qrank=-1,this.flags=0,t&&(this._update=t),n&&this.parameters(n,r)}function k7(e){return function(t){const n=this.flags;return arguments.length===0?!!(n&e):(this.flags=t?n|e:n&~e,this)}}Qt.prototype={targets(){return this._targets||(this._targets=Uk(Ib))},set(e){return this.value!==e?(this.value=e,1):0},skip:k7(cxe),modified:k7(fxe),parameters(e,t,n){t=t!==!1;const r=this._argval=this._argval||new Hk,i=this._argops=this._argops||[],o=[];let s,a,l,u;const c=(f,d,h)=>{h instanceof Qt?(h!==this&&(t&&h.targets().add(this),o.push(h)),i.push({op:h,name:f,index:d})):r.set(f,d,h)};for(s in e)if(a=e[s],s===lxe)xe(a).forEach(f=>{f instanceof Qt?f!==this&&(f.targets().add(this),o.push(f)):ee("Pulse parameters must be operator instances.")}),this.source=a;else if(te(a))for(r.set(s,-1,Array(l=a.length)),u=0;u<l;++u)c(s,u,a[u]);else c(s,-1,a);return this.marshall().clear(),n&&(i.initonly=!0),o},marshall(e){const t=this._argval||uxe,n=this._argops;let r,i,o,s;if(n){const a=n.length;for(i=0;i<a;++i)r=n[i],o=r.op,s=o.modified()&&o.stamp===e,t.set(r.name,r.index,o.value,s);if(n.initonly){for(i=0;i<a;++i)r=n[i],r.op.targets().remove(this);this._argops=null,this._update=null}}return t},detach(){const e=this._argops;let t,n,r,i;if(e)for(t=0,n=e.length;t<n;++t)r=e[t],i=r.op,i._targets&&i._targets.remove(this);this.pulse=null,this.source=null},evaluate(e){const t=this._update;if(t){const n=this.marshall(e.stamp),r=t.call(this,n,e);if(n.clear(),r!==this.value)this.value=r;else if(!this.modified())return e.StopPropagation}},run(e){if(e.stamp<this.stamp)return e.StopPropagation;let t;return this.skip()?(this.skip(!1),t=0):t=this.evaluate(e),this.pulse=t||e}};function dxe(e,t,n,r){let i=1,o;return e instanceof Qt?o=e:e&&e.prototype instanceof Qt?o=new e:et(e)?o=new Qt(null,e):(i=0,o=new Qt(e,t)),this.rank(o),i&&(r=n,n=t),n&&this.connect(o,o.parameters(n,r)),this.touch(o),o}function hxe(e,t){const n=e.rank,r=t.length;for(let i=0;i<r;++i)if(n<t[i].rank){this.rerank(e);return}}let pxe=0;function qk(e,t,n){this.id=++pxe,this.value=null,n&&(this.receive=n),e&&(this._filter=e),t&&(this._apply=t)}function fc(e,t,n){return new qk(e,t,n)}qk.prototype={_filter:xs,_apply:ai,targets(){return this._targets||(this._targets=Uk(Ib))},consume(e){return arguments.length?(this._consume=!!e,this):!!this._consume},receive(e){if(this._filter(e)){const t=this.value=this._apply(e),n=this._targets,r=n?n.length:0;for(let i=0;i<r;++i)n[i].receive(t);this._consume&&(e.preventDefault(),e.stopPropagation())}},filter(e){const t=fc(e);return this.targets().add(t),t},apply(e){const t=fc(null,e);return this.targets().add(t),t},merge(){const e=fc();this.targets().add(e);for(let t=0,n=arguments.length;t<n;++t)arguments[t].targets().add(e);return e},throttle(e){let t=-1;return this.filter(()=>{const n=Date.now();return n-t>e?(t=n,1):0})},debounce(e){const t=fc();return this.targets().add(fc(null,null,FD(e,n=>{const r=n.dataflow;t.receive(n),r&&r.run&&r.run()}))),t},between(e,t){let n=!1;return e.targets().add(fc(null,null,()=>n=!0)),t.targets().add(fc(null,null,()=>n=!1)),this.filter(()=>n)},detach(){this._filter=xs,this._targets=null}};function gxe(e,t,n,r){const i=this,o=fc(n,r),s=function(u){u.dataflow=i;try{o.receive(u)}catch(c){i.error(c)}finally{i.run()}};let a;typeof e=="string"&&typeof document<"u"?a=document.querySelectorAll(e):a=xe(e);const l=a.length;for(let u=0;u<l;++u)a[u].addEventListener(t,s);return o}function mxe(e,t){const n=this.locale();return MQ(e,t,n.timeParse,n.utcParse)}function yxe(e,t,n){return t=this.parse(t,n),this.pulse(e,this.changeset().insert(t))}async function vxe(e,t){const n=this;let r=0,i;try{i=await n.loader().load(e,{context:"dataflow",response:DQ(t&&t.type)});try{i=n.parse(i,t)}catch(o){r=-2,n.warn("Data ingestion failed",e,o)}}catch(o){r=-1,n.warn("Loading failed",e,o)}return{data:i,status:r}}async function bxe(e,t,n){const r=this,i=r._pending||xxe(r);i.requests+=1;const o=await r.request(t,n);return r.pulse(e,r.changeset().remove(xs).insert(o.data||[])),i.done(),o}function xxe(e){let t;const n=new Promise(r=>t=r);return n.requests=0,n.done=()=>{--n.requests===0&&(e._pending=null,t(e))},e._pending=n}const wxe={skip:!0};function Sxe(e,t,n,r,i){return(e instanceof Qt?Cxe:Exe)(this,e,t,n,r,i),this}function Exe(e,t,n,r,i,o){const s=Ze({},o,wxe);let a,l;et(n)||(n=li(n)),r===void 0?a=u=>e.touch(n(u)):et(r)?(l=new Qt(null,r,i,!1),a=u=>{l.evaluate(u);const c=n(u),f=l.value;zQ(f)?e.pulse(c,f,o):e.update(c,f,s)}):a=u=>e.update(n(u),r,s),t.apply(a)}function Cxe(e,t,n,r,i,o){if(r===void 0)t.targets().add(n);else{const s=o||{},a=new Qt(null,kxe(n,r),i,!1);a.modified(s.force),a.rank=t.rank,t.targets().add(a),n&&(a.skip(!0),a.value=n.value,a.targets().add(n),e.connect(n,[a]))}}function kxe(e,t){return t=et(t)?t:li(t),e?function(n,r){const i=t(n,r);return e.skip()||(e.skip(i!==this.value).value=i),i}:t}function _xe(e){e.rank=++this._rank}function $xe(e){const t=[e];let n,r,i;for(;t.length;)if(this.rank(n=t.pop()),r=n._targets)for(i=r.length;--i>=0;)t.push(n=r[i]),n===e&&ee("Cycle detected in dataflow graph.")}const lE={},ja=1,mc=2,Gl=4,Axe=ja|mc,_7=ja|Gl,Pp=ja|mc|Gl,$7=8,gy=16,A7=32,T7=64;function Gc(e,t,n){this.dataflow=e,this.stamp=t??-1,this.add=[],this.rem=[],this.mod=[],this.fields=null,this.encode=n||null}function oT(e,t){const n=[];return gc(e,t,r=>n.push(r)),n}function F7(e,t){const n={};return e.visit(t,r=>{n[De(r)]=1}),r=>n[De(r)]?null:r}function Ew(e,t){return e?(n,r)=>e(n,r)&&t(n,r):t}Gc.prototype={StopPropagation:lE,ADD:ja,REM:mc,MOD:Gl,ADD_REM:Axe,ADD_MOD:_7,ALL:Pp,REFLOW:$7,SOURCE:gy,NO_SOURCE:A7,NO_FIELDS:T7,fork(e){return new Gc(this.dataflow).init(this,e)},clone(){const e=this.fork(Pp);return e.add=e.add.slice(),e.rem=e.rem.slice(),e.mod=e.mod.slice(),e.source&&(e.source=e.source.slice()),e.materialize(Pp|gy)},addAll(){let e=this;return!e.source||e.add===e.rem||!e.rem.length&&e.source.length===e.add.length||(e=new Gc(this.dataflow).init(this),e.add=e.source,e.rem=[]),e},init(e,t){const n=this;return n.stamp=e.stamp,n.encode=e.encode,e.fields&&!(t&T7)&&(n.fields=e.fields),t&ja?(n.addF=e.addF,n.add=e.add):(n.addF=null,n.add=[]),t&mc?(n.remF=e.remF,n.rem=e.rem):(n.remF=null,n.rem=[]),t&Gl?(n.modF=e.modF,n.mod=e.mod):(n.modF=null,n.mod=[]),t&A7?(n.srcF=null,n.source=null):(n.srcF=e.srcF,n.source=e.source,e.cleans&&(n.cleans=e.cleans)),n},runAfter(e){this.dataflow.runAfter(e)},changed(e){const t=e||Pp;return t&ja&&this.add.length||t&mc&&this.rem.length||t&Gl&&this.mod.length},reflow(e){if(e)return this.fork(Pp).reflow();const t=this.add.length,n=this.source&&this.source.length;return n&&n!==t&&(this.mod=this.source,t&&this.filter(Gl,F7(this,ja))),this},clean(e){return arguments.length?(this.cleans=!!e,this):this.cleans},modifies(e){const t=this.fields||(this.fields={});return te(e)?e.forEach(n=>t[n]=!0):t[e]=!0,this},modified(e,t){const n=this.fields;return(t||this.mod.length)&&n?arguments.length?te(e)?e.some(r=>n[r]):n[e]:!!n:!1},filter(e,t){const n=this;return e&ja&&(n.addF=Ew(n.addF,t)),e&mc&&(n.remF=Ew(n.remF,t)),e&Gl&&(n.modF=Ew(n.modF,t)),e&gy&&(n.srcF=Ew(n.srcF,t)),n},materialize(e){e=e||Pp;const t=this;return e&ja&&t.addF&&(t.add=oT(t.add,t.addF),t.addF=null),e&mc&&t.remF&&(t.rem=oT(t.rem,t.remF),t.remF=null),e&Gl&&t.modF&&(t.mod=oT(t.mod,t.modF),t.modF=null),e&gy&&t.srcF&&(t.source=t.source.filter(t.srcF),t.srcF=null),t},visit(e,t){const n=this,r=t;if(e&gy)return gc(n.source,n.srcF,r),n;e&ja&&gc(n.add,n.addF,r),e&mc&&gc(n.rem,n.remF,r),e&Gl&&gc(n.mod,n.modF,r);const i=n.source;if(e&$7&&i){const o=n.add.length+n.mod.length;o===i.length||(o?gc(i,F7(n,_7),r):gc(i,n.srcF,r))}return n}};function XD(e,t,n,r){const i=this;let o=0;this.dataflow=e,this.stamp=t,this.fields=null,this.encode=r||null,this.pulses=n;for(const s of n)if(s.stamp===t){if(s.fields){const a=i.fields||(i.fields={});for(const l in s.fields)a[l]=1}s.changed(i.ADD)&&(o|=i.ADD),s.changed(i.REM)&&(o|=i.REM),s.changed(i.MOD)&&(o|=i.MOD)}this.changes=o}he(XD,Gc,{fork(e){const t=new Gc(this.dataflow).init(this,e&this.NO_FIELDS);return e!==void 0&&(e&t.ADD&&this.visit(t.ADD,n=>t.add.push(n)),e&t.REM&&this.visit(t.REM,n=>t.rem.push(n)),e&t.MOD&&this.visit(t.MOD,n=>t.mod.push(n))),t},changed(e){return this.changes&e},modified(e){const t=this,n=t.fields;return n&&t.changes&t.MOD?te(e)?e.some(r=>n[r]):n[e]:0},filter(){ee("MultiPulse does not support filtering.")},materialize(){ee("MultiPulse does not support materialization.")},visit(e,t){const n=this,r=n.pulses,i=r.length;let o=0;if(e&n.SOURCE)for(;o<i;++o)r[o].visit(e,t);else for(;o<i;++o)r[o].stamp===n.stamp&&r[o].visit(e,t);return n}});async function Txe(e,t,n){const r=this,i=[];if(r._pulse)return jQ(r);if(r._pending&&await r._pending,t&&await X2(r,t),!r._touched.length)return r.debug("Dataflow invoked, but nothing to do."),r;const o=++r._clock;r._pulse=new Gc(r,o,e),r._touched.forEach(c=>r._enqueue(c,!0)),r._touched=Uk(Ib);let s=0,a,l,u;try{for(;r._heap.size()>0;){if(a=r._heap.pop(),a.rank!==a.qrank){r._enqueue(a,!0);continue}l=a.run(r._getPulse(a,e)),l.then?l=await l:l.async&&(i.push(l.async),l=lE),l!==lE&&a._targets&&a._targets.forEach(c=>r._enqueue(c)),++s}}catch(c){r._heap.clear(),u=c}if(r._input={},r._pulse=null,r.debug(`Pulse ${o}: ${s} operators`),u&&(r._postrun=[],r.error(u)),r._postrun.length){const c=r._postrun.sort((f,d)=>d.priority-f.priority);r._postrun=[];for(let f=0;f<c.length;++f)await X2(r,c[f].callback)}return n&&await X2(r,n),i.length&&Promise.all(i).then(c=>r.runAsync(null,()=>{c.forEach(f=>{try{f(r)}catch(d){r.error(d)}})})),r}async function Fxe(e,t,n){for(;this._running;)await this._running;const r=()=>this._running=null;return(this._running=this.evaluate(e,t,n)).then(r,r),this._running}function Rxe(e,t,n){return this._pulse?jQ(this):(this.evaluate(e,t,n),this)}function Pxe(e,t,n){if(this._pulse||t)this._postrun.push({priority:n||0,callback:e});else try{e(this)}catch(r){this.error(r)}}function jQ(e){return e.error("Dataflow already running. Use runAsync() to chain invocations."),e}function Oxe(e,t){const n=e.stamp<this._clock;n&&(e.stamp=this._clock),(n||t)&&(e.qrank=e.rank,this._heap.push(e))}function Dxe(e,t){const n=e.source,r=this._clock;return n&&te(n)?new XD(this,r,n.map(i=>i.pulse),t):this._input[e.id]||Mxe(this._pulse,n&&n.pulse)}function Mxe(e,t){return t&&t.stamp===e.stamp?t:(e=e.fork(),t&&t!==lE&&(e.source=t.source),e)}const YD={skip:!1,force:!1};function Nxe(e,t){const n=t||YD;return this._pulse?this._enqueue(e):this._touched.add(e),n.skip&&e.skip(!0),this}function Lxe(e,t,n){const r=n||YD;return(e.set(t)||r.force)&&this.touch(e,r),this}function Ixe(e,t,n){this.touch(e,n||YD);const r=new Gc(this,this._clock+(this._pulse?0:1)),i=e.pulse&&e.pulse.source||[];return r.target=e,this._input[e.id]=t.pulse(r,i),this}function zxe(e){let t=[];return{clear:()=>t=[],size:()=>t.length,peek:()=>t[0],push:n=>(t.push(n),BQ(t,0,t.length-1,e)),pop:()=>{const n=t.pop();let r;return t.length?(r=t[0],t[0]=n,jxe(t,0,e)):r=n,r}}}function BQ(e,t,n,r){let i,o;const s=e[n];for(;n>t;){if(o=n-1>>1,i=e[o],r(s,i)<0){e[n]=i,n=o;continue}break}return e[n]=s}function jxe(e,t,n){const r=t,i=e.length,o=e[t];let s=(t<<1)+1,a;for(;s<i;)a=s+1,a<i&&n(e[s],e[a])>=0&&(s=a),e[t]=e[s],t=s,s=(t<<1)+1;return e[t]=o,BQ(e,r,t,n)}function Ag(){this.logger(kD()),this.logLevel(Nk),this._clock=0,this._rank=0,this._locale=VD();try{this._loader=Bk()}catch{}this._touched=Uk(Ib),this._input={},this._pulse=null,this._heap=zxe((e,t)=>e.qrank-t.qrank),this._postrun=[]}function my(e){return function(){return this._log[e].apply(this,arguments)}}Ag.prototype={stamp(){return this._clock},loader(e){return arguments.length?(this._loader=e,this):this._loader},locale(e){return arguments.length?(this._locale=e,this):this._locale},logger(e){return arguments.length?(this._log=e,this):this._log},error:my("error"),warn:my("warn"),info:my("info"),debug:my("debug"),logLevel:my("level"),cleanThreshold:1e4,add:dxe,connect:hxe,rank:_xe,rerank:$xe,pulse:Ixe,touch:Nxe,update:Lxe,changeset:Qh,ingest:yxe,parse:mxe,preload:bxe,request:vxe,events:gxe,on:Sxe,evaluate:Txe,run:Rxe,runAsync:Fxe,runAfter:Pxe,_enqueue:Oxe,_getPulse:Dxe};function J(e,t){Qt.call(this,e,null,t)}he(J,Qt,{run(e){if(e.stamp<this.stamp)return e.StopPropagation;let t;return this.skip()?this.skip(!1):t=this.evaluate(e),t=t||e,t.then?t=t.then(n=>this.pulse=n):t!==e.StopPropagation&&(this.pulse=t),t},evaluate(e){const t=this.marshall(e.stamp),n=this.transform(t,e);return t.clear(),n},transform(){}});const vm={};function UQ(e){const t=VQ(e);return t&&t.Definition||null}function VQ(e){return e=e&&e.toLowerCase(),Se(vm,e)?vm[e]:null}function*WQ(e,t){if(t==null)for(let n of e)n!=null&&n!==""&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)r=t(r,++n,e),r!=null&&r!==""&&(r=+r)>=r&&(yield r)}}function KD(e,t,n){const r=Float64Array.from(WQ(e,n));return r.sort(fu),t.map(i=>jK(r,i))}function QD(e,t){return KD(e,[.25,.5,.75],t)}function JD(e,t){const n=e.length,r=Y1e(e,t),i=QD(e,t),o=(i[2]-i[0])/1.34;return 1.06*(Math.min(r,o)||r||Math.abs(i[0])||1)*Math.pow(n,-.2)}function HQ(e){const t=e.maxbins||20,n=e.base||10,r=Math.log(n),i=e.divide||[5,2];let o=e.extent[0],s=e.extent[1],a,l,u,c,f,d;const h=e.span||s-o||Math.abs(o)||1;if(e.step)a=e.step;else if(e.steps){for(c=h/t,f=0,d=e.steps.length;f<d&&e.steps[f]<c;++f);a=e.steps[Math.max(0,f-1)]}else{for(l=Math.ceil(Math.log(t)/r),u=e.minstep||0,a=Math.max(u,Math.pow(n,Math.round(Math.log(h)/r)-l));Math.ceil(h/a)>t;)a*=n;for(f=0,d=i.length;f<d;++f)c=a/i[f],c>=u&&h/c<=t&&(a=c)}c=Math.log(a);const p=c>=0?0:~~(-c/r)+1,g=Math.pow(n,-p-1);return(e.nice||e.nice===void 0)&&(c=Math.floor(o/a+g)*a,o=o<c?c-a:c,s=Math.ceil(s/a)*a),{start:o,stop:s===o?o+a:s,step:a}}var Ss=Math.random;function Bxe(e){Ss=e}function qQ(e,t,n,r){if(!e.length)return[void 0,void 0];const i=Float64Array.from(WQ(e,r)),o=i.length,s=t;let a,l,u,c;for(u=0,c=Array(s);u<s;++u){for(a=0,l=0;l<o;++l)a+=i[~~(Ss()*o)];c[u]=a/o}return c.sort(fu),[rF(c,n/2),rF(c,1-n/2)]}function GQ(e,t,n,r){r=r||(d=>d);const i=e.length,o=new Float64Array(i);let s=0,a=1,l=r(e[0]),u=l,c=l+t,f;for(;a<i;++a){if(f=r(e[a]),f>=c){for(u=(l+u)/2;s<a;++s)o[s]=u;c=f+t,l=f}u=f}for(u=(l+u)/2;s<a;++s)o[s]=u;return n?Uxe(o,t+t/4):o}function Uxe(e,t){const n=e.length;let r=0,i=1,o,s;for(;e[r]===e[i];)++i;for(;i<n;){for(o=i+1;e[i]===e[o];)++o;if(e[i]-e[i-1]<t){for(s=i+(r+o-i-i>>1);s<i;)e[s++]=e[i];for(;s>i;)e[s--]=e[r]}r=i,i=o}return e}function Vxe(e){return function(){return e=(1103515245*e+12345)%2147483647,e/2147483647}}function Wxe(e,t){t==null&&(t=e,e=0);let n,r,i;const o={min(s){return arguments.length?(n=s||0,i=r-n,o):n},max(s){return arguments.length?(r=s||0,i=r-n,o):r},sample(){return n+Math.floor(i*Ss())},pdf(s){return s===Math.floor(s)&&s>=n&&s<r?1/i:0},cdf(s){const a=Math.floor(s);return a<n?0:a>=r?1:(a-n+1)/i},icdf(s){return s>=0&&s<=1?n-1+Math.floor(s*i):NaN}};return o.min(e).max(t)}const XQ=Math.sqrt(2*Math.PI),Hxe=Math.SQRT2;let yy=NaN;function Gk(e,t){e=e||0,t=t??1;let n=0,r=0,i,o;if(yy===yy)n=yy,yy=NaN;else{do n=Ss()*2-1,r=Ss()*2-1,i=n*n+r*r;while(i===0||i>1);o=Math.sqrt(-2*Math.log(i)/i),n*=o,yy=r*o}return e+n*t}function ZD(e,t,n){n=n??1;const r=(e-(t||0))/n;return Math.exp(-.5*r*r)/(n*XQ)}function Xk(e,t,n){t=t||0,n=n??1;const r=(e-t)/n,i=Math.abs(r);let o;if(i>37)o=0;else{const s=Math.exp(-i*i/2);let a;i<7.07106781186547?(a=.0352624965998911*i+.700383064443688,a=a*i+6.37396220353165,a=a*i+33.912866078383,a=a*i+112.079291497871,a=a*i+221.213596169931,a=a*i+220.206867912376,o=s*a,a=.0883883476483184*i+1.75566716318264,a=a*i+16.064177579207,a=a*i+86.7807322029461,a=a*i+296.564248779674,a=a*i+637.333633378831,a=a*i+793.826512519948,a=a*i+440.413735824752,o=o/a):(a=i+.65,a=i+4/a,a=i+3/a,a=i+2/a,a=i+1/a,o=s/a/2.506628274631)}return r>0?1-o:o}function Yk(e,t,n){return e<0||e>1?NaN:(t||0)+(n??1)*Hxe*qxe(2*e-1)}function qxe(e){let t=-Math.log((1-e)*(1+e)),n;return t<6.25?(t-=3.125,n=-364441206401782e-35,n=-16850591381820166e-35+n*t,n=128584807152564e-32+n*t,n=11157877678025181e-33+n*t,n=-1333171662854621e-31+n*t,n=20972767875968562e-33+n*t,n=6637638134358324e-30+n*t,n=-4054566272975207e-29+n*t,n=-8151934197605472e-29+n*t,n=26335093153082323e-28+n*t,n=-12975133253453532e-27+n*t,n=-5415412054294628e-26+n*t,n=10512122733215323e-25+n*t,n=-4112633980346984e-24+n*t,n=-29070369957882005e-24+n*t,n=42347877827932404e-23+n*t,n=-13654692000834679e-22+n*t,n=-13882523362786469e-21+n*t,n=.00018673420803405714+n*t,n=-.000740702534166267+n*t,n=-.006033670871430149+n*t,n=.24015818242558962+n*t,n=1.6536545626831027+n*t):t<16?(t=Math.sqrt(t)-3.25,n=22137376921775787e-25,n=9075656193888539e-23+n*t,n=-27517406297064545e-23+n*t,n=18239629214389228e-24+n*t,n=15027403968909828e-22+n*t,n=-4013867526981546e-21+n*t,n=29234449089955446e-22+n*t,n=12475304481671779e-21+n*t,n=-47318229009055734e-21+n*t,n=6828485145957318e-20+n*t,n=24031110387097894e-21+n*t,n=-.0003550375203628475+n*t,n=.0009532893797373805+n*t,n=-.0016882755560235047+n*t,n=.002491442096107851+n*t,n=-.003751208507569241+n*t,n=.005370914553590064+n*t,n=1.0052589676941592+n*t,n=3.0838856104922208+n*t):Number.isFinite(t)?(t=Math.sqrt(t)-5,n=-27109920616438573e-27,n=-2555641816996525e-25+n*t,n=15076572693500548e-25+n*t,n=-3789465440126737e-24+n*t,n=761570120807834e-23+n*t,n=-1496002662714924e-23+n*t,n=2914795345090108e-23+n*t,n=-6771199775845234e-23+n*t,n=22900482228026655e-23+n*t,n=-99298272942317e-20+n*t,n=4526062597223154e-21+n*t,n=-1968177810553167e-20+n*t,n=7599527703001776e-20+n*t,n=-.00021503011930044477+n*t,n=-.00013871931833623122+n*t,n=1.0103004648645344+n*t,n=4.849906401408584+n*t):n=1/0,n*e}function eM(e,t){let n,r;const i={mean(o){return arguments.length?(n=o||0,i):n},stdev(o){return arguments.length?(r=o??1,i):r},sample:()=>Gk(n,r),pdf:o=>ZD(o,n,r),cdf:o=>Xk(o,n,r),icdf:o=>Yk(o,n,r)};return i.mean(e).stdev(t)}function tM(e,t){const n=eM();let r=0;const i={data(o){return arguments.length?(e=o,r=o?o.length:0,i.bandwidth(t)):e},bandwidth(o){return arguments.length?(t=o,!t&&e&&(t=JD(e)),i):t},sample(){return e[~~(Ss()*r)]+t*n.sample()},pdf(o){let s=0,a=0;for(;a<r;++a)s+=n.pdf((o-e[a])/t);return s/t/r},cdf(o){let s=0,a=0;for(;a<r;++a)s+=n.cdf((o-e[a])/t);return s/r},icdf(){throw Error("KDE icdf not supported.")}};return i.data(e)}function nM(e,t){return e=e||0,t=t??1,Math.exp(e+Gk()*t)}function rM(e,t,n){if(e<=0)return 0;t=t||0,n=n??1;const r=(Math.log(e)-t)/n;return Math.exp(-.5*r*r)/(n*XQ*e)}function iM(e,t,n){return Xk(Math.log(e),t,n)}function oM(e,t,n){return Math.exp(Yk(e,t,n))}function YQ(e,t){let n,r;const i={mean(o){return arguments.length?(n=o||0,i):n},stdev(o){return arguments.length?(r=o??1,i):r},sample:()=>nM(n,r),pdf:o=>rM(o,n,r),cdf:o=>iM(o,n,r),icdf:o=>oM(o,n,r)};return i.mean(e).stdev(t)}function KQ(e,t){let n=0,r;function i(s){const a=[];let l=0,u;for(u=0;u<n;++u)l+=a[u]=s[u]==null?1:+s[u];for(u=0;u<n;++u)a[u]/=l;return a}const o={weights(s){return arguments.length?(r=i(t=s||[]),o):t},distributions(s){return arguments.length?(s?(n=s.length,e=s):(n=0,e=[]),o.weights(t)):e},sample(){const s=Ss();let a=e[n-1],l=r[0],u=0;for(;u<n-1;l+=r[++u])if(s<l){a=e[u];break}return a.sample()},pdf(s){let a=0,l=0;for(;l<n;++l)a+=r[l]*e[l].pdf(s);return a},cdf(s){let a=0,l=0;for(;l<n;++l)a+=r[l]*e[l].cdf(s);return a},icdf(){throw Error("Mixture icdf not supported.")}};return o.distributions(e).weights(t)}function sM(e,t){return t==null&&(t=e??1,e=0),e+(t-e)*Ss()}function aM(e,t,n){return n==null&&(n=t??1,t=0),e>=t&&e<=n?1/(n-t):0}function lM(e,t,n){return n==null&&(n=t??1,t=0),e<t?0:e>n?1:(e-t)/(n-t)}function uM(e,t,n){return n==null&&(n=t??1,t=0),e>=0&&e<=1?t+e*(n-t):NaN}function QQ(e,t){let n,r;const i={min(o){return arguments.length?(n=o||0,i):n},max(o){return arguments.length?(r=o??1,i):r},sample:()=>sM(n,r),pdf:o=>aM(o,n,r),cdf:o=>lM(o,n,r),icdf:o=>uM(o,n,r)};return t==null&&(t=e??1,e=0),i.min(e).max(t)}function cM(e,t,n){let r=0,i=0;for(const o of e){const s=n(o);t(o)==null||s==null||isNaN(s)||(r+=(s-r)/++i)}return{coef:[r],predict:()=>r,rSquared:0}}function Hb(e,t,n,r){const i=r-e*e,o=Math.abs(i)<1e-24?0:(n-e*t)/i;return[t-o*e,o]}function Kk(e,t,n,r){e=e.filter(h=>{let p=t(h),g=n(h);return p!=null&&(p=+p)>=p&&g!=null&&(g=+g)>=g}),r&&e.sort((h,p)=>t(h)-t(p));const i=e.length,o=new Float64Array(i),s=new Float64Array(i);let a=0,l=0,u=0,c,f,d;for(d of e)o[a]=c=+t(d),s[a]=f=+n(d),++a,l+=(c-l)/a,u+=(f-u)/a;for(a=0;a<i;++a)o[a]-=l,s[a]-=u;return[o,s,l,u]}function qb(e,t,n,r){let i=-1,o,s;for(const a of e)o=t(a),s=n(a),o!=null&&(o=+o)>=o&&s!=null&&(s=+s)>=s&&r(o,s,++i)}function C0(e,t,n,r,i){let o=0,s=0;return qb(e,t,n,(a,l)=>{const u=l-i(a),c=l-r;o+=u*u,s+=c*c}),1-o/s}function fM(e,t,n){let r=0,i=0,o=0,s=0,a=0;qb(e,t,n,(c,f)=>{++a,r+=(c-r)/a,i+=(f-i)/a,o+=(c*f-o)/a,s+=(c*c-s)/a});const l=Hb(r,i,o,s),u=c=>l[0]+l[1]*c;return{coef:l,predict:u,rSquared:C0(e,t,n,i,u)}}function JQ(e,t,n){let r=0,i=0,o=0,s=0,a=0;qb(e,t,n,(c,f)=>{++a,c=Math.log(c),r+=(c-r)/a,i+=(f-i)/a,o+=(c*f-o)/a,s+=(c*c-s)/a});const l=Hb(r,i,o,s),u=c=>l[0]+l[1]*Math.log(c);return{coef:l,predict:u,rSquared:C0(e,t,n,i,u)}}function ZQ(e,t,n){const[r,i,o,s]=Kk(e,t,n);let a=0,l=0,u=0,c=0,f=0,d,h,p;qb(e,t,n,(v,b)=>{d=r[f++],h=Math.log(b),p=d*b,a+=(b*h-a)/f,l+=(p-l)/f,u+=(p*h-u)/f,c+=(d*p-c)/f});const[g,m]=Hb(l/s,a/s,u/s,c/s),y=v=>Math.exp(g+m*(v-o));return{coef:[Math.exp(g-m*o),m],predict:y,rSquared:C0(e,t,n,s,y)}}function eJ(e,t,n){let r=0,i=0,o=0,s=0,a=0,l=0;qb(e,t,n,(f,d)=>{const h=Math.log(f),p=Math.log(d);++l,r+=(h-r)/l,i+=(p-i)/l,o+=(h*p-o)/l,s+=(h*h-s)/l,a+=(d-a)/l});const u=Hb(r,i,o,s),c=f=>u[0]*Math.pow(f,u[1]);return u[0]=Math.exp(u[0]),{coef:u,predict:c,rSquared:C0(e,t,n,a,c)}}function dM(e,t,n){const[r,i,o,s]=Kk(e,t,n),a=r.length;let l=0,u=0,c=0,f=0,d=0,h,p,g,m;for(h=0;h<a;)p=r[h],g=i[h++],m=p*p,l+=(m-l)/h,u+=(m*p-u)/h,c+=(m*m-c)/h,f+=(p*g-f)/h,d+=(m*g-d)/h;const y=c-l*l,v=l*y-u*u,b=(d*l-f*u)/v,x=(f*y-d*u)/v,w=-b*l,C=S=>(S=S-o,b*S*S+x*S+w+s);return{coef:[w-x*o+b*o*o+s,x-2*b*o,b],predict:C,rSquared:C0(e,t,n,s,C)}}function tJ(e,t,n,r){if(r===0)return cM(e,t,n);if(r===1)return fM(e,t,n);if(r===2)return dM(e,t,n);const[i,o,s,a]=Kk(e,t,n),l=i.length,u=[],c=[],f=r+1;let d,h,p,g,m;for(d=0;d<f;++d){for(p=0,g=0;p<l;++p)g+=Math.pow(i[p],d)*o[p];for(u.push(g),m=new Float64Array(f),h=0;h<f;++h){for(p=0,g=0;p<l;++p)g+=Math.pow(i[p],d+h);m[h]=g}c.push(m)}c.push(u);const y=Xxe(c),v=b=>{b-=s;let x=a+y[0]+y[1]*b+y[2]*b*b;for(d=3;d<f;++d)x+=y[d]*Math.pow(b,d);return x};return{coef:Gxe(f,y,-s,a),predict:v,rSquared:C0(e,t,n,a,v)}}function Gxe(e,t,n,r){const i=Array(e);let o,s,a,l;for(o=0;o<e;++o)i[o]=0;for(o=e-1;o>=0;--o)for(a=t[o],l=1,i[o]+=a,s=1;s<=o;++s)l*=(o+1-s)/s,i[o-s]+=a*Math.pow(n,s)*l;return i[0]+=r,i}function Xxe(e){const t=e.length-1,n=[];let r,i,o,s,a;for(r=0;r<t;++r){for(s=r,i=r+1;i<t;++i)Math.abs(e[r][i])>Math.abs(e[r][s])&&(s=i);for(o=r;o<t+1;++o)a=e[o][r],e[o][r]=e[o][s],e[o][s]=a;for(i=r+1;i<t;++i)for(o=t;o>=r;o--)e[o][i]-=e[o][r]*e[r][i]/e[r][r]}for(i=t-1;i>=0;--i){for(a=0,o=i+1;o<t;++o)a+=e[o][i]*n[o];n[i]=(e[t][i]-a)/e[i][i]}return n}const R7=2,P7=1e-12;function nJ(e,t,n,r){const[i,o,s,a]=Kk(e,t,n,!0),l=i.length,u=Math.max(2,~~(r*l)),c=new Float64Array(l),f=new Float64Array(l),d=new Float64Array(l).fill(1);for(let h=-1;++h<=R7;){const p=[0,u-1];for(let m=0;m<l;++m){const y=i[m],v=p[0],b=p[1],x=y-i[v]>i[b]-y?v:b;let w=0,C=0,S=0,k=0,$=0;const R=1/Math.abs(i[x]-y||1);for(let D=v;D<=b;++D){const L=i[D],A=o[D],P=Yxe(Math.abs(y-L)*R)*d[D],j=L*P;w+=P,C+=j,S+=A*P,k+=A*j,$+=L*j}const[O,B]=Hb(C/w,S/w,k/w,$/w);c[m]=O+B*y,f[m]=Math.abs(o[m]-c[m]),Kxe(i,m+1,p)}if(h===R7)break;const g=BK(f);if(Math.abs(g)<P7)break;for(let m=0,y,v;m<l;++m)y=f[m]/(6*g),d[m]=y>=1?P7:(v=1-y*y)*v}return Qxe(i,c,s,a)}function Yxe(e){return(e=1-e*e*e)*e*e}function Kxe(e,t,n){const r=e[t];let i=n[0],o=n[1]+1;if(!(o>=e.length))for(;t>i&&e[o]-r<=r-e[i];)n[0]=++i,n[1]=o,++o}function Qxe(e,t,n,r){const i=e.length,o=[];let s=0,a=0,l=[],u;for(;s<i;++s)u=e[s]+n,l[0]===u?l[1]+=(t[s]-l[1])/++a:(a=0,l[1]+=r,l=[u,t[s]],o.push(l));return l[1]+=r,o}const Jxe=.5*Math.PI/180;function Qk(e,t,n,r){n=n||25,r=Math.max(n,r||200);const i=g=>[g,e(g)],o=t[0],s=t[1],a=s-o,l=a/r,u=[i(o)],c=[];if(n===r){for(let g=1;g<r;++g)u.push(i(o+g/n*a));return u.push(i(s)),u}else{c.push(i(s));for(let g=n;--g>0;)c.push(i(o+g/n*a))}let f=u[0],d=c[c.length-1];const h=1/a,p=Zxe(f[1],c);for(;d;){const g=i((f[0]+d[0])/2);g[0]-f[0]>=l&&ewe(f,g,d,h,p)>Jxe?c.push(g):(f=d,u.push(d),c.pop()),d=c[c.length-1]}return u}function Zxe(e,t){let n=e,r=e;const i=t.length;for(let o=0;o<i;++o){const s=t[o][1];s<n&&(n=s),s>r&&(r=s)}return 1/(r-n)}function ewe(e,t,n,r,i){const o=Math.atan2(i*(n[1]-e[1]),r*(n[0]-e[0])),s=Math.atan2(i*(t[1]-e[1]),r*(t[0]-e[0]));return Math.abs(o-s)}function twe(e){return t=>{const n=e.length;let r=1,i=String(e[0](t));for(;r<n;++r)i+="|"+e[r](t);return i}}function hF(e){return!e||!e.length?function(){return""}:e.length===1?e[0]:twe(e)}function rJ(e,t,n){return n||e+(t?"_"+t:"")}const sT=()=>{},nwe={init:sT,add:sT,rem:sT,idx:0},Ev={values:{init:e=>e.cell.store=!0,value:e=>e.cell.data.values(),idx:-1},count:{value:e=>e.cell.num},__count__:{value:e=>e.missing+e.valid},missing:{value:e=>e.missing},valid:{value:e=>e.valid},sum:{init:e=>e.sum=0,value:e=>e.valid?e.sum:void 0,add:(e,t)=>e.sum+=+t,rem:(e,t)=>e.sum-=t},product:{init:e=>e.product=1,value:e=>e.valid?e.product:void 0,add:(e,t)=>e.product*=t,rem:(e,t)=>e.product/=t},mean:{init:e=>e.mean=0,value:e=>e.valid?e.mean:void 0,add:(e,t)=>(e.mean_d=t-e.mean,e.mean+=e.mean_d/e.valid),rem:(e,t)=>(e.mean_d=t-e.mean,e.mean-=e.valid?e.mean_d/e.valid:e.mean)},average:{value:e=>e.valid?e.mean:void 0,req:["mean"],idx:1},variance:{init:e=>e.dev=0,value:e=>e.valid>1?e.dev/(e.valid-1):void 0,add:(e,t)=>e.dev+=e.mean_d*(t-e.mean),rem:(e,t)=>e.dev-=e.mean_d*(t-e.mean),req:["mean"],idx:1},variancep:{value:e=>e.valid>1?e.dev/e.valid:void 0,req:["variance"],idx:2},stdev:{value:e=>e.valid>1?Math.sqrt(e.dev/(e.valid-1)):void 0,req:["variance"],idx:2},stdevp:{value:e=>e.valid>1?Math.sqrt(e.dev/e.valid):void 0,req:["variance"],idx:2},stderr:{value:e=>e.valid>1?Math.sqrt(e.dev/(e.valid*(e.valid-1))):void 0,req:["variance"],idx:2},distinct:{value:e=>e.cell.data.distinct(e.get),req:["values"],idx:3},ci0:{value:e=>e.cell.data.ci0(e.get),req:["values"],idx:3},ci1:{value:e=>e.cell.data.ci1(e.get),req:["values"],idx:3},median:{value:e=>e.cell.data.q2(e.get),req:["values"],idx:3},q1:{value:e=>e.cell.data.q1(e.get),req:["values"],idx:3},q3:{value:e=>e.cell.data.q3(e.get),req:["values"],idx:3},min:{init:e=>e.min=void 0,value:e=>e.min=Number.isNaN(e.min)?e.cell.data.min(e.get):e.min,add:(e,t)=>{(t<e.min||e.min===void 0)&&(e.min=t)},rem:(e,t)=>{t<=e.min&&(e.min=NaN)},req:["values"],idx:4},max:{init:e=>e.max=void 0,value:e=>e.max=Number.isNaN(e.max)?e.cell.data.max(e.get):e.max,add:(e,t)=>{(t>e.max||e.max===void 0)&&(e.max=t)},rem:(e,t)=>{t>=e.max&&(e.max=NaN)},req:["values"],idx:4},argmin:{init:e=>e.argmin=void 0,value:e=>e.argmin||e.cell.data.argmin(e.get),add:(e,t,n)=>{t<e.min&&(e.argmin=n)},rem:(e,t)=>{t<=e.min&&(e.argmin=void 0)},req:["min","values"],idx:3},argmax:{init:e=>e.argmax=void 0,value:e=>e.argmax||e.cell.data.argmax(e.get),add:(e,t,n)=>{t>e.max&&(e.argmax=n)},rem:(e,t)=>{t>=e.max&&(e.argmax=void 0)},req:["max","values"],idx:3},exponential:{init:(e,t)=>{e.exp=0,e.exp_r=t},value:e=>e.valid?e.exp*(1-e.exp_r)/(1-e.exp_r**e.valid):void 0,add:(e,t)=>e.exp=e.exp_r*e.exp+t,rem:(e,t)=>e.exp=(e.exp-t/e.exp_r**(e.valid-1))/e.exp_r},exponentialb:{value:e=>e.valid?e.exp*(1-e.exp_r):void 0,req:["exponential"],idx:1}},Gb=Object.keys(Ev).filter(e=>e!=="__count__");function rwe(e,t){return(n,r)=>Ze({name:e,aggregate_param:r,out:n||e},nwe,t)}[...Gb,"__count__"].forEach(e=>{Ev[e]=rwe(e,Ev[e])});function iJ(e,t,n){return Ev[e](n,t)}function oJ(e,t){return e.idx-t.idx}function iwe(e){const t={};e.forEach(r=>t[r.name]=r);const n=r=>{r.req&&r.req.forEach(i=>{t[i]||n(t[i]=Ev[i]())})};return e.forEach(n),Object.values(t).sort(oJ)}function owe(){this.valid=0,this.missing=0,this._ops.forEach(e=>e.aggregate_param==null?e.init(this):e.init(this,e.aggregate_param))}function swe(e,t){if(e==null||e===""){++this.missing;return}e===e&&(++this.valid,this._ops.forEach(n=>n.add(this,e,t)))}function awe(e,t){if(e==null||e===""){--this.missing;return}e===e&&(--this.valid,this._ops.forEach(n=>n.rem(this,e,t)))}function lwe(e){return this._out.forEach(t=>e[t.out]=t.value(this)),e}function sJ(e,t){const n=t||ai,r=iwe(e),i=e.slice().sort(oJ);function o(s){this._ops=r,this._out=i,this.cell=s,this.init()}return o.prototype.init=owe,o.prototype.add=swe,o.prototype.rem=awe,o.prototype.set=lwe,o.prototype.get=n,o.fields=e.map(s=>s.out),o}function hM(e){this._key=e?bs(e):De,this.reset()}const zr=hM.prototype;zr.reset=function(){this._add=[],this._rem=[],this._ext=null,this._get=null,this._q=null};zr.add=function(e){this._add.push(e)};zr.rem=function(e){this._rem.push(e)};zr.values=function(){if(this._get=null,this._rem.length===0)return this._add;const e=this._add,t=this._rem,n=this._key,r=e.length,i=t.length,o=Array(r-i),s={};let a,l,u;for(a=0;a<i;++a)s[n(t[a])]=1;for(a=0,l=0;a<r;++a)s[n(u=e[a])]?s[n(u)]=0:o[l++]=u;return this._rem=[],this._add=o};zr.distinct=function(e){const t=this.values(),n={};let r=t.length,i=0,o;for(;--r>=0;)o=e(t[r])+"",Se(n,o)||(n[o]=1,++i);return i};zr.extent=function(e){if(this._get!==e||!this._ext){const t=this.values(),n=EK(t,e);this._ext=[t[n[0]],t[n[1]]],this._get=e}return this._ext};zr.argmin=function(e){return this.extent(e)[0]||{}};zr.argmax=function(e){return this.extent(e)[1]||{}};zr.min=function(e){const t=this.extent(e)[0];return t!=null?e(t):void 0};zr.max=function(e){const t=this.extent(e)[1];return t!=null?e(t):void 0};zr.quartile=function(e){return(this._get!==e||!this._q)&&(this._q=QD(this.values(),e),this._get=e),this._q};zr.q1=function(e){return this.quartile(e)[0]};zr.q2=function(e){return this.quartile(e)[1]};zr.q3=function(e){return this.quartile(e)[2]};zr.ci=function(e){return(this._get!==e||!this._ci)&&(this._ci=qQ(this.values(),1e3,.05,e),this._get=e),this._ci};zr.ci0=function(e){return this.ci(e)[0]};zr.ci1=function(e){return this.ci(e)[1]};function cf(e){J.call(this,null,e),this._adds=[],this._mods=[],this._alen=0,this._mlen=0,this._drop=!0,this._cross=!1,this._dims=[],this._dnames=[],this._measures=[],this._countOnly=!1,this._counts=null,this._prev=null,this._inputs=null,this._outputs=null}cf.Definition={type:"Aggregate",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:Gb},{name:"aggregate_params",type:"number",null:!0,array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"as",type:"string",null:!0,array:!0},{name:"drop",type:"boolean",default:!0},{name:"cross",type:"boolean",default:!1},{name:"key",type:"field"}]};he(cf,J,{transform(e,t){const n=this,r=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=e.modified();return n.stamp=r.stamp,n.value&&(i||t.modified(n._inputs,!0))?(n._prev=n.value,n.value=i?n.init(e):Object.create(null),t.visit(t.SOURCE,o=>n.add(o))):(n.value=n.value||n.init(e),t.visit(t.REM,o=>n.rem(o)),t.visit(t.ADD,o=>n.add(o))),r.modifies(n._outputs),n._drop=e.drop!==!1,e.cross&&n._dims.length>1&&(n._drop=!1,n.cross()),t.clean()&&n._drop&&r.clean(!0).runAfter(()=>this.clean()),n.changes(r)},cross(){const e=this,t=e.value,n=e._dnames,r=n.map(()=>({})),i=n.length;function o(a){let l,u,c,f;for(l in a)for(c=a[l].tuple,u=0;u<i;++u)r[u][f=c[n[u]]]=f}o(e._prev),o(t);function s(a,l,u){const c=n[u],f=r[u++];for(const d in f){const h=a?a+"|"+d:d;l[c]=f[d],u<i?s(h,l,u):t[h]||e.cell(h,l)}}s("",{},0)},init(e){const t=this._inputs=[],n=this._outputs=[],r={};function i(v){const b=xe(ri(v)),x=b.length;let w=0,C;for(;w<x;++w)r[C=b[w]]||(r[C]=1,t.push(C))}this._dims=xe(e.groupby),this._dnames=this._dims.map(v=>{const b=Pn(v);return i(v),n.push(b),b}),this.cellkey=e.key?e.key:hF(this._dims),this._countOnly=!0,this._counts=[],this._measures=[];const o=e.fields||[null],s=e.ops||["count"],a=e.aggregate_params||[null],l=e.as||[],u=o.length,c={};let f,d,h,p,g,m,y;for(u!==s.length&&ee("Unmatched number of fields and aggregate ops."),y=0;y<u;++y){if(f=o[y],d=s[y],h=a[y]||null,f==null&&d!=="count"&&ee("Null aggregate field specified."),g=Pn(f),m=rJ(d,g,l[y]),n.push(m),d==="count"){this._counts.push(m);continue}p=c[g],p||(i(f),p=c[g]=[],p.field=f,this._measures.push(p)),d!=="count"&&(this._countOnly=!1),p.push(iJ(d,h,m))}return this._measures=this._measures.map(v=>sJ(v,v.field)),Object.create(null)},cellkey:hF(),cell(e,t){let n=this.value[e];return n?n.num===0&&this._drop&&n.stamp<this.stamp?(n.stamp=this.stamp,this._adds[this._alen++]=n):n.stamp<this.stamp&&(n.stamp=this.stamp,this._mods[this._mlen++]=n):(n=this.value[e]=this.newcell(e,t),this._adds[this._alen++]=n),n},newcell(e,t){const n={key:e,num:0,agg:null,tuple:this.newtuple(t,this._prev&&this._prev[e]),stamp:this.stamp,store:!1};if(!this._countOnly){const r=this._measures,i=r.length;n.agg=Array(i);for(let o=0;o<i;++o)n.agg[o]=new r[o](n)}return n.store&&(n.data=new hM),n},newtuple(e,t){const n=this._dnames,r=this._dims,i=r.length,o={};for(let s=0;s<i;++s)o[n[s]]=r[s](e);return t?IQ(t.tuple,o):Rt(o)},clean(){const e=this.value;for(const t in e)e[t].num===0&&delete e[t]},add(e){const t=this.cellkey(e),n=this.cell(t,e);if(n.num+=1,this._countOnly)return;n.store&&n.data.add(e);const r=n.agg;for(let i=0,o=r.length;i<o;++i)r[i].add(r[i].get(e),e)},rem(e){const t=this.cellkey(e),n=this.cell(t,e);if(n.num-=1,this._countOnly)return;n.store&&n.data.rem(e);const r=n.agg;for(let i=0,o=r.length;i<o;++i)r[i].rem(r[i].get(e),e)},celltuple(e){const t=e.tuple,n=this._counts;e.store&&e.data.values();for(let r=0,i=n.length;r<i;++r)t[n[r]]=e.num;if(!this._countOnly){const r=e.agg;for(let i=0,o=r.length;i<o;++i)r[i].set(t)}return t},changes(e){const t=this._adds,n=this._mods,r=this._prev,i=this._drop,o=e.add,s=e.rem,a=e.mod;let l,u,c,f;if(r)for(u in r)l=r[u],(!i||l.num)&&s.push(l.tuple);for(c=0,f=this._alen;c<f;++c)o.push(this.celltuple(t[c])),t[c]=null;for(c=0,f=this._mlen;c<f;++c)l=n[c],(l.num===0&&i?s:a).push(this.celltuple(l)),n[c]=null;return this._alen=this._mlen=0,this._prev=null,e}});const uwe=1e-14;function pM(e){J.call(this,null,e)}pM.Definition={type:"Bin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean",default:!0},{name:"anchor",type:"number"},{name:"maxbins",type:"number",default:20},{name:"base",type:"number",default:10},{name:"divide",type:"number",array:!0,default:[5,2]},{name:"extent",type:"number",array:!0,length:2,required:!0},{name:"span",type:"number"},{name:"step",type:"number"},{name:"steps",type:"number",array:!0},{name:"minstep",type:"number",default:0},{name:"nice",type:"boolean",default:!0},{name:"name",type:"string"},{name:"as",type:"string",array:!0,length:2,default:["bin0","bin1"]}]};he(pM,J,{transform(e,t){const n=e.interval!==!1,r=this._bins(e),i=r.start,o=r.step,s=e.as||["bin0","bin1"],a=s[0],l=s[1];let u;return e.modified()?(t=t.reflow(!0),u=t.SOURCE):u=t.modified(ri(e.field))?t.ADD_MOD:t.ADD,t.visit(u,n?c=>{const f=r(c);c[a]=f,c[l]=f==null?null:i+o*(1+(f-i)/o)}:c=>c[a]=r(c)),t.modifies(n?s:a)},_bins(e){if(this.value&&!e.modified())return this.value;const t=e.field,n=HQ(e),r=n.step;let i=n.start,o=i+Math.ceil((n.stop-i)/r)*r,s,a;(s=e.anchor)!=null&&(a=s-(i+r*Math.floor((s-i)/r)),i+=a,o+=a);const l=function(u){let c=ti(t(u));return c==null?null:c<i?-1/0:c>o?1/0:(c=Math.max(i,Math.min(c,o-r)),i+r*Math.floor(uwe+(c-i)/r))};return l.start=i,l.stop=n.stop,l.step=r,this.value=go(l,ri(t),e.name||"bin_"+Pn(t))}});function aJ(e,t,n){const r=e;let i=t||[],o=n||[],s={},a=0;return{add:l=>o.push(l),remove:l=>s[r(l)]=++a,size:()=>i.length,data:(l,u)=>(a&&(i=i.filter(c=>!s[r(c)]),s={},a=0),u&&l&&i.sort(l),o.length&&(i=l?TK(l,i,o.sort(l)):i.concat(o),o=[]),i)}}function gM(e){J.call(this,[],e)}gM.Definition={type:"Collect",metadata:{source:!0},params:[{name:"sort",type:"compare"}]};he(gM,J,{transform(e,t){const n=t.fork(t.ALL),r=aJ(De,this.value,n.materialize(n.ADD).add),i=e.sort,o=t.changed()||i&&(e.modified("sort")||t.modified(i.fields));return n.visit(n.REM,r.remove),this.modified(o),this.value=n.source=r.data(Kh(i),o),t.source&&t.source.root&&(this.value.root=t.source.root),n}});function lJ(e){Qt.call(this,null,cwe,e)}he(lJ,Qt);function cwe(e){return this.value&&!e.modified()?this.value:TD(e.fields,e.orders)}function mM(e){J.call(this,null,e)}mM.Definition={type:"CountPattern",metadata:{generates:!0,changes:!0},params:[{name:"field",type:"field",required:!0},{name:"case",type:"enum",values:["upper","lower","mixed"],default:"mixed"},{name:"pattern",type:"string",default:'[\\w"]+'},{name:"stopwords",type:"string",default:""},{name:"as",type:"string",array:!0,length:2,default:["text","count"]}]};function fwe(e,t,n){switch(t){case"upper":e=e.toUpperCase();break;case"lower":e=e.toLowerCase();break}return e.match(n)}he(mM,J,{transform(e,t){const n=f=>d=>{for(var h=fwe(a(d),e.case,o)||[],p,g=0,m=h.length;g<m;++g)s.test(p=h[g])||f(p)},r=this._parameterCheck(e,t),i=this._counts,o=this._match,s=this._stop,a=e.field,l=e.as||["text","count"],u=n(f=>i[f]=1+(i[f]||0)),c=n(f=>i[f]-=1);return r?t.visit(t.SOURCE,u):(t.visit(t.ADD,u),t.visit(t.REM,c)),this._finish(t,l)},_parameterCheck(e,t){let n=!1;return(e.modified("stopwords")||!this._stop)&&(this._stop=new RegExp("^"+(e.stopwords||"")+"$","i"),n=!0),(e.modified("pattern")||!this._match)&&(this._match=new RegExp(e.pattern||"[\\w']+","g"),n=!0),(e.modified("field")||t.modified(e.field.fields))&&(n=!0),n&&(this._counts={}),n},_finish(e,t){const n=this._counts,r=this._tuples||(this._tuples={}),i=t[0],o=t[1],s=e.fork(e.NO_SOURCE|e.NO_FIELDS);let a,l,u;for(a in n)l=r[a],u=n[a]||0,!l&&u?(r[a]=l=Rt({}),l[i]=a,l[o]=u,s.add.push(l)):u===0?(l&&s.rem.push(l),n[a]=null,r[a]=null):l[o]!==u&&(l[o]=u,s.mod.push(l));return s.modifies(t)}});function yM(e){J.call(this,null,e)}yM.Definition={type:"Cross",metadata:{generates:!0},params:[{name:"filter",type:"expr"},{name:"as",type:"string",array:!0,length:2,default:["a","b"]}]};he(yM,J,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.as||["a","b"],i=r[0],o=r[1],s=!this.value||t.changed(t.ADD_REM)||e.modified("as")||e.modified("filter");let a=this.value;return s?(a&&(n.rem=a),a=t.materialize(t.SOURCE).source,n.add=this.value=dwe(a,i,o,e.filter||xs)):n.mod=a,n.source=this.value,n.modifies(r)}});function dwe(e,t,n,r){for(var i=[],o={},s=e.length,a=0,l,u;a<s;++a)for(o[t]=u=e[a],l=0;l<s;++l)o[n]=e[l],r(o)&&(i.push(Rt(o)),o={},o[t]=u);return i}const O7={kde:tM,mixture:KQ,normal:eM,lognormal:YQ,uniform:QQ},hwe="distributions",D7="function",pwe="field";function uJ(e,t){const n=e[D7];Se(O7,n)||ee("Unknown distribution function: "+n);const r=O7[n]();for(const i in e)i===pwe?r.data((e.from||t()).map(e[i])):i===hwe?r[i](e[i].map(o=>uJ(o,t))):typeof r[i]===D7&&r[i](e[i]);return r}function vM(e){J.call(this,null,e)}const cJ=[{key:{function:"normal"},params:[{name:"mean",type:"number",default:0},{name:"stdev",type:"number",default:1}]},{key:{function:"lognormal"},params:[{name:"mean",type:"number",default:0},{name:"stdev",type:"number",default:1}]},{key:{function:"uniform"},params:[{name:"min",type:"number",default:0},{name:"max",type:"number",default:1}]},{key:{function:"kde"},params:[{name:"field",type:"field",required:!0},{name:"from",type:"data"},{name:"bandwidth",type:"number",default:0}]}],gwe={key:{function:"mixture"},params:[{name:"distributions",type:"param",array:!0,params:cJ},{name:"weights",type:"number",array:!0}]};vM.Definition={type:"Density",metadata:{generates:!0},params:[{name:"extent",type:"number",array:!0,length:2},{name:"steps",type:"number"},{name:"minsteps",type:"number",default:25},{name:"maxsteps",type:"number",default:200},{name:"method",type:"string",default:"pdf",values:["pdf","cdf"]},{name:"distribution",type:"param",params:cJ.concat(gwe)},{name:"as",type:"string",array:!0,default:["value","density"]}]};he(vM,J,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const r=uJ(e.distribution,mwe(t)),i=e.steps||e.minsteps||25,o=e.steps||e.maxsteps||200;let s=e.method||"pdf";s!=="pdf"&&s!=="cdf"&&ee("Invalid density method: "+s),!e.extent&&!r.data&&ee("Missing density extent parameter."),s=r[s];const a=e.as||["value","density"],l=e.extent||ml(r.data()),u=Qk(s,l,i,o).map(c=>{const f={};return f[a[0]]=c[0],f[a[1]]=c[1],Rt(f)});this.value&&(n.rem=this.value),this.value=n.add=n.source=u}return n}});function mwe(e){return()=>e.materialize(e.SOURCE).source}function fJ(e,t){return e?e.map((n,r)=>t[r]||Pn(n)):null}function bM(e,t,n){const r=[],i=f=>f(l);let o,s,a,l,u,c;if(t==null)r.push(e.map(n));else for(o={},s=0,a=e.length;s<a;++s)l=e[s],u=t.map(i),c=o[u],c||(o[u]=c=[],c.dims=u,r.push(c)),c.push(n(l));return r}const dJ="bin";function xM(e){J.call(this,null,e)}xM.Definition={type:"DotBin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"step",type:"number"},{name:"smooth",type:"boolean",default:!1},{name:"as",type:"string",default:dJ}]};const ywe=(e,t)=>zb(ml(e,t))/30;he(xM,J,{transform(e,t){if(this.value&&!(e.modified()||t.changed()))return t;const n=t.materialize(t.SOURCE).source,r=bM(t.source,e.groupby,ai),i=e.smooth||!1,o=e.field,s=e.step||ywe(n,o),a=Kh((p,g)=>o(p)-o(g)),l=e.as||dJ,u=r.length;let c=1/0,f=-1/0,d=0,h;for(;d<u;++d){const p=r[d].sort(a);h=-1;for(const g of GQ(p,s,i,o))g<c&&(c=g),g>f&&(f=g),p[++h][l]=g}return this.value={start:c,stop:f,step:s},t.reflow(!0).modifies(l)}});function hJ(e){Qt.call(this,null,vwe,e),this.modified(!0)}he(hJ,Qt);function vwe(e){const t=e.expr;return this.value&&!e.modified("expr")?this.value:go(n=>t(n,e),ri(t),Pn(t))}function wM(e){J.call(this,[void 0,void 0],e)}wM.Definition={type:"Extent",metadata:{},params:[{name:"field",type:"field",required:!0}]};he(wM,J,{transform(e,t){const n=this.value,r=e.field,i=t.changed()||t.modified(r.fields)||e.modified("field");let o=n[0],s=n[1];if((i||o==null)&&(o=1/0,s=-1/0),t.visit(i?t.SOURCE:t.ADD,a=>{const l=ti(r(a));l!=null&&(l<o&&(o=l),l>s&&(s=l))}),!Number.isFinite(o)||!Number.isFinite(s)){let a=Pn(r);a&&(a=` for field "${a}"`),t.dataflow.warn(`Infinite extent${a}: [${o}, ${s}]`),o=s=void 0}this.value=[o,s]}});function SM(e,t){Qt.call(this,e),this.parent=t,this.count=0}he(SM,Qt,{connect(e){return this.detachSubflow=e.detachSubflow,this.targets().add(e),e.source=this},add(e){this.count+=1,this.value.add.push(e)},rem(e){this.count-=1,this.value.rem.push(e)},mod(e){this.value.mod.push(e)},init(e){this.value.init(e,e.NO_SOURCE)},evaluate(){return this.value}});function Jk(e){J.call(this,{},e),this._keys=x0();const t=this._targets=[];t.active=0,t.forEach=n=>{for(let r=0,i=t.active;r<i;++r)n(t[r],r,t)}}he(Jk,J,{activate(e){this._targets[this._targets.active++]=e},subflow(e,t,n,r){const i=this.value;let o=Se(i,e)&&i[e],s,a;return o?o.value.stamp<n.stamp&&(o.init(n),this.activate(o)):(a=r||(a=this._group[e])&&a.tuple,s=n.dataflow,o=new SM(n.fork(n.NO_SOURCE),this),s.add(o).connect(t(s,e,a)),i[e]=o,this.activate(o)),o},clean(){const e=this.value;let t=0;for(const n in e)if(e[n].count===0){const r=e[n].detachSubflow;r&&r(),delete e[n],++t}if(t){const n=this._targets.filter(r=>r&&r.count>0);this.initTargets(n)}},initTargets(e){const t=this._targets,n=t.length,r=e?e.length:0;let i=0;for(;i<r;++i)t[i]=e[i];for(;i<n&&t[i]!=null;++i)t[i]=null;t.active=r},transform(e,t){const n=t.dataflow,r=e.key,i=e.subflow,o=this._keys,s=e.modified("key"),a=l=>this.subflow(l,i,t);return this._group=e.group||{},this.initTargets(),t.visit(t.REM,l=>{const u=De(l),c=o.get(u);c!==void 0&&(o.delete(u),a(c).rem(l))}),t.visit(t.ADD,l=>{const u=r(l);o.set(De(l),u),a(u).add(l)}),s||t.modified(r.fields)?t.visit(t.MOD,l=>{const u=De(l),c=o.get(u),f=r(l);c===f?a(f).mod(l):(o.set(u,f),a(c).rem(l),a(f).add(l))}):t.changed(t.MOD)&&t.visit(t.MOD,l=>{a(o.get(De(l))).mod(l)}),s&&t.visit(t.REFLOW,l=>{const u=De(l),c=o.get(u),f=r(l);c!==f&&(o.set(u,f),a(c).rem(l),a(f).add(l))}),t.clean()?n.runAfter(()=>{this.clean(),o.clean()}):o.empty>n.cleanThreshold&&n.runAfter(o.clean),t}});function pJ(e){Qt.call(this,null,bwe,e)}he(pJ,Qt);function bwe(e){return this.value&&!e.modified()?this.value:te(e.name)?xe(e.name).map(t=>bs(t)):bs(e.name,e.as)}function EM(e){J.call(this,x0(),e)}EM.Definition={type:"Filter",metadata:{changes:!0},params:[{name:"expr",type:"expr",required:!0}]};he(EM,J,{transform(e,t){const n=t.dataflow,r=this.value,i=t.fork(),o=i.add,s=i.rem,a=i.mod,l=e.expr;let u=!0;t.visit(t.REM,f=>{const d=De(f);r.has(d)?r.delete(d):s.push(f)}),t.visit(t.ADD,f=>{l(f,e)?o.push(f):r.set(De(f),1)});function c(f){const d=De(f),h=l(f,e),p=r.get(d);h&&p?(r.delete(d),o.push(f)):!h&&!p?(r.set(d,1),s.push(f)):u&&h&&!p&&a.push(f)}return t.visit(t.MOD,c),e.modified()&&(u=!1,t.visit(t.REFLOW,c)),r.empty>n.cleanThreshold&&n.runAfter(r.clean),i}});function CM(e){J.call(this,[],e)}CM.Definition={type:"Flatten",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"index",type:"string"},{name:"as",type:"string",array:!0}]};he(CM,J,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.fields,i=fJ(r,e.as||[]),o=e.index||null,s=i.length;return n.rem=this.value,t.visit(t.SOURCE,a=>{const l=r.map(p=>p(a)),u=l.reduce((p,g)=>Math.max(p,g.length),0);let c=0,f,d,h;for(;c<u;++c){for(d=GD(a),f=0;f<s;++f)d[i[f]]=(h=l[f][c])==null?null:h;o&&(d[o]=c),n.add.push(d)}}),this.value=n.source=n.add,o&&n.modifies(o),n.modifies(i)}});function kM(e){J.call(this,[],e)}kM.Definition={type:"Fold",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0,length:2,default:["key","value"]}]};he(kM,J,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.fields,i=r.map(Pn),o=e.as||["key","value"],s=o[0],a=o[1],l=r.length;return n.rem=this.value,t.visit(t.SOURCE,u=>{for(let c=0,f;c<l;++c)f=GD(u),f[s]=i[c],f[a]=r[c](u),n.add.push(f)}),this.value=n.source=n.add,n.modifies(o)}});function _M(e){J.call(this,null,e)}_M.Definition={type:"Formula",metadata:{modifies:!0},params:[{name:"expr",type:"expr",required:!0},{name:"as",type:"string",required:!0},{name:"initonly",type:"boolean"}]};he(_M,J,{transform(e,t){const n=e.expr,r=e.as,i=e.modified(),o=e.initonly?t.ADD:i?t.SOURCE:t.modified(n.fields)||t.modified(r)?t.ADD_MOD:t.ADD;return i&&(t=t.materialize().reflow(!0)),e.initonly||t.modifies(r),t.visit(o,s=>s[r]=n(s,e))}});function gJ(e){J.call(this,[],e)}he(gJ,J,{transform(e,t){const n=t.fork(t.ALL),r=e.generator;let i=this.value,o=e.size-i.length,s,a,l;if(o>0){for(s=[];--o>=0;)s.push(l=Rt(r(e))),i.push(l);n.add=n.add.length?n.materialize(n.ADD).add.concat(s):s}else a=i.slice(0,-o),n.rem=n.rem.length?n.materialize(n.REM).rem.concat(a):a,i=i.slice(-o);return n.source=this.value=i,n}});const Cw={value:"value",median:BK,mean:tve,min:nF,max:Qd},xwe=[];function $M(e){J.call(this,[],e)}$M.Definition={type:"Impute",metadata:{changes:!0},params:[{name:"field",type:"field",required:!0},{name:"key",type:"field",required:!0},{name:"keyvals",array:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"enum",default:"value",values:["value","mean","median","max","min"]},{name:"value",default:0}]};function wwe(e){var t=e.method||Cw.value,n;if(Cw[t]==null)ee("Unrecognized imputation method: "+t);else return t===Cw.value?(n=e.value!==void 0?e.value:0,()=>n):Cw[t]}function Swe(e){const t=e.field;return n=>n?t(n):NaN}he($M,J,{transform(e,t){var n=t.fork(t.ALL),r=wwe(e),i=Swe(e),o=Pn(e.field),s=Pn(e.key),a=(e.groupby||[]).map(Pn),l=Ewe(t.source,e.groupby,e.key,e.keyvals),u=[],c=this.value,f=l.domain.length,d,h,p,g,m,y,v,b,x,w;for(m=0,b=l.length;m<b;++m)for(d=l[m],p=d.values,h=NaN,v=0;v<f;++v)if(d[v]==null){for(g=l.domain[v],w={_impute:!0},y=0,x=p.length;y<x;++y)w[a[y]]=p[y];w[s]=g,w[o]=Number.isNaN(h)?h=r(d,i):h,u.push(Rt(w))}return u.length&&(n.add=n.materialize(n.ADD).add.concat(u)),c.length&&(n.rem=n.materialize(n.REM).rem.concat(c)),this.value=u,n}});function Ewe(e,t,n,r){var i=y=>y(m),o=[],s=r?r.slice():[],a={},l={},u,c,f,d,h,p,g,m;for(s.forEach((y,v)=>a[y]=v+1),d=0,g=e.length;d<g;++d)m=e[d],p=n(m),h=a[p]||(a[p]=s.push(p)),c=(u=t?t.map(i):xwe)+"",(f=l[c])||(f=l[c]=[],o.push(f),f.values=u),f[h-1]=m;return o.domain=s,o}function AM(e){cf.call(this,e)}AM.Definition={type:"JoinAggregate",metadata:{modifies:!0},params:[{name:"groupby",type:"field",array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"ops",type:"enum",array:!0,values:Gb},{name:"as",type:"string",null:!0,array:!0},{name:"key",type:"field"}]};he(AM,cf,{transform(e,t){const n=this,r=e.modified();let i;return n.value&&(r||t.modified(n._inputs,!0))?(i=n.value=r?n.init(e):{},t.visit(t.SOURCE,o=>n.add(o))):(i=n.value=n.value||this.init(e),t.visit(t.REM,o=>n.rem(o)),t.visit(t.ADD,o=>n.add(o))),n.changes(),t.visit(t.SOURCE,o=>{Ze(o,i[n.cellkey(o)].tuple)}),t.reflow(r).modifies(this._outputs)},changes(){const e=this._adds,t=this._mods;let n,r;for(n=0,r=this._alen;n<r;++n)this.celltuple(e[n]),e[n]=null;for(n=0,r=this._mlen;n<r;++n)this.celltuple(t[n]),t[n]=null;this._alen=this._mlen=0}});function TM(e){J.call(this,null,e)}TM.Definition={type:"KDE",metadata:{generates:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"cumulative",type:"boolean",default:!1},{name:"counts",type:"boolean",default:!1},{name:"bandwidth",type:"number",default:0},{name:"extent",type:"number",array:!0,length:2},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"steps",type:"number"},{name:"minsteps",type:"number",default:25},{name:"maxsteps",type:"number",default:200},{name:"as",type:"string",array:!0,default:["value","density"]}]};he(TM,J,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const r=t.materialize(t.SOURCE).source,i=bM(r,e.groupby,e.field),o=(e.groupby||[]).map(Pn),s=e.bandwidth,a=e.cumulative?"cdf":"pdf",l=e.as||["value","density"],u=[];let c=e.extent,f=e.steps||e.minsteps||25,d=e.steps||e.maxsteps||200;a!=="pdf"&&a!=="cdf"&&ee("Invalid density method: "+a),e.resolve==="shared"&&(c||(c=ml(r,e.field)),f=d=e.steps||d),i.forEach(h=>{const p=tM(h,s)[a],g=e.counts?h.length:1,m=c||ml(h);Qk(p,m,f,d).forEach(y=>{const v={};for(let b=0;b<o.length;++b)v[o[b]]=h.dims[b];v[l[0]]=y[0],v[l[1]]=y[1]*g,u.push(Rt(v))})}),this.value&&(n.rem=this.value),this.value=n.add=n.source=u}return n}});function mJ(e){Qt.call(this,null,Cwe,e)}he(mJ,Qt);function Cwe(e){return this.value&&!e.modified()?this.value:RD(e.fields,e.flat)}function yJ(e){J.call(this,[],e),this._pending=null}he(yJ,J,{transform(e,t){const n=t.dataflow;return this._pending?aT(this,t,this._pending):kwe(e)?t.StopPropagation:e.values?aT(this,t,n.parse(e.values,e.format)):e.async?{async:n.request(e.url,e.format).then(i=>(this._pending=xe(i.data),o=>o.touch(this)))}:n.request(e.url,e.format).then(r=>aT(this,t,xe(r.data)))}});function kwe(e){return e.modified("async")&&!(e.modified("values")||e.modified("url")||e.modified("format"))}function aT(e,t,n){n.forEach(Rt);const r=t.fork(t.NO_FIELDS&t.NO_SOURCE);return r.rem=e.value,e.value=r.source=r.add=n,e._pending=null,r.rem.length&&r.clean(!0),r}function FM(e){J.call(this,{},e)}FM.Definition={type:"Lookup",metadata:{modifies:!0},params:[{name:"index",type:"index",params:[{name:"from",type:"data",required:!0},{name:"key",type:"field",required:!0}]},{name:"values",type:"field",array:!0},{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0},{name:"default",default:null}]};he(FM,J,{transform(e,t){const n=e.fields,r=e.index,i=e.values,o=e.default==null?null:e.default,s=e.modified(),a=n.length;let l=s?t.SOURCE:t.ADD,u=t,c=e.as,f,d,h;return i?(d=i.length,a>1&&!c&&ee('Multi-field lookup requires explicit "as" parameter.'),c&&c.length!==a*d&&ee('The "as" parameter has too few output field names.'),c=c||i.map(Pn),f=function(p){for(var g=0,m=0,y,v;g<a;++g)if(v=r.get(n[g](p)),v==null)for(y=0;y<d;++y,++m)p[c[m]]=o;else for(y=0;y<d;++y,++m)p[c[m]]=i[y](v)}):(c||ee("Missing output field names."),f=function(p){for(var g=0,m;g<a;++g)m=r.get(n[g](p)),p[c[g]]=m??o}),s?u=t.reflow(!0):(h=n.some(p=>t.modified(p.fields)),l|=h?t.MOD:0),t.visit(l,f),u.modifies(c)}});function vJ(e){Qt.call(this,null,_we,e)}he(vJ,Qt);function _we(e){if(this.value&&!e.modified())return this.value;const t=e.extents,n=t.length;let r=1/0,i=-1/0,o,s;for(o=0;o<n;++o)s=t[o],s[0]<r&&(r=s[0]),s[1]>i&&(i=s[1]);return[r,i]}function bJ(e){Qt.call(this,null,$we,e)}he(bJ,Qt);function $we(e){return this.value&&!e.modified()?this.value:e.values.reduce((t,n)=>t.concat(n),[])}function xJ(e){J.call(this,null,e)}he(xJ,J,{transform(e,t){return this.modified(e.modified()),this.value=e,t.fork(t.NO_SOURCE|t.NO_FIELDS)}});function RM(e){cf.call(this,e)}RM.Definition={type:"Pivot",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"value",type:"field",required:!0},{name:"op",type:"enum",values:Gb,default:"sum"},{name:"limit",type:"number",default:0},{name:"key",type:"field"}]};he(RM,cf,{_transform:cf.prototype.transform,transform(e,t){return this._transform(Awe(e,t),t)}});function Awe(e,t){const n=e.field,r=e.value,i=(e.op==="count"?"__count__":e.op)||"sum",o=ri(n).concat(ri(r)),s=Fwe(n,e.limit||0,t);return t.changed()&&e.set("__pivot__",null,null,!0),{key:e.key,groupby:e.groupby,ops:s.map(()=>i),fields:s.map(a=>Twe(a,n,r,o)),as:s.map(a=>a+""),modified:e.modified.bind(e)}}function Twe(e,t,n,r){return go(i=>t(i)===e?n(i):NaN,r,e+"")}function Fwe(e,t,n){const r={},i=[];return n.visit(n.SOURCE,o=>{const s=e(o);r[s]||(r[s]=1,i.push(s))}),i.sort(zk),t?i.slice(0,t):i}function wJ(e){Jk.call(this,e)}he(wJ,Jk,{transform(e,t){const n=e.subflow,r=e.field,i=o=>this.subflow(De(o),n,t,o);return(e.modified("field")||r&&t.modified(ri(r)))&&ee("PreFacet does not support field modification."),this.initTargets(),r?(t.visit(t.MOD,o=>{const s=i(o);r(o).forEach(a=>s.mod(a))}),t.visit(t.ADD,o=>{const s=i(o);r(o).forEach(a=>s.add(Rt(a)))}),t.visit(t.REM,o=>{const s=i(o);r(o).forEach(a=>s.rem(a))})):(t.visit(t.MOD,o=>i(o).mod(o)),t.visit(t.ADD,o=>i(o).add(o)),t.visit(t.REM,o=>i(o).rem(o))),t.clean()&&t.runAfter(()=>this.clean()),t}});function PM(e){J.call(this,null,e)}PM.Definition={type:"Project",metadata:{generates:!0,changes:!0},params:[{name:"fields",type:"field",array:!0},{name:"as",type:"string",null:!0,array:!0}]};he(PM,J,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.fields,i=fJ(e.fields,e.as||[]),o=r?(a,l)=>Rwe(a,l,r,i):Wk;let s;return this.value?s=this.value:(t=t.addAll(),s=this.value={}),t.visit(t.REM,a=>{const l=De(a);n.rem.push(s[l]),s[l]=null}),t.visit(t.ADD,a=>{const l=o(a,Rt({}));s[De(a)]=l,n.add.push(l)}),t.visit(t.MOD,a=>{n.mod.push(o(a,s[De(a)]))}),n}});function Rwe(e,t,n,r){for(let i=0,o=n.length;i<o;++i)t[r[i]]=n[i](e);return t}function SJ(e){J.call(this,null,e)}he(SJ,J,{transform(e,t){return this.value=e.value,e.modified("value")?t.fork(t.NO_SOURCE|t.NO_FIELDS):t.StopPropagation}});function OM(e){J.call(this,null,e)}OM.Definition={type:"Quantile",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"probs",type:"number",array:!0},{name:"step",type:"number",default:.01},{name:"as",type:"string",array:!0,default:["prob","value"]}]};const Pwe=1e-14;he(OM,J,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=e.as||["prob","value"];if(this.value&&!e.modified()&&!t.changed())return n.source=this.value,n;const i=t.materialize(t.SOURCE).source,o=bM(i,e.groupby,e.field),s=(e.groupby||[]).map(Pn),a=[],l=e.step||.01,u=e.probs||_o(l/2,1-Pwe,l),c=u.length;return o.forEach(f=>{const d=KD(f,u);for(let h=0;h<c;++h){const p={};for(let g=0;g<s.length;++g)p[s[g]]=f.dims[g];p[r[0]]=u[h],p[r[1]]=d[h],a.push(Rt(p))}}),this.value&&(n.rem=this.value),this.value=n.add=n.source=a,n}});function EJ(e){J.call(this,null,e)}he(EJ,J,{transform(e,t){let n,r;return this.value?r=this.value:(n=t=t.addAll(),r=this.value={}),e.derive&&(n=t.fork(t.NO_SOURCE),t.visit(t.REM,i=>{const o=De(i);n.rem.push(r[o]),r[o]=null}),t.visit(t.ADD,i=>{const o=GD(i);r[De(i)]=o,n.add.push(o)}),t.visit(t.MOD,i=>{const o=r[De(i)];for(const s in i)o[s]=i[s],n.modifies(s);n.mod.push(o)})),n}});function DM(e){J.call(this,[],e),this.count=0}DM.Definition={type:"Sample",metadata:{},params:[{name:"size",type:"number",default:1e3}]};he(DM,J,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.modified("size"),i=e.size,o=this.value.reduce((c,f)=>(c[De(f)]=1,c),{});let s=this.value,a=this.count,l=0;function u(c){let f,d;s.length<i?s.push(c):(d=~~((a+1)*Ss()),d<s.length&&d>=l&&(f=s[d],o[De(f)]&&n.rem.push(f),s[d]=c)),++a}if(t.rem.length&&(t.visit(t.REM,c=>{const f=De(c);o[f]&&(o[f]=-1,n.rem.push(c)),--a}),s=s.filter(c=>o[De(c)]!==-1)),(t.rem.length||r)&&s.length<i&&t.source&&(l=a=s.length,t.visit(t.SOURCE,c=>{o[De(c)]||u(c)}),l=-1),r&&s.length>i){const c=s.length-i;for(let f=0;f<c;++f)o[De(s[f])]=-1,n.rem.push(s[f]);s=s.slice(c)}return t.mod.length&&t.visit(t.MOD,c=>{o[De(c)]&&n.mod.push(c)}),t.add.length&&t.visit(t.ADD,u),(t.add.length||l<0)&&(n.add=s.filter(c=>!o[De(c)])),this.count=a,this.value=n.source=s,n}});function MM(e){J.call(this,null,e)}MM.Definition={type:"Sequence",metadata:{generates:!0,changes:!0},params:[{name:"start",type:"number",required:!0},{name:"stop",type:"number",required:!0},{name:"step",type:"number",default:1},{name:"as",type:"string",default:"data"}]};he(MM,J,{transform(e,t){if(this.value&&!e.modified())return;const n=t.materialize().fork(t.MOD),r=e.as||"data";return n.rem=this.value?t.rem.concat(this.value):t.rem,this.value=_o(e.start,e.stop,e.step||1).map(i=>{const o={};return o[r]=i,Rt(o)}),n.add=t.add.concat(this.value),n}});function CJ(e){J.call(this,null,e),this.modified(!0)}he(CJ,J,{transform(e,t){return this.value=t.source,t.changed()?t.fork(t.NO_SOURCE|t.NO_FIELDS):t.StopPropagation}});function NM(e){J.call(this,null,e)}const kJ=["unit0","unit1"];NM.Definition={type:"TimeUnit",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean",default:!0},{name:"units",type:"enum",values:ID,array:!0},{name:"step",type:"number",default:1},{name:"maxbins",type:"number",default:40},{name:"extent",type:"date",array:!0},{name:"timezone",type:"enum",default:"local",values:["local","utc"]},{name:"as",type:"string",array:!0,length:2,default:kJ}]};he(NM,J,{transform(e,t){const n=e.field,r=e.interval!==!1,i=e.timezone==="utc",o=this._floor(e,t),s=(i?E0:S0)(o.unit).offset,a=e.as||kJ,l=a[0],u=a[1],c=o.step;let f=o.start||1/0,d=o.stop||-1/0,h=t.ADD;return(e.modified()||t.changed(t.REM)||t.modified(ri(n)))&&(t=t.reflow(!0),h=t.SOURCE,f=1/0,d=-1/0),t.visit(h,p=>{const g=n(p);let m,y;g==null?(p[l]=null,r&&(p[u]=null)):(p[l]=m=y=o(g),r&&(p[u]=y=s(m,c)),m<f&&(f=m),y>d&&(d=y))}),o.start=f,o.stop=d,t.modifies(r?a:l)},_floor(e,t){const n=e.timezone==="utc",{units:r,step:i}=e.units?{units:e.units,step:e.step||1}:gQ({extent:e.extent||ml(t.materialize(t.SOURCE).source,e.field),maxbins:e.maxbins}),o=zD(r),s=this.value||{},a=(n?sQ:oQ)(o,i);return a.unit=gt(o),a.units=o,a.step=i,a.start=s.start,a.stop=s.stop,this.value=a}});function _J(e){J.call(this,x0(),e)}he(_J,J,{transform(e,t){const n=t.dataflow,r=e.field,i=this.value,o=a=>i.set(r(a),a);let s=!0;return e.modified("field")||t.modified(r.fields)?(i.clear(),t.visit(t.SOURCE,o)):t.changed()?(t.visit(t.REM,a=>i.delete(r(a))),t.visit(t.ADD,o)):s=!1,this.modified(s),i.empty>n.cleanThreshold&&n.runAfter(i.clean),t.fork()}});function $J(e){J.call(this,null,e)}he($J,J,{transform(e,t){(!this.value||e.modified("field")||e.modified("sort")||t.changed()||e.sort&&t.modified(e.sort.fields))&&(this.value=(e.sort?t.source.slice().sort(Kh(e.sort)):t.source).map(e.field))}});function Owe(e,t,n,r){const i=Cv[e](t,n);return{init:i.init||Cc,update:function(o,s){s[r]=i.next(o)}}}const Cv={row_number:function(){return{next:e=>e.index+1}},rank:function(){let e;return{init:()=>e=1,next:t=>{const n=t.index,r=t.data;return n&&t.compare(r[n-1],r[n])?e=n+1:e}}},dense_rank:function(){let e;return{init:()=>e=1,next:t=>{const n=t.index,r=t.data;return n&&t.compare(r[n-1],r[n])?++e:e}}},percent_rank:function(){const e=Cv.rank(),t=e.next;return{init:e.init,next:n=>(t(n)-1)/(n.data.length-1)}},cume_dist:function(){let e;return{init:()=>e=0,next:t=>{const n=t.data,r=t.compare;let i=t.index;if(e<i){for(;i+1<n.length&&!r(n[i],n[i+1]);)++i;e=i}return(1+e)/n.length}}},ntile:function(e,t){t=+t,t>0||ee("ntile num must be greater than zero.");const n=Cv.cume_dist(),r=n.next;return{init:n.init,next:i=>Math.ceil(t*r(i))}},lag:function(e,t){return t=+t||1,{next:n=>{const r=n.index-t;return r>=0?e(n.data[r]):null}}},lead:function(e,t){return t=+t||1,{next:n=>{const r=n.index+t,i=n.data;return r<i.length?e(i[r]):null}}},first_value:function(e){return{next:t=>e(t.data[t.i0])}},last_value:function(e){return{next:t=>e(t.data[t.i1-1])}},nth_value:function(e,t){return t=+t,t>0||ee("nth_value nth must be greater than zero."),{next:n=>{const r=n.i0+(t-1);return r<n.i1?e(n.data[r]):null}}},prev_value:function(e){let t;return{init:()=>t=null,next:n=>{const r=e(n.data[n.index]);return r!=null?t=r:t}}},next_value:function(e){let t,n;return{init:()=>(t=null,n=-1),next:r=>{const i=r.data;return r.index<=n?t:(n=Dwe(e,i,r.index))<0?(n=i.length,t=null):t=e(i[n])}}}};function Dwe(e,t,n){for(let r=t.length;n<r;++n)if(e(t[n])!=null)return n;return-1}const Mwe=Object.keys(Cv);function AJ(e){const t=xe(e.ops),n=xe(e.fields),r=xe(e.params),i=xe(e.aggregate_params),o=xe(e.as),s=this.outputs=[],a=this.windows=[],l={},u={},c=[],f=[];let d=!0;function h(p){xe(ri(p)).forEach(g=>l[g]=1)}h(e.sort),t.forEach((p,g)=>{const m=n[g],y=r[g],v=i[g]||null,b=Pn(m),x=rJ(p,b,o[g]);if(h(m),s.push(x),Se(Cv,p))a.push(Owe(p,m,y,x));else{if(m==null&&p!=="count"&&ee("Null aggregate field specified."),p==="count"){c.push(x);return}d=!1;let w=u[b];w||(w=u[b]=[],w.field=m,f.push(w)),w.push(iJ(p,v,x))}}),(c.length||f.length)&&(this.cell=Nwe(f,c,d)),this.inputs=Object.keys(l)}const TJ=AJ.prototype;TJ.init=function(){this.windows.forEach(e=>e.init()),this.cell&&this.cell.init()};TJ.update=function(e,t){const n=this.cell,r=this.windows,i=e.data,o=r&&r.length;let s;if(n){for(s=e.p0;s<e.i0;++s)n.rem(i[s]);for(s=e.p1;s<e.i1;++s)n.add(i[s]);n.set(t)}for(s=0;s<o;++s)r[s].update(e,t)};function Nwe(e,t,n){e=e.map(l=>sJ(l,l.field));const r={num:0,agg:null,store:!1,count:t};if(!n)for(var i=e.length,o=r.agg=Array(i),s=0;s<i;++s)o[s]=new e[s](r);if(r.store)var a=r.data=new hM;return r.add=function(l){if(r.num+=1,!n){a&&a.add(l);for(let u=0;u<i;++u)o[u].add(o[u].get(l),l)}},r.rem=function(l){if(r.num-=1,!n){a&&a.rem(l);for(let u=0;u<i;++u)o[u].rem(o[u].get(l),l)}},r.set=function(l){let u,c;for(a&&a.values(),u=0,c=t.length;u<c;++u)l[t[u]]=r.num;if(!n)for(u=0,c=o.length;u<c;++u)o[u].set(l)},r.init=function(){r.num=0,a&&a.reset();for(let l=0;l<i;++l)o[l].init()},r}function LM(e){J.call(this,{},e),this._mlen=0,this._mods=[]}LM.Definition={type:"Window",metadata:{modifies:!0},params:[{name:"sort",type:"compare"},{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:Mwe.concat(Gb)},{name:"params",type:"number",null:!0,array:!0},{name:"aggregate_params",type:"number",null:!0,array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"as",type:"string",null:!0,array:!0},{name:"frame",type:"number",null:!0,array:!0,length:2,default:[null,0]},{name:"ignorePeers",type:"boolean",default:!1}]};he(LM,J,{transform(e,t){this.stamp=t.stamp;const n=e.modified(),r=Kh(e.sort),i=hF(e.groupby),o=a=>this.group(i(a));let s=this.state;(!s||n)&&(s=this.state=new AJ(e)),n||t.modified(s.inputs)?(this.value={},t.visit(t.SOURCE,a=>o(a).add(a))):(t.visit(t.REM,a=>o(a).remove(a)),t.visit(t.ADD,a=>o(a).add(a)));for(let a=0,l=this._mlen;a<l;++a)Lwe(this._mods[a],s,r,e);return this._mlen=0,this._mods=[],t.reflow(n).modifies(s.outputs)},group(e){let t=this.value[e];return t||(t=this.value[e]=aJ(De),t.stamp=-1),t.stamp<this.stamp&&(t.stamp=this.stamp,this._mods[this._mlen++]=t),t}});function Lwe(e,t,n,r){const i=r.sort,o=i&&!r.ignorePeers,s=r.frame||[null,0],a=e.data(n),l=a.length,u=o?w0(i):null,c={i0:0,i1:0,p0:0,p1:0,index:0,data:a,compare:i||li(-1)};t.init();for(let f=0;f<l;++f)Iwe(c,s,f,l),o&&zwe(c,u),t.update(c,a[f])}function Iwe(e,t,n,r){e.p0=e.i0,e.p1=e.i1,e.i0=t[0]==null?0:Math.max(0,n-Math.abs(t[0])),e.i1=t[1]==null?r:Math.min(r,n+Math.abs(t[1])+1),e.index=n}function zwe(e,t){const n=e.i0,r=e.i1-1,i=e.compare,o=e.data,s=o.length-1;n>0&&!i(o[n],o[n-1])&&(e.i0=t.left(o,o[n])),r<s&&!i(o[r],o[r+1])&&(e.i1=t.right(o,o[r]))}const jwe=Object.freeze(Object.defineProperty({__proto__:null,aggregate:cf,bin:pM,collect:gM,compare:lJ,countpattern:mM,cross:yM,density:vM,dotbin:xM,expression:hJ,extent:wM,facet:Jk,field:pJ,filter:EM,flatten:CM,fold:kM,formula:_M,generate:gJ,impute:$M,joinaggregate:AM,kde:TM,key:mJ,load:yJ,lookup:FM,multiextent:vJ,multivalues:bJ,params:xJ,pivot:RM,prefacet:wJ,project:PM,proxy:SJ,quantile:OM,relay:EJ,sample:DM,sequence:MM,sieve:CJ,subflow:SM,timeunit:NM,tupleindex:_J,values:$J,window:LM},Symbol.toStringTag,{value:"Module"}));function Ot(e){return function(){return e}}const M7=Math.abs,Ur=Math.atan2,rd=Math.cos,Bwe=Math.max,lT=Math.min,Fa=Math.sin,Od=Math.sqrt,Gr=1e-12,bm=Math.PI,uE=bm/2,FJ=2*bm;function Uwe(e){return e>1?0:e<-1?bm:Math.acos(e)}function N7(e){return e>=1?uE:e<=-1?-uE:Math.asin(e)}const pF=Math.PI,gF=2*pF,md=1e-6,Vwe=gF-md;function RJ(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function Wwe(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return RJ;const n=10**t;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}let IM=class{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?RJ:Wwe(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,o,s){this._append`C${+t},${+n},${+r},${+i},${this._x1=+o},${this._y1=+s}`}arcTo(t,n,r,i,o){if(t=+t,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let s=this._x1,a=this._y1,l=r-t,u=i-n,c=s-t,f=a-n,d=c*c+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(d>md)if(!(Math.abs(f*l-u*c)>md)||!o)this._append`L${this._x1=t},${this._y1=n}`;else{let h=r-s,p=i-a,g=l*l+u*u,m=h*h+p*p,y=Math.sqrt(g),v=Math.sqrt(d),b=o*Math.tan((pF-Math.acos((g+d-m)/(2*y*v)))/2),x=b/v,w=b/y;Math.abs(x-1)>md&&this._append`L${t+x*c},${n+x*f}`,this._append`A${o},${o},0,0,${+(f*h>c*p)},${this._x1=t+w*l},${this._y1=n+w*u}`}}arc(t,n,r,i,o,s){if(t=+t,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let a=r*Math.cos(i),l=r*Math.sin(i),u=t+a,c=n+l,f=1^s,d=s?i-o:o-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>md||Math.abs(this._y1-c)>md)&&this._append`L${u},${c}`,r&&(d<0&&(d=d%gF+gF),d>Vwe?this._append`A${r},${r},0,1,${f},${t-a},${n-l}A${r},${r},0,1,${f},${this._x1=u},${this._y1=c}`:d>md&&this._append`A${r},${r},0,${+(d>=pF)},${f},${this._x1=t+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}};function Zk(){return new IM}Zk.prototype=IM.prototype;function e_(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new IM(t)}function Hwe(e){return e.innerRadius}function qwe(e){return e.outerRadius}function Gwe(e){return e.startAngle}function Xwe(e){return e.endAngle}function Ywe(e){return e&&e.padAngle}function Kwe(e,t,n,r,i,o,s,a){var l=n-e,u=r-t,c=s-i,f=a-o,d=f*l-c*u;if(!(d*d<Gr))return d=(c*(t-o)-f*(e-i))/d,[e+d*l,t+d*u]}function kw(e,t,n,r,i,o,s){var a=e-n,l=t-r,u=(s?o:-o)/Od(a*a+l*l),c=u*l,f=-u*a,d=e+c,h=t+f,p=n+c,g=r+f,m=(d+p)/2,y=(h+g)/2,v=p-d,b=g-h,x=v*v+b*b,w=i-o,C=d*g-p*h,S=(b<0?-1:1)*Od(Bwe(0,w*w*x-C*C)),k=(C*b-v*S)/x,$=(-C*v-b*S)/x,R=(C*b+v*S)/x,O=(-C*v+b*S)/x,B=k-m,D=$-y,L=R-m,A=O-y;return B*B+D*D>L*L+A*A&&(k=R,$=O),{cx:k,cy:$,x01:-c,y01:-f,x11:k*(i/w-1),y11:$*(i/w-1)}}function Qwe(){var e=Hwe,t=qwe,n=Ot(0),r=null,i=Gwe,o=Xwe,s=Ywe,a=null,l=e_(u);function u(){var c,f,d=+e.apply(this,arguments),h=+t.apply(this,arguments),p=i.apply(this,arguments)-uE,g=o.apply(this,arguments)-uE,m=M7(g-p),y=g>p;if(a||(a=c=l()),h<d&&(f=h,h=d,d=f),!(h>Gr))a.moveTo(0,0);else if(m>FJ-Gr)a.moveTo(h*rd(p),h*Fa(p)),a.arc(0,0,h,p,g,!y),d>Gr&&(a.moveTo(d*rd(g),d*Fa(g)),a.arc(0,0,d,g,p,y));else{var v=p,b=g,x=p,w=g,C=m,S=m,k=s.apply(this,arguments)/2,$=k>Gr&&(r?+r.apply(this,arguments):Od(d*d+h*h)),R=lT(M7(h-d)/2,+n.apply(this,arguments)),O=R,B=R,D,L;if($>Gr){var A=N7($/d*Fa(k)),P=N7($/h*Fa(k));(C-=A*2)>Gr?(A*=y?1:-1,x+=A,w-=A):(C=0,x=w=(p+g)/2),(S-=P*2)>Gr?(P*=y?1:-1,v+=P,b-=P):(S=0,v=b=(p+g)/2)}var j=h*rd(v),z=h*Fa(v),U=d*rd(w),X=d*Fa(w);if(R>Gr){var K=h*rd(b),pe=h*Fa(b),oe=d*rd(x),_e=d*Fa(x),Qe;if(m<bm)if(Qe=Kwe(j,z,oe,_e,K,pe,U,X)){var xt=j-Qe[0],On=z-Qe[1],lr=K-Qe[0],be=pe-Qe[1],Ne=1/Fa(Uwe((xt*lr+On*be)/(Od(xt*xt+On*On)*Od(lr*lr+be*be)))/2),Ue=Od(Qe[0]*Qe[0]+Qe[1]*Qe[1]);O=lT(R,(d-Ue)/(Ne-1)),B=lT(R,(h-Ue)/(Ne+1))}else O=B=0}S>Gr?B>Gr?(D=kw(oe,_e,j,z,h,B,y),L=kw(K,pe,U,X,h,B,y),a.moveTo(D.cx+D.x01,D.cy+D.y01),B<R?a.arc(D.cx,D.cy,B,Ur(D.y01,D.x01),Ur(L.y01,L.x01),!y):(a.arc(D.cx,D.cy,B,Ur(D.y01,D.x01),Ur(D.y11,D.x11),!y),a.arc(0,0,h,Ur(D.cy+D.y11,D.cx+D.x11),Ur(L.cy+L.y11,L.cx+L.x11),!y),a.arc(L.cx,L.cy,B,Ur(L.y11,L.x11),Ur(L.y01,L.x01),!y))):(a.moveTo(j,z),a.arc(0,0,h,v,b,!y)):a.moveTo(j,z),!(d>Gr)||!(C>Gr)?a.lineTo(U,X):O>Gr?(D=kw(U,X,K,pe,d,-O,y),L=kw(j,z,oe,_e,d,-O,y),a.lineTo(D.cx+D.x01,D.cy+D.y01),O<R?a.arc(D.cx,D.cy,O,Ur(D.y01,D.x01),Ur(L.y01,L.x01),!y):(a.arc(D.cx,D.cy,O,Ur(D.y01,D.x01),Ur(D.y11,D.x11),!y),a.arc(0,0,d,Ur(D.cy+D.y11,D.cx+D.x11),Ur(L.cy+L.y11,L.cx+L.x11),y),a.arc(L.cx,L.cy,O,Ur(L.y11,L.x11),Ur(L.y01,L.x01),!y))):a.arc(0,0,d,w,x,y)}if(a.closePath(),c)return a=null,c+""||null}return u.centroid=function(){var c=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,f=(+i.apply(this,arguments)+ +o.apply(this,arguments))/2-bm/2;return[rd(f)*c,Fa(f)*c]},u.innerRadius=function(c){return arguments.length?(e=typeof c=="function"?c:Ot(+c),u):e},u.outerRadius=function(c){return arguments.length?(t=typeof c=="function"?c:Ot(+c),u):t},u.cornerRadius=function(c){return arguments.length?(n=typeof c=="function"?c:Ot(+c),u):n},u.padRadius=function(c){return arguments.length?(r=c==null?null:typeof c=="function"?c:Ot(+c),u):r},u.startAngle=function(c){return arguments.length?(i=typeof c=="function"?c:Ot(+c),u):i},u.endAngle=function(c){return arguments.length?(o=typeof c=="function"?c:Ot(+c),u):o},u.padAngle=function(c){return arguments.length?(s=typeof c=="function"?c:Ot(+c),u):s},u.context=function(c){return arguments.length?(a=c??null,u):a},u}function PJ(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function OJ(e){this._context=e}OJ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function zM(e){return new OJ(e)}function DJ(e){return e[0]}function MJ(e){return e[1]}function NJ(e,t){var n=Ot(!0),r=null,i=zM,o=null,s=e_(a);e=typeof e=="function"?e:e===void 0?DJ:Ot(e),t=typeof t=="function"?t:t===void 0?MJ:Ot(t);function a(l){var u,c=(l=PJ(l)).length,f,d=!1,h;for(r==null&&(o=i(h=s())),u=0;u<=c;++u)!(u<c&&n(f=l[u],u,l))===d&&((d=!d)?o.lineStart():o.lineEnd()),d&&o.point(+e(f,u,l),+t(f,u,l));if(h)return o=null,h+""||null}return a.x=function(l){return arguments.length?(e=typeof l=="function"?l:Ot(+l),a):e},a.y=function(l){return arguments.length?(t=typeof l=="function"?l:Ot(+l),a):t},a.defined=function(l){return arguments.length?(n=typeof l=="function"?l:Ot(!!l),a):n},a.curve=function(l){return arguments.length?(i=l,r!=null&&(o=i(r)),a):i},a.context=function(l){return arguments.length?(l==null?r=o=null:o=i(r=l),a):r},a}function LJ(e,t,n){var r=null,i=Ot(!0),o=null,s=zM,a=null,l=e_(u);e=typeof e=="function"?e:e===void 0?DJ:Ot(+e),t=typeof t=="function"?t:Ot(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?MJ:Ot(+n);function u(f){var d,h,p,g=(f=PJ(f)).length,m,y=!1,v,b=new Array(g),x=new Array(g);for(o==null&&(a=s(v=l())),d=0;d<=g;++d){if(!(d<g&&i(m=f[d],d,f))===y)if(y=!y)h=d,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),p=d-1;p>=h;--p)a.point(b[p],x[p]);a.lineEnd(),a.areaEnd()}y&&(b[d]=+e(m,d,f),x[d]=+t(m,d,f),a.point(r?+r(m,d,f):b[d],n?+n(m,d,f):x[d]))}if(v)return a=null,v+""||null}function c(){return NJ().defined(i).curve(s).context(o)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:Ot(+f),r=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Ot(+f),u):e},u.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Ot(+f),u):r},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:Ot(+f),n=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Ot(+f),u):t},u.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Ot(+f),u):n},u.lineX0=u.lineY0=function(){return c().x(e).y(t)},u.lineY1=function(){return c().x(e).y(n)},u.lineX1=function(){return c().x(r).y(t)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:Ot(!!f),u):i},u.curve=function(f){return arguments.length?(s=f,o!=null&&(a=s(o)),u):s},u.context=function(f){return arguments.length?(f==null?o=a=null:a=s(o=f),u):o},u}const Jwe={draw(e,t){const n=Od(t/bm);e.moveTo(n,0),e.arc(0,0,n,0,FJ)}};function Zwe(e,t){let n=null,r=e_(i);e=typeof e=="function"?e:Ot(e||Jwe),t=typeof t=="function"?t:Ot(t===void 0?64:+t);function i(){let o;if(n||(n=o=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(e=typeof o=="function"?o:Ot(o),i):e},i.size=function(o){return arguments.length?(t=typeof o=="function"?o:Ot(+o),i):t},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function ff(){}function cE(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function t_(e){this._context=e}t_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:cE(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:cE(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function e2e(e){return new t_(e)}function IJ(e){this._context=e}IJ.prototype={areaStart:ff,areaEnd:ff,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:cE(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function t2e(e){return new IJ(e)}function zJ(e){this._context=e}zJ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:cE(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function n2e(e){return new zJ(e)}function jJ(e,t){this._basis=new t_(e),this._beta=t}jJ.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,n=e.length-1;if(n>0)for(var r=e[0],i=t[0],o=e[n]-r,s=t[n]-i,a=-1,l;++a<=n;)l=a/n,this._basis.point(this._beta*e[a]+(1-this._beta)*(r+l*o),this._beta*t[a]+(1-this._beta)*(i+l*s));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};const r2e=function e(t){function n(r){return t===1?new t_(r):new jJ(r,t)}return n.beta=function(r){return e(+r)},n}(.85);function fE(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function jM(e,t){this._context=e,this._k=(1-t)/6}jM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:fE(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:fE(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const i2e=function e(t){function n(r){return new jM(r,t)}return n.tension=function(r){return e(+r)},n}(0);function BM(e,t){this._context=e,this._k=(1-t)/6}BM.prototype={areaStart:ff,areaEnd:ff,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:fE(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const o2e=function e(t){function n(r){return new BM(r,t)}return n.tension=function(r){return e(+r)},n}(0);function UM(e,t){this._context=e,this._k=(1-t)/6}UM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:fE(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const s2e=function e(t){function n(r){return new UM(r,t)}return n.tension=function(r){return e(+r)},n}(0);function VM(e,t,n){var r=e._x1,i=e._y1,o=e._x2,s=e._y2;if(e._l01_a>Gr){var a=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,l=3*e._l01_a*(e._l01_a+e._l12_a);r=(r*a-e._x0*e._l12_2a+e._x2*e._l01_2a)/l,i=(i*a-e._y0*e._l12_2a+e._y2*e._l01_2a)/l}if(e._l23_a>Gr){var u=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,c=3*e._l23_a*(e._l23_a+e._l12_a);o=(o*u+e._x1*e._l23_2a-t*e._l12_2a)/c,s=(s*u+e._y1*e._l23_2a-n*e._l12_2a)/c}e._context.bezierCurveTo(r,i,o,s,e._x2,e._y2)}function BJ(e,t){this._context=e,this._alpha=t}BJ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:VM(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const a2e=function e(t){function n(r){return t?new BJ(r,t):new jM(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function UJ(e,t){this._context=e,this._alpha=t}UJ.prototype={areaStart:ff,areaEnd:ff,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:VM(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const l2e=function e(t){function n(r){return t?new UJ(r,t):new BM(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function VJ(e,t){this._context=e,this._alpha=t}VJ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:VM(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const u2e=function e(t){function n(r){return t?new VJ(r,t):new UM(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function WJ(e){this._context=e}WJ.prototype={areaStart:ff,areaEnd:ff,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function c2e(e){return new WJ(e)}function L7(e){return e<0?-1:1}function I7(e,t,n){var r=e._x1-e._x0,i=t-e._x1,o=(e._y1-e._y0)/(r||i<0&&-0),s=(n-e._y1)/(i||r<0&&-0),a=(o*i+s*r)/(r+i);return(L7(o)+L7(s))*Math.min(Math.abs(o),Math.abs(s),.5*Math.abs(a))||0}function z7(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function uT(e,t,n){var r=e._x0,i=e._y0,o=e._x1,s=e._y1,a=(o-r)/3;e._context.bezierCurveTo(r+a,i+a*t,o-a,s-a*n,o,s)}function dE(e){this._context=e}dE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:uT(this,this._t0,z7(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,uT(this,z7(this,n=I7(this,e,t)),n);break;default:uT(this,this._t0,n=I7(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function HJ(e){this._context=new qJ(e)}(HJ.prototype=Object.create(dE.prototype)).point=function(e,t){dE.prototype.point.call(this,t,e)};function qJ(e){this._context=e}qJ.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,o){this._context.bezierCurveTo(t,e,r,n,o,i)}};function f2e(e){return new dE(e)}function d2e(e){return new HJ(e)}function GJ(e){this._context=e}GJ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=j7(e),i=j7(t),o=0,s=1;s<n;++o,++s)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],e[s],t[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function j7(e){var t,n=e.length-1,r,i=new Array(n),o=new Array(n),s=new Array(n);for(i[0]=0,o[0]=2,s[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,o[t]=4,s[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,o[n-1]=7,s[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/o[t-1],o[t]-=r,s[t]-=r*s[t-1];for(i[n-1]=s[n-1]/o[n-1],t=n-2;t>=0;--t)i[t]=(s[t]-i[t+1])/o[t];for(o[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)o[t]=2*e[t+1]-i[t+1];return[i,o]}function h2e(e){return new GJ(e)}function n_(e,t){this._context=e,this._t=t}n_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function p2e(e){return new n_(e,.5)}function g2e(e){return new n_(e,0)}function m2e(e){return new n_(e,1)}function Xc(e,t){if(typeof document<"u"&&document.createElement){const n=document.createElement("canvas");if(n&&n.getContext)return n.width=e,n.height=t,n}return null}const y2e=()=>typeof Image<"u"?Image:null;function kl(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Rf(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const mF=Symbol("implicit");function WM(){var e=new r7,t=[],n=[],r=mF;function i(o){let s=e.get(o);if(s===void 0){if(r!==mF)return r;e.set(o,s=t.push(o)-1)}return n[s%n.length]}return i.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new r7;for(const s of o)e.has(s)||e.set(s,t.push(s)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return WM(t,n).unknown(r)},kl.apply(i,arguments),i}function k0(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Xb(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Pf(){}var mh=.7,xm=1/mh,Tg="\\s*([+-]?\\d+)\\s*",kv="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",sl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",v2e=/^#([0-9a-f]{3,8})$/,b2e=new RegExp(`^rgb\\(${Tg},${Tg},${Tg}\\)$`),x2e=new RegExp(`^rgb\\(${sl},${sl},${sl}\\)$`),w2e=new RegExp(`^rgba\\(${Tg},${Tg},${Tg},${kv}\\)$`),S2e=new RegExp(`^rgba\\(${sl},${sl},${sl},${kv}\\)$`),E2e=new RegExp(`^hsl\\(${kv},${sl},${sl}\\)$`),C2e=new RegExp(`^hsla\\(${kv},${sl},${sl},${kv}\\)$`),B7={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};k0(Pf,_v,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:U7,formatHex:U7,formatHex8:k2e,formatHsl:_2e,formatRgb:V7,toString:V7});function U7(){return this.rgb().formatHex()}function k2e(){return this.rgb().formatHex8()}function _2e(){return XJ(this).formatHsl()}function V7(){return this.rgb().formatRgb()}function _v(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=v2e.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?W7(t):n===3?new fr(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?_w(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?_w(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=b2e.exec(e))?new fr(t[1],t[2],t[3],1):(t=x2e.exec(e))?new fr(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=w2e.exec(e))?_w(t[1],t[2],t[3],t[4]):(t=S2e.exec(e))?_w(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=E2e.exec(e))?G7(t[1],t[2]/100,t[3]/100,1):(t=C2e.exec(e))?G7(t[1],t[2]/100,t[3]/100,t[4]):B7.hasOwnProperty(e)?W7(B7[e]):e==="transparent"?new fr(NaN,NaN,NaN,0):null}function W7(e){return new fr(e>>16&255,e>>8&255,e&255,1)}function _w(e,t,n,r){return r<=0&&(e=t=n=NaN),new fr(e,t,n,r)}function HM(e){return e instanceof Pf||(e=_v(e)),e?(e=e.rgb(),new fr(e.r,e.g,e.b,e.opacity)):new fr}function df(e,t,n,r){return arguments.length===1?HM(e):new fr(e,t,n,r??1)}function fr(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}k0(fr,df,Xb(Pf,{brighter(e){return e=e==null?xm:Math.pow(xm,e),new fr(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?mh:Math.pow(mh,e),new fr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new fr(Jd(this.r),Jd(this.g),Jd(this.b),hE(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:H7,formatHex:H7,formatHex8:$2e,formatRgb:q7,toString:q7}));function H7(){return`#${Dd(this.r)}${Dd(this.g)}${Dd(this.b)}`}function $2e(){return`#${Dd(this.r)}${Dd(this.g)}${Dd(this.b)}${Dd((isNaN(this.opacity)?1:this.opacity)*255)}`}function q7(){const e=hE(this.opacity);return`${e===1?"rgb(":"rgba("}${Jd(this.r)}, ${Jd(this.g)}, ${Jd(this.b)}${e===1?")":`, ${e})`}`}function hE(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Jd(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Dd(e){return e=Jd(e),(e<16?"0":"")+e.toString(16)}function G7(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Ys(e,t,n,r)}function XJ(e){if(e instanceof Ys)return new Ys(e.h,e.s,e.l,e.opacity);if(e instanceof Pf||(e=_v(e)),!e)return new Ys;if(e instanceof Ys)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),s=NaN,a=o-i,l=(o+i)/2;return a?(t===o?s=(n-r)/a+(n<r)*6:n===o?s=(r-t)/a+2:s=(t-n)/a+4,a/=l<.5?o+i:2-o-i,s*=60):a=l>0&&l<1?0:s,new Ys(s,a,l,e.opacity)}function pE(e,t,n,r){return arguments.length===1?XJ(e):new Ys(e,t,n,r??1)}function Ys(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}k0(Ys,pE,Xb(Pf,{brighter(e){return e=e==null?xm:Math.pow(xm,e),new Ys(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?mh:Math.pow(mh,e),new Ys(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new fr(cT(e>=240?e-240:e+120,i,r),cT(e,i,r),cT(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Ys(X7(this.h),$w(this.s),$w(this.l),hE(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=hE(this.opacity);return`${e===1?"hsl(":"hsla("}${X7(this.h)}, ${$w(this.s)*100}%, ${$w(this.l)*100}%${e===1?")":`, ${e})`}`}}));function X7(e){return e=(e||0)%360,e<0?e+360:e}function $w(e){return Math.max(0,Math.min(1,e||0))}function cT(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const YJ=Math.PI/180,KJ=180/Math.PI,gE=18,QJ=.96422,JJ=1,ZJ=.82521,eZ=4/29,Fg=6/29,tZ=3*Fg*Fg,A2e=Fg*Fg*Fg;function nZ(e){if(e instanceof al)return new al(e.l,e.a,e.b,e.opacity);if(e instanceof iu)return rZ(e);e instanceof fr||(e=HM(e));var t=pT(e.r),n=pT(e.g),r=pT(e.b),i=fT((.2225045*t+.7168786*n+.0606169*r)/JJ),o,s;return t===n&&n===r?o=s=i:(o=fT((.4360747*t+.3850649*n+.1430804*r)/QJ),s=fT((.0139322*t+.0971045*n+.7141733*r)/ZJ)),new al(116*i-16,500*(o-i),200*(i-s),e.opacity)}function mE(e,t,n,r){return arguments.length===1?nZ(e):new al(e,t,n,r??1)}function al(e,t,n,r){this.l=+e,this.a=+t,this.b=+n,this.opacity=+r}k0(al,mE,Xb(Pf,{brighter(e){return new al(this.l+gE*(e??1),this.a,this.b,this.opacity)},darker(e){return new al(this.l-gE*(e??1),this.a,this.b,this.opacity)},rgb(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return t=QJ*dT(t),e=JJ*dT(e),n=ZJ*dT(n),new fr(hT(3.1338561*t-1.6168667*e-.4906146*n),hT(-.9787684*t+1.9161415*e+.033454*n),hT(.0719453*t-.2289914*e+1.4052427*n),this.opacity)}}));function fT(e){return e>A2e?Math.pow(e,1/3):e/tZ+eZ}function dT(e){return e>Fg?e*e*e:tZ*(e-eZ)}function hT(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function pT(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function T2e(e){if(e instanceof iu)return new iu(e.h,e.c,e.l,e.opacity);if(e instanceof al||(e=nZ(e)),e.a===0&&e.b===0)return new iu(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*KJ;return new iu(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function yE(e,t,n,r){return arguments.length===1?T2e(e):new iu(e,t,n,r??1)}function iu(e,t,n,r){this.h=+e,this.c=+t,this.l=+n,this.opacity=+r}function rZ(e){if(isNaN(e.h))return new al(e.l,0,0,e.opacity);var t=e.h*YJ;return new al(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}k0(iu,yE,Xb(Pf,{brighter(e){return new iu(this.h,this.c,this.l+gE*(e??1),this.opacity)},darker(e){return new iu(this.h,this.c,this.l-gE*(e??1),this.opacity)},rgb(){return rZ(this).rgb()}}));var iZ=-.14861,qM=1.78277,GM=-.29227,r_=-.90649,$v=1.97294,Y7=$v*r_,K7=$v*qM,Q7=qM*GM-r_*iZ;function F2e(e){if(e instanceof Zd)return new Zd(e.h,e.s,e.l,e.opacity);e instanceof fr||(e=HM(e));var t=e.r/255,n=e.g/255,r=e.b/255,i=(Q7*r+Y7*t-K7*n)/(Q7+Y7-K7),o=r-i,s=($v*(n-i)-GM*o)/r_,a=Math.sqrt(s*s+o*o)/($v*i*(1-i)),l=a?Math.atan2(s,o)*KJ-120:NaN;return new Zd(l<0?l+360:l,a,i,e.opacity)}function yF(e,t,n,r){return arguments.length===1?F2e(e):new Zd(e,t,n,r??1)}function Zd(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}k0(Zd,yF,Xb(Pf,{brighter(e){return e=e==null?xm:Math.pow(xm,e),new Zd(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?mh:Math.pow(mh,e),new Zd(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=isNaN(this.h)?0:(this.h+120)*YJ,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),i=Math.sin(e);return new fr(255*(t+n*(iZ*r+qM*i)),255*(t+n*(GM*r+r_*i)),255*(t+n*($v*r)),this.opacity)}}));function oZ(e,t,n,r,i){var o=e*e,s=o*e;return((1-3*e+3*o-s)*t+(4-6*o+3*s)*n+(1+3*e+3*o-3*s)*r+s*i)/6}function sZ(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],o=e[r+1],s=r>0?e[r-1]:2*i-o,a=r<t-1?e[r+2]:2*o-i;return oZ((n-r/t)*t,s,i,o,a)}}function aZ(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),i=e[(r+t-1)%t],o=e[r%t],s=e[(r+1)%t],a=e[(r+2)%t];return oZ((n-r/t)*t,i,o,s,a)}}const i_=e=>()=>e;function lZ(e,t){return function(n){return e+n*t}}function R2e(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function o_(e,t){var n=t-e;return n?lZ(e,n>180||n<-180?n-360*Math.round(n/360):n):i_(isNaN(e)?t:e)}function P2e(e){return(e=+e)==1?dr:function(t,n){return n-t?R2e(t,n,e):i_(isNaN(t)?n:t)}}function dr(e,t){var n=t-e;return n?lZ(e,n):i_(isNaN(e)?t:e)}const vE=function e(t){var n=P2e(t);function r(i,o){var s=n((i=df(i)).r,(o=df(o)).r),a=n(i.g,o.g),l=n(i.b,o.b),u=dr(i.opacity,o.opacity);return function(c){return i.r=s(c),i.g=a(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=e,r}(1);function uZ(e){return function(t){var n=t.length,r=new Array(n),i=new Array(n),o=new Array(n),s,a;for(s=0;s<n;++s)a=df(t[s]),r[s]=a.r||0,i[s]=a.g||0,o[s]=a.b||0;return r=e(r),i=e(i),o=e(o),a.opacity=1,function(l){return a.r=r(l),a.g=i(l),a.b=o(l),a+""}}}var O2e=uZ(sZ),D2e=uZ(aZ);function XM(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=e[i]*(1-o)+t[i]*o;return r}}function cZ(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function M2e(e,t){return(cZ(t)?XM:fZ)(e,t)}function fZ(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),o=new Array(n),s;for(s=0;s<r;++s)i[s]=Of(e[s],t[s]);for(;s<n;++s)o[s]=t[s];return function(a){for(s=0;s<r;++s)o[s]=i[s](a);return o}}function dZ(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Hs(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function hZ(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=Of(e[i],t[i]):r[i]=t[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var vF=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,gT=new RegExp(vF.source,"g");function N2e(e){return function(){return e}}function L2e(e){return function(t){return e(t)+""}}function pZ(e,t){var n=vF.lastIndex=gT.lastIndex=0,r,i,o,s=-1,a=[],l=[];for(e=e+"",t=t+"";(r=vF.exec(e))&&(i=gT.exec(t));)(o=i.index)>n&&(o=t.slice(n,o),a[s]?a[s]+=o:a[++s]=o),(r=r[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,l.push({i:s,x:Hs(r,i)})),n=gT.lastIndex;return n<t.length&&(o=t.slice(n),a[s]?a[s]+=o:a[++s]=o),a.length<2?l[0]?L2e(l[0].x):N2e(t):(t=l.length,function(u){for(var c=0,f;c<t;++c)a[(f=l[c]).i]=f.x(u);return a.join("")})}function Of(e,t){var n=typeof t,r;return t==null||n==="boolean"?i_(t):(n==="number"?Hs:n==="string"?(r=_v(t))?(t=r,vE):pZ:t instanceof _v?vE:t instanceof Date?dZ:cZ(t)?XM:Array.isArray(t)?fZ:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?hZ:Hs)(e,t)}function I2e(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}function z2e(e,t){var n=o_(+e,+t);return function(r){var i=n(r);return i-360*Math.floor(i/360)}}function _0(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var J7=180/Math.PI,bF={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function gZ(e,t,n,r,i,o){var s,a,l;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(l=e*n+t*r)&&(n-=e*l,r-=t*l),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,l/=a),e*r<t*n&&(e=-e,t=-t,l=-l,s=-s),{translateX:i,translateY:o,rotate:Math.atan2(t,e)*J7,skewX:Math.atan(l)*J7,scaleX:s,scaleY:a}}var Aw;function j2e(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?bF:gZ(t.a,t.b,t.c,t.d,t.e,t.f)}function B2e(e){return e==null||(Aw||(Aw=document.createElementNS("http://www.w3.org/2000/svg","g")),Aw.setAttribute("transform",e),!(e=Aw.transform.baseVal.consolidate()))?bF:(e=e.matrix,gZ(e.a,e.b,e.c,e.d,e.e,e.f))}function mZ(e,t,n,r){function i(u){return u.length?u.pop()+" ":""}function o(u,c,f,d,h,p){if(u!==f||c!==d){var g=h.push("translate(",null,t,null,n);p.push({i:g-4,x:Hs(u,f)},{i:g-2,x:Hs(c,d)})}else(f||d)&&h.push("translate("+f+t+d+n)}function s(u,c,f,d){u!==c?(u-c>180?c+=360:c-u>180&&(u+=360),d.push({i:f.push(i(f)+"rotate(",null,r)-2,x:Hs(u,c)})):c&&f.push(i(f)+"rotate("+c+r)}function a(u,c,f,d){u!==c?d.push({i:f.push(i(f)+"skewX(",null,r)-2,x:Hs(u,c)}):c&&f.push(i(f)+"skewX("+c+r)}function l(u,c,f,d,h,p){if(u!==f||c!==d){var g=h.push(i(h)+"scale(",null,",",null,")");p.push({i:g-4,x:Hs(u,f)},{i:g-2,x:Hs(c,d)})}else(f!==1||d!==1)&&h.push(i(h)+"scale("+f+","+d+")")}return function(u,c){var f=[],d=[];return u=e(u),c=e(c),o(u.translateX,u.translateY,c.translateX,c.translateY,f,d),s(u.rotate,c.rotate,f,d),a(u.skewX,c.skewX,f,d),l(u.scaleX,u.scaleY,c.scaleX,c.scaleY,f,d),u=c=null,function(h){for(var p=-1,g=d.length,m;++p<g;)f[(m=d[p]).i]=m.x(h);return f.join("")}}}var U2e=mZ(j2e,"px, ","px)","deg)"),V2e=mZ(B2e,", ",")",")"),W2e=1e-12;function Z7(e){return((e=Math.exp(e))+1/e)/2}function H2e(e){return((e=Math.exp(e))-1/e)/2}function q2e(e){return((e=Math.exp(2*e))-1)/(e+1)}const G2e=function e(t,n,r){function i(o,s){var a=o[0],l=o[1],u=o[2],c=s[0],f=s[1],d=s[2],h=c-a,p=f-l,g=h*h+p*p,m,y;if(g<W2e)y=Math.log(d/u)/t,m=function(S){return[a+S*h,l+S*p,u*Math.exp(t*S*y)]};else{var v=Math.sqrt(g),b=(d*d-u*u+r*g)/(2*u*n*v),x=(d*d-u*u-r*g)/(2*d*n*v),w=Math.log(Math.sqrt(b*b+1)-b),C=Math.log(Math.sqrt(x*x+1)-x);y=(C-w)/t,m=function(S){var k=S*y,$=Z7(w),R=u/(n*v)*($*q2e(t*k+w)-H2e(w));return[a+R*h,l+R*p,u*$/Z7(t*k+w)]}}return m.duration=y*1e3*t/Math.SQRT2,m}return i.rho=function(o){var s=Math.max(.001,+o),a=s*s,l=a*a;return e(s,a,l)},i}(Math.SQRT2,2,4);function yZ(e){return function(t,n){var r=e((t=pE(t)).h,(n=pE(n)).h),i=dr(t.s,n.s),o=dr(t.l,n.l),s=dr(t.opacity,n.opacity);return function(a){return t.h=r(a),t.s=i(a),t.l=o(a),t.opacity=s(a),t+""}}}const vZ=yZ(o_);var bZ=yZ(dr);function xZ(e,t){var n=dr((e=mE(e)).l,(t=mE(t)).l),r=dr(e.a,t.a),i=dr(e.b,t.b),o=dr(e.opacity,t.opacity);return function(s){return e.l=n(s),e.a=r(s),e.b=i(s),e.opacity=o(s),e+""}}function wZ(e){return function(t,n){var r=e((t=yE(t)).h,(n=yE(n)).h),i=dr(t.c,n.c),o=dr(t.l,n.l),s=dr(t.opacity,n.opacity);return function(a){return t.h=r(a),t.c=i(a),t.l=o(a),t.opacity=s(a),t+""}}}const SZ=wZ(o_);var EZ=wZ(dr);function CZ(e){return function t(n){n=+n;function r(i,o){var s=e((i=yF(i)).h,(o=yF(o)).h),a=dr(i.s,o.s),l=dr(i.l,o.l),u=dr(i.opacity,o.opacity);return function(c){return i.h=s(c),i.s=a(c),i.l=l(Math.pow(c,n)),i.opacity=u(c),i+""}}return r.gamma=t,r}(1)}const kZ=CZ(o_);var _Z=CZ(dr);function YM(e,t){t===void 0&&(t=e,e=Of);for(var n=0,r=t.length-1,i=t[0],o=new Array(r<0?0:r);n<r;)o[n]=e(i,i=t[++n]);return function(s){var a=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return o[a](s-a)}}function X2e(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e(r/(t-1));return n}const Y2e=Object.freeze(Object.defineProperty({__proto__:null,interpolate:Of,interpolateArray:M2e,interpolateBasis:sZ,interpolateBasisClosed:aZ,interpolateCubehelix:kZ,interpolateCubehelixLong:_Z,interpolateDate:dZ,interpolateDiscrete:I2e,interpolateHcl:SZ,interpolateHclLong:EZ,interpolateHsl:vZ,interpolateHslLong:bZ,interpolateHue:z2e,interpolateLab:xZ,interpolateNumber:Hs,interpolateNumberArray:XM,interpolateObject:hZ,interpolateRgb:vE,interpolateRgbBasis:O2e,interpolateRgbBasisClosed:D2e,interpolateRound:_0,interpolateString:pZ,interpolateTransformCss:U2e,interpolateTransformSvg:V2e,interpolateZoom:G2e,piecewise:YM,quantize:X2e},Symbol.toStringTag,{value:"Module"}));function K2e(e){return function(){return e}}function xF(e){return+e}var ej=[0,1];function Ji(e){return e}function wF(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:K2e(isNaN(t)?NaN:.5)}function Q2e(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function J2e(e,t,n){var r=e[0],i=e[1],o=t[0],s=t[1];return i<r?(r=wF(i,r),o=n(s,o)):(r=wF(r,i),o=n(o,s)),function(a){return o(r(a))}}function Z2e(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),s=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<r;)i[s]=wF(e[s],e[s+1]),o[s]=n(t[s],t[s+1]);return function(a){var l=lf(e,a,1,r)-1;return o[l](i[l](a))}}function Yb(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function s_(){var e=ej,t=ej,n=Of,r,i,o,s=Ji,a,l,u;function c(){var d=Math.min(e.length,t.length);return s!==Ji&&(s=Q2e(e[0],e[d-1])),a=d>2?Z2e:J2e,l=u=null,f}function f(d){return d==null||isNaN(d=+d)?o:(l||(l=a(e.map(r),t,n)))(r(s(d)))}return f.invert=function(d){return s(i((u||(u=a(t,e.map(r),Hs)))(d)))},f.domain=function(d){return arguments.length?(e=Array.from(d,xF),c()):e.slice()},f.range=function(d){return arguments.length?(t=Array.from(d),c()):t.slice()},f.rangeRound=function(d){return t=Array.from(d),n=_0,c()},f.clamp=function(d){return arguments.length?(s=d?!0:Ji,c()):s!==Ji},f.interpolate=function(d){return arguments.length?(n=d,c()):n},f.unknown=function(d){return arguments.length?(o=d,f):o},function(d,h){return r=d,i=h,c()}}function $Z(){return s_()(Ji,Ji)}function AZ(e,t,n,r){var i=uf(e,t,n),o;switch(r=gh(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(o=GK(i,s))&&(r.precision=o),ND(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=XK(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=qK(i))&&(r.precision=o-(r.type==="%")*2);break}}return jb(r)}function Jh(e){var t=e.domain;return e.ticks=function(n){var r=t();return eF(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return AZ(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,o=r.length-1,s=r[i],a=r[o],l,u,c=10;for(a<s&&(u=s,s=a,a=u,u=i,i=o,o=u);c-- >0;){if(u=tF(s,a,n),u===l)return r[i]=s,r[o]=a,t(r);if(u>0)s=Math.floor(s/u)*u,a=Math.ceil(a/u)*u;else if(u<0)s=Math.ceil(s*u)/u,a=Math.floor(a*u)/u;else break;l=u}return e},e}function KM(){var e=$Z();return e.copy=function(){return Yb(e,KM())},kl.apply(e,arguments),Jh(e)}function TZ(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,xF),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return TZ(e).unknown(t)},e=arguments.length?Array.from(e,xF):[0,1],Jh(n)}function FZ(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],o=e[r],s;return o<i&&(s=n,n=r,r=s,s=i,i=o,o=s),e[n]=t.floor(i),e[r]=t.ceil(o),e}function tj(e){return Math.log(e)}function nj(e){return Math.exp(e)}function eSe(e){return-Math.log(-e)}function tSe(e){return-Math.exp(-e)}function nSe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function rSe(e){return e===10?nSe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function iSe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function rj(e){return(t,n)=>-e(-t,n)}function QM(e){const t=e(tj,nj),n=t.domain;let r=10,i,o;function s(){return i=iSe(r),o=rSe(r),n()[0]<0?(i=rj(i),o=rj(o),e(eSe,tSe)):e(tj,nj),t}return t.base=function(a){return arguments.length?(r=+a,s()):r},t.domain=function(a){return arguments.length?(n(a),s()):n()},t.ticks=a=>{const l=n();let u=l[0],c=l[l.length-1];const f=c<u;f&&([u,c]=[c,u]);let d=i(u),h=i(c),p,g;const m=a==null?10:+a;let y=[];if(!(r%1)&&h-d<m){if(d=Math.floor(d),h=Math.ceil(h),u>0){for(;d<=h;++d)for(p=1;p<r;++p)if(g=d<0?p/o(-d):p*o(d),!(g<u)){if(g>c)break;y.push(g)}}else for(;d<=h;++d)for(p=r-1;p>=1;--p)if(g=d>0?p/o(-d):p*o(d),!(g<u)){if(g>c)break;y.push(g)}y.length*2<m&&(y=eF(u,c,m))}else y=eF(d,h,Math.min(h-d,m)).map(o);return f?y.reverse():y},t.tickFormat=(a,l)=>{if(a==null&&(a=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=gh(l)).precision==null&&(l.trim=!0),l=jb(l)),a===1/0)return l;const u=Math.max(1,r*a/t.ticks().length);return c=>{let f=c/o(Math.round(i(c)));return f*r<r-.5&&(f*=r),f<=u?l(c):""}},t.nice=()=>n(FZ(n(),{floor:a=>o(Math.floor(i(a))),ceil:a=>o(Math.ceil(i(a)))})),t}function RZ(){const e=QM(s_()).domain([1,10]);return e.copy=()=>Yb(e,RZ()).base(e.base()),kl.apply(e,arguments),e}function ij(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function oj(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function JM(e){var t=1,n=e(ij(t),oj(t));return n.constant=function(r){return arguments.length?e(ij(t=+r),oj(t)):t},Jh(n)}function PZ(){var e=JM(s_());return e.copy=function(){return Yb(e,PZ()).constant(e.constant())},kl.apply(e,arguments)}function sj(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function oSe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function sSe(e){return e<0?-e*e:e*e}function ZM(e){var t=e(Ji,Ji),n=1;function r(){return n===1?e(Ji,Ji):n===.5?e(oSe,sSe):e(sj(n),sj(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},Jh(t)}function e6(){var e=ZM(s_());return e.copy=function(){return Yb(e,e6()).exponent(e.exponent())},kl.apply(e,arguments),e}function aSe(){return e6.apply(null,arguments).exponent(.5)}function OZ(){var e=[],t=[],n=[],r;function i(){var s=0,a=Math.max(1,t.length);for(n=new Array(a-1);++s<a;)n[s-1]=jK(e,s/a);return o}function o(s){return s==null||isNaN(s=+s)?r:t[lf(n,s)]}return o.invertExtent=function(s){var a=t.indexOf(s);return a<0?[NaN,NaN]:[a>0?n[a-1]:e[0],a<n.length?n[a]:e[e.length-1]]},o.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let a of s)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(fu),i()},o.range=function(s){return arguments.length?(t=Array.from(s),i()):t.slice()},o.unknown=function(s){return arguments.length?(r=s,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return OZ().domain(e).range(t).unknown(r)},kl.apply(o,arguments)}function DZ(){var e=0,t=1,n=1,r=[.5],i=[0,1],o;function s(l){return l!=null&&l<=l?i[lf(r,l,0,n)]:o}function a(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*t-(l-n)*e)/(n+1);return s}return s.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,a()):[e,t]},s.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,a()):i.slice()},s.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[e,r[0]]:u>=n?[r[n-1],t]:[r[u-1],r[u]]},s.unknown=function(l){return arguments.length&&(o=l),s},s.thresholds=function(){return r.slice()},s.copy=function(){return DZ().domain([e,t]).range(i).unknown(o)},kl.apply(Jh(s),arguments)}function MZ(){var e=[.5],t=[0,1],n,r=1;function i(o){return o!=null&&o<=o?t[lf(e,o,0,r)]:n}return i.domain=function(o){return arguments.length?(e=Array.from(o),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(o){return arguments.length?(t=Array.from(o),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(o){var s=t.indexOf(o);return[e[s-1],e[s]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return MZ().domain(e).range(t).unknown(n)},kl.apply(i,arguments)}function lSe(e){return new Date(e)}function uSe(e){return e instanceof Date?+e:+new Date(+e)}function t6(e,t,n,r,i,o,s,a,l,u){var c=$Z(),f=c.invert,d=c.domain,h=u(".%L"),p=u(":%S"),g=u("%I:%M"),m=u("%I %p"),y=u("%a %d"),v=u("%b %d"),b=u("%B"),x=u("%Y");function w(C){return(l(C)<C?h:a(C)<C?p:s(C)<C?g:o(C)<C?m:r(C)<C?i(C)<C?y:v:n(C)<C?b:x)(C)}return c.invert=function(C){return new Date(f(C))},c.domain=function(C){return arguments.length?d(Array.from(C,uSe)):d().map(lSe)},c.ticks=function(C){var S=d();return e(S[0],S[S.length-1],C??10)},c.tickFormat=function(C,S){return S==null?w:u(S)},c.nice=function(C){var S=d();return(!C||typeof C.range!="function")&&(C=t(S[0],S[S.length-1],C??10)),C?d(FZ(S,C)):c},c.copy=function(){return Yb(c,t6(e,t,n,r,i,o,s,a,l,u))},c}function cSe(){return kl.apply(t6(Eve,Cve,ca,gm,Gh,ol,Vb,Bb,Zs,BD).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function fSe(){return kl.apply(t6(wve,Sve,fa,mm,Yh,du,Wb,Ub,Zs,UD).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function a_(){var e=0,t=1,n,r,i,o,s=Ji,a=!1,l;function u(f){return f==null||isNaN(f=+f)?l:s(i===0?.5:(f=(o(f)-n)*i,a?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,n=o(e=+e),r=o(t=+t),i=n===r?0:1/(r-n),u):[e,t]},u.clamp=function(f){return arguments.length?(a=!!f,u):a},u.interpolator=function(f){return arguments.length?(s=f,u):s};function c(f){return function(d){var h,p;return arguments.length?([h,p]=d,s=f(h,p),u):[s(0),s(1)]}}return u.range=c(Of),u.rangeRound=c(_0),u.unknown=function(f){return arguments.length?(l=f,u):l},function(f){return o=f,n=f(e),r=f(t),i=n===r?0:1/(r-n),u}}function Df(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function n6(){var e=Jh(a_()(Ji));return e.copy=function(){return Df(e,n6())},Rf.apply(e,arguments)}function NZ(){var e=QM(a_()).domain([1,10]);return e.copy=function(){return Df(e,NZ()).base(e.base())},Rf.apply(e,arguments)}function LZ(){var e=JM(a_());return e.copy=function(){return Df(e,LZ()).constant(e.constant())},Rf.apply(e,arguments)}function r6(){var e=ZM(a_());return e.copy=function(){return Df(e,r6()).exponent(e.exponent())},Rf.apply(e,arguments)}function dSe(){return r6.apply(null,arguments).exponent(.5)}function l_(){var e=0,t=.5,n=1,r=1,i,o,s,a,l,u=Ji,c,f=!1,d;function h(g){return isNaN(g=+g)?d:(g=.5+((g=+c(g))-o)*(r*g<r*o?a:l),u(f?Math.max(0,Math.min(1,g)):g))}h.domain=function(g){return arguments.length?([e,t,n]=g,i=c(e=+e),o=c(t=+t),s=c(n=+n),a=i===o?0:.5/(o-i),l=o===s?0:.5/(s-o),r=o<i?-1:1,h):[e,t,n]},h.clamp=function(g){return arguments.length?(f=!!g,h):f},h.interpolator=function(g){return arguments.length?(u=g,h):u};function p(g){return function(m){var y,v,b;return arguments.length?([y,v,b]=m,u=YM(g,[y,v,b]),h):[u(0),u(.5),u(1)]}}return h.range=p(Of),h.rangeRound=p(_0),h.unknown=function(g){return arguments.length?(d=g,h):d},function(g){return c=g,i=g(e),o=g(t),s=g(n),a=i===o?0:.5/(o-i),l=o===s?0:.5/(s-o),r=o<i?-1:1,h}}function IZ(){var e=Jh(l_()(Ji));return e.copy=function(){return Df(e,IZ())},Rf.apply(e,arguments)}function zZ(){var e=QM(l_()).domain([.1,1,10]);return e.copy=function(){return Df(e,zZ()).base(e.base())},Rf.apply(e,arguments)}function jZ(){var e=JM(l_());return e.copy=function(){return Df(e,jZ()).constant(e.constant())},Rf.apply(e,arguments)}function i6(){var e=ZM(l_());return e.copy=function(){return Df(e,i6()).exponent(e.exponent())},Rf.apply(e,arguments)}function hSe(){return i6.apply(null,arguments).exponent(.5)}function _l(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(r*6,++r*6);return n}const pSe=_l("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),gSe=_l("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),mSe=_l("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),ySe=_l("4269d0efb118ff725c6cc5b03ca951ff8ab7a463f297bbf59c6b4e9498a0"),vSe=_l("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),bSe=_l("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),xSe=_l("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),wSe=_l("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),SSe=_l("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),ESe=_l("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f");function o6(e,t,n){const r=e-t+n*2;return e?r>0?r:1:0}const CSe="identity",wm="linear",ku="log",Kb="pow",Qb="sqrt",u_="symlog",yh="time",vh="utc",ll="sequential",$0="diverging",Sm="quantile",c_="quantize",f_="threshold",s6="ordinal",SF="point",BZ="band",a6="bin-ordinal",sr="continuous",Jb="discrete",Zb="discretizing",As="interpolating",l6="temporal";function kSe(e){return function(t){let n=t[0],r=t[1],i;return r<n&&(i=n,n=r,r=i),[e.invert(n),e.invert(r)]}}function _Se(e){return function(t){const n=e.range();let r=t[0],i=t[1],o=-1,s,a,l,u;for(i<r&&(a=r,r=i,i=a),l=0,u=n.length;l<u;++l)n[l]>=r&&n[l]<=i&&(o<0&&(o=l),s=l);if(!(o<0))return r=e.invertExtent(n[o]),i=e.invertExtent(n[s]),[r[0]===void 0?r[1]:r[0],i[1]===void 0?i[0]:i[1]]}}function u6(){const e=WM().unknown(void 0),t=e.domain,n=e.range;let r=[0,1],i,o,s=!1,a=0,l=0,u=.5;delete e.unknown;function c(){const f=t().length,d=r[1]<r[0],h=r[1-d],p=o6(f,a,l);let g=r[d-0];i=(h-g)/(p||1),s&&(i=Math.floor(i)),g+=(h-g-i*(f-a))*u,o=i*(1-a),s&&(g=Math.round(g),o=Math.round(o));const m=_o(f).map(y=>g+i*y);return n(d?m.reverse():m)}return e.domain=function(f){return arguments.length?(t(f),c()):t()},e.range=function(f){return arguments.length?(r=[+f[0],+f[1]],c()):r.slice()},e.rangeRound=function(f){return r=[+f[0],+f[1]],s=!0,c()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(f){return arguments.length?(s=!!f,c()):s},e.padding=function(f){return arguments.length?(l=Math.max(0,Math.min(1,f)),a=l,c()):a},e.paddingInner=function(f){return arguments.length?(a=Math.max(0,Math.min(1,f)),c()):a},e.paddingOuter=function(f){return arguments.length?(l=Math.max(0,Math.min(1,f)),c()):l},e.align=function(f){return arguments.length?(u=Math.max(0,Math.min(1,f)),c()):u},e.invertRange=function(f){if(f[0]==null||f[1]==null)return;const d=r[1]<r[0],h=d?n().reverse():n(),p=h.length-1;let g=+f[0],m=+f[1],y,v,b;if(!(g!==g||m!==m)&&(m<g&&(b=g,g=m,m=b),!(m<h[0]||g>r[1-d])))return y=Math.max(0,lf(h,g)-1),v=g===m?y:lf(h,m)-1,g-h[y]>o+1e-10&&++y,d&&(b=y,y=p-v,v=p-b),y>v?void 0:t().slice(y,v+1)},e.invert=function(f){const d=e.invertRange([f,f]);return d&&d[0]},e.copy=function(){return u6().domain(t()).range(r).round(s).paddingInner(a).paddingOuter(l).align(u)},c()}function UZ(e){const t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,e.copy=function(){return UZ(t())},e}function $Se(){return UZ(u6().paddingInner(1))}var ASe=Array.prototype.map;function TSe(e){return ASe.call(e,ti)}const FSe=Array.prototype.slice;function VZ(){let e=[],t=[];function n(r){return r==null||r!==r?void 0:t[(lf(e,r)-1)%t.length]}return n.domain=function(r){return arguments.length?(e=TSe(r),n):e.slice()},n.range=function(r){return arguments.length?(t=FSe.call(r),n):t.slice()},n.tickFormat=function(r,i){return AZ(e[0],gt(e),r??10,i)},n.copy=function(){return VZ().domain(n.domain()).range(n.range())},n}const bE=new Map,WZ=Symbol("vega_scale");function HZ(e){return e[WZ]=!0,e}function RSe(e){return e&&e[WZ]===!0}function PSe(e,t,n){const r=function(){const o=t();return o.invertRange||(o.invertRange=o.invert?kSe(o):o.invertExtent?_Se(o):void 0),o.type=e,HZ(o)};return r.metadata=ua(xe(n)),r}function Ct(e,t,n){return arguments.length>1?(bE.set(e,PSe(e,t,n)),this):qZ(e)?bE.get(e):void 0}Ct(CSe,TZ);Ct(wm,KM,sr);Ct(ku,RZ,[sr,ku]);Ct(Kb,e6,sr);Ct(Qb,aSe,sr);Ct(u_,PZ,sr);Ct(yh,cSe,[sr,l6]);Ct(vh,fSe,[sr,l6]);Ct(ll,n6,[sr,As]);Ct(`${ll}-${wm}`,n6,[sr,As]);Ct(`${ll}-${ku}`,NZ,[sr,As,ku]);Ct(`${ll}-${Kb}`,r6,[sr,As]);Ct(`${ll}-${Qb}`,dSe,[sr,As]);Ct(`${ll}-${u_}`,LZ,[sr,As]);Ct(`${$0}-${wm}`,IZ,[sr,As]);Ct(`${$0}-${ku}`,zZ,[sr,As,ku]);Ct(`${$0}-${Kb}`,i6,[sr,As]);Ct(`${$0}-${Qb}`,hSe,[sr,As]);Ct(`${$0}-${u_}`,jZ,[sr,As]);Ct(Sm,OZ,[Zb,Sm]);Ct(c_,DZ,Zb);Ct(f_,MZ,Zb);Ct(a6,VZ,[Jb,Zb]);Ct(s6,WM,Jb);Ct(BZ,u6,Jb);Ct(SF,$Se,Jb);function qZ(e){return bE.has(e)}function Zh(e,t){const n=bE.get(e);return n&&n.metadata[t]}function c6(e){return Zh(e,sr)}function Em(e){return Zh(e,Jb)}function EF(e){return Zh(e,Zb)}function GZ(e){return Zh(e,ku)}function OSe(e){return Zh(e,l6)}function XZ(e){return Zh(e,As)}function YZ(e){return Zh(e,Sm)}const DSe=["clamp","base","constant","exponent"];function KZ(e,t){const n=t[0],r=gt(t)-n;return function(i){return e(n+i*r)}}function d_(e,t,n){return YM(f6(t||"rgb",n),e)}function QZ(e,t){const n=new Array(t),r=t+1;for(let i=0;i<t;)n[i]=e(++i/r);return n}function JZ(e,t,n){const r=n-t;let i,o,s;return!r||!Number.isFinite(r)?li(.5):(i=(o=e.type).indexOf("-"),o=i<0?o:o.slice(i+1),s=Ct(o)().domain([t,n]).range([0,1]),DSe.forEach(a=>e[a]?s[a](e[a]()):0),s)}function f6(e,t){const n=Y2e[MSe(e)];return t!=null&&n&&n.gamma?n.gamma(t):n}function MSe(e){return"interpolate"+e.toLowerCase().split("-").map(t=>t[0].toUpperCase()+t.slice(1)).join("")}const NSe={blues:"cfe1f2bed8eca8cee58fc1de74b2d75ba3cf4592c63181bd206fb2125ca40a4a90",greens:"d3eecdc0e6baabdda594d3917bc77d60ba6c46ab5e329a512089430e7735036429",greys:"e2e2e2d4d4d4c4c4c4b1b1b19d9d9d8888887575756262624d4d4d3535351e1e1e",oranges:"fdd8b3fdc998fdb87bfda55efc9244f87f2cf06b18e4580bd14904b93d029f3303",purples:"e2e1efd4d4e8c4c5e0b4b3d6a3a0cc928ec3827cb97566ae684ea25c3696501f8c",reds:"fdc9b4fcb49afc9e80fc8767fa7051f6573fec3f2fdc2a25c81b1db21218970b13",blueGreen:"d5efedc1e8e0a7ddd18bd2be70c6a958ba9144ad77319c5d2089460e7736036429",bluePurple:"ccddecbad0e4a8c2dd9ab0d4919cc98d85be8b6db28a55a6873c99822287730f71",greenBlue:"d3eecec5e8c3b1e1bb9bd8bb82cec269c2ca51b2cd3c9fc7288abd1675b10b60a1",orangeRed:"fddcaffdcf9bfdc18afdad77fb9562f67d53ee6545e24932d32d1ebf130da70403",purpleBlue:"dbdaebc8cee4b1c3de97b7d87bacd15b9fc93a90c01e7fb70b70ab056199045281",purpleBlueGreen:"dbd8eac8cee4b0c3de93b7d872acd1549fc83892bb1c88a3097f8702736b016353",purpleRed:"dcc9e2d3b3d7ce9eccd186c0da6bb2e14da0e23189d91e6fc61159ab07498f023a",redPurple:"fccfccfcbec0faa9b8f98faff571a5ec539ddb3695c41b8aa908808d0179700174",yellowGreen:"e4f4acd1eca0b9e2949ed68880c97c62bb6e47aa5e3297502083440e723b036034",yellowOrangeBrown:"feeaa1fedd84fecc63feb746fca031f68921eb7215db5e0bc54c05ab3d038f3204",yellowOrangeRed:"fee087fed16ffebd59fea849fd903efc7335f9522bee3423de1b20ca0b22af0225",blueOrange:"134b852f78b35da2cb9dcae1d2e5eff2f0ebfce0bafbbf74e8932fc5690d994a07",brownBlueGreen:"704108a0651ac79548e3c78af3e6c6eef1eac9e9e48ed1c74da79e187a72025147",purpleGreen:"5b1667834792a67fb6c9aed3e6d6e8eff0efd9efd5aedda971bb75368e490e5e29",purpleOrange:"4114696647968f83b7b9b4d6dadbebf3eeeafce0bafbbf74e8932fc5690d994a07",redBlue:"8c0d25bf363adf745ef4ae91fbdbc9f2efeed2e5ef9dcae15da2cb2f78b3134b85",redGrey:"8c0d25bf363adf745ef4ae91fcdccbfaf4f1e2e2e2c0c0c0969696646464343434",yellowGreenBlue:"eff9bddbf1b4bde5b594d5b969c5be45b4c22c9ec02182b82163aa23479c1c3185",redYellowBlue:"a50026d4322cf16e43fcac64fedd90faf8c1dcf1ecabd6e875abd04a74b4313695",redYellowGreen:"a50026d4322cf16e43fcac63fedd8df9f7aed7ee8ea4d86e64bc6122964f006837",pinkYellowGreen:"8e0152c0267edd72adf0b3d6faddedf5f3efe1f2cab6de8780bb474f9125276419",spectral:"9e0142d13c4bf0704afcac63fedd8dfbf8b0e0f3a1a9dda269bda94288b55e4fa2",viridis:"440154470e61481a6c482575472f7d443a834144873d4e8a39568c35608d31688e2d708e2a788e27818e23888e21918d1f988b1fa08822a8842ab07f35b77943bf7154c56866cc5d7ad1518fd744a5db36bcdf27d2e21be9e51afde725",magma:"0000040404130b0924150e3720114b2c11603b0f704a107957157e651a80721f817f24828c29819a2e80a8327db6377ac43c75d1426fde4968e95462f1605df76f5cfa7f5efc8f65fe9f6dfeaf78febf84fece91fddea0fcedaffcfdbf",inferno:"0000040403130c0826170c3b240c4f330a5f420a68500d6c5d126e6b176e781c6d86216b932667a12b62ae305cbb3755c73e4cd24644dd513ae65c30ed6925f3771af8850ffb9506fca50afcb519fac62df6d645f2e661f3f484fcffa4",plasma:"0d088723069033059742039d5002a25d01a66a00a87801a88405a7900da49c179ea72198b12a90ba3488c33d80cb4779d35171da5a69e16462e76e5bed7953f2834cf68f44fa9a3dfca636fdb32ffec029fcce25f9dc24f5ea27f0f921",cividis:"00205100235800265d002961012b65042e670831690d346b11366c16396d1c3c6e213f6e26426e2c456e31476e374a6e3c4d6e42506e47536d4c566d51586e555b6e5a5e6e5e616e62646f66676f6a6a706e6d717270717573727976737c79747f7c75827f758682768985778c8877908b78938e789691789a94789e9778a19b78a59e77a9a177aea575b2a874b6ab73bbaf71c0b26fc5b66dc9b96acebd68d3c065d8c462ddc85fe2cb5ce7cf58ebd355f0d652f3da4ff7de4cfae249fce647",rainbow:"6e40aa883eb1a43db3bf3cafd83fa4ee4395fe4b83ff576eff6659ff7847ff8c38f3a130e2b72fcfcc36bee044aff05b8ff4576ff65b52f6673af27828ea8d1ddfa319d0b81cbecb23abd82f96e03d82e14c6edb5a5dd0664dbf6e40aa",sinebow:"ff4040fc582af47218e78d0bd5a703bfbf00a7d5038de70b72f41858fc2a40ff402afc5818f4720be78d03d5a700bfbf03a7d50b8de71872f42a58fc4040ff582afc7218f48d0be7a703d5bf00bfd503a7e70b8df41872fc2a58ff4040",turbo:"23171b32204a3e2a71453493493eae4b49c54a53d7485ee44569ee4074f53c7ff8378af93295f72e9ff42ba9ef28b3e926bce125c5d925cdcf27d5c629dcbc2de3b232e9a738ee9d3ff39347f68950f9805afc7765fd6e70fe667cfd5e88fc5795fb51a1f84badf545b9f140c5ec3cd0e637dae034e4d931ecd12ef4c92bfac029ffb626ffad24ffa223ff9821ff8d1fff821dff771cfd6c1af76118f05616e84b14df4111d5380fcb2f0dc0260ab61f07ac1805a313029b0f00950c00910b00",browns:"eedbbdecca96e9b97ae4a865dc9856d18954c7784cc0673fb85536ad44339f3632",tealBlues:"bce4d89dd3d181c3cb65b3c245a2b9368fae347da0306a932c5985",teals:"bbdfdfa2d4d58ac9c975bcbb61b0af4da5a43799982b8b8c1e7f7f127273006667",warmGreys:"dcd4d0cec5c1c0b8b4b3aaa7a59c9998908c8b827f7e7673726866665c5a59504e",goldGreen:"f4d166d5ca60b6c35c98bb597cb25760a6564b9c533f8f4f33834a257740146c36",goldOrange:"f4d166f8be5cf8aa4cf5983bf3852aef701be2621fd65322c54923b142239e3a26",goldRed:"f4d166f6be59f9aa51fc964ef6834bee734ae56249db5247cf4244c43141b71d3e",lightGreyRed:"efe9e6e1dad7d5cbc8c8bdb9bbaea9cd967ddc7b43e15f19df4011dc000b",lightGreyTeal:"e4eaead6dcddc8ced2b7c2c7a6b4bc64b0bf22a6c32295c11f85be1876bc",lightMulti:"e0f1f2c4e9d0b0de9fd0e181f6e072f6c053f3993ef77440ef4a3c",lightOrange:"f2e7daf7d5baf9c499fab184fa9c73f68967ef7860e8645bde515bd43d5b",lightTealBlue:"e3e9e0c0dccf9aceca7abfc859afc0389fb9328dad2f7ca0276b95255988",darkBlue:"3232322d46681a5c930074af008cbf05a7ce25c0dd38daed50f3faffffff",darkGold:"3c3c3c584b37725e348c7631ae8b2bcfa424ecc31ef9de30fff184ffffff",darkGreen:"3a3a3a215748006f4d048942489e4276b340a6c63dd2d836ffeb2cffffaa",darkMulti:"3737371f5287197d8c29a86995ce3fffe800ffffff",darkRed:"3434347036339e3c38cc4037e75d1eec8620eeab29f0ce32ffeb2c"},LSe={accent:gSe,category10:pSe,category20:"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5",category20b:"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6",category20c:"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9",dark2:mSe,observable10:ySe,paired:vSe,pastel1:bSe,pastel2:xSe,set1:wSe,set2:SSe,set3:ESe,tableau10:"4c78a8f58518e4575672b7b254a24beeca3bb279a2ff9da69d755dbab0ac",tableau20:"4c78a89ecae9f58518ffbf7954a24b88d27ab79a20f2cf5b43989483bcb6e45756ff9d9879706ebab0acd67195fcbfd2b279a2d6a5c99e765fd8b5a5"};function ZZ(e){if(te(e))return e;const t=e.length/6|0,n=new Array(t);for(let r=0;r<t;)n[r]="#"+e.slice(r*6,++r*6);return n}function eee(e,t){for(const n in e)d6(n,t(e[n]))}const aj={};eee(LSe,ZZ);eee(NSe,e=>d_(ZZ(e)));function d6(e,t){return e=e&&e.toLowerCase(),arguments.length>1?(aj[e]=t,this):aj[e]}const K2="symbol",ISe="discrete",zSe="gradient",jSe=e=>te(e)?e.map(t=>String(t)):String(e),BSe=(e,t)=>e[1]-t[1],USe=(e,t)=>t[1]-e[1];function h6(e,t,n){let r;return St(t)&&(e.bins&&(t=Math.max(t,e.bins.length)),n!=null&&(t=Math.min(t,Math.floor(zb(e.domain())/n||1)+1))),ve(t)&&(r=t.step,t=t.interval),we(t)&&(t=e.type===yh?S0(t):e.type==vh?E0(t):ee("Only time and utc scales accept interval strings."),r&&(t=t.every(r))),t}function tee(e,t,n){let r=e.range(),i=r[0],o=gt(r),s=BSe;if(i>o&&(r=o,o=i,i=r,s=USe),i=Math.floor(i),o=Math.ceil(o),t=t.map(a=>[a,e(a)]).filter(a=>i<=a[1]&&a[1]<=o).sort(s).map(a=>a[0]),n>0&&t.length>1){const a=[t[0],gt(t)];for(;t.length>n&&t.length>=3;)t=t.filter((l,u)=>!(u%2));t.length<3&&(t=a)}return t}function p6(e,t){return e.bins?tee(e,e.bins,t):e.ticks?e.ticks(t):e.domain()}function nee(e,t,n,r,i,o){const s=t.type;let a=jSe;if(s===yh||i===yh)a=e.timeFormat(r);else if(s===vh||i===vh)a=e.utcFormat(r);else if(GZ(s)){const l=e.formatFloat(r);if(o||t.bins)a=l;else{const u=ree(t,n,!1);a=c=>u(c)?l(c):""}}else if(t.tickFormat){const l=t.domain();a=e.formatSpan(l[0],l[l.length-1],n,r)}else r&&(a=e.format(r));return a}function ree(e,t,n){const r=p6(e,t),i=e.base(),o=Math.log(i),s=Math.max(1,i*t/r.length),a=l=>{let u=l/Math.pow(i,Math.round(Math.log(l)/o));return u*i<i-.5&&(u*=i),u<=s};return n?r.filter(a):a}const CF={[Sm]:"quantiles",[c_]:"thresholds",[f_]:"domain"},iee={[Sm]:"quantiles",[c_]:"domain"};function oee(e,t){return e.bins?HSe(e.bins):e.type===ku?ree(e,t,!0):CF[e.type]?WSe(e[CF[e.type]]()):p6(e,t)}function VSe(e,t,n){const r=t[iee[t.type]](),i=r.length;let o=i>1?r[1]-r[0]:r[0],s;for(s=1;s<i;++s)o=Math.min(o,r[s]-r[s-1]);return e.formatSpan(0,o,3*10,n)}function WSe(e){const t=[-1/0].concat(e);return t.max=1/0,t}function HSe(e){const t=e.slice(0,-1);return t.max=gt(e),t}const qSe=e=>CF[e.type]||e.bins;function see(e,t,n,r,i,o,s){const a=iee[t.type]&&o!==yh&&o!==vh?VSe(e,t,i):nee(e,t,n,i,o,s);return r===K2&&qSe(t)?GSe(a):r===ISe?XSe(a):YSe(a)}const GSe=e=>(t,n,r)=>{const i=lj(r[n+1],lj(r.max,1/0)),o=uj(t,e),s=uj(i,e);return o&&s?o+" – "+s:s?"< "+s:"≥ "+o},lj=(e,t)=>e??t,XSe=e=>(t,n)=>n?e(t):null,YSe=e=>t=>e(t),uj=(e,t)=>Number.isFinite(e)?t(e):null;function KSe(e){const t=e.domain(),n=t.length-1;let r=+t[0],i=+gt(t),o=i-r;if(e.type===f_){const s=n?o/n:.1;r-=s,i+=s,o=i-r}return s=>(s-r)/o}function QSe(e,t,n,r){const i=r||t.type;return we(n)&&OSe(i)&&(n=n.replace(/%a/g,"%A").replace(/%b/g,"%B")),!n&&i===yh?e.timeFormat("%A, %d %B %Y, %X"):!n&&i===vh?e.utcFormat("%A, %d %B %Y, %X UTC"):see(e,t,5,null,n,r,!0)}function aee(e,t,n){n=n||{};const r=Math.max(3,n.maxlen||7),i=QSe(e,t,n.format,n.formatType);if(EF(t.type)){const o=oee(t).slice(1).map(i),s=o.length;return`${s} boundar${s===1?"y":"ies"}: ${o.join(", ")}`}else if(Em(t.type)){const o=t.domain(),s=o.length,a=s>r?o.slice(0,r-2).map(i).join(", ")+", ending with "+o.slice(-1).map(i):o.map(i).join(", ");return`${s} value${s===1?"":"s"}: ${a}`}else{const o=t.domain();return`values from ${i(o[0])} to ${i(gt(o))}`}}let lee=0;function JSe(){lee=0}const xE="p_";function g6(e){return e&&e.gradient}function uee(e,t,n){const r=e.gradient;let i=e.id,o=r==="radial"?xE:"";return i||(i=e.id="gradient_"+lee++,r==="radial"?(e.x1=Ra(e.x1,.5),e.y1=Ra(e.y1,.5),e.r1=Ra(e.r1,0),e.x2=Ra(e.x2,.5),e.y2=Ra(e.y2,.5),e.r2=Ra(e.r2,.5),o=xE):(e.x1=Ra(e.x1,0),e.y1=Ra(e.y1,0),e.x2=Ra(e.x2,1),e.y2=Ra(e.y2,0))),t[i]=e,"url("+(n||"")+"#"+o+i+")"}function Ra(e,t){return e??t}function cee(e,t){var n=[],r;return r={gradient:"linear",x1:e?e[0]:0,y1:e?e[1]:0,x2:t?t[0]:1,y2:t?t[1]:0,stops:n,stop:function(i,o){return n.push({offset:i,color:o}),r}}}const cj={basis:{curve:e2e},"basis-closed":{curve:t2e},"basis-open":{curve:n2e},bundle:{curve:r2e,tension:"beta",value:.85},cardinal:{curve:i2e,tension:"tension",value:0},"cardinal-open":{curve:s2e,tension:"tension",value:0},"cardinal-closed":{curve:o2e,tension:"tension",value:0},"catmull-rom":{curve:a2e,tension:"alpha",value:.5},"catmull-rom-closed":{curve:l2e,tension:"alpha",value:.5},"catmull-rom-open":{curve:u2e,tension:"alpha",value:.5},linear:{curve:zM},"linear-closed":{curve:c2e},monotone:{horizontal:d2e,vertical:f2e},natural:{curve:h2e},step:{curve:p2e},"step-after":{curve:m2e},"step-before":{curve:g2e}};function m6(e,t,n){var r=Se(cj,e)&&cj[e],i=null;return r&&(i=r.curve||r[t||"vertical"],r.tension&&n!=null&&(i=i[r.tension](n))),i}const ZSe={m:2,l:2,h:1,v:1,z:0,c:6,s:4,q:4,t:2,a:7},eEe=/[mlhvzcsqta]([^mlhvzcsqta]+|$)/gi,tEe=/^[+-]?(([0-9]*\.[0-9]+)|([0-9]+\.)|([0-9]+))([eE][+-]?[0-9]+)?/,nEe=/^((\s+,?\s*)|(,\s*))/,rEe=/^[01]/;function Cm(e){const t=[];return(e.match(eEe)||[]).forEach(r=>{let i=r[0];const o=i.toLowerCase(),s=ZSe[o],a=iEe(o,s,r.slice(1).trim()),l=a.length;if(l<s||l&&l%s!==0)throw Error("Invalid SVG path, incorrect parameter count");if(t.push([i,...a.slice(0,s)]),l!==s){o==="m"&&(i=i==="M"?"L":"l");for(let u=s;u<l;u+=s)t.push([i,...a.slice(u,u+s)])}}),t}function iEe(e,t,n){const r=[];for(let i=0;t&&i<n.length;)for(let o=0;o<t;++o){const s=e==="a"&&(o===3||o===4)?rEe:tEe,a=n.slice(i).match(s);if(a===null)throw Error("Invalid SVG path, incorrect parameter type");i+=a[0].length,r.push(+a[0]);const l=n.slice(i).match(nEe);l!==null&&(i+=l[0].length)}return r}const hf=Math.PI/180,oEe=1e-14,_d=Math.PI/2,Ka=Math.PI*2,Op=Math.sqrt(3)/2;var mT={},yT={},fee=[].join;function sEe(e,t,n,r,i,o,s,a,l){const u=fee.call(arguments);if(mT[u])return mT[u];const c=s*hf,f=Math.sin(c),d=Math.cos(c);n=Math.abs(n),r=Math.abs(r);const h=d*(a-e)*.5+f*(l-t)*.5,p=d*(l-t)*.5-f*(a-e)*.5;let g=h*h/(n*n)+p*p/(r*r);g>1&&(g=Math.sqrt(g),n*=g,r*=g);const m=d/n,y=f/n,v=-f/r,b=d/r,x=m*a+y*l,w=v*a+b*l,C=m*e+y*t,S=v*e+b*t;let $=1/((C-x)*(C-x)+(S-w)*(S-w))-.25;$<0&&($=0);let R=Math.sqrt($);o==i&&(R=-R);const O=.5*(x+C)-R*(S-w),B=.5*(w+S)+R*(C-x),D=Math.atan2(w-B,x-O);let A=Math.atan2(S-B,C-O)-D;A<0&&o===1?A+=Ka:A>0&&o===0&&(A-=Ka);const P=Math.ceil(Math.abs(A/(_d+.001))),j=[];for(let z=0;z<P;++z){const U=D+z*A/P,X=D+(z+1)*A/P;j[z]=[O,B,U,X,n,r,f,d]}return mT[u]=j}function aEe(e){const t=fee.call(e);if(yT[t])return yT[t];var n=e[0],r=e[1],i=e[2],o=e[3],s=e[4],a=e[5],l=e[6],u=e[7];const c=u*s,f=-l*a,d=l*s,h=u*a,p=Math.cos(i),g=Math.sin(i),m=Math.cos(o),y=Math.sin(o),v=.5*(o-i),b=Math.sin(v*.5),x=8/3*b*b/Math.sin(v),w=n+p-x*g,C=r+g+x*p,S=n+m,k=r+y,$=S+x*y,R=k-x*m;return yT[t]=[c*w+f*C,d*w+h*C,c*$+f*R,d*$+h*R,c*S+f*k,d*S+h*k]}const Yo=["l",0,0,0,0,0,0,0];function lEe(e,t,n){const r=Yo[0]=e[0];if(r==="a"||r==="A")Yo[1]=t*e[1],Yo[2]=n*e[2],Yo[3]=e[3],Yo[4]=e[4],Yo[5]=e[5],Yo[6]=t*e[6],Yo[7]=n*e[7];else if(r==="h"||r==="H")Yo[1]=t*e[1];else if(r==="v"||r==="V")Yo[1]=n*e[1];else for(var i=1,o=e.length;i<o;++i)Yo[i]=(i%2==1?t:n)*e[i];return Yo}function Av(e,t,n,r,i,o){var s,a=null,l=0,u=0,c=0,f=0,d,h,p,g,m=0,y=0;n==null&&(n=0),r==null&&(r=0),i==null&&(i=1),o==null&&(o=i),e.beginPath&&e.beginPath();for(var v=0,b=t.length;v<b;++v){switch(s=t[v],(i!==1||o!==1)&&(s=lEe(s,i,o)),s[0]){case"l":l+=s[1],u+=s[2],e.lineTo(l+n,u+r);break;case"L":l=s[1],u=s[2],e.lineTo(l+n,u+r);break;case"h":l+=s[1],e.lineTo(l+n,u+r);break;case"H":l=s[1],e.lineTo(l+n,u+r);break;case"v":u+=s[1],e.lineTo(l+n,u+r);break;case"V":u=s[1],e.lineTo(l+n,u+r);break;case"m":l+=s[1],u+=s[2],m=l,y=u,e.moveTo(l+n,u+r);break;case"M":l=s[1],u=s[2],m=l,y=u,e.moveTo(l+n,u+r);break;case"c":d=l+s[5],h=u+s[6],c=l+s[3],f=u+s[4],e.bezierCurveTo(l+s[1]+n,u+s[2]+r,c+n,f+r,d+n,h+r),l=d,u=h;break;case"C":l=s[5],u=s[6],c=s[3],f=s[4],e.bezierCurveTo(s[1]+n,s[2]+r,c+n,f+r,l+n,u+r);break;case"s":d=l+s[3],h=u+s[4],c=2*l-c,f=2*u-f,e.bezierCurveTo(c+n,f+r,l+s[1]+n,u+s[2]+r,d+n,h+r),c=l+s[1],f=u+s[2],l=d,u=h;break;case"S":d=s[3],h=s[4],c=2*l-c,f=2*u-f,e.bezierCurveTo(c+n,f+r,s[1]+n,s[2]+r,d+n,h+r),l=d,u=h,c=s[1],f=s[2];break;case"q":d=l+s[3],h=u+s[4],c=l+s[1],f=u+s[2],e.quadraticCurveTo(c+n,f+r,d+n,h+r),l=d,u=h;break;case"Q":d=s[3],h=s[4],e.quadraticCurveTo(s[1]+n,s[2]+r,d+n,h+r),l=d,u=h,c=s[1],f=s[2];break;case"t":d=l+s[1],h=u+s[2],a[0].match(/[QqTt]/)===null?(c=l,f=u):a[0]==="t"?(c=2*l-p,f=2*u-g):a[0]==="q"&&(c=2*l-c,f=2*u-f),p=c,g=f,e.quadraticCurveTo(c+n,f+r,d+n,h+r),l=d,u=h,c=l+s[1],f=u+s[2];break;case"T":d=s[1],h=s[2],c=2*l-c,f=2*u-f,e.quadraticCurveTo(c+n,f+r,d+n,h+r),l=d,u=h;break;case"a":fj(e,l+n,u+r,[s[1],s[2],s[3],s[4],s[5],s[6]+l+n,s[7]+u+r]),l+=s[6],u+=s[7];break;case"A":fj(e,l+n,u+r,[s[1],s[2],s[3],s[4],s[5],s[6]+n,s[7]+r]),l=s[6],u=s[7];break;case"z":case"Z":l=m,u=y,e.closePath();break}a=s}}function fj(e,t,n,r){const i=sEe(r[5],r[6],r[0],r[1],r[3],r[4],r[2],t,n);for(let o=0;o<i.length;++o){const s=aEe(i[o]);e.bezierCurveTo(s[0],s[1],s[2],s[3],s[4],s[5])}}const dj=.5773502691896257,hj={circle:{draw:function(e,t){const n=Math.sqrt(t)/2;e.moveTo(n,0),e.arc(0,0,n,0,Ka)}},cross:{draw:function(e,t){var n=Math.sqrt(t)/2,r=n/2.5;e.moveTo(-n,-r),e.lineTo(-n,r),e.lineTo(-r,r),e.lineTo(-r,n),e.lineTo(r,n),e.lineTo(r,r),e.lineTo(n,r),e.lineTo(n,-r),e.lineTo(r,-r),e.lineTo(r,-n),e.lineTo(-r,-n),e.lineTo(-r,-r),e.closePath()}},diamond:{draw:function(e,t){const n=Math.sqrt(t)/2;e.moveTo(-n,0),e.lineTo(0,-n),e.lineTo(n,0),e.lineTo(0,n),e.closePath()}},square:{draw:function(e,t){var n=Math.sqrt(t),r=-n/2;e.rect(r,r,n,n)}},arrow:{draw:function(e,t){var n=Math.sqrt(t)/2,r=n/7,i=n/2.5,o=n/8;e.moveTo(-r,n),e.lineTo(r,n),e.lineTo(r,-o),e.lineTo(i,-o),e.lineTo(0,-n),e.lineTo(-i,-o),e.lineTo(-r,-o),e.closePath()}},wedge:{draw:function(e,t){var n=Math.sqrt(t)/2,r=Op*n,i=r-n*dj,o=n/4;e.moveTo(0,-r-i),e.lineTo(-o,r-i),e.lineTo(o,r-i),e.closePath()}},triangle:{draw:function(e,t){var n=Math.sqrt(t)/2,r=Op*n,i=r-n*dj;e.moveTo(0,-r-i),e.lineTo(-n,r-i),e.lineTo(n,r-i),e.closePath()}},"triangle-up":{draw:function(e,t){var n=Math.sqrt(t)/2,r=Op*n;e.moveTo(0,-r),e.lineTo(-n,r),e.lineTo(n,r),e.closePath()}},"triangle-down":{draw:function(e,t){var n=Math.sqrt(t)/2,r=Op*n;e.moveTo(0,r),e.lineTo(-n,-r),e.lineTo(n,-r),e.closePath()}},"triangle-right":{draw:function(e,t){var n=Math.sqrt(t)/2,r=Op*n;e.moveTo(r,0),e.lineTo(-r,-n),e.lineTo(-r,n),e.closePath()}},"triangle-left":{draw:function(e,t){var n=Math.sqrt(t)/2,r=Op*n;e.moveTo(-r,0),e.lineTo(r,-n),e.lineTo(r,n),e.closePath()}},stroke:{draw:function(e,t){const n=Math.sqrt(t)/2;e.moveTo(-n,0),e.lineTo(n,0)}}};function dee(e){return Se(hj,e)?hj[e]:uEe(e)}var vT={};function uEe(e){if(!Se(vT,e)){const t=Cm(e);vT[e]={draw:function(n,r){Av(n,t,0,0,Math.sqrt(r)/2)}}}return vT[e]}const ic=.448084975506;function cEe(e){return e.x}function fEe(e){return e.y}function dEe(e){return e.width}function hEe(e){return e.height}function Bl(e){return typeof e=="function"?e:()=>+e}function Tw(e,t,n){return Math.max(t,Math.min(e,n))}function hee(){var e=cEe,t=fEe,n=dEe,r=hEe,i=Bl(0),o=i,s=i,a=i,l=null;function u(c,f,d){var h,p=f??+e.call(this,c),g=d??+t.call(this,c),m=+n.call(this,c),y=+r.call(this,c),v=Math.min(m,y)/2,b=Tw(+i.call(this,c),0,v),x=Tw(+o.call(this,c),0,v),w=Tw(+s.call(this,c),0,v),C=Tw(+a.call(this,c),0,v);if(l||(l=h=Zk()),b<=0&&x<=0&&w<=0&&C<=0)l.rect(p,g,m,y);else{var S=p+m,k=g+y;l.moveTo(p+b,g),l.lineTo(S-x,g),l.bezierCurveTo(S-ic*x,g,S,g+ic*x,S,g+x),l.lineTo(S,k-C),l.bezierCurveTo(S,k-ic*C,S-ic*C,k,S-C,k),l.lineTo(p+w,k),l.bezierCurveTo(p+ic*w,k,p,k-ic*w,p,k-w),l.lineTo(p,g+b),l.bezierCurveTo(p,g+ic*b,p+ic*b,g,p+b,g),l.closePath()}if(h)return l=null,h+""||null}return u.x=function(c){return arguments.length?(e=Bl(c),u):e},u.y=function(c){return arguments.length?(t=Bl(c),u):t},u.width=function(c){return arguments.length?(n=Bl(c),u):n},u.height=function(c){return arguments.length?(r=Bl(c),u):r},u.cornerRadius=function(c,f,d,h){return arguments.length?(i=Bl(c),o=f!=null?Bl(f):i,a=d!=null?Bl(d):i,s=h!=null?Bl(h):o,u):i},u.context=function(c){return arguments.length?(l=c??null,u):l},u}function pee(){var e,t,n,r,i=null,o,s,a,l;function u(f,d,h){const p=h/2;if(o){var g=a-d,m=f-s;if(g||m){var y=Math.hypot(g,m),v=(g/=y)*l,b=(m/=y)*l,x=Math.atan2(m,g);i.moveTo(s-v,a-b),i.lineTo(f-g*p,d-m*p),i.arc(f,d,p,x-Math.PI,x),i.lineTo(s+v,a+b),i.arc(s,a,l,x,x+Math.PI)}else i.arc(f,d,p,0,Ka);i.closePath()}else o=1;s=f,a=d,l=p}function c(f){var d,h=f.length,p,g=!1,m;for(i==null&&(i=m=Zk()),d=0;d<=h;++d)!(d<h&&r(p=f[d],d,f))===g&&(g=!g)&&(o=0),g&&u(+e(p,d,f),+t(p,d,f),+n(p,d,f));if(m)return i=null,m+""||null}return c.x=function(f){return arguments.length?(e=f,c):e},c.y=function(f){return arguments.length?(t=f,c):t},c.size=function(f){return arguments.length?(n=f,c):n},c.defined=function(f){return arguments.length?(r=f,c):r},c.context=function(f){return arguments.length?(f==null?i=null:i=f,c):i},c}function ex(e,t){return e??t}const tx=e=>e.x||0,nx=e=>e.y||0,pEe=e=>e.width||0,gEe=e=>e.height||0,mEe=e=>(e.x||0)+(e.width||0),yEe=e=>(e.y||0)+(e.height||0),vEe=e=>e.startAngle||0,bEe=e=>e.endAngle||0,xEe=e=>e.padAngle||0,wEe=e=>e.innerRadius||0,SEe=e=>e.outerRadius||0,EEe=e=>e.cornerRadius||0,CEe=e=>ex(e.cornerRadiusTopLeft,e.cornerRadius)||0,kEe=e=>ex(e.cornerRadiusTopRight,e.cornerRadius)||0,_Ee=e=>ex(e.cornerRadiusBottomRight,e.cornerRadius)||0,$Ee=e=>ex(e.cornerRadiusBottomLeft,e.cornerRadius)||0,AEe=e=>ex(e.size,64),TEe=e=>e.size||1,h_=e=>e.defined!==!1,FEe=e=>dee(e.shape||"circle"),REe=Qwe().startAngle(vEe).endAngle(bEe).padAngle(xEe).innerRadius(wEe).outerRadius(SEe).cornerRadius(EEe),PEe=LJ().x(tx).y1(nx).y0(yEe).defined(h_),OEe=LJ().y(nx).x1(tx).x0(mEe).defined(h_),DEe=NJ().x(tx).y(nx).defined(h_),MEe=hee().x(tx).y(nx).width(pEe).height(gEe).cornerRadius(CEe,kEe,_Ee,$Ee),NEe=Zwe().type(FEe).size(AEe),LEe=pee().x(tx).y(nx).defined(h_).size(TEe);function y6(e){return e.cornerRadius||e.cornerRadiusTopLeft||e.cornerRadiusTopRight||e.cornerRadiusBottomRight||e.cornerRadiusBottomLeft}function IEe(e,t){return REe.context(e)(t)}function zEe(e,t){const n=t[0],r=n.interpolate||"linear";return(n.orient==="horizontal"?OEe:PEe).curve(m6(r,n.orient,n.tension)).context(e)(t)}function jEe(e,t){const n=t[0],r=n.interpolate||"linear";return DEe.curve(m6(r,n.orient,n.tension)).context(e)(t)}function A0(e,t,n,r){return MEe.context(e)(t,n,r)}function BEe(e,t){return(t.mark.shape||t.shape).context(e)(t)}function UEe(e,t){return NEe.context(e)(t)}function VEe(e,t){return LEe.context(e)(t)}var gee=1;function mee(){gee=1}function v6(e,t,n){var r=t.clip,i=e._defs,o=t.clip_id||(t.clip_id="clip"+gee++),s=i.clipping[o]||(i.clipping[o]={id:o});return et(r)?s.path=r(null):y6(n)?s.path=A0(null,n,0,0):(s.width=n.width||0,s.height=n.height||0),"url(#"+o+")"}function Gn(e){this.clear(),e&&this.union(e)}Gn.prototype={clone(){return new Gn(this)},clear(){return this.x1=+Number.MAX_VALUE,this.y1=+Number.MAX_VALUE,this.x2=-Number.MAX_VALUE,this.y2=-Number.MAX_VALUE,this},empty(){return this.x1===+Number.MAX_VALUE&&this.y1===+Number.MAX_VALUE&&this.x2===-Number.MAX_VALUE&&this.y2===-Number.MAX_VALUE},equals(e){return this.x1===e.x1&&this.y1===e.y1&&this.x2===e.x2&&this.y2===e.y2},set(e,t,n,r){return n<e?(this.x2=e,this.x1=n):(this.x1=e,this.x2=n),r<t?(this.y2=t,this.y1=r):(this.y1=t,this.y2=r),this},add(e,t){return e<this.x1&&(this.x1=e),t<this.y1&&(this.y1=t),e>this.x2&&(this.x2=e),t>this.y2&&(this.y2=t),this},expand(e){return this.x1-=e,this.y1-=e,this.x2+=e,this.y2+=e,this},round(){return this.x1=Math.floor(this.x1),this.y1=Math.floor(this.y1),this.x2=Math.ceil(this.x2),this.y2=Math.ceil(this.y2),this},scale(e){return this.x1*=e,this.y1*=e,this.x2*=e,this.y2*=e,this},translate(e,t){return this.x1+=e,this.x2+=e,this.y1+=t,this.y2+=t,this},rotate(e,t,n){const r=this.rotatedPoints(e,t,n);return this.clear().add(r[0],r[1]).add(r[2],r[3]).add(r[4],r[5]).add(r[6],r[7])},rotatedPoints(e,t,n){var{x1:r,y1:i,x2:o,y2:s}=this,a=Math.cos(e),l=Math.sin(e),u=t-t*a+n*l,c=n-t*l-n*a;return[a*r-l*i+u,l*r+a*i+c,a*r-l*s+u,l*r+a*s+c,a*o-l*i+u,l*o+a*i+c,a*o-l*s+u,l*o+a*s+c]},union(e){return e.x1<this.x1&&(this.x1=e.x1),e.y1<this.y1&&(this.y1=e.y1),e.x2>this.x2&&(this.x2=e.x2),e.y2>this.y2&&(this.y2=e.y2),this},intersect(e){return e.x1>this.x1&&(this.x1=e.x1),e.y1>this.y1&&(this.y1=e.y1),e.x2<this.x2&&(this.x2=e.x2),e.y2<this.y2&&(this.y2=e.y2),this},encloses(e){return e&&this.x1<=e.x1&&this.x2>=e.x2&&this.y1<=e.y1&&this.y2>=e.y2},alignsWith(e){return e&&(this.x1==e.x1||this.x2==e.x2||this.y1==e.y1||this.y2==e.y2)},intersects(e){return e&&!(this.x2<e.x1||this.x1>e.x2||this.y2<e.y1||this.y1>e.y2)},contains(e,t){return!(e<this.x1||e>this.x2||t<this.y1||t>this.y2)},width(){return this.x2-this.x1},height(){return this.y2-this.y1}};function p_(e){this.mark=e,this.bounds=this.bounds||new Gn}function g_(e){p_.call(this,e),this.items=this.items||[]}he(g_,p_);class yee{constructor(t){this._pending=0,this._loader=t||Bk()}pending(){return this._pending}sanitizeURL(t){const n=this;return pj(n),n._loader.sanitize(t,{context:"href"}).then(r=>(vy(n),r)).catch(()=>(vy(n),null))}loadImage(t){const n=this,r=y2e();return pj(n),n._loader.sanitize(t,{context:"image"}).then(i=>{const o=i.href;if(!o||!r)throw{url:o};const s=new r,a=Se(i,"crossOrigin")?i.crossOrigin:"anonymous";return a!=null&&(s.crossOrigin=a),s.onload=()=>vy(n),s.onerror=()=>vy(n),s.src=o,s}).catch(i=>(vy(n),{complete:!1,width:0,height:0,src:i&&i.url||""}))}ready(){const t=this;return new Promise(n=>{function r(i){t.pending()?setTimeout(()=>{r(!0)},10):n(i)}r(!1)})}}function pj(e){e._pending+=1}function vy(e){e._pending-=1}function Mu(e,t,n){if(t.stroke&&t.opacity!==0&&t.strokeOpacity!==0){const r=t.strokeWidth!=null?+t.strokeWidth:1;e.expand(r+(n?WEe(t,r):0))}return e}function WEe(e,t){return e.strokeJoin&&e.strokeJoin!=="miter"?0:t}const HEe=Ka-1e-8;let m_,Q2,J2,Md,kF,Z2,_F,$F;const Dc=(e,t)=>m_.add(e,t),eS=(e,t)=>Dc(Q2=e,J2=t),gj=e=>Dc(e,m_.y1),mj=e=>Dc(m_.x1,e),$d=(e,t)=>kF*e+_F*t,Ad=(e,t)=>Z2*e+$F*t,bT=(e,t)=>Dc($d(e,t),Ad(e,t)),xT=(e,t)=>eS($d(e,t),Ad(e,t));function rx(e,t){return m_=e,t?(Md=t*hf,kF=$F=Math.cos(Md),Z2=Math.sin(Md),_F=-Z2):(kF=$F=1,Md=Z2=_F=0),qEe}const qEe={beginPath(){},closePath(){},moveTo:xT,lineTo:xT,rect(e,t,n,r){Md?(bT(e+n,t),bT(e+n,t+r),bT(e,t+r),xT(e,t)):(Dc(e+n,t+r),eS(e,t))},quadraticCurveTo(e,t,n,r){const i=$d(e,t),o=Ad(e,t),s=$d(n,r),a=Ad(n,r);yj(Q2,i,s,gj),yj(J2,o,a,mj),eS(s,a)},bezierCurveTo(e,t,n,r,i,o){const s=$d(e,t),a=Ad(e,t),l=$d(n,r),u=Ad(n,r),c=$d(i,o),f=Ad(i,o);vj(Q2,s,l,c,gj),vj(J2,a,u,f,mj),eS(c,f)},arc(e,t,n,r,i,o){if(r+=Md,i+=Md,Q2=n*Math.cos(i)+e,J2=n*Math.sin(i)+t,Math.abs(i-r)>HEe)Dc(e-n,t-n),Dc(e+n,t+n);else{const s=u=>Dc(n*Math.cos(u)+e,n*Math.sin(u)+t);let a,l;if(s(r),s(i),i!==r)if(r=r%Ka,r<0&&(r+=Ka),i=i%Ka,i<0&&(i+=Ka),i<r&&(o=!o,a=r,r=i,i=a),o)for(i-=Ka,a=r-r%_d,l=0;l<4&&a>i;++l,a-=_d)s(a);else for(a=r-r%_d+_d,l=0;l<4&&a<i;++l,a=a+_d)s(a)}}};function yj(e,t,n,r){const i=(e-t)/(e+n-2*t);0<i&&i<1&&r(e+(t-e)*i)}function vj(e,t,n,r,i){const o=r-e+3*t-3*n,s=e+n-2*t,a=e-t;let l=0,u=0,c;Math.abs(o)>oEe?(c=s*s+a*o,c>=0&&(c=Math.sqrt(c),l=(-s+c)/o,u=(-s-c)/o)):l=.5*a/s,0<l&&l<1&&i(bj(l,e,t,n,r)),0<u&&u<1&&i(bj(u,e,t,n,r))}function bj(e,t,n,r,i){const o=1-e,s=o*o,a=e*e;return s*o*t+3*s*e*n+3*o*a*r+a*e*i}var Yc=(Yc=Xc(1,1))?Yc.getContext("2d"):null;const AF=new Gn;function b6(e){return function(t,n){if(!Yc)return!0;e(Yc,t),AF.clear().union(t.bounds).intersect(n).round();const{x1:r,y1:i,x2:o,y2:s}=AF;for(let a=i;a<=s;++a)for(let l=r;l<=o;++l)if(Yc.isPointInPath(l,a))return!0;return!1}}function x6(e,t){return t.contains(e.x||0,e.y||0)}function vee(e,t){const n=e.x||0,r=e.y||0,i=e.width||0,o=e.height||0;return t.intersects(AF.set(n,r,n+i,r+o))}function bee(e,t){const n=e.x||0,r=e.y||0,i=e.x2!=null?e.x2:n,o=e.y2!=null?e.y2:r;return tg(t,n,r,i,o)}function tg(e,t,n,r,i){const{x1:o,y1:s,x2:a,y2:l}=e,u=r-t,c=i-n;let f=0,d=1,h,p,g,m;for(m=0;m<4;++m){if(m===0&&(h=-u,p=-(o-t)),m===1&&(h=u,p=a-t),m===2&&(h=-c,p=-(s-n)),m===3&&(h=c,p=l-n),Math.abs(h)<1e-10&&p<0)return!1;if(g=p/h,h<0){if(g>d)return!1;g>f&&(f=g)}else if(h>0){if(g<f)return!1;g<d&&(d=g)}}return!0}function km(e,t){e.globalCompositeOperation=t.blend||"source-over"}function Is(e,t){return e??t}function xj(e,t){const n=t.length;for(let r=0;r<n;++r)e.addColorStop(t[r].offset,t[r].color);return e}function GEe(e,t,n){const r=n.width(),i=n.height();let o;if(t.gradient==="radial")o=e.createRadialGradient(n.x1+Is(t.x1,.5)*r,n.y1+Is(t.y1,.5)*i,Math.max(r,i)*Is(t.r1,0),n.x1+Is(t.x2,.5)*r,n.y1+Is(t.y2,.5)*i,Math.max(r,i)*Is(t.r2,.5));else{const s=Is(t.x1,0),a=Is(t.y1,0),l=Is(t.x2,1),u=Is(t.y2,0);if(s===l||a===u||r===i)o=e.createLinearGradient(n.x1+s*r,n.y1+a*i,n.x1+l*r,n.y1+u*i);else{const c=Xc(Math.ceil(r),Math.ceil(i)),f=c.getContext("2d");return f.scale(r,i),f.fillStyle=xj(f.createLinearGradient(s,a,l,u),t.stops),f.fillRect(0,0,r,i),e.createPattern(c,"no-repeat")}}return xj(o,t.stops)}function xee(e,t,n){return g6(n)?GEe(e,n,t.bounds):n}function wE(e,t,n){return n*=t.fillOpacity==null?1:t.fillOpacity,n>0?(e.globalAlpha=n,e.fillStyle=xee(e,t,t.fill),!0):!1}var XEe=[];function _m(e,t,n){var r=(r=t.strokeWidth)!=null?r:1;return r<=0?!1:(n*=t.strokeOpacity==null?1:t.strokeOpacity,n>0?(e.globalAlpha=n,e.strokeStyle=xee(e,t,t.stroke),e.lineWidth=r,e.lineCap=t.strokeCap||"butt",e.lineJoin=t.strokeJoin||"miter",e.miterLimit=t.strokeMiterLimit||10,e.setLineDash&&(e.setLineDash(t.strokeDash||XEe),e.lineDashOffset=t.strokeDashOffset||0),!0):!1)}function YEe(e,t){return e.zindex-t.zindex||e.index-t.index}function w6(e){if(!e.zdirty)return e.zitems;var t=e.items,n=[],r,i,o;for(i=0,o=t.length;i<o;++i)r=t[i],r.index=i,r.zindex&&n.push(r);return e.zdirty=!1,e.zitems=n.sort(YEe)}function ha(e,t){var n=e.items,r,i;if(!n||!n.length)return;const o=w6(e);if(o&&o.length){for(r=0,i=n.length;r<i;++r)n[r].zindex||t(n[r]);n=o}for(r=0,i=n.length;r<i;++r)t(n[r])}function SE(e,t){var n=e.items,r,i;if(!n||!n.length)return null;const o=w6(e);for(o&&o.length&&(n=o),i=n.length;--i>=0;)if(r=t(n[i]))return r;if(n===o){for(n=e.items,i=n.length;--i>=0;)if(!n[i].zindex&&(r=t(n[i])))return r}return null}function S6(e){return function(t,n,r){ha(n,i=>{(!r||r.intersects(i.bounds))&&wee(e,t,i,i)})}}function KEe(e){return function(t,n,r){n.items.length&&(!r||r.intersects(n.bounds))&&wee(e,t,n.items[0],n.items)}}function wee(e,t,n,r){var i=n.opacity==null?1:n.opacity;i!==0&&(e(t,r)||(km(t,n),n.fill&&wE(t,n,i)&&t.fill(),n.stroke&&_m(t,n,i)&&t.stroke()))}function y_(e){return e=e||xs,function(t,n,r,i,o,s){return r*=t.pixelRatio,i*=t.pixelRatio,SE(n,a=>{const l=a.bounds;if(!(l&&!l.contains(o,s)||!l)&&e(t,a,r,i,o,s))return a})}}function ix(e,t){return function(n,r,i,o){var s=Array.isArray(r)?r[0]:r,a=t??s.fill,l=s.stroke&&n.isPointInStroke,u,c;return l&&(u=s.strokeWidth,c=s.strokeCap,n.lineWidth=u??1,n.lineCap=c??"butt"),e(n,r)?!1:a&&n.isPointInPath(i,o)||l&&n.isPointInStroke(i,o)}}function E6(e){return y_(ix(e))}function eh(e,t){return"translate("+e+","+t+")"}function C6(e){return"rotate("+e+")"}function QEe(e,t){return"scale("+e+","+t+")"}function See(e){return eh(e.x||0,e.y||0)}function JEe(e){return eh(e.x||0,e.y||0)+(e.angle?" "+C6(e.angle):"")}function ZEe(e){return eh(e.x||0,e.y||0)+(e.angle?" "+C6(e.angle):"")+(e.scaleX||e.scaleY?" "+QEe(e.scaleX||1,e.scaleY||1):"")}function k6(e,t,n){function r(s,a){s("transform",JEe(a)),s("d",t(null,a))}function i(s,a){return t(rx(s,a.angle),a),Mu(s,a).translate(a.x||0,a.y||0)}function o(s,a){var l=a.x||0,u=a.y||0,c=a.angle||0;s.translate(l,u),c&&s.rotate(c*=hf),s.beginPath(),t(s,a),c&&s.rotate(-c),s.translate(-l,-u)}return{type:e,tag:"path",nested:!1,attr:r,bound:i,draw:S6(o),pick:E6(o),isect:n||b6(o)}}var eCe=k6("arc",IEe);function tCe(e,t){for(var n=e[0].orient==="horizontal"?t[1]:t[0],r=e[0].orient==="horizontal"?"y":"x",i=e.length,o=1/0,s,a;--i>=0;)e[i].defined!==!1&&(a=Math.abs(e[i][r]-n),a<o&&(o=a,s=e[i]));return s}function nCe(e,t){for(var n=Math.pow(e[0].strokeWidth||1,2),r=e.length,i,o,s;--r>=0;)if(e[r].defined!==!1&&(i=e[r].x-t[0],o=e[r].y-t[1],s=i*i+o*o,s<n))return e[r];return null}function rCe(e,t){for(var n=e.length,r,i,o;--n>=0;)if(e[n].defined!==!1&&(r=e[n].x-t[0],i=e[n].y-t[1],o=r*r+i*i,r=e[n].size||1,o<r*r))return e[n];return null}function _6(e,t,n){function r(l,u){var c=u.mark.items;c.length&&l("d",t(null,c))}function i(l,u){var c=u.items;return c.length===0?l:(t(rx(l),c),Mu(l,c[0]))}function o(l,u){l.beginPath(),t(l,u)}const s=ix(o);function a(l,u,c,f,d,h){var p=u.items,g=u.bounds;return!p||!p.length||g&&!g.contains(d,h)?null:(c*=l.pixelRatio,f*=l.pixelRatio,s(l,p,c,f)?p[0]:null)}return{type:e,tag:"path",nested:!0,attr:r,bound:i,draw:KEe(o),pick:a,isect:x6,tip:n}}var iCe=_6("area",zEe,tCe);function oCe(e,t){var n=t.clip;e.save(),et(n)?(e.beginPath(),n(e),e.clip()):Eee(e,t.group)}function Eee(e,t){e.beginPath(),y6(t)?A0(e,t,0,0):e.rect(0,0,t.width||0,t.height||0),e.clip()}function Cee(e){const t=Is(e.strokeWidth,1);return e.strokeOffset!=null?e.strokeOffset:e.stroke&&t>.5&&t<1.5?.5-Math.abs(t-1):0}function sCe(e,t){e("transform",See(t))}function kee(e,t){const n=Cee(t);e("d",A0(null,t,n,n))}function aCe(e,t){e("class","background"),e("aria-hidden",!0),kee(e,t)}function lCe(e,t){e("class","foreground"),e("aria-hidden",!0),t.strokeForeground?kee(e,t):e("d","")}function uCe(e,t,n){const r=t.clip?v6(n,t,t):null;e("clip-path",r)}function cCe(e,t){if(!t.clip&&t.items){const n=t.items,r=n.length;for(let i=0;i<r;++i)e.union(n[i].bounds)}return(t.clip||t.width||t.height)&&!t.noBound&&e.add(0,0).add(t.width||0,t.height||0),Mu(e,t),e.translate(t.x||0,t.y||0)}function Tv(e,t,n,r){const i=Cee(t);e.beginPath(),A0(e,t,(n||0)+i,(r||0)+i)}const fCe=ix(Tv),dCe=ix(Tv,!1),hCe=ix(Tv,!0);function pCe(e,t,n,r){ha(t,i=>{const o=i.x||0,s=i.y||0,a=i.strokeForeground,l=i.opacity==null?1:i.opacity;(i.stroke||i.fill)&&l&&(Tv(e,i,o,s),km(e,i),i.fill&&wE(e,i,l)&&e.fill(),i.stroke&&!a&&_m(e,i,l)&&e.stroke()),e.save(),e.translate(o,s),i.clip&&Eee(e,i),n&&n.translate(-o,-s),ha(i,u=>{(u.marktype==="group"||r==null||r.includes(u.marktype))&&this.draw(e,u,n,r)}),n&&n.translate(o,s),e.restore(),a&&i.stroke&&l&&(Tv(e,i,o,s),km(e,i),_m(e,i,l)&&e.stroke())})}function gCe(e,t,n,r,i,o){if(t.bounds&&!t.bounds.contains(i,o)||!t.items)return null;const s=n*e.pixelRatio,a=r*e.pixelRatio;return SE(t,l=>{let u,c,f;const d=l.bounds;if(d&&!d.contains(i,o))return;c=l.x||0,f=l.y||0;const h=c+(l.width||0),p=f+(l.height||0),g=l.clip;if(g&&(i<c||i>h||o<f||o>p))return;if(e.save(),e.translate(c,f),c=i-c,f=o-f,g&&y6(l)&&!hCe(e,l,s,a))return e.restore(),null;const m=l.strokeForeground,y=t.interactive!==!1;return y&&m&&l.stroke&&dCe(e,l,s,a)?(e.restore(),l):(u=SE(l,v=>mCe(v,c,f)?this.pick(v,n,r,c,f):null),!u&&y&&(l.fill||!m&&l.stroke)&&fCe(e,l,s,a)&&(u=l),e.restore(),u||null)})}function mCe(e,t,n){return(e.interactive!==!1||e.marktype==="group")&&e.bounds&&e.bounds.contains(t,n)}var yCe={type:"group",tag:"g",nested:!1,attr:sCe,bound:cCe,draw:pCe,pick:gCe,isect:vee,content:uCe,background:aCe,foreground:lCe},Fv={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1"};function $6(e,t){var n=e.image;return(!n||e.url&&e.url!==n.url)&&(n={complete:!1,width:0,height:0},t.loadImage(e.url).then(r=>{e.image=r,e.image.url=e.url})),n}function A6(e,t){return e.width!=null?e.width:!t||!t.width?0:e.aspect!==!1&&e.height?e.height*t.width/t.height:t.width}function T6(e,t){return e.height!=null?e.height:!t||!t.height?0:e.aspect!==!1&&e.width?e.width*t.height/t.width:t.height}function v_(e,t){return e==="center"?t/2:e==="right"?t:0}function b_(e,t){return e==="middle"?t/2:e==="bottom"?t:0}function vCe(e,t,n){const r=$6(t,n),i=A6(t,r),o=T6(t,r),s=(t.x||0)-v_(t.align,i),a=(t.y||0)-b_(t.baseline,o),l=!r.src&&r.toDataURL?r.toDataURL():r.src||"";e("href",l,Fv["xmlns:xlink"],"xlink:href"),e("transform",eh(s,a)),e("width",i),e("height",o),e("preserveAspectRatio",t.aspect===!1?"none":"xMidYMid")}function bCe(e,t){const n=t.image,r=A6(t,n),i=T6(t,n),o=(t.x||0)-v_(t.align,r),s=(t.y||0)-b_(t.baseline,i);return e.set(o,s,o+r,s+i)}function xCe(e,t,n){ha(t,r=>{if(n&&!n.intersects(r.bounds))return;const i=$6(r,this);let o=A6(r,i),s=T6(r,i);if(o===0||s===0)return;let a=(r.x||0)-v_(r.align,o),l=(r.y||0)-b_(r.baseline,s),u,c,f,d;r.aspect!==!1&&(c=i.width/i.height,f=r.width/r.height,c===c&&f===f&&c!==f&&(f<c?(d=o/c,l+=(s-d)/2,s=d):(d=s*c,a+=(o-d)/2,o=d))),(i.complete||i.toDataURL)&&(km(e,r),e.globalAlpha=(u=r.opacity)!=null?u:1,e.imageSmoothingEnabled=r.smooth!==!1,e.drawImage(i,a,l,o,s))})}var wCe={type:"image",tag:"image",nested:!1,attr:vCe,bound:bCe,draw:xCe,pick:y_(),isect:xs,get:$6,xOffset:v_,yOffset:b_},SCe=_6("line",jEe,nCe);function ECe(e,t){var n=t.scaleX||1,r=t.scaleY||1;(n!==1||r!==1)&&e("vector-effect","non-scaling-stroke"),e("transform",ZEe(t)),e("d",t.path)}function tS(e,t){var n=t.path;if(n==null)return!0;var r=t.x||0,i=t.y||0,o=t.scaleX||1,s=t.scaleY||1,a=(t.angle||0)*hf,l=t.pathCache;(!l||l.path!==n)&&((t.pathCache=l=Cm(n)).path=n),a&&e.rotate&&e.translate?(e.translate(r,i),e.rotate(a),Av(e,l,0,0,o,s),e.rotate(-a),e.translate(-r,-i)):Av(e,l,r,i,o,s)}function CCe(e,t){return tS(rx(e,t.angle),t)?e.set(0,0,0,0):Mu(e,t,!0)}var kCe={type:"path",tag:"path",nested:!1,attr:ECe,bound:CCe,draw:S6(tS),pick:E6(tS),isect:b6(tS)};function _Ce(e,t){e("d",A0(null,t))}function $Ce(e,t){var n,r;return Mu(e.set(n=t.x||0,r=t.y||0,n+t.width||0,r+t.height||0),t)}function wj(e,t){e.beginPath(),A0(e,t)}var ACe={type:"rect",tag:"path",nested:!1,attr:_Ce,bound:$Ce,draw:S6(wj),pick:E6(wj),isect:vee};function TCe(e,t){e("transform",See(t)),e("x2",t.x2!=null?t.x2-(t.x||0):0),e("y2",t.y2!=null?t.y2-(t.y||0):0)}function FCe(e,t){var n,r;return Mu(e.set(n=t.x||0,r=t.y||0,t.x2!=null?t.x2:n,t.y2!=null?t.y2:r),t)}function _ee(e,t,n){var r,i,o,s;return t.stroke&&_m(e,t,n)?(r=t.x||0,i=t.y||0,o=t.x2!=null?t.x2:r,s=t.y2!=null?t.y2:i,e.beginPath(),e.moveTo(r,i),e.lineTo(o,s),!0):!1}function RCe(e,t,n){ha(t,r=>{if(!(n&&!n.intersects(r.bounds))){var i=r.opacity==null?1:r.opacity;i&&_ee(e,r,i)&&(km(e,r),e.stroke())}})}function PCe(e,t,n,r){return e.isPointInStroke?_ee(e,t,1)&&e.isPointInStroke(n,r):!1}var OCe={type:"rule",tag:"line",nested:!1,attr:TCe,bound:FCe,draw:RCe,pick:y_(PCe),isect:bee},DCe=k6("shape",BEe),MCe=k6("symbol",UEe,x6);const Sj=AK();var To={height:$l,measureWidth:F6,estimateWidth:EE,width:EE,canvas:$ee};$ee(!0);function $ee(e){To.width=e&&Yc?F6:EE}function EE(e,t){return Aee(gf(e,t),$l(e))}function Aee(e,t){return~~(.8*e.length*t)}function F6(e,t){return $l(e)<=0||!(t=gf(e,t))?0:Tee(t,x_(e))}function Tee(e,t){const n=`(${t}) ${e}`;let r=Sj.get(n);return r===void 0&&(Yc.font=t,r=Yc.measureText(e).width,Sj.set(n,r)),r}function $l(e){return e.fontSize!=null?+e.fontSize||0:11}function pf(e){return e.lineHeight!=null?e.lineHeight:$l(e)+2}function NCe(e){return te(e)?e.length>1?e:e[0]:e}function ox(e){return NCe(e.lineBreak&&e.text&&!te(e.text)?e.text.split(e.lineBreak):e.text)}function R6(e){const t=ox(e);return(te(t)?t.length-1:0)*pf(e)}function gf(e,t){const n=t==null?"":(t+"").trim();return e.limit>0&&n.length?ICe(e,n):n}function LCe(e){if(To.width===F6){const t=x_(e);return n=>Tee(n,t)}else if(To.width===EE){const t=$l(e);return n=>Aee(n,t)}else return t=>To.width(e,t)}function ICe(e,t){var n=+e.limit,r=LCe(e);if(r(t)<n)return t;var i=e.ellipsis||"…",o=e.dir==="rtl",s=0,a=t.length,l;if(n-=r(i),o){for(;s<a;)l=s+a>>>1,r(t.slice(l))>n?s=l+1:a=l;return i+t.slice(s)}else{for(;s<a;)l=1+(s+a>>>1),r(t.slice(0,l))<n?s=l:a=l-1;return t.slice(0,s)+i}}function sx(e,t){var n=e.font;return(t&&n?String(n).replace(/"/g,"'"):n)||"sans-serif"}function x_(e,t){return(e.fontStyle?e.fontStyle+" ":"")+(e.fontVariant?e.fontVariant+" ":"")+(e.fontWeight?e.fontWeight+" ":"")+$l(e)+"px "+sx(e,t)}function P6(e){var t=e.baseline,n=$l(e);return Math.round(t==="top"?.79*n:t==="middle"?.3*n:t==="bottom"?-.21*n:t==="line-top"?.29*n+.5*pf(e):t==="line-bottom"?.29*n-.5*pf(e):0)}const zCe={left:"start",center:"middle",right:"end"},z1=new Gn;function w_(e){var t=e.x||0,n=e.y||0,r=e.radius||0,i;return r&&(i=(e.theta||0)-_d,t+=r*Math.cos(i),n+=r*Math.sin(i)),z1.x1=t,z1.y1=n,z1}function jCe(e,t){var n=t.dx||0,r=(t.dy||0)+P6(t),i=w_(t),o=i.x1,s=i.y1,a=t.angle||0,l;e("text-anchor",zCe[t.align]||"start"),a?(l=eh(o,s)+" "+C6(a),(n||r)&&(l+=" "+eh(n,r))):l=eh(o+n,s+r),e("transform",l)}function O6(e,t,n){var r=To.height(t),i=t.align,o=w_(t),s=o.x1,a=o.y1,l=t.dx||0,u=(t.dy||0)+P6(t)-Math.round(.8*r),c=ox(t),f;if(te(c)?(r+=pf(t)*(c.length-1),f=c.reduce((d,h)=>Math.max(d,To.width(t,h)),0)):f=To.width(t,c),i==="center"?l-=f/2:i==="right"&&(l-=f),e.set(l+=s,u+=a,l+f,u+r),t.angle&&!n)e.rotate(t.angle*hf,s,a);else if(n===2)return e.rotatedPoints(t.angle*hf,s,a);return e}function BCe(e,t,n){ha(t,r=>{var i=r.opacity==null?1:r.opacity,o,s,a,l,u,c,f;if(!(n&&!n.intersects(r.bounds)||i===0||r.fontSize<=0||r.text==null||r.text.length===0)){if(e.font=x_(r),e.textAlign=r.align||"left",o=w_(r),s=o.x1,a=o.y1,r.angle&&(e.save(),e.translate(s,a),e.rotate(r.angle*hf),s=a=0),s+=r.dx||0,a+=(r.dy||0)+P6(r),c=ox(r),km(e,r),te(c))for(u=pf(r),l=0;l<c.length;++l)f=gf(r,c[l]),r.fill&&wE(e,r,i)&&e.fillText(f,s,a),r.stroke&&_m(e,r,i)&&e.strokeText(f,s,a),a+=u;else f=gf(r,c),r.fill&&wE(e,r,i)&&e.fillText(f,s,a),r.stroke&&_m(e,r,i)&&e.strokeText(f,s,a);r.angle&&e.restore()}})}function UCe(e,t,n,r,i,o){if(t.fontSize<=0)return!1;if(!t.angle)return!0;var s=w_(t),a=s.x1,l=s.y1,u=O6(z1,t,1),c=-t.angle*hf,f=Math.cos(c),d=Math.sin(c),h=f*i-d*o+(a-f*a+d*l),p=d*i+f*o+(l-d*a-f*l);return u.contains(h,p)}function VCe(e,t){const n=O6(z1,e,2);return tg(t,n[0],n[1],n[2],n[3])||tg(t,n[0],n[1],n[4],n[5])||tg(t,n[4],n[5],n[6],n[7])||tg(t,n[2],n[3],n[6],n[7])}var WCe={type:"text",tag:"text",nested:!1,attr:jCe,bound:O6,draw:BCe,pick:y_(UCe),isect:VCe},HCe=_6("trail",VEe,rCe),Io={arc:eCe,area:iCe,group:yCe,image:wCe,line:SCe,path:kCe,rect:ACe,rule:OCe,shape:DCe,symbol:MCe,text:WCe,trail:HCe};function TF(e,t,n){var r=Io[e.mark.marktype],i=t||r.bound;return r.nested&&(e=e.mark),i(e.bounds||(e.bounds=new Gn),e,n)}var Ej={mark:null};function Fee(e,t,n){var r=Io[e.marktype],i=r.bound,o=e.items,s=o&&o.length,a,l,u,c;if(r.nested)return s?u=o[0]:(Ej.mark=e,u=Ej),c=TF(u,i,n),t=t&&t.union(c)||c,t;if(t=t||e.bounds&&e.bounds.clear()||new Gn,s)for(a=0,l=o.length;a<l;++a)t.union(TF(o[a],i,n));return e.bounds=t}const qCe=["marktype","name","role","interactive","clip","items","zindex","x","y","width","height","align","baseline","fill","fillOpacity","opacity","blend","stroke","strokeOpacity","strokeWidth","strokeCap","strokeDash","strokeDashOffset","strokeForeground","strokeOffset","startAngle","endAngle","innerRadius","outerRadius","cornerRadius","padAngle","cornerRadiusTopLeft","cornerRadiusTopRight","cornerRadiusBottomLeft","cornerRadiusBottomRight","interpolate","tension","orient","defined","url","aspect","smooth","path","scaleX","scaleY","x2","y2","size","shape","text","angle","theta","radius","dir","dx","dy","ellipsis","limit","lineBreak","lineHeight","font","fontSize","fontWeight","fontStyle","fontVariant","description","aria","ariaRole","ariaRoleDescription"];function Ree(e,t){return JSON.stringify(e,qCe,t)}function Pee(e){const t=typeof e=="string"?JSON.parse(e):e;return Oee(t)}function Oee(e){var t=e.marktype,n=e.items,r,i,o;if(n)for(i=0,o=n.length;i<o;++i)r=t?"mark":"group",n[i][r]=e,n[i].zindex&&(n[i][r].zdirty=!0),(t||r)==="group"&&Oee(n[i]);return t&&Fee(e),e}class Dee{constructor(t){arguments.length?this.root=Pee(t):(this.root=Cj({marktype:"group",name:"root",role:"frame"}),this.root.items=[new g_(this.root)])}toJSON(t){return Ree(this.root,t||0)}mark(t,n,r){n=n||this.root.items[0];const i=Cj(t,n);return n.items[r]=i,i.zindex&&(i.group.zdirty=!0),i}}function Cj(e,t){const n={bounds:new Gn,clip:!!e.clip,group:t,interactive:e.interactive!==!1,items:[],marktype:e.marktype,name:e.name||void 0,role:e.role||void 0,zindex:e.zindex||0};return e.aria!=null&&(n.aria=e.aria),e.description&&(n.description=e.description),n}function Mc(e,t,n){return!e&&typeof document<"u"&&document.createElement&&(e=document),e?n?e.createElementNS(n,t):e.createElement(t):null}function D6(e,t){t=t.toLowerCase();for(var n=e.childNodes,r=0,i=n.length;r<i;++r)if(n[r].tagName.toLowerCase()===t)return n[r]}function er(e,t,n,r){var i=e.childNodes[t],o;return(!i||i.tagName.toLowerCase()!==n.toLowerCase())&&(o=i||null,i=Mc(e.ownerDocument,n,r),e.insertBefore(i,o)),i}function os(e,t){for(var n=e.childNodes,r=n.length;r>t;)e.removeChild(n[--r]);return e}function Mee(e){return"mark-"+e.marktype+(e.role?" role-"+e.role:"")+(e.name?" "+e.name:"")}function S_(e,t){const n=t.getBoundingClientRect();return[e.clientX-n.left-(t.clientLeft||0),e.clientY-n.top-(t.clientTop||0)]}function GCe(e,t,n,r){var i=e&&e.mark,o,s;if(i&&(o=Io[i.marktype]).tip){for(s=S_(t,n),s[0]-=r[0],s[1]-=r[1];e=e.mark.group;)s[0]-=e.x||0,s[1]-=e.y||0;e=o.tip(i.items,s)}return e}let M6=class{constructor(t,n){this._active=null,this._handlers={},this._loader=t||Bk(),this._tooltip=n||XCe}initialize(t,n,r){return this._el=t,this._obj=r||null,this.origin(n)}element(){return this._el}canvas(){return this._el&&this._el.firstChild}origin(t){return arguments.length?(this._origin=t||[0,0],this):this._origin.slice()}scene(t){return arguments.length?(this._scene=t,this):this._scene}on(){}off(){}_handlerIndex(t,n,r){for(let i=t?t.length:0;--i>=0;)if(t[i].type===n&&(!r||t[i].handler===r))return i;return-1}handlers(t){const n=this._handlers,r=[];if(t)r.push(...n[this.eventName(t)]);else for(const i in n)r.push(...n[i]);return r}eventName(t){const n=t.indexOf(".");return n<0?t:t.slice(0,n)}handleHref(t,n,r){this._loader.sanitize(r,{context:"href"}).then(i=>{const o=new MouseEvent(t.type,t),s=Mc(null,"a");for(const a in i)s.setAttribute(a,i[a]);s.dispatchEvent(o)}).catch(()=>{})}handleTooltip(t,n,r){if(n&&n.tooltip!=null){n=GCe(n,t,this.canvas(),this._origin);const i=r&&n&&n.tooltip||null;this._tooltip.call(this._obj,this,t,n,i)}}getItemBoundingClientRect(t){const n=this.canvas();if(!n)return;const r=n.getBoundingClientRect(),i=this._origin,o=t.bounds,s=o.width(),a=o.height();let l=o.x1+i[0]+r.left,u=o.y1+i[1]+r.top;for(;t.mark&&(t=t.mark.group);)l+=t.x||0,u+=t.y||0;return{x:l,y:u,width:s,height:a,left:l,top:u,right:l+s,bottom:u+a}}};function XCe(e,t,n,r){e.element().setAttribute("title",r||"")}class ax{constructor(t){this._el=null,this._bgcolor=null,this._loader=new yee(t)}initialize(t,n,r,i,o){return this._el=t,this.resize(n,r,i,o)}element(){return this._el}canvas(){return this._el&&this._el.firstChild}background(t){return arguments.length===0?this._bgcolor:(this._bgcolor=t,this)}resize(t,n,r,i){return this._width=t,this._height=n,this._origin=r||[0,0],this._scale=i||1,this}dirty(){}render(t,n){const r=this;return r._call=function(){r._render(t,n)},r._call(),r._call=null,r}_render(){}renderAsync(t,n){const r=this.render(t,n);return this._ready?this._ready.then(()=>r):Promise.resolve(r)}_load(t,n){var r=this,i=r._loader[t](n);if(!r._ready){const o=r._call;r._ready=r._loader.ready().then(s=>{s&&o(),r._ready=null})}return i}sanitizeURL(t){return this._load("sanitizeURL",t)}loadImage(t){return this._load("loadImage",t)}}const YCe="keydown",KCe="keypress",QCe="keyup",Nee="dragenter",nS="dragleave",Lee="dragover",FF="pointerdown",JCe="pointerup",CE="pointermove",rS="pointerout",Iee="pointerover",RF="mousedown",ZCe="mouseup",zee="mousemove",kE="mouseout",jee="mouseover",_E="click",eke="dblclick",tke="wheel",Bee="mousewheel",$E="touchstart",AE="touchmove",TE="touchend",nke=[YCe,KCe,QCe,Nee,nS,Lee,FF,JCe,CE,rS,Iee,RF,ZCe,zee,kE,jee,_E,eke,tke,Bee,$E,AE,TE],PF=CE,j1=kE,OF=_E;class lx extends M6{constructor(t,n){super(t,n),this._down=null,this._touch=null,this._first=!0,this._events={},this.events=nke,this.pointermove=_j([CE,zee],[Iee,jee],[rS,kE]),this.dragover=_j([Lee],[Nee],[nS]),this.pointerout=$j([rS,kE]),this.dragleave=$j([nS])}initialize(t,n,r){return this._canvas=t&&D6(t,"canvas"),[_E,RF,FF,CE,rS,nS].forEach(i=>kj(this,i)),super.initialize(t,n,r)}canvas(){return this._canvas}context(){return this._canvas.getContext("2d")}DOMMouseScroll(t){this.fire(Bee,t)}pointerdown(t){this._down=this._active,this.fire(FF,t)}mousedown(t){this._down=this._active,this.fire(RF,t)}click(t){this._down===this._active&&(this.fire(_E,t),this._down=null)}touchstart(t){this._touch=this.pickEvent(t.changedTouches[0]),this._first&&(this._active=this._touch,this._first=!1),this.fire($E,t,!0)}touchmove(t){this.fire(AE,t,!0)}touchend(t){this.fire(TE,t,!0),this._touch=null}fire(t,n,r){const i=r?this._touch:this._active,o=this._handlers[t];if(n.vegaType=t,t===OF&&i&&i.href?this.handleHref(n,i,i.href):(t===PF||t===j1)&&this.handleTooltip(n,i,t!==j1),o)for(let s=0,a=o.length;s<a;++s)o[s].handler.call(this._obj,n,i)}on(t,n){const r=this.eventName(t),i=this._handlers;return this._handlerIndex(i[r],t,n)<0&&(kj(this,t),(i[r]||(i[r]=[])).push({type:t,handler:n})),this}off(t,n){const r=this.eventName(t),i=this._handlers[r],o=this._handlerIndex(i,t,n);return o>=0&&i.splice(o,1),this}pickEvent(t){const n=S_(t,this._canvas),r=this._origin;return this.pick(this._scene,n[0],n[1],n[0]-r[0],n[1]-r[1])}pick(t,n,r,i,o){const s=this.context();return Io[t.marktype].pick.call(this,s,t,n,r,i,o)}}const rke=e=>e===$E||e===AE||e===TE?[$E,AE,TE]:[e];function kj(e,t){rke(t).forEach(n=>ike(e,n))}function ike(e,t){const n=e.canvas();n&&!e._events[t]&&(e._events[t]=1,n.addEventListener(t,e[t]?r=>e[t](r):r=>e.fire(t,r)))}function a1(e,t,n){t.forEach(r=>e.fire(r,n))}function _j(e,t,n){return function(r){const i=this._active,o=this.pickEvent(r);o===i?a1(this,e,r):((!i||!i.exit)&&a1(this,n,r),this._active=o,a1(this,t,r),a1(this,e,r))}}function $j(e){return function(t){a1(this,e,t),this._active=null}}function oke(){return typeof window<"u"&&window.devicePixelRatio||1}function ske(e,t,n,r,i,o){const s=typeof HTMLElement<"u"&&e instanceof HTMLElement&&e.parentNode!=null,a=e.getContext("2d"),l=s?oke():i;e.width=t*l,e.height=n*l;for(const u in o)a[u]=o[u];return s&&l!==1&&(e.style.width=t+"px",e.style.height=n+"px"),a.pixelRatio=l,a.setTransform(l,0,0,l,l*r[0],l*r[1]),e}class FE extends ax{constructor(t){super(t),this._options={},this._redraw=!1,this._dirty=new Gn,this._tempb=new Gn}initialize(t,n,r,i,o,s){return this._options=s||{},this._canvas=this._options.externalContext?null:Xc(1,1,this._options.type),t&&this._canvas&&(os(t,0).appendChild(this._canvas),this._canvas.setAttribute("class","marks")),super.initialize(t,n,r,i,o)}resize(t,n,r,i){if(super.resize(t,n,r,i),this._canvas)ske(this._canvas,this._width,this._height,this._origin,this._scale,this._options.context);else{const o=this._options.externalContext;o||ee("CanvasRenderer is missing a valid canvas or context"),o.scale(this._scale,this._scale),o.translate(this._origin[0],this._origin[1])}return this._redraw=!0,this}canvas(){return this._canvas}context(){return this._options.externalContext||(this._canvas?this._canvas.getContext("2d"):null)}dirty(t){const n=this._tempb.clear().union(t.bounds);let r=t.mark.group;for(;r;)n.translate(r.x||0,r.y||0),r=r.mark.group;this._dirty.union(n)}_render(t,n){const r=this.context(),i=this._origin,o=this._width,s=this._height,a=this._dirty,l=ake(i,o,s);r.save();const u=this._redraw||a.empty()?(this._redraw=!1,l.expand(1)):lke(r,l.intersect(a),i);return this.clear(-i[0],-i[1],o,s),this.draw(r,t,u,n),r.restore(),a.clear(),this}draw(t,n,r,i){if(n.marktype!=="group"&&i!=null&&!i.includes(n.marktype))return;const o=Io[n.marktype];n.clip&&oCe(t,n),o.draw.call(this,t,n,r,i),n.clip&&t.restore()}clear(t,n,r,i){const o=this._options,s=this.context();o.type!=="pdf"&&!o.externalContext&&s.clearRect(t,n,r,i),this._bgcolor!=null&&(s.fillStyle=this._bgcolor,s.fillRect(t,n,r,i))}}const ake=(e,t,n)=>new Gn().set(0,0,t,n).translate(-e[0],-e[1]);function lke(e,t,n){return t.expand(1).round(),e.pixelRatio%1&&t.scale(e.pixelRatio).round().scale(1/e.pixelRatio),t.translate(-(n[0]%1),-(n[1]%1)),e.beginPath(),e.rect(t.x1,t.y1,t.width(),t.height()),e.clip(),t}class Uee extends M6{constructor(t,n){super(t,n);const r=this;r._hrefHandler=wT(r,(i,o)=>{o&&o.href&&r.handleHref(i,o,o.href)}),r._tooltipHandler=wT(r,(i,o)=>{r.handleTooltip(i,o,i.type!==j1)})}initialize(t,n,r){let i=this._svg;return i&&(i.removeEventListener(OF,this._hrefHandler),i.removeEventListener(PF,this._tooltipHandler),i.removeEventListener(j1,this._tooltipHandler)),this._svg=i=t&&D6(t,"svg"),i&&(i.addEventListener(OF,this._hrefHandler),i.addEventListener(PF,this._tooltipHandler),i.addEventListener(j1,this._tooltipHandler)),super.initialize(t,n,r)}canvas(){return this._svg}on(t,n){const r=this.eventName(t),i=this._handlers;if(this._handlerIndex(i[r],t,n)<0){const s={type:t,handler:n,listener:wT(this,n)};(i[r]||(i[r]=[])).push(s),this._svg&&this._svg.addEventListener(r,s.listener)}return this}off(t,n){const r=this.eventName(t),i=this._handlers[r],o=this._handlerIndex(i,t,n);return o>=0&&(this._svg&&this._svg.removeEventListener(r,i[o].listener),i.splice(o,1)),this}}const wT=(e,t)=>n=>{let r=n.target.__data__;r=Array.isArray(r)?r[0]:r,n.vegaType=n.type,t.call(e._obj,n,r)},Vee="aria-hidden",N6="aria-label",L6="role",I6="aria-roledescription",Wee="graphics-object",z6="graphics-symbol",Hee=(e,t,n)=>({[L6]:e,[I6]:t,[N6]:n||void 0}),uke=ua(["axis-domain","axis-grid","axis-label","axis-tick","axis-title","legend-band","legend-entry","legend-gradient","legend-label","legend-title","legend-symbol","title"]),Aj={axis:{desc:"axis",caption:dke},legend:{desc:"legend",caption:hke},"title-text":{desc:"title",caption:e=>`Title text '${Fj(e)}'`},"title-subtitle":{desc:"subtitle",caption:e=>`Subtitle text '${Fj(e)}'`}},Tj={ariaRole:L6,ariaRoleDescription:I6,description:N6};function qee(e,t){const n=t.aria===!1;if(e(Vee,n||void 0),n||t.description==null)for(const r in Tj)e(Tj[r],void 0);else{const r=t.mark.marktype;e(N6,t.description),e(L6,t.ariaRole||(r==="group"?Wee:z6)),e(I6,t.ariaRoleDescription||`${r} mark`)}}function Gee(e){return e.aria===!1?{[Vee]:!0}:uke[e.role]?null:Aj[e.role]?fke(e,Aj[e.role]):cke(e)}function cke(e){const t=e.marktype,n=t==="group"||t==="text"||e.items.some(r=>r.description!=null&&r.aria!==!1);return Hee(n?Wee:z6,`${t} mark container`,e.description)}function fke(e,t){try{const n=e.items[0],r=t.caption||(()=>"");return Hee(t.role||z6,t.desc,n.description||r(n))}catch{return null}}function Fj(e){return xe(e.text).join(" ")}function dke(e){const t=e.datum,n=e.orient,r=t.title?Xee(e):null,i=e.context,o=i.scales[t.scale].value,s=i.dataflow.locale(),a=o.type;return`${n==="left"||n==="right"?"Y":"X"}-axis`+(r?` titled '${r}'`:"")+` for a ${Em(a)?"discrete":a} scale with ${aee(s,o,e)}`}function hke(e){const t=e.datum,n=t.title?Xee(e):null,r=`${t.type||""} legend`.trim(),i=t.scales,o=Object.keys(i),s=e.context,a=s.scales[i[o[0]]].value,l=s.dataflow.locale();return gke(r)+(n?` titled '${n}'`:"")+` for ${pke(o)} with ${aee(l,a,e)}`}function Xee(e){try{return xe(gt(e.items).items[0].text).join(" ")}catch{return null}}function pke(e){return e=e.map(t=>t+(t==="fill"||t==="stroke"?" color":"")),e.length<2?e[0]:e.slice(0,-1).join(", ")+" and "+gt(e)}function gke(e){return e.length?e[0].toUpperCase()+e.slice(1):e}const Yee=e=>(e+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),mke=e=>Yee(e).replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;");function j6(){let e="",t="",n="";const r=[],i=()=>t=n="",o=l=>{t&&(e+=`${t}>${n}`,i()),r.push(l)},s=(l,u)=>(u!=null&&(t+=` ${l}="${mke(u)}"`),a),a={open(l){o(l),t="<"+l;for(var u=arguments.length,c=new Array(u>1?u-1:0),f=1;f<u;f++)c[f-1]=arguments[f];for(const d of c)for(const h in d)s(h,d[h]);return a},close(){const l=r.pop();return t?e+=t+(n?`>${n}</${l}>`:"/>"):e+=`</${l}>`,i(),a},attr:s,text:l=>(n+=Yee(l),a),toString:()=>e};return a}const Kee=e=>Qee(j6(),e)+"";function Qee(e,t){if(e.open(t.tagName),t.hasAttributes()){const n=t.attributes,r=n.length;for(let i=0;i<r;++i)e.attr(n[i].name,n[i].value)}if(t.hasChildNodes()){const n=t.childNodes;for(const r of n)r.nodeType===3?e.text(r.nodeValue):Qee(e,r)}return e.close()}const RE={fill:"fill",fillOpacity:"fill-opacity",stroke:"stroke",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",strokeCap:"stroke-linecap",strokeJoin:"stroke-linejoin",strokeDash:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeMiterLimit:"stroke-miterlimit",opacity:"opacity"},PE={blend:"mix-blend-mode"},Jee={fill:"none","stroke-miterlimit":10},by=0,Rj="http://www.w3.org/2000/xmlns/",Jn=Fv.xmlns;class B6 extends ax{constructor(t){super(t),this._dirtyID=0,this._dirty=[],this._svg=null,this._root=null,this._defs=null}initialize(t,n,r,i,o){return this._defs={},this._clearDefs(),t&&(this._svg=er(t,0,"svg",Jn),this._svg.setAttributeNS(Rj,"xmlns",Jn),this._svg.setAttributeNS(Rj,"xmlns:xlink",Fv["xmlns:xlink"]),this._svg.setAttribute("version",Fv.version),this._svg.setAttribute("class","marks"),os(t,1),this._root=er(this._svg,by,"g",Jn),Nc(this._root,Jee),os(this._svg,by+1)),this.background(this._bgcolor),super.initialize(t,n,r,i,o)}background(t){return arguments.length&&this._svg&&this._svg.style.setProperty("background-color",t),super.background(...arguments)}resize(t,n,r,i){return super.resize(t,n,r,i),this._svg&&(Nc(this._svg,{width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}),this._root.setAttribute("transform",`translate(${this._origin})`)),this._dirty=[],this}canvas(){return this._svg}svg(){const t=this._svg,n=this._bgcolor;if(!t)return null;let r;n&&(t.removeAttribute("style"),r=er(t,by,"rect",Jn),Nc(r,{width:this._width,height:this._height,fill:n}));const i=Kee(t);return n&&(t.removeChild(r),this._svg.style.setProperty("background-color",n)),i}_render(t,n){return this._dirtyCheck()&&(this._dirtyAll&&this._clearDefs(),this.mark(this._root,t,void 0,n),os(this._root,1)),this.defs(),this._dirty=[],++this._dirtyID,this}dirty(t){t.dirty!==this._dirtyID&&(t.dirty=this._dirtyID,this._dirty.push(t))}isDirty(t){return this._dirtyAll||!t._svg||!t._svg.ownerSVGElement||t.dirty===this._dirtyID}_dirtyCheck(){this._dirtyAll=!0;const t=this._dirty;if(!t.length||!this._dirtyID)return!0;const n=++this._dirtyID;let r,i,o,s,a,l,u;for(a=0,l=t.length;a<l;++a)if(r=t[a],i=r.mark,i.marktype!==o&&(o=i.marktype,s=Io[o]),i.zdirty&&i.dirty!==n&&(this._dirtyAll=!1,Pj(r,n),i.items.forEach(c=>{c.dirty=n})),!i.zdirty){if(r.exit){s.nested&&i.items.length?(u=i.items[0],u._svg&&this._update(s,u._svg,u)):r._svg&&(u=r._svg.parentNode,u&&u.removeChild(r._svg)),r._svg=null;continue}r=s.nested?i.items[0]:r,r._update!==n&&(!r._svg||!r._svg.ownerSVGElement?(this._dirtyAll=!1,Pj(r,n)):this._update(s,r._svg,r),r._update=n)}return!this._dirtyAll}mark(t,n,r,i){if(!this.isDirty(n))return n._svg;const o=this._svg,s=n.marktype,a=Io[s],l=n.interactive===!1?"none":null,u=a.tag==="g",c=Oj(n,t,r,"g",o);if(s!=="group"&&i!=null&&!i.includes(s))return os(c,0),n._svg;c.setAttribute("class",Mee(n));const f=Gee(n);for(const g in f)vi(c,g,f[g]);u||vi(c,"pointer-events",l),vi(c,"clip-path",n.clip?v6(this,n,n.group):null);let d=null,h=0;const p=g=>{const m=this.isDirty(g),y=Oj(g,c,d,a.tag,o);m&&(this._update(a,y,g),u&&bke(this,y,g,i)),d=y,++h};return a.nested?n.items.length&&p(n.items[0]):ha(n,p),os(c,h),c}_update(t,n,r){ou=n,Qr=n.__values__,qee(B1,r),t.attr(B1,r,this);const i=wke[t.type];i&&i.call(this,t,n,r),ou&&this.style(ou,r)}style(t,n){if(n!=null){for(const r in RE){let i=r==="font"?sx(n):n[r];if(i===Qr[r])continue;const o=RE[r];i==null?t.removeAttribute(o):(g6(i)&&(i=uee(i,this._defs.gradient,Zee())),t.setAttribute(o,i+"")),Qr[r]=i}for(const r in PE)iS(t,PE[r],n[r])}}defs(){const t=this._svg,n=this._defs;let r=n.el,i=0;for(const o in n.gradient)r||(n.el=r=er(t,by+1,"defs",Jn)),i=yke(r,n.gradient[o],i);for(const o in n.clipping)r||(n.el=r=er(t,by+1,"defs",Jn)),i=vke(r,n.clipping[o],i);r&&(i===0?(t.removeChild(r),n.el=null):os(r,i))}_clearDefs(){const t=this._defs;t.gradient={},t.clipping={}}}function Pj(e,t){for(;e&&e.dirty!==t;e=e.mark.group)if(e.dirty=t,e.mark&&e.mark.dirty!==t)e.mark.dirty=t;else return}function yke(e,t,n){let r,i,o;if(t.gradient==="radial"){let s=er(e,n++,"pattern",Jn);Nc(s,{id:xE+t.id,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),s=er(s,0,"rect",Jn),Nc(s,{width:1,height:1,fill:`url(${Zee()}#${t.id})`}),e=er(e,n++,"radialGradient",Jn),Nc(e,{id:t.id,fx:t.x1,fy:t.y1,fr:t.r1,cx:t.x2,cy:t.y2,r:t.r2})}else e=er(e,n++,"linearGradient",Jn),Nc(e,{id:t.id,x1:t.x1,x2:t.x2,y1:t.y1,y2:t.y2});for(r=0,i=t.stops.length;r<i;++r)o=er(e,r,"stop",Jn),o.setAttribute("offset",t.stops[r].offset),o.setAttribute("stop-color",t.stops[r].color);return os(e,r),n}function vke(e,t,n){let r;return e=er(e,n,"clipPath",Jn),e.setAttribute("id",t.id),t.path?(r=er(e,0,"path",Jn),r.setAttribute("d",t.path)):(r=er(e,0,"rect",Jn),Nc(r,{x:0,y:0,width:t.width,height:t.height})),os(e,1),n+1}function bke(e,t,n,r){t=t.lastChild.previousSibling;let i,o=0;ha(n,s=>{i=e.mark(t,s,i,r),++o}),os(t,1+o)}function Oj(e,t,n,r,i){let o=e._svg,s;if(!o&&(s=t.ownerDocument,o=Mc(s,r,Jn),e._svg=o,e.mark&&(o.__data__=e,o.__values__={fill:"default"},r==="g"))){const a=Mc(s,"path",Jn);o.appendChild(a),a.__data__=e;const l=Mc(s,"g",Jn);o.appendChild(l),l.__data__=e;const u=Mc(s,"path",Jn);o.appendChild(u),u.__data__=e,u.__values__={fill:"default"}}return(o.ownerSVGElement!==i||xke(o,n))&&t.insertBefore(o,n?n.nextSibling:t.firstChild),o}function xke(e,t){return e.parentNode&&e.parentNode.childNodes.length>1&&e.previousSibling!=t}let ou=null,Qr=null;const wke={group(e,t,n){const r=ou=t.childNodes[2];Qr=r.__values__,e.foreground(B1,n,this),Qr=t.__values__,ou=t.childNodes[1],e.content(B1,n,this);const i=ou=t.childNodes[0];e.background(B1,n,this);const o=n.mark.interactive===!1?"none":null;if(o!==Qr.events&&(vi(r,"pointer-events",o),vi(i,"pointer-events",o),Qr.events=o),n.strokeForeground&&n.stroke){const s=n.fill;vi(r,"display",null),this.style(i,n),vi(i,"stroke",null),s&&(n.fill=null),Qr=r.__values__,this.style(r,n),s&&(n.fill=s),ou=null}else vi(r,"display","none")},image(e,t,n){n.smooth===!1?(iS(t,"image-rendering","optimizeSpeed"),iS(t,"image-rendering","pixelated")):iS(t,"image-rendering",null)},text(e,t,n){const r=ox(n);let i,o,s,a;te(r)?(o=r.map(l=>gf(n,l)),i=o.join(`
`),i!==Qr.text&&(os(t,0),s=t.ownerDocument,a=pf(n),o.forEach((l,u)=>{const c=Mc(s,"tspan",Jn);c.__data__=n,c.textContent=l,u&&(c.setAttribute("x",0),c.setAttribute("dy",a)),t.appendChild(c)}),Qr.text=i)):(o=gf(n,r),o!==Qr.text&&(t.textContent=o,Qr.text=o)),vi(t,"font-family",sx(n)),vi(t,"font-size",$l(n)+"px"),vi(t,"font-style",n.fontStyle),vi(t,"font-variant",n.fontVariant),vi(t,"font-weight",n.fontWeight)}};function B1(e,t,n){t!==Qr[e]&&(n?Ske(ou,e,t,n):vi(ou,e,t),Qr[e]=t)}function iS(e,t,n){n!==Qr[t]&&(n==null?e.style.removeProperty(t):e.style.setProperty(t,n+""),Qr[t]=n)}function Nc(e,t){for(const n in t)vi(e,n,t[n])}function vi(e,t,n){n!=null?e.setAttribute(t,n):e.removeAttribute(t)}function Ske(e,t,n,r){n!=null?e.setAttributeNS(r,t,n):e.removeAttributeNS(r,t)}function Zee(){let e;return typeof window>"u"?"":(e=window.location).hash?e.href.slice(0,-e.hash.length):e.href}class ete extends ax{constructor(t){super(t),this._text=null,this._defs={gradient:{},clipping:{}}}svg(){return this._text}_render(t){const n=j6();n.open("svg",Ze({},Fv,{class:"marks",width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}));const r=this._bgcolor;return r&&r!=="transparent"&&r!=="none"&&n.open("rect",{width:this._width,height:this._height,fill:r}).close(),n.open("g",Jee,{transform:"translate("+this._origin+")"}),this.mark(n,t),n.close(),this.defs(n),this._text=n.close()+"",this}mark(t,n){const r=Io[n.marktype],i=r.tag,o=[qee,r.attr];t.open("g",{class:Mee(n),"clip-path":n.clip?v6(this,n,n.group):null},Gee(n),{"pointer-events":i!=="g"&&n.interactive===!1?"none":null});const s=a=>{const l=this.href(a);if(l&&t.open("a",l),t.open(i,this.attr(n,a,o,i!=="g"?i:null)),i==="text"){const u=ox(a);if(te(u)){const c={x:0,dy:pf(a)};for(let f=0;f<u.length;++f)t.open("tspan",f?c:null).text(gf(a,u[f])).close()}else t.text(gf(a,u))}else if(i==="g"){const u=a.strokeForeground,c=a.fill,f=a.stroke;u&&f&&(a.stroke=null),t.open("path",this.attr(n,a,r.background,"bgrect")).close(),t.open("g",this.attr(n,a,r.content)),ha(a,d=>this.mark(t,d)),t.close(),u&&f?(c&&(a.fill=null),a.stroke=f,t.open("path",this.attr(n,a,r.foreground,"bgrect")).close(),c&&(a.fill=c)):t.open("path",this.attr(n,a,r.foreground,"bgfore")).close()}t.close(),l&&t.close()};return r.nested?n.items&&n.items.length&&s(n.items[0]):ha(n,s),t.close()}href(t){const n=t.href;let r;if(n){if(r=this._hrefs&&this._hrefs[n])return r;this.sanitizeURL(n).then(i=>{i["xlink:href"]=i.href,i.href=null,(this._hrefs||(this._hrefs={}))[n]=i})}return null}attr(t,n,r,i){const o={},s=(a,l,u,c)=>{o[c||a]=l};return Array.isArray(r)?r.forEach(a=>a(s,n,this)):r(s,n,this),i&&Eke(o,n,t,i,this._defs),o}defs(t){const n=this._defs.gradient,r=this._defs.clipping;if(Object.keys(n).length+Object.keys(r).length!==0){t.open("defs");for(const o in n){const s=n[o],a=s.stops;s.gradient==="radial"?(t.open("pattern",{id:xE+o,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),t.open("rect",{width:"1",height:"1",fill:"url(#"+o+")"}).close(),t.close(),t.open("radialGradient",{id:o,fx:s.x1,fy:s.y1,fr:s.r1,cx:s.x2,cy:s.y2,r:s.r2})):t.open("linearGradient",{id:o,x1:s.x1,x2:s.x2,y1:s.y1,y2:s.y2});for(let l=0;l<a.length;++l)t.open("stop",{offset:a[l].offset,"stop-color":a[l].color}).close();t.close()}for(const o in r){const s=r[o];t.open("clipPath",{id:o}),s.path?t.open("path",{d:s.path}).close():t.open("rect",{x:0,y:0,width:s.width,height:s.height}).close(),t.close()}t.close()}}}function Eke(e,t,n,r,i){let o;if(t==null||(r==="bgrect"&&n.interactive===!1&&(e["pointer-events"]="none"),r==="bgfore"&&(n.interactive===!1&&(e["pointer-events"]="none"),e.display="none",t.fill!==null)))return e;r==="image"&&t.smooth===!1&&(o=["image-rendering: optimizeSpeed;","image-rendering: pixelated;"]),r==="text"&&(e["font-family"]=sx(t),e["font-size"]=$l(t)+"px",e["font-style"]=t.fontStyle,e["font-variant"]=t.fontVariant,e["font-weight"]=t.fontWeight);for(const s in RE){let a=t[s];const l=RE[s];a==="transparent"&&(l==="fill"||l==="stroke")||a!=null&&(g6(a)&&(a=uee(a,i.gradient,"")),e[l]=a)}for(const s in PE){const a=t[s];a!=null&&(o=o||[],o.push(`${PE[s]}: ${a};`))}return o&&(e.style=o.join(" ")),e}const Us={svgMarkTypes:["text"],svgOnTop:!0,debug:!1};function Cke(e){Us.svgMarkTypes=e.svgMarkTypes??["text"],Us.svgOnTop=e.svgOnTop??!0,Us.debug=e.debug??!1}class DF extends ax{constructor(t){super(t),this._svgRenderer=new B6(t),this._canvasRenderer=new FE(t)}initialize(t,n,r,i,o){this._root_el=er(t,0,"div");const s=er(this._root_el,0,"div"),a=er(this._root_el,1,"div");return this._root_el.style.position="relative",Us.debug||(s.style.height="100%",a.style.position="absolute",a.style.top="0",a.style.left="0",a.style.height="100%",a.style.width="100%"),this._svgEl=Us.svgOnTop?a:s,this._canvasEl=Us.svgOnTop?s:a,this._svgEl.style.pointerEvents="none",this._canvasRenderer.initialize(this._canvasEl,n,r,i,o),this._svgRenderer.initialize(this._svgEl,n,r,i,o),super.initialize(t,n,r,i,o)}dirty(t){return Us.svgMarkTypes.includes(t.mark.marktype)?this._svgRenderer.dirty(t):this._canvasRenderer.dirty(t),this}_render(t,n){const i=(n??["arc","area","image","line","path","rect","rule","shape","symbol","text","trail"]).filter(o=>!Us.svgMarkTypes.includes(o));this._svgRenderer.render(t,Us.svgMarkTypes),this._canvasRenderer.render(t,i)}resize(t,n,r,i){return super.resize(t,n,r,i),this._svgRenderer.resize(t,n,r,i),this._canvasRenderer.resize(t,n,r,i),this}background(t){return Us.svgOnTop?this._canvasRenderer.background(t):this._svgRenderer.background(t),this}}class tte extends lx{constructor(t,n){super(t,n)}initialize(t,n,r){const i=er(er(t,0,"div"),Us.svgOnTop?0:1,"div");return super.initialize(i,n,r)}}const nte="canvas",rte="hybrid",ite="png",ote="svg",ste="none",Lc={Canvas:nte,PNG:ite,SVG:ote,Hybrid:rte,None:ste},bh={};bh[nte]=bh[ite]={renderer:FE,headless:FE,handler:lx};bh[ote]={renderer:B6,headless:ete,handler:Uee};bh[rte]={renderer:DF,headless:DF,handler:tte};bh[ste]={};function E_(e,t){return e=String(e||"").toLowerCase(),arguments.length>1?(bh[e]=t,this):bh[e]}function ate(e,t,n){const r=[],i=new Gn().union(t),o=e.marktype;return o?lte(e,i,n,r):o==="group"?ute(e,i,n,r):ee("Intersect scene must be mark node or group item.")}function lte(e,t,n,r){if(kke(e,t,n)){const i=e.items,o=e.marktype,s=i.length;let a=0;if(o==="group")for(;a<s;++a)ute(i[a],t,n,r);else for(const l=Io[o].isect;a<s;++a){const u=i[a];cte(u,t,l)&&r.push(u)}}return r}function kke(e,t,n){return e.bounds&&t.intersects(e.bounds)&&(e.marktype==="group"||e.interactive!==!1&&(!n||n(e)))}function ute(e,t,n,r){n&&n(e.mark)&&cte(e,t,Io.group.isect)&&r.push(e);const i=e.items,o=i&&i.length;if(o){const s=e.x||0,a=e.y||0;t.translate(-s,-a);for(let l=0;l<o;++l)lte(i[l],t,n,r);t.translate(s,a)}return r}function cte(e,t,n){const r=e.bounds;return t.encloses(r)||t.intersects(r)&&n(e,t)}const ST=new Gn;function fte(e){const t=e.clip;if(et(t))t(rx(ST.clear()));else if(t)ST.set(0,0,e.group.width,e.group.height);else return;e.bounds.intersect(ST)}const _ke=1e-9;function U6(e,t,n){return e===t?!0:n==="path"?dte(e,t):e instanceof Date&&t instanceof Date?+e==+t:St(e)&&St(t)?Math.abs(e-t)<=_ke:!e||!t||!ve(e)&&!ve(t)?e==t:$ke(e,t)}function dte(e,t){return U6(Cm(e),Cm(t))}function $ke(e,t){var n=Object.keys(e),r=Object.keys(t),i,o;if(n.length!==r.length)return!1;for(n.sort(),r.sort(),o=n.length-1;o>=0;o--)if(n[o]!=r[o])return!1;for(o=n.length-1;o>=0;o--)if(i=n[o],!U6(e[i],t[i],i))return!1;return typeof e==typeof t}function Ake(){mee(),JSe()}const $m="top",Ks="left",ea="right",mf="bottom",Tke="top-left",Fke="top-right",Rke="bottom-left",Pke="bottom-right",V6="start",MF="middle",wi="end",Oke="x",Dke="y",C_="group",W6="axis",H6="title",Mke="frame",Nke="scope",q6="legend",hte="row-header",pte="row-footer",gte="row-title",mte="column-header",yte="column-footer",vte="column-title",Lke="padding",Ike="symbol",bte="fit",xte="fit-x",wte="fit-y",zke="pad",G6="none",Fw="all",NF="each",X6="flush",Ic="column",zc="row";function Ste(e){J.call(this,null,e)}he(Ste,J,{transform(e,t){const n=t.dataflow,r=e.mark,i=r.marktype,o=Io[i],s=o.bound;let a=r.bounds,l;if(o.nested)r.items.length&&n.dirty(r.items[0]),a=Rw(r,s),r.items.forEach(u=>{u.bounds.clear().union(a)});else if(i===C_||e.modified())switch(t.visit(t.MOD,u=>n.dirty(u)),a.clear(),r.items.forEach(u=>a.union(Rw(u,s))),r.role){case W6:case q6:case H6:t.reflow()}else l=t.changed(t.REM),t.visit(t.ADD,u=>{a.union(Rw(u,s))}),t.visit(t.MOD,u=>{l=l||a.alignsWith(u.bounds),n.dirty(u),a.union(Rw(u,s))}),l&&(a.clear(),r.items.forEach(u=>a.union(u.bounds)));return fte(r),t.modifies("bounds")}});function Rw(e,t,n){return t(e.bounds.clear(),e,n)}const Dj=":vega_identifier:";function Y6(e){J.call(this,0,e)}Y6.Definition={type:"Identifier",metadata:{modifies:!0},params:[{name:"as",type:"string",required:!0}]};he(Y6,J,{transform(e,t){const n=jke(t.dataflow),r=e.as;let i=n.value;return t.visit(t.ADD,o=>o[r]=o[r]||++i),n.set(this.value=i),t}});function jke(e){return e._signals[Dj]||(e._signals[Dj]=e.add(0))}function Ete(e){J.call(this,null,e)}he(Ete,J,{transform(e,t){let n=this.value;n||(n=t.dataflow.scenegraph().mark(e.markdef,Bke(e),e.index),n.group.context=e.context,e.context.group||(e.context.group=n.group),n.source=this.source,n.clip=e.clip,n.interactive=e.interactive,this.value=n);const r=n.marktype===C_?g_:p_;return t.visit(t.ADD,i=>r.call(i,n)),(e.modified("clip")||e.modified("interactive"))&&(n.clip=e.clip,n.interactive=!!e.interactive,n.zdirty=!0,t.reflow()),n.items=t.source,t}});function Bke(e){const t=e.groups,n=e.parent;return t&&t.size===1?t.get(Object.keys(t.object)[0]):t&&n?t.lookup(n):null}function Cte(e){J.call(this,null,e)}const Mj={parity:e=>e.filter((t,n)=>n%2?t.opacity=0:1),greedy:(e,t)=>{let n;return e.filter((r,i)=>!i||!kte(n.bounds,r.bounds,t)?(n=r,1):r.opacity=0)}},kte=(e,t,n)=>n>Math.max(t.x1-e.x2,e.x1-t.x2,t.y1-e.y2,e.y1-t.y2),Nj=(e,t)=>{for(var n=1,r=e.length,i=e[0].bounds,o;n<r;i=o,++n)if(kte(i,o=e[n].bounds,t))return!0},Uke=e=>{const t=e.bounds;return t.width()>1&&t.height()>1},Vke=(e,t,n)=>{var r=e.range(),i=new Gn;return t===$m||t===mf?i.set(r[0],-1/0,r[1],1/0):i.set(-1/0,r[0],1/0,r[1]),i.expand(n||1),o=>i.encloses(o.bounds)},Lj=e=>(e.forEach(t=>t.opacity=1),e),Ij=(e,t)=>e.reflow(t.modified()).modifies("opacity");he(Cte,J,{transform(e,t){const n=Mj[e.method]||Mj.parity,r=e.separation||0;let i=t.materialize(t.SOURCE).source,o,s;if(!i||!i.length)return;if(!e.method)return e.modified("method")&&(Lj(i),t=Ij(t,e)),t;if(i=i.filter(Uke),!i.length)return;if(e.sort&&(i=i.slice().sort(e.sort)),o=Lj(i),t=Ij(t,e),o.length>=3&&Nj(o,r)){do o=n(o,r);while(o.length>=3&&Nj(o,r));o.length<3&&!gt(i).opacity&&(o.length>1&&(gt(o).opacity=0),gt(i).opacity=1)}e.boundScale&&e.boundTolerance>=0&&(s=Vke(e.boundScale,e.boundOrient,+e.boundTolerance),i.forEach(l=>{s(l)||(l.opacity=0)}));const a=o[0].mark.bounds.clear();return i.forEach(l=>{l.opacity&&a.union(l.bounds)}),t}});function _te(e){J.call(this,null,e)}he(_te,J,{transform(e,t){const n=t.dataflow;if(t.visit(t.ALL,r=>n.dirty(r)),t.fields&&t.fields.zindex){const r=t.source&&t.source[0];r&&(r.mark.zdirty=!0)}}});const Xr=new Gn;function ng(e,t,n){return e[t]===n?0:(e[t]=n,1)}function Wke(e){var t=e.items[0].orient;return t===Ks||t===ea}function Hke(e){let t=+e.grid;return[e.ticks?t++:-1,e.labels?t++:-1,t+ +e.domain]}function qke(e,t,n,r){var i=t.items[0],o=i.datum,s=i.translate!=null?i.translate:.5,a=i.orient,l=Hke(o),u=i.range,c=i.offset,f=i.position,d=i.minExtent,h=i.maxExtent,p=o.title&&i.items[l[2]].items[0],g=i.titlePadding,m=i.bounds,y=p&&R6(p),v=0,b=0,x,w;switch(Xr.clear().union(m),m.clear(),(x=l[0])>-1&&m.union(i.items[x].bounds),(x=l[1])>-1&&m.union(i.items[x].bounds),a){case $m:v=f||0,b=-c,w=Math.max(d,Math.min(h,-m.y1)),m.add(0,-w).add(u,0),p&&Pw(e,p,w,g,y,0,-1,m);break;case Ks:v=-c,b=f||0,w=Math.max(d,Math.min(h,-m.x1)),m.add(-w,0).add(0,u),p&&Pw(e,p,w,g,y,1,-1,m);break;case ea:v=n+c,b=f||0,w=Math.max(d,Math.min(h,m.x2)),m.add(0,0).add(w,u),p&&Pw(e,p,w,g,y,1,1,m);break;case mf:v=f||0,b=r+c,w=Math.max(d,Math.min(h,m.y2)),m.add(0,0).add(u,w),p&&Pw(e,p,w,g,0,0,1,m);break;default:v=i.x,b=i.y}return Mu(m.translate(v,b),i),ng(i,"x",v+s)|ng(i,"y",b+s)&&(i.bounds=Xr,e.dirty(i),i.bounds=m,e.dirty(i)),i.mark.bounds.clear().union(m)}function Pw(e,t,n,r,i,o,s,a){const l=t.bounds;if(t.auto){const u=s*(n+i+r);let c=0,f=0;e.dirty(t),o?c=(t.x||0)-(t.x=u):f=(t.y||0)-(t.y=u),t.mark.bounds.clear().union(l.translate(-c,-f)),e.dirty(t)}a.union(l)}const zj=(e,t)=>Math.floor(Math.min(e,t)),jj=(e,t)=>Math.ceil(Math.max(e,t));function Gke(e){var t=e.items,n=t.length,r=0,i,o;const s={marks:[],rowheaders:[],rowfooters:[],colheaders:[],colfooters:[],rowtitle:null,coltitle:null};for(;r<n;++r)if(i=t[r],o=i.items,i.marktype===C_)switch(i.role){case W6:case q6:case H6:break;case hte:s.rowheaders.push(...o);break;case pte:s.rowfooters.push(...o);break;case mte:s.colheaders.push(...o);break;case yte:s.colfooters.push(...o);break;case gte:s.rowtitle=o[0];break;case vte:s.coltitle=o[0];break;default:s.marks.push(...o)}return s}function Xke(e){return new Gn().set(0,0,e.width||0,e.height||0)}function Yke(e){const t=e.bounds.clone();return t.empty()?t.set(0,0,0,0):t.translate(-(e.x||0),-(e.y||0))}function dn(e,t,n){const r=ve(e)?e[t]:e;return r??(n!==void 0?n:0)}function Bj(e){return e<0?Math.ceil(-e):0}function $te(e,t,n){var r=!n.nodirty,i=n.bounds===X6?Xke:Yke,o=Xr.set(0,0,0,0),s=dn(n.align,Ic),a=dn(n.align,zc),l=dn(n.padding,Ic),u=dn(n.padding,zc),c=n.columns||t.length,f=c<=0?1:Math.ceil(t.length/c),d=t.length,h=Array(d),p=Array(c),g=0,m=Array(d),y=Array(f),v=0,b=Array(d),x=Array(d),w=Array(d),C,S,k,$,R,O,B,D,L,A,P;for(S=0;S<c;++S)p[S]=0;for(S=0;S<f;++S)y[S]=0;for(S=0;S<d;++S)O=t[S],R=w[S]=i(O),O.x=O.x||0,b[S]=0,O.y=O.y||0,x[S]=0,k=S%c,$=~~(S/c),g=Math.max(g,B=Math.ceil(R.x2)),v=Math.max(v,D=Math.ceil(R.y2)),p[k]=Math.max(p[k],B),y[$]=Math.max(y[$],D),h[S]=l+Bj(R.x1),m[S]=u+Bj(R.y1),r&&e.dirty(t[S]);for(S=0;S<d;++S)S%c===0&&(h[S]=0),S<c&&(m[S]=0);if(s===NF)for(k=1;k<c;++k){for(P=0,S=k;S<d;S+=c)P<h[S]&&(P=h[S]);for(S=k;S<d;S+=c)h[S]=P+p[k-1]}else if(s===Fw){for(P=0,S=0;S<d;++S)S%c&&P<h[S]&&(P=h[S]);for(S=0;S<d;++S)S%c&&(h[S]=P+g)}else for(s=!1,k=1;k<c;++k)for(S=k;S<d;S+=c)h[S]+=p[k-1];if(a===NF)for($=1;$<f;++$){for(P=0,S=$*c,C=S+c;S<C;++S)P<m[S]&&(P=m[S]);for(S=$*c;S<C;++S)m[S]=P+y[$-1]}else if(a===Fw){for(P=0,S=c;S<d;++S)P<m[S]&&(P=m[S]);for(S=c;S<d;++S)m[S]=P+v}else for(a=!1,$=1;$<f;++$)for(S=$*c,C=S+c;S<C;++S)m[S]+=y[$-1];for(L=0,S=0;S<d;++S)L=h[S]+(S%c?L:0),b[S]+=L-t[S].x;for(k=0;k<c;++k)for(A=0,S=k;S<d;S+=c)A+=m[S],x[S]+=A-t[S].y;if(s&&dn(n.center,Ic)&&f>1)for(S=0;S<d;++S)R=s===Fw?g:p[S%c],L=R-w[S].x2-t[S].x-b[S],L>0&&(b[S]+=L/2);if(a&&dn(n.center,zc)&&c!==1)for(S=0;S<d;++S)R=a===Fw?v:y[~~(S/c)],A=R-w[S].y2-t[S].y-x[S],A>0&&(x[S]+=A/2);for(S=0;S<d;++S)o.union(w[S].translate(b[S],x[S]));switch(L=dn(n.anchor,Oke),A=dn(n.anchor,Dke),dn(n.anchor,Ic)){case wi:L-=o.width();break;case MF:L-=o.width()/2}switch(dn(n.anchor,zc)){case wi:A-=o.height();break;case MF:A-=o.height()/2}for(L=Math.round(L),A=Math.round(A),o.clear(),S=0;S<d;++S)t[S].mark.bounds.clear();for(S=0;S<d;++S)O=t[S],O.x+=b[S]+=L,O.y+=x[S]+=A,o.union(O.mark.bounds.union(O.bounds.translate(b[S],x[S]))),r&&e.dirty(O);return o}function Kke(e,t,n){var r=Gke(t),i=r.marks,o=n.bounds===X6?Qke:Jke,s=n.offset,a=n.columns||i.length,l=a<=0?1:Math.ceil(i.length/a),u=l*a,c,f,d,h,p,g,m;const y=$te(e,i,n);y.empty()&&y.set(0,0,0,0),r.rowheaders&&(g=dn(n.headerBand,zc,null),c=Ow(e,r.rowheaders,i,a,l,-dn(s,"rowHeader"),zj,0,o,"x1",0,a,1,g)),r.colheaders&&(g=dn(n.headerBand,Ic,null),f=Ow(e,r.colheaders,i,a,a,-dn(s,"columnHeader"),zj,1,o,"y1",0,1,a,g)),r.rowfooters&&(g=dn(n.footerBand,zc,null),d=Ow(e,r.rowfooters,i,a,l,dn(s,"rowFooter"),jj,0,o,"x2",a-1,a,1,g)),r.colfooters&&(g=dn(n.footerBand,Ic,null),h=Ow(e,r.colfooters,i,a,a,dn(s,"columnFooter"),jj,1,o,"y2",u-a,1,a,g)),r.rowtitle&&(p=dn(n.titleAnchor,zc),m=dn(s,"rowTitle"),m=p===wi?d+m:c-m,g=dn(n.titleBand,zc,.5),Uj(e,r.rowtitle,m,0,y,g)),r.coltitle&&(p=dn(n.titleAnchor,Ic),m=dn(s,"columnTitle"),m=p===wi?h+m:f-m,g=dn(n.titleBand,Ic,.5),Uj(e,r.coltitle,m,1,y,g))}function Qke(e,t){return t==="x1"?e.x||0:t==="y1"?e.y||0:t==="x2"?(e.x||0)+(e.width||0):t==="y2"?(e.y||0)+(e.height||0):void 0}function Jke(e,t){return e.bounds[t]}function Ow(e,t,n,r,i,o,s,a,l,u,c,f,d,h){var p=n.length,g=0,m=0,y,v,b,x,w,C,S,k,$;if(!p)return g;for(y=c;y<p;y+=f)n[y]&&(g=s(g,l(n[y],u)));if(!t.length)return g;for(t.length>i&&(e.warn("Grid headers exceed limit: "+i),t=t.slice(0,i)),g+=o,v=0,x=t.length;v<x;++v)e.dirty(t[v]),t[v].mark.bounds.clear();for(y=c,v=0,x=t.length;v<x;++v,y+=f){for(C=t[v],w=C.mark.bounds,b=y;b>=0&&(S=n[b])==null;b-=d);a?(k=h==null?S.x:Math.round(S.bounds.x1+h*S.bounds.width()),$=g):(k=g,$=h==null?S.y:Math.round(S.bounds.y1+h*S.bounds.height())),w.union(C.bounds.translate(k-(C.x||0),$-(C.y||0))),C.x=k,C.y=$,e.dirty(C),m=s(m,w[u])}return m}function Uj(e,t,n,r,i,o){if(t){e.dirty(t);var s=n,a=n;r?s=Math.round(i.x1+o*i.width()):a=Math.round(i.y1+o*i.height()),t.bounds.translate(s-(t.x||0),a-(t.y||0)),t.mark.bounds.clear().union(t.bounds),t.x=s,t.y=a,e.dirty(t)}}function Zke(e,t){const n=e[t]||{};return(r,i)=>n[r]!=null?n[r]:e[r]!=null?e[r]:i}function e_e(e,t){let n=-1/0;return e.forEach(r=>{r.offset!=null&&(n=Math.max(n,r.offset))}),n>-1/0?n:t}function t_e(e,t,n,r,i,o,s){const a=Zke(n,t),l=e_e(e,a("offset",0)),u=a("anchor",V6),c=u===wi?1:u===MF?.5:0,f={align:NF,bounds:a("bounds",X6),columns:a("direction")==="vertical"?1:e.length,padding:a("margin",8),center:a("center"),nodirty:!0};switch(t){case Ks:f.anchor={x:Math.floor(r.x1)-l,column:wi,y:c*(s||r.height()+2*r.y1),row:u};break;case ea:f.anchor={x:Math.ceil(r.x2)+l,y:c*(s||r.height()+2*r.y1),row:u};break;case $m:f.anchor={y:Math.floor(i.y1)-l,row:wi,x:c*(o||i.width()+2*i.x1),column:u};break;case mf:f.anchor={y:Math.ceil(i.y2)+l,x:c*(o||i.width()+2*i.x1),column:u};break;case Tke:f.anchor={x:l,y:l};break;case Fke:f.anchor={x:o-l,y:l,column:wi};break;case Rke:f.anchor={x:l,y:s-l,row:wi};break;case Pke:f.anchor={x:o-l,y:s-l,column:wi,row:wi};break}return f}function n_e(e,t){var n=t.items[0],r=n.datum,i=n.orient,o=n.bounds,s=n.x,a=n.y,l,u;return n._bounds?n._bounds.clear().union(o):n._bounds=o.clone(),o.clear(),i_e(e,n,n.items[0].items[0]),o=r_e(n,o),l=2*n.padding,u=2*n.padding,o.empty()||(l=Math.ceil(o.width()+l),u=Math.ceil(o.height()+u)),r.type===Ike&&o_e(n.items[0].items[0].items[0].items),i!==G6&&(n.x=s=0,n.y=a=0),n.width=l,n.height=u,Mu(o.set(s,a,s+l,a+u),n),n.mark.bounds.clear().union(o),n}function r_e(e,t){return e.items.forEach(n=>t.union(n.bounds)),t.x1=e.padding,t.y1=e.padding,t}function i_e(e,t,n){var r=t.padding,i=r-n.x,o=r-n.y;if(!t.datum.title)(i||o)&&xy(e,n,i,o);else{var s=t.items[1].items[0],a=s.anchor,l=t.titlePadding||0,u=r-s.x,c=r-s.y;switch(s.orient){case Ks:i+=Math.ceil(s.bounds.width())+l;break;case ea:case mf:break;default:o+=s.bounds.height()+l}switch((i||o)&&xy(e,n,i,o),s.orient){case Ks:c+=Dp(t,n,s,a,1,1);break;case ea:u+=Dp(t,n,s,wi,0,0)+l,c+=Dp(t,n,s,a,1,1);break;case mf:u+=Dp(t,n,s,a,0,0),c+=Dp(t,n,s,wi,-1,0,1)+l;break;default:u+=Dp(t,n,s,a,0,0)}(u||c)&&xy(e,s,u,c),(u=Math.round(s.bounds.x1-r))<0&&(xy(e,n,-u,0),xy(e,s,-u,0))}}function Dp(e,t,n,r,i,o,s){const a=e.datum.type!=="symbol",l=n.datum.vgrad,u=a&&(o||!l)&&!s?t.items[0]:t,c=u.bounds[i?"y2":"x2"]-e.padding,f=l&&o?c:0,d=l&&o?0:c,h=i<=0?0:R6(n);return Math.round(r===V6?f:r===wi?d-h:.5*(c-h))}function xy(e,t,n,r){t.x+=n,t.y+=r,t.bounds.translate(n,r),t.mark.bounds.translate(n,r),e.dirty(t)}function o_e(e){const t=e.reduce((n,r)=>(n[r.column]=Math.max(r.bounds.x2-r.x,n[r.column]||0),n),{});e.forEach(n=>{n.width=t[n.column],n.height=n.bounds.y2-n.y})}function s_e(e,t,n,r,i){var o=t.items[0],s=o.frame,a=o.orient,l=o.anchor,u=o.offset,c=o.padding,f=o.items[0].items[0],d=o.items[1]&&o.items[1].items[0],h=a===Ks||a===ea?r:n,p=0,g=0,m=0,y=0,v=0,b;if(s!==C_?a===Ks?(p=i.y2,h=i.y1):a===ea?(p=i.y1,h=i.y2):(p=i.x1,h=i.x2):a===Ks&&(p=r,h=0),b=l===V6?p:l===wi?h:(p+h)/2,d&&d.text){switch(a){case $m:case mf:v=f.bounds.height()+c;break;case Ks:y=f.bounds.width()+c;break;case ea:y=-f.bounds.width()-c;break}Xr.clear().union(d.bounds),Xr.translate(y-(d.x||0),v-(d.y||0)),ng(d,"x",y)|ng(d,"y",v)&&(e.dirty(d),d.bounds.clear().union(Xr),d.mark.bounds.clear().union(Xr),e.dirty(d)),Xr.clear().union(d.bounds)}else Xr.clear();switch(Xr.union(f.bounds),a){case $m:g=b,m=i.y1-Xr.height()-u;break;case Ks:g=i.x1-Xr.width()-u,m=b;break;case ea:g=i.x2+Xr.width()+u,m=b;break;case mf:g=b,m=i.y2+u;break;default:g=o.x,m=o.y}return ng(o,"x",g)|ng(o,"y",m)&&(Xr.translate(g,m),e.dirty(o),o.bounds.clear().union(Xr),t.bounds.clear().union(Xr),e.dirty(o)),o.bounds}function Ate(e){J.call(this,null,e)}he(Ate,J,{transform(e,t){const n=t.dataflow;return e.mark.items.forEach(r=>{e.layout&&Kke(n,r,e.layout),l_e(n,r,e)}),a_e(e.mark.group)?t.reflow():t}});function a_e(e){return e&&e.mark.role!=="legend-entry"}function l_e(e,t,n){var r=t.items,i=Math.max(0,t.width||0),o=Math.max(0,t.height||0),s=new Gn().set(0,0,i,o),a=s.clone(),l=s.clone(),u=[],c,f,d,h,p,g;for(p=0,g=r.length;p<g;++p)switch(f=r[p],f.role){case W6:h=Wke(f)?a:l,h.union(qke(e,f,i,o));break;case H6:c=f;break;case q6:u.push(n_e(e,f));break;case Mke:case Nke:case hte:case pte:case gte:case mte:case yte:case vte:a.union(f.bounds),l.union(f.bounds);break;default:s.union(f.bounds)}if(u.length){const m={};u.forEach(y=>{d=y.orient||ea,d!==G6&&(m[d]||(m[d]=[])).push(y)});for(const y in m){const v=m[y];$te(e,v,t_e(v,y,n.legends,a,l,i,o))}u.forEach(y=>{const v=y.bounds;if(v.equals(y._bounds)||(y.bounds=y._bounds,e.dirty(y),y.bounds=v,e.dirty(y)),n.autosize&&(n.autosize.type===bte||n.autosize.type===xte||n.autosize.type===wte))switch(y.orient){case Ks:case ea:s.add(v.x1,0).add(v.x2,0);break;case $m:case mf:s.add(0,v.y1).add(0,v.y2)}else s.union(v)})}s.union(a).union(l),c&&s.union(s_e(e,c,i,o,s)),t.clip&&s.set(0,0,t.width||0,t.height||0),u_e(e,t,s,n)}function u_e(e,t,n,r){const i=r.autosize||{},o=i.type;if(e._autosize<1||!o)return;let s=e._width,a=e._height,l=Math.max(0,t.width||0),u=Math.max(0,Math.ceil(-n.x1)),c=Math.max(0,t.height||0),f=Math.max(0,Math.ceil(-n.y1));const d=Math.max(0,Math.ceil(n.x2-l)),h=Math.max(0,Math.ceil(n.y2-c));if(i.contains===Lke){const p=e.padding();s-=p.left+p.right,a-=p.top+p.bottom}o===G6?(u=0,f=0,l=s,c=a):o===bte?(l=Math.max(0,s-u-d),c=Math.max(0,a-f-h)):o===xte?(l=Math.max(0,s-u-d),a=c+f+h):o===wte?(s=l+u+d,c=Math.max(0,a-f-h)):o===zke&&(s=l+u+d,a=c+f+h),e._resizeView(s,a,l,c,[u,f],i.resize)}const c_e=Object.freeze(Object.defineProperty({__proto__:null,bound:Ste,identifier:Y6,mark:Ete,overlap:Cte,render:_te,viewlayout:Ate},Symbol.toStringTag,{value:"Module"}));function Tte(e){J.call(this,null,e)}he(Tte,J,{transform(e,t){if(this.value&&!e.modified())return t.StopPropagation;var n=t.dataflow.locale(),r=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=this.value,o=e.scale,s=e.count==null?e.values?e.values.length:10:e.count,a=h6(o,s,e.minstep),l=e.format||nee(n,o,a,e.formatSpecifier,e.formatType,!!e.values),u=e.values?tee(o,e.values,a):p6(o,a);return i&&(r.rem=i),i=u.map((c,f)=>Rt({index:f/(u.length-1||1),value:c,label:l(c)})),e.extra&&i.length&&i.push(Rt({index:-1,extra:{value:i[0].value},label:""})),r.source=i,r.add=i,this.value=i,r}});function Fte(e){J.call(this,null,e)}function f_e(){return Rt({})}function d_e(e){const t=x0().test(n=>n.exit);return t.lookup=n=>t.get(e(n)),t}he(Fte,J,{transform(e,t){var n=t.dataflow,r=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=e.item||f_e,o=e.key||De,s=this.value;return te(r.encode)&&(r.encode=null),s&&(e.modified("key")||t.modified(o))&&ee("DataJoin does not support modified key function or fields."),s||(t=t.addAll(),this.value=s=d_e(o)),t.visit(t.ADD,a=>{const l=o(a);let u=s.get(l);u?u.exit?(s.empty--,r.add.push(u)):r.mod.push(u):(u=i(a),s.set(l,u),r.add.push(u)),u.datum=a,u.exit=!1}),t.visit(t.MOD,a=>{const l=o(a),u=s.get(l);u&&(u.datum=a,r.mod.push(u))}),t.visit(t.REM,a=>{const l=o(a),u=s.get(l);a===u.datum&&!u.exit&&(r.rem.push(u),u.exit=!0,++s.empty)}),t.changed(t.ADD_MOD)&&r.modifies("datum"),(t.clean()||e.clean&&s.empty>n.cleanThreshold)&&n.runAfter(s.clean),r}});function Rte(e){J.call(this,null,e)}he(Rte,J,{transform(e,t){var n=t.fork(t.ADD_REM),r=e.mod||!1,i=e.encoders,o=t.encode;if(te(o))if(n.changed()||o.every(f=>i[f]))o=o[0],n.encode=null;else return t.StopPropagation;var s=o==="enter",a=i.update||cc,l=i.enter||cc,u=i.exit||cc,c=(o&&!s?i[o]:a)||cc;if(t.changed(t.ADD)&&(t.visit(t.ADD,f=>{l(f,e),a(f,e)}),n.modifies(l.output),n.modifies(a.output),c!==cc&&c!==a&&(t.visit(t.ADD,f=>{c(f,e)}),n.modifies(c.output))),t.changed(t.REM)&&u!==cc&&(t.visit(t.REM,f=>{u(f,e)}),n.modifies(u.output)),s||c!==cc){const f=t.MOD|(e.modified()?t.REFLOW:0);s?(t.visit(f,d=>{const h=l(d,e)||r;(c(d,e)||h)&&n.mod.push(d)}),n.mod.length&&n.modifies(l.output)):t.visit(f,d=>{(c(d,e)||r)&&n.mod.push(d)}),n.mod.length&&n.modifies(c.output)}return n.changed()?n:t.StopPropagation}});function Pte(e){J.call(this,[],e)}he(Pte,J,{transform(e,t){if(this.value!=null&&!e.modified())return t.StopPropagation;var n=t.dataflow.locale(),r=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=this.value,o=e.type||K2,s=e.scale,a=+e.limit,l=h6(s,e.count==null?5:e.count,e.minstep),u=!!e.values||o===K2,c=e.format||see(n,s,l,o,e.formatSpecifier,e.formatType,u),f=e.values||oee(s,l),d,h,p,g,m;return i&&(r.rem=i),o===K2?(a&&f.length>a?(t.dataflow.warn("Symbol legend count exceeds limit, filtering items."),i=f.slice(0,a-1),m=!0):i=f,et(p=e.size)?(!e.values&&s(i[0])===0&&(i=i.slice(1)),g=i.reduce((y,v)=>Math.max(y,p(v,e)),0)):p=li(g=p||8),i=i.map((y,v)=>Rt({index:v,label:c(y,v,i),value:y,offset:g,size:p(y,e)})),m&&(m=f[i.length],i.push(Rt({index:i.length,label:`…${f.length-i.length} entries`,value:m,offset:g,size:p(m,e)})))):o===zSe?(d=s.domain(),h=JZ(s,d[0],gt(d)),f.length<3&&!e.values&&d[0]!==gt(d)&&(f=[d[0],gt(d)]),i=f.map((y,v)=>Rt({index:v,label:c(y,v,f),value:y,perc:h(y)}))):(p=f.length-1,h=KSe(s),i=f.map((y,v)=>Rt({index:v,label:c(y,v,f),value:y,perc:v?h(y):0,perc2:v===p?1:h(f[v+1])}))),r.source=i,r.add=i,this.value=i,r}});const h_e=e=>e.source.x,p_e=e=>e.source.y,g_e=e=>e.target.x,m_e=e=>e.target.y;function K6(e){J.call(this,{},e)}K6.Definition={type:"LinkPath",metadata:{modifies:!0},params:[{name:"sourceX",type:"field",default:"source.x"},{name:"sourceY",type:"field",default:"source.y"},{name:"targetX",type:"field",default:"target.x"},{name:"targetY",type:"field",default:"target.y"},{name:"orient",type:"enum",default:"vertical",values:["horizontal","vertical","radial"]},{name:"shape",type:"enum",default:"line",values:["line","arc","curve","diagonal","orthogonal"]},{name:"require",type:"signal"},{name:"as",type:"string",default:"path"}]};he(K6,J,{transform(e,t){var n=e.sourceX||h_e,r=e.sourceY||p_e,i=e.targetX||g_e,o=e.targetY||m_e,s=e.as||"path",a=e.orient||"vertical",l=e.shape||"line",u=Vj.get(l+"-"+a)||Vj.get(l);return u||ee("LinkPath unsupported type: "+e.shape+(e.orient?"-"+e.orient:"")),t.visit(t.SOURCE,c=>{c[s]=u(n(c),r(c),i(c),o(c))}),t.reflow(e.modified()).modifies(s)}});const Ote=(e,t,n,r)=>"M"+e+","+t+"L"+n+","+r,y_e=(e,t,n,r)=>Ote(t*Math.cos(e),t*Math.sin(e),r*Math.cos(n),r*Math.sin(n)),Dte=(e,t,n,r)=>{var i=n-e,o=r-t,s=Math.hypot(i,o)/2,a=180*Math.atan2(o,i)/Math.PI;return"M"+e+","+t+"A"+s+","+s+" "+a+" 0 1 "+n+","+r},v_e=(e,t,n,r)=>Dte(t*Math.cos(e),t*Math.sin(e),r*Math.cos(n),r*Math.sin(n)),Mte=(e,t,n,r)=>{const i=n-e,o=r-t,s=.2*(i+o),a=.2*(o-i);return"M"+e+","+t+"C"+(e+s)+","+(t+a)+" "+(n+a)+","+(r-s)+" "+n+","+r},b_e=(e,t,n,r)=>Mte(t*Math.cos(e),t*Math.sin(e),r*Math.cos(n),r*Math.sin(n)),x_e=(e,t,n,r)=>"M"+e+","+t+"V"+r+"H"+n,w_e=(e,t,n,r)=>"M"+e+","+t+"H"+n+"V"+r,S_e=(e,t,n,r)=>{const i=Math.cos(e),o=Math.sin(e),s=Math.cos(n),a=Math.sin(n),l=Math.abs(n-e)>Math.PI?n<=e:n>e;return"M"+t*i+","+t*o+"A"+t+","+t+" 0 0,"+(l?1:0)+" "+t*s+","+t*a+"L"+r*s+","+r*a},E_e=(e,t,n,r)=>{const i=(e+n)/2;return"M"+e+","+t+"C"+i+","+t+" "+i+","+r+" "+n+","+r},C_e=(e,t,n,r)=>{const i=(t+r)/2;return"M"+e+","+t+"C"+e+","+i+" "+n+","+i+" "+n+","+r},k_e=(e,t,n,r)=>{const i=Math.cos(e),o=Math.sin(e),s=Math.cos(n),a=Math.sin(n),l=(t+r)/2;return"M"+t*i+","+t*o+"C"+l*i+","+l*o+" "+l*s+","+l*a+" "+r*s+","+r*a},Vj=x0({line:Ote,"line-radial":y_e,arc:Dte,"arc-radial":v_e,curve:Mte,"curve-radial":b_e,"orthogonal-horizontal":x_e,"orthogonal-vertical":w_e,"orthogonal-radial":S_e,"diagonal-horizontal":E_e,"diagonal-vertical":C_e,"diagonal-radial":k_e});function Q6(e){J.call(this,null,e)}Q6.Definition={type:"Pie",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"startAngle",type:"number",default:0},{name:"endAngle",type:"number",default:6.283185307179586},{name:"sort",type:"boolean",default:!1},{name:"as",type:"string",array:!0,length:2,default:["startAngle","endAngle"]}]};he(Q6,J,{transform(e,t){var n=e.as||["startAngle","endAngle"],r=n[0],i=n[1],o=e.field||y0,s=e.startAngle||0,a=e.endAngle!=null?e.endAngle:2*Math.PI,l=t.source,u=l.map(o),c=u.length,f=s,d=(a-s)/VK(u),h=_o(c),p,g,m;for(e.sort&&h.sort((y,v)=>u[y]-u[v]),p=0;p<c;++p)m=u[h[p]],g=l[h[p]],g[r]=f,g[i]=f+=m*d;return this.value=u,t.reflow(e.modified()).modifies(n)}});const __e=5;function $_e(e){const t=e.type;return!e.bins&&(t===wm||t===Kb||t===Qb)}function Nte(e){return c6(e)&&e!==ll}const A_e=ua(["set","modified","clear","type","scheme","schemeExtent","schemeCount","domain","domainMin","domainMid","domainMax","domainRaw","domainImplicit","nice","zero","bins","range","rangeStep","round","reverse","interpolate","interpolateGamma"]);function Lte(e){J.call(this,null,e),this.modified(!0)}he(Lte,J,{transform(e,t){var n=t.dataflow,r=this.value,i=T_e(e);(!r||i!==r.type)&&(this.value=r=Ct(i)());for(i in e)if(!A_e[i]){if(i==="padding"&&Nte(r.type))continue;et(r[i])?r[i](e[i]):n.warn("Unsupported scale property: "+i)}return M_e(r,e,D_e(r,e,R_e(r,e,n))),t.fork(t.NO_SOURCE|t.NO_FIELDS)}});function T_e(e){var t=e.type,n="",r;return t===ll?ll+"-"+wm:(F_e(e)&&(r=e.rawDomain?e.rawDomain.length:e.domain?e.domain.length+ +(e.domainMid!=null):0,n=r===2?ll+"-":r===3?$0+"-":""),(n+t||wm).toLowerCase())}function F_e(e){const t=e.type;return c6(t)&&t!==yh&&t!==vh&&(e.scheme||e.range&&e.range.length&&e.range.every(we))}function R_e(e,t,n){const r=P_e(e,t.domainRaw,n);if(r>-1)return r;var i=t.domain,o=e.type,s=t.zero||t.zero===void 0&&$_e(e),a,l;if(!i)return 0;if((s||t.domainMin!=null||t.domainMax!=null||t.domainMid!=null)&&(a=(i=i.slice()).length-1||1,s&&(i[0]>0&&(i[0]=0),i[a]<0&&(i[a]=0)),t.domainMin!=null&&(i[0]=t.domainMin),t.domainMax!=null&&(i[a]=t.domainMax),t.domainMid!=null)){l=t.domainMid;const u=l>i[a]?a+1:l<i[0]?0:a;u!==a&&n.warn("Scale domainMid exceeds domain min or max.",l),i.splice(u,0,l)}return Nte(o)&&t.padding&&i[0]!==gt(i)&&(i=O_e(o,i,t.range,t.padding,t.exponent,t.constant)),e.domain(Ite(o,i,n)),o===s6&&e.unknown(t.domainImplicit?mF:void 0),t.nice&&e.nice&&e.nice(t.nice!==!0&&h6(e,t.nice)||null),i.length}function P_e(e,t,n){return t?(e.domain(Ite(e.type,t,n)),t.length):-1}function O_e(e,t,n,r,i,o){var s=Math.abs(gt(n)-n[0]),a=s/(s-2*r),l=e===ku?$D(t,null,a):e===Qb?tE(t,null,a,.5):e===Kb?tE(t,null,a,i||1):e===u_?AD(t,null,a,o||1):_D(t,null,a);return t=t.slice(),t[0]=l[0],t[t.length-1]=l[1],t}function Ite(e,t,n){if(GZ(e)){var r=Math.abs(t.reduce((i,o)=>i+(o<0?-1:o>0?1:0),0));r!==t.length&&n.warn("Log scale domain includes zero: "+de(t))}return t}function D_e(e,t,n){let r=t.bins;if(r&&!te(r)){const i=e.domain(),o=i[0],s=gt(i),a=r.step;let l=r.start==null?o:r.start,u=r.stop==null?s:r.stop;a||ee("Scale bins parameter missing step property."),l<o&&(l=a*Math.ceil(o/a)),u>s&&(u=a*Math.floor(s/a)),r=_o(l,u+a/2,a)}return r?e.bins=r:e.bins&&delete e.bins,e.type===a6&&(r?!t.domain&&!t.domainRaw&&(e.domain(r),n=r.length):e.bins=e.domain()),n}function M_e(e,t,n){var r=e.type,i=t.round||!1,o=t.range;if(t.rangeStep!=null)o=N_e(r,t,n);else if(t.scheme&&(o=L_e(r,t,n),et(o))){if(e.interpolator)return e.interpolator(o);ee(`Scale type ${r} does not support interpolating color schemes.`)}if(o&&XZ(r))return e.interpolator(d_(LF(o,t.reverse),t.interpolate,t.interpolateGamma));o&&t.interpolate&&e.interpolate?e.interpolate(f6(t.interpolate,t.interpolateGamma)):et(e.round)?e.round(i):et(e.rangeRound)&&e.interpolate(i?_0:Of),o&&e.range(LF(o,t.reverse))}function N_e(e,t,n){e!==BZ&&e!==SF&&ee("Only band and point scales support rangeStep.");var r=(t.paddingOuter!=null?t.paddingOuter:t.padding)||0,i=e===SF?1:(t.paddingInner!=null?t.paddingInner:t.padding)||0;return[0,t.rangeStep*o6(n,i,r)]}function L_e(e,t,n){var r=t.schemeExtent,i,o;return te(t.scheme)?o=d_(t.scheme,t.interpolate,t.interpolateGamma):(i=t.scheme.toLowerCase(),o=d6(i),o||ee(`Unrecognized scheme name: ${t.scheme}`)),n=e===f_?n+1:e===a6?n-1:e===Sm||e===c_?+t.schemeCount||__e:n,XZ(e)?Wj(o,r,t.reverse):et(o)?QZ(Wj(o,r),n):e===s6?o:o.slice(0,n)}function Wj(e,t,n){return et(e)&&(t||n)?KZ(e,LF(t||[0,1],n)):e}function LF(e,t){return t?e.slice().reverse():e}function zte(e){J.call(this,null,e)}he(zte,J,{transform(e,t){const n=e.modified("sort")||t.changed(t.ADD)||t.modified(e.sort.fields)||t.modified("datum");return n&&t.source.sort(Kh(e.sort)),this.modified(n),t}});const Hj="zero",jte="center",Bte="normalize",Ute=["y0","y1"];function J6(e){J.call(this,null,e)}J6.Definition={type:"Stack",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"groupby",type:"field",array:!0},{name:"sort",type:"compare"},{name:"offset",type:"enum",default:Hj,values:[Hj,jte,Bte]},{name:"as",type:"string",array:!0,length:2,default:Ute}]};he(J6,J,{transform(e,t){var n=e.as||Ute,r=n[0],i=n[1],o=Kh(e.sort),s=e.field||y0,a=e.offset===jte?I_e:e.offset===Bte?z_e:j_e,l,u,c,f;for(l=B_e(t.source,e.groupby,o,s),u=0,c=l.length,f=l.max;u<c;++u)a(l[u],f,s,r,i);return t.reflow(e.modified()).modifies(n)}});function I_e(e,t,n,r,i){for(var o=(t-e.sum)/2,s=e.length,a=0,l;a<s;++a)l=e[a],l[r]=o,l[i]=o+=Math.abs(n(l))}function z_e(e,t,n,r,i){for(var o=1/e.sum,s=0,a=e.length,l=0,u=0,c;l<a;++l)c=e[l],c[r]=s,c[i]=s=o*(u+=Math.abs(n(c)))}function j_e(e,t,n,r,i){for(var o=0,s=0,a=e.length,l=0,u,c;l<a;++l)c=e[l],u=+n(c),u<0?(c[r]=s,c[i]=s+=u):(c[r]=o,c[i]=o+=u)}function B_e(e,t,n,r){var i=[],o=g=>g(c),s,a,l,u,c,f,d,h,p;if(t==null)i.push(e.slice());else for(s={},a=0,l=e.length;a<l;++a)c=e[a],f=t.map(o),d=s[f],d||(s[f]=d=[],i.push(d)),d.push(c);for(f=0,p=0,u=i.length;f<u;++f){for(d=i[f],a=0,h=0,l=d.length;a<l;++a)h+=Math.abs(r(d[a]));d.sum=h,h>p&&(p=h),n&&d.sort(n)}return i.max=p,i}const U_e=Object.freeze(Object.defineProperty({__proto__:null,axisticks:Tte,datajoin:Fte,encode:Rte,legendentries:Pte,linkpath:K6,pie:Q6,scale:Lte,sortitems:zte,stack:J6},Symbol.toStringTag,{value:"Module"}));var Le=1e-6,OE=1e-12,rt=Math.PI,Fn=rt/2,DE=rt/4,Di=rt*2,Nn=180/rt,nt=rt/180,pt=Math.abs,T0=Math.atan,Es=Math.atan2,je=Math.cos,Dw=Math.ceil,Vte=Math.exp,IF=Math.hypot,ME=Math.log,ET=Math.pow,Me=Math.sin,fs=Math.sign||function(e){return e>0?1:e<0?-1:0},Mi=Math.sqrt,Z6=Math.tan;function Wte(e){return e>1?0:e<-1?rt:Math.acos(e)}function lo(e){return e>1?Fn:e<-1?-Fn:Math.asin(e)}function Pr(){}function NE(e,t){e&&Gj.hasOwnProperty(e.type)&&Gj[e.type](e,t)}var qj={Feature:function(e,t){NE(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,i=n.length;++r<i;)NE(n[r].geometry,t)}},Gj={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){zF(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)zF(n[r],t,0)},Polygon:function(e,t){Xj(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)Xj(n[r],t)},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,i=n.length;++r<i;)NE(n[r],t)}};function zF(e,t,n){var r=-1,i=e.length-n,o;for(t.lineStart();++r<i;)o=e[r],t.point(o[0],o[1],o[2]);t.lineEnd()}function Xj(e,t){var n=-1,r=e.length;for(t.polygonStart();++n<r;)zF(e[n],t,1);t.polygonEnd()}function Jl(e,t){e&&qj.hasOwnProperty(e.type)?qj[e.type](e,t):NE(e,t)}var LE=new Fi,IE=new Fi,Hte,qte,jF,BF,UF,vl={point:Pr,lineStart:Pr,lineEnd:Pr,polygonStart:function(){LE=new Fi,vl.lineStart=V_e,vl.lineEnd=W_e},polygonEnd:function(){var e=+LE;IE.add(e<0?Di+e:e),this.lineStart=this.lineEnd=this.point=Pr},sphere:function(){IE.add(Di)}};function V_e(){vl.point=H_e}function W_e(){Gte(Hte,qte)}function H_e(e,t){vl.point=Gte,Hte=e,qte=t,e*=nt,t*=nt,jF=e,BF=je(t=t/2+DE),UF=Me(t)}function Gte(e,t){e*=nt,t*=nt,t=t/2+DE;var n=e-jF,r=n>=0?1:-1,i=r*n,o=je(t),s=Me(t),a=UF*s,l=BF*o+a*je(i),u=a*r*Me(i);LE.add(Es(u,l)),jF=e,BF=o,UF=s}function q_e(e){return IE=new Fi,Jl(e,vl),IE*2}function zE(e){return[Es(e[1],e[0]),lo(e[2])]}function xh(e){var t=e[0],n=e[1],r=je(n);return[r*je(t),r*Me(t),Me(n)]}function Mw(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function Am(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function CT(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function Nw(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function jE(e){var t=Mi(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}var bn,Gi,$n,So,yd,Xte,Yte,Rg,U1,yc,_u,Yl={point:VF,lineStart:Yj,lineEnd:Kj,polygonStart:function(){Yl.point=Qte,Yl.lineStart=G_e,Yl.lineEnd=X_e,U1=new Fi,vl.polygonStart()},polygonEnd:function(){vl.polygonEnd(),Yl.point=VF,Yl.lineStart=Yj,Yl.lineEnd=Kj,LE<0?(bn=-($n=180),Gi=-(So=90)):U1>Le?So=90:U1<-Le&&(Gi=-90),_u[0]=bn,_u[1]=$n},sphere:function(){bn=-($n=180),Gi=-(So=90)}};function VF(e,t){yc.push(_u=[bn=e,$n=e]),t<Gi&&(Gi=t),t>So&&(So=t)}function Kte(e,t){var n=xh([e*nt,t*nt]);if(Rg){var r=Am(Rg,n),i=[r[1],-r[0],0],o=Am(i,r);jE(o),o=zE(o);var s=e-yd,a=s>0?1:-1,l=o[0]*Nn*a,u,c=pt(s)>180;c^(a*yd<l&&l<a*e)?(u=o[1]*Nn,u>So&&(So=u)):(l=(l+360)%360-180,c^(a*yd<l&&l<a*e)?(u=-o[1]*Nn,u<Gi&&(Gi=u)):(t<Gi&&(Gi=t),t>So&&(So=t))),c?e<yd?xo(bn,e)>xo(bn,$n)&&($n=e):xo(e,$n)>xo(bn,$n)&&(bn=e):$n>=bn?(e<bn&&(bn=e),e>$n&&($n=e)):e>yd?xo(bn,e)>xo(bn,$n)&&($n=e):xo(e,$n)>xo(bn,$n)&&(bn=e)}else yc.push(_u=[bn=e,$n=e]);t<Gi&&(Gi=t),t>So&&(So=t),Rg=n,yd=e}function Yj(){Yl.point=Kte}function Kj(){_u[0]=bn,_u[1]=$n,Yl.point=VF,Rg=null}function Qte(e,t){if(Rg){var n=e-yd;U1.add(pt(n)>180?n+(n>0?360:-360):n)}else Xte=e,Yte=t;vl.point(e,t),Kte(e,t)}function G_e(){vl.lineStart()}function X_e(){Qte(Xte,Yte),vl.lineEnd(),pt(U1)>Le&&(bn=-($n=180)),_u[0]=bn,_u[1]=$n,Rg=null}function xo(e,t){return(t-=e)<0?t+360:t}function Y_e(e,t){return e[0]-t[0]}function Qj(e,t){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}function K_e(e){var t,n,r,i,o,s,a;if(So=$n=-(bn=Gi=1/0),yc=[],Jl(e,Yl),n=yc.length){for(yc.sort(Y_e),t=1,r=yc[0],o=[r];t<n;++t)i=yc[t],Qj(r,i[0])||Qj(r,i[1])?(xo(r[0],i[1])>xo(r[0],r[1])&&(r[1]=i[1]),xo(i[0],r[1])>xo(r[0],r[1])&&(r[0]=i[0])):o.push(r=i);for(s=-1/0,n=o.length-1,t=0,r=o[n];t<=n;r=i,++t)i=o[t],(a=xo(r[1],i[0]))>s&&(s=a,bn=i[0],$n=r[1])}return yc=_u=null,bn===1/0||Gi===1/0?[[NaN,NaN],[NaN,NaN]]:[[bn,Gi],[$n,So]]}var l1,BE,UE,VE,WE,HE,qE,GE,WF,HF,qF,Jte,Zte,Ei,Ci,ki,ta={sphere:Pr,point:eN,lineStart:Jj,lineEnd:Zj,polygonStart:function(){ta.lineStart=Z_e,ta.lineEnd=e$e},polygonEnd:function(){ta.lineStart=Jj,ta.lineEnd=Zj}};function eN(e,t){e*=nt,t*=nt;var n=je(t);ux(n*je(e),n*Me(e),Me(t))}function ux(e,t,n){++l1,UE+=(e-UE)/l1,VE+=(t-VE)/l1,WE+=(n-WE)/l1}function Jj(){ta.point=Q_e}function Q_e(e,t){e*=nt,t*=nt;var n=je(t);Ei=n*je(e),Ci=n*Me(e),ki=Me(t),ta.point=J_e,ux(Ei,Ci,ki)}function J_e(e,t){e*=nt,t*=nt;var n=je(t),r=n*je(e),i=n*Me(e),o=Me(t),s=Es(Mi((s=Ci*o-ki*i)*s+(s=ki*r-Ei*o)*s+(s=Ei*i-Ci*r)*s),Ei*r+Ci*i+ki*o);BE+=s,HE+=s*(Ei+(Ei=r)),qE+=s*(Ci+(Ci=i)),GE+=s*(ki+(ki=o)),ux(Ei,Ci,ki)}function Zj(){ta.point=eN}function Z_e(){ta.point=t$e}function e$e(){ene(Jte,Zte),ta.point=eN}function t$e(e,t){Jte=e,Zte=t,e*=nt,t*=nt,ta.point=ene;var n=je(t);Ei=n*je(e),Ci=n*Me(e),ki=Me(t),ux(Ei,Ci,ki)}function ene(e,t){e*=nt,t*=nt;var n=je(t),r=n*je(e),i=n*Me(e),o=Me(t),s=Ci*o-ki*i,a=ki*r-Ei*o,l=Ei*i-Ci*r,u=IF(s,a,l),c=lo(u),f=u&&-c/u;WF.add(f*s),HF.add(f*a),qF.add(f*l),BE+=c,HE+=c*(Ei+(Ei=r)),qE+=c*(Ci+(Ci=i)),GE+=c*(ki+(ki=o)),ux(Ei,Ci,ki)}function n$e(e){l1=BE=UE=VE=WE=HE=qE=GE=0,WF=new Fi,HF=new Fi,qF=new Fi,Jl(e,ta);var t=+WF,n=+HF,r=+qF,i=IF(t,n,r);return i<OE&&(t=HE,n=qE,r=GE,BE<Le&&(t=UE,n=VE,r=WE),i=IF(t,n,r),i<OE)?[NaN,NaN]:[Es(n,t)*Nn,lo(r/i)*Nn]}function GF(e,t){function n(r,i){return r=e(r,i),t(r[0],r[1])}return e.invert&&t.invert&&(n.invert=function(r,i){return r=t.invert(r,i),r&&e.invert(r[0],r[1])}),n}function XF(e,t){return pt(e)>rt&&(e-=Math.round(e/Di)*Di),[e,t]}XF.invert=XF;function tne(e,t,n){return(e%=Di)?t||n?GF(tB(e),nB(t,n)):tB(e):t||n?nB(t,n):XF}function eB(e){return function(t,n){return t+=e,pt(t)>rt&&(t-=Math.round(t/Di)*Di),[t,n]}}function tB(e){var t=eB(e);return t.invert=eB(-e),t}function nB(e,t){var n=je(e),r=Me(e),i=je(t),o=Me(t);function s(a,l){var u=je(l),c=je(a)*u,f=Me(a)*u,d=Me(l),h=d*n+c*r;return[Es(f*i-h*o,c*n-d*r),lo(h*i+f*o)]}return s.invert=function(a,l){var u=je(l),c=je(a)*u,f=Me(a)*u,d=Me(l),h=d*i-f*o;return[Es(f*i+d*o,c*n+h*r),lo(h*n-c*r)]},s}function r$e(e){e=tne(e[0]*nt,e[1]*nt,e.length>2?e[2]*nt:0);function t(n){return n=e(n[0]*nt,n[1]*nt),n[0]*=Nn,n[1]*=Nn,n}return t.invert=function(n){return n=e.invert(n[0]*nt,n[1]*nt),n[0]*=Nn,n[1]*=Nn,n},t}function i$e(e,t,n,r,i,o){if(n){var s=je(t),a=Me(t),l=r*n;i==null?(i=t+r*Di,o=t-l/2):(i=rB(s,i),o=rB(s,o),(r>0?i<o:i>o)&&(i+=r*Di));for(var u,c=i;r>0?c>o:c<o;c-=l)u=zE([s,-a*je(c),-a*Me(c)]),e.point(u[0],u[1])}}function rB(e,t){t=xh(t),t[0]-=e,jE(t);var n=Wte(-t[1]);return((-t[2]<0?-n:n)+Di-Le)%Di}function nne(){var e=[],t;return{point:function(n,r,i){t.push([n,r,i])},lineStart:function(){e.push(t=[])},lineEnd:Pr,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}}function oS(e,t){return pt(e[0]-t[0])<Le&&pt(e[1]-t[1])<Le}function Lw(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function rne(e,t,n,r,i){var o=[],s=[],a,l;if(e.forEach(function(p){if(!((g=p.length-1)<=0)){var g,m=p[0],y=p[g],v;if(oS(m,y)){if(!m[2]&&!y[2]){for(i.lineStart(),a=0;a<g;++a)i.point((m=p[a])[0],m[1]);i.lineEnd();return}y[0]+=2*Le}o.push(v=new Lw(m,p,null,!0)),s.push(v.o=new Lw(m,null,v,!1)),o.push(v=new Lw(y,p,null,!1)),s.push(v.o=new Lw(y,null,v,!0))}}),!!o.length){for(s.sort(t),iB(o),iB(s),a=0,l=s.length;a<l;++a)s[a].e=n=!n;for(var u=o[0],c,f;;){for(var d=u,h=!0;d.v;)if((d=d.n)===u)return;c=d.z,i.lineStart();do{if(d.v=d.o.v=!0,d.e){if(h)for(a=0,l=c.length;a<l;++a)i.point((f=c[a])[0],f[1]);else r(d.x,d.n.x,1,i);d=d.n}else{if(h)for(c=d.p.z,a=c.length-1;a>=0;--a)i.point((f=c[a])[0],f[1]);else r(d.x,d.p.x,-1,i);d=d.p}d=d.o,c=d.z,h=!h}while(!d.v);i.lineEnd()}}}function iB(e){if(t=e.length){for(var t,n=0,r=e[0],i;++n<t;)r.n=i=e[n],i.p=r,r=i;r.n=i=e[0],i.p=r}}function kT(e){return pt(e[0])<=rt?e[0]:fs(e[0])*((pt(e[0])+rt)%Di-rt)}function o$e(e,t){var n=kT(t),r=t[1],i=Me(r),o=[Me(n),-je(n),0],s=0,a=0,l=new Fi;i===1?r=Fn+Le:i===-1&&(r=-Fn-Le);for(var u=0,c=e.length;u<c;++u)if(d=(f=e[u]).length)for(var f,d,h=f[d-1],p=kT(h),g=h[1]/2+DE,m=Me(g),y=je(g),v=0;v<d;++v,p=x,m=C,y=S,h=b){var b=f[v],x=kT(b),w=b[1]/2+DE,C=Me(w),S=je(w),k=x-p,$=k>=0?1:-1,R=$*k,O=R>rt,B=m*C;if(l.add(Es(B*$*Me(R),y*S+B*je(R))),s+=O?k+$*Di:k,O^p>=n^x>=n){var D=Am(xh(h),xh(b));jE(D);var L=Am(o,D);jE(L);var A=(O^k>=0?-1:1)*lo(L[2]);(r>A||r===A&&(D[0]||D[1]))&&(a+=O^k>=0?1:-1)}}return(s<-Le||s<Le&&l<-OE)^a&1}function ine(e,t,n,r){return function(i){var o=t(i),s=nne(),a=t(s),l=!1,u,c,f,d={point:h,lineStart:g,lineEnd:m,polygonStart:function(){d.point=y,d.lineStart=v,d.lineEnd=b,c=[],u=[]},polygonEnd:function(){d.point=h,d.lineStart=g,d.lineEnd=m,c=UK(c);var x=o$e(u,r);c.length?(l||(i.polygonStart(),l=!0),rne(c,a$e,x,n,i)):x&&(l||(i.polygonStart(),l=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),l&&(i.polygonEnd(),l=!1),c=u=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function h(x,w){e(x,w)&&i.point(x,w)}function p(x,w){o.point(x,w)}function g(){d.point=p,o.lineStart()}function m(){d.point=h,o.lineEnd()}function y(x,w){f.push([x,w]),a.point(x,w)}function v(){a.lineStart(),f=[]}function b(){y(f[0][0],f[0][1]),a.lineEnd();var x=a.clean(),w=s.result(),C,S=w.length,k,$,R;if(f.pop(),u.push(f),f=null,!!S){if(x&1){if($=w[0],(k=$.length-1)>0){for(l||(i.polygonStart(),l=!0),i.lineStart(),C=0;C<k;++C)i.point((R=$[C])[0],R[1]);i.lineEnd()}return}S>1&&x&2&&w.push(w.pop().concat(w.shift())),c.push(w.filter(s$e))}}return d}}function s$e(e){return e.length>1}function a$e(e,t){return((e=e.x)[0]<0?e[1]-Fn-Le:Fn-e[1])-((t=t.x)[0]<0?t[1]-Fn-Le:Fn-t[1])}const oB=ine(function(){return!0},l$e,c$e,[-rt,-Fn]);function l$e(e){var t=NaN,n=NaN,r=NaN,i;return{lineStart:function(){e.lineStart(),i=1},point:function(o,s){var a=o>0?rt:-rt,l=pt(o-t);pt(l-rt)<Le?(e.point(t,n=(n+s)/2>0?Fn:-Fn),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(a,n),e.point(o,n),i=0):r!==a&&l>=rt&&(pt(t-r)<Le&&(t-=r*Le),pt(o-a)<Le&&(o-=a*Le),n=u$e(t,n,o,s),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(a,n),i=0),e.point(t=o,n=s),r=a},lineEnd:function(){e.lineEnd(),t=n=NaN},clean:function(){return 2-i}}}function u$e(e,t,n,r){var i,o,s=Me(e-n);return pt(s)>Le?T0((Me(t)*(o=je(r))*Me(n)-Me(r)*(i=je(t))*Me(e))/(i*o*s)):(t+r)/2}function c$e(e,t,n,r){var i;if(e==null)i=n*Fn,r.point(-rt,i),r.point(0,i),r.point(rt,i),r.point(rt,0),r.point(rt,-i),r.point(0,-i),r.point(-rt,-i),r.point(-rt,0),r.point(-rt,i);else if(pt(e[0]-t[0])>Le){var o=e[0]<t[0]?rt:-rt;i=n*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(t[0],t[1])}function f$e(e){var t=je(e),n=2*nt,r=t>0,i=pt(t)>Le;function o(c,f,d,h){i$e(h,e,n,d,c,f)}function s(c,f){return je(c)*je(f)>t}function a(c){var f,d,h,p,g;return{lineStart:function(){p=h=!1,g=1},point:function(m,y){var v=[m,y],b,x=s(m,y),w=r?x?0:u(m,y):x?u(m+(m<0?rt:-rt),y):0;if(!f&&(p=h=x)&&c.lineStart(),x!==h&&(b=l(f,v),(!b||oS(f,b)||oS(v,b))&&(v[2]=1)),x!==h)g=0,x?(c.lineStart(),b=l(v,f),c.point(b[0],b[1])):(b=l(f,v),c.point(b[0],b[1],2),c.lineEnd()),f=b;else if(i&&f&&r^x){var C;!(w&d)&&(C=l(v,f,!0))&&(g=0,r?(c.lineStart(),c.point(C[0][0],C[0][1]),c.point(C[1][0],C[1][1]),c.lineEnd()):(c.point(C[1][0],C[1][1]),c.lineEnd(),c.lineStart(),c.point(C[0][0],C[0][1],3)))}x&&(!f||!oS(f,v))&&c.point(v[0],v[1]),f=v,h=x,d=w},lineEnd:function(){h&&c.lineEnd(),f=null},clean:function(){return g|(p&&h)<<1}}}function l(c,f,d){var h=xh(c),p=xh(f),g=[1,0,0],m=Am(h,p),y=Mw(m,m),v=m[0],b=y-v*v;if(!b)return!d&&c;var x=t*y/b,w=-t*v/b,C=Am(g,m),S=Nw(g,x),k=Nw(m,w);CT(S,k);var $=C,R=Mw(S,$),O=Mw($,$),B=R*R-O*(Mw(S,S)-1);if(!(B<0)){var D=Mi(B),L=Nw($,(-R-D)/O);if(CT(L,S),L=zE(L),!d)return L;var A=c[0],P=f[0],j=c[1],z=f[1],U;P<A&&(U=A,A=P,P=U);var X=P-A,K=pt(X-rt)<Le,pe=K||X<Le;if(!K&&z<j&&(U=j,j=z,z=U),pe?K?j+z>0^L[1]<(pt(L[0]-A)<Le?j:z):j<=L[1]&&L[1]<=z:X>rt^(A<=L[0]&&L[0]<=P)){var oe=Nw($,(-R+D)/O);return CT(oe,S),[L,zE(oe)]}}}function u(c,f){var d=r?e:rt-e,h=0;return c<-d?h|=1:c>d&&(h|=2),f<-d?h|=4:f>d&&(h|=8),h}return ine(s,a,o,r?[0,-e]:[-rt,e-rt])}function d$e(e,t,n,r,i,o){var s=e[0],a=e[1],l=t[0],u=t[1],c=0,f=1,d=l-s,h=u-a,p;if(p=n-s,!(!d&&p>0)){if(p/=d,d<0){if(p<c)return;p<f&&(f=p)}else if(d>0){if(p>f)return;p>c&&(c=p)}if(p=i-s,!(!d&&p<0)){if(p/=d,d<0){if(p>f)return;p>c&&(c=p)}else if(d>0){if(p<c)return;p<f&&(f=p)}if(p=r-a,!(!h&&p>0)){if(p/=h,h<0){if(p<c)return;p<f&&(f=p)}else if(h>0){if(p>f)return;p>c&&(c=p)}if(p=o-a,!(!h&&p<0)){if(p/=h,h<0){if(p>f)return;p>c&&(c=p)}else if(h>0){if(p<c)return;p<f&&(f=p)}return c>0&&(e[0]=s+c*d,e[1]=a+c*h),f<1&&(t[0]=s+f*d,t[1]=a+f*h),!0}}}}}var u1=1e9,Iw=-u1;function one(e,t,n,r){function i(u,c){return e<=u&&u<=n&&t<=c&&c<=r}function o(u,c,f,d){var h=0,p=0;if(u==null||(h=s(u,f))!==(p=s(c,f))||l(u,c)<0^f>0)do d.point(h===0||h===3?e:n,h>1?r:t);while((h=(h+f+4)%4)!==p);else d.point(c[0],c[1])}function s(u,c){return pt(u[0]-e)<Le?c>0?0:3:pt(u[0]-n)<Le?c>0?2:1:pt(u[1]-t)<Le?c>0?1:0:c>0?3:2}function a(u,c){return l(u.x,c.x)}function l(u,c){var f=s(u,1),d=s(c,1);return f!==d?f-d:f===0?c[1]-u[1]:f===1?u[0]-c[0]:f===2?u[1]-c[1]:c[0]-u[0]}return function(u){var c=u,f=nne(),d,h,p,g,m,y,v,b,x,w,C,S={point:k,lineStart:B,lineEnd:D,polygonStart:R,polygonEnd:O};function k(A,P){i(A,P)&&c.point(A,P)}function $(){for(var A=0,P=0,j=h.length;P<j;++P)for(var z=h[P],U=1,X=z.length,K=z[0],pe,oe,_e=K[0],Qe=K[1];U<X;++U)pe=_e,oe=Qe,K=z[U],_e=K[0],Qe=K[1],oe<=r?Qe>r&&(_e-pe)*(r-oe)>(Qe-oe)*(e-pe)&&++A:Qe<=r&&(_e-pe)*(r-oe)<(Qe-oe)*(e-pe)&&--A;return A}function R(){c=f,d=[],h=[],C=!0}function O(){var A=$(),P=C&&A,j=(d=UK(d)).length;(P||j)&&(u.polygonStart(),P&&(u.lineStart(),o(null,null,1,u),u.lineEnd()),j&&rne(d,a,A,o,u),u.polygonEnd()),c=u,d=h=p=null}function B(){S.point=L,h&&h.push(p=[]),w=!0,x=!1,v=b=NaN}function D(){d&&(L(g,m),y&&x&&f.rejoin(),d.push(f.result())),S.point=k,x&&c.lineEnd()}function L(A,P){var j=i(A,P);if(h&&p.push([A,P]),w)g=A,m=P,y=j,w=!1,j&&(c.lineStart(),c.point(A,P));else if(j&&x)c.point(A,P);else{var z=[v=Math.max(Iw,Math.min(u1,v)),b=Math.max(Iw,Math.min(u1,b))],U=[A=Math.max(Iw,Math.min(u1,A)),P=Math.max(Iw,Math.min(u1,P))];d$e(z,U,e,t,n,r)?(x||(c.lineStart(),c.point(z[0],z[1])),c.point(U[0],U[1]),j||c.lineEnd(),C=!1):j&&(c.lineStart(),c.point(A,P),C=!1)}v=A,b=P,x=j}return S}}function sB(e,t,n){var r=_o(e,t-Le,n).concat(t);return function(i){return r.map(function(o){return[i,o]})}}function aB(e,t,n){var r=_o(e,t-Le,n).concat(t);return function(i){return r.map(function(o){return[o,i]})}}function h$e(){var e,t,n,r,i,o,s,a,l=10,u=l,c=90,f=360,d,h,p,g,m=2.5;function y(){return{type:"MultiLineString",coordinates:v()}}function v(){return _o(Dw(r/c)*c,n,c).map(p).concat(_o(Dw(a/f)*f,s,f).map(g)).concat(_o(Dw(t/l)*l,e,l).filter(function(b){return pt(b%c)>Le}).map(d)).concat(_o(Dw(o/u)*u,i,u).filter(function(b){return pt(b%f)>Le}).map(h))}return y.lines=function(){return v().map(function(b){return{type:"LineString",coordinates:b}})},y.outline=function(){return{type:"Polygon",coordinates:[p(r).concat(g(s).slice(1),p(n).reverse().slice(1),g(a).reverse().slice(1))]}},y.extent=function(b){return arguments.length?y.extentMajor(b).extentMinor(b):y.extentMinor()},y.extentMajor=function(b){return arguments.length?(r=+b[0][0],n=+b[1][0],a=+b[0][1],s=+b[1][1],r>n&&(b=r,r=n,n=b),a>s&&(b=a,a=s,s=b),y.precision(m)):[[r,a],[n,s]]},y.extentMinor=function(b){return arguments.length?(t=+b[0][0],e=+b[1][0],o=+b[0][1],i=+b[1][1],t>e&&(b=t,t=e,e=b),o>i&&(b=o,o=i,i=b),y.precision(m)):[[t,o],[e,i]]},y.step=function(b){return arguments.length?y.stepMajor(b).stepMinor(b):y.stepMinor()},y.stepMajor=function(b){return arguments.length?(c=+b[0],f=+b[1],y):[c,f]},y.stepMinor=function(b){return arguments.length?(l=+b[0],u=+b[1],y):[l,u]},y.precision=function(b){return arguments.length?(m=+b,d=sB(o,i,90),h=aB(t,e,m),p=sB(a,s,90),g=aB(r,n,m),y):m},y.extentMajor([[-180,-90+Le],[180,90-Le]]).extentMinor([[-180,-80-Le],[180,80+Le]])}const Rv=e=>e;var _T=new Fi,YF=new Fi,sne,ane,KF,QF,Zl={point:Pr,lineStart:Pr,lineEnd:Pr,polygonStart:function(){Zl.lineStart=p$e,Zl.lineEnd=m$e},polygonEnd:function(){Zl.lineStart=Zl.lineEnd=Zl.point=Pr,_T.add(pt(YF)),YF=new Fi},result:function(){var e=_T/2;return _T=new Fi,e}};function p$e(){Zl.point=g$e}function g$e(e,t){Zl.point=lne,sne=KF=e,ane=QF=t}function lne(e,t){YF.add(QF*e-KF*t),KF=e,QF=t}function m$e(){lne(sne,ane)}var Tm=1/0,XE=Tm,Pv=-Tm,YE=Pv,KE={point:y$e,lineStart:Pr,lineEnd:Pr,polygonStart:Pr,polygonEnd:Pr,result:function(){var e=[[Tm,XE],[Pv,YE]];return Pv=YE=-(XE=Tm=1/0),e}};function y$e(e,t){e<Tm&&(Tm=e),e>Pv&&(Pv=e),t<XE&&(XE=t),t>YE&&(YE=t)}var JF=0,ZF=0,c1=0,QE=0,JE=0,rg=0,eR=0,tR=0,f1=0,une,cne,Qa,Ja,ls={point:wh,lineStart:lB,lineEnd:uB,polygonStart:function(){ls.lineStart=x$e,ls.lineEnd=w$e},polygonEnd:function(){ls.point=wh,ls.lineStart=lB,ls.lineEnd=uB},result:function(){var e=f1?[eR/f1,tR/f1]:rg?[QE/rg,JE/rg]:c1?[JF/c1,ZF/c1]:[NaN,NaN];return JF=ZF=c1=QE=JE=rg=eR=tR=f1=0,e}};function wh(e,t){JF+=e,ZF+=t,++c1}function lB(){ls.point=v$e}function v$e(e,t){ls.point=b$e,wh(Qa=e,Ja=t)}function b$e(e,t){var n=e-Qa,r=t-Ja,i=Mi(n*n+r*r);QE+=i*(Qa+e)/2,JE+=i*(Ja+t)/2,rg+=i,wh(Qa=e,Ja=t)}function uB(){ls.point=wh}function x$e(){ls.point=S$e}function w$e(){fne(une,cne)}function S$e(e,t){ls.point=fne,wh(une=Qa=e,cne=Ja=t)}function fne(e,t){var n=e-Qa,r=t-Ja,i=Mi(n*n+r*r);QE+=i*(Qa+e)/2,JE+=i*(Ja+t)/2,rg+=i,i=Ja*e-Qa*t,eR+=i*(Qa+e),tR+=i*(Ja+t),f1+=i*3,wh(Qa=e,Ja=t)}function dne(e){this._context=e}dne.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:{this._context.moveTo(e,t),this._point=1;break}case 1:{this._context.lineTo(e,t);break}default:{this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,Di);break}}},result:Pr};var nR=new Fi,$T,hne,pne,d1,h1,Ov={point:Pr,lineStart:function(){Ov.point=E$e},lineEnd:function(){$T&&gne(hne,pne),Ov.point=Pr},polygonStart:function(){$T=!0},polygonEnd:function(){$T=null},result:function(){var e=+nR;return nR=new Fi,e}};function E$e(e,t){Ov.point=gne,hne=d1=e,pne=h1=t}function gne(e,t){d1-=e,h1-=t,nR.add(Mi(d1*d1+h1*h1)),d1=e,h1=t}let cB,ZE,fB,dB;class hB{constructor(t){this._append=t==null?mne:C$e(t),this._radius=4.5,this._=""}pointRadius(t){return this._radius=+t,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(t,n){switch(this._point){case 0:{this._append`M${t},${n}`,this._point=1;break}case 1:{this._append`L${t},${n}`;break}default:{if(this._append`M${t},${n}`,this._radius!==fB||this._append!==ZE){const r=this._radius,i=this._;this._="",this._append`m0,${r}a${r},${r} 0 1,1 0,${-2*r}a${r},${r} 0 1,1 0,${2*r}z`,fB=r,ZE=this._append,dB=this._,this._=i}this._+=dB;break}}}result(){const t=this._;return this._="",t.length?t:null}}function mne(e){let t=1;this._+=e[0];for(const n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function C$e(e){const t=Math.floor(e);if(!(t>=0))throw new RangeError(`invalid digits: ${e}`);if(t>15)return mne;if(t!==cB){const n=10**t;cB=t,ZE=function(i){let o=1;this._+=i[0];for(const s=i.length;o<s;++o)this._+=Math.round(arguments[o]*n)/n+i[o]}}return ZE}function yne(e,t){let n=3,r=4.5,i,o;function s(a){return a&&(typeof r=="function"&&o.pointRadius(+r.apply(this,arguments)),Jl(a,i(o))),o.result()}return s.area=function(a){return Jl(a,i(Zl)),Zl.result()},s.measure=function(a){return Jl(a,i(Ov)),Ov.result()},s.bounds=function(a){return Jl(a,i(KE)),KE.result()},s.centroid=function(a){return Jl(a,i(ls)),ls.result()},s.projection=function(a){return arguments.length?(i=a==null?(e=null,Rv):(e=a).stream,s):e},s.context=function(a){return arguments.length?(o=a==null?(t=null,new hB(n)):new dne(t=a),typeof r!="function"&&o.pointRadius(r),s):t},s.pointRadius=function(a){return arguments.length?(r=typeof a=="function"?a:(o.pointRadius(+a),+a),s):r},s.digits=function(a){if(!arguments.length)return n;if(a==null)n=null;else{const l=Math.floor(a);if(!(l>=0))throw new RangeError(`invalid digits: ${a}`);n=l}return t===null&&(o=new hB(n)),s},s.projection(e).digits(n).context(t)}function k_(e){return function(t){var n=new rR;for(var r in e)n[r]=e[r];return n.stream=t,n}}function rR(){}rR.prototype={constructor:rR,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function tN(e,t,n){var r=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),r!=null&&e.clipExtent(null),Jl(n,e.stream(KE)),t(KE.result()),r!=null&&e.clipExtent(r),e}function __(e,t,n){return tN(e,function(r){var i=t[1][0]-t[0][0],o=t[1][1]-t[0][1],s=Math.min(i/(r[1][0]-r[0][0]),o/(r[1][1]-r[0][1])),a=+t[0][0]+(i-s*(r[1][0]+r[0][0]))/2,l=+t[0][1]+(o-s*(r[1][1]+r[0][1]))/2;e.scale(150*s).translate([a,l])},n)}function nN(e,t,n){return __(e,[[0,0],t],n)}function rN(e,t,n){return tN(e,function(r){var i=+t,o=i/(r[1][0]-r[0][0]),s=(i-o*(r[1][0]+r[0][0]))/2,a=-o*r[0][1];e.scale(150*o).translate([s,a])},n)}function iN(e,t,n){return tN(e,function(r){var i=+t,o=i/(r[1][1]-r[0][1]),s=-o*r[0][0],a=(i-o*(r[1][1]+r[0][1]))/2;e.scale(150*o).translate([s,a])},n)}var pB=16,k$e=je(30*nt);function gB(e,t){return+t?$$e(e,t):_$e(e)}function _$e(e){return k_({point:function(t,n){t=e(t,n),this.stream.point(t[0],t[1])}})}function $$e(e,t){function n(r,i,o,s,a,l,u,c,f,d,h,p,g,m){var y=u-r,v=c-i,b=y*y+v*v;if(b>4*t&&g--){var x=s+d,w=a+h,C=l+p,S=Mi(x*x+w*w+C*C),k=lo(C/=S),$=pt(pt(C)-1)<Le||pt(o-f)<Le?(o+f)/2:Es(w,x),R=e($,k),O=R[0],B=R[1],D=O-r,L=B-i,A=v*D-y*L;(A*A/b>t||pt((y*D+v*L)/b-.5)>.3||s*d+a*h+l*p<k$e)&&(n(r,i,o,s,a,l,O,B,$,x/=S,w/=S,C,g,m),m.point(O,B),n(O,B,$,x,w,C,u,c,f,d,h,p,g,m))}}return function(r){var i,o,s,a,l,u,c,f,d,h,p,g,m={point:y,lineStart:v,lineEnd:x,polygonStart:function(){r.polygonStart(),m.lineStart=w},polygonEnd:function(){r.polygonEnd(),m.lineStart=v}};function y(k,$){k=e(k,$),r.point(k[0],k[1])}function v(){f=NaN,m.point=b,r.lineStart()}function b(k,$){var R=xh([k,$]),O=e(k,$);n(f,d,c,h,p,g,f=O[0],d=O[1],c=k,h=R[0],p=R[1],g=R[2],pB,r),r.point(f,d)}function x(){m.point=y,r.lineEnd()}function w(){v(),m.point=C,m.lineEnd=S}function C(k,$){b(i=k,$),o=f,s=d,a=h,l=p,u=g,m.point=b}function S(){n(f,d,c,h,p,g,o,s,i,a,l,u,pB,r),m.lineEnd=x,x()}return m}}var A$e=k_({point:function(e,t){this.stream.point(e*nt,t*nt)}});function T$e(e){return k_({point:function(t,n){var r=e(t,n);return this.stream.point(r[0],r[1])}})}function F$e(e,t,n,r,i){function o(s,a){return s*=r,a*=i,[t+e*s,n-e*a]}return o.invert=function(s,a){return[(s-t)/e*r,(n-a)/e*i]},o}function mB(e,t,n,r,i,o){if(!o)return F$e(e,t,n,r,i);var s=je(o),a=Me(o),l=s*e,u=a*e,c=s/e,f=a/e,d=(a*n-s*t)/e,h=(a*t+s*n)/e;function p(g,m){return g*=r,m*=i,[l*g-u*m+t,n-u*g-l*m]}return p.invert=function(g,m){return[r*(c*g-f*m+d),i*(h-f*g-c*m)]},p}function Al(e){return vne(function(){return e})()}function vne(e){var t,n=150,r=480,i=250,o=0,s=0,a=0,l=0,u=0,c,f=0,d=1,h=1,p=null,g=oB,m=null,y,v,b,x=Rv,w=.5,C,S,k,$,R;function O(A){return k(A[0]*nt,A[1]*nt)}function B(A){return A=k.invert(A[0],A[1]),A&&[A[0]*Nn,A[1]*Nn]}O.stream=function(A){return $&&R===A?$:$=A$e(T$e(c)(g(C(x(R=A)))))},O.preclip=function(A){return arguments.length?(g=A,p=void 0,L()):g},O.postclip=function(A){return arguments.length?(x=A,m=y=v=b=null,L()):x},O.clipAngle=function(A){return arguments.length?(g=+A?f$e(p=A*nt):(p=null,oB),L()):p*Nn},O.clipExtent=function(A){return arguments.length?(x=A==null?(m=y=v=b=null,Rv):one(m=+A[0][0],y=+A[0][1],v=+A[1][0],b=+A[1][1]),L()):m==null?null:[[m,y],[v,b]]},O.scale=function(A){return arguments.length?(n=+A,D()):n},O.translate=function(A){return arguments.length?(r=+A[0],i=+A[1],D()):[r,i]},O.center=function(A){return arguments.length?(o=A[0]%360*nt,s=A[1]%360*nt,D()):[o*Nn,s*Nn]},O.rotate=function(A){return arguments.length?(a=A[0]%360*nt,l=A[1]%360*nt,u=A.length>2?A[2]%360*nt:0,D()):[a*Nn,l*Nn,u*Nn]},O.angle=function(A){return arguments.length?(f=A%360*nt,D()):f*Nn},O.reflectX=function(A){return arguments.length?(d=A?-1:1,D()):d<0},O.reflectY=function(A){return arguments.length?(h=A?-1:1,D()):h<0},O.precision=function(A){return arguments.length?(C=gB(S,w=A*A),L()):Mi(w)},O.fitExtent=function(A,P){return __(O,A,P)},O.fitSize=function(A,P){return nN(O,A,P)},O.fitWidth=function(A,P){return rN(O,A,P)},O.fitHeight=function(A,P){return iN(O,A,P)};function D(){var A=mB(n,0,0,d,h,f).apply(null,t(o,s)),P=mB(n,r-A[0],i-A[1],d,h,f);return c=tne(a,l,u),S=GF(t,P),k=GF(c,S),C=gB(S,w),L()}function L(){return $=R=null,O}return function(){return t=e.apply(this,arguments),O.invert=t.invert&&B,D()}}function oN(e){var t=0,n=rt/3,r=vne(e),i=r(t,n);return i.parallels=function(o){return arguments.length?r(t=o[0]*nt,n=o[1]*nt):[t*Nn,n*Nn]},i}function R$e(e){var t=je(e);function n(r,i){return[r*t,Me(i)/t]}return n.invert=function(r,i){return[r/t,lo(i*t)]},n}function P$e(e,t){var n=Me(e),r=(n+Me(t))/2;if(pt(r)<Le)return R$e(e);var i=1+n*(2*r-n),o=Mi(i)/r;function s(a,l){var u=Mi(i-2*r*Me(l))/r;return[u*Me(a*=r),o-u*je(a)]}return s.invert=function(a,l){var u=o-l,c=Es(a,pt(u))*fs(u);return u*r<0&&(c-=rt*fs(a)*fs(u)),[c/r,lo((i-(a*a+u*u)*r*r)/(2*r))]},s}function eC(){return oN(P$e).scale(155.424).center([0,33.6442])}function bne(){return eC().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function O$e(e){var t=e.length;return{point:function(n,r){for(var i=-1;++i<t;)e[i].point(n,r)},sphere:function(){for(var n=-1;++n<t;)e[n].sphere()},lineStart:function(){for(var n=-1;++n<t;)e[n].lineStart()},lineEnd:function(){for(var n=-1;++n<t;)e[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<t;)e[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<t;)e[n].polygonEnd()}}}function D$e(){var e,t,n=bne(),r,i=eC().rotate([154,0]).center([-2,58.5]).parallels([55,65]),o,s=eC().rotate([157,0]).center([-3,19.9]).parallels([8,18]),a,l,u={point:function(d,h){l=[d,h]}};function c(d){var h=d[0],p=d[1];return l=null,r.point(h,p),l||(o.point(h,p),l)||(a.point(h,p),l)}c.invert=function(d){var h=n.scale(),p=n.translate(),g=(d[0]-p[0])/h,m=(d[1]-p[1])/h;return(m>=.12&&m<.234&&g>=-.425&&g<-.214?i:m>=.166&&m<.234&&g>=-.214&&g<-.115?s:n).invert(d)},c.stream=function(d){return e&&t===d?e:e=O$e([n.stream(t=d),i.stream(d),s.stream(d)])},c.precision=function(d){return arguments.length?(n.precision(d),i.precision(d),s.precision(d),f()):n.precision()},c.scale=function(d){return arguments.length?(n.scale(d),i.scale(d*.35),s.scale(d),c.translate(n.translate())):n.scale()},c.translate=function(d){if(!arguments.length)return n.translate();var h=n.scale(),p=+d[0],g=+d[1];return r=n.translate(d).clipExtent([[p-.455*h,g-.238*h],[p+.455*h,g+.238*h]]).stream(u),o=i.translate([p-.307*h,g+.201*h]).clipExtent([[p-.425*h+Le,g+.12*h+Le],[p-.214*h-Le,g+.234*h-Le]]).stream(u),a=s.translate([p-.205*h,g+.212*h]).clipExtent([[p-.214*h+Le,g+.166*h+Le],[p-.115*h-Le,g+.234*h-Le]]).stream(u),f()},c.fitExtent=function(d,h){return __(c,d,h)},c.fitSize=function(d,h){return nN(c,d,h)},c.fitWidth=function(d,h){return rN(c,d,h)},c.fitHeight=function(d,h){return iN(c,d,h)};function f(){return e=t=null,c}return c.scale(1070)}function xne(e){return function(t,n){var r=je(t),i=je(n),o=e(r*i);return o===1/0?[2,0]:[o*i*Me(t),o*Me(n)]}}function cx(e){return function(t,n){var r=Mi(t*t+n*n),i=e(r),o=Me(i),s=je(i);return[Es(t*o,r*s),lo(r&&n*o/r)]}}var wne=xne(function(e){return Mi(2/(1+e))});wne.invert=cx(function(e){return 2*lo(e/2)});function M$e(){return Al(wne).scale(124.75).clipAngle(180-.001)}var Sne=xne(function(e){return(e=Wte(e))&&e/Me(e)});Sne.invert=cx(function(e){return e});function N$e(){return Al(Sne).scale(79.4188).clipAngle(180-.001)}function $_(e,t){return[e,ME(Z6((Fn+t)/2))]}$_.invert=function(e,t){return[e,2*T0(Vte(t))-Fn]};function L$e(){return Ene($_).scale(961/Di)}function Ene(e){var t=Al(e),n=t.center,r=t.scale,i=t.translate,o=t.clipExtent,s=null,a,l,u;t.scale=function(f){return arguments.length?(r(f),c()):r()},t.translate=function(f){return arguments.length?(i(f),c()):i()},t.center=function(f){return arguments.length?(n(f),c()):n()},t.clipExtent=function(f){return arguments.length?(f==null?s=a=l=u=null:(s=+f[0][0],a=+f[0][1],l=+f[1][0],u=+f[1][1]),c()):s==null?null:[[s,a],[l,u]]};function c(){var f=rt*r(),d=t(r$e(t.rotate()).invert([0,0]));return o(s==null?[[d[0]-f,d[1]-f],[d[0]+f,d[1]+f]]:e===$_?[[Math.max(d[0]-f,s),a],[Math.min(d[0]+f,l),u]]:[[s,Math.max(d[1]-f,a)],[l,Math.min(d[1]+f,u)]])}return c()}function zw(e){return Z6((Fn+e)/2)}function I$e(e,t){var n=je(e),r=e===t?Me(e):ME(n/je(t))/ME(zw(t)/zw(e)),i=n*ET(zw(e),r)/r;if(!r)return $_;function o(s,a){i>0?a<-Fn+Le&&(a=-Fn+Le):a>Fn-Le&&(a=Fn-Le);var l=i/ET(zw(a),r);return[l*Me(r*s),i-l*je(r*s)]}return o.invert=function(s,a){var l=i-a,u=fs(r)*Mi(s*s+l*l),c=Es(s,pt(l))*fs(l);return l*r<0&&(c-=rt*fs(s)*fs(l)),[c/r,2*T0(ET(i/u,1/r))-Fn]},o}function z$e(){return oN(I$e).scale(109.5).parallels([30,30])}function tC(e,t){return[e,t]}tC.invert=tC;function j$e(){return Al(tC).scale(152.63)}function B$e(e,t){var n=je(e),r=e===t?Me(e):(n-je(t))/(t-e),i=n/r+e;if(pt(r)<Le)return tC;function o(s,a){var l=i-a,u=r*s;return[l*Me(u),i-l*je(u)]}return o.invert=function(s,a){var l=i-a,u=Es(s,pt(l))*fs(l);return l*r<0&&(u-=rt*fs(s)*fs(l)),[u/r,i-fs(r)*Mi(s*s+l*l)]},o}function U$e(){return oN(B$e).scale(131.154).center([0,13.9389])}var V1=1.340264,W1=-.081106,H1=893e-6,q1=.003796,nC=Mi(3)/2,V$e=12;function Cne(e,t){var n=lo(nC*Me(t)),r=n*n,i=r*r*r;return[e*je(n)/(nC*(V1+3*W1*r+i*(7*H1+9*q1*r))),n*(V1+W1*r+i*(H1+q1*r))]}Cne.invert=function(e,t){for(var n=t,r=n*n,i=r*r*r,o=0,s,a,l;o<V$e&&(a=n*(V1+W1*r+i*(H1+q1*r))-t,l=V1+3*W1*r+i*(7*H1+9*q1*r),n-=s=a/l,r=n*n,i=r*r*r,!(pt(s)<OE));++o);return[nC*e*(V1+3*W1*r+i*(7*H1+9*q1*r))/je(n),lo(Me(n)/nC)]};function W$e(){return Al(Cne).scale(177.158)}function kne(e,t){var n=je(t),r=je(e)*n;return[n*Me(e)/r,Me(t)/r]}kne.invert=cx(T0);function H$e(){return Al(kne).scale(144.049).clipAngle(60)}function q$e(){var e=1,t=0,n=0,r=1,i=1,o=0,s,a,l=null,u,c,f,d=1,h=1,p=k_({point:function(x,w){var C=b([x,w]);this.stream.point(C[0],C[1])}}),g=Rv,m,y;function v(){return d=e*r,h=e*i,m=y=null,b}function b(x){var w=x[0]*d,C=x[1]*h;if(o){var S=C*s-w*a;w=w*s+C*a,C=S}return[w+t,C+n]}return b.invert=function(x){var w=x[0]-t,C=x[1]-n;if(o){var S=C*s+w*a;w=w*s-C*a,C=S}return[w/d,C/h]},b.stream=function(x){return m&&y===x?m:m=p(g(y=x))},b.postclip=function(x){return arguments.length?(g=x,l=u=c=f=null,v()):g},b.clipExtent=function(x){return arguments.length?(g=x==null?(l=u=c=f=null,Rv):one(l=+x[0][0],u=+x[0][1],c=+x[1][0],f=+x[1][1]),v()):l==null?null:[[l,u],[c,f]]},b.scale=function(x){return arguments.length?(e=+x,v()):e},b.translate=function(x){return arguments.length?(t=+x[0],n=+x[1],v()):[t,n]},b.angle=function(x){return arguments.length?(o=x%360*nt,a=Me(o),s=je(o),v()):o*Nn},b.reflectX=function(x){return arguments.length?(r=x?-1:1,v()):r<0},b.reflectY=function(x){return arguments.length?(i=x?-1:1,v()):i<0},b.fitExtent=function(x,w){return __(b,x,w)},b.fitSize=function(x,w){return nN(b,x,w)},b.fitWidth=function(x,w){return rN(b,x,w)},b.fitHeight=function(x,w){return iN(b,x,w)},b}function _ne(e,t){var n=t*t,r=n*n;return[e*(.8707-.131979*n+r*(-.013791+r*(.003971*n-.001529*r))),t*(1.007226+n*(.015085+r*(-.044475+.028874*n-.005916*r)))]}_ne.invert=function(e,t){var n=t,r=25,i;do{var o=n*n,s=o*o;n-=i=(n*(1.007226+o*(.015085+s*(-.044475+.028874*o-.005916*s)))-t)/(1.007226+o*(.015085*3+s*(-.044475*7+.028874*9*o-.005916*11*s)))}while(pt(i)>Le&&--r>0);return[e/(.8707+(o=n*n)*(-.131979+o*(-.013791+o*o*o*(.003971-.001529*o)))),n]};function G$e(){return Al(_ne).scale(175.295)}function $ne(e,t){return[je(t)*Me(e),Me(t)]}$ne.invert=cx(lo);function X$e(){return Al($ne).scale(249.5).clipAngle(90+Le)}function Ane(e,t){var n=je(t),r=1+je(e)*n;return[n*Me(e)/r,Me(t)/r]}Ane.invert=cx(function(e){return 2*T0(e)});function Y$e(){return Al(Ane).scale(250).clipAngle(142)}function Tne(e,t){return[ME(Z6((Fn+t)/2)),-e]}Tne.invert=function(e,t){return[-t,2*T0(Vte(e))-Fn]};function K$e(){var e=Ene(Tne),t=e.center,n=e.rotate;return e.center=function(r){return arguments.length?t([-r[1],r[0]]):(r=t(),[r[1],-r[0]])},e.rotate=function(r){return arguments.length?n([r[0],r[1],r.length>2?r[2]+90:90]):(r=n(),[r[0],r[1],r[2]-90])},n([0,0,90]).scale(159.155)}var Q$e=Math.abs,iR=Math.cos,rC=Math.sin,J$e=1e-6,Fne=Math.PI,oR=Fne/2,yB=Z$e(2);function vB(e){return e>1?oR:e<-1?-oR:Math.asin(e)}function Z$e(e){return e>0?Math.sqrt(e):0}function eAe(e,t){var n=e*rC(t),r=30,i;do t-=i=(t+rC(t)-n)/(1+iR(t));while(Q$e(i)>J$e&&--r>0);return t/2}function tAe(e,t,n){function r(i,o){return[e*i*iR(o=eAe(n,o)),t*rC(o)]}return r.invert=function(i,o){return o=vB(o/t),[i/(e*iR(o)),vB((2*o+rC(2*o))/n)]},r}var nAe=tAe(yB/oR,yB,Fne);function rAe(){return Al(nAe).scale(169.529)}const iAe=yne(),sR=["clipAngle","clipExtent","scale","translate","center","rotate","parallels","precision","reflectX","reflectY","coefficient","distance","fraction","lobes","parallel","radius","ratio","spacing","tilt"];function oAe(e,t){return function n(){const r=t();return r.type=e,r.path=yne().projection(r),r.copy=r.copy||function(){const i=n();return sR.forEach(o=>{r[o]&&i[o](r[o]())}),i.path.pointRadius(r.path.pointRadius()),i},HZ(r)}}function sN(e,t){if(!e||typeof e!="string")throw new Error("Projection type must be a name string.");return e=e.toLowerCase(),arguments.length>1?(iC[e]=oAe(e,t),this):iC[e]||null}function Rne(e){return e&&e.path||iAe}const iC={albers:bne,albersusa:D$e,azimuthalequalarea:M$e,azimuthalequidistant:N$e,conicconformal:z$e,conicequalarea:eC,conicequidistant:U$e,equalEarth:W$e,equirectangular:j$e,gnomonic:H$e,identity:q$e,mercator:L$e,mollweide:rAe,naturalEarth1:G$e,orthographic:X$e,stereographic:Y$e,transversemercator:K$e};for(const e in iC)sN(e,iC[e]);function sAe(){}const Ul=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function Pne(){var e=1,t=1,n=a;function r(l,u){return u.map(c=>i(l,c))}function i(l,u){var c=[],f=[];return o(l,u,d=>{n(d,l,u),aAe(d)>0?c.push([d]):f.push(d)}),f.forEach(d=>{for(var h=0,p=c.length,g;h<p;++h)if(lAe((g=c[h])[0],d)!==-1){g.push(d);return}}),{type:"MultiPolygon",value:u,coordinates:c}}function o(l,u,c){var f=[],d=[],h,p,g,m,y,v;for(h=p=-1,m=l[0]>=u,Ul[m<<1].forEach(b);++h<e-1;)g=m,m=l[h+1]>=u,Ul[g|m<<1].forEach(b);for(Ul[m<<0].forEach(b);++p<t-1;){for(h=-1,m=l[p*e+e]>=u,y=l[p*e]>=u,Ul[m<<1|y<<2].forEach(b);++h<e-1;)g=m,m=l[p*e+e+h+1]>=u,v=y,y=l[p*e+h+1]>=u,Ul[g|m<<1|y<<2|v<<3].forEach(b);Ul[m|y<<3].forEach(b)}for(h=-1,y=l[p*e]>=u,Ul[y<<2].forEach(b);++h<e-1;)v=y,y=l[p*e+h+1]>=u,Ul[y<<2|v<<3].forEach(b);Ul[y<<3].forEach(b);function b(x){var w=[x[0][0]+h,x[0][1]+p],C=[x[1][0]+h,x[1][1]+p],S=s(w),k=s(C),$,R;($=d[S])?(R=f[k])?(delete d[$.end],delete f[R.start],$===R?($.ring.push(C),c($.ring)):f[$.start]=d[R.end]={start:$.start,end:R.end,ring:$.ring.concat(R.ring)}):(delete d[$.end],$.ring.push(C),d[$.end=k]=$):($=f[k])?(R=d[S])?(delete f[$.start],delete d[R.end],$===R?($.ring.push(C),c($.ring)):f[R.start]=d[$.end]={start:R.start,end:$.end,ring:R.ring.concat($.ring)}):(delete f[$.start],$.ring.unshift(w),f[$.start=S]=$):f[S]=d[k]={start:S,end:k,ring:[w,C]}}}function s(l){return l[0]*2+l[1]*(e+1)*4}function a(l,u,c){l.forEach(f=>{var d=f[0],h=f[1],p=d|0,g=h|0,m,y=u[g*e+p];d>0&&d<e&&p===d&&(m=u[g*e+p-1],f[0]=d+(c-m)/(y-m)-.5),h>0&&h<t&&g===h&&(m=u[(g-1)*e+p],f[1]=h+(c-m)/(y-m)-.5)})}return r.contour=i,r.size=function(l){if(!arguments.length)return[e,t];var u=Math.floor(l[0]),c=Math.floor(l[1]);return u>=0&&c>=0||ee("invalid size"),e=u,t=c,r},r.smooth=function(l){return arguments.length?(n=l?a:sAe,r):n===a},r}function aAe(e){for(var t=0,n=e.length,r=e[n-1][1]*e[0][0]-e[n-1][0]*e[0][1];++t<n;)r+=e[t-1][1]*e[t][0]-e[t-1][0]*e[t][1];return r}function lAe(e,t){for(var n=-1,r=t.length,i;++n<r;)if(i=uAe(e,t[n]))return i;return 0}function uAe(e,t){for(var n=t[0],r=t[1],i=-1,o=0,s=e.length,a=s-1;o<s;a=o++){var l=e[o],u=l[0],c=l[1],f=e[a],d=f[0],h=f[1];if(cAe(l,f,t))return 0;c>r!=h>r&&n<(d-u)*(r-c)/(h-c)+u&&(i=-i)}return i}function cAe(e,t,n){var r;return fAe(e,t,n)&&dAe(e[r=+(e[0]===t[0])],n[r],t[r])}function fAe(e,t,n){return(t[0]-e[0])*(n[1]-e[1])===(n[0]-e[0])*(t[1]-e[1])}function dAe(e,t,n){return e<=t&&t<=n||n<=t&&t<=e}function One(e,t,n){return function(r){var i=ml(r),o=n?Math.min(i[0],0):i[0],s=i[1],a=s-o,l=t?uf(o,s,e):a/(e+1);return _o(o+l,s,l)}}function aN(e){J.call(this,null,e)}aN.Definition={type:"Isocontour",metadata:{generates:!0},params:[{name:"field",type:"field"},{name:"thresholds",type:"number",array:!0},{name:"levels",type:"number"},{name:"nice",type:"boolean",default:!1},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"zero",type:"boolean",default:!0},{name:"smooth",type:"boolean",default:!0},{name:"scale",type:"number",expr:!0},{name:"translate",type:"number",array:!0,expr:!0},{name:"as",type:"string",null:!0,default:"contour"}]};he(aN,J,{transform(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var n=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=t.materialize(t.SOURCE).source,i=e.field||ai,o=Pne().smooth(e.smooth!==!1),s=e.thresholds||hAe(r,i,e),a=e.as===null?null:e.as||"contour",l=[];return r.forEach(u=>{const c=i(u),f=o.size([c.width,c.height])(c.values,te(s)?s:s(c.values));pAe(f,c,u,e),f.forEach(d=>{l.push(Wk(u,Rt(a!=null?{[a]:d}:d)))})}),this.value&&(n.rem=this.value),this.value=n.source=n.add=l,n}});function hAe(e,t,n){const r=One(n.levels||10,n.nice,n.zero!==!1);return n.resolve!=="shared"?r:r(e.map(i=>Qd(t(i).values)))}function pAe(e,t,n,r){let i=r.scale||t.scale,o=r.translate||t.translate;if(et(i)&&(i=i(n,r)),et(o)&&(o=o(n,r)),(i===1||i==null)&&!o)return;const s=(St(i)?i:i[0])||1,a=(St(i)?i:i[1])||1,l=o&&o[0]||0,u=o&&o[1]||0;e.forEach(Dne(t,s,a,l,u))}function Dne(e,t,n,r,i){const o=e.x1||0,s=e.y1||0,a=t*n<0;function l(f){f.forEach(u)}function u(f){a&&f.reverse(),f.forEach(c)}function c(f){f[0]=(f[0]-o)*t+r,f[1]=(f[1]-s)*n+i}return function(f){return f.coordinates.forEach(l),f}}function bB(e,t,n){const r=e>=0?e:JD(t,n);return Math.round((Math.sqrt(4*r*r+1)-1)/2)}function AT(e){return et(e)?e:li(+e)}function Mne(){var e=l=>l[0],t=l=>l[1],n=y0,r=[-1,-1],i=960,o=500,s=2;function a(l,u){const c=bB(r[0],l,e)>>s,f=bB(r[1],l,t)>>s,d=c?c+2:0,h=f?f+2:0,p=2*d+(i>>s),g=2*h+(o>>s),m=new Float32Array(p*g),y=new Float32Array(p*g);let v=m;l.forEach(x=>{const w=d+(+e(x)>>s),C=h+(+t(x)>>s);w>=0&&w<p&&C>=0&&C<g&&(m[w+C*p]+=+n(x))}),c>0&&f>0?(Mp(p,g,m,y,c),Np(p,g,y,m,f),Mp(p,g,m,y,c),Np(p,g,y,m,f),Mp(p,g,m,y,c),Np(p,g,y,m,f)):c>0?(Mp(p,g,m,y,c),Mp(p,g,y,m,c),Mp(p,g,m,y,c),v=y):f>0&&(Np(p,g,m,y,f),Np(p,g,y,m,f),Np(p,g,m,y,f),v=y);const b=u?Math.pow(2,-2*s):1/VK(v);for(let x=0,w=p*g;x<w;++x)v[x]*=b;return{values:v,scale:1<<s,width:p,height:g,x1:d,y1:h,x2:d+(i>>s),y2:h+(o>>s)}}return a.x=function(l){return arguments.length?(e=AT(l),a):e},a.y=function(l){return arguments.length?(t=AT(l),a):t},a.weight=function(l){return arguments.length?(n=AT(l),a):n},a.size=function(l){if(!arguments.length)return[i,o];var u=+l[0],c=+l[1];return u>=0&&c>=0||ee("invalid size"),i=u,o=c,a},a.cellSize=function(l){return arguments.length?((l=+l)>=1||ee("invalid cell size"),s=Math.floor(Math.log(l)/Math.LN2),a):1<<s},a.bandwidth=function(l){return arguments.length?(l=xe(l),l.length===1&&(l=[+l[0],+l[0]]),l.length!==2&&ee("invalid bandwidth"),r=l,a):r},a}function Mp(e,t,n,r,i){const o=(i<<1)+1;for(let s=0;s<t;++s)for(let a=0,l=0;a<e+i;++a)a<e&&(l+=n[a+s*e]),a>=i&&(a>=o&&(l-=n[a-o+s*e]),r[a-i+s*e]=l/Math.min(a+1,e-1+o-a,o))}function Np(e,t,n,r,i){const o=(i<<1)+1;for(let s=0;s<e;++s)for(let a=0,l=0;a<t+i;++a)a<t&&(l+=n[s+a*e]),a>=i&&(a>=o&&(l-=n[s+(a-o)*e]),r[s+(a-i)*e]=l/Math.min(a+1,t-1+o-a,o))}function lN(e){J.call(this,null,e)}lN.Definition={type:"KDE2D",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"weight",type:"field"},{name:"groupby",type:"field",array:!0},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number",array:!0,length:2},{name:"counts",type:"boolean",default:!1},{name:"as",type:"string",default:"grid"}]};const gAe=["x","y","weight","size","cellSize","bandwidth"];function Nne(e,t){return gAe.forEach(n=>t[n]!=null?e[n](t[n]):0),e}he(lN,J,{transform(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var n=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=t.materialize(t.SOURCE).source,i=mAe(r,e.groupby),o=(e.groupby||[]).map(Pn),s=Nne(Mne(),e),a=e.as||"grid",l=[];function u(c,f){for(let d=0;d<o.length;++d)c[o[d]]=f[d];return c}return l=i.map(c=>Rt(u({[a]:s(c,e.counts)},c.dims))),this.value&&(n.rem=this.value),this.value=n.source=n.add=l,n}});function mAe(e,t){var n=[],r=c=>c(a),i,o,s,a,l,u;if(t==null)n.push(e);else for(i={},o=0,s=e.length;o<s;++o)a=e[o],l=t.map(r),u=i[l],u||(i[l]=u=[],u.dims=l,n.push(u)),u.push(a);return n}function uN(e){J.call(this,null,e)}uN.Definition={type:"Contour",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"values",type:"number",array:!0},{name:"x",type:"field"},{name:"y",type:"field"},{name:"weight",type:"field"},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number"},{name:"count",type:"number"},{name:"nice",type:"boolean",default:!1},{name:"thresholds",type:"number",array:!0},{name:"smooth",type:"boolean",default:!0}]};he(uN,J,{transform(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var n=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=Pne().smooth(e.smooth!==!1),i=e.values,o=e.thresholds||One(e.count||10,e.nice,!!i),s=e.size,a,l;return i||(i=t.materialize(t.SOURCE).source,a=Nne(Mne(),e)(i,!0),l=Dne(a,a.scale||1,a.scale||1,0,0),s=[a.width,a.height],i=a.values),o=te(o)?o:o(i),i=r.size(s)(i,o),l&&i.forEach(l),this.value&&(n.rem=this.value),this.value=n.source=n.add=(i||[]).map(Rt),n}});const aR="Feature",cN="FeatureCollection",yAe="MultiPoint";function fN(e){J.call(this,null,e)}fN.Definition={type:"GeoJSON",metadata:{},params:[{name:"fields",type:"field",array:!0,length:2},{name:"geojson",type:"field"}]};he(fN,J,{transform(e,t){var n=this._features,r=this._points,i=e.fields,o=i&&i[0],s=i&&i[1],a=e.geojson||!i&&ai,l=t.ADD,u;u=e.modified()||t.changed(t.REM)||t.modified(ri(a))||o&&t.modified(ri(o))||s&&t.modified(ri(s)),(!this.value||u)&&(l=t.SOURCE,this._features=n=[],this._points=r=[]),a&&t.visit(l,c=>n.push(a(c))),o&&s&&(t.visit(l,c=>{var f=o(c),d=s(c);f!=null&&d!=null&&(f=+f)===f&&(d=+d)===d&&r.push([f,d])}),n=n.concat({type:aR,geometry:{type:yAe,coordinates:r}})),this.value={type:cN,features:n}}});function dN(e){J.call(this,null,e)}dN.Definition={type:"GeoPath",metadata:{modifies:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string",default:"path"}]};he(dN,J,{transform(e,t){var n=t.fork(t.ALL),r=this.value,i=e.field||ai,o=e.as||"path",s=n.SOURCE;!r||e.modified()?(this.value=r=Rne(e.projection),n.materialize().reflow()):s=i===ai||t.modified(i.fields)?n.ADD_MOD:n.ADD;const a=vAe(r,e.pointRadius);return n.visit(s,l=>l[o]=r(i(l))),r.pointRadius(a),n.modifies(o)}});function vAe(e,t){const n=e.pointRadius();return e.context(null),t!=null&&e.pointRadius(t),n}function hN(e){J.call(this,null,e)}hN.Definition={type:"GeoPoint",metadata:{modifies:!0},params:[{name:"projection",type:"projection",required:!0},{name:"fields",type:"field",array:!0,required:!0,length:2},{name:"as",type:"string",array:!0,length:2,default:["x","y"]}]};he(hN,J,{transform(e,t){var n=e.projection,r=e.fields[0],i=e.fields[1],o=e.as||["x","y"],s=o[0],a=o[1],l;function u(c){const f=n([r(c),i(c)]);f?(c[s]=f[0],c[a]=f[1]):(c[s]=void 0,c[a]=void 0)}return e.modified()?t=t.materialize().reflow(!0).visit(t.SOURCE,u):(l=t.modified(r.fields)||t.modified(i.fields),t.visit(l?t.ADD_MOD:t.ADD,u)),t.modifies(o)}});function pN(e){J.call(this,null,e)}pN.Definition={type:"GeoShape",metadata:{modifies:!0,nomod:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field",default:"datum"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string",default:"shape"}]};he(pN,J,{transform(e,t){var n=t.fork(t.ALL),r=this.value,i=e.as||"shape",o=n.ADD;return(!r||e.modified())&&(this.value=r=bAe(Rne(e.projection),e.field||bs("datum"),e.pointRadius),n.materialize().reflow(),o=n.SOURCE),n.visit(o,s=>s[i]=r),n.modifies(i)}});function bAe(e,t,n){const r=n==null?i=>e(t(i)):i=>{var o=e.pointRadius(),s=e.pointRadius(n)(t(i));return e.pointRadius(o),s};return r.context=i=>(e.context(i),r),r}function gN(e){J.call(this,[],e),this.generator=h$e()}gN.Definition={type:"Graticule",metadata:{changes:!0,generates:!0},params:[{name:"extent",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMajor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMinor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"step",type:"number",array:!0,length:2},{name:"stepMajor",type:"number",array:!0,length:2,default:[90,360]},{name:"stepMinor",type:"number",array:!0,length:2,default:[10,10]},{name:"precision",type:"number",default:2.5}]};he(gN,J,{transform(e,t){var n=this.value,r=this.generator,i;if(!n.length||e.modified())for(const o in e)et(r[o])&&r[o](e[o]);return i=r(),n.length?t.mod.push(IQ(n[0],i)):t.add.push(Rt(i)),n[0]=i,t}});function mN(e){J.call(this,null,e)}mN.Definition={type:"heatmap",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"color",type:"string",expr:!0},{name:"opacity",type:"number",expr:!0},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"as",type:"string",default:"image"}]};he(mN,J,{transform(e,t){if(!t.changed()&&!e.modified())return t.StopPropagation;var n=t.materialize(t.SOURCE).source,r=e.resolve==="shared",i=e.field||ai,o=wAe(e.opacity,e),s=xAe(e.color,e),a=e.as||"image",l={$x:0,$y:0,$value:0,$max:r?Qd(n.map(u=>Qd(i(u).values))):0};return n.forEach(u=>{const c=i(u),f=Ze({},u,l);r||(f.$max=Qd(c.values||[])),u[a]=SAe(c,f,s.dep?s:li(s(f)),o.dep?o:li(o(f)))}),t.reflow(!0).modifies(a)}});function xAe(e,t){let n;return et(e)?(n=r=>df(e(r,t)),n.dep=Lne(e)):n=li(df(e||"#888")),n}function wAe(e,t){let n;return et(e)?(n=r=>e(r,t),n.dep=Lne(e)):e?n=li(e):(n=r=>r.$value/r.$max||0,n.dep=!0),n}function Lne(e){if(!et(e))return!1;const t=ua(ri(e));return t.$x||t.$y||t.$value||t.$max}function SAe(e,t,n,r){const i=e.width,o=e.height,s=e.x1||0,a=e.y1||0,l=e.x2||i,u=e.y2||o,c=e.values,f=c?m=>c[m]:Cc,d=Xc(l-s,u-a),h=d.getContext("2d"),p=h.getImageData(0,0,l-s,u-a),g=p.data;for(let m=a,y=0;m<u;++m){t.$y=m-a;for(let v=s,b=m*i;v<l;++v,y+=4){t.$x=v-s,t.$value=f(v+b);const x=n(t);g[y+0]=x.r,g[y+1]=x.g,g[y+2]=x.b,g[y+3]=~~(255*r(t))}}return h.putImageData(p,0,0),d}function Ine(e){J.call(this,null,e),this.modified(!0)}he(Ine,J,{transform(e,t){let n=this.value;return!n||e.modified("type")?(this.value=n=CAe(e.type),sR.forEach(r=>{e[r]!=null&&xB(n,r,e[r])})):sR.forEach(r=>{e.modified(r)&&xB(n,r,e[r])}),e.pointRadius!=null&&n.path.pointRadius(e.pointRadius),e.fit&&EAe(n,e),t.fork(t.NO_SOURCE|t.NO_FIELDS)}});function EAe(e,t){const n=kAe(t.fit);t.extent?e.fitExtent(t.extent,n):t.size&&e.fitSize(t.size,n)}function CAe(e){const t=sN((e||"mercator").toLowerCase());return t||ee("Unrecognized projection type: "+e),t()}function xB(e,t,n){et(e[t])&&e[t](n)}function kAe(e){return e=xe(e),e.length===1?e[0]:{type:cN,features:e.reduce((t,n)=>t.concat(_Ae(n)),[])}}function _Ae(e){return e.type===cN?e.features:xe(e).filter(t=>t!=null).map(t=>t.type===aR?t:{type:aR,geometry:t})}const $Ae=Object.freeze(Object.defineProperty({__proto__:null,contour:uN,geojson:fN,geopath:dN,geopoint:hN,geoshape:pN,graticule:gN,heatmap:mN,isocontour:aN,kde2d:lN,projection:Ine},Symbol.toStringTag,{value:"Module"}));function AAe(e,t){var n,r=1;e==null&&(e=0),t==null&&(t=0);function i(){var o,s=n.length,a,l=0,u=0;for(o=0;o<s;++o)a=n[o],l+=a.x,u+=a.y;for(l=(l/s-e)*r,u=(u/s-t)*r,o=0;o<s;++o)a=n[o],a.x-=l,a.y-=u}return i.initialize=function(o){n=o},i.x=function(o){return arguments.length?(e=+o,i):e},i.y=function(o){return arguments.length?(t=+o,i):t},i.strength=function(o){return arguments.length?(r=+o,i):r},i}function TAe(e){const t=+this._x.call(null,e),n=+this._y.call(null,e);return zne(this.cover(t,n),t,n,e)}function zne(e,t,n,r){if(isNaN(t)||isNaN(n))return e;var i,o=e._root,s={data:r},a=e._x0,l=e._y0,u=e._x1,c=e._y1,f,d,h,p,g,m,y,v;if(!o)return e._root=s,e;for(;o.length;)if((g=t>=(f=(a+u)/2))?a=f:u=f,(m=n>=(d=(l+c)/2))?l=d:c=d,i=o,!(o=o[y=m<<1|g]))return i[y]=s,e;if(h=+e._x.call(null,o.data),p=+e._y.call(null,o.data),t===h&&n===p)return s.next=o,i?i[y]=s:e._root=s,e;do i=i?i[y]=new Array(4):e._root=new Array(4),(g=t>=(f=(a+u)/2))?a=f:u=f,(m=n>=(d=(l+c)/2))?l=d:c=d;while((y=m<<1|g)===(v=(p>=d)<<1|h>=f));return i[v]=o,i[y]=s,e}function FAe(e){var t,n,r=e.length,i,o,s=new Array(r),a=new Array(r),l=1/0,u=1/0,c=-1/0,f=-1/0;for(n=0;n<r;++n)isNaN(i=+this._x.call(null,t=e[n]))||isNaN(o=+this._y.call(null,t))||(s[n]=i,a[n]=o,i<l&&(l=i),i>c&&(c=i),o<u&&(u=o),o>f&&(f=o));if(l>c||u>f)return this;for(this.cover(l,u).cover(c,f),n=0;n<r;++n)zne(this,s[n],a[n],e[n]);return this}function RAe(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var n=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(n))i=(n=Math.floor(e))+1,o=(r=Math.floor(t))+1;else{for(var s=i-n||1,a=this._root,l,u;n>e||e>=i||r>t||t>=o;)switch(u=(t<r)<<1|e<n,l=new Array(4),l[u]=a,a=l,s*=2,u){case 0:i=n+s,o=r+s;break;case 1:n=i-s,o=r+s;break;case 2:i=n+s,r=o-s;break;case 3:n=i-s,r=o-s;break}this._root&&this._root.length&&(this._root=a)}return this._x0=n,this._y0=r,this._x1=i,this._y1=o,this}function PAe(){var e=[];return this.visit(function(t){if(!t.length)do e.push(t.data);while(t=t.next)}),e}function OAe(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function _i(e,t,n,r,i){this.node=e,this.x0=t,this.y0=n,this.x1=r,this.y1=i}function DAe(e,t,n){var r,i=this._x0,o=this._y0,s,a,l,u,c=this._x1,f=this._y1,d=[],h=this._root,p,g;for(h&&d.push(new _i(h,i,o,c,f)),n==null?n=1/0:(i=e-n,o=t-n,c=e+n,f=t+n,n*=n);p=d.pop();)if(!(!(h=p.node)||(s=p.x0)>c||(a=p.y0)>f||(l=p.x1)<i||(u=p.y1)<o))if(h.length){var m=(s+l)/2,y=(a+u)/2;d.push(new _i(h[3],m,y,l,u),new _i(h[2],s,y,m,u),new _i(h[1],m,a,l,y),new _i(h[0],s,a,m,y)),(g=(t>=y)<<1|e>=m)&&(p=d[d.length-1],d[d.length-1]=d[d.length-1-g],d[d.length-1-g]=p)}else{var v=e-+this._x.call(null,h.data),b=t-+this._y.call(null,h.data),x=v*v+b*b;if(x<n){var w=Math.sqrt(n=x);i=e-w,o=t-w,c=e+w,f=t+w,r=h.data}}return r}function MAe(e){if(isNaN(c=+this._x.call(null,e))||isNaN(f=+this._y.call(null,e)))return this;var t,n=this._root,r,i,o,s=this._x0,a=this._y0,l=this._x1,u=this._y1,c,f,d,h,p,g,m,y;if(!n)return this;if(n.length)for(;;){if((p=c>=(d=(s+l)/2))?s=d:l=d,(g=f>=(h=(a+u)/2))?a=h:u=h,t=n,!(n=n[m=g<<1|p]))return this;if(!n.length)break;(t[m+1&3]||t[m+2&3]||t[m+3&3])&&(r=t,y=m)}for(;n.data!==e;)if(i=n,!(n=n.next))return this;return(o=n.next)&&delete n.next,i?(o?i.next=o:delete i.next,this):t?(o?t[m]=o:delete t[m],(n=t[0]||t[1]||t[2]||t[3])&&n===(t[3]||t[2]||t[1]||t[0])&&!n.length&&(r?r[y]=n:this._root=n),this):(this._root=o,this)}function NAe(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this}function LAe(){return this._root}function IAe(){var e=0;return this.visit(function(t){if(!t.length)do++e;while(t=t.next)}),e}function zAe(e){var t=[],n,r=this._root,i,o,s,a,l;for(r&&t.push(new _i(r,this._x0,this._y0,this._x1,this._y1));n=t.pop();)if(!e(r=n.node,o=n.x0,s=n.y0,a=n.x1,l=n.y1)&&r.length){var u=(o+a)/2,c=(s+l)/2;(i=r[3])&&t.push(new _i(i,u,c,a,l)),(i=r[2])&&t.push(new _i(i,o,c,u,l)),(i=r[1])&&t.push(new _i(i,u,s,a,c)),(i=r[0])&&t.push(new _i(i,o,s,u,c))}return this}function jAe(e){var t=[],n=[],r;for(this._root&&t.push(new _i(this._root,this._x0,this._y0,this._x1,this._y1));r=t.pop();){var i=r.node;if(i.length){var o,s=r.x0,a=r.y0,l=r.x1,u=r.y1,c=(s+l)/2,f=(a+u)/2;(o=i[0])&&t.push(new _i(o,s,a,c,f)),(o=i[1])&&t.push(new _i(o,c,a,l,f)),(o=i[2])&&t.push(new _i(o,s,f,c,u)),(o=i[3])&&t.push(new _i(o,c,f,l,u))}n.push(r)}for(;r=n.pop();)e(r.node,r.x0,r.y0,r.x1,r.y1);return this}function BAe(e){return e[0]}function UAe(e){return arguments.length?(this._x=e,this):this._x}function VAe(e){return e[1]}function WAe(e){return arguments.length?(this._y=e,this):this._y}function yN(e,t,n){var r=new vN(t??BAe,n??VAe,NaN,NaN,NaN,NaN);return e==null?r:r.addAll(e)}function vN(e,t,n,r,i,o){this._x=e,this._y=t,this._x0=n,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function wB(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}var Ii=yN.prototype=vN.prototype;Ii.copy=function(){var e=new vN(this._x,this._y,this._x0,this._y0,this._x1,this._y1),t=this._root,n,r;if(!t)return e;if(!t.length)return e._root=wB(t),e;for(n=[{source:t,target:e._root=new Array(4)}];t=n.pop();)for(var i=0;i<4;++i)(r=t.source[i])&&(r.length?n.push({source:r,target:t.target[i]=new Array(4)}):t.target[i]=wB(r));return e};Ii.add=TAe;Ii.addAll=FAe;Ii.cover=RAe;Ii.data=PAe;Ii.extent=OAe;Ii.find=DAe;Ii.remove=MAe;Ii.removeAll=NAe;Ii.root=LAe;Ii.size=IAe;Ii.visit=zAe;Ii.visitAfter=jAe;Ii.x=UAe;Ii.y=WAe;function $i(e){return function(){return e}}function jc(e){return(e()-.5)*1e-6}function HAe(e){return e.x+e.vx}function qAe(e){return e.y+e.vy}function GAe(e){var t,n,r,i=1,o=1;typeof e!="function"&&(e=$i(e==null?1:+e));function s(){for(var u,c=t.length,f,d,h,p,g,m,y=0;y<o;++y)for(f=yN(t,HAe,qAe).visitAfter(a),u=0;u<c;++u)d=t[u],g=n[d.index],m=g*g,h=d.x+d.vx,p=d.y+d.vy,f.visit(v);function v(b,x,w,C,S){var k=b.data,$=b.r,R=g+$;if(k){if(k.index>d.index){var O=h-k.x-k.vx,B=p-k.y-k.vy,D=O*O+B*B;D<R*R&&(O===0&&(O=jc(r),D+=O*O),B===0&&(B=jc(r),D+=B*B),D=(R-(D=Math.sqrt(D)))/D*i,d.vx+=(O*=D)*(R=($*=$)/(m+$)),d.vy+=(B*=D)*R,k.vx-=O*(R=1-R),k.vy-=B*R)}return}return x>h+R||C<h-R||w>p+R||S<p-R}}function a(u){if(u.data)return u.r=n[u.data.index];for(var c=u.r=0;c<4;++c)u[c]&&u[c].r>u.r&&(u.r=u[c].r)}function l(){if(t){var u,c=t.length,f;for(n=new Array(c),u=0;u<c;++u)f=t[u],n[f.index]=+e(f,u,t)}}return s.initialize=function(u,c){t=u,r=c,l()},s.iterations=function(u){return arguments.length?(o=+u,s):o},s.strength=function(u){return arguments.length?(i=+u,s):i},s.radius=function(u){return arguments.length?(e=typeof u=="function"?u:$i(+u),l(),s):e},s}function XAe(e){return e.index}function SB(e,t){var n=e.get(t);if(!n)throw new Error("node not found: "+t);return n}function YAe(e){var t=XAe,n=f,r,i=$i(30),o,s,a,l,u,c=1;e==null&&(e=[]);function f(m){return 1/Math.min(a[m.source.index],a[m.target.index])}function d(m){for(var y=0,v=e.length;y<c;++y)for(var b=0,x,w,C,S,k,$,R;b<v;++b)x=e[b],w=x.source,C=x.target,S=C.x+C.vx-w.x-w.vx||jc(u),k=C.y+C.vy-w.y-w.vy||jc(u),$=Math.sqrt(S*S+k*k),$=($-o[b])/$*m*r[b],S*=$,k*=$,C.vx-=S*(R=l[b]),C.vy-=k*R,w.vx+=S*(R=1-R),w.vy+=k*R}function h(){if(s){var m,y=s.length,v=e.length,b=new Map(s.map((w,C)=>[t(w,C,s),w])),x;for(m=0,a=new Array(y);m<v;++m)x=e[m],x.index=m,typeof x.source!="object"&&(x.source=SB(b,x.source)),typeof x.target!="object"&&(x.target=SB(b,x.target)),a[x.source.index]=(a[x.source.index]||0)+1,a[x.target.index]=(a[x.target.index]||0)+1;for(m=0,l=new Array(v);m<v;++m)x=e[m],l[m]=a[x.source.index]/(a[x.source.index]+a[x.target.index]);r=new Array(v),p(),o=new Array(v),g()}}function p(){if(s)for(var m=0,y=e.length;m<y;++m)r[m]=+n(e[m],m,e)}function g(){if(s)for(var m=0,y=e.length;m<y;++m)o[m]=+i(e[m],m,e)}return d.initialize=function(m,y){s=m,u=y,h()},d.links=function(m){return arguments.length?(e=m,h(),d):e},d.id=function(m){return arguments.length?(t=m,d):t},d.iterations=function(m){return arguments.length?(c=+m,d):c},d.strength=function(m){return arguments.length?(n=typeof m=="function"?m:$i(+m),p(),d):n},d.distance=function(m){return arguments.length?(i=typeof m=="function"?m:$i(+m),g(),d):i},d}var KAe={value:()=>{}};function jne(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new sS(n)}function sS(e){this._=e}function QAe(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}sS.prototype=jne.prototype={constructor:sS,on:function(e,t){var n=this._,r=QAe(e+"",n),i,o=-1,s=r.length;if(arguments.length<2){for(;++o<s;)if((i=(e=r[o]).type)&&(i=JAe(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++o<s;)if(i=(e=r[o]).type)n[i]=EB(n[i],e.name,t);else if(t==null)for(i in n)n[i]=EB(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new sS(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=this._[e],r=0,i=o.length;r<i;++r)o[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,o=r.length;i<o;++i)r[i].value.apply(t,n)}};function JAe(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function EB(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=KAe,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var Fm=0,p1=0,wy=0,Bne=1e3,oC,g1,sC=0,Sh=0,A_=0,Dv=typeof performance=="object"&&performance.now?performance:Date,Une=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function bN(){return Sh||(Une(ZAe),Sh=Dv.now()+A_)}function ZAe(){Sh=0}function aC(){this._call=this._time=this._next=null}aC.prototype=Vne.prototype={constructor:aC,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?bN():+n)+(t==null?0:+t),!this._next&&g1!==this&&(g1?g1._next=this:oC=this,g1=this),this._call=e,this._time=n,lR()},stop:function(){this._call&&(this._call=null,this._time=1/0,lR())}};function Vne(e,t,n){var r=new aC;return r.restart(e,t,n),r}function e5e(){bN(),++Fm;for(var e=oC,t;e;)(t=Sh-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Fm}function CB(){Sh=(sC=Dv.now())+A_,Fm=p1=0;try{e5e()}finally{Fm=0,n5e(),Sh=0}}function t5e(){var e=Dv.now(),t=e-sC;t>Bne&&(A_-=t,sC=e)}function n5e(){for(var e,t=oC,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:oC=n);g1=e,lR(r)}function lR(e){if(!Fm){p1&&(p1=clearTimeout(p1));var t=e-Sh;t>24?(e<1/0&&(p1=setTimeout(CB,e-Dv.now()-A_)),wy&&(wy=clearInterval(wy))):(wy||(sC=Dv.now(),wy=setInterval(t5e,Bne)),Fm=1,Une(CB))}}function r5e(e,t,n){var r=new aC,i=t;return t==null?(r.restart(e,t,n),r):(r._restart=r.restart,r.restart=function(o,s,a){s=+s,a=a==null?bN():+a,r._restart(function l(u){u+=i,r._restart(l,i+=s,a),o(u)},s,a)},r.restart(e,t,n),r)}const i5e=1664525,o5e=1013904223,kB=4294967296;function s5e(){let e=1;return()=>(e=(i5e*e+o5e)%kB)/kB}function a5e(e){return e.x}function l5e(e){return e.y}var u5e=10,c5e=Math.PI*(3-Math.sqrt(5));function f5e(e){var t,n=1,r=.001,i=1-Math.pow(r,1/300),o=0,s=.6,a=new Map,l=Vne(f),u=jne("tick","end"),c=s5e();e==null&&(e=[]);function f(){d(),u.call("tick",t),n<r&&(l.stop(),u.call("end",t))}function d(g){var m,y=e.length,v;g===void 0&&(g=1);for(var b=0;b<g;++b)for(n+=(o-n)*i,a.forEach(function(x){x(n)}),m=0;m<y;++m)v=e[m],v.fx==null?v.x+=v.vx*=s:(v.x=v.fx,v.vx=0),v.fy==null?v.y+=v.vy*=s:(v.y=v.fy,v.vy=0);return t}function h(){for(var g=0,m=e.length,y;g<m;++g){if(y=e[g],y.index=g,y.fx!=null&&(y.x=y.fx),y.fy!=null&&(y.y=y.fy),isNaN(y.x)||isNaN(y.y)){var v=u5e*Math.sqrt(.5+g),b=g*c5e;y.x=v*Math.cos(b),y.y=v*Math.sin(b)}(isNaN(y.vx)||isNaN(y.vy))&&(y.vx=y.vy=0)}}function p(g){return g.initialize&&g.initialize(e,c),g}return h(),t={tick:d,restart:function(){return l.restart(f),t},stop:function(){return l.stop(),t},nodes:function(g){return arguments.length?(e=g,h(),a.forEach(p),t):e},alpha:function(g){return arguments.length?(n=+g,t):n},alphaMin:function(g){return arguments.length?(r=+g,t):r},alphaDecay:function(g){return arguments.length?(i=+g,t):+i},alphaTarget:function(g){return arguments.length?(o=+g,t):o},velocityDecay:function(g){return arguments.length?(s=1-g,t):1-s},randomSource:function(g){return arguments.length?(c=g,a.forEach(p),t):c},force:function(g,m){return arguments.length>1?(m==null?a.delete(g):a.set(g,p(m)),t):a.get(g)},find:function(g,m,y){var v=0,b=e.length,x,w,C,S,k;for(y==null?y=1/0:y*=y,v=0;v<b;++v)S=e[v],x=g-S.x,w=m-S.y,C=x*x+w*w,C<y&&(k=S,y=C);return k},on:function(g,m){return arguments.length>1?(u.on(g,m),t):u.on(g)}}}function d5e(){var e,t,n,r,i=$i(-30),o,s=1,a=1/0,l=.81;function u(h){var p,g=e.length,m=yN(e,a5e,l5e).visitAfter(f);for(r=h,p=0;p<g;++p)t=e[p],m.visit(d)}function c(){if(e){var h,p=e.length,g;for(o=new Array(p),h=0;h<p;++h)g=e[h],o[g.index]=+i(g,h,e)}}function f(h){var p=0,g,m,y=0,v,b,x;if(h.length){for(v=b=x=0;x<4;++x)(g=h[x])&&(m=Math.abs(g.value))&&(p+=g.value,y+=m,v+=m*g.x,b+=m*g.y);h.x=v/y,h.y=b/y}else{g=h,g.x=g.data.x,g.y=g.data.y;do p+=o[g.data.index];while(g=g.next)}h.value=p}function d(h,p,g,m){if(!h.value)return!0;var y=h.x-t.x,v=h.y-t.y,b=m-p,x=y*y+v*v;if(b*b/l<x)return x<a&&(y===0&&(y=jc(n),x+=y*y),v===0&&(v=jc(n),x+=v*v),x<s&&(x=Math.sqrt(s*x)),t.vx+=y*h.value*r/x,t.vy+=v*h.value*r/x),!0;if(h.length||x>=a)return;(h.data!==t||h.next)&&(y===0&&(y=jc(n),x+=y*y),v===0&&(v=jc(n),x+=v*v),x<s&&(x=Math.sqrt(s*x)));do h.data!==t&&(b=o[h.data.index]*r/x,t.vx+=y*b,t.vy+=v*b);while(h=h.next)}return u.initialize=function(h,p){e=h,n=p,c()},u.strength=function(h){return arguments.length?(i=typeof h=="function"?h:$i(+h),c(),u):i},u.distanceMin=function(h){return arguments.length?(s=h*h,u):Math.sqrt(s)},u.distanceMax=function(h){return arguments.length?(a=h*h,u):Math.sqrt(a)},u.theta=function(h){return arguments.length?(l=h*h,u):Math.sqrt(l)},u}function h5e(e){var t=$i(.1),n,r,i;typeof e!="function"&&(e=$i(e==null?0:+e));function o(a){for(var l=0,u=n.length,c;l<u;++l)c=n[l],c.vx+=(i[l]-c.x)*r[l]*a}function s(){if(n){var a,l=n.length;for(r=new Array(l),i=new Array(l),a=0;a<l;++a)r[a]=isNaN(i[a]=+e(n[a],a,n))?0:+t(n[a],a,n)}}return o.initialize=function(a){n=a,s()},o.strength=function(a){return arguments.length?(t=typeof a=="function"?a:$i(+a),s(),o):t},o.x=function(a){return arguments.length?(e=typeof a=="function"?a:$i(+a),s(),o):e},o}function p5e(e){var t=$i(.1),n,r,i;typeof e!="function"&&(e=$i(e==null?0:+e));function o(a){for(var l=0,u=n.length,c;l<u;++l)c=n[l],c.vy+=(i[l]-c.y)*r[l]*a}function s(){if(n){var a,l=n.length;for(r=new Array(l),i=new Array(l),a=0;a<l;++a)r[a]=isNaN(i[a]=+e(n[a],a,n))?0:+t(n[a],a,n)}}return o.initialize=function(a){n=a,s()},o.strength=function(a){return arguments.length?(t=typeof a=="function"?a:$i(+a),s(),o):t},o.y=function(a){return arguments.length?(e=typeof a=="function"?a:$i(+a),s(),o):e},o}const _B={center:AAe,collide:GAe,nbody:d5e,link:YAe,x:h5e,y:p5e},m1="forces",uR=["alpha","alphaMin","alphaTarget","velocityDecay","forces"],g5e=["static","iterations"],Wne=["x","y","vx","vy"];function xN(e){J.call(this,null,e)}xN.Definition={type:"Force",metadata:{modifies:!0},params:[{name:"static",type:"boolean",default:!1},{name:"restart",type:"boolean",default:!1},{name:"iterations",type:"number",default:300},{name:"alpha",type:"number",default:1},{name:"alphaMin",type:"number",default:.001},{name:"alphaTarget",type:"number",default:0},{name:"velocityDecay",type:"number",default:.4},{name:"forces",type:"param",array:!0,params:[{key:{force:"center"},params:[{name:"x",type:"number",default:0},{name:"y",type:"number",default:0}]},{key:{force:"collide"},params:[{name:"radius",type:"number",expr:!0},{name:"strength",type:"number",default:.7},{name:"iterations",type:"number",default:1}]},{key:{force:"nbody"},params:[{name:"strength",type:"number",default:-30,expr:!0},{name:"theta",type:"number",default:.9},{name:"distanceMin",type:"number",default:1},{name:"distanceMax",type:"number"}]},{key:{force:"link"},params:[{name:"links",type:"data"},{name:"id",type:"field"},{name:"distance",type:"number",default:30,expr:!0},{name:"strength",type:"number",expr:!0},{name:"iterations",type:"number",default:1}]},{key:{force:"x"},params:[{name:"strength",type:"number",default:.1},{name:"x",type:"field"}]},{key:{force:"y"},params:[{name:"strength",type:"number",default:.1},{name:"y",type:"field"}]}]},{name:"as",type:"string",array:!0,modify:!1,default:Wne}]};he(xN,J,{transform(e,t){var n=this.value,r=t.changed(t.ADD_REM),i=e.modified(uR),o=e.iterations||300;if(n?(r&&(t.modifies("index"),n.nodes(t.source)),(i||t.changed(t.MOD))&&Hne(n,e,0,t)):(this.value=n=y5e(t.source,e),n.on("tick",m5e(t.dataflow,this)),e.static||(r=!0,n.tick()),t.modifies("index")),i||r||e.modified(g5e)||t.changed()&&e.restart){if(n.alpha(Math.max(n.alpha(),e.alpha||1)).alphaDecay(1-Math.pow(n.alphaMin(),1/o)),e.static)for(n.stop();--o>=0;)n.tick();else if(n.stopped()&&n.restart(),!r)return t.StopPropagation}return this.finish(e,t)},finish(e,t){const n=t.dataflow;for(let a=this._argops,l=0,u=a.length,c;l<u;++l)if(c=a[l],!(c.name!==m1||c.op._argval.force!=="link")){for(var r=c.op._argops,i=0,o=r.length,s;i<o;++i)if(r[i].name==="links"&&(s=r[i].op.source)){n.pulse(s,n.changeset().reflow());break}}return t.reflow(e.modified()).modifies(Wne)}});function m5e(e,t){return()=>e.touch(t).run()}function y5e(e,t){const n=f5e(e),r=n.stop,i=n.restart;let o=!1;return n.stopped=()=>o,n.restart=()=>(o=!1,i()),n.stop=()=>(o=!0,r()),Hne(n,t,!0).on("end",()=>o=!0)}function Hne(e,t,n,r){var i=xe(t.forces),o,s,a,l;for(o=0,s=uR.length;o<s;++o)a=uR[o],a!==m1&&t.modified(a)&&e[a](t[a]);for(o=0,s=i.length;o<s;++o)l=m1+o,a=n||t.modified(m1,o)?b5e(i[o]):r&&v5e(i[o],r)?e.force(l):null,a&&e.force(l,a);for(s=e.numForces||0;o<s;++o)e.force(m1+o,null);return e.numForces=i.length,e}function v5e(e,t){var n,r;for(n in e)if(et(r=e[n])&&t.modified(ri(r)))return 1;return 0}function b5e(e){var t,n;Se(_B,e.force)||ee("Unrecognized force: "+e.force),t=_B[e.force]();for(n in e)et(t[n])&&x5e(t[n],e[n],e);return t}function x5e(e,t,n){e(et(t)?r=>t(r,n):t)}const w5e=Object.freeze(Object.defineProperty({__proto__:null,force:xN},Symbol.toStringTag,{value:"Module"}));function S5e(e,t){return e.parent===t.parent?1:2}function E5e(e){return e.reduce(C5e,0)/e.length}function C5e(e,t){return e+t.x}function k5e(e){return 1+e.reduce(_5e,0)}function _5e(e,t){return Math.max(e,t.y)}function $5e(e){for(var t;t=e.children;)e=t[0];return e}function A5e(e){for(var t;t=e.children;)e=t[t.length-1];return e}function T5e(){var e=S5e,t=1,n=1,r=!1;function i(o){var s,a=0;o.eachAfter(function(d){var h=d.children;h?(d.x=E5e(h),d.y=k5e(h)):(d.x=s?a+=e(d,s):0,d.y=0,s=d)});var l=$5e(o),u=A5e(o),c=l.x-e(l,u)/2,f=u.x+e(u,l)/2;return o.eachAfter(r?function(d){d.x=(d.x-o.x)*t,d.y=(o.y-d.y)*n}:function(d){d.x=(d.x-c)/(f-c)*t,d.y=(1-(o.y?d.y/o.y:1))*n})}return i.separation=function(o){return arguments.length?(e=o,i):e},i.size=function(o){return arguments.length?(r=!1,t=+o[0],n=+o[1],i):r?null:[t,n]},i.nodeSize=function(o){return arguments.length?(r=!0,t=+o[0],n=+o[1],i):r?[t,n]:null},i}function F5e(e){var t=0,n=e.children,r=n&&n.length;if(!r)t=1;else for(;--r>=0;)t+=n[r].value;e.value=t}function R5e(){return this.eachAfter(F5e)}function P5e(e,t){let n=-1;for(const r of this)e.call(t,r,++n,this);return this}function O5e(e,t){for(var n=this,r=[n],i,o,s=-1;n=r.pop();)if(e.call(t,n,++s,this),i=n.children)for(o=i.length-1;o>=0;--o)r.push(i[o]);return this}function D5e(e,t){for(var n=this,r=[n],i=[],o,s,a,l=-1;n=r.pop();)if(i.push(n),o=n.children)for(s=0,a=o.length;s<a;++s)r.push(o[s]);for(;n=i.pop();)e.call(t,n,++l,this);return this}function M5e(e,t){let n=-1;for(const r of this)if(e.call(t,r,++n,this))return r}function N5e(e){return this.eachAfter(function(t){for(var n=+e(t.data)||0,r=t.children,i=r&&r.length;--i>=0;)n+=r[i].value;t.value=n})}function L5e(e){return this.eachBefore(function(t){t.children&&t.children.sort(e)})}function I5e(e){for(var t=this,n=z5e(t,e),r=[t];t!==n;)t=t.parent,r.push(t);for(var i=r.length;e!==n;)r.splice(i,0,e),e=e.parent;return r}function z5e(e,t){if(e===t)return e;var n=e.ancestors(),r=t.ancestors(),i=null;for(e=n.pop(),t=r.pop();e===t;)i=e,e=n.pop(),t=r.pop();return i}function j5e(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t}function B5e(){return Array.from(this)}function U5e(){var e=[];return this.eachBefore(function(t){t.children||e.push(t)}),e}function V5e(){var e=this,t=[];return e.each(function(n){n!==e&&t.push({source:n.parent,target:n})}),t}function*W5e(){var e=this,t,n=[e],r,i,o;do for(t=n.reverse(),n=[];e=t.pop();)if(yield e,r=e.children)for(i=0,o=r.length;i<o;++i)n.push(r[i]);while(n.length)}function wN(e,t){e instanceof Map?(e=[void 0,e],t===void 0&&(t=G5e)):t===void 0&&(t=q5e);for(var n=new Rm(e),r,i=[n],o,s,a,l;r=i.pop();)if((s=t(r.data))&&(l=(s=Array.from(s)).length))for(r.children=s,a=l-1;a>=0;--a)i.push(o=s[a]=new Rm(s[a])),o.parent=r,o.depth=r.depth+1;return n.eachBefore(qne)}function H5e(){return wN(this).eachBefore(X5e)}function q5e(e){return e.children}function G5e(e){return Array.isArray(e)?e[1]:null}function X5e(e){e.data.value!==void 0&&(e.value=e.data.value),e.data=e.data.data}function qne(e){var t=0;do e.height=t;while((e=e.parent)&&e.height<++t)}function Rm(e){this.data=e,this.depth=this.height=0,this.parent=null}Rm.prototype=wN.prototype={constructor:Rm,count:R5e,each:P5e,eachAfter:D5e,eachBefore:O5e,find:M5e,sum:N5e,sort:L5e,path:I5e,ancestors:j5e,descendants:B5e,leaves:U5e,links:V5e,copy:H5e,[Symbol.iterator]:W5e};function aS(e){return e==null?null:Gne(e)}function Gne(e){if(typeof e!="function")throw new Error;return e}function Td(){return 0}function Qp(e){return function(){return e}}const Y5e=1664525,K5e=1013904223,$B=4294967296;function Q5e(){let e=1;return()=>(e=(Y5e*e+K5e)%$B)/$B}function J5e(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Z5e(e,t){let n=e.length,r,i;for(;n;)i=t()*n--|0,r=e[n],e[n]=e[i],e[i]=r;return e}function eTe(e,t){for(var n=0,r=(e=Z5e(Array.from(e),t)).length,i=[],o,s;n<r;)o=e[n],s&&Xne(s,o)?++n:(s=nTe(i=tTe(i,o)),n=0);return s}function tTe(e,t){var n,r;if(TT(t,e))return[t];for(n=0;n<e.length;++n)if(jw(t,e[n])&&TT(y1(e[n],t),e))return[e[n],t];for(n=0;n<e.length-1;++n)for(r=n+1;r<e.length;++r)if(jw(y1(e[n],e[r]),t)&&jw(y1(e[n],t),e[r])&&jw(y1(e[r],t),e[n])&&TT(Yne(e[n],e[r],t),e))return[e[n],e[r],t];throw new Error}function jw(e,t){var n=e.r-t.r,r=t.x-e.x,i=t.y-e.y;return n<0||n*n<r*r+i*i}function Xne(e,t){var n=e.r-t.r+Math.max(e.r,t.r,1)*1e-9,r=t.x-e.x,i=t.y-e.y;return n>0&&n*n>r*r+i*i}function TT(e,t){for(var n=0;n<t.length;++n)if(!Xne(e,t[n]))return!1;return!0}function nTe(e){switch(e.length){case 1:return rTe(e[0]);case 2:return y1(e[0],e[1]);case 3:return Yne(e[0],e[1],e[2])}}function rTe(e){return{x:e.x,y:e.y,r:e.r}}function y1(e,t){var n=e.x,r=e.y,i=e.r,o=t.x,s=t.y,a=t.r,l=o-n,u=s-r,c=a-i,f=Math.sqrt(l*l+u*u);return{x:(n+o+l/f*c)/2,y:(r+s+u/f*c)/2,r:(f+i+a)/2}}function Yne(e,t,n){var r=e.x,i=e.y,o=e.r,s=t.x,a=t.y,l=t.r,u=n.x,c=n.y,f=n.r,d=r-s,h=r-u,p=i-a,g=i-c,m=l-o,y=f-o,v=r*r+i*i-o*o,b=v-s*s-a*a+l*l,x=v-u*u-c*c+f*f,w=h*p-d*g,C=(p*x-g*b)/(w*2)-r,S=(g*m-p*y)/w,k=(h*b-d*x)/(w*2)-i,$=(d*y-h*m)/w,R=S*S+$*$-1,O=2*(o+C*S+k*$),B=C*C+k*k-o*o,D=-(Math.abs(R)>1e-6?(O+Math.sqrt(O*O-4*R*B))/(2*R):B/O);return{x:r+C+S*D,y:i+k+$*D,r:D}}function AB(e,t,n){var r=e.x-t.x,i,o,s=e.y-t.y,a,l,u=r*r+s*s;u?(o=t.r+n.r,o*=o,l=e.r+n.r,l*=l,o>l?(i=(u+l-o)/(2*u),a=Math.sqrt(Math.max(0,l/u-i*i)),n.x=e.x-i*r-a*s,n.y=e.y-i*s+a*r):(i=(u+o-l)/(2*u),a=Math.sqrt(Math.max(0,o/u-i*i)),n.x=t.x+i*r-a*s,n.y=t.y+i*s+a*r)):(n.x=t.x+n.r,n.y=t.y)}function TB(e,t){var n=e.r+t.r-1e-6,r=t.x-e.x,i=t.y-e.y;return n>0&&n*n>r*r+i*i}function FB(e){var t=e._,n=e.next._,r=t.r+n.r,i=(t.x*n.r+n.x*t.r)/r,o=(t.y*n.r+n.y*t.r)/r;return i*i+o*o}function Bw(e){this._=e,this.next=null,this.previous=null}function iTe(e,t){if(!(o=(e=J5e(e)).length))return 0;var n,r,i,o,s,a,l,u,c,f,d;if(n=e[0],n.x=0,n.y=0,!(o>1))return n.r;if(r=e[1],n.x=-r.r,r.x=n.r,r.y=0,!(o>2))return n.r+r.r;AB(r,n,i=e[2]),n=new Bw(n),r=new Bw(r),i=new Bw(i),n.next=i.previous=r,r.next=n.previous=i,i.next=r.previous=n;e:for(l=3;l<o;++l){AB(n._,r._,i=e[l]),i=new Bw(i),u=r.next,c=n.previous,f=r._.r,d=n._.r;do if(f<=d){if(TB(u._,i._)){r=u,n.next=r,r.previous=n,--l;continue e}f+=u._.r,u=u.next}else{if(TB(c._,i._)){n=c,n.next=r,r.previous=n,--l;continue e}d+=c._.r,c=c.previous}while(u!==c.next);for(i.previous=n,i.next=r,n.next=r.previous=r=i,s=FB(n);(i=i.next)!==r;)(a=FB(i))<s&&(n=i,s=a);r=n.next}for(n=[r._],i=r;(i=i.next)!==r;)n.push(i._);for(i=eTe(n,t),l=0;l<o;++l)n=e[l],n.x-=i.x,n.y-=i.y;return i.r}function oTe(e){return Math.sqrt(e.value)}function sTe(){var e=null,t=1,n=1,r=Td;function i(o){const s=Q5e();return o.x=t/2,o.y=n/2,e?o.eachBefore(RB(e)).eachAfter(FT(r,.5,s)).eachBefore(PB(1)):o.eachBefore(RB(oTe)).eachAfter(FT(Td,1,s)).eachAfter(FT(r,o.r/Math.min(t,n),s)).eachBefore(PB(Math.min(t,n)/(2*o.r))),o}return i.radius=function(o){return arguments.length?(e=aS(o),i):e},i.size=function(o){return arguments.length?(t=+o[0],n=+o[1],i):[t,n]},i.padding=function(o){return arguments.length?(r=typeof o=="function"?o:Qp(+o),i):r},i}function RB(e){return function(t){t.children||(t.r=Math.max(0,+e(t)||0))}}function FT(e,t,n){return function(r){if(i=r.children){var i,o,s=i.length,a=e(r)*t||0,l;if(a)for(o=0;o<s;++o)i[o].r+=a;if(l=iTe(i,n),a)for(o=0;o<s;++o)i[o].r-=a;r.r=l+a}}}function PB(e){return function(t){var n=t.parent;t.r*=e,n&&(t.x=n.x+e*t.x,t.y=n.y+e*t.y)}}function Kne(e){e.x0=Math.round(e.x0),e.y0=Math.round(e.y0),e.x1=Math.round(e.x1),e.y1=Math.round(e.y1)}function fx(e,t,n,r,i){for(var o=e.children,s,a=-1,l=o.length,u=e.value&&(r-t)/e.value;++a<l;)s=o[a],s.y0=n,s.y1=i,s.x0=t,s.x1=t+=s.value*u}function aTe(){var e=1,t=1,n=0,r=!1;function i(s){var a=s.height+1;return s.x0=s.y0=n,s.x1=e,s.y1=t/a,s.eachBefore(o(t,a)),r&&s.eachBefore(Kne),s}function o(s,a){return function(l){l.children&&fx(l,l.x0,s*(l.depth+1)/a,l.x1,s*(l.depth+2)/a);var u=l.x0,c=l.y0,f=l.x1-n,d=l.y1-n;f<u&&(u=f=(u+f)/2),d<c&&(c=d=(c+d)/2),l.x0=u,l.y0=c,l.x1=f,l.y1=d}}return i.round=function(s){return arguments.length?(r=!!s,i):r},i.size=function(s){return arguments.length?(e=+s[0],t=+s[1],i):[e,t]},i.padding=function(s){return arguments.length?(n=+s,i):n},i}var lTe={depth:-1},OB={},RT={};function uTe(e){return e.id}function cTe(e){return e.parentId}function DB(){var e=uTe,t=cTe,n;function r(i){var o=Array.from(i),s=e,a=t,l,u,c,f,d,h,p,g,m=new Map;if(n!=null){const y=o.map((x,w)=>fTe(n(x,w,i))),v=y.map(MB),b=new Set(y).add("");for(const x of v)b.has(x)||(b.add(x),y.push(x),v.push(MB(x)),o.push(RT));s=(x,w)=>y[w],a=(x,w)=>v[w]}for(c=0,l=o.length;c<l;++c)u=o[c],h=o[c]=new Rm(u),(p=s(u,c,i))!=null&&(p+="")&&(g=h.id=p,m.set(g,m.has(g)?OB:h)),(p=a(u,c,i))!=null&&(p+="")&&(h.parent=p);for(c=0;c<l;++c)if(h=o[c],p=h.parent){if(d=m.get(p),!d)throw new Error("missing: "+p);if(d===OB)throw new Error("ambiguous: "+p);d.children?d.children.push(h):d.children=[h],h.parent=d}else{if(f)throw new Error("multiple roots");f=h}if(!f)throw new Error("no root");if(n!=null){for(;f.data===RT&&f.children.length===1;)f=f.children[0],--l;for(let y=o.length-1;y>=0&&(h=o[y],h.data===RT);--y)h.data=null}if(f.parent=lTe,f.eachBefore(function(y){y.depth=y.parent.depth+1,--l}).eachBefore(qne),f.parent=null,l>0)throw new Error("cycle");return f}return r.id=function(i){return arguments.length?(e=aS(i),r):e},r.parentId=function(i){return arguments.length?(t=aS(i),r):t},r.path=function(i){return arguments.length?(n=aS(i),r):n},r}function fTe(e){e=`${e}`;let t=e.length;return cR(e,t-1)&&!cR(e,t-2)&&(e=e.slice(0,-1)),e[0]==="/"?e:`/${e}`}function MB(e){let t=e.length;if(t<2)return"";for(;--t>1&&!cR(e,t););return e.slice(0,t)}function cR(e,t){if(e[t]==="/"){let n=0;for(;t>0&&e[--t]==="\\";)++n;if(!(n&1))return!0}return!1}function dTe(e,t){return e.parent===t.parent?1:2}function PT(e){var t=e.children;return t?t[0]:e.t}function OT(e){var t=e.children;return t?t[t.length-1]:e.t}function hTe(e,t,n){var r=n/(t.i-e.i);t.c-=r,t.s+=n,e.c+=r,t.z+=n,t.m+=n}function pTe(e){for(var t=0,n=0,r=e.children,i=r.length,o;--i>=0;)o=r[i],o.z+=t,o.m+=t,t+=o.s+(n+=o.c)}function gTe(e,t,n){return e.a.parent===t.parent?e.a:n}function lS(e,t){this._=e,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=t}lS.prototype=Object.create(Rm.prototype);function mTe(e){for(var t=new lS(e,0),n,r=[t],i,o,s,a;n=r.pop();)if(o=n._.children)for(n.children=new Array(a=o.length),s=a-1;s>=0;--s)r.push(i=n.children[s]=new lS(o[s],s)),i.parent=n;return(t.parent=new lS(null,0)).children=[t],t}function yTe(){var e=dTe,t=1,n=1,r=null;function i(u){var c=mTe(u);if(c.eachAfter(o),c.parent.m=-c.z,c.eachBefore(s),r)u.eachBefore(l);else{var f=u,d=u,h=u;u.eachBefore(function(v){v.x<f.x&&(f=v),v.x>d.x&&(d=v),v.depth>h.depth&&(h=v)});var p=f===d?1:e(f,d)/2,g=p-f.x,m=t/(d.x+p+g),y=n/(h.depth||1);u.eachBefore(function(v){v.x=(v.x+g)*m,v.y=v.depth*y})}return u}function o(u){var c=u.children,f=u.parent.children,d=u.i?f[u.i-1]:null;if(c){pTe(u);var h=(c[0].z+c[c.length-1].z)/2;d?(u.z=d.z+e(u._,d._),u.m=u.z-h):u.z=h}else d&&(u.z=d.z+e(u._,d._));u.parent.A=a(u,d,u.parent.A||f[0])}function s(u){u._.x=u.z+u.parent.m,u.m+=u.parent.m}function a(u,c,f){if(c){for(var d=u,h=u,p=c,g=d.parent.children[0],m=d.m,y=h.m,v=p.m,b=g.m,x;p=OT(p),d=PT(d),p&&d;)g=PT(g),h=OT(h),h.a=u,x=p.z+v-d.z-m+e(p._,d._),x>0&&(hTe(gTe(p,u,f),u,x),m+=x,y+=x),v+=p.m,m+=d.m,b+=g.m,y+=h.m;p&&!OT(h)&&(h.t=p,h.m+=v-y),d&&!PT(g)&&(g.t=d,g.m+=m-b,f=u)}return f}function l(u){u.x*=t,u.y=u.depth*n}return i.separation=function(u){return arguments.length?(e=u,i):e},i.size=function(u){return arguments.length?(r=!1,t=+u[0],n=+u[1],i):r?null:[t,n]},i.nodeSize=function(u){return arguments.length?(r=!0,t=+u[0],n=+u[1],i):r?[t,n]:null},i}function T_(e,t,n,r,i){for(var o=e.children,s,a=-1,l=o.length,u=e.value&&(i-n)/e.value;++a<l;)s=o[a],s.x0=t,s.x1=r,s.y0=n,s.y1=n+=s.value*u}var Qne=(1+Math.sqrt(5))/2;function Jne(e,t,n,r,i,o){for(var s=[],a=t.children,l,u,c=0,f=0,d=a.length,h,p,g=t.value,m,y,v,b,x,w,C;c<d;){h=i-n,p=o-r;do m=a[f++].value;while(!m&&f<d);for(y=v=m,w=Math.max(p/h,h/p)/(g*e),C=m*m*w,x=Math.max(v/C,C/y);f<d;++f){if(m+=u=a[f].value,u<y&&(y=u),u>v&&(v=u),C=m*m*w,b=Math.max(v/C,C/y),b>x){m-=u;break}x=b}s.push(l={value:m,dice:h<p,children:a.slice(c,f)}),l.dice?fx(l,n,r,i,g?r+=p*m/g:o):T_(l,n,r,g?n+=h*m/g:i,o),g-=m,c=f}return s}const Zne=function e(t){function n(r,i,o,s,a){Jne(t,r,i,o,s,a)}return n.ratio=function(r){return e((r=+r)>1?r:1)},n}(Qne);function vTe(){var e=Zne,t=!1,n=1,r=1,i=[0],o=Td,s=Td,a=Td,l=Td,u=Td;function c(d){return d.x0=d.y0=0,d.x1=n,d.y1=r,d.eachBefore(f),i=[0],t&&d.eachBefore(Kne),d}function f(d){var h=i[d.depth],p=d.x0+h,g=d.y0+h,m=d.x1-h,y=d.y1-h;m<p&&(p=m=(p+m)/2),y<g&&(g=y=(g+y)/2),d.x0=p,d.y0=g,d.x1=m,d.y1=y,d.children&&(h=i[d.depth+1]=o(d)/2,p+=u(d)-h,g+=s(d)-h,m-=a(d)-h,y-=l(d)-h,m<p&&(p=m=(p+m)/2),y<g&&(g=y=(g+y)/2),e(d,p,g,m,y))}return c.round=function(d){return arguments.length?(t=!!d,c):t},c.size=function(d){return arguments.length?(n=+d[0],r=+d[1],c):[n,r]},c.tile=function(d){return arguments.length?(e=Gne(d),c):e},c.padding=function(d){return arguments.length?c.paddingInner(d).paddingOuter(d):c.paddingInner()},c.paddingInner=function(d){return arguments.length?(o=typeof d=="function"?d:Qp(+d),c):o},c.paddingOuter=function(d){return arguments.length?c.paddingTop(d).paddingRight(d).paddingBottom(d).paddingLeft(d):c.paddingTop()},c.paddingTop=function(d){return arguments.length?(s=typeof d=="function"?d:Qp(+d),c):s},c.paddingRight=function(d){return arguments.length?(a=typeof d=="function"?d:Qp(+d),c):a},c.paddingBottom=function(d){return arguments.length?(l=typeof d=="function"?d:Qp(+d),c):l},c.paddingLeft=function(d){return arguments.length?(u=typeof d=="function"?d:Qp(+d),c):u},c}function bTe(e,t,n,r,i){var o=e.children,s,a=o.length,l,u=new Array(a+1);for(u[0]=l=s=0;s<a;++s)u[s+1]=l+=o[s].value;c(0,a,e.value,t,n,r,i);function c(f,d,h,p,g,m,y){if(f>=d-1){var v=o[f];v.x0=p,v.y0=g,v.x1=m,v.y1=y;return}for(var b=u[f],x=h/2+b,w=f+1,C=d-1;w<C;){var S=w+C>>>1;u[S]<x?w=S+1:C=S}x-u[w-1]<u[w]-x&&f+1<w&&--w;var k=u[w]-b,$=h-k;if(m-p>y-g){var R=h?(p*$+m*k)/h:m;c(f,w,k,p,g,R,y),c(w,d,$,R,g,m,y)}else{var O=h?(g*$+y*k)/h:y;c(f,w,k,p,g,m,O),c(w,d,$,p,O,m,y)}}}function xTe(e,t,n,r,i){(e.depth&1?T_:fx)(e,t,n,r,i)}const wTe=function e(t){function n(r,i,o,s,a){if((l=r._squarify)&&l.ratio===t)for(var l,u,c,f,d=-1,h,p=l.length,g=r.value;++d<p;){for(u=l[d],c=u.children,f=u.value=0,h=c.length;f<h;++f)u.value+=c[f].value;u.dice?fx(u,i,o,s,g?o+=(a-o)*u.value/g:a):T_(u,i,o,g?i+=(s-i)*u.value/g:s,a),g-=u.value}else r._squarify=l=Jne(t,r,i,o,s,a),l.ratio=t}return n.ratio=function(r){return e((r=+r)>1?r:1)},n}(Qne);function fR(e,t,n){const r={};return e.each(i=>{const o=i.data;n(o)&&(r[t(o)]=i)}),e.lookup=r,e}function SN(e){J.call(this,null,e)}SN.Definition={type:"Nest",metadata:{treesource:!0,changes:!0},params:[{name:"keys",type:"field",array:!0},{name:"generate",type:"boolean"}]};const STe=e=>e.values;he(SN,J,{transform(e,t){t.source||ee("Nest transform requires an upstream data source.");var n=e.generate,r=e.modified(),i=t.clone(),o=this.value;return(!o||r||t.changed())&&(o&&o.each(s=>{s.children&&Vk(s.data)&&i.rem.push(s.data)}),this.value=o=wN({values:xe(e.keys).reduce((s,a)=>(s.key(a),s),ETe()).entries(i.source)},STe),n&&o.each(s=>{s.children&&(s=Rt(s.data),i.add.push(s),i.source.push(s))}),fR(o,De,De)),i.source.root=o,i}});function ETe(){const e=[],t={entries:i=>r(n(i,0),0),key:i=>(e.push(i),t)};function n(i,o){if(o>=e.length)return i;const s=i.length,a=e[o++],l={},u={};let c=-1,f,d,h;for(;++c<s;)f=a(d=i[c])+"",(h=l[f])?h.push(d):l[f]=[d];for(f in l)u[f]=n(l[f],o);return u}function r(i,o){if(++o>e.length)return i;const s=[];for(const a in i)s.push({key:a,values:r(i[a],o)});return s}return t}function Nu(e){J.call(this,null,e)}const CTe=(e,t)=>e.parent===t.parent?1:2;he(Nu,J,{transform(e,t){(!t.source||!t.source.root)&&ee(this.constructor.name+" transform requires a backing tree data source.");const n=this.layout(e.method),r=this.fields,i=t.source.root,o=e.as||r;e.field?i.sum(e.field):i.count(),e.sort&&i.sort(Kh(e.sort,s=>s.data)),kTe(n,this.params,e),n.separation&&n.separation(e.separation!==!1?CTe:y0);try{this.value=n(i)}catch(s){ee(s)}return i.each(s=>_Te(s,r,o)),t.reflow(e.modified()).modifies(o).modifies("leaf")}});function kTe(e,t,n){for(let r,i=0,o=t.length;i<o;++i)r=t[i],r in n&&e[r](n[r])}function _Te(e,t,n){const r=e.data,i=t.length-1;for(let o=0;o<i;++o)r[n[o]]=e[t[o]];r[n[i]]=e.children?e.children.length:0}const dR=["x","y","r","depth","children"];function EN(e){Nu.call(this,e)}EN.Definition={type:"Pack",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"radius",type:"field",default:null},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:dR.length,default:dR}]};he(EN,Nu,{layout:sTe,params:["radius","size","padding"],fields:dR});const hR=["x0","y0","x1","y1","depth","children"];function CN(e){Nu.call(this,e)}CN.Definition={type:"Partition",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:hR.length,default:hR}]};he(CN,Nu,{layout:aTe,params:["size","round","padding"],fields:hR});function kN(e){J.call(this,null,e)}kN.Definition={type:"Stratify",metadata:{treesource:!0},params:[{name:"key",type:"field",required:!0},{name:"parentKey",type:"field",required:!0}]};he(kN,J,{transform(e,t){t.source||ee("Stratify transform requires an upstream data source.");let n=this.value;const r=e.modified(),i=t.fork(t.ALL).materialize(t.SOURCE),o=!n||r||t.changed(t.ADD_REM)||t.modified(e.key.fields)||t.modified(e.parentKey.fields);return i.source=i.source.slice(),o&&(n=i.source.length?fR(DB().id(e.key).parentId(e.parentKey)(i.source),e.key,xs):fR(DB()([{}]),e.key,e.key)),i.source.root=this.value=n,i}});const NB={tidy:yTe,cluster:T5e},pR=["x","y","depth","children"];function _N(e){Nu.call(this,e)}_N.Definition={type:"Tree",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"tidy",values:["tidy","cluster"]},{name:"size",type:"number",array:!0,length:2},{name:"nodeSize",type:"number",array:!0,length:2},{name:"separation",type:"boolean",default:!0},{name:"as",type:"string",array:!0,length:pR.length,default:pR}]};he(_N,Nu,{layout(e){const t=e||"tidy";if(Se(NB,t))return NB[t]();ee("Unrecognized Tree layout method: "+t)},params:["size","nodeSize"],fields:pR});function $N(e){J.call(this,[],e)}$N.Definition={type:"TreeLinks",metadata:{tree:!0,generates:!0,changes:!0},params:[]};he($N,J,{transform(e,t){const n=this.value,r=t.source&&t.source.root,i=t.fork(t.NO_SOURCE),o={};return r||ee("TreeLinks transform requires a tree data source."),t.changed(t.ADD_REM)?(i.rem=n,t.visit(t.SOURCE,s=>o[De(s)]=1),r.each(s=>{const a=s.data,l=s.parent&&s.parent.data;l&&o[De(a)]&&o[De(l)]&&i.add.push(Rt({source:l,target:a}))}),this.value=i.add):t.changed(t.MOD)&&(t.visit(t.MOD,s=>o[De(s)]=1),n.forEach(s=>{(o[De(s.source)]||o[De(s.target)])&&i.mod.push(s)})),i}});const LB={binary:bTe,dice:fx,slice:T_,slicedice:xTe,squarify:Zne,resquarify:wTe},gR=["x0","y0","x1","y1","depth","children"];function AN(e){Nu.call(this,e)}AN.Definition={type:"Treemap",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"squarify",values:["squarify","resquarify","binary","dice","slice","slicedice"]},{name:"padding",type:"number",default:0},{name:"paddingInner",type:"number",default:0},{name:"paddingOuter",type:"number",default:0},{name:"paddingTop",type:"number",default:0},{name:"paddingRight",type:"number",default:0},{name:"paddingBottom",type:"number",default:0},{name:"paddingLeft",type:"number",default:0},{name:"ratio",type:"number",default:1.618033988749895},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:gR.length,default:gR}]};he(AN,Nu,{layout(){const e=vTe();return e.ratio=t=>{const n=e.tile();n.ratio&&e.tile(n.ratio(t))},e.method=t=>{Se(LB,t)?e.tile(LB[t]):ee("Unrecognized Treemap layout method: "+t)},e},params:["method","ratio","size","round","padding","paddingInner","paddingOuter","paddingTop","paddingRight","paddingBottom","paddingLeft"],fields:gR});const $Te=Object.freeze(Object.defineProperty({__proto__:null,nest:SN,pack:EN,partition:CN,stratify:kN,tree:_N,treelinks:$N,treemap:AN},Symbol.toStringTag,{value:"Module"})),DT=4278190080;function ATe(e,t){const n=e.bitmap();return(t||[]).forEach(r=>n.set(e(r.boundary[0]),e(r.boundary[3]))),[n,void 0]}function TTe(e,t,n,r,i){const o=e.width,s=e.height,a=r||i,l=Xc(o,s).getContext("2d"),u=Xc(o,s).getContext("2d"),c=a&&Xc(o,s).getContext("2d");n.forEach(k=>uS(l,k,!1)),uS(u,t,!1),a&&uS(c,t,!0);const f=MT(l,o,s),d=MT(u,o,s),h=a&&MT(c,o,s),p=e.bitmap(),g=a&&e.bitmap();let m,y,v,b,x,w,C,S;for(y=0;y<s;++y)for(m=0;m<o;++m)x=y*o+m,w=f[x]&DT,S=d[x]&DT,C=a&&h[x]&DT,(w||C||S)&&(v=e(m),b=e(y),!i&&(w||S)&&p.set(v,b),a&&(w||C)&&g.set(v,b));return[p,g]}function MT(e,t,n){return new Uint32Array(e.getImageData(0,0,t,n).data.buffer)}function uS(e,t,n){if(!t.length)return;const r=t[0].mark.marktype;r==="group"?t.forEach(i=>{i.items.forEach(o=>uS(e,o.items,n))}):Io[r].draw(e,{items:n?t.map(FTe):t})}function FTe(e){const t=Wk(e,{});return t.stroke&&t.strokeOpacity!==0||t.fill&&t.fillOpacity!==0?{...t,strokeOpacity:1,stroke:"#000",fillOpacity:0}:t}const Vl=5,pi=31,Mv=32,vc=new Uint32Array(Mv+1),qs=new Uint32Array(Mv+1);qs[0]=0;vc[0]=~qs[0];for(let e=1;e<=Mv;++e)qs[e]=qs[e-1]<<1|1,vc[e]=~qs[e];function RTe(e,t){const n=new Uint32Array(~~((e*t+Mv)/Mv));function r(o,s){n[o]|=s}function i(o,s){n[o]&=s}return{array:n,get:(o,s)=>{const a=s*e+o;return n[a>>>Vl]&1<<(a&pi)},set:(o,s)=>{const a=s*e+o;r(a>>>Vl,1<<(a&pi))},clear:(o,s)=>{const a=s*e+o;i(a>>>Vl,~(1<<(a&pi)))},getRange:(o,s,a,l)=>{let u=l,c,f,d,h;for(;u>=s;--u)if(c=u*e+o,f=u*e+a,d=c>>>Vl,h=f>>>Vl,d===h){if(n[d]&vc[c&pi]&qs[(f&pi)+1])return!0}else{if(n[d]&vc[c&pi]||n[h]&qs[(f&pi)+1])return!0;for(let p=d+1;p<h;++p)if(n[p])return!0}return!1},setRange:(o,s,a,l)=>{let u,c,f,d,h;for(;s<=l;++s)if(u=s*e+o,c=s*e+a,f=u>>>Vl,d=c>>>Vl,f===d)r(f,vc[u&pi]&qs[(c&pi)+1]);else for(r(f,vc[u&pi]),r(d,qs[(c&pi)+1]),h=f+1;h<d;++h)r(h,4294967295)},clearRange:(o,s,a,l)=>{let u,c,f,d,h;for(;s<=l;++s)if(u=s*e+o,c=s*e+a,f=u>>>Vl,d=c>>>Vl,f===d)i(f,qs[u&pi]|vc[(c&pi)+1]);else for(i(f,qs[u&pi]),i(d,vc[(c&pi)+1]),h=f+1;h<d;++h)i(h,0)},outOfBounds:(o,s,a,l)=>o<0||s<0||l>=t||a>=e}}function PTe(e,t,n){const r=Math.max(1,Math.sqrt(e*t/1e6)),i=~~((e+2*n+r)/r),o=~~((t+2*n+r)/r),s=a=>~~((a+n)/r);return s.invert=a=>a*r-n,s.bitmap=()=>RTe(i,o),s.ratio=r,s.padding=n,s.width=e,s.height=t,s}function OTe(e,t,n,r){const i=e.width,o=e.height;return function(s){const a=s.datum.datum.items[r].items,l=a.length,u=s.datum.fontSize,c=To.width(s.datum,s.datum.text);let f=0,d,h,p,g,m,y,v;for(let b=0;b<l;++b)d=a[b].x,p=a[b].y,h=a[b].x2===void 0?d:a[b].x2,g=a[b].y2===void 0?p:a[b].y2,m=(d+h)/2,y=(p+g)/2,v=Math.abs(h-d+g-p),v>=f&&(f=v,s.x=m,s.y=y);return m=c/2,y=u/2,d=s.x-m,h=s.x+m,p=s.y-y,g=s.y+y,s.align="center",d<0&&h<=i?s.align="left":0<=d&&i<h&&(s.align="right"),s.baseline="middle",p<0&&g<=o?s.baseline="top":0<=p&&o<g&&(s.baseline="bottom"),!0}}function lC(e,t,n,r,i,o){let s=n/2;return e-s<0||e+s>i||t-(s=r/2)<0||t+s>o}function Bc(e,t,n,r,i,o,s,a){const l=i*o/(r*2),u=e(t-l),c=e(t+l),f=e(n-(o=o/2)),d=e(n+o);return s.outOfBounds(u,f,c,d)||s.getRange(u,f,c,d)||a&&a.getRange(u,f,c,d)}function DTe(e,t,n,r){const i=e.width,o=e.height,s=t[0],a=t[1];function l(u,c,f,d,h){const p=e.invert(u),g=e.invert(c);let m=f,y=o,v;if(!lC(p,g,d,h,i,o)&&!Bc(e,p,g,h,d,m,s,a)&&!Bc(e,p,g,h,d,h,s,null)){for(;y-m>=1;)v=(m+y)/2,Bc(e,p,g,h,d,v,s,a)?y=v:m=v;if(m>f)return[p,g,m,!0]}}return function(u){const c=u.datum.datum.items[r].items,f=c.length,d=u.datum.fontSize,h=To.width(u.datum,u.datum.text);let p=n?d:0,g=!1,m=!1,y=0,v,b,x,w,C,S,k,$,R,O,B,D,L,A,P,j,z;for(let U=0;U<f;++U){for(v=c[U].x,x=c[U].y,b=c[U].x2===void 0?v:c[U].x2,w=c[U].y2===void 0?x:c[U].y2,v>b&&(z=v,v=b,b=z),x>w&&(z=x,x=w,w=z),R=e(v),B=e(b),O=~~((R+B)/2),D=e(x),A=e(w),L=~~((D+A)/2),k=O;k>=R;--k)for($=L;$>=D;--$)j=l(k,$,p,h,d),j&&([u.x,u.y,p,g]=j);for(k=O;k<=B;++k)for($=L;$<=A;++$)j=l(k,$,p,h,d),j&&([u.x,u.y,p,g]=j);!g&&!n&&(P=Math.abs(b-v+w-x),C=(v+b)/2,S=(x+w)/2,P>=y&&!lC(C,S,h,d,i,o)&&!Bc(e,C,S,d,h,d,s,null)&&(y=P,u.x=C,u.y=S,m=!0))}return g||m?(C=h/2,S=d/2,s.setRange(e(u.x-C),e(u.y-S),e(u.x+C),e(u.y+S)),u.align="center",u.baseline="middle",!0):!1}}const MTe=[-1,-1,1,1],NTe=[-1,1,-1,1];function LTe(e,t,n,r){const i=e.width,o=e.height,s=t[0],a=t[1],l=e.bitmap();return function(u){const c=u.datum.datum.items[r].items,f=c.length,d=u.datum.fontSize,h=To.width(u.datum,u.datum.text),p=[];let g=n?d:0,m=!1,y=!1,v=0,b,x,w,C,S,k,$,R,O,B,D,L;for(let A=0;A<f;++A){for(b=c[A].x,w=c[A].y,x=c[A].x2===void 0?b:c[A].x2,C=c[A].y2===void 0?w:c[A].y2,p.push([e((b+x)/2),e((w+C)/2)]);p.length;)if([$,R]=p.pop(),!(s.get($,R)||a.get($,R)||l.get($,R))){l.set($,R);for(let P=0;P<4;++P)S=$+MTe[P],k=R+NTe[P],l.outOfBounds(S,k,S,k)||p.push([S,k]);if(S=e.invert($),k=e.invert(R),O=g,B=o,!lC(S,k,h,d,i,o)&&!Bc(e,S,k,d,h,O,s,a)&&!Bc(e,S,k,d,h,d,s,null)){for(;B-O>=1;)D=(O+B)/2,Bc(e,S,k,d,h,D,s,a)?B=D:O=D;O>g&&(u.x=S,u.y=k,g=O,m=!0)}}!m&&!n&&(L=Math.abs(x-b+C-w),S=(b+x)/2,k=(w+C)/2,L>=v&&!lC(S,k,h,d,i,o)&&!Bc(e,S,k,d,h,d,s,null)&&(v=L,u.x=S,u.y=k,y=!0))}return m||y?(S=h/2,k=d/2,s.setRange(e(u.x-S),e(u.y-k),e(u.x+S),e(u.y+k)),u.align="center",u.baseline="middle",!0):!1}}const ITe=["right","center","left"],zTe=["bottom","middle","top"];function jTe(e,t,n,r){const i=e.width,o=e.height,s=t[0],a=t[1],l=r.length;return function(u){const c=u.boundary,f=u.datum.fontSize;if(c[2]<0||c[5]<0||c[0]>i||c[3]>o)return!1;let d=u.textWidth??0,h,p,g,m,y,v,b,x,w,C,S,k,$,R,O;for(let B=0;B<l;++B){if(h=(n[B]&3)-1,p=(n[B]>>>2&3)-1,g=h===0&&p===0||r[B]<0,m=h&&p?Math.SQRT1_2:1,y=r[B]<0?-1:1,v=c[1+h]+r[B]*h*m,S=c[4+p]+y*f*p/2+r[B]*p*m,x=S-f/2,w=S+f/2,k=e(v),R=e(x),O=e(w),!d)if(IB(k,k,R,O,s,a,v,v,x,w,c,g))d=To.width(u.datum,u.datum.text);else continue;if(C=v+y*d*h/2,v=C-d/2,b=C+d/2,k=e(v),$=e(b),IB(k,$,R,O,s,a,v,b,x,w,c,g))return u.x=h?h*y<0?b:v:C,u.y=p?p*y<0?w:x:S,u.align=ITe[h*y+1],u.baseline=zTe[p*y+1],s.setRange(k,R,$,O),!0}return!1}}function IB(e,t,n,r,i,o,s,a,l,u,c,f){return!(i.outOfBounds(e,n,t,r)||(f&&o||i).getRange(e,n,t,r))}const NT=0,LT=4,IT=8,zT=0,jT=1,BT=2,BTe={"top-left":NT+zT,top:NT+jT,"top-right":NT+BT,left:LT+zT,middle:LT+jT,right:LT+BT,"bottom-left":IT+zT,bottom:IT+jT,"bottom-right":IT+BT},UTe={naive:OTe,"reduced-search":DTe,floodfill:LTe};function VTe(e,t,n,r,i,o,s,a,l,u,c){if(!e.length)return e;const f=Math.max(r.length,i.length),d=WTe(r,f),h=HTe(i,f),p=qTe(e[0].datum),g=p==="group"&&e[0].datum.items[l].marktype,m=g==="area",y=GTe(p,g,a,l),v=u===null||u===1/0,b=m&&c==="naive";let x=-1,w=-1;const C=e.map(R=>{const O=v?To.width(R,R.text):void 0;return x=Math.max(x,O),w=Math.max(w,R.fontSize),{datum:R,opacity:0,x:void 0,y:void 0,align:void 0,baseline:void 0,boundary:y(R),textWidth:O}});u=u===null||u===1/0?Math.max(x,w)+Math.max(...r):u;const S=PTe(t[0],t[1],u);let k;if(!b){n&&C.sort((B,D)=>n(B.datum,D.datum));let R=!1;for(let B=0;B<h.length&&!R;++B)R=h[B]===5||d[B]<0;const O=(p&&s||m)&&e.map(B=>B.datum);k=o.length||O?TTe(S,O||[],o,R,m):ATe(S,s&&C)}const $=m?UTe[c](S,k,s,l):jTe(S,k,h,d);return C.forEach(R=>R.opacity=+$(R)),C}function WTe(e,t){const n=new Float64Array(t),r=e.length;for(let i=0;i<r;++i)n[i]=e[i]||0;for(let i=r;i<t;++i)n[i]=n[r-1];return n}function HTe(e,t){const n=new Int8Array(t),r=e.length;for(let i=0;i<r;++i)n[i]|=BTe[e[i]];for(let i=r;i<t;++i)n[i]=n[r-1];return n}function qTe(e){return e&&e.mark&&e.mark.marktype}function GTe(e,t,n,r){const i=o=>[o.x,o.x,o.x,o.y,o.y,o.y];return e?e==="line"||e==="area"?o=>i(o.datum):t==="line"?o=>{const s=o.datum.items[r].items;return i(s.length?s[n==="start"?0:s.length-1]:{x:NaN,y:NaN})}:o=>{const s=o.datum.bounds;return[s.x1,(s.x1+s.x2)/2,s.x2,s.y1,(s.y1+s.y2)/2,s.y2]}:i}const mR=["x","y","opacity","align","baseline"],ere=["top-left","left","bottom-left","top","bottom","top-right","right","bottom-right"];function TN(e){J.call(this,null,e)}TN.Definition={type:"Label",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"sort",type:"compare"},{name:"anchor",type:"string",array:!0,default:ere},{name:"offset",type:"number",array:!0,default:[1]},{name:"padding",type:"number",default:0,null:!0},{name:"lineAnchor",type:"string",values:["start","end"],default:"end"},{name:"markIndex",type:"number",default:0},{name:"avoidBaseMark",type:"boolean",default:!0},{name:"avoidMarks",type:"data",array:!0},{name:"method",type:"string",default:"naive"},{name:"as",type:"string",array:!0,length:mR.length,default:mR}]};he(TN,J,{transform(e,t){function n(o){const s=e[o];return et(s)&&t.modified(s.fields)}const r=e.modified();if(!(r||t.changed(t.ADD_REM)||n("sort")))return;(!e.size||e.size.length!==2)&&ee("Size parameter should be specified as a [width, height] array.");const i=e.as||mR;return VTe(t.materialize(t.SOURCE).source||[],e.size,e.sort,xe(e.offset==null?1:e.offset),xe(e.anchor||ere),e.avoidMarks||[],e.avoidBaseMark!==!1,e.lineAnchor||"end",e.markIndex||0,e.padding===void 0?0:e.padding,e.method||"naive").forEach(o=>{const s=o.datum;s[i[0]]=o.x,s[i[1]]=o.y,s[i[2]]=o.opacity,s[i[3]]=o.align,s[i[4]]=o.baseline}),t.reflow(r).modifies(i)}});const XTe=Object.freeze(Object.defineProperty({__proto__:null,label:TN},Symbol.toStringTag,{value:"Module"}));function tre(e,t){var n=[],r=function(c){return c(a)},i,o,s,a,l,u;if(t==null)n.push(e);else for(i={},o=0,s=e.length;o<s;++o)a=e[o],l=t.map(r),u=i[l],u||(i[l]=u=[],u.dims=l,n.push(u)),u.push(a);return n}function FN(e){J.call(this,null,e)}FN.Definition={type:"Loess",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"bandwidth",type:"number",default:.3},{name:"as",type:"string",array:!0}]};he(FN,J,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const r=t.materialize(t.SOURCE).source,i=tre(r,e.groupby),o=(e.groupby||[]).map(Pn),s=o.length,a=e.as||[Pn(e.x),Pn(e.y)],l=[];i.forEach(u=>{nJ(u,e.x,e.y,e.bandwidth||.3).forEach(c=>{const f={};for(let d=0;d<s;++d)f[o[d]]=u.dims[d];f[a[0]]=c[0],f[a[1]]=c[1],l.push(Rt(f))})}),this.value&&(n.rem=this.value),this.value=n.add=n.source=l}return n}});const yR={constant:cM,linear:fM,log:JQ,exp:ZQ,pow:eJ,quad:dM,poly:tJ},YTe=(e,t)=>e==="poly"?t:e==="quad"?2:1;function RN(e){J.call(this,null,e)}RN.Definition={type:"Regression",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"string",default:"linear",values:Object.keys(yR)},{name:"order",type:"number",default:3},{name:"extent",type:"number",array:!0,length:2},{name:"params",type:"boolean",default:!1},{name:"as",type:"string",array:!0}]};he(RN,J,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const r=t.materialize(t.SOURCE).source,i=tre(r,e.groupby),o=(e.groupby||[]).map(Pn),s=e.method||"linear",a=e.order==null?3:e.order,l=YTe(s,a),u=e.as||[Pn(e.x),Pn(e.y)],c=yR[s],f=[];let d=e.extent;Se(yR,s)||ee("Invalid regression method: "+s),d!=null&&s==="log"&&d[0]<=0&&(t.dataflow.warn("Ignoring extent with values <= 0 for log regression."),d=null),i.forEach(h=>{if(h.length<=l){t.dataflow.warn("Skipping regression with more parameters than data points.");return}const g=c(h,e.x,e.y,a);if(e.params){f.push(Rt({keys:h.dims,coef:g.coef,rSquared:g.rSquared}));return}const m=d||ml(h,e.x),y=v=>{const b={};for(let x=0;x<o.length;++x)b[o[x]]=h.dims[x];b[u[0]]=v[0],b[u[1]]=v[1],f.push(Rt(b))};s==="linear"||s==="constant"?m.forEach(v=>y([v,g.predict(v)])):Qk(g.predict,m,25,200).forEach(y)}),this.value&&(n.rem=this.value),this.value=n.add=n.source=f}return n}});const KTe=Object.freeze(Object.defineProperty({__proto__:null,loess:FN,regression:RN},Symbol.toStringTag,{value:"Module"})),hu=11102230246251565e-32,Vr=134217729,QTe=(3+8*hu)*hu;function UT(e,t,n,r,i){let o,s,a,l,u=t[0],c=r[0],f=0,d=0;c>u==c>-u?(o=u,u=t[++f]):(o=c,c=r[++d]);let h=0;if(f<e&&d<n)for(c>u==c>-u?(s=u+o,a=o-(s-u),u=t[++f]):(s=c+o,a=o-(s-c),c=r[++d]),o=s,a!==0&&(i[h++]=a);f<e&&d<n;)c>u==c>-u?(s=o+u,l=s-o,a=o-(s-l)+(u-l),u=t[++f]):(s=o+c,l=s-o,a=o-(s-l)+(c-l),c=r[++d]),o=s,a!==0&&(i[h++]=a);for(;f<e;)s=o+u,l=s-o,a=o-(s-l)+(u-l),u=t[++f],o=s,a!==0&&(i[h++]=a);for(;d<n;)s=o+c,l=s-o,a=o-(s-l)+(c-l),c=r[++d],o=s,a!==0&&(i[h++]=a);return(o!==0||h===0)&&(i[h++]=o),h}function JTe(e,t){let n=t[0];for(let r=1;r<e;r++)n+=t[r];return n}function dx(e){return new Float64Array(e)}const ZTe=(3+16*hu)*hu,e3e=(2+12*hu)*hu,t3e=(9+64*hu)*hu*hu,Lp=dx(4),zB=dx(8),jB=dx(12),BB=dx(16),gi=dx(4);function n3e(e,t,n,r,i,o,s){let a,l,u,c,f,d,h,p,g,m,y,v,b,x,w,C,S,k;const $=e-i,R=n-i,O=t-o,B=r-o;x=$*B,d=Vr*$,h=d-(d-$),p=$-h,d=Vr*B,g=d-(d-B),m=B-g,w=p*m-(x-h*g-p*g-h*m),C=O*R,d=Vr*O,h=d-(d-O),p=O-h,d=Vr*R,g=d-(d-R),m=R-g,S=p*m-(C-h*g-p*g-h*m),y=w-S,f=w-y,Lp[0]=w-(y+f)+(f-S),v=x+y,f=v-x,b=x-(v-f)+(y-f),y=b-C,f=b-y,Lp[1]=b-(y+f)+(f-C),k=v+y,f=k-v,Lp[2]=v-(k-f)+(y-f),Lp[3]=k;let D=JTe(4,Lp),L=e3e*s;if(D>=L||-D>=L||(f=e-$,a=e-($+f)+(f-i),f=n-R,u=n-(R+f)+(f-i),f=t-O,l=t-(O+f)+(f-o),f=r-B,c=r-(B+f)+(f-o),a===0&&l===0&&u===0&&c===0)||(L=t3e*s+QTe*Math.abs(D),D+=$*c+B*a-(O*u+R*l),D>=L||-D>=L))return D;x=a*B,d=Vr*a,h=d-(d-a),p=a-h,d=Vr*B,g=d-(d-B),m=B-g,w=p*m-(x-h*g-p*g-h*m),C=l*R,d=Vr*l,h=d-(d-l),p=l-h,d=Vr*R,g=d-(d-R),m=R-g,S=p*m-(C-h*g-p*g-h*m),y=w-S,f=w-y,gi[0]=w-(y+f)+(f-S),v=x+y,f=v-x,b=x-(v-f)+(y-f),y=b-C,f=b-y,gi[1]=b-(y+f)+(f-C),k=v+y,f=k-v,gi[2]=v-(k-f)+(y-f),gi[3]=k;const A=UT(4,Lp,4,gi,zB);x=$*c,d=Vr*$,h=d-(d-$),p=$-h,d=Vr*c,g=d-(d-c),m=c-g,w=p*m-(x-h*g-p*g-h*m),C=O*u,d=Vr*O,h=d-(d-O),p=O-h,d=Vr*u,g=d-(d-u),m=u-g,S=p*m-(C-h*g-p*g-h*m),y=w-S,f=w-y,gi[0]=w-(y+f)+(f-S),v=x+y,f=v-x,b=x-(v-f)+(y-f),y=b-C,f=b-y,gi[1]=b-(y+f)+(f-C),k=v+y,f=k-v,gi[2]=v-(k-f)+(y-f),gi[3]=k;const P=UT(A,zB,4,gi,jB);x=a*c,d=Vr*a,h=d-(d-a),p=a-h,d=Vr*c,g=d-(d-c),m=c-g,w=p*m-(x-h*g-p*g-h*m),C=l*u,d=Vr*l,h=d-(d-l),p=l-h,d=Vr*u,g=d-(d-u),m=u-g,S=p*m-(C-h*g-p*g-h*m),y=w-S,f=w-y,gi[0]=w-(y+f)+(f-S),v=x+y,f=v-x,b=x-(v-f)+(y-f),y=b-C,f=b-y,gi[1]=b-(y+f)+(f-C),k=v+y,f=k-v,gi[2]=v-(k-f)+(y-f),gi[3]=k;const j=UT(P,jB,4,gi,BB);return BB[j-1]}function Uw(e,t,n,r,i,o){const s=(t-o)*(n-i),a=(e-i)*(r-o),l=s-a,u=Math.abs(s+a);return Math.abs(l)>=ZTe*u?l:-n3e(e,t,n,r,i,o,u)}const UB=Math.pow(2,-52),Vw=new Uint32Array(512);class uC{static from(t,n=a3e,r=l3e){const i=t.length,o=new Float64Array(i*2);for(let s=0;s<i;s++){const a=t[s];o[2*s]=n(a),o[2*s+1]=r(a)}return new uC(o)}constructor(t){const n=t.length>>1;if(n>0&&typeof t[0]!="number")throw new Error("Expected coords to contain numbers.");this.coords=t;const r=Math.max(2*n-5,0);this._triangles=new Uint32Array(r*3),this._halfedges=new Int32Array(r*3),this._hashSize=Math.ceil(Math.sqrt(n)),this._hullPrev=new Uint32Array(n),this._hullNext=new Uint32Array(n),this._hullTri=new Uint32Array(n),this._hullHash=new Int32Array(this._hashSize),this._ids=new Uint32Array(n),this._dists=new Float64Array(n),this.update()}update(){const{coords:t,_hullPrev:n,_hullNext:r,_hullTri:i,_hullHash:o}=this,s=t.length>>1;let a=1/0,l=1/0,u=-1/0,c=-1/0;for(let $=0;$<s;$++){const R=t[2*$],O=t[2*$+1];R<a&&(a=R),O<l&&(l=O),R>u&&(u=R),O>c&&(c=O),this._ids[$]=$}const f=(a+u)/2,d=(l+c)/2;let h,p,g;for(let $=0,R=1/0;$<s;$++){const O=VT(f,d,t[2*$],t[2*$+1]);O<R&&(h=$,R=O)}const m=t[2*h],y=t[2*h+1];for(let $=0,R=1/0;$<s;$++){if($===h)continue;const O=VT(m,y,t[2*$],t[2*$+1]);O<R&&O>0&&(p=$,R=O)}let v=t[2*p],b=t[2*p+1],x=1/0;for(let $=0;$<s;$++){if($===h||$===p)continue;const R=o3e(m,y,v,b,t[2*$],t[2*$+1]);R<x&&(g=$,x=R)}let w=t[2*g],C=t[2*g+1];if(x===1/0){for(let O=0;O<s;O++)this._dists[O]=t[2*O]-t[0]||t[2*O+1]-t[1];ig(this._ids,this._dists,0,s-1);const $=new Uint32Array(s);let R=0;for(let O=0,B=-1/0;O<s;O++){const D=this._ids[O],L=this._dists[D];L>B&&($[R++]=D,B=L)}this.hull=$.subarray(0,R),this.triangles=new Uint32Array(0),this.halfedges=new Uint32Array(0);return}if(Uw(m,y,v,b,w,C)<0){const $=p,R=v,O=b;p=g,v=w,b=C,g=$,w=R,C=O}const S=s3e(m,y,v,b,w,C);this._cx=S.x,this._cy=S.y;for(let $=0;$<s;$++)this._dists[$]=VT(t[2*$],t[2*$+1],S.x,S.y);ig(this._ids,this._dists,0,s-1),this._hullStart=h;let k=3;r[h]=n[g]=p,r[p]=n[h]=g,r[g]=n[p]=h,i[h]=0,i[p]=1,i[g]=2,o.fill(-1),o[this._hashKey(m,y)]=h,o[this._hashKey(v,b)]=p,o[this._hashKey(w,C)]=g,this.trianglesLen=0,this._addTriangle(h,p,g,-1,-1,-1);for(let $=0,R,O;$<this._ids.length;$++){const B=this._ids[$],D=t[2*B],L=t[2*B+1];if($>0&&Math.abs(D-R)<=UB&&Math.abs(L-O)<=UB||(R=D,O=L,B===h||B===p||B===g))continue;let A=0;for(let X=0,K=this._hashKey(D,L);X<this._hashSize&&(A=o[(K+X)%this._hashSize],!(A!==-1&&A!==r[A]));X++);A=n[A];let P=A,j;for(;j=r[P],Uw(D,L,t[2*P],t[2*P+1],t[2*j],t[2*j+1])>=0;)if(P=j,P===A){P=-1;break}if(P===-1)continue;let z=this._addTriangle(P,B,r[P],-1,-1,i[P]);i[B]=this._legalize(z+2),i[P]=z,k++;let U=r[P];for(;j=r[U],Uw(D,L,t[2*U],t[2*U+1],t[2*j],t[2*j+1])<0;)z=this._addTriangle(U,B,j,i[B],-1,i[U]),i[B]=this._legalize(z+2),r[U]=U,k--,U=j;if(P===A)for(;j=n[P],Uw(D,L,t[2*j],t[2*j+1],t[2*P],t[2*P+1])<0;)z=this._addTriangle(j,B,P,-1,i[P],i[j]),this._legalize(z+2),i[j]=z,r[P]=P,k--,P=j;this._hullStart=n[B]=P,r[P]=n[U]=B,r[B]=U,o[this._hashKey(D,L)]=B,o[this._hashKey(t[2*P],t[2*P+1])]=P}this.hull=new Uint32Array(k);for(let $=0,R=this._hullStart;$<k;$++)this.hull[$]=R,R=r[R];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(t,n){return Math.floor(r3e(t-this._cx,n-this._cy)*this._hashSize)%this._hashSize}_legalize(t){const{_triangles:n,_halfedges:r,coords:i}=this;let o=0,s=0;for(;;){const a=r[t],l=t-t%3;if(s=l+(t+2)%3,a===-1){if(o===0)break;t=Vw[--o];continue}const u=a-a%3,c=l+(t+1)%3,f=u+(a+2)%3,d=n[s],h=n[t],p=n[c],g=n[f];if(i3e(i[2*d],i[2*d+1],i[2*h],i[2*h+1],i[2*p],i[2*p+1],i[2*g],i[2*g+1])){n[t]=g,n[a]=d;const y=r[f];if(y===-1){let b=this._hullStart;do{if(this._hullTri[b]===f){this._hullTri[b]=t;break}b=this._hullPrev[b]}while(b!==this._hullStart)}this._link(t,y),this._link(a,r[s]),this._link(s,f);const v=u+(a+1)%3;o<Vw.length&&(Vw[o++]=v)}else{if(o===0)break;t=Vw[--o]}}return s}_link(t,n){this._halfedges[t]=n,n!==-1&&(this._halfedges[n]=t)}_addTriangle(t,n,r,i,o,s){const a=this.trianglesLen;return this._triangles[a]=t,this._triangles[a+1]=n,this._triangles[a+2]=r,this._link(a,i),this._link(a+1,o),this._link(a+2,s),this.trianglesLen+=3,a}}function r3e(e,t){const n=e/(Math.abs(e)+Math.abs(t));return(t>0?3-n:1+n)/4}function VT(e,t,n,r){const i=e-n,o=t-r;return i*i+o*o}function i3e(e,t,n,r,i,o,s,a){const l=e-s,u=t-a,c=n-s,f=r-a,d=i-s,h=o-a,p=l*l+u*u,g=c*c+f*f,m=d*d+h*h;return l*(f*m-g*h)-u*(c*m-g*d)+p*(c*h-f*d)<0}function o3e(e,t,n,r,i,o){const s=n-e,a=r-t,l=i-e,u=o-t,c=s*s+a*a,f=l*l+u*u,d=.5/(s*u-a*l),h=(u*c-a*f)*d,p=(s*f-l*c)*d;return h*h+p*p}function s3e(e,t,n,r,i,o){const s=n-e,a=r-t,l=i-e,u=o-t,c=s*s+a*a,f=l*l+u*u,d=.5/(s*u-a*l),h=e+(u*c-a*f)*d,p=t+(s*f-l*c)*d;return{x:h,y:p}}function ig(e,t,n,r){if(r-n<=20)for(let i=n+1;i<=r;i++){const o=e[i],s=t[o];let a=i-1;for(;a>=n&&t[e[a]]>s;)e[a+1]=e[a--];e[a+1]=o}else{const i=n+r>>1;let o=n+1,s=r;Sy(e,i,o),t[e[n]]>t[e[r]]&&Sy(e,n,r),t[e[o]]>t[e[r]]&&Sy(e,o,r),t[e[n]]>t[e[o]]&&Sy(e,n,o);const a=e[o],l=t[a];for(;;){do o++;while(t[e[o]]<l);do s--;while(t[e[s]]>l);if(s<o)break;Sy(e,o,s)}e[n+1]=e[s],e[s]=a,r-o+1>=s-n?(ig(e,t,o,r),ig(e,t,n,s-1)):(ig(e,t,n,s-1),ig(e,t,o,r))}}function Sy(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function a3e(e){return e[0]}function l3e(e){return e[1]}const VB=1e-6;class Nd{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(t,n){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(t,n){this._+=`L${this._x1=+t},${this._y1=+n}`}arc(t,n,r){t=+t,n=+n,r=+r;const i=t+r,o=n;if(r<0)throw new Error("negative radius");this._x1===null?this._+=`M${i},${o}`:(Math.abs(this._x1-i)>VB||Math.abs(this._y1-o)>VB)&&(this._+="L"+i+","+o),r&&(this._+=`A${r},${r},0,1,1,${t-r},${n}A${r},${r},0,1,1,${this._x1=i},${this._y1=o}`)}rect(t,n,r,i){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${+r}v${+i}h${-r}Z`}value(){return this._||null}}class vR{constructor(){this._=[]}moveTo(t,n){this._.push([t,n])}closePath(){this._.push(this._[0].slice())}lineTo(t,n){this._.push([t,n])}value(){return this._.length?this._:null}}let u3e=class{constructor(t,[n,r,i,o]=[0,0,960,500]){if(!((i=+i)>=(n=+n))||!((o=+o)>=(r=+r)))throw new Error("invalid bounds");this.delaunay=t,this._circumcenters=new Float64Array(t.points.length*2),this.vectors=new Float64Array(t.points.length*2),this.xmax=i,this.xmin=n,this.ymax=o,this.ymin=r,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){const{delaunay:{points:t,hull:n,triangles:r},vectors:i}=this;let o,s;const a=this.circumcenters=this._circumcenters.subarray(0,r.length/3*2);for(let g=0,m=0,y=r.length,v,b;g<y;g+=3,m+=2){const x=r[g]*2,w=r[g+1]*2,C=r[g+2]*2,S=t[x],k=t[x+1],$=t[w],R=t[w+1],O=t[C],B=t[C+1],D=$-S,L=R-k,A=O-S,P=B-k,j=(D*P-L*A)*2;if(Math.abs(j)<1e-9){if(o===void 0){o=s=0;for(const U of n)o+=t[U*2],s+=t[U*2+1];o/=n.length,s/=n.length}const z=1e9*Math.sign((o-S)*P-(s-k)*A);v=(S+O)/2-z*P,b=(k+B)/2+z*A}else{const z=1/j,U=D*D+L*L,X=A*A+P*P;v=S+(P*U-L*X)*z,b=k+(D*X-A*U)*z}a[m]=v,a[m+1]=b}let l=n[n.length-1],u,c=l*4,f,d=t[2*l],h,p=t[2*l+1];i.fill(0);for(let g=0;g<n.length;++g)l=n[g],u=c,f=d,h=p,c=l*4,d=t[2*l],p=t[2*l+1],i[u+2]=i[c]=h-p,i[u+3]=i[c+1]=d-f}render(t){const n=t==null?t=new Nd:void 0,{delaunay:{halfedges:r,inedges:i,hull:o},circumcenters:s,vectors:a}=this;if(o.length<=1)return null;for(let c=0,f=r.length;c<f;++c){const d=r[c];if(d<c)continue;const h=Math.floor(c/3)*2,p=Math.floor(d/3)*2,g=s[h],m=s[h+1],y=s[p],v=s[p+1];this._renderSegment(g,m,y,v,t)}let l,u=o[o.length-1];for(let c=0;c<o.length;++c){l=u,u=o[c];const f=Math.floor(i[u]/3)*2,d=s[f],h=s[f+1],p=l*4,g=this._project(d,h,a[p+2],a[p+3]);g&&this._renderSegment(d,h,g[0],g[1],t)}return n&&n.value()}renderBounds(t){const n=t==null?t=new Nd:void 0;return t.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),n&&n.value()}renderCell(t,n){const r=n==null?n=new Nd:void 0,i=this._clip(t);if(i===null||!i.length)return;n.moveTo(i[0],i[1]);let o=i.length;for(;i[0]===i[o-2]&&i[1]===i[o-1]&&o>1;)o-=2;for(let s=2;s<o;s+=2)(i[s]!==i[s-2]||i[s+1]!==i[s-1])&&n.lineTo(i[s],i[s+1]);return n.closePath(),r&&r.value()}*cellPolygons(){const{delaunay:{points:t}}=this;for(let n=0,r=t.length/2;n<r;++n){const i=this.cellPolygon(n);i&&(i.index=n,yield i)}}cellPolygon(t){const n=new vR;return this.renderCell(t,n),n.value()}_renderSegment(t,n,r,i,o){let s;const a=this._regioncode(t,n),l=this._regioncode(r,i);a===0&&l===0?(o.moveTo(t,n),o.lineTo(r,i)):(s=this._clipSegment(t,n,r,i,a,l))&&(o.moveTo(s[0],s[1]),o.lineTo(s[2],s[3]))}contains(t,n,r){return n=+n,n!==n||(r=+r,r!==r)?!1:this.delaunay._step(t,n,r)===t}*neighbors(t){const n=this._clip(t);if(n)for(const r of this.delaunay.neighbors(t)){const i=this._clip(r);if(i){e:for(let o=0,s=n.length;o<s;o+=2)for(let a=0,l=i.length;a<l;a+=2)if(n[o]===i[a]&&n[o+1]===i[a+1]&&n[(o+2)%s]===i[(a+l-2)%l]&&n[(o+3)%s]===i[(a+l-1)%l]){yield r;break e}}}}_cell(t){const{circumcenters:n,delaunay:{inedges:r,halfedges:i,triangles:o}}=this,s=r[t];if(s===-1)return null;const a=[];let l=s;do{const u=Math.floor(l/3);if(a.push(n[u*2],n[u*2+1]),l=l%3===2?l-2:l+1,o[l]!==t)break;l=i[l]}while(l!==s&&l!==-1);return a}_clip(t){if(t===0&&this.delaunay.hull.length===1)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const n=this._cell(t);if(n===null)return null;const{vectors:r}=this,i=t*4;return this._simplify(r[i]||r[i+1]?this._clipInfinite(t,n,r[i],r[i+1],r[i+2],r[i+3]):this._clipFinite(t,n))}_clipFinite(t,n){const r=n.length;let i=null,o,s,a=n[r-2],l=n[r-1],u,c=this._regioncode(a,l),f,d=0;for(let h=0;h<r;h+=2)if(o=a,s=l,a=n[h],l=n[h+1],u=c,c=this._regioncode(a,l),u===0&&c===0)f=d,d=0,i?i.push(a,l):i=[a,l];else{let p,g,m,y,v;if(u===0){if((p=this._clipSegment(o,s,a,l,u,c))===null)continue;[g,m,y,v]=p}else{if((p=this._clipSegment(a,l,o,s,c,u))===null)continue;[y,v,g,m]=p,f=d,d=this._edgecode(g,m),f&&d&&this._edge(t,f,d,i,i.length),i?i.push(g,m):i=[g,m]}f=d,d=this._edgecode(y,v),f&&d&&this._edge(t,f,d,i,i.length),i?i.push(y,v):i=[y,v]}if(i)f=d,d=this._edgecode(i[0],i[1]),f&&d&&this._edge(t,f,d,i,i.length);else if(this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return i}_clipSegment(t,n,r,i,o,s){const a=o<s;for(a&&([t,n,r,i,o,s]=[r,i,t,n,s,o]);;){if(o===0&&s===0)return a?[r,i,t,n]:[t,n,r,i];if(o&s)return null;let l,u,c=o||s;c&8?(l=t+(r-t)*(this.ymax-n)/(i-n),u=this.ymax):c&4?(l=t+(r-t)*(this.ymin-n)/(i-n),u=this.ymin):c&2?(u=n+(i-n)*(this.xmax-t)/(r-t),l=this.xmax):(u=n+(i-n)*(this.xmin-t)/(r-t),l=this.xmin),o?(t=l,n=u,o=this._regioncode(t,n)):(r=l,i=u,s=this._regioncode(r,i))}}_clipInfinite(t,n,r,i,o,s){let a=Array.from(n),l;if((l=this._project(a[0],a[1],r,i))&&a.unshift(l[0],l[1]),(l=this._project(a[a.length-2],a[a.length-1],o,s))&&a.push(l[0],l[1]),a=this._clipFinite(t,a))for(let u=0,c=a.length,f,d=this._edgecode(a[c-2],a[c-1]);u<c;u+=2)f=d,d=this._edgecode(a[u],a[u+1]),f&&d&&(u=this._edge(t,f,d,a,u),c=a.length);else this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(a=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return a}_edge(t,n,r,i,o){for(;n!==r;){let s,a;switch(n){case 5:n=4;continue;case 4:n=6,s=this.xmax,a=this.ymin;break;case 6:n=2;continue;case 2:n=10,s=this.xmax,a=this.ymax;break;case 10:n=8;continue;case 8:n=9,s=this.xmin,a=this.ymax;break;case 9:n=1;continue;case 1:n=5,s=this.xmin,a=this.ymin;break}(i[o]!==s||i[o+1]!==a)&&this.contains(t,s,a)&&(i.splice(o,0,s,a),o+=2)}return o}_project(t,n,r,i){let o=1/0,s,a,l;if(i<0){if(n<=this.ymin)return null;(s=(this.ymin-n)/i)<o&&(l=this.ymin,a=t+(o=s)*r)}else if(i>0){if(n>=this.ymax)return null;(s=(this.ymax-n)/i)<o&&(l=this.ymax,a=t+(o=s)*r)}if(r>0){if(t>=this.xmax)return null;(s=(this.xmax-t)/r)<o&&(a=this.xmax,l=n+(o=s)*i)}else if(r<0){if(t<=this.xmin)return null;(s=(this.xmin-t)/r)<o&&(a=this.xmin,l=n+(o=s)*i)}return[a,l]}_edgecode(t,n){return(t===this.xmin?1:t===this.xmax?2:0)|(n===this.ymin?4:n===this.ymax?8:0)}_regioncode(t,n){return(t<this.xmin?1:t>this.xmax?2:0)|(n<this.ymin?4:n>this.ymax?8:0)}_simplify(t){if(t&&t.length>4){for(let n=0;n<t.length;n+=2){const r=(n+2)%t.length,i=(n+4)%t.length;(t[n]===t[r]&&t[r]===t[i]||t[n+1]===t[r+1]&&t[r+1]===t[i+1])&&(t.splice(r,2),n-=2)}t.length||(t=null)}return t}};const c3e=2*Math.PI,Ip=Math.pow;function f3e(e){return e[0]}function d3e(e){return e[1]}function h3e(e){const{triangles:t,coords:n}=e;for(let r=0;r<t.length;r+=3){const i=2*t[r],o=2*t[r+1],s=2*t[r+2];if((n[s]-n[i])*(n[o+1]-n[i+1])-(n[o]-n[i])*(n[s+1]-n[i+1])>1e-10)return!1}return!0}function p3e(e,t,n){return[e+Math.sin(e+t)*n,t+Math.cos(e-t)*n]}class PN{static from(t,n=f3e,r=d3e,i){return new PN("length"in t?g3e(t,n,r,i):Float64Array.from(m3e(t,n,r,i)))}constructor(t){this._delaunator=new uC(t),this.inedges=new Int32Array(t.length/2),this._hullIndex=new Int32Array(t.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){const t=this._delaunator,n=this.points;if(t.hull&&t.hull.length>2&&h3e(t)){this.collinear=Int32Array.from({length:n.length/2},(d,h)=>h).sort((d,h)=>n[2*d]-n[2*h]||n[2*d+1]-n[2*h+1]);const l=this.collinear[0],u=this.collinear[this.collinear.length-1],c=[n[2*l],n[2*l+1],n[2*u],n[2*u+1]],f=1e-8*Math.hypot(c[3]-c[1],c[2]-c[0]);for(let d=0,h=n.length/2;d<h;++d){const p=p3e(n[2*d],n[2*d+1],f);n[2*d]=p[0],n[2*d+1]=p[1]}this._delaunator=new uC(n)}else delete this.collinear;const r=this.halfedges=this._delaunator.halfedges,i=this.hull=this._delaunator.hull,o=this.triangles=this._delaunator.triangles,s=this.inedges.fill(-1),a=this._hullIndex.fill(-1);for(let l=0,u=r.length;l<u;++l){const c=o[l%3===2?l-2:l+1];(r[l]===-1||s[c]===-1)&&(s[c]=l)}for(let l=0,u=i.length;l<u;++l)a[i[l]]=l;i.length<=2&&i.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=i[0],s[i[0]]=1,i.length===2&&(s[i[1]]=0,this.triangles[1]=i[1],this.triangles[2]=i[1]))}voronoi(t){return new u3e(this,t)}*neighbors(t){const{inedges:n,hull:r,_hullIndex:i,halfedges:o,triangles:s,collinear:a}=this;if(a){const f=a.indexOf(t);f>0&&(yield a[f-1]),f<a.length-1&&(yield a[f+1]);return}const l=n[t];if(l===-1)return;let u=l,c=-1;do{if(yield c=s[u],u=u%3===2?u-2:u+1,s[u]!==t)return;if(u=o[u],u===-1){const f=r[(i[t]+1)%r.length];f!==c&&(yield f);return}}while(u!==l)}find(t,n,r=0){if(t=+t,t!==t||(n=+n,n!==n))return-1;const i=r;let o;for(;(o=this._step(r,t,n))>=0&&o!==r&&o!==i;)r=o;return o}_step(t,n,r){const{inedges:i,hull:o,_hullIndex:s,halfedges:a,triangles:l,points:u}=this;if(i[t]===-1||!u.length)return(t+1)%(u.length>>1);let c=t,f=Ip(n-u[t*2],2)+Ip(r-u[t*2+1],2);const d=i[t];let h=d;do{let p=l[h];const g=Ip(n-u[p*2],2)+Ip(r-u[p*2+1],2);if(g<f&&(f=g,c=p),h=h%3===2?h-2:h+1,l[h]!==t)break;if(h=a[h],h===-1){if(h=o[(s[t]+1)%o.length],h!==p&&Ip(n-u[h*2],2)+Ip(r-u[h*2+1],2)<f)return h;break}}while(h!==d);return c}render(t){const n=t==null?t=new Nd:void 0,{points:r,halfedges:i,triangles:o}=this;for(let s=0,a=i.length;s<a;++s){const l=i[s];if(l<s)continue;const u=o[s]*2,c=o[l]*2;t.moveTo(r[u],r[u+1]),t.lineTo(r[c],r[c+1])}return this.renderHull(t),n&&n.value()}renderPoints(t,n){n===void 0&&(!t||typeof t.moveTo!="function")&&(n=t,t=null),n=n==null?2:+n;const r=t==null?t=new Nd:void 0,{points:i}=this;for(let o=0,s=i.length;o<s;o+=2){const a=i[o],l=i[o+1];t.moveTo(a+n,l),t.arc(a,l,n,0,c3e)}return r&&r.value()}renderHull(t){const n=t==null?t=new Nd:void 0,{hull:r,points:i}=this,o=r[0]*2,s=r.length;t.moveTo(i[o],i[o+1]);for(let a=1;a<s;++a){const l=2*r[a];t.lineTo(i[l],i[l+1])}return t.closePath(),n&&n.value()}hullPolygon(){const t=new vR;return this.renderHull(t),t.value()}renderTriangle(t,n){const r=n==null?n=new Nd:void 0,{points:i,triangles:o}=this,s=o[t*=3]*2,a=o[t+1]*2,l=o[t+2]*2;return n.moveTo(i[s],i[s+1]),n.lineTo(i[a],i[a+1]),n.lineTo(i[l],i[l+1]),n.closePath(),r&&r.value()}*trianglePolygons(){const{triangles:t}=this;for(let n=0,r=t.length/3;n<r;++n)yield this.trianglePolygon(n)}trianglePolygon(t){const n=new vR;return this.renderTriangle(t,n),n.value()}}function g3e(e,t,n,r){const i=e.length,o=new Float64Array(i*2);for(let s=0;s<i;++s){const a=e[s];o[s*2]=t.call(r,a,s,e),o[s*2+1]=n.call(r,a,s,e)}return o}function*m3e(e,t,n,r){let i=0;for(const o of e)yield t.call(r,o,i,e),yield n.call(r,o,i,e),++i}function ON(e){J.call(this,null,e)}ON.Definition={type:"Voronoi",metadata:{modifies:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"size",type:"number",array:!0,length:2},{name:"extent",type:"array",array:!0,length:2,default:[[-1e5,-1e5],[1e5,1e5]],content:{type:"number",array:!0,length:2}},{name:"as",type:"string",default:"path"}]};const y3e=[-1e5,-1e5,1e5,1e5];he(ON,J,{transform(e,t){const n=e.as||"path",r=t.source;if(!r||!r.length)return t;let i=e.size;i=i?[0,0,i[0],i[1]]:(i=e.extent)?[i[0][0],i[0][1],i[1][0],i[1][1]]:y3e;const o=this.value=PN.from(r,e.x,e.y).voronoi(i);for(let s=0,a=r.length;s<a;++s){const l=o.cellPolygon(s);r[s][n]=l&&!b3e(l)?v3e(l):null}return t.reflow(e.modified()).modifies(n)}});function v3e(e){const t=e[0][0],n=e[0][1];let r=e.length-1;for(;e[r][0]===t&&e[r][1]===n;--r);return"M"+e.slice(0,r+1).join("L")+"Z"}function b3e(e){return e.length===2&&e[0][0]===e[1][0]&&e[0][1]===e[1][1]}const x3e=Object.freeze(Object.defineProperty({__proto__:null,voronoi:ON},Symbol.toStringTag,{value:"Module"}));var WT=Math.PI/180,v1=64,cS=2048;function w3e(){var e=[256,256],t,n,r,i,o,s,a,l=nre,u=[],c=Math.random,f={};f.layout=function(){for(var p=d(Xc()),g=$3e((e[0]>>5)*e[1]),m=null,y=u.length,v=-1,b=[],x=u.map(C=>({text:t(C),font:n(C),style:i(C),weight:o(C),rotate:s(C),size:~~(r(C)+1e-14),padding:a(C),xoff:0,yoff:0,x1:0,y1:0,x0:0,y0:0,hasText:!1,sprite:null,datum:C})).sort((C,S)=>S.size-C.size);++v<y;){var w=x[v];w.x=e[0]*(c()+.5)>>1,w.y=e[1]*(c()+.5)>>1,S3e(p,w,x,v),w.hasText&&h(g,w,m)&&(b.push(w),m?C3e(m,w):m=[{x:w.x+w.x0,y:w.y+w.y0},{x:w.x+w.x1,y:w.y+w.y1}],w.x-=e[0]>>1,w.y-=e[1]>>1)}return b};function d(p){p.width=p.height=1;var g=Math.sqrt(p.getContext("2d").getImageData(0,0,1,1).data.length>>2);p.width=(v1<<5)/g,p.height=cS/g;var m=p.getContext("2d");return m.fillStyle=m.strokeStyle="red",m.textAlign="center",{context:m,ratio:g}}function h(p,g,m){for(var y=g.x,v=g.y,b=Math.hypot(e[0],e[1]),x=l(e),w=c()<.5?1:-1,C=-w,S,k,$;(S=x(C+=w))&&(k=~~S[0],$=~~S[1],!(Math.min(Math.abs(k),Math.abs($))>=b));)if(g.x=y+k,g.y=v+$,!(g.x+g.x0<0||g.y+g.y0<0||g.x+g.x1>e[0]||g.y+g.y1>e[1])&&(!m||!E3e(g,p,e[0]))&&(!m||k3e(g,m))){for(var R=g.sprite,O=g.width>>5,B=e[0]>>5,D=g.x-(O<<4),L=D&127,A=32-L,P=g.y1-g.y0,j=(g.y+g.y0)*B+(D>>5),z,U=0;U<P;U++){z=0;for(var X=0;X<=O;X++)p[j+X]|=z<<A|(X<O?(z=R[U*O+X])>>>L:0);j+=B}return g.sprite=null,!0}return!1}return f.words=function(p){return arguments.length?(u=p,f):u},f.size=function(p){return arguments.length?(e=[+p[0],+p[1]],f):e},f.font=function(p){return arguments.length?(n=id(p),f):n},f.fontStyle=function(p){return arguments.length?(i=id(p),f):i},f.fontWeight=function(p){return arguments.length?(o=id(p),f):o},f.rotate=function(p){return arguments.length?(s=id(p),f):s},f.text=function(p){return arguments.length?(t=id(p),f):t},f.spiral=function(p){return arguments.length?(l=A3e[p]||p,f):l},f.fontSize=function(p){return arguments.length?(r=id(p),f):r},f.padding=function(p){return arguments.length?(a=id(p),f):a},f.random=function(p){return arguments.length?(c=p,f):c},f}function S3e(e,t,n,r){if(!t.sprite){var i=e.context,o=e.ratio;i.clearRect(0,0,(v1<<5)/o,cS/o);var s=0,a=0,l=0,u=n.length,c,f,d,h,p;for(--r;++r<u;){if(t=n[r],i.save(),i.font=t.style+" "+t.weight+" "+~~((t.size+1)/o)+"px "+t.font,c=i.measureText(t.text+"m").width*o,d=t.size<<1,t.rotate){var g=Math.sin(t.rotate*WT),m=Math.cos(t.rotate*WT),y=c*m,v=c*g,b=d*m,x=d*g;c=Math.max(Math.abs(y+x),Math.abs(y-x))+31>>5<<5,d=~~Math.max(Math.abs(v+b),Math.abs(v-b))}else c=c+31>>5<<5;if(d>l&&(l=d),s+c>=v1<<5&&(s=0,a+=l,l=0),a+d>=cS)break;i.translate((s+(c>>1))/o,(a+(d>>1))/o),t.rotate&&i.rotate(t.rotate*WT),i.fillText(t.text,0,0),t.padding&&(i.lineWidth=2*t.padding,i.strokeText(t.text,0,0)),i.restore(),t.width=c,t.height=d,t.xoff=s,t.yoff=a,t.x1=c>>1,t.y1=d>>1,t.x0=-t.x1,t.y0=-t.y1,t.hasText=!0,s+=c}for(var w=i.getImageData(0,0,(v1<<5)/o,cS/o).data,C=[];--r>=0;)if(t=n[r],!!t.hasText){for(c=t.width,f=c>>5,d=t.y1-t.y0,h=0;h<d*f;h++)C[h]=0;if(s=t.xoff,s==null)return;a=t.yoff;var S=0,k=-1;for(p=0;p<d;p++){for(h=0;h<c;h++){var $=f*p+(h>>5),R=w[(a+p)*(v1<<5)+(s+h)<<2]?1<<31-h%32:0;C[$]|=R,S|=R}S?k=p:(t.y0++,d--,p--,a++)}t.y1=t.y0+k,t.sprite=C.slice(0,(t.y1-t.y0)*f)}}}function E3e(e,t,n){n>>=5;for(var r=e.sprite,i=e.width>>5,o=e.x-(i<<4),s=o&127,a=32-s,l=e.y1-e.y0,u=(e.y+e.y0)*n+(o>>5),c,f=0;f<l;f++){c=0;for(var d=0;d<=i;d++)if((c<<a|(d<i?(c=r[f*i+d])>>>s:0))&t[u+d])return!0;u+=n}return!1}function C3e(e,t){var n=e[0],r=e[1];t.x+t.x0<n.x&&(n.x=t.x+t.x0),t.y+t.y0<n.y&&(n.y=t.y+t.y0),t.x+t.x1>r.x&&(r.x=t.x+t.x1),t.y+t.y1>r.y&&(r.y=t.y+t.y1)}function k3e(e,t){return e.x+e.x1>t[0].x&&e.x+e.x0<t[1].x&&e.y+e.y1>t[0].y&&e.y+e.y0<t[1].y}function nre(e){var t=e[0]/e[1];return function(n){return[t*(n*=.1)*Math.cos(n),n*Math.sin(n)]}}function _3e(e){var t=4,n=t*e[0]/e[1],r=0,i=0;return function(o){var s=o<0?-1:1;switch(Math.sqrt(1+4*s*o)-s&3){case 0:r+=n;break;case 1:i+=t;break;case 2:r-=n;break;default:i-=t;break}return[r,i]}}function $3e(e){for(var t=[],n=-1;++n<e;)t[n]=0;return t}function id(e){return typeof e=="function"?e:function(){return e}}var A3e={archimedean:nre,rectangular:_3e};const rre=["x","y","font","fontSize","fontStyle","fontWeight","angle"],T3e=["text","font","rotate","fontSize","fontStyle","fontWeight"];function DN(e){J.call(this,w3e(),e)}DN.Definition={type:"Wordcloud",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2},{name:"font",type:"string",expr:!0,default:"sans-serif"},{name:"fontStyle",type:"string",expr:!0,default:"normal"},{name:"fontWeight",type:"string",expr:!0,default:"normal"},{name:"fontSize",type:"number",expr:!0,default:14},{name:"fontSizeRange",type:"number",array:"nullable",default:[10,50]},{name:"rotate",type:"number",expr:!0,default:0},{name:"text",type:"field"},{name:"spiral",type:"string",values:["archimedean","rectangular"]},{name:"padding",type:"number",expr:!0},{name:"as",type:"string",array:!0,length:7,default:rre}]};he(DN,J,{transform(e,t){e.size&&!(e.size[0]&&e.size[1])&&ee("Wordcloud size dimensions must be non-zero.");function n(p){const g=e[p];return et(g)&&t.modified(g.fields)}const r=e.modified();if(!(r||t.changed(t.ADD_REM)||T3e.some(n)))return;const i=t.materialize(t.SOURCE).source,o=this.value,s=e.as||rre;let a=e.fontSize||14,l;if(et(a)?l=e.fontSizeRange:a=li(a),l){const p=a,g=Ct("sqrt")().domain(ml(i,p)).range(l);a=m=>g(p(m))}i.forEach(p=>{p[s[0]]=NaN,p[s[1]]=NaN,p[s[3]]=0});const u=o.words(i).text(e.text).size(e.size||[500,500]).padding(e.padding||1).spiral(e.spiral||"archimedean").rotate(e.rotate||0).font(e.font||"sans-serif").fontStyle(e.fontStyle||"normal").fontWeight(e.fontWeight||"normal").fontSize(a).random(Ss).layout(),c=o.size(),f=c[0]>>1,d=c[1]>>1,h=u.length;for(let p=0,g,m;p<h;++p)g=u[p],m=g.datum,m[s[0]]=g.x+f,m[s[1]]=g.y+d,m[s[2]]=g.font,m[s[3]]=g.size,m[s[4]]=g.style,m[s[5]]=g.weight,m[s[6]]=g.rotate;return t.reflow(r).modifies(s)}});const F3e=Object.freeze(Object.defineProperty({__proto__:null,wordcloud:DN},Symbol.toStringTag,{value:"Module"})),R3e=e=>new Uint8Array(e),P3e=e=>new Uint16Array(e),G1=e=>new Uint32Array(e);function O3e(){let e=8,t=[],n=G1(0),r=Ww(0,e),i=Ww(0,e);return{data:()=>t,seen:()=>n=D3e(n,t.length),add(o){for(let s=0,a=t.length,l=o.length,u;s<l;++s)u=o[s],u._index=a++,t.push(u)},remove(o,s){const a=t.length,l=Array(a-o),u=t;let c,f,d;for(f=0;!s[f]&&f<a;++f)l[f]=t[f],u[f]=f;for(d=f;f<a;++f)c=t[f],s[f]?u[f]=-1:(u[f]=d,r[d]=r[f],i[d]=i[f],l[d]=c,c._index=d++),r[f]=0;return t=l,u},size:()=>t.length,curr:()=>r,prev:()=>i,reset:o=>i[o]=r[o],all:()=>e<257?255:e<65537?65535:4294967295,set(o,s){r[o]|=s},clear(o,s){r[o]&=~s},resize(o,s){const a=r.length;(o>a||s>e)&&(e=Math.max(s,e),r=Ww(o,e,r),i=Ww(o,e))}}}function D3e(e,t,n){return e.length>=t?e:(n=n||new e.constructor(t),n.set(e),n)}function Ww(e,t,n){const r=(t<257?R3e:t<65537?P3e:G1)(e);return n&&r.set(n),r}function WB(e,t,n){const r=1<<t;return{one:r,zero:~r,range:n.slice(),bisect:e.bisect,index:e.index,size:e.size,onAdd(i,o){const s=this,a=s.bisect(s.range,i.value),l=i.index,u=a[0],c=a[1],f=l.length;let d;for(d=0;d<u;++d)o[l[d]]|=r;for(d=c;d<f;++d)o[l[d]]|=r;return s}}}function HB(){let e=G1(0),t=[],n=0;function r(a,l,u){if(!l.length)return[];const c=n,f=l.length,d=G1(f);let h=Array(f),p,g,m;for(m=0;m<f;++m)h[m]=a(l[m]),d[m]=m;if(h=M3e(h,d),c)p=t,g=e,t=Array(c+f),e=G1(c+f),N3e(u,p,g,c,h,d,f,t,e);else{if(u>0)for(m=0;m<f;++m)d[m]+=u;t=h,e=d}return n=c+f,{index:d,value:h}}function i(a,l){const u=n;let c,f,d;for(f=0;!l[e[f]]&&f<u;++f);for(d=f;f<u;++f)l[c=e[f]]||(e[d]=c,t[d]=t[f],++d);n=u-a}function o(a){for(let l=0,u=n;l<u;++l)e[l]=a[e[l]]}function s(a,l){let u;return l?u=l.length:(l=t,u=n),[G1e(l,a[0],0,u),lf(l,a[1],0,u)]}return{insert:r,remove:i,bisect:s,reindex:o,index:()=>e,size:()=>n}}function M3e(e,t){return e.sort.call(t,(n,r)=>{const i=e[n],o=e[r];return i<o?-1:i>o?1:0}),K1e(e,t)}function N3e(e,t,n,r,i,o,s,a,l){let u=0,c=0,f;for(f=0;u<r&&c<s;++f)t[u]<i[c]?(a[f]=t[u],l[f]=n[u++]):(a[f]=i[c],l[f]=o[c++]+e);for(;u<r;++u,++f)a[f]=t[u],l[f]=n[u];for(;c<s;++c,++f)a[f]=i[c],l[f]=o[c]+e}function MN(e){J.call(this,O3e(),e),this._indices=null,this._dims=null}MN.Definition={type:"CrossFilter",metadata:{},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"query",type:"array",array:!0,required:!0,content:{type:"number",array:!0,length:2}}]};he(MN,J,{transform(e,t){if(this._dims){var n=e.modified("fields")||e.fields.some(r=>t.modified(r.fields));return n?this.reinit(e,t):this.eval(e,t)}else return this.init(e,t)},init(e,t){const n=e.fields,r=e.query,i=this._indices={},o=this._dims=[],s=r.length;let a=0,l,u;for(;a<s;++a)l=n[a].fname,u=i[l]||(i[l]=HB()),o.push(WB(u,a,r[a]));return this.eval(e,t)},reinit(e,t){const n=t.materialize().fork(),r=e.fields,i=e.query,o=this._indices,s=this._dims,a=this.value,l=a.curr(),u=a.prev(),c=a.all(),f=n.rem=n.add,d=n.mod,h=i.length,p={};let g,m,y,v,b,x,w,C,S;if(u.set(l),t.rem.length&&(b=this.remove(e,t,n)),t.add.length&&a.add(t.add),t.mod.length)for(x={},v=t.mod,w=0,C=v.length;w<C;++w)x[v[w]._index]=1;for(w=0;w<h;++w)S=r[w],(!s[w]||e.modified("fields",w)||t.modified(S.fields))&&(y=S.fname,(g=p[y])||(o[y]=m=HB(),p[y]=g=m.insert(S,t.source,0)),s[w]=WB(m,w,i[w]).onAdd(g,l));for(w=0,C=a.data().length;w<C;++w)b[w]||(u[w]!==l[w]?f.push(w):x[w]&&l[w]!==c&&d.push(w));return a.mask=(1<<h)-1,n},eval(e,t){const n=t.materialize().fork(),r=this._dims.length;let i=0;return t.rem.length&&(this.remove(e,t,n),i|=(1<<r)-1),e.modified("query")&&!e.modified("fields")&&(i|=this.update(e,t,n)),t.add.length&&(this.insert(e,t,n),i|=(1<<r)-1),t.mod.length&&(this.modify(t,n),i|=(1<<r)-1),this.value.mask=i,n},insert(e,t,n){const r=t.add,i=this.value,o=this._dims,s=this._indices,a=e.fields,l={},u=n.add,c=i.size()+r.length,f=o.length;let d=i.size(),h,p,g;i.resize(c,f),i.add(r);const m=i.curr(),y=i.prev(),v=i.all();for(h=0;h<f;++h)p=a[h].fname,g=l[p]||(l[p]=s[p].insert(a[h],r,d)),o[h].onAdd(g,m);for(;d<c;++d)y[d]=v,m[d]!==v&&u.push(d)},modify(e,t){const n=t.mod,r=this.value,i=r.curr(),o=r.all(),s=e.mod;let a,l,u;for(a=0,l=s.length;a<l;++a)u=s[a]._index,i[u]!==o&&n.push(u)},remove(e,t,n){const r=this._indices,i=this.value,o=i.curr(),s=i.prev(),a=i.all(),l={},u=n.rem,c=t.rem;let f,d,h,p;for(f=0,d=c.length;f<d;++f)h=c[f]._index,l[h]=1,s[h]=p=o[h],o[h]=a,p!==a&&u.push(h);for(h in r)r[h].remove(d,l);return this.reindex(t,d,l),l},reindex(e,t,n){const r=this._indices,i=this.value;e.runAfter(()=>{const o=i.remove(t,n);for(const s in r)r[s].reindex(o)})},update(e,t,n){const r=this._dims,i=e.query,o=t.stamp,s=r.length;let a=0,l,u;for(n.filters=0,u=0;u<s;++u)e.modified("query",u)&&(l=u,++a);if(a===1)a=r[l].one,this.incrementOne(r[l],i[l],n.add,n.rem);else for(u=0,a=0;u<s;++u)e.modified("query",u)&&(a|=r[u].one,this.incrementAll(r[u],i[u],o,n.add),n.rem=n.add);return a},incrementAll(e,t,n,r){const i=this.value,o=i.seen(),s=i.curr(),a=i.prev(),l=e.index(),u=e.bisect(e.range),c=e.bisect(t),f=c[0],d=c[1],h=u[0],p=u[1],g=e.one;let m,y,v;if(f<h)for(m=f,y=Math.min(h,d);m<y;++m)v=l[m],o[v]!==n&&(a[v]=s[v],o[v]=n,r.push(v)),s[v]^=g;else if(f>h)for(m=h,y=Math.min(f,p);m<y;++m)v=l[m],o[v]!==n&&(a[v]=s[v],o[v]=n,r.push(v)),s[v]^=g;if(d>p)for(m=Math.max(f,p),y=d;m<y;++m)v=l[m],o[v]!==n&&(a[v]=s[v],o[v]=n,r.push(v)),s[v]^=g;else if(d<p)for(m=Math.max(h,d),y=p;m<y;++m)v=l[m],o[v]!==n&&(a[v]=s[v],o[v]=n,r.push(v)),s[v]^=g;e.range=t.slice()},incrementOne(e,t,n,r){const i=this.value,o=i.curr(),s=e.index(),a=e.bisect(e.range),l=e.bisect(t),u=l[0],c=l[1],f=a[0],d=a[1],h=e.one;let p,g,m;if(u<f)for(p=u,g=Math.min(f,c);p<g;++p)m=s[p],o[m]^=h,n.push(m);else if(u>f)for(p=f,g=Math.min(u,d);p<g;++p)m=s[p],o[m]^=h,r.push(m);if(c>d)for(p=Math.max(u,d),g=c;p<g;++p)m=s[p],o[m]^=h,n.push(m);else if(c<d)for(p=Math.max(f,c),g=d;p<g;++p)m=s[p],o[m]^=h,r.push(m);e.range=t.slice()}});function NN(e){J.call(this,null,e)}NN.Definition={type:"ResolveFilter",metadata:{},params:[{name:"ignore",type:"number",required:!0,description:"A bit mask indicating which filters to ignore."},{name:"filter",type:"object",required:!0,description:"Per-tuple filter bitmaps from a CrossFilter transform."}]};he(NN,J,{transform(e,t){const n=~(e.ignore||0),r=e.filter,i=r.mask;if(!(i&n))return t.StopPropagation;const o=t.fork(t.ALL),s=r.data(),a=r.curr(),l=r.prev(),u=c=>a[c]&n?null:s[c];return o.filter(o.MOD,u),i&i-1?(o.filter(o.ADD,c=>{const f=a[c]&n;return!f&&f^l[c]&n?s[c]:null}),o.filter(o.REM,c=>{const f=a[c]&n;return f&&!(f^(f^l[c]&n))?s[c]:null})):(o.filter(o.ADD,u),o.filter(o.REM,c=>(a[c]&n)===i?s[c]:null)),o.filter(o.SOURCE,c=>u(c._index))}});const L3e=Object.freeze(Object.defineProperty({__proto__:null,crossfilter:MN,resolvefilter:NN},Symbol.toStringTag,{value:"Module"})),I3e="RawCode",Eh="Literal",z3e="Property",j3e="Identifier",B3e="ArrayExpression",U3e="BinaryExpression",ire="CallExpression",V3e="ConditionalExpression",W3e="LogicalExpression",H3e="MemberExpression",q3e="ObjectExpression",G3e="UnaryExpression";function ba(e){this.type=e}ba.prototype.visit=function(e){let t,n,r;if(e(this))return 1;for(t=X3e(this),n=0,r=t.length;n<r;++n)if(t[n].visit(e))return 1};function X3e(e){switch(e.type){case B3e:return e.elements;case U3e:case W3e:return[e.left,e.right];case ire:return[e.callee].concat(e.arguments);case V3e:return[e.test,e.consequent,e.alternate];case H3e:return[e.object,e.property];case q3e:return e.properties;case z3e:return[e.key,e.value];case G3e:return[e.argument];case j3e:case Eh:case I3e:default:return[]}}var Tl,Te,Z,oi,Nt,F_=1,hx=2,Ch=3,Mf=4,R_=5,ep=6,qi=7,px=8,Y3e=9;Tl={};Tl[F_]="Boolean";Tl[hx]="<end>";Tl[Ch]="Identifier";Tl[Mf]="Keyword";Tl[R_]="Null";Tl[ep]="Numeric";Tl[qi]="Punctuator";Tl[px]="String";Tl[Y3e]="RegularExpression";var K3e="ArrayExpression",Q3e="BinaryExpression",J3e="CallExpression",Z3e="ConditionalExpression",ore="Identifier",e4e="Literal",t4e="LogicalExpression",n4e="MemberExpression",r4e="ObjectExpression",i4e="Property",o4e="UnaryExpression",hr="Unexpected token %0",s4e="Unexpected number",a4e="Unexpected string",l4e="Unexpected identifier",u4e="Unexpected reserved word",c4e="Unexpected end of input",bR="Invalid regular expression",HT="Invalid regular expression: missing /",sre="Octal literals are not allowed in strict mode.",f4e="Duplicate data property in object literal not allowed in strict mode",Or="ILLEGAL",Nv="Disabled.",d4e=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B2\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]"),h4e=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0300-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u0483-\\u0487\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0610-\\u061A\\u0620-\\u0669\\u066E-\\u06D3\\u06D5-\\u06DC\\u06DF-\\u06E8\\u06EA-\\u06FC\\u06FF\\u0710-\\u074A\\u074D-\\u07B1\\u07C0-\\u07F5\\u07FA\\u0800-\\u082D\\u0840-\\u085B\\u08A0-\\u08B2\\u08E4-\\u0963\\u0966-\\u096F\\u0971-\\u0983\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BC-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CE\\u09D7\\u09DC\\u09DD\\u09DF-\\u09E3\\u09E6-\\u09F1\\u0A01-\\u0A03\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A75\\u0A81-\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABC-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AD0\\u0AE0-\\u0AE3\\u0AE6-\\u0AEF\\u0B01-\\u0B03\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3C-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B5C\\u0B5D\\u0B5F-\\u0B63\\u0B66-\\u0B6F\\u0B71\\u0B82\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD0\\u0BD7\\u0BE6-\\u0BEF\\u0C00-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C58\\u0C59\\u0C60-\\u0C63\\u0C66-\\u0C6F\\u0C81-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBC-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CDE\\u0CE0-\\u0CE3\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D01-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4E\\u0D57\\u0D60-\\u0D63\\u0D66-\\u0D6F\\u0D7A-\\u0D7F\\u0D82\\u0D83\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DE6-\\u0DEF\\u0DF2\\u0DF3\\u0E01-\\u0E3A\\u0E40-\\u0E4E\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB9\\u0EBB-\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F18\\u0F19\\u0F20-\\u0F29\\u0F35\\u0F37\\u0F39\\u0F3E-\\u0F47\\u0F49-\\u0F6C\\u0F71-\\u0F84\\u0F86-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u1000-\\u1049\\u1050-\\u109D\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u135D-\\u135F\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176C\\u176E-\\u1770\\u1772\\u1773\\u1780-\\u17D3\\u17D7\\u17DC\\u17DD\\u17E0-\\u17E9\\u180B-\\u180D\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19D9\\u1A00-\\u1A1B\\u1A20-\\u1A5E\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1AB0-\\u1ABD\\u1B00-\\u1B4B\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1BF3\\u1C00-\\u1C37\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1CD0-\\u1CD2\\u1CD4-\\u1CF6\\u1CF8\\u1CF9\\u1D00-\\u1DF5\\u1DFC-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u200C\\u200D\\u203F\\u2040\\u2054\\u2071\\u207F\\u2090-\\u209C\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D7F-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2DE0-\\u2DFF\\u2E2F\\u3005-\\u3007\\u3021-\\u302F\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u3099\\u309A\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66F\\uA674-\\uA67D\\uA67F-\\uA69D\\uA69F-\\uA6F1\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA827\\uA840-\\uA873\\uA880-\\uA8C4\\uA8D0-\\uA8D9\\uA8E0-\\uA8F7\\uA8FB\\uA900-\\uA92D\\uA930-\\uA953\\uA960-\\uA97C\\uA980-\\uA9C0\\uA9CF-\\uA9D9\\uA9E0-\\uA9FE\\uAA00-\\uAA36\\uAA40-\\uAA4D\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A-\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEF\\uAAF2-\\uAAF6\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABEA\\uABEC\\uABED\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE00-\\uFE0F\\uFE20-\\uFE2D\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF3F\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]");function P_(e,t){if(!e)throw new Error("ASSERT: "+t)}function Kl(e){return e>=48&&e<=57}function LN(e){return"0123456789abcdefABCDEF".includes(e)}function X1(e){return"01234567".includes(e)}function p4e(e){return e===32||e===9||e===11||e===12||e===160||e>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].includes(e)}function Lv(e){return e===10||e===13||e===8232||e===8233}function gx(e){return e===36||e===95||e>=65&&e<=90||e>=97&&e<=122||e===92||e>=128&&d4e.test(String.fromCharCode(e))}function cC(e){return e===36||e===95||e>=65&&e<=90||e>=97&&e<=122||e>=48&&e<=57||e===92||e>=128&&h4e.test(String.fromCharCode(e))}const g4e={if:1,in:1,do:1,var:1,for:1,new:1,try:1,let:1,this:1,else:1,case:1,void:1,with:1,enum:1,while:1,break:1,catch:1,throw:1,const:1,yield:1,class:1,super:1,return:1,typeof:1,delete:1,switch:1,export:1,import:1,public:1,static:1,default:1,finally:1,extends:1,package:1,private:1,function:1,continue:1,debugger:1,interface:1,protected:1,instanceof:1,implements:1};function are(){for(;Z<oi;){const e=Te.charCodeAt(Z);if(p4e(e)||Lv(e))++Z;else break}}function xR(e){var t,n,r,i=0;for(n=e==="u"?4:2,t=0;t<n;++t)Z<oi&&LN(Te[Z])?(r=Te[Z++],i=i*16+"0123456789abcdef".indexOf(r.toLowerCase())):wt({},hr,Or);return String.fromCharCode(i)}function m4e(){var e,t,n,r;for(e=Te[Z],t=0,e==="}"&&wt({},hr,Or);Z<oi&&(e=Te[Z++],!!LN(e));)t=t*16+"0123456789abcdef".indexOf(e.toLowerCase());return(t>1114111||e!=="}")&&wt({},hr,Or),t<=65535?String.fromCharCode(t):(n=(t-65536>>10)+55296,r=(t-65536&1023)+56320,String.fromCharCode(n,r))}function lre(){var e,t;for(e=Te.charCodeAt(Z++),t=String.fromCharCode(e),e===92&&(Te.charCodeAt(Z)!==117&&wt({},hr,Or),++Z,e=xR("u"),(!e||e==="\\"||!gx(e.charCodeAt(0)))&&wt({},hr,Or),t=e);Z<oi&&(e=Te.charCodeAt(Z),!!cC(e));)++Z,t+=String.fromCharCode(e),e===92&&(t=t.substr(0,t.length-1),Te.charCodeAt(Z)!==117&&wt({},hr,Or),++Z,e=xR("u"),(!e||e==="\\"||!cC(e.charCodeAt(0)))&&wt({},hr,Or),t+=e);return t}function y4e(){var e,t;for(e=Z++;Z<oi;){if(t=Te.charCodeAt(Z),t===92)return Z=e,lre();if(cC(t))++Z;else break}return Te.slice(e,Z)}function v4e(){var e,t,n;return e=Z,t=Te.charCodeAt(Z)===92?lre():y4e(),t.length===1?n=Ch:g4e.hasOwnProperty(t)?n=Mf:t==="null"?n=R_:t==="true"||t==="false"?n=F_:n=Ch,{type:n,value:t,start:e,end:Z}}function qT(){var e=Z,t=Te.charCodeAt(Z),n,r=Te[Z],i,o,s;switch(t){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++Z,{type:qi,value:String.fromCharCode(t),start:e,end:Z};default:if(n=Te.charCodeAt(Z+1),n===61)switch(t){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return Z+=2,{type:qi,value:String.fromCharCode(t)+String.fromCharCode(n),start:e,end:Z};case 33:case 61:return Z+=2,Te.charCodeAt(Z)===61&&++Z,{type:qi,value:Te.slice(e,Z),start:e,end:Z}}}if(s=Te.substr(Z,4),s===">>>=")return Z+=4,{type:qi,value:s,start:e,end:Z};if(o=s.substr(0,3),o===">>>"||o==="<<="||o===">>=")return Z+=3,{type:qi,value:o,start:e,end:Z};if(i=o.substr(0,2),r===i[1]&&"+-<>&|".includes(r)||i==="=>")return Z+=2,{type:qi,value:i,start:e,end:Z};if(i==="//"&&wt({},hr,Or),"<>=!+-*%&|^/".includes(r))return++Z,{type:qi,value:r,start:e,end:Z};wt({},hr,Or)}function b4e(e){let t="";for(;Z<oi&&LN(Te[Z]);)t+=Te[Z++];return t.length===0&&wt({},hr,Or),gx(Te.charCodeAt(Z))&&wt({},hr,Or),{type:ep,value:parseInt("0x"+t,16),start:e,end:Z}}function x4e(e){let t="0"+Te[Z++];for(;Z<oi&&X1(Te[Z]);)t+=Te[Z++];return(gx(Te.charCodeAt(Z))||Kl(Te.charCodeAt(Z)))&&wt({},hr,Or),{type:ep,value:parseInt(t,8),octal:!0,start:e,end:Z}}function qB(){var e,t,n;if(n=Te[Z],P_(Kl(n.charCodeAt(0))||n===".","Numeric literal must start with a decimal digit or a decimal point"),t=Z,e="",n!=="."){if(e=Te[Z++],n=Te[Z],e==="0"){if(n==="x"||n==="X")return++Z,b4e(t);if(X1(n))return x4e(t);n&&Kl(n.charCodeAt(0))&&wt({},hr,Or)}for(;Kl(Te.charCodeAt(Z));)e+=Te[Z++];n=Te[Z]}if(n==="."){for(e+=Te[Z++];Kl(Te.charCodeAt(Z));)e+=Te[Z++];n=Te[Z]}if(n==="e"||n==="E")if(e+=Te[Z++],n=Te[Z],(n==="+"||n==="-")&&(e+=Te[Z++]),Kl(Te.charCodeAt(Z)))for(;Kl(Te.charCodeAt(Z));)e+=Te[Z++];else wt({},hr,Or);return gx(Te.charCodeAt(Z))&&wt({},hr,Or),{type:ep,value:parseFloat(e),start:t,end:Z}}function w4e(){var e="",t,n,r,i,o=!1;for(t=Te[Z],P_(t==="'"||t==='"',"String literal must starts with a quote"),n=Z,++Z;Z<oi;)if(r=Te[Z++],r===t){t="";break}else if(r==="\\")if(r=Te[Z++],!r||!Lv(r.charCodeAt(0)))switch(r){case"u":case"x":Te[Z]==="{"?(++Z,e+=m4e()):e+=xR(r);break;case"n":e+=`
`;break;case"r":e+="\r";break;case"t":e+="	";break;case"b":e+="\b";break;case"f":e+="\f";break;case"v":e+="\v";break;default:X1(r)?(i="01234567".indexOf(r),i!==0&&(o=!0),Z<oi&&X1(Te[Z])&&(o=!0,i=i*8+"01234567".indexOf(Te[Z++]),"0123".includes(r)&&Z<oi&&X1(Te[Z])&&(i=i*8+"01234567".indexOf(Te[Z++]))),e+=String.fromCharCode(i)):e+=r;break}else r==="\r"&&Te[Z]===`
`&&++Z;else{if(Lv(r.charCodeAt(0)))break;e+=r}return t!==""&&wt({},hr,Or),{type:px,value:e,octal:o,start:n,end:Z}}function S4e(e,t){let n=e;t.includes("u")&&(n=n.replace(/\\u\{([0-9a-fA-F]+)\}/g,(r,i)=>{if(parseInt(i,16)<=1114111)return"x";wt({},bR)}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(n)}catch{wt({},bR)}try{return new RegExp(e,t)}catch{return null}}function E4e(){var e,t,n,r,i;for(e=Te[Z],P_(e==="/","Regular expression literal must start with a slash"),t=Te[Z++],n=!1,r=!1;Z<oi;)if(e=Te[Z++],t+=e,e==="\\")e=Te[Z++],Lv(e.charCodeAt(0))&&wt({},HT),t+=e;else if(Lv(e.charCodeAt(0)))wt({},HT);else if(n)e==="]"&&(n=!1);else if(e==="/"){r=!0;break}else e==="["&&(n=!0);return r||wt({},HT),i=t.substr(1,t.length-2),{value:i,literal:t}}function C4e(){var e,t,n;for(t="",n="";Z<oi&&(e=Te[Z],!!cC(e.charCodeAt(0)));)++Z,e==="\\"&&Z<oi?wt({},hr,Or):(n+=e,t+=e);return n.search(/[^gimuy]/g)>=0&&wt({},bR,n),{value:n,literal:t}}function k4e(){var e,t,n,r;return Nt=null,are(),e=Z,t=E4e(),n=C4e(),r=S4e(t.value,n.value),{literal:t.literal+n.literal,value:r,regex:{pattern:t.value,flags:n.value},start:e,end:Z}}function _4e(e){return e.type===Ch||e.type===Mf||e.type===F_||e.type===R_}function ure(){if(are(),Z>=oi)return{type:hx,start:Z,end:Z};const e=Te.charCodeAt(Z);return gx(e)?v4e():e===40||e===41||e===59?qT():e===39||e===34?w4e():e===46?Kl(Te.charCodeAt(Z+1))?qB():qT():Kl(e)?qB():qT()}function Yi(){const e=Nt;return Z=e.end,Nt=ure(),Z=e.end,e}function cre(){const e=Z;Nt=ure(),Z=e}function $4e(e){const t=new ba(K3e);return t.elements=e,t}function GB(e,t,n){const r=new ba(e==="||"||e==="&&"?t4e:Q3e);return r.operator=e,r.left=t,r.right=n,r}function A4e(e,t){const n=new ba(J3e);return n.callee=e,n.arguments=t,n}function T4e(e,t,n){const r=new ba(Z3e);return r.test=e,r.consequent=t,r.alternate=n,r}function IN(e){const t=new ba(ore);return t.name=e,t}function b1(e){const t=new ba(e4e);return t.value=e.value,t.raw=Te.slice(e.start,e.end),e.regex&&(t.raw==="//"&&(t.raw="/(?:)/"),t.regex=e.regex),t}function XB(e,t,n){const r=new ba(n4e);return r.computed=e==="[",r.object=t,r.property=n,r.computed||(n.member=!0),r}function F4e(e){const t=new ba(r4e);return t.properties=e,t}function YB(e,t,n){const r=new ba(i4e);return r.key=t,r.value=n,r.kind=e,r}function R4e(e,t){const n=new ba(o4e);return n.operator=e,n.argument=t,n.prefix=!0,n}function wt(e,t){var n,r=Array.prototype.slice.call(arguments,2),i=t.replace(/%(\d)/g,(o,s)=>(P_(s<r.length,"Message reference must be in range"),r[s]));throw n=new Error(i),n.index=Z,n.description=i,n}function O_(e){e.type===hx&&wt(e,c4e),e.type===ep&&wt(e,s4e),e.type===px&&wt(e,a4e),e.type===Ch&&wt(e,l4e),e.type===Mf&&wt(e,u4e),wt(e,hr,e.value)}function si(e){const t=Yi();(t.type!==qi||t.value!==e)&&O_(t)}function an(e){return Nt.type===qi&&Nt.value===e}function GT(e){return Nt.type===Mf&&Nt.value===e}function P4e(){const e=[];for(Z=Nt.start,si("[");!an("]");)an(",")?(Yi(),e.push(null)):(e.push(kh()),an("]")||si(","));return Yi(),$4e(e)}function KB(){Z=Nt.start;const e=Yi();return e.type===px||e.type===ep?(e.octal&&wt(e,sre),b1(e)):IN(e.value)}function O4e(){var e,t,n,r;if(Z=Nt.start,e=Nt,e.type===Ch)return n=KB(),si(":"),r=kh(),YB("init",n,r);if(e.type===hx||e.type===qi)O_(e);else return t=KB(),si(":"),r=kh(),YB("init",t,r)}function D4e(){var e=[],t,n,r,i={},o=String;for(Z=Nt.start,si("{");!an("}");)t=O4e(),t.key.type===ore?n=t.key.name:n=o(t.key.value),r="$"+n,Object.prototype.hasOwnProperty.call(i,r)?wt({},f4e):i[r]=!0,e.push(t),an("}")||si(",");return si("}"),F4e(e)}function M4e(){si("(");const e=zN();return si(")"),e}const N4e={if:1};function L4e(){var e,t,n;if(an("("))return M4e();if(an("["))return P4e();if(an("{"))return D4e();if(e=Nt.type,Z=Nt.start,e===Ch||N4e[Nt.value])n=IN(Yi().value);else if(e===px||e===ep)Nt.octal&&wt(Nt,sre),n=b1(Yi());else{if(e===Mf)throw new Error(Nv);e===F_?(t=Yi(),t.value=t.value==="true",n=b1(t)):e===R_?(t=Yi(),t.value=null,n=b1(t)):an("/")||an("/=")?(n=b1(k4e()),cre()):O_(Yi())}return n}function I4e(){const e=[];if(si("("),!an(")"))for(;Z<oi&&(e.push(kh()),!an(")"));)si(",");return si(")"),e}function z4e(){Z=Nt.start;const e=Yi();return _4e(e)||O_(e),IN(e.value)}function j4e(){return si("."),z4e()}function B4e(){si("[");const e=zN();return si("]"),e}function U4e(){var e,t,n;for(e=L4e();;)if(an("."))n=j4e(),e=XB(".",e,n);else if(an("("))t=I4e(),e=A4e(e,t);else if(an("["))n=B4e(),e=XB("[",e,n);else break;return e}function QB(){const e=U4e();if(Nt.type===qi&&(an("++")||an("--")))throw new Error(Nv);return e}function fS(){var e,t;if(Nt.type!==qi&&Nt.type!==Mf)t=QB();else{if(an("++")||an("--"))throw new Error(Nv);if(an("+")||an("-")||an("~")||an("!"))e=Yi(),t=fS(),t=R4e(e.value,t);else{if(GT("delete")||GT("void")||GT("typeof"))throw new Error(Nv);t=QB()}}return t}function JB(e){let t=0;if(e.type!==qi&&e.type!==Mf)return 0;switch(e.value){case"||":t=1;break;case"&&":t=2;break;case"|":t=3;break;case"^":t=4;break;case"&":t=5;break;case"==":case"!=":case"===":case"!==":t=6;break;case"<":case">":case"<=":case">=":case"instanceof":case"in":t=7;break;case"<<":case">>":case">>>":t=8;break;case"+":case"-":t=9;break;case"*":case"/":case"%":t=11;break}return t}function V4e(){var e,t,n,r,i,o,s,a,l,u;if(e=Nt,l=fS(),r=Nt,i=JB(r),i===0)return l;for(r.prec=i,Yi(),t=[e,Nt],s=fS(),o=[l,r,s];(i=JB(Nt))>0;){for(;o.length>2&&i<=o[o.length-2].prec;)s=o.pop(),a=o.pop().value,l=o.pop(),t.pop(),n=GB(a,l,s),o.push(n);r=Yi(),r.prec=i,o.push(r),t.push(Nt),n=fS(),o.push(n)}for(u=o.length-1,n=o[u],t.pop();u>1;)t.pop(),n=GB(o[u-1].value,o[u-2],n),u-=2;return n}function kh(){var e,t,n;return e=V4e(),an("?")&&(Yi(),t=kh(),si(":"),n=kh(),e=T4e(e,t,n)),e}function zN(){const e=kh();if(an(","))throw new Error(Nv);return e}function jN(e){Te=e,Z=0,oi=Te.length,Nt=null,cre();const t=zN();if(Nt.type!==hx)throw new Error("Unexpect token after expression.");return t}var fre={NaN:"NaN",E:"Math.E",LN2:"Math.LN2",LN10:"Math.LN10",LOG2E:"Math.LOG2E",LOG10E:"Math.LOG10E",PI:"Math.PI",SQRT1_2:"Math.SQRT1_2",SQRT2:"Math.SQRT2",MIN_VALUE:"Number.MIN_VALUE",MAX_VALUE:"Number.MAX_VALUE"};function dre(e){function t(s,a,l,u){let c=e(a[0]);return l&&(c=l+"("+c+")",l.lastIndexOf("new ",0)===0&&(c="("+c+")")),c+"."+s+(u<0?"":u===0?"()":"("+a.slice(1).map(e).join(",")+")")}function n(s,a,l){return u=>t(s,u,a,l)}const r="new Date",i="String",o="RegExp";return{isNaN:"Number.isNaN",isFinite:"Number.isFinite",abs:"Math.abs",acos:"Math.acos",asin:"Math.asin",atan:"Math.atan",atan2:"Math.atan2",ceil:"Math.ceil",cos:"Math.cos",exp:"Math.exp",floor:"Math.floor",hypot:"Math.hypot",log:"Math.log",max:"Math.max",min:"Math.min",pow:"Math.pow",random:"Math.random",round:"Math.round",sin:"Math.sin",sqrt:"Math.sqrt",tan:"Math.tan",clamp:function(s){s.length<3&&ee("Missing arguments to clamp function."),s.length>3&&ee("Too many arguments to clamp function.");const a=s.map(e);return"Math.max("+a[1]+", Math.min("+a[2]+","+a[0]+"))"},now:"Date.now",utc:"Date.UTC",datetime:r,date:n("getDate",r,0),day:n("getDay",r,0),year:n("getFullYear",r,0),month:n("getMonth",r,0),hours:n("getHours",r,0),minutes:n("getMinutes",r,0),seconds:n("getSeconds",r,0),milliseconds:n("getMilliseconds",r,0),time:n("getTime",r,0),timezoneoffset:n("getTimezoneOffset",r,0),utcdate:n("getUTCDate",r,0),utcday:n("getUTCDay",r,0),utcyear:n("getUTCFullYear",r,0),utcmonth:n("getUTCMonth",r,0),utchours:n("getUTCHours",r,0),utcminutes:n("getUTCMinutes",r,0),utcseconds:n("getUTCSeconds",r,0),utcmilliseconds:n("getUTCMilliseconds",r,0),length:n("length",null,-1),parseFloat:"parseFloat",parseInt:"parseInt",upper:n("toUpperCase",i,0),lower:n("toLowerCase",i,0),substring:n("substring",i),split:n("split",i),trim:n("trim",i,0),regexp:o,test:n("test",o),if:function(s){s.length<3&&ee("Missing arguments to if function."),s.length>3&&ee("Too many arguments to if function.");const a=s.map(e);return"("+a[0]+"?"+a[1]+":"+a[2]+")"}}}function W4e(e){const t=e&&e.length-1;return t&&(e[0]==='"'&&e[t]==='"'||e[0]==="'"&&e[t]==="'")?e.slice(1,-1):e}function hre(e){e=e||{};const t=e.allowed?ua(e.allowed):{},n=e.forbidden?ua(e.forbidden):{},r=e.constants||fre,i=(e.functions||dre)(f),o=e.globalvar,s=e.fieldvar,a=et(o)?o:p=>`${o}["${p}"]`;let l={},u={},c=0;function f(p){if(we(p))return p;const g=d[p.type];return g==null&&ee("Unsupported type: "+p.type),g(p)}const d={Literal:p=>p.raw,Identifier:p=>{const g=p.name;return c>0?g:Se(n,g)?ee("Illegal identifier: "+g):Se(r,g)?r[g]:Se(t,g)?g:(l[g]=1,a(g))},MemberExpression:p=>{const g=!p.computed,m=f(p.object);g&&(c+=1);const y=f(p.property);return m===s&&(u[W4e(y)]=1),g&&(c-=1),m+(g?"."+y:"["+y+"]")},CallExpression:p=>{p.callee.type!=="Identifier"&&ee("Illegal callee type: "+p.callee.type);const g=p.callee.name,m=p.arguments,y=Se(i,g)&&i[g];return y||ee("Unrecognized function: "+g),et(y)?y(m):y+"("+m.map(f).join(",")+")"},ArrayExpression:p=>"["+p.elements.map(f).join(",")+"]",BinaryExpression:p=>"("+f(p.left)+" "+p.operator+" "+f(p.right)+")",UnaryExpression:p=>"("+p.operator+f(p.argument)+")",ConditionalExpression:p=>"("+f(p.test)+"?"+f(p.consequent)+":"+f(p.alternate)+")",LogicalExpression:p=>"("+f(p.left)+p.operator+f(p.right)+")",ObjectExpression:p=>"{"+p.properties.map(f).join(",")+"}",Property:p=>{c+=1;const g=f(p.key);return c-=1,g+":"+f(p.value)}};function h(p){const g={code:f(p),globals:Object.keys(l),fields:Object.keys(u)};return l={},u={},g}return h.functions=i,h.constants=r,h}const ZB=Symbol("vega_selection_getter");function pre(e){return(!e.getter||!e.getter[ZB])&&(e.getter=bs(e.field),e.getter[ZB]=!0),e.getter}const BN="intersect",eU="union",H4e="vlMulti",q4e="vlPoint",tU="or",G4e="and",Ga="_vgsid_",Iv=bs(Ga),X4e="E",Y4e="R",K4e="R-E",Q4e="R-LE",J4e="R-RE",fC="index:unit";function nU(e,t){for(var n=t.fields,r=t.values,i=n.length,o=0,s,a;o<i;++o)if(a=n[o],s=pre(a)(e),qc(s)&&(s=ti(s)),qc(r[o])&&(r[o]=ti(r[o])),te(r[o])&&qc(r[o][0])&&(r[o]=r[o].map(ti)),a.type===X4e){if(te(r[o])?r[o].indexOf(s)<0:s!==r[o])return!1}else if(a.type===Y4e){if(!eg(s,r[o]))return!1}else if(a.type===J4e){if(!eg(s,r[o],!0,!1))return!1}else if(a.type===K4e){if(!eg(s,r[o],!1,!1))return!1}else if(a.type===Q4e&&!eg(s,r[o],!1,!0))return!1;return!0}function Z4e(e,t,n){for(var r=this.context.data[e],i=r?r.values.value:[],o=r?r[fC]&&r[fC].value:void 0,s=n===BN,a=i.length,l=0,u,c,f,d,h;l<a;++l)if(u=i[l],o&&s){if(c=c||{},f=c[d=u.unit]||0,f===-1)continue;if(h=nU(t,u),c[d]=h?-1:++f,h&&o.size===1)return!0;if(!h&&f===o.get(d).count)return!1}else if(h=nU(t,u),s^h)return h;return a&&s}const gre=w0(Iv),eFe=gre.left,tFe=gre.right;function nFe(e,t,n){const r=this.context.data[e],i=r?r.values.value:[],o=r?r[fC]&&r[fC].value:void 0,s=n===BN,a=Iv(t),l=eFe(i,a);if(l===i.length||Iv(i[l])!==a)return!1;if(o&&s){if(o.size===1)return!0;if(tFe(i,a)-l<o.size)return!1}return!0}function rFe(e,t){return e.map(n=>Ze(t.fields?{values:t.fields.map(r=>pre(r)(n.datum))}:{[Ga]:Iv(n.datum)},t))}function iFe(e,t,n,r){for(var i=this.context.data[e],o=i?i.values.value:[],s={},a={},l={},u,c,f,d,h,p,g,m,y,v,b=o.length,x=0,w,C;x<b;++x)if(u=o[x],d=u.unit,c=u.fields,f=u.values,c&&f){for(w=0,C=c.length;w<C;++w)h=c[w],g=s[h.field]||(s[h.field]={}),m=g[d]||(g[d]=[]),l[h.field]=y=h.type.charAt(0),v=XT[`${y}_union`],g[d]=v(m,xe(f[w]));n&&(m=a[d]||(a[d]=[]),m.push(xe(f).reduce((S,k,$)=>(S[c[$].field]=k,S),{})))}else h=Ga,p=Iv(u),g=s[h]||(s[h]={}),m=g[d]||(g[d]=[]),m.push(p),n&&(m=a[d]||(a[d]=[]),m.push({[Ga]:p}));if(t=t||eU,s[Ga]?s[Ga]=XT[`${Ga}_${t}`](...Object.values(s[Ga])):Object.keys(s).forEach(S=>{s[S]=Object.keys(s[S]).map(k=>s[S][k]).reduce((k,$)=>k===void 0?$:XT[`${l[S]}_${t}`](k,$))}),o=Object.keys(a),n&&o.length){const S=r?q4e:H4e;s[S]=t===eU?{[tU]:o.reduce((k,$)=>(k.push(...a[$]),k),[])}:{[G4e]:o.map(k=>({[tU]:a[k]}))}}return s}var XT={[`${Ga}_union`]:ove,[`${Ga}_intersect`]:rve,E_union:function(e,t){if(!e.length)return t;for(var n=0,r=t.length;n<r;++n)e.indexOf(t[n])<0&&e.push(t[n]);return e},E_intersect:function(e,t){return e.length?e.filter(n=>t.indexOf(n)>=0):t},R_union:function(e,t){var n=ti(t[0]),r=ti(t[1]);return n>r&&(n=t[1],r=t[0]),e.length?(e[0]>n&&(e[0]=n),e[1]<r&&(e[1]=r),e):[n,r]},R_intersect:function(e,t){var n=ti(t[0]),r=ti(t[1]);return n>r&&(n=t[1],r=t[0]),e.length?r<e[0]||e[1]<n?[]:(e[0]<n&&(e[0]=n),e[1]>r&&(e[1]=r),e):[n,r]}};const oFe=":",sFe="@";function UN(e,t,n,r){t[0].type!==Eh&&ee("First argument to selection functions must be a string literal.");const i=t[0].value,o=t.length>=2&&gt(t).value,s="unit",a=sFe+s,l=oFe+i;o===BN&&!Se(r,a)&&(r[a]=n.getData(i).indataRef(n,s)),Se(r,l)||(r[l]=n.getData(i).tuplesRef())}function mre(e){const t=this.context.data[e];return t?t.values.value:[]}function aFe(e,t,n){const r=this.context.data[e]["index:"+t],i=r?r.value.get(n):void 0;return i&&i.count}function lFe(e,t){const n=this.context.dataflow,r=this.context.data[e],i=r.input;return n.pulse(i,n.changeset().remove(xs).insert(t)),1}function uFe(e,t,n){if(e){const r=this.context.dataflow,i=e.mark.source;r.pulse(i,r.changeset().encode(e,t))}return n!==void 0?n:e}const mx=e=>function(t,n){const r=this.context.dataflow.locale();return t===null?"null":r[e](n)(t)},cFe=mx("format"),yre=mx("timeFormat"),fFe=mx("utcFormat"),dFe=mx("timeParse"),hFe=mx("utcParse"),Hw=new Date(2e3,0,1);function D_(e,t,n){return!Number.isInteger(e)||!Number.isInteger(t)?"":(Hw.setYear(2e3),Hw.setMonth(e),Hw.setDate(t),yre.call(this,Hw,n))}function pFe(e){return D_.call(this,e,1,"%B")}function gFe(e){return D_.call(this,e,1,"%b")}function mFe(e){return D_.call(this,0,2+e,"%A")}function yFe(e){return D_.call(this,0,2+e,"%a")}const vFe=":",bFe="@",wR="%",vre="$";function VN(e,t,n,r){t[0].type!==Eh&&ee("First argument to data functions must be a string literal.");const i=t[0].value,o=vFe+i;if(!Se(o,r))try{r[o]=n.getData(i).tuplesRef()}catch{}}function xFe(e,t,n,r){t[0].type!==Eh&&ee("First argument to indata must be a string literal."),t[1].type!==Eh&&ee("Second argument to indata must be a string literal.");const i=t[0].value,o=t[1].value,s=bFe+o;Se(s,r)||(r[s]=n.getData(i).indataRef(n,o))}function Ri(e,t,n,r){if(t[0].type===Eh)rU(n,r,t[0].value);else for(e in n.scales)rU(n,r,e)}function rU(e,t,n){const r=wR+n;if(!Se(t,r))try{t[r]=e.scaleRef(n)}catch{}}function Fl(e,t){if(et(e))return e;if(we(e)){const n=t.scales[e];return n&&RSe(n.value)?n.value:void 0}}function wFe(e,t,n){t.__bandwidth=i=>i&&i.bandwidth?i.bandwidth():0,n._bandwidth=Ri,n._range=Ri,n._scale=Ri;const r=i=>"_["+(i.type===Eh?de(wR+i.value):de(wR)+"+"+e(i))+"]";return{_bandwidth:i=>`this.__bandwidth(${r(i[0])})`,_range:i=>`${r(i[0])}.range()`,_scale:i=>`${r(i[0])}(${e(i[1])})`}}function WN(e,t){return function(n,r,i){if(n){const o=Fl(n,(i||this).context);return o&&o.path[e](r)}else return t(r)}}const SFe=WN("area",q_e),EFe=WN("bounds",K_e),CFe=WN("centroid",n$e);function kFe(e,t){const n=Fl(e,(t||this).context);return n&&n.scale()}function _Fe(e){const t=this.context.group;let n=!1;if(t)for(;e;){if(e===t){n=!0;break}e=e.mark.group}return n}function HN(e,t,n){try{e[t].apply(e,["EXPRESSION"].concat([].slice.call(n)))}catch(r){e.warn(r)}return n[n.length-1]}function $Fe(){return HN(this.context.dataflow,"warn",arguments)}function AFe(){return HN(this.context.dataflow,"info",arguments)}function TFe(){return HN(this.context.dataflow,"debug",arguments)}function YT(e){const t=e/255;return t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)}function SR(e){const t=df(e),n=YT(t.r),r=YT(t.g),i=YT(t.b);return .2126*n+.7152*r+.0722*i}function FFe(e,t){const n=SR(e),r=SR(t),i=Math.max(n,r),o=Math.min(n,r);return(i+.05)/(o+.05)}function RFe(){const e=[].slice.call(arguments);return e.unshift({}),Ze(...e)}function bre(e,t){return e===t||e!==e&&t!==t?!0:te(e)?te(t)&&e.length===t.length?PFe(e,t):!1:ve(e)&&ve(t)?xre(e,t):!1}function PFe(e,t){for(let n=0,r=e.length;n<r;++n)if(!bre(e[n],t[n]))return!1;return!0}function xre(e,t){for(const n in e)if(!bre(e[n],t[n]))return!1;return!0}function iU(e){return t=>xre(e,t)}function OFe(e,t,n,r,i,o){const s=this.context.dataflow,a=this.context.data[e],l=a.input,u=s.stamp();let c=a.changes,f,d;if(s._trigger===!1||!(l.value.length||t||r))return 0;if((!c||c.stamp<u)&&(a.changes=c=s.changeset(),c.stamp=u,s.runAfter(()=>{a.modified=!0,s.pulse(l,c).run()},!0,1)),n&&(f=n===!0?xs:te(n)||Vk(n)?n:iU(n),c.remove(f)),t&&c.insert(t),r&&(f=iU(r),l.value.some(f)?c.remove(f):c.insert(r)),i)for(d in o)c.modify(i,d,o[d]);return 1}function DFe(e){const t=e.touches,n=t[0].clientX-t[1].clientX,r=t[0].clientY-t[1].clientY;return Math.hypot(n,r)}function MFe(e){const t=e.touches;return Math.atan2(t[0].clientY-t[1].clientY,t[0].clientX-t[1].clientX)}const oU={};function NFe(e,t){const n=oU[t]||(oU[t]=bs(t));return te(e)?e.map(n):n(e)}function qN(e){return te(e)||ArrayBuffer.isView(e)?e:null}function GN(e){return qN(e)||(we(e)?e:null)}function LFe(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return qN(e).join(...n)}function IFe(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return GN(e).indexOf(...n)}function zFe(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return GN(e).lastIndexOf(...n)}function jFe(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return GN(e).slice(...n)}function BFe(e,t,n){return et(n)&&ee("Function argument passed to replace."),String(e).replace(t,n)}function UFe(e){return qN(e).slice().reverse()}function VFe(e,t,n){return o6(e||0,t||0,n||0)}function WFe(e,t){const n=Fl(e,(t||this).context);return n&&n.bandwidth?n.bandwidth():0}function HFe(e,t){const n=Fl(e,(t||this).context);return n?n.copy():void 0}function qFe(e,t){const n=Fl(e,(t||this).context);return n?n.domain():[]}function GFe(e,t,n){const r=Fl(e,(n||this).context);return r?te(t)?(r.invertRange||r.invert)(t):(r.invert||r.invertExtent)(t):void 0}function XFe(e,t){const n=Fl(e,(t||this).context);return n&&n.range?n.range():[]}function YFe(e,t,n){const r=Fl(e,(n||this).context);return r?r(t):void 0}function KFe(e,t,n,r,i){e=Fl(e,(i||this).context);const o=cee(t,n);let s=e.domain(),a=s[0],l=gt(s),u=ai;return l-a?u=JZ(e,a,l):e=(e.interpolator?Ct("sequential")().interpolator(e.interpolator()):Ct("linear")().interpolate(e.interpolate()).range(e.range())).domain([a=0,l=1]),e.ticks&&(s=e.ticks(+r||15),a!==s[0]&&s.unshift(a),l!==gt(s)&&s.push(l)),s.forEach(c=>o.stop(u(c),e(c))),o}function QFe(e,t,n){const r=Fl(e,(n||this).context);return function(i){return r?r.path.context(i)(t):""}}function JFe(e){let t=null;return function(n){return n?Av(n,t=t||Cm(e)):e}}const wre=e=>e.data;function Sre(e,t){const n=mre.call(t,e);return n.root&&n.root.lookup||{}}function ZFe(e,t,n){const r=Sre(e,this),i=r[t],o=r[n];return i&&o?i.path(o).map(wre):void 0}function eRe(e,t){const n=Sre(e,this)[t];return n?n.ancestors().map(wre):void 0}const Ere=()=>typeof window<"u"&&window||null;function tRe(){const e=Ere();return e?e.screen:{}}function nRe(){const e=Ere();return e?[e.innerWidth,e.innerHeight]:[void 0,void 0]}function rRe(){const e=this.context.dataflow,t=e.container&&e.container();return t?[t.clientWidth,t.clientHeight]:[void 0,void 0]}function Cre(e,t,n){if(!e)return[];const[r,i]=e,o=new Gn().set(r[0],r[1],i[0],i[1]),s=n||this.context.dataflow.scenegraph().root;return ate(s,o,iRe(t))}function iRe(e){let t=null;if(e){const n=xe(e.marktype),r=xe(e.markname);t=i=>(!n.length||n.some(o=>i.marktype===o))&&(!r.length||r.some(o=>i.name===o))}return t}function oRe(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:5;e=xe(e);const i=e[e.length-1];return i===void 0||Math.hypot(i[0]-t,i[1]-n)>r?[...e,[t,n]]:e}function sRe(e){return xe(e).reduce((t,n,r)=>{let[i,o]=n;return t+=r==0?`M ${i},${o} `:r===e.length-1?" Z":`L ${i},${o} `},"")}function aRe(e,t,n){const{x:r,y:i,mark:o}=n,s=new Gn().set(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER,Number.MIN_SAFE_INTEGER,Number.MIN_SAFE_INTEGER);for(const[l,u]of t)l<s.x1&&(s.x1=l),l>s.x2&&(s.x2=l),u<s.y1&&(s.y1=u),u>s.y2&&(s.y2=u);return s.translate(r,i),Cre([[s.x1,s.y1],[s.x2,s.y2]],e,o).filter(l=>lRe(l.x,l.y,t))}function lRe(e,t,n){let r=0;for(let i=0,o=n.length-1;i<n.length;o=i++){const[s,a]=n[o],[l,u]=n[i];u>t!=a>t&&e<(s-l)*(t-u)/(a-u)+l&&r++}return r&1}const zv={random(){return Ss()},cumulativeNormal:Xk,cumulativeLogNormal:iM,cumulativeUniform:lM,densityNormal:ZD,densityLogNormal:rM,densityUniform:aM,quantileNormal:Yk,quantileLogNormal:oM,quantileUniform:uM,sampleNormal:Gk,sampleLogNormal:nM,sampleUniform:sM,isArray:te,isBoolean:Ff,isDate:qc,isDefined(e){return e!==void 0},isNumber:St,isObject:ve,isRegExp:_K,isString:we,isTuple:Vk,isValid(e){return e!=null&&e===e},toBoolean:PD,toDate(e){return OD(e)},toNumber:ti,toString:DD,indexof:IFe,join:LFe,lastindexof:zFe,replace:BFe,reverse:UFe,slice:jFe,flush:CK,lerp:$K,merge:RFe,pad:FK,peek:gt,pluck:NFe,span:zb,inrange:eg,truncate:RK,rgb:df,lab:mE,hcl:yE,hsl:pE,luminance:SR,contrast:FFe,sequence:_o,format:cFe,utcFormat:fFe,utcParse:hFe,utcOffset:uQ,utcSequence:dQ,timeFormat:yre,timeParse:dFe,timeOffset:lQ,timeSequence:fQ,timeUnitSpecifier:QK,monthFormat:pFe,monthAbbrevFormat:gFe,dayFormat:mFe,dayAbbrevFormat:yFe,quarter:xK,utcquarter:wK,week:ZK,utcweek:nQ,dayofyear:JK,utcdayofyear:tQ,warn:$Fe,info:AFe,debug:TFe,extent(e){return ml(e)},inScope:_Fe,intersect:Cre,clampRange:SK,pinchDistance:DFe,pinchAngle:MFe,screen:tRe,containerSize:rRe,windowSize:nRe,bandspace:VFe,setdata:lFe,pathShape:JFe,panLinear:mK,panLog:yK,panPow:vK,panSymlog:bK,zoomLinear:_D,zoomLog:$D,zoomPow:tE,zoomSymlog:AD,encode:uFe,modify:OFe,lassoAppend:oRe,lassoPath:sRe,intersectLasso:aRe},uRe=["view","item","group","xy","x","y"],cRe="event.vega.",kre="this.",XN={},_re={forbidden:["_"],allowed:["datum","event","item"],fieldvar:"datum",globalvar:e=>`_[${de(vre+e)}]`,functions:fRe,constants:fre,visitors:XN},ER=hre(_re);function fRe(e){const t=dre(e);uRe.forEach(n=>t[n]=cRe+n);for(const n in zv)t[n]=kre+n;return Ze(t,wFe(e,zv,XN)),t}function Un(e,t,n){return arguments.length===1?zv[e]:(zv[e]=t,n&&(XN[e]=n),ER&&(ER.functions[e]=kre+e),this)}Un("bandwidth",WFe,Ri);Un("copy",HFe,Ri);Un("domain",qFe,Ri);Un("range",XFe,Ri);Un("invert",GFe,Ri);Un("scale",YFe,Ri);Un("gradient",KFe,Ri);Un("geoArea",SFe,Ri);Un("geoBounds",EFe,Ri);Un("geoCentroid",CFe,Ri);Un("geoShape",QFe,Ri);Un("geoScale",kFe,Ri);Un("indata",aFe,xFe);Un("data",mre,VN);Un("treePath",ZFe,VN);Un("treeAncestors",eRe,VN);Un("vlSelectionTest",Z4e,UN);Un("vlSelectionIdTest",nFe,UN);Un("vlSelectionResolve",iFe,UN);Un("vlSelectionTuples",rFe);function bl(e,t){const n={};let r;try{e=we(e)?e:de(e)+"",r=jN(e)}catch{ee("Expression parse error: "+e)}r.visit(o=>{if(o.type!==ire)return;const s=o.callee.name,a=_re.visitors[s];a&&a(s,o.arguments,t,n)});const i=ER(r);return i.globals.forEach(o=>{const s=vre+o;!Se(n,s)&&t.getSignal(o)&&(n[s]=t.signalRef(o))}),{$expr:Ze({code:i.code},t.options.ast?{ast:r}:null),$fields:i.fields,$params:n}}function dRe(e){const t=this,n=e.operators||[];return e.background&&(t.background=e.background),e.eventConfig&&(t.eventConfig=e.eventConfig),e.locale&&(t.locale=e.locale),n.forEach(r=>t.parseOperator(r)),n.forEach(r=>t.parseOperatorParameters(r)),(e.streams||[]).forEach(r=>t.parseStream(r)),(e.updates||[]).forEach(r=>t.parseUpdate(r)),t.resolve()}const hRe=ua(["rule"]),sU=ua(["group","image","rect"]);function pRe(e,t){let n="";return hRe[t]||(e.x2&&(e.x?(sU[t]&&(n+="if(o.x>o.x2)$=o.x,o.x=o.x2,o.x2=$;"),n+="o.width=o.x2-o.x;"):n+="o.x=o.x2-(o.width||0);"),e.xc&&(n+="o.x=o.xc-(o.width||0)/2;"),e.y2&&(e.y?(sU[t]&&(n+="if(o.y>o.y2)$=o.y,o.y=o.y2,o.y2=$;"),n+="o.height=o.y2-o.y;"):n+="o.y=o.y2-(o.height||0);"),e.yc&&(n+="o.y=o.yc-(o.height||0)/2;")),n}function YN(e){return(e+"").toLowerCase()}function gRe(e){return YN(e)==="operator"}function mRe(e){return YN(e)==="collect"}function Ey(e,t,n){n.endsWith(";")||(n="return("+n+");");const r=Function(...t.concat(n));return e&&e.functions?r.bind(e.functions):r}function yRe(e,t,n,r){return`((u = ${e}) < (v = ${t}) || u == null) && v != null ? ${n}
  : (u > v || v == null) && u != null ? ${r}
  : ((v = v instanceof Date ? +v : v), (u = u instanceof Date ? +u : u)) !== u && v === v ? ${n}
  : v !== v && u === u ? ${r} : `}var vRe={operator:(e,t)=>Ey(e,["_"],t.code),parameter:(e,t)=>Ey(e,["datum","_"],t.code),event:(e,t)=>Ey(e,["event"],t.code),handler:(e,t)=>{const n=`var datum=event.item&&event.item.datum;return ${t.code};`;return Ey(e,["_","event"],n)},encode:(e,t)=>{const{marktype:n,channels:r}=t;let i="var o=item,datum=o.datum,m=0,$;";for(const o in r){const s="o["+de(o)+"]";i+=`$=${r[o].code};if(${s}!==$)${s}=$,m=1;`}return i+=pRe(r,n),i+="return m;",Ey(e,["item","_"],i)},codegen:{get(e){const t=`[${e.map(de).join("][")}]`,n=Function("_",`return _${t};`);return n.path=t,n},comparator(e,t){let n;const r=(o,s)=>{const a=t[s];let l,u;return o.path?(l=`a${o.path}`,u=`b${o.path}`):((n=n||{})["f"+s]=o,l=`this.f${s}(a)`,u=`this.f${s}(b)`),yRe(l,u,-a,a)},i=Function("a","b","var u, v; return "+e.map(r).join("")+"0;");return n?i.bind(n):i}}};function bRe(e){const t=this;gRe(e.type)||!e.type?t.operator(e,e.update?t.operatorExpression(e.update):null):t.transform(e,e.type)}function xRe(e){const t=this;if(e.params){const n=t.get(e.id);n||ee("Invalid operator id: "+e.id),t.dataflow.connect(n,n.parameters(t.parseParameters(e.params),e.react,e.initonly))}}function wRe(e,t){t=t||{};const n=this;for(const r in e){const i=e[r];t[r]=te(i)?i.map(o=>aU(o,n,t)):aU(i,n,t)}return t}function aU(e,t,n){if(!e||!ve(e))return e;for(let r=0,i=lU.length,o;r<i;++r)if(o=lU[r],Se(e,o.key))return o.parse(e,t,n);return e}var lU=[{key:"$ref",parse:SRe},{key:"$key",parse:CRe},{key:"$expr",parse:ERe},{key:"$field",parse:kRe},{key:"$encode",parse:$Re},{key:"$compare",parse:_Re},{key:"$context",parse:ARe},{key:"$subflow",parse:TRe},{key:"$tupleid",parse:FRe}];function SRe(e,t){return t.get(e.$ref)||ee("Operator not defined: "+e.$ref)}function ERe(e,t,n){e.$params&&t.parseParameters(e.$params,n);const r="e:"+e.$expr.code;return t.fn[r]||(t.fn[r]=go(t.parameterExpression(e.$expr),e.$fields))}function CRe(e,t){const n="k:"+e.$key+"_"+!!e.$flat;return t.fn[n]||(t.fn[n]=RD(e.$key,e.$flat,t.expr.codegen))}function kRe(e,t){if(!e.$field)return null;const n="f:"+e.$field+"_"+e.$name;return t.fn[n]||(t.fn[n]=bs(e.$field,e.$name,t.expr.codegen))}function _Re(e,t){const n="c:"+e.$compare+"_"+e.$order,r=xe(e.$compare).map(i=>i&&i.$tupleid?De:i);return t.fn[n]||(t.fn[n]=TD(r,e.$order,t.expr.codegen))}function $Re(e,t){const n=e.$encode,r={};for(const i in n){const o=n[i];r[i]=go(t.encodeExpression(o.$expr),o.$fields),r[i].output=o.$output}return r}function ARe(e,t){return t}function TRe(e,t){const n=e.$subflow;return function(r,i,o){const s=t.fork().parse(n),a=s.get(n.operators[0].id),l=s.signals.parent;return l&&l.set(o),a.detachSubflow=()=>t.detach(s),a}}function FRe(){return De}function RRe(e){var t=this,n=e.filter!=null?t.eventExpression(e.filter):void 0,r=e.stream!=null?t.get(e.stream):void 0,i;e.source?r=t.events(e.source,e.type,n):e.merge&&(i=e.merge.map(o=>t.get(o)),r=i[0].merge.apply(i[0],i.slice(1))),e.between&&(i=e.between.map(o=>t.get(o)),r=r.between(i[0],i[1])),e.filter&&(r=r.filter(n)),e.throttle!=null&&(r=r.throttle(+e.throttle)),e.debounce!=null&&(r=r.debounce(+e.debounce)),r==null&&ee("Invalid stream definition: "+JSON.stringify(e)),e.consume&&r.consume(!0),t.stream(e,r)}function PRe(e){var t=this,n=ve(n=e.source)?n.$ref:n,r=t.get(n),i=null,o=e.update,s=void 0;r||ee("Source not defined: "+e.source),i=e.target&&e.target.$expr?t.eventExpression(e.target.$expr):t.get(e.target),o&&o.$expr&&(o.$params&&(s=t.parseParameters(o.$params)),o=t.handlerExpression(o.$expr)),t.update(e,r,i,o,s)}const ORe={skip:!0};function DRe(e){var t=this,n={};if(e.signals){var r=n.signals={};Object.keys(t.signals).forEach(o=>{const s=t.signals[o];e.signals(o,s)&&(r[o]=s.value)})}if(e.data){var i=n.data={};Object.keys(t.data).forEach(o=>{const s=t.data[o];e.data(o,s)&&(i[o]=s.input.value)})}return t.subcontext&&e.recurse!==!1&&(n.subcontext=t.subcontext.map(o=>o.getState(e))),n}function MRe(e){var t=this,n=t.dataflow,r=e.data,i=e.signals;Object.keys(i||{}).forEach(o=>{n.update(t.signals[o],i[o],ORe)}),Object.keys(r||{}).forEach(o=>{n.pulse(t.data[o].input,n.changeset().remove(xs).insert(r[o]))}),(e.subcontext||[]).forEach((o,s)=>{const a=t.subcontext[s];a&&a.setState(o)})}function $re(e,t,n,r){return new Are(e,t,n,r)}function Are(e,t,n,r){this.dataflow=e,this.transforms=t,this.events=e.events.bind(e),this.expr=r||vRe,this.signals={},this.scales={},this.nodes={},this.data={},this.fn={},n&&(this.functions=Object.create(n),this.functions.context=this)}function uU(e){this.dataflow=e.dataflow,this.transforms=e.transforms,this.events=e.events,this.expr=e.expr,this.signals=Object.create(e.signals),this.scales=Object.create(e.scales),this.nodes=Object.create(e.nodes),this.data=Object.create(e.data),this.fn=Object.create(e.fn),e.functions&&(this.functions=Object.create(e.functions),this.functions.context=this)}Are.prototype=uU.prototype={fork(){const e=new uU(this);return(this.subcontext||(this.subcontext=[])).push(e),e},detach(e){this.subcontext=this.subcontext.filter(n=>n!==e);const t=Object.keys(e.nodes);for(const n of t)e.nodes[n]._targets=null;for(const n of t)e.nodes[n].detach();e.nodes=null},get(e){return this.nodes[e]},set(e,t){return this.nodes[e]=t},add(e,t){const n=this,r=n.dataflow,i=e.value;if(n.set(e.id,t),mRe(e.type)&&i&&(i.$ingest?r.ingest(t,i.$ingest,i.$format):i.$request?r.preload(t,i.$request,i.$format):r.pulse(t,r.changeset().insert(i))),e.root&&(n.root=t),e.parent){let o=n.get(e.parent.$ref);o?(r.connect(o,[t]),t.targets().add(o)):(n.unresolved=n.unresolved||[]).push(()=>{o=n.get(e.parent.$ref),r.connect(o,[t]),t.targets().add(o)})}if(e.signal&&(n.signals[e.signal]=t),e.scale&&(n.scales[e.scale]=t),e.data)for(const o in e.data){const s=n.data[o]||(n.data[o]={});e.data[o].forEach(a=>s[a]=t)}},resolve(){return(this.unresolved||[]).forEach(e=>e()),delete this.unresolved,this},operator(e,t){this.add(e,this.dataflow.add(e.value,t))},transform(e,t){this.add(e,this.dataflow.add(this.transforms[YN(t)]))},stream(e,t){this.set(e.id,t)},update(e,t,n,r,i){this.dataflow.on(t,n,r,i,e.options)},operatorExpression(e){return this.expr.operator(this,e)},parameterExpression(e){return this.expr.parameter(this,e)},eventExpression(e){return this.expr.event(this,e)},handlerExpression(e){return this.expr.handler(this,e)},encodeExpression(e){return this.expr.encode(this,e)},parse:dRe,parseOperator:bRe,parseOperatorParameters:xRe,parseParameters:wRe,parseStream:RRe,parseUpdate:PRe,getState:DRe,setState:MRe};function NRe(e){const t=e.container();t&&(t.setAttribute("role","graphics-document"),t.setAttribute("aria-roleDescription","visualization"),Tre(t,e.description()))}function Tre(e,t){e&&(t==null?e.removeAttribute("aria-label"):e.setAttribute("aria-label",t))}function LRe(e){e.add(null,t=>(e._background=t.bg,e._resize=1,t.bg),{bg:e._signals.background})}const KT="default";function IRe(e){const t=e._signals.cursor||(e._signals.cursor=e.add({user:KT,item:null}));e.on(e.events("view","pointermove"),t,(n,r)=>{const i=t.value,o=i?we(i)?i:i.user:KT,s=r.item&&r.item.cursor||null;return i&&o===i.user&&s==i.item?i:{user:o,item:s}}),e.add(null,function(n){let r=n.cursor,i=this.value;return we(r)||(i=r.item,r=r.user),CR(e,r&&r!==KT?r:i||r),i},{cursor:t})}function CR(e,t){const n=e.globalCursor()?typeof document<"u"&&document.body:e.container();if(n)return t==null?n.style.removeProperty("cursor"):n.style.cursor=t}function dC(e,t){var n=e._runtime.data;return Se(n,t)||ee("Unrecognized data set: "+t),n[t]}function zRe(e,t){return arguments.length<2?dC(this,e).values.value:M_.call(this,e,Qh().remove(xs).insert(t))}function M_(e,t){zQ(t)||ee("Second argument to changes must be a changeset.");const n=dC(this,e);return n.modified=!0,this.pulse(n.input,t)}function jRe(e,t){return M_.call(this,e,Qh().insert(t))}function BRe(e,t){return M_.call(this,e,Qh().remove(t))}function Fre(e){var t=e.padding();return Math.max(0,e._viewWidth+t.left+t.right)}function Rre(e){var t=e.padding();return Math.max(0,e._viewHeight+t.top+t.bottom)}function N_(e){var t=e.padding(),n=e._origin;return[t.left+n[0],t.top+n[1]]}function URe(e){var t=N_(e),n=Fre(e),r=Rre(e);e._renderer.background(e.background()),e._renderer.resize(n,r,t),e._handler.origin(t),e._resizeListeners.forEach(i=>{try{i(n,r)}catch(o){e.error(o)}})}function VRe(e,t,n){var r=e._renderer,i=r&&r.canvas(),o,s,a;return i&&(a=N_(e),s=t.changedTouches?t.changedTouches[0]:t,o=S_(s,i),o[0]-=a[0],o[1]-=a[1]),t.dataflow=e,t.item=n,t.vega=WRe(e,n,o),t}function WRe(e,t,n){const r=t?t.mark.marktype==="group"?t:t.mark.group:null;function i(s){var a=r,l;if(s){for(l=t;l;l=l.mark.group)if(l.mark.name===s){a=l;break}}return a&&a.mark&&a.mark.interactive?a:{}}function o(s){if(!s)return n;we(s)&&(s=i(s));const a=n.slice();for(;s;)a[0]-=s.x||0,a[1]-=s.y||0,s=s.mark&&s.mark.group;return a}return{view:li(e),item:li(t||{}),group:i,xy:o,x:s=>o(s)[0],y:s=>o(s)[1]}}const cU="view",HRe="timer",qRe="window",GRe={trap:!1};function XRe(e){const t=Ze({defaults:{}},e),n=(r,i)=>{i.forEach(o=>{te(r[o])&&(r[o]=ua(r[o]))})};return n(t.defaults,["prevent","allow"]),n(t,["view","window","selector"]),t}function Pre(e,t,n,r){e._eventListeners.push({type:n,sources:xe(t),handler:r})}function YRe(e,t){var n=e._eventConfig.defaults,r=n.prevent,i=n.allow;return r===!1||i===!0?!1:r===!0||i===!1?!0:r?r[t]:i?!i[t]:e.preventDefault()}function qw(e,t,n){const r=e._eventConfig&&e._eventConfig[t];return r===!1||ve(r)&&!r[n]?(e.warn(`Blocked ${t} ${n} event listener.`),!1):!0}function KRe(e,t,n){var r=this,i=new qk(n),o=function(u,c){r.runAsync(null,()=>{e===cU&&YRe(r,t)&&u.preventDefault(),i.receive(VRe(r,u,c))})},s;if(e===HRe)qw(r,"timer",t)&&r.timer(o,t);else if(e===cU)qw(r,"view",t)&&r.addEventListener(t,o,GRe);else if(e===qRe?qw(r,"window",t)&&typeof window<"u"&&(s=[window]):typeof document<"u"&&qw(r,"selector",t)&&(s=Array.from(document.querySelectorAll(e))),!s)r.warn("Can not resolve event source: "+e);else{for(var a=0,l=s.length;a<l;++a)s[a].addEventListener(t,o);Pre(r,s,t,o)}return i}function fU(e){return e.item}function dU(e){return e.item.mark.source}function hU(e){return function(t,n){return n.vega.view().changeset().encode(n.item,e)}}function QRe(e,t){return e=[e||"hover"],t=[t||"update",e[0]],this.on(this.events("view","pointerover",fU),dU,hU(e)),this.on(this.events("view","pointerout",fU),dU,hU(t)),this}function JRe(){var e=this._tooltip,t=this._timers,n=this._handler.handlers(),r=this._eventListeners,i,o,s,a,l;for(i=t.length;--i>=0;)t[i].stop();for(i=r.length;--i>=0;)for(s=r[i],o=s.sources.length;--o>=0;)s.sources[o].removeEventListener(s.type,s.handler);for(e&&e.call(this,this._handler,null,null,null),i=n.length;--i>=0;)l=n[i].type,a=n[i].handler,this._handler.off(l,a);return this}function Fo(e,t,n){const r=document.createElement(e);for(const i in t)r.setAttribute(i,t[i]);return n!=null&&(r.textContent=n),r}const ZRe="vega-bind",ePe="vega-bind-name",tPe="vega-bind-radio";function nPe(e,t,n){if(!t)return;const r=n.param;let i=n.state;return i||(i=n.state={elements:null,active:!1,set:null,update:s=>{s!=e.signal(r.signal)&&e.runAsync(null,()=>{i.source=!0,e.signal(r.signal,s)})}},r.debounce&&(i.update=FD(r.debounce,i.update))),(r.input==null&&r.element?rPe:oPe)(i,t,r,e),i.active||(e.on(e._signals[r.signal],null,()=>{i.source?i.source=!1:i.set(e.signal(r.signal))}),i.active=!0),i}function rPe(e,t,n,r){const i=n.event||"input",o=()=>e.update(t.value);r.signal(n.signal,t.value),t.addEventListener(i,o),Pre(r,t,i,o),e.set=s=>{t.value=s,t.dispatchEvent(iPe(i))}}function iPe(e){return typeof Event<"u"?new Event(e):{type:e}}function oPe(e,t,n,r){const i=r.signal(n.signal),o=Fo("div",{class:ZRe}),s=n.input==="radio"?o:o.appendChild(Fo("label"));s.appendChild(Fo("span",{class:ePe},n.name||n.signal)),t.appendChild(o);let a=sPe;switch(n.input){case"checkbox":a=aPe;break;case"select":a=lPe;break;case"radio":a=uPe;break;case"range":a=cPe;break}a(e,s,n,i)}function sPe(e,t,n,r){const i=Fo("input");for(const o in n)o!=="signal"&&o!=="element"&&i.setAttribute(o==="input"?"type":o,n[o]);i.setAttribute("name",n.signal),i.value=r,t.appendChild(i),i.addEventListener("input",()=>e.update(i.value)),e.elements=[i],e.set=o=>i.value=o}function aPe(e,t,n,r){const i={type:"checkbox",name:n.signal};r&&(i.checked=!0);const o=Fo("input",i);t.appendChild(o),o.addEventListener("change",()=>e.update(o.checked)),e.elements=[o],e.set=s=>o.checked=!!s||null}function lPe(e,t,n,r){const i=Fo("select",{name:n.signal}),o=n.labels||[];n.options.forEach((s,a)=>{const l={value:s};hC(s,r)&&(l.selected=!0),i.appendChild(Fo("option",l,(o[a]||s)+""))}),t.appendChild(i),i.addEventListener("change",()=>{e.update(n.options[i.selectedIndex])}),e.elements=[i],e.set=s=>{for(let a=0,l=n.options.length;a<l;++a)if(hC(n.options[a],s)){i.selectedIndex=a;return}}}function uPe(e,t,n,r){const i=Fo("span",{class:tPe}),o=n.labels||[];t.appendChild(i),e.elements=n.options.map((s,a)=>{const l={type:"radio",name:n.signal,value:s};hC(s,r)&&(l.checked=!0);const u=Fo("input",l);u.addEventListener("change",()=>e.update(s));const c=Fo("label",{},(o[a]||s)+"");return c.prepend(u),i.appendChild(c),u}),e.set=s=>{const a=e.elements,l=a.length;for(let u=0;u<l;++u)hC(a[u].value,s)&&(a[u].checked=!0)}}function cPe(e,t,n,r){r=r!==void 0?r:(+n.max+ +n.min)/2;const i=n.max!=null?n.max:Math.max(100,+r)||100,o=n.min||Math.min(0,i,+r)||0,s=n.step||uf(o,i,100),a=Fo("input",{type:"range",name:n.signal,min:o,max:i,step:s});a.value=r;const l=Fo("span",{},+r);t.appendChild(a),t.appendChild(l);const u=()=>{l.textContent=a.value,e.update(+a.value)};a.addEventListener("input",u),a.addEventListener("change",u),e.elements=[a],e.set=c=>{a.value=c,l.textContent=c}}function hC(e,t){return e===t||e+""==t+""}function Ore(e,t,n,r,i,o){return t=t||new r(e.loader()),t.initialize(n,Fre(e),Rre(e),N_(e),i,o).background(e.background())}function KN(e,t){return t?function(){try{t.apply(this,arguments)}catch(n){e.error(n)}}:null}function fPe(e,t,n,r){const i=new r(e.loader(),KN(e,e.tooltip())).scene(e.scenegraph().root).initialize(n,N_(e),e);return t&&t.handlers().forEach(o=>{i.on(o.type,o.handler)}),i}function dPe(e,t){const n=this,r=n._renderType,i=n._eventConfig.bind,o=E_(r);e=n._el=e?QT(n,e,!0):null,NRe(n),o||n.error("Unrecognized renderer type: "+r);const s=o.handler||lx,a=e?o.renderer:o.headless;return n._renderer=a?Ore(n,n._renderer,e,a):null,n._handler=fPe(n,n._handler,e,s),n._redraw=!0,e&&i!=="none"&&(t=t?n._elBind=QT(n,t,!0):e.appendChild(Fo("form",{class:"vega-bindings"})),n._bind.forEach(l=>{l.param.element&&i!=="container"&&(l.element=QT(n,l.param.element,!!l.param.input))}),n._bind.forEach(l=>{nPe(n,l.element||t,l)})),n}function QT(e,t,n){if(typeof t=="string")if(typeof document<"u"){if(t=document.querySelector(t),!t)return e.error("Signal bind element not found: "+t),null}else return e.error("DOM document instance not found."),null;if(t&&n)try{t.textContent=""}catch(r){t=null,e.error(r)}return t}const Cy=e=>+e||0,hPe=e=>({top:e,bottom:e,left:e,right:e});function pU(e){return ve(e)?{top:Cy(e.top),bottom:Cy(e.bottom),left:Cy(e.left),right:Cy(e.right)}:hPe(Cy(e))}async function QN(e,t,n,r){const i=E_(t),o=i&&i.headless;return o||ee("Unrecognized renderer type: "+t),await e.runAsync(),Ore(e,null,null,o,n,r).renderAsync(e._scenegraph.root)}async function pPe(e,t){e!==Lc.Canvas&&e!==Lc.SVG&&e!==Lc.PNG&&ee("Unrecognized image type: "+e);const n=await QN(this,e,t);return e===Lc.SVG?gPe(n.svg(),"image/svg+xml"):n.canvas().toDataURL("image/png")}function gPe(e,t){const n=new Blob([e],{type:t});return window.URL.createObjectURL(n)}async function mPe(e,t){return(await QN(this,Lc.Canvas,e,t)).canvas()}async function yPe(e){return(await QN(this,Lc.SVG,e)).svg()}function vPe(e,t,n){return $re(e,vm,zv,n).parse(t)}function bPe(e){var t=this._runtime.scales;return Se(t,e)||ee("Unrecognized scale or projection: "+e),t[e].value}var Dre="width",Mre="height",JN="padding",gU={skip:!0};function Nre(e,t){var n=e.autosize(),r=e.padding();return t-(n&&n.contains===JN?r.left+r.right:0)}function Lre(e,t){var n=e.autosize(),r=e.padding();return t-(n&&n.contains===JN?r.top+r.bottom:0)}function xPe(e){var t=e._signals,n=t[Dre],r=t[Mre],i=t[JN];function o(){e._autosize=e._resize=1}e._resizeWidth=e.add(null,a=>{e._width=a.size,e._viewWidth=Nre(e,a.size),o()},{size:n}),e._resizeHeight=e.add(null,a=>{e._height=a.size,e._viewHeight=Lre(e,a.size),o()},{size:r});const s=e.add(null,o,{pad:i});e._resizeWidth.rank=n.rank+1,e._resizeHeight.rank=r.rank+1,s.rank=i.rank+1}function wPe(e,t,n,r,i,o){this.runAfter(s=>{let a=0;s._autosize=0,s.width()!==n&&(a=1,s.signal(Dre,n,gU),s._resizeWidth.skip(!0)),s.height()!==r&&(a=1,s.signal(Mre,r,gU),s._resizeHeight.skip(!0)),s._viewWidth!==e&&(s._resize=1,s._viewWidth=e),s._viewHeight!==t&&(s._resize=1,s._viewHeight=t),(s._origin[0]!==i[0]||s._origin[1]!==i[1])&&(s._resize=1,s._origin=i),a&&s.run("enter"),o&&s.runAfter(l=>l.resize())},!1,1)}function SPe(e){return this._runtime.getState(e||{data:EPe,signals:CPe,recurse:!0})}function EPe(e,t){return t.modified&&te(t.input.value)&&!e.startsWith("_:vega:_")}function CPe(e,t){return!(e==="parent"||t instanceof vm.proxy)}function kPe(e){return this.runAsync(null,t=>{t._trigger=!1,t._runtime.setState(e)},t=>{t._trigger=!0}),this}function _Pe(e,t){function n(r){e({timestamp:Date.now(),elapsed:r})}this._timers.push(r5e(n,t))}function $Pe(e,t,n,r){const i=e.element();i&&i.setAttribute("title",APe(r))}function APe(e){return e==null?"":te(e)?Ire(e):ve(e)&&!qc(e)?TPe(e):e+""}function TPe(e){return Object.keys(e).map(t=>{const n=e[t];return t+": "+(te(n)?Ire(n):zre(n))}).join(`
`)}function Ire(e){return"["+e.map(zre).join(", ")+"]"}function zre(e){return te(e)?"[…]":ve(e)&&!qc(e)?"{…}":e}function FPe(){if(this.renderer()==="canvas"&&this._renderer._canvas){let e=null;const t=()=>{e!=null&&e();const n=matchMedia(`(resolution: ${window.devicePixelRatio}dppx)`);n.addEventListener("change",t),e=()=>{n.removeEventListener("change",t)},this._renderer._canvas.getContext("2d").pixelRatio=window.devicePixelRatio||1,this._redraw=!0,this._resize=1,this.resize().runAsync()};t()}}function jre(e,t){const n=this;if(t=t||{},Ag.call(n),t.loader&&n.loader(t.loader),t.logger&&n.logger(t.logger),t.logLevel!=null&&n.logLevel(t.logLevel),t.locale||e.locale){const o=Ze({},e.locale,t.locale);n.locale(TQ(o.number,o.time))}n._el=null,n._elBind=null,n._renderType=t.renderer||Lc.Canvas,n._scenegraph=new Dee;const r=n._scenegraph.root;n._renderer=null,n._tooltip=t.tooltip||$Pe,n._redraw=!0,n._handler=new lx().scene(r),n._globalCursor=!1,n._preventDefault=!1,n._timers=[],n._eventListeners=[],n._resizeListeners=[],n._eventConfig=XRe(e.eventConfig),n.globalCursor(n._eventConfig.globalCursor);const i=vPe(n,e,t.expr);n._runtime=i,n._signals=i.signals,n._bind=(e.bindings||[]).map(o=>({state:null,param:Ze({},o)})),i.root&&i.root.set(r),r.source=i.data.root.input,n.pulse(i.data.root.input,n.changeset().insert(r.items)),n._width=n.width(),n._height=n.height(),n._viewWidth=Nre(n,n._width),n._viewHeight=Lre(n,n._height),n._origin=[0,0],n._resize=0,n._autosize=1,xPe(n),LRe(n),IRe(n),n.description(e.description),t.hover&&n.hover(),t.container&&n.initialize(t.container,t.bind),t.watchPixelRatio&&n._watchPixelRatio()}function Gw(e,t){return Se(e._signals,t)?e._signals[t]:ee("Unrecognized signal name: "+de(t))}function Bre(e,t){const n=(e._targets||[]).filter(r=>r._update&&r._update.handler===t);return n.length?n[0]:null}function mU(e,t,n,r){let i=Bre(n,r);return i||(i=KN(e,()=>r(t,n.value)),i.handler=r,e.on(n,null,i)),e}function yU(e,t,n){const r=Bre(t,n);return r&&t._targets.remove(r),e}he(jre,Ag,{async evaluate(e,t,n){if(await Ag.prototype.evaluate.call(this,e,t),this._redraw||this._resize)try{this._renderer&&(this._resize&&(this._resize=0,URe(this)),await this._renderer.renderAsync(this._scenegraph.root)),this._redraw=!1}catch(r){this.error(r)}return n&&X2(this,n),this},dirty(e){this._redraw=!0,this._renderer&&this._renderer.dirty(e)},description(e){if(arguments.length){const t=e!=null?e+"":null;return t!==this._desc&&Tre(this._el,this._desc=t),this}return this._desc},container(){return this._el},scenegraph(){return this._scenegraph},origin(){return this._origin.slice()},signal(e,t,n){const r=Gw(this,e);return arguments.length===1?r.value:this.update(r,t,n)},width(e){return arguments.length?this.signal("width",e):this.signal("width")},height(e){return arguments.length?this.signal("height",e):this.signal("height")},padding(e){return arguments.length?this.signal("padding",pU(e)):pU(this.signal("padding"))},autosize(e){return arguments.length?this.signal("autosize",e):this.signal("autosize")},background(e){return arguments.length?this.signal("background",e):this.signal("background")},renderer(e){return arguments.length?(E_(e)||ee("Unrecognized renderer type: "+e),e!==this._renderType&&(this._renderType=e,this._resetRenderer()),this):this._renderType},tooltip(e){return arguments.length?(e!==this._tooltip&&(this._tooltip=e,this._resetRenderer()),this):this._tooltip},loader(e){return arguments.length?(e!==this._loader&&(Ag.prototype.loader.call(this,e),this._resetRenderer()),this):this._loader},resize(){return this._autosize=1,this.touch(Gw(this,"autosize"))},_resetRenderer(){this._renderer&&(this._renderer=null,this.initialize(this._el,this._elBind))},_resizeView:wPe,addEventListener(e,t,n){let r=t;return n&&n.trap===!1||(r=KN(this,t),r.raw=t),this._handler.on(e,r),this},removeEventListener(e,t){for(var n=this._handler.handlers(e),r=n.length,i,o;--r>=0;)if(o=n[r].type,i=n[r].handler,e===o&&(t===i||t===i.raw)){this._handler.off(o,i);break}return this},addResizeListener(e){const t=this._resizeListeners;return t.includes(e)||t.push(e),this},removeResizeListener(e){var t=this._resizeListeners,n=t.indexOf(e);return n>=0&&t.splice(n,1),this},addSignalListener(e,t){return mU(this,e,Gw(this,e),t)},removeSignalListener(e,t){return yU(this,Gw(this,e),t)},addDataListener(e,t){return mU(this,e,dC(this,e).values,t)},removeDataListener(e,t){return yU(this,dC(this,e).values,t)},globalCursor(e){if(arguments.length){if(this._globalCursor!==!!e){const t=CR(this,null);this._globalCursor=!!e,t&&CR(this,t)}return this}else return this._globalCursor},preventDefault(e){return arguments.length?(this._preventDefault=e,this):this._preventDefault},timer:_Pe,events:KRe,finalize:JRe,hover:QRe,data:zRe,change:M_,insert:jRe,remove:BRe,scale:bPe,initialize:dPe,toImageURL:pPe,toCanvas:mPe,toSVG:yPe,getState:SPe,setState:kPe,_watchPixelRatio:FPe});const RPe="view",pC="[",gC="]",Ure="{",Vre="}",PPe=":",Wre=",",OPe="@",DPe=">",MPe=/[[\]{}]/,NPe={"*":1,arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1};let Hre,qre;function Nf(e,t,n){return Hre=t||RPe,qre=n||NPe,Gre(e.trim()).map(kR)}function LPe(e){return qre[e]}function Y1(e,t,n,r,i){const o=e.length;let s=0,a;for(;t<o;++t){if(a=e[t],!s&&a===n)return t;i&&i.indexOf(a)>=0?--s:r&&r.indexOf(a)>=0&&++s}return t}function Gre(e){const t=[],n=e.length;let r=0,i=0;for(;i<n;)i=Y1(e,i,Wre,pC+Ure,gC+Vre),t.push(e.substring(r,i).trim()),r=++i;if(t.length===0)throw"Empty event selector: "+e;return t}function kR(e){return e[0]==="["?IPe(e):zPe(e)}function IPe(e){const t=e.length;let n=1,r;if(n=Y1(e,n,gC,pC,gC),n===t)throw"Empty between selector: "+e;if(r=Gre(e.substring(1,n)),r.length!==2)throw"Between selector must have two elements: "+e;if(e=e.slice(n+1).trim(),e[0]!==DPe)throw"Expected '>' after between selector: "+e;r=r.map(kR);const i=kR(e.slice(1).trim());return i.between?{between:r,stream:i}:(i.between=r,i)}function zPe(e){const t={source:Hre},n=[];let r=[0,0],i=0,o=0,s=e.length,a=0,l,u;if(e[s-1]===Vre){if(a=e.lastIndexOf(Ure),a>=0){try{r=jPe(e.substring(a+1,s-1))}catch{throw"Invalid throttle specification: "+e}e=e.slice(0,a).trim(),s=e.length}else throw"Unmatched right brace: "+e;a=0}if(!s)throw e;if(e[0]===OPe&&(i=++a),l=Y1(e,a,PPe),l<s&&(n.push(e.substring(o,l).trim()),o=a=++l),a=Y1(e,a,pC),a===s)n.push(e.substring(o,s).trim());else if(n.push(e.substring(o,a).trim()),u=[],o=++a,o===s)throw"Unmatched left bracket: "+e;for(;a<s;){if(a=Y1(e,a,gC),a===s)throw"Unmatched left bracket: "+e;if(u.push(e.substring(o,a).trim()),a<s-1&&e[++a]!==pC)throw"Expected left bracket: "+e;o=++a}if(!(s=n.length)||MPe.test(n[s-1]))throw"Invalid event selector: "+e;return s>1?(t.type=n[1],i?t.markname=n[0].slice(1):LPe(n[0])?t.marktype=n[0]:t.source=n[0]):t.type=n[0],t.type.slice(-1)==="!"&&(t.consume=!0,t.type=t.type.slice(0,-1)),u!=null&&(t.filter=u),r[0]&&(t.throttle=r[0]),r[1]&&(t.debounce=r[1]),t}function jPe(e){const t=e.split(Wre);if(!e.length||t.length>2)throw e;return t.map(n=>{const r=+n;if(r!==r)throw e;return r})}function BPe(e){return ve(e)?e:{type:e||"pad"}}const ky=e=>+e||0,UPe=e=>({top:e,bottom:e,left:e,right:e});function VPe(e){return ve(e)?e.signal?e:{top:ky(e.top),bottom:ky(e.bottom),left:ky(e.left),right:ky(e.right)}:UPe(ky(e))}const pr=e=>ve(e)&&!te(e)?Ze({},e):{value:e};function vU(e,t,n,r){return n!=null?(ve(n)&&!te(n)||te(n)&&n.length&&ve(n[0])?e.update[t]=n:e[r||"enter"][t]={value:n},1):0}function Lr(e,t,n){for(const r in t)vU(e,r,t[r]);for(const r in n)vU(e,r,n[r],"update")}function F0(e,t,n){for(const r in t)n&&Se(n,r)||(e[r]=Ze(e[r]||{},t[r]));return e}function Jp(e,t){return t&&(t.enter&&t.enter[e]||t.update&&t.update[e])}const ZN="mark",eL="frame",tL="scope",WPe="axis",HPe="axis-domain",qPe="axis-grid",GPe="axis-label",XPe="axis-tick",YPe="axis-title",KPe="legend",QPe="legend-band",JPe="legend-entry",ZPe="legend-gradient",Xre="legend-label",eOe="legend-symbol",tOe="legend-title",nOe="title",rOe="title-text",iOe="title-subtitle";function oOe(e,t,n,r,i){const o={},s={};let a,l,u,c;l="lineBreak",t==="text"&&i[l]!=null&&!Jp(l,e)&&JT(o,l,i[l]),(n=="legend"||String(n).startsWith("axis"))&&(n=null),c=n===eL?i.group:n===ZN?Ze({},i.mark,i[t]):null;for(l in c)u=Jp(l,e)||(l==="fill"||l==="stroke")&&(Jp("fill",e)||Jp("stroke",e)),u||JT(o,l,c[l]);xe(r).forEach(f=>{const d=i.style&&i.style[f];for(const h in d)Jp(h,e)||JT(o,h,d[h])}),e=Ze({},e);for(l in o)c=o[l],c.signal?(a=a||{})[l]=c:s[l]=c;return e.enter=Ze(s,e.enter),a&&(e.update=Ze(a,e.update)),e}function JT(e,t,n){e[t]=n&&n.signal?{signal:n.signal}:{value:n}}const Yre=e=>we(e)?de(e):e.signal?`(${e.signal})`:Kre(e);function L_(e){if(e.gradient!=null)return aOe(e);let t=e.signal?`(${e.signal})`:e.color?sOe(e.color):e.field!=null?Kre(e.field):e.value!==void 0?de(e.value):void 0;return e.scale!=null&&(t=lOe(e,t)),t===void 0&&(t=null),e.exponent!=null&&(t=`pow(${t},${dS(e.exponent)})`),e.mult!=null&&(t+=`*${dS(e.mult)}`),e.offset!=null&&(t+=`+${dS(e.offset)}`),e.round&&(t=`round(${t})`),t}const Xw=(e,t,n,r)=>`(${e}(${[t,n,r].map(L_).join(",")})+'')`;function sOe(e){return e.c?Xw("hcl",e.h,e.c,e.l):e.h||e.s?Xw("hsl",e.h,e.s,e.l):e.l||e.a?Xw("lab",e.l,e.a,e.b):e.r||e.g||e.b?Xw("rgb",e.r,e.g,e.b):null}function aOe(e){const t=[e.start,e.stop,e.count].map(n=>n==null?null:de(n));for(;t.length&&gt(t)==null;)t.pop();return t.unshift(Yre(e.gradient)),`gradient(${t.join(",")})`}function dS(e){return ve(e)?"("+L_(e)+")":e}function Kre(e){return Qre(ve(e)?e:{datum:e})}function Qre(e){let t,n,r;if(e.signal)t="datum",r=e.signal;else if(e.group||e.parent){for(n=Math.max(1,e.level||1),t="item";n-- >0;)t+=".mark.group";e.parent?(r=e.parent,t+=".datum"):r=e.group}else e.datum?(t="datum",r=e.datum):ee("Invalid field reference: "+de(e));return e.signal||(r=we(r)?Cl(r).map(de).join("]["):Qre(r)),t+"["+r+"]"}function lOe(e,t){const n=Yre(e.scale);return e.range!=null?t=`lerp(_range(${n}), ${+e.range})`:(t!==void 0&&(t=`_scale(${n}, ${t})`),e.band&&(t=(t?t+"+":"")+`_bandwidth(${n})`+(+e.band==1?"":"*"+dS(e.band)),e.extra&&(t=`(datum.extra ? _scale(${n}, datum.extra.value) : ${t})`)),t==null&&(t="0")),t}function uOe(e){let t="";return e.forEach(n=>{const r=L_(n);t+=n.test?`(${n.test})?${r}:`:r}),gt(t)===":"&&(t+="null"),t}function Jre(e,t,n,r,i,o){const s={};o=o||{},o.encoders={$encode:s},e=oOe(e,t,n,r,i.config);for(const a in e)s[a]=cOe(e[a],t,o,i);return o}function cOe(e,t,n,r){const i={},o={};for(const s in e)e[s]!=null&&(i[s]=dOe(fOe(e[s]),r,n,o));return{$expr:{marktype:t,channels:i},$fields:Object.keys(o),$output:Object.keys(e)}}function fOe(e){return te(e)?uOe(e):L_(e)}function dOe(e,t,n,r){const i=bl(e,t);return i.$fields.forEach(o=>r[o]=1),Ze(n,i.$params),i.$expr}const hOe="outer",pOe=["value","update","init","react","bind"];function bU(e,t){ee(e+' for "outer" push: '+de(t))}function Zre(e,t){const n=e.name;if(e.push===hOe)t.signals[n]||bU("No prior signal definition",n),pOe.forEach(r=>{e[r]!==void 0&&bU("Invalid property ",r)});else{const r=t.addSignal(n,e.value);e.react===!1&&(r.react=!1),e.bind&&t.addBinding(n,e.bind)}}function _R(e,t,n,r){this.id=-1,this.type=e,this.value=t,this.params=n,r&&(this.parent=r)}function I_(e,t,n,r){return new _R(e,t,n,r)}function mC(e,t){return I_("operator",e,t)}function Oe(e){const t={$ref:e.id};return e.id<0&&(e.refs=e.refs||[]).push(t),t}function jv(e,t){return t?{$field:e,$name:t}:{$field:e}}const $R=jv("key");function xU(e,t){return{$compare:e,$order:t}}function gOe(e,t){const n={$key:e};return t&&(n.$flat=!0),n}const mOe="ascending",yOe="descending";function vOe(e){return ve(e)?(e.order===yOe?"-":"+")+z_(e.op,e.field):""}function z_(e,t){return(e&&e.signal?"$"+e.signal:e||"")+(e&&t?"_":"")+(t&&t.signal?"$"+t.signal:t||"")}const nL="scope",AR="view";function ir(e){return e&&e.signal}function bOe(e){return e&&e.expr}function hS(e){if(ir(e))return!0;if(ve(e)){for(const t in e)if(hS(e[t]))return!0}return!1}function Vs(e,t){return e??t}function th(e){return e&&e.signal||e}const wU="timer";function Bv(e,t){return(e.merge?wOe:e.stream?SOe:e.type?EOe:ee("Invalid stream specification: "+de(e)))(e,t)}function xOe(e){return e===nL?AR:e||AR}function wOe(e,t){const n=e.merge.map(i=>Bv(i,t)),r=rL({merge:n},e,t);return t.addStream(r).id}function SOe(e,t){const n=Bv(e.stream,t),r=rL({stream:n},e,t);return t.addStream(r).id}function EOe(e,t){let n;e.type===wU?(n=t.event(wU,e.throttle),e={between:e.between,filter:e.filter}):n=t.event(xOe(e.source),e.type);const r=rL({stream:n},e,t);return Object.keys(r).length===1?n:t.addStream(r).id}function rL(e,t,n){let r=t.between;return r&&(r.length!==2&&ee('Stream "between" parameter must have 2 entries: '+de(t)),e.between=[Bv(r[0],n),Bv(r[1],n)]),r=t.filter?[].concat(t.filter):[],(t.marktype||t.markname||t.markrole)&&r.push(COe(t.marktype,t.markname,t.markrole)),t.source===nL&&r.push("inScope(event.item)"),r.length&&(e.filter=bl("("+r.join(")&&(")+")",n).$expr),(r=t.throttle)!=null&&(e.throttle=+r),(r=t.debounce)!=null&&(e.debounce=+r),t.consume&&(e.consume=!0),e}function COe(e,t,n){const r="event.item";return r+(e&&e!=="*"?"&&"+r+".mark.marktype==='"+e+"'":"")+(n?"&&"+r+".mark.role==='"+n+"'":"")+(t?"&&"+r+".mark.name==='"+t+"'":"")}const kOe={code:"_.$value",ast:{type:"Identifier",value:"value"}};function _Oe(e,t,n){const r=e.encode,i={target:n};let o=e.events,s=e.update,a=[];o||ee("Signal update missing events specification."),we(o)&&(o=Nf(o,t.isSubscope()?nL:AR)),o=xe(o).filter(l=>l.signal||l.scale?(a.push(l),0):1),a.length>1&&(a=[AOe(a)]),o.length&&a.push(o.length>1?{merge:o}:o[0]),r!=null&&(s&&ee("Signal encode and update are mutually exclusive."),s="encode(item(),"+de(r)+")"),i.update=we(s)?bl(s,t):s.expr!=null?bl(s.expr,t):s.value!=null?s.value:s.signal!=null?{$expr:kOe,$params:{$value:t.signalRef(s.signal)}}:ee("Invalid signal update specification."),e.force&&(i.options={force:!0}),a.forEach(l=>t.addUpdate(Ze($Oe(l,t),i)))}function $Oe(e,t){return{source:e.signal?t.signalRef(e.signal):e.scale?t.scaleRef(e.scale):Bv(e,t)}}function AOe(e){return{signal:"["+e.map(t=>t.scale?'scale("'+t.scale+'")':t.signal)+"]"}}function TOe(e,t){const n=t.getSignal(e.name);let r=e.update;e.init&&(r?ee("Signals can not include both init and update expressions."):(r=e.init,n.initonly=!0)),r&&(r=bl(r,t),n.update=r.$expr,n.params=r.$params),e.on&&e.on.forEach(i=>_Oe(i,t,n.id))}const Gt=e=>(t,n,r)=>I_(e,n,t||void 0,r),eie=Gt("aggregate"),FOe=Gt("axisticks"),tie=Gt("bound"),xa=Gt("collect"),SU=Gt("compare"),ROe=Gt("datajoin"),nie=Gt("encode"),POe=Gt("expression"),OOe=Gt("facet"),DOe=Gt("field"),MOe=Gt("key"),NOe=Gt("legendentries"),LOe=Gt("load"),IOe=Gt("mark"),zOe=Gt("multiextent"),jOe=Gt("multivalues"),BOe=Gt("overlap"),UOe=Gt("params"),rie=Gt("prefacet"),VOe=Gt("projection"),WOe=Gt("proxy"),HOe=Gt("relay"),iie=Gt("render"),qOe=Gt("scale"),tp=Gt("sieve"),GOe=Gt("sortitems"),oie=Gt("viewlayout"),XOe=Gt("values");let YOe=0;const sie={min:"min",max:"max",count:"sum"};function KOe(e,t){const n=e.type||"linear";qZ(n)||ee("Unrecognized scale type: "+de(n)),t.addScale(e.name,{type:n,domain:void 0})}function QOe(e,t){const n=t.getScale(e.name).params;let r;n.domain=aie(e.domain,e,t),e.range!=null&&(n.range=uie(e,t,n)),e.interpolate!=null&&aDe(e.interpolate,n),e.nice!=null&&(n.nice=sDe(e.nice,t)),e.bins!=null&&(n.bins=oDe(e.bins,t));for(r in e)Se(n,r)||r==="name"||(n[r]=ds(e[r],t))}function ds(e,t){return ve(e)?e.signal?t.signalRef(e.signal):ee("Unsupported object: "+de(e)):e}function pS(e,t){return e.signal?t.signalRef(e.signal):e.map(n=>ds(n,t))}function j_(e){ee("Can not find data set: "+de(e))}function aie(e,t,n){if(!e){(t.domainMin!=null||t.domainMax!=null)&&ee("No scale domain defined for domainMin/domainMax to override.");return}return e.signal?n.signalRef(e.signal):(te(e)?JOe:e.fields?eDe:ZOe)(e,t,n)}function JOe(e,t,n){return e.map(r=>ds(r,n))}function ZOe(e,t,n){const r=n.getData(e.data);return r||j_(e.data),Em(t.type)?r.valuesRef(n,e.field,lie(e.sort,!1)):YZ(t.type)?r.domainRef(n,e.field):r.extentRef(n,e.field)}function eDe(e,t,n){const r=e.data,i=e.fields.reduce((o,s)=>(s=we(s)?{data:r,field:s}:te(s)||s.signal?tDe(s,n):s,o.push(s),o),[]);return(Em(t.type)?nDe:YZ(t.type)?rDe:iDe)(e,n,i)}function tDe(e,t){const n="_:vega:_"+YOe++,r=xa({});if(te(e))r.value={$ingest:e};else if(e.signal){const i="setdata("+de(n)+","+e.signal+")";r.params.input=t.signalRef(i)}return t.addDataPipeline(n,[r,tp({})]),{data:n,field:"data"}}function nDe(e,t,n){const r=lie(e.sort,!0);let i,o;const s=n.map(u=>{const c=t.getData(u.data);return c||j_(u.data),c.countsRef(t,u.field,r)}),a={groupby:$R,pulse:s};r&&(i=r.op||"count",o=r.field?z_(i,r.field):"count",a.ops=[sie[i]],a.fields=[t.fieldRef(o)],a.as=[o]),i=t.add(eie(a));const l=t.add(xa({pulse:Oe(i)}));return o=t.add(XOe({field:$R,sort:t.sortRef(r),pulse:Oe(l)})),Oe(o)}function lie(e,t){return e&&(!e.field&&!e.op?ve(e)?e.field="key":e={field:"key"}:!e.field&&e.op!=="count"?ee("No field provided for sort aggregate op: "+e.op):t&&e.field&&e.op&&!sie[e.op]&&ee("Multiple domain scales can not be sorted using "+e.op)),e}function rDe(e,t,n){const r=n.map(i=>{const o=t.getData(i.data);return o||j_(i.data),o.domainRef(t,i.field)});return Oe(t.add(jOe({values:r})))}function iDe(e,t,n){const r=n.map(i=>{const o=t.getData(i.data);return o||j_(i.data),o.extentRef(t,i.field)});return Oe(t.add(zOe({extents:r})))}function oDe(e,t){return e.signal||te(e)?pS(e,t):t.objectProperty(e)}function sDe(e,t){return e.signal?t.signalRef(e.signal):ve(e)?{interval:ds(e.interval),step:ds(e.step)}:ds(e)}function aDe(e,t){t.interpolate=ds(e.type||e),e.gamma!=null&&(t.interpolateGamma=ds(e.gamma))}function uie(e,t,n){const r=t.config.range;let i=e.range;if(i.signal)return t.signalRef(i.signal);if(we(i)){if(r&&Se(r,i))return e=Ze({},e,{range:r[i]}),uie(e,t,n);i==="width"?i=[0,{signal:"width"}]:i==="height"?i=Em(e.type)?[0,{signal:"height"}]:[{signal:"height"},0]:ee("Unrecognized scale range value: "+de(i))}else if(i.scheme){n.scheme=te(i.scheme)?pS(i.scheme,t):ds(i.scheme,t),i.extent&&(n.schemeExtent=pS(i.extent,t)),i.count&&(n.schemeCount=ds(i.count,t));return}else if(i.step){n.rangeStep=ds(i.step,t);return}else{if(Em(e.type)&&!te(i))return aie(i,e,t);te(i)||ee("Unsupported range type: "+de(i))}return i.map(o=>(te(o)?pS:ds)(o,t))}function lDe(e,t){const n=t.config.projection||{},r={};for(const i in e)i!=="name"&&(r[i]=TR(e[i],i,t));for(const i in n)r[i]==null&&(r[i]=TR(n[i],i,t));t.addProjection(e.name,r)}function TR(e,t,n){return te(e)?e.map(r=>TR(r,t,n)):ve(e)?e.signal?n.signalRef(e.signal):t==="fit"?e:ee("Unsupported parameter object: "+de(e)):e}const wa="top",R0="left",P0="right",yf="bottom",cie="center",uDe="vertical",cDe="start",fDe="middle",dDe="end",FR="index",iL="label",hDe="offset",Pm="perc",pDe="perc2",ms="value",yx="guide-label",oL="guide-title",gDe="group-title",mDe="group-subtitle",EU="symbol",gS="gradient",RR="discrete",PR="size",yDe="shape",vDe="fill",bDe="stroke",xDe="strokeWidth",wDe="strokeDash",SDe="opacity",sL=[PR,yDe,vDe,bDe,xDe,wDe,SDe],vx={name:1,style:1,interactive:1},yt={value:0},ys={value:1},B_="group",fie="rect",aL="rule",EDe="symbol",np="text";function Uv(e){return e.type=B_,e.interactive=e.interactive||!1,e}function mo(e,t){const n=(r,i)=>Vs(e[r],Vs(t[r],i));return n.isVertical=r=>uDe===Vs(e.direction,t.direction||(r?t.symbolDirection:t.gradientDirection)),n.gradientLength=()=>Vs(e.gradientLength,t.gradientLength||t.gradientWidth),n.gradientThickness=()=>Vs(e.gradientThickness,t.gradientThickness||t.gradientHeight),n.entryColumns=()=>Vs(e.columns,Vs(t.columns,+n.isVertical(!0))),n}function die(e,t){const n=t&&(t.update&&t.update[e]||t.enter&&t.enter[e]);return n&&n.signal?n:n?n.value:null}function CDe(e,t,n){const r=t.config.style[n];return r&&r[e]}function U_(e,t,n){return`item.anchor === '${cDe}' ? ${e} : item.anchor === '${dDe}' ? ${t} : ${n}`}const lL=U_(de(R0),de(P0),de(cie));function kDe(e){const t=e("tickBand");let n=e("tickOffset"),r,i;return t?t.signal?(r={signal:`(${t.signal}) === 'extent' ? 1 : 0.5`},i={signal:`(${t.signal}) === 'extent'`},ve(n)||(n={signal:`(${t.signal}) === 'extent' ? 0 : ${n}`})):t==="extent"?(r=1,i=!0,n=0):(r=.5,i=!1):(r=e("bandPosition"),i=e("tickExtra")),{extra:i,band:r,offset:n}}function hie(e,t){return t?e?ve(e)?Object.assign({},e,{offset:hie(e.offset,t)}):{value:e,offset:t}:t:e}function zo(e,t){return t?(e.name=t.name,e.style=t.style||e.style,e.interactive=!!t.interactive,e.encode=F0(e.encode,t,vx)):e.interactive=!1,e}function _De(e,t,n,r){const i=mo(e,n),o=i.isVertical(),s=i.gradientThickness(),a=i.gradientLength();let l,u,c,f,d;o?(u=[0,1],c=[0,0],f=s,d=a):(u=[0,0],c=[1,0],f=a,d=s);const h={enter:l={opacity:yt,x:yt,y:yt,width:pr(f),height:pr(d)},update:Ze({},l,{opacity:ys,fill:{gradient:t,start:u,stop:c}}),exit:{opacity:yt}};return Lr(h,{stroke:i("gradientStrokeColor"),strokeWidth:i("gradientStrokeWidth")},{opacity:i("gradientOpacity")}),zo({type:fie,role:ZPe,encode:h},r)}function $De(e,t,n,r,i){const o=mo(e,n),s=o.isVertical(),a=o.gradientThickness(),l=o.gradientLength();let u,c,f,d,h="";s?(u="y",f="y2",c="x",d="width",h="1-"):(u="x",f="x2",c="y",d="height");const p={opacity:yt,fill:{scale:t,field:ms}};p[u]={signal:h+"datum."+Pm,mult:l},p[c]=yt,p[f]={signal:h+"datum."+pDe,mult:l},p[d]=pr(a);const g={enter:p,update:Ze({},p,{opacity:ys}),exit:{opacity:yt}};return Lr(g,{stroke:o("gradientStrokeColor"),strokeWidth:o("gradientStrokeWidth")},{opacity:o("gradientOpacity")}),zo({type:fie,role:QPe,key:ms,from:i,encode:g},r)}const ADe=`datum.${Pm}<=0?"${R0}":datum.${Pm}>=1?"${P0}":"${cie}"`,TDe=`datum.${Pm}<=0?"${yf}":datum.${Pm}>=1?"${wa}":"${fDe}"`;function CU(e,t,n,r){const i=mo(e,t),o=i.isVertical(),s=pr(i.gradientThickness()),a=i.gradientLength();let l=i("labelOverlap"),u,c,f,d,h="";const p={enter:u={opacity:yt},update:c={opacity:ys,text:{field:iL}},exit:{opacity:yt}};return Lr(p,{fill:i("labelColor"),fillOpacity:i("labelOpacity"),font:i("labelFont"),fontSize:i("labelFontSize"),fontStyle:i("labelFontStyle"),fontWeight:i("labelFontWeight"),limit:Vs(e.labelLimit,t.gradientLabelLimit)}),o?(u.align={value:"left"},u.baseline=c.baseline={signal:TDe},f="y",d="x",h="1-"):(u.align=c.align={signal:ADe},u.baseline={value:"top"},f="x",d="y"),u[f]=c[f]={signal:h+"datum."+Pm,mult:a},u[d]=c[d]=s,s.offset=Vs(e.labelOffset,t.gradientLabelOffset)||0,l=l?{separation:i("labelSeparation"),method:l,order:"datum."+FR}:void 0,zo({type:np,role:Xre,style:yx,key:ms,from:r,encode:p,overlap:l},n)}function FDe(e,t,n,r,i){const o=mo(e,t),s=n.entries,a=!!(s&&s.interactive),l=s?s.name:void 0,u=o("clipHeight"),c=o("symbolOffset"),f={data:"value"},d=`(${i}) ? datum.${hDe} : datum.${PR}`,h=u?pr(u):{field:PR},p=`datum.${FR}`,g=`max(1, ${i})`;let m,y,v,b,x;h.mult=.5,m={enter:y={opacity:yt,x:{signal:d,mult:.5,offset:c},y:h},update:v={opacity:ys,x:y.x,y:y.y},exit:{opacity:yt}};let w=null,C=null;e.fill||(w=t.symbolBaseFillColor,C=t.symbolBaseStrokeColor),Lr(m,{fill:o("symbolFillColor",w),shape:o("symbolType"),size:o("symbolSize"),stroke:o("symbolStrokeColor",C),strokeDash:o("symbolDash"),strokeDashOffset:o("symbolDashOffset"),strokeWidth:o("symbolStrokeWidth")},{opacity:o("symbolOpacity")}),sL.forEach(R=>{e[R]&&(v[R]=y[R]={scale:e[R],field:ms})});const S=zo({type:EDe,role:eOe,key:ms,from:f,clip:u?!0:void 0,encode:m},n.symbols),k=pr(c);k.offset=o("labelOffset"),m={enter:y={opacity:yt,x:{signal:d,offset:k},y:h},update:v={opacity:ys,text:{field:iL},x:y.x,y:y.y},exit:{opacity:yt}},Lr(m,{align:o("labelAlign"),baseline:o("labelBaseline"),fill:o("labelColor"),fillOpacity:o("labelOpacity"),font:o("labelFont"),fontSize:o("labelFontSize"),fontStyle:o("labelFontStyle"),fontWeight:o("labelFontWeight"),limit:o("labelLimit")});const $=zo({type:np,role:Xre,style:yx,key:ms,from:f,encode:m},n.labels);return m={enter:{noBound:{value:!u},width:yt,height:u?pr(u):yt,opacity:yt},exit:{opacity:yt},update:v={opacity:ys,row:{signal:null},column:{signal:null}}},o.isVertical(!0)?(b=`ceil(item.mark.items.length / ${g})`,v.row.signal=`${p}%${b}`,v.column.signal=`floor(${p} / ${b})`,x={field:["row",p]}):(v.row.signal=`floor(${p} / ${g})`,v.column.signal=`${p} % ${g}`,x={field:p}),v.column.signal=`(${i})?${v.column.signal}:${p}`,r={facet:{data:r,name:"value",groupby:FR}},Uv({role:tL,from:r,encode:F0(m,s,vx),marks:[S,$],name:l,interactive:a,sort:x})}function RDe(e,t){const n=mo(e,t);return{align:n("gridAlign"),columns:n.entryColumns(),center:{row:!0,column:!1},padding:{row:n("rowPadding"),column:n("columnPadding")}}}const uL='item.orient === "left"',cL='item.orient === "right"',V_=`(${uL} || ${cL})`,PDe=`datum.vgrad && ${V_}`,ODe=U_('"top"','"bottom"','"middle"'),DDe=U_('"right"','"left"','"center"'),MDe=`datum.vgrad && ${cL} ? (${DDe}) : (${V_} && !(datum.vgrad && ${uL})) ? "left" : ${lL}`,NDe=`item._anchor || (${V_} ? "middle" : "start")`,LDe=`${PDe} ? (${uL} ? -90 : 90) : 0`,IDe=`${V_} ? (datum.vgrad ? (${cL} ? "bottom" : "top") : ${ODe}) : "top"`;function zDe(e,t,n,r){const i=mo(e,t),o={enter:{opacity:yt},update:{opacity:ys,x:{field:{group:"padding"}},y:{field:{group:"padding"}}},exit:{opacity:yt}};return Lr(o,{orient:i("titleOrient"),_anchor:i("titleAnchor"),anchor:{signal:NDe},angle:{signal:LDe},align:{signal:MDe},baseline:{signal:IDe},text:e.title,fill:i("titleColor"),fillOpacity:i("titleOpacity"),font:i("titleFont"),fontSize:i("titleFontSize"),fontStyle:i("titleFontStyle"),fontWeight:i("titleFontWeight"),limit:i("titleLimit"),lineHeight:i("titleLineHeight")},{align:i("titleAlign"),baseline:i("titleBaseline")}),zo({type:np,role:tOe,style:oL,from:r,encode:o},n)}function jDe(e,t){let n;return ve(e)&&(e.signal?n=e.signal:e.path?n="pathShape("+kU(e.path)+")":e.sphere&&(n="geoShape("+kU(e.sphere)+', {type: "Sphere"})')),n?t.signalRef(n):!!e}function kU(e){return ve(e)&&e.signal?e.signal:de(e)}function pie(e){const t=e.role||"";return t.startsWith("axis")||t.startsWith("legend")||t.startsWith("title")?t:e.type===B_?tL:t||ZN}function BDe(e){return{marktype:e.type,name:e.name||void 0,role:e.role||pie(e),zindex:+e.zindex||void 0,aria:e.aria,description:e.description}}function UDe(e,t){return e&&e.signal?t.signalRef(e.signal):e!==!1}function fL(e,t){const n=UQ(e.type);n||ee("Unrecognized transform type: "+de(e.type));const r=I_(n.type.toLowerCase(),null,gie(n,e,t));return e.signal&&t.addSignal(e.signal,t.proxy(r)),r.metadata=n.metadata||{},r}function gie(e,t,n){const r={},i=e.params.length;for(let o=0;o<i;++o){const s=e.params[o];r[s.name]=VDe(s,t,n)}return r}function VDe(e,t,n){const r=e.type,i=t[e.name];if(r==="index")return WDe(e,t,n);if(i===void 0){e.required&&ee("Missing required "+de(t.type)+" parameter: "+de(e.name));return}else{if(r==="param")return HDe(e,t,n);if(r==="projection")return n.projectionRef(t[e.name])}return e.array&&!ir(i)?i.map(o=>_U(e,o,n)):_U(e,i,n)}function _U(e,t,n){const r=e.type;if(ir(t))return AU(r)?ee("Expression references can not be signals."):ZT(r)?n.fieldRef(t):TU(r)?n.compareRef(t):n.signalRef(t.signal);{const i=e.expr||ZT(r);return i&&qDe(t)?n.exprRef(t.expr,t.as):i&&GDe(t)?jv(t.field,t.as):AU(r)?bl(t,n):XDe(r)?Oe(n.getData(t).values):ZT(r)?jv(t):TU(r)?n.compareRef(t):t}}function WDe(e,t,n){return we(t.from)||ee('Lookup "from" parameter must be a string literal.'),n.getData(t.from).lookupRef(n,t.key)}function HDe(e,t,n){const r=t[e.name];return e.array?(te(r)||ee("Expected an array of sub-parameters. Instead: "+de(r)),r.map(i=>$U(e,i,n))):$U(e,r,n)}function $U(e,t,n){const r=e.params.length;let i;for(let s=0;s<r;++s){i=e.params[s];for(const a in i.key)if(i.key[a]!==t[a]){i=null;break}if(i)break}i||ee("Unsupported parameter: "+de(t));const o=Ze(gie(i,t,n),i.key);return Oe(n.add(UOe(o)))}const qDe=e=>e&&e.expr,GDe=e=>e&&e.field,XDe=e=>e==="data",AU=e=>e==="expr",ZT=e=>e==="field",TU=e=>e==="compare";function YDe(e,t,n){let r,i,o,s,a;return e?(r=e.facet)&&(t||ee("Only group marks can be faceted."),r.field!=null?s=a=mS(r,n):(e.data?a=Oe(n.getData(e.data).aggregate):(o=fL(Ze({type:"aggregate",groupby:xe(r.groupby)},r.aggregate),n),o.params.key=n.keyRef(r.groupby),o.params.pulse=mS(r,n),s=a=Oe(n.add(o))),i=n.keyRef(r.groupby,!0))):s=Oe(n.add(xa(null,[{}]))),s||(s=mS(e,n)),{key:i,pulse:s,parent:a}}function mS(e,t){return e.$ref?e:e.data&&e.data.$ref?e.data:Oe(t.getData(e.data).output)}function _h(e,t,n,r,i){this.scope=e,this.input=t,this.output=n,this.values=r,this.aggregate=i,this.index={}}_h.fromEntries=function(e,t){const n=t.length,r=t[n-1],i=t[n-2];let o=t[0],s=null,a=1;for(o&&o.type==="load"&&(o=t[1]),e.add(t[0]);a<n;++a)t[a].params.pulse=Oe(t[a-1]),e.add(t[a]),t[a].type==="aggregate"&&(s=t[a]);return new _h(e,o,i,r,s)};function mie(e){return we(e)?e:null}function FU(e,t,n){const r=z_(n.op,n.field);let i;if(t.ops){for(let o=0,s=t.as.length;o<s;++o)if(t.as[o]===r)return}else t.ops=["count"],t.fields=[null],t.as=["count"];n.op&&(t.ops.push((i=n.op.signal)?e.signalRef(i):n.op),t.fields.push(e.fieldRef(n.field)),t.as.push(r))}function _y(e,t,n,r,i,o,s){const a=t[n]||(t[n]={}),l=vOe(o);let u=mie(i),c,f;if(u!=null&&(e=t.scope,u=u+(l?"|"+l:""),c=a[u]),!c){const d=o?{field:$R,pulse:t.countsRef(e,i,o)}:{field:e.fieldRef(i),pulse:Oe(t.output)};l&&(d.sort=e.sortRef(o)),f=e.add(I_(r,void 0,d)),s&&(t.index[i]=f),c=Oe(f),u!=null&&(a[u]=c)}return c}_h.prototype={countsRef(e,t,n){const r=this,i=r.counts||(r.counts={}),o=mie(t);let s,a,l;return o!=null&&(e=r.scope,s=i[o]),s?n&&n.field&&FU(e,s.agg.params,n):(l={groupby:e.fieldRef(t,"key"),pulse:Oe(r.output)},n&&n.field&&FU(e,l,n),a=e.add(eie(l)),s=e.add(xa({pulse:Oe(a)})),s={agg:a,ref:Oe(s)},o!=null&&(i[o]=s)),s.ref},tuplesRef(){return Oe(this.values)},extentRef(e,t){return _y(e,this,"extent","extent",t,!1)},domainRef(e,t){return _y(e,this,"domain","values",t,!1)},valuesRef(e,t,n){return _y(e,this,"vals","values",t,n||!0)},lookupRef(e,t){return _y(e,this,"lookup","tupleindex",t,!1)},indataRef(e,t){return _y(e,this,"indata","tupleindex",t,!0,!0)}};function KDe(e,t,n){const r=e.from.facet,i=r.name,o=mS(r,t);let s;r.name||ee("Facet must have a name: "+de(r)),r.data||ee("Facet must reference a data set: "+de(r)),r.field?s=t.add(rie({field:t.fieldRef(r.field),pulse:o})):r.groupby?s=t.add(OOe({key:t.keyRef(r.groupby),group:Oe(t.proxy(n.parent)),pulse:o})):ee("Facet must specify groupby or field: "+de(r));const a=t.fork(),l=a.add(xa()),u=a.add(tp({pulse:Oe(l)}));a.addData(i,new _h(a,l,l,u)),a.addSignal("parent",null),s.params.subflow={$subflow:a.parse(e).toRuntime()}}function QDe(e,t,n){const r=t.add(rie({pulse:n.pulse})),i=t.fork();i.add(tp()),i.addSignal("parent",null),r.params.subflow={$subflow:i.parse(e).toRuntime()}}function yie(e,t,n){const r=e.remove,i=e.insert,o=e.toggle,s=e.modify,a=e.values,l=t.add(mC()),u="if("+e.trigger+',modify("'+n+'",'+[i,r,o,s,a].map(f=>f??"null").join(",")+"),0)",c=bl(u,t);l.update=c.$expr,l.params=c.$params}function W_(e,t){const n=pie(e),r=e.type===B_,i=e.from&&e.from.facet,o=e.overlap;let s=e.layout||n===tL||n===eL,a,l,u,c,f,d,h;const p=n===ZN||s||i,g=YDe(e.from,r,t);l=t.add(ROe({key:g.key||(e.key?jv(e.key):void 0),pulse:g.pulse,clean:!r}));const m=Oe(l);l=u=t.add(xa({pulse:m})),l=t.add(IOe({markdef:BDe(e),interactive:UDe(e.interactive,t),clip:jDe(e.clip,t),context:{$context:!0},groups:t.lookup(),parent:t.signals.parent?t.signalRef("parent"):null,index:t.markpath(),pulse:Oe(l)}));const y=Oe(l);l=c=t.add(nie(Jre(e.encode,e.type,n,e.style,t,{mod:!1,pulse:y}))),l.params.parent=t.encode(),e.transform&&e.transform.forEach(C=>{const S=fL(C,t),k=S.metadata;(k.generates||k.changes)&&ee("Mark transforms should not generate new data."),k.nomod||(c.params.mod=!0),S.params.pulse=Oe(l),t.add(l=S)}),e.sort&&(l=t.add(GOe({sort:t.compareRef(e.sort),pulse:Oe(l)})));const v=Oe(l);(i||s)&&(s=t.add(oie({layout:t.objectProperty(e.layout),legends:t.legends,mark:y,pulse:v})),d=Oe(s));const b=t.add(tie({mark:y,pulse:d||v}));h=Oe(b),r&&(p&&(a=t.operators,a.pop(),s&&a.pop()),t.pushState(v,d||h,m),i?KDe(e,t,g):p?QDe(e,t,g):t.parse(e),t.popState(),p&&(s&&a.push(s),a.push(b))),o&&(h=JDe(o,h,t));const x=t.add(iie({pulse:h})),w=t.add(tp({pulse:Oe(x)},void 0,t.parent()));e.name!=null&&(f=e.name,t.addData(f,new _h(t,u,x,w)),e.on&&e.on.forEach(C=>{(C.insert||C.remove||C.toggle)&&ee("Marks only support modify triggers."),yie(C,t,f)}))}function JDe(e,t,n){const r=e.method,i=e.bound,o=e.separation,s={separation:ir(o)?n.signalRef(o.signal):o,method:ir(r)?n.signalRef(r.signal):r,pulse:t};if(e.order&&(s.sort=n.compareRef({field:e.order})),i){const a=i.tolerance;s.boundTolerance=ir(a)?n.signalRef(a.signal):+a,s.boundScale=n.scaleRef(i.scale),s.boundOrient=i.orient}return Oe(n.add(BOe(s)))}function ZDe(e,t){const n=t.config.legend,r=e.encode||{},i=mo(e,n),o=r.legend||{},s=o.name||void 0,a=o.interactive,l=o.style,u={};let c=0,f,d,h;sL.forEach(b=>e[b]?(u[b]=e[b],c=c||e[b]):0),c||ee("Missing valid scale for legend.");const p=eMe(e,t.scaleType(c)),g={title:e.title!=null,scales:u,type:p,vgrad:p!=="symbol"&&i.isVertical()},m=Oe(t.add(xa(null,[g]))),y={enter:{x:{value:0},y:{value:0}}},v=Oe(t.add(NOe(d={type:p,scale:t.scaleRef(c),count:t.objectProperty(i("tickCount")),limit:t.property(i("symbolLimit")),values:t.objectProperty(e.values),minstep:t.property(e.tickMinStep),formatType:t.property(e.formatType),formatSpecifier:t.property(e.format)})));return p===gS?(h=[_De(e,c,n,r.gradient),CU(e,n,r.labels,v)],d.count=d.count||t.signalRef(`max(2,2*floor((${th(i.gradientLength())})/100))`)):p===RR?h=[$De(e,c,n,r.gradient,v),CU(e,n,r.labels,v)]:(f=RDe(e,n),h=[FDe(e,n,r,v,th(f.columns))],d.size=rMe(e,t,h[0].marks)),h=[Uv({role:JPe,from:m,encode:y,marks:h,layout:f,interactive:a})],g.title&&h.push(zDe(e,n,r.title,m)),W_(Uv({role:KPe,from:m,encode:F0(nMe(i,e,n),o,vx),marks:h,aria:i("aria"),description:i("description"),zindex:i("zindex"),name:s,interactive:a,style:l}),t)}function eMe(e,t){let n=e.type||EU;return!e.type&&tMe(e)===1&&(e.fill||e.stroke)&&(n=c6(t)?gS:EF(t)?RR:EU),n!==gS?n:EF(t)?RR:gS}function tMe(e){return sL.reduce((t,n)=>t+(e[n]?1:0),0)}function nMe(e,t,n){const r={enter:{},update:{}};return Lr(r,{orient:e("orient"),offset:e("offset"),padding:e("padding"),titlePadding:e("titlePadding"),cornerRadius:e("cornerRadius"),fill:e("fillColor"),stroke:e("strokeColor"),strokeWidth:n.strokeWidth,strokeDash:n.strokeDash,x:e("legendX"),y:e("legendY"),format:t.format,formatType:t.formatType}),r}function rMe(e,t,n){const r=th(RU("size",e,n)),i=th(RU("strokeWidth",e,n)),o=th(iMe(n[1].encode,t,yx));return bl(`max(ceil(sqrt(${r})+${i}),${o})`,t)}function RU(e,t,n){return t[e]?`scale("${t[e]}",datum)`:die(e,n[0].encode)}function iMe(e,t,n){return die("fontSize",e)||CDe("fontSize",t,n)}const oMe=`item.orient==="${R0}"?-90:item.orient==="${P0}"?90:0`;function sMe(e,t){e=we(e)?{text:e}:e;const n=mo(e,t.config.title),r=e.encode||{},i=r.group||{},o=i.name||void 0,s=i.interactive,a=i.style,l=[],u={},c=Oe(t.add(xa(null,[u])));return l.push(uMe(e,n,aMe(e),c)),e.subtitle&&l.push(cMe(e,n,r.subtitle,c)),W_(Uv({role:nOe,from:c,encode:lMe(n,i),marks:l,aria:n("aria"),description:n("description"),zindex:n("zindex"),name:o,interactive:s,style:a}),t)}function aMe(e){const t=e.encode;return t&&t.title||Ze({name:e.name,interactive:e.interactive,style:e.style},t)}function lMe(e,t){const n={enter:{},update:{}};return Lr(n,{orient:e("orient"),anchor:e("anchor"),align:{signal:lL},angle:{signal:oMe},limit:e("limit"),frame:e("frame"),offset:e("offset")||0,padding:e("subtitlePadding")}),F0(n,t,vx)}function uMe(e,t,n,r){const i={value:0},o=e.text,s={enter:{opacity:i},update:{opacity:{value:1}},exit:{opacity:i}};return Lr(s,{text:o,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:t("dx"),dy:t("dy"),fill:t("color"),font:t("font"),fontSize:t("fontSize"),fontStyle:t("fontStyle"),fontWeight:t("fontWeight"),lineHeight:t("lineHeight")},{align:t("align"),angle:t("angle"),baseline:t("baseline")}),zo({type:np,role:rOe,style:gDe,from:r,encode:s},n)}function cMe(e,t,n,r){const i={value:0},o=e.subtitle,s={enter:{opacity:i},update:{opacity:{value:1}},exit:{opacity:i}};return Lr(s,{text:o,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:t("dx"),dy:t("dy"),fill:t("subtitleColor"),font:t("subtitleFont"),fontSize:t("subtitleFontSize"),fontStyle:t("subtitleFontStyle"),fontWeight:t("subtitleFontWeight"),lineHeight:t("subtitleLineHeight")},{align:t("align"),angle:t("angle"),baseline:t("baseline")}),zo({type:np,role:iOe,style:mDe,from:r,encode:s},n)}function fMe(e,t){const n=[];e.transform&&e.transform.forEach(r=>{n.push(fL(r,t))}),e.on&&e.on.forEach(r=>{yie(r,t,e.name)}),t.addDataPipeline(e.name,dMe(e,t,n))}function dMe(e,t,n){const r=[];let i=null,o=!1,s=!1,a,l,u,c,f;for(e.values?ir(e.values)||hS(e.format)?(r.push(PU(t,e)),r.push(i=od())):r.push(i=od({$ingest:e.values,$format:e.format})):e.url?hS(e.url)||hS(e.format)?(r.push(PU(t,e)),r.push(i=od())):r.push(i=od({$request:e.url,$format:e.format})):e.source&&(i=a=xe(e.source).map(d=>Oe(t.getData(d).output)),r.push(null)),l=0,u=n.length;l<u;++l)c=n[l],f=c.metadata,!i&&!f.source&&r.push(i=od()),r.push(c),f.generates&&(s=!0),f.modifies&&!s&&(o=!0),f.source?i=c:f.changes&&(i=null);return a&&(u=a.length-1,r[0]=HOe({derive:o,pulse:u?a:a[0]}),(o||u)&&r.splice(1,0,od())),i||r.push(od()),r.push(tp({})),r}function od(e){const t=xa({},e);return t.metadata={source:!0},t}function PU(e,t){return LOe({url:t.url?e.property(t.url):void 0,async:t.async?e.property(t.async):void 0,values:t.values?e.property(t.values):void 0,format:e.objectProperty(t.format)})}const vie=e=>e===yf||e===wa,H_=(e,t,n)=>ir(e)?mMe(e.signal,t,n):e===R0||e===wa?t:n,gr=(e,t,n)=>ir(e)?pMe(e.signal,t,n):vie(e)?t:n,oa=(e,t,n)=>ir(e)?gMe(e.signal,t,n):vie(e)?n:t,bie=(e,t,n)=>ir(e)?yMe(e.signal,t,n):e===wa?{value:t}:{value:n},hMe=(e,t,n)=>ir(e)?vMe(e.signal,t,n):e===P0?{value:t}:{value:n},pMe=(e,t,n)=>xie(`${e} === '${wa}' || ${e} === '${yf}'`,t,n),gMe=(e,t,n)=>xie(`${e} !== '${wa}' && ${e} !== '${yf}'`,t,n),mMe=(e,t,n)=>dL(`${e} === '${R0}' || ${e} === '${wa}'`,t,n),yMe=(e,t,n)=>dL(`${e} === '${wa}'`,t,n),vMe=(e,t,n)=>dL(`${e} === '${P0}'`,t,n),xie=(e,t,n)=>(t=t!=null?pr(t):t,n=n!=null?pr(n):n,OU(t)&&OU(n)?(t=t?t.signal||de(t.value):null,n=n?n.signal||de(n.value):null,{signal:`${e} ? (${t}) : (${n})`}):[Ze({test:e},t)].concat(n||[])),OU=e=>e==null||Object.keys(e).length===1,dL=(e,t,n)=>({signal:`${e} ? (${og(t)}) : (${og(n)})`}),bMe=(e,t,n,r,i)=>({signal:(r!=null?`${e} === '${R0}' ? (${og(r)}) : `:"")+(n!=null?`${e} === '${yf}' ? (${og(n)}) : `:"")+(i!=null?`${e} === '${P0}' ? (${og(i)}) : `:"")+(t!=null?`${e} === '${wa}' ? (${og(t)}) : `:"")+"(null)"}),og=e=>ir(e)?e.signal:e==null?null:de(e),xMe=(e,t)=>t===0?0:ir(e)?{signal:`(${e.signal}) * ${t}`}:{value:e*t},Pg=(e,t)=>{const n=e.signal;return n&&n.endsWith("(null)")?{signal:n.slice(0,-6)+t.signal}:e};function zp(e,t,n,r){let i;if(t&&Se(t,e))return t[e];if(Se(n,e))return n[e];if(e.startsWith("title")){switch(e){case"titleColor":i="fill";break;case"titleFont":case"titleFontSize":case"titleFontWeight":i=e[5].toLowerCase()+e.slice(6)}return r[oL][i]}else if(e.startsWith("label")){switch(e){case"labelColor":i="fill";break;case"labelFont":case"labelFontSize":i=e[5].toLowerCase()+e.slice(6)}return r[yx][i]}return null}function DU(e){const t={};for(const n of e)if(n)for(const r in n)t[r]=1;return Object.keys(t)}function wMe(e,t){var n=t.config,r=n.style,i=n.axis,o=t.scaleType(e.scale)==="band"&&n.axisBand,s=e.orient,a,l,u;if(ir(s)){const f=DU([n.axisX,n.axisY]),d=DU([n.axisTop,n.axisBottom,n.axisLeft,n.axisRight]);a={};for(u of f)a[u]=gr(s,zp(u,n.axisX,i,r),zp(u,n.axisY,i,r));l={};for(u of d)l[u]=bMe(s.signal,zp(u,n.axisTop,i,r),zp(u,n.axisBottom,i,r),zp(u,n.axisLeft,i,r),zp(u,n.axisRight,i,r))}else a=s===wa||s===yf?n.axisX:n.axisY,l=n["axis"+s[0].toUpperCase()+s.slice(1)];return a||l||o?Ze({},i,a,l,o):i}function SMe(e,t,n,r){const i=mo(e,t),o=e.orient;let s,a;const l={enter:s={opacity:yt},update:a={opacity:ys},exit:{opacity:yt}};Lr(l,{stroke:i("domainColor"),strokeCap:i("domainCap"),strokeDash:i("domainDash"),strokeDashOffset:i("domainDashOffset"),strokeWidth:i("domainWidth"),strokeOpacity:i("domainOpacity")});const u=MU(e,0),c=MU(e,1);return s.x=a.x=gr(o,u,yt),s.x2=a.x2=gr(o,c),s.y=a.y=oa(o,u,yt),s.y2=a.y2=oa(o,c),zo({type:aL,role:HPe,from:r,encode:l},n)}function MU(e,t){return{scale:e.scale,range:t}}function EMe(e,t,n,r,i){const o=mo(e,t),s=e.orient,a=e.gridScale,l=H_(s,1,-1),u=CMe(e.offset,l);let c,f,d;const h={enter:c={opacity:yt},update:d={opacity:ys},exit:f={opacity:yt}};Lr(h,{stroke:o("gridColor"),strokeCap:o("gridCap"),strokeDash:o("gridDash"),strokeDashOffset:o("gridDashOffset"),strokeOpacity:o("gridOpacity"),strokeWidth:o("gridWidth")});const p={scale:e.scale,field:ms,band:i.band,extra:i.extra,offset:i.offset,round:o("tickRound")},g=gr(s,{signal:"height"},{signal:"width"}),m=a?{scale:a,range:0,mult:l,offset:u}:{value:0,offset:u},y=a?{scale:a,range:1,mult:l,offset:u}:Ze(g,{mult:l,offset:u});return c.x=d.x=gr(s,p,m),c.y=d.y=oa(s,p,m),c.x2=d.x2=oa(s,y),c.y2=d.y2=gr(s,y),f.x=gr(s,p),f.y=oa(s,p),zo({type:aL,role:qPe,key:ms,from:r,encode:h},n)}function CMe(e,t){if(t!==1)if(!ve(e))e=ir(t)?{signal:`(${t.signal}) * (${e||0})`}:t*(e||0);else{let n=e=Ze({},e);for(;n.mult!=null;)if(ve(n.mult))n=n.mult=Ze({},n.mult);else return n.mult=ir(t)?{signal:`(${n.mult}) * (${t.signal})`}:n.mult*t,e;n.mult=t}return e}function kMe(e,t,n,r,i,o){const s=mo(e,t),a=e.orient,l=H_(a,-1,1);let u,c,f;const d={enter:u={opacity:yt},update:f={opacity:ys},exit:c={opacity:yt}};Lr(d,{stroke:s("tickColor"),strokeCap:s("tickCap"),strokeDash:s("tickDash"),strokeDashOffset:s("tickDashOffset"),strokeOpacity:s("tickOpacity"),strokeWidth:s("tickWidth")});const h=pr(i);h.mult=l;const p={scale:e.scale,field:ms,band:o.band,extra:o.extra,offset:o.offset,round:s("tickRound")};return f.y=u.y=gr(a,yt,p),f.y2=u.y2=gr(a,h),c.x=gr(a,p),f.x=u.x=oa(a,yt,p),f.x2=u.x2=oa(a,h),c.y=oa(a,p),zo({type:aL,role:XPe,key:ms,from:r,encode:d},n)}function e3(e,t,n,r,i){return{signal:'flush(range("'+e+'"), scale("'+e+'", datum.value), '+t+","+n+","+r+","+i+")"}}function _Me(e,t,n,r,i,o){const s=mo(e,t),a=e.orient,l=e.scale,u=H_(a,-1,1),c=th(s("labelFlush")),f=th(s("labelFlushOffset")),d=s("labelAlign"),h=s("labelBaseline");let p=c===0||!!c,g;const m=pr(i);m.mult=u,m.offset=pr(s("labelPadding")||0),m.offset.mult=u;const y={scale:l,field:ms,band:.5,offset:hie(o.offset,s("labelOffset"))},v=gr(a,p?e3(l,c,'"left"','"right"','"center"'):{value:"center"},hMe(a,"left","right")),b=gr(a,bie(a,"bottom","top"),p?e3(l,c,'"top"','"bottom"','"middle"'):{value:"middle"}),x=e3(l,c,`-(${f})`,f,0);p=p&&f;const w={opacity:yt,x:gr(a,y,m),y:oa(a,y,m)},C={enter:w,update:g={opacity:ys,text:{field:iL},x:w.x,y:w.y,align:v,baseline:b},exit:{opacity:yt,x:w.x,y:w.y}};Lr(C,{dx:!d&&p?gr(a,x):null,dy:!h&&p?oa(a,x):null}),Lr(C,{angle:s("labelAngle"),fill:s("labelColor"),fillOpacity:s("labelOpacity"),font:s("labelFont"),fontSize:s("labelFontSize"),fontWeight:s("labelFontWeight"),fontStyle:s("labelFontStyle"),limit:s("labelLimit"),lineHeight:s("labelLineHeight")},{align:d,baseline:h});const S=s("labelBound");let k=s("labelOverlap");return k=k||S?{separation:s("labelSeparation"),method:k,order:"datum.index",bound:S?{scale:l,orient:a,tolerance:S}:null}:void 0,g.align!==v&&(g.align=Pg(g.align,v)),g.baseline!==b&&(g.baseline=Pg(g.baseline,b)),zo({type:np,role:GPe,style:yx,key:ms,from:r,encode:C,overlap:k},n)}function $Me(e,t,n,r){const i=mo(e,t),o=e.orient,s=H_(o,-1,1);let a,l;const u={enter:a={opacity:yt,anchor:pr(i("titleAnchor",null)),align:{signal:lL}},update:l=Ze({},a,{opacity:ys,text:pr(e.title)}),exit:{opacity:yt}},c={signal:`lerp(range("${e.scale}"), ${U_(0,1,.5)})`};return l.x=gr(o,c),l.y=oa(o,c),a.angle=gr(o,yt,xMe(s,90)),a.baseline=gr(o,bie(o,yf,wa),{value:yf}),l.angle=a.angle,l.baseline=a.baseline,Lr(u,{fill:i("titleColor"),fillOpacity:i("titleOpacity"),font:i("titleFont"),fontSize:i("titleFontSize"),fontStyle:i("titleFontStyle"),fontWeight:i("titleFontWeight"),limit:i("titleLimit"),lineHeight:i("titleLineHeight")},{align:i("titleAlign"),angle:i("titleAngle"),baseline:i("titleBaseline")}),AMe(i,o,u,n),u.update.align=Pg(u.update.align,a.align),u.update.angle=Pg(u.update.angle,a.angle),u.update.baseline=Pg(u.update.baseline,a.baseline),zo({type:np,role:YPe,style:oL,from:r,encode:u},n)}function AMe(e,t,n,r){const i=(a,l)=>a!=null?(n.update[l]=Pg(pr(a),n.update[l]),!1):!Jp(l,r),o=i(e("titleX"),"x"),s=i(e("titleY"),"y");n.enter.auto=s===o?pr(s):gr(t,pr(s),pr(o))}function TMe(e,t){const n=wMe(e,t),r=e.encode||{},i=r.axis||{},o=i.name||void 0,s=i.interactive,a=i.style,l=mo(e,n),u=kDe(l),c={scale:e.scale,ticks:!!l("ticks"),labels:!!l("labels"),grid:!!l("grid"),domain:!!l("domain"),title:e.title!=null},f=Oe(t.add(xa({},[c]))),d=Oe(t.add(FOe({scale:t.scaleRef(e.scale),extra:t.property(u.extra),count:t.objectProperty(e.tickCount),values:t.objectProperty(e.values),minstep:t.property(e.tickMinStep),formatType:t.property(e.formatType),formatSpecifier:t.property(e.format)}))),h=[];let p;return c.grid&&h.push(EMe(e,n,r.grid,d,u)),c.ticks&&(p=l("tickSize"),h.push(kMe(e,n,r.ticks,d,p,u))),c.labels&&(p=c.ticks?p:0,h.push(_Me(e,n,r.labels,d,p,u))),c.domain&&h.push(SMe(e,n,r.domain,f)),c.title&&h.push($Me(e,n,r.title,f)),W_(Uv({role:WPe,from:f,encode:F0(FMe(l,e),i,vx),marks:h,aria:l("aria"),description:l("description"),zindex:l("zindex"),name:o,interactive:s,style:a}),t)}function FMe(e,t){const n={enter:{},update:{}};return Lr(n,{orient:e("orient"),offset:e("offset")||0,position:Vs(t.position,0),titlePadding:e("titlePadding"),minExtent:e("minExtent"),maxExtent:e("maxExtent"),range:{signal:`abs(span(range("${t.scale}")))`},translate:e("translate"),format:t.format,formatType:t.formatType}),n}function wie(e,t,n){const r=xe(e.signals),i=xe(e.scales);return n||r.forEach(o=>Zre(o,t)),xe(e.projections).forEach(o=>lDe(o,t)),i.forEach(o=>KOe(o,t)),xe(e.data).forEach(o=>fMe(o,t)),i.forEach(o=>QOe(o,t)),(n||r).forEach(o=>TOe(o,t)),xe(e.axes).forEach(o=>TMe(o,t)),xe(e.marks).forEach(o=>W_(o,t)),xe(e.legends).forEach(o=>ZDe(o,t)),e.title&&sMe(e.title,t),t.parseLambdas(),t}const RMe=e=>F0({enter:{x:{value:0},y:{value:0}},update:{width:{signal:"width"},height:{signal:"height"}}},e);function PMe(e,t){const n=t.config,r=Oe(t.root=t.add(mC())),i=OMe(e,n);i.forEach(u=>Zre(u,t)),t.description=e.description||n.description,t.eventConfig=n.events,t.legends=t.objectProperty(n.legend&&n.legend.layout),t.locale=n.locale;const o=t.add(xa()),s=t.add(nie(Jre(RMe(e.encode),B_,eL,e.style,t,{pulse:Oe(o)}))),a=t.add(oie({layout:t.objectProperty(e.layout),legends:t.legends,autosize:t.signalRef("autosize"),mark:r,pulse:Oe(s)}));t.operators.pop(),t.pushState(Oe(s),Oe(a),null),wie(e,t,i),t.operators.push(a);let l=t.add(tie({mark:r,pulse:Oe(a)}));return l=t.add(iie({pulse:Oe(l)})),l=t.add(tp({pulse:Oe(l)})),t.addData("root",new _h(t,o,o,l)),t}function $y(e,t){return t&&t.signal?{name:e,update:t.signal}:{name:e,value:t}}function OMe(e,t){const n=s=>Vs(e[s],t[s]),r=[$y("background",n("background")),$y("autosize",BPe(n("autosize"))),$y("padding",VPe(n("padding"))),$y("width",n("width")||0),$y("height",n("height")||0)],i=r.reduce((s,a)=>(s[a.name]=a,s),{}),o={};return xe(e.signals).forEach(s=>{Se(i,s.name)?s=Ze(i[s.name],s):r.push(s),o[s.name]=s}),xe(t.signals).forEach(s=>{!Se(o,s.name)&&!Se(i,s.name)&&r.push(s)}),r}function Sie(e,t){this.config=e||{},this.options=t||{},this.bindings=[],this.field={},this.signals={},this.lambdas={},this.scales={},this.events={},this.data={},this.streams=[],this.updates=[],this.operators=[],this.eventConfig=null,this.locale=null,this._id=0,this._subid=0,this._nextsub=[0],this._parent=[],this._encode=[],this._lookup=[],this._markpath=[]}function NU(e){this.config=e.config,this.options=e.options,this.legends=e.legends,this.field=Object.create(e.field),this.signals=Object.create(e.signals),this.lambdas=Object.create(e.lambdas),this.scales=Object.create(e.scales),this.events=Object.create(e.events),this.data=Object.create(e.data),this.streams=[],this.updates=[],this.operators=[],this._id=0,this._subid=++e._nextsub[0],this._nextsub=e._nextsub,this._parent=e._parent.slice(),this._encode=e._encode.slice(),this._lookup=e._lookup.slice(),this._markpath=e._markpath}Sie.prototype=NU.prototype={parse(e){return wie(e,this)},fork(){return new NU(this)},isSubscope(){return this._subid>0},toRuntime(){return this.finish(),{description:this.description,operators:this.operators,streams:this.streams,updates:this.updates,bindings:this.bindings,eventConfig:this.eventConfig,locale:this.locale}},id(){return(this._subid?this._subid+":":0)+this._id++},add(e){return this.operators.push(e),e.id=this.id(),e.refs&&(e.refs.forEach(t=>{t.$ref=e.id}),e.refs=null),e},proxy(e){const t=e instanceof _R?Oe(e):e;return this.add(WOe({value:t}))},addStream(e){return this.streams.push(e),e.id=this.id(),e},addUpdate(e){return this.updates.push(e),e},finish(){let e,t;this.root&&(this.root.root=!0);for(e in this.signals)this.signals[e].signal=e;for(e in this.scales)this.scales[e].scale=e;function n(r,i,o){let s,a;r&&(s=r.data||(r.data={}),a=s[i]||(s[i]=[]),a.push(o))}for(e in this.data){t=this.data[e],n(t.input,e,"input"),n(t.output,e,"output"),n(t.values,e,"values");for(const r in t.index)n(t.index[r],e,"index:"+r)}return this},pushState(e,t,n){this._encode.push(Oe(this.add(tp({pulse:e})))),this._parent.push(t),this._lookup.push(n?Oe(this.proxy(n)):null),this._markpath.push(-1)},popState(){this._encode.pop(),this._parent.pop(),this._lookup.pop(),this._markpath.pop()},parent(){return gt(this._parent)},encode(){return gt(this._encode)},lookup(){return gt(this._lookup)},markpath(){const e=this._markpath;return++e[e.length-1]},fieldRef(e,t){if(we(e))return jv(e,t);e.signal||ee("Unsupported field reference: "+de(e));const n=e.signal;let r=this.field[n];if(!r){const i={name:this.signalRef(n)};t&&(i.as=t),this.field[n]=r=Oe(this.add(DOe(i)))}return r},compareRef(e){let t=!1;const n=o=>ir(o)?(t=!0,this.signalRef(o.signal)):bOe(o)?(t=!0,this.exprRef(o.expr)):o,r=xe(e.field).map(n),i=xe(e.order).map(n);return t?Oe(this.add(SU({fields:r,orders:i}))):xU(r,i)},keyRef(e,t){let n=!1;const r=o=>ir(o)?(n=!0,Oe(i[o.signal])):o,i=this.signals;return e=xe(e).map(r),n?Oe(this.add(MOe({fields:e,flat:t}))):gOe(e,t)},sortRef(e){if(!e)return e;const t=z_(e.op,e.field),n=e.order||mOe;return n.signal?Oe(this.add(SU({fields:t,orders:this.signalRef(n.signal)}))):xU(t,n)},event(e,t){const n=e+":"+t;if(!this.events[n]){const r=this.id();this.streams.push({id:r,source:e,type:t}),this.events[n]=r}return this.events[n]},hasOwnSignal(e){return Se(this.signals,e)},addSignal(e,t){this.hasOwnSignal(e)&&ee("Duplicate signal name: "+de(e));const n=t instanceof _R?t:this.add(mC(t));return this.signals[e]=n},getSignal(e){return this.signals[e]||ee("Unrecognized signal name: "+de(e)),this.signals[e]},signalRef(e){return this.signals[e]?Oe(this.signals[e]):(Se(this.lambdas,e)||(this.lambdas[e]=this.add(mC(null))),Oe(this.lambdas[e]))},parseLambdas(){const e=Object.keys(this.lambdas);for(let t=0,n=e.length;t<n;++t){const r=e[t],i=bl(r,this),o=this.lambdas[r];o.params=i.$params,o.update=i.$expr}},property(e){return e&&e.signal?this.signalRef(e.signal):e},objectProperty(e){return!e||!ve(e)?e:this.signalRef(e.signal||hL(e))},exprRef(e,t){const n={expr:bl(e,this)};return t&&(n.expr.$name=t),Oe(this.add(POe(n)))},addBinding(e,t){this.bindings||ee("Nested signals do not support binding: "+de(e)),this.bindings.push(Ze({signal:e},t))},addScaleProj(e,t){Se(this.scales,e)&&ee("Duplicate scale or projection name: "+de(e)),this.scales[e]=this.add(t)},addScale(e,t){this.addScaleProj(e,qOe(t))},addProjection(e,t){this.addScaleProj(e,VOe(t))},getScale(e){return this.scales[e]||ee("Unrecognized scale name: "+de(e)),this.scales[e]},scaleRef(e){return Oe(this.getScale(e))},scaleType(e){return this.getScale(e).params.type},projectionRef(e){return this.scaleRef(e)},projectionType(e){return this.scaleType(e)},addData(e,t){return Se(this.data,e)&&ee("Duplicate data set name: "+de(e)),this.data[e]=t},getData(e){return this.data[e]||ee("Undefined data set name: "+de(e)),this.data[e]},addDataPipeline(e,t){return Se(this.data,e)&&ee("Duplicate data set name: "+de(e)),this.addData(e,_h.fromEntries(this,t))}};function hL(e){return(te(e)?DMe:MMe)(e)}function DMe(e){const t=e.length;let n="[";for(let r=0;r<t;++r){const i=e[r];n+=(r>0?",":"")+(ve(i)?i.signal||hL(i):de(i))}return n+"]"}function MMe(e){let t="{",n=0,r,i;for(r in e)i=e[r],t+=(++n>1?",":"")+de(r)+":"+(ve(i)?i.signal||hL(i):de(i));return t+"}"}function NMe(){const e="sans-serif",r="#4c78a8",i="#000",o="#888",s="#ddd";return{description:"Vega visualization",padding:0,autosize:"pad",background:null,events:{defaults:{allow:["wheel"]}},group:null,mark:null,arc:{fill:r},area:{fill:r},image:null,line:{stroke:r,strokeWidth:2},path:{stroke:r},rect:{fill:r},rule:{stroke:i},shape:{stroke:r},symbol:{fill:r,size:64},text:{fill:i,font:e,fontSize:11},trail:{fill:r,size:2},style:{"guide-label":{fill:i,font:e,fontSize:10},"guide-title":{fill:i,font:e,fontSize:11,fontWeight:"bold"},"group-title":{fill:i,font:e,fontSize:13,fontWeight:"bold"},"group-subtitle":{fill:i,font:e,fontSize:12},point:{size:30,strokeWidth:2,shape:"circle"},circle:{size:30,strokeWidth:2},square:{size:30,strokeWidth:2,shape:"square"},cell:{fill:"transparent",stroke:s},view:{fill:"transparent"}},title:{orient:"top",anchor:"middle",offset:4,subtitlePadding:3},axis:{minExtent:0,maxExtent:200,bandPosition:.5,domain:!0,domainWidth:1,domainColor:o,grid:!1,gridWidth:1,gridColor:s,labels:!0,labelAngle:0,labelLimit:180,labelOffset:0,labelPadding:2,ticks:!0,tickColor:o,tickOffset:0,tickRound:!0,tickSize:5,tickWidth:1,titlePadding:4},axisBand:{tickOffset:-.5},projection:{type:"mercator"},legend:{orient:"right",padding:0,gridAlign:"each",columnPadding:10,rowPadding:2,symbolDirection:"vertical",gradientDirection:"vertical",gradientLength:200,gradientThickness:16,gradientStrokeColor:s,gradientStrokeWidth:0,gradientLabelOffset:2,labelAlign:"left",labelBaseline:"middle",labelLimit:160,labelOffset:4,labelOverlap:!0,symbolLimit:30,symbolType:"circle",symbolSize:100,symbolOffset:0,symbolStrokeWidth:1.5,symbolBaseFillColor:"transparent",symbolBaseStrokeColor:o,titleLimit:180,titleOrient:"top",titlePadding:5,layout:{offset:18,direction:"horizontal",left:{direction:"vertical"},right:{direction:"vertical"}}},range:{category:{scheme:"tableau10"},ordinal:{scheme:"blues"},heatmap:{scheme:"yellowgreenblue"},ramp:{scheme:"blues"},diverging:{scheme:"blueorange",extent:[1,0]},symbol:["circle","square","triangle-up","cross","diamond","triangle-right","triangle-down","triangle-left"]}}}function LMe(e,t,n){return ve(e)||ee("Input Vega specification must be an object."),t=v0(NMe(),t,e.config),PMe(e,new Sie(t,n)).toRuntime()}var IMe="5.30.0";Ze(vm,jwe,c_e,U_e,$Ae,w5e,XTe,$Te,KTe,x3e,F3e,L3e);const Eie=Object.freeze(Object.defineProperty({__proto__:null,Bounds:Gn,CanvasHandler:lx,CanvasRenderer:FE,DATE:ao,DAY:ei,DAYOFYEAR:yl,Dataflow:Ag,Debug:fK,Error:Nk,EventStream:qk,Gradient:cee,GroupItem:g_,HOURS:No,Handler:M6,HybridHandler:tte,HybridRenderer:DF,Info:cK,Item:p_,MILLISECONDS:da,MINUTES:Lo,MONTH:ii,Marks:Io,MultiPulse:XD,None:uK,Operator:Qt,Parameters:Hk,Pulse:Gc,QUARTER:so,RenderType:Lc,Renderer:ax,ResourceLoader:yee,SECONDS:ws,SVGHandler:Uee,SVGRenderer:B6,SVGStringRenderer:ete,Scenegraph:Dee,TIME_UNITS:ID,Transform:J,View:jre,WEEK:tr,Warn:CD,YEAR:Dr,accessor:go,accessorFields:ri,accessorName:Pn,array:xe,ascending:zk,bandwidthNRD:JD,bin:HQ,bootstrapCI:qQ,boundClip:fte,boundContext:rx,boundItem:TF,boundMark:Fee,boundStroke:Mu,changeset:Qh,clampRange:SK,codegenExpression:hre,compare:TD,constant:li,cumulativeLogNormal:iM,cumulativeNormal:Xk,cumulativeUniform:lM,dayofyear:JK,debounce:FD,defaultLocale:VD,definition:UQ,densityLogNormal:rM,densityNormal:ZD,densityUniform:aM,domChild:er,domClear:os,domCreate:Mc,domFind:D6,dotbin:GQ,error:ee,expressionFunction:Un,extend:Ze,extent:ml,extentIndex:EK,falsy:cc,fastmap:x0,field:bs,flush:CK,font:x_,fontFamily:sx,fontSize:$l,format:G2,formatLocale:aE,formats:qD,hasOwnProperty:Se,id:Ib,identity:ai,inferType:RQ,inferTypes:PQ,ingest:Rt,inherits:he,inrange:eg,interpolate:f6,interpolateColors:d_,interpolateRange:KZ,intersect:ate,intersectBoxLine:tg,intersectPath:b6,intersectPoint:x6,intersectRule:bee,isArray:te,isBoolean:Ff,isDate:qc,isFunction:et,isIterable:kK,isNumber:St,isObject:ve,isRegExp:_K,isString:we,isTuple:Vk,key:RD,lerp:$K,lineHeight:pf,loader:Bk,locale:TQ,logger:kD,lruCache:AK,markup:j6,merge:TK,mergeConfig:v0,multiLineOffset:R6,one:y0,pad:FK,panLinear:mK,panLog:yK,panPow:vK,panSymlog:bK,parse:LMe,parseExpression:jN,parseSelector:Nf,path:Zk,pathCurves:m6,pathEqual:dte,pathParse:Cm,pathRectangle:hee,pathRender:Av,pathSymbols:dee,pathTrail:pee,peek:gt,point:S_,projection:sN,quantileLogNormal:oM,quantileNormal:Yk,quantileUniform:uM,quantiles:KD,quantizeInterpolator:QZ,quarter:xK,quartiles:QD,get random(){return Ss},randomInteger:Wxe,randomKDE:tM,randomLCG:Vxe,randomLogNormal:YQ,randomMixture:KQ,randomNormal:eM,randomUniform:QQ,read:MQ,regressionConstant:cM,regressionExp:ZQ,regressionLinear:fM,regressionLoess:nJ,regressionLog:JQ,regressionPoly:tJ,regressionPow:eJ,regressionQuad:dM,renderModule:E_,repeat:Zy,resetDefaultLocale:jbe,resetSVGClipId:mee,resetSVGDefIds:Ake,responseType:DQ,runtimeContext:$re,sampleCurve:Qk,sampleLogNormal:nM,sampleNormal:Gk,sampleUniform:sM,scale:Ct,sceneEqual:U6,sceneFromJSON:Pee,scenePickVisit:SE,sceneToJSON:Ree,sceneVisit:ha,sceneZOrder:w6,scheme:d6,serializeXML:Kee,setHybridRendererOptions:Cke,setRandom:Bxe,span:zb,splitAccessPath:Cl,stringValue:de,textMetrics:To,timeBin:gQ,timeFloor:oQ,timeFormatLocale:Sv,timeInterval:S0,timeOffset:lQ,timeSequence:fQ,timeUnitSpecifier:QK,timeUnits:zD,toBoolean:PD,toDate:OD,toNumber:ti,toSet:ua,toString:DD,transform:VQ,transforms:vm,truncate:RK,truthy:xs,tupleid:De,typeParsers:dF,utcFloor:sQ,utcInterval:E0,utcOffset:uQ,utcSequence:dQ,utcdayofyear:tQ,utcquarter:wK,utcweek:nQ,version:IMe,visitArray:gc,week:ZK,writeConfig:b0,zero:Cc,zoomLinear:_D,zoomLog:$D,zoomPow:tE,zoomSymlog:AD},Symbol.toStringTag,{value:"Module"}));function zMe(e,t,n){let r;t.x2&&(t.x?(n&&e.x>e.x2&&(r=e.x,e.x=e.x2,e.x2=r),e.width=e.x2-e.x):e.x=e.x2-(e.width||0)),t.xc&&(e.x=e.xc-(e.width||0)/2),t.y2&&(t.y?(n&&e.y>e.y2&&(r=e.y,e.y=e.y2,e.y2=r),e.height=e.y2-e.y):e.y=e.y2-(e.height||0)),t.yc&&(e.y=e.yc-(e.height||0)/2)}var jMe={NaN:NaN,E:Math.E,LN2:Math.LN2,LN10:Math.LN10,LOG2E:Math.LOG2E,LOG10E:Math.LOG10E,PI:Math.PI,SQRT1_2:Math.SQRT1_2,SQRT2:Math.SQRT2,MIN_VALUE:Number.MIN_VALUE,MAX_VALUE:Number.MAX_VALUE},BMe={"*":(e,t)=>e*t,"+":(e,t)=>e+t,"-":(e,t)=>e-t,"/":(e,t)=>e/t,"%":(e,t)=>e%t,">":(e,t)=>e>t,"<":(e,t)=>e<t,"<=":(e,t)=>e<=t,">=":(e,t)=>e>=t,"==":(e,t)=>e==t,"!=":(e,t)=>e!=t,"===":(e,t)=>e===t,"!==":(e,t)=>e!==t,"&":(e,t)=>e&t,"|":(e,t)=>e|t,"^":(e,t)=>e^t,"<<":(e,t)=>e<<t,">>":(e,t)=>e>>t,">>>":(e,t)=>e>>>t},UMe={"+":e=>+e,"-":e=>-e,"~":e=>~e,"!":e=>!e};const VMe=Array.prototype.slice,sd=(e,t,n)=>{const r=n?n(t[0]):t[0];return r[e].apply(r,VMe.call(t,1))},WMe=(e,t,n,r,i,o,s)=>new Date(e,t||0,n??1,r||0,i||0,o||0,s||0);var HMe={isNaN:Number.isNaN,isFinite:Number.isFinite,abs:Math.abs,acos:Math.acos,asin:Math.asin,atan:Math.atan,atan2:Math.atan2,ceil:Math.ceil,cos:Math.cos,exp:Math.exp,floor:Math.floor,log:Math.log,max:Math.max,min:Math.min,pow:Math.pow,random:Math.random,round:Math.round,sin:Math.sin,sqrt:Math.sqrt,tan:Math.tan,clamp:(e,t,n)=>Math.max(t,Math.min(n,e)),now:Date.now,utc:Date.UTC,datetime:WMe,date:e=>new Date(e).getDate(),day:e=>new Date(e).getDay(),year:e=>new Date(e).getFullYear(),month:e=>new Date(e).getMonth(),hours:e=>new Date(e).getHours(),minutes:e=>new Date(e).getMinutes(),seconds:e=>new Date(e).getSeconds(),milliseconds:e=>new Date(e).getMilliseconds(),time:e=>new Date(e).getTime(),timezoneoffset:e=>new Date(e).getTimezoneOffset(),utcdate:e=>new Date(e).getUTCDate(),utcday:e=>new Date(e).getUTCDay(),utcyear:e=>new Date(e).getUTCFullYear(),utcmonth:e=>new Date(e).getUTCMonth(),utchours:e=>new Date(e).getUTCHours(),utcminutes:e=>new Date(e).getUTCMinutes(),utcseconds:e=>new Date(e).getUTCSeconds(),utcmilliseconds:e=>new Date(e).getUTCMilliseconds(),length:e=>e.length,join:function(){return sd("join",arguments)},indexof:function(){return sd("indexOf",arguments)},lastindexof:function(){return sd("lastIndexOf",arguments)},slice:function(){return sd("slice",arguments)},reverse:e=>e.slice().reverse(),parseFloat,parseInt,upper:e=>String(e).toUpperCase(),lower:e=>String(e).toLowerCase(),substring:function(){return sd("substring",arguments,String)},split:function(){return sd("split",arguments,String)},replace:function(){return sd("replace",arguments,String)},trim:e=>String(e).trim(),regexp:RegExp,test:(e,t)=>RegExp(e).test(t)};const qMe=["view","item","group","xy","x","y"],OR=new Set([Function,eval,setTimeout,setInterval]);typeof setImmediate=="function"&&OR.add(setImmediate);const GMe={Literal:(e,t)=>t.value,Identifier:(e,t)=>{const n=t.name;return e.memberDepth>0?n:n==="datum"?e.datum:n==="event"?e.event:n==="item"?e.item:jMe[n]||e.params["$"+n]},MemberExpression:(e,t)=>{const n=!t.computed,r=e(t.object);n&&(e.memberDepth+=1);const i=e(t.property);if(n&&(e.memberDepth-=1),OR.has(r[i])){console.error(`Prevented interpretation of member "${i}" which could lead to insecure code execution`);return}return r[i]},CallExpression:(e,t)=>{const n=t.arguments;let r=t.callee.name;return r.startsWith("_")&&(r=r.slice(1)),r==="if"?e(n[0])?e(n[1]):e(n[2]):(e.fn[r]||HMe[r]).apply(e.fn,n.map(e))},ArrayExpression:(e,t)=>t.elements.map(e),BinaryExpression:(e,t)=>BMe[t.operator](e(t.left),e(t.right)),UnaryExpression:(e,t)=>UMe[t.operator](e(t.argument)),ConditionalExpression:(e,t)=>e(t.test)?e(t.consequent):e(t.alternate),LogicalExpression:(e,t)=>t.operator==="&&"?e(t.left)&&e(t.right):e(t.left)||e(t.right),ObjectExpression:(e,t)=>t.properties.reduce((n,r)=>{e.memberDepth+=1;const i=e(r.key);return e.memberDepth-=1,OR.has(e(r.value))?console.error(`Prevented interpretation of property "${i}" which could lead to insecure code execution`):n[i]=e(r.value),n},{})};function Ay(e,t,n,r,i,o){const s=a=>GMe[a.type](s,a);return s.memberDepth=0,s.fn=Object.create(t),s.params=n,s.datum=r,s.event=i,s.item=o,qMe.forEach(a=>s.fn[a]=function(){return i.vega[a](...arguments)}),s(e)}var XMe={operator(e,t){const n=t.ast,r=e.functions;return i=>Ay(n,r,i)},parameter(e,t){const n=t.ast,r=e.functions;return(i,o)=>Ay(n,r,o,i)},event(e,t){const n=t.ast,r=e.functions;return i=>Ay(n,r,void 0,void 0,i)},handler(e,t){const n=t.ast,r=e.functions;return(i,o)=>{const s=o.item&&o.item.datum;return Ay(n,r,i,s,o)}},encode(e,t){const{marktype:n,channels:r}=t,i=e.functions,o=n==="group"||n==="image"||n==="rect";return(s,a)=>{const l=s.datum;let u=0,c;for(const f in r)c=Ay(r[f].ast,i,a,l,void 0,s),s[f]!==c&&(s[f]=c,u=1);return n!=="rule"&&zMe(s,r,o),u}}};const YMe="vega-lite",KMe='Dominik Moritz, Kanit "Ham" Wongsuphasawat, Arvind Satyanarayan, Jeffrey Heer',QMe="5.21.0",JMe=["Kanit Wongsuphasawat (http://kanitw.yellowpigz.com)","Dominik Moritz (https://www.domoritz.de)","Arvind Satyanarayan (https://arvindsatya.com)","Jeffrey Heer (https://jheer.org)"],ZMe="https://vega.github.io/vega-lite/",e6e="Vega-Lite is a concise high-level language for interactive visualization.",t6e=["vega","chart","visualization"],n6e="build/vega-lite.js",r6e="build/vega-lite.min.js",i6e="build/vega-lite.min.js",o6e="build/src/index",s6e="build/src/index.d.ts",a6e={vl2pdf:"./bin/vl2pdf",vl2png:"./bin/vl2png",vl2svg:"./bin/vl2svg",vl2vg:"./bin/vl2vg"},l6e=["bin","build","src","vega-lite*","tsconfig.json"],u6e={changelog:"conventional-changelog -p angular -r 2",prebuild:"yarn clean:build",build:"yarn build:only","build:only":"tsc -p tsconfig.build.json && rollup -c","prebuild:examples":"yarn build:only","build:examples":"yarn data && TZ=America/Los_Angeles scripts/build-examples.sh","prebuild:examples-full":"yarn build:only","build:examples-full":"TZ=America/Los_Angeles scripts/build-examples.sh 1","build:example":"TZ=America/Los_Angeles scripts/build-example.sh","build:toc":"yarn build:jekyll && scripts/generate-toc","build:site":"rollup -c site/rollup.config.mjs","build:jekyll":"pushd site && bundle exec jekyll build -q && popd","build:versions":"scripts/update-version.sh",clean:"yarn clean:build && del-cli 'site/data/*' 'examples/compiled/*.png' && find site/examples ! -name 'index.md' ! -name 'data' -type f -delete","clean:build":"del-cli 'build/*' !build/vega-lite-schema.json",data:"rsync -r node_modules/vega-datasets/data/* site/data","build-editor-preview":"scripts/build-editor-preview.sh",schema:"mkdir -p build && ts-json-schema-generator -f tsconfig.json -p src/index.ts -t TopLevelSpec --no-type-check --no-ref-encode > build/vega-lite-schema.json && yarn renameschema && cp build/vega-lite-schema.json site/_data/",renameschema:"scripts/rename-schema.sh",presite:"yarn data && yarn schema && yarn build:site && yarn build:versions && scripts/create-example-pages.sh",site:"yarn site:only","site:only":"pushd site && bundle exec jekyll serve -I -l && popd",prettierbase:"prettier '**/*.{md,css,yml}'",format:"eslint . --fix && yarn prettierbase --write",lint:"eslint . && yarn prettierbase --check",test:"yarn jest test/ && yarn lint && yarn schema && yarn jest examples/ && yarn test:runtime","test:cover":"yarn jest --collectCoverage test/","test:inspect":"node --inspect-brk ./node_modules/.bin/jest --runInBand test","test:runtime":"TZ=America/Los_Angeles npx jest test-runtime/ --config test-runtime/jest-config.json","test:runtime:generate":"yarn build:only && del-cli test-runtime/resources && VL_GENERATE_TESTS=true yarn test:runtime",watch:"tsc -p tsconfig.build.json -w","watch:site":"yarn build:site -w","watch:test":"yarn jest --watch test/","watch:test:runtime":"TZ=America/Los_Angeles npx jest --watch test-runtime/ --config test-runtime/jest-config.json",release:"release-it"},c6e={type:"git",url:"https://github.com/vega/vega-lite.git"},f6e="BSD-3-Clause",d6e={url:"https://github.com/vega/vega-lite/issues"},h6e={"@babel/core":"^7.24.9","@babel/preset-env":"^7.25.0","@babel/preset-typescript":"^7.24.7","@release-it/conventional-changelog":"^8.0.1","@rollup/plugin-alias":"^5.1.0","@rollup/plugin-babel":"^6.0.4","@rollup/plugin-commonjs":"^26.0.1","@rollup/plugin-json":"^6.1.0","@rollup/plugin-node-resolve":"^15.2.3","@rollup/plugin-terser":"^0.4.4","@types/d3":"^7.4.3","@types/jest":"^29.5.12","@types/pako":"^2.0.3","@typescript-eslint/eslint-plugin":"^7.17.0","@typescript-eslint/parser":"^7.17.0",ajv:"^8.17.1","ajv-formats":"^3.0.1",cheerio:"^1.0.0-rc.12","conventional-changelog-cli":"^5.0.0",d3:"^7.9.0","del-cli":"^5.1.0",eslint:"^8.57.0","eslint-config-prettier":"^9.1.0","eslint-plugin-jest":"^27.9.0","eslint-plugin-prettier":"^5.2.1","fast-json-stable-stringify":"~2.1.0","highlight.js":"^11.10.0",jest:"^29.7.0","jest-dev-server":"^10.0.0",mkdirp:"^3.0.1",pako:"^2.1.0",prettier:"^3.3.3",puppeteer:"^15.0.0","release-it":"17.6.0",rollup:"^4.19.1","rollup-plugin-bundle-size":"^1.0.3",serve:"^14.2.3",terser:"^5.31.3","ts-jest":"^29.2.3","ts-json-schema-generator":"^2.3.0",typescript:"~5.5.4","vega-cli":"^5.28.0","vega-datasets":"^2.8.1","vega-embed":"^6.26.0","vega-tooltip":"^0.34.0","yaml-front-matter":"^4.1.1"},p6e={"json-stringify-pretty-compact":"~3.0.0",tslib:"~2.6.3","vega-event-selector":"~3.0.1","vega-expression":"~5.1.1","vega-util":"~1.17.2",yargs:"~17.7.2"},g6e={vega:"^5.24.0"},m6e={node:">=18"},y6e="yarn@1.22.19",v6e={name:YMe,author:KMe,version:QMe,collaborators:JMe,homepage:ZMe,description:e6e,keywords:t6e,main:n6e,unpkg:r6e,jsdelivr:i6e,module:o6e,types:s6e,bin:a6e,files:l6e,scripts:u6e,repository:c6e,license:f6e,bugs:d6e,devDependencies:h6e,dependencies:p6e,peerDependencies:g6e,engines:m6e,packageManager:y6e};function pL(e){return le(e,"or")}function gL(e){return le(e,"and")}function mL(e){return le(e,"not")}function yS(e,t){if(mL(e))yS(e.not,t);else if(gL(e))for(const n of e.and)yS(n,t);else if(pL(e))for(const n of e.or)yS(n,t);else t(e)}function Og(e,t){return mL(e)?{not:Og(e.not,t)}:gL(e)?{and:e.and.map(n=>Og(n,t))}:pL(e)?{or:e.or.map(n=>Og(n,t))}:t(e)}const Ge=structuredClone;function Cie(e){throw new Error(e)}function Om(e,t){const n={};for(const r of t)Se(e,r)&&(n[r]=e[r]);return n}function eo(e,t){const n={...e};for(const r of t)delete n[r];return n}Set.prototype.toJSON=function(){return`Set(${[...this].map(e=>qt(e)).join(",")})`};function ut(e){if(St(e))return e;const t=we(e)?e:qt(e);if(t.length<250)return t;let n=0;for(let r=0;r<t.length;r++){const i=t.charCodeAt(r);n=(n<<5)-n+i,n=n&n}return n}function DR(e){return e===!1||e===null}function it(e,t){return e.includes(t)}function Dm(e,t){let n=0;for(const[r,i]of e.entries())if(t(i,r,n++))return!0;return!1}function yL(e,t){let n=0;for(const[r,i]of e.entries())if(!t(i,r,n++))return!1;return!0}function kie(e,...t){for(const n of t)b6e(e,n??{});return e}function b6e(e,t){for(const n of se(t))b0(e,n,t[n],!0)}function tl(e,t){const n=[],r={};let i;for(const o of e)i=t(o),!(i in r)&&(r[i]=1,n.push(o));return n}function x1(e,t){const n=se(e),r=se(t);if(n.length!==r.length)return!1;for(const i of n)if(e[i]!==t[i])return!1;return!0}function _ie(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}function vL(e,t){for(const n of e)if(t.has(n))return!0;return!1}function MR(e){const t=new Set;for(const n of e){const i=Cl(n).map((s,a)=>a===0?s:`[${s}]`),o=i.map((s,a)=>i.slice(0,a+1).join(""));for(const s of o)t.add(s)}return t}function bL(e,t){return e===void 0||t===void 0?!0:vL(MR(e),MR(t))}function Ht(e){return se(e).length===0}const se=Object.keys,Mr=Object.values,vf=Object.entries;function Vv(e){return e===!0||e===!1}function pn(e){const t=e.replace(/\W/g,"_");return(e.match(/^\d+/)?"_":"")+t}function K1(e,t){return mL(e)?`!(${K1(e.not,t)})`:gL(e)?`(${e.and.map(n=>K1(n,t)).join(") && (")})`:pL(e)?`(${e.or.map(n=>K1(n,t)).join(") || (")})`:t(e)}function yC(e,t){if(t.length===0)return!0;const n=t.shift();return n in e&&yC(e[n],t)&&delete e[n],Ht(e)}function bx(e){return e.charAt(0).toUpperCase()+e.substr(1)}function xL(e,t="datum"){const n=Cl(e),r=[];for(let i=1;i<=n.length;i++){const o=`[${n.slice(0,i).map(de).join("][")}]`;r.push(`${t}${o}`)}return r.join(" && ")}function $ie(e,t="datum"){return`${t}[${de(Cl(e).join("."))}]`}function x6e(e){return e.replace(/(\[|\]|\.|'|")/g,"\\$1")}function Cs(e){return`${Cl(e).map(x6e).join("\\.")}`}function $h(e,t,n){return e.replace(new RegExp(t.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"),"g"),n)}function O0(e){return`${Cl(e).join(".")}`}function Mm(e){return e?Cl(e).length:0}function jn(...e){return e.find(t=>t!==void 0)}let Aie=42;function Tie(e){const t=++Aie;return e?String(e)+t:t}function w6e(){Aie=42}function Fie(e){return Rie(e)?e:`__${e}`}function Rie(e){return e.startsWith("__")}function Wv(e){if(e!==void 0)return(e%360+360)%360}function q_(e){return St(e)?!0:!isNaN(e)&&!isNaN(parseFloat(e))}const LU=Object.getPrototypeOf(structuredClone({}));function $o(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor.name!==t.constructor.name)return!1;let n,r;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!$o(e[r],t[r]))return!1;return!0}if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const o of e.entries())if(!t.has(o[0]))return!1;for(const o of e.entries())if(!$o(o[1],t.get(o[0])))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const o of e.entries())if(!t.has(o[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(e[r]!==t[r])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&e.valueOf!==LU.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&e.toString!==LU.toString)return e.toString()===t.toString();const i=Object.keys(e);if(n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const o=i[r];if(!$o(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function qt(e){const t=[];return function n(r){if(r&&r.toJSON&&typeof r.toJSON=="function"&&(r=r.toJSON()),r===void 0)return;if(typeof r=="number")return isFinite(r)?""+r:"null";if(typeof r!="object")return JSON.stringify(r);let i,o;if(Array.isArray(r)){for(o="[",i=0;i<r.length;i++)i&&(o+=","),o+=n(r[i])||"null";return o+"]"}if(r===null)return"null";if(t.includes(r))throw new TypeError("Converting circular structure to JSON");const s=t.push(r)-1,a=Object.keys(r).sort();for(o="",i=0;i<a.length;i++){const l=a[i],u=n(r[l]);u&&(o&&(o+=","),o+=JSON.stringify(l)+":"+u)}return t.splice(s,1),`{${o}}`}(e)}function le(e,t){return ve(e)&&Se(e,t)&&e[t]!==void 0}const pu="row",gu="column",G_="facet",mn="x",xr="y",Sa="x2",Rl="y2",Lf="xOffset",D0="yOffset",Ea="radius",Lu="radius2",Ts="theta",Iu="theta2",Ca="latitude",ka="longitude",_a="latitude2",ks="longitude2",uo="color",Pl="fill",Ol="stroke",co="shape",zu="size",rp="angle",ju="opacity",If="fillOpacity",zf="strokeOpacity",jf="strokeWidth",Bf="strokeDash",xx="text",Nm="order",wx="detail",X_="key",Ah="tooltip",Y_="href",K_="url",Q_="description",S6e={x:1,y:1,x2:1,y2:1},Pie={theta:1,theta2:1,radius:1,radius2:1};function Oie(e){return Se(Pie,e)}const wL={longitude:1,longitude2:1,latitude:1,latitude2:1};function Die(e){switch(e){case Ca:return"y";case _a:return"y2";case ka:return"x";case ks:return"x2"}}function Mie(e){return Se(wL,e)}const E6e=se(wL),SL={...S6e,...Pie,...wL,xOffset:1,yOffset:1,color:1,fill:1,stroke:1,opacity:1,fillOpacity:1,strokeOpacity:1,strokeWidth:1,strokeDash:1,size:1,angle:1,shape:1,order:1,text:1,detail:1,key:1,tooltip:1,href:1,url:1,description:1};function Dg(e){return e===uo||e===Pl||e===Ol}const Nie={row:1,column:1,facet:1},hs=se(Nie),EL={...SL,...Nie},C6e=se(EL),{order:ght,detail:mht,tooltip:yht,...k6e}=EL,{row:vht,column:bht,facet:xht,..._6e}=k6e;function $6e(e){return Se(_6e,e)}function Lie(e){return Se(EL,e)}const A6e=[Sa,Rl,_a,ks,Iu,Lu];function Iie(e){return ip(e)!==e}function ip(e){switch(e){case Sa:return mn;case Rl:return xr;case _a:return Ca;case ks:return ka;case Iu:return Ts;case Lu:return Ea}return e}function bf(e){if(Oie(e))switch(e){case Ts:return"startAngle";case Iu:return"endAngle";case Ea:return"outerRadius";case Lu:return"innerRadius"}return e}function Dl(e){switch(e){case mn:return Sa;case xr:return Rl;case Ca:return _a;case ka:return ks;case Ts:return Iu;case Ea:return Lu}}function fo(e){switch(e){case mn:case Sa:return"width";case xr:case Rl:return"height"}}function zie(e){switch(e){case mn:return"xOffset";case xr:return"yOffset";case Sa:return"x2Offset";case Rl:return"y2Offset";case Ts:return"thetaOffset";case Ea:return"radiusOffset";case Iu:return"theta2Offset";case Lu:return"radius2Offset"}}function CL(e){switch(e){case mn:return"xOffset";case xr:return"yOffset"}}function T6e(e){switch(e){case"xOffset":return"x";case"yOffset":return"y"}}const F6e=se(SL),{x:wht,y:Sht,x2:Eht,y2:Cht,xOffset:kht,yOffset:_ht,latitude:$ht,longitude:Aht,latitude2:Tht,longitude2:Fht,theta:Rht,theta2:Pht,radius:Oht,radius2:Dht,...kL}=SL,R6e=se(kL),_L={x:1,y:1},Bu=se(_L);function Bn(e){return Se(_L,e)}const $L={theta:1,radius:1},P6e=se($L);function J_(e){return e==="width"?mn:xr}const jie={xOffset:1,yOffset:1};function Sx(e){return Se(jie,e)}const{text:Mht,tooltip:Nht,href:Lht,url:Iht,description:zht,detail:jht,key:Bht,order:Uht,...Bie}=kL,O6e=se(Bie);function D6e(e){return Se(kL,e)}function M6e(e){switch(e){case uo:case Pl:case Ol:case zu:case co:case ju:case jf:case Bf:return!0;case If:case zf:case rp:return!1}}const Uie={..._L,...$L,...jie,...Bie},AL=se(Uie);function Ml(e){return Se(Uie,e)}function N6e(e,t){return I6e(e)[t]}const Vie={arc:"always",area:"always",bar:"always",circle:"always",geoshape:"always",image:"always",line:"always",rule:"always",point:"always",rect:"always",square:"always",trail:"always",text:"always",tick:"always"},{geoshape:Vht,...L6e}=Vie;function I6e(e){switch(e){case uo:case Pl:case Ol:case Q_:case wx:case X_:case Ah:case Y_:case Nm:case ju:case If:case zf:case jf:case G_:case pu:case gu:return Vie;case mn:case xr:case Lf:case D0:case Ca:case ka:return L6e;case Sa:case Rl:case _a:case ks:return{area:"always",bar:"always",image:"always",rect:"always",rule:"always",circle:"binned",point:"binned",square:"binned",tick:"binned",line:"binned",trail:"binned"};case zu:return{point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",text:"always",line:"always",trail:"always"};case Bf:return{line:"always",point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",geoshape:"always"};case co:return{point:"always",geoshape:"always"};case xx:return{text:"always"};case rp:return{point:"always",square:"always",text:"always"};case K_:return{image:"always"};case Ts:return{text:"always",arc:"always"};case Ea:return{text:"always",arc:"always"};case Iu:case Lu:return{arc:"always"}}}function t3(e){switch(e){case mn:case xr:case Ts:case Ea:case Lf:case D0:case zu:case rp:case jf:case ju:case If:case zf:case Sa:case Rl:case Iu:case Lu:return;case G_:case pu:case gu:case co:case Bf:case xx:case Ah:case Y_:case K_:case Q_:return"discrete";case uo:case Pl:case Ol:return"flexible";case Ca:case ka:case _a:case ks:case wx:case X_:case Nm:return}}const z6e={argmax:1,argmin:1,average:1,count:1,distinct:1,exponential:1,exponentialb:1,product:1,max:1,mean:1,median:1,min:1,missing:1,q1:1,q3:1,ci0:1,ci1:1,stderr:1,stdev:1,stdevp:1,sum:1,valid:1,values:1,variance:1,variancep:1},j6e={count:1,min:1,max:1};function $u(e){return le(e,"argmin")}function Uf(e){return le(e,"argmax")}function TL(e){return we(e)&&Se(z6e,e)}const B6e=new Set(["count","valid","missing","distinct"]);function Z_(e){return we(e)&&B6e.has(e)}function U6e(e){return we(e)&&it(["min","max"],e)}const V6e=new Set(["count","sum","distinct","valid","missing"]),W6e=new Set(["mean","average","median","q1","q3","min","max"]);function Wie(e){return Ff(e)&&(e=f$(e,void 0)),"bin"+se(e).map(t=>e$(e[t])?pn(`_${t}_${vf(e[t])}`):pn(`_${t}_${e[t]}`)).join("")}function nn(e){return e===!0||op(e)&&!e.binned}function _r(e){return e==="binned"||op(e)&&e.binned===!0}function op(e){return ve(e)}function e$(e){return le(e,"param")}function IU(e){switch(e){case pu:case gu:case zu:case uo:case Pl:case Ol:case jf:case ju:case If:case zf:case co:return 6;case Bf:return 4;default:return 10}}function Ex(e){return le(e,"expr")}function $r(e,{level:t}={level:0}){const n=se(e||{}),r={};for(const i of n)r[i]=t===0?Eo(e[i]):$r(e[i],{level:t-1});return r}function Hie(e){const{anchor:t,frame:n,offset:r,orient:i,angle:o,limit:s,color:a,subtitleColor:l,subtitleFont:u,subtitleFontSize:c,subtitleFontStyle:f,subtitleFontWeight:d,subtitleLineHeight:h,subtitlePadding:p,...g}=e,m={...g,...a?{fill:a}:{}},y={...t?{anchor:t}:{},...n?{frame:n}:{},...r?{offset:r}:{},...i?{orient:i}:{},...o!==void 0?{angle:o}:{},...s!==void 0?{limit:s}:{}},v={...l?{subtitleColor:l}:{},...u?{subtitleFont:u}:{},...c?{subtitleFontSize:c}:{},...f?{subtitleFontStyle:f}:{},...d?{subtitleFontWeight:d}:{},...h?{subtitleLineHeight:h}:{},...p?{subtitlePadding:p}:{}},b=Om(e,["align","baseline","dx","dy","limit"]);return{titleMarkConfig:m,subtitleMarkConfig:b,nonMarkTitleProperties:y,subtitle:v}}function bc(e){return we(e)||te(e)&&we(e[0])}function Re(e){return le(e,"signal")}function sp(e){return le(e,"step")}function H6e(e){return te(e)?!1:le(e,"fields")&&!le(e,"data")}function q6e(e){return te(e)?!1:le(e,"fields")&&le(e,"data")}function su(e){return te(e)?!1:le(e,"field")&&le(e,"data")}const G6e={aria:1,description:1,ariaRole:1,ariaRoleDescription:1,blend:1,opacity:1,fill:1,fillOpacity:1,stroke:1,strokeCap:1,strokeWidth:1,strokeOpacity:1,strokeDash:1,strokeDashOffset:1,strokeJoin:1,strokeOffset:1,strokeMiterLimit:1,startAngle:1,endAngle:1,padAngle:1,innerRadius:1,outerRadius:1,size:1,shape:1,interpolate:1,tension:1,orient:1,align:1,baseline:1,text:1,dir:1,dx:1,dy:1,ellipsis:1,limit:1,radius:1,theta:1,angle:1,font:1,fontSize:1,fontWeight:1,fontStyle:1,lineBreak:1,lineHeight:1,cursor:1,href:1,tooltip:1,cornerRadius:1,cornerRadiusTopLeft:1,cornerRadiusTopRight:1,cornerRadiusBottomLeft:1,cornerRadiusBottomRight:1,aspect:1,width:1,height:1,url:1,smooth:1},X6e=se(G6e),Y6e={arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1},NR=["cornerRadius","cornerRadiusTopLeft","cornerRadiusTopRight","cornerRadiusBottomLeft","cornerRadiusBottomRight"];function qie(e){const t=te(e.condition)?e.condition.map(zU):zU(e.condition);return{...Eo(e),condition:t}}function Eo(e){if(Ex(e)){const{expr:t,...n}=e;return{signal:t,...n}}return e}function zU(e){if(Ex(e)){const{expr:t,...n}=e;return{signal:t,...n}}return e}function ln(e){if(Ex(e)){const{expr:t,...n}=e;return{signal:t,...n}}return Re(e)?e:e!==void 0?{value:e}:void 0}function K6e(e){return Re(e)?e.signal:de(e)}function jU(e){return Re(e)?e.signal:de(e.value)}function na(e){return Re(e)?e.signal:e==null?null:de(e)}function Q6e(e,t,n){for(const r of n){const i=xl(r,t.markDef,t.config);i!==void 0&&(e[r]=ln(i))}return e}function Gie(e){return[].concat(e.type,e.style??[])}function Wt(e,t,n,r={}){const{vgChannel:i,ignoreVgConfig:o}=r;return i&&le(t,i)?t[i]:t[e]!==void 0?t[e]:o&&(!i||i===e)?void 0:xl(e,t,n,r)}function xl(e,t,n,{vgChannel:r}={}){const i=LR(e,t,n.style);return jn(r?i:void 0,i,r?n[t.type][r]:void 0,n[t.type][e],r?n.mark[r]:n.mark[e])}function LR(e,t,n){return Xie(e,Gie(t),n)}function Xie(e,t,n){t=xe(t);let r;for(const i of t){const o=n[i];le(o,e)&&(r=o[e])}return r}function Yie(e,t){return xe(e).reduce((n,r)=>(n.field.push(ye(r,t)),n.order.push(r.sort??"ascending"),n),{field:[],order:[]})}function Kie(e,t){const n=[...e];return t.forEach(r=>{for(const i of n)if($o(i,r))return;n.push(r)}),n}function Qie(e,t){return $o(e,t)||!t?e:e?[...xe(e),...xe(t)].join(", "):t}function Jie(e,t){const n=e.value,r=t.value;if(n==null||r===null)return{explicit:e.explicit,value:null};if((bc(n)||Re(n))&&(bc(r)||Re(r)))return{explicit:e.explicit,value:Qie(n,r)};if(bc(n)||Re(n))return{explicit:e.explicit,value:n};if(bc(r)||Re(r))return{explicit:e.explicit,value:r};if(!bc(n)&&!Re(n)&&!bc(r)&&!Re(r))return{explicit:e.explicit,value:Kie(n,r)};throw new Error("It should never reach here")}function FL(e){return`Invalid specification ${qt(e)}. Make sure the specification includes at least one of the following properties: "mark", "layer", "facet", "hconcat", "vconcat", "concat", or "repeat".`}const J6e='Autosize "fit" only works for single views and layered views.';function BU(e){return`${e=="width"?"Width":"Height"} "container" only works for single views and layered views.`}function UU(e){const t=e=="width"?"Width":"Height",n=e=="width"?"x":"y";return`${t} "container" only works well with autosize "fit" or "fit-${n}".`}function VU(e){return e?`Dropping "fit-${e}" because spec has discrete ${fo(e)}.`:'Dropping "fit" because spec has discrete size.'}function RL(e){return`Unknown field for ${e}. Cannot calculate view size.`}function WU(e){return`Cannot project a selection on encoding channel "${e}", which has no field.`}function Z6e(e,t){return`Cannot project a selection on encoding channel "${e}" as it uses an aggregate function ("${t}").`}function eNe(e){return`The "nearest" transform is not supported for ${e} marks.`}function Zie(e){return`Selection not supported for ${e} yet.`}function tNe(e){return`Cannot find a selection named "${e}".`}const nNe="Scale bindings are currently only supported for scales with unbinned, continuous domains.",rNe="Sequntial scales are deprecated. The available quantitative scale type values are linear, log, pow, sqrt, symlog, time and utc",iNe="Legend bindings are only supported for selections over an individual field or encoding channel.";function oNe(e){return`Lookups can only be performed on selection parameters. "${e}" is a variable parameter.`}function sNe(e){return`Cannot define and lookup the "${e}" selection in the same view. Try moving the lookup into a second, layered view?`}const aNe="The same selection must be used to override scale domains in a layered view.",lNe='Interval selections should be initialized using "x", "y", "longitude", or "latitude" keys.';function uNe(e){return`Unknown repeated value "${e}".`}function HU(e){return`The "columns" property cannot be used when "${e}" has nested row/column.`}const cNe="Axes cannot be shared in concatenated or repeated views yet (https://github.com/vega/vega-lite/issues/2415).";function fNe(e){return`Unrecognized parse "${e}".`}function qU(e,t,n){return`An ancestor parsed field "${e}" as ${n} but a child wants to parse the field as ${t}.`}const dNe="Attempt to add the same child twice.";function hNe(e){return`Ignoring an invalid transform: ${qt(e)}.`}const pNe='If "from.fields" is not specified, "as" has to be a string that specifies the key to be used for the data from the secondary source.';function GU(e){return`Config.customFormatTypes is not true, thus custom format type and format for channel ${e} are dropped.`}function gNe(e){const{parentProjection:t,projection:n}=e;return`Layer's shared projection ${qt(t)} is overridden by a child projection ${qt(n)}.`}const mNe="Arc marks uses theta channel rather than angle, replacing angle with theta.";function yNe(e){return`${e}Offset dropped because ${e} is continuous`}function vNe(e,t,n){return`Channel ${e} is a ${t}. Converted to {value: ${qt(n)}}.`}function eoe(e){return`Invalid field type "${e}".`}function bNe(e,t){return`Invalid field type "${e}" for aggregate: "${t}", using "quantitative" instead.`}function xNe(e){return`Invalid aggregation operator "${e}".`}function toe(e,t){const{fill:n,stroke:r}=t;return`Dropping color ${e} as the plot also has ${n&&r?"fill and stroke":n?"fill":"stroke"}.`}function wNe(e){return`Position range does not support relative band size for ${e}.`}function IR(e,t){return`Dropping ${qt(e)} from channel "${t}" since it does not contain any data field, datum, value, or signal.`}const SNe="Line marks cannot encode size with a non-groupby field. You may want to use trail marks instead.";function t$(e,t,n){return`${e} dropped as it is incompatible with "${t}".`}function ENe(e){return`${e}-encoding is dropped as ${e} is not a valid encoding channel.`}function CNe(e){return`${e} encoding should be discrete (ordinal / nominal / binned).`}function kNe(e){return`${e} encoding should be discrete (ordinal / nominal / binned) or use a discretizing scale (e.g. threshold).`}function _Ne(e){return`Facet encoding dropped as ${e.join(" and ")} ${e.length>1?"are":"is"} also specified.`}function n3(e,t){return`Using discrete channel "${e}" to encode "${t}" field can be misleading as it does not encode ${t==="ordinal"?"order":"magnitude"}.`}function $Ne(e){return`The ${e} for range marks cannot be an expression`}function ANe(e,t){return`Line mark is for continuous lines and thus cannot be used with ${e&&t?"x2 and y2":e?"x2":"y2"}. We will use the rule mark (line segments) instead.`}function TNe(e,t){return`Specified orient "${e}" overridden with "${t}".`}function FNe(e){return`Cannot use the scale property "${e}" with non-color channel.`}function RNe(e){return`Cannot use the relative band size with ${e} scale.`}function PNe(e){return`Using unaggregated domain with raw field has no effect (${qt(e)}).`}function ONe(e){return`Unaggregated domain not applicable for "${e}" since it produces values outside the origin domain of the source data.`}function DNe(e){return`Unaggregated domain is currently unsupported for log scale (${qt(e)}).`}function MNe(e){return`Cannot apply size to non-oriented mark "${e}".`}function NNe(e,t,n){return`Channel "${e}" does not work with "${t}" scale. We are using "${n}" scale instead.`}function LNe(e,t){return`FieldDef does not work with "${e}" scale. We are using "${t}" scale instead.`}function noe(e,t,n){return`${n}-scale's "${t}" is dropped as it does not work with ${e} scale.`}function roe(e){return`The step for "${e}" is dropped because the ${e==="width"?"x":"y"} is continuous.`}function INe(e,t,n,r){return`Conflicting ${t.toString()} property "${e.toString()}" (${qt(n)} and ${qt(r)}). Using ${qt(n)}.`}function zNe(e,t,n,r){return`Conflicting ${t.toString()} property "${e.toString()}" (${qt(n)} and ${qt(r)}). Using the union of the two domains.`}function jNe(e){return`Setting the scale to be independent for "${e}" means we also have to set the guide (axis or legend) to be independent.`}function BNe(e){return`Dropping sort property ${qt(e)} as unioned domains only support boolean or op "count", "min", and "max".`}const XU="Domains that should be unioned has conflicting sort properties. Sort will be set to true.",UNe="Detected faceted independent scales that union domain of multiple fields from different data sources. We will use the first field. The result view size may be incorrect.",VNe="Detected faceted independent scales that union domain of the same fields from different source. We will assume that this is the same field from a different fork of the same data source. However, if this is not the case, the result view size may be incorrect.",WNe="Detected faceted independent scales that union domain of multiple fields from the same data source. We will use the first field. The result view size may be incorrect.";function HNe(e){return`Cannot stack "${e}" if there is already "${e}2".`}function qNe(e){return`Stack is applied to a non-linear scale (${e}).`}function GNe(e){return`Stacking is applied even though the aggregate function is non-summative ("${e}").`}function vC(e,t){return`Invalid ${e}: ${qt(t)}.`}function XNe(e){return`Dropping day from datetime ${qt(e)} as day cannot be combined with other units.`}function YNe(e,t){return`${t?"extent ":""}${t&&e?"and ":""}${e?"center ":""}${t&&e?"are ":"is "}not needed when data are aggregated.`}function KNe(e,t,n){return`${e} is not usually used with ${t} for ${n}.`}function QNe(e,t){return`Continuous axis should not have customized aggregation function ${e}; ${t} already agregates the axis.`}function YU(e){return`1D error band does not support ${e}.`}function ioe(e){return`Channel ${e} is required for "binned" bin.`}function JNe(e){return`Channel ${e} should not be used with "binned" bin.`}function ZNe(e){return`Domain for ${e} is required for threshold scale.`}const ooe=kD(CD);let Lm=ooe;function eLe(e){return Lm=e,Lm}function tLe(){return Lm=ooe,Lm}function ue(...e){Lm.warn(...e)}function nLe(...e){Lm.debug(...e)}function ap(e){if(e&&ve(e)){for(const t of OL)if(le(e,t))return!0}return!1}const soe=["january","february","march","april","may","june","july","august","september","october","november","december"],rLe=soe.map(e=>e.substr(0,3)),aoe=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],iLe=aoe.map(e=>e.substr(0,3));function oLe(e){if(q_(e)&&(e=+e),St(e))return e>4&&ue(vC("quarter",e)),e-1;throw new Error(vC("quarter",e))}function sLe(e){if(q_(e)&&(e=+e),St(e))return e-1;{const t=e.toLowerCase(),n=soe.indexOf(t);if(n!==-1)return n;const r=t.substr(0,3),i=rLe.indexOf(r);if(i!==-1)return i;throw new Error(vC("month",e))}}function aLe(e){if(q_(e)&&(e=+e),St(e))return e%7;{const t=e.toLowerCase(),n=aoe.indexOf(t);if(n!==-1)return n;const r=t.substr(0,3),i=iLe.indexOf(r);if(i!==-1)return i;throw new Error(vC("day",e))}}function PL(e,t){const n=[];if(t&&e.day!==void 0&&se(e).length>1&&(ue(XNe(e)),e=Ge(e),delete e.day),e.year!==void 0?n.push(e.year):n.push(2012),e.month!==void 0){const r=t?sLe(e.month):e.month;n.push(r)}else if(e.quarter!==void 0){const r=t?oLe(e.quarter):e.quarter;n.push(St(r)?r*3:`${r}*3`)}else n.push(0);if(e.date!==void 0)n.push(e.date);else if(e.day!==void 0){const r=t?aLe(e.day):e.day;n.push(St(r)?r+1:`${r}+1`)}else n.push(1);for(const r of["hours","minutes","seconds","milliseconds"]){const i=e[r];n.push(typeof i>"u"?0:i)}return n}function Th(e){const n=PL(e,!0).join(", ");return e.utc?`utc(${n})`:`datetime(${n})`}function lLe(e){const n=PL(e,!1).join(", ");return e.utc?`utc(${n})`:`datetime(${n})`}function uLe(e){const t=PL(e,!0);return e.utc?+new Date(Date.UTC(...t)):+new Date(...t)}const loe={year:1,quarter:1,month:1,week:1,day:1,dayofyear:1,date:1,hours:1,minutes:1,seconds:1,milliseconds:1},OL=se(loe);function cLe(e){return Se(loe,e)}function lp(e){return ve(e)?e.binned:uoe(e)}function uoe(e){return e&&e.startsWith("binned")}function DL(e){return e.startsWith("utc")}function fLe(e){return e.substring(3)}const dLe={"year-month":"%b %Y ","year-month-date":"%b %d, %Y "};function n$(e){return OL.filter(t=>foe(e,t))}function coe(e){const t=n$(e);return t[t.length-1]}function foe(e,t){const n=e.indexOf(t);return!(n<0||n>0&&t==="seconds"&&e.charAt(n-1)==="i"||e.length>n+3&&t==="day"&&e.charAt(n+3)==="o"||n>0&&t==="year"&&e.charAt(n-1)==="f")}function hLe(e,t,{end:n}={end:!1}){const r=xL(t),i=DL(e)?"utc":"";function o(l){return l==="quarter"?`(${i}quarter(${r})-1)`:`${i}${l}(${r})`}let s;const a={};for(const l of OL)foe(e,l)&&(a[l]=o(l),s=l);return n&&(a[s]+="+1"),lLe(a)}function doe(e){if(!e)return;const t=n$(e);return`timeUnitSpecifier(${qt(t)}, ${qt(dLe)})`}function pLe(e,t,n){if(!e)return;const r=doe(e);return`${n||DL(e)?"utc":"time"}Format(${t}, ${r})`}function mr(e){if(!e)return;let t;return we(e)?uoe(e)?t={unit:e.substring(6),binned:!0}:t={unit:e}:ve(e)&&(t={...e,...e.unit?{unit:e.unit}:{}}),DL(t.unit)&&(t.utc=!0,t.unit=fLe(t.unit)),t}function gLe(e){const{utc:t,...n}=mr(e);return n.unit?(t?"utc":"")+se(n).map(r=>pn(`${r==="unit"?"":`_${r}_`}${n[r]}`)).join(""):(t?"utc":"")+"timeunit"+se(n).map(r=>pn(`_${r}_${n[r]}`)).join("")}function hoe(e,t=n=>n){const n=mr(e),r=coe(n.unit);if(r&&r!=="day"){const i={year:2001,month:1,date:1,hours:0,minutes:0,seconds:0,milliseconds:0},{step:o,part:s}=poe(r,n.step),a={...i,[s]:+i[s]+o};return`${t(Th(a))} - ${t(Th(i))}`}}const mLe={year:1,month:1,date:1,hours:1,minutes:1,seconds:1,milliseconds:1};function yLe(e){return Se(mLe,e)}function poe(e,t=1){if(yLe(e))return{part:e,step:t};switch(e){case"day":case"dayofyear":return{part:"date",step:t};case"quarter":return{part:"month",step:t*3};case"week":return{part:"date",step:t*7}}}function vLe(e){return le(e,"param")}function ML(e){return!!(e!=null&&e.field)&&e.equal!==void 0}function NL(e){return!!(e!=null&&e.field)&&e.lt!==void 0}function LL(e){return!!(e!=null&&e.field)&&e.lte!==void 0}function IL(e){return!!(e!=null&&e.field)&&e.gt!==void 0}function zL(e){return!!(e!=null&&e.field)&&e.gte!==void 0}function jL(e){if(e!=null&&e.field){if(te(e.range)&&e.range.length===2)return!0;if(Re(e.range))return!0}return!1}function BL(e){return!!(e!=null&&e.field)&&(te(e.oneOf)||te(e.in))}function bLe(e){return!!(e!=null&&e.field)&&e.valid!==void 0}function goe(e){return BL(e)||ML(e)||jL(e)||NL(e)||IL(e)||LL(e)||zL(e)}function Da(e,t){return d$(e,{timeUnit:t,wrapTime:!0})}function xLe(e,t){return e.map(n=>Da(n,t))}function moe(e,t=!0){const{field:n}=e,r=mr(e.timeUnit),{unit:i,binned:o}=r||{},s=ye(e,{expr:"datum"}),a=i?`time(${o?s:hLe(i,n)})`:s;if(ML(e))return`${a}===${Da(e.equal,i)}`;if(NL(e)){const l=e.lt;return`${a}<${Da(l,i)}`}else if(IL(e)){const l=e.gt;return`${a}>${Da(l,i)}`}else if(LL(e)){const l=e.lte;return`${a}<=${Da(l,i)}`}else if(zL(e)){const l=e.gte;return`${a}>=${Da(l,i)}`}else{if(BL(e))return`indexof([${xLe(e.oneOf,i).join(",")}], ${a}) !== -1`;if(bLe(e))return r$(a,e.valid);if(jL(e)){const{range:l}=$r(e),u=Re(l)?{signal:`${l.signal}[0]`}:l[0],c=Re(l)?{signal:`${l.signal}[1]`}:l[1];if(u!==null&&c!==null&&t)return"inrange("+a+", ["+Da(u,i)+", "+Da(c,i)+"])";const f=[];return u!==null&&f.push(`${a} >= ${Da(u,i)}`),c!==null&&f.push(`${a} <= ${Da(c,i)}`),f.length>0?f.join(" && "):"true"}}throw new Error(`Invalid field predicate: ${qt(e)}`)}function r$(e,t=!0){return t?`isValid(${e}) && isFinite(+${e})`:`!isValid(${e}) || !isFinite(+${e})`}function wLe(e){return goe(e)&&e.timeUnit?{...e,timeUnit:mr(e.timeUnit)}:e}const Cx={quantitative:"quantitative",ordinal:"ordinal",temporal:"temporal",nominal:"nominal",geojson:"geojson"};function SLe(e){return e==="quantitative"||e==="temporal"}function yoe(e){return e==="ordinal"||e==="nominal"}const Fh=Cx.quantitative,UL=Cx.ordinal,Im=Cx.temporal,VL=Cx.nominal,M0=Cx.geojson;function ELe(e){if(e)switch(e=e.toLowerCase(),e){case"q":case Fh:return"quantitative";case"t":case Im:return"temporal";case"o":case UL:return"ordinal";case"n":case VL:return"nominal";case M0:return"geojson"}}const Tr={LINEAR:"linear",LOG:"log",POW:"pow",SQRT:"sqrt",SYMLOG:"symlog",IDENTITY:"identity",SEQUENTIAL:"sequential",TIME:"time",UTC:"utc",QUANTILE:"quantile",QUANTIZE:"quantize",THRESHOLD:"threshold",BIN_ORDINAL:"bin-ordinal",ORDINAL:"ordinal",POINT:"point",BAND:"band"},zR={linear:"numeric",log:"numeric",pow:"numeric",sqrt:"numeric",symlog:"numeric",identity:"numeric",sequential:"numeric",time:"time",utc:"time",ordinal:"ordinal","bin-ordinal":"bin-ordinal",point:"ordinal-position",band:"ordinal-position",quantile:"discretizing",quantize:"discretizing",threshold:"discretizing"};function CLe(e,t){const n=zR[e],r=zR[t];return n===r||n==="ordinal-position"&&r==="time"||r==="ordinal-position"&&n==="time"}const kLe={linear:0,log:1,pow:1,sqrt:1,symlog:1,identity:1,sequential:1,time:0,utc:0,point:10,band:11,ordinal:0,"bin-ordinal":0,quantile:0,quantize:0,threshold:0};function KU(e){return kLe[e]}const voe=new Set(["linear","log","pow","sqrt","symlog"]),boe=new Set([...voe,"time","utc"]);function xoe(e){return voe.has(e)}const woe=new Set(["quantile","quantize","threshold"]),_Le=new Set([...boe,...woe,"sequential","identity"]),$Le=new Set(["ordinal","bin-ordinal","point","band"]);function vr(e){return $Le.has(e)}function pa(e){return _Le.has(e)}function nl(e){return boe.has(e)}function zm(e){return woe.has(e)}const ALe={pointPadding:.5,barBandPaddingInner:.1,rectBandPaddingInner:0,tickBandPaddingInner:.25,bandWithNestedOffsetPaddingInner:.2,bandWithNestedOffsetPaddingOuter:.2,minBandSize:2,minFontSize:8,maxFontSize:40,minOpacity:.3,maxOpacity:.8,minSize:4,minStrokeWidth:1,maxStrokeWidth:4,quantileCount:4,quantizeCount:4,zero:!0};function TLe(e){return!we(e)&&le(e,"name")}function Soe(e){return le(e,"param")}function FLe(e){return le(e,"unionWith")}function RLe(e){return ve(e)&&"field"in e}const PLe={type:1,domain:1,domainMax:1,domainMin:1,domainMid:1,domainRaw:1,align:1,range:1,rangeMax:1,rangeMin:1,scheme:1,bins:1,reverse:1,round:1,clamp:1,nice:1,base:1,exponent:1,constant:1,interpolate:1,zero:1,padding:1,paddingInner:1,paddingOuter:1},{type:Wht,domain:Hht,range:qht,rangeMax:Ght,rangeMin:Xht,scheme:Yht,...OLe}=PLe,DLe=se(OLe);function jR(e,t){switch(t){case"type":case"domain":case"reverse":case"range":return!0;case"scheme":case"interpolate":return!["point","band","identity"].includes(e);case"bins":return!["point","band","identity","ordinal"].includes(e);case"round":return nl(e)||e==="band"||e==="point";case"padding":case"rangeMin":case"rangeMax":return nl(e)||["point","band"].includes(e);case"paddingOuter":case"align":return["point","band"].includes(e);case"paddingInner":return e==="band";case"domainMax":case"domainMid":case"domainMin":case"domainRaw":case"clamp":return nl(e);case"nice":return nl(e)||e==="quantize"||e==="threshold";case"exponent":return e==="pow";case"base":return e==="log";case"constant":return e==="symlog";case"zero":return pa(e)&&!it(["log","time","utc","threshold","quantile"],e)}}function Eoe(e,t){switch(t){case"interpolate":case"scheme":case"domainMid":return Dg(e)?void 0:FNe(t);case"align":case"type":case"bins":case"domain":case"domainMax":case"domainMin":case"domainRaw":case"range":case"base":case"exponent":case"constant":case"nice":case"padding":case"paddingInner":case"paddingOuter":case"rangeMax":case"rangeMin":case"reverse":case"round":case"clamp":case"zero":return}}function MLe(e,t){return it([UL,VL],t)?e===void 0||vr(e):t===Im?it([Tr.TIME,Tr.UTC,void 0],e):t===Fh?xoe(e)||zm(e)||e===void 0:!0}function NLe(e,t,n=!1){if(!Ml(e))return!1;switch(e){case mn:case xr:case Lf:case D0:case Ts:case Ea:return nl(t)||t==="band"?!0:t==="point"?!n:!1;case zu:case jf:case ju:case If:case zf:case rp:return nl(t)||zm(t)||it(["band","point","ordinal"],t);case uo:case Pl:case Ol:return t!=="band";case Bf:case co:return t==="ordinal"||zm(t)}}function LLe(e){return ve(e)&&"value"in e}const zi={arc:"arc",area:"area",bar:"bar",image:"image",line:"line",point:"point",rect:"rect",rule:"rule",text:"text",tick:"tick",trail:"trail",circle:"circle",square:"square",geoshape:"geoshape"},Coe=zi.arc,i$=zi.area,o$=zi.bar,ILe=zi.image,s$=zi.line,a$=zi.point,zLe=zi.rect,bC=zi.rule,koe=zi.text,WL=zi.tick,jLe=zi.trail,HL=zi.circle,qL=zi.square,_oe=zi.geoshape;function Vf(e){return["line","area","trail"].includes(e)}function Hv(e){return["rect","bar","image","arc","tick"].includes(e)}const BLe=new Set(se(zi));function wl(e){return le(e,"type")}const ULe=["stroke","strokeWidth","strokeDash","strokeDashOffset","strokeOpacity","strokeJoin","strokeMiterLimit"],VLe=["fill","fillOpacity"],WLe=[...ULe,...VLe],HLe={color:1,filled:1,invalid:1,order:1,radius2:1,theta2:1,timeUnitBandSize:1,timeUnitBandPosition:1},QU=se(HLe),r3=["binSpacing","continuousBandSize","discreteBandSize","minBandSize"],qLe={area:["line","point"],bar:r3,rect:r3,line:["point"],tick:["bandSize","thickness",...r3]},GLe={color:"#4c78a8",invalid:"break-paths-show-path-domains",timeUnitBandSize:1},XLe={mark:1,arc:1,area:1,bar:1,circle:1,image:1,line:1,point:1,rect:1,rule:1,square:1,text:1,tick:1,trail:1,geoshape:1},$oe=se(XLe);function Rh(e){return le(e,"band")}const YLe={horizontal:["cornerRadiusTopRight","cornerRadiusBottomRight"],vertical:["cornerRadiusTopLeft","cornerRadiusTopRight"]},KLe=5,GL={binSpacing:0,continuousBandSize:KLe,minBandSize:.25,timeUnitBandPosition:.5},QLe={...GL,binSpacing:1},JLe={...GL,thickness:1};function ZLe(e){return wl(e)?e.type:e}function Aoe(e,{isPath:t}){return e===void 0||e==="break-paths-show-path-domains"?t?"break-paths-show-domains":"filter":e===null?"show":e}function XL({markDef:e,config:t,scaleChannel:n,scaleType:r,isCountAggregate:i}){var a,l;if(!r||!pa(r)||i)return"always-valid";const o=Aoe(Wt("invalid",e,t),{isPath:Vf(e.type)});return((l=(a=t.scale)==null?void 0:a.invalid)==null?void 0:l[n])!==void 0?"show":o}function eIe(e){return e==="break-paths-filter-domains"||e==="break-paths-show-domains"}function Toe({scaleName:e,scale:t,mode:n}){const r=`domain('${e}')`;if(!t||!e)return;const i=`${r}[0]`,o=`peek(${r})`,s=t.domainHasZero();return s==="definitely"?{scale:e,value:0}:s==="maybe"?{signal:`scale('${e}', inrange(0, ${r}) ? 0 : ${n==="zeroOrMin"?i:o})`}:{signal:`scale('${e}', ${n==="zeroOrMin"?i:o})`}}function Foe({scaleChannel:e,channelDef:t,scale:n,scaleName:r,markDef:i,config:o}){var c;const s=n==null?void 0:n.get("type"),a=ma(t),l=Z_(a==null?void 0:a.aggregate),u=XL({scaleChannel:e,markDef:i,config:o,scaleType:s,isCountAggregate:l});if(a&&u==="show"){const f=((c=o.scale.invalid)==null?void 0:c[e])??"zero-or-min";return{test:r$(ye(a,{expr:"datum"}),!1),...tIe(f,n,r)}}}function tIe(e,t,n){if(LLe(e)){const{value:r}=e;return Re(r)?{signal:r.signal}:{value:r}}return Toe({scale:t,scaleName:n,mode:"zeroOrMin"})}function YL(e){const{channel:t,channelDef:n,markDef:r,scale:i,scaleName:o,config:s}=e,a=ip(t),l=KL(e),u=Foe({scaleChannel:a,channelDef:n,scale:i,scaleName:o,markDef:r,config:s});return u!==void 0?[u,l]:l}function nIe(e){const{datum:t}=e;return ap(t)?Th(t):`${qt(t)}`}function nh(e,t,n,r){const i={};if(t&&(i.scale=t),Nl(e)){const{datum:o}=e;ap(o)?i.signal=Th(o):Re(o)?i.signal=o.signal:Ex(o)?i.signal=o.expr:i.value=o}else i.field=ye(e,n);if(r){const{offset:o,band:s}=r;o&&(i.offset=o),s&&(i.band=s)}return i}function xC({scaleName:e,fieldOrDatumDef:t,fieldOrDatumDef2:n,offset:r,startSuffix:i,endSuffix:o="end",bandPosition:s=.5}){const a=!Re(s)&&0<s&&s<1?"datum":void 0,l=ye(t,{expr:a,suffix:i}),u=n!==void 0?ye(n,{expr:a}):ye(t,{suffix:o,expr:a}),c={};if(s===0||s===1){c.scale=e;const f=s===0?l:u;c.field=f}else{const f=Re(s)?`(1-${s.signal}) * ${l} + ${s.signal} * ${u}`:`${1-s} * ${l} + ${s} * ${u}`;c.signal=`scale("${e}", ${f})`}return r&&(c.offset=r),c}function rIe({scaleName:e,fieldDef:t}){const n=ye(t,{expr:"datum"}),r=ye(t,{expr:"datum",suffix:"end"});return`abs(scale("${e}", ${r}) - scale("${e}", ${n}))`}function KL({channel:e,channelDef:t,channel2Def:n,markDef:r,config:i,scaleName:o,scale:s,stack:a,offset:l,defaultRef:u,bandPosition:c}){if(t){if(Ke(t)){const f=s==null?void 0:s.get("type");if(Ni(t)){c??(c=xf({fieldDef:t,fieldDef2:n,markDef:r,config:i}));const{bin:d,timeUnit:h,type:p}=t;if(nn(d)||c&&h&&p===Im)return a!=null&&a.impute?nh(t,o,{binSuffix:"mid"},{offset:l}):c&&!vr(f)?xC({scaleName:o,fieldOrDatumDef:t,bandPosition:c,offset:l}):nh(t,o,Tx(t,e)?{binSuffix:"range"}:{},{offset:l});if(_r(d)){if(ce(n))return xC({scaleName:o,fieldOrDatumDef:t,fieldOrDatumDef2:n,bandPosition:c,offset:l});ue(ioe(e===mn?Sa:Rl))}}return nh(t,o,vr(f)?{binSuffix:"range"}:{},{offset:l,band:f==="band"?c??t.bandPosition??.5:void 0})}else if(ga(t)){const f=t.value,d=l?{offset:l}:{};return{...Q1(e,f),...d}}}return et(u)&&(u=u()),u&&{...u,...l?{offset:l}:{}}}function Q1(e,t){return it(["x","x2"],e)&&t==="width"?{field:{group:"width"}}:it(["y","y2"],e)&&t==="height"?{field:{group:"height"}}:ln(t)}function Ph(e){return e&&e!=="number"&&e!=="time"}function Roe(e,t,n){return`${e}(${t}${n?`, ${qt(n)}`:""})`}const iIe=" – ";function QL({fieldOrDatumDef:e,format:t,formatType:n,expr:r,normalizeStack:i,config:o}){var l,u;if(Ph(n))return ra({fieldOrDatumDef:e,format:t,formatType:n,expr:r,config:o});const s=Poe(e,r,i),a=jm(e);if(t===void 0&&n===void 0&&o.customFormatTypes){if(a==="quantitative"){if(i&&o.normalizedNumberFormatType)return ra({fieldOrDatumDef:e,format:o.normalizedNumberFormat,formatType:o.normalizedNumberFormatType,expr:r,config:o});if(o.numberFormatType)return ra({fieldOrDatumDef:e,format:o.numberFormat,formatType:o.numberFormatType,expr:r,config:o})}if(a==="temporal"&&o.timeFormatType&&ce(e)&&e.timeUnit===void 0)return ra({fieldOrDatumDef:e,format:o.timeFormat,formatType:o.timeFormatType,expr:r,config:o})}if(Um(e)){const c=sIe({field:s,timeUnit:ce(e)?(l=mr(e.timeUnit))==null?void 0:l.unit:void 0,format:t,formatType:o.timeFormatType,rawTimeFormat:o.timeFormat,isUTCScale:up(e)&&((u=e.scale)==null?void 0:u.type)===Tr.UTC});return c?{signal:c}:void 0}if(t=BR({type:a,specifiedFormat:t,config:o,normalizeStack:i}),ce(e)&&nn(e.bin)){const c=ye(e,{expr:r,binSuffix:"end"});return{signal:kx(s,c,t,n,o)}}else return t||jm(e)==="quantitative"?{signal:`${Moe(s,t)}`}:{signal:`isValid(${s}) ? ${s} : ""+${s}`}}function Poe(e,t,n){return ce(e)?n?`${ye(e,{expr:t,suffix:"end"})}-${ye(e,{expr:t,suffix:"start"})}`:ye(e,{expr:t}):nIe(e)}function ra({fieldOrDatumDef:e,format:t,formatType:n,expr:r,normalizeStack:i,config:o,field:s}){if(s??(s=Poe(e,r,i)),s!=="datum.value"&&ce(e)&&nn(e.bin)){const a=ye(e,{expr:r,binSuffix:"end"});return{signal:kx(s,a,t,n,o)}}return{signal:Roe(n,s,t)}}function Ooe(e,t,n,r,i,o){var s;if(!(we(r)&&Ph(r))&&!(n===void 0&&r===void 0&&i.customFormatTypes&&jm(e)==="quantitative"&&(i.normalizedNumberFormatType&&Bm(e)&&e.stack==="normalize"||i.numberFormatType))){if(Bm(e)&&e.stack==="normalize"&&i.normalizedNumberFormat)return BR({type:"quantitative",config:i,normalizeStack:!0});if(Um(e)){const a=ce(e)?(s=mr(e.timeUnit))==null?void 0:s.unit:void 0;return a===void 0&&i.customFormatTypes&&i.timeFormatType?void 0:oIe({specifiedFormat:n,timeUnit:a,config:i,omitTimeFormatConfig:o})}return BR({type:t,specifiedFormat:n,config:i})}}function Doe(e,t,n){var r;if(e&&(Re(e)||e==="number"||e==="time"))return e;if(Um(t)&&n!=="time"&&n!=="utc")return ce(t)&&((r=mr(t==null?void 0:t.timeUnit))!=null&&r.utc)?"utc":"time"}function BR({type:e,specifiedFormat:t,config:n,normalizeStack:r}){if(we(t))return t;if(e===Fh)return r?n.normalizedNumberFormat:n.numberFormat}function oIe({specifiedFormat:e,timeUnit:t,config:n,omitTimeFormatConfig:r}){return e||(t?{signal:doe(t)}:r?void 0:n.timeFormat)}function Moe(e,t){return`format(${e}, "${t||""}")`}function JU(e,t,n,r){return Ph(n)?Roe(n,e,t):Moe(e,(we(t)?t:void 0)??r.numberFormat)}function kx(e,t,n,r,i){if(n===void 0&&r===void 0&&i.customFormatTypes&&i.numberFormatType)return kx(e,t,i.numberFormat,i.numberFormatType,i);const o=JU(e,n,r,i),s=JU(t,n,r,i);return`${r$(e,!1)} ? "null" : ${o} + "${iIe}" + ${s}`}function sIe({field:e,timeUnit:t,format:n,formatType:r,rawTimeFormat:i,isUTCScale:o}){return!t||n?!t&&r?`${r}(${e}, '${n}')`:(n=we(n)?n:i,`${o?"utc":"time"}Format(${e}, '${n}')`):pLe(t,e,o)}const l$="min",aIe={x:1,y:1,color:1,fill:1,stroke:1,strokeWidth:1,size:1,shape:1,fillOpacity:1,strokeOpacity:1,opacity:1,text:1};function ZU(e){return Se(aIe,e)}function lIe(e){return le(e,"encoding")}function mu(e){return e&&(e.op==="count"||le(e,"field"))}function Noe(e){return e&&te(e)}function _x(e){return le(e,"row")||le(e,"column")}function JL(e){return le(e,"header")}function u$(e){return le(e,"facet")}function uIe(e){return le(e,"param")}function cIe(e){return!we(e)&&le(e,"repeat")}function eV(e){const{field:t,timeUnit:n,bin:r,aggregate:i}=e;return{...n?{timeUnit:n}:{},...r?{bin:r}:{},...i?{aggregate:i}:{},field:t}}function ZL(e){return le(e,"sort")}function xf({fieldDef:e,fieldDef2:t,markDef:n,config:r}){if(Ke(e)&&e.bandPosition!==void 0)return e.bandPosition;if(ce(e)){const{timeUnit:i,bin:o}=e;if(i&&!t)return xl("timeUnitBandPosition",n,r);if(nn(o))return .5}}function Loe({channel:e,fieldDef:t,fieldDef2:n,markDef:r,config:i,scaleType:o,useVlSizeChannel:s}){var u,c,f;const a=fo(e),l=Wt(s?"size":a,r,i,{vgChannel:a});if(l!==void 0)return l;if(ce(t)){const{timeUnit:d,bin:h}=t;if(d&&!n)return{band:xl("timeUnitBandSize",r,i)};if(nn(h)&&!vr(o))return{band:1}}if(Hv(r.type))return o?vr(o)?((u=i[r.type])==null?void 0:u.discreteBandSize)||{band:1}:(c=i[r.type])==null?void 0:c.continuousBandSize:(f=i[r.type])==null?void 0:f.discreteBandSize}function Ioe(e,t,n,r){return nn(e.bin)||e.timeUnit&&Ni(e)&&e.type==="temporal"?xf({fieldDef:e,fieldDef2:t,markDef:n,config:r})!==void 0:!1}function zoe(e){return le(e,"sort")&&!le(e,"field")}function $x(e){return le(e,"condition")}function c$(e){const t=e==null?void 0:e.condition;return!!t&&!te(t)&&ce(t)}function Ax(e){const t=e==null?void 0:e.condition;return!!t&&!te(t)&&Ke(t)}function fIe(e){const t=e==null?void 0:e.condition;return!!t&&(te(t)||ga(t))}function ce(e){return le(e,"field")||(e==null?void 0:e.aggregate)==="count"}function jm(e){return e==null?void 0:e.type}function Nl(e){return le(e,"datum")}function Uc(e){return Ni(e)&&!SC(e)||wC(e)}function tV(e){return Ni(e)&&e.type==="quantitative"&&!e.bin||wC(e)}function wC(e){return Nl(e)&&St(e.datum)}function Ke(e){return ce(e)||Nl(e)}function Ni(e){return e&&(le(e,"field")||e.aggregate==="count")&&le(e,"type")}function ga(e){return le(e,"value")}function up(e){return le(e,"scale")||le(e,"sort")}function Bm(e){return le(e,"axis")||le(e,"stack")||le(e,"impute")}function joe(e){return le(e,"legend")}function Boe(e){return le(e,"format")||le(e,"formatType")}function dIe(e){return eo(e,["legend","axis","header","scale"])}function hIe(e){return le(e,"op")}function ye(e,t={}){let n=e.field;const r=t.prefix;let i=t.suffix,o="";if(gIe(e))n=Fie("count");else{let s;if(!t.nofn)if(hIe(e))s=e.op;else{const{bin:a,aggregate:l,timeUnit:u}=e;nn(a)?(s=Wie(a),i=(t.binSuffix??"")+(t.suffix??"")):l?Uf(l)?(o=`["${n}"]`,n=`argmax_${l.argmax}`):$u(l)?(o=`["${n}"]`,n=`argmin_${l.argmin}`):s=String(l):u&&!lp(u)&&(s=gLe(u),i=(!["range","mid"].includes(t.binSuffix)&&t.binSuffix||"")+(t.suffix??""))}s&&(n=n?`${s}_${n}`:s)}return i&&(n=`${n}_${i}`),r&&(n=`${r}_${n}`),t.forAs?O0(n):t.expr?$ie(n,t.expr)+o:Cs(n)+o}function SC(e){switch(e.type){case"nominal":case"ordinal":case"geojson":return!0;case"quantitative":return ce(e)&&!!e.bin;case"temporal":return!1}throw new Error(eoe(e.type))}function pIe(e){var t;return up(e)&&zm((t=e.scale)==null?void 0:t.type)}function gIe(e){return e.aggregate==="count"}function mIe(e,t){var s;const{field:n,bin:r,timeUnit:i,aggregate:o}=e;if(o==="count")return t.countTitle;if(nn(r))return`${n} (binned)`;if(i&&!lp(i)){const a=(s=mr(i))==null?void 0:s.unit;if(a)return`${n} (${n$(a).join("-")})`}else if(o)return Uf(o)?`${n} for max ${o.argmax}`:$u(o)?`${n} for min ${o.argmin}`:`${bx(o)} of ${n}`;return n}function yIe(e){const{aggregate:t,bin:n,timeUnit:r,field:i}=e;if(Uf(t))return`${i} for argmax(${t.argmax})`;if($u(t))return`${i} for argmin(${t.argmin})`;const o=r&&!lp(r)?mr(r):void 0,s=t||(o==null?void 0:o.unit)||(o==null?void 0:o.maxbins)&&"timeunit"||nn(n)&&"bin";return s?`${s.toUpperCase()}(${i})`:i}const Uoe=(e,t)=>{switch(t.fieldTitle){case"plain":return e.field;case"functional":return yIe(e);default:return mIe(e,t)}};let Voe=Uoe;function Woe(e){Voe=e}function vIe(){Woe(Uoe)}function Mg(e,t,{allowDisabling:n,includeDefault:r=!0}){var a;const i=(a=eI(e))==null?void 0:a.title;if(!ce(e))return i??e.title;const o=e,s=r?tI(o,t):void 0;return n?jn(i,o.title,s):i??o.title??s}function eI(e){if(Bm(e)&&e.axis)return e.axis;if(joe(e)&&e.legend)return e.legend;if(JL(e)&&e.header)return e.header}function tI(e,t){return Voe(e,t)}function EC(e){if(Boe(e)){const{format:t,formatType:n}=e;return{format:t,formatType:n}}else{const t=eI(e)??{},{format:n,formatType:r}=t;return{format:n,formatType:r}}}function bIe(e,t){var o;switch(t){case"latitude":case"longitude":return"quantitative";case"row":case"column":case"facet":case"shape":case"strokeDash":return"nominal";case"order":return"ordinal"}if(ZL(e)&&te(e.sort))return"ordinal";const{aggregate:n,bin:r,timeUnit:i}=e;if(i)return"temporal";if(r||n&&!Uf(n)&&!$u(n))return"quantitative";if(up(e)&&((o=e.scale)!=null&&o.type))switch(zR[e.scale.type]){case"numeric":case"discretizing":return"quantitative";case"time":return"temporal"}return"nominal"}function ma(e){if(ce(e))return e;if(c$(e))return e.condition}function nr(e){if(Ke(e))return e;if(Ax(e))return e.condition}function Hoe(e,t,n,r={}){if(we(e)||St(e)||Ff(e)){const i=we(e)?"string":St(e)?"number":"boolean";return ue(vNe(t,i,e)),{value:e}}return Ke(e)?CC(e,t,n,r):Ax(e)?{...e,condition:CC(e.condition,t,n,r)}:e}function CC(e,t,n,r){if(Boe(e)){const{format:i,formatType:o,...s}=e;if(Ph(o)&&!n.customFormatTypes)return ue(GU(t)),CC(s,t,n,r)}else{const i=Bm(e)?"axis":joe(e)?"legend":JL(e)?"header":null;if(i&&e[i]){const{format:o,formatType:s,...a}=e[i];if(Ph(s)&&!n.customFormatTypes)return ue(GU(t)),CC({...e,[i]:a},t,n,r)}}return ce(e)?nI(e,t,r):xIe(e)}function xIe(e){let t=e.type;if(t)return e;const{datum:n}=e;return t=St(n)?"quantitative":we(n)?"nominal":ap(n)?"temporal":void 0,{...e,type:t}}function nI(e,t,{compositeMark:n=!1}={}){const{aggregate:r,timeUnit:i,bin:o,field:s}=e,a={...e};if(!n&&r&&!TL(r)&&!Uf(r)&&!$u(r)&&(ue(xNe(r)),delete a.aggregate),i&&(a.timeUnit=mr(i)),s&&(a.field=`${s}`),nn(o)&&(a.bin=f$(o,t)),_r(o)&&!Bn(t)&&ue(JNe(t)),Ni(a)){const{type:l}=a,u=ELe(l);l!==u&&(a.type=u),l!=="quantitative"&&Z_(r)&&(ue(bNe(l,r)),a.type="quantitative")}else if(!Iie(t)){const l=bIe(a,t);a.type=l}if(Ni(a)){const{compatible:l,warning:u}=wIe(a,t)||{};l===!1&&ue(u)}if(ZL(a)&&we(a.sort)){const{sort:l}=a;if(ZU(l))return{...a,sort:{encoding:l}};const u=l.substring(1);if(l.charAt(0)==="-"&&ZU(u))return{...a,sort:{encoding:u,order:"descending"}}}if(JL(a)){const{header:l}=a;if(l){const{orient:u,...c}=l;if(u)return{...a,header:{...c,labelOrient:l.labelOrient||u,titleOrient:l.titleOrient||u}}}}return a}function f$(e,t){return Ff(e)?{maxbins:IU(t)}:e==="binned"?{binned:!0}:!e.maxbins&&!e.step?{...e,maxbins:IU(t)}:e}const jp={compatible:!0};function wIe(e,t){const n=e.type;if(n==="geojson"&&t!=="shape")return{compatible:!1,warning:`Channel ${t} should not be used with a geojson data.`};switch(t){case pu:case gu:case G_:return SC(e)?jp:{compatible:!1,warning:CNe(t)};case mn:case xr:case Lf:case D0:case uo:case Pl:case Ol:case xx:case wx:case X_:case Ah:case Y_:case K_:case rp:case Ts:case Ea:case Q_:return jp;case ka:case ks:case Ca:case _a:return n!==Fh?{compatible:!1,warning:`Channel ${t} should be used with a quantitative field only, not ${e.type} field.`}:jp;case ju:case If:case zf:case jf:case zu:case Iu:case Lu:case Sa:case Rl:return n==="nominal"&&!e.sort?{compatible:!1,warning:`Channel ${t} should not be used with an unsorted discrete field.`}:jp;case co:case Bf:return!SC(e)&&!pIe(e)?{compatible:!1,warning:kNe(t)}:jp;case Nm:return e.type==="nominal"&&!("sort"in e)?{compatible:!1,warning:"Channel order is inappropriate for nominal field, which has no inherent order."}:jp}}function Um(e){const{formatType:t}=EC(e);return t==="time"||!t&&SIe(e)}function SIe(e){return e&&(e.type==="temporal"||ce(e)&&!!e.timeUnit)}function d$(e,{timeUnit:t,type:n,wrapTime:r,undefinedIfExprNotRequired:i}){var l;const o=t&&((l=mr(t))==null?void 0:l.unit);let s=o||n==="temporal",a;return Ex(e)?a=e.expr:Re(e)?a=e.signal:ap(e)?(s=!0,a=Th(e)):(we(e)||St(e))&&s&&(a=`datetime(${qt(e)})`,cLe(o)&&(St(e)&&e<1e4||we(e)&&isNaN(Date.parse(e)))&&(a=Th({[o]:e}))),a?r&&s?`time(${a})`:a:i?void 0:qt(e)}function qoe(e,t){const{type:n}=e;return t.map(r=>{const i=ce(e)&&!lp(e.timeUnit)?e.timeUnit:void 0,o=d$(r,{timeUnit:i,type:n,undefinedIfExprNotRequired:!0});return o!==void 0?{signal:o}:r})}function Tx(e,t){return nn(e.bin)?Ml(t)&&["ordinal","nominal"].includes(e.type):(console.warn("Only call this method for binned field defs."),!1)}const nV={labelAlign:{part:"labels",vgProp:"align"},labelBaseline:{part:"labels",vgProp:"baseline"},labelColor:{part:"labels",vgProp:"fill"},labelFont:{part:"labels",vgProp:"font"},labelFontSize:{part:"labels",vgProp:"fontSize"},labelFontStyle:{part:"labels",vgProp:"fontStyle"},labelFontWeight:{part:"labels",vgProp:"fontWeight"},labelOpacity:{part:"labels",vgProp:"opacity"},labelOffset:null,labelPadding:null,gridColor:{part:"grid",vgProp:"stroke"},gridDash:{part:"grid",vgProp:"strokeDash"},gridDashOffset:{part:"grid",vgProp:"strokeDashOffset"},gridOpacity:{part:"grid",vgProp:"opacity"},gridWidth:{part:"grid",vgProp:"strokeWidth"},tickColor:{part:"ticks",vgProp:"stroke"},tickDash:{part:"ticks",vgProp:"strokeDash"},tickDashOffset:{part:"ticks",vgProp:"strokeDashOffset"},tickOpacity:{part:"ticks",vgProp:"opacity"},tickSize:null,tickWidth:{part:"ticks",vgProp:"strokeWidth"}};function Fx(e){return e==null?void 0:e.condition}const Goe=["domain","grid","labels","ticks","title"],EIe={grid:"grid",gridCap:"grid",gridColor:"grid",gridDash:"grid",gridDashOffset:"grid",gridOpacity:"grid",gridScale:"grid",gridWidth:"grid",orient:"main",bandPosition:"both",aria:"main",description:"main",domain:"main",domainCap:"main",domainColor:"main",domainDash:"main",domainDashOffset:"main",domainOpacity:"main",domainWidth:"main",format:"main",formatType:"main",labelAlign:"main",labelAngle:"main",labelBaseline:"main",labelBound:"main",labelColor:"main",labelFlush:"main",labelFlushOffset:"main",labelFont:"main",labelFontSize:"main",labelFontStyle:"main",labelFontWeight:"main",labelLimit:"main",labelLineHeight:"main",labelOffset:"main",labelOpacity:"main",labelOverlap:"main",labelPadding:"main",labels:"main",labelSeparation:"main",maxExtent:"main",minExtent:"main",offset:"both",position:"main",tickCap:"main",tickColor:"main",tickDash:"main",tickDashOffset:"main",tickMinStep:"both",tickOffset:"both",tickOpacity:"main",tickRound:"both",ticks:"main",tickSize:"main",tickWidth:"both",title:"main",titleAlign:"main",titleAnchor:"main",titleAngle:"main",titleBaseline:"main",titleColor:"main",titleFont:"main",titleFontSize:"main",titleFontStyle:"main",titleFontWeight:"main",titleLimit:"main",titleLineHeight:"main",titleOpacity:"main",titlePadding:"main",titleX:"main",titleY:"main",encode:"both",scale:"both",tickBand:"both",tickCount:"both",tickExtra:"both",translate:"both",values:"both",zindex:"both"},Xoe={orient:1,aria:1,bandPosition:1,description:1,domain:1,domainCap:1,domainColor:1,domainDash:1,domainDashOffset:1,domainOpacity:1,domainWidth:1,format:1,formatType:1,grid:1,gridCap:1,gridColor:1,gridDash:1,gridDashOffset:1,gridOpacity:1,gridWidth:1,labelAlign:1,labelAngle:1,labelBaseline:1,labelBound:1,labelColor:1,labelFlush:1,labelFlushOffset:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelLineHeight:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labels:1,labelSeparation:1,maxExtent:1,minExtent:1,offset:1,position:1,tickBand:1,tickCap:1,tickColor:1,tickCount:1,tickDash:1,tickDashOffset:1,tickExtra:1,tickMinStep:1,tickOffset:1,tickOpacity:1,tickRound:1,ticks:1,tickSize:1,tickWidth:1,title:1,titleAlign:1,titleAnchor:1,titleAngle:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titlePadding:1,titleX:1,titleY:1,translate:1,values:1,zindex:1},CIe={...Xoe,style:1,labelExpr:1,encoding:1};function rV(e){return Se(CIe,e)}const kIe={axis:1,axisBand:1,axisBottom:1,axisDiscrete:1,axisLeft:1,axisPoint:1,axisQuantitative:1,axisRight:1,axisTemporal:1,axisTop:1,axisX:1,axisXBand:1,axisXDiscrete:1,axisXPoint:1,axisXQuantitative:1,axisXTemporal:1,axisY:1,axisYBand:1,axisYDiscrete:1,axisYPoint:1,axisYQuantitative:1,axisYTemporal:1},Yoe=se(kIe);function Uu(e){return le(e,"mark")}class h${constructor(t,n){this.name=t,this.run=n}hasMatchingType(t){return Uu(t)?ZLe(t.mark)===this.name:!1}}function rh(e,t){const n=e&&e[t];return n?te(n)?Dm(n,r=>!!r.field):ce(n)||c$(n):!1}function Koe(e,t){const n=e&&e[t];return n?te(n)?Dm(n,r=>!!r.field):ce(n)||Nl(n)||Ax(n):!1}function Qoe(e,t){if(Bn(t)){const n=e[t];if((ce(n)||Nl(n))&&(yoe(n.type)||ce(n)&&n.timeUnit)){const r=CL(t);return Koe(e,r)}}return!1}function Joe(e){return Dm(C6e,t=>{if(rh(e,t)){const n=e[t];if(te(n))return Dm(n,r=>!!r.aggregate);{const r=ma(n);return r&&!!r.aggregate}}return!1})}function Zoe(e,t){const n=[],r=[],i=[],o=[],s={};return rI(e,(a,l)=>{if(ce(a)){const{field:u,aggregate:c,bin:f,timeUnit:d,...h}=a;if(c||d||f){const p=eI(a),g=p==null?void 0:p.title;let m=ye(a,{forAs:!0});const y={...g?[]:{title:Mg(a,t,{allowDisabling:!0})},...h,field:m};if(c){let v;if(Uf(c)?(v="argmax",m=ye({op:"argmax",field:c.argmax},{forAs:!0}),y.field=`${m}.${u}`):$u(c)?(v="argmin",m=ye({op:"argmin",field:c.argmin},{forAs:!0}),y.field=`${m}.${u}`):c!=="boxplot"&&c!=="errorbar"&&c!=="errorband"&&(v=c),v){const b={op:v,as:m};u&&(b.field=u),o.push(b)}}else if(n.push(m),Ni(a)&&nn(f)){if(r.push({bin:f,field:u,as:m}),n.push(ye(a,{binSuffix:"end"})),Tx(a,l)&&n.push(ye(a,{binSuffix:"range"})),Bn(l)){const v={field:`${m}_end`};s[`${l}2`]=v}y.bin="binned",Iie(l)||(y.type=Fh)}else if(d&&!lp(d)){i.push({timeUnit:d,field:u,as:m});const v=Ni(a)&&a.type!==Im&&"time";v&&(l===xx||l===Ah?y.formatType=v:D6e(l)?y.legend={formatType:v,...y.legend}:Bn(l)&&(y.axis={formatType:v,...y.axis}))}s[l]=y}else n.push(u),s[l]=e[l]}else s[l]=e[l]}),{bins:r,timeUnits:i,aggregate:o,groupby:n,encoding:s}}function _Ie(e,t,n){const r=N6e(t,n);if(r){if(r==="binned"){const i=e[t===Sa?mn:xr];return!!(ce(i)&&ce(e[t])&&_r(i.bin))}}else return!1;return!0}function $Ie(e,t,n,r){const i={};for(const o of se(e))Lie(o)||ue(ENe(o));for(let o of F6e){if(!e[o])continue;const s=e[o];if(Sx(o)){const a=T6e(o),l=i[a];if(ce(l)&&SLe(l.type)&&ce(s)&&!l.timeUnit){ue(yNe(a));continue}}if(o==="angle"&&t==="arc"&&!e.theta&&(ue(mNe),o=Ts),!_Ie(e,o,t)){ue(t$(o,t));continue}if(o===zu&&t==="line"){const a=ma(e[o]);if(a!=null&&a.aggregate){ue(SNe);continue}}if(o===uo&&(n?"fill"in e:"stroke"in e)){ue(toe("encoding",{fill:"fill"in e,stroke:"stroke"in e}));continue}if(o===wx||o===Nm&&!te(s)&&!ga(s)||o===Ah&&te(s)){if(s){if(o===Nm){const a=e[o];if(zoe(a)){i[o]=a;continue}}i[o]=xe(s).reduce((a,l)=>(ce(l)?a.push(nI(l,o)):ue(IR(l,o)),a),[])}}else{if(o===Ah&&s===null)i[o]=null;else if(!ce(s)&&!Nl(s)&&!ga(s)&&!$x(s)&&!Re(s)){ue(IR(s,o));continue}i[o]=Hoe(s,o,r)}}return i}function p$(e,t){const n={};for(const r of se(e)){const i=Hoe(e[r],r,t,{compositeMark:!0});n[r]=i}return n}function AIe(e){const t=[];for(const n of se(e))if(rh(e,n)){const r=e[n],i=xe(r);for(const o of i)ce(o)?t.push(o):c$(o)&&t.push(o.condition)}return t}function rI(e,t,n){if(e)for(const r of se(e)){const i=e[r];if(te(i))for(const o of i)t.call(n,o,r);else t.call(n,i,r)}}function TIe(e,t,n,r){return e?se(e).reduce((i,o)=>{const s=e[o];return te(s)?s.reduce((a,l)=>t.call(r,a,l,o),i):t.call(r,i,s,o)},n):n}function ese(e,t){return se(t).reduce((n,r)=>{switch(r){case mn:case xr:case Y_:case Q_:case K_:case Sa:case Rl:case Lf:case D0:case Ts:case Iu:case Ea:case Lu:case Ca:case ka:case _a:case ks:case xx:case co:case rp:case Ah:return n;case Nm:if(e==="line"||e==="trail")return n;case wx:case X_:{const i=t[r];if(te(i)||ce(i))for(const o of xe(i))o.aggregate||n.push(ye(o,{}));return n}case zu:if(e==="trail")return n;case uo:case Pl:case Ol:case ju:case If:case zf:case Bf:case jf:{const i=ma(t[r]);return i&&!i.aggregate&&n.push(ye(i,{})),n}}},[])}function FIe(e){const{tooltip:t,...n}=e;if(!t)return{filteredEncoding:n};let r,i;if(te(t)){for(const o of t)o.aggregate?(r||(r=[]),r.push(o)):(i||(i=[]),i.push(o));r&&(n.tooltip=r)}else t.aggregate?n.tooltip=t:i=t;return te(i)&&i.length===1&&(i=i[0]),{customTooltipWithoutAggregatedField:i,filteredEncoding:n}}function UR(e,t,n,r=!0){if("tooltip"in n)return{tooltip:n.tooltip};const i=e.map(({fieldPrefix:s,titlePrefix:a})=>{const l=r?` of ${iI(t)}`:"";return{field:s+t.field,type:t.type,title:Re(a)?{signal:`${a}"${escape(l)}"`}:a+l}}),o=AIe(n).map(dIe);return{tooltip:[...i,...tl(o,ut)]}}function iI(e){const{title:t,field:n}=e;return jn(t,n)}function oI(e,t,n,r,i){const{scale:o,axis:s}=n;return({partName:a,mark:l,positionPrefix:u,endPositionPrefix:c=void 0,extraEncoding:f={}})=>{const d=iI(n);return tse(e,a,i,{mark:l,encoding:{[t]:{field:`${u}_${n.field}`,type:n.type,...d!==void 0?{title:d}:{},...o!==void 0?{scale:o}:{},...s!==void 0?{axis:s}:{}},...we(c)?{[`${t}2`]:{field:`${c}_${n.field}`}}:{},...r,...f}})}}function tse(e,t,n,r){const{clip:i,color:o,opacity:s}=e,a=e.type;return e[t]||e[t]===void 0&&n[t]?[{...r,mark:{...n[t],...i?{clip:i}:{},...o?{color:o}:{},...s?{opacity:s}:{},...wl(r.mark)?r.mark:{type:r.mark},style:`${a}-${String(t)}`,...Ff(e[t])?{}:e[t]}}]:[]}function nse(e,t,n){const{encoding:r}=e,i=t==="vertical"?"y":"x",o=r[i],s=r[`${i}2`],a=r[`${i}Error`],l=r[`${i}Error2`];return{continuousAxisChannelDef:Yw(o,n),continuousAxisChannelDef2:Yw(s,n),continuousAxisChannelDefError:Yw(a,n),continuousAxisChannelDefError2:Yw(l,n),continuousAxis:i}}function Yw(e,t){if(e!=null&&e.aggregate){const{aggregate:n,...r}=e;return n!==t&&ue(QNe(n,t)),r}else return e}function rse(e,t){const{mark:n,encoding:r}=e,{x:i,y:o}=r;if(wl(n)&&n.orient)return n.orient;if(Uc(i)){if(Uc(o)){const s=ce(i)&&i.aggregate,a=ce(o)&&o.aggregate;if(!s&&a===t)return"vertical";if(!a&&s===t)return"horizontal";if(s===t&&a===t)throw new Error("Both x and y cannot have aggregate");return Um(o)&&!Um(i)?"horizontal":"vertical"}return"horizontal"}else{if(Uc(o))return"vertical";throw new Error(`Need a valid continuous axis for ${t}s`)}}const kC="boxplot",RIe=["box","median","outliers","rule","ticks"],PIe=new h$(kC,ose);function ise(e){return St(e)?"tukey":e}function ose(e,{config:t}){e={...e,encoding:p$(e.encoding,t)};const{mark:n,encoding:r,params:i,projection:o,...s}=e,a=wl(n)?n:{type:n};i&&ue(Zie("boxplot"));const l=a.extent??t.boxplot.extent,u=Wt("size",a,t),c=a.invalid,f=ise(l),{bins:d,timeUnits:h,transform:p,continuousAxisChannelDef:g,continuousAxis:m,groupby:y,aggregate:v,encodingWithoutContinuousAxis:b,ticksOrient:x,boxOrient:w,customTooltipWithoutAggregatedField:C}=OIe(e,l,t),S=O0(g.field),{color:k,size:$,...R}=b,O=Xu=>oI(a,m,g,Xu,t.boxplot),B=O(R),D=O(b),L=(ve(t.boxplot.box)?t.boxplot.box.color:t.mark.color)||"#4c78a8",A=O({...R,...$?{size:$}:{},color:{condition:{test:`datum['lower_box_${g.field}'] >= datum['upper_box_${g.field}']`,...k||{value:L}}}}),P=UR([{fieldPrefix:f==="min-max"?"upper_whisker_":"max_",titlePrefix:"Max"},{fieldPrefix:"upper_box_",titlePrefix:"Q3"},{fieldPrefix:"mid_box_",titlePrefix:"Median"},{fieldPrefix:"lower_box_",titlePrefix:"Q1"},{fieldPrefix:f==="min-max"?"lower_whisker_":"min_",titlePrefix:"Min"}],g,b),j={type:"tick",color:"black",opacity:1,orient:x,invalid:c,aria:!1},z=f==="min-max"?P:UR([{fieldPrefix:"upper_whisker_",titlePrefix:"Upper Whisker"},{fieldPrefix:"lower_whisker_",titlePrefix:"Lower Whisker"}],g,b),U=[...B({partName:"rule",mark:{type:"rule",invalid:c,aria:!1},positionPrefix:"lower_whisker",endPositionPrefix:"lower_box",extraEncoding:z}),...B({partName:"rule",mark:{type:"rule",invalid:c,aria:!1},positionPrefix:"upper_box",endPositionPrefix:"upper_whisker",extraEncoding:z}),...B({partName:"ticks",mark:j,positionPrefix:"lower_whisker",extraEncoding:z}),...B({partName:"ticks",mark:j,positionPrefix:"upper_whisker",extraEncoding:z})],X=[...f!=="tukey"?U:[],...D({partName:"box",mark:{type:"bar",...u?{size:u}:{},orient:w,invalid:c,ariaRoleDescription:"box"},positionPrefix:"lower_box",endPositionPrefix:"upper_box",extraEncoding:P}),...A({partName:"median",mark:{type:"tick",invalid:c,...ve(t.boxplot.median)&&t.boxplot.median.color?{color:t.boxplot.median.color}:{},...u?{size:u}:{},orient:x,aria:!1},positionPrefix:"mid_box",extraEncoding:P})];if(f==="min-max")return{...s,transform:(s.transform??[]).concat(p),layer:X};const K=`datum["lower_box_${g.field}"]`,pe=`datum["upper_box_${g.field}"]`,oe=`(${pe} - ${K})`,_e=`${K} - ${l} * ${oe}`,Qe=`${pe} + ${l} * ${oe}`,xt=`datum["${g.field}"]`,On={joinaggregate:sse(g.field),groupby:y},lr={transform:[{filter:`(${_e} <= ${xt}) && (${xt} <= ${Qe})`},{aggregate:[{op:"min",field:g.field,as:`lower_whisker_${S}`},{op:"max",field:g.field,as:`upper_whisker_${S}`},{op:"min",field:`lower_box_${g.field}`,as:`lower_box_${S}`},{op:"max",field:`upper_box_${g.field}`,as:`upper_box_${S}`},...v],groupby:y}],layer:U},{tooltip:be,...Ne}=R,{scale:Ue,axis:ae}=g,Dn=iI(g),vt=eo(ae,["title"]),Yn=tse(a,"outliers",t.boxplot,{transform:[{filter:`(${xt} < ${_e}) || (${xt} > ${Qe})`}],mark:"point",encoding:{[m]:{field:g.field,type:g.type,...Dn!==void 0?{title:Dn}:{},...Ue!==void 0?{scale:Ue}:{},...Ht(vt)?{}:{axis:vt}},...Ne,...k?{color:k}:{},...C?{tooltip:C}:{}}})[0];let cn;const jr=[...d,...h,On];return Yn?cn={transform:jr,layer:[Yn,lr]}:(cn=lr,cn.transform.unshift(...jr)),{...s,layer:[cn,{transform:p,layer:X}]}}function sse(e){const t=O0(e);return[{op:"q1",field:e,as:`lower_box_${t}`},{op:"q3",field:e,as:`upper_box_${t}`}]}function OIe(e,t,n){const r=rse(e,kC),{continuousAxisChannelDef:i,continuousAxis:o}=nse(e,r,kC),s=i.field,a=O0(s),l=ise(t),u=[...sse(s),{op:"median",field:s,as:`mid_box_${a}`},{op:"min",field:s,as:(l==="min-max"?"lower_whisker_":"min_")+a},{op:"max",field:s,as:(l==="min-max"?"upper_whisker_":"max_")+a}],c=l==="min-max"||l==="tukey"?[]:[{calculate:`datum["upper_box_${a}"] - datum["lower_box_${a}"]`,as:`iqr_${a}`},{calculate:`min(datum["upper_box_${a}"] + datum["iqr_${a}"] * ${t}, datum["max_${a}"])`,as:`upper_whisker_${a}`},{calculate:`max(datum["lower_box_${a}"] - datum["iqr_${a}"] * ${t}, datum["min_${a}"])`,as:`lower_whisker_${a}`}],{[o]:f,...d}=e.encoding,{customTooltipWithoutAggregatedField:h,filteredEncoding:p}=FIe(d),{bins:g,timeUnits:m,aggregate:y,groupby:v,encoding:b}=Zoe(p,n),x=r==="vertical"?"horizontal":"vertical",w=r,C=[...g,...m,{aggregate:[...y,...u],groupby:v},...c];return{bins:g,timeUnits:m,transform:C,groupby:v,aggregate:y,continuousAxisChannelDef:i,continuousAxis:o,encodingWithoutContinuousAxis:b,ticksOrient:x,boxOrient:w,customTooltipWithoutAggregatedField:h}}const sI="errorbar",DIe=["ticks","rule"],MIe=new h$(sI,ase);function ase(e,{config:t}){e={...e,encoding:p$(e.encoding,t)};const{transform:n,continuousAxisChannelDef:r,continuousAxis:i,encodingWithoutContinuousAxis:o,ticksOrient:s,markDef:a,outerSpec:l,tooltipEncoding:u}=lse(e,sI,t);delete o.size;const c=oI(a,i,r,o,t.errorbar),f=a.thickness,d=a.size,h={type:"tick",orient:s,aria:!1,...f!==void 0?{thickness:f}:{},...d!==void 0?{size:d}:{}},p=[...c({partName:"ticks",mark:h,positionPrefix:"lower",extraEncoding:u}),...c({partName:"ticks",mark:h,positionPrefix:"upper",extraEncoding:u}),...c({partName:"rule",mark:{type:"rule",ariaRoleDescription:"errorbar",...f!==void 0?{size:f}:{}},positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:u})];return{...l,transform:n,...p.length>1?{layer:p}:{...p[0]}}}function NIe(e,t){const{encoding:n}=e;if(LIe(n))return{orient:rse(e,t),inputType:"raw"};const r=IIe(n),i=zIe(n),o=n.x,s=n.y;if(r){if(i)throw new Error(`${t} cannot be both type aggregated-upper-lower and aggregated-error`);const a=n.x2,l=n.y2;if(Ke(a)&&Ke(l))throw new Error(`${t} cannot have both x2 and y2`);if(Ke(a)){if(Uc(o))return{orient:"horizontal",inputType:"aggregated-upper-lower"};throw new Error(`Both x and x2 have to be quantitative in ${t}`)}else if(Ke(l)){if(Uc(s))return{orient:"vertical",inputType:"aggregated-upper-lower"};throw new Error(`Both y and y2 have to be quantitative in ${t}`)}throw new Error("No ranged axis")}else{const a=n.xError,l=n.xError2,u=n.yError,c=n.yError2;if(Ke(l)&&!Ke(a))throw new Error(`${t} cannot have xError2 without xError`);if(Ke(c)&&!Ke(u))throw new Error(`${t} cannot have yError2 without yError`);if(Ke(a)&&Ke(u))throw new Error(`${t} cannot have both xError and yError with both are quantiative`);if(Ke(a)){if(Uc(o))return{orient:"horizontal",inputType:"aggregated-error"};throw new Error("All x, xError, and xError2 (if exist) have to be quantitative")}else if(Ke(u)){if(Uc(s))return{orient:"vertical",inputType:"aggregated-error"};throw new Error("All y, yError, and yError2 (if exist) have to be quantitative")}throw new Error("No ranged axis")}}function LIe(e){return(Ke(e.x)||Ke(e.y))&&!Ke(e.x2)&&!Ke(e.y2)&&!Ke(e.xError)&&!Ke(e.xError2)&&!Ke(e.yError)&&!Ke(e.yError2)}function IIe(e){return Ke(e.x2)||Ke(e.y2)}function zIe(e){return Ke(e.xError)||Ke(e.xError2)||Ke(e.yError)||Ke(e.yError2)}function lse(e,t,n){const{mark:r,encoding:i,params:o,projection:s,...a}=e,l=wl(r)?r:{type:r};o&&ue(Zie(t));const{orient:u,inputType:c}=NIe(e,t),{continuousAxisChannelDef:f,continuousAxisChannelDef2:d,continuousAxisChannelDefError:h,continuousAxisChannelDefError2:p,continuousAxis:g}=nse(e,u,t),{errorBarSpecificAggregate:m,postAggregateCalculates:y,tooltipSummary:v,tooltipTitleWithFieldName:b}=jIe(l,f,d,h,p,c,t,n),{[g]:x,[g==="x"?"x2":"y2"]:w,[g==="x"?"xError":"yError"]:C,[g==="x"?"xError2":"yError2"]:S,...k}=i,{bins:$,timeUnits:R,aggregate:O,groupby:B,encoding:D}=Zoe(k,n),L=[...O,...m],A=c!=="raw"?[]:B,P=UR(v,f,D,b);return{transform:[...a.transform??[],...$,...R,...L.length===0?[]:[{aggregate:L,groupby:A}],...y],groupby:A,continuousAxisChannelDef:f,continuousAxis:g,encodingWithoutContinuousAxis:D,ticksOrient:u==="vertical"?"horizontal":"vertical",markDef:l,outerSpec:a,tooltipEncoding:P}}function jIe(e,t,n,r,i,o,s,a){let l=[],u=[];const c=t.field;let f,d=!1;if(o==="raw"){const h=e.center?e.center:e.extent?e.extent==="iqr"?"median":"mean":a.errorbar.center,p=e.extent?e.extent:h==="mean"?"stderr":"iqr";if(h==="median"!=(p==="iqr")&&ue(KNe(h,p,s)),p==="stderr"||p==="stdev")l=[{op:p,field:c,as:`extent_${c}`},{op:h,field:c,as:`center_${c}`}],u=[{calculate:`datum["center_${c}"] + datum["extent_${c}"]`,as:`upper_${c}`},{calculate:`datum["center_${c}"] - datum["extent_${c}"]`,as:`lower_${c}`}],f=[{fieldPrefix:"center_",titlePrefix:bx(h)},{fieldPrefix:"upper_",titlePrefix:iV(h,p,"+")},{fieldPrefix:"lower_",titlePrefix:iV(h,p,"-")}],d=!0;else{let g,m,y;p==="ci"?(g="mean",m="ci0",y="ci1"):(g="median",m="q1",y="q3"),l=[{op:m,field:c,as:`lower_${c}`},{op:y,field:c,as:`upper_${c}`},{op:g,field:c,as:`center_${c}`}],f=[{fieldPrefix:"upper_",titlePrefix:Mg({field:c,aggregate:y,type:"quantitative"},a,{allowDisabling:!1})},{fieldPrefix:"lower_",titlePrefix:Mg({field:c,aggregate:m,type:"quantitative"},a,{allowDisabling:!1})},{fieldPrefix:"center_",titlePrefix:Mg({field:c,aggregate:g,type:"quantitative"},a,{allowDisabling:!1})}]}}else{(e.center||e.extent)&&ue(YNe(e.center,e.extent)),o==="aggregated-upper-lower"?(f=[],u=[{calculate:`datum["${n.field}"]`,as:`upper_${c}`},{calculate:`datum["${c}"]`,as:`lower_${c}`}]):o==="aggregated-error"&&(f=[{fieldPrefix:"",titlePrefix:c}],u=[{calculate:`datum["${c}"] + datum["${r.field}"]`,as:`upper_${c}`}],i?u.push({calculate:`datum["${c}"] + datum["${i.field}"]`,as:`lower_${c}`}):u.push({calculate:`datum["${c}"] - datum["${r.field}"]`,as:`lower_${c}`}));for(const h of u)f.push({fieldPrefix:h.as.substring(0,6),titlePrefix:$h($h(h.calculate,'datum["',""),'"]',"")})}return{postAggregateCalculates:u,errorBarSpecificAggregate:l,tooltipSummary:f,tooltipTitleWithFieldName:d}}function iV(e,t,n){return`${bx(e)} ${n} ${t}`}const aI="errorband",BIe=["band","borders"],UIe=new h$(aI,use);function use(e,{config:t}){e={...e,encoding:p$(e.encoding,t)};const{transform:n,continuousAxisChannelDef:r,continuousAxis:i,encodingWithoutContinuousAxis:o,markDef:s,outerSpec:a,tooltipEncoding:l}=lse(e,aI,t),u=s,c=oI(u,i,r,o,t.errorband),f=e.encoding.x!==void 0&&e.encoding.y!==void 0;let d={type:f?"area":"rect"},h={type:f?"line":"rule"};const p={...u.interpolate?{interpolate:u.interpolate}:{},...u.tension&&u.interpolate?{tension:u.tension}:{}};return f?(d={...d,...p,ariaRoleDescription:"errorband"},h={...h,...p,aria:!1}):u.interpolate?ue(YU("interpolate")):u.tension&&ue(YU("tension")),{...a,transform:n,layer:[...c({partName:"band",mark:d,positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:l}),...c({partName:"borders",mark:h,positionPrefix:"lower",extraEncoding:l}),...c({partName:"borders",mark:h,positionPrefix:"upper",extraEncoding:l})]}}const cse={};function lI(e,t,n){const r=new h$(e,t);cse[e]={normalizer:r,parts:n}}function VIe(){return se(cse)}lI(kC,ose,RIe);lI(sI,ase,DIe);lI(aI,use,BIe);const WIe=["gradientHorizontalMaxLength","gradientHorizontalMinLength","gradientVerticalMaxLength","gradientVerticalMinLength","unselectedOpacity"],fse={titleAlign:"align",titleAnchor:"anchor",titleAngle:"angle",titleBaseline:"baseline",titleColor:"color",titleFont:"font",titleFontSize:"fontSize",titleFontStyle:"fontStyle",titleFontWeight:"fontWeight",titleLimit:"limit",titleLineHeight:"lineHeight",titleOrient:"orient",titlePadding:"offset"},dse={labelAlign:"align",labelAnchor:"anchor",labelAngle:"angle",labelBaseline:"baseline",labelColor:"color",labelFont:"font",labelFontSize:"fontSize",labelFontStyle:"fontStyle",labelFontWeight:"fontWeight",labelLimit:"limit",labelLineHeight:"lineHeight",labelOrient:"orient",labelPadding:"offset"},HIe=se(fse),qIe=se(dse),GIe={header:1,headerRow:1,headerColumn:1,headerFacet:1},hse=se(GIe),pse=["size","shape","fill","stroke","strokeDash","strokeWidth","opacity"],XIe={gradientHorizontalMaxLength:200,gradientHorizontalMinLength:100,gradientVerticalMaxLength:200,gradientVerticalMinLength:64,unselectedOpacity:.35},YIe={aria:1,clipHeight:1,columnPadding:1,columns:1,cornerRadius:1,description:1,direction:1,fillColor:1,format:1,formatType:1,gradientLength:1,gradientOpacity:1,gradientStrokeColor:1,gradientStrokeWidth:1,gradientThickness:1,gridAlign:1,labelAlign:1,labelBaseline:1,labelColor:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labelSeparation:1,legendX:1,legendY:1,offset:1,orient:1,padding:1,rowPadding:1,strokeColor:1,symbolDash:1,symbolDashOffset:1,symbolFillColor:1,symbolLimit:1,symbolOffset:1,symbolOpacity:1,symbolSize:1,symbolStrokeColor:1,symbolStrokeWidth:1,symbolType:1,tickCount:1,tickMinStep:1,title:1,titleAlign:1,titleAnchor:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titleOrient:1,titlePadding:1,type:1,values:1,zindex:1},ya="_vgsid_",KIe={point:{on:"click",fields:[ya],toggle:"event.shiftKey",resolve:"global",clear:"dblclick"},interval:{on:"[pointerdown, window:pointerup] > window:pointermove!",encodings:["x","y"],translate:"[pointerdown, window:pointerup] > window:pointermove!",zoom:"wheel!",mark:{fill:"#333",fillOpacity:.125,stroke:"white"},resolve:"global",clear:"dblclick"}};function uI(e){return e==="legend"||!!(e!=null&&e.legend)}function i3(e){return uI(e)&&ve(e)}function cI(e){return!!(e!=null&&e.select)}function gse(e){const t=[];for(const n of e||[]){if(cI(n))continue;const{expr:r,bind:i,...o}=n;if(i&&r){const s={...o,bind:i,init:r};t.push(s)}else{const s={...o,...r?{update:r}:{},...i?{bind:i}:{}};t.push(s)}}return t}function QIe(e){return g$(e)||dI(e)||fI(e)}function fI(e){return le(e,"concat")}function g$(e){return le(e,"vconcat")}function dI(e){return le(e,"hconcat")}function mse({step:e,offsetIsDiscrete:t}){return t?e.for??"offset":"position"}function Sl(e){return le(e,"step")}function oV(e){return le(e,"view")||le(e,"width")||le(e,"height")}const sV=20,JIe={align:1,bounds:1,center:1,columns:1,spacing:1},ZIe=se(JIe);function e8e(e,t,n){const r=n[t],i={},{spacing:o,columns:s}=r;o!==void 0&&(i.spacing=o),s!==void 0&&(u$(e)&&!_x(e.facet)||fI(e))&&(i.columns=s),g$(e)&&(i.columns=1);for(const a of ZIe)if(e[a]!==void 0)if(a==="spacing"){const l=e[a];i[a]=St(l)?l:{row:l.row??o,column:l.column??o}}else i[a]=e[a];return i}function VR(e,t){return e[t]??e[t==="width"?"continuousWidth":"continuousHeight"]}function WR(e,t){const n=_C(e,t);return Sl(n)?n.step:yse}function _C(e,t){const n=e[t]??e[t==="width"?"discreteWidth":"discreteHeight"];return jn(n,{step:e.step})}const yse=20,t8e={continuousWidth:200,continuousHeight:200,step:yse},n8e={background:"white",padding:5,timeFormat:"%b %d, %Y",countTitle:"Count of Records",view:t8e,mark:GLe,arc:{},area:{},bar:QLe,circle:{},geoshape:{},image:{},line:{},point:{},rect:GL,rule:{color:"black"},square:{},text:{color:"black"},tick:JLe,trail:{},boxplot:{size:14,extent:1.5,box:{},median:{color:"white"},outliers:{},rule:{},ticks:null},errorbar:{center:"mean",rule:!0,ticks:!1},errorband:{band:{opacity:.3},borders:!1},scale:ALe,projection:{},legend:XIe,header:{titlePadding:10,labelPadding:10},headerColumn:{},headerRow:{},headerFacet:{},selection:KIe,style:{},title:{},facet:{spacing:sV},concat:{spacing:sV},normalizedNumberFormat:".0%"},Wl=["#4c78a8","#f58518","#e45756","#72b7b2","#54a24b","#eeca3b","#b279a2","#ff9da6","#9d755d","#bab0ac"],aV={text:11,guideLabel:10,guideTitle:11,groupTitle:13,groupSubtitle:12},lV={blue:Wl[0],orange:Wl[1],red:Wl[2],teal:Wl[3],green:Wl[4],yellow:Wl[5],purple:Wl[6],pink:Wl[7],brown:Wl[8],gray0:"#000",gray1:"#111",gray2:"#222",gray3:"#333",gray4:"#444",gray5:"#555",gray6:"#666",gray7:"#777",gray8:"#888",gray9:"#999",gray10:"#aaa",gray11:"#bbb",gray12:"#ccc",gray13:"#ddd",gray14:"#eee",gray15:"#fff"};function r8e(e={}){return{signals:[{name:"color",value:ve(e)?{...lV,...e}:lV}],mark:{color:{signal:"color.blue"}},rule:{color:{signal:"color.gray0"}},text:{color:{signal:"color.gray0"}},style:{"guide-label":{fill:{signal:"color.gray0"}},"guide-title":{fill:{signal:"color.gray0"}},"group-title":{fill:{signal:"color.gray0"}},"group-subtitle":{fill:{signal:"color.gray0"}},cell:{stroke:{signal:"color.gray8"}}},axis:{domainColor:{signal:"color.gray13"},gridColor:{signal:"color.gray8"},tickColor:{signal:"color.gray13"}},range:{category:[{signal:"color.blue"},{signal:"color.orange"},{signal:"color.red"},{signal:"color.teal"},{signal:"color.green"},{signal:"color.yellow"},{signal:"color.purple"},{signal:"color.pink"},{signal:"color.brown"},{signal:"color.grey8"}]}}}function i8e(e){return{signals:[{name:"fontSize",value:ve(e)?{...aV,...e}:aV}],text:{fontSize:{signal:"fontSize.text"}},style:{"guide-label":{fontSize:{signal:"fontSize.guideLabel"}},"guide-title":{fontSize:{signal:"fontSize.guideTitle"}},"group-title":{fontSize:{signal:"fontSize.groupTitle"}},"group-subtitle":{fontSize:{signal:"fontSize.groupSubtitle"}}}}}function o8e(e){return{text:{font:e},style:{"guide-label":{font:e},"guide-title":{font:e},"group-title":{font:e},"group-subtitle":{font:e}}}}function vse(e){const t=se(e||{}),n={};for(const r of t){const i=e[r];n[r]=Fx(i)?qie(i):Eo(i)}return n}function s8e(e){const t=se(e),n={};for(const r of t)n[r]=vse(e[r]);return n}const a8e=[...$oe,...Yoe,...hse,"background","padding","legend","lineBreak","scale","style","title","view"];function bse(e={}){const{color:t,font:n,fontSize:r,selection:i,...o}=e,s=v0({},Ge(n8e),n?o8e(n):{},t?r8e(t):{},r?i8e(r):{},o||{});i&&b0(s,"selection",i,!0);const a=eo(s,a8e);for(const l of["background","lineBreak","padding"])s[l]&&(a[l]=Eo(s[l]));for(const l of $oe)s[l]&&(a[l]=$r(s[l]));for(const l of Yoe)s[l]&&(a[l]=vse(s[l]));for(const l of hse)s[l]&&(a[l]=$r(s[l]));if(s.legend&&(a.legend=$r(s.legend)),s.scale){const{invalid:l,...u}=s.scale,c=$r(l,{level:1});a.scale={...$r(u),...se(c).length>0?{invalid:c}:{}}}return s.style&&(a.style=s8e(s.style)),s.title&&(a.title=$r(s.title)),s.view&&(a.view=$r(s.view)),a}const l8e=new Set(["view",...BLe]),u8e=["color","fontSize","background","padding","facet","concat","numberFormat","numberFormatType","normalizedNumberFormat","normalizedNumberFormatType","timeFormat","countTitle","header","axisQuantitative","axisTemporal","axisDiscrete","axisPoint","axisXBand","axisXPoint","axisXDiscrete","axisXQuantitative","axisXTemporal","axisYBand","axisYPoint","axisYDiscrete","axisYQuantitative","axisYTemporal","scale","selection","overlay"],c8e={view:["continuousWidth","continuousHeight","discreteWidth","discreteHeight","step"],...qLe};function f8e(e){e=Ge(e);for(const t of u8e)delete e[t];if(e.axis)for(const t in e.axis)Fx(e.axis[t])&&delete e.axis[t];if(e.legend)for(const t of WIe)delete e.legend[t];if(e.mark){for(const t of QU)delete e.mark[t];e.mark.tooltip&&ve(e.mark.tooltip)&&delete e.mark.tooltip}e.params&&(e.signals=(e.signals||[]).concat(gse(e.params)),delete e.params);for(const t of l8e){for(const r of QU)delete e[t][r];const n=c8e[t];if(n)for(const r of n)delete e[t][r];h8e(e,t)}for(const t of VIe())delete e[t];d8e(e);for(const t in e)ve(e[t])&&Ht(e[t])&&delete e[t];return Ht(e)?void 0:e}function d8e(e){const{titleMarkConfig:t,subtitleMarkConfig:n,subtitle:r}=Hie(e.title);Ht(t)||(e.style["group-title"]={...e.style["group-title"],...t}),Ht(n)||(e.style["group-subtitle"]={...e.style["group-subtitle"],...n}),Ht(r)?delete e.title:e.title=r}function h8e(e,t,n,r){const i=e[t];t==="view"&&(n="cell");const o={...i,...e.style[n??t]};Ht(o)||(e.style[n??t]=o),delete e[t]}function m$(e){return le(e,"layer")}function p8e(e){return le(e,"repeat")}function g8e(e){return!te(e.repeat)&&le(e.repeat,"layer")}class hI{map(t,n){return u$(t)?this.mapFacet(t,n):p8e(t)?this.mapRepeat(t,n):dI(t)?this.mapHConcat(t,n):g$(t)?this.mapVConcat(t,n):fI(t)?this.mapConcat(t,n):this.mapLayerOrUnit(t,n)}mapLayerOrUnit(t,n){if(m$(t))return this.mapLayer(t,n);if(Uu(t))return this.mapUnit(t,n);throw new Error(FL(t))}mapLayer(t,n){return{...t,layer:t.layer.map(r=>this.mapLayerOrUnit(r,n))}}mapHConcat(t,n){return{...t,hconcat:t.hconcat.map(r=>this.map(r,n))}}mapVConcat(t,n){return{...t,vconcat:t.vconcat.map(r=>this.map(r,n))}}mapConcat(t,n){const{concat:r,...i}=t;return{...i,concat:r.map(o=>this.map(o,n))}}mapFacet(t,n){return{...t,spec:this.map(t.spec,n)}}mapRepeat(t,n){return{...t,spec:this.map(t.spec,n)}}}const m8e={zero:1,center:1,normalize:1};function y8e(e){return Se(m8e,e)}const v8e=new Set([Coe,o$,i$,bC,a$,HL,qL,s$,koe,WL]),b8e=new Set([o$,i$,Coe]);function Bp(e){return ce(e)&&jm(e)==="quantitative"&&!e.bin}function uV(e,t,{orient:n,type:r}){const i=t==="x"?"y":"radius",o=t==="x"&&["bar","area"].includes(r),s=e[t],a=e[i];if(ce(s)&&ce(a))if(Bp(s)&&Bp(a)){if(s.stack)return t;if(a.stack)return i;const l=ce(s)&&!!s.aggregate,u=ce(a)&&!!a.aggregate;if(l!==u)return l?t:i;if(o){if(n==="vertical")return i;if(n==="horizontal")return t}}else{if(Bp(s))return t;if(Bp(a))return i}else{if(Bp(s))return o&&n==="vertical"?void 0:t;if(Bp(a))return o&&n==="horizontal"?void 0:i}}function x8e(e){switch(e){case"x":return"y";case"y":return"x";case"theta":return"radius";case"radius":return"theta"}}function xse(e,t){var g,m;const n=wl(e)?e:{type:e},r=n.type;if(!v8e.has(r))return null;const i=uV(t,"x",n)||uV(t,"theta",n);if(!i)return null;const o=t[i],s=ce(o)?ye(o,{}):void 0,a=x8e(i),l=[],u=new Set;if(t[a]){const y=t[a],v=ce(y)?ye(y,{}):void 0;v&&v!==s&&(l.push(a),u.add(v))}const c=a==="x"?"xOffset":"yOffset",f=t[c],d=ce(f)?ye(f,{}):void 0;d&&d!==s&&(l.push(c),u.add(d));const h=R6e.reduce((y,v)=>{if(v!=="tooltip"&&rh(t,v)){const b=t[v];for(const x of xe(b)){const w=ma(x);if(w.aggregate)continue;const C=ye(w,{});(!C||!u.has(C))&&y.push({channel:v,fieldDef:w})}}return y},[]);let p;return o.stack!==void 0?Ff(o.stack)?p=o.stack?"zero":null:p=o.stack:b8e.has(r)&&(p="zero"),!p||!y8e(p)||Joe(t)&&h.length===0?null:((g=o==null?void 0:o.scale)!=null&&g.type&&((m=o==null?void 0:o.scale)==null?void 0:m.type)!==Tr.LINEAR&&o!=null&&o.stack&&ue(qNe(o.scale.type)),Ke(t[Dl(i)])?(o.stack!==void 0&&ue(HNe(i)),null):(ce(o)&&o.aggregate&&!V6e.has(o.aggregate)&&ue(GNe(o.aggregate)),{groupbyChannels:l,groupbyFields:u,fieldChannel:i,impute:o.impute===null?!1:Vf(r),stackBy:h,offset:p}))}function wse(e,t,n){const r=$r(e),i=Wt("orient",r,n);if(r.orient=C8e(r.type,t,i),i!==void 0&&i!==r.orient&&ue(TNe(r.orient,i)),r.type==="bar"&&r.orient){const l=Wt("cornerRadiusEnd",r,n);if(l!==void 0){const u=r.orient==="horizontal"&&t.x2||r.orient==="vertical"&&t.y2?["cornerRadius"]:YLe[r.orient];for(const c of u)r[c]=l;r.cornerRadiusEnd!==void 0&&delete r.cornerRadiusEnd}}const o=Wt("opacity",r,n),s=Wt("fillOpacity",r,n);return o===void 0&&s===void 0&&(r.opacity=S8e(r.type,t)),Wt("cursor",r,n)===void 0&&(r.cursor=w8e(r,t,n)),r}function w8e(e,t,n){return t.href||e.href||Wt("href",e,n)?"pointer":e.cursor}function S8e(e,t){if(it([a$,WL,HL,qL],e)&&!Joe(t))return .7}function E8e(e,t,{graticule:n}){if(n)return!1;const r=xl("filled",e,t),i=e.type;return jn(r,i!==a$&&i!==s$&&i!==bC)}function C8e(e,t,n){switch(e){case a$:case HL:case qL:case koe:case zLe:case ILe:return}const{x:r,y:i,x2:o,y2:s}=t;switch(e){case o$:if(ce(r)&&(_r(r.bin)||ce(i)&&i.aggregate&&!r.aggregate))return"vertical";if(ce(i)&&(_r(i.bin)||ce(r)&&r.aggregate&&!i.aggregate))return"horizontal";if(s||o){if(n)return n;if(!o)return(ce(r)&&r.type===Fh&&!nn(r.bin)||wC(r))&&ce(i)&&_r(i.bin)?"horizontal":"vertical";if(!s)return(ce(i)&&i.type===Fh&&!nn(i.bin)||wC(i))&&ce(r)&&_r(r.bin)?"vertical":"horizontal"}case bC:if(o&&!(ce(r)&&_r(r.bin))&&s&&!(ce(i)&&_r(i.bin)))return;case i$:if(s)return ce(i)&&_r(i.bin)?"horizontal":"vertical";if(o)return ce(r)&&_r(r.bin)?"vertical":"horizontal";if(e===bC){if(r&&!i)return"vertical";if(i&&!r)return"horizontal"}case s$:case WL:{const a=tV(r),l=tV(i);if(n)return n;if(a&&!l)return e!=="tick"?"horizontal":"vertical";if(!a&&l)return e!=="tick"?"vertical":"horizontal";if(a&&l)return"vertical";{const u=Ni(r)&&r.type===Im,c=Ni(i)&&i.type===Im;if(u&&!c)return"vertical";if(!u&&c)return"horizontal"}return}}return"vertical"}function k8e(e){const{point:t,line:n,...r}=e;return se(r).length>1?r:r.type}function _8e(e){for(const t of["line","area","rule","trail"])e[t]&&(e={...e,[t]:eo(e[t],["point","line"])});return e}function o3(e,t={},n){return e.point==="transparent"?{opacity:0}:e.point?ve(e.point)?e.point:{}:e.point!==void 0?null:t.point||n.shape?ve(t.point)?t.point:{}:void 0}function cV(e,t={}){return e.line?e.line===!0?{}:e.line:e.line!==void 0?null:t.line?t.line===!0?{}:t.line:void 0}class $8e{constructor(){this.name="path-overlay"}hasMatchingType(t,n){if(Uu(t)){const{mark:r,encoding:i}=t,o=wl(r)?r:{type:r};switch(o.type){case"line":case"rule":case"trail":return!!o3(o,n[o.type],i);case"area":return!!o3(o,n[o.type],i)||!!cV(o,n[o.type])}}return!1}run(t,n,r){const{config:i}=n,{params:o,projection:s,mark:a,name:l,encoding:u,...c}=t,f=p$(u,i),d=wl(a)?a:{type:a},h=o3(d,i[d.type],f),p=d.type==="area"&&cV(d,i[d.type]),g=[{name:l,...o?{params:o}:{},mark:k8e({...d.type==="area"&&d.opacity===void 0&&d.fillOpacity===void 0?{opacity:.7}:{},...d}),encoding:eo(f,["shape"])}],m=xse(wse(d,f,i),f);let y=f;if(m){const{fieldChannel:v,offset:b}=m;y={...f,[v]:{...f[v],...b?{stack:b}:{}}}}return y=eo(y,["y2","x2"]),p&&g.push({...s?{projection:s}:{},mark:{type:"line",...Om(d,["clip","interpolate","tension","tooltip"]),...p},encoding:y}),h&&g.push({...s?{projection:s}:{},mark:{type:"point",opacity:1,filled:!0,...Om(d,["clip","tooltip"]),...h},encoding:y}),r({...c,layer:g},{...n,config:_8e(i)})}}function A8e(e,t){return t?_x(e)?Ese(e,t):Sse(e,t):e}function s3(e,t){return t?Ese(e,t):e}function HR(e,t,n){const r=t[e];if(cIe(r)){if(r.repeat in n)return{...t,[e]:n[r.repeat]};ue(uNe(r.repeat));return}return t}function Sse(e,t){if(e=HR("field",e,t),e!==void 0){if(e===null)return null;if(ZL(e)&&mu(e.sort)){const n=HR("field",e.sort,t);e={...e,...n?{sort:n}:{}}}return e}}function fV(e,t){if(ce(e))return Sse(e,t);{const n=HR("datum",e,t);return n!==e&&!n.type&&(n.type="nominal"),n}}function dV(e,t){if(Ke(e)){const n=fV(e,t);if(n)return n;if($x(e))return{condition:e.condition}}else{if(Ax(e)){const n=fV(e.condition,t);if(n)return{...e,condition:n};{const{condition:r,...i}=e;return i}}return e}}function Ese(e,t){const n={};for(const r in e)if(le(e,r)){const i=e[r];if(te(i))n[r]=i.map(o=>dV(o,t)).filter(o=>o);else{const o=dV(i,t);o!==void 0&&(n[r]=o)}}return n}class T8e{constructor(){this.name="RuleForRangedLine"}hasMatchingType(t){if(Uu(t)){const{encoding:n,mark:r}=t;if(r==="line"||wl(r)&&r.type==="line")for(const i of A6e){const o=ip(i),s=n[o];if(n[i]&&(ce(s)&&!_r(s.bin)||Nl(s)))return!0}}return!1}run(t,n,r){const{encoding:i,mark:o}=t;return ue(ANe(!!i.x2,!!i.y2)),r({...t,mark:ve(o)?{...o,type:"rule"}:"rule"},n)}}class F8e extends hI{constructor(){super(...arguments),this.nonFacetUnitNormalizers=[PIe,MIe,UIe,new $8e,new T8e]}map(t,n){if(Uu(t)){const r=rh(t.encoding,pu),i=rh(t.encoding,gu),o=rh(t.encoding,G_);if(r||i||o)return this.mapFacetedUnit(t,n)}return super.map(t,n)}mapUnit(t,n){const{parentEncoding:r,parentProjection:i}=n,o=s3(t.encoding,n.repeater),s={...t,...t.name?{name:[n.repeaterPrefix,t.name].filter(l=>l).join("_")}:{},...o?{encoding:o}:{}};if(r||i)return this.mapUnitWithParentEncodingOrProjection(s,n);const a=this.mapLayerOrUnit.bind(this);for(const l of this.nonFacetUnitNormalizers)if(l.hasMatchingType(s,n.config))return l.run(s,n,a);return s}mapRepeat(t,n){return g8e(t)?this.mapLayerRepeat(t,n):this.mapNonLayerRepeat(t,n)}mapLayerRepeat(t,n){const{repeat:r,spec:i,...o}=t,{row:s,column:a,layer:l}=r,{repeater:u={},repeaterPrefix:c=""}=n;return s||a?this.mapRepeat({...t,repeat:{...s?{row:s}:{},...a?{column:a}:{}},spec:{repeat:{layer:l},spec:i}},n):{...o,layer:l.map(f=>{const d={...u,layer:f},h=`${(i.name?`${i.name}_`:"")+c}child__layer_${pn(f)}`,p=this.mapLayerOrUnit(i,{...n,repeater:d,repeaterPrefix:h});return p.name=h,p})}}mapNonLayerRepeat(t,n){const{repeat:r,spec:i,data:o,...s}=t;!te(r)&&t.columns&&(t=eo(t,["columns"]),ue(HU("repeat")));const a=[],{repeater:l={},repeaterPrefix:u=""}=n,c=!te(r)&&r.row||[l?l.row:null],f=!te(r)&&r.column||[l?l.column:null],d=te(r)&&r||[l?l.repeat:null];for(const p of d)for(const g of c)for(const m of f){const y={repeat:p,row:g,column:m,layer:l.layer},v=(i.name?`${i.name}_`:"")+u+"child__"+(te(r)?`${pn(p)}`:(r.row?`row_${pn(g)}`:"")+(r.column?`column_${pn(m)}`:"")),b=this.map(i,{...n,repeater:y,repeaterPrefix:v});b.name=v,a.push(eo(b,["data"]))}const h=te(r)?t.columns:r.column?r.column.length:1;return{data:i.data??o,align:"all",...s,columns:h,concat:a}}mapFacet(t,n){const{facet:r}=t;return _x(r)&&t.columns&&(t=eo(t,["columns"]),ue(HU("facet"))),super.mapFacet(t,n)}mapUnitWithParentEncodingOrProjection(t,n){const{encoding:r,projection:i}=t,{parentEncoding:o,parentProjection:s,config:a}=n,l=pV({parentProjection:s,projection:i}),u=hV({parentEncoding:o,encoding:s3(r,n.repeater)});return this.mapUnit({...t,...l?{projection:l}:{},...u?{encoding:u}:{}},{config:a})}mapFacetedUnit(t,n){const{row:r,column:i,facet:o,...s}=t.encoding,{mark:a,width:l,projection:u,height:c,view:f,params:d,encoding:h,...p}=t,{facetMapping:g,layout:m}=this.getFacetMappingAndLayout({row:r,column:i,facet:o},n),y=s3(s,n.repeater);return this.mapFacet({...p,...m,facet:g,spec:{...l?{width:l}:{},...c?{height:c}:{},...f?{view:f}:{},...u?{projection:u}:{},mark:a,encoding:y,...d?{params:d}:{}}},n)}getFacetMappingAndLayout(t,n){const{row:r,column:i,facet:o}=t;if(r||i){o&&ue(_Ne([...r?[pu]:[],...i?[gu]:[]]));const s={},a={};for(const l of[pu,gu]){const u=t[l];if(u){const{align:c,center:f,spacing:d,columns:h,...p}=u;s[l]=p;for(const g of["align","center","spacing"])u[g]!==void 0&&(a[g]??(a[g]={}),a[g][l]=u[g])}}return{facetMapping:s,layout:a}}else{const{align:s,center:a,spacing:l,columns:u,...c}=o;return{facetMapping:A8e(c,n.repeater),layout:{...s?{align:s}:{},...a?{center:a}:{},...l?{spacing:l}:{},...u?{columns:u}:{}}}}}mapLayer(t,{parentEncoding:n,parentProjection:r,...i}){const{encoding:o,projection:s,...a}=t,l={...i,parentEncoding:hV({parentEncoding:n,encoding:o,layer:!0}),parentProjection:pV({parentProjection:r,projection:s})};return super.mapLayer({...a,...t.name?{name:[l.repeaterPrefix,t.name].filter(u=>u).join("_")}:{}},l)}}function hV({parentEncoding:e,encoding:t={},layer:n}){let r={};if(e){const i=new Set([...se(e),...se(t)]);for(const o of i){const s=t[o],a=e[o];if(Ke(s)){const l={...a,...s};r[o]=l}else Ax(s)?r[o]={...s,condition:{...a,...s.condition}}:s||s===null?r[o]=s:(n||ga(a)||Re(a)||Ke(a)||te(a))&&(r[o]=a)}}else r=t;return!r||Ht(r)?void 0:r}function pV(e){const{parentProjection:t,projection:n}=e;return t&&n&&ue(gNe({parentProjection:t,projection:n})),n??t}function pI(e){return le(e,"filter")}function R8e(e){return le(e,"stop")}function Cse(e){return le(e,"lookup")}function P8e(e){return le(e,"data")}function O8e(e){return le(e,"param")}function D8e(e){return le(e,"pivot")}function M8e(e){return le(e,"density")}function N8e(e){return le(e,"quantile")}function L8e(e){return le(e,"regression")}function I8e(e){return le(e,"loess")}function z8e(e){return le(e,"sample")}function j8e(e){return le(e,"window")}function B8e(e){return le(e,"joinaggregate")}function U8e(e){return le(e,"flatten")}function V8e(e){return le(e,"calculate")}function kse(e){return le(e,"bin")}function W8e(e){return le(e,"impute")}function H8e(e){return le(e,"timeUnit")}function q8e(e){return le(e,"aggregate")}function G8e(e){return le(e,"stack")}function X8e(e){return le(e,"fold")}function Y8e(e){return le(e,"extent")&&!le(e,"density")&&!le(e,"regression")}function K8e(e){return e.map(t=>pI(t)?{filter:Og(t.filter,wLe)}:t)}class Q8e extends hI{map(t,n){return n.emptySelections??(n.emptySelections={}),n.selectionPredicates??(n.selectionPredicates={}),t=gV(t,n),super.map(t,n)}mapLayerOrUnit(t,n){if(t=gV(t,n),t.encoding){const r={};for(const[i,o]of vf(t.encoding))r[i]=_se(o,n);t={...t,encoding:r}}return super.mapLayerOrUnit(t,n)}mapUnit(t,n){const{selection:r,...i}=t;return r?{...i,params:vf(r).map(([o,s])=>{const{init:a,bind:l,empty:u,...c}=s;c.type==="single"?(c.type="point",c.toggle=!1):c.type==="multi"&&(c.type="point"),n.emptySelections[o]=u!=="none";for(const f of Mr(n.selectionPredicates[o]??{}))f.empty=u!=="none";return{name:o,value:a,select:c,bind:l}})}:t}}function gV(e,t){const{transform:n,...r}=e;if(n){const i=n.map(o=>{if(pI(o))return{filter:qR(o,t)};if(kse(o)&&op(o.bin))return{...o,bin:$se(o.bin)};if(Cse(o)){const{selection:s,...a}=o.from;return s?{...o,from:{param:s,...a}}:o}return o});return{...r,transform:i}}return e}function _se(e,t){var r,i;const n=Ge(e);if(ce(n)&&op(n.bin)&&(n.bin=$se(n.bin)),up(n)&&((i=(r=n.scale)==null?void 0:r.domain)!=null&&i.selection)){const{selection:o,...s}=n.scale.domain;n.scale.domain={...s,...o?{param:o}:{}}}if($x(n))if(te(n.condition))n.condition=n.condition.map(o=>{const{selection:s,param:a,test:l,...u}=o;return a?o:{...u,test:qR(o,t)}});else{const{selection:o,param:s,test:a,...l}=_se(n.condition,t);n.condition=s?n.condition:{...l,test:qR(n.condition,t)}}return n}function $se(e){const t=e.extent;if(t!=null&&t.selection){const{selection:n,...r}=t;return{...e,extent:{...r,param:n}}}return e}function qR(e,t){const n=r=>Og(r,i=>{var o;const s=t.emptySelections[i]??!0,a={param:i,empty:s};return(o=t.selectionPredicates)[i]??(o[i]=[]),t.selectionPredicates[i].push(a),a});return e.selection?n(e.selection):Og(e.test||e.filter,r=>r.selection?n(r.selection):r)}class GR extends hI{map(t,n){const r=n.selections??[];if(t.params&&!Uu(t)){const i=[];for(const o of t.params)cI(o)?r.push(o):i.push(o);t.params=i}return n.selections=r,super.map(t,n)}mapUnit(t,n){const r=n.selections;if(!r||!r.length)return t;const i=(n.path??[]).concat(t.name),o=[];for(const s of r)if(!s.views||!s.views.length)o.push(s);else for(const a of s.views)(we(a)&&(a===t.name||i.includes(a))||te(a)&&a.map(l=>i.indexOf(l)).every((l,u,c)=>l!==-1&&(u===0||l>c[u-1])))&&o.push(s);return o.length&&(t.params=o),t}}for(const e of["mapFacet","mapRepeat","mapHConcat","mapVConcat","mapLayer"]){const t=GR.prototype[e];GR.prototype[e]=function(n,r){return t.call(this,n,J8e(n,r))}}function J8e(e,t){return e.name?{...t,path:(t.path??[]).concat(e.name)}:t}function Ase(e,t){t===void 0&&(t=bse(e.config));const n=n9e(e,t),{width:r,height:i}=e,o=r9e(n,{width:r,height:i,autosize:e.autosize},t);return{...n,...o?{autosize:o}:{}}}const Z8e=new F8e,e9e=new Q8e,t9e=new GR;function n9e(e,t={}){const n={config:t};return t9e.map(Z8e.map(e9e.map(e,n),n),n)}function mV(e){return we(e)?{type:e}:e??{}}function r9e(e,t,n){let{width:r,height:i}=t;const o=Uu(e)||m$(e),s={};o?r=="container"&&i=="container"?(s.type="fit",s.contains="padding"):r=="container"?(s.type="fit-x",s.contains="padding"):i=="container"&&(s.type="fit-y",s.contains="padding"):(r=="container"&&(ue(BU("width")),r=void 0),i=="container"&&(ue(BU("height")),i=void 0));const a={type:"pad",...s,...n?mV(n.autosize):{},...mV(e.autosize)};if(a.type==="fit"&&!o&&(ue(J6e),a.type="pad"),r=="container"&&!(a.type=="fit"||a.type=="fit-x")&&ue(UU("width")),i=="container"&&!(a.type=="fit"||a.type=="fit-y")&&ue(UU("height")),!$o(a,{type:"pad"}))return a}function i9e(e){return["fit","fit-x","fit-y"].includes(e)}function o9e(e){return e?`fit-${J_(e)}`:"fit"}const s9e=["background","padding"];function yV(e,t){const n={};for(const r of s9e)e&&e[r]!==void 0&&(n[r]=Eo(e[r]));return t&&(n.params=e.params),n}class Vu{constructor(t={},n={}){this.explicit=t,this.implicit=n}clone(){return new Vu(Ge(this.explicit),Ge(this.implicit))}combine(){return{...this.explicit,...this.implicit}}get(t){return jn(this.explicit[t],this.implicit[t])}getWithExplicit(t){return this.explicit[t]!==void 0?{explicit:!0,value:this.explicit[t]}:this.implicit[t]!==void 0?{explicit:!1,value:this.implicit[t]}:{explicit:!1,value:void 0}}setWithExplicit(t,{value:n,explicit:r}){n!==void 0&&this.set(t,n,r)}set(t,n,r){return delete this[r?"implicit":"explicit"][t],this[r?"explicit":"implicit"][t]=n,this}copyKeyFromSplit(t,{explicit:n,implicit:r}){n[t]!==void 0?this.set(t,n[t],!0):r[t]!==void 0&&this.set(t,r[t],!1)}copyKeyFromObject(t,n){n[t]!==void 0&&this.set(t,n[t],!0)}copyAll(t){for(const n of se(t.combine())){const r=t.getWithExplicit(n);this.setWithExplicit(n,r)}}}function Ba(e){return{explicit:!0,value:e}}function vo(e){return{explicit:!1,value:e}}function Tse(e){return(t,n,r,i)=>{const o=e(t.value,n.value);return o>0?t:o<0?n:y$(t,n,r,i)}}function y$(e,t,n,r){return e.explicit&&t.explicit&&ue(INe(n,r,e.value,t.value)),e}function wf(e,t,n,r,i=y$){return e===void 0||e.value===void 0?t:e.explicit&&!t.explicit?e:t.explicit&&!e.explicit?t:$o(e.value,t.value)?e:i(e,t,n,r)}class a9e extends Vu{constructor(t={},n={},r=!1){super(t,n),this.explicit=t,this.implicit=n,this.parseNothing=r}clone(){const t=super.clone();return t.parseNothing=this.parseNothing,t}}function Vm(e){return le(e,"url")}function qv(e){return le(e,"values")}function Fse(e){return le(e,"name")&&!Vm(e)&&!qv(e)&&!Kc(e)}function Kc(e){return e&&(Rse(e)||Pse(e)||gI(e))}function Rse(e){return le(e,"sequence")}function Pse(e){return le(e,"sphere")}function gI(e){return le(e,"graticule")}var Rn;(function(e){e[e.Raw=0]="Raw",e[e.Main=1]="Main",e[e.Row=2]="Row",e[e.Column=3]="Column",e[e.Lookup=4]="Lookup",e[e.PreFilterInvalid=5]="PreFilterInvalid",e[e.PostFilterInvalid=6]="PostFilterInvalid"})(Rn||(Rn={}));function Ose({invalid:e,isPath:t}){switch(Aoe(e,{isPath:t})){case"filter":return{marks:"exclude-invalid-values",scales:"exclude-invalid-values"};case"break-paths-show-domains":return{marks:t?"include-invalid-values":"exclude-invalid-values",scales:"include-invalid-values"};case"break-paths-filter-domains":return{marks:t?"include-invalid-values":"exclude-invalid-values",scales:"exclude-invalid-values"};case"show":return{marks:"include-invalid-values",scales:"include-invalid-values"}}}function l9e(e){const{marks:t,scales:n}=Ose(e);return t===n?Rn.Main:n==="include-invalid-values"?Rn.PreFilterInvalid:Rn.PostFilterInvalid}function Dse(e){const{signals:t,hasLegend:n,index:r,...i}=e;return i.field=Cs(i.field),i}function Oh(e,t=!0,n=ai){if(te(e)){const r=e.map(i=>Oh(i,t,n));return t?`[${r.join(", ")}]`:r}else if(ap(e))return n(t?Th(e):uLe(e));return t?n(qt(e)):e}function u9e(e,t){for(const n of Mr(e.component.selection??{})){const r=n.name;let i=`${r}${Sf}, ${n.resolve==="global"?"true":`{unit: ${ih(e)}}`}`;for(const o of w$)o.defined(n)&&(o.signals&&(t=o.signals(e,n,t)),o.modifyExpr&&(i=o.modifyExpr(e,n,i)));t.push({name:r+z9e,on:[{events:{signal:n.name+Sf},update:`modify(${de(n.name+Dh)}, ${i})`}]})}return mI(t)}function c9e(e,t){if(e.component.selection&&se(e.component.selection).length){const n=de(e.getName("cell"));t.unshift({name:"facet",value:{},on:[{events:Nf("pointermove","scope"),update:`isTuple(facet) ? facet : group(${n}).datum`}]})}return mI(t)}function f9e(e,t){let n=!1;for(const r of Mr(e.component.selection??{})){const i=r.name,o=de(i+Dh);if(t.filter(a=>a.name===i).length===0){const a=r.resolve==="global"?"union":r.resolve,l=r.type==="point"?", true, true)":")";t.push({name:r.name,update:`${Jse}(${o}, ${de(a)}${l}`})}n=!0;for(const a of w$)a.defined(r)&&a.topLevelSignals&&(t=a.topLevelSignals(e,r,t))}return n&&t.filter(i=>i.name==="unit").length===0&&t.unshift({name:"unit",value:{},on:[{events:"pointermove",update:"isTuple(group()) ? group() : unit"}]}),mI(t)}function d9e(e,t){const n=[...t],r=ih(e,{escape:!1});for(const i of Mr(e.component.selection??{})){const o={name:i.name+Dh};if(i.project.hasSelectionId&&(o.transform=[{type:"collect",sort:{field:ya}}]),i.init){const a=i.project.items.map(Dse);o.values=i.project.hasSelectionId?i.init.map(l=>({unit:r,[ya]:Oh(l,!1)[0]})):i.init.map(l=>({unit:r,fields:a,values:Oh(l,!1)}))}n.filter(a=>a.name===i.name+Dh).length||n.push(o)}return n}function Mse(e,t){for(const n of Mr(e.component.selection??{}))for(const r of w$)r.defined(n)&&r.marks&&(t=r.marks(e,n,t));return t}function h9e(e,t){for(const n of e.children)wn(n)&&(t=Mse(n,t));return t}function p9e(e,t,n,r){const i=rae(e,t.param,t);return{signal:pa(n.get("type"))&&te(r)&&r[0]>r[1]?`isValid(${i}) && reverse(${i})`:i}}function mI(e){return e.map(t=>(t.on&&!t.on.length&&delete t.on,t))}class jt{constructor(t,n){this.debugName=n,this._children=[],this._parent=null,t&&(this.parent=t)}clone(){throw new Error("Cannot clone node")}get parent(){return this._parent}set parent(t){this._parent=t,t&&t.addChild(this)}get children(){return this._children}numChildren(){return this._children.length}addChild(t,n){if(this._children.includes(t)){ue(dNe);return}n!==void 0?this._children.splice(n,0,t):this._children.push(t)}removeChild(t){const n=this._children.indexOf(t);return this._children.splice(n,1),n}remove(){let t=this._parent.removeChild(this);for(const n of this._children)n._parent=this._parent,this._parent.addChild(n,t++)}insertAsParentOf(t){const n=t.parent;n.removeChild(this),this.parent=n,t.parent=this}swapWithParent(){const t=this._parent,n=t.parent;for(const i of this._children)i.parent=t;this._children=[],t.removeChild(this);const r=t.parent.removeChild(t);this._parent=n,n.addChild(this,r),t.parent=this}}class to extends jt{clone(){const t=new this.constructor;return t.debugName=`clone_${this.debugName}`,t._source=this._source,t._name=`clone_${this._name}`,t.type=this.type,t.refCounts=this.refCounts,t.refCounts[t._name]=0,t}constructor(t,n,r,i){super(t,n),this.type=r,this.refCounts=i,this._source=this._name=n,this.refCounts&&!(this._name in this.refCounts)&&(this.refCounts[this._name]=0)}dependentFields(){return new Set}producedFields(){return new Set}hash(){return this._hash===void 0&&(this._hash=`Output ${Tie()}`),this._hash}getSource(){return this.refCounts[this._name]++,this._source}isRequired(){return!!this.refCounts[this._name]}setSource(t){this._source=t}}function a3(e){return e.as!==void 0}function vV(e){return`${e}_end`}class ul extends jt{clone(){return new ul(null,Ge(this.timeUnits))}constructor(t,n){super(t),this.timeUnits=n}static makeFromEncoding(t,n){const r=n.reduceFieldDef((i,o,s)=>{const{field:a,timeUnit:l}=o;if(l){let u;if(lp(l)){if(wn(n)){const{mark:c,markDef:f,config:d}=n,h=xf({fieldDef:o,markDef:f,config:d});(Hv(c)||h)&&(u={timeUnit:mr(l),field:a})}}else u={as:ye(o,{forAs:!0}),field:a,timeUnit:l};if(wn(n)){const{mark:c,markDef:f,config:d}=n,h=xf({fieldDef:o,markDef:f,config:d});Hv(c)&&Bn(s)&&h!==.5&&(u.rectBandPosition=h)}u&&(i[ut(u)]=u)}return i},{});return Ht(r)?null:new ul(t,r)}static makeFromTransform(t,n){const{timeUnit:r,...i}={...n},o=mr(r),s={...i,timeUnit:o};return new ul(t,{[ut(s)]:s})}merge(t){this.timeUnits={...this.timeUnits};for(const n in t.timeUnits)this.timeUnits[n]||(this.timeUnits[n]=t.timeUnits[n]);for(const n of t.children)t.removeChild(n),n.parent=this;t.remove()}removeFormulas(t){const n={};for(const[r,i]of vf(this.timeUnits)){const o=a3(i)?i.as:`${i.field}_end`;t.has(o)||(n[r]=i)}this.timeUnits=n}producedFields(){return new Set(Mr(this.timeUnits).map(t=>a3(t)?t.as:vV(t.field)))}dependentFields(){return new Set(Mr(this.timeUnits).map(t=>t.field))}hash(){return`TimeUnit ${ut(this.timeUnits)}`}assemble(){const t=[];for(const n of Mr(this.timeUnits)){const{rectBandPosition:r}=n,i=mr(n.timeUnit);if(a3(n)){const{field:o,as:s}=n,{unit:a,utc:l,...u}=i,c=[s,`${s}_end`];t.push({field:Cs(o),type:"timeunit",...a?{units:n$(a)}:{},...l?{timezone:"utc"}:{},...u,as:c}),t.push(...bV(c,r,i))}else if(n){const{field:o}=n,s=o.replaceAll("\\.","."),a=Nse({timeUnit:i,field:s}),l=vV(s);t.push({type:"formula",expr:a,as:l}),t.push(...bV([s,l],r,i))}}return t}}const v$="offsetted_rect_start",b$="offsetted_rect_end";function Nse({timeUnit:e,field:t,reverse:n}){const{unit:r,utc:i}=e,o=coe(r),{part:s,step:a}=poe(o,e.step);return`${i?"utcOffset":"timeOffset"}('${s}', datum['${t}'], ${n?-a:a})`}function bV([e,t],n,r){if(n!==void 0&&n!==.5){const i=`datum['${e}']`,o=`datum['${t}']`;return[{type:"formula",expr:xV([Nse({timeUnit:r,field:e,reverse:!0}),i],n+.5),as:`${e}_${v$}`},{type:"formula",expr:xV([i,o],n+.5),as:`${e}_${b$}`}]}return[]}function xV([e,t],n){return`${1-n} * ${e} + ${n} * ${t}`}const Rx="_tuple_fields";class g9e{constructor(...t){this.items=t,this.hasChannel={},this.hasField={},this.hasSelectionId=!1}}const m9e={defined:()=>!0,parse:(e,t,n)=>{const r=t.name,i=t.project??(t.project=new g9e),o={},s={},a=new Set,l=(p,g)=>{const m=g==="visual"?p.channel:p.field;let y=pn(`${r}_${m}`);for(let v=1;a.has(y);v++)y=pn(`${r}_${m}_${v}`);return a.add(y),{[g]:y}},u=t.type,c=e.config.selection[u],f=n.value!==void 0?xe(n.value):null;let{fields:d,encodings:h}=ve(n.select)?n.select:{};if(!d&&!h&&f){for(const p of f)if(ve(p))for(const g of se(p))$6e(g)?(h||(h=[])).push(g):u==="interval"?(ue(lNe),h=c.encodings):(d??(d=[])).push(g)}!d&&!h&&(h=c.encodings,"fields"in c&&(d=c.fields));for(const p of h??[]){const g=e.fieldDef(p);if(g){let m=g.field;if(g.aggregate){ue(Z6e(p,g.aggregate));continue}else if(!m){ue(WU(p));continue}if(g.timeUnit&&!lp(g.timeUnit)){m=e.vgField(p);const y={timeUnit:g.timeUnit,as:m,field:g.field};s[ut(y)]=y}if(!o[m]){const y=u==="interval"&&Ml(p)&&pa(e.getScaleComponent(p).get("type"))?"R":g.bin?"R-RE":"E",v={field:m,channel:p,type:y,index:i.items.length};v.signals={...l(v,"data"),...l(v,"visual")},i.items.push(o[m]=v),i.hasField[m]=o[m],i.hasSelectionId=i.hasSelectionId||m===ya,Mie(p)?(v.geoChannel=p,v.channel=Die(p),i.hasChannel[v.channel]=o[m]):i.hasChannel[p]=o[m]}}else ue(WU(p))}for(const p of d??[]){if(i.hasField[p])continue;const g={type:"E",field:p,index:i.items.length};g.signals={...l(g,"data")},i.items.push(g),i.hasField[p]=g,i.hasSelectionId=i.hasSelectionId||p===ya}f&&(t.init=f.map(p=>i.items.map(g=>ve(p)?p[g.geoChannel||g.channel]!==void 0?p[g.geoChannel||g.channel]:p[g.field]:p))),Ht(s)||(i.timeUnit=new ul(null,s))},signals:(e,t,n)=>{const r=t.name+Rx;return n.filter(o=>o.name===r).length>0||t.project.hasSelectionId?n:n.concat({name:r,value:t.project.items.map(Dse)})}},yu={defined:e=>e.type==="interval"&&e.resolve==="global"&&e.bind&&e.bind==="scales",parse:(e,t)=>{const n=t.scales=[];for(const r of t.project.items){const i=r.channel;if(!Ml(i))continue;const o=e.getScaleComponent(i),s=o?o.get("type"):void 0;if(s=="sequential"&&ue(rNe),!o||!pa(s)){ue(nNe);continue}o.set("selectionExtent",{param:t.name,field:r.field},!0),n.push(r)}},topLevelSignals:(e,t,n)=>{const r=t.scales.filter(s=>n.filter(a=>a.name===s.signals.data).length===0);if(!e.parent||wV(e)||r.length===0)return n;const i=n.find(s=>s.name===t.name);let o=i.update;if(o.includes(Jse))i.update=`{${r.map(s=>`${de(Cs(s.field))}: ${s.signals.data}`).join(", ")}}`;else{for(const s of r){const a=`${de(Cs(s.field))}: ${s.signals.data}`;o.includes(a)||(o=`${o.substring(0,o.length-1)}, ${a}}`)}i.update=o}return n.concat(r.map(s=>({name:s.signals.data})))},signals:(e,t,n)=>{if(e.parent&&!wV(e))for(const r of t.scales){const i=n.find(o=>o.name===r.signals.data);i.push="outer",delete i.value,delete i.update}return n}};function XR(e,t){return`domain(${de(e.scaleName(t))})`}function wV(e){return e.parent&&j0(e.parent)&&!e.parent.parent}const Ng="_brush",Lse="_scale_trigger",Ty="geo_interval_init_tick",Ise="_init",y9e="_center",v9e={defined:e=>e.type==="interval",parse:(e,t,n)=>{var r;if(e.hasProjection){const i={...ve(n.select)?n.select:{}};i.fields=[ya],i.encodings||(i.encodings=n.value?se(n.value):[ka,Ca]),n.select={type:"interval",...i}}if(t.translate&&!yu.defined(t)){const i=`!event.item || event.item.mark.name !== ${de(t.name+Ng)}`;for(const o of t.events){if(!o.between){ue(`${o} is not an ordered event stream for interval selections.`);continue}const s=xe((r=o.between[0]).filter??(r.filter=[]));s.includes(i)||s.push(i)}}},signals:(e,t,n)=>{const r=t.name,i=r+Sf,o=Mr(t.project.hasChannel).filter(a=>a.channel===mn||a.channel===xr),s=t.init?t.init[0]:null;if(n.push(...o.reduce((a,l)=>a.concat(b9e(e,t,l,s&&s[l.index])),[])),e.hasProjection){const a=de(e.projectionName()),l=e.projectionName()+y9e,{x:u,y:c}=t.project.hasChannel,f=u&&u.signals.visual,d=c&&c.signals.visual,h=u?s&&s[u.index]:`${l}[0]`,p=c?s&&s[c.index]:`${l}[1]`,g=w=>e.getSizeSignalRef(w).signal,m=`[[${f?f+"[0]":"0"}, ${d?d+"[0]":"0"}],[${f?f+"[1]":g("width")}, ${d?d+"[1]":g("height")}]]`;s&&(n.unshift({name:r+Ise,init:`[scale(${a}, [${u?h[0]:h}, ${c?p[0]:p}]), scale(${a}, [${u?h[1]:h}, ${c?p[1]:p}])]`}),(!u||!c)&&(n.find(C=>C.name===l)||n.unshift({name:l,update:`invert(${a}, [${g("width")}/2, ${g("height")}/2])`})));const y=`intersect(${m}, {markname: ${de(e.getName("marks"))}}, unit.mark)`,v=`{unit: ${ih(e)}}`,b=`vlSelectionTuples(${y}, ${v})`,x=o.map(w=>w.signals.visual);return n.concat({name:i,on:[{events:[...x.length?[{signal:x.join(" || ")}]:[],...s?[{signal:Ty}]:[]],update:b}]})}else{if(!yu.defined(t)){const u=r+Lse,c=o.map(f=>{const d=f.channel,{data:h,visual:p}=f.signals,g=de(e.scaleName(d)),m=e.getScaleComponent(d).get("type"),y=pa(m)?"+":"";return`(!isArray(${h}) || (${y}invert(${g}, ${p})[0] === ${y}${h}[0] && ${y}invert(${g}, ${p})[1] === ${y}${h}[1]))`});c.length&&n.push({name:u,value:{},on:[{events:o.map(f=>({scale:e.scaleName(f.channel)})),update:c.join(" && ")+` ? ${u} : {}`}]})}const a=o.map(u=>u.signals.data),l=`unit: ${ih(e)}, fields: ${r+Rx}, values`;return n.concat({name:i,...s?{init:`{${l}: ${Oh(s)}}`}:{},...a.length?{on:[{events:[{signal:a.join(" || ")}],update:`${a.join(" && ")} ? {${l}: [${a}]} : null`}]}:{}})}},topLevelSignals:(e,t,n)=>(wn(e)&&e.hasProjection&&t.init&&(n.filter(i=>i.name===Ty).length||n.unshift({name:Ty,value:null,on:[{events:"timer{1}",update:`${Ty} === null ? {} : ${Ty}`}]})),n),marks:(e,t,n)=>{const r=t.name,{x:i,y:o}=t.project.hasChannel,s=i==null?void 0:i.signals.visual,a=o==null?void 0:o.signals.visual,l=`data(${de(t.name+Dh)})`;if(yu.defined(t)||!i&&!o)return n;const u={x:i!==void 0?{signal:`${s}[0]`}:{value:0},y:o!==void 0?{signal:`${a}[0]`}:{value:0},x2:i!==void 0?{signal:`${s}[1]`}:{field:{group:"width"}},y2:o!==void 0?{signal:`${a}[1]`}:{field:{group:"height"}}};if(t.resolve==="global")for(const m of se(u))u[m]=[{test:`${l}.length && ${l}[0].unit === ${ih(e)}`,...u[m]},{value:0}];const{fill:c,fillOpacity:f,cursor:d,...h}=t.mark,p=se(h).reduce((m,y)=>(m[y]=[{test:[i!==void 0&&`${s}[0] !== ${s}[1]`,o!==void 0&&`${a}[0] !== ${a}[1]`].filter(v=>v).join(" && "),value:h[y]},{value:null}],m),{}),g=d??(t.translate?"move":null);return[{name:`${r+Ng}_bg`,type:"rect",clip:!0,encode:{enter:{fill:{value:c},fillOpacity:{value:f}},update:u}},...n,{name:r+Ng,type:"rect",clip:!0,encode:{enter:{...g?{cursor:{value:g}}:{},fill:{value:"transparent"}},update:{...u,...p}}}]}};function b9e(e,t,n,r){const i=!e.hasProjection,o=n.channel,s=n.signals.visual,a=de(i?e.scaleName(o):e.projectionName()),l=d=>`scale(${a}, ${d})`,u=e.getSizeSignalRef(o===mn?"width":"height").signal,c=`${o}(unit)`,f=t.events.reduce((d,h)=>[...d,{events:h.between[0],update:`[${c}, ${c}]`},{events:h,update:`[${s}[0], clamp(${c}, 0, ${u})]`}],[]);if(i){const d=n.signals.data,h=yu.defined(t),p=e.getScaleComponent(o),g=p?p.get("type"):void 0,m=r?{init:Oh(r,!0,l)}:{value:[]};return f.push({events:{signal:t.name+Lse},update:pa(g)?`[${l(`${d}[0]`)}, ${l(`${d}[1]`)}]`:"[0, 0]"}),h?[{name:d,on:[]}]:[{name:s,...m,on:f},{name:d,...r?{init:Oh(r)}:{},on:[{events:{signal:s},update:`${s}[0] === ${s}[1] ? null : invert(${a}, ${s})`}]}]}else{const d=o===mn?0:1,h=t.name+Ise,p=r?{init:`[${h}[0][${d}], ${h}[1][${d}]]`}:{value:[]};return[{name:s,...p,on:f}]}}const x9e={defined:e=>e.type==="point",signals:(e,t,n)=>{const r=t.name,i=r+Rx,o=t.project,s="(item().isVoronoi ? datum.datum : datum)",a=Mr(e.component.selection??{}).reduce((f,d)=>d.type==="interval"?f.concat(d.name+Ng):f,[]).map(f=>`indexof(item().mark.name, '${f}') < 0`).join(" && "),l=`datum && item().mark.marktype !== 'group' && indexof(item().mark.role, 'legend') < 0${a?` && ${a}`:""}`;let u=`unit: ${ih(e)}, `;if(t.project.hasSelectionId)u+=`${ya}: ${s}[${de(ya)}]`;else{const f=o.items.map(d=>{const h=e.fieldDef(d.channel);return h!=null&&h.bin?`[${s}[${de(e.vgField(d.channel,{}))}], ${s}[${de(e.vgField(d.channel,{binSuffix:"end"}))}]]`:`${s}[${de(d.field)}]`}).join(", ");u+=`fields: ${i}, values: [${f}]`}const c=t.events;return n.concat([{name:r+Sf,on:c?[{events:c,update:`${l} ? {${u}} : null`,force:!0}]:[]}])}};function N0({model:e,channelDef:t,vgChannel:n,invalidValueRef:r,mainRefFn:i}){const o=$x(t)&&t.condition;let s=[];o&&(s=xe(o).map(u=>{const c=i(u);if(uIe(u)){const{param:f,empty:d}=u;return{test:nae(e,{param:f,empty:d}),...c}}else return{test:TC(e,u.test),...c}})),r!==void 0&&s.push(r);const a=i(t);return a!==void 0&&s.push(a),s.length>1||s.length===1&&s[0].test?{[n]:s}:s.length===1?{[n]:s[0]}:{}}function yI(e,t="text"){const n=e.encoding[t];return N0({model:e,channelDef:n,vgChannel:t,mainRefFn:r=>x$(r,e.config),invalidValueRef:void 0})}function x$(e,t,n="datum"){if(e){if(ga(e))return ln(e.value);if(Ke(e)){const{format:r,formatType:i}=EC(e);return QL({fieldOrDatumDef:e,format:r,formatType:i,expr:n,config:t})}}}function zse(e,t={}){const{encoding:n,markDef:r,config:i,stack:o}=e,s=n.tooltip;if(te(s))return{tooltip:SV({tooltip:s},o,i,t)};{const a=t.reactiveGeom?"datum.datum":"datum";return N0({model:e,channelDef:s,vgChannel:"tooltip",mainRefFn:u=>{const c=x$(u,i,a);if(c)return c;if(u===null)return;let f=Wt("tooltip",r,i);if(f===!0&&(f={content:"encoding"}),we(f))return{value:f};if(ve(f))return Re(f)?f:f.content==="encoding"?SV(n,o,i,t):{signal:a}},invalidValueRef:void 0})}}function jse(e,t,n,{reactiveGeom:r}={}){const i={...n,...n.tooltipFormat},o=new Set,s=r?"datum.datum":"datum",a=[];function l(c,f){const d=ip(f),h=Ni(c)?c:{...c,type:e[d].type},p=h.title||tI(h,i),g=xe(p).join(", ").replaceAll(/"/g,'\\"');let m;if(Bn(f)){const y=f==="x"?"x2":"y2",v=ma(e[y]);if(_r(h.bin)&&v){const b=ye(h,{expr:s}),x=ye(v,{expr:s}),{format:w,formatType:C}=EC(h);m=kx(b,x,w,C,i),o.add(y)}}if((Bn(f)||f===Ts||f===Ea)&&t&&t.fieldChannel===f&&t.offset==="normalize"){const{format:y,formatType:v}=EC(h);m=QL({fieldOrDatumDef:h,format:y,formatType:v,expr:s,config:i,normalizeStack:!0}).signal}m??(m=x$(h,i,s).signal),a.push({channel:f,key:g,value:m})}rI(e,(c,f)=>{ce(c)?l(c,f):c$(c)&&l(c.condition,f)});const u={};for(const{channel:c,key:f,value:d}of a)!o.has(c)&&!u[f]&&(u[f]=d);return u}function SV(e,t,n,{reactiveGeom:r}={}){const i=jse(e,t,n,{reactiveGeom:r}),o=vf(i).map(([s,a])=>`"${s}": ${a}`);return o.length>0?{signal:`{${o.join(", ")}}`}:void 0}function w9e(e){const{markDef:t,config:n}=e,r=Wt("aria",t,n);return r===!1?{}:{...r?{aria:r}:{},...S9e(e),...E9e(e)}}function S9e(e){const{mark:t,markDef:n,config:r}=e;if(r.aria===!1)return{};const i=Wt("ariaRoleDescription",n,r);return i!=null?{ariaRoleDescription:{value:i}}:Se(Y6e,t)?{}:{ariaRoleDescription:{value:t}}}function E9e(e){const{encoding:t,markDef:n,config:r,stack:i}=e,o=t.description;if(o)return N0({model:e,channelDef:o,vgChannel:"description",mainRefFn:l=>x$(l,e.config),invalidValueRef:void 0});const s=Wt("description",n,r);if(s!=null)return{description:ln(s)};if(r.aria===!1)return{};const a=jse(t,i,r);if(!Ht(a))return{description:{signal:vf(a).map(([l,u],c)=>`"${c>0?"; ":""}${l}: " + (${u})`).join(" + ")}}}function Rr(e,t,n={}){const{markDef:r,encoding:i,config:o}=t,{vgChannel:s}=n;let{defaultRef:a,defaultValue:l}=n;const u=i[e];a===void 0&&(l??(l=Wt(e,r,o,{vgChannel:s,ignoreVgConfig:!$x(u)})),l!==void 0&&(a=ln(l)));const c={markDef:r,config:o,scaleName:t.scaleName(e),scale:t.getScaleComponent(e)},f=Foe({...c,scaleChannel:e,channelDef:u});return N0({model:t,channelDef:u,vgChannel:s??e,invalidValueRef:f,mainRefFn:h=>KL({...c,channel:e,channelDef:h,stack:null,defaultRef:a})})}function Bse(e,t={filled:void 0}){const{markDef:n,encoding:r,config:i}=e,{type:o}=n,s=t.filled??Wt("filled",n,i),a=it(["bar","point","circle","square","geoshape"],o)?"transparent":void 0,l=Wt(s===!0?"color":void 0,n,i,{vgChannel:"fill"})??i.mark[s===!0&&"color"]??a,u=Wt(s===!1?"color":void 0,n,i,{vgChannel:"stroke"})??i.mark[s===!1&&"color"],c=s?"fill":"stroke",f={...l?{fill:ln(l)}:{},...u?{stroke:ln(u)}:{}};return n.color&&(s?n.fill:n.stroke)&&ue(toe("property",{fill:"fill"in n,stroke:"stroke"in n})),{...f,...Rr("color",e,{vgChannel:c,defaultValue:s?l:u}),...Rr("fill",e,{defaultValue:r.fill?l:void 0}),...Rr("stroke",e,{defaultValue:r.stroke?u:void 0})}}function C9e(e){const{encoding:t,mark:n}=e,r=t.order;return!Vf(n)&&ga(r)?N0({model:e,channelDef:r,vgChannel:"zindex",mainRefFn:i=>ln(i.value),invalidValueRef:void 0}):{}}function Wm({channel:e,markDef:t,encoding:n={},model:r,bandPosition:i}){const o=`${e}Offset`,s=t[o],a=n[o];if((o==="xOffset"||o==="yOffset")&&a)return{offsetType:"encoding",offset:KL({channel:o,channelDef:a,markDef:t,config:r==null?void 0:r.config,scaleName:r.scaleName(o),scale:r.getScaleComponent(o),stack:null,defaultRef:ln(s),bandPosition:i})};const l=t[o];return l?{offsetType:"visual",offset:l}:{}}function Ai(e,t,{defaultPos:n,vgChannel:r}){const{encoding:i,markDef:o,config:s,stack:a}=t,l=i[e],u=i[Dl(e)],c=t.scaleName(e),f=t.getScaleComponent(e),{offset:d,offsetType:h}=Wm({channel:e,markDef:o,encoding:i,model:t,bandPosition:.5}),p=vI({model:t,defaultPos:n,channel:e,scaleName:c,scale:f}),g=!l&&Bn(e)&&(i.latitude||i.longitude)?{field:t.getName(e)}:k9e({channel:e,channelDef:l,channel2Def:u,markDef:o,config:s,scaleName:c,scale:f,stack:a,offset:d,defaultRef:p,bandPosition:h==="encoding"?0:void 0});return g?{[r||e]:g}:void 0}function k9e(e){const{channel:t,channelDef:n,scaleName:r,stack:i,offset:o,markDef:s}=e;if(Ke(n)&&i&&t===i.fieldChannel){if(ce(n)){let a=n.bandPosition;if(a===void 0&&s.type==="text"&&(t==="radius"||t==="theta")&&(a=.5),a!==void 0)return xC({scaleName:r,fieldOrDatumDef:n,startSuffix:"start",bandPosition:a,offset:o})}return nh(n,r,{suffix:"end"},{offset:o})}return YL(e)}function vI({model:e,defaultPos:t,channel:n,scaleName:r,scale:i}){const{markDef:o,config:s}=e;return()=>{const a=ip(n),l=bf(n),u=Wt(n,o,s,{vgChannel:l});if(u!==void 0)return Q1(n,u);switch(t){case"zeroOrMin":return EV({scaleName:r,scale:i,mode:"zeroOrMin",mainChannel:a,config:s});case"zeroOrMax":return EV({scaleName:r,scale:i,mode:{zeroOrMax:{widthSignal:e.width.signal,heightSignal:e.height.signal}},mainChannel:a,config:s});case"mid":return{...e[fo(n)],mult:.5}}}}function EV({mainChannel:e,config:t,...n}){const r=Toe(n),{mode:i}=n;if(r)return r;switch(e){case"radius":{if(i==="zeroOrMin")return{value:0};const{widthSignal:o,heightSignal:s}=i.zeroOrMax;return{signal:`min(${o},${s})/2`}}case"theta":return i==="zeroOrMin"?{value:0}:{signal:"2*PI"};case"x":return i==="zeroOrMin"?{value:0}:{field:{group:"width"}};case"y":return i==="zeroOrMin"?{field:{group:"height"}}:{value:0}}}const _9e={left:"x",center:"xc",right:"x2"},$9e={top:"y",middle:"yc",bottom:"y2"};function Use(e,t,n,r="middle"){if(e==="radius"||e==="theta")return bf(e);const i=e==="x"?"align":"baseline",o=Wt(i,t,n);let s;return Re(o)?(ue($Ne(i)),s=void 0):s=o,e==="x"?_9e[s||(r==="top"?"left":"center")]:$9e[s||r]}function $C(e,t,{defaultPos:n,defaultPos2:r,range:i}){return i?Vse(e,t,{defaultPos:n,defaultPos2:r}):Ai(e,t,{defaultPos:n})}function Vse(e,t,{defaultPos:n,defaultPos2:r}){const{markDef:i,config:o}=t,s=Dl(e),a=fo(e),l=A9e(t,r,s),u=l[a]?Use(e,i,o):bf(e);return{...Ai(e,t,{defaultPos:n,vgChannel:u}),...l}}function A9e(e,t,n){const{encoding:r,mark:i,markDef:o,stack:s,config:a}=e,l=ip(n),u=fo(n),c=bf(n),f=r[l],d=e.scaleName(l),h=e.getScaleComponent(l),{offset:p}=n in r||n in o?Wm({channel:n,markDef:o,encoding:r,model:e}):Wm({channel:l,markDef:o,encoding:r,model:e});if(!f&&(n==="x2"||n==="y2")&&(r.latitude||r.longitude)){const m=fo(n),y=e.markDef[m];return y!=null?{[m]:{value:y}}:{[c]:{field:e.getName(n)}}}const g=T9e({channel:n,channelDef:f,channel2Def:r[n],markDef:o,config:a,scaleName:d,scale:h,stack:s,offset:p,defaultRef:void 0});return g!==void 0?{[c]:g}:Kw(n,o)||Kw(n,{[n]:LR(n,o,a.style),[u]:LR(u,o,a.style)})||Kw(n,a[i])||Kw(n,a.mark)||{[c]:vI({model:e,defaultPos:t,channel:n,scaleName:d,scale:h})()}}function T9e({channel:e,channelDef:t,channel2Def:n,markDef:r,config:i,scaleName:o,scale:s,stack:a,offset:l,defaultRef:u}){return Ke(t)&&a&&e.charAt(0)===a.fieldChannel.charAt(0)?nh(t,o,{suffix:"start"},{offset:l}):YL({channel:e,channelDef:n,scaleName:o,scale:s,stack:a,markDef:r,config:i,offset:l,defaultRef:u})}function Kw(e,t){const n=fo(e),r=bf(e);if(t[r]!==void 0)return{[r]:Q1(e,t[r])};if(t[e]!==void 0)return{[r]:Q1(e,t[e])};if(t[n]){const i=t[n];if(Rh(i))ue(wNe(n));else return{[n]:Q1(e,i)}}}function Au(e,t){const{config:n,encoding:r,markDef:i}=e,o=i.type,s=Dl(t),a=fo(t),l=r[t],u=r[s],c=e.getScaleComponent(t),f=c?c.get("type"):void 0,d=i.orient,h=r[a]??r.size??Wt("size",i,n,{vgChannel:a}),p=zie(t),g=o==="bar"&&(t==="x"?d==="vertical":d==="horizontal")||o==="tick"&&(t==="y"?d==="vertical":d==="horizontal");return ce(l)&&(nn(l.bin)||_r(l.bin)||l.timeUnit&&!u)&&!(h&&!Rh(h))&&!r[p]&&!vr(f)?P9e({fieldDef:l,fieldDef2:u,channel:t,model:e}):(Ke(l)&&vr(f)||g)&&!u?R9e(l,t,e):Vse(t,e,{defaultPos:"zeroOrMax",defaultPos2:"zeroOrMin"})}function F9e(e,t,n,r,i,o,s){if(Rh(i))if(n){const l=n.get("type");if(l==="band"){let u=`bandwidth('${t}')`;i.band!==1&&(u=`${i.band} * ${u}`);const c=xl("minBandSize",{type:s},r);return{signal:c?`max(${na(c)}, ${u})`:u}}else i.band!==1&&(ue(RNe(l)),i=void 0)}else return{mult:i.band,field:{group:e}};else{if(Re(i))return i;if(i)return{value:i}}if(n){const l=n.get("range");if(sp(l)&&St(l.step))return{value:l.step-2}}if(!o){const{bandPaddingInner:l,barBandPaddingInner:u,rectBandPaddingInner:c,tickBandPaddingInner:f}=r.scale,d=jn(l,s==="tick"?f:s==="bar"?u:c);if(Re(d))return{signal:`(1 - (${d.signal})) * ${e}`};if(St(d))return{signal:`${1-d} * ${e}`}}return{value:WR(r.view,e)-2}}function R9e(e,t,n){var $,R;const{markDef:r,encoding:i,config:o,stack:s}=n,a=r.orient,l=n.scaleName(t),u=n.getScaleComponent(t),c=fo(t),f=Dl(t),d=zie(t),h=n.scaleName(d),p=n.getScaleComponent(CL(t)),g=r.type==="tick"||a==="horizontal"&&t==="y"||a==="vertical"&&t==="x";let m;(i.size||r.size)&&(g?m=Rr("size",n,{vgChannel:c,defaultRef:ln(r.size)}):ue(MNe(r.type)));const y=!!m,v=Loe({channel:t,fieldDef:e,markDef:r,config:o,scaleType:($=u||p)==null?void 0:$.get("type"),useVlSizeChannel:g});m=m||{[c]:F9e(c,h||l,p||u,o,v,!!e,r.type)};const b=((R=u||p)==null?void 0:R.get("type"))==="band"&&Rh(v)&&!y?"top":"middle",x=Use(t,r,o,b),w=x==="xc"||x==="yc",{offset:C,offsetType:S}=Wm({channel:t,markDef:r,encoding:i,model:n,bandPosition:w?.5:0}),k=YL({channel:t,channelDef:e,markDef:r,config:o,scaleName:l,scale:u,stack:s,offset:C,defaultRef:vI({model:n,defaultPos:"mid",channel:t,scaleName:l,scale:u}),bandPosition:w?S==="encoding"?0:.5:Re(v)?{signal:`(1-${v})/2`}:Rh(v)?(1-v.band)/2:0});if(c)return{[x]:k,...m};{const O=bf(f),B=m[c],D=C?{...B,offset:C}:B;return{[x]:k,[O]:te(k)?[k[0],{...k[1],offset:D}]:{...k,offset:D}}}}function CV(e,t,n,r,i,o,s){if(Oie(e))return 0;const a=e==="x"||e==="y2",l=a?-t/2:t/2;if(Re(n)||Re(i)||Re(r)||o){const u=na(n),c=na(i),f=na(r),d=na(o),p=o?`(${s} < ${d} ? ${a?"":"-"}0.5 * (${d} - (${s})) : ${l})`:l,g=f?`${f} + `:"",m=u?`(${u} ? -1 : 1) * `:"",y=c?`(${c} + ${p})`:p;return{signal:g+m+y}}else return i=i||0,r+(n?-i-l:+i+l)}function P9e({fieldDef:e,fieldDef2:t,channel:n,model:r}){var R;const{config:i,markDef:o,encoding:s}=r,a=r.getScaleComponent(n),l=r.scaleName(n),u=a?a.get("type"):void 0,c=a.get("reverse"),f=Loe({channel:n,fieldDef:e,markDef:o,config:i,scaleType:u}),d=(R=r.component.axes[n])==null?void 0:R[0],h=(d==null?void 0:d.get("translate"))??.5,p=Bn(n)?Wt("binSpacing",o,i)??0:0,g=Dl(n),m=bf(n),y=bf(g),v=xl("minBandSize",o,i),{offset:b}=Wm({channel:n,markDef:o,encoding:s,model:r,bandPosition:0}),{offset:x}=Wm({channel:g,markDef:o,encoding:s,model:r,bandPosition:0}),w=rIe({fieldDef:e,scaleName:l}),C=CV(n,p,c,h,b,v,w),S=CV(g,p,c,h,x??b,v,w),k=Re(f)?{signal:`(1-${f.signal})/2`}:Rh(f)?(1-f.band)/2:.5,$=xf({fieldDef:e,fieldDef2:t,markDef:o,config:i});if(nn(e.bin)||e.timeUnit){const O=e.timeUnit&&$!==.5;return{[y]:kV({fieldDef:e,scaleName:l,bandPosition:k,offset:S,useRectOffsetField:O}),[m]:kV({fieldDef:e,scaleName:l,bandPosition:Re(k)?{signal:`1-${k.signal}`}:1-k,offset:C,useRectOffsetField:O})}}else if(_r(e.bin)){const O=nh(e,l,{},{offset:S});if(ce(t))return{[y]:O,[m]:nh(t,l,{},{offset:C})};if(op(e.bin)&&e.bin.step)return{[y]:O,[m]:{signal:`scale("${l}", ${ye(e,{expr:"datum"})} + ${e.bin.step})`,offset:C}}}ue(ioe(g))}function kV({fieldDef:e,scaleName:t,bandPosition:n,offset:r,useRectOffsetField:i}){return xC({scaleName:t,fieldOrDatumDef:e,bandPosition:n,offset:r,...i?{startSuffix:v$,endSuffix:b$}:{}})}const O9e=new Set(["aria","width","height"]);function Fs(e,t){const{fill:n=void 0,stroke:r=void 0}=t.color==="include"?Bse(e):{};return{...D9e(e.markDef,t),..._V("fill",n),..._V("stroke",r),...Rr("opacity",e),...Rr("fillOpacity",e),...Rr("strokeOpacity",e),...Rr("strokeWidth",e),...Rr("strokeDash",e),...C9e(e),...zse(e),...yI(e,"href"),...w9e(e)}}function _V(e,t){return t?{[e]:t}:{}}function D9e(e,t){return X6e.reduce((n,r)=>(!O9e.has(r)&&le(e,r)&&t[r]!=="ignore"&&(n[r]=ln(e[r])),n),{})}function bI(e){const{config:t,markDef:n}=e,r=new Set;if(e.forEachFieldDef((i,o)=>{var u;let s;if(!Ml(o)||!(s=e.getScaleType(o)))return;const a=Z_(i.aggregate),l=XL({scaleChannel:o,markDef:n,config:t,scaleType:s,isCountAggregate:a});if(eIe(l)){const c=e.vgField(o,{expr:"datum",binSuffix:(u=e.stack)!=null&&u.impute?"mid":void 0});c&&r.add(c)}}),r.size>0)return{defined:{signal:[...r].map(o=>r$(o,!0)).join(" && ")}}}function $V(e,t){if(t!==void 0)return{[e]:ln(t)}}const l3="voronoi",Wse={defined:e=>e.type==="point"&&e.nearest,parse:(e,t)=>{if(t.events)for(const n of t.events)n.markname=e.getName(l3)},marks:(e,t,n)=>{const{x:r,y:i}=t.project.hasChannel,o=e.mark;if(Vf(o))return ue(eNe(o)),n;const s={name:e.getName(l3),type:"path",interactive:!0,from:{data:e.getName("marks")},encode:{update:{fill:{value:"transparent"},strokeWidth:{value:.35},stroke:{value:"transparent"},isVoronoi:{value:!0},...zse(e,{reactiveGeom:!0})}},transform:[{type:"voronoi",x:{expr:r||!i?"datum.datum.x || 0":"0"},y:{expr:i||!r?"datum.datum.y || 0":"0"},size:[e.getSizeSignalRef("width"),e.getSizeSignalRef("height")]}]};let a=0,l=!1;return n.forEach((u,c)=>{const f=u.name??"";f===e.component.mark[0].name?a=c:f.includes(l3)&&(l=!0)}),l||n.splice(a+1,0,s),n}},Hse={defined:e=>e.type==="point"&&e.resolve==="global"&&e.bind&&e.bind!=="scales"&&!uI(e.bind),parse:(e,t,n)=>Zse(t,n),topLevelSignals:(e,t,n)=>{const r=t.name,i=t.project,o=t.bind,s=t.init&&t.init[0],a=Wse.defined(t)?"(item().isVoronoi ? datum.datum : datum)":"datum";return i.items.forEach((l,u)=>{const c=pn(`${r}_${l.field}`);n.filter(d=>d.name===c).length||n.unshift({name:c,...s?{init:Oh(s[u])}:{value:null},on:t.events?[{events:t.events,update:`datum && item().mark.marktype !== 'group' ? ${a}[${de(l.field)}] : null`}]:[],bind:o[l.field]??o[l.channel]??o})}),n},signals:(e,t,n)=>{const r=t.name,i=t.project,o=n.find(u=>u.name===r+Sf),s=r+Rx,a=i.items.map(u=>pn(`${r}_${u.field}`)),l=a.map(u=>`${u} !== null`).join(" && ");return a.length&&(o.update=`${l} ? {fields: ${s}, values: [${a.join(", ")}]} : null`),delete o.value,delete o.on,n}},AC="_toggle",qse={defined:e=>e.type==="point"&&!!e.toggle,signals:(e,t,n)=>n.concat({name:t.name+AC,value:!1,on:[{events:t.events,update:t.toggle}]}),modifyExpr:(e,t)=>{const n=t.name+Sf,r=t.name+AC;return`${r} ? null : ${n}, `+(t.resolve==="global"?`${r} ? null : true, `:`${r} ? null : {unit: ${ih(e)}}, `)+`${r} ? ${n} : null`}},M9e={defined:e=>e.clear!==void 0&&e.clear!==!1,parse:(e,t)=>{t.clear&&(t.clear=we(t.clear)?Nf(t.clear,"view"):t.clear)},topLevelSignals:(e,t,n)=>{if(Hse.defined(t))for(const r of t.project.items){const i=n.findIndex(o=>o.name===pn(`${t.name}_${r.field}`));i!==-1&&n[i].on.push({events:t.clear,update:"null"})}return n},signals:(e,t,n)=>{function r(i,o){i!==-1&&n[i].on&&n[i].on.push({events:t.clear,update:o})}if(t.type==="interval")for(const i of t.project.items){const o=n.findIndex(s=>s.name===i.signals.visual);if(r(o,"[0, 0]"),o===-1){const s=n.findIndex(a=>a.name===i.signals.data);r(s,"null")}}else{let i=n.findIndex(o=>o.name===t.name+Sf);r(i,"null"),qse.defined(t)&&(i=n.findIndex(o=>o.name===t.name+AC),r(i,"false"))}return n}},Gse={defined:e=>{const t=e.resolve==="global"&&e.bind&&uI(e.bind),n=e.project.items.length===1&&e.project.items[0].field!==ya;return t&&!n&&ue(iNe),t&&n},parse:(e,t,n)=>{const r=Ge(n);if(r.select=we(r.select)?{type:r.select,toggle:t.toggle}:{...r.select,toggle:t.toggle},Zse(t,r),ve(n.select)&&(n.select.on||n.select.clear)){const s='event.item && indexof(event.item.mark.role, "legend") < 0';for(const a of t.events)a.filter=xe(a.filter??[]),a.filter.includes(s)||a.filter.push(s)}const i=i3(t.bind)?t.bind.legend:"click",o=we(i)?Nf(i,"view"):xe(i);t.bind={legend:{merge:o}}},topLevelSignals:(e,t,n)=>{const r=t.name,i=i3(t.bind)&&t.bind.legend,o=s=>a=>{const l=Ge(a);return l.markname=s,l};for(const s of t.project.items){if(!s.hasLegend)continue;const a=`${pn(s.field)}_legend`,l=`${r}_${a}`;if(n.filter(c=>c.name===l).length===0){const c=i.merge.map(o(`${a}_symbols`)).concat(i.merge.map(o(`${a}_labels`))).concat(i.merge.map(o(`${a}_entries`)));n.unshift({name:l,...t.init?{}:{value:null},on:[{events:c,update:"isDefined(datum.value) ? datum.value : item().items[0].items[0].datum.value",force:!0},{events:i.merge,update:`!event.item || !datum ? null : ${l}`,force:!0}]})}}return n},signals:(e,t,n)=>{const r=t.name,i=t.project,o=n.find(d=>d.name===r+Sf),s=r+Rx,a=i.items.filter(d=>d.hasLegend).map(d=>pn(`${r}_${pn(d.field)}_legend`)),u=`${a.map(d=>`${d} !== null`).join(" && ")} ? {fields: ${s}, values: [${a.join(", ")}]} : null`;t.events&&a.length>0?o.on.push({events:a.map(d=>({signal:d})),update:u}):a.length>0&&(o.update=u,delete o.value,delete o.on);const c=n.find(d=>d.name===r+AC),f=i3(t.bind)&&t.bind.legend;return c&&(t.events?c.on.push({...c.on[0],events:f}):c.on[0].events=f),n}};function N9e(e,t,n){var i;const r=(i=e.fieldDef(t))==null?void 0:i.field;for(const o of Mr(e.component.selection??{})){const s=o.project.hasField[r]??o.project.hasChannel[t];if(s&&Gse.defined(o)){const a=n.get("selections")??[];a.push(o.name),n.set("selections",a,!1),s.hasLegend=!0}}}const Xse="_translate_anchor",Yse="_translate_delta",L9e={defined:e=>e.type==="interval"&&e.translate,signals:(e,t,n)=>{const r=t.name,i=yu.defined(t),o=r+Xse,{x:s,y:a}=t.project.hasChannel;let l=Nf(t.translate,"scope");return i||(l=l.map(u=>(u.between[0].markname=r+Ng,u))),n.push({name:o,value:{},on:[{events:l.map(u=>u.between[0]),update:"{x: x(unit), y: y(unit)"+(s!==void 0?`, extent_x: ${i?XR(e,mn):`slice(${s.signals.visual})`}`:"")+(a!==void 0?`, extent_y: ${i?XR(e,xr):`slice(${a.signals.visual})`}`:"")+"}"}]},{name:r+Yse,value:{},on:[{events:l,update:`{x: ${o}.x - x(unit), y: ${o}.y - y(unit)}`}]}),s!==void 0&&AV(e,t,s,"width",n),a!==void 0&&AV(e,t,a,"height",n),n}};function AV(e,t,n,r,i){const o=t.name,s=o+Xse,a=o+Yse,l=n.channel,u=yu.defined(t),c=i.find(w=>w.name===n.signals[u?"data":"visual"]),f=e.getSizeSignalRef(r).signal,d=e.getScaleComponent(l),h=d&&d.get("type"),p=d&&d.get("reverse"),g=u?l===mn?p?"":"-":p?"-":"":"",m=`${s}.extent_${l}`,y=`${g}${a}.${l} / ${u?`${f}`:`span(${m})`}`,v=!u||!d?"panLinear":h==="log"?"panLog":h==="symlog"?"panSymlog":h==="pow"?"panPow":"panLinear",b=u?h==="pow"?`, ${d.get("exponent")??1}`:h==="symlog"?`, ${d.get("constant")??1}`:"":"",x=`${v}(${m}, ${y}${b})`;c.on.push({events:{signal:a},update:u?x:`clampRange(${x}, 0, ${f})`})}const Kse="_zoom_anchor",Qse="_zoom_delta",I9e={defined:e=>e.type==="interval"&&e.zoom,signals:(e,t,n)=>{const r=t.name,i=yu.defined(t),o=r+Qse,{x:s,y:a}=t.project.hasChannel,l=de(e.scaleName(mn)),u=de(e.scaleName(xr));let c=Nf(t.zoom,"scope");return i||(c=c.map(f=>(f.markname=r+Ng,f))),n.push({name:r+Kse,on:[{events:c,update:i?"{"+[l?`x: invert(${l}, x(unit))`:"",u?`y: invert(${u}, y(unit))`:""].filter(f=>f).join(", ")+"}":"{x: x(unit), y: y(unit)}"}]},{name:o,on:[{events:c,force:!0,update:"pow(1.001, event.deltaY * pow(16, event.deltaMode))"}]}),s!==void 0&&TV(e,t,s,"width",n),a!==void 0&&TV(e,t,a,"height",n),n}};function TV(e,t,n,r,i){const o=t.name,s=n.channel,a=yu.defined(t),l=i.find(v=>v.name===n.signals[a?"data":"visual"]),u=e.getSizeSignalRef(r).signal,c=e.getScaleComponent(s),f=c&&c.get("type"),d=a?XR(e,s):l.name,h=o+Qse,p=`${o}${Kse}.${s}`,g=!a||!c?"zoomLinear":f==="log"?"zoomLog":f==="symlog"?"zoomSymlog":f==="pow"?"zoomPow":"zoomLinear",m=a?f==="pow"?`, ${c.get("exponent")??1}`:f==="symlog"?`, ${c.get("constant")??1}`:"":"",y=`${g}(${d}, ${p}, ${h}${m})`;l.on.push({events:{signal:h},update:a?y:`clampRange(${y}, 0, ${u})`})}const Dh="_store",Sf="_tuple",z9e="_modify",Jse="vlSelectionResolve",w$=[x9e,v9e,m9e,qse,Hse,yu,Gse,M9e,L9e,I9e,Wse];function j9e(e){let t=e.parent;for(;t&&!Ro(t);)t=t.parent;return t}function ih(e,{escape:t}={escape:!0}){let n=t?de(e.name):e.name;const r=j9e(e);if(r){const{facet:i}=r;for(const o of hs)i[o]&&(n+=` + '__facet_${o}_' + (facet[${de(r.vgField(o))}])`)}return n}function xI(e){return Mr(e.component.selection??{}).reduce((t,n)=>t||n.project.hasSelectionId,!1)}function Zse(e,t){(we(t.select)||!t.select.on)&&delete e.events,(we(t.select)||!t.select.clear)&&delete e.clear,(we(t.select)||!t.select.toggle)&&delete e.toggle}function YR(e){const t=[];return e.type==="Identifier"?[e.name]:e.type==="Literal"?[e.value]:(e.type==="MemberExpression"&&(t.push(...YR(e.object)),t.push(...YR(e.property))),t)}function eae(e){return e.object.type==="MemberExpression"?eae(e.object):e.object.name==="datum"}function tae(e){const t=jN(e),n=new Set;return t.visit(r=>{r.type==="MemberExpression"&&eae(r)&&n.add(YR(r).slice(1).join("."))}),n}class L0 extends jt{clone(){return new L0(null,this.model,Ge(this.filter))}constructor(t,n,r){super(t),this.model=n,this.filter=r,this.expr=TC(this.model,this.filter,this),this._dependentFields=tae(this.expr)}dependentFields(){return this._dependentFields}producedFields(){return new Set}assemble(){return{type:"filter",expr:this.expr}}hash(){return`Filter ${this.expr}`}}function B9e(e,t){const n={},r=e.config.selection;if(!t||!t.length)return n;for(const i of t){const o=pn(i.name),s=i.select,a=we(s)?s:s.type,l=ve(s)?Ge(s):{type:a},u=r[a];for(const d in u)d==="fields"||d==="encodings"||(d==="mark"&&(l.mark={...u.mark,...l.mark}),(l[d]===void 0||l[d]===!0)&&(l[d]=Ge(u[d]??l[d])));const c=n[o]={...l,name:o,type:a,init:i.value,bind:i.bind,events:we(l.on)?Nf(l.on,"scope"):xe(Ge(l.on))},f=Ge(i);for(const d of w$)d.defined(c)&&d.parse&&d.parse(e,c,f)}return n}function nae(e,t,n,r="datum"){const i=we(t)?t:t.param,o=pn(i),s=de(o+Dh);let a;try{a=e.getSelectionComponent(o,i)}catch{return`!!${o}`}if(a.project.timeUnit){const d=n??e.component.data.raw,h=a.project.timeUnit.clone();d.parent?h.insertAsParentOf(d):d.parent=h}const l=a.project.hasSelectionId?"vlSelectionIdTest(":"vlSelectionTest(",u=a.resolve==="global"?")":`, ${de(a.resolve)})`,c=`${l}${s}, ${r}${u}`,f=`length(data(${s}))`;return t.empty===!1?`${f} && ${c}`:`!${f} || ${c}`}function rae(e,t,n){const r=pn(t),i=n.encoding;let o=n.field,s;try{s=e.getSelectionComponent(r,t)}catch{return r}if(!i&&!o)o=s.project.items[0].field,s.project.items.length>1&&ue(`A "field" or "encoding" must be specified when using a selection as a scale domain. Using "field": ${de(o)}.`);else if(i&&!o){const a=s.project.items.filter(l=>l.channel===i);!a.length||a.length>1?(o=s.project.items[0].field,ue((a.length?"Multiple ":"No ")+`matching ${de(i)} encoding found for selection ${de(n.param)}. Using "field": ${de(o)}.`)):o=a[0].field}return`${s.name}[${de(Cs(o))}]`}function U9e(e,t){for(const[n,r]of vf(e.component.selection??{})){const i=e.getName(`lookup_${n}`);e.component.data.outputNodes[i]=r.materialized=new to(new L0(t,e,{param:n}),i,Rn.Lookup,e.component.data.outputNodeRefCounts)}}function TC(e,t,n){return K1(t,r=>we(r)?r:vLe(r)?nae(e,r,n):moe(r))}function V9e(e,t){if(e)return te(e)&&!bc(e)?e.map(n=>tI(n,t)).join(", "):e}function u3(e,t,n,r){var i,o;e.encode??(e.encode={}),(i=e.encode)[t]??(i[t]={}),(o=e.encode[t]).update??(o.update={}),e.encode[t].update[n]=r}function w1(e,t,n,r={header:!1}){var f,d;const{disable:i,orient:o,scale:s,labelExpr:a,title:l,zindex:u,...c}=e.combine();if(!i){for(const h in c){const p=h,g=EIe[p],m=c[p];if(g&&g!==t&&g!=="both")delete c[p];else if(Fx(m)){const{condition:y,...v}=m,b=xe(y),x=nV[p];if(x){const{vgProp:w,part:C}=x,S=[...b.map(k=>{const{test:$,...R}=k;return{test:TC(null,$),...R}}),v];u3(c,C,w,S),delete c[p]}else if(x===null){const w={signal:b.map(C=>{const{test:S,...k}=C;return`${TC(null,S)} ? ${jU(k)} : `}).join("")+jU(v)};c[p]=w}}else if(Re(m)){const y=nV[p];if(y){const{vgProp:v,part:b}=y;u3(c,b,v,m),delete c[p]}}it(["labelAlign","labelBaseline"],p)&&c[p]===null&&delete c[p]}if(t==="grid"){if(!c.grid)return;if(c.encode){const{grid:h}=c.encode;c.encode={...h?{grid:h}:{}},Ht(c.encode)&&delete c.encode}return{scale:s,orient:o,...c,domain:!1,labels:!1,aria:!1,maxExtent:0,minExtent:0,ticks:!1,zindex:jn(u,0)}}else{if(!r.header&&e.mainExtracted)return;if(a!==void 0){let p=a;(d=(f=c.encode)==null?void 0:f.labels)!=null&&d.update&&Re(c.encode.labels.update.text)&&(p=$h(a,"datum.label",c.encode.labels.update.text.signal)),u3(c,"labels","text",{signal:p})}if(c.labelAlign===null&&delete c.labelAlign,c.encode){for(const p of Goe)e.hasAxisPart(p)||delete c.encode[p];Ht(c.encode)&&delete c.encode}const h=V9e(l,n);return{scale:s,orient:o,grid:!1,...h?{title:h}:{},...c,...n.aria===!1?{aria:!1}:{},zindex:jn(u,0)}}}}function iae(e){const{axes:t}=e.component,n=[];for(const r of Bu)if(t[r]){for(const i of t[r])if(!i.get("disable")&&!i.get("gridScale")){const o=r==="x"?"height":"width",s=e.getSizeSignalRef(o).signal;o!==s&&n.push({name:o,update:s})}}return n}function W9e(e,t){const{x:n=[],y:r=[]}=e;return[...n.map(i=>w1(i,"grid",t)),...r.map(i=>w1(i,"grid",t)),...n.map(i=>w1(i,"main",t)),...r.map(i=>w1(i,"main",t))].filter(i=>i)}function FV(e,t,n,r){return Object.assign.apply(null,[{},...e.map(i=>{if(i==="axisOrient"){const o=n==="x"?"bottom":"left",s=t[n==="x"?"axisBottom":"axisLeft"]||{},a=t[n==="x"?"axisTop":"axisRight"]||{},l=new Set([...se(s),...se(a)]),u={};for(const c of l.values())u[c]={signal:`${r.signal} === "${o}" ? ${na(s[c])} : ${na(a[c])}`};return u}return t[i]})])}function H9e(e,t,n,r){const i=t==="band"?["axisDiscrete","axisBand"]:t==="point"?["axisDiscrete","axisPoint"]:xoe(t)?["axisQuantitative"]:t==="time"||t==="utc"?["axisTemporal"]:[],o=e==="x"?"axisX":"axisY",s=Re(n)?"axisOrient":`axis${bx(n)}`,a=[...i,...i.map(u=>o+u.substr(4))],l=["axis",s,o];return{vlOnlyAxisConfig:FV(a,r,e,n),vgAxisConfig:FV(l,r,e,n),axisConfigStyle:q9e([...l,...a],r)}}function q9e(e,t){var r;const n=[{}];for(const i of e){let o=(r=t[i])==null?void 0:r.style;if(o){o=xe(o);for(const s of o)n.push(t.style[s])}}return Object.assign.apply(null,n)}function KR(e,t,n,r={}){var o;const i=Xie(e,n,t);if(i!==void 0)return{configFrom:"style",configValue:i};for(const s of["vlOnlyAxisConfig","vgAxisConfig","axisConfigStyle"])if(((o=r[s])==null?void 0:o[e])!==void 0)return{configFrom:s,configValue:r[s][e]};return{}}const RV={scale:({model:e,channel:t})=>e.scaleName(t),format:({format:e})=>e,formatType:({formatType:e})=>e,grid:({fieldOrDatumDef:e,axis:t,scaleType:n})=>t.grid??G9e(n,e),gridScale:({model:e,channel:t})=>X9e(e,t),labelAlign:({axis:e,labelAngle:t,orient:n,channel:r})=>e.labelAlign||sae(t,n,r),labelAngle:({labelAngle:e})=>e,labelBaseline:({axis:e,labelAngle:t,orient:n,channel:r})=>e.labelBaseline||oae(t,n,r),labelFlush:({axis:e,fieldOrDatumDef:t,channel:n})=>e.labelFlush??K9e(t.type,n),labelOverlap:({axis:e,fieldOrDatumDef:t,scaleType:n})=>e.labelOverlap??Q9e(t.type,n,ce(t)&&!!t.timeUnit,ce(t)?t.sort:void 0),orient:({orient:e})=>e,tickCount:({channel:e,model:t,axis:n,fieldOrDatumDef:r,scaleType:i})=>{const o=e==="x"?"width":e==="y"?"height":void 0,s=o?t.getSizeSignalRef(o):void 0;return n.tickCount??Z9e({fieldOrDatumDef:r,scaleType:i,size:s,values:n.values})},tickMinStep:eze,title:({axis:e,model:t,channel:n})=>{if(e.title!==void 0)return e.title;const r=aae(t,n);if(r!==void 0)return r;const i=t.typedFieldDef(n),o=n==="x"?"x2":"y2",s=t.fieldDef(o);return Kie(i?[eV(i)]:[],ce(s)?[eV(s)]:[])},values:({axis:e,fieldOrDatumDef:t})=>tze(e,t),zindex:({axis:e,fieldOrDatumDef:t,mark:n})=>e.zindex??nze(n,t)};function G9e(e,t){return!vr(e)&&ce(t)&&!nn(t==null?void 0:t.bin)&&!_r(t==null?void 0:t.bin)}function X9e(e,t){const n=t==="x"?"y":"x";if(e.getScaleComponent(n))return e.scaleName(n)}function Y9e(e,t,n,r,i){const o=t==null?void 0:t.labelAngle;if(o!==void 0)return Re(o)?o:Wv(o);{const{configValue:s}=KR("labelAngle",r,t==null?void 0:t.style,i);return s!==void 0?Wv(s):n===mn&&it([VL,UL],e.type)&&!(ce(e)&&e.timeUnit)?270:void 0}}function QR(e){return`(((${e.signal} % 360) + 360) % 360)`}function oae(e,t,n,r){if(e!==void 0)if(n==="x"){if(Re(e)){const i=QR(e),o=Re(t)?`(${t.signal} === "top")`:t==="top";return{signal:`(45 < ${i} && ${i} < 135) || (225 < ${i} && ${i} < 315) ? "middle" :(${i} <= 45 || 315 <= ${i}) === ${o} ? "bottom" : "top"`}}if(45<e&&e<135||225<e&&e<315)return"middle";if(Re(t)){const i=e<=45||315<=e?"===":"!==";return{signal:`${t.signal} ${i} "top" ? "bottom" : "top"`}}return(e<=45||315<=e)==(t==="top")?"bottom":"top"}else{if(Re(e)){const i=QR(e),o=Re(t)?`(${t.signal} === "left")`:t==="left";return{signal:`${i} <= 45 || 315 <= ${i} || (135 <= ${i} && ${i} <= 225) ? ${r?'"middle"':"null"} : (45 <= ${i} && ${i} <= 135) === ${o} ? "top" : "bottom"`}}if(e<=45||315<=e||135<=e&&e<=225)return r?"middle":null;if(Re(t)){const i=45<=e&&e<=135?"===":"!==";return{signal:`${t.signal} ${i} "left" ? "top" : "bottom"`}}return(45<=e&&e<=135)==(t==="left")?"top":"bottom"}}function sae(e,t,n){if(e===void 0)return;const r=n==="x",i=r?0:90,o=r?"bottom":"left";if(Re(e)){const s=QR(e),a=Re(t)?`(${t.signal} === "${o}")`:t===o;return{signal:`(${i?`(${s} + 90)`:s} % 180 === 0) ? ${r?null:'"center"'} :(${i} < ${s} && ${s} < ${180+i}) === ${a} ? "left" : "right"`}}if((e+i)%180===0)return r?null:"center";if(Re(t)){const s=i<e&&e<180+i?"===":"!==";return{signal:`${`${t.signal} ${s} "${o}"`} ? "left" : "right"`}}return(i<e&&e<180+i)==(t===o)?"left":"right"}function K9e(e,t){if(t==="x"&&it(["quantitative","temporal"],e))return!0}function Q9e(e,t,n,r){if(n&&!ve(r)||e!=="nominal"&&e!=="ordinal")return t==="log"||t==="symlog"?"greedy":!0}function J9e(e){return e==="x"?"bottom":"left"}function Z9e({fieldOrDatumDef:e,scaleType:t,size:n,values:r}){var i;if(!r&&!vr(t)&&t!=="log"){if(ce(e)){if(nn(e.bin))return{signal:`ceil(${n.signal}/10)`};if(e.timeUnit&&it(["month","hours","day","quarter"],(i=mr(e.timeUnit))==null?void 0:i.unit))return}return{signal:`ceil(${n.signal}/40)`}}}function eze({format:e,fieldOrDatumDef:t}){if(e==="d")return 1;if(ce(t)){const{timeUnit:n}=t;if(n){const r=hoe(n);if(r)return{signal:r}}}}function aae(e,t){const n=t==="x"?"x2":"y2",r=e.fieldDef(t),i=e.fieldDef(n),o=r?r.title:void 0,s=i?i.title:void 0;if(o&&s)return Qie(o,s);if(o)return o;if(s)return s;if(o!==void 0)return o;if(s!==void 0)return s}function tze(e,t){const n=e.values;if(te(n))return qoe(t,n);if(Re(n))return n}function nze(e,t){return e==="rect"&&SC(t)?1:0}class Hm extends jt{clone(){return new Hm(null,Ge(this.transform))}constructor(t,n){super(t),this.transform=n,this._dependentFields=tae(this.transform.calculate)}static parseAllForSortIndex(t,n){return n.forEachFieldDef((r,i)=>{if(up(r)&&Noe(r.sort)){const{field:o,timeUnit:s}=r,a=r.sort,l=a.map((u,c)=>`${moe({field:o,timeUnit:s,equal:u})} ? ${c} : `).join("")+a.length;t=new Hm(t,{calculate:l,as:qm(r,i,{forAs:!0})})}}),t}producedFields(){return new Set([this.transform.as])}dependentFields(){return this._dependentFields}assemble(){return{type:"formula",expr:this.transform.calculate,as:this.transform.as}}hash(){return`Calculate ${ut(this.transform)}`}}function qm(e,t,n){return ye(e,{prefix:t,suffix:"sort_index",...n})}function S$(e,t){return it(["top","bottom"],t)?"column":it(["left","right"],t)||e==="row"?"row":"column"}function Gm(e,t,n,r){const i=r==="row"?n.headerRow:r==="column"?n.headerColumn:n.headerFacet;return jn((t||{})[e],i[e],n.header[e])}function E$(e,t,n,r){const i={};for(const o of e){const s=Gm(o,t||{},n,r);s!==void 0&&(i[o]=s)}return i}const wI=["row","column"],SI=["header","footer"];function rze(e,t){const n=e.component.layoutHeaders[t].title,r=e.config?e.config:void 0,i=e.component.layoutHeaders[t].facetFieldDef?e.component.layoutHeaders[t].facetFieldDef:void 0,{titleAnchor:o,titleAngle:s,titleOrient:a}=E$(["titleAnchor","titleAngle","titleOrient"],i.header,r,t),l=S$(t,a),u=Wv(s);return{name:`${t}-title`,type:"group",role:`${l}-title`,title:{text:n,...t==="row"?{orient:"left"}:{},style:"guide-title",...uae(u,l),...lae(l,u,o),...cae(r,i,t,HIe,fse)}}}function lae(e,t,n="middle"){switch(n){case"start":return{align:"left"};case"end":return{align:"right"}}const r=sae(t,e==="row"?"left":"top",e==="row"?"y":"x");return r?{align:r}:{}}function uae(e,t){const n=oae(e,t==="row"?"left":"top",t==="row"?"y":"x",!0);return n?{baseline:n}:{}}function ize(e,t){const n=e.component.layoutHeaders[t],r=[];for(const i of SI)if(n[i])for(const o of n[i]){const s=sze(e,t,i,n,o);s!=null&&r.push(s)}return r}function oze(e,t){const{sort:n}=e;return mu(n)?{field:ye(n,{expr:"datum"}),order:n.order??"ascending"}:te(n)?{field:qm(e,t,{expr:"datum"}),order:"ascending"}:{field:ye(e,{expr:"datum"}),order:n??"ascending"}}function JR(e,t,n){const{format:r,formatType:i,labelAngle:o,labelAnchor:s,labelOrient:a,labelExpr:l}=E$(["format","formatType","labelAngle","labelAnchor","labelOrient","labelExpr"],e.header,n,t),u=QL({fieldOrDatumDef:e,format:r,formatType:i,expr:"parent",config:n}).signal,c=S$(t,a);return{text:{signal:l?$h($h(l,"datum.label",u),"datum.value",ye(e,{expr:"parent"})):u},...t==="row"?{orient:"left"}:{},style:"guide-label",frame:"group",...uae(o,c),...lae(c,o,s),...cae(n,e,t,qIe,dse)}}function sze(e,t,n,r,i){if(i){let o=null;const{facetFieldDef:s}=r,a=e.config?e.config:void 0;if(s&&i.labels){const{labelOrient:f}=E$(["labelOrient"],s.header,a,t);(t==="row"&&!it(["top","bottom"],f)||t==="column"&&!it(["left","right"],f))&&(o=JR(s,t,a))}const l=Ro(e)&&!_x(e.facet),u=i.axes,c=(u==null?void 0:u.length)>0;if(o||c){const f=t==="row"?"height":"width";return{name:e.getName(`${t}_${n}`),type:"group",role:`${t}-${n}`,...r.facetFieldDef?{from:{data:e.getName(`${t}_domain`)},sort:oze(s,t)}:{},...c&&l?{from:{data:e.getName(`facet_domain_${t}`)}}:{},...o?{title:o}:{},...i.sizeSignal?{encode:{update:{[f]:i.sizeSignal}}}:{},...c?{axes:u}:{}}}}return null}const aze={column:{start:0,end:1},row:{start:1,end:0}};function lze(e,t){return aze[t][e]}function uze(e,t){const n={};for(const r of hs){const i=e[r];if(i!=null&&i.facetFieldDef){const{titleAnchor:o,titleOrient:s}=E$(["titleAnchor","titleOrient"],i.facetFieldDef.header,t,r),a=S$(r,s),l=lze(o,a);l!==void 0&&(n[a]=l)}}return Ht(n)?void 0:n}function cae(e,t,n,r,i){const o={};for(const s of r){if(!i[s])continue;const a=Gm(s,t==null?void 0:t.header,e,n);a!==void 0&&(o[i[s]]=a)}return o}function EI(e){return[...Qw(e,"width"),...Qw(e,"height"),...Qw(e,"childWidth"),...Qw(e,"childHeight")]}function Qw(e,t){const n=t==="width"?"x":"y",r=e.component.layoutSize.get(t);if(!r||r==="merged")return[];const i=e.getSizeSignalRef(t).signal;if(r==="step"){const o=e.getScaleComponent(n);if(o){const s=o.get("type"),a=o.get("range");if(vr(s)&&sp(a)){const l=e.scaleName(n);return Ro(e.parent)&&e.parent.component.resolve.scale[n]==="independent"?[PV(l,a)]:[PV(l,a),{name:i,update:fae(l,o,`domain('${l}').length`)}]}}throw new Error("layout size is step although width/height is not step.")}else if(r=="container"){const o=i.endsWith("width"),s=o?"containerSize()[0]":"containerSize()[1]",a=VR(e.config.view,o?"width":"height"),l=`isFinite(${s}) ? ${s} : ${a}`;return[{name:i,init:l,on:[{update:l,events:"window:resize"}]}]}else return[{name:i,value:r}]}function PV(e,t){const n=`${e}_step`;return Re(t.step)?{name:n,update:t.step.signal}:{name:n,value:t.step}}function fae(e,t,n){const r=t.get("type"),i=t.get("padding"),o=jn(t.get("paddingOuter"),i);let s=t.get("paddingInner");return s=r==="band"?s!==void 0?s:i:1,`bandspace(${n}, ${na(s)}, ${na(o)}) * ${e}_step`}function dae(e){return e==="childWidth"?"width":e==="childHeight"?"height":e}function hae(e,t){return se(e).reduce((n,r)=>({...n,...N0({model:t,channelDef:e[r],vgChannel:r,mainRefFn:i=>ln(i.value),invalidValueRef:void 0})}),{})}function pae(e,t){if(Ro(t))return e==="theta"?"independent":"shared";if(j0(t))return"shared";if(FI(t))return Bn(e)||e==="theta"||e==="radius"?"independent":"shared";throw new Error("invalid model type for resolve")}function CI(e,t){const n=e.scale[t],r=Bn(t)?"axis":"legend";return n==="independent"?(e[r][t]==="shared"&&ue(jNe(t)),"independent"):e[r][t]||"shared"}const cze={...YIe,disable:1,labelExpr:1,selections:1,opacity:1,shape:1,stroke:1,fill:1,size:1,strokeWidth:1,strokeDash:1,encode:1},gae=se(cze);class fze extends Vu{}const OV={symbols:dze,gradient:hze,labels:pze,entries:gze};function dze(e,{fieldOrDatumDef:t,model:n,channel:r,legendCmpt:i,legendType:o}){if(o!=="symbol")return;const{markDef:s,encoding:a,config:l,mark:u}=n,c=s.filled&&u!=="trail";let f={...Q6e({},n,WLe),...Bse(n,{filled:c})};const d=i.get("symbolOpacity")??l.legend.symbolOpacity,h=i.get("symbolFillColor")??l.legend.symbolFillColor,p=i.get("symbolStrokeColor")??l.legend.symbolStrokeColor,g=d===void 0?mae(a.opacity)??s.opacity:void 0;if(f.fill){if(r==="fill"||c&&r===uo)delete f.fill;else if(le(f.fill,"field"))h?delete f.fill:(f.fill=ln(l.legend.symbolBaseFillColor??"black"),f.fillOpacity=ln(g??1));else if(te(f.fill)){const m=ZR(a.fill??a.color)??s.fill??(c&&s.color);m&&(f.fill=ln(m))}}if(f.stroke){if(r==="stroke"||!c&&r===uo)delete f.stroke;else if(le(f.stroke,"field")||p)delete f.stroke;else if(te(f.stroke)){const m=jn(ZR(a.stroke||a.color),s.stroke,c?s.color:void 0);m&&(f.stroke={value:m})}}if(r!==ju){const m=ce(t)&&vae(n,i,t);m?f.opacity=[{test:m,...ln(g??1)},ln(l.legend.unselectedOpacity)]:g&&(f.opacity=ln(g))}return f={...f,...e},Ht(f)?void 0:f}function hze(e,{model:t,legendType:n,legendCmpt:r}){if(n!=="gradient")return;const{config:i,markDef:o,encoding:s}=t;let a={};const u=(r.get("gradientOpacity")??i.legend.gradientOpacity)===void 0?mae(s.opacity)||o.opacity:void 0;return u&&(a.opacity=ln(u)),a={...a,...e},Ht(a)?void 0:a}function pze(e,{fieldOrDatumDef:t,model:n,channel:r,legendCmpt:i}){const o=n.legend(r)||{},s=n.config,a=ce(t)?vae(n,i,t):void 0,l=a?[{test:a,value:1},{value:s.legend.unselectedOpacity}]:void 0,{format:u,formatType:c}=o;let f;Ph(c)?f=ra({fieldOrDatumDef:t,field:"datum.value",format:u,formatType:c,config:s}):u===void 0&&c===void 0&&s.customFormatTypes&&(t.type==="quantitative"&&s.numberFormatType?f=ra({fieldOrDatumDef:t,field:"datum.value",format:s.numberFormat,formatType:s.numberFormatType,config:s}):t.type==="temporal"&&s.timeFormatType&&ce(t)&&t.timeUnit===void 0&&(f=ra({fieldOrDatumDef:t,field:"datum.value",format:s.timeFormat,formatType:s.timeFormatType,config:s})));const d={...l?{opacity:l}:{},...f?{text:f}:{},...e};return Ht(d)?void 0:d}function gze(e,{legendCmpt:t}){const n=t.get("selections");return n!=null&&n.length?{...e,fill:{value:"transparent"}}:e}function mae(e){return yae(e,(t,n)=>Math.max(t,n.value))}function ZR(e){return yae(e,(t,n)=>jn(t,n.value))}function yae(e,t){if(fIe(e))return xe(e.condition).reduce(t,e.value);if(ga(e))return e.value}function vae(e,t,n){const r=t.get("selections");if(!(r!=null&&r.length))return;const i=de(n.field);return r.map(o=>`(!length(data(${de(pn(o)+Dh)})) || (${o}[${i}] && indexof(${o}[${i}], datum.value) >= 0))`).join(" || ")}const DV={direction:({direction:e})=>e,format:({fieldOrDatumDef:e,legend:t,config:n})=>{const{format:r,formatType:i}=t;return Ooe(e,e.type,r,i,n,!1)},formatType:({legend:e,fieldOrDatumDef:t,scaleType:n})=>{const{formatType:r}=e;return Doe(r,t,n)},gradientLength:e=>{const{legend:t,legendConfig:n}=e;return t.gradientLength??n.gradientLength??Sze(e)},labelOverlap:({legend:e,legendConfig:t,scaleType:n})=>e.labelOverlap??t.labelOverlap??Eze(n),symbolType:({legend:e,markDef:t,channel:n,encoding:r})=>e.symbolType??yze(t.type,n,r.shape,t.shape),title:({fieldOrDatumDef:e,config:t})=>Mg(e,t,{allowDisabling:!0}),type:({legendType:e,scaleType:t,channel:n})=>{if(Dg(n)&&nl(t)){if(e==="gradient")return}else if(e==="symbol")return;return e},values:({fieldOrDatumDef:e,legend:t})=>mze(t,e)};function mze(e,t){const n=e.values;if(te(n))return qoe(t,n);if(Re(n))return n}function yze(e,t,n,r){if(t!=="shape"){const i=ZR(n)??r;if(i)return i}switch(e){case"bar":case"rect":case"image":case"square":return"square";case"line":case"trail":case"rule":return"stroke";case"arc":case"point":case"circle":case"tick":case"geoshape":case"area":case"text":return"circle"}}function vze(e){const{legend:t}=e;return jn(t.type,bze(e))}function bze({channel:e,timeUnit:t,scaleType:n}){if(Dg(e)){if(it(["quarter","month","day"],t))return"symbol";if(nl(n))return"gradient"}return"symbol"}function xze({legendConfig:e,legendType:t,orient:n,legend:r}){return r.direction??e[t?"gradientDirection":"symbolDirection"]??wze(n,t)}function wze(e,t){switch(e){case"top":case"bottom":return"horizontal";case"left":case"right":case"none":case void 0:return;default:return t==="gradient"?"horizontal":void 0}}function Sze({legendConfig:e,model:t,direction:n,orient:r,scaleType:i}){const{gradientHorizontalMaxLength:o,gradientHorizontalMinLength:s,gradientVerticalMaxLength:a,gradientVerticalMinLength:l}=e;if(nl(i))return n==="horizontal"?r==="top"||r==="bottom"?MV(t,"width",s,o):s:MV(t,"height",l,a)}function MV(e,t,n,r){return{signal:`clamp(${e.getSizeSignalRef(t).signal}, ${n}, ${r})`}}function Eze(e){if(it(["quantile","threshold","log","symlog"],e))return"greedy"}function bae(e){const t=wn(e)?Cze(e):Aze(e);return e.component.legends=t,t}function Cze(e){const{encoding:t}=e,n={};for(const r of[uo,...pse]){const i=nr(t[r]);!i||!e.getScaleComponent(r)||r===co&&ce(i)&&i.type===M0||(n[r]=$ze(e,r))}return n}function kze(e,t){const n=e.scaleName(t);if(e.mark==="trail"){if(t==="color")return{stroke:n};if(t==="size")return{strokeWidth:n}}return t==="color"?e.markDef.filled?{fill:n}:{stroke:n}:{[t]:n}}function _ze(e,t,n,r){switch(t){case"disable":return n!==void 0;case"values":return!!(n!=null&&n.values);case"title":if(t==="title"&&e===(r==null?void 0:r.title))return!0}return e===(n||{})[t]}function $ze(e,t){var x;let n=e.legend(t);const{markDef:r,encoding:i,config:o}=e,s=o.legend,a=new fze({},kze(e,t));N9e(e,t,a);const l=n!==void 0?!n:s.disable;if(a.set("disable",l,n!==void 0),l)return a;n=n||{};const u=e.getScaleComponent(t).get("type"),c=nr(i[t]),f=ce(c)?(x=mr(c.timeUnit))==null?void 0:x.unit:void 0,d=n.orient||o.legend.orient||"right",h=vze({legend:n,channel:t,timeUnit:f,scaleType:u}),p=xze({legend:n,legendType:h,orient:d,legendConfig:s}),g={legend:n,channel:t,model:e,markDef:r,encoding:i,fieldOrDatumDef:c,legendConfig:s,config:o,scaleType:u,orient:d,legendType:h,direction:p};for(const w of gae){if(h==="gradient"&&w.startsWith("symbol")||h==="symbol"&&w.startsWith("gradient"))continue;const C=w in DV?DV[w](g):n[w];if(C!==void 0){const S=_ze(C,w,n,e.fieldDef(t));(S||o.legend[w]===void 0)&&a.set(w,C,S)}}const m=(n==null?void 0:n.encoding)??{},y=a.get("selections"),v={},b={fieldOrDatumDef:c,model:e,channel:t,legendCmpt:a,legendType:h};for(const w of["labels","legend","title","symbols","gradient","entries"]){const C=hae(m[w]??{},e),S=w in OV?OV[w](C,b):C;S!==void 0&&!Ht(S)&&(v[w]={...y!=null&&y.length&&ce(c)?{name:`${pn(c.field)}_legend_${w}`}:{},...y!=null&&y.length?{interactive:!!y}:{},update:S})}return Ht(v)||a.set("encode",v,!!(n!=null&&n.encoding)),a}function Aze(e){const{legends:t,resolve:n}=e.component;for(const r of e.children){bae(r);for(const i of se(r.component.legends))n.legend[i]=CI(e.component.resolve,i),n.legend[i]==="shared"&&(t[i]=xae(t[i],r.component.legends[i]),t[i]||(n.legend[i]="independent",delete t[i]))}for(const r of se(t))for(const i of e.children)i.component.legends[r]&&n.legend[r]==="shared"&&delete i.component.legends[r];return t}function xae(e,t){var o,s,a,l;if(!e)return t.clone();const n=e.getWithExplicit("orient"),r=t.getWithExplicit("orient");if(n.explicit&&r.explicit&&n.value!==r.value)return;let i=!1;for(const u of gae){const c=wf(e.getWithExplicit(u),t.getWithExplicit(u),u,"legend",(f,d)=>{switch(u){case"symbolType":return Tze(f,d);case"title":return Jie(f,d);case"type":return i=!0,vo("symbol")}return y$(f,d,u,"legend")});e.setWithExplicit(u,c)}return i&&((s=(o=e.implicit)==null?void 0:o.encode)!=null&&s.gradient&&yC(e.implicit,["encode","gradient"]),(l=(a=e.explicit)==null?void 0:a.encode)!=null&&l.gradient&&yC(e.explicit,["encode","gradient"])),e}function Tze(e,t){return t.value==="circle"?t:e}function Fze(e,t,n,r){var i,o;e.encode??(e.encode={}),(i=e.encode)[t]??(i[t]={}),(o=e.encode[t]).update??(o.update={}),e.encode[t].update[n]=r}function wae(e){const t=e.component.legends,n={};for(const i of se(t)){const o=e.getScaleComponent(i),s=qt(o.get("domains"));if(n[s])for(const a of n[s])xae(a,t[i])||n[s].push(t[i]);else n[s]=[t[i].clone()]}return Mr(n).flat().map(i=>Rze(i,e.config)).filter(i=>i!==void 0)}function Rze(e,t){var s,a,l;const{disable:n,labelExpr:r,selections:i,...o}=e.combine();if(!n){if(t.aria===!1&&o.aria==null&&(o.aria=!1),(s=o.encode)!=null&&s.symbols){const u=o.encode.symbols.update;u.fill&&u.fill.value!=="transparent"&&!u.stroke&&!o.stroke&&(u.stroke={value:"transparent"});for(const c of pse)o[c]&&delete u[c]}if(o.title||delete o.title,r!==void 0){let u=r;(l=(a=o.encode)==null?void 0:a.labels)!=null&&l.update&&Re(o.encode.labels.update.text)&&(u=$h(r,"datum.label",o.encode.labels.update.text.signal)),Fze(o,"labels","text",{signal:u})}return o}}function Pze(e){return j0(e)||FI(e)?Oze(e):Sae(e)}function Oze(e){return e.children.reduce((t,n)=>t.concat(n.assembleProjections()),Sae(e))}function Sae(e){const t=e.component.projection;if(!t||t.merged)return[];const n=t.combine(),{name:r}=n;if(t.data){const i={signal:`[${t.size.map(s=>s.signal).join(", ")}]`},o=t.data.reduce((s,a)=>{const l=Re(a)?a.signal:`data('${e.lookupDataSource(a)}')`;return it(s,l)||s.push(l),s},[]);if(o.length<=0)throw new Error("Projection's fit didn't find any data sources");return[{name:r,size:i,fit:{signal:o.length>1?`[${o.join(", ")}]`:o[0]},...n}]}else return[{name:r,translate:{signal:"[width / 2, height / 2]"},...n}]}const Dze=["type","clipAngle","clipExtent","center","rotate","precision","reflectX","reflectY","coefficient","distance","fraction","lobes","parallel","radius","ratio","spacing","tilt"];class Eae extends Vu{constructor(t,n,r,i){super({...n},{name:t}),this.specifiedProjection=n,this.size=r,this.data=i,this.merged=!1}get isFit(){return!!this.data}}function Cae(e){e.component.projection=wn(e)?Mze(e):Ize(e)}function Mze(e){if(e.hasProjection){const t=$r(e.specifiedProjection),n=!(t&&(t.scale!=null||t.translate!=null)),r=n?[e.getSizeSignalRef("width"),e.getSizeSignalRef("height")]:void 0,i=n?Nze(e):void 0,o=new Eae(e.projectionName(!0),{...$r(e.config.projection),...t},r,i);return o.get("type")||o.set("type","equalEarth",!1),o}}function Nze(e){const t=[],{encoding:n}=e;for(const r of[[ka,Ca],[ks,_a]])(nr(n[r[0]])||nr(n[r[1]]))&&t.push({signal:e.getName(`geojson_${t.length}`)});return e.channelHasField(co)&&e.typedFieldDef(co).type===M0&&t.push({signal:e.getName(`geojson_${t.length}`)}),t.length===0&&t.push(e.requestDataName(Rn.Main)),t}function Lze(e,t){const n=yL(Dze,i=>!!(!Se(e.explicit,i)&&!Se(t.explicit,i)||Se(e.explicit,i)&&Se(t.explicit,i)&&$o(e.get(i),t.get(i))));if($o(e.size,t.size)){if(n)return e;if($o(e.explicit,{}))return t;if($o(t.explicit,{}))return e}return null}function Ize(e){if(e.children.length===0)return;let t;for(const r of e.children)Cae(r);const n=yL(e.children,r=>{const i=r.component.projection;if(i)if(t){const o=Lze(t,i);return o&&(t=o),!!o}else return t=i,!0;else return!0});if(t&&n){const r=e.projectionName(!0),i=new Eae(r,t.specifiedProjection,t.size,Ge(t.data));for(const o of e.children){const s=o.component.projection;s&&(s.isFit&&i.data.push(...o.component.projection.data),o.renameProjection(s.get("name"),r),s.merged=!0)}return i}}function zze(e,t,n,r){if(Tx(t,n)){const i=wn(e)?e.axis(n)??e.legend(n)??{}:{},o=ye(t,{expr:"datum"}),s=ye(t,{expr:"datum",binSuffix:"end"});return{formulaAs:ye(t,{binSuffix:"range",forAs:!0}),formula:kx(o,s,i.format,i.formatType,r)}}return{}}function kae(e,t){return`${Wie(e)}_${t}`}function jze(e,t){return{signal:e.getName(`${t}_bins`),extentSignal:e.getName(`${t}_extent`)}}function kI(e,t,n){const r=f$(n,void 0)??{},i=kae(r,t);return e.getName(`${i}_bins`)}function Bze(e){return"as"in e}function NV(e,t,n){let r,i;Bze(e)?r=we(e.as)?[e.as,`${e.as}_end`]:[e.as[0],e.as[1]]:r=[ye(e,{forAs:!0}),ye(e,{binSuffix:"end",forAs:!0})];const o={...f$(t,void 0)},s=kae(o,e.field),{signal:a,extentSignal:l}=jze(n,s);if(e$(o.extent)){const c=o.extent;i=rae(n,c.param,c),delete o.extent}const u={bin:o,field:e.field,as:[r],...a?{signal:a}:{},...l?{extentSignal:l}:{},...i?{span:i}:{}};return{key:s,binComponent:u}}class cl extends jt{clone(){return new cl(null,Ge(this.bins))}constructor(t,n){super(t),this.bins=n}static makeFromEncoding(t,n){const r=n.reduceFieldDef((i,o,s)=>{if(Ni(o)&&nn(o.bin)){const{key:a,binComponent:l}=NV(o,o.bin,n);i[a]={...l,...i[a],...zze(n,o,s,n.config)}}return i},{});return Ht(r)?null:new cl(t,r)}static makeFromTransform(t,n,r){const{key:i,binComponent:o}=NV(n,n.bin,r);return new cl(t,{[i]:o})}merge(t,n){for(const r of se(t.bins))r in this.bins?(n(t.bins[r].signal,this.bins[r].signal),this.bins[r].as=tl([...this.bins[r].as,...t.bins[r].as],ut)):this.bins[r]=t.bins[r];for(const r of t.children)t.removeChild(r),r.parent=this;t.remove()}producedFields(){return new Set(Mr(this.bins).map(t=>t.as).flat(2))}dependentFields(){return new Set(Mr(this.bins).map(t=>t.field))}hash(){return`Bin ${ut(this.bins)}`}assemble(){return Mr(this.bins).flatMap(t=>{const n=[],[r,...i]=t.as,{extent:o,...s}=t.bin,a={type:"bin",field:Cs(t.field),as:r,signal:t.signal,...e$(o)?{extent:null}:{extent:o},...t.span?{span:{signal:`span(${t.span})`}}:{},...s};!o&&t.extentSignal&&(n.push({type:"extent",field:Cs(t.field),signal:t.extentSignal}),a.extent={signal:t.extentSignal}),n.push(a);for(const l of i)for(let u=0;u<2;u++)n.push({type:"formula",expr:ye({field:r[u]},{expr:"datum"}),as:l[u]});return t.formula&&n.push({type:"formula",expr:t.formula,as:t.formulaAs}),n})}}function Uze(e,t,n,r){var o;const i=wn(r)?r.encoding[Dl(t)]:void 0;if(Ni(n)&&wn(r)&&Ioe(n,i,r.markDef,r.config)){e.add(ye(n,{})),e.add(ye(n,{suffix:"end"}));const{mark:s,markDef:a,config:l}=r,u=xf({fieldDef:n,markDef:a,config:l});Hv(s)&&u!==.5&&Bn(t)&&(e.add(ye(n,{suffix:v$})),e.add(ye(n,{suffix:b$}))),n.bin&&Tx(n,t)&&e.add(ye(n,{binSuffix:"range"}))}else if(Mie(t)){const s=Die(t);e.add(r.getName(s))}else e.add(ye(n));return up(n)&&RLe((o=n.scale)==null?void 0:o.range)&&e.add(n.scale.range.field),e}function Vze(e,t){for(const n of se(t)){const r=t[n];for(const i of se(r))n in e?e[n][i]=new Set([...e[n][i]??[],...r[i]]):e[n]={[i]:r[i]}}}class sa extends jt{clone(){return new sa(null,new Set(this.dimensions),Ge(this.measures))}constructor(t,n,r){super(t),this.dimensions=n,this.measures=r}get groupBy(){return this.dimensions}static makeFromEncoding(t,n){let r=!1;n.forEachFieldDef(s=>{s.aggregate&&(r=!0)});const i={},o=new Set;return!r||(n.forEachFieldDef((s,a)=>{const{aggregate:l,field:u}=s;if(l)if(l==="count")i["*"]??(i["*"]={}),i["*"].count=new Set([ye(s,{forAs:!0})]);else{if($u(l)||Uf(l)){const c=$u(l)?"argmin":"argmax",f=l[c];i[f]??(i[f]={}),i[f][c]=new Set([ye({op:c,field:f},{forAs:!0})])}else i[u]??(i[u]={}),i[u][l]=new Set([ye(s,{forAs:!0})]);Ml(a)&&n.scaleDomain(a)==="unaggregated"&&(i[u]??(i[u]={}),i[u].min=new Set([ye({field:u,aggregate:"min"},{forAs:!0})]),i[u].max=new Set([ye({field:u,aggregate:"max"},{forAs:!0})]))}else Uze(o,a,s,n)}),o.size+se(i).length===0)?null:new sa(t,o,i)}static makeFromTransform(t,n){var r;const i=new Set,o={};for(const s of n.aggregate){const{op:a,field:l,as:u}=s;a&&(a==="count"?(o["*"]??(o["*"]={}),o["*"].count=new Set([u||ye(s,{forAs:!0})])):(o[l]??(o[l]={}),(r=o[l])[a]??(r[a]=new Set),o[l][a].add(u||ye(s,{forAs:!0}))))}for(const s of n.groupby??[])i.add(s);return i.size+se(o).length===0?null:new sa(t,i,o)}merge(t){return _ie(this.dimensions,t.dimensions)?(Vze(this.measures,t.measures),!0):(nLe("different dimensions, cannot merge"),!1)}addDimensions(t){t.forEach(this.dimensions.add,this.dimensions)}dependentFields(){return new Set([...this.dimensions,...se(this.measures)])}producedFields(){const t=new Set;for(const n of se(this.measures))for(const r of se(this.measures[n])){const i=this.measures[n][r];i.size===0?t.add(`${r}_${n}`):i.forEach(t.add,t)}return t}hash(){return`Aggregate ${ut({dimensions:this.dimensions,measures:this.measures})}`}assemble(){const t=[],n=[],r=[];for(const o of se(this.measures))for(const s of se(this.measures[o]))for(const a of this.measures[o][s])r.push(a),t.push(s),n.push(o==="*"?null:Cs(o));return{type:"aggregate",groupby:[...this.dimensions].map(Cs),ops:t,fields:n,as:r}}}class I0 extends jt{constructor(t,n,r,i){super(t),this.model=n,this.name=r,this.data=i;for(const o of hs){const s=n.facet[o];if(s){const{bin:a,sort:l}=s;this[o]={name:n.getName(`${o}_domain`),fields:[ye(s),...nn(a)?[ye(s,{binSuffix:"end"})]:[]],...mu(l)?{sortField:l}:te(l)?{sortIndexField:qm(s,o)}:{}}}}this.childModel=n.child}hash(){let t="Facet";for(const n of hs)this[n]&&(t+=` ${n.charAt(0)}:${ut(this[n])}`);return t}get fields(){var n;const t=[];for(const r of hs)(n=this[r])!=null&&n.fields&&t.push(...this[r].fields);return t}dependentFields(){const t=new Set(this.fields);for(const n of hs)this[n]&&(this[n].sortField&&t.add(this[n].sortField.field),this[n].sortIndexField&&t.add(this[n].sortIndexField));return t}producedFields(){return new Set}getSource(){return this.name}getChildIndependentFieldsWithStep(){const t={};for(const n of Bu){const r=this.childModel.component.scales[n];if(r&&!r.merged){const i=r.get("type"),o=r.get("range");if(vr(i)&&sp(o)){const s=C$(this.childModel,n),a=TI(s);a?t[n]=a:ue(RL(n))}}}return t}assembleRowColumnHeaderData(t,n,r){const i={row:"y",column:"x",facet:void 0}[t],o=[],s=[],a=[];i&&r&&r[i]&&(n?(o.push(`distinct_${r[i]}`),s.push("max")):(o.push(r[i]),s.push("distinct")),a.push(`distinct_${r[i]}`));const{sortField:l,sortIndexField:u}=this[t];if(l){const{op:c=l$,field:f}=l;o.push(f),s.push(c),a.push(ye(l,{forAs:!0}))}else u&&(o.push(u),s.push("max"),a.push(u));return{name:this[t].name,source:n??this.data,transform:[{type:"aggregate",groupby:this[t].fields,...o.length?{fields:o,ops:s,as:a}:{}}]}}assembleFacetHeaderData(t){var l;const{columns:n}=this.model.layout,{layoutHeaders:r}=this.model.component,i=[],o={};for(const u of wI){for(const c of SI){const f=(r[u]&&r[u][c])??[];for(const d of f)if(((l=d.axes)==null?void 0:l.length)>0){o[u]=!0;break}}if(o[u]){const c=`length(data("${this.facet.name}"))`,f=u==="row"?n?{signal:`ceil(${c} / ${n})`}:1:n?{signal:`min(${c}, ${n})`}:{signal:c};i.push({name:`${this.facet.name}_${u}`,transform:[{type:"sequence",start:0,stop:f}]})}}const{row:s,column:a}=o;return(s||a)&&i.unshift(this.assembleRowColumnHeaderData("facet",null,t)),i}assemble(){const t=[];let n=null;const r=this.getChildIndependentFieldsWithStep(),{column:i,row:o,facet:s}=this;if(i&&o&&(r.x||r.y)){n=`cross_${this.column.name}_${this.row.name}`;const a=[].concat(r.x??[],r.y??[]),l=a.map(()=>"distinct");t.push({name:n,source:this.data,transform:[{type:"aggregate",groupby:this.fields,fields:a,ops:l}]})}for(const a of[gu,pu])this[a]&&t.push(this.assembleRowColumnHeaderData(a,n,r));if(s){const a=this.assembleFacetHeaderData(r);a&&t.push(...a)}return t}}function LV(e){return e.startsWith("'")&&e.endsWith("'")||e.startsWith('"')&&e.endsWith('"')?e.slice(1,-1):e}function Wze(e,t){const n=xL(e);if(t==="number")return`toNumber(${n})`;if(t==="boolean")return`toBoolean(${n})`;if(t==="string")return`toString(${n})`;if(t==="date")return`toDate(${n})`;if(t==="flatten")return n;if(t.startsWith("date:")){const r=LV(t.slice(5,t.length));return`timeParse(${n},'${r}')`}else if(t.startsWith("utc:")){const r=LV(t.slice(4,t.length));return`utcParse(${n},'${r}')`}else return ue(fNe(t)),null}function Hze(e){const t={};return yS(e.filter,n=>{if(goe(n)){let r=null;ML(n)?r=Eo(n.equal):LL(n)?r=Eo(n.lte):NL(n)?r=Eo(n.lt):IL(n)?r=Eo(n.gt):zL(n)?r=Eo(n.gte):jL(n)?r=n.range[0]:BL(n)&&(r=(n.oneOf??n.in)[0]),r&&(ap(r)?t[n.field]="date":St(r)?t[n.field]="number":we(r)&&(t[n.field]="string")),n.timeUnit&&(t[n.field]="date")}}),t}function qze(e){const t={};function n(r){Um(r)?t[r.field]="date":r.type==="quantitative"&&U6e(r.aggregate)?t[r.field]="number":Mm(r.field)>1?r.field in t||(t[r.field]="flatten"):up(r)&&mu(r.sort)&&Mm(r.sort.field)>1&&(r.sort.field in t||(t[r.sort.field]="flatten"))}if((wn(e)||Ro(e))&&e.forEachFieldDef((r,i)=>{if(Ni(r))n(r);else{const o=ip(i),s=e.fieldDef(o);n({...r,type:s.type})}}),wn(e)){const{mark:r,markDef:i,encoding:o}=e;if(Vf(r)&&!e.encoding.order){const s=i.orient==="horizontal"?"y":"x",a=o[s];ce(a)&&a.type==="quantitative"&&!(a.field in t)&&(t[a.field]="number")}}return t}function Gze(e){const t={};if(wn(e)&&e.component.selection)for(const n of se(e.component.selection)){const r=e.component.selection[n];for(const i of r.project.items)!i.channel&&Mm(i.field)>1&&(t[i.field]="flatten")}return t}class ni extends jt{clone(){return new ni(null,Ge(this._parse))}constructor(t,n){super(t),this._parse=n}hash(){return`Parse ${ut(this._parse)}`}static makeExplicit(t,n,r){var s;let i={};const o=n.data;return!Kc(o)&&((s=o==null?void 0:o.format)!=null&&s.parse)&&(i=o.format.parse),this.makeWithAncestors(t,i,{},r)}static makeWithAncestors(t,n,r,i){for(const a of se(r)){const l=i.getWithExplicit(a);l.value!==void 0&&(l.explicit||l.value===r[a]||l.value==="derived"||r[a]==="flatten"?delete r[a]:ue(qU(a,r[a],l.value)))}for(const a of se(n)){const l=i.get(a);l!==void 0&&(l===n[a]?delete n[a]:ue(qU(a,n[a],l)))}const o=new Vu(n,r);i.copyAll(o);const s={};for(const a of se(o.combine())){const l=o.get(a);l!==null&&(s[a]=l)}return se(s).length===0||i.parseNothing?null:new ni(t,s)}get parse(){return this._parse}merge(t){this._parse={...this._parse,...t.parse},t.remove()}assembleFormatParse(){const t={};for(const n of se(this._parse)){const r=this._parse[n];Mm(n)===1&&(t[n]=r)}return t}producedFields(){return new Set(se(this._parse))}dependentFields(){return new Set(se(this._parse))}assembleTransforms(t=!1){return se(this._parse).filter(n=>t?Mm(n)>1:!0).map(n=>{const r=Wze(n,this._parse[n]);return r?{type:"formula",expr:r,as:O0(n)}:null}).filter(n=>n!==null)}}class Ef extends jt{clone(){return new Ef(null)}constructor(t){super(t)}dependentFields(){return new Set}producedFields(){return new Set([ya])}hash(){return"Identifier"}assemble(){return{type:"identifier",as:ya}}}class Px extends jt{clone(){return new Px(null,this.params)}constructor(t,n){super(t),this.params=n}dependentFields(){return new Set}producedFields(){}hash(){return`Graticule ${ut(this.params)}`}assemble(){return{type:"graticule",...this.params===!0?{}:this.params}}}class Ox extends jt{clone(){return new Ox(null,this.params)}constructor(t,n){super(t),this.params=n}dependentFields(){return new Set}producedFields(){return new Set([this.params.as??"data"])}hash(){return`Hash ${ut(this.params)}`}assemble(){return{type:"sequence",...this.params}}}class Mh extends jt{constructor(t){super(null),t??(t={name:"source"});let n;if(Kc(t)||(n=t.format?{...eo(t.format,["parse"])}:{}),qv(t))this._data={values:t.values};else if(Vm(t)){if(this._data={url:t.url},!n.type){let r=/(?:\.([^.]+))?$/.exec(t.url)[1];it(["json","csv","tsv","dsv","topojson"],r)||(r="json"),n.type=r}}else Pse(t)?this._data={values:[{type:"Sphere"}]}:(Fse(t)||Kc(t))&&(this._data={});this._generator=Kc(t),t.name&&(this._name=t.name),n&&!Ht(n)&&(this._data.format=n)}dependentFields(){return new Set}producedFields(){}get data(){return this._data}hasName(){return!!this._name}get isGenerator(){return this._generator}get dataName(){return this._name}set dataName(t){this._name=t}set parent(t){throw new Error("Source nodes have to be roots.")}remove(){throw new Error("Source nodes are roots and cannot be removed.")}hash(){throw new Error("Cannot hash sources")}assemble(){return{name:this._name,...this._data,transform:[]}}}var IV=function(e,t,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(e,n):i?i.value=n:t.set(e,n),n},Xze=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},S1;function _I(e){return e instanceof Mh||e instanceof Px||e instanceof Ox}class $I{constructor(){S1.set(this,void 0),IV(this,S1,!1,"f")}setModified(){IV(this,S1,!0,"f")}get modifiedFlag(){return Xze(this,S1,"f")}}S1=new WeakMap;class cp extends $I{getNodeDepths(t,n,r){r.set(t,n);for(const i of t.children)this.getNodeDepths(i,n+1,r);return r}optimize(t){const r=[...this.getNodeDepths(t,0,new Map).entries()].sort((i,o)=>o[1]-i[1]);for(const i of r)this.run(i[0]);return this.modifiedFlag}}class AI extends $I{optimize(t){this.run(t);for(const n of t.children)this.optimize(n);return this.modifiedFlag}}class Yze extends AI{mergeNodes(t,n){const r=n.shift();for(const i of n)t.removeChild(i),i.parent=r,i.remove()}run(t){const n=t.children.map(i=>i.hash()),r={};for(let i=0;i<n.length;i++)r[n[i]]===void 0?r[n[i]]=[t.children[i]]:r[n[i]].push(t.children[i]);for(const i of se(r))r[i].length>1&&(this.setModified(),this.mergeNodes(t,r[i]))}}class Kze extends AI{constructor(t){super(),this.requiresSelectionId=t&&xI(t)}run(t){t instanceof Ef&&(this.requiresSelectionId&&(_I(t.parent)||t.parent instanceof sa||t.parent instanceof ni)||(this.setModified(),t.remove()))}}class Qze extends $I{optimize(t){return this.run(t,new Set),this.modifiedFlag}run(t,n){let r=new Set;t instanceof ul&&(r=t.producedFields(),vL(r,n)&&(this.setModified(),t.removeFormulas(n),t.producedFields.length===0&&t.remove()));for(const i of t.children)this.run(i,new Set([...n,...r]))}}class Jze extends AI{constructor(){super()}run(t){t instanceof to&&!t.isRequired()&&(this.setModified(),t.remove())}}class Zze extends cp{run(t){if(!_I(t)&&!(t.numChildren()>1)){for(const n of t.children)if(n instanceof ni)if(t instanceof ni)this.setModified(),t.merge(n);else{if(bL(t.producedFields(),n.dependentFields()))continue;this.setModified(),n.swapWithParent()}}}}class e7e extends cp{run(t){const n=[...t.children],r=t.children.filter(i=>i instanceof ni);if(t.numChildren()>1&&r.length>=1){const i={},o=new Set;for(const s of r){const a=s.parse;for(const l of se(a))l in i?i[l]!==a[l]&&o.add(l):i[l]=a[l]}for(const s of o)delete i[s];if(!Ht(i)){this.setModified();const s=new ni(t,i);for(const a of n){if(a instanceof ni)for(const l of se(i))delete a.parse[l];t.removeChild(a),a.parent=s,a instanceof ni&&se(a.parse).length===0&&a.remove()}}}}}class t7e extends cp{run(t){t instanceof to||t.numChildren()>0||t instanceof I0||t instanceof Mh||(this.setModified(),t.remove())}}class n7e extends cp{run(t){const n=t.children.filter(i=>i instanceof ul),r=n.pop();for(const i of n)this.setModified(),r.merge(i)}}class r7e extends cp{run(t){const n=t.children.filter(i=>i instanceof sa),r={};for(const i of n){const o=ut(i.groupBy);o in r||(r[o]=[]),r[o].push(i)}for(const i of se(r)){const o=r[i];if(o.length>1){const s=o.pop();for(const a of o)s.merge(a)&&(t.removeChild(a),a.parent=s,a.remove(),this.setModified())}}}}class i7e extends cp{constructor(t){super(),this.model=t}run(t){const n=!(_I(t)||t instanceof L0||t instanceof ni||t instanceof Ef),r=[],i=[];for(const o of t.children)o instanceof cl&&(n&&!bL(t.producedFields(),o.dependentFields())?r.push(o):i.push(o));if(r.length>0){const o=r.pop();for(const s of r)o.merge(s,this.model.renameSignal.bind(this.model));this.setModified(),t instanceof cl?t.merge(o,this.model.renameSignal.bind(this.model)):o.swapWithParent()}if(i.length>1){const o=i.pop();for(const s of i)o.merge(s,this.model.renameSignal.bind(this.model));this.setModified()}}}class o7e extends cp{run(t){const n=[...t.children];if(!Dm(n,s=>s instanceof to)||t.numChildren()<=1)return;const i=[];let o;for(const s of n)if(s instanceof to){let a=s;for(;a.numChildren()===1;){const[l]=a.children;if(l instanceof to)a=l;else break}i.push(...a.children),o?(t.removeChild(s),s.parent=o.parent,o.parent.removeChild(o),o.parent=a,this.setModified()):o=a}else i.push(s);if(i.length){this.setModified();for(const s of i)s.parent.removeChild(s),s.parent=o}}}class fp extends jt{clone(){return new fp(null,Ge(this.transform))}constructor(t,n){super(t),this.transform=n}addDimensions(t){this.transform.groupby=tl(this.transform.groupby.concat(t),n=>n)}dependentFields(){const t=new Set;return this.transform.groupby&&this.transform.groupby.forEach(t.add,t),this.transform.joinaggregate.map(n=>n.field).filter(n=>n!==void 0).forEach(t.add,t),t}producedFields(){return new Set(this.transform.joinaggregate.map(this.getDefaultName))}getDefaultName(t){return t.as??ye(t)}hash(){return`JoinAggregateTransform ${ut(this.transform)}`}assemble(){const t=[],n=[],r=[];for(const o of this.transform.joinaggregate)n.push(o.op),r.push(this.getDefaultName(o)),t.push(o.field===void 0?null:o.field);const i=this.transform.groupby;return{type:"joinaggregate",as:r,ops:n,fields:t,...i!==void 0?{groupby:i}:{}}}}class Xm extends jt{clone(){return new Xm(null,{...this.filter})}constructor(t,n){super(t),this.filter=n}static make(t,n,r){const{config:i,markDef:o}=n,{marks:s,scales:a}=r;if(s==="include-invalid-values"&&a==="include-invalid-values")return null;const l=n.reduceFieldDef((u,c,f)=>{const d=Ml(f)&&n.getScaleComponent(f);if(d){const h=d.get("type"),{aggregate:p}=c,g=XL({scaleChannel:f,markDef:o,config:i,scaleType:h,isCountAggregate:Z_(p)});g!=="show"&&g!=="always-valid"&&(u[c.field]=c)}return u},{});return se(l).length?new Xm(t,l):null}dependentFields(){return new Set(se(this.filter))}producedFields(){return new Set}hash(){return`FilterInvalid ${ut(this.filter)}`}assemble(){const t=se(this.filter).reduce((n,r)=>{const i=this.filter[r],o=ye(i,{expr:"datum"});return i!==null&&(i.type==="temporal"?n.push(`(isDate(${o}) || (${eP(o)}))`):i.type==="quantitative"&&n.push(eP(o))),n},[]);return t.length>0?{type:"filter",expr:t.join(" && ")}:null}}function eP(e){return`isValid(${e}) && isFinite(+${e})`}function s7e(e){return e.stack.stackBy.reduce((t,n)=>{const r=n.fieldDef,i=ye(r);return i&&t.push(i),t},[])}function a7e(e){return te(e)&&e.every(t=>we(t))&&e.length>1}class vu extends jt{clone(){return new vu(null,Ge(this._stack))}constructor(t,n){super(t),this._stack=n}static makeFromTransform(t,n){const{stack:r,groupby:i,as:o,offset:s="zero"}=n,a=[],l=[];if(n.sort!==void 0)for(const f of n.sort)a.push(f.field),l.push(jn(f.order,"ascending"));const u={field:a,order:l};let c;return a7e(o)?c=o:we(o)?c=[o,`${o}_end`]:c=[`${n.stack}_start`,`${n.stack}_end`],new vu(t,{dimensionFieldDefs:[],stackField:r,groupby:i,offset:s,sort:u,facetby:[],as:c})}static makeFromEncoding(t,n){const r=n.stack,{encoding:i}=n;if(!r)return null;const{groupbyChannels:o,fieldChannel:s,offset:a,impute:l}=r,u=o.map(h=>{const p=i[h];return ma(p)}).filter(h=>!!h),c=s7e(n),f=n.encoding.order;let d;if(te(f)||ce(f))d=Yie(f);else{const h=zoe(f)?f.sort:s==="y"?"descending":"ascending";d=c.reduce((p,g)=>(p.field.includes(g)||(p.field.push(g),p.order.push(h)),p),{field:[],order:[]})}return new vu(t,{dimensionFieldDefs:u,stackField:n.vgField(s),facetby:[],stackby:c,sort:d,offset:a,impute:l,as:[n.vgField(s,{suffix:"start",forAs:!0}),n.vgField(s,{suffix:"end",forAs:!0})]})}get stack(){return this._stack}addDimensions(t){this._stack.facetby.push(...t)}dependentFields(){const t=new Set;return t.add(this._stack.stackField),this.getGroupbyFields().forEach(t.add,t),this._stack.facetby.forEach(t.add,t),this._stack.sort.field.forEach(t.add,t),t}producedFields(){return new Set(this._stack.as)}hash(){return`Stack ${ut(this._stack)}`}getGroupbyFields(){const{dimensionFieldDefs:t,impute:n,groupby:r}=this._stack;return t.length>0?t.map(i=>i.bin?n?[ye(i,{binSuffix:"mid"})]:[ye(i,{}),ye(i,{binSuffix:"end"})]:[ye(i)]).flat():r??[]}assemble(){const t=[],{facetby:n,dimensionFieldDefs:r,stackField:i,stackby:o,sort:s,offset:a,impute:l,as:u}=this._stack;if(l)for(const c of r){const{bandPosition:f=.5,bin:d}=c;if(d){const h=ye(c,{expr:"datum"}),p=ye(c,{expr:"datum",binSuffix:"end"});t.push({type:"formula",expr:`${eP(h)} ? ${f}*${h}+${1-f}*${p} : ${h}`,as:ye(c,{binSuffix:"mid",forAs:!0})})}t.push({type:"impute",field:i,groupby:[...o,...n],key:ye(c,{binSuffix:"mid"}),method:"value",value:0})}return t.push({type:"stack",groupby:[...this.getGroupbyFields(),...n],field:i,sort:s,as:u,offset:a}),t}}class z0 extends jt{clone(){return new z0(null,Ge(this.transform))}constructor(t,n){super(t),this.transform=n}addDimensions(t){this.transform.groupby=tl(this.transform.groupby.concat(t),n=>n)}dependentFields(){const t=new Set;return(this.transform.groupby??[]).forEach(t.add,t),(this.transform.sort??[]).forEach(n=>t.add(n.field)),this.transform.window.map(n=>n.field).filter(n=>n!==void 0).forEach(t.add,t),t}producedFields(){return new Set(this.transform.window.map(this.getDefaultName))}getDefaultName(t){return t.as??ye(t)}hash(){return`WindowTransform ${ut(this.transform)}`}assemble(){const t=[],n=[],r=[],i=[];for(const f of this.transform.window)n.push(f.op),r.push(this.getDefaultName(f)),i.push(f.param===void 0?null:f.param),t.push(f.field===void 0?null:f.field);const o=this.transform.frame,s=this.transform.groupby;if(o&&o[0]===null&&o[1]===null&&n.every(f=>TL(f)))return{type:"joinaggregate",as:r,ops:n,fields:t,...s!==void 0?{groupby:s}:{}};const a=[],l=[];if(this.transform.sort!==void 0)for(const f of this.transform.sort)a.push(f.field),l.push(f.order??"ascending");const u={field:a,order:l},c=this.transform.ignorePeers;return{type:"window",params:i,as:r,ops:n,fields:t,sort:u,...c!==void 0?{ignorePeers:c}:{},...s!==void 0?{groupby:s}:{},...o!==void 0?{frame:o}:{}}}}function l7e(e){function t(n){if(!(n instanceof I0)){const r=n.clone();if(r instanceof to){const i=nP+r.getSource();r.setSource(i),e.model.component.data.outputNodes[i]=r}else(r instanceof sa||r instanceof vu||r instanceof z0||r instanceof fp)&&r.addDimensions(e.fields);for(const i of n.children.flatMap(t))i.parent=r;return[r]}return n.children.flatMap(t)}return t}function tP(e){if(e instanceof I0)if(e.numChildren()===1&&!(e.children[0]instanceof to)){const t=e.children[0];(t instanceof sa||t instanceof vu||t instanceof z0||t instanceof fp)&&t.addDimensions(e.fields),t.swapWithParent(),tP(e)}else{const t=e.model.component.data.main;_ae(t);const n=l7e(e),r=e.children.map(n).flat();for(const i of r)i.parent=t}else e.children.map(tP)}function _ae(e){if(e instanceof to&&e.type===Rn.Main&&e.numChildren()===1){const t=e.children[0];t instanceof I0||(t.swapWithParent(),_ae(e))}}const nP="scale_",Jw=5;function rP(e){for(const t of e){for(const n of t.children)if(n.parent!==t)return!1;if(!rP(t.children))return!1}return!0}function Ms(e,t){let n=!1;for(const r of t)n=e.optimize(r)||n;return n}function zV(e,t,n){let r=e.sources,i=!1;return i=Ms(new Jze,r)||i,i=Ms(new Kze(t),r)||i,r=r.filter(o=>o.numChildren()>0),i=Ms(new t7e,r)||i,r=r.filter(o=>o.numChildren()>0),n||(i=Ms(new Zze,r)||i,i=Ms(new i7e(t),r)||i,i=Ms(new Qze,r)||i,i=Ms(new e7e,r)||i,i=Ms(new r7e,r)||i,i=Ms(new n7e,r)||i,i=Ms(new Yze,r)||i,i=Ms(new o7e,r)||i),e.sources=r,i}function u7e(e,t){rP(e.sources);let n=0,r=0;for(let i=0;i<Jw&&zV(e,t,!0);i++)n++;e.sources.map(tP);for(let i=0;i<Jw&&zV(e,t,!1);i++)r++;rP(e.sources),Math.max(n,r)===Jw&&ue(`Maximum optimization runs(${Jw}) reached.`)}class cr{constructor(t){Object.defineProperty(this,"signal",{enumerable:!0,get:t})}static fromName(t,n){return new cr(()=>t(n))}}function $ae(e){wn(e)?c7e(e):f7e(e)}function c7e(e){const t=e.component.scales;for(const n of se(t)){const r=h7e(e,n);if(t[n].setWithExplicit("domains",r),g7e(e,n),e.component.data.isFaceted){let o=e;for(;!Ro(o)&&o.parent;)o=o.parent;if(o.component.resolve.scale[n]==="shared")for(const a of r.value)su(a)&&(a.data=nP+a.data.replace(nP,""))}}}function f7e(e){for(const n of e.children)$ae(n);const t=e.component.scales;for(const n of se(t)){let r,i=null;for(const o of e.children){const s=o.component.scales[n];if(s){r===void 0?r=s.getWithExplicit("domains"):r=wf(r,s.getWithExplicit("domains"),"domains","scale",iP);const a=s.get("selectionExtent");i&&a&&i.param!==a.param&&ue(aNe),i=a}}t[n].setWithExplicit("domains",r),i&&t[n].set("selectionExtent",i,!0)}}function d7e(e,t,n,r){if(e==="unaggregated"){const{valid:i,reason:o}=jV(t,n);if(!i){ue(o);return}}else if(e===void 0&&r.useUnaggregatedDomain){const{valid:i}=jV(t,n);if(i)return"unaggregated"}return e}function h7e(e,t){const n=e.getScaleComponent(t).get("type"),{encoding:r}=e,i=d7e(e.scaleDomain(t),e.typedFieldDef(t),n,e.config.scale);return i!==e.scaleDomain(t)&&(e.specifiedScales[t]={...e.specifiedScales[t],domain:i}),t==="x"&&nr(r.x2)?nr(r.x)?wf(dc(n,i,e,"x"),dc(n,i,e,"x2"),"domain","scale",iP):dc(n,i,e,"x2"):t==="y"&&nr(r.y2)?nr(r.y)?wf(dc(n,i,e,"y"),dc(n,i,e,"y2"),"domain","scale",iP):dc(n,i,e,"y2"):dc(n,i,e,t)}function p7e(e,t,n){return e.map(r=>({signal:`{data: ${d$(r,{timeUnit:n,type:t})}}`}))}function c3(e,t,n){var i;const r=(i=mr(n))==null?void 0:i.unit;return t==="temporal"||r?p7e(e,t,r):[e]}function dc(e,t,n,r){const{encoding:i,markDef:o,mark:s,config:a,stack:l}=n,u=nr(i[r]),{type:c}=u,f=u.timeUnit,d=l9e({invalid:xl("invalid",o,a),isPath:Vf(s)});if(FLe(t)){const g=dc(e,void 0,n,r),m=c3(t.unionWith,c,f);return Ba([...m,...g.value])}else{if(Re(t))return Ba([t]);if(t&&t!=="unaggregated"&&!Soe(t))return Ba(c3(t,c,f))}if(l&&r===l.fieldChannel){if(l.offset==="normalize")return vo([[0,1]]);const g=n.requestDataName(d);return vo([{data:g,field:n.vgField(r,{suffix:"start"})},{data:g,field:n.vgField(r,{suffix:"end"})}])}const h=Ml(r)&&ce(u)?m7e(n,r,e):void 0;if(Nl(u)){const g=c3([u.datum],c,f);return vo(g)}const p=u;if(t==="unaggregated"){const{field:g}=u;return vo([{data:n.requestDataName(d),field:ye({field:g,aggregate:"min"})},{data:n.requestDataName(d),field:ye({field:g,aggregate:"max"})}])}else if(nn(p.bin)){if(vr(e))return vo(e==="bin-ordinal"?[]:[{data:Vv(h)?n.requestDataName(d):n.requestDataName(Rn.Raw),field:n.vgField(r,Tx(p,r)?{binSuffix:"range"}:{}),sort:h===!0||!ve(h)?{field:n.vgField(r,{}),op:"min"}:h}]);{const{bin:g}=p;if(nn(g)){const m=kI(n,p.field,g);return vo([new cr(()=>{const y=n.getSignalName(m);return`[${y}.start, ${y}.stop]`})])}else return vo([{data:n.requestDataName(d),field:n.vgField(r,{})}])}}else if(p.timeUnit&&it(["time","utc"],e)){const g=i[Dl(r)];if(Ioe(p,g,o,a)){const m=n.requestDataName(d),y=xf({fieldDef:p,fieldDef2:g,markDef:o,config:a}),v=Hv(s)&&y!==.5&&Bn(r);return vo([{data:m,field:n.vgField(r,v?{suffix:v$}:{})},{data:m,field:n.vgField(r,{suffix:v?b$:"end"})}])}}return vo(h?[{data:Vv(h)?n.requestDataName(d):n.requestDataName(Rn.Raw),field:n.vgField(r),sort:h}]:[{data:n.requestDataName(d),field:n.vgField(r)}])}function f3(e,t){const{op:n,field:r,order:i}=e;return{op:n??(t?"sum":l$),...r?{field:Cs(r)}:{},...i?{order:i}:{}}}function g7e(e,t){var a;const n=e.component.scales[t],r=e.specifiedScales[t].domain,i=(a=e.fieldDef(t))==null?void 0:a.bin,o=Soe(r)?r:void 0,s=op(i)&&e$(i.extent)?i.extent:void 0;(o||s)&&n.set("selectionExtent",o??s,!0)}function m7e(e,t,n){if(!vr(n))return;const r=e.fieldDef(t),i=r.sort;if(Noe(i))return{op:"min",field:qm(r,t),order:"ascending"};const{stack:o}=e,s=o?new Set([...o.groupbyFields,...o.stackBy.map(a=>a.fieldDef.field)]):void 0;if(mu(i)){const a=o&&!s.has(i.field);return f3(i,a)}else if(lIe(i)){const{encoding:a,order:l}=i,u=e.fieldDef(a),{aggregate:c,field:f}=u,d=o&&!s.has(f);if($u(c)||Uf(c))return f3({field:ye(u),order:l},d);if(TL(c)||!c)return f3({op:c,field:f,order:l},d)}else{if(i==="descending")return{op:"min",field:e.vgField(t),order:"descending"};if(it(["ascending",void 0],i))return!0}}function jV(e,t){const{aggregate:n,type:r}=e;return n?we(n)&&!W6e.has(n)?{valid:!1,reason:ONe(n)}:r==="quantitative"&&t==="log"?{valid:!1,reason:DNe(e)}:{valid:!0}:{valid:!1,reason:PNe(e)}}function iP(e,t,n,r){return e.explicit&&t.explicit&&ue(zNe(n,r,e.value,t.value)),{explicit:e.explicit,value:[...e.value,...t.value]}}function y7e(e){const t=tl(e.map(s=>{if(su(s)){const{sort:a,...l}=s;return l}return s}),ut),n=tl(e.map(s=>{if(su(s)){const a=s.sort;return a!==void 0&&!Vv(a)&&("op"in a&&a.op==="count"&&delete a.field,a.order==="ascending"&&delete a.order),a}}).filter(s=>s!==void 0),ut);if(t.length===0)return;if(t.length===1){const s=e[0];if(su(s)&&n.length>0){let a=n[0];if(n.length>1){ue(XU);const l=n.filter(u=>ve(u)&&"op"in u&&u.op!=="min");n.every(u=>ve(u)&&"op"in u)&&l.length===1?a=l[0]:a=!0}else if(ve(a)&&"field"in a){const l=a.field;s.field===l&&(a=a.order?{order:a.order}:!0)}return{...s,sort:a}}return s}const r=tl(n.map(s=>Vv(s)||!("op"in s)||we(s.op)&&Se(j6e,s.op)?s:(ue(BNe(s)),!0)),ut);let i;r.length===1?i=r[0]:r.length>1&&(ue(XU),i=!0);const o=tl(e.map(s=>su(s)?s.data:null),s=>s);return o.length===1&&o[0]!==null?{data:o[0],fields:t.map(a=>a.field),...i?{sort:i}:{}}:{fields:t,...i?{sort:i}:{}}}function TI(e){if(su(e)&&we(e.field))return e.field;if(H6e(e)){let t;for(const n of e.fields)if(su(n)&&we(n.field)){if(!t)t=n.field;else if(t!==n.field)return ue(UNe),t}return ue(VNe),t}else if(q6e(e)){ue(WNe);const t=e.fields[0];return we(t)?t:void 0}}function C$(e,t){const r=e.component.scales[t].get("domains").map(i=>(su(i)&&(i.data=e.lookupDataSource(i.data)),i));return y7e(r)}function Aae(e){return j0(e)||FI(e)?e.children.reduce((t,n)=>t.concat(Aae(n)),BV(e)):BV(e)}function BV(e){return se(e.component.scales).reduce((t,n)=>{const r=e.component.scales[n];if(r.merged)return t;const i=r.combine(),{name:o,type:s,selectionExtent:a,domains:l,range:u,reverse:c,...f}=i,d=v7e(i.range,o,n,e),h=C$(e,n),p=a?p9e(e,a,r,h):null;return t.push({name:o,type:s,...h?{domain:h}:{},...p?{domainRaw:p}:{},range:d,...c!==void 0?{reverse:c}:{},...f}),t},[])}function v7e(e,t,n,r){if(Bn(n)){if(sp(e))return{step:{signal:`${t}_step`}}}else if(ve(e)&&su(e))return{...e,data:r.lookupDataSource(e.data)};return e}class Tae extends Vu{constructor(t,n){super({},{name:t}),this.merged=!1,this.setWithExplicit("type",n)}domainHasZero(){const t=this.get("type");if(it([Tr.LOG,Tr.TIME,Tr.UTC],t))return"definitely-not";const n=this.get("zero");if(n===!0||n===void 0&&it([Tr.LINEAR,Tr.SQRT,Tr.POW],t))return"definitely";const r=this.get("domains");if(r.length>0){let i=!1,o=!1,s=!1;for(const a of r){if(te(a)){const l=a[0],u=a[a.length-1];if(St(l)&&St(u))if(l<=0&&u>=0){i=!0;continue}else{o=!0;continue}}s=!0}if(i)return"definitely";if(o&&!s)return"definitely-not"}return"maybe"}}const b7e=["range","scheme"];function x7e(e){const t=e.component.scales;for(const n of AL){const r=t[n];if(!r)continue;const i=w7e(n,e);r.setWithExplicit("range",i)}}function UV(e,t){const n=e.fieldDef(t);if(n!=null&&n.bin){const{bin:r,field:i}=n,o=fo(t),s=e.getName(o);if(ve(r)&&r.binned&&r.step!==void 0)return new cr(()=>{const a=e.scaleName(t),l=`(domain("${a}")[1] - domain("${a}")[0]) / ${r.step}`;return`${e.getSignalName(s)} / (${l})`});if(nn(r)){const a=kI(e,i,r);return new cr(()=>{const l=e.getSignalName(a),u=`(${l}.stop - ${l}.start) / ${l}.step`;return`${e.getSignalName(s)} / (${u})`})}}}function w7e(e,t){const n=t.specifiedScales[e],{size:r}=t,o=t.getScaleComponent(e).get("type");for(const f of b7e)if(n[f]!==void 0){const d=jR(o,f),h=Eoe(e,f);if(!d)ue(noe(o,f,e));else if(h)ue(h);else switch(f){case"range":{const p=n.range;if(te(p)){if(Bn(e))return Ba(p.map(g=>{if(g==="width"||g==="height"){const m=t.getName(g),y=t.getSignalName.bind(t);return cr.fromName(y,m)}return g}))}else if(ve(p))return Ba({data:t.requestDataName(Rn.Main),field:p.field,sort:{op:"min",field:t.vgField(e)}});return Ba(p)}case"scheme":return Ba(S7e(n[f]))}}const s=e===mn||e==="xOffset"?"width":"height",a=r[s];if(Sl(a)){if(Bn(e))if(vr(o)){const f=Rae(a,t,e);if(f)return Ba({step:f})}else ue(roe(s));else if(Sx(e)){const f=e===Lf?"x":"y";if(t.getScaleComponent(f).get("type")==="band"){const p=Pae(a,o);if(p)return Ba(p)}}}const{rangeMin:l,rangeMax:u}=n,c=E7e(e,t);return(l!==void 0||u!==void 0)&&jR(o,"rangeMin")&&te(c)&&c.length===2?Ba([l??c[0],u??c[1]]):vo(c)}function S7e(e){return TLe(e)?{scheme:e.name,...eo(e,["name"])}:{scheme:e}}function Fae(e,t,n,{center:r}={}){const i=fo(e),o=t.getName(i),s=t.getSignalName.bind(t);return e===xr&&pa(n)?r?[cr.fromName(a=>`${s(a)}/2`,o),cr.fromName(a=>`-${s(a)}/2`,o)]:[cr.fromName(s,o),0]:r?[cr.fromName(a=>`-${s(a)}/2`,o),cr.fromName(a=>`${s(a)}/2`,o)]:[0,cr.fromName(s,o)]}function E7e(e,t){const{size:n,config:r,mark:i,encoding:o}=t,{type:s}=nr(o[e]),l=t.getScaleComponent(e).get("type"),{domain:u,domainMid:c}=t.specifiedScales[e];switch(e){case mn:case xr:{if(it(["point","band"],l)){const f=Oae(e,n,r.view);if(Sl(f))return{step:Rae(f,t,e)}}return Fae(e,t,l)}case Lf:case D0:return C7e(e,t,l);case zu:{const f=$7e(i,r),d=A7e(i,n,t,r);return zm(l)?_7e(f,d,k7e(l,r,u,e)):[f,d]}case Ts:return[0,Math.PI*2];case rp:return[0,360];case Ea:return[0,new cr(()=>{const f=t.getSignalName(Ro(t.parent)?"child_width":"width"),d=t.getSignalName(Ro(t.parent)?"child_height":"height");return`min(${f},${d})/2`})];case jf:return[r.scale.minStrokeWidth,r.scale.maxStrokeWidth];case Bf:return[[1,0],[4,2],[2,1],[1,1],[1,2,4,2]];case co:return"symbol";case uo:case Pl:case Ol:return l==="ordinal"?s==="nominal"?"category":"ordinal":c!==void 0?"diverging":i==="rect"||i==="geoshape"?"heatmap":"ramp";case ju:case If:case zf:return[r.scale.minOpacity,r.scale.maxOpacity]}}function Rae(e,t,n){const{encoding:r}=t,i=t.getScaleComponent(n),o=CL(n),s=r[o];if(mse({step:e,offsetIsDiscrete:Ke(s)&&yoe(s.type)})==="offset"&&Koe(r,o)){const l=t.getScaleComponent(o);let c=`domain('${t.scaleName(o)}').length`;if(l.get("type")==="band"){const d=l.get("paddingInner")??l.get("padding")??0,h=l.get("paddingOuter")??l.get("padding")??0;c=`bandspace(${c}, ${d}, ${h})`}const f=i.get("paddingInner")??i.get("padding");return{signal:`${e.step} * ${c} / (1-${K6e(f)})`}}else return e.step}function Pae(e,t){if(mse({step:e,offsetIsDiscrete:vr(t)})==="offset")return{step:e.step}}function C7e(e,t,n){const r=e===Lf?"x":"y",i=t.getScaleComponent(r);if(!i)return Fae(r,t,n,{center:!0});const o=i.get("type"),s=t.scaleName(r),{markDef:a,config:l}=t;if(o==="band"){const u=Oae(r,t.size,t.config.view);if(Sl(u)){const c=Pae(u,n);if(c)return c}return[0,{signal:`bandwidth('${s}')`}]}else{const u=t.encoding[r];if(ce(u)&&u.timeUnit){const c=hoe(u.timeUnit,p=>`scale('${s}', ${p})`),f=t.config.scale.bandWithNestedOffsetPaddingInner,d=xf({fieldDef:u,markDef:a,config:l})-.5,h=d!==0?` + ${d}`:"";if(f){const p=Re(f)?`${f.signal}/2`+h:`${f/2+d}`,g=Re(f)?`(1 - ${f.signal}/2)`+h:`${1-f/2+d}`;return[{signal:`${p} * (${c})`},{signal:`${g} * (${c})`}]}return[0,{signal:c}]}return Cie(`Cannot use ${e} scale if ${r} scale is not discrete.`)}}function Oae(e,t,n){const r=e===mn?"width":"height",i=t[r];return i||_C(n,r)}function k7e(e,t,n,r){switch(e){case"quantile":return t.scale.quantileCount;case"quantize":return t.scale.quantizeCount;case"threshold":return n!==void 0&&te(n)?n.length+1:(ue(ZNe(r)),3)}}function _7e(e,t,n){const r=()=>{const i=na(t),o=na(e),s=`(${i} - ${o}) / (${n} - 1)`;return`sequence(${o}, ${i} + ${s}, ${s})`};return Re(t)?new cr(r):{signal:r()}}function $7e(e,t){switch(e){case"bar":case"tick":return t.scale.minBandSize;case"line":case"trail":case"rule":return t.scale.minStrokeWidth;case"text":return t.scale.minFontSize;case"point":case"square":case"circle":return t.scale.minSize}throw new Error(t$("size",e))}const VV=.95;function A7e(e,t,n,r){const i={x:UV(n,"x"),y:UV(n,"y")};switch(e){case"bar":case"tick":{if(r.scale.maxBandSize!==void 0)return r.scale.maxBandSize;const o=WV(t,i,r.view);return St(o)?o-1:new cr(()=>`${o.signal} - 1`)}case"line":case"trail":case"rule":return r.scale.maxStrokeWidth;case"text":return r.scale.maxFontSize;case"point":case"square":case"circle":{if(r.scale.maxSize)return r.scale.maxSize;const o=WV(t,i,r.view);return St(o)?Math.pow(VV*o,2):new cr(()=>`pow(${VV} * ${o.signal}, 2)`)}}throw new Error(t$("size",e))}function WV(e,t,n){const r=Sl(e.width)?e.width.step:WR(n,"width"),i=Sl(e.height)?e.height.step:WR(n,"height");return t.x||t.y?new cr(()=>`min(${[t.x?t.x.signal:r,t.y?t.y.signal:i].join(", ")})`):Math.min(r,i)}function Dae(e,t){wn(e)?T7e(e,t):Nae(e,t)}function T7e(e,t){const n=e.component.scales,{config:r,encoding:i,markDef:o,specifiedScales:s}=e;for(const a of se(n)){const l=s[a],u=n[a],c=e.getScaleComponent(a),f=nr(i[a]),d=l[t],h=c.get("type"),p=c.get("padding"),g=c.get("paddingInner"),m=jR(h,t),y=Eoe(a,t);if(d!==void 0&&(m?y&&ue(y):ue(noe(h,t,a))),m&&y===void 0)if(d!==void 0){const v=f.timeUnit,b=f.type;switch(t){case"domainMax":case"domainMin":ap(l[t])||b==="temporal"||v?u.set(t,{signal:d$(l[t],{type:b,timeUnit:v})},!0):u.set(t,l[t],!0);break;default:u.copyKeyFromObject(t,l)}}else{const v=le(HV,t)?HV[t]({model:e,channel:a,fieldOrDatumDef:f,scaleType:h,scalePadding:p,scalePaddingInner:g,domain:l.domain,domainMin:l.domainMin,domainMax:l.domainMax,markDef:o,config:r,hasNestedOffsetScale:Qoe(i,a),hasSecondaryRangeChannel:!!i[Dl(a)]}):r.scale[t];v!==void 0&&u.set(t,v,!1)}}}const HV={bins:({model:e,fieldOrDatumDef:t})=>ce(t)?F7e(e,t):void 0,interpolate:({channel:e,fieldOrDatumDef:t})=>R7e(e,t.type),nice:({scaleType:e,channel:t,domain:n,domainMin:r,domainMax:i,fieldOrDatumDef:o})=>P7e(e,t,n,r,i,o),padding:({channel:e,scaleType:t,fieldOrDatumDef:n,markDef:r,config:i})=>O7e(e,t,i.scale,n,r,i.bar),paddingInner:({scalePadding:e,channel:t,markDef:n,scaleType:r,config:i,hasNestedOffsetScale:o})=>D7e(e,t,n.type,r,i.scale,o),paddingOuter:({scalePadding:e,channel:t,scaleType:n,scalePaddingInner:r,config:i,hasNestedOffsetScale:o})=>M7e(e,t,n,r,i.scale,o),reverse:({fieldOrDatumDef:e,scaleType:t,channel:n,config:r})=>{const i=ce(e)?e.sort:void 0;return N7e(t,i,n,r.scale)},zero:({channel:e,fieldOrDatumDef:t,domain:n,markDef:r,scaleType:i,config:o,hasSecondaryRangeChannel:s})=>L7e(e,t,n,r,i,o.scale,s)};function Mae(e){wn(e)?x7e(e):Nae(e,"range")}function Nae(e,t){const n=e.component.scales;for(const r of e.children)t==="range"?Mae(r):Dae(r,t);for(const r of se(n)){let i;for(const o of e.children){const s=o.component.scales[r];if(s){const a=s.getWithExplicit(t);i=wf(i,a,t,"scale",Tse((l,u)=>{switch(t){case"range":return l.step&&u.step?l.step-u.step:0}return 0}))}}n[r].setWithExplicit(t,i)}}function F7e(e,t){const n=t.bin;if(nn(n)){const r=kI(e,t.field,n);return new cr(()=>e.getSignalName(r))}else if(_r(n)&&op(n)&&n.step!==void 0)return{step:n.step}}function R7e(e,t){if(it([uo,Pl,Ol],e)&&t!=="nominal")return"hcl"}function P7e(e,t,n,r,i,o){var s;if(!((s=ma(o))!=null&&s.bin||te(n)||i!=null||r!=null||it([Tr.TIME,Tr.UTC],e)))return Bn(t)?!0:void 0}function O7e(e,t,n,r,i,o){if(Bn(e)){if(nl(t)){if(n.continuousPadding!==void 0)return n.continuousPadding;const{type:s,orient:a}=i;if(s==="bar"&&!(ce(r)&&(r.bin||r.timeUnit))&&(a==="vertical"&&e==="x"||a==="horizontal"&&e==="y"))return o.continuousBandSize}if(t===Tr.POINT)return n.pointPadding}}function D7e(e,t,n,r,i,o=!1){if(e===void 0){if(Bn(t)){const{bandPaddingInner:s,barBandPaddingInner:a,rectBandPaddingInner:l,tickBandPaddingInner:u,bandWithNestedOffsetPaddingInner:c}=i;return o?c:jn(s,n==="bar"?a:n==="tick"?u:l)}else if(Sx(t)&&r===Tr.BAND)return i.offsetBandPaddingInner}}function M7e(e,t,n,r,i,o=!1){if(e===void 0){if(Bn(t)){const{bandPaddingOuter:s,bandWithNestedOffsetPaddingOuter:a}=i;if(o)return a;if(n===Tr.BAND)return jn(s,Re(r)?{signal:`${r.signal}/2`}:r/2)}else if(Sx(t)){if(n===Tr.POINT)return .5;if(n===Tr.BAND)return i.offsetBandPaddingOuter}}}function N7e(e,t,n,r){if(n==="x"&&r.xReverse!==void 0)return pa(e)&&t==="descending"?Re(r.xReverse)?{signal:`!${r.xReverse.signal}`}:!r.xReverse:r.xReverse;if(pa(e)&&t==="descending")return!0}function L7e(e,t,n,r,i,o,s){if(!!n&&n!=="unaggregated"&&pa(i)){if(te(n)){const l=n[0],u=n[n.length-1];if(St(l)&&l<=0&&St(u)&&u>=0)return!0}return!1}if(e==="size"&&t.type==="quantitative"&&!zm(i))return!0;if(!(ce(t)&&t.bin)&&it([...Bu,...P6e],e)){const{orient:l,type:u}=r;return it(["bar","area","line","trail"],u)&&(l==="horizontal"&&e==="y"||l==="vertical"&&e==="x")?!1:it(["bar","area"],u)&&!s?!0:o==null?void 0:o.zero}return!1}function I7e(e,t,n,r,i=!1){const o=z7e(t,n,r,i),{type:s}=e;return Ml(t)?s!==void 0?NLe(t,s)?ce(n)&&!MLe(s,n.type)?(ue(LNe(s,o)),o):s:(ue(NNe(t,s,o)),o):o:null}function z7e(e,t,n,r){var i;switch(t.type){case"nominal":case"ordinal":{if(Dg(e)||t3(e)==="discrete")return e==="shape"&&t.type==="ordinal"&&ue(n3(e,"ordinal")),"ordinal";if(Bn(e)||Sx(e)){if(it(["rect","bar","image","rule","tick"],n.type)||r)return"band"}else if(n.type==="arc"&&e in $L)return"band";const o=n[fo(e)];return Rh(o)||Bm(t)&&((i=t.axis)!=null&&i.tickBand)?"band":"point"}case"temporal":return Dg(e)?"time":t3(e)==="discrete"?(ue(n3(e,"temporal")),"ordinal"):ce(t)&&t.timeUnit&&mr(t.timeUnit).utc?"utc":"time";case"quantitative":return Dg(e)?ce(t)&&nn(t.bin)?"bin-ordinal":"linear":t3(e)==="discrete"?(ue(n3(e,"quantitative")),"ordinal"):"linear";case"geojson":return}throw new Error(eoe(t.type))}function j7e(e,{ignoreRange:t}={}){Lae(e),$ae(e);for(const n of DLe)Dae(e,n);t||Mae(e)}function Lae(e){wn(e)?e.component.scales=B7e(e):e.component.scales=V7e(e)}function B7e(e){const{encoding:t,mark:n,markDef:r}=e,i={};for(const o of AL){const s=nr(t[o]);if(s&&n===_oe&&o===co&&s.type===M0)continue;let a=s&&s.scale;if(s&&a!==null&&a!==!1){a??(a={});const l=Qoe(t,o),u=I7e(a,o,s,r,l);i[o]=new Tae(e.scaleName(`${o}`,!0),{value:u,explicit:a.type===u})}}return i}const U7e=Tse((e,t)=>KU(e)-KU(t));function V7e(e){var t;const n=e.component.scales={},r={},i=e.component.resolve;for(const o of e.children){Lae(o);for(const s of se(o.component.scales))if((t=i.scale)[s]??(t[s]=pae(s,e)),i.scale[s]==="shared"){const a=r[s],l=o.component.scales[s].getWithExplicit("type");a?CLe(a.value,l.value)?r[s]=wf(a,l,"type","scale",U7e):(i.scale[s]="independent",delete r[s]):r[s]=l}}for(const o of se(r)){const s=e.scaleName(o,!0),a=r[o];n[o]=new Tae(s,a);for(const l of e.children){const u=l.component.scales[o];u&&(l.renameScale(u.get("name"),s),u.merged=!0)}}return n}class d3{constructor(){this.nameMap={}}rename(t,n){this.nameMap[t]=n}has(t){return this.nameMap[t]!==void 0}get(t){for(;this.nameMap[t]&&t!==this.nameMap[t];)t=this.nameMap[t];return t}}function wn(e){return(e==null?void 0:e.type)==="unit"}function Ro(e){return(e==null?void 0:e.type)==="facet"}function FI(e){return(e==null?void 0:e.type)==="concat"}function j0(e){return(e==null?void 0:e.type)==="layer"}class RI{constructor(t,n,r,i,o,s,a){this.type=n,this.parent=r,this.config=o,this.correctDataNames=l=>{var u,c,f;return(u=l.from)!=null&&u.data&&(l.from.data=this.lookupDataSource(l.from.data)),(f=(c=l.from)==null?void 0:c.facet)!=null&&f.data&&(l.from.facet.data=this.lookupDataSource(l.from.facet.data)),l},this.parent=r,this.config=o,this.view=$r(a),this.name=t.name??i,this.title=bc(t.title)?{text:t.title}:t.title?$r(t.title):void 0,this.scaleNameMap=r?r.scaleNameMap:new d3,this.projectionNameMap=r?r.projectionNameMap:new d3,this.signalNameMap=r?r.signalNameMap:new d3,this.data=t.data,this.description=t.description,this.transforms=K8e(t.transform??[]),this.layout=n==="layer"||n==="unit"?{}:e8e(t,n,o),this.component={data:{sources:r?r.component.data.sources:[],outputNodes:r?r.component.data.outputNodes:{},outputNodeRefCounts:r?r.component.data.outputNodeRefCounts:{},isFaceted:u$(t)||(r==null?void 0:r.component.data.isFaceted)&&t.data===void 0},layoutSize:new Vu,layoutHeaders:{row:{},column:{},facet:{}},mark:null,resolve:{scale:{},axis:{},legend:{},...s?Ge(s):{}},selection:null,scales:null,projection:null,axes:{},legends:{}}}get width(){return this.getSizeSignalRef("width")}get height(){return this.getSizeSignalRef("height")}parse(){this.parseScale(),this.parseLayoutSize(),this.renameTopLevelLayoutSizeSignal(),this.parseSelections(),this.parseProjection(),this.parseData(),this.parseAxesAndHeaders(),this.parseLegends(),this.parseMarkGroup()}parseScale(){j7e(this)}parseProjection(){Cae(this)}renameTopLevelLayoutSizeSignal(){this.getName("width")!=="width"&&this.renameSignal(this.getName("width"),"width"),this.getName("height")!=="height"&&this.renameSignal(this.getName("height"),"height")}parseLegends(){bae(this)}assembleEncodeFromView(t){const{style:n,...r}=t,i={};for(const o of se(r)){const s=r[o];s!==void 0&&(i[o]=ln(s))}return i}assembleGroupEncodeEntry(t){let n={};return this.view&&(n=this.assembleEncodeFromView(this.view)),!t&&(this.description&&(n.description=ln(this.description)),this.type==="unit"||this.type==="layer")?{width:this.getSizeSignalRef("width"),height:this.getSizeSignalRef("height"),...n}:Ht(n)?void 0:n}assembleLayout(){if(!this.layout)return;const{spacing:t,...n}=this.layout,{component:r,config:i}=this,o=uze(r.layoutHeaders,i);return{padding:t,...this.assembleDefaultLayout(),...n,...o?{titleBand:o}:{}}}assembleDefaultLayout(){return{}}assembleHeaderMarks(){const{layoutHeaders:t}=this.component;let n=[];for(const r of hs)t[r].title&&n.push(rze(this,r));for(const r of wI)n=n.concat(ize(this,r));return n}assembleAxes(){return W9e(this.component.axes,this.config)}assembleLegends(){return wae(this)}assembleProjections(){return Pze(this)}assembleTitle(){const{encoding:t,...n}=this.title??{},r={...Hie(this.config.title).nonMarkTitleProperties,...n,...t?{encode:{update:t}}:{}};if(r.text)return it(["unit","layer"],this.type)?it(["middle",void 0],r.anchor)&&(r.frame??(r.frame="group")):r.anchor??(r.anchor="start"),Ht(r)?void 0:r}assembleGroup(t=[]){const n={};t=t.concat(this.assembleSignals()),t.length>0&&(n.signals=t);const r=this.assembleLayout();r&&(n.layout=r),n.marks=[].concat(this.assembleHeaderMarks(),this.assembleMarks());const i=!this.parent||Ro(this.parent)?Aae(this):[];i.length>0&&(n.scales=i);const o=this.assembleAxes();o.length>0&&(n.axes=o);const s=this.assembleLegends();return s.length>0&&(n.legends=s),n}getName(t){return pn((this.name?`${this.name}_`:"")+t)}getDataName(t){return this.getName(Rn[t].toLowerCase())}requestDataName(t){const n=this.getDataName(t),r=this.component.data.outputNodeRefCounts;return r[n]=(r[n]||0)+1,n}getSizeSignalRef(t){if(Ro(this.parent)){const n=dae(t),r=J_(n),i=this.component.scales[r];if(i&&!i.merged){const o=i.get("type"),s=i.get("range");if(vr(o)&&sp(s)){const a=i.get("name"),l=C$(this,r),u=TI(l);if(u){const c=ye({aggregate:"distinct",field:u},{expr:"datum"});return{signal:fae(a,i,c)}}else return ue(RL(r)),null}}}return{signal:this.signalNameMap.get(this.getName(t))}}lookupDataSource(t){const n=this.component.data.outputNodes[t];return n?n.getSource():t}getSignalName(t){return this.signalNameMap.get(t)}renameSignal(t,n){this.signalNameMap.rename(t,n)}renameScale(t,n){this.scaleNameMap.rename(t,n)}renameProjection(t,n){this.projectionNameMap.rename(t,n)}scaleName(t,n){if(n)return this.getName(t);if(Lie(t)&&Ml(t)&&this.component.scales[t]||this.scaleNameMap.has(this.getName(t)))return this.scaleNameMap.get(this.getName(t))}projectionName(t){if(t)return this.getName("projection");if(this.component.projection&&!this.component.projection.merged||this.projectionNameMap.has(this.getName("projection")))return this.projectionNameMap.get(this.getName("projection"))}getScaleComponent(t){if(!this.component.scales)throw new Error("getScaleComponent cannot be called before parseScale(). Make sure you have called parseScale or use parseUnitModelWithScale().");const n=this.component.scales[t];return n&&!n.merged?n:this.parent?this.parent.getScaleComponent(t):void 0}getScaleType(t){const n=this.getScaleComponent(t);return n?n.get("type"):void 0}getSelectionComponent(t,n){let r=this.component.selection[t];if(!r&&this.parent&&(r=this.parent.getSelectionComponent(t,n)),!r)throw new Error(tNe(n));return r}hasAxisOrientSignalRef(){var t,n;return((t=this.component.axes.x)==null?void 0:t.some(r=>r.hasOrientSignalRef()))||((n=this.component.axes.y)==null?void 0:n.some(r=>r.hasOrientSignalRef()))}}class Iae extends RI{vgField(t,n={}){const r=this.fieldDef(t);if(r)return ye(r,n)}reduceFieldDef(t,n){return TIe(this.getMapping(),(r,i,o)=>{const s=ma(i);return s?t(r,s,o):r},n)}forEachFieldDef(t,n){rI(this.getMapping(),(r,i)=>{const o=ma(r);o&&t(o,i)},n)}}class k$ extends jt{clone(){return new k$(null,Ge(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=Ge(n);const r=this.transform.as??[void 0,void 0];this.transform.as=[r[0]??"value",r[1]??"density"];const i=this.transform.resolve??"shared";this.transform.resolve=i}dependentFields(){return new Set([this.transform.density,...this.transform.groupby??[]])}producedFields(){return new Set(this.transform.as)}hash(){return`DensityTransform ${ut(this.transform)}`}assemble(){const{density:t,...n}=this.transform,r={type:"kde",field:t,...n};return r.resolve=this.transform.resolve,r}}class _$ extends jt{clone(){return new _$(null,Ge(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=Ge(n)}dependentFields(){return new Set([this.transform.extent])}producedFields(){return new Set([])}hash(){return`ExtentTransform ${ut(this.transform)}`}assemble(){const{extent:t,param:n}=this.transform;return{type:"extent",field:t,signal:n}}}class $$ extends jt{clone(){return new $$(this.parent,Ge(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=Ge(n);const{flatten:r,as:i=[]}=this.transform;this.transform.as=r.map((o,s)=>i[s]??o)}dependentFields(){return new Set(this.transform.flatten)}producedFields(){return new Set(this.transform.as)}hash(){return`FlattenTransform ${ut(this.transform)}`}assemble(){const{flatten:t,as:n}=this.transform;return{type:"flatten",fields:t,as:n}}}class A$ extends jt{clone(){return new A$(null,Ge(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=Ge(n);const r=this.transform.as??[void 0,void 0];this.transform.as=[r[0]??"key",r[1]??"value"]}dependentFields(){return new Set(this.transform.fold)}producedFields(){return new Set(this.transform.as)}hash(){return`FoldTransform ${ut(this.transform)}`}assemble(){const{fold:t,as:n}=this.transform;return{type:"fold",fields:t,as:n}}}class Lg extends jt{clone(){return new Lg(null,Ge(this.fields),this.geojson,this.signal)}static parseAll(t,n){if(n.component.projection&&!n.component.projection.isFit)return t;let r=0;for(const i of[[ka,Ca],[ks,_a]]){const o=i.map(s=>{const a=nr(n.encoding[s]);return ce(a)?a.field:Nl(a)?{expr:`${a.datum}`}:ga(a)?{expr:`${a.value}`}:void 0});(o[0]||o[1])&&(t=new Lg(t,o,null,n.getName(`geojson_${r++}`)))}if(n.channelHasField(co)){const i=n.typedFieldDef(co);i.type===M0&&(t=new Lg(t,null,i.field,n.getName(`geojson_${r++}`)))}return t}constructor(t,n,r,i){super(t),this.fields=n,this.geojson=r,this.signal=i}dependentFields(){const t=(this.fields??[]).filter(we);return new Set([...this.geojson?[this.geojson]:[],...t])}producedFields(){return new Set}hash(){return`GeoJSON ${this.geojson} ${this.signal} ${ut(this.fields)}`}assemble(){return[...this.geojson?[{type:"filter",expr:`isValid(datum["${this.geojson}"])`}]:[],{type:"geojson",...this.fields?{fields:this.fields}:{},...this.geojson?{geojson:this.geojson}:{},signal:this.signal}]}}class Gv extends jt{clone(){return new Gv(null,this.projection,Ge(this.fields),Ge(this.as))}constructor(t,n,r,i){super(t),this.projection=n,this.fields=r,this.as=i}static parseAll(t,n){if(!n.projectionName())return t;for(const r of[[ka,Ca],[ks,_a]]){const i=r.map(s=>{const a=nr(n.encoding[s]);return ce(a)?a.field:Nl(a)?{expr:`${a.datum}`}:ga(a)?{expr:`${a.value}`}:void 0}),o=r[0]===ks?"2":"";(i[0]||i[1])&&(t=new Gv(t,n.projectionName(),i,[n.getName(`x${o}`),n.getName(`y${o}`)]))}return t}dependentFields(){return new Set(this.fields.filter(we))}producedFields(){return new Set(this.as)}hash(){return`Geopoint ${this.projection} ${ut(this.fields)} ${ut(this.as)}`}assemble(){return{type:"geopoint",projection:this.projection,fields:this.fields,as:this.as}}}class oh extends jt{clone(){return new oh(null,Ge(this.transform))}constructor(t,n){super(t),this.transform=n}dependentFields(){return new Set([this.transform.impute,this.transform.key,...this.transform.groupby??[]])}producedFields(){return new Set([this.transform.impute])}processSequence(t){const{start:n=0,stop:r,step:i}=t;return{signal:`sequence(${[n,r,...i?[i]:[]].join(",")})`}}static makeFromTransform(t,n){return new oh(t,n)}static makeFromEncoding(t,n){const r=n.encoding,i=r.x,o=r.y;if(ce(i)&&ce(o)){const s=i.impute?i:o.impute?o:void 0;if(s===void 0)return;const a=i.impute?o:o.impute?i:void 0,{method:l,value:u,frame:c,keyvals:f}=s.impute,d=ese(n.mark,r);return new oh(t,{impute:s.field,key:a.field,...l?{method:l}:{},...u!==void 0?{value:u}:{},...c?{frame:c}:{},...f!==void 0?{keyvals:f}:{},...d.length?{groupby:d}:{}})}return null}hash(){return`Impute ${ut(this.transform)}`}assemble(){const{impute:t,key:n,keyvals:r,method:i,groupby:o,value:s,frame:a=[null,null]}=this.transform,l={type:"impute",field:t,key:n,...r?{keyvals:R8e(r)?this.processSequence(r):r}:{},method:"value",...o?{groupby:o}:{},value:!i||i==="value"?s:null};if(i&&i!=="value"){const u={type:"window",as:[`imputed_${t}_value`],ops:[i],fields:[t],frame:a,ignorePeers:!1,...o?{groupby:o}:{}},c={type:"formula",expr:`datum.${t} === null ? datum.imputed_${t}_value : datum.${t}`,as:t};return[l,u,c]}else return[l]}}class T$ extends jt{clone(){return new T$(null,Ge(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=Ge(n);const r=this.transform.as??[void 0,void 0];this.transform.as=[r[0]??n.on,r[1]??n.loess]}dependentFields(){return new Set([this.transform.loess,this.transform.on,...this.transform.groupby??[]])}producedFields(){return new Set(this.transform.as)}hash(){return`LoessTransform ${ut(this.transform)}`}assemble(){const{loess:t,on:n,...r}=this.transform;return{type:"loess",x:n,y:t,...r}}}class Xv extends jt{clone(){return new Xv(null,Ge(this.transform),this.secondary)}constructor(t,n,r){super(t),this.transform=n,this.secondary=r}static make(t,n,r,i){const o=n.component.data.sources,{from:s}=r;let a=null;if(P8e(s)){let l=Bae(s.data,o);l||(l=new Mh(s.data),o.push(l));const u=n.getName(`lookup_${i}`);a=new to(l,u,Rn.Lookup,n.component.data.outputNodeRefCounts),n.component.data.outputNodes[u]=a}else if(O8e(s)){const l=s.param;r={as:l,...r};let u;try{u=n.getSelectionComponent(pn(l),l)}catch{throw new Error(oNe(l))}if(a=u.materialized,!a)throw new Error(sNe(l))}return new Xv(t,r,a.getSource())}dependentFields(){return new Set([this.transform.lookup])}producedFields(){return new Set(this.transform.as?xe(this.transform.as):this.transform.from.fields)}hash(){return`Lookup ${ut({transform:this.transform,secondary:this.secondary})}`}assemble(){let t;if(this.transform.from.fields)t={values:this.transform.from.fields,...this.transform.as?{as:xe(this.transform.as)}:{}};else{let n=this.transform.as;we(n)||(ue(pNe),n="_lookup"),t={as:[n]}}return{type:"lookup",from:this.secondary,key:this.transform.from.key,fields:[this.transform.lookup],...t,...this.transform.default?{default:this.transform.default}:{}}}}class F$ extends jt{clone(){return new F$(null,Ge(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=Ge(n);const r=this.transform.as??[void 0,void 0];this.transform.as=[r[0]??"prob",r[1]??"value"]}dependentFields(){return new Set([this.transform.quantile,...this.transform.groupby??[]])}producedFields(){return new Set(this.transform.as)}hash(){return`QuantileTransform ${ut(this.transform)}`}assemble(){const{quantile:t,...n}=this.transform;return{type:"quantile",field:t,...n}}}class R$ extends jt{clone(){return new R$(null,Ge(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=Ge(n);const r=this.transform.as??[void 0,void 0];this.transform.as=[r[0]??n.on,r[1]??n.regression]}dependentFields(){return new Set([this.transform.regression,this.transform.on,...this.transform.groupby??[]])}producedFields(){return new Set(this.transform.as)}hash(){return`RegressionTransform ${ut(this.transform)}`}assemble(){const{regression:t,on:n,...r}=this.transform;return{type:"regression",x:n,y:t,...r}}}class P$ extends jt{clone(){return new P$(null,Ge(this.transform))}constructor(t,n){super(t),this.transform=n}addDimensions(t){this.transform.groupby=tl((this.transform.groupby??[]).concat(t),n=>n)}producedFields(){}dependentFields(){return new Set([this.transform.pivot,this.transform.value,...this.transform.groupby??[]])}hash(){return`PivotTransform ${ut(this.transform)}`}assemble(){const{pivot:t,value:n,groupby:r,limit:i,op:o}=this.transform;return{type:"pivot",field:t,value:n,...i!==void 0?{limit:i}:{},...o!==void 0?{op:o}:{},...r!==void 0?{groupby:r}:{}}}}class O$ extends jt{clone(){return new O$(null,Ge(this.transform))}constructor(t,n){super(t),this.transform=n}dependentFields(){return new Set}producedFields(){return new Set}hash(){return`SampleTransform ${ut(this.transform)}`}assemble(){return{type:"sample",size:this.transform.sample}}}function zae(e){let t=0;function n(r,i){if(r instanceof Mh&&!r.isGenerator&&!Vm(r.data)&&(e.push(i),i={name:null,source:i.name,transform:[]}),r instanceof ni&&(r.parent instanceof Mh&&!i.source?(i.format={...i.format,parse:r.assembleFormatParse()},i.transform.push(...r.assembleTransforms(!0))):i.transform.push(...r.assembleTransforms())),r instanceof I0){i.name||(i.name=`data_${t++}`),!i.source||i.transform.length>0?(e.push(i),r.data=i.name):r.data=i.source,e.push(...r.assemble());return}switch((r instanceof Px||r instanceof Ox||r instanceof Xm||r instanceof L0||r instanceof Hm||r instanceof Gv||r instanceof sa||r instanceof Xv||r instanceof z0||r instanceof fp||r instanceof A$||r instanceof $$||r instanceof k$||r instanceof T$||r instanceof F$||r instanceof R$||r instanceof Ef||r instanceof O$||r instanceof P$||r instanceof _$)&&i.transform.push(r.assemble()),(r instanceof cl||r instanceof ul||r instanceof oh||r instanceof vu||r instanceof Lg)&&i.transform.push(...r.assemble()),r instanceof to&&(i.source&&i.transform.length===0?r.setSource(i.source):r.parent instanceof to?r.setSource(i.name):(i.name||(i.name=`data_${t++}`),r.setSource(i.name),r.numChildren()===1&&(e.push(i),i={name:null,source:i.name,transform:[]}))),r.numChildren()){case 0:r instanceof to&&(!i.source||i.transform.length>0)&&e.push(i);break;case 1:n(r.children[0],i);break;default:{i.name||(i.name=`data_${t++}`);let o=i.name;!i.source||i.transform.length>0?e.push(i):o=i.source;for(const s of r.children)n(s,{name:null,source:o,transform:[]});break}}}return n}function W7e(e){const t=[],n=zae(t);for(const r of e.children)n(r,{source:e.name,name:null,transform:[]});return t}function H7e(e,t){const n=[],r=zae(n);let i=0;for(const s of e.sources){s.hasName()||(s.dataName=`source_${i++}`);const a=s.assemble();r(s,a)}for(const s of n)s.transform.length===0&&delete s.transform;let o=0;for(const[s,a]of n.entries())(a.transform??[]).length===0&&!a.source&&n.splice(o++,0,n.splice(s,1)[0]);for(const s of n)for(const a of s.transform??[])a.type==="lookup"&&(a.from=e.outputNodes[a.from].getSource());for(const s of n)s.name in t&&(s.values=t[s.name]);return n}function q7e(e){return e==="top"||e==="left"||Re(e)?"header":"footer"}function G7e(e){for(const t of hs)X7e(e,t);qV(e,"x"),qV(e,"y")}function X7e(e,t){var s;const{facet:n,config:r,child:i,component:o}=e;if(e.channelHasField(t)){const a=n[t],l=Gm("title",null,r,t);let u=Mg(a,r,{allowDisabling:!0,includeDefault:l===void 0||!!l});i.component.layoutHeaders[t].title&&(u=te(u)?u.join(", "):u,u+=` / ${i.component.layoutHeaders[t].title}`,i.component.layoutHeaders[t].title=null);const c=Gm("labelOrient",a.header,r,t),f=a.header!==null?jn((s=a.header)==null?void 0:s.labels,r.header.labels,!0):!1,d=it(["bottom","right"],c)?"footer":"header";o.layoutHeaders[t]={title:a.header!==null?u:null,facetFieldDef:a,[d]:t==="facet"?[]:[jae(e,t,f)]}}}function jae(e,t,n){const r=t==="row"?"height":"width";return{labels:n,sizeSignal:e.child.component.layoutSize.get(r)?e.child.getSizeSignalRef(r):void 0,axes:[]}}function qV(e,t){const{child:n}=e;if(n.component.axes[t]){const{layoutHeaders:r,resolve:i}=e.component;if(i.axis[t]=CI(i,t),i.axis[t]==="shared"){const o=t==="x"?"column":"row",s=r[o];for(const a of n.component.axes[t]){const l=q7e(a.get("orient"));s[l]??(s[l]=[jae(e,o,!1)]);const u=w1(a,"main",e.config,{header:!0});u&&s[l][0].axes.push(u),a.mainExtracted=!0}}}}function Y7e(e){PI(e),FC(e,"width"),FC(e,"height")}function K7e(e){PI(e);const t=e.layout.columns===1?"width":"childWidth",n=e.layout.columns===void 0?"height":"childHeight";FC(e,t),FC(e,n)}function PI(e){for(const t of e.children)t.parseLayoutSize()}function FC(e,t){const n=dae(t),r=J_(n),i=e.component.resolve,o=e.component.layoutSize;let s;for(const a of e.children){const l=a.component.layoutSize.getWithExplicit(n),u=i.scale[r]??pae(r,e);if(u==="independent"&&l.value==="step"){s=void 0;break}if(s){if(u==="independent"&&s.value!==l.value){s=void 0;break}s=wf(s,l,n,"")}else s=l}if(s){for(const a of e.children)e.renameSignal(a.getName(n),e.getName(t)),a.component.layoutSize.set(n,"merged",!1);o.setWithExplicit(t,s)}else o.setWithExplicit(t,{explicit:!1,value:void 0})}function Q7e(e){const{size:t,component:n}=e;for(const r of Bu){const i=fo(r);if(t[i]){const o=t[i];n.layoutSize.set(i,Sl(o)?"step":o,!0)}else{const o=J7e(e,i);n.layoutSize.set(i,o,!1)}}}function J7e(e,t){const n=t==="width"?"x":"y",r=e.config,i=e.getScaleComponent(n);if(i){const o=i.get("type"),s=i.get("range");if(vr(o)){const a=_C(r.view,t);return sp(s)||Sl(a)?"step":a}else return VR(r.view,t)}else{if(e.hasProjection||e.mark==="arc")return VR(r.view,t);{const o=_C(r.view,t);return Sl(o)?o.step:o}}}function oP(e,t,n){return ye(t,{suffix:`by_${ye(e)}`,...n})}class J1 extends Iae{constructor(t,n,r,i){super(t,"facet",n,r,i,t.resolve),this.child=LI(t.spec,this,this.getName("child"),void 0,i),this.children=[this.child],this.facet=this.initFacet(t.facet)}initFacet(t){if(!_x(t))return{facet:this.initFacetFieldDef(t,"facet")};const n=se(t),r={};for(const i of n){if(![pu,gu].includes(i)){ue(t$(i,"facet"));break}const o=t[i];if(o.field===void 0){ue(IR(o,i));break}r[i]=this.initFacetFieldDef(o,i)}return r}initFacetFieldDef(t,n){const r=nI(t,n);return r.header?r.header=$r(r.header):r.header===null&&(r.header=null),r}channelHasField(t){return le(this.facet,t)}fieldDef(t){return this.facet[t]}parseData(){this.component.data=D$(this),this.child.parseData()}parseLayoutSize(){PI(this)}parseSelections(){this.child.parseSelections(),this.component.selection=this.child.component.selection}parseMarkGroup(){this.child.parseMarkGroup()}parseAxesAndHeaders(){this.child.parseAxesAndHeaders(),G7e(this)}assembleSelectionTopLevelSignals(t){return this.child.assembleSelectionTopLevelSignals(t)}assembleSignals(){return this.child.assembleSignals(),[]}assembleSelectionData(t){return this.child.assembleSelectionData(t)}getHeaderLayoutMixins(){const t={};for(const n of hs)for(const r of SI){const i=this.component.layoutHeaders[n],o=i[r],{facetFieldDef:s}=i;if(s){const a=Gm("titleOrient",s.header,this.config,n);if(["right","bottom"].includes(a)){const l=S$(n,a);t.titleAnchor??(t.titleAnchor={}),t.titleAnchor[l]="end"}}if(o!=null&&o[0]){const a=n==="row"?"height":"width",l=r==="header"?"headerBand":"footerBand";n!=="facet"&&!this.child.component.layoutSize.get(a)&&(t[l]??(t[l]={}),t[l][n]=.5),i.title&&(t.offset??(t.offset={}),t.offset[n==="row"?"rowTitle":"columnTitle"]=10)}}return t}assembleDefaultLayout(){const{column:t,row:n}=this.facet,r=t?this.columnDistinctSignal():n?1:void 0;let i="all";return(!n&&this.component.resolve.scale.x==="independent"||!t&&this.component.resolve.scale.y==="independent")&&(i="none"),{...this.getHeaderLayoutMixins(),...r?{columns:r}:{},bounds:"full",align:i}}assembleLayoutSignals(){return this.child.assembleLayoutSignals()}columnDistinctSignal(){if(!(this.parent&&this.parent instanceof J1))return{signal:`length(data('${this.getName("column_domain")}'))`}}assembleGroupStyle(){}assembleGroup(t){return this.parent&&this.parent instanceof J1?{...this.channelHasField("column")?{encode:{update:{columns:{field:ye(this.facet.column,{prefix:"distinct"})}}}}:{},...super.assembleGroup(t)}:super.assembleGroup(t)}getCardinalityAggregateForChild(){const t=[],n=[],r=[];if(this.child instanceof J1){if(this.child.channelHasField("column")){const i=ye(this.child.facet.column);t.push(i),n.push("distinct"),r.push(`distinct_${i}`)}}else for(const i of Bu){const o=this.child.component.scales[i];if(o&&!o.merged){const s=o.get("type"),a=o.get("range");if(vr(s)&&sp(a)){const l=C$(this.child,i),u=TI(l);u?(t.push(u),n.push("distinct"),r.push(`distinct_${u}`)):ue(RL(i))}}}return{fields:t,ops:n,as:r}}assembleFacet(){const{name:t,data:n}=this.component.data.facetRoot,{row:r,column:i}=this.facet,{fields:o,ops:s,as:a}=this.getCardinalityAggregateForChild(),l=[];for(const c of hs){const f=this.facet[c];if(f){l.push(ye(f));const{bin:d,sort:h}=f;if(nn(d)&&l.push(ye(f,{binSuffix:"end"})),mu(h)){const{field:p,op:g=l$}=h,m=oP(f,h);r&&i?(o.push(m),s.push("max"),a.push(m)):(o.push(p),s.push(g),a.push(m))}else if(te(h)){const p=qm(f,c);o.push(p),s.push("max"),a.push(p)}}}const u=!!r&&!!i;return{name:t,data:n,groupby:l,...u||o.length>0?{aggregate:{...u?{cross:u}:{},...o.length?{fields:o,ops:s,as:a}:{}}}:{}}}facetSortFields(t){const{facet:n}=this,r=n[t];return r?mu(r.sort)?[oP(r,r.sort,{expr:"datum"})]:te(r.sort)?[qm(r,t,{expr:"datum"})]:[ye(r,{expr:"datum"})]:[]}facetSortOrder(t){const{facet:n}=this,r=n[t];if(r){const{sort:i}=r;return[(mu(i)?i.order:!te(i)&&i)||"ascending"]}return[]}assembleLabelTitle(){var i;const{facet:t,config:n}=this;if(t.facet)return JR(t.facet,"facet",n);const r={row:["top","bottom"],column:["left","right"]};for(const o of wI)if(t[o]){const s=Gm("labelOrient",(i=t[o])==null?void 0:i.header,n,o);if(r[o].includes(s))return JR(t[o],o,n)}}assembleMarks(){const{child:t}=this,n=this.component.data.facetRoot,r=W7e(n),i=t.assembleGroupEncodeEntry(!1),o=this.assembleLabelTitle()||t.assembleTitle(),s=t.assembleGroupStyle();return[{name:this.getName("cell"),type:"group",...o?{title:o}:{},...s?{style:s}:{},from:{facet:this.assembleFacet()},sort:{field:hs.map(l=>this.facetSortFields(l)).flat(),order:hs.map(l=>this.facetSortOrder(l)).flat()},...r.length>0?{data:r}:{},...i?{encode:{update:i}}:{},...t.assembleGroup(c9e(this,[]))}]}getMapping(){return this.facet}}function Z7e(e,t){const{row:n,column:r}=t;if(n&&r){let i=null;for(const o of[n,r])if(mu(o.sort)){const{field:s,op:a=l$}=o.sort;e=i=new fp(e,{joinaggregate:[{op:a,field:s,as:oP(o,o.sort,{forAs:!0})}],groupby:[ye(o)]})}return i}return null}function Bae(e,t){var n,r,i,o;for(const s of t){const a=s.data;if(e.name&&s.hasName()&&e.name!==s.dataName)continue;const l=(n=e.format)==null?void 0:n.mesh,u=(r=a.format)==null?void 0:r.feature;if(l&&u)continue;const c=(i=e.format)==null?void 0:i.feature;if((c||u)&&c!==u)continue;const f=(o=a.format)==null?void 0:o.mesh;if(!((l||f)&&l!==f)){if(qv(e)&&qv(a)){if($o(e.values,a.values))return s}else if(Vm(e)&&Vm(a)){if(e.url===a.url)return s}else if(Fse(e)&&e.name===s.dataName)return s}}return null}function eje(e,t){if(e.data||!e.parent){if(e.data===null){const r=new Mh({values:[]});return t.push(r),r}const n=Bae(e.data,t);if(n)return Kc(e.data)||(n.data.format=kie({},e.data.format,n.data.format)),!n.hasName()&&e.data.name&&(n.dataName=e.data.name),n;{const r=new Mh(e.data);return t.push(r),r}}else return e.parent.component.data.facetRoot?e.parent.component.data.facetRoot:e.parent.component.data.main}function tje(e,t,n){let r=0;for(const i of t.transforms){let o,s;if(V8e(i))s=e=new Hm(e,i),o="derived";else if(pI(i)){const a=Hze(i);s=e=ni.makeWithAncestors(e,{},a,n)??e,e=new L0(e,t,i.filter)}else if(kse(i))s=e=cl.makeFromTransform(e,i,t),o="number";else if(H8e(i))o="date",n.getWithExplicit(i.field).value===void 0&&(e=new ni(e,{[i.field]:o}),n.set(i.field,o,!1)),s=e=ul.makeFromTransform(e,i);else if(q8e(i))s=e=sa.makeFromTransform(e,i),o="number",xI(t)&&(e=new Ef(e));else if(Cse(i))s=e=Xv.make(e,t,i,r++),o="derived";else if(j8e(i))s=e=new z0(e,i),o="number";else if(B8e(i))s=e=new fp(e,i),o="number";else if(G8e(i))s=e=vu.makeFromTransform(e,i),o="derived";else if(X8e(i))s=e=new A$(e,i),o="derived";else if(Y8e(i))s=e=new _$(e,i),o="derived";else if(U8e(i))s=e=new $$(e,i),o="derived";else if(D8e(i))s=e=new P$(e,i),o="derived";else if(z8e(i))e=new O$(e,i);else if(W8e(i))s=e=oh.makeFromTransform(e,i),o="derived";else if(M8e(i))s=e=new k$(e,i),o="derived";else if(N8e(i))s=e=new F$(e,i),o="derived";else if(L8e(i))s=e=new R$(e,i),o="derived";else if(I8e(i))s=e=new T$(e,i),o="derived";else{ue(hNe(i));continue}if(s&&o!==void 0)for(const a of s.producedFields()??[])n.set(a,o,!1)}return e}function D$(e){var m;let t=eje(e,e.component.data.sources);const{outputNodes:n,outputNodeRefCounts:r}=e.component.data,i=e.data,s=!(i&&(Kc(i)||Vm(i)||qv(i)))&&e.parent?e.parent.component.data.ancestorParse.clone():new a9e;Kc(i)?(Rse(i)?t=new Ox(t,i.sequence):gI(i)&&(t=new Px(t,i.graticule)),s.parseNothing=!0):((m=i==null?void 0:i.format)==null?void 0:m.parse)===null&&(s.parseNothing=!0),t=ni.makeExplicit(t,e,s)??t,t=new Ef(t);const a=e.parent&&j0(e.parent);(wn(e)||Ro(e))&&a&&(t=cl.makeFromEncoding(t,e)??t),e.transforms.length>0&&(t=tje(t,e,s));const l=Gze(e),u=qze(e);t=ni.makeWithAncestors(t,{},{...l,...u},s)??t,wn(e)&&(t=Lg.parseAll(t,e),t=Gv.parseAll(t,e)),(wn(e)||Ro(e))&&(a||(t=cl.makeFromEncoding(t,e)??t),t=ul.makeFromEncoding(t,e)??t,t=Hm.parseAllForSortIndex(t,e));const c=t=Zw(Rn.Raw,e,t);if(wn(e)){const y=sa.makeFromEncoding(t,e);y&&(t=y,xI(e)&&(t=new Ef(t))),t=oh.makeFromEncoding(t,e)??t,t=vu.makeFromEncoding(t,e)??t}let f,d;if(wn(e)){const{markDef:y,mark:v,config:b}=e,x=Wt("invalid",y,b),{marks:w,scales:C}=d=Ose({invalid:x,isPath:Vf(v)});w!==C&&C==="include-invalid-values"&&(f=t=Zw(Rn.PreFilterInvalid,e,t)),w==="exclude-invalid-values"&&(t=Xm.make(t,e,d)??t)}const h=t=Zw(Rn.Main,e,t);let p;if(wn(e)&&d){const{marks:y,scales:v}=d;y==="include-invalid-values"&&v==="exclude-invalid-values"&&(t=Xm.make(t,e,d)??t,p=t=Zw(Rn.PostFilterInvalid,e,t))}wn(e)&&U9e(e,h);let g=null;if(Ro(e)){const y=e.getName("facet");t=Z7e(t,e.facet)??t,g=new I0(t,e,y,h.getSource()),n[y]=g}return{...e.component.data,outputNodes:n,outputNodeRefCounts:r,raw:c,main:h,facetRoot:g,ancestorParse:s,preFilterInvalid:f,postFilterInvalid:p}}function Zw(e,t,n){const{outputNodes:r,outputNodeRefCounts:i}=t.component.data,o=t.getDataName(e),s=new to(n,o,e,i);return r[o]=s,s}class nje extends RI{constructor(t,n,r,i){var o,s,a,l;super(t,"concat",n,r,i,t.resolve),(((s=(o=t.resolve)==null?void 0:o.axis)==null?void 0:s.x)==="shared"||((l=(a=t.resolve)==null?void 0:a.axis)==null?void 0:l.y)==="shared")&&ue(cNe),this.children=this.getChildren(t).map((u,c)=>LI(u,this,this.getName(`concat_${c}`),void 0,i))}parseData(){this.component.data=D$(this);for(const t of this.children)t.parseData()}parseSelections(){this.component.selection={};for(const t of this.children){t.parseSelections();for(const n of se(t.component.selection))this.component.selection[n]=t.component.selection[n]}}parseMarkGroup(){for(const t of this.children)t.parseMarkGroup()}parseAxesAndHeaders(){for(const t of this.children)t.parseAxesAndHeaders()}getChildren(t){return g$(t)?t.vconcat:dI(t)?t.hconcat:t.concat}parseLayoutSize(){K7e(this)}parseAxisGroup(){return null}assembleSelectionTopLevelSignals(t){return this.children.reduce((n,r)=>r.assembleSelectionTopLevelSignals(n),t)}assembleSignals(){return this.children.forEach(t=>t.assembleSignals()),[]}assembleLayoutSignals(){const t=EI(this);for(const n of this.children)t.push(...n.assembleLayoutSignals());return t}assembleSelectionData(t){return this.children.reduce((n,r)=>r.assembleSelectionData(n),t)}assembleMarks(){return this.children.map(t=>{const n=t.assembleTitle(),r=t.assembleGroupStyle(),i=t.assembleGroupEncodeEntry(!1);return{type:"group",name:t.getName("group"),...n?{title:n}:{},...r?{style:r}:{},...i?{encode:{update:i}}:{},...t.assembleGroup()}})}assembleGroupStyle(){}assembleDefaultLayout(){const t=this.layout.columns;return{...t!=null?{columns:t}:{},bounds:"full",align:"each"}}}function rje(e){return e===!1||e===null}const ije={disable:1,gridScale:1,scale:1,...Xoe,labelExpr:1,encode:1},Uae=se(ije);class OI extends Vu{constructor(t={},n={},r=!1){super(),this.explicit=t,this.implicit=n,this.mainExtracted=r}clone(){return new OI(Ge(this.explicit),Ge(this.implicit),this.mainExtracted)}hasAxisPart(t){return t==="axis"?!0:t==="grid"||t==="title"?!!this.get(t):!rje(this.get(t))}hasOrientSignalRef(){return Re(this.explicit.orient)}}function oje(e,t,n){const{encoding:r,config:i}=e,o=nr(r[t])??nr(r[Dl(t)]),s=e.axis(t)||{},{format:a,formatType:l}=s;if(Ph(l))return{text:ra({fieldOrDatumDef:o,field:"datum.value",format:a,formatType:l,config:i}),...n};if(a===void 0&&l===void 0&&i.customFormatTypes){if(jm(o)==="quantitative"){if(Bm(o)&&o.stack==="normalize"&&i.normalizedNumberFormatType)return{text:ra({fieldOrDatumDef:o,field:"datum.value",format:i.normalizedNumberFormat,formatType:i.normalizedNumberFormatType,config:i}),...n};if(i.numberFormatType)return{text:ra({fieldOrDatumDef:o,field:"datum.value",format:i.numberFormat,formatType:i.numberFormatType,config:i}),...n}}if(jm(o)==="temporal"&&i.timeFormatType&&ce(o)&&!o.timeUnit)return{text:ra({fieldOrDatumDef:o,field:"datum.value",format:i.timeFormat,formatType:i.timeFormatType,config:i}),...n}}return n}function sje(e){return Bu.reduce((t,n)=>(e.component.scales[n]&&(t[n]=[hje(n,e)]),t),{})}const aje={bottom:"top",top:"bottom",left:"right",right:"left"};function lje(e){const{axes:t,resolve:n}=e.component,r={top:0,bottom:0,right:0,left:0};for(const i of e.children){i.parseAxesAndHeaders();for(const o of se(i.component.axes))n.axis[o]=CI(e.component.resolve,o),n.axis[o]==="shared"&&(t[o]=uje(t[o],i.component.axes[o]),t[o]||(n.axis[o]="independent",delete t[o]))}for(const i of Bu){for(const o of e.children)if(o.component.axes[i]){if(n.axis[i]==="independent"){t[i]=(t[i]??[]).concat(o.component.axes[i]);for(const s of o.component.axes[i]){const{value:a,explicit:l}=s.getWithExplicit("orient");if(!Re(a)){if(r[a]>0&&!l){const u=aje[a];r[a]>r[u]&&s.set("orient",u,!1)}r[a]++}}}delete o.component.axes[i]}if(n.axis[i]==="independent"&&t[i]&&t[i].length>1)for(const[o,s]of(t[i]||[]).entries())o>0&&s.get("grid")&&!s.explicit.grid&&(s.implicit.grid=!1)}}function uje(e,t){if(e){if(e.length!==t.length)return;const n=e.length;for(let r=0;r<n;r++){const i=e[r],o=t[r];if(!!i!=!!o)return;if(i&&o){const s=i.getWithExplicit("orient"),a=o.getWithExplicit("orient");if(s.explicit&&a.explicit&&s.value!==a.value)return;e[r]=cje(i,o)}}}else return t.map(n=>n.clone());return e}function cje(e,t){for(const n of Uae){const r=wf(e.getWithExplicit(n),t.getWithExplicit(n),n,"axis",(i,o)=>{switch(n){case"title":return Jie(i,o);case"gridScale":return{explicit:i.explicit,value:jn(i.value,o.value)}}return y$(i,o,n,"axis")});e.setWithExplicit(n,r)}return e}function fje(e,t,n,r,i){if(t==="disable")return n!==void 0;switch(n=n||{},t){case"titleAngle":case"labelAngle":return e===(Re(n.labelAngle)?n.labelAngle:Wv(n.labelAngle));case"values":return!!n.values;case"encode":return!!n.encoding||!!n.labelAngle;case"title":if(e===aae(r,i))return!0}return e===n[t]}const dje=new Set(["grid","translate","format","formatType","orient","labelExpr","tickCount","position","tickMinStep"]);function hje(e,t){var y,v;let n=t.axis(e);const r=new OI,i=nr(t.encoding[e]),{mark:o,config:s}=t,a=(n==null?void 0:n.orient)||((y=s[e==="x"?"axisX":"axisY"])==null?void 0:y.orient)||((v=s.axis)==null?void 0:v.orient)||J9e(e),l=t.getScaleComponent(e).get("type"),u=H9e(e,l,a,t.config),c=n!==void 0?!n:KR("disable",s.style,n==null?void 0:n.style,u).configValue;if(r.set("disable",c,n!==void 0),c)return r;n=n||{};const f=Y9e(i,n,e,s.style,u),d=Doe(n.formatType,i,l),h=Ooe(i,i.type,n.format,n.formatType,s,!0),p={fieldOrDatumDef:i,axis:n,channel:e,model:t,scaleType:l,orient:a,labelAngle:f,format:h,formatType:d,mark:o,config:s};for(const b of Uae){const x=b in RV?RV[b](p):rV(b)?n[b]:void 0,w=x!==void 0,C=fje(x,b,n,t,e);if(w&&C)r.set(b,x,C);else{const{configValue:S=void 0,configFrom:k=void 0}=rV(b)&&b!=="values"?KR(b,s.style,n.style,u):{},$=S!==void 0;w&&!$?r.set(b,x,C):(k!=="vgAxisConfig"||dje.has(b)&&$||Fx(S)||Re(S))&&r.set(b,S,!1)}}const g=n.encoding??{},m=Goe.reduce((b,x)=>{if(!r.hasAxisPart(x))return b;const w=hae(g[x]??{},t),C=x==="labels"?oje(t,e,w):w;return C!==void 0&&!Ht(C)&&(b[x]={update:C}),b},{});return Ht(m)||r.set("encode",m,!!n.encoding||n.labelAngle!==void 0),r}function pje({encoding:e,size:t}){for(const n of Bu){const r=fo(n);Sl(t[r])&&Uc(e[n])&&(delete t[r],ue(roe(r)))}return t}const gje={vgMark:"arc",encodeEntry:e=>({...Fs(e,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"}),...Ai("x",e,{defaultPos:"mid"}),...Ai("y",e,{defaultPos:"mid"}),...Au(e,"radius"),...Au(e,"theta")})},mje={vgMark:"area",encodeEntry:e=>({...Fs(e,{align:"ignore",baseline:"ignore",color:"include",orient:"include",size:"ignore",theta:"ignore"}),...$C("x",e,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:e.markDef.orient==="horizontal"}),...$C("y",e,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:e.markDef.orient==="vertical"}),...bI(e)})},yje={vgMark:"rect",encodeEntry:e=>({...Fs(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...Au(e,"x"),...Au(e,"y")})},vje={vgMark:"shape",encodeEntry:e=>({...Fs(e,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"})}),postEncodingTransform:e=>{const{encoding:t}=e,n=t.shape;return[{type:"geoshape",projection:e.projectionName(),...n&&ce(n)&&n.type===M0?{field:ye(n,{expr:"datum"})}:{}}]}},bje={vgMark:"image",encodeEntry:e=>({...Fs(e,{align:"ignore",baseline:"ignore",color:"ignore",orient:"ignore",size:"ignore",theta:"ignore"}),...Au(e,"x"),...Au(e,"y"),...yI(e,"url")})},xje={vgMark:"line",encodeEntry:e=>({...Fs(e,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"}),...Ai("x",e,{defaultPos:"mid"}),...Ai("y",e,{defaultPos:"mid"}),...Rr("size",e,{vgChannel:"strokeWidth"}),...bI(e)})},wje={vgMark:"trail",encodeEntry:e=>({...Fs(e,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"}),...Ai("x",e,{defaultPos:"mid"}),...Ai("y",e,{defaultPos:"mid"}),...Rr("size",e),...bI(e)})};function DI(e,t){const{config:n}=e;return{...Fs(e,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"}),...Ai("x",e,{defaultPos:"mid"}),...Ai("y",e,{defaultPos:"mid"}),...Rr("size",e),...Rr("angle",e),...Sje(e,n,t)}}function Sje(e,t,n){return n?{shape:{value:n}}:Rr("shape",e)}const Eje={vgMark:"symbol",encodeEntry:e=>DI(e)},Cje={vgMark:"symbol",encodeEntry:e=>DI(e,"circle")},kje={vgMark:"symbol",encodeEntry:e=>DI(e,"square")},_je={vgMark:"rect",encodeEntry:e=>({...Fs(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...Au(e,"x"),...Au(e,"y")})},$je={vgMark:"rule",encodeEntry:e=>{const{markDef:t}=e,n=t.orient;return!e.encoding.x&&!e.encoding.y&&!e.encoding.latitude&&!e.encoding.longitude?{}:{...Fs(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...$C("x",e,{defaultPos:n==="horizontal"?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:n!=="vertical"}),...$C("y",e,{defaultPos:n==="vertical"?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:n!=="horizontal"}),...Rr("size",e,{vgChannel:"strokeWidth"})}}},Aje={vgMark:"text",encodeEntry:e=>{const{config:t,encoding:n}=e;return{...Fs(e,{align:"include",baseline:"include",color:"include",size:"ignore",orient:"ignore",theta:"include"}),...Ai("x",e,{defaultPos:"mid"}),...Ai("y",e,{defaultPos:"mid"}),...yI(e),...Rr("size",e,{vgChannel:"fontSize"}),...Rr("angle",e),...$V("align",Tje(e.markDef,n,t)),...$V("baseline",Fje(e.markDef,n,t)),...Ai("radius",e,{defaultPos:null}),...Ai("theta",e,{defaultPos:null})}}};function Tje(e,t,n){if(Wt("align",e,n)===void 0)return"center"}function Fje(e,t,n){if(Wt("baseline",e,n)===void 0)return"middle"}const Rje={vgMark:"rect",encodeEntry:e=>{const{config:t,markDef:n}=e,r=n.orient,i=r==="horizontal"?"x":"y",o=r==="horizontal"?"y":"x",s=r==="horizontal"?"height":"width";return{...Fs(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...Au(e,i),...Ai(o,e,{defaultPos:"mid",vgChannel:o==="y"?"yc":"xc"}),[s]:ln(Wt("thickness",n,t))}}},e2={arc:gje,area:mje,bar:yje,circle:Cje,geoshape:vje,image:bje,line:xje,point:Eje,rect:_je,rule:$je,square:kje,text:Aje,tick:Rje,trail:wje};function Pje(e){if(it([s$,i$,jLe],e.mark)){const t=ese(e.mark,e.encoding);if(t.length>0)return Oje(e,t)}else if(e.mark===o$){const t=NR.some(n=>Wt(n,e.markDef,e.config));if(e.stack&&!e.fieldDef("size")&&t)return Dje(e)}return MI(e)}const GV="faceted_path_";function Oje(e,t){return[{name:e.getName("pathgroup"),type:"group",from:{facet:{name:GV+e.requestDataName(Rn.Main),data:e.requestDataName(Rn.Main),groupby:t}},encode:{update:{width:{field:{group:"width"}},height:{field:{group:"height"}}}},marks:MI(e,{fromPrefix:GV})}]}const XV="stack_group_";function Dje(e){var u;const[t]=MI(e,{fromPrefix:XV}),n=e.scaleName(e.stack.fieldChannel),r=(c={})=>e.vgField(e.stack.fieldChannel,c),i=(c,f)=>{const d=[r({prefix:"min",suffix:"start",expr:f}),r({prefix:"max",suffix:"start",expr:f}),r({prefix:"min",suffix:"end",expr:f}),r({prefix:"max",suffix:"end",expr:f})];return`${c}(${d.map(h=>`scale('${n}',${h})`).join(",")})`};let o,s;e.stack.fieldChannel==="x"?(o={...Om(t.encode.update,["y","yc","y2","height",...NR]),x:{signal:i("min","datum")},x2:{signal:i("max","datum")},clip:{value:!0}},s={x:{field:{group:"x"},mult:-1},height:{field:{group:"height"}}},t.encode.update={...eo(t.encode.update,["y","yc","y2"]),height:{field:{group:"height"}}}):(o={...Om(t.encode.update,["x","xc","x2","width"]),y:{signal:i("min","datum")},y2:{signal:i("max","datum")},clip:{value:!0}},s={y:{field:{group:"y"},mult:-1},width:{field:{group:"width"}}},t.encode.update={...eo(t.encode.update,["x","xc","x2"]),width:{field:{group:"width"}}});for(const c of NR){const f=xl(c,e.markDef,e.config);t.encode.update[c]?(o[c]=t.encode.update[c],delete t.encode.update[c]):f&&(o[c]=ln(f)),f&&(t.encode.update[c]={value:0})}const a=[];if(((u=e.stack.groupbyChannels)==null?void 0:u.length)>0)for(const c of e.stack.groupbyChannels){const f=e.fieldDef(c),d=ye(f);d&&a.push(d),(f!=null&&f.bin||f!=null&&f.timeUnit)&&a.push(ye(f,{binSuffix:"end"}))}return o=["stroke","strokeWidth","strokeJoin","strokeCap","strokeDash","strokeDashOffset","strokeMiterLimit","strokeOpacity"].reduce((c,f)=>{if(t.encode.update[f])return{...c,[f]:t.encode.update[f]};{const d=xl(f,e.markDef,e.config);return d!==void 0?{...c,[f]:ln(d)}:c}},o),o.stroke&&(o.strokeForeground={value:!0},o.strokeOffset={value:0}),[{type:"group",from:{facet:{data:e.requestDataName(Rn.Main),name:XV+e.requestDataName(Rn.Main),groupby:a,aggregate:{fields:[r({suffix:"start"}),r({suffix:"start"}),r({suffix:"end"}),r({suffix:"end"})],ops:["min","max","min","max"]}}},encode:{update:o},marks:[{type:"group",encode:{update:s},marks:[t]}]}]}function Mje(e){const{encoding:t,stack:n,mark:r,markDef:i,config:o}=e,s=t.order;if(!(!te(s)&&ga(s)&&DR(s.value)||!s&&DR(Wt("order",i,o)))){if((te(s)||ce(s))&&!n)return Yie(s,{expr:"datum"});if(Vf(r)){const a=i.orient==="horizontal"?"y":"x",l=t[a];if(ce(l))return{field:a}}}}function MI(e,t={fromPrefix:""}){const{mark:n,markDef:r,encoding:i,config:o}=e,s=jn(r.clip,Nje(e),Lje(e)),a=Gie(r),l=i.key,u=Mje(e),c=Ije(e),f=Wt("aria",r,o),d=e2[n].postEncodingTransform?e2[n].postEncodingTransform(e):null;return[{name:e.getName("marks"),type:e2[n].vgMark,...s?{clip:s}:{},...a?{style:a}:{},...l?{key:l.field}:{},...u?{sort:u}:{},...c||{},...f===!1?{aria:f}:{},from:{data:t.fromPrefix+e.requestDataName(Rn.Main)},encode:{update:e2[n].encodeEntry(e)},...d?{transform:d}:{}}]}function Nje(e){const t=e.getScaleComponent("x"),n=e.getScaleComponent("y");return t!=null&&t.get("selectionExtent")||n!=null&&n.get("selectionExtent")?!0:void 0}function Lje(e){const t=e.component.projection;return t&&!t.isFit?!0:void 0}function Ije(e){if(!e.component.selection)return null;const t=se(e.component.selection).length;let n=t,r=e.parent;for(;r&&n===0;)n=se(r.component.selection).length,r=r.parent;return n?{interactive:t>0||e.mark==="geoshape"||!!e.encoding.tooltip||!!e.markDef.tooltip}:null}class Vae extends Iae{constructor(t,n,r,i={},o){super(t,"unit",n,r,o,void 0,oV(t)?t.view:void 0),this.specifiedScales={},this.specifiedAxes={},this.specifiedLegends={},this.specifiedProjection={},this.selection=[],this.children=[];const s=wl(t.mark)?{...t.mark}:{type:t.mark},a=s.type;s.filled===void 0&&(s.filled=E8e(s,o,{graticule:t.data&&gI(t.data)}));const l=this.encoding=$Ie(t.encoding||{},a,s.filled,o);this.markDef=wse(s,l,o),this.size=pje({encoding:l,size:oV(t)?{...i,...t.width?{width:t.width}:{},...t.height?{height:t.height}:{}}:i}),this.stack=xse(this.markDef,l),this.specifiedScales=this.initScales(a,l),this.specifiedAxes=this.initAxes(l),this.specifiedLegends=this.initLegends(l),this.specifiedProjection=t.projection,this.selection=(t.params??[]).filter(u=>cI(u))}get hasProjection(){const{encoding:t}=this,n=this.mark===_oe,r=t&&E6e.some(i=>Ke(t[i]));return n||r}scaleDomain(t){const n=this.specifiedScales[t];return n?n.domain:void 0}axis(t){return this.specifiedAxes[t]}legend(t){return this.specifiedLegends[t]}initScales(t,n){return AL.reduce((r,i)=>{const o=nr(n[i]);return o&&(r[i]=this.initScale(o.scale??{})),r},{})}initScale(t){const{domain:n,range:r}=t,i=$r(t);return te(n)&&(i.domain=n.map(Eo)),te(r)&&(i.range=r.map(Eo)),i}initAxes(t){return Bu.reduce((n,r)=>{const i=t[r];if(Ke(i)||r===mn&&Ke(t.x2)||r===xr&&Ke(t.y2)){const o=Ke(i)?i.axis:void 0;n[r]=o&&this.initAxis({...o})}return n},{})}initAxis(t){const n=se(t),r={};for(const i of n){const o=t[i];r[i]=Fx(o)?qie(o):Eo(o)}return r}initLegends(t){return O6e.reduce((n,r)=>{const i=nr(t[r]);if(i&&M6e(r)){const o=i.legend;n[r]=o&&$r(o)}return n},{})}parseData(){this.component.data=D$(this)}parseLayoutSize(){Q7e(this)}parseSelections(){this.component.selection=B9e(this,this.selection)}parseMarkGroup(){this.component.mark=Pje(this)}parseAxesAndHeaders(){this.component.axes=sje(this)}assembleSelectionTopLevelSignals(t){return f9e(this,t)}assembleSignals(){return[...iae(this),...u9e(this,[])]}assembleSelectionData(t){return d9e(this,t)}assembleLayout(){return null}assembleLayoutSignals(){return EI(this)}assembleMarks(){let t=this.component.mark??[];return(!this.parent||!j0(this.parent))&&(t=Mse(this,t)),t.map(this.correctDataNames)}assembleGroupStyle(){const{style:t}=this.view||{};return t!==void 0?t:this.encoding.x||this.encoding.y?"cell":"view"}getMapping(){return this.encoding}get mark(){return this.markDef.type}channelHasField(t){return rh(this.encoding,t)}fieldDef(t){const n=this.encoding[t];return ma(n)}typedFieldDef(t){const n=this.fieldDef(t);return Ni(n)?n:null}}class NI extends RI{constructor(t,n,r,i,o){super(t,"layer",n,r,o,t.resolve,t.view);const s={...i,...t.width?{width:t.width}:{},...t.height?{height:t.height}:{}};this.children=t.layer.map((a,l)=>{if(m$(a))return new NI(a,this,this.getName(`layer_${l}`),s,o);if(Uu(a))return new Vae(a,this,this.getName(`layer_${l}`),s,o);throw new Error(FL(a))})}parseData(){this.component.data=D$(this);for(const t of this.children)t.parseData()}parseLayoutSize(){Y7e(this)}parseSelections(){this.component.selection={};for(const t of this.children){t.parseSelections();for(const n of se(t.component.selection))this.component.selection[n]=t.component.selection[n]}}parseMarkGroup(){for(const t of this.children)t.parseMarkGroup()}parseAxesAndHeaders(){lje(this)}assembleSelectionTopLevelSignals(t){return this.children.reduce((n,r)=>r.assembleSelectionTopLevelSignals(n),t)}assembleSignals(){return this.children.reduce((t,n)=>t.concat(n.assembleSignals()),iae(this))}assembleLayoutSignals(){return this.children.reduce((t,n)=>t.concat(n.assembleLayoutSignals()),EI(this))}assembleSelectionData(t){return this.children.reduce((n,r)=>r.assembleSelectionData(n),t)}assembleGroupStyle(){const t=new Set;for(const r of this.children)for(const i of xe(r.assembleGroupStyle()))t.add(i);const n=Array.from(t);return n.length>1?n:n.length===1?n[0]:void 0}assembleTitle(){let t=super.assembleTitle();if(t)return t;for(const n of this.children)if(t=n.assembleTitle(),t)return t}assembleLayout(){return null}assembleMarks(){return h9e(this,this.children.flatMap(t=>t.assembleMarks()))}assembleLegends(){return this.children.reduce((t,n)=>t.concat(n.assembleLegends()),wae(this))}}function LI(e,t,n,r,i){if(u$(e))return new J1(e,t,n,i);if(m$(e))return new NI(e,t,n,r,i);if(Uu(e))return new Vae(e,t,n,r,i);if(QIe(e))return new nje(e,t,n,i);throw new Error(FL(e))}function zje(e,t={}){t.logger&&eLe(t.logger),t.fieldTitle&&Woe(t.fieldTitle);try{const n=bse(v0(t.config,e.config)),r=Ase(e,n),i=LI(r,null,"",void 0,n);return i.parse(),u7e(i.component.data,i),{spec:Bje(i,jje(e,r.autosize,n,i),e.datasets,e.usermeta),normalized:r}}finally{t.logger&&tLe(),t.fieldTitle&&vIe()}}function jje(e,t,n,r){const i=r.component.layoutSize.get("width"),o=r.component.layoutSize.get("height");if(t===void 0?(t={type:"pad"},r.hasAxisOrientSignalRef()&&(t.resize=!0)):we(t)&&(t={type:t}),i&&o&&i9e(t.type)){if(i==="step"&&o==="step")ue(VU()),t.type="pad";else if(i==="step"||o==="step"){const s=i==="step"?"width":"height";ue(VU(J_(s)));const a=s==="width"?"height":"width";t.type=o9e(a)}}return{...se(t).length===1&&t.type?t.type==="pad"?{}:{autosize:t.type}:{autosize:t},...yV(n,!1),...yV(e,!0)}}function Bje(e,t,n={},r){const i=e.config?f8e(e.config):void 0,o=[].concat(e.assembleSelectionData([]),H7e(e.component.data,n)),s=e.assembleProjections(),a=e.assembleTitle(),l=e.assembleGroupStyle(),u=e.assembleGroupEncodeEntry(!0);let c=e.assembleLayoutSignals();c=c.filter(h=>(h.name==="width"||h.name==="height")&&h.value!==void 0?(t[h.name]=+h.value,!1):!0);const{params:f,...d}=t;return{$schema:"https://vega.github.io/schema/vega/v5.json",...e.description?{description:e.description}:{},...d,...a?{title:a}:{},...l?{style:l}:{},...u?{encode:{update:u}}:{},data:o,...s.length>0?{projections:s}:{},...e.assembleGroup([...c,...e.assembleSelectionTopLevelSignals([]),...gse(f)]),...i?{config:i}:{},...r?{usermeta:r}:{}}}const Uje=v6e.version,Wae=Object.freeze(Object.defineProperty({__proto__:null,accessPathDepth:Mm,accessPathWithDatum:xL,compile:zje,contains:it,deepEqual:$o,deleteNestedProperty:yC,duplicate:Ge,entries:vf,every:yL,fieldIntersection:bL,flatAccessWithDatum:$ie,getFirstDefined:jn,hasIntersection:vL,hasProperty:le,hash:ut,internalField:Fie,isBoolean:Vv,isEmpty:Ht,isEqual:x1,isInternalField:Rie,isNullOrFalse:DR,isNumeric:q_,keys:se,logicalExpr:K1,mergeDeep:kie,never:Cie,normalize:Ase,normalizeAngle:Wv,omit:eo,pick:Om,prefixGenerator:MR,removePathFromField:O0,replaceAll:$h,replacePathInField:Cs,resetIdCounter:w6e,setEqual:_ie,some:Dm,stringify:qt,titleCase:bx,unique:tl,uniqueId:Tie,vals:Mr,varName:pn,version:Uje},Symbol.toStringTag,{value:"Module"}));function Hae(e){const[t,n]=/schema\/([\w-]+)\/([\w\.\-]+)\.json$/g.exec(e).slice(1,3);return{library:t,version:n}}var Vje="vega-themes",Wje="2.15.0",Hje="Themes for stylized Vega and Vega-Lite visualizations.",qje=["vega","vega-lite","themes","style"],Gje="BSD-3-Clause",Xje={name:"UW Interactive Data Lab",url:"https://idl.cs.washington.edu"},Yje=[{name:"Emily Gu",url:"https://github.com/emilygu"},{name:"Arvind Satyanarayan",url:"http://arvindsatya.com"},{name:"Jeffrey Heer",url:"https://idl.cs.washington.edu"},{name:"Dominik Moritz",url:"https://www.domoritz.de"}],Kje="build/vega-themes.js",II="build/vega-themes.module.js",Qje="build/vega-themes.min.js",Jje="build/vega-themes.min.js",Zje="build/vega-themes.module.d.ts",eBe={type:"git",url:"https://github.com/vega/vega-themes.git"},tBe=["src","build"],nBe={prebuild:"yarn clean",build:"rollup -c",clean:"rimraf build && rimraf examples/build","copy:data":"rsync -r node_modules/vega-datasets/data/* examples/data","copy:build":"rsync -r build/* examples/build","deploy:gh":"yarn build && mkdir -p examples/build && rsync -r build/* examples/build && gh-pages -d examples",preversion:"yarn lint",serve:"browser-sync start -s -f build examples --serveStatic examples",start:"yarn build && concurrently --kill-others -n Server,Rollup 'yarn serve' 'rollup -c -w'",format:"eslint . --fix",lint:"eslint .",release:"release-it"},rBe={"@babel/core":"^7.24.6","@babel/plugin-transform-runtime":"^7.24.6","@babel/preset-env":"^7.24.6","@babel/preset-typescript":"^7.24.6","@release-it/conventional-changelog":"^8.0.1","@rollup/plugin-json":"^6.1.0","@rollup/plugin-node-resolve":"^15.2.3","@rollup/plugin-terser":"^0.4.4","@typescript-eslint/eslint-plugin":"^7.11.0","@typescript-eslint/parser":"^7.11.0","browser-sync":"^3.0.2",concurrently:"^8.2.2",eslint:"^8.45.0","eslint-config-prettier":"^9.1.0","eslint-plugin-prettier":"^5.1.3","gh-pages":"^6.1.1",prettier:"^3.2.5","release-it":"^17.3.0",rollup:"^4.18.0","rollup-plugin-bundle-size":"^1.0.3","rollup-plugin-ts":"^3.4.5",typescript:"^5.4.5",vega:"^5.25.0","vega-lite":"^5.9.3"},iBe={vega:"*","vega-lite":"*"},oBe={},sBe={name:Vje,version:Wje,description:Hje,keywords:qje,license:Gje,author:Xje,contributors:Yje,main:Kje,module:II,unpkg:Qje,jsdelivr:Jje,types:Zje,repository:eBe,files:tBe,scripts:nBe,devDependencies:rBe,peerDependencies:iBe,dependencies:oBe};const Up="#fff",YV="#888",aBe={background:"#333",view:{stroke:YV},title:{color:Up,subtitleColor:Up},style:{"guide-label":{fill:Up},"guide-title":{fill:Up}},axis:{domainColor:Up,gridColor:YV,tickColor:Up}},ad="#4572a7",lBe={background:"#fff",arc:{fill:ad},area:{fill:ad},line:{stroke:ad,strokeWidth:2},path:{stroke:ad},rect:{fill:ad},shape:{stroke:ad},symbol:{fill:ad,strokeWidth:1.5,size:50},axis:{bandPosition:.5,grid:!0,gridColor:"#000000",gridOpacity:1,gridWidth:.5,labelPadding:10,tickSize:5,tickWidth:.5},axisBand:{grid:!1,tickExtra:!0},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:50,symbolType:"square"},range:{category:["#4572a7","#aa4643","#8aa453","#71598e","#4598ae","#d98445","#94aace","#d09393","#b9cc98","#a99cbc"]}},ld="#30a2da",h3="#cbcbcb",uBe="#999",cBe="#333",KV="#f0f0f0",QV="#333",fBe={arc:{fill:ld},area:{fill:ld},axis:{domainColor:h3,grid:!0,gridColor:h3,gridWidth:1,labelColor:uBe,labelFontSize:10,titleColor:cBe,tickColor:h3,tickSize:10,titleFontSize:14,titlePadding:10,labelPadding:4},axisBand:{grid:!1},background:KV,group:{fill:KV},legend:{labelColor:QV,labelFontSize:11,padding:1,symbolSize:30,symbolType:"square",titleColor:QV,titleFontSize:14,titlePadding:10},line:{stroke:ld,strokeWidth:2},path:{stroke:ld,strokeWidth:.5},rect:{fill:ld},range:{category:["#30a2da","#fc4f30","#e5ae38","#6d904f","#8b8b8b","#b96db8","#ff9e27","#56cc60","#52d2ca","#52689e","#545454","#9fe4f8"],diverging:["#cc0020","#e77866","#f6e7e1","#d6e8ed","#91bfd9","#1d78b5"],heatmap:["#d6e8ed","#cee0e5","#91bfd9","#549cc6","#1d78b5"]},point:{filled:!0,shape:"circle"},shape:{stroke:ld},bar:{binSpacing:2,fill:ld,stroke:null},title:{anchor:"start",fontSize:24,fontWeight:600,offset:20}},ud="#000",dBe={group:{fill:"#e5e5e5"},arc:{fill:ud},area:{fill:ud},line:{stroke:ud},path:{stroke:ud},rect:{fill:ud},shape:{stroke:ud},symbol:{fill:ud,size:40},axis:{domain:!1,grid:!0,gridColor:"#FFFFFF",gridOpacity:1,labelColor:"#7F7F7F",labelPadding:4,tickColor:"#7F7F7F",tickSize:5.67,titleFontSize:16,titleFontWeight:"normal"},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:40},range:{category:["#000000","#7F7F7F","#1A1A1A","#999999","#333333","#B0B0B0","#4D4D4D","#C9C9C9","#666666","#DCDCDC"]}},hBe=22,pBe="normal",JV="Benton Gothic, sans-serif",ZV=11.5,gBe="normal",cd="#82c6df",p3="Benton Gothic Bold, sans-serif",eW="normal",tW=13,Fy={"category-6":["#ec8431","#829eb1","#c89d29","#3580b1","#adc839","#ab7fb4"],"fire-7":["#fbf2c7","#f9e39c","#f8d36e","#f4bb6a","#e68a4f","#d15a40","#ab4232"],"fireandice-6":["#e68a4f","#f4bb6a","#f9e39c","#dadfe2","#a6b7c6","#849eae"],"ice-7":["#edefee","#dadfe2","#c4ccd2","#a6b7c6","#849eae","#607785","#47525d"]},mBe={background:"#ffffff",title:{anchor:"start",color:"#000000",font:p3,fontSize:hBe,fontWeight:pBe},arc:{fill:cd},area:{fill:cd},line:{stroke:cd,strokeWidth:2},path:{stroke:cd},rect:{fill:cd},shape:{stroke:cd},symbol:{fill:cd,size:30},axis:{labelFont:JV,labelFontSize:ZV,labelFontWeight:gBe,titleFont:p3,titleFontSize:tW,titleFontWeight:eW},axisX:{labelAngle:0,labelPadding:4,tickSize:3},axisY:{labelBaseline:"middle",maxExtent:45,minExtent:45,tickSize:2,titleAlign:"left",titleAngle:0,titleX:-45,titleY:-11},legend:{labelFont:JV,labelFontSize:ZV,symbolType:"square",titleFont:p3,titleFontSize:tW,titleFontWeight:eW},range:{category:Fy["category-6"],diverging:Fy["fireandice-6"],heatmap:Fy["fire-7"],ordinal:Fy["fire-7"],ramp:Fy["fire-7"]}},fd="#ab5787",t2="#979797",yBe={background:"#f9f9f9",arc:{fill:fd},area:{fill:fd},line:{stroke:fd},path:{stroke:fd},rect:{fill:fd},shape:{stroke:fd},symbol:{fill:fd,size:30},axis:{domainColor:t2,domainWidth:.5,gridWidth:.2,labelColor:t2,tickColor:t2,tickWidth:.2,titleColor:t2},axisBand:{grid:!1},axisX:{grid:!0,tickSize:10},axisY:{domain:!1,grid:!0,tickSize:0},legend:{labelFontSize:11,padding:1,symbolSize:30,symbolType:"square"},range:{category:["#ab5787","#51b2e5","#703c5c","#168dd9","#d190b6","#00609f","#d365ba","#154866","#666666","#c4c4c4"]}},dd="#3e5c69",vBe={background:"#fff",arc:{fill:dd},area:{fill:dd},line:{stroke:dd},path:{stroke:dd},rect:{fill:dd},shape:{stroke:dd},symbol:{fill:dd},axis:{domainWidth:.5,grid:!0,labelPadding:2,tickSize:5,tickWidth:.5,titleFontWeight:"normal"},axisBand:{grid:!1},axisX:{gridWidth:.2},axisY:{gridDash:[3],gridWidth:.4},legend:{labelFontSize:11,padding:1,symbolType:"square"},range:{category:["#3e5c69","#6793a6","#182429","#0570b0","#3690c0","#74a9cf","#a6bddb","#e2ddf2"]}},Ko="#1696d2",nW="#000000",bBe="#FFFFFF",n2="Lato",g3="Lato",xBe="Lato",wBe="#DEDDDD",SBe=18,Ry={"main-colors":["#1696d2","#d2d2d2","#000000","#fdbf11","#ec008b","#55b748","#5c5859","#db2b27"],"shades-blue":["#CFE8F3","#A2D4EC","#73BFE2","#46ABDB","#1696D2","#12719E","#0A4C6A","#062635"],"shades-gray":["#F5F5F5","#ECECEC","#E3E3E3","#DCDBDB","#D2D2D2","#9D9D9D","#696969","#353535"],"shades-yellow":["#FFF2CF","#FCE39E","#FDD870","#FCCB41","#FDBF11","#E88E2D","#CA5800","#843215"],"shades-magenta":["#F5CBDF","#EB99C2","#E46AA7","#E54096","#EC008B","#AF1F6B","#761548","#351123"],"shades-green":["#DCEDD9","#BCDEB4","#98CF90","#78C26D","#55B748","#408941","#2C5C2D","#1A2E19"],"shades-black":["#D5D5D4","#ADABAC","#848081","#5C5859","#332D2F","#262223","#1A1717","#0E0C0D"],"shades-red":["#F8D5D4","#F1AAA9","#E9807D","#E25552","#DB2B27","#A4201D","#6E1614","#370B0A"],"one-group":["#1696d2","#000000"],"two-groups-cat-1":["#1696d2","#000000"],"two-groups-cat-2":["#1696d2","#fdbf11"],"two-groups-cat-3":["#1696d2","#db2b27"],"two-groups-seq":["#a2d4ec","#1696d2"],"three-groups-cat":["#1696d2","#fdbf11","#000000"],"three-groups-seq":["#a2d4ec","#1696d2","#0a4c6a"],"four-groups-cat-1":["#000000","#d2d2d2","#fdbf11","#1696d2"],"four-groups-cat-2":["#1696d2","#ec0008b","#fdbf11","#5c5859"],"four-groups-seq":["#cfe8f3","#73bf42","#1696d2","#0a4c6a"],"five-groups-cat-1":["#1696d2","#fdbf11","#d2d2d2","#ec008b","#000000"],"five-groups-cat-2":["#1696d2","#0a4c6a","#d2d2d2","#fdbf11","#332d2f"],"five-groups-seq":["#cfe8f3","#73bf42","#1696d2","#0a4c6a","#000000"],"six-groups-cat-1":["#1696d2","#ec008b","#fdbf11","#000000","#d2d2d2","#55b748"],"six-groups-cat-2":["#1696d2","#d2d2d2","#ec008b","#fdbf11","#332d2f","#0a4c6a"],"six-groups-seq":["#cfe8f3","#a2d4ec","#73bfe2","#46abdb","#1696d2","#12719e"],"diverging-colors":["#ca5800","#fdbf11","#fdd870","#fff2cf","#cfe8f3","#73bfe2","#1696d2","#0a4c6a"]},EBe={background:bBe,title:{anchor:"start",fontSize:SBe,font:n2},axisX:{domain:!0,domainColor:nW,domainWidth:1,grid:!1,labelFontSize:12,labelFont:g3,labelAngle:0,tickColor:nW,tickSize:5,titleFontSize:12,titlePadding:10,titleFont:n2},axisY:{domain:!1,domainWidth:1,grid:!0,gridColor:wBe,gridWidth:1,labelFontSize:12,labelFont:g3,labelPadding:8,ticks:!1,titleFontSize:12,titlePadding:10,titleFont:n2,titleAngle:0,titleY:-10,titleX:18},legend:{labelFontSize:12,labelFont:g3,symbolSize:100,titleFontSize:12,titlePadding:10,titleFont:n2,orient:"right",offset:10},view:{stroke:"transparent"},range:{category:Ry["six-groups-cat-1"],diverging:Ry["diverging-colors"],heatmap:Ry["diverging-colors"],ordinal:Ry["six-groups-seq"],ramp:Ry["shades-blue"]},area:{fill:Ko},rect:{fill:Ko},line:{color:Ko,stroke:Ko,strokeWidth:5},trail:{color:Ko,stroke:Ko,strokeWidth:0,size:1},path:{stroke:Ko,strokeWidth:.5},point:{filled:!0},text:{font:xBe,color:Ko,fontSize:11,align:"center",fontWeight:400,size:11},style:{bar:{fill:Ko,stroke:null}},arc:{fill:Ko},shape:{stroke:Ko},symbol:{fill:Ko,size:30}},hd="#3366CC",rW="#ccc",r2="Arial, sans-serif",CBe={arc:{fill:hd},area:{fill:hd},path:{stroke:hd},rect:{fill:hd},shape:{stroke:hd},symbol:{stroke:hd},circle:{fill:hd},background:"#fff",padding:{top:10,right:10,bottom:10,left:10},style:{"guide-label":{font:r2,fontSize:12},"guide-title":{font:r2,fontSize:12},"group-title":{font:r2,fontSize:12}},title:{font:r2,fontSize:14,fontWeight:"bold",dy:-3,anchor:"start"},axis:{gridColor:rW,tickColor:rW,domain:!1,grid:!0},range:{category:["#4285F4","#DB4437","#F4B400","#0F9D58","#AB47BC","#00ACC1","#FF7043","#9E9D24","#5C6BC0","#F06292","#00796B","#C2185B"],heatmap:["#c6dafc","#5e97f6","#2a56c6"]}},zI=e=>e*(1/3+1),iW=zI(9),oW=zI(10),sW=zI(12),Py="Segoe UI",aW="wf_standard-font, helvetica, arial, sans-serif",lW="#252423",Oy="#605E5C",uW="transparent",kBe="#C8C6C4",zs="#118DFF",_Be="#12239E",$Be="#E66C37",ABe="#6B007B",TBe="#E044A7",FBe="#744EC2",RBe="#D9B300",PBe="#D64550",qae=zs,Gae="#DEEFFF",cW=[Gae,qae],OBe=[Gae,"#c7e4ff","#b0d9ff","#9aceff","#83c3ff","#6cb9ff","#55aeff","#3fa3ff","#2898ff",qae],DBe={view:{stroke:uW},background:uW,font:Py,header:{titleFont:aW,titleFontSize:sW,titleColor:lW,labelFont:Py,labelFontSize:oW,labelColor:Oy},axis:{ticks:!1,grid:!1,domain:!1,labelColor:Oy,labelFontSize:iW,titleFont:aW,titleColor:lW,titleFontSize:sW,titleFontWeight:"normal"},axisQuantitative:{tickCount:3,grid:!0,gridColor:kBe,gridDash:[1,5],labelFlush:!1},axisBand:{tickExtra:!0},axisX:{labelPadding:5},axisY:{labelPadding:10},bar:{fill:zs},line:{stroke:zs,strokeWidth:3,strokeCap:"round",strokeJoin:"round"},text:{font:Py,fontSize:iW,fill:Oy},arc:{fill:zs},area:{fill:zs,line:!0,opacity:.6},path:{stroke:zs},rect:{fill:zs},point:{fill:zs,filled:!0,size:75},shape:{stroke:zs},symbol:{fill:zs,strokeWidth:1.5,size:50},legend:{titleFont:Py,titleFontWeight:"bold",titleColor:Oy,labelFont:Py,labelFontSize:oW,labelColor:Oy,symbolType:"circle",symbolSize:75},range:{category:[zs,_Be,$Be,ABe,TBe,FBe,RBe,PBe],diverging:cW,heatmap:cW,ordinal:OBe}},m3='IBM Plex Sans,system-ui,-apple-system,BlinkMacSystemFont,".sfnstext-regular",sans-serif',MBe='IBM Plex Sans Condensed, system-ui, -apple-system, BlinkMacSystemFont, ".SFNSText-Regular", sans-serif',y3=400,i2={textPrimary:{g90:"#f4f4f4",g100:"#f4f4f4",white:"#161616",g10:"#161616"},textSecondary:{g90:"#c6c6c6",g100:"#c6c6c6",white:"#525252",g10:"#525252"},layerAccent01:{white:"#e0e0e0",g10:"#e0e0e0",g90:"#525252",g100:"#393939"},gridBg:{white:"#ffffff",g10:"#ffffff",g90:"#161616",g100:"#161616"}},NBe=["#8a3ffc","#33b1ff","#007d79","#ff7eb6","#fa4d56","#fff1f1","#6fdc8c","#4589ff","#d12771","#d2a106","#08bdba","#bae6ff","#ba4e00","#d4bbff"],LBe=["#6929c4","#1192e8","#005d5d","#9f1853","#fa4d56","#570408","#198038","#002d9c","#ee538b","#b28600","#009d9a","#012749","#8a3800","#a56eff"];function M$({theme:e,background:t}){const n=["white","g10"].includes(e)?"light":"dark",r=i2.gridBg[e],i=i2.textPrimary[e],o=i2.textSecondary[e],s=n==="dark"?NBe:LBe,a=n==="dark"?"#d4bbff":"#6929c4";return{background:t,arc:{fill:a},area:{fill:a},path:{stroke:a},rect:{fill:a},shape:{stroke:a},symbol:{stroke:a},circle:{fill:a},view:{fill:r,stroke:r},group:{fill:r},title:{color:i,anchor:"start",dy:-15,fontSize:16,font:m3,fontWeight:600},axis:{labelColor:o,labelFontSize:12,labelFont:MBe,labelFontWeight:y3,titleColor:i,titleFontWeight:600,titleFontSize:12,grid:!0,gridColor:i2.layerAccent01[e],labelAngle:0},axisX:{titlePadding:10},axisY:{titlePadding:2.5},style:{"guide-label":{font:m3,fill:o,fontWeight:y3},"guide-title":{font:m3,fill:o,fontWeight:y3}},range:{category:s,diverging:["#750e13","#a2191f","#da1e28","#fa4d56","#ff8389","#ffb3b8","#ffd7d9","#fff1f1","#e5f6ff","#bae6ff","#82cfff","#33b1ff","#1192e8","#0072c3","#00539a","#003a6d"],heatmap:["#f6f2ff","#e8daff","#d4bbff","#be95ff","#a56eff","#8a3ffc","#6929c4","#491d8b","#31135e","#1c0f30"]}}}const IBe=M$({theme:"white",background:"#ffffff"}),zBe=M$({theme:"g10",background:"#f4f4f4"}),jBe=M$({theme:"g90",background:"#262626"}),BBe=M$({theme:"g100",background:"#161616"}),UBe=sBe.version,VBe=Object.freeze(Object.defineProperty({__proto__:null,carbong10:zBe,carbong100:BBe,carbong90:jBe,carbonwhite:IBe,dark:aBe,excel:lBe,fivethirtyeight:fBe,ggplot2:dBe,googlecharts:CBe,latimes:mBe,powerbi:DBe,quartz:yBe,urbaninstitute:EBe,version:UBe,vox:vBe},Symbol.toStringTag,{value:"Module"}));function WBe(e,t,n,r){if(te(e))return`[${e.map(i=>t(we(i)?i:fW(i,n))).join(", ")}]`;if(ve(e)){let i="";const{title:o,image:s,...a}=e;o&&(i+=`<h2>${t(o)}</h2>`),s&&(i+=`<img src="${new URL(t(s),r||location.href).href}">`);const l=Object.keys(a);if(l.length>0){i+="<table>";for(const u of l){let c=a[u];c!==void 0&&(ve(c)&&(c=fW(c,n)),i+=`<tr><td class="key">${t(u)}</td><td class="value">${t(c)}</td></tr>`)}i+="</table>"}return i||"{}"}return t(e)}function HBe(e){const t=[];return function(n,r){if(typeof r!="object"||r===null)return r;const i=t.indexOf(this)+1;return t.length=i,t.length>e?"[Object]":t.indexOf(r)>=0?"[Circular]":(t.push(r),r)}}function fW(e,t){return JSON.stringify(e,HBe(t))}var qBe=`#vg-tooltip-element {
  visibility: hidden;
  padding: 8px;
  position: fixed;
  z-index: 1000;
  font-family: sans-serif;
  font-size: 11px;
  border-radius: 3px;
  box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
  /* The default theme is the light theme. */
  background-color: rgba(255, 255, 255, 0.95);
  border: 1px solid #d9d9d9;
  color: black;
}
#vg-tooltip-element.visible {
  visibility: visible;
}
#vg-tooltip-element h2 {
  margin-top: 0;
  margin-bottom: 10px;
  font-size: 13px;
}
#vg-tooltip-element table {
  border-spacing: 0;
}
#vg-tooltip-element table tr {
  border: none;
}
#vg-tooltip-element table tr td {
  overflow: hidden;
  text-overflow: ellipsis;
  padding-top: 2px;
  padding-bottom: 2px;
}
#vg-tooltip-element table tr td.key {
  color: #808080;
  max-width: 150px;
  text-align: right;
  padding-right: 4px;
}
#vg-tooltip-element table tr td.value {
  display: block;
  max-width: 300px;
  max-height: 7em;
  text-align: left;
}
#vg-tooltip-element.dark-theme {
  background-color: rgba(32, 32, 32, 0.9);
  border: 1px solid #f5f5f5;
  color: white;
}
#vg-tooltip-element.dark-theme td.key {
  color: #bfbfbf;
}
`;const Xae="vg-tooltip-element",GBe={offsetX:10,offsetY:10,id:Xae,styleId:"vega-tooltip-style",theme:"light",disableDefaultStyle:!1,sanitize:XBe,maxDepth:2,formatTooltip:WBe,baseURL:""};function XBe(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;")}function YBe(e){if(!/^[A-Za-z]+[-:.\w]*$/.test(e))throw new Error("Invalid HTML ID");return qBe.toString().replace(Xae,e)}function KBe(e,t,n,r){let i=e.clientX+n;i+t.width>window.innerWidth&&(i=+e.clientX-n-t.width);let o=e.clientY+r;return o+t.height>window.innerHeight&&(o=+e.clientY-r-t.height),{x:i,y:o}}class QBe{constructor(t){this.options={...GBe,...t};const n=this.options.id;if(this.el=null,this.call=this.tooltipHandler.bind(this),!this.options.disableDefaultStyle&&!document.getElementById(this.options.styleId)){const r=document.createElement("style");r.setAttribute("id",this.options.styleId),r.innerHTML=YBe(n);const i=document.head;i.childNodes.length>0?i.insertBefore(r,i.childNodes[0]):i.appendChild(r)}}tooltipHandler(t,n,r,i){if(this.el=document.getElementById(this.options.id),this.el||(this.el=document.createElement("div"),this.el.setAttribute("id",this.options.id),this.el.classList.add("vg-tooltip"),(document.fullscreenElement??document.body).appendChild(this.el)),i==null||i===""){this.el.classList.remove("visible",`${this.options.theme}-theme`);return}this.el.innerHTML=this.options.formatTooltip(i,this.options.sanitize,this.options.maxDepth,this.options.baseURL),this.el.classList.add("visible",`${this.options.theme}-theme`);const{x:o,y:s}=KBe(n,this.el.getBoundingClientRect(),this.options.offsetX,this.options.offsetY);this.el.style.top=`${s}px`,this.el.style.left=`${o}px`}}var v3={};function JBe(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}class ZBe{constructor(){this.max=1e3,this.map=new Map}get(t){const n=this.map.get(t);if(n!==void 0)return this.map.delete(t),this.map.set(t,n),n}delete(t){return this.map.delete(t)}set(t,n){if(!this.delete(t)&&n!==void 0){if(this.map.size>=this.max){const i=this.map.keys().next().value;this.delete(i)}this.map.set(t,n)}return this}}var eUe=ZBe;const tUe=Object.freeze({loose:!0}),nUe=Object.freeze({}),rUe=e=>e?typeof e!="object"?tUe:e:nUe;var jI=rUe,sP={exports:{}};const iUe="2.0.0",Yae=256,oUe=Number.MAX_SAFE_INTEGER||9007199254740991,sUe=16,aUe=Yae-6,lUe=["major","premajor","minor","preminor","patch","prepatch","prerelease"];var BI={MAX_LENGTH:Yae,MAX_SAFE_COMPONENT_LENGTH:sUe,MAX_SAFE_BUILD_LENGTH:aUe,MAX_SAFE_INTEGER:oUe,RELEASE_TYPES:lUe,SEMVER_SPEC_VERSION:iUe,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2};const uUe=typeof process=="object"&&v3&&v3.NODE_DEBUG&&/\bsemver\b/i.test(v3.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};var N$=uUe;(function(e,t){const{MAX_SAFE_COMPONENT_LENGTH:n,MAX_SAFE_BUILD_LENGTH:r,MAX_LENGTH:i}=BI,o=N$;t=e.exports={};const s=t.re=[],a=t.safeRe=[],l=t.src=[],u=t.t={};let c=0;const f="[a-zA-Z0-9-]",d=[["\\s",1],["\\d",i],[f,r]],h=g=>{for(const[m,y]of d)g=g.split(`${m}*`).join(`${m}{0,${y}}`).split(`${m}+`).join(`${m}{1,${y}}`);return g},p=(g,m,y)=>{const v=h(m),b=c++;o(g,b,m),u[g]=b,l[b]=m,s[b]=new RegExp(m,y?"g":void 0),a[b]=new RegExp(v,y?"g":void 0)};p("NUMERICIDENTIFIER","0|[1-9]\\d*"),p("NUMERICIDENTIFIERLOOSE","\\d+"),p("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${f}*`),p("MAINVERSION",`(${l[u.NUMERICIDENTIFIER]})\\.(${l[u.NUMERICIDENTIFIER]})\\.(${l[u.NUMERICIDENTIFIER]})`),p("MAINVERSIONLOOSE",`(${l[u.NUMERICIDENTIFIERLOOSE]})\\.(${l[u.NUMERICIDENTIFIERLOOSE]})\\.(${l[u.NUMERICIDENTIFIERLOOSE]})`),p("PRERELEASEIDENTIFIER",`(?:${l[u.NUMERICIDENTIFIER]}|${l[u.NONNUMERICIDENTIFIER]})`),p("PRERELEASEIDENTIFIERLOOSE",`(?:${l[u.NUMERICIDENTIFIERLOOSE]}|${l[u.NONNUMERICIDENTIFIER]})`),p("PRERELEASE",`(?:-(${l[u.PRERELEASEIDENTIFIER]}(?:\\.${l[u.PRERELEASEIDENTIFIER]})*))`),p("PRERELEASELOOSE",`(?:-?(${l[u.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${l[u.PRERELEASEIDENTIFIERLOOSE]})*))`),p("BUILDIDENTIFIER",`${f}+`),p("BUILD",`(?:\\+(${l[u.BUILDIDENTIFIER]}(?:\\.${l[u.BUILDIDENTIFIER]})*))`),p("FULLPLAIN",`v?${l[u.MAINVERSION]}${l[u.PRERELEASE]}?${l[u.BUILD]}?`),p("FULL",`^${l[u.FULLPLAIN]}$`),p("LOOSEPLAIN",`[v=\\s]*${l[u.MAINVERSIONLOOSE]}${l[u.PRERELEASELOOSE]}?${l[u.BUILD]}?`),p("LOOSE",`^${l[u.LOOSEPLAIN]}$`),p("GTLT","((?:<|>)?=?)"),p("XRANGEIDENTIFIERLOOSE",`${l[u.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),p("XRANGEIDENTIFIER",`${l[u.NUMERICIDENTIFIER]}|x|X|\\*`),p("XRANGEPLAIN",`[v=\\s]*(${l[u.XRANGEIDENTIFIER]})(?:\\.(${l[u.XRANGEIDENTIFIER]})(?:\\.(${l[u.XRANGEIDENTIFIER]})(?:${l[u.PRERELEASE]})?${l[u.BUILD]}?)?)?`),p("XRANGEPLAINLOOSE",`[v=\\s]*(${l[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[u.XRANGEIDENTIFIERLOOSE]})(?:${l[u.PRERELEASELOOSE]})?${l[u.BUILD]}?)?)?`),p("XRANGE",`^${l[u.GTLT]}\\s*${l[u.XRANGEPLAIN]}$`),p("XRANGELOOSE",`^${l[u.GTLT]}\\s*${l[u.XRANGEPLAINLOOSE]}$`),p("COERCEPLAIN",`(^|[^\\d])(\\d{1,${n}})(?:\\.(\\d{1,${n}}))?(?:\\.(\\d{1,${n}}))?`),p("COERCE",`${l[u.COERCEPLAIN]}(?:$|[^\\d])`),p("COERCEFULL",l[u.COERCEPLAIN]+`(?:${l[u.PRERELEASE]})?(?:${l[u.BUILD]})?(?:$|[^\\d])`),p("COERCERTL",l[u.COERCE],!0),p("COERCERTLFULL",l[u.COERCEFULL],!0),p("LONETILDE","(?:~>?)"),p("TILDETRIM",`(\\s*)${l[u.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",p("TILDE",`^${l[u.LONETILDE]}${l[u.XRANGEPLAIN]}$`),p("TILDELOOSE",`^${l[u.LONETILDE]}${l[u.XRANGEPLAINLOOSE]}$`),p("LONECARET","(?:\\^)"),p("CARETTRIM",`(\\s*)${l[u.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",p("CARET",`^${l[u.LONECARET]}${l[u.XRANGEPLAIN]}$`),p("CARETLOOSE",`^${l[u.LONECARET]}${l[u.XRANGEPLAINLOOSE]}$`),p("COMPARATORLOOSE",`^${l[u.GTLT]}\\s*(${l[u.LOOSEPLAIN]})$|^$`),p("COMPARATOR",`^${l[u.GTLT]}\\s*(${l[u.FULLPLAIN]})$|^$`),p("COMPARATORTRIM",`(\\s*)${l[u.GTLT]}\\s*(${l[u.LOOSEPLAIN]}|${l[u.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",p("HYPHENRANGE",`^\\s*(${l[u.XRANGEPLAIN]})\\s+-\\s+(${l[u.XRANGEPLAIN]})\\s*$`),p("HYPHENRANGELOOSE",`^\\s*(${l[u.XRANGEPLAINLOOSE]})\\s+-\\s+(${l[u.XRANGEPLAINLOOSE]})\\s*$`),p("STAR","(<|>)?=?\\s*\\*"),p("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),p("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(sP,sP.exports);var UI=sP.exports;const dW=/^[0-9]+$/,Kae=(e,t)=>{const n=dW.test(e),r=dW.test(t);return n&&r&&(e=+e,t=+t),e===t?0:n&&!r?-1:r&&!n?1:e<t?-1:1},cUe=(e,t)=>Kae(t,e);var fUe={compareIdentifiers:Kae,rcompareIdentifiers:cUe};const o2=N$,{MAX_LENGTH:hW,MAX_SAFE_INTEGER:s2}=BI,{safeRe:pW,t:gW}=UI,dUe=jI,{compareIdentifiers:Vp}=fUe;let hUe=class Ma{constructor(t,n){if(n=dUe(n),t instanceof Ma){if(t.loose===!!n.loose&&t.includePrerelease===!!n.includePrerelease)return t;t=t.version}else if(typeof t!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof t}".`);if(t.length>hW)throw new TypeError(`version is longer than ${hW} characters`);o2("SemVer",t,n),this.options=n,this.loose=!!n.loose,this.includePrerelease=!!n.includePrerelease;const r=t.trim().match(n.loose?pW[gW.LOOSE]:pW[gW.FULL]);if(!r)throw new TypeError(`Invalid Version: ${t}`);if(this.raw=t,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>s2||this.major<0)throw new TypeError("Invalid major version");if(this.minor>s2||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>s2||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){const o=+i;if(o>=0&&o<s2)return o}return i}):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(t){if(o2("SemVer.compare",this.version,this.options,t),!(t instanceof Ma)){if(typeof t=="string"&&t===this.version)return 0;t=new Ma(t,this.options)}return t.version===this.version?0:this.compareMain(t)||this.comparePre(t)}compareMain(t){return t instanceof Ma||(t=new Ma(t,this.options)),Vp(this.major,t.major)||Vp(this.minor,t.minor)||Vp(this.patch,t.patch)}comparePre(t){if(t instanceof Ma||(t=new Ma(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;let n=0;do{const r=this.prerelease[n],i=t.prerelease[n];if(o2("prerelease compare",n,r,i),r===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(r===void 0)return-1;if(r===i)continue;return Vp(r,i)}while(++n)}compareBuild(t){t instanceof Ma||(t=new Ma(t,this.options));let n=0;do{const r=this.build[n],i=t.build[n];if(o2("build compare",n,r,i),r===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(r===void 0)return-1;if(r===i)continue;return Vp(r,i)}while(++n)}inc(t,n,r){switch(t){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",n,r);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",n,r);break;case"prepatch":this.prerelease.length=0,this.inc("patch",n,r),this.inc("pre",n,r);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",n,r),this.inc("pre",n,r);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const i=Number(r)?1:0;if(!n&&r===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[i];else{let o=this.prerelease.length;for(;--o>=0;)typeof this.prerelease[o]=="number"&&(this.prerelease[o]++,o=-2);if(o===-1){if(n===this.prerelease.join(".")&&r===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(i)}}if(n){let o=[n,i];r===!1&&(o=[n]),Vp(this.prerelease[0],n)===0?isNaN(this.prerelease[1])&&(this.prerelease=o):this.prerelease=o}break}default:throw new Error(`invalid increment argument: ${t}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};var VI=hUe;const mW=VI,pUe=(e,t,n)=>new mW(e,n).compare(new mW(t,n));var B0=pUe;const gUe=B0,mUe=(e,t,n)=>gUe(e,t,n)===0;var yUe=mUe;const vUe=B0,bUe=(e,t,n)=>vUe(e,t,n)!==0;var xUe=bUe;const wUe=B0,SUe=(e,t,n)=>wUe(e,t,n)>0;var EUe=SUe;const CUe=B0,kUe=(e,t,n)=>CUe(e,t,n)>=0;var _Ue=kUe;const $Ue=B0,AUe=(e,t,n)=>$Ue(e,t,n)<0;var TUe=AUe;const FUe=B0,RUe=(e,t,n)=>FUe(e,t,n)<=0;var PUe=RUe;const OUe=yUe,DUe=xUe,MUe=EUe,NUe=_Ue,LUe=TUe,IUe=PUe,zUe=(e,t,n,r)=>{switch(t){case"===":return typeof e=="object"&&(e=e.version),typeof n=="object"&&(n=n.version),e===n;case"!==":return typeof e=="object"&&(e=e.version),typeof n=="object"&&(n=n.version),e!==n;case"":case"=":case"==":return OUe(e,n,r);case"!=":return DUe(e,n,r);case">":return MUe(e,n,r);case">=":return NUe(e,n,r);case"<":return LUe(e,n,r);case"<=":return IUe(e,n,r);default:throw new TypeError(`Invalid operator: ${t}`)}};var jUe=zUe,b3,yW;function BUe(){if(yW)return b3;yW=1;const e=Symbol("SemVer ANY");class t{static get ANY(){return e}constructor(c,f){if(f=n(f),c instanceof t){if(c.loose===!!f.loose)return c;c=c.value}c=c.trim().split(/\s+/).join(" "),s("comparator",c,f),this.options=f,this.loose=!!f.loose,this.parse(c),this.semver===e?this.value="":this.value=this.operator+this.semver.version,s("comp",this)}parse(c){const f=this.options.loose?r[i.COMPARATORLOOSE]:r[i.COMPARATOR],d=c.match(f);if(!d)throw new TypeError(`Invalid comparator: ${c}`);this.operator=d[1]!==void 0?d[1]:"",this.operator==="="&&(this.operator=""),d[2]?this.semver=new a(d[2],this.options.loose):this.semver=e}toString(){return this.value}test(c){if(s("Comparator.test",c,this.options.loose),this.semver===e||c===e)return!0;if(typeof c=="string")try{c=new a(c,this.options)}catch{return!1}return o(c,this.operator,this.semver,this.options)}intersects(c,f){if(!(c instanceof t))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new l(c.value,f).test(this.value):c.operator===""?c.value===""?!0:new l(this.value,f).test(c.semver):(f=n(f),f.includePrerelease&&(this.value==="<0.0.0-0"||c.value==="<0.0.0-0")||!f.includePrerelease&&(this.value.startsWith("<0.0.0")||c.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&c.operator.startsWith(">")||this.operator.startsWith("<")&&c.operator.startsWith("<")||this.semver.version===c.semver.version&&this.operator.includes("=")&&c.operator.includes("=")||o(this.semver,"<",c.semver,f)&&this.operator.startsWith(">")&&c.operator.startsWith("<")||o(this.semver,">",c.semver,f)&&this.operator.startsWith("<")&&c.operator.startsWith(">")))}}b3=t;const n=jI,{safeRe:r,t:i}=UI,o=jUe,s=N$,a=VI,l=Qae();return b3}var x3,vW;function Qae(){if(vW)return x3;vW=1;class e{constructor(L,A){if(A=r(A),L instanceof e)return L.loose===!!A.loose&&L.includePrerelease===!!A.includePrerelease?L:new e(L.raw,A);if(L instanceof i)return this.raw=L.value,this.set=[[L]],this.format(),this;if(this.options=A,this.loose=!!A.loose,this.includePrerelease=!!A.includePrerelease,this.raw=L.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map(P=>this.parseRange(P.trim())).filter(P=>P.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const P=this.set[0];if(this.set=this.set.filter(j=>!p(j[0])),this.set.length===0)this.set=[P];else if(this.set.length>1){for(const j of this.set)if(j.length===1&&g(j[0])){this.set=[j];break}}}this.format()}format(){return this.range=this.set.map(L=>L.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(L){const P=((this.options.includePrerelease&&d)|(this.options.loose&&h))+":"+L,j=n.get(P);if(j)return j;const z=this.options.loose,U=z?a[l.HYPHENRANGELOOSE]:a[l.HYPHENRANGE];L=L.replace(U,O(this.options.includePrerelease)),o("hyphen replace",L),L=L.replace(a[l.COMPARATORTRIM],u),o("comparator trim",L),L=L.replace(a[l.TILDETRIM],c),o("tilde trim",L),L=L.replace(a[l.CARETTRIM],f),o("caret trim",L);let X=L.split(" ").map(_e=>y(_e,this.options)).join(" ").split(/\s+/).map(_e=>R(_e,this.options));z&&(X=X.filter(_e=>(o("loose invalid filter",_e,this.options),!!_e.match(a[l.COMPARATORLOOSE])))),o("range list",X);const K=new Map,pe=X.map(_e=>new i(_e,this.options));for(const _e of pe){if(p(_e))return[_e];K.set(_e.value,_e)}K.size>1&&K.has("")&&K.delete("");const oe=[...K.values()];return n.set(P,oe),oe}intersects(L,A){if(!(L instanceof e))throw new TypeError("a Range is required");return this.set.some(P=>m(P,A)&&L.set.some(j=>m(j,A)&&P.every(z=>j.every(U=>z.intersects(U,A)))))}test(L){if(!L)return!1;if(typeof L=="string")try{L=new s(L,this.options)}catch{return!1}for(let A=0;A<this.set.length;A++)if(B(this.set[A],L,this.options))return!0;return!1}}x3=e;const t=eUe,n=new t,r=jI,i=BUe(),o=N$,s=VI,{safeRe:a,t:l,comparatorTrimReplace:u,tildeTrimReplace:c,caretTrimReplace:f}=UI,{FLAG_INCLUDE_PRERELEASE:d,FLAG_LOOSE:h}=BI,p=D=>D.value==="<0.0.0-0",g=D=>D.value==="",m=(D,L)=>{let A=!0;const P=D.slice();let j=P.pop();for(;A&&P.length;)A=P.every(z=>j.intersects(z,L)),j=P.pop();return A},y=(D,L)=>(o("comp",D,L),D=w(D,L),o("caret",D),D=b(D,L),o("tildes",D),D=S(D,L),o("xrange",D),D=$(D,L),o("stars",D),D),v=D=>!D||D.toLowerCase()==="x"||D==="*",b=(D,L)=>D.trim().split(/\s+/).map(A=>x(A,L)).join(" "),x=(D,L)=>{const A=L.loose?a[l.TILDELOOSE]:a[l.TILDE];return D.replace(A,(P,j,z,U,X)=>{o("tilde",D,P,j,z,U,X);let K;return v(j)?K="":v(z)?K=`>=${j}.0.0 <${+j+1}.0.0-0`:v(U)?K=`>=${j}.${z}.0 <${j}.${+z+1}.0-0`:X?(o("replaceTilde pr",X),K=`>=${j}.${z}.${U}-${X} <${j}.${+z+1}.0-0`):K=`>=${j}.${z}.${U} <${j}.${+z+1}.0-0`,o("tilde return",K),K})},w=(D,L)=>D.trim().split(/\s+/).map(A=>C(A,L)).join(" "),C=(D,L)=>{o("caret",D,L);const A=L.loose?a[l.CARETLOOSE]:a[l.CARET],P=L.includePrerelease?"-0":"";return D.replace(A,(j,z,U,X,K)=>{o("caret",D,j,z,U,X,K);let pe;return v(z)?pe="":v(U)?pe=`>=${z}.0.0${P} <${+z+1}.0.0-0`:v(X)?z==="0"?pe=`>=${z}.${U}.0${P} <${z}.${+U+1}.0-0`:pe=`>=${z}.${U}.0${P} <${+z+1}.0.0-0`:K?(o("replaceCaret pr",K),z==="0"?U==="0"?pe=`>=${z}.${U}.${X}-${K} <${z}.${U}.${+X+1}-0`:pe=`>=${z}.${U}.${X}-${K} <${z}.${+U+1}.0-0`:pe=`>=${z}.${U}.${X}-${K} <${+z+1}.0.0-0`):(o("no pr"),z==="0"?U==="0"?pe=`>=${z}.${U}.${X}${P} <${z}.${U}.${+X+1}-0`:pe=`>=${z}.${U}.${X}${P} <${z}.${+U+1}.0-0`:pe=`>=${z}.${U}.${X} <${+z+1}.0.0-0`),o("caret return",pe),pe})},S=(D,L)=>(o("replaceXRanges",D,L),D.split(/\s+/).map(A=>k(A,L)).join(" ")),k=(D,L)=>{D=D.trim();const A=L.loose?a[l.XRANGELOOSE]:a[l.XRANGE];return D.replace(A,(P,j,z,U,X,K)=>{o("xRange",D,P,j,z,U,X,K);const pe=v(z),oe=pe||v(U),_e=oe||v(X),Qe=_e;return j==="="&&Qe&&(j=""),K=L.includePrerelease?"-0":"",pe?j===">"||j==="<"?P="<0.0.0-0":P="*":j&&Qe?(oe&&(U=0),X=0,j===">"?(j=">=",oe?(z=+z+1,U=0,X=0):(U=+U+1,X=0)):j==="<="&&(j="<",oe?z=+z+1:U=+U+1),j==="<"&&(K="-0"),P=`${j+z}.${U}.${X}${K}`):oe?P=`>=${z}.0.0${K} <${+z+1}.0.0-0`:_e&&(P=`>=${z}.${U}.0${K} <${z}.${+U+1}.0-0`),o("xRange return",P),P})},$=(D,L)=>(o("replaceStars",D,L),D.trim().replace(a[l.STAR],"")),R=(D,L)=>(o("replaceGTE0",D,L),D.trim().replace(a[L.includePrerelease?l.GTE0PRE:l.GTE0],"")),O=D=>(L,A,P,j,z,U,X,K,pe,oe,_e,Qe)=>(v(P)?A="":v(j)?A=`>=${P}.0.0${D?"-0":""}`:v(z)?A=`>=${P}.${j}.0${D?"-0":""}`:U?A=`>=${A}`:A=`>=${A}${D?"-0":""}`,v(pe)?K="":v(oe)?K=`<${+pe+1}.0.0-0`:v(_e)?K=`<${pe}.${+oe+1}.0-0`:Qe?K=`<=${pe}.${oe}.${_e}-${Qe}`:D?K=`<${pe}.${oe}.${+_e+1}-0`:K=`<=${K}`,`${A} ${K}`.trim()),B=(D,L,A)=>{for(let P=0;P<D.length;P++)if(!D[P].test(L))return!1;if(L.prerelease.length&&!A.includePrerelease){for(let P=0;P<D.length;P++)if(o(D[P].semver),D[P].semver!==i.ANY&&D[P].semver.prerelease.length>0){const j=D[P].semver;if(j.major===L.major&&j.minor===L.minor&&j.patch===L.patch)return!0}return!1}return!0};return x3}const UUe=Qae(),VUe=(e,t,n)=>{try{t=new UUe(t,n)}catch{return!1}return t.test(e)};var WUe=VUe,Jae=JBe(WUe);function HUe(e,t,n){const r=e.open(t),i=1e4,o=250,{origin:s}=new URL(t);let a=~~(i/o);function l(c){c.source===r&&(a=0,e.removeEventListener("message",l,!1))}e.addEventListener("message",l,!1);function u(){a<=0||(r.postMessage(n,s),setTimeout(u,o),a-=1)}setTimeout(u,o)}var qUe=`.vega-embed {
  position: relative;
  display: inline-block;
  box-sizing: border-box;
}
.vega-embed.has-actions {
  padding-right: 38px;
}
.vega-embed details:not([open]) > :not(summary) {
  display: none !important;
}
.vega-embed summary {
  list-style: none;
  position: absolute;
  top: 0;
  right: 0;
  padding: 6px;
  z-index: 1000;
  background: white;
  box-shadow: 1px 1px 3px rgba(0, 0, 0, 0.1);
  color: #1b1e23;
  border: 1px solid #aaa;
  border-radius: 999px;
  opacity: 0.2;
  transition: opacity 0.4s ease-in;
  cursor: pointer;
  line-height: 0px;
}
.vega-embed summary::-webkit-details-marker {
  display: none;
}
.vega-embed summary:active {
  box-shadow: #aaa 0px 0px 0px 1px inset;
}
.vega-embed summary svg {
  width: 14px;
  height: 14px;
}
.vega-embed details[open] summary {
  opacity: 0.7;
}
.vega-embed:hover summary, .vega-embed:focus-within summary {
  opacity: 1 !important;
  transition: opacity 0.2s ease;
}
.vega-embed .vega-actions {
  position: absolute;
  z-index: 1001;
  top: 35px;
  right: -9px;
  display: flex;
  flex-direction: column;
  padding-bottom: 8px;
  padding-top: 8px;
  border-radius: 4px;
  box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.2);
  border: 1px solid #d9d9d9;
  background: white;
  animation-duration: 0.15s;
  animation-name: scale-in;
  animation-timing-function: cubic-bezier(0.2, 0, 0.13, 1.5);
  text-align: left;
}
.vega-embed .vega-actions a {
  padding: 8px 16px;
  font-family: sans-serif;
  font-size: 14px;
  font-weight: 600;
  white-space: nowrap;
  color: #434a56;
  text-decoration: none;
}
.vega-embed .vega-actions a:hover, .vega-embed .vega-actions a:focus {
  background-color: #f7f7f9;
  color: black;
}
.vega-embed .vega-actions::before, .vega-embed .vega-actions::after {
  content: "";
  display: inline-block;
  position: absolute;
}
.vega-embed .vega-actions::before {
  left: auto;
  right: 14px;
  top: -16px;
  border: 8px solid rgba(0, 0, 0, 0);
  border-bottom-color: #d9d9d9;
}
.vega-embed .vega-actions::after {
  left: auto;
  right: 15px;
  top: -14px;
  border: 7px solid rgba(0, 0, 0, 0);
  border-bottom-color: #fff;
}
.vega-embed .chart-wrapper.fit-x {
  width: 100%;
}
.vega-embed .chart-wrapper.fit-y {
  height: 100%;
}

.vega-embed-wrapper {
  max-width: 100%;
  overflow: auto;
  padding-right: 14px;
}

@keyframes scale-in {
  from {
    opacity: 0;
    transform: scale(0.6);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}
`;function Zae(e,...t){for(const n of t)GUe(e,n);return e}function GUe(e,t){for(const n of Object.keys(t))b0(e,n,t[n],!0)}const Ia=Eie;let Yv=Wae;const a2=typeof window<"u"?window:void 0;var JX;Yv===void 0&&((JX=a2==null?void 0:a2.vl)!=null&&JX.compile)&&(Yv=a2.vl);const XUe={export:{svg:!0,png:!0},source:!0,compiled:!0,editor:!0},YUe={CLICK_TO_VIEW_ACTIONS:"Click to view actions",COMPILED_ACTION:"View Compiled Vega",EDITOR_ACTION:"Open in Vega Editor",PNG_ACTION:"Save as PNG",SOURCE_ACTION:"View Source",SVG_ACTION:"Save as SVG"},E1={vega:"Vega","vega-lite":"Vega-Lite"},RC={vega:Ia.version,"vega-lite":Yv?Yv.version:"not available"},KUe={vega:e=>e,"vega-lite":(e,t)=>Yv.compile(e,{config:t}).spec},QUe=`
<svg viewBox="0 0 16 16" fill="currentColor" stroke="none" stroke-width="1" stroke-linecap="round" stroke-linejoin="round">
  <circle r="2" cy="8" cx="2"></circle>
  <circle r="2" cy="8" cx="8"></circle>
  <circle r="2" cy="8" cx="14"></circle>
</svg>`,JUe="chart-wrapper";function ZUe(e){return typeof e=="function"}function bW(e,t,n,r){const i=`<html><head>${t}</head><body><pre><code class="json">`,o=`</code></pre>${n}</body></html>`,s=window.open("");s.document.write(i+e+o),s.document.title=`${E1[r]} JSON Source`}function eVe(e,t){if(e.$schema){const n=Hae(e.$schema);t&&t!==n.library&&console.warn(`The given visualization spec is written in ${E1[n.library]}, but mode argument sets ${E1[t]??t}.`);const r=n.library;return Jae(RC[r],`^${n.version.slice(1)}`)||console.warn(`The input spec uses ${E1[r]} ${n.version}, but the current version of ${E1[r]} is v${RC[r]}.`),r}return"mark"in e||"encoding"in e||"layer"in e||"hconcat"in e||"vconcat"in e||"facet"in e||"repeat"in e?"vega-lite":"marks"in e||"signals"in e||"scales"in e||"axes"in e?"vega":t??"vega"}function ele(e){return!!(e&&"load"in e)}function xW(e){return ele(e)?e:Ia.loader(e)}function tVe(e){var n;const t=((n=e.usermeta)==null?void 0:n.embedOptions)??{};return we(t.defaultStyle)&&(t.defaultStyle=!1),t}async function nVe(e,t,n={}){let r,i;we(t)?(i=xW(n.loader),r=JSON.parse(await i.load(t))):r=t;const o=tVe(r),s=o.loader;(!i||s)&&(i=xW(n.loader??s));const a=await wW(o,i),l=await wW(n,i),u={...Zae(l,a),config:v0(l.config??{},a.config??{})};return await iVe(e,r,u,i)}async function wW(e,t){const n=we(e.config)?JSON.parse(await t.load(e.config)):e.config??{},r=we(e.patch)?JSON.parse(await t.load(e.patch)):e.patch;return{...e,...r?{patch:r}:{},...n?{config:n}:{}}}function rVe(e){const t=e.getRootNode?e.getRootNode():document;return t instanceof ShadowRoot?{root:t,rootContainer:t}:{root:document,rootContainer:document.head??document.body}}async function iVe(e,t,n={},r){const i=n.theme?v0(VBe[n.theme],n.config??{}):n.config,o=Ff(n.actions)?n.actions:Zae({},XUe,n.actions??{}),s={...YUe,...n.i18n},a=n.renderer??"canvas",l=n.logLevel??Ia.Warn,u=n.downloadFileName??"visualization",c=typeof e=="string"?document.querySelector(e):e;if(!c)throw new Error(`${e} does not exist`);if(n.defaultStyle!==!1){const w="vega-embed-style",{root:C,rootContainer:S}=rVe(c);if(!C.getElementById(w)){const k=document.createElement("style");k.id=w,k.innerHTML=n.defaultStyle===void 0||n.defaultStyle===!0?qUe.toString():n.defaultStyle,S.appendChild(k)}}const f=eVe(t,n.mode);let d=KUe[f](t,i);if(f==="vega-lite"&&d.$schema){const w=Hae(d.$schema);Jae(RC.vega,`^${w.version.slice(1)}`)||console.warn(`The compiled spec uses Vega ${w.version}, but current version is v${RC.vega}.`)}c.classList.add("vega-embed"),o&&c.classList.add("has-actions"),c.innerHTML="";let h=c;if(o){const w=document.createElement("div");w.classList.add(JUe),c.appendChild(w),h=w}const p=n.patch;if(p&&(d=p instanceof Function?p(d):Mk(d,p,!0,!1).newDocument),n.formatLocale&&Ia.formatLocale(n.formatLocale),n.timeFormatLocale&&Ia.timeFormatLocale(n.timeFormatLocale),n.expressionFunctions)for(const w in n.expressionFunctions){const C=n.expressionFunctions[w];"fn"in C?Ia.expressionFunction(w,C.fn,C.visitor):C instanceof Function&&Ia.expressionFunction(w,C)}const{ast:g}=n,m=Ia.parse(d,f==="vega-lite"?{}:i,{ast:g}),y=new(n.viewClass||Ia.View)(m,{loader:r,logLevel:l,renderer:a,...g?{expr:Ia.expressionInterpreter??n.expr??XMe}:{}});if(y.addSignalListener("autosize",(w,C)=>{const{type:S}=C;S=="fit-x"?(h.classList.add("fit-x"),h.classList.remove("fit-y")):S=="fit-y"?(h.classList.remove("fit-x"),h.classList.add("fit-y")):S=="fit"?h.classList.add("fit-x","fit-y"):h.classList.remove("fit-x","fit-y")}),n.tooltip!==!1){const{loader:w,tooltip:C}=n,S=w&&!ele(w)?w==null?void 0:w.baseURL:void 0,k=ZUe(C)?C:new QBe({baseURL:S,...C===!0?{}:C}).call;y.tooltip(k)}let{hover:v}=n;if(v===void 0&&(v=f==="vega"),v){const{hoverSet:w,updateSet:C}=typeof v=="boolean"?{}:v;y.hover(w,C)}n&&(n.width!=null&&y.width(n.width),n.height!=null&&y.height(n.height),n.padding!=null&&y.padding(n.padding)),await y.initialize(h,n.bind).runAsync();let b;if(o!==!1){let w=c;if(n.defaultStyle!==!1||n.forceActionsMenu){const S=document.createElement("details");S.title=s.CLICK_TO_VIEW_ACTIONS,c.append(S),w=S;const k=document.createElement("summary");k.innerHTML=QUe,S.append(k),b=$=>{S.contains($.target)||S.removeAttribute("open")},document.addEventListener("click",b)}const C=document.createElement("div");if(w.append(C),C.classList.add("vega-actions"),o===!0||o.export!==!1){for(const S of["svg","png"])if(o===!0||o.export===!0||o.export[S]){const k=s[`${S.toUpperCase()}_ACTION`],$=document.createElement("a"),R=ve(n.scaleFactor)?n.scaleFactor[S]:n.scaleFactor;$.text=k,$.href="#",$.target="_blank",$.download=`${u}.${S}`,$.addEventListener("mousedown",async function(O){O.preventDefault();const B=await y.toImageURL(S,R);this.href=B}),C.append($)}}if(o===!0||o.source!==!1){const S=document.createElement("a");S.text=s.SOURCE_ACTION,S.href="#",S.addEventListener("click",function(k){bW(J5(t),n.sourceHeader??"",n.sourceFooter??"",f),k.preventDefault()}),C.append(S)}if(f==="vega-lite"&&(o===!0||o.compiled!==!1)){const S=document.createElement("a");S.text=s.COMPILED_ACTION,S.href="#",S.addEventListener("click",function(k){bW(J5(d),n.sourceHeader??"",n.sourceFooter??"","vega"),k.preventDefault()}),C.append(S)}if(o===!0||o.editor!==!1){const S=n.editorUrl??"https://vega.github.io/editor/",k=document.createElement("a");k.text=s.EDITOR_ACTION,k.href="#",k.addEventListener("click",function($){HUe(window,S,{config:i,mode:p?"vega":f,renderer:a,spec:J5(p?d:t)}),$.preventDefault()}),C.append(k)}}function x(){b&&document.removeEventListener("click",b),y.finalize()}return{view:y,spec:t,vgSpec:d,finalize:x,embedOptions:n}}function tle(e){return`thumbnail@${JSON.stringify(e)}`}async function oVe(e,t,n=100){const r=sVe(e);if(r)return r;const i=await aVe(e,t,n);return i&&sessionStorage.setItem(tle(e),i),i}function sVe(e){return sessionStorage.getItem(tle(e))}async function aVe(e,t,n=100){if(!("mark"in e)||!e||!t)return;const r={disable:!0,title:"",grid:!1,ticks:!1,labels:!1},i={...e,width:n,height:n,config:{...e.config,mark:{strokeWidth:e.mark==="line"?4:0},legend:{disable:!0},axis:{disable:!0},style:{view:{stroke:"transparent"},cell:{stroke:"transparent"}}},data:{values:t},background:"transparent",title:void 0,encoding:Object.fromEntries(Object.entries(e.encoding??{}).map(([s,a])=>[s,{...a,legend:null,axis:r}]))};return(await(await nVe(document.createElement("div"),i,{actions:!1}).then(s=>s.view)).toCanvas()).toDataURL()}function lVe(e){try{return new URL(e),!0}catch{return!1}}function nle(e){try{const n=new URL(e).pathname.split("/"),r=n[n.length-1];return decodeURIComponent(r)}catch{throw new Error("Invalid URL")}}const uVe={BASE_URL:"/Swipytics",DEV:!1,MODE:"production",PROD:!0,SSR:!1},SW=e=>{let t;const n=new Set,r=(c,f)=>{const d=typeof c=="function"?c(t):c;if(!Object.is(d,t)){const h=t;t=f??(typeof d!="object"||d===null)?d:Object.assign({},t,d),n.forEach(p=>p(t,h))}},i=()=>t,l={setState:r,getState:i,getInitialState:()=>u,subscribe:c=>(n.add(c),()=>n.delete(c)),destroy:()=>{(uVe?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},u=t=e(r,i,l);return l},cVe=e=>e?SW(e):SW;var rle={exports:{}},ile={},ole={exports:{}},sle={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ym=M;function fVe(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var dVe=typeof Object.is=="function"?Object.is:fVe,hVe=Ym.useState,pVe=Ym.useEffect,gVe=Ym.useLayoutEffect,mVe=Ym.useDebugValue;function yVe(e,t){var n=t(),r=hVe({inst:{value:n,getSnapshot:t}}),i=r[0].inst,o=r[1];return gVe(function(){i.value=n,i.getSnapshot=t,w3(i)&&o({inst:i})},[e,n,t]),pVe(function(){return w3(i)&&o({inst:i}),e(function(){w3(i)&&o({inst:i})})},[e]),mVe(n),n}function w3(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!dVe(e,n)}catch{return!0}}function vVe(e,t){return t()}var bVe=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?vVe:yVe;sle.useSyncExternalStore=Ym.useSyncExternalStore!==void 0?Ym.useSyncExternalStore:bVe;ole.exports=sle;var xVe=ole.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L$=M,wVe=xVe;function SVe(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var EVe=typeof Object.is=="function"?Object.is:SVe,CVe=wVe.useSyncExternalStore,kVe=L$.useRef,_Ve=L$.useEffect,$Ve=L$.useMemo,AVe=L$.useDebugValue;ile.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var o=kVe(null);if(o.current===null){var s={hasValue:!1,value:null};o.current=s}else s=o.current;o=$Ve(function(){function l(h){if(!u){if(u=!0,c=h,h=r(h),i!==void 0&&s.hasValue){var p=s.value;if(i(p,h))return f=p}return f=h}if(p=f,EVe(c,h))return p;var g=r(h);return i!==void 0&&i(p,g)?p:(c=h,f=g)}var u=!1,c,f,d=n===void 0?null:n;return[function(){return l(t())},d===null?void 0:function(){return l(d())}]},[t,n,r,i]);var a=CVe(e,o[0],o[1]);return _Ve(function(){s.hasValue=!0,s.value=a},[a]),AVe(a),a};rle.exports=ile;var TVe=rle.exports;const FVe=Wh(TVe),ale={BASE_URL:"/Swipytics",DEV:!1,MODE:"production",PROD:!0,SSR:!1},{useDebugValue:RVe}=um,{useSyncExternalStoreWithSelector:PVe}=FVe;let EW=!1;const OVe=e=>e;function DVe(e,t=OVe,n){(ale?"production":void 0)!=="production"&&n&&!EW&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),EW=!0);const r=PVe(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return RVe(r),r}const CW=e=>{(ale?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?cVe(e):e,n=(r,i)=>DVe(t,r,i);return Object.assign(n,t),n},I$=e=>e?CW(e):CW,vS={BASE_URL:"/Swipytics",DEV:!1,MODE:"production",PROD:!0,SSR:!1},aP=new Map,l2=e=>{const t=aP.get(e);return t?Object.fromEntries(Object.entries(t.stores).map(([n,r])=>[n,r.getState()])):{}},MVe=(e,t,n)=>{if(e===void 0)return{type:"untracked",connection:t.connect(n)};const r=aP.get(n.name);if(r)return{type:"tracked",store:e,...r};const i={connection:t.connect(n),stores:{}};return aP.set(n.name,i),{type:"tracked",store:e,...i}},NVe=(e,t={})=>(n,r,i)=>{const{enabled:o,anonymousActionType:s,store:a,...l}=t;let u;try{u=(o??(vS?"production":void 0)!=="production")&&window.__REDUX_DEVTOOLS_EXTENSION__}catch{}if(!u)return(vS?"production":void 0)!=="production"&&o&&console.warn("[zustand devtools middleware] Please install/enable Redux devtools extension"),e(n,r,i);const{connection:c,...f}=MVe(a,u,l);let d=!0;i.setState=(g,m,y)=>{const v=n(g,m);if(!d)return v;const b=y===void 0?{type:s||"anonymous"}:typeof y=="string"?{type:y}:y;return a===void 0?(c==null||c.send(b,r()),v):(c==null||c.send({...b,type:`${a}/${b.type}`},{...l2(l.name),[a]:i.getState()}),v)};const h=(...g)=>{const m=d;d=!1,n(...g),d=m},p=e(i.setState,r,i);if(f.type==="untracked"?c==null||c.init(p):(f.stores[f.store]=i,c==null||c.init(Object.fromEntries(Object.entries(f.stores).map(([g,m])=>[g,g===f.store?p:m.getState()])))),i.dispatchFromDevtools&&typeof i.dispatch=="function"){let g=!1;const m=i.dispatch;i.dispatch=(...y)=>{(vS?"production":void 0)!=="production"&&y[0].type==="__setState"&&!g&&(console.warn('[zustand devtools middleware] "__setState" action type is reserved to set state from the devtools. Avoid using it.'),g=!0),m(...y)}}return c.subscribe(g=>{var m;switch(g.type){case"ACTION":if(typeof g.payload!="string"){console.error("[zustand devtools middleware] Unsupported action format");return}return S3(g.payload,y=>{if(y.type==="__setState"){if(a===void 0){h(y.state);return}Object.keys(y.state).length!==1&&console.error(`
                    [zustand devtools middleware] Unsupported __setState action format. 
                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),
                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }
                    `);const v=y.state[a];if(v==null)return;JSON.stringify(i.getState())!==JSON.stringify(v)&&h(v);return}i.dispatchFromDevtools&&typeof i.dispatch=="function"&&i.dispatch(y)});case"DISPATCH":switch(g.payload.type){case"RESET":return h(p),a===void 0?c==null?void 0:c.init(i.getState()):c==null?void 0:c.init(l2(l.name));case"COMMIT":if(a===void 0){c==null||c.init(i.getState());return}return c==null?void 0:c.init(l2(l.name));case"ROLLBACK":return S3(g.state,y=>{if(a===void 0){h(y),c==null||c.init(i.getState());return}h(y[a]),c==null||c.init(l2(l.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return S3(g.state,y=>{if(a===void 0){h(y);return}JSON.stringify(i.getState())!==JSON.stringify(y[a])&&h(y[a])});case"IMPORT_STATE":{const{nextLiftedState:y}=g.payload,v=(m=y.computedStates.slice(-1)[0])==null?void 0:m.state;if(!v)return;h(a===void 0?v:v[a]),c==null||c.send(null,y);return}case"PAUSE_RECORDING":return d=!d}return}}),p},z$=NVe,S3=(e,t)=>{let n;try{n=JSON.parse(e)}catch(r){console.error("[zustand devtools middleware] Could not parse the received json",r)}n!==void 0&&t(n)};function LVe(e,t){let n;try{n=e()}catch{return}return{getItem:i=>{var o;const s=l=>l===null?null:JSON.parse(l,void 0),a=(o=n.getItem(i))!=null?o:null;return a instanceof Promise?a.then(s):s(a)},setItem:(i,o)=>n.setItem(i,JSON.stringify(o,void 0)),removeItem:i=>n.removeItem(i)}}const Kv=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then(r){return Kv(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return Kv(r)(n)}}}},IVe=(e,t)=>(n,r,i)=>{let o={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:m=>m,version:0,merge:(m,y)=>({...y,...m}),...t},s=!1;const a=new Set,l=new Set;let u;try{u=o.getStorage()}catch{}if(!u)return e((...m)=>{console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),n(...m)},r,i);const c=Kv(o.serialize),f=()=>{const m=o.partialize({...r()});let y;const v=c({state:m,version:o.version}).then(b=>u.setItem(o.name,b)).catch(b=>{y=b});if(y)throw y;return v},d=i.setState;i.setState=(m,y)=>{d(m,y),f()};const h=e((...m)=>{n(...m),f()},r,i);let p;const g=()=>{var m;if(!u)return;s=!1,a.forEach(v=>v(r()));const y=((m=o.onRehydrateStorage)==null?void 0:m.call(o,r()))||void 0;return Kv(u.getItem.bind(u))(o.name).then(v=>{if(v)return o.deserialize(v)}).then(v=>{if(v)if(typeof v.version=="number"&&v.version!==o.version){if(o.migrate)return o.migrate(v.state,v.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return v.state}).then(v=>{var b;return p=o.merge(v,(b=r())!=null?b:h),n(p,!0),f()}).then(()=>{y==null||y(p,void 0),s=!0,l.forEach(v=>v(p))}).catch(v=>{y==null||y(void 0,v)})};return i.persist={setOptions:m=>{o={...o,...m},m.getStorage&&(u=m.getStorage())},clearStorage:()=>{u==null||u.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>g(),hasHydrated:()=>s,onHydrate:m=>(a.add(m),()=>{a.delete(m)}),onFinishHydration:m=>(l.add(m),()=>{l.delete(m)})},g(),p||h},zVe=(e,t)=>(n,r,i)=>{let o={storage:LVe(()=>localStorage),partialize:g=>g,version:0,merge:(g,m)=>({...m,...g}),...t},s=!1;const a=new Set,l=new Set;let u=o.storage;if(!u)return e((...g)=>{console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),n(...g)},r,i);const c=()=>{const g=o.partialize({...r()});return u.setItem(o.name,{state:g,version:o.version})},f=i.setState;i.setState=(g,m)=>{f(g,m),c()};const d=e((...g)=>{n(...g),c()},r,i);i.getInitialState=()=>d;let h;const p=()=>{var g,m;if(!u)return;s=!1,a.forEach(v=>{var b;return v((b=r())!=null?b:d)});const y=((m=o.onRehydrateStorage)==null?void 0:m.call(o,(g=r())!=null?g:d))||void 0;return Kv(u.getItem.bind(u))(o.name).then(v=>{if(v)if(typeof v.version=="number"&&v.version!==o.version){if(o.migrate)return[!0,o.migrate(v.state,v.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,v.state];return[!1,void 0]}).then(v=>{var b;const[x,w]=v;if(h=o.merge(w,(b=r())!=null?b:d),n(h,!0),x)return c()}).then(()=>{y==null||y(h,void 0),h=r(),s=!0,l.forEach(v=>v(h))}).catch(v=>{y==null||y(void 0,v)})};return i.persist={setOptions:g=>{o={...o,...g},g.storage&&(u=g.storage)},clearStorage:()=>{u==null||u.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>p(),hasHydrated:()=>s,onHydrate:g=>(a.add(g),()=>{a.delete(g)}),onFinishHydration:g=>(l.add(g),()=>{l.delete(g)})},o.skipHydration||p(),h||d},jVe=(e,t)=>"getStorage"in t||"serialize"in t||"deserialize"in t?((vS?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),IVe(e,t)):zVe(e,t),BVe=jVe,UVe={json:I0e,csv:wD},Cf=I$(z$(e=>({filename:null,fileCache:null,data:void 0,writingFile:!1,writeFile:async t=>{e({writingFile:!0,filename:null,fileCache:null,data:void 0});try{const n=t instanceof File?t.name:nle(t),r=n.split(".").pop(),o=await(await W4(t)).arrayBuffer(),s=new Uint8Array(o),a=await vD(o,UVe[r],{worker:!0,fetch:{mode:"no-cors"}});await us.lazyCall("writeFile",{filename:n,fileBuffer:s}),e({filename:n,fileCache:t,data:a,writingFile:!1})}catch(n){console.error(n)}finally{e({writingFile:!1})}}}),{name:"DataStore",anonymousActionType:"DataStore Action",enabled:!1}));var VVe=!1;function WVe(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function HVe(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var qVe=function(){function e(n){var r=this;this._insertTag=function(i){var o;r.tags.length===0?r.insertionPoint?o=r.insertionPoint.nextSibling:r.prepend?o=r.container.firstChild:o=r.before:o=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,o),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!VVe:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(r){r.forEach(this._insertTag)},t.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(HVe(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var o=WVe(i);try{o.insertRule(r,o.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},t.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},e}(),qr="-ms-",PC="-moz-",At="-webkit-",lle="comm",WI="rule",HI="decl",GVe="@import",ule="@keyframes",XVe="@layer",YVe=Math.abs,j$=String.fromCharCode,KVe=Object.assign;function QVe(e,t){return Ar(e,0)^45?(((t<<2^Ar(e,0))<<2^Ar(e,1))<<2^Ar(e,2))<<2^Ar(e,3):0}function cle(e){return e.trim()}function JVe(e,t){return(e=t.exec(e))?e[0]:e}function Tt(e,t,n){return e.replace(t,n)}function lP(e,t){return e.indexOf(t)}function Ar(e,t){return e.charCodeAt(t)|0}function Qv(e,t,n){return e.slice(t,n)}function Xa(e){return e.length}function qI(e){return e.length}function u2(e,t){return t.push(e),e}function ZVe(e,t){return e.map(t).join("")}var B$=1,Km=1,fle=0,ho=0,Hn=0,U0="";function U$(e,t,n,r,i,o,s){return{value:e,root:t,parent:n,type:r,props:i,children:o,line:B$,column:Km,length:s,return:""}}function Dy(e,t){return KVe(U$("",null,null,"",null,null,0),e,{length:-e.length},t)}function eWe(){return Hn}function tWe(){return Hn=ho>0?Ar(U0,--ho):0,Km--,Hn===10&&(Km=1,B$--),Hn}function Po(){return Hn=ho<fle?Ar(U0,ho++):0,Km++,Hn===10&&(Km=1,B$++),Hn}function fl(){return Ar(U0,ho)}function bS(){return ho}function Dx(e,t){return Qv(U0,e,t)}function Jv(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function dle(e){return B$=Km=1,fle=Xa(U0=e),ho=0,[]}function hle(e){return U0="",e}function xS(e){return cle(Dx(ho-1,uP(e===91?e+2:e===40?e+1:e)))}function nWe(e){for(;(Hn=fl())&&Hn<33;)Po();return Jv(e)>2||Jv(Hn)>3?"":" "}function rWe(e,t){for(;--t&&Po()&&!(Hn<48||Hn>102||Hn>57&&Hn<65||Hn>70&&Hn<97););return Dx(e,bS()+(t<6&&fl()==32&&Po()==32))}function uP(e){for(;Po();)switch(Hn){case e:return ho;case 34:case 39:e!==34&&e!==39&&uP(Hn);break;case 40:e===41&&uP(e);break;case 92:Po();break}return ho}function iWe(e,t){for(;Po()&&e+Hn!==57;)if(e+Hn===84&&fl()===47)break;return"/*"+Dx(t,ho-1)+"*"+j$(e===47?e:Po())}function oWe(e){for(;!Jv(fl());)Po();return Dx(e,ho)}function sWe(e){return hle(wS("",null,null,null,[""],e=dle(e),0,[0],e))}function wS(e,t,n,r,i,o,s,a,l){for(var u=0,c=0,f=s,d=0,h=0,p=0,g=1,m=1,y=1,v=0,b="",x=i,w=o,C=r,S=b;m;)switch(p=v,v=Po()){case 40:if(p!=108&&Ar(S,f-1)==58){lP(S+=Tt(xS(v),"&","&\f"),"&\f")!=-1&&(y=-1);break}case 34:case 39:case 91:S+=xS(v);break;case 9:case 10:case 13:case 32:S+=nWe(p);break;case 92:S+=rWe(bS()-1,7);continue;case 47:switch(fl()){case 42:case 47:u2(aWe(iWe(Po(),bS()),t,n),l);break;default:S+="/"}break;case 123*g:a[u++]=Xa(S)*y;case 125*g:case 59:case 0:switch(v){case 0:case 125:m=0;case 59+c:y==-1&&(S=Tt(S,/\f/g,"")),h>0&&Xa(S)-f&&u2(h>32?_W(S+";",r,n,f-1):_W(Tt(S," ","")+";",r,n,f-2),l);break;case 59:S+=";";default:if(u2(C=kW(S,t,n,u,c,i,a,b,x=[],w=[],f),o),v===123)if(c===0)wS(S,t,C,C,x,o,f,a,w);else switch(d===99&&Ar(S,3)===110?100:d){case 100:case 108:case 109:case 115:wS(e,C,C,r&&u2(kW(e,C,C,0,0,i,a,b,i,x=[],f),w),i,w,f,a,r?x:w);break;default:wS(S,C,C,C,[""],w,0,a,w)}}u=c=h=0,g=y=1,b=S="",f=s;break;case 58:f=1+Xa(S),h=p;default:if(g<1){if(v==123)--g;else if(v==125&&g++==0&&tWe()==125)continue}switch(S+=j$(v),v*g){case 38:y=c>0?1:(S+="\f",-1);break;case 44:a[u++]=(Xa(S)-1)*y,y=1;break;case 64:fl()===45&&(S+=xS(Po())),d=fl(),c=f=Xa(b=S+=oWe(bS())),v++;break;case 45:p===45&&Xa(S)==2&&(g=0)}}return o}function kW(e,t,n,r,i,o,s,a,l,u,c){for(var f=i-1,d=i===0?o:[""],h=qI(d),p=0,g=0,m=0;p<r;++p)for(var y=0,v=Qv(e,f+1,f=YVe(g=s[p])),b=e;y<h;++y)(b=cle(g>0?d[y]+" "+v:Tt(v,/&\f/g,d[y])))&&(l[m++]=b);return U$(e,t,n,i===0?WI:a,l,u,c)}function aWe(e,t,n){return U$(e,t,n,lle,j$(eWe()),Qv(e,2,-2),0)}function _W(e,t,n,r){return U$(e,t,n,HI,Qv(e,0,r),Qv(e,r+1,-1),r)}function Ig(e,t){for(var n="",r=qI(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function lWe(e,t,n,r){switch(e.type){case XVe:if(e.children.length)break;case GVe:case HI:return e.return=e.return||e.value;case lle:return"";case ule:return e.return=e.value+"{"+Ig(e.children,r)+"}";case WI:e.value=e.props.join(",")}return Xa(n=Ig(e.children,r))?e.return=e.value+"{"+n+"}":""}function uWe(e){var t=qI(e);return function(n,r,i,o){for(var s="",a=0;a<t;a++)s+=e[a](n,r,i,o)||"";return s}}function cWe(e){return function(t){t.root||(t=t.return)&&e(t)}}var $W=function(t){var n=new WeakMap;return function(r){if(n.has(r))return n.get(r);var i=t(r);return n.set(r,i),i}};function ple(e){var t=Object.create(null);return function(n){return t[n]===void 0&&(t[n]=e(n)),t[n]}}var fWe=function(t,n,r){for(var i=0,o=0;i=o,o=fl(),i===38&&o===12&&(n[r]=1),!Jv(o);)Po();return Dx(t,ho)},dWe=function(t,n){var r=-1,i=44;do switch(Jv(i)){case 0:i===38&&fl()===12&&(n[r]=1),t[r]+=fWe(ho-1,n,r);break;case 2:t[r]+=xS(i);break;case 4:if(i===44){t[++r]=fl()===58?"&\f":"",n[r]=t[r].length;break}default:t[r]+=j$(i)}while(i=Po());return t},hWe=function(t,n){return hle(dWe(dle(t),n))},AW=new WeakMap,pWe=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var n=t.value,r=t.parent,i=t.column===r.column&&t.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(t.props.length===1&&n.charCodeAt(0)!==58&&!AW.get(r))&&!i){AW.set(t,!0);for(var o=[],s=hWe(n,o),a=r.props,l=0,u=0;l<s.length;l++)for(var c=0;c<a.length;c++,u++)t.props[u]=o[l]?s[l].replace(/&\f/g,a[c]):a[c]+" "+s[l]}}},gWe=function(t){if(t.type==="decl"){var n=t.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(t.return="",t.value="")}};function gle(e,t){switch(QVe(e,t)){case 5103:return At+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return At+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return At+e+PC+e+qr+e+e;case 6828:case 4268:return At+e+qr+e+e;case 6165:return At+e+qr+"flex-"+e+e;case 5187:return At+e+Tt(e,/(\w+).+(:[^]+)/,At+"box-$1$2"+qr+"flex-$1$2")+e;case 5443:return At+e+qr+"flex-item-"+Tt(e,/flex-|-self/,"")+e;case 4675:return At+e+qr+"flex-line-pack"+Tt(e,/align-content|flex-|-self/,"")+e;case 5548:return At+e+qr+Tt(e,"shrink","negative")+e;case 5292:return At+e+qr+Tt(e,"basis","preferred-size")+e;case 6060:return At+"box-"+Tt(e,"-grow","")+At+e+qr+Tt(e,"grow","positive")+e;case 4554:return At+Tt(e,/([^-])(transform)/g,"$1"+At+"$2")+e;case 6187:return Tt(Tt(Tt(e,/(zoom-|grab)/,At+"$1"),/(image-set)/,At+"$1"),e,"")+e;case 5495:case 3959:return Tt(e,/(image-set\([^]*)/,At+"$1$`$1");case 4968:return Tt(Tt(e,/(.+:)(flex-)?(.*)/,At+"box-pack:$3"+qr+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+At+e+e;case 4095:case 3583:case 4068:case 2532:return Tt(e,/(.+)-inline(.+)/,At+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Xa(e)-1-t>6)switch(Ar(e,t+1)){case 109:if(Ar(e,t+4)!==45)break;case 102:return Tt(e,/(.+:)(.+)-([^]+)/,"$1"+At+"$2-$3$1"+PC+(Ar(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~lP(e,"stretch")?gle(Tt(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(Ar(e,t+1)!==115)break;case 6444:switch(Ar(e,Xa(e)-3-(~lP(e,"!important")&&10))){case 107:return Tt(e,":",":"+At)+e;case 101:return Tt(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+At+(Ar(e,14)===45?"inline-":"")+"box$3$1"+At+"$2$3$1"+qr+"$2box$3")+e}break;case 5936:switch(Ar(e,t+11)){case 114:return At+e+qr+Tt(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return At+e+qr+Tt(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return At+e+qr+Tt(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return At+e+qr+e+e}return e}var mWe=function(t,n,r,i){if(t.length>-1&&!t.return)switch(t.type){case HI:t.return=gle(t.value,t.length);break;case ule:return Ig([Dy(t,{value:Tt(t.value,"@","@"+At)})],i);case WI:if(t.length)return ZVe(t.props,function(o){switch(JVe(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Ig([Dy(t,{props:[Tt(o,/:(read-\w+)/,":"+PC+"$1")]})],i);case"::placeholder":return Ig([Dy(t,{props:[Tt(o,/:(plac\w+)/,":"+At+"input-$1")]}),Dy(t,{props:[Tt(o,/:(plac\w+)/,":"+PC+"$1")]}),Dy(t,{props:[Tt(o,/:(plac\w+)/,qr+"input-$1")]})],i)}return""})}},yWe=[mWe],vWe=function(t){var n=t.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(g){var m=g.getAttribute("data-emotion");m.indexOf(" ")!==-1&&(document.head.appendChild(g),g.setAttribute("data-s",""))})}var i=t.stylisPlugins||yWe,o={},s,a=[];s=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(g){for(var m=g.getAttribute("data-emotion").split(" "),y=1;y<m.length;y++)o[m[y]]=!0;a.push(g)});var l,u=[pWe,gWe];{var c,f=[lWe,cWe(function(g){c.insert(g)})],d=uWe(u.concat(i,f)),h=function(m){return Ig(sWe(m),d)};l=function(m,y,v,b){c=v,h(m?m+"{"+y.styles+"}":y.styles),b&&(p.inserted[y.name]=!0)}}var p={key:n,sheet:new qVe({key:n,container:s,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:o,registered:{},insert:l};return p.sheet.hydrate(a),p};function OC(){return OC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},OC.apply(null,arguments)}var mle={exports:{}},Bt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wr=typeof Symbol=="function"&&Symbol.for,GI=wr?Symbol.for("react.element"):60103,XI=wr?Symbol.for("react.portal"):60106,V$=wr?Symbol.for("react.fragment"):60107,W$=wr?Symbol.for("react.strict_mode"):60108,H$=wr?Symbol.for("react.profiler"):60114,q$=wr?Symbol.for("react.provider"):60109,G$=wr?Symbol.for("react.context"):60110,YI=wr?Symbol.for("react.async_mode"):60111,X$=wr?Symbol.for("react.concurrent_mode"):60111,Y$=wr?Symbol.for("react.forward_ref"):60112,K$=wr?Symbol.for("react.suspense"):60113,bWe=wr?Symbol.for("react.suspense_list"):60120,Q$=wr?Symbol.for("react.memo"):60115,J$=wr?Symbol.for("react.lazy"):60116,xWe=wr?Symbol.for("react.block"):60121,wWe=wr?Symbol.for("react.fundamental"):60117,SWe=wr?Symbol.for("react.responder"):60118,EWe=wr?Symbol.for("react.scope"):60119;function Wo(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case GI:switch(e=e.type,e){case YI:case X$:case V$:case H$:case W$:case K$:return e;default:switch(e=e&&e.$$typeof,e){case G$:case Y$:case J$:case Q$:case q$:return e;default:return t}}case XI:return t}}}function yle(e){return Wo(e)===X$}Bt.AsyncMode=YI;Bt.ConcurrentMode=X$;Bt.ContextConsumer=G$;Bt.ContextProvider=q$;Bt.Element=GI;Bt.ForwardRef=Y$;Bt.Fragment=V$;Bt.Lazy=J$;Bt.Memo=Q$;Bt.Portal=XI;Bt.Profiler=H$;Bt.StrictMode=W$;Bt.Suspense=K$;Bt.isAsyncMode=function(e){return yle(e)||Wo(e)===YI};Bt.isConcurrentMode=yle;Bt.isContextConsumer=function(e){return Wo(e)===G$};Bt.isContextProvider=function(e){return Wo(e)===q$};Bt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===GI};Bt.isForwardRef=function(e){return Wo(e)===Y$};Bt.isFragment=function(e){return Wo(e)===V$};Bt.isLazy=function(e){return Wo(e)===J$};Bt.isMemo=function(e){return Wo(e)===Q$};Bt.isPortal=function(e){return Wo(e)===XI};Bt.isProfiler=function(e){return Wo(e)===H$};Bt.isStrictMode=function(e){return Wo(e)===W$};Bt.isSuspense=function(e){return Wo(e)===K$};Bt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===V$||e===X$||e===H$||e===W$||e===K$||e===bWe||typeof e=="object"&&e!==null&&(e.$$typeof===J$||e.$$typeof===Q$||e.$$typeof===q$||e.$$typeof===G$||e.$$typeof===Y$||e.$$typeof===wWe||e.$$typeof===SWe||e.$$typeof===EWe||e.$$typeof===xWe)};Bt.typeOf=Wo;mle.exports=Bt;var CWe=mle.exports,vle=CWe,kWe={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},_We={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},ble={};ble[vle.ForwardRef]=kWe;ble[vle.Memo]=_We;var $We=!0;function AWe(e,t,n){var r="";return n.split(" ").forEach(function(i){e[i]!==void 0?t.push(e[i]+";"):r+=i+" "}),r}var xle=function(t,n,r){var i=t.key+"-"+n.name;(r===!1||$We===!1)&&t.registered[i]===void 0&&(t.registered[i]=n.styles)},wle=function(t,n,r){xle(t,n,r);var i=t.key+"-"+n.name;if(t.inserted[n.name]===void 0){var o=n;do t.insert(n===o?"."+i:"",o,t.sheet,!0),o=o.next;while(o!==void 0)}};function TWe(e){for(var t=0,n,r=0,i=e.length;i>=4;++r,i-=4)n=e.charCodeAt(r)&255|(e.charCodeAt(++r)&255)<<8|(e.charCodeAt(++r)&255)<<16|(e.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,t=(n&65535)*1540483477+((n>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(i){case 3:t^=(e.charCodeAt(r+2)&255)<<16;case 2:t^=(e.charCodeAt(r+1)&255)<<8;case 1:t^=e.charCodeAt(r)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var FWe={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},RWe=!1,PWe=/[A-Z]|^ms/g,OWe=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Sle=function(t){return t.charCodeAt(1)===45},TW=function(t){return t!=null&&typeof t!="boolean"},E3=ple(function(e){return Sle(e)?e:e.replace(PWe,"-$&").toLowerCase()}),FW=function(t,n){switch(t){case"animation":case"animationName":if(typeof n=="string")return n.replace(OWe,function(r,i,o){return Ya={name:i,styles:o,next:Ya},i})}return FWe[t]!==1&&!Sle(t)&&typeof n=="number"&&n!==0?n+"px":n},DWe="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function Zv(e,t,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var i=n;if(i.anim===1)return Ya={name:i.name,styles:i.styles,next:Ya},i.name;var o=n;if(o.styles!==void 0){var s=o.next;if(s!==void 0)for(;s!==void 0;)Ya={name:s.name,styles:s.styles,next:Ya},s=s.next;var a=o.styles+";";return a}return MWe(e,t,n)}case"function":{if(e!==void 0){var l=Ya,u=n(e);return Ya=l,Zv(e,t,u)}break}}var c=n;if(t==null)return c;var f=t[c];return f!==void 0?f:c}function MWe(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Zv(e,t,n[i])+";";else for(var o in n){var s=n[o];if(typeof s!="object"){var a=s;t!=null&&t[a]!==void 0?r+=o+"{"+t[a]+"}":TW(a)&&(r+=E3(o)+":"+FW(o,a)+";")}else{if(o==="NO_COMPONENT_SELECTOR"&&RWe)throw new Error(DWe);if(Array.isArray(s)&&typeof s[0]=="string"&&(t==null||t[s[0]]===void 0))for(var l=0;l<s.length;l++)TW(s[l])&&(r+=E3(o)+":"+FW(o,s[l])+";");else{var u=Zv(e,t,s);switch(o){case"animation":case"animationName":{r+=E3(o)+":"+u+";";break}default:r+=o+"{"+u+"}"}}}}return r}var RW=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Ya;function KI(e,t,n){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var r=!0,i="";Ya=void 0;var o=e[0];if(o==null||o.raw===void 0)r=!1,i+=Zv(n,t,o);else{var s=o;i+=s[0]}for(var a=1;a<e.length;a++)if(i+=Zv(n,t,e[a]),r){var l=o;i+=l[a]}RW.lastIndex=0;for(var u="",c;(c=RW.exec(i))!==null;)u+="-"+c[1];var f=TWe(i)+u;return{name:f,styles:i,next:Ya}}var NWe=function(t){return t()},Ele=_z.useInsertionEffect?_z.useInsertionEffect:!1,LWe=Ele||NWe,PW=Ele||M.useLayoutEffect,Cle=M.createContext(typeof HTMLElement<"u"?vWe({key:"css"}):null);Cle.Provider;var kle=function(t){return M.forwardRef(function(n,r){var i=M.useContext(Cle);return t(n,i,r)})},eb=M.createContext({}),IWe=function(t,n){if(typeof n=="function"){var r=n(t);return r}return OC({},t,n)},zWe=$W(function(e){return $W(function(t){return IWe(e,t)})}),jWe=function(t){var n=M.useContext(eb);return t.theme!==n&&(n=zWe(n)(t.theme)),M.createElement(eb.Provider,{value:n},t.children)},Z$=kle(function(e,t){var n=e.styles,r=KI([n],void 0,M.useContext(eb)),i=M.useRef();return PW(function(){var o=t.key+"-global",s=new t.sheet.constructor({key:o,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),a=!1,l=document.querySelector('style[data-emotion="'+o+" "+r.name+'"]');return t.sheet.tags.length&&(s.before=t.sheet.tags[0]),l!==null&&(a=!0,l.setAttribute("data-emotion",o),s.hydrate([l])),i.current=[s,a],function(){s.flush()}},[t]),PW(function(){var o=i.current,s=o[0],a=o[1];if(a){o[1]=!1;return}if(r.next!==void 0&&wle(t,r.next,!0),s.tags.length){var l=s.tags[s.tags.length-1].nextElementSibling;s.before=l,s.flush()}t.insert("",r,s,!1)},[t,r.name]),null});function BWe(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return KI(t)}var dp=function(){var t=BWe.apply(void 0,arguments),n="animation-"+t.name;return{name:n,styles:"@keyframes "+n+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},_le=String.raw,$le=_le`
  :root,
  :host {
    --chakra-vh: 100vh;
  }

  @supports (height: -webkit-fill-available) {
    :root,
    :host {
      --chakra-vh: -webkit-fill-available;
    }
  }

  @supports (height: -moz-fill-available) {
    :root,
    :host {
      --chakra-vh: -moz-fill-available;
    }
  }

  @supports (height: 100dvh) {
    :root,
    :host {
      --chakra-vh: 100dvh;
    }
  }
`,UWe=()=>F.jsx(Z$,{styles:$le}),VWe=({scope:e=""})=>F.jsx(Z$,{styles:_le`
      html {
        line-height: 1.5;
        -webkit-text-size-adjust: 100%;
        font-family: system-ui, sans-serif;
        -webkit-font-smoothing: antialiased;
        text-rendering: optimizeLegibility;
        -moz-osx-font-smoothing: grayscale;
        touch-action: manipulation;
      }

      body {
        position: relative;
        min-height: 100%;
        margin: 0;
        font-feature-settings: "kern";
      }

      ${e} :where(*, *::before, *::after) {
        border-width: 0;
        border-style: solid;
        box-sizing: border-box;
        word-wrap: break-word;
      }

      main {
        display: block;
      }

      ${e} hr {
        border-top-width: 1px;
        box-sizing: content-box;
        height: 0;
        overflow: visible;
      }

      ${e} :where(pre, code, kbd,samp) {
        font-family: SFMono-Regular, Menlo, Monaco, Consolas, monospace;
        font-size: 1em;
      }

      ${e} a {
        background-color: transparent;
        color: inherit;
        text-decoration: inherit;
      }

      ${e} abbr[title] {
        border-bottom: none;
        text-decoration: underline;
        -webkit-text-decoration: underline dotted;
        text-decoration: underline dotted;
      }

      ${e} :where(b, strong) {
        font-weight: bold;
      }

      ${e} small {
        font-size: 80%;
      }

      ${e} :where(sub,sup) {
        font-size: 75%;
        line-height: 0;
        position: relative;
        vertical-align: baseline;
      }

      ${e} sub {
        bottom: -0.25em;
      }

      ${e} sup {
        top: -0.5em;
      }

      ${e} img {
        border-style: none;
      }

      ${e} :where(button, input, optgroup, select, textarea) {
        font-family: inherit;
        font-size: 100%;
        line-height: 1.15;
        margin: 0;
      }

      ${e} :where(button, input) {
        overflow: visible;
      }

      ${e} :where(button, select) {
        text-transform: none;
      }

      ${e} :where(
          button::-moz-focus-inner,
          [type="button"]::-moz-focus-inner,
          [type="reset"]::-moz-focus-inner,
          [type="submit"]::-moz-focus-inner
        ) {
        border-style: none;
        padding: 0;
      }

      ${e} fieldset {
        padding: 0.35em 0.75em 0.625em;
      }

      ${e} legend {
        box-sizing: border-box;
        color: inherit;
        display: table;
        max-width: 100%;
        padding: 0;
        white-space: normal;
      }

      ${e} progress {
        vertical-align: baseline;
      }

      ${e} textarea {
        overflow: auto;
      }

      ${e} :where([type="checkbox"], [type="radio"]) {
        box-sizing: border-box;
        padding: 0;
      }

      ${e} input[type="number"]::-webkit-inner-spin-button,
      ${e} input[type="number"]::-webkit-outer-spin-button {
        -webkit-appearance: none !important;
      }

      ${e} input[type="number"] {
        -moz-appearance: textfield;
      }

      ${e} input[type="search"] {
        -webkit-appearance: textfield;
        outline-offset: -2px;
      }

      ${e} input[type="search"]::-webkit-search-decoration {
        -webkit-appearance: none !important;
      }

      ${e} ::-webkit-file-upload-button {
        -webkit-appearance: button;
        font: inherit;
      }

      ${e} details {
        display: block;
      }

      ${e} summary {
        display: list-item;
      }

      template {
        display: none;
      }

      [hidden] {
        display: none !important;
      }

      ${e} :where(
          blockquote,
          dl,
          dd,
          h1,
          h2,
          h3,
          h4,
          h5,
          h6,
          hr,
          figure,
          p,
          pre
        ) {
        margin: 0;
      }

      ${e} button {
        background: transparent;
        padding: 0;
      }

      ${e} fieldset {
        margin: 0;
        padding: 0;
      }

      ${e} :where(ol, ul) {
        margin: 0;
        padding: 0;
      }

      ${e} textarea {
        resize: vertical;
      }

      ${e} :where(button, [role="button"]) {
        cursor: pointer;
      }

      ${e} button::-moz-focus-inner {
        border: 0 !important;
      }

      ${e} table {
        border-collapse: collapse;
      }

      ${e} :where(h1, h2, h3, h4, h5, h6) {
        font-size: inherit;
        font-weight: inherit;
      }

      ${e} :where(button, input, optgroup, select, textarea) {
        padding: 0;
        line-height: inherit;
        color: inherit;
      }

      ${e} :where(img, svg, video, canvas, audio, iframe, embed, object) {
        display: block;
      }

      ${e} :where(img, video) {
        max-width: 100%;
        height: auto;
      }

      [data-js-focus-visible]
        :focus:not([data-focus-visible-added]):not(
          [data-focus-visible-disabled]
        ) {
        outline: none;
        box-shadow: none;
      }

      ${e} select::-ms-expand {
        display: none;
      }

      ${$le}
    `});function WWe(e,t){return`${e} returned \`undefined\`. Seems you forgot to wrap component within ${t}`}function ji(e={}){const{name:t,strict:n=!0,hookName:r="useContext",providerName:i="Provider",errorMessage:o,defaultValue:s}=e,a=M.createContext(s);a.displayName=t;function l(){var u;const c=M.useContext(a);if(!c&&n){const f=new Error(o??WWe(r,i));throw f.name="ContextError",(u=Error.captureStackTrace)==null||u.call(Error,f,l),f}return c}return[a.Provider,l,a]}var[HWe,qWe]=ji({strict:!1,name:"PortalManagerContext"});function Ale(e){const{children:t,zIndex:n}=e;return F.jsx(HWe,{value:{zIndex:n},children:t})}Ale.displayName="PortalManager";var Qm=globalThis!=null&&globalThis.document?M.useLayoutEffect:M.useEffect,Tle={exports:{}},Ho={},Fle={exports:{}},Rle={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(z,U){var X=z.length;z.push(U);e:for(;0<X;){var K=X-1>>>1,pe=z[K];if(0<i(pe,U))z[K]=U,z[X]=pe,X=K;else break e}}function n(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var U=z[0],X=z.pop();if(X!==U){z[0]=X;e:for(var K=0,pe=z.length,oe=pe>>>1;K<oe;){var _e=2*(K+1)-1,Qe=z[_e],xt=_e+1,On=z[xt];if(0>i(Qe,X))xt<pe&&0>i(On,Qe)?(z[K]=On,z[xt]=X,K=xt):(z[K]=Qe,z[_e]=X,K=_e);else if(xt<pe&&0>i(On,X))z[K]=On,z[xt]=X,K=xt;else break e}}return U}function i(z,U){var X=z.sortIndex-U.sortIndex;return X!==0?X:z.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();e.unstable_now=function(){return s.now()-a}}var l=[],u=[],c=1,f=null,d=3,h=!1,p=!1,g=!1,m=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(z){for(var U=n(u);U!==null;){if(U.callback===null)r(u);else if(U.startTime<=z)r(u),U.sortIndex=U.expirationTime,t(l,U);else break;U=n(u)}}function x(z){if(g=!1,b(z),!p)if(n(l)!==null)p=!0,P(w);else{var U=n(u);U!==null&&j(x,U.startTime-z)}}function w(z,U){p=!1,g&&(g=!1,y(k),k=-1),h=!0;var X=d;try{for(b(U),f=n(l);f!==null&&(!(f.expirationTime>U)||z&&!O());){var K=f.callback;if(typeof K=="function"){f.callback=null,d=f.priorityLevel;var pe=K(f.expirationTime<=U);U=e.unstable_now(),typeof pe=="function"?f.callback=pe:f===n(l)&&r(l),b(U)}else r(l);f=n(l)}if(f!==null)var oe=!0;else{var _e=n(u);_e!==null&&j(x,_e.startTime-U),oe=!1}return oe}finally{f=null,d=X,h=!1}}var C=!1,S=null,k=-1,$=5,R=-1;function O(){return!(e.unstable_now()-R<$)}function B(){if(S!==null){var z=e.unstable_now();R=z;var U=!0;try{U=S(!0,z)}finally{U?D():(C=!1,S=null)}}else C=!1}var D;if(typeof v=="function")D=function(){v(B)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,A=L.port2;L.port1.onmessage=B,D=function(){A.postMessage(null)}}else D=function(){m(B,0)};function P(z){S=z,C||(C=!0,D())}function j(z,U){k=m(function(){z(e.unstable_now())},U)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(z){z.callback=null},e.unstable_continueExecution=function(){p||h||(p=!0,P(w))},e.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<z?Math.floor(1e3/z):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(z){switch(d){case 1:case 2:case 3:var U=3;break;default:U=d}var X=d;d=U;try{return z()}finally{d=X}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(z,U){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var X=d;d=z;try{return U()}finally{d=X}},e.unstable_scheduleCallback=function(z,U,X){var K=e.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?K+X:K):X=K,z){case 1:var pe=-1;break;case 2:pe=250;break;case 5:pe=1073741823;break;case 4:pe=1e4;break;default:pe=5e3}return pe=X+pe,z={id:c++,callback:U,priorityLevel:z,startTime:X,expirationTime:pe,sortIndex:-1},X>K?(z.sortIndex=X,t(u,z),n(l)===null&&z===n(u)&&(g?(y(k),k=-1):g=!0,j(x,X-K))):(z.sortIndex=pe,t(l,z),p||h||(p=!0,P(w))),z},e.unstable_shouldYield=O,e.unstable_wrapCallback=function(z){var U=d;return function(){var X=d;d=U;try{return z.apply(this,arguments)}finally{d=X}}}})(Rle);Fle.exports=Rle;var GWe=Fle.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XWe=M,jo=GWe;function fe(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ple=new Set,tb={};function hp(e,t){Jm(e,t),Jm(e+"Capture",t)}function Jm(e,t){for(tb[e]=t,e=0;e<t.length;e++)Ple.add(t[e])}var Tu=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),cP=Object.prototype.hasOwnProperty,YWe=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,OW={},DW={};function KWe(e){return cP.call(DW,e)?!0:cP.call(OW,e)?!1:YWe.test(e)?DW[e]=!0:(OW[e]=!0,!1)}function QWe(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function JWe(e,t,n,r){if(t===null||typeof t>"u"||QWe(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Bi(e,t,n,r,i,o,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var Ir={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ir[e]=new Bi(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ir[t]=new Bi(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ir[e]=new Bi(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ir[e]=new Bi(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ir[e]=new Bi(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ir[e]=new Bi(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ir[e]=new Bi(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ir[e]=new Bi(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ir[e]=new Bi(e,5,!1,e.toLowerCase(),null,!1,!1)});var QI=/[\-:]([a-z])/g;function JI(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(QI,JI);Ir[t]=new Bi(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(QI,JI);Ir[t]=new Bi(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(QI,JI);Ir[t]=new Bi(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ir[e]=new Bi(e,1,!1,e.toLowerCase(),null,!1,!1)});Ir.xlinkHref=new Bi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ir[e]=new Bi(e,1,!1,e.toLowerCase(),null,!0,!0)});function ZI(e,t,n,r){var i=Ir.hasOwnProperty(t)?Ir[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(JWe(t,n,i,r)&&(n=null),r||i===null?KWe(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Wu=XWe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,c2=Symbol.for("react.element"),sg=Symbol.for("react.portal"),ag=Symbol.for("react.fragment"),e8=Symbol.for("react.strict_mode"),fP=Symbol.for("react.profiler"),Ole=Symbol.for("react.provider"),Dle=Symbol.for("react.context"),t8=Symbol.for("react.forward_ref"),dP=Symbol.for("react.suspense"),hP=Symbol.for("react.suspense_list"),n8=Symbol.for("react.memo"),xc=Symbol.for("react.lazy"),Mle=Symbol.for("react.offscreen"),MW=Symbol.iterator;function My(e){return e===null||typeof e!="object"?null:(e=MW&&e[MW]||e["@@iterator"],typeof e=="function"?e:null)}var Cn=Object.assign,C3;function C1(e){if(C3===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);C3=t&&t[1]||""}return`
`+C3+e}var k3=!1;function _3(e,t){if(!e||k3)return"";k3=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=s&&0<=a);break}}}finally{k3=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?C1(e):""}function ZWe(e){switch(e.tag){case 5:return C1(e.type);case 16:return C1("Lazy");case 13:return C1("Suspense");case 19:return C1("SuspenseList");case 0:case 2:case 15:return e=_3(e.type,!1),e;case 11:return e=_3(e.type.render,!1),e;case 1:return e=_3(e.type,!0),e;default:return""}}function pP(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ag:return"Fragment";case sg:return"Portal";case fP:return"Profiler";case e8:return"StrictMode";case dP:return"Suspense";case hP:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Dle:return(e.displayName||"Context")+".Consumer";case Ole:return(e._context.displayName||"Context")+".Provider";case t8:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case n8:return t=e.displayName||null,t!==null?t:pP(e.type)||"Memo";case xc:t=e._payload,e=e._init;try{return pP(e(t))}catch{}}return null}function eHe(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return pP(t);case 8:return t===e8?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function kf(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Nle(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function tHe(e){var t=Nle(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function f2(e){e._valueTracker||(e._valueTracker=tHe(e))}function Lle(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Nle(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function DC(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function gP(e,t){var n=t.checked;return Cn({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function NW(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=kf(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Ile(e,t){t=t.checked,t!=null&&ZI(e,"checked",t,!1)}function mP(e,t){Ile(e,t);var n=kf(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?yP(e,t.type,n):t.hasOwnProperty("defaultValue")&&yP(e,t.type,kf(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function LW(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function yP(e,t,n){(t!=="number"||DC(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var k1=Array.isArray;function zg(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+kf(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function vP(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(fe(91));return Cn({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function IW(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(fe(92));if(k1(n)){if(1<n.length)throw Error(fe(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:kf(n)}}function zle(e,t){var n=kf(t.value),r=kf(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function zW(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function jle(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function bP(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?jle(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var d2,Ble=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(d2=d2||document.createElement("div"),d2.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=d2.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function nb(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Z1={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},nHe=["Webkit","ms","Moz","O"];Object.keys(Z1).forEach(function(e){nHe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Z1[t]=Z1[e]})});function Ule(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Z1.hasOwnProperty(e)&&Z1[e]?(""+t).trim():t+"px"}function Vle(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Ule(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var rHe=Cn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function xP(e,t){if(t){if(rHe[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(fe(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(fe(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(fe(61))}if(t.style!=null&&typeof t.style!="object")throw Error(fe(62))}}function wP(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var SP=null;function r8(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var EP=null,jg=null,Bg=null;function jW(e){if(e=Lx(e)){if(typeof EP!="function")throw Error(fe(280));var t=e.stateNode;t&&(t=iA(t),EP(e.stateNode,e.type,t))}}function Wle(e){jg?Bg?Bg.push(e):Bg=[e]:jg=e}function Hle(){if(jg){var e=jg,t=Bg;if(Bg=jg=null,jW(e),t)for(e=0;e<t.length;e++)jW(t[e])}}function qle(e,t){return e(t)}function Gle(){}var $3=!1;function Xle(e,t,n){if($3)return e(t,n);$3=!0;try{return qle(e,t,n)}finally{$3=!1,(jg!==null||Bg!==null)&&(Gle(),Hle())}}function rb(e,t){var n=e.stateNode;if(n===null)return null;var r=iA(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(fe(231,t,typeof n));return n}var CP=!1;if(Tu)try{var Ny={};Object.defineProperty(Ny,"passive",{get:function(){CP=!0}}),window.addEventListener("test",Ny,Ny),window.removeEventListener("test",Ny,Ny)}catch{CP=!1}function iHe(e,t,n,r,i,o,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var ev=!1,MC=null,NC=!1,kP=null,oHe={onError:function(e){ev=!0,MC=e}};function sHe(e,t,n,r,i,o,s,a,l){ev=!1,MC=null,iHe.apply(oHe,arguments)}function aHe(e,t,n,r,i,o,s,a,l){if(sHe.apply(this,arguments),ev){if(ev){var u=MC;ev=!1,MC=null}else throw Error(fe(198));NC||(NC=!0,kP=u)}}function pp(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Yle(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function BW(e){if(pp(e)!==e)throw Error(fe(188))}function lHe(e){var t=e.alternate;if(!t){if(t=pp(e),t===null)throw Error(fe(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return BW(i),e;if(o===r)return BW(i),t;o=o.sibling}throw Error(fe(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(fe(189))}}if(n.alternate!==r)throw Error(fe(190))}if(n.tag!==3)throw Error(fe(188));return n.stateNode.current===n?e:t}function Kle(e){return e=lHe(e),e!==null?Qle(e):null}function Qle(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Qle(e);if(t!==null)return t;e=e.sibling}return null}var Jle=jo.unstable_scheduleCallback,UW=jo.unstable_cancelCallback,uHe=jo.unstable_shouldYield,cHe=jo.unstable_requestPaint,Ln=jo.unstable_now,fHe=jo.unstable_getCurrentPriorityLevel,i8=jo.unstable_ImmediatePriority,Zle=jo.unstable_UserBlockingPriority,LC=jo.unstable_NormalPriority,dHe=jo.unstable_LowPriority,eue=jo.unstable_IdlePriority,eA=null,dl=null;function hHe(e){if(dl&&typeof dl.onCommitFiberRoot=="function")try{dl.onCommitFiberRoot(eA,e,void 0,(e.current.flags&128)===128)}catch{}}var aa=Math.clz32?Math.clz32:mHe,pHe=Math.log,gHe=Math.LN2;function mHe(e){return e>>>=0,e===0?32:31-(pHe(e)/gHe|0)|0}var h2=64,p2=4194304;function _1(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function IC(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=_1(a):(o&=s,o!==0&&(r=_1(o)))}else s=n&~i,s!==0?r=_1(s):o!==0&&(r=_1(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-aa(t),i=1<<n,r|=e[n],t&=~i;return r}function yHe(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vHe(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-aa(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=yHe(a,t)):l<=t&&(e.expiredLanes|=a),o&=~a}}function _P(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function tue(){var e=h2;return h2<<=1,!(h2&4194240)&&(h2=64),e}function A3(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Mx(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-aa(t),e[t]=n}function bHe(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-aa(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}function o8(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-aa(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var It=0;function nue(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var rue,s8,iue,oue,sue,$P=!1,g2=[],Qc=null,Jc=null,Zc=null,ib=new Map,ob=new Map,kc=[],xHe="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function VW(e,t){switch(e){case"focusin":case"focusout":Qc=null;break;case"dragenter":case"dragleave":Jc=null;break;case"mouseover":case"mouseout":Zc=null;break;case"pointerover":case"pointerout":ib.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ob.delete(t.pointerId)}}function Ly(e,t,n,r,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},t!==null&&(t=Lx(t),t!==null&&s8(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function wHe(e,t,n,r,i){switch(t){case"focusin":return Qc=Ly(Qc,e,t,n,r,i),!0;case"dragenter":return Jc=Ly(Jc,e,t,n,r,i),!0;case"mouseover":return Zc=Ly(Zc,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return ib.set(o,Ly(ib.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,ob.set(o,Ly(ob.get(o)||null,e,t,n,r,i)),!0}return!1}function aue(e){var t=Ld(e.target);if(t!==null){var n=pp(t);if(n!==null){if(t=n.tag,t===13){if(t=Yle(n),t!==null){e.blockedOn=t,sue(e.priority,function(){iue(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function SS(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=AP(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);SP=r,n.target.dispatchEvent(r),SP=null}else return t=Lx(n),t!==null&&s8(t),e.blockedOn=n,!1;t.shift()}return!0}function WW(e,t,n){SS(e)&&n.delete(t)}function SHe(){$P=!1,Qc!==null&&SS(Qc)&&(Qc=null),Jc!==null&&SS(Jc)&&(Jc=null),Zc!==null&&SS(Zc)&&(Zc=null),ib.forEach(WW),ob.forEach(WW)}function Iy(e,t){e.blockedOn===t&&(e.blockedOn=null,$P||($P=!0,jo.unstable_scheduleCallback(jo.unstable_NormalPriority,SHe)))}function sb(e){function t(i){return Iy(i,e)}if(0<g2.length){Iy(g2[0],e);for(var n=1;n<g2.length;n++){var r=g2[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Qc!==null&&Iy(Qc,e),Jc!==null&&Iy(Jc,e),Zc!==null&&Iy(Zc,e),ib.forEach(t),ob.forEach(t),n=0;n<kc.length;n++)r=kc[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<kc.length&&(n=kc[0],n.blockedOn===null);)aue(n),n.blockedOn===null&&kc.shift()}var Ug=Wu.ReactCurrentBatchConfig,zC=!0;function EHe(e,t,n,r){var i=It,o=Ug.transition;Ug.transition=null;try{It=1,a8(e,t,n,r)}finally{It=i,Ug.transition=o}}function CHe(e,t,n,r){var i=It,o=Ug.transition;Ug.transition=null;try{It=4,a8(e,t,n,r)}finally{It=i,Ug.transition=o}}function a8(e,t,n,r){if(zC){var i=AP(e,t,n,r);if(i===null)I3(e,t,r,jC,n),VW(e,r);else if(wHe(i,e,t,n,r))r.stopPropagation();else if(VW(e,r),t&4&&-1<xHe.indexOf(e)){for(;i!==null;){var o=Lx(i);if(o!==null&&rue(o),o=AP(e,t,n,r),o===null&&I3(e,t,r,jC,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else I3(e,t,r,null,n)}}var jC=null;function AP(e,t,n,r){if(jC=null,e=r8(r),e=Ld(e),e!==null)if(t=pp(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Yle(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return jC=e,null}function lue(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(fHe()){case i8:return 1;case Zle:return 4;case LC:case dHe:return 16;case eue:return 536870912;default:return 16}default:return 16}}var Vc=null,l8=null,ES=null;function uue(){if(ES)return ES;var e,t=l8,n=t.length,r,i="value"in Vc?Vc.value:Vc.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===i[o-r];r++);return ES=i.slice(e,1<r?1-r:void 0)}function CS(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function m2(){return!0}function HW(){return!1}function qo(e){function t(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?m2:HW,this.isPropagationStopped=HW,this}return Cn(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=m2)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=m2)},persist:function(){},isPersistent:m2}),t}var V0={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},u8=qo(V0),Nx=Cn({},V0,{view:0,detail:0}),kHe=qo(Nx),T3,F3,zy,tA=Cn({},Nx,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:c8,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==zy&&(zy&&e.type==="mousemove"?(T3=e.screenX-zy.screenX,F3=e.screenY-zy.screenY):F3=T3=0,zy=e),T3)},movementY:function(e){return"movementY"in e?e.movementY:F3}}),qW=qo(tA),_He=Cn({},tA,{dataTransfer:0}),$He=qo(_He),AHe=Cn({},Nx,{relatedTarget:0}),R3=qo(AHe),THe=Cn({},V0,{animationName:0,elapsedTime:0,pseudoElement:0}),FHe=qo(THe),RHe=Cn({},V0,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),PHe=qo(RHe),OHe=Cn({},V0,{data:0}),GW=qo(OHe),DHe={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},MHe={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},NHe={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function LHe(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=NHe[e])?!!t[e]:!1}function c8(){return LHe}var IHe=Cn({},Nx,{key:function(e){if(e.key){var t=DHe[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=CS(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?MHe[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:c8,charCode:function(e){return e.type==="keypress"?CS(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?CS(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),zHe=qo(IHe),jHe=Cn({},tA,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),XW=qo(jHe),BHe=Cn({},Nx,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:c8}),UHe=qo(BHe),VHe=Cn({},V0,{propertyName:0,elapsedTime:0,pseudoElement:0}),WHe=qo(VHe),HHe=Cn({},tA,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),qHe=qo(HHe),GHe=[9,13,27,32],f8=Tu&&"CompositionEvent"in window,tv=null;Tu&&"documentMode"in document&&(tv=document.documentMode);var XHe=Tu&&"TextEvent"in window&&!tv,cue=Tu&&(!f8||tv&&8<tv&&11>=tv),YW=" ",KW=!1;function fue(e,t){switch(e){case"keyup":return GHe.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function due(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var lg=!1;function YHe(e,t){switch(e){case"compositionend":return due(t);case"keypress":return t.which!==32?null:(KW=!0,YW);case"textInput":return e=t.data,e===YW&&KW?null:e;default:return null}}function KHe(e,t){if(lg)return e==="compositionend"||!f8&&fue(e,t)?(e=uue(),ES=l8=Vc=null,lg=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return cue&&t.locale!=="ko"?null:t.data;default:return null}}var QHe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function QW(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!QHe[e.type]:t==="textarea"}function hue(e,t,n,r){Wle(r),t=BC(t,"onChange"),0<t.length&&(n=new u8("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var nv=null,ab=null;function JHe(e){Cue(e,0)}function nA(e){var t=fg(e);if(Lle(t))return e}function ZHe(e,t){if(e==="change")return t}var pue=!1;if(Tu){var P3;if(Tu){var O3="oninput"in document;if(!O3){var JW=document.createElement("div");JW.setAttribute("oninput","return;"),O3=typeof JW.oninput=="function"}P3=O3}else P3=!1;pue=P3&&(!document.documentMode||9<document.documentMode)}function ZW(){nv&&(nv.detachEvent("onpropertychange",gue),ab=nv=null)}function gue(e){if(e.propertyName==="value"&&nA(ab)){var t=[];hue(t,ab,e,r8(e)),Xle(JHe,t)}}function eqe(e,t,n){e==="focusin"?(ZW(),nv=t,ab=n,nv.attachEvent("onpropertychange",gue)):e==="focusout"&&ZW()}function tqe(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return nA(ab)}function nqe(e,t){if(e==="click")return nA(t)}function rqe(e,t){if(e==="input"||e==="change")return nA(t)}function iqe(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var va=typeof Object.is=="function"?Object.is:iqe;function lb(e,t){if(va(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!cP.call(t,i)||!va(e[i],t[i]))return!1}return!0}function eH(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function tH(e,t){var n=eH(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=eH(n)}}function mue(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?mue(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function yue(){for(var e=window,t=DC();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=DC(e.document)}return t}function d8(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function oqe(e){var t=yue(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&mue(n.ownerDocument.documentElement,n)){if(r!==null&&d8(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=tH(n,o);var s=tH(n,r);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var sqe=Tu&&"documentMode"in document&&11>=document.documentMode,ug=null,TP=null,rv=null,FP=!1;function nH(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;FP||ug==null||ug!==DC(r)||(r=ug,"selectionStart"in r&&d8(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),rv&&lb(rv,r)||(rv=r,r=BC(TP,"onSelect"),0<r.length&&(t=new u8("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=ug)))}function y2(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var cg={animationend:y2("Animation","AnimationEnd"),animationiteration:y2("Animation","AnimationIteration"),animationstart:y2("Animation","AnimationStart"),transitionend:y2("Transition","TransitionEnd")},D3={},vue={};Tu&&(vue=document.createElement("div").style,"AnimationEvent"in window||(delete cg.animationend.animation,delete cg.animationiteration.animation,delete cg.animationstart.animation),"TransitionEvent"in window||delete cg.transitionend.transition);function rA(e){if(D3[e])return D3[e];if(!cg[e])return e;var t=cg[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in vue)return D3[e]=t[n];return e}var bue=rA("animationend"),xue=rA("animationiteration"),wue=rA("animationstart"),Sue=rA("transitionend"),Eue=new Map,rH="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Wf(e,t){Eue.set(e,t),hp(t,[e])}for(var M3=0;M3<rH.length;M3++){var N3=rH[M3],aqe=N3.toLowerCase(),lqe=N3[0].toUpperCase()+N3.slice(1);Wf(aqe,"on"+lqe)}Wf(bue,"onAnimationEnd");Wf(xue,"onAnimationIteration");Wf(wue,"onAnimationStart");Wf("dblclick","onDoubleClick");Wf("focusin","onFocus");Wf("focusout","onBlur");Wf(Sue,"onTransitionEnd");Jm("onMouseEnter",["mouseout","mouseover"]);Jm("onMouseLeave",["mouseout","mouseover"]);Jm("onPointerEnter",["pointerout","pointerover"]);Jm("onPointerLeave",["pointerout","pointerover"]);hp("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));hp("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));hp("onBeforeInput",["compositionend","keypress","textInput","paste"]);hp("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));hp("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));hp("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $1="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),uqe=new Set("cancel close invalid load scroll toggle".split(" ").concat($1));function iH(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,aHe(r,t,void 0,e),e.currentTarget=null}function Cue(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;iH(i,a,u),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,u=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;iH(i,a,u),o=l}}}if(NC)throw e=kP,NC=!1,kP=null,e}function on(e,t){var n=t[MP];n===void 0&&(n=t[MP]=new Set);var r=e+"__bubble";n.has(r)||(kue(t,e,2,!1),n.add(r))}function L3(e,t,n){var r=0;t&&(r|=4),kue(n,e,r,t)}var v2="_reactListening"+Math.random().toString(36).slice(2);function ub(e){if(!e[v2]){e[v2]=!0,Ple.forEach(function(n){n!=="selectionchange"&&(uqe.has(n)||L3(n,!1,e),L3(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[v2]||(t[v2]=!0,L3("selectionchange",!1,t))}}function kue(e,t,n,r){switch(lue(t)){case 1:var i=EHe;break;case 4:i=CHe;break;default:i=a8}n=i.bind(null,t,n,e),i=void 0,!CP||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function I3(e,t,n,r,i){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=Ld(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}Xle(function(){var u=o,c=r8(n),f=[];e:{var d=Eue.get(e);if(d!==void 0){var h=u8,p=e;switch(e){case"keypress":if(CS(n)===0)break e;case"keydown":case"keyup":h=zHe;break;case"focusin":p="focus",h=R3;break;case"focusout":p="blur",h=R3;break;case"beforeblur":case"afterblur":h=R3;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=qW;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=$He;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=UHe;break;case bue:case xue:case wue:h=FHe;break;case Sue:h=WHe;break;case"scroll":h=kHe;break;case"wheel":h=qHe;break;case"copy":case"cut":case"paste":h=PHe;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=XW}var g=(t&4)!==0,m=!g&&e==="scroll",y=g?d!==null?d+"Capture":null:d;g=[];for(var v=u,b;v!==null;){b=v;var x=b.stateNode;if(b.tag===5&&x!==null&&(b=x,y!==null&&(x=rb(v,y),x!=null&&g.push(cb(v,x,b)))),m)break;v=v.return}0<g.length&&(d=new h(d,p,null,n,c),f.push({event:d,listeners:g}))}}if(!(t&7)){e:{if(d=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",d&&n!==SP&&(p=n.relatedTarget||n.fromElement)&&(Ld(p)||p[Fu]))break e;if((h||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,h?(p=n.relatedTarget||n.toElement,h=u,p=p?Ld(p):null,p!==null&&(m=pp(p),p!==m||p.tag!==5&&p.tag!==6)&&(p=null)):(h=null,p=u),h!==p)){if(g=qW,x="onMouseLeave",y="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(g=XW,x="onPointerLeave",y="onPointerEnter",v="pointer"),m=h==null?d:fg(h),b=p==null?d:fg(p),d=new g(x,v+"leave",h,n,c),d.target=m,d.relatedTarget=b,x=null,Ld(c)===u&&(g=new g(y,v+"enter",p,n,c),g.target=b,g.relatedTarget=m,x=g),m=x,h&&p)t:{for(g=h,y=p,v=0,b=g;b;b=Wp(b))v++;for(b=0,x=y;x;x=Wp(x))b++;for(;0<v-b;)g=Wp(g),v--;for(;0<b-v;)y=Wp(y),b--;for(;v--;){if(g===y||y!==null&&g===y.alternate)break t;g=Wp(g),y=Wp(y)}g=null}else g=null;h!==null&&oH(f,d,h,g,!1),p!==null&&m!==null&&oH(f,m,p,g,!0)}}e:{if(d=u?fg(u):window,h=d.nodeName&&d.nodeName.toLowerCase(),h==="select"||h==="input"&&d.type==="file")var w=ZHe;else if(QW(d))if(pue)w=rqe;else{w=tqe;var C=eqe}else(h=d.nodeName)&&h.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(w=nqe);if(w&&(w=w(e,u))){hue(f,w,n,c);break e}C&&C(e,d,u),e==="focusout"&&(C=d._wrapperState)&&C.controlled&&d.type==="number"&&yP(d,"number",d.value)}switch(C=u?fg(u):window,e){case"focusin":(QW(C)||C.contentEditable==="true")&&(ug=C,TP=u,rv=null);break;case"focusout":rv=TP=ug=null;break;case"mousedown":FP=!0;break;case"contextmenu":case"mouseup":case"dragend":FP=!1,nH(f,n,c);break;case"selectionchange":if(sqe)break;case"keydown":case"keyup":nH(f,n,c)}var S;if(f8)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else lg?fue(e,n)&&(k="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(k="onCompositionStart");k&&(cue&&n.locale!=="ko"&&(lg||k!=="onCompositionStart"?k==="onCompositionEnd"&&lg&&(S=uue()):(Vc=c,l8="value"in Vc?Vc.value:Vc.textContent,lg=!0)),C=BC(u,k),0<C.length&&(k=new GW(k,e,null,n,c),f.push({event:k,listeners:C}),S?k.data=S:(S=due(n),S!==null&&(k.data=S)))),(S=XHe?YHe(e,n):KHe(e,n))&&(u=BC(u,"onBeforeInput"),0<u.length&&(c=new GW("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:u}),c.data=S))}Cue(f,t)})}function cb(e,t,n){return{instance:e,listener:t,currentTarget:n}}function BC(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=rb(e,n),o!=null&&r.unshift(cb(e,o,i)),o=rb(e,t),o!=null&&r.push(cb(e,o,i))),e=e.return}return r}function Wp(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function oH(e,t,n,r,i){for(var o=t._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=rb(n,o),l!=null&&s.unshift(cb(n,l,a))):i||(l=rb(n,o),l!=null&&s.push(cb(n,l,a)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var cqe=/\r\n?/g,fqe=/\u0000|\uFFFD/g;function sH(e){return(typeof e=="string"?e:""+e).replace(cqe,`
`).replace(fqe,"")}function b2(e,t,n){if(t=sH(t),sH(e)!==t&&n)throw Error(fe(425))}function UC(){}var RP=null,PP=null;function OP(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var DP=typeof setTimeout=="function"?setTimeout:void 0,dqe=typeof clearTimeout=="function"?clearTimeout:void 0,aH=typeof Promise=="function"?Promise:void 0,hqe=typeof queueMicrotask=="function"?queueMicrotask:typeof aH<"u"?function(e){return aH.resolve(null).then(e).catch(pqe)}:DP;function pqe(e){setTimeout(function(){throw e})}function z3(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),sb(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);sb(t)}function ef(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function lH(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var W0=Math.random().toString(36).slice(2),Za="__reactFiber$"+W0,fb="__reactProps$"+W0,Fu="__reactContainer$"+W0,MP="__reactEvents$"+W0,gqe="__reactListeners$"+W0,mqe="__reactHandles$"+W0;function Ld(e){var t=e[Za];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Fu]||n[Za]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=lH(e);e!==null;){if(n=e[Za])return n;e=lH(e)}return t}e=n,n=e.parentNode}return null}function Lx(e){return e=e[Za]||e[Fu],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function fg(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(fe(33))}function iA(e){return e[fb]||null}var NP=[],dg=-1;function Hf(e){return{current:e}}function un(e){0>dg||(e.current=NP[dg],NP[dg]=null,dg--)}function en(e,t){dg++,NP[dg]=e.current,e.current=t}var _f={},ui=Hf(_f),no=Hf(!1),Nh=_f;function Zm(e,t){var n=e.type.contextTypes;if(!n)return _f;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function ro(e){return e=e.childContextTypes,e!=null}function VC(){un(no),un(ui)}function uH(e,t,n){if(ui.current!==_f)throw Error(fe(168));en(ui,t),en(no,n)}function _ue(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(fe(108,eHe(e)||"Unknown",i));return Cn({},n,r)}function WC(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||_f,Nh=ui.current,en(ui,e),en(no,no.current),!0}function cH(e,t,n){var r=e.stateNode;if(!r)throw Error(fe(169));n?(e=_ue(e,t,Nh),r.__reactInternalMemoizedMergedChildContext=e,un(no),un(ui),en(ui,e)):un(no),en(no,n)}var Ql=null,oA=!1,j3=!1;function $ue(e){Ql===null?Ql=[e]:Ql.push(e)}function yqe(e){oA=!0,$ue(e)}function qf(){if(!j3&&Ql!==null){j3=!0;var e=0,t=It;try{var n=Ql;for(It=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Ql=null,oA=!1}catch(i){throw Ql!==null&&(Ql=Ql.slice(e+1)),Jle(i8,qf),i}finally{It=t,j3=!1}}return null}var hg=[],pg=0,HC=null,qC=0,ss=[],as=0,Lh=null,au=1,lu="";function vd(e,t){hg[pg++]=qC,hg[pg++]=HC,HC=e,qC=t}function Aue(e,t,n){ss[as++]=au,ss[as++]=lu,ss[as++]=Lh,Lh=e;var r=au;e=lu;var i=32-aa(r)-1;r&=~(1<<i),n+=1;var o=32-aa(t)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,au=1<<32-aa(t)+i|n<<i|r,lu=o+e}else au=1<<o|n<<i|r,lu=e}function h8(e){e.return!==null&&(vd(e,1),Aue(e,1,0))}function p8(e){for(;e===HC;)HC=hg[--pg],hg[pg]=null,qC=hg[--pg],hg[pg]=null;for(;e===Lh;)Lh=ss[--as],ss[as]=null,lu=ss[--as],ss[as]=null,au=ss[--as],ss[as]=null}var Oo=null,Ao=null,hn=!1,Gs=null;function Tue(e,t){var n=ps(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function fH(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Oo=e,Ao=ef(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Oo=e,Ao=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Lh!==null?{id:au,overflow:lu}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=ps(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Oo=e,Ao=null,!0):!1;default:return!1}}function LP(e){return(e.mode&1)!==0&&(e.flags&128)===0}function IP(e){if(hn){var t=Ao;if(t){var n=t;if(!fH(e,t)){if(LP(e))throw Error(fe(418));t=ef(n.nextSibling);var r=Oo;t&&fH(e,t)?Tue(r,n):(e.flags=e.flags&-4097|2,hn=!1,Oo=e)}}else{if(LP(e))throw Error(fe(418));e.flags=e.flags&-4097|2,hn=!1,Oo=e}}}function dH(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Oo=e}function x2(e){if(e!==Oo)return!1;if(!hn)return dH(e),hn=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!OP(e.type,e.memoizedProps)),t&&(t=Ao)){if(LP(e))throw Fue(),Error(fe(418));for(;t;)Tue(e,t),t=ef(t.nextSibling)}if(dH(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(fe(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ao=ef(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ao=null}}else Ao=Oo?ef(e.stateNode.nextSibling):null;return!0}function Fue(){for(var e=Ao;e;)e=ef(e.nextSibling)}function e0(){Ao=Oo=null,hn=!1}function g8(e){Gs===null?Gs=[e]:Gs.push(e)}var vqe=Wu.ReactCurrentBatchConfig;function jy(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(fe(309));var r=n.stateNode}if(!r)throw Error(fe(147,e));var i=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(s){var a=i.refs;s===null?delete a[o]:a[o]=s},t._stringRef=o,t)}if(typeof e!="string")throw Error(fe(284));if(!n._owner)throw Error(fe(290,e))}return e}function w2(e,t){throw e=Object.prototype.toString.call(t),Error(fe(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function hH(e){var t=e._init;return t(e._payload)}function Rue(e){function t(y,v){if(e){var b=y.deletions;b===null?(y.deletions=[v],y.flags|=16):b.push(v)}}function n(y,v){if(!e)return null;for(;v!==null;)t(y,v),v=v.sibling;return null}function r(y,v){for(y=new Map;v!==null;)v.key!==null?y.set(v.key,v):y.set(v.index,v),v=v.sibling;return y}function i(y,v){return y=of(y,v),y.index=0,y.sibling=null,y}function o(y,v,b){return y.index=b,e?(b=y.alternate,b!==null?(b=b.index,b<v?(y.flags|=2,v):b):(y.flags|=2,v)):(y.flags|=1048576,v)}function s(y){return e&&y.alternate===null&&(y.flags|=2),y}function a(y,v,b,x){return v===null||v.tag!==6?(v=G3(b,y.mode,x),v.return=y,v):(v=i(v,b),v.return=y,v)}function l(y,v,b,x){var w=b.type;return w===ag?c(y,v,b.props.children,x,b.key):v!==null&&(v.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===xc&&hH(w)===v.type)?(x=i(v,b.props),x.ref=jy(y,v,b),x.return=y,x):(x=RS(b.type,b.key,b.props,null,y.mode,x),x.ref=jy(y,v,b),x.return=y,x)}function u(y,v,b,x){return v===null||v.tag!==4||v.stateNode.containerInfo!==b.containerInfo||v.stateNode.implementation!==b.implementation?(v=X3(b,y.mode,x),v.return=y,v):(v=i(v,b.children||[]),v.return=y,v)}function c(y,v,b,x,w){return v===null||v.tag!==7?(v=ah(b,y.mode,x,w),v.return=y,v):(v=i(v,b),v.return=y,v)}function f(y,v,b){if(typeof v=="string"&&v!==""||typeof v=="number")return v=G3(""+v,y.mode,b),v.return=y,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case c2:return b=RS(v.type,v.key,v.props,null,y.mode,b),b.ref=jy(y,null,v),b.return=y,b;case sg:return v=X3(v,y.mode,b),v.return=y,v;case xc:var x=v._init;return f(y,x(v._payload),b)}if(k1(v)||My(v))return v=ah(v,y.mode,b,null),v.return=y,v;w2(y,v)}return null}function d(y,v,b,x){var w=v!==null?v.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return w!==null?null:a(y,v,""+b,x);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case c2:return b.key===w?l(y,v,b,x):null;case sg:return b.key===w?u(y,v,b,x):null;case xc:return w=b._init,d(y,v,w(b._payload),x)}if(k1(b)||My(b))return w!==null?null:c(y,v,b,x,null);w2(y,b)}return null}function h(y,v,b,x,w){if(typeof x=="string"&&x!==""||typeof x=="number")return y=y.get(b)||null,a(v,y,""+x,w);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case c2:return y=y.get(x.key===null?b:x.key)||null,l(v,y,x,w);case sg:return y=y.get(x.key===null?b:x.key)||null,u(v,y,x,w);case xc:var C=x._init;return h(y,v,b,C(x._payload),w)}if(k1(x)||My(x))return y=y.get(b)||null,c(v,y,x,w,null);w2(v,x)}return null}function p(y,v,b,x){for(var w=null,C=null,S=v,k=v=0,$=null;S!==null&&k<b.length;k++){S.index>k?($=S,S=null):$=S.sibling;var R=d(y,S,b[k],x);if(R===null){S===null&&(S=$);break}e&&S&&R.alternate===null&&t(y,S),v=o(R,v,k),C===null?w=R:C.sibling=R,C=R,S=$}if(k===b.length)return n(y,S),hn&&vd(y,k),w;if(S===null){for(;k<b.length;k++)S=f(y,b[k],x),S!==null&&(v=o(S,v,k),C===null?w=S:C.sibling=S,C=S);return hn&&vd(y,k),w}for(S=r(y,S);k<b.length;k++)$=h(S,y,k,b[k],x),$!==null&&(e&&$.alternate!==null&&S.delete($.key===null?k:$.key),v=o($,v,k),C===null?w=$:C.sibling=$,C=$);return e&&S.forEach(function(O){return t(y,O)}),hn&&vd(y,k),w}function g(y,v,b,x){var w=My(b);if(typeof w!="function")throw Error(fe(150));if(b=w.call(b),b==null)throw Error(fe(151));for(var C=w=null,S=v,k=v=0,$=null,R=b.next();S!==null&&!R.done;k++,R=b.next()){S.index>k?($=S,S=null):$=S.sibling;var O=d(y,S,R.value,x);if(O===null){S===null&&(S=$);break}e&&S&&O.alternate===null&&t(y,S),v=o(O,v,k),C===null?w=O:C.sibling=O,C=O,S=$}if(R.done)return n(y,S),hn&&vd(y,k),w;if(S===null){for(;!R.done;k++,R=b.next())R=f(y,R.value,x),R!==null&&(v=o(R,v,k),C===null?w=R:C.sibling=R,C=R);return hn&&vd(y,k),w}for(S=r(y,S);!R.done;k++,R=b.next())R=h(S,y,k,R.value,x),R!==null&&(e&&R.alternate!==null&&S.delete(R.key===null?k:R.key),v=o(R,v,k),C===null?w=R:C.sibling=R,C=R);return e&&S.forEach(function(B){return t(y,B)}),hn&&vd(y,k),w}function m(y,v,b,x){if(typeof b=="object"&&b!==null&&b.type===ag&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case c2:e:{for(var w=b.key,C=v;C!==null;){if(C.key===w){if(w=b.type,w===ag){if(C.tag===7){n(y,C.sibling),v=i(C,b.props.children),v.return=y,y=v;break e}}else if(C.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===xc&&hH(w)===C.type){n(y,C.sibling),v=i(C,b.props),v.ref=jy(y,C,b),v.return=y,y=v;break e}n(y,C);break}else t(y,C);C=C.sibling}b.type===ag?(v=ah(b.props.children,y.mode,x,b.key),v.return=y,y=v):(x=RS(b.type,b.key,b.props,null,y.mode,x),x.ref=jy(y,v,b),x.return=y,y=x)}return s(y);case sg:e:{for(C=b.key;v!==null;){if(v.key===C)if(v.tag===4&&v.stateNode.containerInfo===b.containerInfo&&v.stateNode.implementation===b.implementation){n(y,v.sibling),v=i(v,b.children||[]),v.return=y,y=v;break e}else{n(y,v);break}else t(y,v);v=v.sibling}v=X3(b,y.mode,x),v.return=y,y=v}return s(y);case xc:return C=b._init,m(y,v,C(b._payload),x)}if(k1(b))return p(y,v,b,x);if(My(b))return g(y,v,b,x);w2(y,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,v!==null&&v.tag===6?(n(y,v.sibling),v=i(v,b),v.return=y,y=v):(n(y,v),v=G3(b,y.mode,x),v.return=y,y=v),s(y)):n(y,v)}return m}var t0=Rue(!0),Pue=Rue(!1),GC=Hf(null),XC=null,gg=null,m8=null;function y8(){m8=gg=XC=null}function v8(e){var t=GC.current;un(GC),e._currentValue=t}function zP(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Vg(e,t){XC=e,m8=gg=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Zi=!0),e.firstContext=null)}function _s(e){var t=e._currentValue;if(m8!==e)if(e={context:e,memoizedValue:t,next:null},gg===null){if(XC===null)throw Error(fe(308));gg=e,XC.dependencies={lanes:0,firstContext:e}}else gg=gg.next=e;return t}var Id=null;function b8(e){Id===null?Id=[e]:Id.push(e)}function Oue(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,b8(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ru(e,r)}function Ru(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var wc=!1;function x8(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Due(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function bu(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function tf(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,bt&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ru(e,n)}return i=r.interleaved,i===null?(t.next=t,b8(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ru(e,n)}function kS(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,o8(e,n)}}function pH(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function YC(e,t,n,r){var i=e.updateQueue;wc=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,s===null?o=u:s.next=u,s=l;var c=e.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==s&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(o!==null){var f=i.baseState;s=0,c=u=l=null,a=o;do{var d=a.lane,h=a.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,g=a;switch(d=t,h=n,g.tag){case 1:if(p=g.payload,typeof p=="function"){f=p.call(h,f,d);break e}f=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=g.payload,d=typeof p=="function"?p.call(h,f,d):p,d==null)break e;f=Cn({},f,d);break e;case 2:wc=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,d=i.effects,d===null?i.effects=[a]:d.push(a))}else h={eventTime:h,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=h,l=f):c=c.next=h,s|=d;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;d=a,a=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(c===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);zh|=s,e.lanes=s,e.memoizedState=f}}function gH(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(fe(191,i));i.call(r)}}}var Ix={},hl=Hf(Ix),db=Hf(Ix),hb=Hf(Ix);function zd(e){if(e===Ix)throw Error(fe(174));return e}function w8(e,t){switch(en(hb,t),en(db,e),en(hl,Ix),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:bP(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=bP(t,e)}un(hl),en(hl,t)}function n0(){un(hl),un(db),un(hb)}function Mue(e){zd(hb.current);var t=zd(hl.current),n=bP(t,e.type);t!==n&&(en(db,e),en(hl,n))}function S8(e){db.current===e&&(un(hl),un(db))}var xn=Hf(0);function KC(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var B3=[];function E8(){for(var e=0;e<B3.length;e++)B3[e]._workInProgressVersionPrimary=null;B3.length=0}var _S=Wu.ReactCurrentDispatcher,U3=Wu.ReactCurrentBatchConfig,Ih=0,En=null,Qn=null,ur=null,QC=!1,iv=!1,pb=0,bqe=0;function Wr(){throw Error(fe(321))}function C8(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!va(e[n],t[n]))return!1;return!0}function k8(e,t,n,r,i,o){if(Ih=o,En=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,_S.current=e===null||e.memoizedState===null?Eqe:Cqe,e=n(r,i),iv){o=0;do{if(iv=!1,pb=0,25<=o)throw Error(fe(301));o+=1,ur=Qn=null,t.updateQueue=null,_S.current=kqe,e=n(r,i)}while(iv)}if(_S.current=JC,t=Qn!==null&&Qn.next!==null,Ih=0,ur=Qn=En=null,QC=!1,t)throw Error(fe(300));return e}function _8(){var e=pb!==0;return pb=0,e}function za(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ur===null?En.memoizedState=ur=e:ur=ur.next=e,ur}function $s(){if(Qn===null){var e=En.alternate;e=e!==null?e.memoizedState:null}else e=Qn.next;var t=ur===null?En.memoizedState:ur.next;if(t!==null)ur=t,Qn=e;else{if(e===null)throw Error(fe(310));Qn=e,e={memoizedState:Qn.memoizedState,baseState:Qn.baseState,baseQueue:Qn.baseQueue,queue:Qn.queue,next:null},ur===null?En.memoizedState=ur=e:ur=ur.next=e}return ur}function gb(e,t){return typeof t=="function"?t(e):t}function V3(e){var t=$s(),n=t.queue;if(n===null)throw Error(fe(311));n.lastRenderedReducer=e;var r=Qn,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,u=o;do{var c=u.lane;if((Ih&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=f,s=r):l=l.next=f,En.lanes|=c,zh|=c}u=u.next}while(u!==null&&u!==o);l===null?s=r:l.next=a,va(r,t.memoizedState)||(Zi=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do o=i.lane,En.lanes|=o,zh|=o,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function W3(e){var t=$s(),n=t.queue;if(n===null)throw Error(fe(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=e(o,s.action),s=s.next;while(s!==i);va(o,t.memoizedState)||(Zi=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Nue(){}function Lue(e,t){var n=En,r=$s(),i=t(),o=!va(r.memoizedState,i);if(o&&(r.memoizedState=i,Zi=!0),r=r.queue,$8(jue.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||ur!==null&&ur.memoizedState.tag&1){if(n.flags|=2048,mb(9,zue.bind(null,n,r,i,t),void 0,null),yr===null)throw Error(fe(349));Ih&30||Iue(n,t,i)}return i}function Iue(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=En.updateQueue,t===null?(t={lastEffect:null,stores:null},En.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function zue(e,t,n,r){t.value=n,t.getSnapshot=r,Bue(t)&&Uue(e)}function jue(e,t,n){return n(function(){Bue(t)&&Uue(e)})}function Bue(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!va(e,n)}catch{return!0}}function Uue(e){var t=Ru(e,1);t!==null&&la(t,e,1,-1)}function mH(e){var t=za();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:gb,lastRenderedState:e},t.queue=e,e=e.dispatch=Sqe.bind(null,En,e),[t.memoizedState,e]}function mb(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=En.updateQueue,t===null?(t={lastEffect:null,stores:null},En.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Vue(){return $s().memoizedState}function $S(e,t,n,r){var i=za();En.flags|=e,i.memoizedState=mb(1|t,n,void 0,r===void 0?null:r)}function sA(e,t,n,r){var i=$s();r=r===void 0?null:r;var o=void 0;if(Qn!==null){var s=Qn.memoizedState;if(o=s.destroy,r!==null&&C8(r,s.deps)){i.memoizedState=mb(t,n,o,r);return}}En.flags|=e,i.memoizedState=mb(1|t,n,o,r)}function yH(e,t){return $S(8390656,8,e,t)}function $8(e,t){return sA(2048,8,e,t)}function Wue(e,t){return sA(4,2,e,t)}function Hue(e,t){return sA(4,4,e,t)}function que(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Gue(e,t,n){return n=n!=null?n.concat([e]):null,sA(4,4,que.bind(null,t,e),n)}function A8(){}function Xue(e,t){var n=$s();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&C8(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Yue(e,t){var n=$s();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&C8(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Kue(e,t,n){return Ih&21?(va(n,t)||(n=tue(),En.lanes|=n,zh|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Zi=!0),e.memoizedState=n)}function xqe(e,t){var n=It;It=n!==0&&4>n?n:4,e(!0);var r=U3.transition;U3.transition={};try{e(!1),t()}finally{It=n,U3.transition=r}}function Que(){return $s().memoizedState}function wqe(e,t,n){var r=rf(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Jue(e))Zue(t,n);else if(n=Oue(e,t,n,r),n!==null){var i=Pi();la(n,e,r,i),ece(n,t,r)}}function Sqe(e,t,n){var r=rf(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Jue(e))Zue(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var s=t.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,va(a,s)){var l=t.interleaved;l===null?(i.next=i,b8(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=Oue(e,t,i,r),n!==null&&(i=Pi(),la(n,e,r,i),ece(n,t,r))}}function Jue(e){var t=e.alternate;return e===En||t!==null&&t===En}function Zue(e,t){iv=QC=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function ece(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,o8(e,n)}}var JC={readContext:_s,useCallback:Wr,useContext:Wr,useEffect:Wr,useImperativeHandle:Wr,useInsertionEffect:Wr,useLayoutEffect:Wr,useMemo:Wr,useReducer:Wr,useRef:Wr,useState:Wr,useDebugValue:Wr,useDeferredValue:Wr,useTransition:Wr,useMutableSource:Wr,useSyncExternalStore:Wr,useId:Wr,unstable_isNewReconciler:!1},Eqe={readContext:_s,useCallback:function(e,t){return za().memoizedState=[e,t===void 0?null:t],e},useContext:_s,useEffect:yH,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,$S(4194308,4,que.bind(null,t,e),n)},useLayoutEffect:function(e,t){return $S(4194308,4,e,t)},useInsertionEffect:function(e,t){return $S(4,2,e,t)},useMemo:function(e,t){var n=za();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=za();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=wqe.bind(null,En,e),[r.memoizedState,e]},useRef:function(e){var t=za();return e={current:e},t.memoizedState=e},useState:mH,useDebugValue:A8,useDeferredValue:function(e){return za().memoizedState=e},useTransition:function(){var e=mH(!1),t=e[0];return e=xqe.bind(null,e[1]),za().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=En,i=za();if(hn){if(n===void 0)throw Error(fe(407));n=n()}else{if(n=t(),yr===null)throw Error(fe(349));Ih&30||Iue(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,yH(jue.bind(null,r,o,e),[e]),r.flags|=2048,mb(9,zue.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=za(),t=yr.identifierPrefix;if(hn){var n=lu,r=au;n=(r&~(1<<32-aa(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=pb++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=bqe++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Cqe={readContext:_s,useCallback:Xue,useContext:_s,useEffect:$8,useImperativeHandle:Gue,useInsertionEffect:Wue,useLayoutEffect:Hue,useMemo:Yue,useReducer:V3,useRef:Vue,useState:function(){return V3(gb)},useDebugValue:A8,useDeferredValue:function(e){var t=$s();return Kue(t,Qn.memoizedState,e)},useTransition:function(){var e=V3(gb)[0],t=$s().memoizedState;return[e,t]},useMutableSource:Nue,useSyncExternalStore:Lue,useId:Que,unstable_isNewReconciler:!1},kqe={readContext:_s,useCallback:Xue,useContext:_s,useEffect:$8,useImperativeHandle:Gue,useInsertionEffect:Wue,useLayoutEffect:Hue,useMemo:Yue,useReducer:W3,useRef:Vue,useState:function(){return W3(gb)},useDebugValue:A8,useDeferredValue:function(e){var t=$s();return Qn===null?t.memoizedState=e:Kue(t,Qn.memoizedState,e)},useTransition:function(){var e=W3(gb)[0],t=$s().memoizedState;return[e,t]},useMutableSource:Nue,useSyncExternalStore:Lue,useId:Que,unstable_isNewReconciler:!1};function js(e,t){if(e&&e.defaultProps){t=Cn({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function jP(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Cn({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var aA={isMounted:function(e){return(e=e._reactInternals)?pp(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Pi(),i=rf(e),o=bu(r,i);o.payload=t,n!=null&&(o.callback=n),t=tf(e,o,i),t!==null&&(la(t,e,i,r),kS(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Pi(),i=rf(e),o=bu(r,i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=tf(e,o,i),t!==null&&(la(t,e,i,r),kS(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Pi(),r=rf(e),i=bu(n,r);i.tag=2,t!=null&&(i.callback=t),t=tf(e,i,r),t!==null&&(la(t,e,r,n),kS(t,e,r))}};function vH(e,t,n,r,i,o,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,s):t.prototype&&t.prototype.isPureReactComponent?!lb(n,r)||!lb(i,o):!0}function tce(e,t,n){var r=!1,i=_f,o=t.contextType;return typeof o=="object"&&o!==null?o=_s(o):(i=ro(t)?Nh:ui.current,r=t.contextTypes,o=(r=r!=null)?Zm(e,i):_f),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=aA,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function bH(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&aA.enqueueReplaceState(t,t.state,null)}function BP(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},x8(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=_s(o):(o=ro(t)?Nh:ui.current,i.context=Zm(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(jP(e,t,o,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&aA.enqueueReplaceState(i,i.state,null),YC(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function r0(e,t){try{var n="",r=t;do n+=ZWe(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function H3(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function UP(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var _qe=typeof WeakMap=="function"?WeakMap:Map;function nce(e,t,n){n=bu(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ek||(ek=!0,JP=r),UP(e,t)},n}function rce(e,t,n){n=bu(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){UP(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){UP(e,t),typeof r!="function"&&(nf===null?nf=new Set([this]):nf.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function xH(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new _qe;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=jqe.bind(null,e,t,n),t.then(e,e))}function wH(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function SH(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=bu(-1,1),t.tag=2,tf(n,t,1))),n.lanes|=1),e)}var $qe=Wu.ReactCurrentOwner,Zi=!1;function xi(e,t,n,r){t.child=e===null?Pue(t,null,n,r):t0(t,e.child,n,r)}function EH(e,t,n,r,i){n=n.render;var o=t.ref;return Vg(t,i),r=k8(e,t,n,r,o,i),n=_8(),e!==null&&!Zi?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Pu(e,t,i)):(hn&&n&&h8(t),t.flags|=1,xi(e,t,r,i),t.child)}function CH(e,t,n,r,i){if(e===null){var o=n.type;return typeof o=="function"&&!N8(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,ice(e,t,o,r,i)):(e=RS(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:lb,n(s,r)&&e.ref===t.ref)return Pu(e,t,i)}return t.flags|=1,e=of(o,r),e.ref=t.ref,e.return=t,t.child=e}function ice(e,t,n,r,i){if(e!==null){var o=e.memoizedProps;if(lb(o,r)&&e.ref===t.ref)if(Zi=!1,t.pendingProps=r=o,(e.lanes&i)!==0)e.flags&131072&&(Zi=!0);else return t.lanes=e.lanes,Pu(e,t,i)}return VP(e,t,n,r,i)}function oce(e,t,n){var r=t.pendingProps,i=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},en(yg,wo),wo|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,en(yg,wo),wo|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,en(yg,wo),wo|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,en(yg,wo),wo|=r;return xi(e,t,i,n),t.child}function sce(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function VP(e,t,n,r,i){var o=ro(n)?Nh:ui.current;return o=Zm(t,o),Vg(t,i),n=k8(e,t,n,r,o,i),r=_8(),e!==null&&!Zi?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Pu(e,t,i)):(hn&&r&&h8(t),t.flags|=1,xi(e,t,n,i),t.child)}function kH(e,t,n,r,i){if(ro(n)){var o=!0;WC(t)}else o=!1;if(Vg(t,i),t.stateNode===null)AS(e,t),tce(t,n,r),BP(t,n,r,i),r=!0;else if(e===null){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=_s(u):(u=ro(n)?Nh:ui.current,u=Zm(t,u));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==u)&&bH(t,s,r,u),wc=!1;var d=t.memoizedState;s.state=d,YC(t,r,s,i),l=t.memoizedState,a!==r||d!==l||no.current||wc?(typeof c=="function"&&(jP(t,n,c,r),l=t.memoizedState),(a=wc||vH(t,n,a,r,d,l,u))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=u,r=a):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,Due(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:js(t.type,a),s.props=u,f=t.pendingProps,d=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=_s(l):(l=ro(n)?Nh:ui.current,l=Zm(t,l));var h=n.getDerivedStateFromProps;(c=typeof h=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==f||d!==l)&&bH(t,s,r,l),wc=!1,d=t.memoizedState,s.state=d,YC(t,r,s,i);var p=t.memoizedState;a!==f||d!==p||no.current||wc?(typeof h=="function"&&(jP(t,n,h,r),p=t.memoizedState),(u=wc||vH(t,n,u,r,d,p,l)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,p,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,p,l)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),s.props=r,s.state=p,s.context=l,r=u):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return WP(e,t,n,r,o,i)}function WP(e,t,n,r,i,o){sce(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return i&&cH(t,n,!1),Pu(e,t,o);r=t.stateNode,$qe.current=t;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=t0(t,e.child,null,o),t.child=t0(t,null,a,o)):xi(e,t,a,o),t.memoizedState=r.state,i&&cH(t,n,!0),t.child}function ace(e){var t=e.stateNode;t.pendingContext?uH(e,t.pendingContext,t.pendingContext!==t.context):t.context&&uH(e,t.context,!1),w8(e,t.containerInfo)}function _H(e,t,n,r,i){return e0(),g8(i),t.flags|=256,xi(e,t,n,r),t.child}var HP={dehydrated:null,treeContext:null,retryLane:0};function qP(e){return{baseLanes:e,cachePool:null,transitions:null}}function lce(e,t,n){var r=t.pendingProps,i=xn.current,o=!1,s=(t.flags&128)!==0,a;if((a=s)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),en(xn,i&1),e===null)return IP(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,o?(r=t.mode,o=t.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=cA(s,r,0,null),e=ah(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=qP(n),t.memoizedState=HP,e):T8(t,s));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return Aqe(e,t,s,r,a,i,n);if(o){o=r.fallback,s=t.mode,i=e.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=of(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=of(a,o):(o=ah(o,s,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,s=e.child.memoizedState,s=s===null?qP(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=e.childLanes&~n,t.memoizedState=HP,r}return o=e.child,e=o.sibling,r=of(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function T8(e,t){return t=cA({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function S2(e,t,n,r){return r!==null&&g8(r),t0(t,e.child,null,n),e=T8(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Aqe(e,t,n,r,i,o,s){if(n)return t.flags&256?(t.flags&=-257,r=H3(Error(fe(422))),S2(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=cA({mode:"visible",children:r.children},i,0,null),o=ah(o,i,s,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&t0(t,e.child,null,s),t.child.memoizedState=qP(s),t.memoizedState=HP,o);if(!(t.mode&1))return S2(e,t,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(fe(419)),r=H3(o,r,void 0),S2(e,t,s,r)}if(a=(s&e.childLanes)!==0,Zi||a){if(r=yr,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Ru(e,i),la(r,e,i,-1))}return M8(),r=H3(Error(fe(421))),S2(e,t,s,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=Bqe.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,Ao=ef(i.nextSibling),Oo=t,hn=!0,Gs=null,e!==null&&(ss[as++]=au,ss[as++]=lu,ss[as++]=Lh,au=e.id,lu=e.overflow,Lh=t),t=T8(t,r.children),t.flags|=4096,t)}function $H(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),zP(e.return,t,n)}function q3(e,t,n,r,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function uce(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(xi(e,t,r.children,n),r=xn.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&$H(e,n,t);else if(e.tag===19)$H(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(en(xn,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&KC(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),q3(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&KC(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}q3(t,!0,n,null,o);break;case"together":q3(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function AS(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Pu(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),zh|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(fe(153));if(t.child!==null){for(e=t.child,n=of(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=of(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Tqe(e,t,n){switch(t.tag){case 3:ace(t),e0();break;case 5:Mue(t);break;case 1:ro(t.type)&&WC(t);break;case 4:w8(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;en(GC,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(en(xn,xn.current&1),t.flags|=128,null):n&t.child.childLanes?lce(e,t,n):(en(xn,xn.current&1),e=Pu(e,t,n),e!==null?e.sibling:null);en(xn,xn.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return uce(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),en(xn,xn.current),r)break;return null;case 22:case 23:return t.lanes=0,oce(e,t,n)}return Pu(e,t,n)}var cce,GP,fce,dce;cce=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};GP=function(){};fce=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,zd(hl.current);var o=null;switch(n){case"input":i=gP(e,i),r=gP(e,r),o=[];break;case"select":i=Cn({},i,{value:void 0}),r=Cn({},r,{value:void 0}),o=[];break;case"textarea":i=vP(e,i),r=vP(e,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=UC)}xP(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(tb.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(tb.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&on("scroll",e),o||a===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};dce=function(e,t,n,r){n!==r&&(t.flags|=4)};function By(e,t){if(!hn)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Hr(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Fqe(e,t,n){var r=t.pendingProps;switch(p8(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Hr(t),null;case 1:return ro(t.type)&&VC(),Hr(t),null;case 3:return r=t.stateNode,n0(),un(no),un(ui),E8(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(x2(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Gs!==null&&(tO(Gs),Gs=null))),GP(e,t),Hr(t),null;case 5:S8(t);var i=zd(hb.current);if(n=t.type,e!==null&&t.stateNode!=null)fce(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(fe(166));return Hr(t),null}if(e=zd(hl.current),x2(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[Za]=t,r[fb]=o,e=(t.mode&1)!==0,n){case"dialog":on("cancel",r),on("close",r);break;case"iframe":case"object":case"embed":on("load",r);break;case"video":case"audio":for(i=0;i<$1.length;i++)on($1[i],r);break;case"source":on("error",r);break;case"img":case"image":case"link":on("error",r),on("load",r);break;case"details":on("toggle",r);break;case"input":NW(r,o),on("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},on("invalid",r);break;case"textarea":IW(r,o),on("invalid",r)}xP(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&b2(r.textContent,a,e),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&b2(r.textContent,a,e),i=["children",""+a]):tb.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&on("scroll",r)}switch(n){case"input":f2(r),LW(r,o,!0);break;case"textarea":f2(r),zW(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=UC)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=jle(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[Za]=t,e[fb]=r,cce(e,t,!1,!1),t.stateNode=e;e:{switch(s=wP(n,r),n){case"dialog":on("cancel",e),on("close",e),i=r;break;case"iframe":case"object":case"embed":on("load",e),i=r;break;case"video":case"audio":for(i=0;i<$1.length;i++)on($1[i],e);i=r;break;case"source":on("error",e),i=r;break;case"img":case"image":case"link":on("error",e),on("load",e),i=r;break;case"details":on("toggle",e),i=r;break;case"input":NW(e,r),i=gP(e,r),on("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Cn({},r,{value:void 0}),on("invalid",e);break;case"textarea":IW(e,r),i=vP(e,r),on("invalid",e);break;default:i=r}xP(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?Vle(e,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Ble(e,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&nb(e,l):typeof l=="number"&&nb(e,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(tb.hasOwnProperty(o)?l!=null&&o==="onScroll"&&on("scroll",e):l!=null&&ZI(e,o,l,s))}switch(n){case"input":f2(e),LW(e,r,!1);break;case"textarea":f2(e),zW(e);break;case"option":r.value!=null&&e.setAttribute("value",""+kf(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?zg(e,!!r.multiple,o,!1):r.defaultValue!=null&&zg(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=UC)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Hr(t),null;case 6:if(e&&t.stateNode!=null)dce(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(fe(166));if(n=zd(hb.current),zd(hl.current),x2(t)){if(r=t.stateNode,n=t.memoizedProps,r[Za]=t,(o=r.nodeValue!==n)&&(e=Oo,e!==null))switch(e.tag){case 3:b2(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&b2(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Za]=t,t.stateNode=r}return Hr(t),null;case 13:if(un(xn),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(hn&&Ao!==null&&t.mode&1&&!(t.flags&128))Fue(),e0(),t.flags|=98560,o=!1;else if(o=x2(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(fe(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(fe(317));o[Za]=t}else e0(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Hr(t),o=!1}else Gs!==null&&(tO(Gs),Gs=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||xn.current&1?rr===0&&(rr=3):M8())),t.updateQueue!==null&&(t.flags|=4),Hr(t),null);case 4:return n0(),GP(e,t),e===null&&ub(t.stateNode.containerInfo),Hr(t),null;case 10:return v8(t.type._context),Hr(t),null;case 17:return ro(t.type)&&VC(),Hr(t),null;case 19:if(un(xn),o=t.memoizedState,o===null)return Hr(t),null;if(r=(t.flags&128)!==0,s=o.rendering,s===null)if(r)By(o,!1);else{if(rr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=KC(e),s!==null){for(t.flags|=128,By(o,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return en(xn,xn.current&1|2),t.child}e=e.sibling}o.tail!==null&&Ln()>i0&&(t.flags|=128,r=!0,By(o,!1),t.lanes=4194304)}else{if(!r)if(e=KC(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),By(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!hn)return Hr(t),null}else 2*Ln()-o.renderingStartTime>i0&&n!==1073741824&&(t.flags|=128,r=!0,By(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(n=o.last,n!==null?n.sibling=s:t.child=s,o.last=s)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ln(),t.sibling=null,n=xn.current,en(xn,r?n&1|2:n&1),t):(Hr(t),null);case 22:case 23:return D8(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?wo&1073741824&&(Hr(t),t.subtreeFlags&6&&(t.flags|=8192)):Hr(t),null;case 24:return null;case 25:return null}throw Error(fe(156,t.tag))}function Rqe(e,t){switch(p8(t),t.tag){case 1:return ro(t.type)&&VC(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return n0(),un(no),un(ui),E8(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return S8(t),null;case 13:if(un(xn),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(fe(340));e0()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return un(xn),null;case 4:return n0(),null;case 10:return v8(t.type._context),null;case 22:case 23:return D8(),null;case 24:return null;default:return null}}var E2=!1,Zr=!1,Pqe=typeof WeakSet=="function"?WeakSet:Set,Ce=null;function mg(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Tn(e,t,r)}else n.current=null}function XP(e,t,n){try{n()}catch(r){Tn(e,t,r)}}var AH=!1;function Oqe(e,t){if(RP=zC,e=yue(),d8(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,u=0,c=0,f=e,d=null;t:for(;;){for(var h;f!==n||i!==0&&f.nodeType!==3||(a=s+i),f!==o||r!==0&&f.nodeType!==3||(l=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(h=f.firstChild)!==null;)d=f,f=h;for(;;){if(f===e)break t;if(d===n&&++u===i&&(a=s),d===o&&++c===r&&(l=s),(h=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=h}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(PP={focusedElem:e,selectionRange:n},zC=!1,Ce=t;Ce!==null;)if(t=Ce,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ce=e;else for(;Ce!==null;){t=Ce;try{var p=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var g=p.memoizedProps,m=p.memoizedState,y=t.stateNode,v=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:js(t.type,g),m);y.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(fe(163))}}catch(x){Tn(t,t.return,x)}if(e=t.sibling,e!==null){e.return=t.return,Ce=e;break}Ce=t.return}return p=AH,AH=!1,p}function ov(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&XP(t,n,o)}i=i.next}while(i!==r)}}function lA(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function YP(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function hce(e){var t=e.alternate;t!==null&&(e.alternate=null,hce(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Za],delete t[fb],delete t[MP],delete t[gqe],delete t[mqe])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function pce(e){return e.tag===5||e.tag===3||e.tag===4}function TH(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||pce(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function KP(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=UC));else if(r!==4&&(e=e.child,e!==null))for(KP(e,t,n),e=e.sibling;e!==null;)KP(e,t,n),e=e.sibling}function QP(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(QP(e,t,n),e=e.sibling;e!==null;)QP(e,t,n),e=e.sibling}var Cr=null,Ws=!1;function oc(e,t,n){for(n=n.child;n!==null;)gce(e,t,n),n=n.sibling}function gce(e,t,n){if(dl&&typeof dl.onCommitFiberUnmount=="function")try{dl.onCommitFiberUnmount(eA,n)}catch{}switch(n.tag){case 5:Zr||mg(n,t);case 6:var r=Cr,i=Ws;Cr=null,oc(e,t,n),Cr=r,Ws=i,Cr!==null&&(Ws?(e=Cr,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Cr.removeChild(n.stateNode));break;case 18:Cr!==null&&(Ws?(e=Cr,n=n.stateNode,e.nodeType===8?z3(e.parentNode,n):e.nodeType===1&&z3(e,n),sb(e)):z3(Cr,n.stateNode));break;case 4:r=Cr,i=Ws,Cr=n.stateNode.containerInfo,Ws=!0,oc(e,t,n),Cr=r,Ws=i;break;case 0:case 11:case 14:case 15:if(!Zr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&XP(n,t,s),i=i.next}while(i!==r)}oc(e,t,n);break;case 1:if(!Zr&&(mg(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Tn(n,t,a)}oc(e,t,n);break;case 21:oc(e,t,n);break;case 22:n.mode&1?(Zr=(r=Zr)||n.memoizedState!==null,oc(e,t,n),Zr=r):oc(e,t,n);break;default:oc(e,t,n)}}function FH(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Pqe),t.forEach(function(r){var i=Uqe.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Ns(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,a=s;e:for(;a!==null;){switch(a.tag){case 5:Cr=a.stateNode,Ws=!1;break e;case 3:Cr=a.stateNode.containerInfo,Ws=!0;break e;case 4:Cr=a.stateNode.containerInfo,Ws=!0;break e}a=a.return}if(Cr===null)throw Error(fe(160));gce(o,s,i),Cr=null,Ws=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Tn(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)mce(t,e),t=t.sibling}function mce(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ns(t,e),Pa(e),r&4){try{ov(3,e,e.return),lA(3,e)}catch(g){Tn(e,e.return,g)}try{ov(5,e,e.return)}catch(g){Tn(e,e.return,g)}}break;case 1:Ns(t,e),Pa(e),r&512&&n!==null&&mg(n,n.return);break;case 5:if(Ns(t,e),Pa(e),r&512&&n!==null&&mg(n,n.return),e.flags&32){var i=e.stateNode;try{nb(i,"")}catch(g){Tn(e,e.return,g)}}if(r&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,s=n!==null?n.memoizedProps:o,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&Ile(i,o),wP(a,s);var u=wP(a,o);for(s=0;s<l.length;s+=2){var c=l[s],f=l[s+1];c==="style"?Vle(i,f):c==="dangerouslySetInnerHTML"?Ble(i,f):c==="children"?nb(i,f):ZI(i,c,f,u)}switch(a){case"input":mP(i,o);break;case"textarea":zle(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var h=o.value;h!=null?zg(i,!!o.multiple,h,!1):d!==!!o.multiple&&(o.defaultValue!=null?zg(i,!!o.multiple,o.defaultValue,!0):zg(i,!!o.multiple,o.multiple?[]:"",!1))}i[fb]=o}catch(g){Tn(e,e.return,g)}}break;case 6:if(Ns(t,e),Pa(e),r&4){if(e.stateNode===null)throw Error(fe(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(g){Tn(e,e.return,g)}}break;case 3:if(Ns(t,e),Pa(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{sb(t.containerInfo)}catch(g){Tn(e,e.return,g)}break;case 4:Ns(t,e),Pa(e);break;case 13:Ns(t,e),Pa(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(P8=Ln())),r&4&&FH(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(Zr=(u=Zr)||c,Ns(t,e),Zr=u):Ns(t,e),Pa(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(Ce=e,c=e.child;c!==null;){for(f=Ce=c;Ce!==null;){switch(d=Ce,h=d.child,d.tag){case 0:case 11:case 14:case 15:ov(4,d,d.return);break;case 1:mg(d,d.return);var p=d.stateNode;if(typeof p.componentWillUnmount=="function"){r=d,n=d.return;try{t=r,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(g){Tn(r,n,g)}}break;case 5:mg(d,d.return);break;case 22:if(d.memoizedState!==null){PH(f);continue}}h!==null?(h.return=d,Ce=h):PH(f)}c=c.sibling}e:for(c=null,f=e;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Ule("display",s))}catch(g){Tn(e,e.return,g)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(g){Tn(e,e.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Ns(t,e),Pa(e),r&4&&FH(e);break;case 21:break;default:Ns(t,e),Pa(e)}}function Pa(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(pce(n)){var r=n;break e}n=n.return}throw Error(fe(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(nb(i,""),r.flags&=-33);var o=TH(e);QP(e,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=TH(e);KP(e,a,s);break;default:throw Error(fe(161))}}catch(l){Tn(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Dqe(e,t,n){Ce=e,yce(e)}function yce(e,t,n){for(var r=(e.mode&1)!==0;Ce!==null;){var i=Ce,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||E2;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Zr;a=E2;var u=Zr;if(E2=s,(Zr=l)&&!u)for(Ce=i;Ce!==null;)s=Ce,l=s.child,s.tag===22&&s.memoizedState!==null?OH(i):l!==null?(l.return=s,Ce=l):OH(i);for(;o!==null;)Ce=o,yce(o),o=o.sibling;Ce=i,E2=a,Zr=u}RH(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,Ce=o):RH(e)}}function RH(e){for(;Ce!==null;){var t=Ce;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Zr||lA(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Zr)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:js(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&gH(t,o,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}gH(t,s,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&sb(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(fe(163))}Zr||t.flags&512&&YP(t)}catch(d){Tn(t,t.return,d)}}if(t===e){Ce=null;break}if(n=t.sibling,n!==null){n.return=t.return,Ce=n;break}Ce=t.return}}function PH(e){for(;Ce!==null;){var t=Ce;if(t===e){Ce=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Ce=n;break}Ce=t.return}}function OH(e){for(;Ce!==null;){var t=Ce;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{lA(4,t)}catch(l){Tn(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){Tn(t,i,l)}}var o=t.return;try{YP(t)}catch(l){Tn(t,o,l)}break;case 5:var s=t.return;try{YP(t)}catch(l){Tn(t,s,l)}}}catch(l){Tn(t,t.return,l)}if(t===e){Ce=null;break}var a=t.sibling;if(a!==null){a.return=t.return,Ce=a;break}Ce=t.return}}var Mqe=Math.ceil,ZC=Wu.ReactCurrentDispatcher,F8=Wu.ReactCurrentOwner,vs=Wu.ReactCurrentBatchConfig,bt=0,yr=null,qn=null,Nr=0,wo=0,yg=Hf(0),rr=0,yb=null,zh=0,uA=0,R8=0,sv=null,Xi=null,P8=0,i0=1/0,Xl=null,ek=!1,JP=null,nf=null,C2=!1,Wc=null,tk=0,av=0,ZP=null,TS=-1,FS=0;function Pi(){return bt&6?Ln():TS!==-1?TS:TS=Ln()}function rf(e){return e.mode&1?bt&2&&Nr!==0?Nr&-Nr:vqe.transition!==null?(FS===0&&(FS=tue()),FS):(e=It,e!==0||(e=window.event,e=e===void 0?16:lue(e.type)),e):1}function la(e,t,n,r){if(50<av)throw av=0,ZP=null,Error(fe(185));Mx(e,n,r),(!(bt&2)||e!==yr)&&(e===yr&&(!(bt&2)&&(uA|=n),rr===4&&_c(e,Nr)),io(e,r),n===1&&bt===0&&!(t.mode&1)&&(i0=Ln()+500,oA&&qf()))}function io(e,t){var n=e.callbackNode;vHe(e,t);var r=IC(e,e===yr?Nr:0);if(r===0)n!==null&&UW(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&UW(n),t===1)e.tag===0?yqe(DH.bind(null,e)):$ue(DH.bind(null,e)),hqe(function(){!(bt&6)&&qf()}),n=null;else{switch(nue(r)){case 1:n=i8;break;case 4:n=Zle;break;case 16:n=LC;break;case 536870912:n=eue;break;default:n=LC}n=kce(n,vce.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function vce(e,t){if(TS=-1,FS=0,bt&6)throw Error(fe(327));var n=e.callbackNode;if(Wg()&&e.callbackNode!==n)return null;var r=IC(e,e===yr?Nr:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=nk(e,r);else{t=r;var i=bt;bt|=2;var o=xce();(yr!==e||Nr!==t)&&(Xl=null,i0=Ln()+500,sh(e,t));do try{Iqe();break}catch(a){bce(e,a)}while(!0);y8(),ZC.current=o,bt=i,qn!==null?t=0:(yr=null,Nr=0,t=rr)}if(t!==0){if(t===2&&(i=_P(e),i!==0&&(r=i,t=eO(e,i))),t===1)throw n=yb,sh(e,0),_c(e,r),io(e,Ln()),n;if(t===6)_c(e,r);else{if(i=e.current.alternate,!(r&30)&&!Nqe(i)&&(t=nk(e,r),t===2&&(o=_P(e),o!==0&&(r=o,t=eO(e,o))),t===1))throw n=yb,sh(e,0),_c(e,r),io(e,Ln()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(fe(345));case 2:bd(e,Xi,Xl);break;case 3:if(_c(e,r),(r&130023424)===r&&(t=P8+500-Ln(),10<t)){if(IC(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Pi(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=DP(bd.bind(null,e,Xi,Xl),t);break}bd(e,Xi,Xl);break;case 4:if(_c(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-aa(r);o=1<<s,s=t[s],s>i&&(i=s),r&=~o}if(r=i,r=Ln()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Mqe(r/1960))-r,10<r){e.timeoutHandle=DP(bd.bind(null,e,Xi,Xl),r);break}bd(e,Xi,Xl);break;case 5:bd(e,Xi,Xl);break;default:throw Error(fe(329))}}}return io(e,Ln()),e.callbackNode===n?vce.bind(null,e):null}function eO(e,t){var n=sv;return e.current.memoizedState.isDehydrated&&(sh(e,t).flags|=256),e=nk(e,t),e!==2&&(t=Xi,Xi=n,t!==null&&tO(t)),e}function tO(e){Xi===null?Xi=e:Xi.push.apply(Xi,e)}function Nqe(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!va(o(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function _c(e,t){for(t&=~R8,t&=~uA,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-aa(t),r=1<<n;e[n]=-1,t&=~r}}function DH(e){if(bt&6)throw Error(fe(327));Wg();var t=IC(e,0);if(!(t&1))return io(e,Ln()),null;var n=nk(e,t);if(e.tag!==0&&n===2){var r=_P(e);r!==0&&(t=r,n=eO(e,r))}if(n===1)throw n=yb,sh(e,0),_c(e,t),io(e,Ln()),n;if(n===6)throw Error(fe(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,bd(e,Xi,Xl),io(e,Ln()),null}function O8(e,t){var n=bt;bt|=1;try{return e(t)}finally{bt=n,bt===0&&(i0=Ln()+500,oA&&qf())}}function jh(e){Wc!==null&&Wc.tag===0&&!(bt&6)&&Wg();var t=bt;bt|=1;var n=vs.transition,r=It;try{if(vs.transition=null,It=1,e)return e()}finally{It=r,vs.transition=n,bt=t,!(bt&6)&&qf()}}function D8(){wo=yg.current,un(yg)}function sh(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,dqe(n)),qn!==null)for(n=qn.return;n!==null;){var r=n;switch(p8(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&VC();break;case 3:n0(),un(no),un(ui),E8();break;case 5:S8(r);break;case 4:n0();break;case 13:un(xn);break;case 19:un(xn);break;case 10:v8(r.type._context);break;case 22:case 23:D8()}n=n.return}if(yr=e,qn=e=of(e.current,null),Nr=wo=t,rr=0,yb=null,R8=uA=zh=0,Xi=sv=null,Id!==null){for(t=0;t<Id.length;t++)if(n=Id[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}Id=null}return e}function bce(e,t){do{var n=qn;try{if(y8(),_S.current=JC,QC){for(var r=En.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}QC=!1}if(Ih=0,ur=Qn=En=null,iv=!1,pb=0,F8.current=null,n===null||n.return===null){rr=1,yb=t,qn=null;break}e:{var o=e,s=n.return,a=n,l=t;if(t=Nr,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var h=wH(s);if(h!==null){h.flags&=-257,SH(h,s,a,o,t),h.mode&1&&xH(o,u,t),t=h,l=u;var p=t.updateQueue;if(p===null){var g=new Set;g.add(l),t.updateQueue=g}else p.add(l);break e}else{if(!(t&1)){xH(o,u,t),M8();break e}l=Error(fe(426))}}else if(hn&&a.mode&1){var m=wH(s);if(m!==null){!(m.flags&65536)&&(m.flags|=256),SH(m,s,a,o,t),g8(r0(l,a));break e}}o=l=r0(l,a),rr!==4&&(rr=2),sv===null?sv=[o]:sv.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var y=nce(o,l,t);pH(o,y);break e;case 1:a=l;var v=o.type,b=o.stateNode;if(!(o.flags&128)&&(typeof v.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(nf===null||!nf.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t;var x=rce(o,a,t);pH(o,x);break e}}o=o.return}while(o!==null)}Sce(n)}catch(w){t=w,qn===n&&n!==null&&(qn=n=n.return);continue}break}while(!0)}function xce(){var e=ZC.current;return ZC.current=JC,e===null?JC:e}function M8(){(rr===0||rr===3||rr===2)&&(rr=4),yr===null||!(zh&268435455)&&!(uA&268435455)||_c(yr,Nr)}function nk(e,t){var n=bt;bt|=2;var r=xce();(yr!==e||Nr!==t)&&(Xl=null,sh(e,t));do try{Lqe();break}catch(i){bce(e,i)}while(!0);if(y8(),bt=n,ZC.current=r,qn!==null)throw Error(fe(261));return yr=null,Nr=0,rr}function Lqe(){for(;qn!==null;)wce(qn)}function Iqe(){for(;qn!==null&&!uHe();)wce(qn)}function wce(e){var t=Cce(e.alternate,e,wo);e.memoizedProps=e.pendingProps,t===null?Sce(e):qn=t,F8.current=null}function Sce(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Rqe(n,t),n!==null){n.flags&=32767,qn=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{rr=6,qn=null;return}}else if(n=Fqe(n,t,wo),n!==null){qn=n;return}if(t=t.sibling,t!==null){qn=t;return}qn=t=e}while(t!==null);rr===0&&(rr=5)}function bd(e,t,n){var r=It,i=vs.transition;try{vs.transition=null,It=1,zqe(e,t,n,r)}finally{vs.transition=i,It=r}return null}function zqe(e,t,n,r){do Wg();while(Wc!==null);if(bt&6)throw Error(fe(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(fe(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(bHe(e,o),e===yr&&(qn=yr=null,Nr=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||C2||(C2=!0,kce(LC,function(){return Wg(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=vs.transition,vs.transition=null;var s=It;It=1;var a=bt;bt|=4,F8.current=null,Oqe(e,n),mce(n,e),oqe(PP),zC=!!RP,PP=RP=null,e.current=n,Dqe(n),cHe(),bt=a,It=s,vs.transition=o}else e.current=n;if(C2&&(C2=!1,Wc=e,tk=i),o=e.pendingLanes,o===0&&(nf=null),hHe(n.stateNode),io(e,Ln()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(ek)throw ek=!1,e=JP,JP=null,e;return tk&1&&e.tag!==0&&Wg(),o=e.pendingLanes,o&1?e===ZP?av++:(av=0,ZP=e):av=0,qf(),null}function Wg(){if(Wc!==null){var e=nue(tk),t=vs.transition,n=It;try{if(vs.transition=null,It=16>e?16:e,Wc===null)var r=!1;else{if(e=Wc,Wc=null,tk=0,bt&6)throw Error(fe(331));var i=bt;for(bt|=4,Ce=e.current;Ce!==null;){var o=Ce,s=o.child;if(Ce.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(Ce=u;Ce!==null;){var c=Ce;switch(c.tag){case 0:case 11:case 15:ov(8,c,o)}var f=c.child;if(f!==null)f.return=c,Ce=f;else for(;Ce!==null;){c=Ce;var d=c.sibling,h=c.return;if(hce(c),c===u){Ce=null;break}if(d!==null){d.return=h,Ce=d;break}Ce=h}}}var p=o.alternate;if(p!==null){var g=p.child;if(g!==null){p.child=null;do{var m=g.sibling;g.sibling=null,g=m}while(g!==null)}}Ce=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,Ce=s;else e:for(;Ce!==null;){if(o=Ce,o.flags&2048)switch(o.tag){case 0:case 11:case 15:ov(9,o,o.return)}var y=o.sibling;if(y!==null){y.return=o.return,Ce=y;break e}Ce=o.return}}var v=e.current;for(Ce=v;Ce!==null;){s=Ce;var b=s.child;if(s.subtreeFlags&2064&&b!==null)b.return=s,Ce=b;else e:for(s=v;Ce!==null;){if(a=Ce,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:lA(9,a)}}catch(w){Tn(a,a.return,w)}if(a===s){Ce=null;break e}var x=a.sibling;if(x!==null){x.return=a.return,Ce=x;break e}Ce=a.return}}if(bt=i,qf(),dl&&typeof dl.onPostCommitFiberRoot=="function")try{dl.onPostCommitFiberRoot(eA,e)}catch{}r=!0}return r}finally{It=n,vs.transition=t}}return!1}function MH(e,t,n){t=r0(n,t),t=nce(e,t,1),e=tf(e,t,1),t=Pi(),e!==null&&(Mx(e,1,t),io(e,t))}function Tn(e,t,n){if(e.tag===3)MH(e,e,n);else for(;t!==null;){if(t.tag===3){MH(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(nf===null||!nf.has(r))){e=r0(n,e),e=rce(t,e,1),t=tf(t,e,1),e=Pi(),t!==null&&(Mx(t,1,e),io(t,e));break}}t=t.return}}function jqe(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Pi(),e.pingedLanes|=e.suspendedLanes&n,yr===e&&(Nr&n)===n&&(rr===4||rr===3&&(Nr&130023424)===Nr&&500>Ln()-P8?sh(e,0):R8|=n),io(e,t)}function Ece(e,t){t===0&&(e.mode&1?(t=p2,p2<<=1,!(p2&130023424)&&(p2=4194304)):t=1);var n=Pi();e=Ru(e,t),e!==null&&(Mx(e,t,n),io(e,n))}function Bqe(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Ece(e,n)}function Uqe(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(fe(314))}r!==null&&r.delete(t),Ece(e,n)}var Cce;Cce=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||no.current)Zi=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Zi=!1,Tqe(e,t,n);Zi=!!(e.flags&131072)}else Zi=!1,hn&&t.flags&1048576&&Aue(t,qC,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;AS(e,t),e=t.pendingProps;var i=Zm(t,ui.current);Vg(t,n),i=k8(null,t,r,e,i,n);var o=_8();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ro(r)?(o=!0,WC(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,x8(t),i.updater=aA,t.stateNode=i,i._reactInternals=t,BP(t,r,e,n),t=WP(null,t,r,!0,o,n)):(t.tag=0,hn&&o&&h8(t),xi(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(AS(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=Wqe(r),e=js(r,e),i){case 0:t=VP(null,t,r,e,n);break e;case 1:t=kH(null,t,r,e,n);break e;case 11:t=EH(null,t,r,e,n);break e;case 14:t=CH(null,t,r,js(r.type,e),n);break e}throw Error(fe(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:js(r,i),VP(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:js(r,i),kH(e,t,r,i,n);case 3:e:{if(ace(t),e===null)throw Error(fe(387));r=t.pendingProps,o=t.memoizedState,i=o.element,Due(e,t),YC(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=r0(Error(fe(423)),t),t=_H(e,t,r,n,i);break e}else if(r!==i){i=r0(Error(fe(424)),t),t=_H(e,t,r,n,i);break e}else for(Ao=ef(t.stateNode.containerInfo.firstChild),Oo=t,hn=!0,Gs=null,n=Pue(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(e0(),r===i){t=Pu(e,t,n);break e}xi(e,t,r,n)}t=t.child}return t;case 5:return Mue(t),e===null&&IP(t),r=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,s=i.children,OP(r,i)?s=null:o!==null&&OP(r,o)&&(t.flags|=32),sce(e,t),xi(e,t,s,n),t.child;case 6:return e===null&&IP(t),null;case 13:return lce(e,t,n);case 4:return w8(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=t0(t,null,r,n):xi(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:js(r,i),EH(e,t,r,i,n);case 7:return xi(e,t,t.pendingProps,n),t.child;case 8:return xi(e,t,t.pendingProps.children,n),t.child;case 12:return xi(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,en(GC,r._currentValue),r._currentValue=s,o!==null)if(va(o.value,s)){if(o.children===i.children&&!no.current){t=Pu(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=bu(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),zP(o.return,n,t),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===t.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(fe(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),zP(s,n,t),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===t){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}xi(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Vg(t,n),i=_s(i),r=r(i),t.flags|=1,xi(e,t,r,n),t.child;case 14:return r=t.type,i=js(r,t.pendingProps),i=js(r.type,i),CH(e,t,r,i,n);case 15:return ice(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:js(r,i),AS(e,t),t.tag=1,ro(r)?(e=!0,WC(t)):e=!1,Vg(t,n),tce(t,r,i),BP(t,r,i,n),WP(null,t,r,!0,e,n);case 19:return uce(e,t,n);case 22:return oce(e,t,n)}throw Error(fe(156,t.tag))};function kce(e,t){return Jle(e,t)}function Vqe(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ps(e,t,n,r){return new Vqe(e,t,n,r)}function N8(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Wqe(e){if(typeof e=="function")return N8(e)?1:0;if(e!=null){if(e=e.$$typeof,e===t8)return 11;if(e===n8)return 14}return 2}function of(e,t){var n=e.alternate;return n===null?(n=ps(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function RS(e,t,n,r,i,o){var s=2;if(r=e,typeof e=="function")N8(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case ag:return ah(n.children,i,o,t);case e8:s=8,i|=8;break;case fP:return e=ps(12,n,t,i|2),e.elementType=fP,e.lanes=o,e;case dP:return e=ps(13,n,t,i),e.elementType=dP,e.lanes=o,e;case hP:return e=ps(19,n,t,i),e.elementType=hP,e.lanes=o,e;case Mle:return cA(n,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ole:s=10;break e;case Dle:s=9;break e;case t8:s=11;break e;case n8:s=14;break e;case xc:s=16,r=null;break e}throw Error(fe(130,e==null?e:typeof e,""))}return t=ps(s,n,t,i),t.elementType=e,t.type=r,t.lanes=o,t}function ah(e,t,n,r){return e=ps(7,e,r,t),e.lanes=n,e}function cA(e,t,n,r){return e=ps(22,e,r,t),e.elementType=Mle,e.lanes=n,e.stateNode={isHidden:!1},e}function G3(e,t,n){return e=ps(6,e,null,t),e.lanes=n,e}function X3(e,t,n){return t=ps(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Hqe(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=A3(0),this.expirationTimes=A3(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=A3(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function L8(e,t,n,r,i,o,s,a,l){return e=new Hqe(e,t,n,a,l),t===1?(t=1,o===!0&&(t|=8)):t=0,o=ps(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},x8(o),e}function qqe(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:sg,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function _ce(e){if(!e)return _f;e=e._reactInternals;e:{if(pp(e)!==e||e.tag!==1)throw Error(fe(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ro(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(fe(171))}if(e.tag===1){var n=e.type;if(ro(n))return _ue(e,n,t)}return t}function $ce(e,t,n,r,i,o,s,a,l){return e=L8(n,r,!0,e,i,o,s,a,l),e.context=_ce(null),n=e.current,r=Pi(),i=rf(n),o=bu(r,i),o.callback=t??null,tf(n,o,i),e.current.lanes=i,Mx(e,i,r),io(e,r),e}function fA(e,t,n,r){var i=t.current,o=Pi(),s=rf(i);return n=_ce(n),t.context===null?t.context=n:t.pendingContext=n,t=bu(o,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=tf(i,t,s),e!==null&&(la(e,i,s,o),kS(e,i,s)),s}function rk(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function NH(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function I8(e,t){NH(e,t),(e=e.alternate)&&NH(e,t)}function Gqe(){return null}var Ace=typeof reportError=="function"?reportError:function(e){console.error(e)};function z8(e){this._internalRoot=e}dA.prototype.render=z8.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(fe(409));fA(e,t,null,null)};dA.prototype.unmount=z8.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;jh(function(){fA(null,e,null,null)}),t[Fu]=null}};function dA(e){this._internalRoot=e}dA.prototype.unstable_scheduleHydration=function(e){if(e){var t=oue();e={blockedOn:null,target:e,priority:t};for(var n=0;n<kc.length&&t!==0&&t<kc[n].priority;n++);kc.splice(n,0,e),n===0&&aue(e)}};function j8(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function hA(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function LH(){}function Xqe(e,t,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=rk(s);o.call(u)}}var s=$ce(t,r,e,0,null,!1,!1,"",LH);return e._reactRootContainer=s,e[Fu]=s.current,ub(e.nodeType===8?e.parentNode:e),jh(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=rk(l);a.call(u)}}var l=L8(e,0,!1,null,null,!1,!1,"",LH);return e._reactRootContainer=l,e[Fu]=l.current,ub(e.nodeType===8?e.parentNode:e),jh(function(){fA(t,l,n,r)}),l}function pA(e,t,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=rk(s);a.call(l)}}fA(t,s,e,i)}else s=Xqe(n,t,e,i,r);return rk(s)}rue=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=_1(t.pendingLanes);n!==0&&(o8(t,n|1),io(t,Ln()),!(bt&6)&&(i0=Ln()+500,qf()))}break;case 13:jh(function(){var r=Ru(e,1);if(r!==null){var i=Pi();la(r,e,1,i)}}),I8(e,1)}};s8=function(e){if(e.tag===13){var t=Ru(e,134217728);if(t!==null){var n=Pi();la(t,e,134217728,n)}I8(e,134217728)}};iue=function(e){if(e.tag===13){var t=rf(e),n=Ru(e,t);if(n!==null){var r=Pi();la(n,e,t,r)}I8(e,t)}};oue=function(){return It};sue=function(e,t){var n=It;try{return It=e,t()}finally{It=n}};EP=function(e,t,n){switch(t){case"input":if(mP(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=iA(r);if(!i)throw Error(fe(90));Lle(r),mP(r,i)}}}break;case"textarea":zle(e,n);break;case"select":t=n.value,t!=null&&zg(e,!!n.multiple,t,!1)}};qle=O8;Gle=jh;var Yqe={usingClientEntryPoint:!1,Events:[Lx,fg,iA,Wle,Hle,O8]},Uy={findFiberByHostInstance:Ld,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Kqe={bundleType:Uy.bundleType,version:Uy.version,rendererPackageName:Uy.rendererPackageName,rendererConfig:Uy.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Wu.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Kle(e),e===null?null:e.stateNode},findFiberByHostInstance:Uy.findFiberByHostInstance||Gqe,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var k2=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!k2.isDisabled&&k2.supportsFiber)try{eA=k2.inject(Kqe),dl=k2}catch{}}Ho.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Yqe;Ho.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!j8(t))throw Error(fe(200));return qqe(e,t,null,n)};Ho.createRoot=function(e,t){if(!j8(e))throw Error(fe(299));var n=!1,r="",i=Ace;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=L8(e,1,!1,null,null,n,!1,r,i),e[Fu]=t.current,ub(e.nodeType===8?e.parentNode:e),new z8(t)};Ho.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(fe(188)):(e=Object.keys(e).join(","),Error(fe(268,e)));return e=Kle(t),e=e===null?null:e.stateNode,e};Ho.flushSync=function(e){return jh(e)};Ho.hydrate=function(e,t,n){if(!hA(t))throw Error(fe(200));return pA(null,e,t,!0,n)};Ho.hydrateRoot=function(e,t,n){if(!j8(e))throw Error(fe(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=Ace;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=$ce(t,null,e,1,n??null,i,!1,o,s),e[Fu]=t.current,ub(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new dA(t)};Ho.render=function(e,t,n){if(!hA(t))throw Error(fe(200));return pA(null,e,t,!1,n)};Ho.unmountComponentAtNode=function(e){if(!hA(e))throw Error(fe(40));return e._reactRootContainer?(jh(function(){pA(null,null,e,!1,function(){e._reactRootContainer=null,e[Fu]=null})}),!0):!1};Ho.unstable_batchedUpdates=O8;Ho.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!hA(n))throw Error(fe(200));if(e==null||e._reactInternals===void 0)throw Error(fe(38));return pA(e,t,n,!1,r)};Ho.version="18.3.1-next-f1338f8080-20240426";function Tce(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Tce)}catch(e){console.error(e)}}Tce(),Tle.exports=Ho;var B8=Tle.exports,[Fce,Qqe]=ji({strict:!1,name:"PortalContext"}),U8="chakra-portal",Jqe=".chakra-portal",Zqe=e=>F.jsx("div",{className:"chakra-portal-zIndex",style:{position:"absolute",zIndex:e.zIndex,top:0,left:0,right:0},children:e.children}),eGe=e=>{const{appendToParentPortal:t,children:n}=e,[r,i]=M.useState(null),o=M.useRef(null),[,s]=M.useState({});M.useEffect(()=>s({}),[]);const a=Qqe(),l=qWe();Qm(()=>{if(!r)return;const c=r.ownerDocument,f=t?a??c.body:c.body;if(!f)return;o.current=c.createElement("div"),o.current.className=U8,f.appendChild(o.current),s({});const d=o.current;return()=>{f.contains(d)&&f.removeChild(d)}},[r]);const u=l!=null&&l.zIndex?F.jsx(Zqe,{zIndex:l==null?void 0:l.zIndex,children:n}):n;return o.current?B8.createPortal(F.jsx(Fce,{value:o.current,children:u}),o.current):F.jsx("span",{ref:c=>{c&&i(c)}})},tGe=e=>{const{children:t,containerRef:n,appendToParentPortal:r}=e,i=n.current,o=i??(typeof window<"u"?document.body:void 0),s=M.useMemo(()=>{const l=i==null?void 0:i.ownerDocument.createElement("div");return l&&(l.className=U8),l},[i]),[,a]=M.useState({});return Qm(()=>a({}),[]),Qm(()=>{if(!(!s||!o))return o.appendChild(s),()=>{o.removeChild(s)}},[s,o]),o&&s?B8.createPortal(F.jsx(Fce,{value:r?s:null,children:t}),s):null};function gA(e){const t={appendToParentPortal:!0,...e},{containerRef:n,...r}=t;return n?F.jsx(tGe,{containerRef:n,...r}):F.jsx(eGe,{...r})}gA.className=U8;gA.selector=Jqe;gA.displayName="Portal";function mA(){const e=M.useContext(eb);if(!e)throw Error("useTheme: `theme` is undefined. Seems you forgot to wrap your app in `<ChakraProvider />` or `<ThemeProvider />`");return e}var V8=M.createContext({});V8.displayName="ColorModeContext";function H0(){const e=M.useContext(V8);if(e===void 0)throw new Error("useColorMode must be used within a ColorModeProvider");return e}function Na(e,t){const{colorMode:n}=H0();return n==="dark"?t:e}var _2={light:"chakra-ui-light",dark:"chakra-ui-dark"};function nGe(e={}){const{preventTransition:t=!0}=e,n={setDataset:r=>{const i=t?n.preventTransition():void 0;document.documentElement.dataset.theme=r,document.documentElement.style.colorScheme=r,i==null||i()},setClassName(r){document.body.classList.add(r?_2.dark:_2.light),document.body.classList.remove(r?_2.light:_2.dark)},query(){return window.matchMedia("(prefers-color-scheme: dark)")},getSystemTheme(r){var i;return((i=n.query().matches)!=null?i:r==="dark")?"dark":"light"},addListener(r){const i=n.query(),o=s=>{r(s.matches?"dark":"light")};return typeof i.addListener=="function"?i.addListener(o):i.addEventListener("change",o),()=>{typeof i.removeListener=="function"?i.removeListener(o):i.removeEventListener("change",o)}},preventTransition(){const r=document.createElement("style");return r.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(r),()=>{window.getComputedStyle(document.body),requestAnimationFrame(()=>{requestAnimationFrame(()=>{document.head.removeChild(r)})})}}};return n}var rGe="chakra-ui-color-mode";function iGe(e){return{ssr:!1,type:"localStorage",get(t){if(!(globalThis!=null&&globalThis.document))return t;let n;try{n=localStorage.getItem(e)||t}catch{}return n||t},set(t){try{localStorage.setItem(e,t)}catch{}}}}var oGe=iGe(rGe),IH=()=>{};function zH(e,t){return e.type==="cookie"&&e.ssr?e.get(t):t}function Rce(e){const{value:t,children:n,options:{useSystemColorMode:r,initialColorMode:i,disableTransitionOnChange:o}={},colorModeManager:s=oGe}=e,a=i==="dark"?"dark":"light",[l,u]=M.useState(()=>zH(s,a)),[c,f]=M.useState(()=>zH(s)),{getSystemTheme:d,setClassName:h,setDataset:p,addListener:g}=M.useMemo(()=>nGe({preventTransition:o}),[o]),m=i==="system"&&!l?c:l,y=M.useCallback(x=>{const w=x==="system"?d():x;u(w),h(w==="dark"),p(w),s.set(w)},[s,d,h,p]);Qm(()=>{i==="system"&&f(d())},[]),M.useEffect(()=>{const x=s.get();if(x){y(x);return}if(i==="system"){y("system");return}y(a)},[s,a,i,y]);const v=M.useCallback(()=>{y(m==="dark"?"light":"dark")},[m,y]);M.useEffect(()=>{if(r)return g(y)},[r,g,y]);const b=M.useMemo(()=>({colorMode:t??m,toggleColorMode:t?IH:v,setColorMode:t?IH:y,forced:t!==void 0}),[m,v,y,t]);return F.jsx(V8.Provider,{value:b,children:n})}Rce.displayName="ColorModeProvider";function Pce(){const e=H0(),t=mA();return{...e,theme:t}}function sGe(e,t,n){var r,i;if(t==null)return t;const o=s=>{var a,l;return(l=(a=e.__cssMap)==null?void 0:a[s])==null?void 0:l.value};return(i=(r=o(t))!=null?r:o(n))!=null?i:n}function aGe(e,t,n){const r=mA();return lGe(e,t,n)(r)}function lGe(e,t,n){const r=Array.isArray(t)?t:[t],i=Array.isArray(n)?n:[n];return o=>{const s=i.filter(Boolean),a=r.map((l,u)=>{var c;const f=`${e}.${l}`;return sGe(o,f,(c=s[u])!=null?c:l)});return Array.isArray(t)?a:a[0]}}var Ut=(...e)=>e.filter(Boolean).join(" ");function oo(e){const t=typeof e;return e!=null&&(t==="object"||t==="function")&&!Array.isArray(e)}function rl(e,...t){return uGe(e)?e(...t):e}var uGe=e=>typeof e=="function",rs=e=>e?"":void 0,Y3=e=>e?!0:void 0;function vb(...e){return function(n){e.some(r=>(r==null||r(n),n==null?void 0:n.defaultPrevented))}}var ik={exports:{}};ik.exports;(function(e,t){var n=200,r="__lodash_hash_undefined__",i=800,o=16,s=9007199254740991,a="[object Arguments]",l="[object Array]",u="[object AsyncFunction]",c="[object Boolean]",f="[object Date]",d="[object Error]",h="[object Function]",p="[object GeneratorFunction]",g="[object Map]",m="[object Number]",y="[object Null]",v="[object Object]",b="[object Proxy]",x="[object RegExp]",w="[object Set]",C="[object String]",S="[object Undefined]",k="[object WeakMap]",$="[object ArrayBuffer]",R="[object DataView]",O="[object Float32Array]",B="[object Float64Array]",D="[object Int8Array]",L="[object Int16Array]",A="[object Int32Array]",P="[object Uint8Array]",j="[object Uint8ClampedArray]",z="[object Uint16Array]",U="[object Uint32Array]",X=/[\\^$.*+?()[\]{}|]/g,K=/^\[object .+?Constructor\]$/,pe=/^(?:0|[1-9]\d*)$/,oe={};oe[O]=oe[B]=oe[D]=oe[L]=oe[A]=oe[P]=oe[j]=oe[z]=oe[U]=!0,oe[a]=oe[l]=oe[$]=oe[c]=oe[R]=oe[f]=oe[d]=oe[h]=oe[g]=oe[m]=oe[v]=oe[x]=oe[w]=oe[C]=oe[k]=!1;var _e=typeof Qi=="object"&&Qi&&Qi.Object===Object&&Qi,Qe=typeof self=="object"&&self&&self.Object===Object&&self,xt=_e||Qe||Function("return this")(),On=t&&!t.nodeType&&t,lr=On&&!0&&e&&!e.nodeType&&e,be=lr&&lr.exports===On,Ne=be&&_e.process,Ue=function(){try{var N=lr&&lr.require&&lr.require("util").types;return N||Ne&&Ne.binding&&Ne.binding("util")}catch{}}(),ae=Ue&&Ue.isTypedArray;function Dn(N,V,Y){switch(Y.length){case 0:return N.call(V);case 1:return N.call(V,Y[0]);case 2:return N.call(V,Y[0],Y[1]);case 3:return N.call(V,Y[0],Y[1],Y[2])}return N.apply(V,Y)}function vt(N,V){for(var Y=-1,ke=Array(N);++Y<N;)ke[Y]=V(Y);return ke}function Yn(N){return function(V){return N(V)}}function cn(N,V){return N==null?void 0:N[V]}function jr(N,V){return function(Y){return N(V(Y))}}var Xu=Array.prototype,Yx=Function.prototype,yp=Object.prototype,q0=xt["__core-js_shared__"],vp=Yx.toString,Ll=yp.hasOwnProperty,bp=function(){var N=/[^.]+$/.exec(q0&&q0.keys&&q0.keys.IE_PROTO||"");return N?"Symbol(src)_1."+N:""}(),HA=yp.toString,xp=vp.call(Object),G0=RegExp("^"+vp.call(Ll).replace(X,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Yf=be?xt.Buffer:void 0,X0=xt.Symbol,qA=xt.Uint8Array;Yf&&Yf.allocUnsafe;var Kx=jr(Object.getPrototypeOf,Object),Kf=Object.create,Qx=yp.propertyIsEnumerable,wp=Xu.splice,$a=X0?X0.toStringTag:void 0,Qf=function(){try{var N=K0(Object,"defineProperty");return N({},"",{}),N}catch{}}(),GA=Yf?Yf.isBuffer:void 0,Il=Math.max,q9=Date.now,Sp=K0(xt,"Map"),Yu=K0(Object,"create"),G9=function(){function N(){}return function(V){if(!Vi(V))return{};if(Kf)return Kf(V);N.prototype=V;var Y=new N;return N.prototype=void 0,Y}}();function Ui(N){var V=-1,Y=N==null?0:N.length;for(this.clear();++V<Y;){var ke=N[V];this.set(ke[0],ke[1])}}function XA(){this.__data__=Yu?Yu(null):{},this.size=0}function X9(N){var V=this.has(N)&&delete this.__data__[N];return this.size-=V?1:0,V}function YA(N){var V=this.__data__;if(Yu){var Y=V[N];return Y===r?void 0:Y}return Ll.call(V,N)?V[N]:void 0}function KA(N){var V=this.__data__;return Yu?V[N]!==void 0:Ll.call(V,N)}function Y9(N,V){var Y=this.__data__;return this.size+=this.has(N)?0:1,Y[N]=Yu&&V===void 0?r:V,this}Ui.prototype.clear=XA,Ui.prototype.delete=X9,Ui.prototype.get=YA,Ui.prototype.has=KA,Ui.prototype.set=Y9;function Rs(N){var V=-1,Y=N==null?0:N.length;for(this.clear();++V<Y;){var ke=N[V];this.set(ke[0],ke[1])}}function QA(){this.__data__=[],this.size=0}function K9(N){var V=this.__data__,Y=Ju(V,N);if(Y<0)return!1;var ke=V.length-1;return Y==ke?V.pop():wp.call(V,Y,1),--this.size,!0}function JA(N){var V=this.__data__,Y=Ju(V,N);return Y<0?void 0:V[Y][1]}function ZA(N){return Ju(this.__data__,N)>-1}function Q9(N,V){var Y=this.__data__,ke=Ju(Y,N);return ke<0?(++this.size,Y.push([N,V])):Y[ke][1]=V,this}Rs.prototype.clear=QA,Rs.prototype.delete=K9,Rs.prototype.get=JA,Rs.prototype.has=ZA,Rs.prototype.set=Q9;function Ku(N){var V=-1,Y=N==null?0:N.length;for(this.clear();++V<Y;){var ke=N[V];this.set(ke[0],ke[1])}}function e5(){this.size=0,this.__data__={hash:new Ui,map:new(Sp||Rs),string:new Ui}}function J9(N){var V=ec(this,N).delete(N);return this.size-=V?1:0,V}function t5(N){return ec(this,N).get(N)}function n5(N){return ec(this,N).has(N)}function Z9(N,V){var Y=ec(this,N),ke=Y.size;return Y.set(N,V),this.size+=Y.size==ke?0:1,this}Ku.prototype.clear=e5,Ku.prototype.delete=J9,Ku.prototype.get=t5,Ku.prototype.has=n5,Ku.prototype.set=Z9;function Qu(N){var V=this.__data__=new Rs(N);this.size=V.size}function r5(){this.__data__=new Rs,this.size=0}function i5(N){var V=this.__data__,Y=V.delete(N);return this.size=V.size,Y}function o5(N){return this.__data__.get(N)}function s5(N){return this.__data__.has(N)}function a5(N,V){var Y=this.__data__;if(Y instanceof Rs){var ke=Y.__data__;if(!Sp||ke.length<n-1)return ke.push([N,V]),this.size=++Y.size,this;Y=this.__data__=new Ku(ke)}return Y.set(N,V),this.size=Y.size,this}Qu.prototype.clear=r5,Qu.prototype.delete=i5,Qu.prototype.get=o5,Qu.prototype.has=s5,Qu.prototype.set=a5;function l5(N,V){var Y=ey(N),ke=!Y&&Z0(N),st=!Y&&!ke&&rw(N),Mt=!Y&&!ke&&!st&&Aa(N),Xt=Y||ke||st||Mt,mt=Xt?vt(N.length,String):[],Jt=mt.length;for(var Kn in N)Xt&&(Kn=="length"||st&&(Kn=="offset"||Kn=="parent")||Mt&&(Kn=="buffer"||Kn=="byteLength"||Kn=="byteOffset")||Q0(Kn,Jt))||mt.push(Kn);return mt}function Jx(N,V,Y){(Y!==void 0&&!Cp(N[V],Y)||Y===void 0&&!(V in N))&&Ep(N,V,Y)}function u5(N,V,Y){var ke=N[V];(!(Ll.call(N,V)&&Cp(ke,Y))||Y===void 0&&!(V in N))&&Ep(N,V,Y)}function Ju(N,V){for(var Y=N.length;Y--;)if(Cp(N[Y][0],V))return Y;return-1}function Ep(N,V,Y){V=="__proto__"&&Qf?Qf(N,V,{configurable:!0,enumerable:!0,value:Y,writable:!0}):N[V]=Y}var c5=b5();function Zu(N){return N==null?N===void 0?S:y:$a&&$a in Object(N)?Jf(N):k5(N)}function Y0(N){return tc(N)&&Zu(N)==a}function Zx(N){if(!Vi(N)||E5(N))return!1;var V=ny(N)?G0:K;return V.test(T5(N))}function f5(N){return tc(N)&&iw(N.length)&&!!oe[Zu(N)]}function ez(N){if(!Vi(N))return C5(N);var V=nw(N),Y=[];for(var ke in N)ke=="constructor"&&(V||!Ll.call(N,ke))||Y.push(ke);return Y}function ew(N,V,Y,ke,st){N!==V&&c5(V,function(Mt,Xt){if(st||(st=new Qu),Vi(Mt))tw(N,V,Xt,Y,ew,ke,st);else{var mt=ke?ke(J0(N,Xt),Mt,Xt+"",N,V,st):void 0;mt===void 0&&(mt=Mt),Jx(N,Xt,mt)}},Ta)}function tw(N,V,Y,ke,st,Mt,Xt){var mt=J0(N,Y),Jt=J0(V,Y),Kn=Xt.get(Jt);if(Kn){Jx(N,Y,Kn);return}var Sr=Mt?Mt(mt,Jt,Y+"",N,V,Xt):void 0,nc=Sr===void 0;if(nc){var kp=ey(Jt),jl=!kp&&rw(Jt),aw=!kp&&!jl&&Aa(Jt);Sr=Jt,kp||jl||aw?ey(mt)?Sr=mt:F5(mt)?Sr=zl(mt):jl?(nc=!1,Sr=p5(Jt)):aw?(nc=!1,Sr=m5(Jt)):Sr=[]:R5(Jt)||Z0(Jt)?(Sr=mt,Z0(mt)?Sr=P5(mt):(!Vi(mt)||ny(mt))&&(Sr=x5(Jt))):nc=!1}nc&&(Xt.set(Jt,Sr),st(Sr,Jt,ke,Mt,Xt),Xt.delete(Jt)),Jx(N,Y,Sr)}function d5(N,V){return $5(_5(N,V,ow),N+"")}var h5=Qf?function(N,V){return Qf(N,"toString",{configurable:!0,enumerable:!1,value:O5(V),writable:!0})}:ow;function p5(N,V){return N.slice()}function g5(N){var V=new N.constructor(N.byteLength);return new qA(V).set(new qA(N)),V}function m5(N,V){var Y=g5(N.buffer);return new N.constructor(Y,N.byteOffset,N.length)}function zl(N,V){var Y=-1,ke=N.length;for(V||(V=Array(ke));++Y<ke;)V[Y]=N[Y];return V}function y5(N,V,Y,ke){var st=!Y;Y||(Y={});for(var Mt=-1,Xt=V.length;++Mt<Xt;){var mt=V[Mt],Jt=void 0;Jt===void 0&&(Jt=N[mt]),st?Ep(Y,mt,Jt):u5(Y,mt,Jt)}return Y}function v5(N){return d5(function(V,Y){var ke=-1,st=Y.length,Mt=st>1?Y[st-1]:void 0,Xt=st>2?Y[2]:void 0;for(Mt=N.length>3&&typeof Mt=="function"?(st--,Mt):void 0,Xt&&w5(Y[0],Y[1],Xt)&&(Mt=st<3?void 0:Mt,st=1),V=Object(V);++ke<st;){var mt=Y[ke];mt&&N(V,mt,ke,Mt)}return V})}function b5(N){return function(V,Y,ke){for(var st=-1,Mt=Object(V),Xt=ke(V),mt=Xt.length;mt--;){var Jt=Xt[++st];if(Y(Mt[Jt],Jt,Mt)===!1)break}return V}}function ec(N,V){var Y=N.__data__;return S5(V)?Y[typeof V=="string"?"string":"hash"]:Y.map}function K0(N,V){var Y=cn(N,V);return Zx(Y)?Y:void 0}function Jf(N){var V=Ll.call(N,$a),Y=N[$a];try{N[$a]=void 0;var ke=!0}catch{}var st=HA.call(N);return ke&&(V?N[$a]=Y:delete N[$a]),st}function x5(N){return typeof N.constructor=="function"&&!nw(N)?G9(Kx(N)):{}}function Q0(N,V){var Y=typeof N;return V=V??s,!!V&&(Y=="number"||Y!="symbol"&&pe.test(N))&&N>-1&&N%1==0&&N<V}function w5(N,V,Y){if(!Vi(Y))return!1;var ke=typeof V;return(ke=="number"?ty(Y)&&Q0(V,Y.length):ke=="string"&&V in Y)?Cp(Y[V],N):!1}function S5(N){var V=typeof N;return V=="string"||V=="number"||V=="symbol"||V=="boolean"?N!=="__proto__":N===null}function E5(N){return!!bp&&bp in N}function nw(N){var V=N&&N.constructor,Y=typeof V=="function"&&V.prototype||yp;return N===Y}function C5(N){var V=[];if(N!=null)for(var Y in Object(N))V.push(Y);return V}function k5(N){return HA.call(N)}function _5(N,V,Y){return V=Il(V===void 0?N.length-1:V,0),function(){for(var ke=arguments,st=-1,Mt=Il(ke.length-V,0),Xt=Array(Mt);++st<Mt;)Xt[st]=ke[V+st];st=-1;for(var mt=Array(V+1);++st<V;)mt[st]=ke[st];return mt[V]=Y(Xt),Dn(N,this,mt)}}function J0(N,V){if(!(V==="constructor"&&typeof N[V]=="function")&&V!="__proto__")return N[V]}var $5=A5(h5);function A5(N){var V=0,Y=0;return function(){var ke=q9(),st=o-(ke-Y);if(Y=ke,st>0){if(++V>=i)return arguments[0]}else V=0;return N.apply(void 0,arguments)}}function T5(N){if(N!=null){try{return vp.call(N)}catch{}try{return N+""}catch{}}return""}function Cp(N,V){return N===V||N!==N&&V!==V}var Z0=Y0(function(){return arguments}())?Y0:function(N){return tc(N)&&Ll.call(N,"callee")&&!Qx.call(N,"callee")},ey=Array.isArray;function ty(N){return N!=null&&iw(N.length)&&!ny(N)}function F5(N){return tc(N)&&ty(N)}var rw=GA||sw;function ny(N){if(!Vi(N))return!1;var V=Zu(N);return V==h||V==p||V==u||V==b}function iw(N){return typeof N=="number"&&N>-1&&N%1==0&&N<=s}function Vi(N){var V=typeof N;return N!=null&&(V=="object"||V=="function")}function tc(N){return N!=null&&typeof N=="object"}function R5(N){if(!tc(N)||Zu(N)!=v)return!1;var V=Kx(N);if(V===null)return!0;var Y=Ll.call(V,"constructor")&&V.constructor;return typeof Y=="function"&&Y instanceof Y&&vp.call(Y)==xp}var Aa=ae?Yn(ae):f5;function P5(N){return y5(N,Ta(N))}function Ta(N){return ty(N)?l5(N):ez(N)}var ry=v5(function(N,V,Y,ke){ew(N,V,Y,ke)});function O5(N){return function(){return N}}function ow(N){return N}function sw(){return!1}e.exports=ry})(ik,ik.exports);var cGe=ik.exports;const gs=Wh(cGe);var fGe=e=>/!(important)?$/.test(e),jH=e=>typeof e=="string"?e.replace(/!(important)?$/,"").trim():e,dGe=(e,t)=>n=>{const r=String(t),i=fGe(r),o=jH(r),s=e?`${e}.${o}`:o;let a=oo(n.__cssMap)&&s in n.__cssMap?n.__cssMap[s].varRef:t;return a=jH(a),i?`${a} !important`:a};function W8(e){const{scale:t,transform:n,compose:r}=e;return(o,s)=>{var a;const l=dGe(t,o)(s);let u=(a=n==null?void 0:n(l,s))!=null?a:l;return r&&(u=r(u,s)),u}}var $2=(...e)=>t=>e.reduce((n,r)=>r(n),t);function Qo(e,t){return n=>{const r={property:n,scale:e};return r.transform=W8({scale:e,transform:t}),r}}var hGe=({rtl:e,ltr:t})=>n=>n.direction==="rtl"?e:t;function pGe(e){const{property:t,scale:n,transform:r}=e;return{scale:n,property:hGe(t),transform:n?W8({scale:n,compose:r}):r}}var Oce=["rotate(var(--chakra-rotate, 0))","scaleX(var(--chakra-scale-x, 1))","scaleY(var(--chakra-scale-y, 1))","skewX(var(--chakra-skew-x, 0))","skewY(var(--chakra-skew-y, 0))"];function gGe(){return["translateX(var(--chakra-translate-x, 0))","translateY(var(--chakra-translate-y, 0))",...Oce].join(" ")}function mGe(){return["translate3d(var(--chakra-translate-x, 0), var(--chakra-translate-y, 0), 0)",...Oce].join(" ")}var yGe={"--chakra-blur":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-brightness":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-contrast":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-grayscale":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-hue-rotate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-invert":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-saturate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-sepia":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-drop-shadow":"var(--chakra-empty,/*!*/ /*!*/)",filter:["var(--chakra-blur)","var(--chakra-brightness)","var(--chakra-contrast)","var(--chakra-grayscale)","var(--chakra-hue-rotate)","var(--chakra-invert)","var(--chakra-saturate)","var(--chakra-sepia)","var(--chakra-drop-shadow)"].join(" ")},vGe={backdropFilter:["var(--chakra-backdrop-blur)","var(--chakra-backdrop-brightness)","var(--chakra-backdrop-contrast)","var(--chakra-backdrop-grayscale)","var(--chakra-backdrop-hue-rotate)","var(--chakra-backdrop-invert)","var(--chakra-backdrop-opacity)","var(--chakra-backdrop-saturate)","var(--chakra-backdrop-sepia)"].join(" "),"--chakra-backdrop-blur":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-brightness":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-contrast":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-grayscale":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-hue-rotate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-invert":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-opacity":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-saturate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-sepia":"var(--chakra-empty,/*!*/ /*!*/)"};function bGe(e){return{"--chakra-ring-offset-shadow":"var(--chakra-ring-inset) 0 0 0 var(--chakra-ring-offset-width) var(--chakra-ring-offset-color)","--chakra-ring-shadow":"var(--chakra-ring-inset) 0 0 0 calc(var(--chakra-ring-width) + var(--chakra-ring-offset-width)) var(--chakra-ring-color)","--chakra-ring-width":e,boxShadow:["var(--chakra-ring-offset-shadow)","var(--chakra-ring-shadow)","var(--chakra-shadow, 0 0 #0000)"].join(", ")}}var xGe={"row-reverse":{space:"--chakra-space-x-reverse",divide:"--chakra-divide-x-reverse"},"column-reverse":{space:"--chakra-space-y-reverse",divide:"--chakra-divide-y-reverse"}},nO={"to-t":"to top","to-tr":"to top right","to-r":"to right","to-br":"to bottom right","to-b":"to bottom","to-bl":"to bottom left","to-l":"to left","to-tl":"to top left"},wGe=new Set(Object.values(nO)),rO=new Set(["none","-moz-initial","inherit","initial","revert","unset"]),SGe=e=>e.trim();function EGe(e,t){if(e==null||rO.has(e))return e;if(!(iO(e)||rO.has(e)))return`url('${e}')`;const i=/(^[a-z-A-Z]+)\((.*)\)/g.exec(e),o=i==null?void 0:i[1],s=i==null?void 0:i[2];if(!o||!s)return e;const a=o.includes("-gradient")?o:`${o}-gradient`,[l,...u]=s.split(",").map(SGe).filter(Boolean);if((u==null?void 0:u.length)===0)return e;const c=l in nO?nO[l]:l;u.unshift(c);const f=u.map(d=>{if(wGe.has(d))return d;const h=d.indexOf(" "),[p,g]=h!==-1?[d.substr(0,h),d.substr(h+1)]:[d],m=iO(g)?g:g&&g.split(" "),y=`colors.${p}`,v=y in t.__cssMap?t.__cssMap[y].varRef:p;return m?[v,...Array.isArray(m)?m:[m]].join(" "):v});return`${a}(${f.join(", ")})`}var iO=e=>typeof e=="string"&&e.includes("(")&&e.includes(")"),CGe=(e,t)=>EGe(e,t??{});function kGe(e){return/^var\(--.+\)$/.test(e)}var _Ge=e=>{const t=parseFloat(e.toString()),n=e.toString().replace(String(t),"");return{unitless:!n,value:t,unit:n}},Oa=e=>t=>`${e}(${t})`,ht={filter(e){return e!=="auto"?e:yGe},backdropFilter(e){return e!=="auto"?e:vGe},ring(e){return bGe(ht.px(e))},bgClip(e){return e==="text"?{color:"transparent",backgroundClip:"text"}:{backgroundClip:e}},transform(e){return e==="auto"?gGe():e==="auto-gpu"?mGe():e},vh(e){return e==="$100vh"?"var(--chakra-vh)":e},px(e){if(e==null)return e;const{unitless:t}=_Ge(e);return t||typeof e=="number"?`${e}px`:e},fraction(e){return typeof e!="number"||e>1?e:`${e*100}%`},float(e,t){const n={left:"right",right:"left"};return t.direction==="rtl"?n[e]:e},degree(e){if(kGe(e)||e==null)return e;const t=typeof e=="string"&&!e.endsWith("deg");return typeof e=="number"||t?`${e}deg`:e},gradient:CGe,blur:Oa("blur"),opacity:Oa("opacity"),brightness:Oa("brightness"),contrast:Oa("contrast"),dropShadow:Oa("drop-shadow"),grayscale:Oa("grayscale"),hueRotate:e=>Oa("hue-rotate")(ht.degree(e)),invert:Oa("invert"),saturate:Oa("saturate"),sepia:Oa("sepia"),bgImage(e){return e==null||iO(e)||rO.has(e)?e:`url(${e})`},outline(e){const t=String(e)==="0"||String(e)==="none";return e!==null&&t?{outline:"2px solid transparent",outlineOffset:"2px"}:{outline:e}},flexDirection(e){var t;const{space:n,divide:r}=(t=xGe[e])!=null?t:{},i={flexDirection:e};return n&&(i[n]=1),r&&(i[r]=1),i}},W={borderWidths:Qo("borderWidths"),borderStyles:Qo("borderStyles"),colors:Qo("colors"),borders:Qo("borders"),gradients:Qo("gradients",ht.gradient),radii:Qo("radii",ht.px),space:Qo("space",$2(ht.vh,ht.px)),spaceT:Qo("space",$2(ht.vh,ht.px)),degreeT(e){return{property:e,transform:ht.degree}},prop(e,t,n){return{property:e,scale:t,...t&&{transform:W8({scale:t,transform:n})}}},propT(e,t){return{property:e,transform:t}},sizes:Qo("sizes",$2(ht.vh,ht.px)),sizesT:Qo("sizes",$2(ht.vh,ht.fraction)),shadows:Qo("shadows"),logical:pGe,blur:Qo("blur",ht.blur)},PS={background:W.colors("background"),backgroundColor:W.colors("backgroundColor"),backgroundImage:W.gradients("backgroundImage"),backgroundSize:!0,backgroundPosition:!0,backgroundRepeat:!0,backgroundAttachment:!0,backgroundClip:{transform:ht.bgClip},bgSize:W.prop("backgroundSize"),bgPosition:W.prop("backgroundPosition"),bg:W.colors("background"),bgColor:W.colors("backgroundColor"),bgPos:W.prop("backgroundPosition"),bgRepeat:W.prop("backgroundRepeat"),bgAttachment:W.prop("backgroundAttachment"),bgGradient:W.gradients("backgroundImage"),bgClip:{transform:ht.bgClip}};Object.assign(PS,{bgImage:PS.backgroundImage,bgImg:PS.backgroundImage});var $t={border:W.borders("border"),borderWidth:W.borderWidths("borderWidth"),borderStyle:W.borderStyles("borderStyle"),borderColor:W.colors("borderColor"),borderRadius:W.radii("borderRadius"),borderTop:W.borders("borderTop"),borderBlockStart:W.borders("borderBlockStart"),borderTopLeftRadius:W.radii("borderTopLeftRadius"),borderStartStartRadius:W.logical({scale:"radii",property:{ltr:"borderTopLeftRadius",rtl:"borderTopRightRadius"}}),borderEndStartRadius:W.logical({scale:"radii",property:{ltr:"borderBottomLeftRadius",rtl:"borderBottomRightRadius"}}),borderTopRightRadius:W.radii("borderTopRightRadius"),borderStartEndRadius:W.logical({scale:"radii",property:{ltr:"borderTopRightRadius",rtl:"borderTopLeftRadius"}}),borderEndEndRadius:W.logical({scale:"radii",property:{ltr:"borderBottomRightRadius",rtl:"borderBottomLeftRadius"}}),borderRight:W.borders("borderRight"),borderInlineEnd:W.borders("borderInlineEnd"),borderBottom:W.borders("borderBottom"),borderBlockEnd:W.borders("borderBlockEnd"),borderBottomLeftRadius:W.radii("borderBottomLeftRadius"),borderBottomRightRadius:W.radii("borderBottomRightRadius"),borderLeft:W.borders("borderLeft"),borderInlineStart:{property:"borderInlineStart",scale:"borders"},borderInlineStartRadius:W.logical({scale:"radii",property:{ltr:["borderTopLeftRadius","borderBottomLeftRadius"],rtl:["borderTopRightRadius","borderBottomRightRadius"]}}),borderInlineEndRadius:W.logical({scale:"radii",property:{ltr:["borderTopRightRadius","borderBottomRightRadius"],rtl:["borderTopLeftRadius","borderBottomLeftRadius"]}}),borderX:W.borders(["borderLeft","borderRight"]),borderInline:W.borders("borderInline"),borderY:W.borders(["borderTop","borderBottom"]),borderBlock:W.borders("borderBlock"),borderTopWidth:W.borderWidths("borderTopWidth"),borderBlockStartWidth:W.borderWidths("borderBlockStartWidth"),borderTopColor:W.colors("borderTopColor"),borderBlockStartColor:W.colors("borderBlockStartColor"),borderTopStyle:W.borderStyles("borderTopStyle"),borderBlockStartStyle:W.borderStyles("borderBlockStartStyle"),borderBottomWidth:W.borderWidths("borderBottomWidth"),borderBlockEndWidth:W.borderWidths("borderBlockEndWidth"),borderBottomColor:W.colors("borderBottomColor"),borderBlockEndColor:W.colors("borderBlockEndColor"),borderBottomStyle:W.borderStyles("borderBottomStyle"),borderBlockEndStyle:W.borderStyles("borderBlockEndStyle"),borderLeftWidth:W.borderWidths("borderLeftWidth"),borderInlineStartWidth:W.borderWidths("borderInlineStartWidth"),borderLeftColor:W.colors("borderLeftColor"),borderInlineStartColor:W.colors("borderInlineStartColor"),borderLeftStyle:W.borderStyles("borderLeftStyle"),borderInlineStartStyle:W.borderStyles("borderInlineStartStyle"),borderRightWidth:W.borderWidths("borderRightWidth"),borderInlineEndWidth:W.borderWidths("borderInlineEndWidth"),borderRightColor:W.colors("borderRightColor"),borderInlineEndColor:W.colors("borderInlineEndColor"),borderRightStyle:W.borderStyles("borderRightStyle"),borderInlineEndStyle:W.borderStyles("borderInlineEndStyle"),borderTopRadius:W.radii(["borderTopLeftRadius","borderTopRightRadius"]),borderBottomRadius:W.radii(["borderBottomLeftRadius","borderBottomRightRadius"]),borderLeftRadius:W.radii(["borderTopLeftRadius","borderBottomLeftRadius"]),borderRightRadius:W.radii(["borderTopRightRadius","borderBottomRightRadius"])};Object.assign($t,{rounded:$t.borderRadius,roundedTop:$t.borderTopRadius,roundedTopLeft:$t.borderTopLeftRadius,roundedTopRight:$t.borderTopRightRadius,roundedTopStart:$t.borderStartStartRadius,roundedTopEnd:$t.borderStartEndRadius,roundedBottom:$t.borderBottomRadius,roundedBottomLeft:$t.borderBottomLeftRadius,roundedBottomRight:$t.borderBottomRightRadius,roundedBottomStart:$t.borderEndStartRadius,roundedBottomEnd:$t.borderEndEndRadius,roundedLeft:$t.borderLeftRadius,roundedRight:$t.borderRightRadius,roundedStart:$t.borderInlineStartRadius,roundedEnd:$t.borderInlineEndRadius,borderStart:$t.borderInlineStart,borderEnd:$t.borderInlineEnd,borderTopStartRadius:$t.borderStartStartRadius,borderTopEndRadius:$t.borderStartEndRadius,borderBottomStartRadius:$t.borderEndStartRadius,borderBottomEndRadius:$t.borderEndEndRadius,borderStartRadius:$t.borderInlineStartRadius,borderEndRadius:$t.borderInlineEndRadius,borderStartWidth:$t.borderInlineStartWidth,borderEndWidth:$t.borderInlineEndWidth,borderStartColor:$t.borderInlineStartColor,borderEndColor:$t.borderInlineEndColor,borderStartStyle:$t.borderInlineStartStyle,borderEndStyle:$t.borderInlineEndStyle});var $Ge={color:W.colors("color"),textColor:W.colors("color"),fill:W.colors("fill"),stroke:W.colors("stroke")},oO={boxShadow:W.shadows("boxShadow"),mixBlendMode:!0,blendMode:W.prop("mixBlendMode"),backgroundBlendMode:!0,bgBlendMode:W.prop("backgroundBlendMode"),opacity:!0};Object.assign(oO,{shadow:oO.boxShadow});var AGe={filter:{transform:ht.filter},blur:W.blur("--chakra-blur"),brightness:W.propT("--chakra-brightness",ht.brightness),contrast:W.propT("--chakra-contrast",ht.contrast),hueRotate:W.propT("--chakra-hue-rotate",ht.hueRotate),invert:W.propT("--chakra-invert",ht.invert),saturate:W.propT("--chakra-saturate",ht.saturate),dropShadow:W.propT("--chakra-drop-shadow",ht.dropShadow),backdropFilter:{transform:ht.backdropFilter},backdropBlur:W.blur("--chakra-backdrop-blur"),backdropBrightness:W.propT("--chakra-backdrop-brightness",ht.brightness),backdropContrast:W.propT("--chakra-backdrop-contrast",ht.contrast),backdropHueRotate:W.propT("--chakra-backdrop-hue-rotate",ht.hueRotate),backdropInvert:W.propT("--chakra-backdrop-invert",ht.invert),backdropSaturate:W.propT("--chakra-backdrop-saturate",ht.saturate)},ok={alignItems:!0,alignContent:!0,justifyItems:!0,justifyContent:!0,flexWrap:!0,flexDirection:{transform:ht.flexDirection},flex:!0,flexFlow:!0,flexGrow:!0,flexShrink:!0,flexBasis:W.sizes("flexBasis"),justifySelf:!0,alignSelf:!0,order:!0,placeItems:!0,placeContent:!0,placeSelf:!0,gap:W.space("gap"),rowGap:W.space("rowGap"),columnGap:W.space("columnGap")};Object.assign(ok,{flexDir:ok.flexDirection});var Dce={gridGap:W.space("gridGap"),gridColumnGap:W.space("gridColumnGap"),gridRowGap:W.space("gridRowGap"),gridColumn:!0,gridRow:!0,gridAutoFlow:!0,gridAutoColumns:!0,gridColumnStart:!0,gridColumnEnd:!0,gridRowStart:!0,gridRowEnd:!0,gridAutoRows:!0,gridTemplate:!0,gridTemplateColumns:!0,gridTemplateRows:!0,gridTemplateAreas:!0,gridArea:!0},TGe={appearance:!0,cursor:!0,resize:!0,userSelect:!0,pointerEvents:!0,outline:{transform:ht.outline},outlineOffset:!0,outlineColor:W.colors("outlineColor")},Zo={width:W.sizesT("width"),inlineSize:W.sizesT("inlineSize"),height:W.sizes("height"),blockSize:W.sizes("blockSize"),boxSize:W.sizes(["width","height"]),minWidth:W.sizes("minWidth"),minInlineSize:W.sizes("minInlineSize"),minHeight:W.sizes("minHeight"),minBlockSize:W.sizes("minBlockSize"),maxWidth:W.sizes("maxWidth"),maxInlineSize:W.sizes("maxInlineSize"),maxHeight:W.sizes("maxHeight"),maxBlockSize:W.sizes("maxBlockSize"),overflow:!0,overflowX:!0,overflowY:!0,overscrollBehavior:!0,overscrollBehaviorX:!0,overscrollBehaviorY:!0,display:!0,aspectRatio:!0,hideFrom:{scale:"breakpoints",transform:(e,t)=>{var n,r,i;return{[`@media screen and (min-width: ${(i=(r=(n=t.__breakpoints)==null?void 0:n.get(e))==null?void 0:r.minW)!=null?i:e})`]:{display:"none"}}}},hideBelow:{scale:"breakpoints",transform:(e,t)=>{var n,r,i;return{[`@media screen and (max-width: ${(i=(r=(n=t.__breakpoints)==null?void 0:n.get(e))==null?void 0:r._minW)!=null?i:e})`]:{display:"none"}}}},verticalAlign:!0,boxSizing:!0,boxDecorationBreak:!0,float:W.propT("float",ht.float),objectFit:!0,objectPosition:!0,visibility:!0,isolation:!0};Object.assign(Zo,{w:Zo.width,h:Zo.height,minW:Zo.minWidth,maxW:Zo.maxWidth,minH:Zo.minHeight,maxH:Zo.maxHeight,overscroll:Zo.overscrollBehavior,overscrollX:Zo.overscrollBehaviorX,overscrollY:Zo.overscrollBehaviorY});var FGe={listStyleType:!0,listStylePosition:!0,listStylePos:W.prop("listStylePosition"),listStyleImage:!0,listStyleImg:W.prop("listStyleImage")};function RGe(e,t,n,r){const i=typeof t=="string"?t.split("."):[t];for(r=0;r<i.length&&e;r+=1)e=e[i[r]];return e===void 0?n:e}var PGe=e=>{const t=new WeakMap;return(r,i,o,s)=>{if(typeof r>"u")return e(r,i,o);t.has(r)||t.set(r,new Map);const a=t.get(r);if(a.has(i))return a.get(i);const l=e(r,i,o,s);return a.set(i,l),l}},OGe=PGe(RGe),DGe={border:"0px",clip:"rect(0, 0, 0, 0)",width:"1px",height:"1px",margin:"-1px",padding:"0px",overflow:"hidden",whiteSpace:"nowrap",position:"absolute"},MGe={position:"static",width:"auto",height:"auto",clip:"auto",padding:"0",margin:"0",overflow:"visible",whiteSpace:"normal"},K3=(e,t,n)=>{const r={},i=OGe(e,t,{});for(const o in i)o in n&&n[o]!=null||(r[o]=i[o]);return r},NGe={srOnly:{transform(e){return e===!0?DGe:e==="focusable"?MGe:{}}},layerStyle:{processResult:!0,transform:(e,t,n)=>K3(t,`layerStyles.${e}`,n)},textStyle:{processResult:!0,transform:(e,t,n)=>K3(t,`textStyles.${e}`,n)},apply:{processResult:!0,transform:(e,t,n)=>K3(t,e,n)}},lv={position:!0,pos:W.prop("position"),zIndex:W.prop("zIndex","zIndices"),inset:W.spaceT("inset"),insetX:W.spaceT(["left","right"]),insetInline:W.spaceT("insetInline"),insetY:W.spaceT(["top","bottom"]),insetBlock:W.spaceT("insetBlock"),top:W.spaceT("top"),insetBlockStart:W.spaceT("insetBlockStart"),bottom:W.spaceT("bottom"),insetBlockEnd:W.spaceT("insetBlockEnd"),left:W.spaceT("left"),insetInlineStart:W.logical({scale:"space",property:{ltr:"left",rtl:"right"}}),right:W.spaceT("right"),insetInlineEnd:W.logical({scale:"space",property:{ltr:"right",rtl:"left"}})};Object.assign(lv,{insetStart:lv.insetInlineStart,insetEnd:lv.insetInlineEnd});var LGe={ring:{transform:ht.ring},ringColor:W.colors("--chakra-ring-color"),ringOffset:W.prop("--chakra-ring-offset-width"),ringOffsetColor:W.colors("--chakra-ring-offset-color"),ringInset:W.prop("--chakra-ring-inset")},sn={margin:W.spaceT("margin"),marginTop:W.spaceT("marginTop"),marginBlockStart:W.spaceT("marginBlockStart"),marginRight:W.spaceT("marginRight"),marginInlineEnd:W.spaceT("marginInlineEnd"),marginBottom:W.spaceT("marginBottom"),marginBlockEnd:W.spaceT("marginBlockEnd"),marginLeft:W.spaceT("marginLeft"),marginInlineStart:W.spaceT("marginInlineStart"),marginX:W.spaceT(["marginInlineStart","marginInlineEnd"]),marginInline:W.spaceT("marginInline"),marginY:W.spaceT(["marginTop","marginBottom"]),marginBlock:W.spaceT("marginBlock"),padding:W.space("padding"),paddingTop:W.space("paddingTop"),paddingBlockStart:W.space("paddingBlockStart"),paddingRight:W.space("paddingRight"),paddingBottom:W.space("paddingBottom"),paddingBlockEnd:W.space("paddingBlockEnd"),paddingLeft:W.space("paddingLeft"),paddingInlineStart:W.space("paddingInlineStart"),paddingInlineEnd:W.space("paddingInlineEnd"),paddingX:W.space(["paddingInlineStart","paddingInlineEnd"]),paddingInline:W.space("paddingInline"),paddingY:W.space(["paddingTop","paddingBottom"]),paddingBlock:W.space("paddingBlock")};Object.assign(sn,{m:sn.margin,mt:sn.marginTop,mr:sn.marginRight,me:sn.marginInlineEnd,marginEnd:sn.marginInlineEnd,mb:sn.marginBottom,ml:sn.marginLeft,ms:sn.marginInlineStart,marginStart:sn.marginInlineStart,mx:sn.marginX,my:sn.marginY,p:sn.padding,pt:sn.paddingTop,py:sn.paddingY,px:sn.paddingX,pb:sn.paddingBottom,pl:sn.paddingLeft,ps:sn.paddingInlineStart,paddingStart:sn.paddingInlineStart,pr:sn.paddingRight,pe:sn.paddingInlineEnd,paddingEnd:sn.paddingInlineEnd});var IGe={textDecorationColor:W.colors("textDecorationColor"),textDecoration:!0,textDecor:{property:"textDecoration"},textDecorationLine:!0,textDecorationStyle:!0,textDecorationThickness:!0,textUnderlineOffset:!0,textShadow:W.shadows("textShadow")},zGe={clipPath:!0,transform:W.propT("transform",ht.transform),transformOrigin:!0,translateX:W.spaceT("--chakra-translate-x"),translateY:W.spaceT("--chakra-translate-y"),skewX:W.degreeT("--chakra-skew-x"),skewY:W.degreeT("--chakra-skew-y"),scaleX:W.prop("--chakra-scale-x"),scaleY:W.prop("--chakra-scale-y"),scale:W.prop(["--chakra-scale-x","--chakra-scale-y"]),rotate:W.degreeT("--chakra-rotate")},jGe={transition:!0,transitionDelay:!0,animation:!0,willChange:!0,transitionDuration:W.prop("transitionDuration","transition.duration"),transitionProperty:W.prop("transitionProperty","transition.property"),transitionTimingFunction:W.prop("transitionTimingFunction","transition.easing")},BGe={fontFamily:W.prop("fontFamily","fonts"),fontSize:W.prop("fontSize","fontSizes",ht.px),fontWeight:W.prop("fontWeight","fontWeights"),lineHeight:W.prop("lineHeight","lineHeights"),letterSpacing:W.prop("letterSpacing","letterSpacings"),textAlign:!0,fontStyle:!0,textIndent:!0,wordBreak:!0,overflowWrap:!0,textOverflow:!0,textTransform:!0,whiteSpace:!0,isTruncated:{transform(e){if(e===!0)return{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}}},noOfLines:{static:{overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitBoxOrient:"vertical",WebkitLineClamp:"var(--chakra-line-clamp)"},property:"--chakra-line-clamp"}},UGe={scrollBehavior:!0,scrollSnapAlign:!0,scrollSnapStop:!0,scrollSnapType:!0,scrollMargin:W.spaceT("scrollMargin"),scrollMarginTop:W.spaceT("scrollMarginTop"),scrollMarginBottom:W.spaceT("scrollMarginBottom"),scrollMarginLeft:W.spaceT("scrollMarginLeft"),scrollMarginRight:W.spaceT("scrollMarginRight"),scrollMarginX:W.spaceT(["scrollMarginLeft","scrollMarginRight"]),scrollMarginY:W.spaceT(["scrollMarginTop","scrollMarginBottom"]),scrollPadding:W.spaceT("scrollPadding"),scrollPaddingTop:W.spaceT("scrollPaddingTop"),scrollPaddingBottom:W.spaceT("scrollPaddingBottom"),scrollPaddingLeft:W.spaceT("scrollPaddingLeft"),scrollPaddingRight:W.spaceT("scrollPaddingRight"),scrollPaddingX:W.spaceT(["scrollPaddingLeft","scrollPaddingRight"]),scrollPaddingY:W.spaceT(["scrollPaddingTop","scrollPaddingBottom"])};function Mce(e){return oo(e)&&e.reference?e.reference:String(e)}var yA=(e,...t)=>t.map(Mce).join(` ${e} `).replace(/calc/g,""),BH=(...e)=>`calc(${yA("+",...e)})`,UH=(...e)=>`calc(${yA("-",...e)})`,sO=(...e)=>`calc(${yA("*",...e)})`,VH=(...e)=>`calc(${yA("/",...e)})`,WH=e=>{const t=Mce(e);return t!=null&&!Number.isNaN(parseFloat(t))?String(t).startsWith("-")?String(t).slice(1):`-${t}`:sO(t,-1)},Fd=Object.assign(e=>({add:(...t)=>Fd(BH(e,...t)),subtract:(...t)=>Fd(UH(e,...t)),multiply:(...t)=>Fd(sO(e,...t)),divide:(...t)=>Fd(VH(e,...t)),negate:()=>Fd(WH(e)),toString:()=>e.toString()}),{add:BH,subtract:UH,multiply:sO,divide:VH,negate:WH});function VGe(e,t="-"){return e.replace(/\s+/g,t)}function WGe(e){const t=VGe(e.toString());return qGe(HGe(t))}function HGe(e){return e.includes("\\.")?e:!Number.isInteger(parseFloat(e.toString()))?e.replace(".","\\."):e}function qGe(e){return e.replace(/[!-,/:-@[-^`{-~]/g,"\\$&")}function GGe(e,t=""){return[t,e].filter(Boolean).join("-")}function XGe(e,t){return`var(${e}${t?`, ${t}`:""})`}function YGe(e,t=""){return WGe(`--${GGe(e,t)}`)}function Ie(e,t,n){const r=YGe(e,n);return{variable:r,reference:XGe(r,t)}}function KGe(e,t){const n={};for(const r of t){if(Array.isArray(r)){const[i,o]=r;n[i]=Ie(`${e}-${i}`,o);continue}n[r]=Ie(`${e}-${r}`)}return n}function QGe(e){const t=e==null?0:e.length;return t?e[t-1]:void 0}function JGe(e){const t=parseFloat(e.toString()),n=e.toString().replace(String(t),"");return{unitless:!n,value:t,unit:n}}function aO(e){if(e==null)return e;const{unitless:t}=JGe(e);return t||typeof e=="number"?`${e}px`:e}var Nce=(e,t)=>parseInt(e[1],10)>parseInt(t[1],10)?1:-1,H8=e=>Object.fromEntries(Object.entries(e).sort(Nce));function HH(e){const t=H8(e);return Object.assign(Object.values(t),t)}function ZGe(e){const t=Object.keys(H8(e));return new Set(t)}function qH(e){var t;if(!e)return e;e=(t=aO(e))!=null?t:e;const n=-.02;return typeof e=="number"?`${e+n}`:e.replace(/(\d+\.?\d*)/u,r=>`${parseFloat(r)+n}`)}function A1(e,t){const n=["@media screen"];return e&&n.push("and",`(min-width: ${aO(e)})`),t&&n.push("and",`(max-width: ${aO(t)})`),n.join(" ")}function eXe(e){var t;if(!e)return null;e.base=(t=e.base)!=null?t:"0px";const n=HH(e),r=Object.entries(e).sort(Nce).map(([s,a],l,u)=>{var c;let[,f]=(c=u[l+1])!=null?c:[];return f=parseFloat(f)>0?qH(f):void 0,{_minW:qH(a),breakpoint:s,minW:a,maxW:f,maxWQuery:A1(null,f),minWQuery:A1(a),minMaxQuery:A1(a,f)}}),i=ZGe(e),o=Array.from(i.values());return{keys:i,normalized:n,isResponsive(s){const a=Object.keys(s);return a.length>0&&a.every(l=>i.has(l))},asObject:H8(e),asArray:HH(e),details:r,get(s){return r.find(a=>a.breakpoint===s)},media:[null,...n.map(s=>A1(s)).slice(1)],toArrayValue(s){if(!oo(s))throw new Error("toArrayValue: value must be an object");const a=o.map(l=>{var u;return(u=s[l])!=null?u:null});for(;QGe(a)===null;)a.pop();return a},toObjectValue(s){if(!Array.isArray(s))throw new Error("toObjectValue: value must be an array");return s.reduce((a,l,u)=>{const c=o[u];return c!=null&&l!=null&&(a[c]=l),a},{})}}}var Er={hover:(e,t)=>`${e}:hover ${t}, ${e}[data-hover] ${t}`,focus:(e,t)=>`${e}:focus ${t}, ${e}[data-focus] ${t}`,focusVisible:(e,t)=>`${e}:focus-visible ${t}`,focusWithin:(e,t)=>`${e}:focus-within ${t}`,active:(e,t)=>`${e}:active ${t}, ${e}[data-active] ${t}`,disabled:(e,t)=>`${e}:disabled ${t}, ${e}[data-disabled] ${t}`,invalid:(e,t)=>`${e}:invalid ${t}, ${e}[data-invalid] ${t}`,checked:(e,t)=>`${e}:checked ${t}, ${e}[data-checked] ${t}`,indeterminate:(e,t)=>`${e}:indeterminate ${t}, ${e}[aria-checked=mixed] ${t}, ${e}[data-indeterminate] ${t}`,readOnly:(e,t)=>`${e}:read-only ${t}, ${e}[readonly] ${t}, ${e}[data-read-only] ${t}`,expanded:(e,t)=>`${e}:read-only ${t}, ${e}[aria-expanded=true] ${t}, ${e}[data-expanded] ${t}`,placeholderShown:(e,t)=>`${e}:placeholder-shown ${t}`},sc=e=>Lce(t=>e(t,"&"),"[role=group]","[data-group]",".group"),Hl=e=>Lce(t=>e(t,"~ &"),"[data-peer]",".peer"),Lce=(e,...t)=>t.map(e).join(", "),vA={_hover:"&:hover, &[data-hover]",_active:"&:active, &[data-active]",_focus:"&:focus, &[data-focus]",_highlighted:"&[data-highlighted]",_focusWithin:"&:focus-within",_focusVisible:"&:focus-visible, &[data-focus-visible]",_disabled:"&:disabled, &[disabled], &[aria-disabled=true], &[data-disabled]",_readOnly:"&[aria-readonly=true], &[readonly], &[data-readonly]",_before:"&::before",_after:"&::after",_empty:"&:empty",_expanded:"&[aria-expanded=true], &[data-expanded]",_checked:"&[aria-checked=true], &[data-checked]",_grabbed:"&[aria-grabbed=true], &[data-grabbed]",_pressed:"&[aria-pressed=true], &[data-pressed]",_invalid:"&[aria-invalid=true], &[data-invalid]",_valid:"&[data-valid], &[data-state=valid]",_loading:"&[data-loading], &[aria-busy=true]",_selected:"&[aria-selected=true], &[data-selected]",_hidden:"&[hidden], &[data-hidden]",_autofill:"&:-webkit-autofill",_even:"&:nth-of-type(even)",_odd:"&:nth-of-type(odd)",_first:"&:first-of-type",_firstLetter:"&::first-letter",_last:"&:last-of-type",_notFirst:"&:not(:first-of-type)",_notLast:"&:not(:last-of-type)",_visited:"&:visited",_activeLink:"&[aria-current=page]",_activeStep:"&[aria-current=step]",_indeterminate:"&:indeterminate, &[aria-checked=mixed], &[data-indeterminate]",_groupHover:sc(Er.hover),_peerHover:Hl(Er.hover),_groupFocus:sc(Er.focus),_peerFocus:Hl(Er.focus),_groupFocusVisible:sc(Er.focusVisible),_peerFocusVisible:Hl(Er.focusVisible),_groupActive:sc(Er.active),_peerActive:Hl(Er.active),_groupDisabled:sc(Er.disabled),_peerDisabled:Hl(Er.disabled),_groupInvalid:sc(Er.invalid),_peerInvalid:Hl(Er.invalid),_groupChecked:sc(Er.checked),_peerChecked:Hl(Er.checked),_groupFocusWithin:sc(Er.focusWithin),_peerFocusWithin:Hl(Er.focusWithin),_peerPlaceholderShown:Hl(Er.placeholderShown),_placeholder:"&::placeholder",_placeholderShown:"&:placeholder-shown",_fullScreen:"&:fullscreen",_selection:"&::selection",_rtl:"[dir=rtl] &, &[dir=rtl]",_ltr:"[dir=ltr] &, &[dir=ltr]",_mediaDark:"@media (prefers-color-scheme: dark)",_mediaReduceMotion:"@media (prefers-reduced-motion: reduce)",_dark:".chakra-ui-dark &:not([data-theme]),[data-theme=dark] &:not([data-theme]),&[data-theme=dark]",_light:".chakra-ui-light &:not([data-theme]),[data-theme=light] &:not([data-theme]),&[data-theme=light]",_horizontal:"&[data-orientation=horizontal]",_vertical:"&[data-orientation=vertical]"},Ice=Object.keys(vA);function GH(e,t){return Ie(String(e).replace(/\./g,"-"),void 0,t)}function tXe(e,t){let n={};const r={};for(const[i,o]of Object.entries(e)){const{isSemantic:s,value:a}=o,{variable:l,reference:u}=GH(i,t==null?void 0:t.cssVarPrefix);if(!s){if(i.startsWith("space")){const d=i.split("."),[h,...p]=d,g=`${h}.-${p.join(".")}`,m=Fd.negate(a),y=Fd.negate(u);r[g]={value:m,var:l,varRef:y}}n[l]=a,r[i]={value:a,var:l,varRef:u};continue}const c=d=>{const p=[String(i).split(".")[0],d].join(".");if(!e[p])return d;const{reference:m}=GH(p,t==null?void 0:t.cssVarPrefix);return m},f=oo(a)?a:{default:a};n=gs(n,Object.entries(f).reduce((d,[h,p])=>{var g,m;if(!p)return d;const y=c(`${p}`);if(h==="default")return d[l]=y,d;const v=(m=(g=vA)==null?void 0:g[h])!=null?m:h;return d[v]={[l]:y},d},{})),r[i]={value:u,var:l,varRef:u}}return{cssVars:n,cssMap:r}}function nXe(e,t=[]){const n=Object.assign({},e);for(const r of t)r in n&&delete n[r];return n}function rXe(e,t){const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}function iXe(e){return typeof e=="object"&&e!=null&&!Array.isArray(e)}function XH(e,t,n={}){const{stop:r,getKey:i}=n;function o(s,a=[]){var l;if(iXe(s)||Array.isArray(s)){const u={};for(const[c,f]of Object.entries(s)){const d=(l=i==null?void 0:i(c))!=null?l:c,h=[...a,d];if(r!=null&&r(s,h))return t(s,a);u[d]=o(f,h)}return u}return t(s,a)}return o(e)}var oXe=["colors","borders","borderWidths","borderStyles","fonts","fontSizes","fontWeights","gradients","letterSpacings","lineHeights","radii","space","shadows","sizes","zIndices","transition","blur","breakpoints"];function sXe(e){return rXe(e,oXe)}function aXe(e){return e.semanticTokens}function lXe(e){const{__cssMap:t,__cssVars:n,__breakpoints:r,...i}=e;return i}var uXe=e=>Ice.includes(e)||e==="default";function cXe({tokens:e,semanticTokens:t}){const n={};return XH(e,(r,i)=>{r!=null&&(n[i.join(".")]={isSemantic:!1,value:r})}),XH(t,(r,i)=>{r!=null&&(n[i.join(".")]={isSemantic:!0,value:r})},{stop:r=>Object.keys(r).every(uXe)}),n}function fXe(e){var t;const n=lXe(e),r=sXe(n),i=aXe(n),o=cXe({tokens:r,semanticTokens:i}),s=(t=n.config)==null?void 0:t.cssVarPrefix,{cssMap:a,cssVars:l}=tXe(o,{cssVarPrefix:s});return Object.assign(n,{__cssVars:{...{"--chakra-ring-inset":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-ring-offset-width":"0px","--chakra-ring-offset-color":"#fff","--chakra-ring-color":"rgba(66, 153, 225, 0.6)","--chakra-ring-offset-shadow":"0 0 #0000","--chakra-ring-shadow":"0 0 #0000","--chakra-space-x-reverse":"0","--chakra-space-y-reverse":"0"},...l},__cssMap:a,__breakpoints:eXe(n.breakpoints)}),n}var q8=gs({},PS,$t,$Ge,ok,Zo,AGe,LGe,TGe,Dce,NGe,lv,oO,sn,UGe,BGe,IGe,zGe,FGe,jGe),dXe=Object.assign({},sn,Zo,ok,Dce,lv),hXe=Object.keys(dXe),pXe=[...Object.keys(q8),...Ice],gXe={...q8,...vA},mXe=e=>e in gXe,yXe=e=>t=>{if(!t.__breakpoints)return e;const{isResponsive:n,toArrayValue:r,media:i}=t.__breakpoints,o={};for(const s in e){let a=rl(e[s],t);if(a==null)continue;if(a=oo(a)&&n(a)?r(a):a,!Array.isArray(a)){o[s]=a;continue}const l=a.slice(0,i.length).length;for(let u=0;u<l;u+=1){const c=i==null?void 0:i[u];if(!c){o[s]=a[u];continue}o[c]=o[c]||{},a[u]!=null&&(o[c][s]=a[u])}}return o};function vXe(e){const t=[];let n="",r=!1;for(let i=0;i<e.length;i++){const o=e[i];o==="("?(r=!0,n+=o):o===")"?(r=!1,n+=o):o===","&&!r?(t.push(n),n=""):n+=o}return n=n.trim(),n&&t.push(n),t}function bXe(e){return/^var\(--.+\)$/.test(e)}var xXe=(e,t)=>e.startsWith("--")&&typeof t=="string"&&!bXe(t),wXe=(e,t)=>{var n,r;if(t==null)return t;const i=l=>{var u,c;return(c=(u=e.__cssMap)==null?void 0:u[l])==null?void 0:c.varRef},o=l=>{var u;return(u=i(l))!=null?u:l},[s,a]=vXe(t);return t=(r=(n=i(s))!=null?n:o(a))!=null?r:o(t),t};function SXe(e){const{configs:t={},pseudos:n={},theme:r}=e,i=(o,s=!1)=>{var a,l,u;const c=rl(o,r),f=yXe(c)(r);let d={};for(let h in f){const p=f[h];let g=rl(p,r);h in n&&(h=n[h]),xXe(h,g)&&(g=wXe(r,g));let m=t[h];if(m===!0&&(m={property:h}),oo(g)){d[h]=(a=d[h])!=null?a:{},d[h]=gs({},d[h],i(g,!0));continue}let y=(u=(l=m==null?void 0:m.transform)==null?void 0:l.call(m,g,r,c))!=null?u:g;y=m!=null&&m.processResult?i(y,!0):y;const v=rl(m==null?void 0:m.property,r);if(!s&&(m!=null&&m.static)){const b=rl(m.static,r);d=gs({},d,b)}if(v&&Array.isArray(v)){for(const b of v)d[b]=y;continue}if(v){v==="&"&&oo(y)?d=gs({},d,y):d[v]=y;continue}if(oo(y)){d=gs({},d,y);continue}d[h]=y}return d};return i}var zce=e=>t=>SXe({theme:t,pseudos:vA,configs:q8})(e);function rn(e){return{definePartsStyle(t){return t},defineMultiStyleConfig(t){return{parts:e,...t}}}}function EXe(e,t){if(Array.isArray(e))return e;if(oo(e))return t(e);if(e!=null)return[e]}function CXe(e,t){for(let n=t+1;n<e.length;n++)if(e[n]!=null)return n;return-1}function kXe(e){const t=e.__breakpoints;return function(r,i,o,s){var a,l;if(!t)return;const u={},c=EXe(o,t.toArrayValue);if(!c)return u;const f=c.length,d=f===1,h=!!r.parts;for(let p=0;p<f;p++){const g=t.details[p],m=t.details[CXe(c,p)],y=A1(g.minW,m==null?void 0:m._minW),v=rl((a=r[i])==null?void 0:a[c[p]],s);if(v){if(h){(l=r.parts)==null||l.forEach(b=>{gs(u,{[b]:d?v[b]:{[y]:v[b]}})});continue}if(!h){d?gs(u,v):u[y]=v;continue}u[y]=v}}return u}}function _Xe(e){return t=>{var n;const{variant:r,size:i,theme:o}=t,s=kXe(o);return gs({},rl((n=e.baseStyle)!=null?n:{},t),s(e,"sizes",i,t),s(e,"variants",r,t))}}function ci(e){return nXe(e,["styleConfig","size","variant","colorScheme"])}var $Xe=["borders","breakpoints","colors","components","config","direction","fonts","fontSizes","fontWeights","letterSpacings","lineHeights","radii","shadows","sizes","space","styles","transition","zIndices"];function AXe(e){return oo(e)?$Xe.every(t=>Object.prototype.hasOwnProperty.call(e,t)):!1}var TXe={common:"background-color, border-color, color, fill, stroke, opacity, box-shadow, transform",colors:"background-color, border-color, color, fill, stroke",dimensions:"width, height",position:"left, right, top, bottom",background:"background-color, background-image, background-position"},FXe={"ease-in":"cubic-bezier(0.4, 0, 1, 1)","ease-out":"cubic-bezier(0, 0, 0.2, 1)","ease-in-out":"cubic-bezier(0.4, 0, 0.2, 1)"},RXe={"ultra-fast":"50ms",faster:"100ms",fast:"150ms",normal:"200ms",slow:"300ms",slower:"400ms","ultra-slow":"500ms"},PXe={property:TXe,easing:FXe,duration:RXe},OXe=PXe,DXe={hide:-1,auto:"auto",base:0,docked:10,dropdown:1e3,sticky:1100,banner:1200,overlay:1300,modal:1400,popover:1500,skipLink:1600,toast:1700,tooltip:1800},MXe=DXe,NXe={none:0,"1px":"1px solid","2px":"2px solid","4px":"4px solid","8px":"8px solid"},LXe=NXe,IXe={base:"0em",sm:"30em",md:"48em",lg:"62em",xl:"80em","2xl":"96em"},zXe=IXe,jXe={transparent:"transparent",current:"currentColor",black:"#000000",white:"#FFFFFF",whiteAlpha:{50:"rgba(255, 255, 255, 0.04)",100:"rgba(255, 255, 255, 0.06)",200:"rgba(255, 255, 255, 0.08)",300:"rgba(255, 255, 255, 0.16)",400:"rgba(255, 255, 255, 0.24)",500:"rgba(255, 255, 255, 0.36)",600:"rgba(255, 255, 255, 0.48)",700:"rgba(255, 255, 255, 0.64)",800:"rgba(255, 255, 255, 0.80)",900:"rgba(255, 255, 255, 0.92)"},blackAlpha:{50:"rgba(0, 0, 0, 0.04)",100:"rgba(0, 0, 0, 0.06)",200:"rgba(0, 0, 0, 0.08)",300:"rgba(0, 0, 0, 0.16)",400:"rgba(0, 0, 0, 0.24)",500:"rgba(0, 0, 0, 0.36)",600:"rgba(0, 0, 0, 0.48)",700:"rgba(0, 0, 0, 0.64)",800:"rgba(0, 0, 0, 0.80)",900:"rgba(0, 0, 0, 0.92)"},gray:{50:"#F7FAFC",100:"#EDF2F7",200:"#E2E8F0",300:"#CBD5E0",400:"#A0AEC0",500:"#718096",600:"#4A5568",700:"#2D3748",800:"#1A202C",900:"#171923"},red:{50:"#FFF5F5",100:"#FED7D7",200:"#FEB2B2",300:"#FC8181",400:"#F56565",500:"#E53E3E",600:"#C53030",700:"#9B2C2C",800:"#822727",900:"#63171B"},orange:{50:"#FFFAF0",100:"#FEEBC8",200:"#FBD38D",300:"#F6AD55",400:"#ED8936",500:"#DD6B20",600:"#C05621",700:"#9C4221",800:"#7B341E",900:"#652B19"},yellow:{50:"#FFFFF0",100:"#FEFCBF",200:"#FAF089",300:"#F6E05E",400:"#ECC94B",500:"#D69E2E",600:"#B7791F",700:"#975A16",800:"#744210",900:"#5F370E"},green:{50:"#F0FFF4",100:"#C6F6D5",200:"#9AE6B4",300:"#68D391",400:"#48BB78",500:"#38A169",600:"#2F855A",700:"#276749",800:"#22543D",900:"#1C4532"},teal:{50:"#E6FFFA",100:"#B2F5EA",200:"#81E6D9",300:"#4FD1C5",400:"#38B2AC",500:"#319795",600:"#2C7A7B",700:"#285E61",800:"#234E52",900:"#1D4044"},blue:{50:"#ebf8ff",100:"#bee3f8",200:"#90cdf4",300:"#63b3ed",400:"#4299e1",500:"#3182ce",600:"#2b6cb0",700:"#2c5282",800:"#2a4365",900:"#1A365D"},cyan:{50:"#EDFDFD",100:"#C4F1F9",200:"#9DECF9",300:"#76E4F7",400:"#0BC5EA",500:"#00B5D8",600:"#00A3C4",700:"#0987A0",800:"#086F83",900:"#065666"},purple:{50:"#FAF5FF",100:"#E9D8FD",200:"#D6BCFA",300:"#B794F4",400:"#9F7AEA",500:"#805AD5",600:"#6B46C1",700:"#553C9A",800:"#44337A",900:"#322659"},pink:{50:"#FFF5F7",100:"#FED7E2",200:"#FBB6CE",300:"#F687B3",400:"#ED64A6",500:"#D53F8C",600:"#B83280",700:"#97266D",800:"#702459",900:"#521B41"},linkedin:{50:"#E8F4F9",100:"#CFEDFB",200:"#9BDAF3",300:"#68C7EC",400:"#34B3E4",500:"#00A0DC",600:"#008CC9",700:"#0077B5",800:"#005E93",900:"#004471"},facebook:{50:"#E8F4F9",100:"#D9DEE9",200:"#B7C2DA",300:"#6482C0",400:"#4267B2",500:"#385898",600:"#314E89",700:"#29487D",800:"#223B67",900:"#1E355B"},messenger:{50:"#D0E6FF",100:"#B9DAFF",200:"#A2CDFF",300:"#7AB8FF",400:"#2E90FF",500:"#0078FF",600:"#0063D1",700:"#0052AC",800:"#003C7E",900:"#002C5C"},whatsapp:{50:"#dffeec",100:"#b9f5d0",200:"#90edb3",300:"#65e495",400:"#3cdd78",500:"#22c35e",600:"#179848",700:"#0c6c33",800:"#01421c",900:"#001803"},twitter:{50:"#E5F4FD",100:"#C8E9FB",200:"#A8DCFA",300:"#83CDF7",400:"#57BBF5",500:"#1DA1F2",600:"#1A94DA",700:"#1681BF",800:"#136B9E",900:"#0D4D71"},telegram:{50:"#E3F2F9",100:"#C5E4F3",200:"#A2D4EC",300:"#7AC1E4",400:"#47A9DA",500:"#0088CC",600:"#007AB8",700:"#006BA1",800:"#005885",900:"#003F5E"}},BXe=jXe,UXe={none:"0",sm:"0.125rem",base:"0.25rem",md:"0.375rem",lg:"0.5rem",xl:"0.75rem","2xl":"1rem","3xl":"1.5rem",full:"9999px"},VXe=UXe,WXe={xs:"0 0 0 1px rgba(0, 0, 0, 0.05)",sm:"0 1px 2px 0 rgba(0, 0, 0, 0.05)",base:"0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06)",md:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",lg:"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)",xl:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)","2xl":"0 25px 50px -12px rgba(0, 0, 0, 0.25)",outline:"0 0 0 3px rgba(66, 153, 225, 0.6)",inner:"inset 0 2px 4px 0 rgba(0,0,0,0.06)",none:"none","dark-lg":"rgba(0, 0, 0, 0.1) 0px 0px 0px 1px, rgba(0, 0, 0, 0.2) 0px 5px 10px, rgba(0, 0, 0, 0.4) 0px 15px 40px"},HXe=WXe,qXe={none:0,sm:"4px",base:"8px",md:"12px",lg:"16px",xl:"24px","2xl":"40px","3xl":"64px"},GXe=qXe,XXe={letterSpacings:{tighter:"-0.05em",tight:"-0.025em",normal:"0",wide:"0.025em",wider:"0.05em",widest:"0.1em"},lineHeights:{normal:"normal",none:1,shorter:1.25,short:1.375,base:1.5,tall:1.625,taller:"2",3:".75rem",4:"1rem",5:"1.25rem",6:"1.5rem",7:"1.75rem",8:"2rem",9:"2.25rem",10:"2.5rem"},fontWeights:{hairline:100,thin:200,light:300,normal:400,medium:500,semibold:600,bold:700,extrabold:800,black:900},fonts:{heading:'-apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',body:'-apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',mono:'SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace'},fontSizes:{"3xs":"0.45rem","2xs":"0.625rem",xs:"0.75rem",sm:"0.875rem",md:"1rem",lg:"1.125rem",xl:"1.25rem","2xl":"1.5rem","3xl":"1.875rem","4xl":"2.25rem","5xl":"3rem","6xl":"3.75rem","7xl":"4.5rem","8xl":"6rem","9xl":"8rem"}},jce=XXe,Bce={px:"1px",.5:"0.125rem",1:"0.25rem",1.5:"0.375rem",2:"0.5rem",2.5:"0.625rem",3:"0.75rem",3.5:"0.875rem",4:"1rem",5:"1.25rem",6:"1.5rem",7:"1.75rem",8:"2rem",9:"2.25rem",10:"2.5rem",12:"3rem",14:"3.5rem",16:"4rem",20:"5rem",24:"6rem",28:"7rem",32:"8rem",36:"9rem",40:"10rem",44:"11rem",48:"12rem",52:"13rem",56:"14rem",60:"15rem",64:"16rem",72:"18rem",80:"20rem",96:"24rem"},YXe={max:"max-content",min:"min-content",full:"100%","3xs":"14rem","2xs":"16rem",xs:"20rem",sm:"24rem",md:"28rem",lg:"32rem",xl:"36rem","2xl":"42rem","3xl":"48rem","4xl":"56rem","5xl":"64rem","6xl":"72rem","7xl":"80rem","8xl":"90rem",prose:"60ch"},KXe={sm:"640px",md:"768px",lg:"1024px",xl:"1280px"},QXe={...Bce,...YXe,container:KXe},Uce=QXe,JXe={breakpoints:zXe,zIndices:MXe,radii:VXe,blur:GXe,colors:BXe,...jce,sizes:Uce,shadows:HXe,space:Bce,borders:LXe,transition:OXe},{defineMultiStyleConfig:ZXe,definePartsStyle:T1}=rn(["stepper","step","title","description","indicator","separator","icon","number"]),eu=Ie("stepper-indicator-size"),vg=Ie("stepper-icon-size"),bg=Ie("stepper-title-font-size"),F1=Ie("stepper-description-font-size"),Vy=Ie("stepper-accent-color"),eYe=T1(({colorScheme:e})=>({stepper:{display:"flex",justifyContent:"space-between",gap:"4","&[data-orientation=vertical]":{flexDirection:"column",alignItems:"flex-start"},"&[data-orientation=horizontal]":{flexDirection:"row",alignItems:"center"},[Vy.variable]:`colors.${e}.500`,_dark:{[Vy.variable]:`colors.${e}.200`}},title:{fontSize:bg.reference,fontWeight:"medium"},description:{fontSize:F1.reference,color:"chakra-subtle-text"},number:{fontSize:bg.reference},step:{flexShrink:0,position:"relative",display:"flex",gap:"2","&[data-orientation=horizontal]":{alignItems:"center"},flex:"1","&:last-of-type:not([data-stretch])":{flex:"initial"}},icon:{flexShrink:0,width:vg.reference,height:vg.reference},indicator:{flexShrink:0,borderRadius:"full",width:eu.reference,height:eu.reference,display:"flex",justifyContent:"center",alignItems:"center","&[data-status=active]":{borderWidth:"2px",borderColor:Vy.reference},"&[data-status=complete]":{bg:Vy.reference,color:"chakra-inverse-text"},"&[data-status=incomplete]":{borderWidth:"2px"}},separator:{bg:"chakra-border-color",flex:"1","&[data-status=complete]":{bg:Vy.reference},"&[data-orientation=horizontal]":{width:"100%",height:"2px",marginStart:"2"},"&[data-orientation=vertical]":{width:"2px",position:"absolute",height:"100%",maxHeight:`calc(100% - ${eu.reference} - 8px)`,top:`calc(${eu.reference} + 4px)`,insetStart:`calc(${eu.reference} / 2 - 1px)`}}})),tYe=ZXe({baseStyle:eYe,sizes:{xs:T1({stepper:{[eu.variable]:"sizes.4",[vg.variable]:"sizes.3",[bg.variable]:"fontSizes.xs",[F1.variable]:"fontSizes.xs"}}),sm:T1({stepper:{[eu.variable]:"sizes.6",[vg.variable]:"sizes.4",[bg.variable]:"fontSizes.sm",[F1.variable]:"fontSizes.xs"}}),md:T1({stepper:{[eu.variable]:"sizes.8",[vg.variable]:"sizes.5",[bg.variable]:"fontSizes.md",[F1.variable]:"fontSizes.sm"}}),lg:T1({stepper:{[eu.variable]:"sizes.10",[vg.variable]:"sizes.6",[bg.variable]:"fontSizes.lg",[F1.variable]:"fontSizes.md"}})},defaultProps:{size:"md",colorScheme:"blue"}});function Pt(e,t={}){let n=!1;function r(){if(!n){n=!0;return}throw new Error("[anatomy] .part(...) should only be called once. Did you mean to use .extend(...) ?")}function i(...c){r();for(const f of c)t[f]=l(f);return Pt(e,t)}function o(...c){for(const f of c)f in t||(t[f]=l(f));return Pt(e,t)}function s(){return Object.fromEntries(Object.entries(t).map(([f,d])=>[f,d.selector]))}function a(){return Object.fromEntries(Object.entries(t).map(([f,d])=>[f,d.className]))}function l(c){const h=`chakra-${(["container","root"].includes(c??"")?[e]:[e,c]).filter(Boolean).join("__")}`;return{className:h,selector:`.${h}`,toString:()=>c}}return{parts:i,toPart:l,extend:o,selectors:s,classnames:a,get keys(){return Object.keys(t)},__type:{}}}var nYe=Pt("accordion").parts("root","container","button","panel").extend("icon"),rYe=Pt("alert").parts("title","description","container").extend("icon","spinner"),iYe=Pt("avatar").parts("label","badge","container").extend("excessLabel","group"),oYe=Pt("breadcrumb").parts("link","item","container").extend("separator");Pt("button").parts();var sYe=Pt("checkbox").parts("control","icon","container").extend("label");Pt("progress").parts("track","filledTrack").extend("label");var aYe=Pt("drawer").parts("overlay","dialogContainer","dialog").extend("header","closeButton","body","footer"),lYe=Pt("editable").parts("preview","input","textarea"),uYe=Pt("form").parts("container","requiredIndicator","helperText"),cYe=Pt("formError").parts("text","icon"),fYe=Pt("input").parts("addon","field","element","group"),dYe=Pt("list").parts("container","item","icon"),hYe=Pt("menu").parts("button","list","item").extend("groupTitle","icon","command","divider"),pYe=Pt("modal").parts("overlay","dialogContainer","dialog").extend("header","closeButton","body","footer"),gYe=Pt("numberinput").parts("root","field","stepperGroup","stepper");Pt("pininput").parts("field");var mYe=Pt("popover").parts("content","header","body","footer").extend("popper","arrow","closeButton"),yYe=Pt("progress").parts("label","filledTrack","track"),vYe=Pt("radio").parts("container","control","label"),bYe=Pt("select").parts("field","icon"),xYe=Pt("slider").parts("container","track","thumb","filledTrack","mark"),wYe=Pt("stat").parts("container","label","helpText","number","icon"),SYe=Pt("switch").parts("container","track","thumb","label"),EYe=Pt("table").parts("table","thead","tbody","tr","th","td","tfoot","caption"),CYe=Pt("tabs").parts("root","tab","tablist","tabpanel","tabpanels","indicator"),kYe=Pt("tag").parts("container","label","closeButton"),_Ye=Pt("card").parts("container","header","body","footer");Pt("stepper").parts("stepper","step","title","description","indicator","separator","icon","number");function jd(e,t,n){return Math.min(Math.max(e,n),t)}class $Ye extends Error{constructor(t){super(`Failed to parse color: "${t}"`)}}var R1=$Ye;function G8(e){if(typeof e!="string")throw new R1(e);if(e.trim().toLowerCase()==="transparent")return[0,0,0,0];let t=e.trim();t=MYe.test(e)?FYe(e):e;const n=RYe.exec(t);if(n){const s=Array.from(n).slice(1);return[...s.slice(0,3).map(a=>parseInt(bb(a,2),16)),parseInt(bb(s[3]||"f",2),16)/255]}const r=PYe.exec(t);if(r){const s=Array.from(r).slice(1);return[...s.slice(0,3).map(a=>parseInt(a,16)),parseInt(s[3]||"ff",16)/255]}const i=OYe.exec(t);if(i){const s=Array.from(i).slice(1);return[...s.slice(0,3).map(a=>parseInt(a,10)),parseFloat(s[3]||"1")]}const o=DYe.exec(t);if(o){const[s,a,l,u]=Array.from(o).slice(1).map(parseFloat);if(jd(0,100,a)!==a)throw new R1(e);if(jd(0,100,l)!==l)throw new R1(e);return[...NYe(s,a,l),Number.isNaN(u)?1:u]}throw new R1(e)}function AYe(e){let t=5381,n=e.length;for(;n;)t=t*33^e.charCodeAt(--n);return(t>>>0)%2341}const YH=e=>parseInt(e.replace(/_/g,""),36),TYe="1q29ehhb 1n09sgk7 1kl1ekf_ _yl4zsno 16z9eiv3 1p29lhp8 _bd9zg04 17u0____ _iw9zhe5 _to73___ _r45e31e _7l6g016 _jh8ouiv _zn3qba8 1jy4zshs 11u87k0u 1ro9yvyo 1aj3xael 1gz9zjz0 _3w8l4xo 1bf1ekf_ _ke3v___ _4rrkb__ 13j776yz _646mbhl _nrjr4__ _le6mbhl 1n37ehkb _m75f91n _qj3bzfz 1939yygw 11i5z6x8 _1k5f8xs 1509441m 15t5lwgf _ae2th1n _tg1ugcv 1lp1ugcv 16e14up_ _h55rw7n _ny9yavn _7a11xb_ 1ih442g9 _pv442g9 1mv16xof 14e6y7tu 1oo9zkds 17d1cisi _4v9y70f _y98m8kc 1019pq0v 12o9zda8 _348j4f4 1et50i2o _8epa8__ _ts6senj 1o350i2o 1mi9eiuo 1259yrp0 1ln80gnw _632xcoy 1cn9zldc _f29edu4 1n490c8q _9f9ziet 1b94vk74 _m49zkct 1kz6s73a 1eu9dtog _q58s1rz 1dy9sjiq __u89jo3 _aj5nkwg _ld89jo3 13h9z6wx _qa9z2ii _l119xgq _bs5arju 1hj4nwk9 1qt4nwk9 1ge6wau6 14j9zlcw 11p1edc_ _ms1zcxe _439shk6 _jt9y70f _754zsow 1la40eju _oq5p___ _x279qkz 1fa5r3rv _yd2d9ip _424tcku _8y1di2_ _zi2uabw _yy7rn9h 12yz980_ __39ljp6 1b59zg0x _n39zfzp 1fy9zest _b33k___ _hp9wq92 1il50hz4 _io472ub _lj9z3eo 19z9ykg0 _8t8iu3a 12b9bl4a 1ak5yw0o _896v4ku _tb8k8lv _s59zi6t _c09ze0p 1lg80oqn 1id9z8wb _238nba5 1kq6wgdi _154zssg _tn3zk49 _da9y6tc 1sg7cv4f _r12jvtt 1gq5fmkz 1cs9rvci _lp9jn1c _xw1tdnb 13f9zje6 16f6973h _vo7ir40 _bt5arjf _rc45e4t _hr4e100 10v4e100 _hc9zke2 _w91egv_ _sj2r1kk 13c87yx8 _vqpds__ _ni8ggk8 _tj9yqfb 1ia2j4r4 _7x9b10u 1fc9ld4j 1eq9zldr _5j9lhpx _ez9zl6o _md61fzm".split(" ").reduce((e,t)=>{const n=YH(t.substring(0,3)),r=YH(t.substring(3)).toString(16);let i="";for(let o=0;o<6-r.length;o++)i+="0";return e[n]=`${i}${r}`,e},{});function FYe(e){const t=e.toLowerCase().trim(),n=TYe[AYe(t)];if(!n)throw new R1(e);return`#${n}`}const bb=(e,t)=>Array.from(Array(t)).map(()=>e).join(""),RYe=new RegExp(`^#${bb("([a-f0-9])",3)}([a-f0-9])?$`,"i"),PYe=new RegExp(`^#${bb("([a-f0-9]{2})",3)}([a-f0-9]{2})?$`,"i"),OYe=new RegExp(`^rgba?\\(\\s*(\\d+)\\s*${bb(",\\s*(\\d+)\\s*",2)}(?:,\\s*([\\d.]+))?\\s*\\)$`,"i"),DYe=/^hsla?\(\s*([\d.]+)\s*,\s*([\d.]+)%\s*,\s*([\d.]+)%(?:\s*,\s*([\d.]+))?\s*\)$/i,MYe=/^[a-z]+$/i,KH=e=>Math.round(e*255),NYe=(e,t,n)=>{let r=n/100;if(t===0)return[r,r,r].map(KH);const i=(e%360+360)%360/60,o=(1-Math.abs(2*r-1))*(t/100),s=o*(1-Math.abs(i%2-1));let a=0,l=0,u=0;i>=0&&i<1?(a=o,l=s):i>=1&&i<2?(a=s,l=o):i>=2&&i<3?(l=o,u=s):i>=3&&i<4?(l=s,u=o):i>=4&&i<5?(a=s,u=o):i>=5&&i<6&&(a=o,u=s);const c=r-o/2,f=a+c,d=l+c,h=u+c;return[f,d,h].map(KH)};function LYe(e,t,n,r){return`rgba(${jd(0,255,e).toFixed()}, ${jd(0,255,t).toFixed()}, ${jd(0,255,n).toFixed()}, ${parseFloat(jd(0,1,r).toFixed(3))})`}function IYe(e,t){const[n,r,i,o]=G8(e);return LYe(n,r,i,o-t)}function zYe(e){const[t,n,r,i]=G8(e);let o=s=>{const a=jd(0,255,s).toString(16);return a.length===1?`0${a}`:a};return`#${o(t)}${o(n)}${o(r)}${i<1?o(Math.round(i*255)):""}`}function jYe(e,t,n,r,i){for(t=t.split?t.split("."):t,r=0;r<t.length;r++)e=e?e[t[r]]:i;return e===i?n:e}var BYe=e=>Object.keys(e).length===0,Ti=(e,t,n)=>{const r=jYe(e,`colors.${t}`,t);try{return zYe(r),r}catch{return n??"#000000"}},UYe=e=>{const[t,n,r]=G8(e);return(t*299+n*587+r*114)/1e3},VYe=e=>t=>{const n=Ti(t,e);return UYe(n)<128?"dark":"light"},WYe=e=>t=>VYe(e)(t)==="dark",o0=(e,t)=>n=>{const r=Ti(n,e);return IYe(r,1-t)};function QH(e="1rem",t="rgba(255, 255, 255, 0.15)"){return{backgroundImage:`linear-gradient(
    45deg,
    ${t} 25%,
    transparent 25%,
    transparent 50%,
    ${t} 50%,
    ${t} 75%,
    transparent 75%,
    transparent
  )`,backgroundSize:`${e} ${e}`}}var HYe=()=>`#${Math.floor(Math.random()*16777215).toString(16).padEnd(6,"0")}`;function qYe(e){const t=HYe();return!e||BYe(e)?t:e.string&&e.colors?XYe(e.string,e.colors):e.string&&!e.colors?GYe(e.string):e.colors&&!e.string?YYe(e.colors):t}function GYe(e){let t=0;if(e.length===0)return t.toString();for(let r=0;r<e.length;r+=1)t=e.charCodeAt(r)+((t<<5)-t),t=t&t;let n="#";for(let r=0;r<3;r+=1){const i=t>>r*8&255;n+=`00${i.toString(16)}`.substr(-2)}return n}function XYe(e,t){let n=0;if(e.length===0)return t[0];for(let r=0;r<e.length;r+=1)n=e.charCodeAt(r)+((n<<5)-n),n=n&n;return n=(n%t.length+t.length)%t.length,t[n]}function YYe(e){return e[Math.floor(Math.random()*e.length)]}function Be(e,t){return n=>n.colorMode==="dark"?t:e}function X8(e){const{orientation:t,vertical:n,horizontal:r}=e;return t?t==="vertical"?n:r:{}}function Vce(e){return oo(e)&&e.reference?e.reference:String(e)}var bA=(e,...t)=>t.map(Vce).join(` ${e} `).replace(/calc/g,""),JH=(...e)=>`calc(${bA("+",...e)})`,ZH=(...e)=>`calc(${bA("-",...e)})`,lO=(...e)=>`calc(${bA("*",...e)})`,eq=(...e)=>`calc(${bA("/",...e)})`,tq=e=>{const t=Vce(e);return t!=null&&!Number.isNaN(parseFloat(t))?String(t).startsWith("-")?String(t).slice(1):`-${t}`:lO(t,-1)},tu=Object.assign(e=>({add:(...t)=>tu(JH(e,...t)),subtract:(...t)=>tu(ZH(e,...t)),multiply:(...t)=>tu(lO(e,...t)),divide:(...t)=>tu(eq(e,...t)),negate:()=>tu(tq(e)),toString:()=>e.toString()}),{add:JH,subtract:ZH,multiply:lO,divide:eq,negate:tq});function KYe(e){return!Number.isInteger(parseFloat(e.toString()))}function QYe(e,t="-"){return e.replace(/\s+/g,t)}function Wce(e){const t=QYe(e.toString());return t.includes("\\.")?e:KYe(e)?t.replace(".","\\."):e}function JYe(e,t=""){return[t,Wce(e)].filter(Boolean).join("-")}function ZYe(e,t){return`var(${Wce(e)}${t?`, ${t}`:""})`}function eKe(e,t=""){return`--${JYe(e,t)}`}function ar(e,t){const n=eKe(e,void 0);return{variable:n,reference:ZYe(n,tKe(void 0))}}function tKe(e){return typeof e=="string"?e:e==null?void 0:e.reference}var{defineMultiStyleConfig:nKe,definePartsStyle:OS}=rn(SYe.keys),uv=ar("switch-track-width"),lh=ar("switch-track-height"),Q3=ar("switch-track-diff"),rKe=tu.subtract(uv,lh),uO=ar("switch-thumb-x"),Wy=ar("switch-bg"),iKe=e=>{const{colorScheme:t}=e;return{borderRadius:"full",p:"0.5",width:[uv.reference],height:[lh.reference],transitionProperty:"common",transitionDuration:"fast",[Wy.variable]:"colors.gray.300",_dark:{[Wy.variable]:"colors.whiteAlpha.400"},_focusVisible:{boxShadow:"outline"},_disabled:{opacity:.4,cursor:"not-allowed"},_checked:{[Wy.variable]:`colors.${t}.500`,_dark:{[Wy.variable]:`colors.${t}.200`}},bg:Wy.reference}},oKe={bg:"white",transitionProperty:"transform",transitionDuration:"normal",borderRadius:"inherit",width:[lh.reference],height:[lh.reference],_checked:{transform:`translateX(${uO.reference})`}},sKe=OS(e=>({container:{[Q3.variable]:rKe,[uO.variable]:Q3.reference,_rtl:{[uO.variable]:tu(Q3).negate().toString()}},track:iKe(e),thumb:oKe})),aKe={sm:OS({container:{[uv.variable]:"1.375rem",[lh.variable]:"sizes.3"}}),md:OS({container:{[uv.variable]:"1.875rem",[lh.variable]:"sizes.4"}}),lg:OS({container:{[uv.variable]:"2.875rem",[lh.variable]:"sizes.6"}})},lKe=nKe({baseStyle:sKe,sizes:aKe,defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:uKe,definePartsStyle:Hg}=rn(EYe.keys),cKe=Hg({table:{fontVariantNumeric:"lining-nums tabular-nums",borderCollapse:"collapse",width:"full"},th:{fontFamily:"heading",fontWeight:"bold",textTransform:"uppercase",letterSpacing:"wider",textAlign:"start"},td:{textAlign:"start"},caption:{mt:4,fontFamily:"heading",textAlign:"center",fontWeight:"medium"}}),sk={"&[data-is-numeric=true]":{textAlign:"end"}},fKe=Hg(e=>{const{colorScheme:t}=e;return{th:{color:Be("gray.600","gray.400")(e),borderBottom:"1px",borderColor:Be(`${t}.100`,`${t}.700`)(e),...sk},td:{borderBottom:"1px",borderColor:Be(`${t}.100`,`${t}.700`)(e),...sk},caption:{color:Be("gray.600","gray.100")(e)},tfoot:{tr:{"&:last-of-type":{th:{borderBottomWidth:0}}}}}}),dKe=Hg(e=>{const{colorScheme:t}=e;return{th:{color:Be("gray.600","gray.400")(e),borderBottom:"1px",borderColor:Be(`${t}.100`,`${t}.700`)(e),...sk},td:{borderBottom:"1px",borderColor:Be(`${t}.100`,`${t}.700`)(e),...sk},caption:{color:Be("gray.600","gray.100")(e)},tbody:{tr:{"&:nth-of-type(odd)":{"th, td":{borderBottomWidth:"1px",borderColor:Be(`${t}.100`,`${t}.700`)(e)},td:{background:Be(`${t}.100`,`${t}.700`)(e)}}}},tfoot:{tr:{"&:last-of-type":{th:{borderBottomWidth:0}}}}}}),hKe={simple:fKe,striped:dKe,unstyled:{}},pKe={sm:Hg({th:{px:"4",py:"1",lineHeight:"4",fontSize:"xs"},td:{px:"4",py:"2",fontSize:"sm",lineHeight:"4"},caption:{px:"4",py:"2",fontSize:"xs"}}),md:Hg({th:{px:"6",py:"3",lineHeight:"4",fontSize:"xs"},td:{px:"6",py:"4",lineHeight:"5"},caption:{px:"6",py:"2",fontSize:"sm"}}),lg:Hg({th:{px:"8",py:"4",lineHeight:"5",fontSize:"sm"},td:{px:"8",py:"5",lineHeight:"6"},caption:{px:"6",py:"2",fontSize:"md"}})},gKe=uKe({baseStyle:cKe,variants:hKe,sizes:pKe,defaultProps:{variant:"simple",size:"md",colorScheme:"gray"}}),Ki=Ie("tabs-color"),Qs=Ie("tabs-bg"),A2=Ie("tabs-border-color"),{defineMultiStyleConfig:mKe,definePartsStyle:pl}=rn(CYe.keys),yKe=e=>{const{orientation:t}=e;return{display:t==="vertical"?"flex":"block"}},vKe=e=>{const{isFitted:t}=e;return{flex:t?1:void 0,transitionProperty:"common",transitionDuration:"normal",_focusVisible:{zIndex:1,boxShadow:"outline"},_disabled:{cursor:"not-allowed",opacity:.4}}},bKe=e=>{const{align:t="start",orientation:n}=e;return{justifyContent:{end:"flex-end",center:"center",start:"flex-start"}[t],flexDirection:n==="vertical"?"column":"row"}},xKe={p:4},wKe=pl(e=>({root:yKe(e),tab:vKe(e),tablist:bKe(e),tabpanel:xKe})),SKe={sm:pl({tab:{py:1,px:4,fontSize:"sm"}}),md:pl({tab:{fontSize:"md",py:2,px:4}}),lg:pl({tab:{fontSize:"lg",py:3,px:4}})},EKe=pl(e=>{const{colorScheme:t,orientation:n}=e,r=n==="vertical",i=r?"borderStart":"borderBottom",o=r?"marginStart":"marginBottom";return{tablist:{[i]:"2px solid",borderColor:"inherit"},tab:{[i]:"2px solid",borderColor:"transparent",[o]:"-2px",_selected:{[Ki.variable]:`colors.${t}.600`,_dark:{[Ki.variable]:`colors.${t}.300`},borderColor:"currentColor"},_active:{[Qs.variable]:"colors.gray.200",_dark:{[Qs.variable]:"colors.whiteAlpha.300"}},_disabled:{_active:{bg:"none"}},color:Ki.reference,bg:Qs.reference}}}),CKe=pl(e=>{const{colorScheme:t}=e;return{tab:{borderTopRadius:"md",border:"1px solid",borderColor:"transparent",mb:"-1px",[A2.variable]:"transparent",_selected:{[Ki.variable]:`colors.${t}.600`,[A2.variable]:"colors.white",_dark:{[Ki.variable]:`colors.${t}.300`,[A2.variable]:"colors.gray.800"},borderColor:"inherit",borderBottomColor:A2.reference},color:Ki.reference},tablist:{mb:"-1px",borderBottom:"1px solid",borderColor:"inherit"}}}),kKe=pl(e=>{const{colorScheme:t}=e;return{tab:{border:"1px solid",borderColor:"inherit",[Qs.variable]:"colors.gray.50",_dark:{[Qs.variable]:"colors.whiteAlpha.50"},mb:"-1px",_notLast:{marginEnd:"-1px"},_selected:{[Qs.variable]:"colors.white",[Ki.variable]:`colors.${t}.600`,_dark:{[Qs.variable]:"colors.gray.800",[Ki.variable]:`colors.${t}.300`},borderColor:"inherit",borderTopColor:"currentColor",borderBottomColor:"transparent"},color:Ki.reference,bg:Qs.reference},tablist:{mb:"-1px",borderBottom:"1px solid",borderColor:"inherit"}}}),_Ke=pl(e=>{const{colorScheme:t,theme:n}=e;return{tab:{borderRadius:"full",fontWeight:"semibold",color:"gray.600",_selected:{color:Ti(n,`${t}.700`),bg:Ti(n,`${t}.100`)}}}}),$Ke=pl(e=>{const{colorScheme:t}=e;return{tab:{borderRadius:"full",fontWeight:"semibold",[Ki.variable]:"colors.gray.600",_dark:{[Ki.variable]:"inherit"},_selected:{[Ki.variable]:"colors.white",[Qs.variable]:`colors.${t}.600`,_dark:{[Ki.variable]:"colors.gray.800",[Qs.variable]:`colors.${t}.300`}},color:Ki.reference,bg:Qs.reference}}}),AKe=pl({}),TKe={line:EKe,enclosed:CKe,"enclosed-colored":kKe,"soft-rounded":_Ke,"solid-rounded":$Ke,unstyled:AKe},FKe=mKe({baseStyle:wKe,sizes:SKe,variants:TKe,defaultProps:{size:"md",variant:"line",colorScheme:"blue"}}),zn=KGe("badge",["bg","color","shadow"]),RKe={px:1,textTransform:"uppercase",fontSize:"xs",borderRadius:"sm",fontWeight:"bold",bg:zn.bg.reference,color:zn.color.reference,boxShadow:zn.shadow.reference},PKe=e=>{const{colorScheme:t,theme:n}=e,r=o0(`${t}.500`,.6)(n);return{[zn.bg.variable]:`colors.${t}.500`,[zn.color.variable]:"colors.white",_dark:{[zn.bg.variable]:r,[zn.color.variable]:"colors.whiteAlpha.800"}}},OKe=e=>{const{colorScheme:t,theme:n}=e,r=o0(`${t}.200`,.16)(n);return{[zn.bg.variable]:`colors.${t}.100`,[zn.color.variable]:`colors.${t}.800`,_dark:{[zn.bg.variable]:r,[zn.color.variable]:`colors.${t}.200`}}},DKe=e=>{const{colorScheme:t,theme:n}=e,r=o0(`${t}.200`,.8)(n);return{[zn.color.variable]:`colors.${t}.500`,_dark:{[zn.color.variable]:r},[zn.shadow.variable]:`inset 0 0 0px 1px ${zn.color.reference}`}},MKe={solid:PKe,subtle:OKe,outline:DKe},cv={baseStyle:RKe,variants:MKe,defaultProps:{variant:"subtle",colorScheme:"gray"}},{defineMultiStyleConfig:NKe,definePartsStyle:uh}=rn(kYe.keys),nq=Ie("tag-bg"),rq=Ie("tag-color"),J3=Ie("tag-shadow"),DS=Ie("tag-min-height"),MS=Ie("tag-min-width"),NS=Ie("tag-font-size"),LS=Ie("tag-padding-inline"),LKe={fontWeight:"medium",lineHeight:1.2,outline:0,[rq.variable]:zn.color.reference,[nq.variable]:zn.bg.reference,[J3.variable]:zn.shadow.reference,color:rq.reference,bg:nq.reference,boxShadow:J3.reference,borderRadius:"md",minH:DS.reference,minW:MS.reference,fontSize:NS.reference,px:LS.reference,_focusVisible:{[J3.variable]:"shadows.outline"}},IKe={lineHeight:1.2,overflow:"visible"},zKe={fontSize:"lg",w:"5",h:"5",transitionProperty:"common",transitionDuration:"normal",borderRadius:"full",marginStart:"1.5",marginEnd:"-1",opacity:.5,_disabled:{opacity:.4},_focusVisible:{boxShadow:"outline",bg:"rgba(0, 0, 0, 0.14)"},_hover:{opacity:.8},_active:{opacity:1}},jKe=uh({container:LKe,label:IKe,closeButton:zKe}),BKe={sm:uh({container:{[DS.variable]:"sizes.5",[MS.variable]:"sizes.5",[NS.variable]:"fontSizes.xs",[LS.variable]:"space.2"},closeButton:{marginEnd:"-2px",marginStart:"0.35rem"}}),md:uh({container:{[DS.variable]:"sizes.6",[MS.variable]:"sizes.6",[NS.variable]:"fontSizes.sm",[LS.variable]:"space.2"}}),lg:uh({container:{[DS.variable]:"sizes.8",[MS.variable]:"sizes.8",[NS.variable]:"fontSizes.md",[LS.variable]:"space.3"}})},UKe={subtle:uh(e=>{var t;return{container:(t=cv.variants)==null?void 0:t.subtle(e)}}),solid:uh(e=>{var t;return{container:(t=cv.variants)==null?void 0:t.solid(e)}}),outline:uh(e=>{var t;return{container:(t=cv.variants)==null?void 0:t.outline(e)}})},VKe=NKe({variants:UKe,baseStyle:jKe,sizes:BKe,defaultProps:{size:"md",variant:"subtle",colorScheme:"gray"}}),{definePartsStyle:uu,defineMultiStyleConfig:WKe}=rn(fYe.keys),xg=Ie("input-height"),wg=Ie("input-font-size"),Sg=Ie("input-padding"),Eg=Ie("input-border-radius"),HKe=uu({addon:{height:xg.reference,fontSize:wg.reference,px:Sg.reference,borderRadius:Eg.reference},field:{width:"100%",height:xg.reference,fontSize:wg.reference,px:Sg.reference,borderRadius:Eg.reference,minWidth:0,outline:0,position:"relative",appearance:"none",transitionProperty:"common",transitionDuration:"normal",_disabled:{opacity:.4,cursor:"not-allowed"}}}),ac={lg:{[wg.variable]:"fontSizes.lg",[Sg.variable]:"space.4",[Eg.variable]:"radii.md",[xg.variable]:"sizes.12"},md:{[wg.variable]:"fontSizes.md",[Sg.variable]:"space.4",[Eg.variable]:"radii.md",[xg.variable]:"sizes.10"},sm:{[wg.variable]:"fontSizes.sm",[Sg.variable]:"space.3",[Eg.variable]:"radii.sm",[xg.variable]:"sizes.8"},xs:{[wg.variable]:"fontSizes.xs",[Sg.variable]:"space.2",[Eg.variable]:"radii.sm",[xg.variable]:"sizes.6"}},qKe={lg:uu({field:ac.lg,group:ac.lg}),md:uu({field:ac.md,group:ac.md}),sm:uu({field:ac.sm,group:ac.sm}),xs:uu({field:ac.xs,group:ac.xs})};function Y8(e){const{focusBorderColor:t,errorBorderColor:n}=e;return{focusBorderColor:t||Be("blue.500","blue.300")(e),errorBorderColor:n||Be("red.500","red.300")(e)}}var GKe=uu(e=>{const{theme:t}=e,{focusBorderColor:n,errorBorderColor:r}=Y8(e);return{field:{border:"1px solid",borderColor:"inherit",bg:"inherit",_hover:{borderColor:Be("gray.300","whiteAlpha.400")(e)},_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:Ti(t,r),boxShadow:`0 0 0 1px ${Ti(t,r)}`},_focusVisible:{zIndex:1,borderColor:Ti(t,n),boxShadow:`0 0 0 1px ${Ti(t,n)}`}},addon:{border:"1px solid",borderColor:Be("inherit","whiteAlpha.50")(e),bg:Be("gray.100","whiteAlpha.300")(e)}}}),XKe=uu(e=>{const{theme:t}=e,{focusBorderColor:n,errorBorderColor:r}=Y8(e);return{field:{border:"2px solid",borderColor:"transparent",bg:Be("gray.100","whiteAlpha.50")(e),_hover:{bg:Be("gray.200","whiteAlpha.100")(e)},_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:Ti(t,r)},_focusVisible:{bg:"transparent",borderColor:Ti(t,n)}},addon:{border:"2px solid",borderColor:"transparent",bg:Be("gray.100","whiteAlpha.50")(e)}}}),YKe=uu(e=>{const{theme:t}=e,{focusBorderColor:n,errorBorderColor:r}=Y8(e);return{field:{borderBottom:"1px solid",borderColor:"inherit",borderRadius:"0",px:"0",bg:"transparent",_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:Ti(t,r),boxShadow:`0px 1px 0px 0px ${Ti(t,r)}`},_focusVisible:{borderColor:Ti(t,n),boxShadow:`0px 1px 0px 0px ${Ti(t,n)}`}},addon:{borderBottom:"2px solid",borderColor:"inherit",borderRadius:"0",px:"0",bg:"transparent"}}}),KKe=uu({field:{bg:"transparent",px:"0",height:"auto"},addon:{bg:"transparent",px:"0",height:"auto"}}),QKe={outline:GKe,filled:XKe,flushed:YKe,unstyled:KKe},Ft=WKe({baseStyle:HKe,sizes:qKe,variants:QKe,defaultProps:{size:"md",variant:"outline"}}),iq,JKe={...(iq=Ft.baseStyle)==null?void 0:iq.field,paddingY:"2",minHeight:"20",lineHeight:"short",verticalAlign:"top"},oq,sq,ZKe={outline:e=>{var t,n;return(n=(t=Ft.variants)==null?void 0:t.outline(e).field)!=null?n:{}},flushed:e=>{var t,n;return(n=(t=Ft.variants)==null?void 0:t.flushed(e).field)!=null?n:{}},filled:e=>{var t,n;return(n=(t=Ft.variants)==null?void 0:t.filled(e).field)!=null?n:{}},unstyled:(sq=(oq=Ft.variants)==null?void 0:oq.unstyled.field)!=null?sq:{}},aq,lq,uq,cq,fq,dq,hq,pq,eQe={xs:(lq=(aq=Ft.sizes)==null?void 0:aq.xs.field)!=null?lq:{},sm:(cq=(uq=Ft.sizes)==null?void 0:uq.sm.field)!=null?cq:{},md:(dq=(fq=Ft.sizes)==null?void 0:fq.md.field)!=null?dq:{},lg:(pq=(hq=Ft.sizes)==null?void 0:hq.lg.field)!=null?pq:{}},tQe={baseStyle:JKe,sizes:eQe,variants:ZKe,defaultProps:{size:"md",variant:"outline"}},T2=ar("tooltip-bg"),Z3=ar("tooltip-fg"),nQe=ar("popper-arrow-bg"),rQe={bg:T2.reference,color:Z3.reference,[T2.variable]:"colors.gray.700",[Z3.variable]:"colors.whiteAlpha.900",_dark:{[T2.variable]:"colors.gray.300",[Z3.variable]:"colors.gray.900"},[nQe.variable]:T2.reference,px:"2",py:"0.5",borderRadius:"sm",fontWeight:"medium",fontSize:"sm",boxShadow:"md",maxW:"xs",zIndex:"tooltip"},iQe={baseStyle:rQe},{defineMultiStyleConfig:oQe,definePartsStyle:P1}=rn(yYe.keys),sQe=e=>{const{colorScheme:t,theme:n,isIndeterminate:r,hasStripe:i}=e,o=Be(QH(),QH("1rem","rgba(0,0,0,0.1)"))(e),s=Be(`${t}.500`,`${t}.200`)(e),a=`linear-gradient(
    to right,
    transparent 0%,
    ${Ti(n,s)} 50%,
    transparent 100%
  )`;return{...!r&&i&&o,...r?{bgImage:a}:{bgColor:s}}},aQe={lineHeight:"1",fontSize:"0.25em",fontWeight:"bold",color:"white"},lQe=e=>({bg:Be("gray.100","whiteAlpha.300")(e)}),uQe=e=>({transitionProperty:"common",transitionDuration:"slow",...sQe(e)}),cQe=P1(e=>({label:aQe,filledTrack:uQe(e),track:lQe(e)})),fQe={xs:P1({track:{h:"1"}}),sm:P1({track:{h:"2"}}),md:P1({track:{h:"3"}}),lg:P1({track:{h:"4"}})},dQe=oQe({sizes:fQe,baseStyle:cQe,defaultProps:{size:"md",colorScheme:"blue"}}),hQe=e=>typeof e=="function";function Oi(e,...t){return hQe(e)?e(...t):e}var{definePartsStyle:IS,defineMultiStyleConfig:pQe}=rn(sYe.keys),fv=Ie("checkbox-size"),gQe=e=>{const{colorScheme:t}=e;return{w:fv.reference,h:fv.reference,transitionProperty:"box-shadow",transitionDuration:"normal",border:"2px solid",borderRadius:"sm",borderColor:"inherit",color:"white",_checked:{bg:Be(`${t}.500`,`${t}.200`)(e),borderColor:Be(`${t}.500`,`${t}.200`)(e),color:Be("white","gray.900")(e),_hover:{bg:Be(`${t}.600`,`${t}.300`)(e),borderColor:Be(`${t}.600`,`${t}.300`)(e)},_disabled:{borderColor:Be("gray.200","transparent")(e),bg:Be("gray.200","whiteAlpha.300")(e),color:Be("gray.500","whiteAlpha.500")(e)}},_indeterminate:{bg:Be(`${t}.500`,`${t}.200`)(e),borderColor:Be(`${t}.500`,`${t}.200`)(e),color:Be("white","gray.900")(e)},_disabled:{bg:Be("gray.100","whiteAlpha.100")(e),borderColor:Be("gray.100","transparent")(e)},_focusVisible:{boxShadow:"outline"},_invalid:{borderColor:Be("red.500","red.300")(e)}}},mQe={_disabled:{cursor:"not-allowed"}},yQe={userSelect:"none",_disabled:{opacity:.4}},vQe={transitionProperty:"transform",transitionDuration:"normal"},bQe=IS(e=>({icon:vQe,container:mQe,control:Oi(gQe,e),label:yQe})),xQe={sm:IS({control:{[fv.variable]:"sizes.3"},label:{fontSize:"sm"},icon:{fontSize:"3xs"}}),md:IS({control:{[fv.variable]:"sizes.4"},label:{fontSize:"md"},icon:{fontSize:"2xs"}}),lg:IS({control:{[fv.variable]:"sizes.5"},label:{fontSize:"lg"},icon:{fontSize:"2xs"}})},ak=pQe({baseStyle:bQe,sizes:xQe,defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:wQe,definePartsStyle:zS}=rn(vYe.keys),SQe=e=>{var t;const n=(t=Oi(ak.baseStyle,e))==null?void 0:t.control;return{...n,borderRadius:"full",_checked:{...n==null?void 0:n._checked,_before:{content:'""',display:"inline-block",pos:"relative",w:"50%",h:"50%",borderRadius:"50%",bg:"currentColor"}}}},EQe=zS(e=>{var t,n,r,i;return{label:(n=(t=ak).baseStyle)==null?void 0:n.call(t,e).label,container:(i=(r=ak).baseStyle)==null?void 0:i.call(r,e).container,control:SQe(e)}}),CQe={md:zS({control:{w:"4",h:"4"},label:{fontSize:"md"}}),lg:zS({control:{w:"5",h:"5"},label:{fontSize:"lg"}}),sm:zS({control:{width:"3",height:"3"},label:{fontSize:"sm"}})},kQe=wQe({baseStyle:EQe,sizes:CQe,defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:_Qe,definePartsStyle:$Qe}=rn(bYe.keys),F2=Ie("select-bg"),gq,AQe={...(gq=Ft.baseStyle)==null?void 0:gq.field,appearance:"none",paddingBottom:"1px",lineHeight:"normal",bg:F2.reference,[F2.variable]:"colors.white",_dark:{[F2.variable]:"colors.gray.700"},"> option, > optgroup":{bg:F2.reference}},TQe={width:"6",height:"100%",insetEnd:"2",position:"relative",color:"currentColor",fontSize:"xl",_disabled:{opacity:.5}},FQe=$Qe({field:AQe,icon:TQe}),R2={paddingInlineEnd:"8"},mq,yq,vq,bq,xq,wq,Sq,Eq,RQe={lg:{...(mq=Ft.sizes)==null?void 0:mq.lg,field:{...(yq=Ft.sizes)==null?void 0:yq.lg.field,...R2}},md:{...(vq=Ft.sizes)==null?void 0:vq.md,field:{...(bq=Ft.sizes)==null?void 0:bq.md.field,...R2}},sm:{...(xq=Ft.sizes)==null?void 0:xq.sm,field:{...(wq=Ft.sizes)==null?void 0:wq.sm.field,...R2}},xs:{...(Sq=Ft.sizes)==null?void 0:Sq.xs,field:{...(Eq=Ft.sizes)==null?void 0:Eq.xs.field,...R2},icon:{insetEnd:"1"}}},PQe=_Qe({baseStyle:FQe,sizes:RQe,variants:Ft.variants,defaultProps:Ft.defaultProps}),e4=Ie("skeleton-start-color"),t4=Ie("skeleton-end-color"),OQe={[e4.variable]:"colors.gray.100",[t4.variable]:"colors.gray.400",_dark:{[e4.variable]:"colors.gray.800",[t4.variable]:"colors.gray.600"},background:e4.reference,borderColor:t4.reference,opacity:.7,borderRadius:"sm"},DQe={baseStyle:OQe},n4=Ie("skip-link-bg"),MQe={borderRadius:"md",fontWeight:"semibold",_focusVisible:{boxShadow:"outline",padding:"4",position:"fixed",top:"6",insetStart:"6",[n4.variable]:"colors.white",_dark:{[n4.variable]:"colors.gray.700"},bg:n4.reference}},NQe={baseStyle:MQe},{defineMultiStyleConfig:LQe,definePartsStyle:xA}=rn(xYe.keys),xb=Ie("slider-thumb-size"),wb=Ie("slider-track-size"),$c=Ie("slider-bg"),IQe=e=>{const{orientation:t}=e;return{display:"inline-block",position:"relative",cursor:"pointer",_disabled:{opacity:.6,cursor:"default",pointerEvents:"none"},...X8({orientation:t,vertical:{h:"100%"},horizontal:{w:"100%"}})}},zQe=e=>({...X8({orientation:e.orientation,horizontal:{h:wb.reference},vertical:{w:wb.reference}}),overflow:"hidden",borderRadius:"sm",[$c.variable]:"colors.gray.200",_dark:{[$c.variable]:"colors.whiteAlpha.200"},_disabled:{[$c.variable]:"colors.gray.300",_dark:{[$c.variable]:"colors.whiteAlpha.300"}},bg:$c.reference}),jQe=e=>{const{orientation:t}=e;return{...X8({orientation:t,vertical:{left:"50%",transform:"translateX(-50%)",_active:{transform:"translateX(-50%) scale(1.15)"}},horizontal:{top:"50%",transform:"translateY(-50%)",_active:{transform:"translateY(-50%) scale(1.15)"}}}),w:xb.reference,h:xb.reference,display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",outline:0,zIndex:1,borderRadius:"full",bg:"white",boxShadow:"base",border:"1px solid",borderColor:"transparent",transitionProperty:"transform",transitionDuration:"normal",_focusVisible:{boxShadow:"outline"},_disabled:{bg:"gray.300"}}},BQe=e=>{const{colorScheme:t}=e;return{width:"inherit",height:"inherit",[$c.variable]:`colors.${t}.500`,_dark:{[$c.variable]:`colors.${t}.200`},bg:$c.reference}},UQe=xA(e=>({container:IQe(e),track:zQe(e),thumb:jQe(e),filledTrack:BQe(e)})),VQe=xA({container:{[xb.variable]:"sizes.4",[wb.variable]:"sizes.1"}}),WQe=xA({container:{[xb.variable]:"sizes.3.5",[wb.variable]:"sizes.1"}}),HQe=xA({container:{[xb.variable]:"sizes.2.5",[wb.variable]:"sizes.0.5"}}),qQe={lg:VQe,md:WQe,sm:HQe},GQe=LQe({baseStyle:UQe,sizes:qQe,defaultProps:{size:"md",colorScheme:"blue"}}),Rd=ar("spinner-size"),XQe={width:[Rd.reference],height:[Rd.reference]},YQe={xs:{[Rd.variable]:"sizes.3"},sm:{[Rd.variable]:"sizes.4"},md:{[Rd.variable]:"sizes.6"},lg:{[Rd.variable]:"sizes.8"},xl:{[Rd.variable]:"sizes.12"}},KQe={baseStyle:XQe,sizes:YQe,defaultProps:{size:"md"}},{defineMultiStyleConfig:QQe,definePartsStyle:Hce}=rn(wYe.keys),JQe={fontWeight:"medium"},ZQe={opacity:.8,marginBottom:"2"},eJe={verticalAlign:"baseline",fontWeight:"semibold"},tJe={marginEnd:1,w:"3.5",h:"3.5",verticalAlign:"middle"},nJe=Hce({container:{},label:JQe,helpText:ZQe,number:eJe,icon:tJe}),rJe={md:Hce({label:{fontSize:"sm"},helpText:{fontSize:"sm"},number:{fontSize:"2xl"}})},iJe=QQe({baseStyle:nJe,sizes:rJe,defaultProps:{size:"md"}}),r4=Ie("kbd-bg"),oJe={[r4.variable]:"colors.gray.100",_dark:{[r4.variable]:"colors.whiteAlpha.100"},bg:r4.reference,borderRadius:"md",borderWidth:"1px",borderBottomWidth:"3px",fontSize:"0.8em",fontWeight:"bold",lineHeight:"normal",px:"0.4em",whiteSpace:"nowrap"},sJe={baseStyle:oJe},aJe={transitionProperty:"common",transitionDuration:"fast",transitionTimingFunction:"ease-out",cursor:"pointer",textDecoration:"none",outline:"none",color:"inherit",_hover:{textDecoration:"underline"},_focusVisible:{boxShadow:"outline"}},lJe={baseStyle:aJe},{defineMultiStyleConfig:uJe,definePartsStyle:cJe}=rn(dYe.keys),fJe={marginEnd:"2",display:"inline",verticalAlign:"text-bottom"},dJe=cJe({icon:fJe}),hJe=uJe({baseStyle:dJe}),{defineMultiStyleConfig:pJe,definePartsStyle:gJe}=rn(hYe.keys),Ua=Ie("menu-bg"),i4=Ie("menu-shadow"),mJe={[Ua.variable]:"#fff",[i4.variable]:"shadows.sm",_dark:{[Ua.variable]:"colors.gray.700",[i4.variable]:"shadows.dark-lg"},color:"inherit",minW:"3xs",py:"2",zIndex:1,borderRadius:"md",borderWidth:"1px",bg:Ua.reference,boxShadow:i4.reference},yJe={py:"1.5",px:"3",transitionProperty:"background",transitionDuration:"ultra-fast",transitionTimingFunction:"ease-in",_focus:{[Ua.variable]:"colors.gray.100",_dark:{[Ua.variable]:"colors.whiteAlpha.100"}},_active:{[Ua.variable]:"colors.gray.200",_dark:{[Ua.variable]:"colors.whiteAlpha.200"}},_expanded:{[Ua.variable]:"colors.gray.100",_dark:{[Ua.variable]:"colors.whiteAlpha.100"}},_disabled:{opacity:.4,cursor:"not-allowed"},bg:Ua.reference},vJe={mx:4,my:2,fontWeight:"semibold",fontSize:"sm"},bJe={display:"inline-flex",alignItems:"center",justifyContent:"center",flexShrink:0},xJe={opacity:.6},wJe={border:0,borderBottom:"1px solid",borderColor:"inherit",my:"2",opacity:.6},SJe={transitionProperty:"common",transitionDuration:"normal"},EJe=gJe({button:SJe,list:mJe,item:yJe,groupTitle:vJe,icon:bJe,command:xJe,divider:wJe}),CJe=pJe({baseStyle:EJe}),{defineMultiStyleConfig:kJe,definePartsStyle:cO}=rn(pYe.keys),o4=Ie("modal-bg"),s4=Ie("modal-shadow"),_Je={bg:"blackAlpha.600",zIndex:"modal"},$Je=e=>{const{isCentered:t,scrollBehavior:n}=e;return{display:"flex",zIndex:"modal",justifyContent:"center",alignItems:t?"center":"flex-start",overflow:n==="inside"?"hidden":"auto",overscrollBehaviorY:"none"}},AJe=e=>{const{isCentered:t,scrollBehavior:n}=e;return{borderRadius:"md",color:"inherit",my:t?"auto":"16",mx:t?"auto":void 0,zIndex:"modal",maxH:n==="inside"?"calc(100% - 7.5rem)":void 0,[o4.variable]:"colors.white",[s4.variable]:"shadows.lg",_dark:{[o4.variable]:"colors.gray.700",[s4.variable]:"shadows.dark-lg"},bg:o4.reference,boxShadow:s4.reference}},TJe={px:"6",py:"4",fontSize:"xl",fontWeight:"semibold"},FJe={position:"absolute",top:"2",insetEnd:"3"},RJe=e=>{const{scrollBehavior:t}=e;return{px:"6",py:"2",flex:"1",overflow:t==="inside"?"auto":void 0}},PJe={px:"6",py:"4"},OJe=cO(e=>({overlay:_Je,dialogContainer:Oi($Je,e),dialog:Oi(AJe,e),header:TJe,closeButton:FJe,body:Oi(RJe,e),footer:PJe}));function Ls(e){return cO(e==="full"?{dialog:{maxW:"100vw",minH:"$100vh",my:"0",borderRadius:"0"}}:{dialog:{maxW:e}})}var DJe={xs:Ls("xs"),sm:Ls("sm"),md:Ls("md"),lg:Ls("lg"),xl:Ls("xl"),"2xl":Ls("2xl"),"3xl":Ls("3xl"),"4xl":Ls("4xl"),"5xl":Ls("5xl"),"6xl":Ls("6xl"),full:Ls("full")},MJe=kJe({baseStyle:OJe,sizes:DJe,defaultProps:{size:"md"}}),{defineMultiStyleConfig:NJe,definePartsStyle:qce}=rn(gYe.keys),K8=ar("number-input-stepper-width"),Gce=ar("number-input-input-padding"),LJe=tu(K8).add("0.5rem").toString(),a4=ar("number-input-bg"),l4=ar("number-input-color"),u4=ar("number-input-border-color"),IJe={[K8.variable]:"sizes.6",[Gce.variable]:LJe},zJe=e=>{var t,n;return(n=(t=Oi(Ft.baseStyle,e))==null?void 0:t.field)!=null?n:{}},jJe={width:K8.reference},BJe={borderStart:"1px solid",borderStartColor:u4.reference,color:l4.reference,bg:a4.reference,[l4.variable]:"colors.chakra-body-text",[u4.variable]:"colors.chakra-border-color",_dark:{[l4.variable]:"colors.whiteAlpha.800",[u4.variable]:"colors.whiteAlpha.300"},_active:{[a4.variable]:"colors.gray.200",_dark:{[a4.variable]:"colors.whiteAlpha.300"}},_disabled:{opacity:.4,cursor:"not-allowed"}},UJe=qce(e=>{var t;return{root:IJe,field:(t=Oi(zJe,e))!=null?t:{},stepperGroup:jJe,stepper:BJe}});function P2(e){var t,n,r;const i=(t=Ft.sizes)==null?void 0:t[e],o={lg:"md",md:"md",sm:"sm",xs:"sm"},s=(r=(n=i.field)==null?void 0:n.fontSize)!=null?r:"md",a=jce.fontSizes[s];return qce({field:{...i.field,paddingInlineEnd:Gce.reference,verticalAlign:"top"},stepper:{fontSize:tu(a).multiply(.75).toString(),_first:{borderTopEndRadius:o[e]},_last:{borderBottomEndRadius:o[e],mt:"-1px",borderTopWidth:1}}})}var VJe={xs:P2("xs"),sm:P2("sm"),md:P2("md"),lg:P2("lg")},WJe=NJe({baseStyle:UJe,sizes:VJe,variants:Ft.variants,defaultProps:Ft.defaultProps}),Cq,HJe={...(Cq=Ft.baseStyle)==null?void 0:Cq.field,textAlign:"center"},qJe={lg:{fontSize:"lg",w:12,h:12,borderRadius:"md"},md:{fontSize:"md",w:10,h:10,borderRadius:"md"},sm:{fontSize:"sm",w:8,h:8,borderRadius:"sm"},xs:{fontSize:"xs",w:6,h:6,borderRadius:"sm"}},kq,_q,GJe={outline:e=>{var t,n,r;return(r=(n=Oi((t=Ft.variants)==null?void 0:t.outline,e))==null?void 0:n.field)!=null?r:{}},flushed:e=>{var t,n,r;return(r=(n=Oi((t=Ft.variants)==null?void 0:t.flushed,e))==null?void 0:n.field)!=null?r:{}},filled:e=>{var t,n,r;return(r=(n=Oi((t=Ft.variants)==null?void 0:t.filled,e))==null?void 0:n.field)!=null?r:{}},unstyled:(_q=(kq=Ft.variants)==null?void 0:kq.unstyled.field)!=null?_q:{}},XJe={baseStyle:HJe,sizes:qJe,variants:GJe,defaultProps:Ft.defaultProps},{defineMultiStyleConfig:YJe,definePartsStyle:KJe}=rn(mYe.keys),O2=ar("popper-bg"),QJe=ar("popper-arrow-bg"),$q=ar("popper-arrow-shadow-color"),JJe={zIndex:10},ZJe={[O2.variable]:"colors.white",bg:O2.reference,[QJe.variable]:O2.reference,[$q.variable]:"colors.gray.200",_dark:{[O2.variable]:"colors.gray.700",[$q.variable]:"colors.whiteAlpha.300"},width:"xs",border:"1px solid",borderColor:"inherit",borderRadius:"md",boxShadow:"sm",zIndex:"inherit",_focusVisible:{outline:0,boxShadow:"outline"}},eZe={px:3,py:2,borderBottomWidth:"1px"},tZe={px:3,py:2},nZe={px:3,py:2,borderTopWidth:"1px"},rZe={position:"absolute",borderRadius:"md",top:1,insetEnd:2,padding:2},iZe=KJe({popper:JJe,content:ZJe,header:eZe,body:tZe,footer:nZe,closeButton:rZe}),oZe=YJe({baseStyle:iZe}),{definePartsStyle:fO,defineMultiStyleConfig:sZe}=rn(aYe.keys),c4=Ie("drawer-bg"),f4=Ie("drawer-box-shadow");function Hp(e){return fO(e==="full"?{dialog:{maxW:"100vw",h:"100vh"}}:{dialog:{maxW:e}})}var aZe={bg:"blackAlpha.600",zIndex:"modal"},lZe={display:"flex",zIndex:"modal",justifyContent:"center"},uZe=e=>{const{isFullHeight:t}=e;return{...t&&{height:"100vh"},zIndex:"modal",maxH:"100vh",color:"inherit",[c4.variable]:"colors.white",[f4.variable]:"shadows.lg",_dark:{[c4.variable]:"colors.gray.700",[f4.variable]:"shadows.dark-lg"},bg:c4.reference,boxShadow:f4.reference}},cZe={px:"6",py:"4",fontSize:"xl",fontWeight:"semibold"},fZe={position:"absolute",top:"2",insetEnd:"3"},dZe={px:"6",py:"2",flex:"1",overflow:"auto"},hZe={px:"6",py:"4"},pZe=fO(e=>({overlay:aZe,dialogContainer:lZe,dialog:Oi(uZe,e),header:cZe,closeButton:fZe,body:dZe,footer:hZe})),gZe={xs:Hp("xs"),sm:Hp("md"),md:Hp("lg"),lg:Hp("2xl"),xl:Hp("4xl"),full:Hp("full")},mZe=sZe({baseStyle:pZe,sizes:gZe,defaultProps:{size:"xs"}}),{definePartsStyle:yZe,defineMultiStyleConfig:vZe}=rn(lYe.keys),bZe={borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal"},xZe={borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal",width:"full",_focusVisible:{boxShadow:"outline"},_placeholder:{opacity:.6}},wZe={borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal",width:"full",_focusVisible:{boxShadow:"outline"},_placeholder:{opacity:.6}},SZe=yZe({preview:bZe,input:xZe,textarea:wZe}),EZe=vZe({baseStyle:SZe}),{definePartsStyle:CZe,defineMultiStyleConfig:kZe}=rn(uYe.keys),qg=Ie("form-control-color"),_Ze={marginStart:"1",[qg.variable]:"colors.red.500",_dark:{[qg.variable]:"colors.red.300"},color:qg.reference},$Ze={mt:"2",[qg.variable]:"colors.gray.600",_dark:{[qg.variable]:"colors.whiteAlpha.600"},color:qg.reference,lineHeight:"normal",fontSize:"sm"},AZe=CZe({container:{width:"100%",position:"relative"},requiredIndicator:_Ze,helperText:$Ze}),TZe=kZe({baseStyle:AZe}),{definePartsStyle:FZe,defineMultiStyleConfig:RZe}=rn(cYe.keys),Gg=Ie("form-error-color"),PZe={[Gg.variable]:"colors.red.500",_dark:{[Gg.variable]:"colors.red.300"},color:Gg.reference,mt:"2",fontSize:"sm",lineHeight:"normal"},OZe={marginEnd:"0.5em",[Gg.variable]:"colors.red.500",_dark:{[Gg.variable]:"colors.red.300"},color:Gg.reference},DZe=FZe({text:PZe,icon:OZe}),MZe=RZe({baseStyle:DZe}),NZe={fontSize:"md",marginEnd:"3",mb:"2",fontWeight:"medium",transitionProperty:"common",transitionDuration:"normal",opacity:1,_disabled:{opacity:.4}},LZe={baseStyle:NZe},IZe={fontFamily:"heading",fontWeight:"bold"},zZe={"4xl":{fontSize:["6xl",null,"7xl"],lineHeight:1},"3xl":{fontSize:["5xl",null,"6xl"],lineHeight:1},"2xl":{fontSize:["4xl",null,"5xl"],lineHeight:[1.2,null,1]},xl:{fontSize:["3xl",null,"4xl"],lineHeight:[1.33,null,1.2]},lg:{fontSize:["2xl",null,"3xl"],lineHeight:[1.33,null,1.2]},md:{fontSize:"xl",lineHeight:1.2},sm:{fontSize:"md",lineHeight:1.2},xs:{fontSize:"sm",lineHeight:1.2}},jZe={baseStyle:IZe,sizes:zZe,defaultProps:{size:"xl"}},{defineMultiStyleConfig:BZe,definePartsStyle:UZe}=rn(oYe.keys),d4=Ie("breadcrumb-link-decor"),VZe={transitionProperty:"common",transitionDuration:"fast",transitionTimingFunction:"ease-out",outline:"none",color:"inherit",textDecoration:d4.reference,[d4.variable]:"none","&:not([aria-current=page])":{cursor:"pointer",_hover:{[d4.variable]:"underline"},_focusVisible:{boxShadow:"outline"}}},WZe=UZe({link:VZe}),HZe=BZe({baseStyle:WZe}),qZe={lineHeight:"1.2",borderRadius:"md",fontWeight:"semibold",transitionProperty:"common",transitionDuration:"normal",_focusVisible:{boxShadow:"outline"},_disabled:{opacity:.4,cursor:"not-allowed",boxShadow:"none"},_hover:{_disabled:{bg:"initial"}}},Xce=e=>{const{colorScheme:t,theme:n}=e;if(t==="gray")return{color:Be("gray.800","whiteAlpha.900")(e),_hover:{bg:Be("gray.100","whiteAlpha.200")(e)},_active:{bg:Be("gray.200","whiteAlpha.300")(e)}};const r=o0(`${t}.200`,.12)(n),i=o0(`${t}.200`,.24)(n);return{color:Be(`${t}.600`,`${t}.200`)(e),bg:"transparent",_hover:{bg:Be(`${t}.50`,r)(e)},_active:{bg:Be(`${t}.100`,i)(e)}}},GZe=e=>{const{colorScheme:t}=e,n=Be("gray.200","whiteAlpha.300")(e);return{border:"1px solid",borderColor:t==="gray"?n:"currentColor",".chakra-button__group[data-attached][data-orientation=horizontal] > &:not(:last-of-type)":{marginEnd:"-1px"},".chakra-button__group[data-attached][data-orientation=vertical] > &:not(:last-of-type)":{marginBottom:"-1px"},...Oi(Xce,e)}},XZe={yellow:{bg:"yellow.400",color:"black",hoverBg:"yellow.500",activeBg:"yellow.600"},cyan:{bg:"cyan.400",color:"black",hoverBg:"cyan.500",activeBg:"cyan.600"}},YZe=e=>{var t;const{colorScheme:n}=e;if(n==="gray"){const l=Be("gray.100","whiteAlpha.200")(e);return{bg:l,color:Be("gray.800","whiteAlpha.900")(e),_hover:{bg:Be("gray.200","whiteAlpha.300")(e),_disabled:{bg:l}},_active:{bg:Be("gray.300","whiteAlpha.400")(e)}}}const{bg:r=`${n}.500`,color:i="white",hoverBg:o=`${n}.600`,activeBg:s=`${n}.700`}=(t=XZe[n])!=null?t:{},a=Be(r,`${n}.200`)(e);return{bg:a,color:Be(i,"gray.800")(e),_hover:{bg:Be(o,`${n}.300`)(e),_disabled:{bg:a}},_active:{bg:Be(s,`${n}.400`)(e)}}},KZe=e=>{const{colorScheme:t}=e;return{padding:0,height:"auto",lineHeight:"normal",verticalAlign:"baseline",color:Be(`${t}.500`,`${t}.200`)(e),_hover:{textDecoration:"underline",_disabled:{textDecoration:"none"}},_active:{color:Be(`${t}.700`,`${t}.500`)(e)}}},QZe={bg:"none",color:"inherit",display:"inline",lineHeight:"inherit",m:"0",p:"0"},JZe={ghost:Xce,outline:GZe,solid:YZe,link:KZe,unstyled:QZe},ZZe={lg:{h:"12",minW:"12",fontSize:"lg",px:"6"},md:{h:"10",minW:"10",fontSize:"md",px:"4"},sm:{h:"8",minW:"8",fontSize:"sm",px:"3"},xs:{h:"6",minW:"6",fontSize:"xs",px:"2"}},eet={baseStyle:qZe,variants:JZe,sizes:ZZe,defaultProps:{variant:"solid",size:"md",colorScheme:"gray"}},{definePartsStyle:ch,defineMultiStyleConfig:tet}=rn(_Ye.keys),lk=Ie("card-bg"),xu=Ie("card-padding"),Yce=Ie("card-shadow"),jS=Ie("card-radius"),Kce=Ie("card-border-width","0"),Qce=Ie("card-border-color"),net=ch({container:{[lk.variable]:"colors.chakra-body-bg",backgroundColor:lk.reference,boxShadow:Yce.reference,borderRadius:jS.reference,color:"chakra-body-text",borderWidth:Kce.reference,borderColor:Qce.reference},body:{padding:xu.reference,flex:"1 1 0%"},header:{padding:xu.reference},footer:{padding:xu.reference}}),ret={sm:ch({container:{[jS.variable]:"radii.base",[xu.variable]:"space.3"}}),md:ch({container:{[jS.variable]:"radii.md",[xu.variable]:"space.5"}}),lg:ch({container:{[jS.variable]:"radii.xl",[xu.variable]:"space.7"}})},iet={elevated:ch({container:{[Yce.variable]:"shadows.base",_dark:{[lk.variable]:"colors.gray.700"}}}),outline:ch({container:{[Kce.variable]:"1px",[Qce.variable]:"colors.chakra-border-color"}}),filled:ch({container:{[lk.variable]:"colors.chakra-subtle-bg"}}),unstyled:{body:{[xu.variable]:0},header:{[xu.variable]:0},footer:{[xu.variable]:0}}},oet=tet({baseStyle:net,variants:iet,sizes:ret,defaultProps:{variant:"elevated",size:"md"}}),dv=ar("close-button-size"),Hy=ar("close-button-bg"),set={w:[dv.reference],h:[dv.reference],borderRadius:"md",transitionProperty:"common",transitionDuration:"normal",_disabled:{opacity:.4,cursor:"not-allowed",boxShadow:"none"},_hover:{[Hy.variable]:"colors.blackAlpha.100",_dark:{[Hy.variable]:"colors.whiteAlpha.100"}},_active:{[Hy.variable]:"colors.blackAlpha.200",_dark:{[Hy.variable]:"colors.whiteAlpha.200"}},_focusVisible:{boxShadow:"outline"},bg:Hy.reference},aet={lg:{[dv.variable]:"sizes.10",fontSize:"md"},md:{[dv.variable]:"sizes.8",fontSize:"xs"},sm:{[dv.variable]:"sizes.6",fontSize:"2xs"}},uet={baseStyle:set,sizes:aet,defaultProps:{size:"md"}},{variants:cet,defaultProps:fet}=cv,det={fontFamily:"mono",fontSize:"sm",px:"0.2em",borderRadius:"sm",bg:zn.bg.reference,color:zn.color.reference,boxShadow:zn.shadow.reference},het={baseStyle:det,variants:cet,defaultProps:fet},pet={w:"100%",mx:"auto",maxW:"prose",px:"4"},get={baseStyle:pet},met={opacity:.6,borderColor:"inherit"},yet={borderStyle:"solid"},vet={borderStyle:"dashed"},bet={solid:yet,dashed:vet},xet={baseStyle:met,variants:bet,defaultProps:{variant:"solid"}},{definePartsStyle:wet,defineMultiStyleConfig:Eet}=rn(nYe.keys),Cet={borderTopWidth:"1px",borderColor:"inherit",_last:{borderBottomWidth:"1px"}},ket={transitionProperty:"common",transitionDuration:"normal",fontSize:"md",_focusVisible:{boxShadow:"outline"},_hover:{bg:"blackAlpha.50"},_disabled:{opacity:.4,cursor:"not-allowed"},px:"4",py:"2"},_et={pt:"2",px:"4",pb:"5"},$et={fontSize:"1.25em"},Aet=wet({container:Cet,button:ket,panel:_et,icon:$et}),Tet=Eet({baseStyle:Aet}),{definePartsStyle:zx,defineMultiStyleConfig:Fet}=rn(rYe.keys),Do=Ie("alert-fg"),Ou=Ie("alert-bg"),Ret=zx({container:{bg:Ou.reference,px:"4",py:"3"},title:{fontWeight:"bold",lineHeight:"6",marginEnd:"2"},description:{lineHeight:"6"},icon:{color:Do.reference,flexShrink:0,marginEnd:"3",w:"5",h:"6"},spinner:{color:Do.reference,flexShrink:0,marginEnd:"3",w:"5",h:"5"}});function Q8(e){const{theme:t,colorScheme:n}=e,r=o0(`${n}.200`,.16)(t);return{light:`colors.${n}.100`,dark:r}}var Pet=zx(e=>{const{colorScheme:t}=e,n=Q8(e);return{container:{[Do.variable]:`colors.${t}.600`,[Ou.variable]:n.light,_dark:{[Do.variable]:`colors.${t}.200`,[Ou.variable]:n.dark}}}}),Oet=zx(e=>{const{colorScheme:t}=e,n=Q8(e);return{container:{[Do.variable]:`colors.${t}.600`,[Ou.variable]:n.light,_dark:{[Do.variable]:`colors.${t}.200`,[Ou.variable]:n.dark},paddingStart:"3",borderStartWidth:"4px",borderStartColor:Do.reference}}}),Det=zx(e=>{const{colorScheme:t}=e,n=Q8(e);return{container:{[Do.variable]:`colors.${t}.600`,[Ou.variable]:n.light,_dark:{[Do.variable]:`colors.${t}.200`,[Ou.variable]:n.dark},pt:"2",borderTopWidth:"4px",borderTopColor:Do.reference}}}),Met=zx(e=>{const{colorScheme:t}=e;return{container:{[Do.variable]:"colors.white",[Ou.variable]:`colors.${t}.600`,_dark:{[Do.variable]:"colors.gray.900",[Ou.variable]:`colors.${t}.200`},color:Do.reference}}}),Net={subtle:Pet,"left-accent":Oet,"top-accent":Det,solid:Met},Let=Fet({baseStyle:Ret,variants:Net,defaultProps:{variant:"subtle",colorScheme:"blue"}}),{definePartsStyle:Jce,defineMultiStyleConfig:Iet}=rn(iYe.keys),Xg=Ie("avatar-border-color"),hv=Ie("avatar-bg"),Sb=Ie("avatar-font-size"),s0=Ie("avatar-size"),zet={borderRadius:"full",border:"0.2em solid",borderColor:Xg.reference,[Xg.variable]:"white",_dark:{[Xg.variable]:"colors.gray.800"}},jet={bg:hv.reference,fontSize:Sb.reference,width:s0.reference,height:s0.reference,lineHeight:"1",[hv.variable]:"colors.gray.200",_dark:{[hv.variable]:"colors.whiteAlpha.400"}},Bet=e=>{const{name:t,theme:n}=e,r=t?qYe({string:t}):"colors.gray.400",i=WYe(r)(n);let o="white";return i||(o="gray.800"),{bg:hv.reference,fontSize:Sb.reference,color:o,borderColor:Xg.reference,verticalAlign:"top",width:s0.reference,height:s0.reference,"&:not([data-loaded])":{[hv.variable]:r},[Xg.variable]:"colors.white",_dark:{[Xg.variable]:"colors.gray.800"}}},Uet={fontSize:Sb.reference,lineHeight:"1"},Vet=Jce(e=>({badge:Oi(zet,e),excessLabel:Oi(jet,e),container:Oi(Bet,e),label:Uet}));function lc(e){const t=e!=="100%"?Uce[e]:void 0;return Jce({container:{[s0.variable]:t??e,[Sb.variable]:`calc(${t??e} / 2.5)`},excessLabel:{[s0.variable]:t??e,[Sb.variable]:`calc(${t??e} / 2.5)`}})}var Wet={"2xs":lc(4),xs:lc(6),sm:lc(8),md:lc(12),lg:lc(16),xl:lc(24),"2xl":lc(32),full:lc("100%")},Het=Iet({baseStyle:Vet,sizes:Wet,defaultProps:{size:"md"}}),qet={Accordion:Tet,Alert:Let,Avatar:Het,Badge:cv,Breadcrumb:HZe,Button:eet,Checkbox:ak,CloseButton:uet,Code:het,Container:get,Divider:xet,Drawer:mZe,Editable:EZe,Form:TZe,FormError:MZe,FormLabel:LZe,Heading:jZe,Input:Ft,Kbd:sJe,Link:lJe,List:hJe,Menu:CJe,Modal:MJe,NumberInput:WJe,PinInput:XJe,Popover:oZe,Progress:dQe,Radio:kQe,Select:PQe,Skeleton:DQe,SkipLink:NQe,Slider:GQe,Spinner:KQe,Stat:iJe,Switch:lKe,Table:gKe,Tabs:FKe,Tag:VKe,Textarea:tQe,Tooltip:iQe,Card:oet,Stepper:tYe},Get={colors:{"chakra-body-text":{_light:"gray.800",_dark:"whiteAlpha.900"},"chakra-body-bg":{_light:"white",_dark:"gray.800"},"chakra-border-color":{_light:"gray.200",_dark:"whiteAlpha.300"},"chakra-inverse-text":{_light:"white",_dark:"gray.800"},"chakra-subtle-bg":{_light:"gray.100",_dark:"gray.700"},"chakra-subtle-text":{_light:"gray.600",_dark:"gray.400"},"chakra-placeholder-color":{_light:"gray.500",_dark:"whiteAlpha.400"}}},Xet={global:{body:{fontFamily:"body",color:"chakra-body-text",bg:"chakra-body-bg",transitionProperty:"background-color",transitionDuration:"normal",lineHeight:"base"},"*::placeholder":{color:"chakra-placeholder-color"},"*, *::before, &::after":{borderColor:"chakra-border-color"}}},Yet="ltr",Ket={useSystemColorMode:!1,initialColorMode:"light",cssVarPrefix:"chakra"},Zce={semanticTokens:Get,direction:Yet,...JXe,components:qet,styles:Xet,config:Ket};function O1(e){return typeof e=="function"}function Qet(...e){return t=>e.reduce((n,r)=>r(n),t)}var Jet=e=>function(...n){let r=[...n],i=n[n.length-1];return AXe(i)&&r.length>1?r=r.slice(0,r.length-1):i=e,Qet(...r.map(o=>s=>O1(o)?o(s):ett(s,o)))(i)},Zet=Jet(Zce);function ett(...e){return gs({},...e,efe)}function efe(e,t,n,r){if((O1(e)||O1(t))&&Object.prototype.hasOwnProperty.call(r,n))return(...i)=>{const o=O1(e)?e(...i):e,s=O1(t)?t(...i):t;return gs({},o,s,efe)}}function ttt(e,t){const n={};return Object.keys(e).forEach(r=>{t.includes(r)||(n[r]=e[r])}),n}function ntt(e,t,n,r){const i=typeof t=="string"?t.split("."):[t];for(r=0;r<i.length&&e;r+=1)e=e[i[r]];return e===void 0?n:e}var rtt=e=>{const t=new WeakMap;return(r,i,o,s)=>{if(typeof r>"u")return e(r,i,o);t.has(r)||t.set(r,new Map);const a=t.get(r);if(a.has(i))return a.get(i);const l=e(r,i,o,s);return a.set(i,l),l}},tfe=rtt(ntt);function nfe(e,t){const n={};return Object.keys(e).forEach(r=>{const i=e[r];t(i,r,e)&&(n[r]=i)}),n}var rfe=e=>nfe(e,t=>t!=null);function itt(e){return typeof e=="function"}function ife(e,...t){return itt(e)?e(...t):e}var ott=typeof Element<"u",stt=typeof Map=="function",att=typeof Set=="function",ltt=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function BS(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var n,r,i;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!BS(e[r],t[r]))return!1;return!0}var o;if(stt&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(o=e.entries();!(r=o.next()).done;)if(!t.has(r.value[0]))return!1;for(o=e.entries();!(r=o.next()).done;)if(!BS(r.value[1],t.get(r.value[0])))return!1;return!0}if(att&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(o=e.entries();!(r=o.next()).done;)if(!t.has(r.value[0]))return!1;return!0}if(ltt&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(e[r]!==t[r])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&typeof e.valueOf=="function"&&typeof t.valueOf=="function")return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&typeof e.toString=="function"&&typeof t.toString=="function")return e.toString()===t.toString();if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,i[r]))return!1;if(ott&&e instanceof Element)return!1;for(r=n;r--!==0;)if(!((i[r]==="_owner"||i[r]==="__v"||i[r]==="__o")&&e.$$typeof)&&!BS(e[i[r]],t[i[r]]))return!1;return!0}return e!==e&&t!==t}var utt=function(t,n){try{return BS(t,n)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}};const ctt=Wh(utt);function ofe(e,t={}){var n;const{styleConfig:r,...i}=t,{theme:o,colorMode:s}=Pce(),a=e?tfe(o,`components.${e}`):void 0,l=r||a,u=gs({theme:o,colorMode:s},(n=l==null?void 0:l.defaultProps)!=null?n:{},rfe(ttt(i,["children"]))),c=M.useRef({});if(l){const d=_Xe(l)(u);ctt(c.current,d)||(c.current=d)}return c.current}function Hu(e,t={}){return ofe(e,t)}function Gf(e,t={}){return ofe(e,t)}var ftt=new Set([...pXe,"textStyle","layerStyle","apply","noOfLines","focusBorderColor","errorBorderColor","as","__css","css","sx"]),dtt=new Set(["htmlWidth","htmlHeight","htmlSize","htmlTranslate"]);function htt(e){return dtt.has(e)||!ftt.has(e)}function ptt(e,...t){if(e==null)throw new TypeError("Cannot convert undefined or null to object");const n={...e};for(const r of t)if(r!=null)for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&(i in n&&delete n[i],n[i]=r[i]);return n}function sfe(e){const t=Object.assign({},e);for(let n in t)t[n]===void 0&&delete t[n];return t}var gtt=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,mtt=ple(function(e){return gtt.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91}),ytt=mtt,vtt=function(t){return t!=="theme"},Aq=function(t){return typeof t=="string"&&t.charCodeAt(0)>96?ytt:vtt},Tq=function(t,n,r){var i;if(n){var o=n.shouldForwardProp;i=t.__emotion_forwardProp&&o?function(s){return t.__emotion_forwardProp(s)&&o(s)}:o}return typeof i!="function"&&r&&(i=t.__emotion_forwardProp),i},btt=!1,xtt=function(t){var n=t.cache,r=t.serialized,i=t.isStringTag;return xle(n,r,i),LWe(function(){return wle(n,r,i)}),null},wtt=function e(t,n){var r=t.__emotion_real===t,i=r&&t.__emotion_base||t,o,s;n!==void 0&&(o=n.label,s=n.target);var a=Tq(t,n,r),l=a||Aq(i),u=!l("as");return function(){var c=arguments,f=r&&t.__emotion_styles!==void 0?t.__emotion_styles.slice(0):[];if(o!==void 0&&f.push("label:"+o+";"),c[0]==null||c[0].raw===void 0)f.push.apply(f,c);else{f.push(c[0][0]);for(var d=c.length,h=1;h<d;h++)f.push(c[h],c[0][h])}var p=kle(function(g,m,y){var v=u&&g.as||i,b="",x=[],w=g;if(g.theme==null){w={};for(var C in g)w[C]=g[C];w.theme=M.useContext(eb)}typeof g.className=="string"?b=AWe(m.registered,x,g.className):g.className!=null&&(b=g.className+" ");var S=KI(f.concat(x),m.registered,w);b+=m.key+"-"+S.name,s!==void 0&&(b+=" "+s);var k=u&&a===void 0?Aq(v):l,$={};for(var R in g)u&&R==="as"||k(R)&&($[R]=g[R]);return $.className=b,y&&($.ref=y),M.createElement(M.Fragment,null,M.createElement(xtt,{cache:m,serialized:S,isStringTag:typeof v=="string"}),M.createElement(v,$))});return p.displayName=o!==void 0?o:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",p.defaultProps=t.defaultProps,p.__emotion_real=p,p.__emotion_base=i,p.__emotion_styles=f,p.__emotion_forwardProp=a,Object.defineProperty(p,"toString",{value:function(){return s===void 0&&btt?"NO_COMPONENT_SELECTOR":"."+s}}),p.withComponent=function(g,m){return e(g,OC({},n,m,{shouldForwardProp:Tq(p,m,!0)})).apply(void 0,f)},p}},Stt=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],uk=wtt.bind();Stt.forEach(function(e){uk[e]=uk(e)});var Fq,Ett=(Fq=uk.default)!=null?Fq:uk,Ctt=({baseStyle:e})=>t=>{const{theme:n,css:r,__css:i,sx:o,...s}=t,a=nfe(s,(f,d)=>mXe(d)),l=ife(e,t),u=ptt({},i,l,rfe(a),o),c=zce(u)(t.theme);return r?[c,r]:c};function h4(e,t){const{baseStyle:n,...r}=t??{};r.shouldForwardProp||(r.shouldForwardProp=htt);const i=Ctt({baseStyle:n}),o=Ett(e,r)(i);return um.forwardRef(function(l,u){const{colorMode:c,forced:f}=H0();return um.createElement(o,{ref:u,"data-theme":f?c:void 0,...l})})}function ktt(){const e=new Map;return new Proxy(h4,{apply(t,n,r){return h4(...r)},get(t,n){return e.has(n)||e.set(n,h4(n)),e.get(n)}})}var We=ktt();function Je(e){return M.forwardRef(e)}function _tt(e={}){const{strict:t=!0,errorMessage:n="useContext: `context` is undefined. Seems you forgot to wrap component within the Provider",name:r}=e,i=M.createContext(void 0);i.displayName=r;function o(){var s;const a=M.useContext(i);if(!a&&t){const l=new Error(n);throw l.name="ContextError",(s=Error.captureStackTrace)==null||s.call(Error,l,o),l}return a}return[i.Provider,o,i]}function $tt(e){const{cssVarsRoot:t,theme:n,children:r}=e,i=M.useMemo(()=>fXe(n),[n]);return F.jsxs(jWe,{theme:i,children:[F.jsx(Att,{root:t}),r]})}function Att({root:e=":host, :root"}){const t=[e,"[data-theme]"].join(",");return F.jsx(Z$,{styles:n=>({[t]:n.__cssVars})})}_tt({name:"StylesContext",errorMessage:"useStyles: `styles` is undefined. Seems you forgot to wrap the components in `<StylesProvider />` "});function Ttt(){const{colorMode:e}=H0();return F.jsx(Z$,{styles:t=>{const n=tfe(t,"styles.global"),r=ife(n,{theme:t,colorMode:e});return r?zce(r)(t):void 0}})}var J8=M.createContext({getDocument(){return document},getWindow(){return window}});J8.displayName="EnvironmentContext";function Ftt({defer:e}={}){const[,t]=M.useReducer(n=>n+1,0);return Qm(()=>{e&&t()},[e]),M.useContext(J8)}function afe(e){const{children:t,environment:n,disabled:r}=e,i=M.useRef(null),o=M.useMemo(()=>n||{getDocument:()=>{var a,l;return(l=(a=i.current)==null?void 0:a.ownerDocument)!=null?l:document},getWindow:()=>{var a,l;return(l=(a=i.current)==null?void 0:a.ownerDocument.defaultView)!=null?l:window}},[n]),s=!r||!n;return F.jsxs(J8.Provider,{value:o,children:[t,s&&F.jsx("span",{id:"__chakra_env",hidden:!0,ref:i})]})}afe.displayName="EnvironmentProvider";var Rtt=e=>{const{children:t,colorModeManager:n,portalZIndex:r,resetScope:i,resetCSS:o=!0,theme:s={},environment:a,cssVarsRoot:l,disableEnvironment:u,disableGlobalStyle:c}=e,f=F.jsx(afe,{environment:a,disabled:u,children:t});return F.jsx($tt,{theme:s,cssVarsRoot:l,children:F.jsxs(Rce,{colorModeManager:n,options:s.config,children:[o?F.jsx(VWe,{scope:i}):F.jsx(UWe,{}),!c&&F.jsx(Ttt,{}),r?F.jsx(Ale,{zIndex:r,children:f}):f]})})},Ptt=(e,t)=>e.find(n=>n.id===t);function Rq(e,t){const n=lfe(e,t),r=n?e[n].findIndex(i=>i.id===t):-1;return{position:n,index:r}}function lfe(e,t){for(const[n,r]of Object.entries(e))if(Ptt(r,t))return n}function Ott(e){const t=e.includes("right"),n=e.includes("left");let r="center";return t&&(r="flex-end"),n&&(r="flex-start"),{display:"flex",flexDirection:"column",alignItems:r}}function Dtt(e){const n=e==="top"||e==="bottom"?"0 auto":void 0,r=e.includes("top")?"env(safe-area-inset-top, 0px)":void 0,i=e.includes("bottom")?"env(safe-area-inset-bottom, 0px)":void 0,o=e.includes("left")?void 0:"env(safe-area-inset-right, 0px)",s=e.includes("right")?void 0:"env(safe-area-inset-left, 0px)";return{position:"fixed",zIndex:"var(--toast-z-index, 5500)",pointerEvents:"none",display:"flex",flexDirection:"column",margin:n,top:r,bottom:i,right:o,left:s}}function US(e,t=[]){const n=M.useRef(e);return M.useEffect(()=>{n.current=e}),M.useCallback((...r)=>{var i;return(i=n.current)==null?void 0:i.call(n,...r)},t)}function Mtt(e,t){const n=US(e);M.useEffect(()=>{if(t==null)return;let r=null;return r=window.setTimeout(()=>{n()},t),()=>{r&&window.clearTimeout(r)}},[t,n])}function Pq(e,t){const n=M.useRef(!1),r=M.useRef(!1);M.useEffect(()=>{if(n.current&&r.current)return e();r.current=!0},t),M.useEffect(()=>(n.current=!0,()=>{n.current=!1}),[])}const ufe=M.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),wA=M.createContext({}),jx=M.createContext(null),SA=typeof document<"u",Z8=SA?M.useLayoutEffect:M.useEffect,cfe=M.createContext({strict:!1}),e9=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),Ntt="framerAppearId",ffe="data-"+e9(Ntt);function Ltt(e,t,n,r){const{visualElement:i}=M.useContext(wA),o=M.useContext(cfe),s=M.useContext(jx),a=M.useContext(ufe).reducedMotion,l=M.useRef();r=r||o.renderer,!l.current&&r&&(l.current=r(e,{visualState:t,parent:i,props:n,presenceContext:s,blockInitialAnimation:s?s.initial===!1:!1,reducedMotionConfig:a}));const u=l.current;M.useInsertionEffect(()=>{u&&u.update(n,s)});const c=M.useRef(!!(n[ffe]&&!window.HandoffComplete));return Z8(()=>{u&&(u.render(),c.current&&u.animationState&&u.animationState.animateChanges())}),M.useEffect(()=>{u&&(u.updateFeatures(),!c.current&&u.animationState&&u.animationState.animateChanges(),c.current&&(c.current=!1,window.HandoffComplete=!0))}),u}function Cg(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function Itt(e,t,n){return M.useCallback(r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):Cg(n)&&(n.current=r))},[t])}function Eb(e){return typeof e=="string"||Array.isArray(e)}function EA(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const t9=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],n9=["initial",...t9];function CA(e){return EA(e.animate)||n9.some(t=>Eb(e[t]))}function dfe(e){return!!(CA(e)||e.variants)}function ztt(e,t){if(CA(e)){const{initial:n,animate:r}=e;return{initial:n===!1||Eb(n)?n:void 0,animate:Eb(r)?r:void 0}}return e.inherit!==!1?t:{}}function jtt(e){const{initial:t,animate:n}=ztt(e,M.useContext(wA));return M.useMemo(()=>({initial:t,animate:n}),[Oq(t),Oq(n)])}function Oq(e){return Array.isArray(e)?e.join(" "):e}const Dq={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Cb={};for(const e in Dq)Cb[e]={isEnabled:t=>Dq[e].some(n=>!!t[n])};function Btt(e){for(const t in e)Cb[t]={...Cb[t],...e[t]}}const r9=M.createContext({}),hfe=M.createContext({}),Utt=Symbol.for("motionComponentSymbol");function Vtt({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:i}){e&&Btt(e);function o(a,l){let u;const c={...M.useContext(ufe),...a,layoutId:Wtt(a)},{isStatic:f}=c,d=jtt(a),h=r(a,f);if(!f&&SA){d.visualElement=Ltt(i,h,c,t);const p=M.useContext(hfe),g=M.useContext(cfe).strict;d.visualElement&&(u=d.visualElement.loadFeatures(c,g,e,p))}return M.createElement(wA.Provider,{value:d},u&&d.visualElement?M.createElement(u,{visualElement:d.visualElement,...c}):null,n(i,a,Itt(h,d.visualElement,l),h,f,d.visualElement))}const s=M.forwardRef(o);return s[Utt]=i,s}function Wtt({layoutId:e}){const t=M.useContext(r9).id;return t&&e!==void 0?t+"-"+e:e}function Htt(e){function t(r,i={}){return Vtt(e(r,i))}if(typeof Proxy>"u")return t;const n=new Map;return new Proxy(t,{get:(r,i)=>(n.has(i)||n.set(i,t(i)),n.get(i))})}const qtt=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function i9(e){return typeof e!="string"||e.includes("-")?!1:!!(qtt.indexOf(e)>-1||/[A-Z]/.test(e))}const ck={};function Gtt(e){Object.assign(ck,e)}const Bx=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],gp=new Set(Bx);function pfe(e,{layout:t,layoutId:n}){return gp.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!ck[e]||e==="opacity")}const po=e=>!!(e&&e.getVelocity),Xtt={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Ytt=Bx.length;function Ktt(e,{enableHardwareAcceleration:t=!0,allowTransformNone:n=!0},r,i){let o="";for(let s=0;s<Ytt;s++){const a=Bx[s];if(e[a]!==void 0){const l=Xtt[a]||a;o+=`${l}(${e[a]}) `}}return t&&!e.z&&(o+="translateZ(0)"),o=o.trim(),i?o=i(e,r?"":o):n&&r&&(o="none"),o}const gfe=e=>t=>typeof t=="string"&&t.startsWith(e),mfe=gfe("--"),dO=gfe("var(--"),Qtt=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,Jtt=(e,t)=>t&&typeof e=="number"?t.transform(e):e,$f=(e,t,n)=>Math.min(Math.max(n,e),t),mp={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},pv={...mp,transform:e=>$f(0,1,e)},D2={...mp,default:1},gv=e=>Math.round(e*1e5)/1e5,kA=/(-)?([\d]*\.?[\d])+/g,yfe=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,Ztt=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Ux(e){return typeof e=="string"}const Vx=e=>({test:t=>Ux(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),hc=Vx("deg"),gl=Vx("%"),Ve=Vx("px"),ent=Vx("vh"),tnt=Vx("vw"),Mq={...gl,parse:e=>gl.parse(e)/100,transform:e=>gl.transform(e*100)},Nq={...mp,transform:Math.round},vfe={borderWidth:Ve,borderTopWidth:Ve,borderRightWidth:Ve,borderBottomWidth:Ve,borderLeftWidth:Ve,borderRadius:Ve,radius:Ve,borderTopLeftRadius:Ve,borderTopRightRadius:Ve,borderBottomRightRadius:Ve,borderBottomLeftRadius:Ve,width:Ve,maxWidth:Ve,height:Ve,maxHeight:Ve,size:Ve,top:Ve,right:Ve,bottom:Ve,left:Ve,padding:Ve,paddingTop:Ve,paddingRight:Ve,paddingBottom:Ve,paddingLeft:Ve,margin:Ve,marginTop:Ve,marginRight:Ve,marginBottom:Ve,marginLeft:Ve,rotate:hc,rotateX:hc,rotateY:hc,rotateZ:hc,scale:D2,scaleX:D2,scaleY:D2,scaleZ:D2,skew:hc,skewX:hc,skewY:hc,distance:Ve,translateX:Ve,translateY:Ve,translateZ:Ve,x:Ve,y:Ve,z:Ve,perspective:Ve,transformPerspective:Ve,opacity:pv,originX:Mq,originY:Mq,originZ:Ve,zIndex:Nq,fillOpacity:pv,strokeOpacity:pv,numOctaves:Nq};function o9(e,t,n,r){const{style:i,vars:o,transform:s,transformOrigin:a}=e;let l=!1,u=!1,c=!0;for(const f in t){const d=t[f];if(mfe(f)){o[f]=d;continue}const h=vfe[f],p=Jtt(d,h);if(gp.has(f)){if(l=!0,s[f]=p,!c)continue;d!==(h.default||0)&&(c=!1)}else f.startsWith("origin")?(u=!0,a[f]=p):i[f]=p}if(t.transform||(l||r?i.transform=Ktt(e.transform,n,c,r):i.transform&&(i.transform="none")),u){const{originX:f="50%",originY:d="50%",originZ:h=0}=a;i.transformOrigin=`${f} ${d} ${h}`}}const s9=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function bfe(e,t,n){for(const r in t)!po(t[r])&&!pfe(r,n)&&(e[r]=t[r])}function nnt({transformTemplate:e},t,n){return M.useMemo(()=>{const r=s9();return o9(r,t,{enableHardwareAcceleration:!n},e),Object.assign({},r.vars,r.style)},[t])}function rnt(e,t,n){const r=e.style||{},i={};return bfe(i,r,e),Object.assign(i,nnt(e,t,n)),e.transformValues?e.transformValues(i):i}function int(e,t,n){const r={},i=rnt(e,t,n);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=i,r}const ont=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function fk(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||ont.has(e)}let xfe=e=>!fk(e);function snt(e){e&&(xfe=t=>t.startsWith("on")?!fk(t):e(t))}try{snt(require("@emotion/is-prop-valid").default)}catch{}function ant(e,t,n){const r={};for(const i in e)i==="values"&&typeof e.values=="object"||(xfe(i)||n===!0&&fk(i)||!t&&!fk(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}function Lq(e,t,n){return typeof e=="string"?e:Ve.transform(t+n*e)}function lnt(e,t,n){const r=Lq(t,e.x,e.width),i=Lq(n,e.y,e.height);return`${r} ${i}`}const unt={offset:"stroke-dashoffset",array:"stroke-dasharray"},cnt={offset:"strokeDashoffset",array:"strokeDasharray"};function fnt(e,t,n=1,r=0,i=!0){e.pathLength=1;const o=i?unt:cnt;e[o.offset]=Ve.transform(-r);const s=Ve.transform(t),a=Ve.transform(n);e[o.array]=`${s} ${a}`}function a9(e,{attrX:t,attrY:n,attrScale:r,originX:i,originY:o,pathLength:s,pathSpacing:a=1,pathOffset:l=0,...u},c,f,d){if(o9(e,u,c,d),f){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:h,style:p,dimensions:g}=e;h.transform&&(g&&(p.transform=h.transform),delete h.transform),g&&(i!==void 0||o!==void 0||p.transform)&&(p.transformOrigin=lnt(g,i!==void 0?i:.5,o!==void 0?o:.5)),t!==void 0&&(h.x=t),n!==void 0&&(h.y=n),r!==void 0&&(h.scale=r),s!==void 0&&fnt(h,s,a,l,!1)}const wfe=()=>({...s9(),attrs:{}}),l9=e=>typeof e=="string"&&e.toLowerCase()==="svg";function dnt(e,t,n,r){const i=M.useMemo(()=>{const o=wfe();return a9(o,t,{enableHardwareAcceleration:!1},l9(r),e.transformTemplate),{...o.attrs,style:{...o.style}}},[t]);if(e.style){const o={};bfe(o,e.style,e),i.style={...o,...i.style}}return i}function hnt(e=!1){return(n,r,i,{latestValues:o},s)=>{const l=(i9(n)?dnt:int)(r,o,s,n),c={...ant(r,typeof n=="string",e),...l,ref:i},{children:f}=r,d=M.useMemo(()=>po(f)?f.get():f,[f]);return M.createElement(n,{...c,children:d})}}function Sfe(e,{style:t,vars:n},r,i){Object.assign(e.style,t,i&&i.getProjectionStyles(r));for(const o in n)e.style.setProperty(o,n[o])}const Efe=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Cfe(e,t,n,r){Sfe(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(Efe.has(i)?i:e9(i),t.attrs[i])}function u9(e,t){const{style:n}=e,r={};for(const i in n)(po(n[i])||t.style&&po(t.style[i])||pfe(i,e))&&(r[i]=n[i]);return r}function kfe(e,t){const n=u9(e,t);for(const r in e)if(po(e[r])||po(t[r])){const i=Bx.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[i]=e[r]}return n}function c9(e,t,n,r={},i={}){return typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,i)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,i)),t}function _fe(e){const t=M.useRef(null);return t.current===null&&(t.current=e()),t.current}const dk=e=>Array.isArray(e),pnt=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),gnt=e=>dk(e)?e[e.length-1]||0:e;function VS(e){const t=po(e)?e.get():e;return pnt(t)?t.toValue():t}function mnt({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:n},r,i,o){const s={latestValues:ynt(r,i,o,e),renderState:t()};return n&&(s.mount=a=>n(r,a,s)),s}const $fe=e=>(t,n)=>{const r=M.useContext(wA),i=M.useContext(jx),o=()=>mnt(e,t,r,i);return n?o():_fe(o)};function ynt(e,t,n,r){const i={},o=r(e,{});for(const d in o)i[d]=VS(o[d]);let{initial:s,animate:a}=e;const l=CA(e),u=dfe(e);t&&u&&!l&&e.inherit!==!1&&(s===void 0&&(s=t.initial),a===void 0&&(a=t.animate));let c=n?n.initial===!1:!1;c=c||s===!1;const f=c?a:s;return f&&typeof f!="boolean"&&!EA(f)&&(Array.isArray(f)?f:[f]).forEach(h=>{const p=c9(e,h);if(!p)return;const{transitionEnd:g,transition:m,...y}=p;for(const v in y){let b=y[v];if(Array.isArray(b)){const x=c?b.length-1:0;b=b[x]}b!==null&&(i[v]=b)}for(const v in g)i[v]=g[v]}),i}const In=e=>e;class Iq{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const n=this.order.indexOf(t);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function vnt(e){let t=new Iq,n=new Iq,r=0,i=!1,o=!1;const s=new WeakSet,a={schedule:(l,u=!1,c=!1)=>{const f=c&&i,d=f?t:n;return u&&s.add(l),d.add(l)&&f&&i&&(r=t.order.length),l},cancel:l=>{n.remove(l),s.delete(l)},process:l=>{if(i){o=!0;return}if(i=!0,[t,n]=[n,t],n.clear(),r=t.order.length,r)for(let u=0;u<r;u++){const c=t.order[u];c(l),s.has(c)&&(a.schedule(c),e())}i=!1,o&&(o=!1,a.process(l))}};return a}const M2=["prepare","read","update","preRender","render","postRender"],bnt=40;function xnt(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},o=M2.reduce((f,d)=>(f[d]=vnt(()=>n=!0),f),{}),s=f=>o[f].process(i),a=()=>{const f=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(f-i.timestamp,bnt),1),i.timestamp=f,i.isProcessing=!0,M2.forEach(s),i.isProcessing=!1,n&&t&&(r=!1,e(a))},l=()=>{n=!0,r=!0,i.isProcessing||e(a)};return{schedule:M2.reduce((f,d)=>{const h=o[d];return f[d]=(p,g=!1,m=!1)=>(n||l(),h.schedule(p,g,m)),f},{}),cancel:f=>M2.forEach(d=>o[d].cancel(f)),state:i,steps:o}}const{schedule:tn,cancel:Du,state:Kr,steps:p4}=xnt(typeof requestAnimationFrame<"u"?requestAnimationFrame:In,!0),wnt={useVisualState:$fe({scrapeMotionValuesFromProps:kfe,createRenderState:wfe,onMount:(e,t,{renderState:n,latestValues:r})=>{tn.read(()=>{try{n.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),tn.render(()=>{a9(n,r,{enableHardwareAcceleration:!1},l9(t.tagName),e.transformTemplate),Cfe(t,n)})}})},Snt={useVisualState:$fe({scrapeMotionValuesFromProps:u9,createRenderState:s9})};function Ent(e,{forwardMotionProps:t=!1},n,r){return{...i9(e)?wnt:Snt,preloadedFeatures:n,useRender:hnt(t),createVisualElement:r,Component:e}}function cu(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const Afe=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function _A(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const Cnt=e=>t=>Afe(t)&&e(t,_A(t));function wu(e,t,n,r){return cu(e,t,Cnt(n),r)}const knt=(e,t)=>n=>t(e(n)),sf=(...e)=>e.reduce(knt);function Tfe(e){let t=null;return()=>{const n=()=>{t=null};return t===null?(t=e,n):!1}}const zq=Tfe("dragHorizontal"),jq=Tfe("dragVertical");function Ffe(e){let t=!1;if(e==="y")t=jq();else if(e==="x")t=zq();else{const n=zq(),r=jq();n&&r?t=()=>{n(),r()}:(n&&n(),r&&r())}return t}function Rfe(){const e=Ffe(!0);return e?(e(),!1):!0}class Xf{constructor(t){this.isMounted=!1,this.node=t}update(){}}function Bq(e,t){const n="pointer"+(t?"enter":"leave"),r="onHover"+(t?"Start":"End"),i=(o,s)=>{if(o.pointerType==="touch"||Rfe())return;const a=e.getProps();e.animationState&&a.whileHover&&e.animationState.setActive("whileHover",t),a[r]&&tn.update(()=>a[r](o,s))};return wu(e.current,n,i,{passive:!e.getProps()[r]})}class _nt extends Xf{mount(){this.unmount=sf(Bq(this.node,!0),Bq(this.node,!1))}unmount(){}}class $nt extends Xf{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=sf(cu(this.node.current,"focus",()=>this.onFocus()),cu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const Pfe=(e,t)=>t?e===t?!0:Pfe(e,t.parentElement):!1;function g4(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,_A(n))}class Ant extends Xf{constructor(){super(...arguments),this.removeStartListeners=In,this.removeEndListeners=In,this.removeAccessibleListeners=In,this.startPointerPress=(t,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),o=wu(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:c,globalTapTarget:f}=this.node.getProps();tn.update(()=>{!f&&!Pfe(this.node.current,a.target)?c&&c(a,l):u&&u(a,l)})},{passive:!(r.onTap||r.onPointerUp)}),s=wu(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=sf(o,s),this.startPress(t,n)},this.startAccessiblePress=()=>{const t=o=>{if(o.key!=="Enter"||this.isPressing)return;const s=a=>{a.key!=="Enter"||!this.checkPressEnd()||g4("up",(l,u)=>{const{onTap:c}=this.node.getProps();c&&tn.update(()=>c(l,u))})};this.removeEndListeners(),this.removeEndListeners=cu(this.node.current,"keyup",s),g4("down",(a,l)=>{this.startPress(a,l)})},n=cu(this.node.current,"keydown",t),r=()=>{this.isPressing&&g4("cancel",(o,s)=>this.cancelPress(o,s))},i=cu(this.node.current,"blur",r);this.removeAccessibleListeners=sf(n,i)}}startPress(t,n){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&tn.update(()=>r(t,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!Rfe()}cancelPress(t,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&tn.update(()=>r(t,n))}mount(){const t=this.node.getProps(),n=wu(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),r=cu(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=sf(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const hO=new WeakMap,m4=new WeakMap,Tnt=e=>{const t=hO.get(e.target);t&&t(e)},Fnt=e=>{e.forEach(Tnt)};function Rnt({root:e,...t}){const n=e||document;m4.has(n)||m4.set(n,{});const r=m4.get(n),i=JSON.stringify(t);return r[i]||(r[i]=new IntersectionObserver(Fnt,{root:e,...t})),r[i]}function Pnt(e,t,n){const r=Rnt(t);return hO.set(e,n),r.observe(e),()=>{hO.delete(e),r.unobserve(e)}}const Ont={some:0,all:1};class Dnt extends Xf{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:o}=t,s={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:Ont[i]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,o&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:c,onViewportLeave:f}=this.node.getProps(),d=u?c:f;d&&d(l)};return Pnt(this.node.current,s,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(Mnt(t,n))&&this.startObserver()}unmount(){}}function Mnt({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const Nnt={inView:{Feature:Dnt},tap:{Feature:Ant},focus:{Feature:$nt},hover:{Feature:_nt}};function Ofe(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function Lnt(e){const t={};return e.values.forEach((n,r)=>t[r]=n.get()),t}function Int(e){const t={};return e.values.forEach((n,r)=>t[r]=n.getVelocity()),t}function $A(e,t,n){const r=e.getProps();return c9(r,t,n!==void 0?n:r.custom,Lnt(e),Int(e))}let hk=In;const fh=e=>e*1e3,Su=e=>e/1e3,znt={current:!1},Dfe=e=>Array.isArray(e)&&typeof e[0]=="number";function Mfe(e){return!!(!e||typeof e=="string"&&Nfe[e]||Dfe(e)||Array.isArray(e)&&e.every(Mfe))}const D1=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,Nfe={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:D1([0,.65,.55,1]),circOut:D1([.55,0,1,.45]),backIn:D1([.31,.01,.66,-.59]),backOut:D1([.33,1.53,.69,.99])};function Lfe(e){if(e)return Dfe(e)?D1(e):Array.isArray(e)?e.map(Lfe):Nfe[e]}function jnt(e,t,n,{delay:r=0,duration:i,repeat:o=0,repeatType:s="loop",ease:a,times:l}={}){const u={[t]:n};l&&(u.offset=l);const c=Lfe(a);return Array.isArray(c)&&(u.easing=c),e.animate(u,{delay:r,duration:i,easing:Array.isArray(c)?"linear":c,fill:"both",iterations:o+1,direction:s==="reverse"?"alternate":"normal"})}function Bnt(e,{repeat:t,repeatType:n="loop"}){const r=t&&n!=="loop"&&t%2===1?0:e.length-1;return e[r]}const Ife=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,Unt=1e-7,Vnt=12;function Wnt(e,t,n,r,i){let o,s,a=0;do s=t+(n-t)/2,o=Ife(s,r,i)-e,o>0?n=s:t=s;while(Math.abs(o)>Unt&&++a<Vnt);return s}function Wx(e,t,n,r){if(e===t&&n===r)return In;const i=o=>Wnt(o,0,1,e,n);return o=>o===0||o===1?o:Ife(i(o),t,r)}const Hnt=Wx(.42,0,1,1),qnt=Wx(0,0,.58,1),zfe=Wx(.42,0,.58,1),Gnt=e=>Array.isArray(e)&&typeof e[0]!="number",jfe=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Bfe=e=>t=>1-e(1-t),f9=e=>1-Math.sin(Math.acos(e)),Ufe=Bfe(f9),Xnt=jfe(f9),Vfe=Wx(.33,1.53,.69,.99),d9=Bfe(Vfe),Ynt=jfe(d9),Knt=e=>(e*=2)<1?.5*d9(e):.5*(2-Math.pow(2,-10*(e-1))),Uq={linear:In,easeIn:Hnt,easeInOut:zfe,easeOut:qnt,circIn:f9,circInOut:Xnt,circOut:Ufe,backIn:d9,backInOut:Ynt,backOut:Vfe,anticipate:Knt},Vq=e=>{if(Array.isArray(e)){hk(e.length===4);const[t,n,r,i]=e;return Wx(t,n,r,i)}else if(typeof e=="string")return hk(Uq[e]!==void 0),Uq[e];return e},h9=(e,t)=>n=>!!(Ux(n)&&Ztt.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),Wfe=(e,t,n)=>r=>{if(!Ux(r))return r;const[i,o,s,a]=r.match(kA);return{[e]:parseFloat(i),[t]:parseFloat(o),[n]:parseFloat(s),alpha:a!==void 0?parseFloat(a):1}},Qnt=e=>$f(0,255,e),y4={...mp,transform:e=>Math.round(Qnt(e))},Bd={test:h9("rgb","red"),parse:Wfe("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+y4.transform(e)+", "+y4.transform(t)+", "+y4.transform(n)+", "+gv(pv.transform(r))+")"};function Jnt(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const pO={test:h9("#"),parse:Jnt,transform:Bd.transform},kg={test:h9("hsl","hue"),parse:Wfe("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+gl.transform(gv(t))+", "+gl.transform(gv(n))+", "+gv(pv.transform(r))+")"},bi={test:e=>Bd.test(e)||pO.test(e)||kg.test(e),parse:e=>Bd.test(e)?Bd.parse(e):kg.test(e)?kg.parse(e):pO.parse(e),transform:e=>Ux(e)?e:e.hasOwnProperty("red")?Bd.transform(e):kg.transform(e)},Sn=(e,t,n)=>-n*e+n*t+e;function v4(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function Znt({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let i=0,o=0,s=0;if(!t)i=o=s=n;else{const a=n<.5?n*(1+t):n+t-n*t,l=2*n-a;i=v4(l,a,e+1/3),o=v4(l,a,e),s=v4(l,a,e-1/3)}return{red:Math.round(i*255),green:Math.round(o*255),blue:Math.round(s*255),alpha:r}}const b4=(e,t,n)=>{const r=e*e;return Math.sqrt(Math.max(0,n*(t*t-r)+r))},ert=[pO,Bd,kg],trt=e=>ert.find(t=>t.test(e));function Wq(e){const t=trt(e);let n=t.parse(e);return t===kg&&(n=Znt(n)),n}const Hfe=(e,t)=>{const n=Wq(e),r=Wq(t),i={...n};return o=>(i.red=b4(n.red,r.red,o),i.green=b4(n.green,r.green,o),i.blue=b4(n.blue,r.blue,o),i.alpha=Sn(n.alpha,r.alpha,o),Bd.transform(i))};function nrt(e){var t,n;return isNaN(e)&&Ux(e)&&(((t=e.match(kA))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(yfe))===null||n===void 0?void 0:n.length)||0)>0}const qfe={regex:Qtt,countKey:"Vars",token:"${v}",parse:In},Gfe={regex:yfe,countKey:"Colors",token:"${c}",parse:bi.parse},Xfe={regex:kA,countKey:"Numbers",token:"${n}",parse:mp.parse};function x4(e,{regex:t,countKey:n,token:r,parse:i}){const o=e.tokenised.match(t);o&&(e["num"+n]=o.length,e.tokenised=e.tokenised.replace(t,r),e.values.push(...o.map(i)))}function pk(e){const t=e.toString(),n={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&x4(n,qfe),x4(n,Gfe),x4(n,Xfe),n}function Yfe(e){return pk(e).values}function Kfe(e){const{values:t,numColors:n,numVars:r,tokenised:i}=pk(e),o=t.length;return s=>{let a=i;for(let l=0;l<o;l++)l<r?a=a.replace(qfe.token,s[l]):l<r+n?a=a.replace(Gfe.token,bi.transform(s[l])):a=a.replace(Xfe.token,gv(s[l]));return a}}const rrt=e=>typeof e=="number"?0:e;function irt(e){const t=Yfe(e);return Kfe(e)(t.map(rrt))}const Af={test:nrt,parse:Yfe,createTransformer:Kfe,getAnimatableNone:irt},Qfe=(e,t)=>n=>`${n>0?t:e}`;function Jfe(e,t){return typeof e=="number"?n=>Sn(e,t,n):bi.test(e)?Hfe(e,t):e.startsWith("var(")?Qfe(e,t):ede(e,t)}const Zfe=(e,t)=>{const n=[...e],r=n.length,i=e.map((o,s)=>Jfe(o,t[s]));return o=>{for(let s=0;s<r;s++)n[s]=i[s](o);return n}},ort=(e,t)=>{const n={...e,...t},r={};for(const i in n)e[i]!==void 0&&t[i]!==void 0&&(r[i]=Jfe(e[i],t[i]));return i=>{for(const o in r)n[o]=r[o](i);return n}},ede=(e,t)=>{const n=Af.createTransformer(t),r=pk(e),i=pk(t);return r.numVars===i.numVars&&r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?sf(Zfe(r.values,i.values),n):Qfe(e,t)},kb=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},Hq=(e,t)=>n=>Sn(e,t,n);function srt(e){return typeof e=="number"?Hq:typeof e=="string"?bi.test(e)?Hfe:ede:Array.isArray(e)?Zfe:typeof e=="object"?ort:Hq}function art(e,t,n){const r=[],i=n||srt(e[0]),o=e.length-1;for(let s=0;s<o;s++){let a=i(e[s],e[s+1]);if(t){const l=Array.isArray(t)?t[s]||In:t;a=sf(l,a)}r.push(a)}return r}function tde(e,t,{clamp:n=!0,ease:r,mixer:i}={}){const o=e.length;if(hk(o===t.length),o===1)return()=>t[0];e[0]>e[o-1]&&(e=[...e].reverse(),t=[...t].reverse());const s=art(t,r,i),a=s.length,l=u=>{let c=0;if(a>1)for(;c<e.length-2&&!(u<e[c+1]);c++);const f=kb(e[c],e[c+1],u);return s[c](f)};return n?u=>l($f(e[0],e[o-1],u)):l}function lrt(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=kb(0,t,r);e.push(Sn(n,1,i))}}function urt(e){const t=[0];return lrt(t,e.length-1),t}function crt(e,t){return e.map(n=>n*t)}function frt(e,t){return e.map(()=>t||zfe).splice(0,e.length-1)}function gk({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const i=Gnt(r)?r.map(Vq):Vq(r),o={done:!1,value:t[0]},s=crt(n&&n.length===t.length?n:urt(t),e),a=tde(s,t,{ease:Array.isArray(i)?i:frt(t,i)});return{calculatedDuration:e,next:l=>(o.value=a(l),o.done=l>=e,o)}}function nde(e,t){return t?e*(1e3/t):0}const drt=5;function rde(e,t,n){const r=Math.max(t-drt,0);return nde(n-e(r),t-r)}const w4=.001,hrt=.01,prt=10,grt=.05,mrt=1;function yrt({duration:e=800,bounce:t=.25,velocity:n=0,mass:r=1}){let i,o,s=1-t;s=$f(grt,mrt,s),e=$f(hrt,prt,Su(e)),s<1?(i=u=>{const c=u*s,f=c*e,d=c-n,h=gO(u,s),p=Math.exp(-f);return w4-d/h*p},o=u=>{const f=u*s*e,d=f*n+n,h=Math.pow(s,2)*Math.pow(u,2)*e,p=Math.exp(-f),g=gO(Math.pow(u,2),s);return(-i(u)+w4>0?-1:1)*((d-h)*p)/g}):(i=u=>{const c=Math.exp(-u*e),f=(u-n)*e+1;return-w4+c*f},o=u=>{const c=Math.exp(-u*e),f=(n-u)*(e*e);return c*f});const a=5/e,l=brt(i,o,a);if(e=fh(e),isNaN(l))return{stiffness:100,damping:10,duration:e};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:s*2*Math.sqrt(r*u),duration:e}}}const vrt=12;function brt(e,t,n){let r=n;for(let i=1;i<vrt;i++)r=r-e(r)/t(r);return r}function gO(e,t){return e*Math.sqrt(1-t*t)}const xrt=["duration","bounce"],wrt=["stiffness","damping","mass"];function qq(e,t){return t.some(n=>e[n]!==void 0)}function Srt(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!qq(e,wrt)&&qq(e,xrt)){const n=yrt(e);t={...t,...n,mass:1},t.isResolvedFromDuration=!0}return t}function ide({keyframes:e,restDelta:t,restSpeed:n,...r}){const i=e[0],o=e[e.length-1],s={done:!1,value:i},{stiffness:a,damping:l,mass:u,duration:c,velocity:f,isResolvedFromDuration:d}=Srt({...r,velocity:-Su(r.velocity||0)}),h=f||0,p=l/(2*Math.sqrt(a*u)),g=o-i,m=Su(Math.sqrt(a/u)),y=Math.abs(g)<5;n||(n=y?.01:2),t||(t=y?.005:.5);let v;if(p<1){const b=gO(m,p);v=x=>{const w=Math.exp(-p*m*x);return o-w*((h+p*m*g)/b*Math.sin(b*x)+g*Math.cos(b*x))}}else if(p===1)v=b=>o-Math.exp(-m*b)*(g+(h+m*g)*b);else{const b=m*Math.sqrt(p*p-1);v=x=>{const w=Math.exp(-p*m*x),C=Math.min(b*x,300);return o-w*((h+p*m*g)*Math.sinh(C)+b*g*Math.cosh(C))/b}}return{calculatedDuration:d&&c||null,next:b=>{const x=v(b);if(d)s.done=b>=c;else{let w=h;b!==0&&(p<1?w=rde(v,b,x):w=0);const C=Math.abs(w)<=n,S=Math.abs(o-x)<=t;s.done=C&&S}return s.value=s.done?o:x,s}}}function Gq({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:o=500,modifyTarget:s,min:a,max:l,restDelta:u=.5,restSpeed:c}){const f=e[0],d={done:!1,value:f},h=k=>a!==void 0&&k<a||l!==void 0&&k>l,p=k=>a===void 0?l:l===void 0||Math.abs(a-k)<Math.abs(l-k)?a:l;let g=n*t;const m=f+g,y=s===void 0?m:s(m);y!==m&&(g=y-f);const v=k=>-g*Math.exp(-k/r),b=k=>y+v(k),x=k=>{const $=v(k),R=b(k);d.done=Math.abs($)<=u,d.value=d.done?y:R};let w,C;const S=k=>{h(d.value)&&(w=k,C=ide({keyframes:[d.value,p(d.value)],velocity:rde(b,k,d.value),damping:i,stiffness:o,restDelta:u,restSpeed:c}))};return S(0),{calculatedDuration:null,next:k=>{let $=!1;return!C&&w===void 0&&($=!0,x(k),S(k)),w!==void 0&&k>w?C.next(k-w):(!$&&x(k),d)}}}const Ert=e=>{const t=({timestamp:n})=>e(n);return{start:()=>tn.update(t,!0),stop:()=>Du(t),now:()=>Kr.isProcessing?Kr.timestamp:performance.now()}},Xq=2e4;function Yq(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<Xq;)t+=n,r=e.next(t);return t>=Xq?1/0:t}const Crt={decay:Gq,inertia:Gq,tween:gk,keyframes:gk,spring:ide};function mk({autoplay:e=!0,delay:t=0,driver:n=Ert,keyframes:r,type:i="keyframes",repeat:o=0,repeatDelay:s=0,repeatType:a="loop",onPlay:l,onStop:u,onComplete:c,onUpdate:f,...d}){let h=1,p=!1,g,m;const y=()=>{m=new Promise(K=>{g=K})};y();let v;const b=Crt[i]||gk;let x;b!==gk&&typeof r[0]!="number"&&(x=tde([0,100],r,{clamp:!1}),r=[0,100]);const w=b({...d,keyframes:r});let C;a==="mirror"&&(C=b({...d,keyframes:[...r].reverse(),velocity:-(d.velocity||0)}));let S="idle",k=null,$=null,R=null;w.calculatedDuration===null&&o&&(w.calculatedDuration=Yq(w));const{calculatedDuration:O}=w;let B=1/0,D=1/0;O!==null&&(B=O+s,D=B*(o+1)-s);let L=0;const A=K=>{if($===null)return;h>0&&($=Math.min($,K)),h<0&&($=Math.min(K-D/h,$)),k!==null?L=k:L=Math.round(K-$)*h;const pe=L-t*(h>=0?1:-1),oe=h>=0?pe<0:pe>D;L=Math.max(pe,0),S==="finished"&&k===null&&(L=D);let _e=L,Qe=w;if(o){const be=Math.min(L,D)/B;let Ne=Math.floor(be),Ue=be%1;!Ue&&be>=1&&(Ue=1),Ue===1&&Ne--,Ne=Math.min(Ne,o+1),!!(Ne%2)&&(a==="reverse"?(Ue=1-Ue,s&&(Ue-=s/B)):a==="mirror"&&(Qe=C)),_e=$f(0,1,Ue)*B}const xt=oe?{done:!1,value:r[0]}:Qe.next(_e);x&&(xt.value=x(xt.value));let{done:On}=xt;!oe&&O!==null&&(On=h>=0?L>=D:L<=0);const lr=k===null&&(S==="finished"||S==="running"&&On);return f&&f(xt.value),lr&&z(),xt},P=()=>{v&&v.stop(),v=void 0},j=()=>{S="idle",P(),g(),y(),$=R=null},z=()=>{S="finished",c&&c(),P(),g()},U=()=>{if(p)return;v||(v=n(A));const K=v.now();l&&l(),k!==null?$=K-k:(!$||S==="finished")&&($=K),S==="finished"&&y(),R=$,k=null,S="running",v.start()};e&&U();const X={then(K,pe){return m.then(K,pe)},get time(){return Su(L)},set time(K){K=fh(K),L=K,k!==null||!v||h===0?k=K:$=v.now()-K/h},get duration(){const K=w.calculatedDuration===null?Yq(w):w.calculatedDuration;return Su(K)},get speed(){return h},set speed(K){K===h||!v||(h=K,X.time=Su(L))},get state(){return S},play:U,pause:()=>{S="paused",k=L},stop:()=>{p=!0,S!=="idle"&&(S="idle",u&&u(),j())},cancel:()=>{R!==null&&A(R),j()},complete:()=>{S="finished"},sample:K=>($=0,A(K))};return X}function krt(e){let t;return()=>(t===void 0&&(t=e()),t)}const _rt=krt(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),$rt=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),N2=10,Art=2e4,Trt=(e,t)=>t.type==="spring"||e==="backgroundColor"||!Mfe(t.ease);function Frt(e,t,{onUpdate:n,onComplete:r,...i}){if(!(_rt()&&$rt.has(t)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0&&i.type!=="inertia"))return!1;let s=!1,a,l,u=!1;const c=()=>{l=new Promise(b=>{a=b})};c();let{keyframes:f,duration:d=300,ease:h,times:p}=i;if(Trt(t,i)){const b=mk({...i,repeat:0,delay:0});let x={done:!1,value:f[0]};const w=[];let C=0;for(;!x.done&&C<Art;)x=b.sample(C),w.push(x.value),C+=N2;p=void 0,f=w,d=C-N2,h="linear"}const g=jnt(e.owner.current,t,f,{...i,duration:d,ease:h,times:p}),m=()=>{u=!1,g.cancel()},y=()=>{u=!0,tn.update(m),a(),c()};return g.onfinish=()=>{u||(e.set(Bnt(f,i)),r&&r(),y())},{then(b,x){return l.then(b,x)},attachTimeline(b){return g.timeline=b,g.onfinish=null,In},get time(){return Su(g.currentTime||0)},set time(b){g.currentTime=fh(b)},get speed(){return g.playbackRate},set speed(b){g.playbackRate=b},get duration(){return Su(d)},play:()=>{s||(g.play(),Du(m))},pause:()=>g.pause(),stop:()=>{if(s=!0,g.playState==="idle")return;const{currentTime:b}=g;if(b){const x=mk({...i,autoplay:!1});e.setWithVelocity(x.sample(b-N2).value,x.sample(b).value,N2)}y()},complete:()=>{u||g.finish()},cancel:y}}function Rrt({keyframes:e,delay:t,onUpdate:n,onComplete:r}){const i=()=>(n&&n(e[e.length-1]),r&&r(),{time:0,speed:1,duration:0,play:In,pause:In,stop:In,then:o=>(o(),Promise.resolve()),cancel:In,complete:In});return t?mk({keyframes:[0,1],duration:0,delay:t,onComplete:i}):i()}const Prt={type:"spring",stiffness:500,damping:25,restSpeed:10},Ort=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),Drt={type:"keyframes",duration:.8},Mrt={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Nrt=(e,{keyframes:t})=>t.length>2?Drt:gp.has(e)?e.startsWith("scale")?Ort(t[1]):Prt:Mrt,mO=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Af.test(t)||t==="0")&&!t.startsWith("url(")),Lrt=new Set(["brightness","contrast","saturate","opacity"]);function Irt(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(kA)||[];if(!r)return e;const i=n.replace(r,"");let o=Lrt.has(t)?1:0;return r!==n&&(o*=100),t+"("+o+i+")"}const zrt=/([a-z-]*)\(.*?\)/g,yO={...Af,getAnimatableNone:e=>{const t=e.match(zrt);return t?t.map(Irt).join(" "):e}},jrt={...vfe,color:bi,backgroundColor:bi,outlineColor:bi,fill:bi,stroke:bi,borderColor:bi,borderTopColor:bi,borderRightColor:bi,borderBottomColor:bi,borderLeftColor:bi,filter:yO,WebkitFilter:yO},p9=e=>jrt[e];function ode(e,t){let n=p9(e);return n!==yO&&(n=Af),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const sde=e=>/^0[^.\s]+$/.test(e);function Brt(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||sde(e)}function Urt(e,t,n,r){const i=mO(t,n);let o;Array.isArray(n)?o=[...n]:o=[null,n];const s=r.from!==void 0?r.from:e.get();let a;const l=[];for(let u=0;u<o.length;u++)o[u]===null&&(o[u]=u===0?s:o[u-1]),Brt(o[u])&&l.push(u),typeof o[u]=="string"&&o[u]!=="none"&&o[u]!=="0"&&(a=o[u]);if(i&&l.length&&a)for(let u=0;u<l.length;u++){const c=l[u];o[c]=ode(t,a)}return o}function Vrt({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:o,repeatType:s,repeatDelay:a,from:l,elapsed:u,...c}){return!!Object.keys(c).length}function g9(e,t){return e[t]||e.default||e}const Wrt={skipAnimations:!1},m9=(e,t,n,r={})=>i=>{const o=g9(r,e)||{},s=o.delay||r.delay||0;let{elapsed:a=0}=r;a=a-fh(s);const l=Urt(t,e,n,o),u=l[0],c=l[l.length-1],f=mO(e,u),d=mO(e,c);let h={keyframes:l,velocity:t.getVelocity(),ease:"easeOut",...o,delay:-a,onUpdate:p=>{t.set(p),o.onUpdate&&o.onUpdate(p)},onComplete:()=>{i(),o.onComplete&&o.onComplete()}};if(Vrt(o)||(h={...h,...Nrt(e,h)}),h.duration&&(h.duration=fh(h.duration)),h.repeatDelay&&(h.repeatDelay=fh(h.repeatDelay)),!f||!d||znt.current||o.type===!1||Wrt.skipAnimations)return Rrt(h);if(!r.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const p=Frt(t,e,h);if(p)return p}return mk(h)};function yk(e){return!!(po(e)&&e.add)}const ade=e=>/^\-?\d*\.?\d+$/.test(e);function y9(e,t){e.indexOf(t)===-1&&e.push(t)}function v9(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class b9{constructor(){this.subscriptions=[]}add(t){return y9(this.subscriptions,t),()=>v9(this.subscriptions,t)}notify(t,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,n,r);else for(let o=0;o<i;o++){const s=this.subscriptions[o];s&&s(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Hrt=e=>!isNaN(parseFloat(e));class qrt{constructor(t,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,i=!0)=>{this.prev=this.current,this.current=r;const{delta:o,timestamp:s}=Kr;this.lastUpdated!==s&&(this.timeDelta=o,this.lastUpdated=s,tn.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>tn.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=Hrt(this.current),this.owner=n.owner}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new b9);const r=this.events[t].add(n);return t==="change"?()=>{r(),tn.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=t,this.timeDelta=r}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?nde(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function a0(e,t){return new qrt(e,t)}const lde=e=>t=>t.test(e),Grt={test:e=>e==="auto",parse:e=>e},ude=[mp,Ve,gl,hc,tnt,ent,Grt],qy=e=>ude.find(lde(e)),Xrt=[...ude,bi,Af],Yrt=e=>Xrt.find(lde(e));function Krt(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,a0(n))}function Qrt(e,t){const n=$A(e,t);let{transitionEnd:r={},transition:i={},...o}=n?e.makeTargetAnimatable(n,!1):{};o={...o,...r};for(const s in o){const a=gnt(o[s]);Krt(e,s,a)}}function Jrt(e,t,n){var r,i;const o=Object.keys(t).filter(a=>!e.hasValue(a)),s=o.length;if(s)for(let a=0;a<s;a++){const l=o[a],u=t[l];let c=null;Array.isArray(u)&&(c=u[0]),c===null&&(c=(i=(r=n[l])!==null&&r!==void 0?r:e.readValue(l))!==null&&i!==void 0?i:t[l]),c!=null&&(typeof c=="string"&&(ade(c)||sde(c))?c=parseFloat(c):!Yrt(c)&&Af.test(u)&&(c=ode(l,u)),e.addValue(l,a0(c,{owner:e})),n[l]===void 0&&(n[l]=c),c!==null&&e.setBaseTarget(l,c))}}function Zrt(e,t){return t?(t[e]||t.default||t).from:void 0}function eit(e,t,n){const r={};for(const i in e){const o=Zrt(i,t);if(o!==void 0)r[i]=o;else{const s=n.getValue(i);s&&(r[i]=s.get())}}return r}function tit({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function nit(e,t){const n=e.get();if(Array.isArray(t)){for(let r=0;r<t.length;r++)if(t[r]!==n)return!0}else return n!==t}function cde(e,t,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:o=e.getDefaultTransition(),transitionEnd:s,...a}=e.makeTargetAnimatable(t);const l=e.getValue("willChange");r&&(o=r);const u=[],c=i&&e.animationState&&e.animationState.getState()[i];for(const f in a){const d=e.getValue(f),h=a[f];if(!d||h===void 0||c&&tit(c,f))continue;const p={delay:n,elapsed:0,...g9(o||{},f)};if(window.HandoffAppearAnimations){const y=e.getProps()[ffe];if(y){const v=window.HandoffAppearAnimations(y,f,d,tn);v!==null&&(p.elapsed=v,p.isHandoff=!0)}}let g=!p.isHandoff&&!nit(d,h);if(p.type==="spring"&&(d.getVelocity()||p.velocity)&&(g=!1),d.animation&&(g=!1),g)continue;d.start(m9(f,d,h,e.shouldReduceMotion&&gp.has(f)?{type:!1}:p));const m=d.animation;yk(l)&&(l.add(f),m.then(()=>l.remove(f))),u.push(m)}return s&&Promise.all(u).then(()=>{s&&Qrt(e,s)}),u}function vO(e,t,n={}){const r=$A(e,t,n.custom);let{transition:i=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const o=r?()=>Promise.all(cde(e,r,n)):()=>Promise.resolve(),s=e.variantChildren&&e.variantChildren.size?(l=0)=>{const{delayChildren:u=0,staggerChildren:c,staggerDirection:f}=i;return rit(e,t,u+l,c,f,n)}:()=>Promise.resolve(),{when:a}=i;if(a){const[l,u]=a==="beforeChildren"?[o,s]:[s,o];return l().then(()=>u())}else return Promise.all([o(),s(n.delay)])}function rit(e,t,n=0,r=0,i=1,o){const s=[],a=(e.variantChildren.size-1)*r,l=i===1?(u=0)=>u*r:(u=0)=>a-u*r;return Array.from(e.variantChildren).sort(iit).forEach((u,c)=>{u.notify("AnimationStart",t),s.push(vO(u,t,{...o,delay:n+l(c)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(s)}function iit(e,t){return e.sortNodePosition(t)}function oit(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const i=t.map(o=>vO(e,o,n));r=Promise.all(i)}else if(typeof t=="string")r=vO(e,t,n);else{const i=typeof t=="function"?$A(e,t,n.custom):t;r=Promise.all(cde(e,i,n))}return r.then(()=>e.notify("AnimationComplete",t))}const sit=[...t9].reverse(),ait=t9.length;function lit(e){return t=>Promise.all(t.map(({animation:n,options:r})=>oit(e,n,r)))}function uit(e){let t=lit(e);const n=fit();let r=!0;const i=(l,u)=>{const c=$A(e,u);if(c){const{transition:f,transitionEnd:d,...h}=c;l={...l,...h,...d}}return l};function o(l){t=l(e)}function s(l,u){const c=e.getProps(),f=e.getVariantContext(!0)||{},d=[],h=new Set;let p={},g=1/0;for(let y=0;y<ait;y++){const v=sit[y],b=n[v],x=c[v]!==void 0?c[v]:f[v],w=Eb(x),C=v===u?b.isActive:null;C===!1&&(g=y);let S=x===f[v]&&x!==c[v]&&w;if(S&&r&&e.manuallyAnimateOnMount&&(S=!1),b.protectedKeys={...p},!b.isActive&&C===null||!x&&!b.prevProp||EA(x)||typeof x=="boolean")continue;let $=cit(b.prevProp,x)||v===u&&b.isActive&&!S&&w||y>g&&w,R=!1;const O=Array.isArray(x)?x:[x];let B=O.reduce(i,{});C===!1&&(B={});const{prevResolvedValues:D={}}=b,L={...D,...B},A=P=>{$=!0,h.has(P)&&(R=!0,h.delete(P)),b.needsAnimating[P]=!0};for(const P in L){const j=B[P],z=D[P];if(p.hasOwnProperty(P))continue;let U=!1;dk(j)&&dk(z)?U=!Ofe(j,z):U=j!==z,U?j!==void 0?A(P):h.add(P):j!==void 0&&h.has(P)?A(P):b.protectedKeys[P]=!0}b.prevProp=x,b.prevResolvedValues=B,b.isActive&&(p={...p,...B}),r&&e.blockInitialAnimation&&($=!1),$&&(!S||R)&&d.push(...O.map(P=>({animation:P,options:{type:v,...l}})))}if(h.size){const y={};h.forEach(v=>{const b=e.getBaseTarget(v);b!==void 0&&(y[v]=b)}),d.push({animation:y})}let m=!!d.length;return r&&(c.initial===!1||c.initial===c.animate)&&!e.manuallyAnimateOnMount&&(m=!1),r=!1,m?t(d):Promise.resolve()}function a(l,u,c){var f;if(n[l].isActive===u)return Promise.resolve();(f=e.variantChildren)===null||f===void 0||f.forEach(h=>{var p;return(p=h.animationState)===null||p===void 0?void 0:p.setActive(l,u)}),n[l].isActive=u;const d=s(c,l);for(const h in n)n[h].protectedKeys={};return d}return{animateChanges:s,setActive:a,setAnimateFunction:o,getState:()=>n}}function cit(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!Ofe(t,e):!1}function pd(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function fit(){return{animate:pd(!0),whileInView:pd(),whileHover:pd(),whileTap:pd(),whileDrag:pd(),whileFocus:pd(),exit:pd()}}class dit extends Xf{constructor(t){super(t),t.animationState||(t.animationState=uit(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),EA(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let hit=0;class pit extends Xf{constructor(){super(...arguments),this.id=hit++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const o=this.node.animationState.setActive("exit",!t,{custom:r??this.node.getProps().custom});n&&!t&&o.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const git={animation:{Feature:dit},exit:{Feature:pit}},Kq=(e,t)=>Math.abs(e-t);function mit(e,t){const n=Kq(e.x,t.x),r=Kq(e.y,t.y);return Math.sqrt(n**2+r**2)}class fde{constructor(t,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=E4(this.lastMoveEventInfo,this.history),d=this.startEvent!==null,h=mit(f.offset,{x:0,y:0})>=3;if(!d&&!h)return;const{point:p}=f,{timestamp:g}=Kr;this.history.push({...p,timestamp:g});const{onStart:m,onMove:y}=this.handlers;d||(m&&m(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,f)},this.handlePointerMove=(f,d)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=S4(d,this.transformPagePoint),tn.update(this.updatePoint,!0)},this.handlePointerUp=(f,d)=>{this.end();const{onEnd:h,onSessionEnd:p,resumeAnimation:g}=this.handlers;if(this.dragSnapToOrigin&&g&&g(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=E4(f.type==="pointercancel"?this.lastMoveEventInfo:S4(d,this.transformPagePoint),this.history);this.startEvent&&h&&h(f,m),p&&p(f,m)},!Afe(t))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const s=_A(t),a=S4(s,this.transformPagePoint),{point:l}=a,{timestamp:u}=Kr;this.history=[{...l,timestamp:u}];const{onSessionStart:c}=n;c&&c(t,E4(a,this.history)),this.removeListeners=sf(wu(this.contextWindow,"pointermove",this.handlePointerMove),wu(this.contextWindow,"pointerup",this.handlePointerUp),wu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Du(this.updatePoint)}}function S4(e,t){return t?{point:t(e.point)}:e}function Qq(e,t){return{x:e.x-t.x,y:e.y-t.y}}function E4({point:e},t){return{point:e,delta:Qq(e,dde(t)),offset:Qq(e,yit(t)),velocity:vit(t,.1)}}function yit(e){return e[0]}function dde(e){return e[e.length-1]}function vit(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=dde(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>fh(t)));)n--;if(!r)return{x:0,y:0};const o=Su(i.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const s={x:(i.x-r.x)/o,y:(i.y-r.y)/o};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function Bo(e){return e.max-e.min}function bO(e,t=0,n=.01){return Math.abs(e-t)<=n}function Jq(e,t,n,r=.5){e.origin=r,e.originPoint=Sn(t.min,t.max,e.origin),e.scale=Bo(n)/Bo(t),(bO(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=Sn(n.min,n.max,e.origin)-e.originPoint,(bO(e.translate)||isNaN(e.translate))&&(e.translate=0)}function mv(e,t,n,r){Jq(e.x,t.x,n.x,r?r.originX:void 0),Jq(e.y,t.y,n.y,r?r.originY:void 0)}function Zq(e,t,n){e.min=n.min+t.min,e.max=e.min+Bo(t)}function bit(e,t,n){Zq(e.x,t.x,n.x),Zq(e.y,t.y,n.y)}function eG(e,t,n){e.min=t.min-n.min,e.max=e.min+Bo(t)}function yv(e,t,n){eG(e.x,t.x,n.x),eG(e.y,t.y,n.y)}function xit(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?Sn(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?Sn(n,e,r.max):Math.min(e,n)),e}function tG(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function wit(e,{top:t,left:n,bottom:r,right:i}){return{x:tG(e.x,n,i),y:tG(e.y,t,r)}}function nG(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function Sit(e,t){return{x:nG(e.x,t.x),y:nG(e.y,t.y)}}function Eit(e,t){let n=.5;const r=Bo(e),i=Bo(t);return i>r?n=kb(t.min,t.max-r,e.min):r>i&&(n=kb(e.min,e.max-i,t.min)),$f(0,1,n)}function Cit(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const xO=.35;function kit(e=xO){return e===!1?e=0:e===!0&&(e=xO),{x:rG(e,"left","right"),y:rG(e,"top","bottom")}}function rG(e,t,n){return{min:iG(e,t),max:iG(e,n)}}function iG(e,t){return typeof e=="number"?e:e[t]||0}const oG=()=>({translate:0,scale:1,origin:0,originPoint:0}),_g=()=>({x:oG(),y:oG()}),sG=()=>({min:0,max:0}),Wn=()=>({x:sG(),y:sG()});function es(e){return[e("x"),e("y")]}function hde({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function _it({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function $it(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function C4(e){return e===void 0||e===1}function wO({scale:e,scaleX:t,scaleY:n}){return!C4(e)||!C4(t)||!C4(n)}function xd(e){return wO(e)||pde(e)||e.z||e.rotate||e.rotateX||e.rotateY}function pde(e){return aG(e.x)||aG(e.y)}function aG(e){return e&&e!=="0%"}function vk(e,t,n){const r=e-n,i=t*r;return n+i}function lG(e,t,n,r,i){return i!==void 0&&(e=vk(e,i,r)),vk(e,n,r)+t}function SO(e,t=0,n=1,r,i){e.min=lG(e.min,t,n,r,i),e.max=lG(e.max,t,n,r,i)}function gde(e,{x:t,y:n}){SO(e.x,t.translate,t.scale,t.originPoint),SO(e.y,n.translate,n.scale,n.originPoint)}function Ait(e,t,n,r=!1){const i=n.length;if(!i)return;t.x=t.y=1;let o,s;for(let a=0;a<i;a++){o=n[a],s=o.projectionDelta;const l=o.instance;l&&l.style&&l.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&$g(e,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),s&&(t.x*=s.x.scale,t.y*=s.y.scale,gde(e,s)),r&&xd(o.latestValues)&&$g(e,o.latestValues))}t.x=uG(t.x),t.y=uG(t.y)}function uG(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function Sc(e,t){e.min=e.min+t,e.max=e.max+t}function cG(e,t,[n,r,i]){const o=t[i]!==void 0?t[i]:.5,s=Sn(e.min,e.max,o);SO(e,t[n],t[r],s,t.scale)}const Tit=["x","scaleX","originX"],Fit=["y","scaleY","originY"];function $g(e,t){cG(e.x,t,Tit),cG(e.y,t,Fit)}function mde(e,t){return hde($it(e.getBoundingClientRect(),t))}function Rit(e,t,n){const r=mde(e,n),{scroll:i}=t;return i&&(Sc(r.x,i.offset.x),Sc(r.y,i.offset.y)),r}const yde=({current:e})=>e?e.ownerDocument.defaultView:null,Pit=new WeakMap;class Oit{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Wn(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=c=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(_A(c,"page").point)},o=(c,f)=>{const{drag:d,dragPropagation:h,onDragStart:p}=this.getProps();if(d&&!h&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=Ffe(d),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),es(m=>{let y=this.getAxisMotionValue(m).get()||0;if(gl.test(y)){const{projection:v}=this.visualElement;if(v&&v.layout){const b=v.layout.layoutBox[m];b&&(y=Bo(b)*(parseFloat(y)/100))}}this.originPoint[m]=y}),p&&tn.update(()=>p(c,f),!1,!0);const{animationState:g}=this.visualElement;g&&g.setActive("whileDrag",!0)},s=(c,f)=>{const{dragPropagation:d,dragDirectionLock:h,onDirectionLock:p,onDrag:g}=this.getProps();if(!d&&!this.openGlobalLock)return;const{offset:m}=f;if(h&&this.currentDirection===null){this.currentDirection=Dit(m),this.currentDirection!==null&&p&&p(this.currentDirection);return}this.updateAxis("x",f.point,m),this.updateAxis("y",f.point,m),this.visualElement.render(),g&&g(c,f)},a=(c,f)=>this.stop(c,f),l=()=>es(c=>{var f;return this.getAnimationState(c)==="paused"&&((f=this.getAxisMotionValue(c).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new fde(t,{onSessionStart:i,onStart:o,onMove:s,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:yde(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:o}=this.getProps();o&&tn.update(()=>o(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:i}=this.getProps();if(!r||!L2(t,i,this.currentDirection))return;const o=this.getAxisMotionValue(t);let s=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(s=xit(s,this.constraints[t],this.elastic[t])),o.set(s)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,o=this.constraints;n&&Cg(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=wit(i.layoutBox,n):this.constraints=!1,this.elastic=kit(r),o!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&es(s=>{this.getAxisMotionValue(s)&&(this.constraints[s]=Cit(i.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Cg(t))return!1;const r=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const o=Rit(r,i.root,this.visualElement.getTransformPagePoint());let s=Sit(i.layout.layoutBox,o);if(n){const a=n(_it(s));this.hasMutatedConstraints=!!a,a&&(s=hde(a))}return s}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:o,dragSnapToOrigin:s,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=es(c=>{if(!L2(c,n,this.currentDirection))return;let f=l&&l[c]||{};s&&(f={min:0,max:0});const d=i?200:1e6,h=i?40:1e7,p={type:"inertia",velocity:r?t[c]:0,bounceStiffness:d,bounceDamping:h,timeConstant:750,restDelta:1,restSpeed:10,...o,...f};return this.startAxisValueAnimation(c,p)});return Promise.all(u).then(a)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return r.start(m9(t,r,0,n))}stopAnimation(){es(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){es(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n="_drag"+t.toUpperCase(),r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){es(n=>{const{drag:r}=this.getProps();if(!L2(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,o=this.getAxisMotionValue(n);if(i&&i.layout){const{min:s,max:a}=i.layout.layoutBox[n];o.set(t[n]-Sn(s,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Cg(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};es(s=>{const a=this.getAxisMotionValue(s);if(a){const l=a.get();i[s]=Eit({min:l,max:l},this.constraints[s])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),es(s=>{if(!L2(s,t,null))return;const a=this.getAxisMotionValue(s),{min:l,max:u}=this.constraints[s];a.set(Sn(l,u,i[s]))})}addListeners(){if(!this.visualElement.current)return;Pit.set(this.visualElement,this);const t=this.visualElement.current,n=wu(t,"pointerdown",l=>{const{drag:u,dragListener:c=!0}=this.getProps();u&&c&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Cg(l)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,o=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),r();const s=cu(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(es(c=>{const f=this.getAxisMotionValue(c);f&&(this.originPoint[c]+=l[c].translate,f.set(f.get()+l[c].translate))}),this.visualElement.render())});return()=>{s(),n(),o(),a&&a()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:o=!1,dragElastic:s=xO,dragMomentum:a=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:o,dragElastic:s,dragMomentum:a}}}function L2(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function Dit(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class Mit extends Xf{constructor(t){super(t),this.removeGroupControls=In,this.removeListeners=In,this.controls=new Oit(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||In}unmount(){this.removeGroupControls(),this.removeListeners()}}const fG=e=>(t,n)=>{e&&tn.update(()=>e(t,n))};class Nit extends Xf{constructor(){super(...arguments),this.removePointerDownListener=In}onPointerDown(t){this.session=new fde(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:yde(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:fG(t),onStart:fG(n),onMove:r,onEnd:(o,s)=>{delete this.session,i&&tn.update(()=>i(o,s))}}}mount(){this.removePointerDownListener=wu(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function Lit(){const e=M.useContext(jx);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:r}=e,i=M.useId();return M.useEffect(()=>r(i),[]),!t&&n?[!1,()=>n&&n(i)]:[!0]}function Iit(){return zit(M.useContext(jx))}function zit(e){return e===null?!0:e.isPresent}const WS={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function dG(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Gy={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Ve.test(e))e=parseFloat(e);else return e;const n=dG(e,t.target.x),r=dG(e,t.target.y);return`${n}% ${r}%`}},jit={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,i=Af.parse(e);if(i.length>5)return r;const o=Af.createTransformer(e),s=typeof i[0]!="number"?1:0,a=n.x.scale*t.x,l=n.y.scale*t.y;i[0+s]/=a,i[1+s]/=l;const u=Sn(a,l,.5);return typeof i[2+s]=="number"&&(i[2+s]/=u),typeof i[3+s]=="number"&&(i[3+s]/=u),o(i)}};class Bit extends um.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:o}=t;Gtt(Uit),o&&(n.group&&n.group.add(o),r&&r.register&&i&&r.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),WS.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:i,isPresent:o}=this.props,s=r.projection;return s&&(s.isPresent=o,i||t.layoutDependency!==n||n===void 0?s.willUpdate():this.safeToRemove(),t.isPresent!==o&&(o?s.promote():s.relegate()||tn.postRender(()=>{const a=s.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=t;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function vde(e){const[t,n]=Lit(),r=M.useContext(r9);return um.createElement(Bit,{...e,layoutGroup:r,switchLayoutGroup:M.useContext(hfe),isPresent:t,safeToRemove:n})}const Uit={borderRadius:{...Gy,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Gy,borderTopRightRadius:Gy,borderBottomLeftRadius:Gy,borderBottomRightRadius:Gy,boxShadow:jit},bde=["TopLeft","TopRight","BottomLeft","BottomRight"],Vit=bde.length,hG=e=>typeof e=="string"?parseFloat(e):e,pG=e=>typeof e=="number"||Ve.test(e);function Wit(e,t,n,r,i,o){i?(e.opacity=Sn(0,n.opacity!==void 0?n.opacity:1,Hit(r)),e.opacityExit=Sn(t.opacity!==void 0?t.opacity:1,0,qit(r))):o&&(e.opacity=Sn(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let s=0;s<Vit;s++){const a=`border${bde[s]}Radius`;let l=gG(t,a),u=gG(n,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||pG(l)===pG(u)?(e[a]=Math.max(Sn(hG(l),hG(u),r),0),(gl.test(u)||gl.test(l))&&(e[a]+="%")):e[a]=u}(t.rotate||n.rotate)&&(e.rotate=Sn(t.rotate||0,n.rotate||0,r))}function gG(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const Hit=xde(0,.5,Ufe),qit=xde(.5,.95,In);function xde(e,t,n){return r=>r<e?0:r>t?1:n(kb(e,t,r))}function mG(e,t){e.min=t.min,e.max=t.max}function Jo(e,t){mG(e.x,t.x),mG(e.y,t.y)}function yG(e,t,n,r,i){return e-=t,e=vk(e,1/n,r),i!==void 0&&(e=vk(e,1/i,r)),e}function Git(e,t=0,n=1,r=.5,i,o=e,s=e){if(gl.test(t)&&(t=parseFloat(t),t=Sn(s.min,s.max,t/100)-s.min),typeof t!="number")return;let a=Sn(o.min,o.max,r);e===o&&(a-=t),e.min=yG(e.min,t,n,a,i),e.max=yG(e.max,t,n,a,i)}function vG(e,t,[n,r,i],o,s){Git(e,t[n],t[r],t[i],t.scale,o,s)}const Xit=["x","scaleX","originX"],Yit=["y","scaleY","originY"];function bG(e,t,n,r){vG(e.x,t,Xit,n?n.x:void 0,r?r.x:void 0),vG(e.y,t,Yit,n?n.y:void 0,r?r.y:void 0)}function xG(e){return e.translate===0&&e.scale===1}function wde(e){return xG(e.x)&&xG(e.y)}function Kit(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function Sde(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function wG(e){return Bo(e.x)/Bo(e.y)}class Qit{constructor(){this.members=[]}add(t){y9(this.members,t),t.scheduleRender()}remove(t){if(v9(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(i=>t===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const o=this.members[i];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function SG(e,t,n){let r="";const i=e.x.translate/t.x,o=e.y.translate/t.y;if((i||o)&&(r=`translate3d(${i}px, ${o}px, 0) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{rotate:l,rotateX:u,rotateY:c}=n;l&&(r+=`rotate(${l}deg) `),u&&(r+=`rotateX(${u}deg) `),c&&(r+=`rotateY(${c}deg) `)}const s=e.x.scale*t.x,a=e.y.scale*t.y;return(s!==1||a!==1)&&(r+=`scale(${s}, ${a})`),r||"none"}const Jit=(e,t)=>e.depth-t.depth;class Zit{constructor(){this.children=[],this.isDirty=!1}add(t){y9(this.children,t),this.isDirty=!0}remove(t){v9(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(Jit),this.isDirty=!1,this.children.forEach(t)}}function eot(e,t){const n=performance.now(),r=({timestamp:i})=>{const o=i-n;o>=t&&(Du(r),e(o-t))};return tn.read(r,!0),()=>Du(r)}function tot(e){window.MotionDebug&&window.MotionDebug.record(e)}function not(e){return e instanceof SVGElement&&e.tagName!=="svg"}function rot(e,t,n){const r=po(e)?e:a0(e);return r.start(m9("",r,t,n)),r.animation}const EG=["","X","Y","Z"],iot={visibility:"hidden"},CG=1e3;let oot=0;const wd={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function Ede({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(s={},a=t==null?void 0:t()){this.id=oot++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,wd.totalNodes=wd.resolvedTargetDeltas=wd.recalculatedProjection=0,this.nodes.forEach(lot),this.nodes.forEach(hot),this.nodes.forEach(pot),this.nodes.forEach(uot),tot(wd)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new Zit)}addEventListener(s,a){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new b9),this.eventHandlers.get(s).add(a)}notifyListeners(s,...a){const l=this.eventHandlers.get(s);l&&l.notify(...a)}hasListeners(s){return this.eventHandlers.has(s)}mount(s,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=not(s),this.instance=s;const{layoutId:l,layout:u,visualElement:c}=this.options;if(c&&!c.current&&c.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(u||l)&&(this.isLayoutDirty=!0),e){let f;const d=()=>this.root.updateBlockedByResize=!1;e(s,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=eot(d,250),WS.hasAnimatedSinceResize&&(WS.hasAnimatedSinceResize=!1,this.nodes.forEach(_G))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&c&&(l||u)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:d,hasRelativeTargetChanged:h,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||c.getDefaultTransition()||bot,{onLayoutAnimationStart:m,onLayoutAnimationComplete:y}=c.getProps(),v=!this.targetLayout||!Sde(this.targetLayout,p)||h,b=!d&&h;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||b||d&&(v||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,b);const x={...g9(g,"layout"),onPlay:m,onComplete:y};(c.shouldReduceMotion||this.options.layoutRoot)&&(x.delay=0,x.type=!1),this.startAnimation(x)}else d||_G(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Du(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(got),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let c=0;c<this.path.length;c++){const f=this.path[c];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(kG);return}this.isUpdating||this.nodes.forEach(fot),this.isUpdating=!1,this.nodes.forEach(dot),this.nodes.forEach(sot),this.nodes.forEach(aot),this.clearAllSnapshots();const a=performance.now();Kr.delta=$f(0,1e3/60,a-Kr.timestamp),Kr.timestamp=a,Kr.isProcessing=!0,p4.update.process(Kr),p4.preRender.process(Kr),p4.render.process(Kr),Kr.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(cot),this.sharedNodes.forEach(mot)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,tn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){tn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Wn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:s,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!i)return;const s=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!wde(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,c=u!==this.prevTransformTemplateValue;s&&(a||xd(this.latestValues)||c)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return s&&(l=this.removeTransform(l)),xot(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:s}=this.options;if(!s)return Wn();const a=s.measureViewportBox(),{scroll:l}=this.root;return l&&(Sc(a.x,l.offset.x),Sc(a.y,l.offset.y)),a}removeElementScroll(s){const a=Wn();Jo(a,s);for(let l=0;l<this.path.length;l++){const u=this.path[l],{scroll:c,options:f}=u;if(u!==this.root&&c&&f.layoutScroll){if(c.isRoot){Jo(a,s);const{scroll:d}=this.root;d&&(Sc(a.x,-d.offset.x),Sc(a.y,-d.offset.y))}Sc(a.x,c.offset.x),Sc(a.y,c.offset.y)}}return a}applyTransform(s,a=!1){const l=Wn();Jo(l,s);for(let u=0;u<this.path.length;u++){const c=this.path[u];!a&&c.options.layoutScroll&&c.scroll&&c!==c.root&&$g(l,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),xd(c.latestValues)&&$g(l,c.latestValues)}return xd(this.latestValues)&&$g(l,this.latestValues),l}removeTransform(s){const a=Wn();Jo(a,s);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!xd(u.latestValues))continue;wO(u.latestValues)&&u.updateSnapshot();const c=Wn(),f=u.measurePageBox();Jo(c,f),bG(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,c)}return xd(this.latestValues)&&bG(a,this.latestValues),a}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Kr.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(s||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:f,layoutId:d}=this.options;if(!(!this.layout||!(f||d))){if(this.resolvedRelativeTargetAt=Kr.timestamp,!this.targetDelta&&!this.relativeTarget){const h=this.getClosestProjectingParent();h&&h.layout&&this.animationProgress!==1?(this.relativeParent=h,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Wn(),this.relativeTargetOrigin=Wn(),yv(this.relativeTargetOrigin,this.layout.layoutBox,h.layout.layoutBox),Jo(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Wn(),this.targetWithTransforms=Wn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),bit(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Jo(this.target,this.layout.layoutBox),gde(this.target,this.targetDelta)):Jo(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const h=this.getClosestProjectingParent();h&&!!h.resumingFrom==!!this.resumingFrom&&!h.options.layoutScroll&&h.target&&this.animationProgress!==1?(this.relativeParent=h,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Wn(),this.relativeTargetOrigin=Wn(),yv(this.relativeTargetOrigin,this.target,h.target),Jo(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}wd.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||wO(this.parent.latestValues)||pde(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var s;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||!((s=this.parent)===null||s===void 0)&&s.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Kr.timestamp&&(u=!1),u)return;const{layout:c,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||f))return;Jo(this.layoutCorrected,this.layout.layoutBox);const d=this.treeScale.x,h=this.treeScale.y;Ait(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox);const{target:p}=a;if(!p){this.projectionTransform&&(this.projectionDelta=_g(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=_g(),this.projectionDeltaWithTransform=_g());const g=this.projectionTransform;mv(this.projectionDelta,this.layoutCorrected,p,this.latestValues),this.projectionTransform=SG(this.projectionDelta,this.treeScale),(this.projectionTransform!==g||this.treeScale.x!==d||this.treeScale.y!==h)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p)),wd.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),s){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(s,a=!1){const l=this.snapshot,u=l?l.latestValues:{},c={...this.latestValues},f=_g();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const d=Wn(),h=l?l.source:void 0,p=this.layout?this.layout.source:void 0,g=h!==p,m=this.getStack(),y=!m||m.members.length<=1,v=!!(g&&!y&&this.options.crossfade===!0&&!this.path.some(vot));this.animationProgress=0;let b;this.mixTargetDelta=x=>{const w=x/1e3;$G(f.x,s.x,w),$G(f.y,s.y,w),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(yv(d,this.layout.layoutBox,this.relativeParent.layout.layoutBox),yot(this.relativeTarget,this.relativeTargetOrigin,d,w),b&&Kit(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=Wn()),Jo(b,this.relativeTarget)),g&&(this.animationValues=c,Wit(c,u,this.latestValues,w,v,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=w},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Du(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=tn.update(()=>{WS.hasAnimatedSinceResize=!0,this.currentAnimation=rot(0,CG,{...s,onUpdate:a=>{this.mixTargetDelta(a),s.onUpdate&&s.onUpdate(a)},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(CG),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:c}=s;if(!(!a||!l||!u)){if(this!==s&&this.layout&&u&&Cde(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||Wn();const f=Bo(this.layout.layoutBox.x);l.x.min=s.target.x.min,l.x.max=l.x.min+f;const d=Bo(this.layout.layoutBox.y);l.y.min=s.target.y.min,l.y.max=l.y.min+d}Jo(a,l),$g(a,c),mv(this.projectionDeltaWithTransform,this.layoutCorrected,a,c)}}registerSharedNode(s,a){this.sharedNodes.has(s)||this.sharedNodes.set(s,new Qit),this.sharedNodes.get(s).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){var s;const{layoutId:a}=this.options;return a?((s=this.getStack())===null||s===void 0?void 0:s.lead)||this:this}getPrevLead(){var s;const{layoutId:a}=this.options;return a?(s=this.getStack())===null||s===void 0?void 0:s.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),s&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetRotation(){const{visualElement:s}=this.options;if(!s)return;let a=!1;const{latestValues:l}=s;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(a=!0),!a)return;const u={};for(let c=0;c<EG.length;c++){const f="rotate"+EG[c];l[f]&&(u[f]=l[f],s.setStaticValue(f,0))}s.render();for(const c in u)s.setStaticValue(c,u[c]);s.scheduleRender()}getProjectionStyles(s){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return iot;const u={visibility:""},c=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=VS(s==null?void 0:s.pointerEvents)||"",u.transform=c?c(this.latestValues,""):"none",u;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const g={};return this.options.layoutId&&(g.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,g.pointerEvents=VS(s==null?void 0:s.pointerEvents)||""),this.hasProjected&&!xd(this.latestValues)&&(g.transform=c?c({},""):"none",this.hasProjected=!1),g}const d=f.animationValues||f.latestValues;this.applyTransformsToTarget(),u.transform=SG(this.projectionDeltaWithTransform,this.treeScale,d),c&&(u.transform=c(d,u.transform));const{x:h,y:p}=this.projectionDelta;u.transformOrigin=`${h.origin*100}% ${p.origin*100}% 0`,f.animationValues?u.opacity=f===this?(l=(a=d.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:u.opacity=f===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const g in ck){if(d[g]===void 0)continue;const{correct:m,applyTo:y}=ck[g],v=u.transform==="none"?d[g]:m(d[g],f);if(y){const b=y.length;for(let x=0;x<b;x++)u[y[x]]=v}else u[g]=v}return this.options.layoutId&&(u.pointerEvents=f===this?VS(s==null?void 0:s.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>{var a;return(a=s.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(kG),this.root.sharedNodes.clear()}}}function sot(e){e.updateLayout()}function aot(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=e.layout,{animationType:o}=e.options,s=n.source!==e.layout.source;o==="size"?es(f=>{const d=s?n.measuredBox[f]:n.layoutBox[f],h=Bo(d);d.min=r[f].min,d.max=d.min+h}):Cde(o,n.layoutBox,r)&&es(f=>{const d=s?n.measuredBox[f]:n.layoutBox[f],h=Bo(r[f]);d.max=d.min+h,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+h)});const a=_g();mv(a,r,n.layoutBox);const l=_g();s?mv(l,e.applyTransform(i,!0),n.measuredBox):mv(l,r,n.layoutBox);const u=!wde(a);let c=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:d,layout:h}=f;if(d&&h){const p=Wn();yv(p,n.layoutBox,d.layoutBox);const g=Wn();yv(g,r,h.layoutBox),Sde(p,g)||(c=!0),f.options.layoutRoot&&(e.relativeTarget=g,e.relativeTargetOrigin=p,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeTargetChanged:c})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function lot(e){wd.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function uot(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function cot(e){e.clearSnapshot()}function kG(e){e.clearMeasurements()}function fot(e){e.isLayoutDirty=!1}function dot(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function _G(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function hot(e){e.resolveTargetDelta()}function pot(e){e.calcProjection()}function got(e){e.resetRotation()}function mot(e){e.removeLeadSnapshot()}function $G(e,t,n){e.translate=Sn(t.translate,0,n),e.scale=Sn(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function AG(e,t,n,r){e.min=Sn(t.min,n.min,r),e.max=Sn(t.max,n.max,r)}function yot(e,t,n,r){AG(e.x,t.x,n.x,r),AG(e.y,t.y,n.y,r)}function vot(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const bot={duration:.45,ease:[.4,0,.1,1]},TG=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),FG=TG("applewebkit/")&&!TG("chrome/")?Math.round:In;function RG(e){e.min=FG(e.min),e.max=FG(e.max)}function xot(e){RG(e.x),RG(e.y)}function Cde(e,t,n){return e==="position"||e==="preserve-aspect"&&!bO(wG(t),wG(n),.2)}const wot=Ede({attachResizeListener:(e,t)=>cu(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),k4={current:void 0},kde=Ede({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!k4.current){const e=new wot({});e.mount(window),e.setOptions({layoutScroll:!0}),k4.current=e}return k4.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),Sot={pan:{Feature:Nit},drag:{Feature:Mit,ProjectionNode:kde,MeasureLayout:vde}},Eot=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function Cot(e){const t=Eot.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]}function EO(e,t,n=1){const[r,i]=Cot(e);if(!r)return;const o=window.getComputedStyle(t).getPropertyValue(r);if(o){const s=o.trim();return ade(s)?parseFloat(s):s}else return dO(i)?EO(i,t,n+1):i}function kot(e,{...t},n){const r=e.current;if(!(r instanceof Element))return{target:t,transitionEnd:n};n&&(n={...n}),e.values.forEach(i=>{const o=i.get();if(!dO(o))return;const s=EO(o,r);s&&i.set(s)});for(const i in t){const o=t[i];if(!dO(o))continue;const s=EO(o,r);s&&(t[i]=s,n||(n={}),n[i]===void 0&&(n[i]=o))}return{target:t,transitionEnd:n}}const _ot=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),_de=e=>_ot.has(e),$ot=e=>Object.keys(e).some(_de),PG=e=>e===mp||e===Ve,OG=(e,t)=>parseFloat(e.split(", ")[t]),DG=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/);if(i)return OG(i[1],t);{const o=r.match(/^matrix\((.+)\)$/);return o?OG(o[1],e):0}},Aot=new Set(["x","y","z"]),Tot=Bx.filter(e=>!Aot.has(e));function Fot(e){const t=[];return Tot.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t.length&&e.render(),t}const l0={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:DG(4,13),y:DG(5,14)};l0.translateX=l0.x;l0.translateY=l0.y;const Rot=(e,t,n)=>{const r=t.measureViewportBox(),i=t.current,o=getComputedStyle(i),{display:s}=o,a={};s==="none"&&t.setStaticValue("display",e.display||"block"),n.forEach(u=>{a[u]=l0[u](r,o)}),t.render();const l=t.measureViewportBox();return n.forEach(u=>{const c=t.getValue(u);c&&c.jump(a[u]),e[u]=l0[u](l,o)}),e},Pot=(e,t,n={},r={})=>{t={...t},r={...r};const i=Object.keys(t).filter(_de);let o=[],s=!1;const a=[];if(i.forEach(l=>{const u=e.getValue(l);if(!e.hasValue(l))return;let c=n[l],f=qy(c);const d=t[l];let h;if(dk(d)){const p=d.length,g=d[0]===null?1:0;c=d[g],f=qy(c);for(let m=g;m<p&&d[m]!==null;m++)h?hk(qy(d[m])===h):h=qy(d[m])}else h=qy(d);if(f!==h)if(PG(f)&&PG(h)){const p=u.get();typeof p=="string"&&u.set(parseFloat(p)),typeof d=="string"?t[l]=parseFloat(d):Array.isArray(d)&&h===Ve&&(t[l]=d.map(parseFloat))}else f!=null&&f.transform&&(h!=null&&h.transform)&&(c===0||d===0)?c===0?u.set(h.transform(c)):t[l]=f.transform(d):(s||(o=Fot(e),s=!0),a.push(l),r[l]=r[l]!==void 0?r[l]:t[l],u.jump(d))}),a.length){const l=a.indexOf("height")>=0?window.pageYOffset:null,u=Rot(t,e,a);return o.length&&o.forEach(([c,f])=>{e.getValue(c).set(f)}),e.render(),SA&&l!==null&&window.scrollTo({top:l}),{target:u,transitionEnd:r}}else return{target:t,transitionEnd:r}};function Oot(e,t,n,r){return $ot(t)?Pot(e,t,n,r):{target:t,transitionEnd:r}}const Dot=(e,t,n,r)=>{const i=kot(e,t,r);return t=i.target,r=i.transitionEnd,Oot(e,t,n,r)},CO={current:null},$de={current:!1};function Mot(){if($de.current=!0,!!SA)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>CO.current=e.matches;e.addListener(t),t()}else CO.current=!1}function Not(e,t,n){const{willChange:r}=t;for(const i in t){const o=t[i],s=n[i];if(po(o))e.addValue(i,o),yk(r)&&r.add(i);else if(po(s))e.addValue(i,a0(o,{owner:e})),yk(r)&&r.remove(i);else if(s!==o)if(e.hasValue(i)){const a=e.getValue(i);!a.hasAnimated&&a.set(o)}else{const a=e.getStaticValue(i);e.addValue(i,a0(a!==void 0?a:o,{owner:e}))}}for(const i in n)t[i]===void 0&&e.removeValue(i);return t}const MG=new WeakMap,Ade=Object.keys(Cb),Lot=Ade.length,NG=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],Iot=n9.length;class zot{constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:i,visualState:o},s={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>tn.render(this.render,!1,!0);const{latestValues:a,renderState:l}=o;this.latestValues=a,this.baseTarget={...a},this.initialValues=n.initial?{...a}:{},this.renderState=l,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=s,this.isControllingVariants=CA(n),this.isVariantNode=dfe(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...c}=this.scrapeMotionValuesFromProps(n,{});for(const f in c){const d=c[f];a[f]!==void 0&&po(d)&&(d.set(a[f],!1),yk(u)&&u.add(f))}}scrapeMotionValuesFromProps(t,n){return{}}mount(t){this.current=t,MG.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),$de.current||Mot(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:CO.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){MG.delete(this.current),this.projection&&this.projection.unmount(),Du(this.notifyUpdate),Du(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,n){const r=gp.has(t),i=n.on("change",s=>{this.latestValues[t]=s,this.props.onUpdate&&tn.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),o=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{i(),o()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...n},r,i,o){let s,a;for(let l=0;l<Lot;l++){const u=Ade[l],{isEnabled:c,Feature:f,ProjectionNode:d,MeasureLayout:h}=Cb[u];d&&(s=d),c(n)&&(!this.features[u]&&f&&(this.features[u]=new f(this)),h&&(a=h))}if((this.type==="html"||this.type==="svg")&&!this.projection&&s){this.projection=new s(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:u,drag:c,dragConstraints:f,layoutScroll:d,layoutRoot:h}=n;this.projection.setOptions({layoutId:l,layout:u,alwaysMeasureLayout:!!c||f&&Cg(f),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:o,layoutScroll:d,layoutRoot:h})}return a}updateFeatures(){for(const t in this.features){const n=this.features[t];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Wn()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}makeTargetAnimatable(t,n=!0){return this.makeTargetAnimatableFromInstance(t,this.props,n)}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<NG.length;r++){const i=NG[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const o=t["on"+i];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=Not(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<Iot;r++){const i=n9[r],o=this.props[i];(Eb(o)||o===!1)&&(n[i]=o)}return n}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){n!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,n)),this.values.set(t,n),this.latestValues[t]=n.get()}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=a0(n,{owner:this}),this.addValue(t,r)),r}readValue(t){var n;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props,i=typeof r=="string"||typeof r=="object"?(n=c9(this.props,r))===null||n===void 0?void 0:n[t]:void 0;if(r&&i!==void 0)return i;const o=this.getBaseTargetFromProps(this.props,t);return o!==void 0&&!po(o)?o:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new b9),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class Tde extends zot{sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:n,...r},{transformValues:i},o){let s=eit(r,t||{},this);if(i&&(n&&(n=i(n)),r&&(r=i(r)),s&&(s=i(s))),o){Jrt(this,r,s);const a=Dot(this,r,s,n);n=a.transitionEnd,r=a.target}return{transition:t,transitionEnd:n,...r}}}function jot(e){return window.getComputedStyle(e)}class Bot extends Tde{constructor(){super(...arguments),this.type="html"}readValueFromInstance(t,n){if(gp.has(n)){const r=p9(n);return r&&r.default||0}else{const r=jot(t),i=(mfe(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:n}){return mde(t,n)}build(t,n,r,i){o9(t,n,r,i.transformTemplate)}scrapeMotionValuesFromProps(t,n){return u9(t,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;po(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(t,n,r,i){Sfe(t,n,r,i)}}class Uot extends Tde{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(gp.has(n)){const r=p9(n);return r&&r.default||0}return n=Efe.has(n)?n:e9(n),t.getAttribute(n)}measureInstanceViewportBox(){return Wn()}scrapeMotionValuesFromProps(t,n){return kfe(t,n)}build(t,n,r,i){a9(t,n,r,this.isSVGTag,i.transformTemplate)}renderInstance(t,n,r,i){Cfe(t,n,r,i)}mount(t){this.isSVGTag=l9(t.tagName),super.mount(t)}}const Vot=(e,t)=>i9(e)?new Uot(t,{enableHardwareAcceleration:!1}):new Bot(t,{enableHardwareAcceleration:!0}),Wot={layout:{ProjectionNode:kde,MeasureLayout:vde}},Hot={...git,...Nnt,...Sot,...Wot},Fde=Htt((e,t)=>Ent(e,t,Hot,Vot));function Rde(){const e=M.useRef(!1);return Z8(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function qot(){const e=Rde(),[t,n]=M.useState(0),r=M.useCallback(()=>{e.current&&n(t+1)},[t]);return[M.useCallback(()=>tn.postRender(r),[r]),t]}class Got extends M.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function Xot({children:e,isPresent:t}){const n=M.useId(),r=M.useRef(null),i=M.useRef({width:0,height:0,top:0,left:0});return M.useInsertionEffect(()=>{const{width:o,height:s,top:a,left:l}=i.current;if(t||!r.current||!o||!s)return;r.current.dataset.motionPopId=n;const u=document.createElement("style");return document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${s}px !important;
            top: ${a}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[t]),M.createElement(Got,{isPresent:t,childRef:r,sizeRef:i},M.cloneElement(e,{ref:r}))}const _4=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:o,mode:s})=>{const a=_fe(Yot),l=M.useId(),u=M.useMemo(()=>({id:l,initial:t,isPresent:n,custom:i,onExitComplete:c=>{a.set(c,!0);for(const f of a.values())if(!f)return;r&&r()},register:c=>(a.set(c,!1),()=>a.delete(c))}),o?void 0:[n]);return M.useMemo(()=>{a.forEach((c,f)=>a.set(f,!1))},[n]),M.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),s==="popLayout"&&(e=M.createElement(Xot,{isPresent:n},e)),M.createElement(jx.Provider,{value:u},e)};function Yot(){return new Map}function Kot(e){return M.useEffect(()=>()=>e(),[])}const Sd=e=>e.key||"";function Qot(e,t){e.forEach(n=>{const r=Sd(n);t.set(r,n)})}function Jot(e){const t=[];return M.Children.forEach(e,n=>{M.isValidElement(n)&&t.push(n)}),t}const Zot=({children:e,custom:t,initial:n=!0,onExitComplete:r,exitBeforeEnter:i,presenceAffectsLayout:o=!0,mode:s="sync"})=>{const a=M.useContext(r9).forceRender||qot()[0],l=Rde(),u=Jot(e);let c=u;const f=M.useRef(new Map).current,d=M.useRef(c),h=M.useRef(new Map).current,p=M.useRef(!0);if(Z8(()=>{p.current=!1,Qot(u,h),d.current=c}),Kot(()=>{p.current=!0,h.clear(),f.clear()}),p.current)return M.createElement(M.Fragment,null,c.map(v=>M.createElement(_4,{key:Sd(v),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:o,mode:s},v)));c=[...c];const g=d.current.map(Sd),m=u.map(Sd),y=g.length;for(let v=0;v<y;v++){const b=g[v];m.indexOf(b)===-1&&!f.has(b)&&f.set(b,void 0)}return s==="wait"&&f.size&&(c=[]),f.forEach((v,b)=>{if(m.indexOf(b)!==-1)return;const x=h.get(b);if(!x)return;const w=g.indexOf(b);let C=v;if(!C){const S=()=>{f.delete(b);const k=Array.from(h.keys()).filter($=>!m.includes($));if(k.forEach($=>h.delete($)),d.current=u.filter($=>{const R=Sd($);return R===b||k.includes(R)}),!f.size){if(l.current===!1)return;a(),r&&r()}};C=M.createElement(_4,{key:Sd(x),isPresent:!1,onExitComplete:S,custom:t,presenceAffectsLayout:o,mode:s},x),f.set(b,C)}c.splice(w,0,C)}),c=c.map(v=>{const b=v.key;return f.has(b)?v:M.createElement(_4,{key:Sd(v),isPresent:!0,presenceAffectsLayout:o,mode:s},v)}),M.createElement(M.Fragment,null,f.size?c:c.map(v=>M.cloneElement(v)))};var est={initial:e=>{const{position:t}=e,n=["top","bottom"].includes(t)?"y":"x";let r=["top-right","bottom-right"].includes(t)?1:-1;return t==="bottom"&&(r=1),{opacity:0,[n]:r*24}},animate:{opacity:1,y:0,x:0,scale:1,transition:{duration:.4,ease:[.4,0,.2,1]}},exit:{opacity:0,scale:.85,transition:{duration:.2,ease:[.4,0,1,1]}}},Pde=M.memo(e=>{const{id:t,message:n,onCloseComplete:r,onRequestRemove:i,requestClose:o=!1,position:s="bottom",duration:a=5e3,containerStyle:l,motionVariants:u=est,toastSpacing:c="0.5rem"}=e,[f,d]=M.useState(a),h=Iit();Pq(()=>{h||r==null||r()},[h]),Pq(()=>{d(a)},[a]);const p=()=>d(null),g=()=>d(a),m=()=>{h&&i()};M.useEffect(()=>{h&&o&&i()},[h,o,i]),Mtt(m,f);const y=M.useMemo(()=>({pointerEvents:"auto",maxWidth:560,minWidth:300,margin:c,...l}),[l,c]),v=M.useMemo(()=>Ott(s),[s]);return F.jsx(Fde.div,{layout:!0,className:"chakra-toast",variants:u,initial:"initial",animate:"animate",exit:"exit",onHoverStart:p,onHoverEnd:g,custom:{position:s},style:v,children:F.jsx(We.div,{role:"status","aria-atomic":"true",className:"chakra-toast__inner",__css:y,children:rl(n,{id:t,onClose:m})})})});Pde.displayName="ToastComponent";function tst(e,t){var n;const r=e??"bottom",o={"top-start":{ltr:"top-left",rtl:"top-right"},"top-end":{ltr:"top-right",rtl:"top-left"},"bottom-start":{ltr:"bottom-left",rtl:"bottom-right"},"bottom-end":{ltr:"bottom-right",rtl:"bottom-left"}}[r];return(n=o==null?void 0:o[t])!=null?n:r}var LG={path:F.jsxs("g",{stroke:"currentColor",strokeWidth:"1.5",children:[F.jsx("path",{strokeLinecap:"round",fill:"none",d:"M9,9a3,3,0,1,1,4,2.829,1.5,1.5,0,0,0-1,1.415V14.25"}),F.jsx("path",{fill:"currentColor",strokeLinecap:"round",d:"M12,17.25a.375.375,0,1,0,.375.375A.375.375,0,0,0,12,17.25h0"}),F.jsx("circle",{fill:"none",strokeMiterlimit:"10",cx:"12",cy:"12",r:"11.25"})]}),viewBox:"0 0 24 24"},zt=Je((e,t)=>{const{as:n,viewBox:r,color:i="currentColor",focusable:o=!1,children:s,className:a,__css:l,...u}=e,c=Ut("chakra-icon",a),f=Hu("Icon",e),d={w:"1em",h:"1em",display:"inline-block",lineHeight:"1em",flexShrink:0,color:i,...l,...f},h={ref:t,focusable:o,className:c,__css:d},p=r??LG.viewBox;if(n&&typeof n!="string")return F.jsx(We.svg,{as:n,...h,...u});const g=s??LG.path;return F.jsx(We.svg,{verticalAlign:"middle",viewBox:p,...h,...u,children:g})});zt.displayName="Icon";function nst(e){return F.jsx(zt,{viewBox:"0 0 24 24",...e,children:F.jsx("path",{fill:"currentColor",d:"M12,0A12,12,0,1,0,24,12,12.014,12.014,0,0,0,12,0Zm6.927,8.2-6.845,9.289a1.011,1.011,0,0,1-1.43.188L5.764,13.769a1,1,0,1,1,1.25-1.562l4.076,3.261,6.227-8.451A1,1,0,1,1,18.927,8.2Z"})})}function rst(e){return F.jsx(zt,{viewBox:"0 0 24 24",...e,children:F.jsx("path",{fill:"currentColor",d:"M12,0A12,12,0,1,0,24,12,12.013,12.013,0,0,0,12,0Zm.25,5a1.5,1.5,0,1,1-1.5,1.5A1.5,1.5,0,0,1,12.25,5ZM14.5,18.5h-4a1,1,0,0,1,0-2h.75a.25.25,0,0,0,.25-.25v-4.5a.25.25,0,0,0-.25-.25H10.5a1,1,0,0,1,0-2h1a2,2,0,0,1,2,2v4.75a.25.25,0,0,0,.25.25h.75a1,1,0,1,1,0,2Z"})})}function IG(e){return F.jsx(zt,{viewBox:"0 0 24 24",...e,children:F.jsx("path",{fill:"currentColor",d:"M11.983,0a12.206,12.206,0,0,0-8.51,3.653A11.8,11.8,0,0,0,0,12.207,11.779,11.779,0,0,0,11.8,24h.214A12.111,12.111,0,0,0,24,11.791h0A11.766,11.766,0,0,0,11.983,0ZM10.5,16.542a1.476,1.476,0,0,1,1.449-1.53h.027a1.527,1.527,0,0,1,1.523,1.47,1.475,1.475,0,0,1-1.449,1.53h-.027A1.529,1.529,0,0,1,10.5,16.542ZM11,12.5v-6a1,1,0,0,1,2,0v6a1,1,0,1,1-2,0Z"})})}var ist=dp({"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}}),x9=Je((e,t)=>{const n=Hu("Spinner",e),{label:r="Loading...",thickness:i="2px",speed:o="0.45s",emptyColor:s="transparent",className:a,...l}=ci(e),u=Ut("chakra-spinner",a),c={display:"inline-block",borderColor:"currentColor",borderStyle:"solid",borderRadius:"99999px",borderWidth:i,borderBottomColor:s,borderLeftColor:s,animation:`${ist} ${o} linear infinite`,...n};return F.jsx(We.div,{ref:t,__css:c,className:u,...l,children:r&&F.jsx(We.span,{srOnly:!0,children:r})})});x9.displayName="Spinner";var[ost,w9]=ji({name:"AlertContext",hookName:"useAlertContext",providerName:"<Alert />"}),[sst,S9]=ji({name:"AlertStylesContext",hookName:"useAlertStyles",providerName:"<Alert />"}),Ode={info:{icon:rst,colorScheme:"blue"},warning:{icon:IG,colorScheme:"orange"},success:{icon:nst,colorScheme:"green"},error:{icon:IG,colorScheme:"red"},loading:{icon:x9,colorScheme:"blue"}};function ast(e){return Ode[e].colorScheme}function lst(e){return Ode[e].icon}var Dde=Je(function(t,n){const r=S9(),{status:i}=w9(),o={display:"inline",...r.description};return F.jsx(We.div,{ref:n,"data-status":i,...t,className:Ut("chakra-alert__desc",t.className),__css:o})});Dde.displayName="AlertDescription";function Mde(e){const{status:t}=w9(),n=lst(t),r=S9(),i=t==="loading"?r.spinner:r.icon;return F.jsx(We.span,{display:"inherit","data-status":t,...e,className:Ut("chakra-alert__icon",e.className),__css:i,children:e.children||F.jsx(n,{h:"100%",w:"100%"})})}Mde.displayName="AlertIcon";var Nde=Je(function(t,n){const r=S9(),{status:i}=w9();return F.jsx(We.div,{ref:n,"data-status":i,...t,className:Ut("chakra-alert__title",t.className),__css:r.title})});Nde.displayName="AlertTitle";var Lde=Je(function(t,n){var r;const{status:i="info",addRole:o=!0,...s}=ci(t),a=(r=t.colorScheme)!=null?r:ast(i),l=Gf("Alert",{...t,colorScheme:a}),u={width:"100%",display:"flex",alignItems:"center",position:"relative",overflow:"hidden",...l.container};return F.jsx(ost,{value:{status:i},children:F.jsx(sst,{value:l,children:F.jsx(We.div,{"data-status":i,role:o?"alert":void 0,ref:n,...s,className:Ut("chakra-alert",t.className),__css:u})})})});Lde.displayName="Alert";function ust(e){return F.jsx(zt,{focusable:"false","aria-hidden":!0,...e,children:F.jsx("path",{fill:"currentColor",d:"M.439,21.44a1.5,1.5,0,0,0,2.122,2.121L11.823,14.3a.25.25,0,0,1,.354,0l9.262,9.263a1.5,1.5,0,1,0,2.122-2.121L14.3,12.177a.25.25,0,0,1,0-.354l9.263-9.262A1.5,1.5,0,0,0,21.439.44L12.177,9.7a.25.25,0,0,1-.354,0L2.561.44A1.5,1.5,0,0,0,.439,2.561L9.7,11.823a.25.25,0,0,1,0,.354Z"})})}var Ide=Je(function(t,n){const r=Hu("CloseButton",t),{children:i,isDisabled:o,__css:s,...a}=ci(t),l={outline:0,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0};return F.jsx(We.button,{type:"button","aria-label":"Close",ref:n,disabled:o,__css:{...l,...r,...s},...a,children:i||F.jsx(ust,{width:"1em",height:"1em"})})});Ide.displayName="CloseButton";var cst={top:[],"top-left":[],"top-right":[],"bottom-left":[],bottom:[],"bottom-right":[]},el=fst(cst);function fst(e){let t=e;const n=new Set,r=i=>{t=i(t),n.forEach(o=>o())};return{getState:()=>t,subscribe:i=>(n.add(i),()=>{r(()=>e),n.delete(i)}),removeToast:(i,o)=>{r(s=>({...s,[o]:s[o].filter(a=>a.id!=i)}))},notify:(i,o)=>{const s=dst(i,o),{position:a,id:l}=s;return r(u=>{var c,f;const h=a.includes("top")?[s,...(c=u[a])!=null?c:[]]:[...(f=u[a])!=null?f:[],s];return{...u,[a]:h}}),l},update:(i,o)=>{i&&r(s=>{const a={...s},{position:l,index:u}=Rq(a,i);return l&&u!==-1&&(a[l][u]={...a[l][u],...o,message:zde(o)}),a})},closeAll:({positions:i}={})=>{r(o=>(i??["bottom","bottom-right","bottom-left","top","top-left","top-right"]).reduce((l,u)=>(l[u]=o[u].map(c=>({...c,requestClose:!0})),l),{...o}))},close:i=>{r(o=>{const s=lfe(o,i);return s?{...o,[s]:o[s].map(a=>a.id==i?{...a,requestClose:!0}:a)}:o})},isActive:i=>!!Rq(el.getState(),i).position}}var zG=0;function dst(e,t={}){var n,r;zG+=1;const i=(n=t.id)!=null?n:zG,o=(r=t.position)!=null?r:"bottom";return{id:i,message:e,position:o,duration:t.duration,onCloseComplete:t.onCloseComplete,onRequestRemove:()=>el.removeToast(String(i),o),status:t.status,requestClose:!1,containerStyle:t.containerStyle}}var hst=e=>{const{status:t,variant:n="solid",id:r,title:i,isClosable:o,onClose:s,description:a,colorScheme:l,icon:u}=e,c=r?{root:`toast-${r}`,title:`toast-${r}-title`,description:`toast-${r}-description`}:void 0;return F.jsxs(Lde,{addRole:!1,status:t,variant:n,id:c==null?void 0:c.root,alignItems:"start",borderRadius:"md",boxShadow:"lg",paddingEnd:8,textAlign:"start",width:"auto",colorScheme:l,children:[F.jsx(Mde,{children:u}),F.jsxs(We.div,{flex:"1",maxWidth:"100%",children:[i&&F.jsx(Nde,{id:c==null?void 0:c.title,children:i}),a&&F.jsx(Dde,{id:c==null?void 0:c.description,display:"block",children:a})]}),o&&F.jsx(Ide,{size:"sm",onClick:s,position:"absolute",insetEnd:1,top:1})]})};function zde(e={}){const{render:t,toastComponent:n=hst}=e;return i=>typeof t=="function"?t({...i,...e}):F.jsx(n,{...i,...e})}function pst(e,t){const n=i=>{var o;return{...t,...i,position:tst((o=i==null?void 0:i.position)!=null?o:t==null?void 0:t.position,e)}},r=i=>{const o=n(i),s=zde(o);return el.notify(s,o)};return r.update=(i,o)=>{el.update(i,n(o))},r.promise=(i,o)=>{const s=r({...o.loading,status:"loading",duration:null});i.then(a=>r.update(s,{status:"success",duration:5e3,...rl(o.success,a)})).catch(a=>r.update(s,{status:"error",duration:5e3,...rl(o.error,a)}))},r.closeAll=el.closeAll,r.close=el.close,r.isActive=el.isActive,r}var[gst,mst]=ji({name:"ToastOptionsContext",strict:!1}),yst=e=>{const t=M.useSyncExternalStore(el.subscribe,el.getState,el.getState),{motionVariants:n,component:r=Pde,portalProps:i}=e,s=Object.keys(t).map(a=>{const l=t[a];return F.jsx("div",{role:"region","aria-live":"polite","aria-label":`Notifications-${a}`,id:`chakra-toast-manager-${a}`,style:Dtt(a),children:F.jsx(Zot,{initial:!1,children:l.map(u=>F.jsx(r,{motionVariants:n,...u},u.id))})},a)});return F.jsx(gA,{...i,children:s})};function vst(e){const{theme:t}=Pce(),n=mst();return M.useMemo(()=>pst(t.direction,{...n,...e}),[e,t.direction,n])}var bst=e=>function({children:n,theme:r=e,toastOptions:i,...o}){return F.jsxs(Rtt,{theme:r,...o,children:[F.jsx(gst,{value:i==null?void 0:i.defaultOptions,children:n}),F.jsx(yst,{...i})]})},xst=bst(Zce),wst=Object.defineProperty,Sst=(e,t,n)=>t in e?wst(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,kn=(e,t,n)=>(Sst(e,typeof t!="symbol"?t+"":t,n),n);function jG(e){return e.sort((t,n)=>{const r=t.compareDocumentPosition(n);if(r&Node.DOCUMENT_POSITION_FOLLOWING||r&Node.DOCUMENT_POSITION_CONTAINED_BY)return-1;if(r&Node.DOCUMENT_POSITION_PRECEDING||r&Node.DOCUMENT_POSITION_CONTAINS)return 1;if(r&Node.DOCUMENT_POSITION_DISCONNECTED||r&Node.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC)throw Error("Cannot sort the given nodes.");return 0})}var Est=e=>typeof e=="object"&&"nodeType"in e&&e.nodeType===Node.ELEMENT_NODE;function BG(e,t,n){let r=e+1;return n&&r>=t&&(r=0),r}function UG(e,t,n){let r=e-1;return n&&r<0&&(r=t),r}var kO=typeof window<"u"?M.useLayoutEffect:M.useEffect,bk=e=>e,Cst=class{constructor(){kn(this,"descendants",new Map),kn(this,"register",e=>{if(e!=null)return Est(e)?this.registerNode(e):t=>{this.registerNode(t,e)}}),kn(this,"unregister",e=>{this.descendants.delete(e);const t=jG(Array.from(this.descendants.keys()));this.assignIndex(t)}),kn(this,"destroy",()=>{this.descendants.clear()}),kn(this,"assignIndex",e=>{this.descendants.forEach(t=>{const n=e.indexOf(t.node);t.index=n,t.node.dataset.index=t.index.toString()})}),kn(this,"count",()=>this.descendants.size),kn(this,"enabledCount",()=>this.enabledValues().length),kn(this,"values",()=>Array.from(this.descendants.values()).sort((t,n)=>t.index-n.index)),kn(this,"enabledValues",()=>this.values().filter(e=>!e.disabled)),kn(this,"item",e=>{if(this.count()!==0)return this.values()[e]}),kn(this,"enabledItem",e=>{if(this.enabledCount()!==0)return this.enabledValues()[e]}),kn(this,"first",()=>this.item(0)),kn(this,"firstEnabled",()=>this.enabledItem(0)),kn(this,"last",()=>this.item(this.descendants.size-1)),kn(this,"lastEnabled",()=>{const e=this.enabledValues().length-1;return this.enabledItem(e)}),kn(this,"indexOf",e=>{var t,n;return e&&(n=(t=this.descendants.get(e))==null?void 0:t.index)!=null?n:-1}),kn(this,"enabledIndexOf",e=>e==null?-1:this.enabledValues().findIndex(t=>t.node.isSameNode(e))),kn(this,"next",(e,t=!0)=>{const n=BG(e,this.count(),t);return this.item(n)}),kn(this,"nextEnabled",(e,t=!0)=>{const n=this.item(e);if(!n)return;const r=this.enabledIndexOf(n.node),i=BG(r,this.enabledCount(),t);return this.enabledItem(i)}),kn(this,"prev",(e,t=!0)=>{const n=UG(e,this.count()-1,t);return this.item(n)}),kn(this,"prevEnabled",(e,t=!0)=>{const n=this.item(e);if(!n)return;const r=this.enabledIndexOf(n.node),i=UG(r,this.enabledCount()-1,t);return this.enabledItem(i)}),kn(this,"registerNode",(e,t)=>{if(!e||this.descendants.has(e))return;const n=Array.from(this.descendants.keys()).concat(e),r=jG(n);t!=null&&t.disabled&&(t.disabled=!!t.disabled);const i={node:e,index:-1,...t};this.descendants.set(e,i),this.assignIndex(r)})}};function kst(e,t){if(e!=null){if(typeof e=="function"){e(t);return}try{e.current=t}catch{throw new Error(`Cannot assign value '${t}' to ref '${e}'`)}}}function u0(...e){return t=>{e.forEach(n=>{kst(n,t)})}}function _st(...e){return M.useMemo(()=>u0(...e),e)}function $st(){const e=M.useRef(new Cst);return kO(()=>()=>e.current.destroy()),e.current}var[Ast,jde]=ji({name:"DescendantsProvider",errorMessage:"useDescendantsContext must be used within DescendantsProvider"});function Tst(e){const t=jde(),[n,r]=M.useState(-1),i=M.useRef(null);kO(()=>()=>{i.current&&t.unregister(i.current)},[]),kO(()=>{if(!i.current)return;const s=Number(i.current.dataset.index);n!=s&&!Number.isNaN(s)&&r(s)});const o=bk(e?t.register(e):t.register);return{descendants:t,index:n,enabledIndex:t.enabledIndexOf(i.current),register:u0(o,i)}}function Fst(){return[bk(Ast),()=>bk(jde()),()=>$st(),i=>Tst(i)]}function Rst(e){const{value:t,defaultValue:n,onChange:r,shouldUpdate:i=(d,h)=>d!==h}=e,o=US(r),s=US(i),[a,l]=M.useState(n),u=t!==void 0,c=u?t:a,f=US(d=>{const p=typeof d=="function"?d(c):d;s(c,p)&&(u||l(p),o(p))},[u,o,c,s]);return[c,f]}var _O=Je(function(t,n){const{htmlWidth:r,htmlHeight:i,alt:o,...s}=t;return F.jsx("img",{width:r,height:i,ref:n,alt:o,...s})});_O.displayName="NativeImage";function Pst(e){const{loading:t,src:n,srcSet:r,onLoad:i,onError:o,crossOrigin:s,sizes:a,ignoreFallback:l}=e,[u,c]=M.useState("pending");M.useEffect(()=>{c(n?"loading":"pending")},[n]);const f=M.useRef(),d=M.useCallback(()=>{if(!n)return;h();const p=new Image;p.src=n,s&&(p.crossOrigin=s),r&&(p.srcset=r),a&&(p.sizes=a),t&&(p.loading=t),p.onload=g=>{h(),c("loaded"),i==null||i(g)},p.onerror=g=>{h(),c("failed"),o==null||o(g)},f.current=p},[n,s,r,a,i,o,t]),h=()=>{f.current&&(f.current.onload=null,f.current.onerror=null,f.current=null)};return Qm(()=>{if(!l)return u==="loading"&&d(),()=>{h()}},[u,d,l]),l?"loaded":u}var Ost=(e,t)=>e!=="loaded"&&t==="beforeLoadOrError"||e==="failed"&&t==="onError";function Dst(e,t=[]){const n=Object.assign({},e);for(const r of t)r in n&&delete n[r];return n}var Bde=Je(function(t,n){const{fallbackSrc:r,fallback:i,src:o,srcSet:s,align:a,fit:l,loading:u,ignoreFallback:c,crossOrigin:f,fallbackStrategy:d="beforeLoadOrError",referrerPolicy:h,...p}=t,g=r!==void 0||i!==void 0,m=u!=null||c||!g,y=Pst({...t,crossOrigin:f,ignoreFallback:m}),v=Ost(y,d),b={ref:n,objectFit:l,objectPosition:a,...m?p:Dst(p,["onError","onLoad"])};return v?i||F.jsx(We.img,{as:_O,className:"chakra-image__placeholder",src:r,...b}):F.jsx(We.img,{as:_O,src:o,srcSet:s,crossOrigin:f,loading:u,referrerPolicy:h,className:"chakra-image",...b})});Bde.displayName="Image";function AA(e){return M.Children.toArray(e).filter(t=>M.isValidElement(t))}var[Mst,Nst]=ji({strict:!1,name:"ButtonGroupContext"}),Lst={horizontal:{"> *:first-of-type:not(:last-of-type)":{borderEndRadius:0},"> *:not(:first-of-type):not(:last-of-type)":{borderRadius:0},"> *:not(:first-of-type):last-of-type":{borderStartRadius:0}},vertical:{"> *:first-of-type:not(:last-of-type)":{borderBottomRadius:0},"> *:not(:first-of-type):not(:last-of-type)":{borderRadius:0},"> *:not(:first-of-type):last-of-type":{borderTopRadius:0}}},Ist={horizontal:e=>({"& > *:not(style) ~ *:not(style)":{marginStart:e}}),vertical:e=>({"& > *:not(style) ~ *:not(style)":{marginTop:e}})},Ude=Je(function(t,n){const{size:r,colorScheme:i,variant:o,className:s,spacing:a="0.5rem",isAttached:l,isDisabled:u,orientation:c="horizontal",...f}=t,d=Ut("chakra-button__group",s),h=M.useMemo(()=>({size:r,colorScheme:i,variant:o,isDisabled:u}),[r,i,o,u]);let p={display:"inline-flex",...l?Lst[c]:Ist[c](a)};const g=c==="vertical";return F.jsx(Mst,{value:h,children:F.jsx(We.div,{ref:n,role:"group",__css:p,className:d,"data-attached":l?"":void 0,"data-orientation":c,flexDir:g?"column":void 0,...f})})});Ude.displayName="ButtonGroup";function zst(e){const[t,n]=M.useState(!e);return{ref:M.useCallback(o=>{o&&n(o.tagName==="BUTTON")},[]),type:t?"button":void 0}}function $O(e){const{children:t,className:n,...r}=e,i=M.isValidElement(t)?M.cloneElement(t,{"aria-hidden":!0,focusable:!1}):t,o=Ut("chakra-button__icon",n);return F.jsx(We.span,{display:"inline-flex",alignSelf:"center",flexShrink:0,...r,className:o,children:i})}$O.displayName="ButtonIcon";function AO(e){const{label:t,placement:n,spacing:r="0.5rem",children:i=F.jsx(x9,{color:"currentColor",width:"1em",height:"1em"}),className:o,__css:s,...a}=e,l=Ut("chakra-button__spinner",o),u=n==="start"?"marginEnd":"marginStart",c=M.useMemo(()=>({display:"flex",alignItems:"center",position:t?"relative":"absolute",[u]:t?r:0,fontSize:"1em",lineHeight:"normal",...s}),[s,t,u,r]);return F.jsx(We.div,{className:l,...a,__css:c,children:i})}AO.displayName="ButtonSpinner";var ia=Je((e,t)=>{const n=Nst(),r=Hu("Button",{...n,...e}),{isDisabled:i=n==null?void 0:n.isDisabled,isLoading:o,isActive:s,children:a,leftIcon:l,rightIcon:u,loadingText:c,iconSpacing:f="0.5rem",type:d,spinner:h,spinnerPlacement:p="start",className:g,as:m,...y}=ci(e),v=M.useMemo(()=>{const C={...r==null?void 0:r._focus,zIndex:1};return{display:"inline-flex",appearance:"none",alignItems:"center",justifyContent:"center",userSelect:"none",position:"relative",whiteSpace:"nowrap",verticalAlign:"middle",outline:"none",...r,...!!n&&{_focus:C}}},[r,n]),{ref:b,type:x}=zst(m),w={rightIcon:u,leftIcon:l,iconSpacing:f,children:a};return F.jsxs(We.button,{ref:_st(t,b),as:m,type:d??x,"data-active":rs(s),"data-loading":rs(o),__css:v,className:Ut("chakra-button",g),...y,disabled:i||o,children:[o&&p==="start"&&F.jsx(AO,{className:"chakra-button__spinner--start",label:c,placement:"start",spacing:f,children:h}),o?c||F.jsx(We.span,{opacity:0,children:F.jsx(VG,{...w})}):F.jsx(VG,{...w}),o&&p==="end"&&F.jsx(AO,{className:"chakra-button__spinner--end",label:c,placement:"end",spacing:f,children:h})]})});ia.displayName="Button";function VG(e){const{leftIcon:t,rightIcon:n,children:r,iconSpacing:i}=e;return F.jsxs(F.Fragment,{children:[t&&F.jsx($O,{marginEnd:i,children:t}),r,n&&F.jsx($O,{marginStart:i,children:n})]})}var c0=Je((e,t)=>{const{icon:n,children:r,isRound:i,"aria-label":o,...s}=e,a=n||r,l=M.isValidElement(a)?M.cloneElement(a,{"aria-hidden":!0,focusable:!1}):null;return F.jsx(ia,{padding:"0",borderRadius:i?"full":void 0,ref:t,"aria-label":o,...s,children:l})});c0.displayName="IconButton";var[jst,Bst]=ji({name:"FormControlStylesContext",errorMessage:`useFormControlStyles returned is 'undefined'. Seems you forgot to wrap the components in "<FormControl />" `}),[Ust,Vde]=ji({strict:!1,name:"FormControlContext"});function Vst(e){const{id:t,isRequired:n,isInvalid:r,isDisabled:i,isReadOnly:o,...s}=e,a=M.useId(),l=t||`field-${a}`,u=`${l}-label`,c=`${l}-feedback`,f=`${l}-helptext`,[d,h]=M.useState(!1),[p,g]=M.useState(!1),[m,y]=M.useState(!1),v=M.useCallback((S={},k=null)=>({id:f,...S,ref:u0(k,$=>{$&&g(!0)})}),[f]),b=M.useCallback((S={},k=null)=>({...S,ref:k,"data-focus":rs(m),"data-disabled":rs(i),"data-invalid":rs(r),"data-readonly":rs(o),id:S.id!==void 0?S.id:u,htmlFor:S.htmlFor!==void 0?S.htmlFor:l}),[l,i,m,r,o,u]),x=M.useCallback((S={},k=null)=>({id:c,...S,ref:u0(k,$=>{$&&h(!0)}),"aria-live":"polite"}),[c]),w=M.useCallback((S={},k=null)=>({...S,...s,ref:k,role:"group","data-focus":rs(m),"data-disabled":rs(i),"data-invalid":rs(r),"data-readonly":rs(o)}),[s,i,m,r,o]),C=M.useCallback((S={},k=null)=>({...S,ref:k,role:"presentation","aria-hidden":!0,children:S.children||"*"}),[]);return{isRequired:!!n,isInvalid:!!r,isReadOnly:!!o,isDisabled:!!i,isFocused:!!m,onFocus:()=>y(!0),onBlur:()=>y(!1),hasFeedbackText:d,setHasFeedbackText:h,hasHelpText:p,setHasHelpText:g,id:l,labelId:u,feedbackId:c,helpTextId:f,htmlProps:s,getHelpTextProps:v,getErrorMessageProps:x,getRootProps:w,getLabelProps:b,getRequiredIndicatorProps:C}}var Wde=Je(function(t,n){const r=Gf("Form",t),i=ci(t),{getRootProps:o,htmlProps:s,...a}=Vst(i),l=Ut("chakra-form-control",t.className);return F.jsx(Ust,{value:a,children:F.jsx(jst,{value:r,children:F.jsx(We.div,{...o({},n),className:l,__css:r.container})})})});Wde.displayName="FormControl";var Wst=Je(function(t,n){const r=Vde(),i=Bst(),o=Ut("chakra-form__helper-text",t.className);return F.jsx(We.div,{...r==null?void 0:r.getHelpTextProps(t,n),__css:i.helperText,className:o})});Wst.displayName="FormHelperText";function Hde(e){const{isDisabled:t,isInvalid:n,isReadOnly:r,isRequired:i,...o}=Hst(e);return{...o,disabled:t,readOnly:r,required:i,"aria-invalid":Y3(n),"aria-required":Y3(i),"aria-readonly":Y3(r)}}function Hst(e){var t,n,r;const i=Vde(),{id:o,disabled:s,readOnly:a,required:l,isRequired:u,isInvalid:c,isReadOnly:f,isDisabled:d,onFocus:h,onBlur:p,...g}=e,m=e["aria-describedby"]?[e["aria-describedby"]]:[];return i!=null&&i.hasFeedbackText&&(i!=null&&i.isInvalid)&&m.push(i.feedbackId),i!=null&&i.hasHelpText&&m.push(i.helpTextId),{...g,"aria-describedby":m.join(" ")||void 0,id:o??(i==null?void 0:i.id),isDisabled:(t=s??d)!=null?t:i==null?void 0:i.isDisabled,isReadOnly:(n=a??f)!=null?n:i==null?void 0:i.isReadOnly,isRequired:(r=l??u)!=null?r:i==null?void 0:i.isRequired,isInvalid:c??(i==null?void 0:i.isInvalid),onFocus:vb(i==null?void 0:i.onFocus,h),onBlur:vb(i==null?void 0:i.onBlur,p)}}var qde={exports:{}},qst="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Gst=qst,Xst=Gst;function Gde(){}function Xde(){}Xde.resetWarningCache=Gde;var Yst=function(){function e(r,i,o,s,a,l){if(l!==Xst){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:Xde,resetWarningCache:Gde};return n.PropTypes=n,n};qde.exports=Yst();var Yde=qde.exports,[Kst,Qst]=ji({name:"InputGroupStylesContext",errorMessage:`useInputGroupStyles returned is 'undefined'. Seems you forgot to wrap the components in "<InputGroup />" `}),Kde=Je(function(t,n){const r=Gf("Input",t),{children:i,className:o,...s}=ci(t),a=Ut("chakra-input__group",o),l={},u=AA(i),c=r.field;u.forEach(d=>{var h,p;r&&(c&&d.type.id==="InputLeftElement"&&(l.paddingStart=(h=c.height)!=null?h:c.h),c&&d.type.id==="InputRightElement"&&(l.paddingEnd=(p=c.height)!=null?p:c.h),d.type.id==="InputRightAddon"&&(l.borderEndRadius=0),d.type.id==="InputLeftAddon"&&(l.borderStartRadius=0))});const f=u.map(d=>{var h,p;const g=sfe({size:((h=d.props)==null?void 0:h.size)||t.size,variant:((p=d.props)==null?void 0:p.variant)||t.variant});return d.type.id!=="Input"?M.cloneElement(d,g):M.cloneElement(d,Object.assign(g,l,d.props))});return F.jsx(We.div,{className:a,ref:n,__css:{width:"100%",display:"flex",position:"relative",isolation:"isolate",...r.group},"data-group":!0,...s,children:F.jsx(Kst,{value:r,children:f})})});Kde.displayName="InputGroup";var Jst=We("div",{baseStyle:{display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",top:"0",zIndex:2}}),TA=Je(function(t,n){var r,i;const{placement:o="left",...s}=t,a=Qst(),l=a.field,c={[o==="left"?"insetStart":"insetEnd"]:"0",width:(r=l==null?void 0:l.height)!=null?r:l==null?void 0:l.h,height:(i=l==null?void 0:l.height)!=null?i:l==null?void 0:l.h,fontSize:l==null?void 0:l.fontSize,...a.element};return F.jsx(Jst,{ref:n,__css:c,...s})});TA.id="InputElement";TA.displayName="InputElement";var Qde=Je(function(t,n){const{className:r,...i}=t,o=Ut("chakra-input__left-element",r);return F.jsx(TA,{ref:n,placement:"left",className:o,...i})});Qde.id="InputLeftElement";Qde.displayName="InputLeftElement";var E9=Je(function(t,n){const{className:r,...i}=t,o=Ut("chakra-input__right-element",r);return F.jsx(TA,{ref:n,placement:"right",className:o,...i})});E9.id="InputRightElement";E9.displayName="InputRightElement";var xk=Je(function(t,n){const{htmlSize:r,...i}=t,o=Gf("Input",i),s=ci(i),a=Hde(s),l=Ut("chakra-input",t.className);return F.jsx(We.input,{size:r,...a,__css:o.field,ref:n,className:l})});xk.displayName="Input";xk.id="Input";var HS=Je(function(t,n){const r=Hu("Link",t),{className:i,isExternal:o,...s}=ci(t);return F.jsx(We.a,{target:o?"_blank":void 0,rel:o?"noopener":void 0,ref:n,className:Ut("chakra-link",i),...s,__css:r})});HS.displayName="Link";var[Zst,Jde]=ji({name:"ListStylesContext",errorMessage:`useListStyles returned is 'undefined'. Seems you forgot to wrap the components in "<List />" `}),C9=Je(function(t,n){const r=Gf("List",t),{children:i,styleType:o="none",stylePosition:s,spacing:a,...l}=ci(t),u=AA(i),f=a?{["& > *:not(style) ~ *:not(style)"]:{mt:a}}:{};return F.jsx(Zst,{value:r,children:F.jsx(We.ul,{ref:n,listStyleType:o,listStylePosition:s,role:"list",__css:{...r.container,...f},...l,children:u})})});C9.displayName="List";var wk=Je((e,t)=>{const{as:n,...r}=e;return F.jsx(C9,{ref:t,as:"ol",styleType:"decimal",marginStart:"1em",...r})});wk.displayName="OrderedList";var eat=Je(function(t,n){const{as:r,...i}=t;return F.jsx(C9,{ref:n,as:"ul",styleType:"initial",marginStart:"1em",...i})});eat.displayName="UnorderedList";var Zde=Je(function(t,n){const r=Jde();return F.jsx(We.li,{ref:n,...t,__css:r.item})});Zde.displayName="ListItem";var tat=Je(function(t,n){const r=Jde();return F.jsx(zt,{ref:n,role:"presentation",...t,__css:r.icon})});tat.displayName="ListIcon";var ehe=Object.freeze(["base","sm","md","lg","xl","2xl"]);function nat(e,t){return Array.isArray(e)?e.map(n=>n===null?null:t(n)):oo(e)?Object.keys(e).reduce((n,r)=>(n[r]=t(e[r]),n),{}):e!=null?t(e):null}function rat(e,t=ehe){const n={};return e.forEach((r,i)=>{const o=t[i];r!=null&&(n[o]=r)}),n}var FA=We("div",{baseStyle:{flex:1,justifySelf:"stretch",alignSelf:"stretch"}});FA.displayName="Spacer";var Zn=Je(function(t,n){const r=Hu("Text",t),{className:i,align:o,decoration:s,casing:a,...l}=ci(t),u=sfe({textAlign:t.align,textDecoration:t.decoration,textTransform:t.casing});return F.jsx(We.p,{ref:n,className:Ut("chakra-text",t.className),...u,...l,__css:r})});Zn.displayName="Text";var the=e=>F.jsx(We.div,{className:"chakra-stack__item",...e,__css:{display:"inline-block",flex:"0 0 auto",minWidth:0,...e.__css}});the.displayName="StackItem";function iat(e){const{spacing:t,direction:n}=e,r={column:{my:t,mx:0,borderLeftWidth:0,borderBottomWidth:"1px"},"column-reverse":{my:t,mx:0,borderLeftWidth:0,borderBottomWidth:"1px"},row:{mx:t,my:0,borderLeftWidth:"1px",borderBottomWidth:0},"row-reverse":{mx:t,my:0,borderLeftWidth:"1px",borderBottomWidth:0}};return{"&":nat(n,i=>r[i])}}var nhe=Je((e,t)=>{const{isInline:n,direction:r,align:i,justify:o,spacing:s="0.5rem",wrap:a,children:l,divider:u,className:c,shouldWrapChildren:f,...d}=e,h=n?"row":r??"column",p=M.useMemo(()=>iat({spacing:s,direction:h}),[s,h]),g=!!u,m=!f&&!g,y=M.useMemo(()=>{const b=AA(l);return m?b:b.map((x,w)=>{const C=typeof x.key<"u"?x.key:w,S=w+1===b.length,$=f?F.jsx(the,{children:x},C):x;if(!g)return $;const R=M.cloneElement(u,{__css:p}),O=S?null:R;return F.jsxs(M.Fragment,{children:[$,O]},C)})},[u,p,g,m,f,l]),v=Ut("chakra-stack",c);return F.jsx(We.div,{ref:t,display:"flex",alignItems:i,justifyContent:o,flexDirection:h,flexWrap:a,gap:g?void 0:s,className:v,...d,children:y})});nhe.displayName="Stack";var dh=Je((e,t)=>F.jsx(nhe,{align:"center",...e,direction:"column",ref:t}));dh.displayName="VStack";var Hx=Je(function(t,n){const r=Hu("Heading",t),{className:i,...o}=ci(t);return F.jsx(We.h2,{ref:n,className:Ut("chakra-heading",t.className),...o,__css:r})});Hx.displayName="Heading";var El=We("div",{baseStyle:{display:"flex",alignItems:"center",justifyContent:"center"}});El.displayName="Center";var oat={horizontal:{insetStart:"50%",transform:"translateX(-50%)"},vertical:{top:"50%",transform:"translateY(-50%)"},both:{insetStart:"50%",top:"50%",transform:"translate(-50%, -50%)"}};Je(function(t,n){const{axis:r="both",...i}=t;return F.jsx(We.div,{ref:n,__css:oat[r],...i,position:"absolute"})});var RA=Je(function(t,n){const{borderLeftWidth:r,borderBottomWidth:i,borderTopWidth:o,borderRightWidth:s,borderWidth:a,borderStyle:l,borderColor:u,...c}=Hu("Divider",t),{className:f,orientation:d="horizontal",__css:h,...p}=ci(t),g={vertical:{borderLeftWidth:r||s||a||"1px",height:"100%"},horizontal:{borderBottomWidth:i||o||a||"1px",width:"100%"}};return F.jsx(We.hr,{ref:n,"aria-orientation":d,...p,__css:{...c,border:"0",borderColor:u,borderStyle:l,...g[d],...h},className:Ut("chakra-divider",f)})});RA.displayName="Divider";var gn=Je(function(t,n){const{direction:r,align:i,justify:o,wrap:s,basis:a,grow:l,shrink:u,...c}=t,f={display:"flex",flexDirection:r,alignItems:i,justifyContent:o,flexWrap:s,flexBasis:a,flexGrow:l,flexShrink:u};return F.jsx(We.div,{ref:n,__css:f,...c})});gn.displayName="Flex";function sat(e,t={}){const{ssr:n=!0,fallback:r}=t,{getWindow:i}=Ftt(),o=Array.isArray(e)?e:[e];let s=Array.isArray(r)?r:[r];s=s.filter(u=>u!=null);const[a,l]=M.useState(()=>o.map((u,c)=>({media:u,matches:n?!!s[c]:i().matchMedia(u).matches})));return M.useEffect(()=>{const u=i();l(o.map(d=>({media:d,matches:u.matchMedia(d).matches})));const c=o.map(d=>u.matchMedia(d)),f=d=>{l(h=>h.slice().map(p=>p.media===d.media?{...p,matches:d.matches}:p))};return c.forEach(d=>{typeof d.addListener=="function"?d.addListener(f):d.addEventListener("change",f)}),()=>{c.forEach(d=>{typeof d.removeListener=="function"?d.removeListener(f):d.removeEventListener("change",f)})}},[i]),a.map(u=>u.matches)}function aat(e,t,n=ehe){let r=Object.keys(e).indexOf(t);if(r!==-1)return e[t];let i=n.indexOf(t);for(;i>=0;){const o=n[i];if(e.hasOwnProperty(o)){r=i;break}i-=1}if(r!==-1){const o=n[r];return e[o]}}function lat(e){var t,n;const r=oo(e)?e:{fallback:e??"base"},o=mA().__breakpoints.details.map(({minMaxQuery:u,breakpoint:c})=>({breakpoint:c,query:u.replace("@media screen and ","")})),s=o.map(u=>u.breakpoint===r.fallback),l=sat(o.map(u=>u.query),{fallback:s,ssr:r.ssr}).findIndex(u=>u==!0);return(n=(t=o[l])==null?void 0:t.breakpoint)!=null?n:r.fallback}function Pd(e,t){var n;const r=oo(t)?t:{fallback:"base"},i=lat(r),o=mA();if(!i)return;const s=Array.from(((n=o.__breakpoints)==null?void 0:n.keys)||[]),a=Array.isArray(e)?Object.fromEntries(Object.entries(rat(e,s)).map(([l,u])=>[l,u])):e;return aat(a,i,s)}function uat(){const e=M.useRef(new Map),t=e.current,n=M.useCallback((i,o,s,a)=>{e.current.set(s,{type:o,el:i,options:a}),i.addEventListener(o,s,a)},[]),r=M.useCallback((i,o,s,a)=>{i.removeEventListener(o,s,a),e.current.delete(s)},[]);return M.useEffect(()=>()=>{t.forEach((i,o)=>{r(i.el,i.type,o,i.options)})},[r,t]),{add:n,remove:r}}function $4(e){const t=e.target,{tagName:n,isContentEditable:r}=t;return n!=="INPUT"&&n!=="TEXTAREA"&&r!==!0}function cat(e={}){const{ref:t,isDisabled:n,isFocusable:r,clickOnEnter:i=!0,clickOnSpace:o=!0,onMouseDown:s,onMouseUp:a,onClick:l,onKeyDown:u,onKeyUp:c,tabIndex:f,onMouseOver:d,onMouseLeave:h,...p}=e,[g,m]=M.useState(!0),[y,v]=M.useState(!1),b=uat(),x=j=>{j&&j.tagName!=="BUTTON"&&m(!1)},w=g?f:f||0,C=n&&!r,S=M.useCallback(j=>{if(n){j.stopPropagation(),j.preventDefault();return}j.currentTarget.focus(),l==null||l(j)},[n,l]),k=M.useCallback(j=>{y&&$4(j)&&(j.preventDefault(),j.stopPropagation(),v(!1),b.remove(document,"keyup",k,!1))},[y,b]),$=M.useCallback(j=>{if(u==null||u(j),n||j.defaultPrevented||j.metaKey||!$4(j.nativeEvent)||g)return;const z=i&&j.key==="Enter";o&&j.key===" "&&(j.preventDefault(),v(!0)),z&&(j.preventDefault(),j.currentTarget.click()),b.add(document,"keyup",k,!1)},[n,g,u,i,o,b,k]),R=M.useCallback(j=>{if(c==null||c(j),n||j.defaultPrevented||j.metaKey||!$4(j.nativeEvent)||g)return;o&&j.key===" "&&(j.preventDefault(),v(!1),j.currentTarget.click())},[o,g,n,c]),O=M.useCallback(j=>{j.button===0&&(v(!1),b.remove(document,"mouseup",O,!1))},[b]),B=M.useCallback(j=>{if(j.button!==0)return;if(n){j.stopPropagation(),j.preventDefault();return}g||v(!0),j.currentTarget.focus({preventScroll:!0}),b.add(document,"mouseup",O,!1),s==null||s(j)},[n,g,s,b,O]),D=M.useCallback(j=>{j.button===0&&(g||v(!1),a==null||a(j))},[a,g]),L=M.useCallback(j=>{if(n){j.preventDefault();return}d==null||d(j)},[n,d]),A=M.useCallback(j=>{y&&(j.preventDefault(),v(!1)),h==null||h(j)},[y,h]),P=u0(t,x);return g?{...p,ref:P,type:"button","aria-disabled":C?void 0:n,disabled:C,onClick:S,onMouseDown:s,onMouseUp:a,onKeyUp:c,onKeyDown:u,onMouseOver:d,onMouseLeave:h}:{...p,ref:P,role:"button","data-active":rs(y),"aria-disabled":n?"true":void 0,tabIndex:C?void 0:w,onClick:S,onMouseDown:B,onMouseUp:D,onKeyUp:R,onKeyDown:$,onMouseOver:L,onMouseLeave:A}}function fat(e){const{wasSelected:t,enabled:n,isSelected:r,mode:i="unmount"}=e;return!!(!n||r||i==="keepMounted"&&t)}var rhe=Je(function(t,n){const{children:r,placeholder:i,className:o,...s}=t;return F.jsxs(We.select,{...s,ref:n,className:Ut("chakra-select",o),children:[i&&F.jsx("option",{value:"",children:i}),r]})});rhe.displayName="SelectField";function dat(e,t){const n={},r={};for(const[i,o]of Object.entries(e))t.includes(i)?n[i]=o:r[i]=o;return[n,r]}var k9=Je((e,t)=>{var n;const r=Gf("Select",e),{rootProps:i,placeholder:o,icon:s,color:a,height:l,h:u,minH:c,minHeight:f,iconColor:d,iconSize:h,...p}=ci(e),[g,m]=dat(p,hXe),y=Hde(m),v={width:"100%",height:"fit-content",position:"relative",color:a},b={paddingEnd:"2rem",...r.field,_focus:{zIndex:"unset",...(n=r.field)==null?void 0:n._focus}};return F.jsxs(We.div,{className:"chakra-select__wrapper",__css:v,...g,...i,children:[F.jsx(rhe,{ref:t,height:u??l,minH:c??f,placeholder:o,...y,__css:b,children:e.children}),F.jsx(ihe,{"data-disabled":rs(y.disabled),...(d||a)&&{color:d||a},__css:r.icon,...h&&{fontSize:h},children:s})]})});k9.displayName="Select";var hat=e=>F.jsx("svg",{viewBox:"0 0 24 24",...e,children:F.jsx("path",{fill:"currentColor",d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"})}),pat=We("div",{baseStyle:{position:"absolute",display:"inline-flex",alignItems:"center",justifyContent:"center",pointerEvents:"none",top:"50%",transform:"translateY(-50%)"}}),ihe=e=>{const{children:t=F.jsx(hat,{}),...n}=e,r=M.cloneElement(t,{role:"presentation",className:"chakra-select__icon",focusable:!1,"aria-hidden":!0,style:{width:"1em",height:"1em",color:"currentColor"}});return F.jsx(pat,{...n,className:"chakra-select__icon-wrapper",children:M.isValidElement(t)?r:null})};ihe.displayName="SelectIcon";function gat(){const e=M.useRef(!0);return M.useEffect(()=>{e.current=!1},[]),e.current}function mat(e){const t=M.useRef();return M.useEffect(()=>{t.current=e},[e]),t.current}var yat=We("div",{baseStyle:{boxShadow:"none",backgroundClip:"padding-box",cursor:"default",color:"transparent",pointerEvents:"none",userSelect:"none","&::before, &::after, *":{visibility:"hidden"}}}),TO=Ie("skeleton-start-color"),FO=Ie("skeleton-end-color"),vat=dp({from:{opacity:0},to:{opacity:1}}),bat=dp({from:{borderColor:TO.reference,background:TO.reference},to:{borderColor:FO.reference,background:FO.reference}}),_9=Je((e,t)=>{const n={...e,fadeDuration:typeof e.fadeDuration=="number"?e.fadeDuration:.4,speed:typeof e.speed=="number"?e.speed:.8},r=Hu("Skeleton",n),i=gat(),{startColor:o="",endColor:s="",isLoaded:a,fadeDuration:l,speed:u,className:c,fitContent:f,...d}=ci(n),[h,p]=aGe("colors",[o,s]),g=mat(a),m=Ut("chakra-skeleton",c),y={...h&&{[TO.variable]:h},...p&&{[FO.variable]:p}};if(a){const v=i||g?"none":`${vat} ${l}s`;return F.jsx(We.div,{ref:t,className:m,__css:{animation:v},...d})}return F.jsx(yat,{ref:t,className:m,...d,__css:{width:f?"fit-content":void 0,...r,...y,_dark:{...r._dark,...y},animation:`${u}s linear infinite alternate ${bat}`}})});_9.displayName="Skeleton";function xat(e){return Array(e).fill(1).map((t,n)=>n+1)}var WG=3,ohe=e=>{const{noOfLines:t=WG,spacing:n="0.5rem",skeletonHeight:r="0.5rem",className:i,startColor:o,endColor:s,isLoaded:a,fadeDuration:l,speed:u,variant:c,size:f,colorScheme:d,children:h,...p}=e,g=Pd(typeof t=="number"?[t]:t)||WG,m=xat(g),y=b=>g>1&&b===m.length?"80%":"100%",v=Ut("chakra-skeleton__group",i);return F.jsx(We.div,{className:v,...p,children:m.map((b,x)=>{if(a&&x>0)return null;const w=a?null:{mb:b===m.length?"0":n,width:y(b),height:r};return F.jsx(_9,{startColor:o,endColor:s,isLoaded:a,fadeDuration:l,speed:u,variant:c,size:f,colorScheme:d,...w,children:x===0?h:void 0},m.length.toString()+b)})})};ohe.displayName="SkeletonText";var[wat,Sat,Eat,Cat]=Fst();function kat(e){var t;const{defaultIndex:n,onChange:r,index:i,isManual:o,isLazy:s,lazyBehavior:a="unmount",orientation:l="horizontal",direction:u="ltr",...c}=e,[f,d]=M.useState(n??0),[h,p]=Rst({defaultValue:n??0,value:i,onChange:r});M.useEffect(()=>{i!=null&&d(i)},[i]);const g=Eat(),m=M.useId();return{id:`tabs-${(t=e.id)!=null?t:m}`,selectedIndex:h,focusedIndex:f,setSelectedIndex:p,setFocusedIndex:d,isManual:o,isLazy:s,lazyBehavior:a,orientation:l,descendants:g,direction:u,htmlProps:c}}var[_at,PA]=ji({name:"TabsContext",errorMessage:"useTabsContext: `context` is undefined. Seems you forgot to wrap all tabs components within <Tabs />"});function $at(e){const{focusedIndex:t,orientation:n,direction:r}=PA(),i=Sat(),o=M.useCallback(s=>{const a=()=>{var v;const b=i.nextEnabled(t);b&&((v=b.node)==null||v.focus())},l=()=>{var v;const b=i.prevEnabled(t);b&&((v=b.node)==null||v.focus())},u=()=>{var v;const b=i.firstEnabled();b&&((v=b.node)==null||v.focus())},c=()=>{var v;const b=i.lastEnabled();b&&((v=b.node)==null||v.focus())},f=n==="horizontal",d=n==="vertical",h=s.key,p=r==="ltr"?"ArrowLeft":"ArrowRight",g=r==="ltr"?"ArrowRight":"ArrowLeft",y={[p]:()=>f&&l(),[g]:()=>f&&a(),ArrowDown:()=>d&&a(),ArrowUp:()=>d&&l(),Home:u,End:c}[h];y&&(s.preventDefault(),y(s))},[i,t,n,r]);return{...e,role:"tablist","aria-orientation":n,onKeyDown:vb(e.onKeyDown,o)}}function Aat(e){const{isDisabled:t=!1,isFocusable:n=!1,...r}=e,{setSelectedIndex:i,isManual:o,id:s,setFocusedIndex:a,selectedIndex:l}=PA(),{index:u,register:c}=Cat({disabled:t&&!n}),f=u===l,d=()=>{i(u)},h=()=>{a(u),!o&&!(t&&n)&&i(u)};return{...cat({...r,ref:u0(c,e.ref),isDisabled:t,isFocusable:n,onClick:vb(e.onClick,d)}),id:she(s,u),role:"tab",tabIndex:f?0:-1,type:"button","aria-selected":f,"aria-controls":ahe(s,u),onFocus:t?void 0:vb(e.onFocus,h)}}var[Tat,Fat]=ji({});function Rat(e){const t=PA(),{id:n,selectedIndex:r}=t,o=AA(e.children).map((s,a)=>M.createElement(Tat,{key:a,value:{isSelected:a===r,id:ahe(n,a),tabId:she(n,a),selectedIndex:r}},s));return{...e,children:o}}function Pat(e){const{children:t,...n}=e,{isLazy:r,lazyBehavior:i}=PA(),{isSelected:o,id:s,tabId:a}=Fat(),l=M.useRef(!1);o&&(l.current=!0);const u=fat({wasSelected:l.current,isSelected:o,enabled:r,mode:i});return{tabIndex:0,...n,children:u?t:null,role:"tabpanel","aria-labelledby":a,hidden:!o,id:s}}function she(e,t){return`${e}--tab-${t}`}function ahe(e,t){return`${e}--tabpanel-${t}`}var[Oat,OA]=ji({name:"TabsStylesContext",errorMessage:`useTabsStyles returned is 'undefined'. Seems you forgot to wrap the components in "<Tabs />" `}),DA=Je(function(t,n){const r=Gf("Tabs",t),{children:i,className:o,...s}=ci(t),{htmlProps:a,descendants:l,...u}=kat(s),c=M.useMemo(()=>u,[u]),{isFitted:f,...d}=a,h={position:"relative",...r.root};return F.jsx(wat,{value:l,children:F.jsx(_at,{value:c,children:F.jsx(Oat,{value:r,children:F.jsx(We.div,{className:Ut("chakra-tabs",o),ref:n,...d,__css:h,children:i})})})})});DA.displayName="Tabs";var $9=Je(function(t,n){const r=$at({...t,ref:n}),o={display:"flex",...OA().tablist};return F.jsx(We.div,{...r,className:Ut("chakra-tabs__tablist",t.className),__css:o})});$9.displayName="TabList";var A9=Je(function(t,n){const r=Pat({...t,ref:n}),i=OA();return F.jsx(We.div,{outline:"0",...r,className:Ut("chakra-tabs__tab-panel",t.className),__css:i.tabpanel})});A9.displayName="TabPanel";var T9=Je(function(t,n){const r=Rat(t),i=OA();return F.jsx(We.div,{...r,width:"100%",ref:n,className:Ut("chakra-tabs__tab-panels",t.className),__css:i.tabpanels})});T9.displayName="TabPanels";var F9=Je(function(t,n){const r=OA(),i=Aat({...t,ref:n}),o={outline:"0",display:"flex",alignItems:"center",justifyContent:"center",...r.tab};return F.jsx(We.button,{...i,className:Ut("chakra-tabs__tab",t.className),__css:o})});F9.displayName="Tab";var[Dat,lhe]=ji({name:"TagStylesContext",errorMessage:`useTagStyles returned is 'undefined'. Seems you forgot to wrap the components in "<Tag />" `}),uhe=Je((e,t)=>{const n=Gf("Tag",e),r=ci(e),i={display:"inline-flex",verticalAlign:"top",alignItems:"center",maxWidth:"100%",...n.container};return F.jsx(Dat,{value:n,children:F.jsx(We.span,{ref:t,...r,__css:i})})});uhe.displayName="Tag";var che=Je((e,t)=>{const n=lhe();return F.jsx(We.span,{ref:t,noOfLines:1,...e,__css:n.label})});che.displayName="TagLabel";var Mat=Je((e,t)=>F.jsx(zt,{ref:t,verticalAlign:"top",marginEnd:"0.5rem",...e}));Mat.displayName="TagLeftIcon";var Nat=Je((e,t)=>F.jsx(zt,{ref:t,verticalAlign:"top",marginStart:"0.5rem",...e}));Nat.displayName="TagRightIcon";var fhe=e=>F.jsx(zt,{verticalAlign:"inherit",viewBox:"0 0 512 512",...e,children:F.jsx("path",{fill:"currentColor",d:"M289.94 256l95-95A24 24 0 00351 127l-95 95-95-95a24 24 0 00-34 34l95 95-95 95a24 24 0 1034 34l95-95 95 95a24 24 0 0034-34z"})});fhe.displayName="TagCloseIcon";var Lat=Je((e,t)=>{const{isDisabled:n,children:r,...i}=e,s={display:"flex",alignItems:"center",justifyContent:"center",outline:"0",...lhe().closeButton};return F.jsx(We.button,{ref:t,"aria-label":"close",...i,type:"button",disabled:n,__css:s,children:r||F.jsx(fhe,{})})});Lat.displayName="TagCloseButton";const A4={charts:0,likes:1,search:2,fields:-2,settings:-1},Mo=I$(z$(e=>({tabIndex:A4.settings,setTabByIndex:t=>e({tabIndex:t<0?Object.keys(DA).length+t:t}),setTabByName:t=>e({tabIndex:A4[t]}),searchTargetFieldNames:[],setSearchTargetFieldNames:t=>e(n=>({searchTargetFieldNames:typeof t=="function"?t(n.searchTargetFieldNames):t})),appendSearchTarget:t=>e(n=>({searchTargetFieldNames:[...n.searchTargetFieldNames,t]})),resetInteractionStore:t=>e({searchTargetFieldNames:[],tabIndex:A4[t]})}),{name:"InteractionStore",anonymousActionType:"InteractionStore Action",enabled:!1})),Zt={black:"#000000",white:"#FFFFFF","blackAlpha.50":"rgba(0, 0, 0, 0.04)","blackAlpha.100":"rgba(0, 0, 0, 0.06)","blackAlpha.200":"rgba(0, 0, 0, 0.08)","blackAlpha.300":"rgba(0, 0, 0, 0.16)","blackAlpha.400":"rgba(0, 0, 0, 0.24)","blackAlpha.500":"rgba(0, 0, 0, 0.36)","blackAlpha.600":"rgba(0, 0, 0, 0.48)","blackAlpha.700":"rgba(0, 0, 0, 0.64)","blackAlpha.800":"rgba(0, 0, 0, 0.80)","blackAlpha.900":"rgba(0, 0, 0, 0.92)","whiteAlpha.50":"rgba(255, 255, 255, 0.04)","whiteAlpha.100":"rgba(255, 255, 255, 0.06)","whiteAlpha.200":"rgba(255, 255, 255, 0.08)","whiteAlpha.300":"rgba(255, 255, 255, 0.16)","whiteAlpha.400":"rgba(255, 255, 255, 0.24)","whiteAlpha.500":"rgba(255, 255, 255, 0.36)","whiteAlpha.600":"rgba(255, 255, 255, 0.48)","whiteAlpha.700":"rgba(255, 255, 255, 0.64)","whiteAlpha.800":"rgba(255, 255, 255, 0.80)","whiteAlpha.900":"rgba(255, 255, 255, 0.92)","gray.50":"#F7FAFC","gray.100":"#EDF2F7","gray.200":"#E2E8F0","gray.300":"#CBD5E0","gray.400":"#A0AEC0","gray.500":"#718096","gray.600":"#4A5568","gray.700":"#2D3748","gray.800":"#1A202C","gray.900":"#171923","red.50":"#FFF5F5","red.100":"#FED7D7","red.200":"#FEB2B2","red.300":"#FC8181","red.400":"#F56565","red.500":"#E53E3E","red.600":"#C53030","red.700":"#9B2C2C","red.800":"#822727","red.900":"#63171B","orange.50":"#FFFAF0","orange.100":"#FEEBC8","orange.200":"#FBD38D","orange.300":"#F6AD55","orange.400":"#ED8936","orange.500":"#DD6B20","orange.600":"#C05621","orange.700":"#9C4221","orange.800":"#7B341E","orange.900":"#652B19","yellow.50":"#FFFFF0","yellow.100":"#FEFCBF","yellow.200":"#FAF089","yellow.300":"#F6E05E","yellow.400":"#ECC94B","yellow.500":"#D69E2E","yellow.600":"#B7791F","yellow.700":"#975A16","yellow.800":"#744210","yellow.900":"#5F370E","green.50":"#F0FFF4","green.100":"#C6F6D5","green.200":"#9AE6B4","green.300":"#68D391","green.400":"#48BB78","green.500":"#38A169","green.600":"#2F855A","green.700":"#276749","green.800":"#22543D","green.900":"#1C4532","teal.50":"#E6FFFA","teal.100":"#B2F5EA","teal.200":"#81E6D9","teal.300":"#4FD1C5","teal.400":"#38B2AC","teal.500":"#319795","teal.600":"#2C7A7B","teal.700":"#285E61","teal.800":"#234E52","teal.900":"#1D4044","blue.50":"#EBF8FF","blue.100":"#BEE3F8","blue.200":"#90CDF4","blue.300":"#63B3ED","blue.400":"#4299E1","blue.500":"#3182CE","blue.600":"#2B6CB0","blue.700":"#2C5282","blue.800":"#2A4365","blue.900":"#1A365D","cyan.50":"#EDFDFD","cyan.100":"#C4F1F9","cyan.200":"#9DECF9","cyan.300":"#76E4F7","cyan.400":"#0BC5EA","cyan.500":"#00B5D8","cyan.600":"#00A3C4","cyan.700":"#0987A0","cyan.800":"#086F83","cyan.900":"#065666","purple.50":"#FAF5FF","purple.100":"#E9D8FD","purple.200":"#D6BCFA","purple.300":"#B794F4","purple.400":"#9F7AEA","purple.500":"#805AD5","purple.600":"#6B46C1","purple.700":"#553C9A","purple.800":"#44337A","purple.900":"#322659","pink.50":"#FFF5F7","pink.100":"#FED7E2","pink.200":"#FBB6CE","pink.300":"#F687B3","pink.400":"#ED64A6","pink.500":"#D53F8C","pink.600":"#B83280","pink.700":"#97266D","pink.800":"#702459","pink.900":"#521B41"},HG=[{name:"Barley",href:"https://cdn.jsdelivr.net/npm/vega-datasets@2/data/barley.json"},{name:"Cars",href:"https://cdn.jsdelivr.net/npm/vega-datasets@2/data/cars.json"},{name:"Crimea",href:"https://cdn.jsdelivr.net/npm/vega-datasets@2/data/crimea.json"},{name:"Jobs",href:"https://cdn.jsdelivr.net/npm/vega-datasets@2/data/jobs.json"},{name:"Population",href:"https://cdn.jsdelivr.net/npm/vega-datasets@2/data/population.json"},{name:"Movies",href:"https://cdn.jsdelivr.net/npm/vega-datasets@2/data/movies.json"},{name:"Birdstrikes",href:"https://cdn.jsdelivr.net/npm/vega-datasets@2/data/birdstrikes.csv"},{name:"Burtin",href:"https://cdn.jsdelivr.net/npm/vega-datasets@2/data/burtin.json"}],I2=1,kr="orange",Hc={50:Zt[`${kr}.50`],100:Zt[`${kr}.100`],200:Zt[`${kr}.200`],300:Zt[`${kr}.300`],400:Zt[`${kr}.400`],500:Zt[`${kr}.500`],600:Zt[`${kr}.600`],700:Zt[`${kr}.700`],800:Zt[`${kr}.800`],900:Zt[`${kr}.900`]},qG="table";var dhe=Symbol.for("immer-nothing"),GG=Symbol.for("immer-draftable"),Uo=Symbol.for("immer-state");function Js(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var f0=Object.getPrototypeOf;function d0(e){return!!e&&!!e[Uo]}function Bh(e){var t;return e?hhe(e)||Array.isArray(e)||!!e[GG]||!!((t=e.constructor)!=null&&t[GG])||NA(e)||LA(e):!1}var Iat=Object.prototype.constructor.toString();function hhe(e){if(!e||typeof e!="object")return!1;const t=f0(e);if(t===null)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===Iat}function Sk(e,t){MA(e)===0?Reflect.ownKeys(e).forEach(n=>{t(n,e[n],e)}):e.forEach((n,r)=>t(r,n,e))}function MA(e){const t=e[Uo];return t?t.type_:Array.isArray(e)?1:NA(e)?2:LA(e)?3:0}function RO(e,t){return MA(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function phe(e,t,n){const r=MA(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function zat(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function NA(e){return e instanceof Map}function LA(e){return e instanceof Set}function Ed(e){return e.copy_||e.base_}function PO(e,t){if(NA(e))return new Map(e);if(LA(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=hhe(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[Uo];let i=Reflect.ownKeys(r);for(let o=0;o<i.length;o++){const s=i[o],a=r[s];a.writable===!1&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(r[s]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[s]})}return Object.create(f0(e),r)}else{const r=f0(e);if(r!==null&&n)return{...e};const i=Object.create(r);return Object.assign(i,e)}}function R9(e,t=!1){return IA(e)||d0(e)||!Bh(e)||(MA(e)>1&&(e.set=e.add=e.clear=e.delete=jat),Object.freeze(e),t&&Object.entries(e).forEach(([n,r])=>R9(r,!0))),e}function jat(){Js(2)}function IA(e){return Object.isFrozen(e)}var Bat={};function Uh(e){const t=Bat[e];return t||Js(0,e),t}var _b;function ghe(){return _b}function Uat(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function XG(e,t){t&&(Uh("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function OO(e){DO(e),e.drafts_.forEach(Vat),e.drafts_=null}function DO(e){e===_b&&(_b=e.parent_)}function YG(e){return _b=Uat(_b,e)}function Vat(e){const t=e[Uo];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function KG(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[Uo].modified_&&(OO(t),Js(4)),Bh(e)&&(e=Ek(t,e),t.parent_||Ck(t,e)),t.patches_&&Uh("Patches").generateReplacementPatches_(n[Uo].base_,e,t.patches_,t.inversePatches_)):e=Ek(t,n,[]),OO(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==dhe?e:void 0}function Ek(e,t,n){if(IA(t))return t;const r=t[Uo];if(!r)return Sk(t,(i,o)=>QG(e,r,t,i,o,n)),t;if(r.scope_!==e)return t;if(!r.modified_)return Ck(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let o=i,s=!1;r.type_===3&&(o=new Set(i),i.clear(),s=!0),Sk(o,(a,l)=>QG(e,r,i,a,l,n,s)),Ck(e,i,!1),n&&e.patches_&&Uh("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function QG(e,t,n,r,i,o,s){if(d0(i)){const a=o&&t&&t.type_!==3&&!RO(t.assigned_,r)?o.concat(r):void 0,l=Ek(e,i,a);if(phe(n,r,l),d0(l))e.canAutoFreeze_=!1;else return}else s&&n.add(i);if(Bh(i)&&!IA(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;Ek(e,i),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,r)&&Ck(e,i)}}function Ck(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&R9(t,n)}function Wat(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:ghe(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,o=P9;n&&(i=[r],o=$b);const{revoke:s,proxy:a}=Proxy.revocable(i,o);return r.draft_=a,r.revoke_=s,a}var P9={get(e,t){if(t===Uo)return e;const n=Ed(e);if(!RO(n,t))return Hat(e,n,t);const r=n[t];return e.finalized_||!Bh(r)?r:r===T4(e.base_,t)?(F4(e),e.copy_[t]=NO(r,e)):r},has(e,t){return t in Ed(e)},ownKeys(e){return Reflect.ownKeys(Ed(e))},set(e,t,n){const r=mhe(Ed(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=T4(Ed(e),t),o=i==null?void 0:i[Uo];if(o&&o.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(zat(n,i)&&(n!==void 0||RO(e.base_,t)))return!0;F4(e),MO(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return T4(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,F4(e),MO(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Ed(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){Js(11)},getPrototypeOf(e){return f0(e.base_)},setPrototypeOf(){Js(12)}},$b={};Sk(P9,(e,t)=>{$b[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});$b.deleteProperty=function(e,t){return $b.set.call(this,e,t,void 0)};$b.set=function(e,t,n){return P9.set.call(this,e[0],t,n,e[0])};function T4(e,t){const n=e[Uo];return(n?Ed(n):e)[t]}function Hat(e,t,n){var i;const r=mhe(t,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function mhe(e,t){if(!(t in e))return;let n=f0(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=f0(n)}}function MO(e){e.modified_||(e.modified_=!0,e.parent_&&MO(e.parent_))}function F4(e){e.copy_||(e.copy_=PO(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var qat=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const o=n;n=t;const s=this;return function(l=o,...u){return s.produce(l,c=>n.call(this,c,...u))}}typeof n!="function"&&Js(6),r!==void 0&&typeof r!="function"&&Js(7);let i;if(Bh(t)){const o=YG(this),s=NO(t,void 0);let a=!0;try{i=n(s),a=!1}finally{a?OO(o):DO(o)}return XG(o,r),KG(i,o)}else if(!t||typeof t!="object"){if(i=n(t),i===void 0&&(i=t),i===dhe&&(i=void 0),this.autoFreeze_&&R9(i,!0),r){const o=[],s=[];Uh("Patches").generateReplacementPatches_(t,i,o,s),r(o,s)}return i}else Js(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(s,...a)=>this.produceWithPatches(s,l=>t(l,...a));let r,i;return[this.produce(t,n,(s,a)=>{r=s,i=a}),r,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){Bh(e)||Js(8),d0(e)&&(e=Gat(e));const t=YG(this),n=NO(e,void 0);return n[Uo].isManual_=!0,DO(t),n}finishDraft(e,t){const n=e&&e[Uo];(!n||!n.isManual_)&&Js(9);const{scope_:r}=n;return XG(r,t),KG(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const r=Uh("Patches").applyPatches_;return d0(e)?r(e,t):this.produce(e,i=>r(i,t))}};function NO(e,t){const n=NA(e)?Uh("MapSet").proxyMap_(e,t):LA(e)?Uh("MapSet").proxySet_(e,t):Wat(e,t);return(t?t.scope_:ghe()).drafts_.push(n),n}function Gat(e){return d0(e)||Js(10,e),yhe(e)}function yhe(e){if(!Bh(e)||IA(e))return e;const t=e[Uo];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=PO(e,t.scope_.immer_.useStrictShallowCopy_)}else n=PO(e,!0);return Sk(n,(r,i)=>{phe(n,r,yhe(i))}),t&&(t.finalized_=!1),n}var Vo=new qat,z2=Vo.produce;Vo.produceWithPatches.bind(Vo);Vo.setAutoFreeze.bind(Vo);Vo.setUseStrictShallowCopy.bind(Vo);Vo.applyPatches.bind(Vo);Vo.createDraft.bind(Vo);Vo.finishDraft.bind(Vo);const Lt=I$(z$((e,t)=>({filename:"",timestamp:0,charts:[],fields:[],currentChartIndex:-1,loadingSession:!1,appendingChart:!1,resetSession:()=>e({filename:"",timestamp:0,charts:[],fields:[],currentChartIndex:-1}),setCurrentChartIndex:n=>{const{appendingChart:r,charts:i,currentChartIndex:o}=t();r||n<-1||n>i.length-1||n===o||e({currentChartIndex:n})},setCurrentChartToLast:()=>{const{charts:n,currentChartIndex:r}=t(),i=n.length-1;i!==r&&e({currentChartIndex:i})},loadSession:async n=>{e({loadingSession:!0,filename:n});const{timestamp:r,charts:i,fields:o,currentChartIndex:s}=t(),a=await us.call("loadSession",{session:{filename:n,timestamp:r,charts:i,fields:o}});e(a?z2(l=>{Object.assign(l,a),l.currentChartIndex=s===-1?0:s,l.loadingSession=!1}):{loadingSession:!1})},appendNextChart:async()=>{const{appendingChart:n}=t();if(n)return;e({appendingChart:!0});const r=await us.call("appendNextChart");e(r?z2(i=>{i.charts.push(r),i.appendingChart=!1}):{appendingChart:!1})},appendChart:async n=>{const{appendingChart:r}=t();r||(e({appendingChart:!0}),await us.call("appendChart",{chart:n}),e(z2(i=>{i.charts.length>I2&&(i.charts=i.charts.slice(0,-I2)),i.charts.push({...n,timestamp:Date.now()}),i.appendingChart=!1})))},setChartPreferred:(n,r)=>{us.call("setPreferred",{key:n,preferred:r}),e(z2(i=>{i.charts.length>I2&&(i.charts=i.charts.slice(0,-I2));const o=i.charts.find(s=>s.key===n);o&&(o.preferred=r)})),t().appendNextChart()},setCurrentChartPreferred:n=>{const{charts:r,currentChartIndex:i,setChartPreferred:o}=t(),s=r[i];s&&o(s.key,n)}}),{name:"SessionStore",anonymousActionType:"SessionStore Action",enabled:!1})),vhe=I$(z$(BVe(e=>({apiKey:"sk-...",setApiKey:t=>e({apiKey:t}),locale:"en",setLocale:t=>e({locale:t})}),{name:"settings-storage"}),{name:"SettingStore",anonymousActionType:"SettingStore Action",enabled:!1}));var qx=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},h0=typeof window>"u"||"Deno"in globalThis;function is(){}function Xat(e,t){return typeof e=="function"?e(t):e}function LO(e){return typeof e=="number"&&e>=0&&e!==1/0}function bhe(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Yg(e,t){return typeof e=="function"?e(t):e}function Xs(e,t){return typeof e=="function"?e(t):e}function JG(e,t){const{type:n="all",exact:r,fetchStatus:i,predicate:o,queryKey:s,stale:a}=e;if(s){if(r){if(t.queryHash!==O9(s,t.options))return!1}else if(!Tb(t.queryKey,s))return!1}if(n!=="all"){const l=t.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&t.isStale()!==a||i&&i!==t.state.fetchStatus||o&&!o(t))}function ZG(e,t){const{exact:n,status:r,predicate:i,mutationKey:o}=e;if(o){if(!t.options.mutationKey)return!1;if(n){if(Ab(t.options.mutationKey)!==Ab(o))return!1}else if(!Tb(t.options.mutationKey,o))return!1}return!(r&&t.state.status!==r||i&&!i(t))}function O9(e,t){return((t==null?void 0:t.queryKeyHashFn)||Ab)(e)}function Ab(e){return JSON.stringify(e,(t,n)=>zO(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function Tb(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(n=>!Tb(e[n],t[n])):!1}function xhe(e,t){if(e===t)return e;const n=eX(e)&&eX(t);if(n||zO(e)&&zO(t)){const r=n?e:Object.keys(e),i=r.length,o=n?t:Object.keys(t),s=o.length,a=n?[]:{};let l=0;for(let u=0;u<s;u++){const c=n?u:o[u];(!n&&r.includes(c)||n)&&e[c]===void 0&&t[c]===void 0?(a[c]=void 0,l++):(a[c]=xhe(e[c],t[c]),a[c]===e[c]&&e[c]!==void 0&&l++)}return i===s&&l===i?e:a}return t}function IO(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function eX(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function zO(e){if(!tX(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!tX(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function tX(e){return Object.prototype.toString.call(e)==="[object Object]"}function Yat(e){return new Promise(t=>{setTimeout(t,e)})}function jO(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?xhe(e,t):t}function Kat(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function Qat(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var whe=Symbol();function She(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===whe?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var Ud,Ac,Kg,ZX,Jat=(ZX=class extends qx{constructor(){super();Ye(this,Ud);Ye(this,Ac);Ye(this,Kg);Ae(this,Kg,t=>{if(!h0&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){H(this,Ac)||this.setEventListener(H(this,Kg))}onUnsubscribe(){var t;this.hasListeners()||((t=H(this,Ac))==null||t.call(this),Ae(this,Ac,void 0))}setEventListener(t){var n;Ae(this,Kg,t),(n=H(this,Ac))==null||n.call(this),Ae(this,Ac,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){H(this,Ud)!==t&&(Ae(this,Ud,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof H(this,Ud)=="boolean"?H(this,Ud):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Ud=new WeakMap,Ac=new WeakMap,Kg=new WeakMap,ZX),D9=new Jat,Qg,Tc,Jg,eY,Zat=(eY=class extends qx{constructor(){super();Ye(this,Qg,!0);Ye(this,Tc);Ye(this,Jg);Ae(this,Jg,t=>{if(!h0&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){H(this,Tc)||this.setEventListener(H(this,Jg))}onUnsubscribe(){var t;this.hasListeners()||((t=H(this,Tc))==null||t.call(this),Ae(this,Tc,void 0))}setEventListener(t){var n;Ae(this,Jg,t),(n=H(this,Tc))==null||n.call(this),Ae(this,Tc,t(this.setOnline.bind(this)))}setOnline(t){H(this,Qg)!==t&&(Ae(this,Qg,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return H(this,Qg)}},Qg=new WeakMap,Tc=new WeakMap,Jg=new WeakMap,eY),kk=new Zat;function elt(e){return Math.min(1e3*2**e,3e4)}function Ehe(e){return(e??"online")==="online"?kk.isOnline():!0}var Che=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function R4(e){return e instanceof Che}function khe(e){let t=!1,n=0,r=!1,i,o,s;const a=new Promise((y,v)=>{o=y,s=v}),l=y=>{var v;r||(p(new Che(y)),(v=e.abort)==null||v.call(e))},u=()=>{t=!0},c=()=>{t=!1},f=()=>D9.isFocused()&&(e.networkMode==="always"||kk.isOnline())&&e.canRun(),d=()=>Ehe(e.networkMode)&&e.canRun(),h=y=>{var v;r||(r=!0,(v=e.onSuccess)==null||v.call(e,y),i==null||i(),o(y))},p=y=>{var v;r||(r=!0,(v=e.onError)==null||v.call(e,y),i==null||i(),s(y))},g=()=>new Promise(y=>{var v;i=b=>{(r||f())&&y(b)},(v=e.onPause)==null||v.call(e)}).then(()=>{var y;i=void 0,r||(y=e.onContinue)==null||y.call(e)}),m=()=>{if(r)return;let y;const v=n===0?e.initialPromise:void 0;try{y=v??e.fn()}catch(b){y=Promise.reject(b)}Promise.resolve(y).then(h).catch(b=>{var k;if(r)return;const x=e.retry??(h0?0:3),w=e.retryDelay??elt,C=typeof w=="function"?w(n,b):w,S=x===!0||typeof x=="number"&&n<x||typeof x=="function"&&x(n,b);if(t||!S){p(b);return}n++,(k=e.onFail)==null||k.call(e,n,b),Yat(C).then(()=>f()?void 0:g()).then(()=>{t?p(b):m()})})};return{promise:a,cancel:l,continue:()=>(i==null||i(),a),cancelRetry:u,continueRetry:c,canStart:d,start:()=>(d()?m():g().then(m),a)}}function tlt(){let e=[],t=0,n=d=>{d()},r=d=>{d()},i=d=>setTimeout(d,0);const o=d=>{i=d},s=d=>{let h;t++;try{h=d()}finally{t--,t||u()}return h},a=d=>{t?e.push(d):i(()=>{n(d)})},l=d=>(...h)=>{a(()=>{d(...h)})},u=()=>{const d=e;e=[],d.length&&i(()=>{r(()=>{d.forEach(h=>{n(h)})})})};return{batch:s,batchCalls:l,schedule:a,setNotifyFunction:d=>{n=d},setBatchNotifyFunction:d=>{r=d},setScheduler:o}}var Fr=tlt(),Vd,tY,_he=(tY=class{constructor(){Ye(this,Vd)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),LO(this.gcTime)&&Ae(this,Vd,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(h0?1/0:5*60*1e3))}clearGcTimeout(){H(this,Vd)&&(clearTimeout(H(this,Vd)),Ae(this,Vd,void 0))}},Vd=new WeakMap,tY),Zg,em,ts,Yr,Pb,Wd,Bs,ql,nY,nlt=(nY=class extends _he{constructor(t){super();Ye(this,Bs);Ye(this,Zg);Ye(this,em);Ye(this,ts);Ye(this,Yr);Ye(this,Pb);Ye(this,Wd);Ae(this,Wd,!1),Ae(this,Pb,t.defaultOptions),this.setOptions(t.options),this.observers=[],Ae(this,ts,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Ae(this,Zg,rlt(this.options)),this.state=t.state??H(this,Zg),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=H(this,Yr))==null?void 0:t.promise}setOptions(t){this.options={...H(this,Pb),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&H(this,ts).remove(this)}setData(t,n){const r=jO(this.state.data,t,this.options);return ft(this,Bs,ql).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){ft(this,Bs,ql).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,i;const n=(r=H(this,Yr))==null?void 0:r.promise;return(i=H(this,Yr))==null||i.cancel(t),n?n.then(is).catch(is):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(H(this,Zg))}isActive(){return this.observers.some(t=>Xs(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!bhe(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=H(this,Yr))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=H(this,Yr))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),H(this,ts).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(H(this,Yr)&&(H(this,Wd)?H(this,Yr).cancel({revert:!0}):H(this,Yr).cancelRetry()),this.scheduleGc()),H(this,ts).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||ft(this,Bs,ql).call(this,{type:"invalidate"})}fetch(t,n){var l,u,c;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(H(this,Yr))return H(this,Yr).continueRetry(),H(this,Yr).promise}if(t&&this.setOptions(t),!this.options.queryFn){const f=this.observers.find(d=>d.options.queryFn);f&&this.setOptions(f.options)}const r=new AbortController,i=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(Ae(this,Wd,!0),r.signal)})},o=()=>{const f=She(this.options,n),d={queryKey:this.queryKey,meta:this.meta};return i(d),Ae(this,Wd,!1),this.options.persister?this.options.persister(f,d,this):f(d)},s={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};i(s),(l=this.options.behavior)==null||l.onFetch(s,this),Ae(this,em,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=s.fetchOptions)==null?void 0:u.meta))&&ft(this,Bs,ql).call(this,{type:"fetch",meta:(c=s.fetchOptions)==null?void 0:c.meta});const a=f=>{var d,h,p,g;R4(f)&&f.silent||ft(this,Bs,ql).call(this,{type:"error",error:f}),R4(f)||((h=(d=H(this,ts).config).onError)==null||h.call(d,f,this),(g=(p=H(this,ts).config).onSettled)==null||g.call(p,this.state.data,f,this)),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return Ae(this,Yr,khe({initialPromise:n==null?void 0:n.initialPromise,fn:s.fetchFn,abort:r.abort.bind(r),onSuccess:f=>{var d,h,p,g;if(f===void 0){a(new Error(`${this.queryHash} data is undefined`));return}this.setData(f),(h=(d=H(this,ts).config).onSuccess)==null||h.call(d,f,this),(g=(p=H(this,ts).config).onSettled)==null||g.call(p,f,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:a,onFail:(f,d)=>{ft(this,Bs,ql).call(this,{type:"failed",failureCount:f,error:d})},onPause:()=>{ft(this,Bs,ql).call(this,{type:"pause"})},onContinue:()=>{ft(this,Bs,ql).call(this,{type:"continue"})},retry:s.options.retry,retryDelay:s.options.retryDelay,networkMode:s.options.networkMode,canRun:()=>!0})),H(this,Yr).start()}},Zg=new WeakMap,em=new WeakMap,ts=new WeakMap,Yr=new WeakMap,Pb=new WeakMap,Wd=new WeakMap,Bs=new WeakSet,ql=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...$he(r.data,this.options),fetchMeta:t.meta??null};case"success":return{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=t.error;return R4(i)&&i.revert&&H(this,em)?{...H(this,em),fetchStatus:"idle"}:{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),Fr.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),H(this,ts).notify({query:this,type:"updated",action:t})})},nY);function $he(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Ehe(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function rlt(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Va,rY,ilt=(rY=class extends qx{constructor(t={}){super();Ye(this,Va);this.config=t,Ae(this,Va,new Map)}build(t,n,r){const i=n.queryKey,o=n.queryHash??O9(i,n);let s=this.get(o);return s||(s=new nlt({cache:this,queryKey:i,queryHash:o,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(i)}),this.add(s)),s}add(t){H(this,Va).has(t.queryHash)||(H(this,Va).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=H(this,Va).get(t.queryHash);n&&(t.destroy(),n===t&&H(this,Va).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Fr.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return H(this,Va).get(t)}getAll(){return[...H(this,Va).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>JG(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>JG(t,r)):n}notify(t){Fr.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){Fr.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Fr.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Va=new WeakMap,rY),Wa,mi,Hd,Ha,pc,iY,olt=(iY=class extends _he{constructor(t){super();Ye(this,Ha);Ye(this,Wa);Ye(this,mi);Ye(this,Hd);this.mutationId=t.mutationId,Ae(this,mi,t.mutationCache),Ae(this,Wa,[]),this.state=t.state||slt(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){H(this,Wa).includes(t)||(H(this,Wa).push(t),this.clearGcTimeout(),H(this,mi).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Ae(this,Wa,H(this,Wa).filter(n=>n!==t)),this.scheduleGc(),H(this,mi).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){H(this,Wa).length||(this.state.status==="pending"?this.scheduleGc():H(this,mi).remove(this))}continue(){var t;return((t=H(this,Hd))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var i,o,s,a,l,u,c,f,d,h,p,g,m,y,v,b,x,w,C,S;Ae(this,Hd,khe({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(k,$)=>{ft(this,Ha,pc).call(this,{type:"failed",failureCount:k,error:$})},onPause:()=>{ft(this,Ha,pc).call(this,{type:"pause"})},onContinue:()=>{ft(this,Ha,pc).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>H(this,mi).canRun(this)}));const n=this.state.status==="pending",r=!H(this,Hd).canStart();try{if(!n){ft(this,Ha,pc).call(this,{type:"pending",variables:t,isPaused:r}),await((o=(i=H(this,mi).config).onMutate)==null?void 0:o.call(i,t,this));const $=await((a=(s=this.options).onMutate)==null?void 0:a.call(s,t));$!==this.state.context&&ft(this,Ha,pc).call(this,{type:"pending",context:$,variables:t,isPaused:r})}const k=await H(this,Hd).start();return await((u=(l=H(this,mi).config).onSuccess)==null?void 0:u.call(l,k,t,this.state.context,this)),await((f=(c=this.options).onSuccess)==null?void 0:f.call(c,k,t,this.state.context)),await((h=(d=H(this,mi).config).onSettled)==null?void 0:h.call(d,k,null,this.state.variables,this.state.context,this)),await((g=(p=this.options).onSettled)==null?void 0:g.call(p,k,null,t,this.state.context)),ft(this,Ha,pc).call(this,{type:"success",data:k}),k}catch(k){try{throw await((y=(m=H(this,mi).config).onError)==null?void 0:y.call(m,k,t,this.state.context,this)),await((b=(v=this.options).onError)==null?void 0:b.call(v,k,t,this.state.context)),await((w=(x=H(this,mi).config).onSettled)==null?void 0:w.call(x,void 0,k,this.state.variables,this.state.context,this)),await((S=(C=this.options).onSettled)==null?void 0:S.call(C,void 0,k,t,this.state.context)),k}finally{ft(this,Ha,pc).call(this,{type:"error",error:k})}}finally{H(this,mi).runNext(this)}}},Wa=new WeakMap,mi=new WeakMap,Hd=new WeakMap,Ha=new WeakSet,pc=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Fr.batch(()=>{H(this,Wa).forEach(r=>{r.onMutationUpdate(t)}),H(this,mi).notify({mutation:this,type:"updated",action:t})})},iY);function slt(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var bo,Ob,oY,alt=(oY=class extends qx{constructor(t={}){super();Ye(this,bo);Ye(this,Ob);this.config=t,Ae(this,bo,new Map),Ae(this,Ob,Date.now())}build(t,n,r){const i=new olt({mutationCache:this,mutationId:++mw(this,Ob)._,options:t.defaultMutationOptions(n),state:r});return this.add(i),i}add(t){const n=j2(t),r=H(this,bo).get(n)??[];r.push(t),H(this,bo).set(n,r),this.notify({type:"added",mutation:t})}remove(t){var r;const n=j2(t);if(H(this,bo).has(n)){const i=(r=H(this,bo).get(n))==null?void 0:r.filter(o=>o!==t);i&&(i.length===0?H(this,bo).delete(n):H(this,bo).set(n,i))}this.notify({type:"removed",mutation:t})}canRun(t){var r;const n=(r=H(this,bo).get(j2(t)))==null?void 0:r.find(i=>i.state.status==="pending");return!n||n===t}runNext(t){var r;const n=(r=H(this,bo).get(j2(t)))==null?void 0:r.find(i=>i!==t&&i.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){Fr.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...H(this,bo).values()].flat()}find(t){const n={exact:!0,...t};return this.getAll().find(r=>ZG(n,r))}findAll(t={}){return this.getAll().filter(n=>ZG(t,n))}notify(t){Fr.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return Fr.batch(()=>Promise.all(t.map(n=>n.continue().catch(is))))}},bo=new WeakMap,Ob=new WeakMap,oY);function j2(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function llt(e){return{onFetch:(t,n)=>{const r=async()=>{var p,g,m,y,v;const i=t.options,o=(m=(g=(p=t.fetchOptions)==null?void 0:p.meta)==null?void 0:g.fetchMore)==null?void 0:m.direction,s=((y=t.state.data)==null?void 0:y.pages)||[],a=((v=t.state.data)==null?void 0:v.pageParams)||[],l={pages:[],pageParams:[]};let u=!1;const c=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(t.signal.aborted?u=!0:t.signal.addEventListener("abort",()=>{u=!0}),t.signal)})},f=She(t.options,t.fetchOptions),d=async(b,x,w)=>{if(u)return Promise.reject();if(x==null&&b.pages.length)return Promise.resolve(b);const C={queryKey:t.queryKey,pageParam:x,direction:w?"backward":"forward",meta:t.options.meta};c(C);const S=await f(C),{maxPages:k}=t.options,$=w?Qat:Kat;return{pages:$(b.pages,S,k),pageParams:$(b.pageParams,x,k)}};let h;if(o&&s.length){const b=o==="backward",x=b?ult:nX,w={pages:s,pageParams:a},C=x(i,w);h=await d(w,C,b)}else{h=await d(l,a[0]??i.initialPageParam);const b=e??s.length;for(let x=1;x<b;x++){const w=nX(i,h);if(w==null)break;h=await d(h,w)}}return h};t.options.persister?t.fetchFn=()=>{var i,o;return(o=(i=t.options).persister)==null?void 0:o.call(i,r,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=r}}}function nX(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function ult(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var _n,Fc,Rc,tm,nm,Pc,rm,im,sY,clt=(sY=class{constructor(e={}){Ye(this,_n);Ye(this,Fc);Ye(this,Rc);Ye(this,tm);Ye(this,nm);Ye(this,Pc);Ye(this,rm);Ye(this,im);Ae(this,_n,e.queryCache||new ilt),Ae(this,Fc,e.mutationCache||new alt),Ae(this,Rc,e.defaultOptions||{}),Ae(this,tm,new Map),Ae(this,nm,new Map),Ae(this,Pc,0)}mount(){mw(this,Pc)._++,H(this,Pc)===1&&(Ae(this,rm,D9.subscribe(async e=>{e&&(await this.resumePausedMutations(),H(this,_n).onFocus())})),Ae(this,im,kk.subscribe(async e=>{e&&(await this.resumePausedMutations(),H(this,_n).onOnline())})))}unmount(){var e,t;mw(this,Pc)._--,H(this,Pc)===0&&((e=H(this,rm))==null||e.call(this),Ae(this,rm,void 0),(t=H(this,im))==null||t.call(this),Ae(this,im,void 0))}isFetching(e){return H(this,_n).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return H(this,Fc).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=H(this,_n).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const n=this.defaultQueryOptions(e),r=H(this,_n).build(this,n);return e.revalidateIfStale&&r.isStaleByTime(Yg(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(t)}}getQueriesData(e){return H(this,_n).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),i=H(this,_n).get(r.queryHash),o=i==null?void 0:i.state.data,s=Xat(t,o);if(s!==void 0)return H(this,_n).build(this,r).setData(s,{...n,manual:!0})}setQueriesData(e,t,n){return Fr.batch(()=>H(this,_n).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=H(this,_n).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=H(this,_n);Fr.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=H(this,_n),r={type:"active",...e};return Fr.batch(()=>(n.findAll(e).forEach(i=>{i.reset()}),this.refetchQueries(r,t)))}cancelQueries(e={},t={}){const n={revert:!0,...t},r=Fr.batch(()=>H(this,_n).findAll(e).map(i=>i.cancel(n)));return Promise.all(r).then(is).catch(is)}invalidateQueries(e={},t={}){return Fr.batch(()=>{if(H(this,_n).findAll(e).forEach(r=>{r.invalidate()}),e.refetchType==="none")return Promise.resolve();const n={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(n,t)})}refetchQueries(e={},t){const n={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},r=Fr.batch(()=>H(this,_n).findAll(e).filter(i=>!i.isDisabled()).map(i=>{let o=i.fetch(void 0,n);return n.throwOnError||(o=o.catch(is)),i.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(r).then(is)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=H(this,_n).build(this,t);return n.isStaleByTime(Yg(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(is).catch(is)}fetchInfiniteQuery(e){return e.behavior=llt(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(is).catch(is)}resumePausedMutations(){return kk.isOnline()?H(this,Fc).resumePausedMutations():Promise.resolve()}getQueryCache(){return H(this,_n)}getMutationCache(){return H(this,Fc)}getDefaultOptions(){return H(this,Rc)}setDefaultOptions(e){Ae(this,Rc,e)}setQueryDefaults(e,t){H(this,tm).set(Ab(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...H(this,tm).values()];let n={};return t.forEach(r=>{Tb(e,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(e,t){H(this,nm).set(Ab(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...H(this,nm).values()];let n={};return t.forEach(r=>{Tb(e,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...H(this,Rc).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=O9(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===whe&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...H(this,Rc).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){H(this,_n).clear(),H(this,Fc).clear()}},_n=new WeakMap,Fc=new WeakMap,Rc=new WeakMap,tm=new WeakMap,nm=new WeakMap,Pc=new WeakMap,rm=new WeakMap,im=new WeakMap,sY),Hi,dt,Db,yi,qd,om,qa,Mb,sm,am,Gd,Xd,Oc,lm,Dt,M1,BO,UO,VO,WO,HO,qO,GO,Ahe,aY,flt=(aY=class extends qx{constructor(t,n){super();Ye(this,Dt);Ye(this,Hi);Ye(this,dt);Ye(this,Db);Ye(this,yi);Ye(this,qd);Ye(this,om);Ye(this,qa);Ye(this,Mb);Ye(this,sm);Ye(this,am);Ye(this,Gd);Ye(this,Xd);Ye(this,Oc);Ye(this,lm,new Set);this.options=n,Ae(this,Hi,t),Ae(this,qa,null),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(H(this,dt).addObserver(this),rX(H(this,dt),this.options)?ft(this,Dt,M1).call(this):this.updateResult(),ft(this,Dt,WO).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return XO(H(this,dt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return XO(H(this,dt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,ft(this,Dt,HO).call(this),ft(this,Dt,qO).call(this),H(this,dt).removeObserver(this)}setOptions(t,n){const r=this.options,i=H(this,dt);if(this.options=H(this,Hi).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Xs(this.options.enabled,H(this,dt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");ft(this,Dt,GO).call(this),H(this,dt).setOptions(this.options),r._defaulted&&!IO(this.options,r)&&H(this,Hi).getQueryCache().notify({type:"observerOptionsUpdated",query:H(this,dt),observer:this});const o=this.hasListeners();o&&iX(H(this,dt),i,this.options,r)&&ft(this,Dt,M1).call(this),this.updateResult(n),o&&(H(this,dt)!==i||Xs(this.options.enabled,H(this,dt))!==Xs(r.enabled,H(this,dt))||Yg(this.options.staleTime,H(this,dt))!==Yg(r.staleTime,H(this,dt)))&&ft(this,Dt,BO).call(this);const s=ft(this,Dt,UO).call(this);o&&(H(this,dt)!==i||Xs(this.options.enabled,H(this,dt))!==Xs(r.enabled,H(this,dt))||s!==H(this,Oc))&&ft(this,Dt,VO).call(this,s)}getOptimisticResult(t){const n=H(this,Hi).getQueryCache().build(H(this,Hi),t),r=this.createResult(n,t);return hlt(this,r)&&(Ae(this,yi,r),Ae(this,om,this.options),Ae(this,qd,H(this,dt).state)),r}getCurrentResult(){return H(this,yi)}trackResult(t,n){const r={};return Object.keys(t).forEach(i=>{Object.defineProperty(r,i,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(i),n==null||n(i),t[i])})}),r}trackProp(t){H(this,lm).add(t)}getCurrentQuery(){return H(this,dt)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=H(this,Hi).defaultQueryOptions(t),r=H(this,Hi).getQueryCache().build(H(this,Hi),n);return r.isFetchingOptimistic=!0,r.fetch().then(()=>this.createResult(r,n))}fetch(t){return ft(this,Dt,M1).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),H(this,yi)))}createResult(t,n){var S;const r=H(this,dt),i=this.options,o=H(this,yi),s=H(this,qd),a=H(this,om),u=t!==r?t.state:H(this,Db),{state:c}=t;let f={...c},d=!1,h;if(n._optimisticResults){const k=this.hasListeners(),$=!k&&rX(t,n),R=k&&iX(t,r,n,i);($||R)&&(f={...f,...$he(c.data,t.options)}),n._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:p,errorUpdatedAt:g,status:m}=f;if(n.select&&f.data!==void 0)if(o&&f.data===(s==null?void 0:s.data)&&n.select===H(this,Mb))h=H(this,sm);else try{Ae(this,Mb,n.select),h=n.select(f.data),h=jO(o==null?void 0:o.data,h,n),Ae(this,sm,h),Ae(this,qa,null)}catch(k){Ae(this,qa,k)}else h=f.data;if(n.placeholderData!==void 0&&h===void 0&&m==="pending"){let k;if(o!=null&&o.isPlaceholderData&&n.placeholderData===(a==null?void 0:a.placeholderData))k=o.data;else if(k=typeof n.placeholderData=="function"?n.placeholderData((S=H(this,am))==null?void 0:S.state.data,H(this,am)):n.placeholderData,n.select&&k!==void 0)try{k=n.select(k),Ae(this,qa,null)}catch($){Ae(this,qa,$)}k!==void 0&&(m="success",h=jO(o==null?void 0:o.data,k,n),d=!0)}H(this,qa)&&(p=H(this,qa),h=H(this,sm),g=Date.now(),m="error");const y=f.fetchStatus==="fetching",v=m==="pending",b=m==="error",x=v&&y,w=h!==void 0;return{status:m,fetchStatus:f.fetchStatus,isPending:v,isSuccess:m==="success",isError:b,isInitialLoading:x,isLoading:x,data:h,dataUpdatedAt:f.dataUpdatedAt,error:p,errorUpdatedAt:g,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:y,isRefetching:y&&!v,isLoadingError:b&&!w,isPaused:f.fetchStatus==="paused",isPlaceholderData:d,isRefetchError:b&&w,isStale:M9(t,n),refetch:this.refetch}}updateResult(t){const n=H(this,yi),r=this.createResult(H(this,dt),this.options);if(Ae(this,qd,H(this,dt).state),Ae(this,om,this.options),H(this,qd).data!==void 0&&Ae(this,am,H(this,dt)),IO(r,n))return;Ae(this,yi,r);const i={},o=()=>{if(!n)return!0;const{notifyOnChangeProps:s}=this.options,a=typeof s=="function"?s():s;if(a==="all"||!a&&!H(this,lm).size)return!0;const l=new Set(a??H(this,lm));return this.options.throwOnError&&l.add("error"),Object.keys(H(this,yi)).some(u=>{const c=u;return H(this,yi)[c]!==n[c]&&l.has(c)})};(t==null?void 0:t.listeners)!==!1&&o()&&(i.listeners=!0),ft(this,Dt,Ahe).call(this,{...i,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&ft(this,Dt,WO).call(this)}},Hi=new WeakMap,dt=new WeakMap,Db=new WeakMap,yi=new WeakMap,qd=new WeakMap,om=new WeakMap,qa=new WeakMap,Mb=new WeakMap,sm=new WeakMap,am=new WeakMap,Gd=new WeakMap,Xd=new WeakMap,Oc=new WeakMap,lm=new WeakMap,Dt=new WeakSet,M1=function(t){ft(this,Dt,GO).call(this);let n=H(this,dt).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(is)),n},BO=function(){ft(this,Dt,HO).call(this);const t=Yg(this.options.staleTime,H(this,dt));if(h0||H(this,yi).isStale||!LO(t))return;const r=bhe(H(this,yi).dataUpdatedAt,t)+1;Ae(this,Gd,setTimeout(()=>{H(this,yi).isStale||this.updateResult()},r))},UO=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(H(this,dt)):this.options.refetchInterval)??!1},VO=function(t){ft(this,Dt,qO).call(this),Ae(this,Oc,t),!(h0||Xs(this.options.enabled,H(this,dt))===!1||!LO(H(this,Oc))||H(this,Oc)===0)&&Ae(this,Xd,setInterval(()=>{(this.options.refetchIntervalInBackground||D9.isFocused())&&ft(this,Dt,M1).call(this)},H(this,Oc)))},WO=function(){ft(this,Dt,BO).call(this),ft(this,Dt,VO).call(this,ft(this,Dt,UO).call(this))},HO=function(){H(this,Gd)&&(clearTimeout(H(this,Gd)),Ae(this,Gd,void 0))},qO=function(){H(this,Xd)&&(clearInterval(H(this,Xd)),Ae(this,Xd,void 0))},GO=function(){const t=H(this,Hi).getQueryCache().build(H(this,Hi),this.options);if(t===H(this,dt))return;const n=H(this,dt);Ae(this,dt,t),Ae(this,Db,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},Ahe=function(t){Fr.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(H(this,yi))}),H(this,Hi).getQueryCache().notify({query:H(this,dt),type:"observerResultsUpdated"})})},aY);function dlt(e,t){return Xs(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function rX(e,t){return dlt(e,t)||e.state.data!==void 0&&XO(e,t,t.refetchOnMount)}function XO(e,t,n){if(Xs(t.enabled,e)!==!1){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&M9(e,t)}return!1}function iX(e,t,n,r){return(e!==t||Xs(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&M9(e,n)}function M9(e,t){return Xs(t.enabled,e)!==!1&&e.isStaleByTime(Yg(t.staleTime,e))}function hlt(e,t){return!IO(e.getCurrentResult(),t)}var The=M.createContext(void 0),plt=e=>{const t=M.useContext(The);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},glt=({client:e,children:t})=>(M.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),F.jsx(The.Provider,{value:e,children:t})),Fhe=M.createContext(!1),mlt=()=>M.useContext(Fhe);Fhe.Provider;function ylt(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var vlt=M.createContext(ylt()),blt=()=>M.useContext(vlt);function xlt(e,t){return typeof e=="function"?e(...t):!!e}var wlt=(e,t)=>{(e.suspense||e.throwOnError)&&(t.isReset()||(e.retryOnMount=!1))},Slt=e=>{M.useEffect(()=>{e.clearReset()},[e])},Elt=({result:e,errorResetBoundary:t,throwOnError:n,query:r})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&xlt(n,[e.error,r]),Clt=e=>{e.suspense&&(typeof e.staleTime!="number"&&(e.staleTime=1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},klt=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,_lt=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function $lt(e,t,n){var u,c,f,d;const r=plt(),i=mlt(),o=blt(),s=r.defaultQueryOptions(e);(c=(u=r.getDefaultOptions().queries)==null?void 0:u._experimental_beforeQuery)==null||c.call(u,s),s._optimisticResults=i?"isRestoring":"optimistic",Clt(s),wlt(s,o),Slt(o);const[a]=M.useState(()=>new t(r,s)),l=a.getOptimisticResult(s);if(M.useSyncExternalStore(M.useCallback(h=>{const p=i?()=>{}:a.subscribe(Fr.batchCalls(h));return a.updateResult(),p},[a,i]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),M.useEffect(()=>{a.setOptions(s,{listeners:!1})},[s,a]),klt(s,l))throw _lt(s,a,o);if(Elt({result:l,errorResetBoundary:o,throwOnError:s.throwOnError,query:r.getQueryCache().get(s.queryHash)}))throw l.error;return(d=(f=r.getDefaultOptions().queries)==null?void 0:f._experimental_afterQuery)==null||d.call(f,s,l),s.notifyOnChangeProps?l:a.trackResult(l)}function Alt(e,t){return $lt(e,flt)}function Tlt(e){const{colorMode:t}=H0(),n=Cf(u=>u.data),r=e.specs[e.specIndex],i=t==="dark"?"dark":void 0,[o,s]=Pd({base:[window.innerWidth-64,Math.min(window.innerHeight-350,500)],lg:[Math.min(window.innerWidth-250,600),Math.min(window.innerHeight-250,600)]})??[300,300],a={...r,width:o,mark:{..."mark"in r?r.mark:{}},height:s,background:"transparent",data:{name:qG},config:{..."config"in r?r.config:{},title:{fontSize:18,offset:16},axis:{labelFontSize:14,titleFontSize:16,titlePadding:16,labelLimit:70},autosize:{type:"fit"},legend:{direction:"horizontal",titleLimit:o,gradientLength:o-20,columns:2,orient:"bottom",labelFontSize:14,titleFontSize:16},numberFormat:".3~s"}};return{data:{[qG]:n},chartTheme:i,spec:a}}function Flt(){var f;const e=Lt(d=>d.charts),t=Lt(d=>d.fields),n=Lt(d=>d.setCurrentChartIndex),r=Lt(d=>d.setCurrentChartPreferred),i=Lt(d=>d.currentChartIndex),o=0<=i&&i<e.length&&((f=e[i])==null?void 0:f.preferred),s=i!==-1;return{sessionInitialized:t.length>0,chartDisplaying:s,currentChartPreferred:o,handleNextChart:()=>n(i+1),handlePrevChart:()=>n(i-1),handlePreferChart:()=>{r(!o)}}}function Rhe(){const e=Cf(u=>u.writingFile),t=Cf(u=>u.writeFile),n=Lt(u=>u.loadingSession),r=Lt(u=>u.loadSession),i=Lt(u=>u.resetSession),o=Lt(u=>u.filename),s=Mo(u=>u.resetInteractionStore),{mobile:a}=fi();return{loading:e||n,initializeSession:async u=>{const c=u instanceof File?u.name:nle(u);c&&(c!==o&&i(),await t(u),await r(c),s(a?"charts":"search"))}}}function Rlt(){const{loading:e,initializeSession:t}=Rhe(),[n,r]=M.useState(null);return{loading:e,selectedDemo:n,handleSubmit:()=>{n!=null&&n.href&&t(n.href)},handleDemoSelect:s=>{r(s)}}}const Plt=(e,t={})=>{const{latency:n=200}=t,[r,i]=M.useState(0),[o,s]=M.useState(0),a=M.useCallback(()=>{s(Date.now())},[]),l=M.useCallback(c=>{if(Date.now()-o>500)return;const d=Date.now();d-r<n&&(c.preventDefault(),e(c)),i(d)},[e,r,n,o]),u=M.useCallback(c=>{e(c)},[e]);return{onTouchStart:a,onTouchEnd:l,onDoubleClick:u}};function Olt(){var c,f;const{loading:e,initializeSession:t}=Rhe(),[n,r]=M.useState(""),i=M.useRef(null),o=d=>{var p,g;const h=((g=d.target.files)==null?void 0:g[((p=d.target.files)==null?void 0:p.length)-1].name)??"";r(h)},s=d=>{r(d.target.value),i.current&&(i.current.value="",i.current.files=null)},a=()=>{i.current&&i.current.click()},l=()=>{var d,h;if((h=(d=i.current)==null?void 0:d.files)!=null&&h.length){const p=i.current.files[0];t(p)}else lVe(n)&&t(n)},u=!n&&!((f=(c=i.current)==null?void 0:c.files)!=null&&f.length);return{fileInputRef:i,inputDisabled:u,loadingData:e,pathInput:n,handleInputChange:s,handleSubmit:l,handleFileChange:o,handleFileButtonClick:a}}function Dlt(e,t){t.domain&&("nice"in e||"quantiles"in e||"padding"in e,e.domain(t.domain))}function Mlt(e,t){t.range&&("padding"in e,e.range(t.range))}function Nlt(e,t){"align"in e&&"align"in t&&typeof t.align<"u"&&e.align(t.align)}function Llt(e,t){"base"in e&&"base"in t&&typeof t.base<"u"&&e.base(t.base)}function Ilt(e,t){"clamp"in e&&"clamp"in t&&typeof t.clamp<"u"&&e.clamp(t.clamp)}function zlt(e,t){"constant"in e&&"constant"in t&&typeof t.constant<"u"&&e.constant(t.constant)}function jlt(e,t){"exponent"in e&&"exponent"in t&&typeof t.exponent<"u"&&e.exponent(t.exponent)}var oX={lab:xZ,hcl:SZ,"hcl-long":EZ,hsl:vZ,"hsl-long":bZ,cubehelix:kZ,"cubehelix-long":_Z,rgb:vE};function Blt(e){switch(e){case"lab":case"hcl":case"hcl-long":case"hsl":case"hsl-long":case"cubehelix":case"cubehelix-long":case"rgb":return oX[e]}var t=e.type,n=e.gamma,r=oX[t];return typeof n>"u"?r:r.gamma(n)}function Ult(e,t){if("interpolate"in t&&"interpolate"in e&&typeof t.interpolate<"u"){var n=Blt(t.interpolate);e.interpolate(n)}}var Vlt=new Date(Date.UTC(2020,1,2,3,4,5)),Wlt="%Y-%m-%d %H:%M";function Hlt(e){var t=e.tickFormat(1,Wlt)(Vlt);return t==="2020-02-02 03:04"}var sX={day:ol,hour:Vb,minute:Bb,month:gm,second:Zs,week:Gh,year:ca},aX={day:du,hour:Wb,minute:Ub,month:mm,second:Zs,week:Yh,year:fa};function qlt(e,t){if("nice"in t&&typeof t.nice<"u"&&"nice"in e){var n=t.nice;if(typeof n=="boolean")n&&e.nice();else if(typeof n=="number")e.nice(n);else{var r=e,i=Hlt(r);if(typeof n=="string")r.nice(i?aX[n]:sX[n]);else{var o=n.interval,s=n.step,a=(i?aX[o]:sX[o]).every(s);a!=null&&r.nice(a)}}}}function Glt(e,t){"padding"in e&&"padding"in t&&typeof t.padding<"u"&&e.padding(t.padding),"paddingInner"in e&&"paddingInner"in t&&typeof t.paddingInner<"u"&&e.paddingInner(t.paddingInner),"paddingOuter"in e&&"paddingOuter"in t&&typeof t.paddingOuter<"u"&&e.paddingOuter(t.paddingOuter)}function Xlt(e,t){if(t.reverse){var n=e.range().slice().reverse();"padding"in e,e.range(n)}}function Ylt(e,t){"round"in t&&typeof t.round<"u"&&(t.round&&"interpolate"in t&&typeof t.interpolate<"u"?console.warn("[visx/scale/applyRound] ignoring round: scale config contains round and interpolate. only applying interpolate. config:",t):"round"in e?e.round(t.round):"interpolate"in e&&t.round&&e.interpolate(_0))}function Klt(e,t){"unknown"in e&&"unknown"in t&&typeof t.unknown<"u"&&e.unknown(t.unknown)}function Qlt(e,t){if("zero"in t&&t.zero===!0){var n=e.domain(),r=n[0],i=n[1],o=i<r,s=o?[i,r]:[r,i],a=s[0],l=s[1],u=[Math.min(0,a),Math.max(0,l)];e.domain(o?u.reverse():u)}}var Jlt=["domain","nice","zero","interpolate","round","range","reverse","align","base","clamp","constant","exponent","padding","unknown"],Zlt={domain:Dlt,nice:qlt,zero:Qlt,interpolate:Ult,round:Ylt,align:Nlt,base:Llt,clamp:Ilt,constant:zlt,exponent:jlt,padding:Glt,range:Mlt,reverse:Xlt,unknown:Klt};function eut(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=new Set(t),i=Jlt.filter(function(o){return r.has(o)});return function(s,a){return typeof a<"u"&&i.forEach(function(l){Zlt[l](s,a)}),s}}var tut=eut("domain","range","reverse","clamp","interpolate","nice","round","zero");function nut(e){return tut(KM(),e)}function rut({height:e,r:t}){const n=Lt(h=>h.charts),i=Lt(h=>h.appendingChart)?n:n.slice(0,n.length-1),o=Lt(h=>h.currentChartIndex),{preferredColor:s,indicatorGap:a,indicatorPadding:l}=fi(),u=Na(Zt["gray.400"],Zt["gray.600"]),c=Math.min(e-l.TOP-l.BOTTOM,2*t*i.length+a*(i.length-1)),f=t-Math.floor(i.length/60),d=nut({domain:[0,i.length-1],range:[e/2-c/2,e/2+c/2]});return i.map((h,p)=>({key:`indicator-${h.key}`,cx:3*t,cy:d(p),r:p===o?2*f:f,fill:h.preferred?s:u}))}function fi(){const e=Pd({base:4,lg:0}),t=2,n=M.useRef(null),r=Pd({base:window.innerWidth-2*t*4,lg:880}),i=Pd({base:window.innerHeight-140,lg:window.innerHeight*.8-18}),o=r-2*e*4,s=i-2*e*4,a=Pd({base:!0,lg:!1}),l=Na(Zt.white,Zt["gray.900"]),u=Na(Zt.white,Zt["gray.900"]),c=Na(Zt["gray.200"],Zt["gray.700"]),f=Pd({base:"calc(100dvh - 110px)",lg:window.innerHeight*.8-200}),d=5,h="70px",p=Na(Zt["gray.100"],Zt["gray.800"]),g=Na(Hc[600],Hc[300]),m=Na(Hc[500],Hc[400]),y=Na(Zt["red.500"],Zt["red.200"]),v=Na(Zt["orange.50"],Zt["orange.800"]),b=Na(Zt["orange.600"],Zt["orange.200"]);return{cardRef:n,cardInnerHeight:s,cardInnerWidth:o,indicatorGap:6,indicatorPadding:{TOP:12,BOTTOM:12},accentColor:g,accentHoverColor:m,borderColor:c,preferredColor:y,buttonColor:p,cardPadding:e,cardWidth:r,cardHeight:i,cardColor:u,drawerBgColor:l,tabPanelHeight:f,tabIconSize:d,thumbnailSize:h,mobile:a,scrollbarStyle:{"&::-webkit-scrollbar":{width:"5px"},"&::-webkit-scrollbar-track":{background:"transparent"},"&::-webkit-scrollbar-thumb":{background:g,borderRadius:"5px"},"&::-webkit-scrollbar-thumb:hover":{background:m}},accentSelected:v,accentSelectedHover:b}}function Phe(){const[e,t]=M.useState(()=>us.getLoadingStatus()??{loading:!0,loadingPyodide:!0,loadingServer:!0});return M.useEffect(()=>{const n=r=>{t(r)};return us.on("loadingStatusChange",n),()=>{us.off("loadingStatusChange",n)}},[]),e}const Ohe=M.createContext(void 0);function iut({client:e,eventTypes:t=[],attachTo:n=window,children:r}){return M.useEffect(()=>e.registerLogger(t,n),[n,t,e]),F.jsx(Ohe.Provider,{value:e,children:r})}function N9(e){const t=M.useContext(Ohe);if(!t)throw new Error("useLogger must be used within a LoggerProvider");return t}const out=(...e)=>{console!=null&&console.warn&&(hh(e[0])&&(e[0]=`react-i18next:: ${e[0]}`),console.warn(...e))},lX={},YO=(...e)=>{hh(e[0])&&lX[e[0]]||(hh(e[0])&&(lX[e[0]]=new Date),out(...e))},Dhe=(e,t)=>()=>{if(e.isInitialized)t();else{const n=()=>{setTimeout(()=>{e.off("initialized",n)},0),t()};e.on("initialized",n)}},uX=(e,t,n)=>{e.loadNamespaces(t,Dhe(e,n))},cX=(e,t,n,r)=>{hh(n)&&(n=[n]),n.forEach(i=>{e.options.ns.indexOf(i)<0&&e.options.ns.push(i)}),e.loadLanguages(t,Dhe(e,r))},sut=(e,t,n={})=>!t.languages||!t.languages.length?(YO("i18n.languages were undefined or empty",t.languages),!0):t.hasLoadedNamespace(e,{lng:n.lng,precheck:(r,i)=>{var o;if(((o=n.bindI18n)==null?void 0:o.indexOf("languageChanging"))>-1&&r.services.backendConnector.backend&&r.isLanguageChangingTo&&!i(r.isLanguageChangingTo,e))return!1}}),hh=e=>typeof e=="string",aut=e=>typeof e=="object"&&e!==null,lut=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,uut={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},cut=e=>uut[e],fut=e=>e.replace(lut,cut);let KO={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:fut};const dut=(e={})=>{KO={...KO,...e}},hut=()=>KO;let Mhe;const put=e=>{Mhe=e},gut=()=>Mhe,mut={type:"3rdParty",init(e){dut(e.options.react),put(e)}},yut=M.createContext();class vut{constructor(){this.usedNamespaces={}}addUsedNamespaces(t){t.forEach(n=>{var r;(r=this.usedNamespaces)[n]??(r[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const but=(e,t)=>{const n=M.useRef();return M.useEffect(()=>{n.current=e},[e,t]),n.current},Nhe=(e,t,n,r)=>e.getFixedT(t,n,r),xut=(e,t,n,r)=>M.useCallback(Nhe(e,t,n,r),[e,t,n,r]),qu=(e,t={})=>{var x,w,C,S;const{i18n:n}=t,{i18n:r,defaultNS:i}=M.useContext(yut)||{},o=n||r||gut();if(o&&!o.reportNamespaces&&(o.reportNamespaces=new vut),!o){YO("You will need to pass in an i18next instance by using initReactI18next");const k=(R,O)=>hh(O)?O:aut(O)&&hh(O.defaultValue)?O.defaultValue:Array.isArray(R)?R[R.length-1]:R,$=[k,{},!1];return $.t=k,$.i18n={},$.ready=!1,$}(x=o.options.react)!=null&&x.wait&&YO("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const s={...hut(),...o.options.react,...t},{useSuspense:a,keyPrefix:l}=s;let u=i||((w=o.options)==null?void 0:w.defaultNS);u=hh(u)?[u]:u||["translation"],(S=(C=o.reportNamespaces).addUsedNamespaces)==null||S.call(C,u);const c=(o.isInitialized||o.initializedStoreOnce)&&u.every(k=>sut(k,o,s)),f=xut(o,t.lng||null,s.nsMode==="fallback"?u:u[0],l),d=()=>f,h=()=>Nhe(o,t.lng||null,s.nsMode==="fallback"?u:u[0],l),[p,g]=M.useState(d);let m=u.join();t.lng&&(m=`${t.lng}${m}`);const y=but(m),v=M.useRef(!0);M.useEffect(()=>{const{bindI18n:k,bindI18nStore:$}=s;v.current=!0,!c&&!a&&(t.lng?cX(o,t.lng,u,()=>{v.current&&g(h)}):uX(o,u,()=>{v.current&&g(h)})),c&&y&&y!==m&&v.current&&g(h);const R=()=>{v.current&&g(h)};return k&&(o==null||o.on(k,R)),$&&(o==null||o.store.on($,R)),()=>{v.current=!1,o&&(k==null||k.split(" ").forEach(O=>o.off(O,R))),$&&o&&$.split(" ").forEach(O=>o.store.off(O,R))}},[o,m]),M.useEffect(()=>{v.current&&c&&g(d)},[o,l,c]);const b=[p,o,c];if(b.t=p,b.i18n=o,b.ready=c,c||!c&&!a)return b;throw new Promise(k=>{t.lng?cX(o,t.lng,u,()=>k()):uX(o,u,()=>k())})};function wut(){const{fileCache:e,writeFile:t}=Cf(),{loadSession:n,filename:r}=Lt(),{apiKey:i,setApiKey:o}=vhe(),{colorMode:s,toggleColorMode:a}=H0(),[l,u]=M.useState(()=>us.getPythonType()),{t:c,i18n:f}=qu(),d=vst(),h=N9();return{python:l,handleServerButtonClick:async()=>{if(!us)return;const v=l==="pyodide"?"server":"pyodide";if(!us.setPython(v)){d({id:"server-not-available",title:c("toast.server_not_available_title"),description:c("toast.server_not_available_description"),status:"error",duration:3e3,isClosable:!0,position:"bottom",containerStyle:{margin:10}});return}u(v),e&&(await t(e),await n(r))},apiKey:i,handleApiKeyChange:v=>{o(v.target.value)},handleDownloadLogs:()=>{try{h.export()}catch(v){d({title:"Oh no!",description:JSON.stringify(v),status:"error",duration:3e3,isClosable:!0,position:"bottom",containerStyle:{margin:10}})}},handleClearLogs:()=>{h.clearLogs().then(()=>{d({title:c("toast.logs_cleared_title"),description:c("toast.logs_cleared_description"),status:"success",duration:3e3,isClosable:!0,position:"bottom",containerStyle:{margin:10}})}).catch(v=>{d({title:c("toast.logs_clear_failed_title"),description:JSON.stringify(v),status:"error",duration:3e3,isClosable:!0,position:"bottom",containerStyle:{margin:10}})})},colorMode:s,toggleColorMode:a,locale:f.language,setLocale:v=>f.changeLanguage(v)}}function Sut(e,t,{signal:n}={}){let r=null;const i=function(...s){r!==null&&clearTimeout(r),!(n!=null&&n.aborted)&&(r=setTimeout(()=>{e(...s),r=null},t))},o=function(){i.cancel()};return i.cancel=function(){r!==null&&(clearTimeout(r),r=null)},n==null||n.addEventListener("abort",o,{once:!0}),i}function qp(e,t){const n={};for(const r of t)n[r]=e[r];return n}function B2(e,t){const n={};for(const[r,i]of Object.entries(e))t(i,r)&&(n[r]=i);return n}function Eut(){const e=N9();M.useEffect(()=>{const t=Cf.subscribe((o,s)=>{const a=qp(o,["filename"]),l=qp(s,["filename"]);x1(a,l)||e.log("data-store","state",Jy(a,l))}),n=Mo.subscribe((o,s)=>{const a=B2(o,u=>typeof u!="function"),l=B2(s,u=>typeof u!="function");x1(a,l)||e.log("interaction-store","state",Jy(a,l))}),r=Lt.subscribe((o,s)=>{const a=qp({...o,charts:o.charts.map(u=>qp(u,["key","title","preferred","timestamp"]))},["charts","filename","timestamp","currentChartIndex"]),l=qp({...s,charts:s.charts.map(u=>qp(u,["key","title","preferred","timestamp"]))},["charts","filename","timestamp","currentChartIndex"]);x1(a,l)||e.log("session-store","state",Jy(a,l))}),i=vhe.subscribe((o,s)=>{const a=B2(o,u=>typeof u!="function"),l=B2(s,u=>typeof u!="function");x1(a,l)||e.log("settings-store","state",Jy(a,l))});return()=>{t(),n(),r(),i()}},[e])}function Cut(e,t=100){const n=Cf(o=>o.data),[r,i]=M.useState(e.thumbnail);return M.useEffect(()=>{!r&&n&&(async()=>{const s=await oVe(e.specs[0],n,t);i(s)})()},[e.specs,n,r,t]),r}/**
 * @license hugeicons-react v0.2.0
 *
 * See the LICENSE file in the root directory of this source tree.
 */var kut={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license hugeicons-react v0.2.0
 *
 * See the LICENSE file in the root directory of this source tree.
 */const Xn=(e,t)=>{const n=M.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:o=1.5,className:s="",children:a,...l},u)=>{const c={ref:u,...kut,width:i,height:i,strokeWidth:o,color:r,className:s,...l};return M.createElement("svg",c,(t==null?void 0:t.map(([f,d])=>M.createElement(f,{key:d.id,...d})))??[],...Array.isArray(a)?a:[a])});return n.displayName=`${e}Icon`,n};/**
 * @license hugeicons-react v0.2.0
 *
 * See the LICENSE file in the root directory of this source tree.
 */const Lhe=Xn("ArrowDown01Icon",[["path",{d:"M18 9.00005C18 9.00005 13.5811 15 12 15C10.4188 15 6 9 6 9",stroke:"currentColor",key:"k0"}]]);/**
 * @license hugeicons-react v0.2.0
 *
 * See the LICENSE file in the root directory of this source tree.
 */const _ut=Xn("ArrowUp01Icon",[["path",{d:"M18 15C18 15 13.5811 9.00001 12 9C10.4188 8.99999 6 15 6 15",stroke:"currentColor",key:"k0"}]]);/**
 * @license hugeicons-react v0.2.0
 *
 * See the LICENSE file in the root directory of this source tree.
 */const $ut=Xn("CancelCircleIcon",[["path",{d:"M14.9994 15L9 9M9.00064 15L15 9",stroke:"currentColor",key:"k0"}],["path",{d:"M22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22C17.5228 22 22 17.5228 22 12Z",stroke:"currentColor",key:"k1"}]]);/**
 * @license hugeicons-react v0.2.0
 *
 * See the LICENSE file in the root directory of this source tree.
 */const Aut=Xn("ChartIcon",[["path",{d:"M2 21.5L22 21.5",stroke:"currentColor",key:"k0"}],["path",{d:"M18 15.5H18.009M18 18.5H18.009",stroke:"currentColor",key:"k1"}],["path",{d:"M6 18.5H6.00898M6 15.5H6.00898M6 12.5H6.00898M6 9.5H6.00898",stroke:"currentColor",key:"k2"}],["path",{d:"M7.79063 5.39186L16.2183 9.5904M8 4.5C8 5.60457 7.10457 6.5 6 6.5C4.89543 6.5 4 5.60457 4 4.5C4 3.39543 4.89543 2.5 6 2.5C7.10457 2.5 8 3.39543 8 4.5ZM20 10.5C20 11.6046 19.1046 12.5 18 12.5C16.8954 12.5 16 11.6046 16 10.5C16 9.39543 16.8954 8.5 18 8.5C19.1046 8.5 20 9.39543 20 10.5Z",stroke:"currentColor",key:"k3"}]]);/**
 * @license hugeicons-react v0.2.0
 *
 * See the LICENSE file in the root directory of this source tree.
 */const Tut=Xn("CheckmarkCircle01Icon",[["path",{d:"M22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22C17.5228 22 22 17.5228 22 12Z",stroke:"currentColor",key:"k0"}],["path",{d:"M8 12.75C8 12.75 9.6 13.6625 10.4 15C10.4 15 12.8 9.75 16 8",stroke:"currentColor",key:"k1"}]]);/**
 * @license hugeicons-react v0.2.0
 *
 * See the LICENSE file in the root directory of this source tree.
 */const Fut=Xn("CloudIcon",[["path",{d:"M17.4776 10.0001C17.485 10 17.4925 10 17.5 10C19.9853 10 22 12.0147 22 14.5C22 16.9853 19.9853 19 17.5 19H7C4.23858 19 2 16.7614 2 14C2 11.4003 3.98398 9.26407 6.52042 9.0227M17.4776 10.0001C17.4924 9.83536 17.5 9.66856 17.5 9.5C17.5 6.46243 15.0376 4 12 4C9.12324 4 6.76233 6.20862 6.52042 9.0227M17.4776 10.0001C17.3753 11.1345 16.9286 12.1696 16.2428 13M6.52042 9.0227C6.67826 9.00768 6.83823 9 7 9C8.12582 9 9.16474 9.37209 10.0005 10",stroke:"currentColor",key:"k0"}]]);/**
 * @license hugeicons-react v0.2.0
 *
 * See the LICENSE file in the root directory of this source tree.
 */const Rut=Xn("FileAttachmentIcon",[["path",{d:"M4 12.0004L4 14.5446C4 17.7896 4 19.4121 4.88607 20.5111C5.06508 20.7331 5.26731 20.9354 5.48933 21.1144C6.58831 22.0004 8.21082 22.0004 11.4558 22.0004C12.1614 22.0004 12.5141 22.0004 12.8372 21.8864C12.9044 21.8627 12.9702 21.8354 13.0345 21.8047C13.3436 21.6569 13.593 21.4074 14.0919 20.9085L18.8284 16.172C19.4065 15.5939 19.6955 15.3049 19.8478 14.9374C20 14.5698 20 14.1611 20 13.3436V10.0004C20 6.22919 20 4.34358 18.8284 3.172C17.7693 2.11284 16.1265 2.01122 13.0345 2.00146M13 21.5004V21.0004C13 18.172 13 16.7578 13.8787 15.8791C14.7574 15.0004 16.1716 15.0004 19 15.0004H19.5",stroke:"currentColor",key:"k0"}],["path",{d:"M4 8.23028V5.46105C4 3.54929 5.567 1.99951 7.5 1.99951C9.433 1.99951 11 3.54929 11 5.46105V9.26874C11 10.2246 10.2165 10.9995 9.25 10.9995C8.2835 10.9995 7.5 10.2246 7.5 9.26874V5.46105",stroke:"currentColor",key:"k1"}]]);/**
 * @license hugeicons-react v0.2.0
 *
 * See the LICENSE file in the root directory of this source tree.
 */const Put=Xn("GithubIcon",[["path",{d:"M10 20.5675C6.57143 21.7248 3.71429 20.5675 2 17",stroke:"currentColor",key:"k0"}],["path",{d:"M10 22V18.7579C10 18.1596 10.1839 17.6396 10.4804 17.1699C10.6838 16.8476 10.5445 16.3904 10.1771 16.2894C7.13394 15.4528 5 14.1077 5 9.64606C5 8.48611 5.38005 7.39556 6.04811 6.4464C6.21437 6.21018 6.29749 6.09208 6.31748 5.9851C6.33746 5.87813 6.30272 5.73852 6.23322 5.45932C5.95038 4.32292 5.96871 3.11619 6.39322 2.02823C6.39322 2.02823 7.27042 1.74242 9.26698 2.98969C9.72282 3.27447 9.95075 3.41686 10.1515 3.44871C10.3522 3.48056 10.6206 3.41384 11.1573 3.28041C11.8913 3.09795 12.6476 3 13.5 3C14.3524 3 15.1087 3.09795 15.8427 3.28041C16.3794 3.41384 16.6478 3.48056 16.8485 3.44871C17.0493 3.41686 17.2772 3.27447 17.733 2.98969C19.7296 1.74242 20.6068 2.02823 20.6068 2.02823C21.0313 3.11619 21.0496 4.32292 20.7668 5.45932C20.6973 5.73852 20.6625 5.87813 20.6825 5.9851C20.7025 6.09207 20.7856 6.21019 20.9519 6.4464C21.6199 7.39556 22 8.48611 22 9.64606C22 14.1077 19.8661 15.4528 16.8229 16.2894C16.4555 16.3904 16.3162 16.8476 16.5196 17.1699C16.8161 17.6396 17 18.1596 17 18.7579V22",stroke:"currentColor",key:"k1"}]]);/**
 * @license hugeicons-react v0.2.0
 *
 * See the LICENSE file in the root directory of this source tree.
 */const Ihe=Xn("HeartAddIcon",[["path",{d:"M12 21C10.6588 21 9.88572 20.4278 8.33953 19.2834C0.221721 13.2749 1.01807 6.15294 4.53744 3.99415C7.21909 2.34923 9.55962 3.01211 10.9656 4.06801C11.5422 4.50096 11.8304 4.71743 12 4.71743C12.1696 4.71743 12.4578 4.50096 13.0344 4.06801C14.4404 3.01211 16.7809 2.34923 19.4626 3.99415C21.1812 5.04838 22.2505 7.28623 21.9494 10",stroke:"currentColor",key:"k0"}],["path",{d:"M14 17H22M18 13L18 21",stroke:"currentColor",key:"k1"}]]);/**
 * @license hugeicons-react v0.2.0
 *
 * See the LICENSE file in the root directory of this source tree.
 */const L9=Xn("HeartCheckIcon",[["path",{d:"M12 21C10.6588 21 9.88572 20.4278 8.33953 19.2834C0.221721 13.2749 1.01807 6.15294 4.53744 3.99415C7.21909 2.34923 9.55962 3.01211 10.9656 4.06801C11.5422 4.50096 11.8304 4.71743 12 4.71743C12.1696 4.71743 12.4578 4.50096 13.0344 4.06801C14.4404 3.01211 16.7809 2.34923 19.4626 3.99415C21.1812 5.04838 22.2505 7.28623 21.9494 10",stroke:"currentColor",key:"k0"}],["path",{d:"M14 18C14 18 15 18 16 20C16 20 19.1765 15 22 14",stroke:"currentColor",key:"k1"}]]);/**
 * @license hugeicons-react v0.2.0
 *
 * See the LICENSE file in the root directory of this source tree.
 */const Out=Xn("LabelImportantIcon",[["path",{d:"M13 4H6.23456C3.79424 4 2.57407 4 2.14438 4.76649C2.13129 4.78984 2.11883 4.81353 2.10701 4.83754C1.71893 5.62592 2.41032 6.63129 3.7931 8.64204C4.89612 10.246 5.44763 11.048 5.4611 11.9555C5.46154 11.9852 5.46154 12.0148 5.4611 12.0445C5.44763 12.952 4.89612 13.754 3.7931 15.358C2.41032 17.3687 1.71893 18.3741 2.10701 19.1625C2.11883 19.1865 2.13129 19.2102 2.14438 19.2335C2.57407 20 3.79424 20 6.23456 20H13C14.9628 20 15.9443 20 16.7889 19.5777C17.6334 19.1554 18.2223 18.3703 19.4 16.8C21.1333 14.4889 22 13.3333 22 12C22 10.6667 21.1333 9.51111 19.4 7.2C18.2223 5.62972 17.6334 4.84458 16.7889 4.42229C15.9443 4 14.9628 4 13 4Z",stroke:"currentColor",key:"k0"}]]);/**
 * @license hugeicons-react v0.2.0
 *
 * See the LICENSE file in the root directory of this source tree.
 */const Dut=Xn("Moon01Icon",[["path",{d:"M21.0985 7.84477C20.458 8.55417 19.5311 9 18.5 9C16.567 9 15 7.433 15 5.5C15 4.46895 15.4458 3.54203 16.1552 2.90149M21.0985 7.84477C21.6774 9.11025 22 10.5174 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C13.4826 2 14.8898 2.32262 16.1552 2.90149M21.0985 7.84477C20.0998 5.66155 18.3384 3.90018 16.1552 2.90149",stroke:"currentColor",key:"k0"}],["path",{d:"M10 8H10.0064",stroke:"currentColor",key:"k1"}],["path",{d:"M7 14H7.00635",stroke:"currentColor",key:"k2"}],["path",{d:"M16 16C16 17.1046 15.1046 18 14 18C12.8954 18 12 17.1046 12 16C12 14.8954 12.8954 14 14 14C15.1046 14 16 14.8954 16 16Z",stroke:"currentColor",key:"k3"}]]);/**
 * @license hugeicons-react v0.2.0
 *
 * See the LICENSE file in the root directory of this source tree.
 */const Mut=Xn("Sad02Icon",[["path",{d:"M9.5 21.685C10.299 21.8906 11.1368 22 12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 12.3375 2.01672 12.6711 2.04938 13",stroke:"currentColor",key:"k0"}],["path",{d:"M5.02108 14L2.8602 16.0826C1.69974 17.2204 1.71976 19.0523 2.88023 20.1707C4.06071 21.2892 5.96146 21.2699 7.12193 20.1515C8.30241 19.0137 8.2824 17.1818 7.12193 16.0633L5.02108 14Z",stroke:"currentColor",key:"k1"}],["path",{d:"M8.00897 8.44238H8M16 8.44238H15.991",stroke:"currentColor",key:"k2"}],["path",{d:"M15 16C14.1644 15.3721 13.1256 15 12 15C11.0893 15 10.2354 15.2436 9.5 15.6692",stroke:"currentColor",key:"k3"}]]);/**
 * @license hugeicons-react v0.2.0
 *
 * See the LICENSE file in the root directory of this source tree.
 */const Nut=Xn("Search01Icon",[["path",{d:"M17.5 17.5L22 22",stroke:"currentColor",key:"k0"}],["path",{d:"M20 11C20 6.02944 15.9706 2 11 2C6.02944 2 2 6.02944 2 11C2 15.9706 6.02944 20 11 20C15.9706 20 20 15.9706 20 11Z",stroke:"currentColor",key:"k1"}]]);/**
 * @license hugeicons-react v0.2.0
 *
 * See the LICENSE file in the root directory of this source tree.
 */const zhe=Xn("Search02Icon",[["path",{d:"M14 14L16.5 16.5",stroke:"currentColor",key:"k0"}],["path",{d:"M16.4333 18.5252C15.8556 17.9475 15.8556 17.0109 16.4333 16.4333C17.0109 15.8556 17.9475 15.8556 18.5252 16.4333L21.5667 19.4748C22.1444 20.0525 22.1444 20.9891 21.5667 21.5667C20.9891 22.1444 20.0525 22.1444 19.4748 21.5667L16.4333 18.5252Z",stroke:"currentColor",key:"k1"}],["path",{d:"M16 9C16 5.13401 12.866 2 9 2C5.13401 2 2 5.13401 2 9C2 12.866 5.13401 16 9 16C12.866 16 16 12.866 16 9Z",stroke:"currentColor",key:"k2"}]]);/**
 * @license hugeicons-react v0.2.0
 *
 * See the LICENSE file in the root directory of this source tree.
 */const I9=Xn("Settings01Icon",[["path",{d:"M21.3175 7.14139L20.8239 6.28479C20.4506 5.63696 20.264 5.31305 19.9464 5.18388C19.6288 5.05472 19.2696 5.15664 18.5513 5.36048L17.3311 5.70418C16.8725 5.80994 16.3913 5.74994 15.9726 5.53479L15.6357 5.34042C15.2766 5.11043 15.0004 4.77133 14.8475 4.37274L14.5136 3.37536C14.294 2.71534 14.1842 2.38533 13.9228 2.19657C13.6615 2.00781 13.3143 2.00781 12.6199 2.00781H11.5051C10.8108 2.00781 10.4636 2.00781 10.2022 2.19657C9.94085 2.38533 9.83106 2.71534 9.61149 3.37536L9.27753 4.37274C9.12465 4.77133 8.84845 5.11043 8.48937 5.34042L8.15249 5.53479C7.73374 5.74994 7.25259 5.80994 6.79398 5.70418L5.57375 5.36048C4.85541 5.15664 4.49625 5.05472 4.17867 5.18388C3.86109 5.31305 3.67445 5.63696 3.30115 6.28479L2.80757 7.14139C2.45766 7.74864 2.2827 8.05227 2.31666 8.37549C2.35061 8.69871 2.58483 8.95918 3.05326 9.48012L4.0843 10.6328C4.3363 10.9518 4.51521 11.5078 4.51521 12.0077C4.51521 12.5078 4.33636 13.0636 4.08433 13.3827L3.05326 14.5354C2.58483 15.0564 2.35062 15.3168 2.31666 15.6401C2.2827 15.9633 2.45766 16.2669 2.80757 16.8741L3.30114 17.7307C3.67443 18.3785 3.86109 18.7025 4.17867 18.8316C4.49625 18.9608 4.85542 18.8589 5.57377 18.655L6.79394 18.3113C7.25263 18.2055 7.73387 18.2656 8.15267 18.4808L8.4895 18.6752C8.84851 18.9052 9.12464 19.2442 9.2775 19.6428L9.61149 20.6403C9.83106 21.3003 9.94085 21.6303 10.2022 21.8191C10.4636 22.0078 10.8108 22.0078 11.5051 22.0078H12.6199C13.3143 22.0078 13.6615 22.0078 13.9228 21.8191C14.1842 21.6303 14.294 21.3003 14.5136 20.6403L14.8476 19.6428C15.0004 19.2442 15.2765 18.9052 15.6356 18.6752L15.9724 18.4808C16.3912 18.2656 16.8724 18.2055 17.3311 18.3113L18.5513 18.655C19.2696 18.8589 19.6288 18.9608 19.9464 18.8316C20.264 18.7025 20.4506 18.3785 20.8239 17.7307L21.3175 16.8741C21.6674 16.2669 21.8423 15.9633 21.8084 15.6401C21.7744 15.3168 21.5402 15.0564 21.0718 14.5354L20.0407 13.3827C19.7887 13.0636 19.6098 12.5078 19.6098 12.0077C19.6098 11.5078 19.7888 10.9518 20.0407 10.6328L21.0718 9.48012C21.5402 8.95918 21.7744 8.69871 21.8084 8.37549C21.8423 8.05227 21.6674 7.74864 21.3175 7.14139Z",stroke:"currentColor",key:"k0"}],["path",{d:"M15.5195 12C15.5195 13.933 13.9525 15.5 12.0195 15.5C10.0865 15.5 8.51953 13.933 8.51953 12C8.51953 10.067 10.0865 8.5 12.0195 8.5C13.9525 8.5 15.5195 10.067 15.5195 12Z",stroke:"currentColor",key:"k1"}]]);/**
 * @license hugeicons-react v0.2.0
 *
 * See the LICENSE file in the root directory of this source tree.
 */const Lut=Xn("SmartPhone01Icon",[["path",{d:"M5 9C5 5.70017 5 4.05025 6.02513 3.02513C7.05025 2 8.70017 2 12 2C15.2998 2 16.9497 2 17.9749 3.02513C19 4.05025 19 5.70017 19 9V15C19 18.2998 19 19.9497 17.9749 20.9749C16.9497 22 15.2998 22 12 22C8.70017 22 7.05025 22 6.02513 20.9749C5 19.9497 5 18.2998 5 15V9Z",stroke:"currentColor",key:"k0"}],["path",{d:"M11 19H13",stroke:"currentColor",key:"k1"}],["path",{d:"M9 2L9.089 2.53402C9.28188 3.69129 9.37832 4.26993 9.77519 4.62204C10.1892 4.98934 10.7761 5 12 5C13.2239 5 13.8108 4.98934 14.2248 4.62204C14.6217 4.26993 14.7181 3.69129 14.911 2.53402L15 2",stroke:"currentColor",key:"k2"}]]);/**
 * @license hugeicons-react v0.2.0
 *
 * See the LICENSE file in the root directory of this source tree.
 */const jhe=Xn("StartUp02Icon",[["path",{d:"M7 11.2947C12.284 1.44656 18.8635 1.333 21.4928 2.50724C22.667 5.1365 22.5534 11.716 12.7053 17C12.6031 16.4129 12.0352 14.8749 10.5801 13.4199C9.12512 11.9648 7.58712 11.3969 7 11.2947Z",stroke:"currentColor",key:"k0"}],["path",{d:"M14 16.8C16.0428 17.7334 16.2609 19.4069 16.5439 21C16.5439 21 20.8223 18.0481 18.0856 14",stroke:"currentColor",key:"k1"}],["path",{d:"M7.19998 9.99987C6.26664 7.95709 4.59305 7.73899 3 7.45601C3 7.45601 5.95194 3.17753 10 5.91431",stroke:"currentColor",key:"k2"}],["path",{d:"M6.20866 13.9998C5.57677 14.6317 4.50255 16.4642 5.26082 18.739C7.53564 19.4973 9.36813 18.4231 10 17.7912",stroke:"currentColor",key:"k3"}],["path",{d:"M18.0952 7.753C18.0952 6.7328 17.2682 5.90578 16.248 5.90578C15.2278 5.90578 14.4008 6.7328 14.4008 7.753C14.4008 8.77319 15.2278 9.60022 16.248 9.60022C17.2682 9.60022 18.0952 8.77319 18.0952 7.753Z",stroke:"currentColor",key:"k4"}]]);/**
 * @license hugeicons-react v0.2.0
 *
 * See the LICENSE file in the root directory of this source tree.
 */const Iut=Xn("Sun03Icon",[["path",{d:"M17 12C17 14.7614 14.7614 17 12 17C9.23858 17 7 14.7614 7 12C7 9.23858 9.23858 7 12 7C14.7614 7 17 9.23858 17 12Z",stroke:"currentColor",key:"k0"}],["path",{d:"M12 2V3.5M12 20.5V22M19.0708 19.0713L18.0101 18.0106M5.98926 5.98926L4.9286 4.9286M22 12H20.5M3.5 12H2M19.0713 4.92871L18.0106 5.98937M5.98975 18.0107L4.92909 19.0714",stroke:"currentColor",key:"k1"}]]);/**
 * @license hugeicons-react v0.2.0
 *
 * See the LICENSE file in the root directory of this source tree.
 */const Bhe=Xn("SwipeUp02Icon",[["path",{d:"M18.5 2.00195V8.00195M18.5 2.00195C17.7998 2.00195 16.4915 3.99625 16 4.50195M18.5 2.00195C19.2002 2.00195 20.5085 3.99625 21 4.50195",stroke:"currentColor",key:"k0"}],["path",{d:"M15.3913 21.998C15.3395 20.084 15.4684 19.8535 15.6052 19.4277C15.7419 19.002 16.6982 17.4665 17.0366 16.3695C18.1313 12.8202 17.111 12.0653 15.7507 11.0588C14.2422 9.94257 11.3968 9.37728 9.98573 9.49966V3.7462C9.98573 2.78288 9.20481 2.00195 8.24148 2.00195C7.27816 2.00195 6.49723 2.78288 6.49723 3.7462V9.96607M6.49774 21.9988V20.9854C6.43328 20.041 5.49529 18.9235 4.32672 17.3166C3.12509 15.576 2.86688 14.6973 3.05591 13.8848C3.15329 13.4694 3.40594 12.7832 4.64647 11.6104L6.49723 9.96607M6.49723 14.0323V9.96607",stroke:"currentColor",key:"k1"}]]);function Uhe({chart:e,...t}){const n=e.fields,{accentSelectedHover:r}=fi();return F.jsxs(Zn,{as:"p",fontSize:"md",...t,children:[F.jsx(Zn,{as:"span",fontWeight:600,color:r,children:n[0].name}),n.length>1&&F.jsx(Zn,{as:"span",fontWeight:400,children:" and "}),n.length>1&&F.jsx(Zn,{as:"span",fontWeight:600,color:r,children:n[1].name}),n.length>2&&F.jsx(Zn,{as:"span",fontWeight:400,children:" colored by "}),n.length>2&&F.jsx(Zn,{as:"span",fontWeight:600,color:r,children:n[2].name})]})}const zut=dp`
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
`,jut=dp`
  from {
    opacity: 1;
  }
  to {
    opacity: 0;
  }
`;function Vhe({chart:e,handleClick:t,thumbnailSize:n=70,animation:r=!0}){const{buttonColor:i}=fi(),o=Cut(e,n*1.5);return F.jsxs(Zde,{as:gn,flexDir:"column",animation:r?`${zut} 0.2s ease-in-out`:void 0,sx:{"&.removing":{animation:r?`${jut} 0.1s ease-in-out forwards`:void 0}},children:[F.jsxs(gn,{p:1,gap:4,borderRadius:"md",alignItems:"center",onClick:()=>t(e),_hover:{cursor:"pointer",bg:i},children:[!!o&&F.jsx(Bde,{src:o,alt:`Chart thumbnail ${e.title}`,w:`${n}px`,h:`${n}px`}),F.jsx(Uhe,{chart:e})]}),F.jsx(RA,{my:1})]},`bookmark-${e.key}`)}var zA={},jA={};jA.__esModule=!0;jA.default=But;const fX={};function But(e,t){e===void 0&&(e=fX),t===void 0&&(t=fX);const n=Object.keys(e),r=Object.keys(t);return e===t||n.length===r.length&&n.every(i=>e[i]===t[i])}var z9={},j9={},Whe={exports:{}};const Uut=uY(Eie),Vut=uY(Wae);(function(e,t){var n={};(function(r,i){e.exports=i(Uut,Vut)})(Qi,function(r,i){var wz;function o(E){var _=Object.create(null);return E&&Object.keys(E).forEach(function(T){if(T!=="default"){var I=Object.getOwnPropertyDescriptor(E,T);Object.defineProperty(_,T,I.get?I:{enumerable:!0,get:function(){return E[T]}})}}),_.default=E,Object.freeze(_)}var s=o(r),a=o(i);/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2022 Joachim Wester
 * MIT licensed
 */var l=function(){var E=function(_,T){return E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(I,q){I.__proto__=q}||function(I,q){for(var G in q)q.hasOwnProperty(G)&&(I[G]=q[G])},E(_,T)};return function(_,T){E(_,T);function I(){this.constructor=_}_.prototype=T===null?Object.create(T):(I.prototype=T.prototype,new I)}}(),u=Object.prototype.hasOwnProperty;function c(E,_){return u.call(E,_)}function f(E){if(Array.isArray(E)){for(var _=new Array(E.length),T=0;T<_.length;T++)_[T]=""+T;return _}if(Object.keys)return Object.keys(E);var I=[];for(var q in E)c(E,q)&&I.push(q);return I}function d(E){switch(typeof E){case"object":return JSON.parse(JSON.stringify(E));case"undefined":return null;default:return E}}function h(E){for(var _=0,T=E.length,I;_<T;){if(I=E.charCodeAt(_),I>=48&&I<=57){_++;continue}return!1}return!0}function p(E){return E.indexOf("/")===-1&&E.indexOf("~")===-1?E:E.replace(/~/g,"~0").replace(/\//g,"~1")}function g(E){return E.replace(/~1/g,"/").replace(/~0/g,"~")}function m(E){if(E===void 0)return!0;if(E){if(Array.isArray(E)){for(var _=0,T=E.length;_<T;_++)if(m(E[_]))return!0}else if(typeof E=="object"){for(var I=f(E),q=I.length,G=0;G<q;G++)if(m(E[I[G]]))return!0}}return!1}function y(E,_){var T=[E];for(var I in _){var q=typeof _[I]=="object"?JSON.stringify(_[I],null,2):_[I];typeof q<"u"&&T.push(I+": "+q)}return T.join(`
`)}var v=function(E){l(_,E);function _(T,I,q,G,re){var ie=this.constructor,Q=E.call(this,y(T,{name:I,index:q,operation:G,tree:re}))||this;return Q.name=I,Q.index=q,Q.operation=G,Q.tree=re,Object.setPrototypeOf(Q,ie.prototype),Q.message=y(T,{name:I,index:q,operation:G,tree:re}),Q}return _}(Error),b=v,x=d,w={add:function(E,_,T){return E[_]=this.value,{newDocument:T}},remove:function(E,_,T){var I=E[_];return delete E[_],{newDocument:T,removed:I}},replace:function(E,_,T){var I=E[_];return E[_]=this.value,{newDocument:T,removed:I}},move:function(E,_,T){var I=S(T,this.path);I&&(I=d(I));var q=k(T,{op:"remove",path:this.from}).removed;return k(T,{op:"add",path:this.path,value:q}),{newDocument:T,removed:I}},copy:function(E,_,T){var I=S(T,this.from);return k(T,{op:"add",path:this.path,value:d(I)}),{newDocument:T}},test:function(E,_,T){return{newDocument:T,test:D(E[_],this.value)}},_get:function(E,_,T){return this.value=E[_],{newDocument:T}}},C={add:function(E,_,T){return h(_)?E.splice(_,0,this.value):E[_]=this.value,{newDocument:T,index:_}},remove:function(E,_,T){var I=E.splice(_,1);return{newDocument:T,removed:I[0]}},replace:function(E,_,T){var I=E[_];return E[_]=this.value,{newDocument:T,removed:I}},move:w.move,copy:w.copy,test:w.test,_get:w._get};function S(E,_){if(_=="")return E;var T={op:"_get",path:_};return k(E,T),T.value}function k(E,_,T,I,q,G){if(T===void 0&&(T=!1),I===void 0&&(I=!0),q===void 0&&(q=!0),G===void 0&&(G=0),T&&(typeof T=="function"?T(_,0,E,_.path):O(_,0)),_.path===""){var re={newDocument:E};if(_.op==="add")return re.newDocument=_.value,re;if(_.op==="replace")return re.newDocument=_.value,re.removed=E,re;if(_.op==="move"||_.op==="copy")return re.newDocument=S(E,_.from),_.op==="move"&&(re.removed=E),re;if(_.op==="test"){if(re.test=D(E,_.value),re.test===!1)throw new b("Test operation failed","TEST_OPERATION_FAILED",G,_,E);return re.newDocument=E,re}else{if(_.op==="remove")return re.removed=E,re.newDocument=null,re;if(_.op==="_get")return _.value=E,re;if(T)throw new b("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",G,_,E);return re}}else{I||(E=d(E));var ie=_.path||"",Q=ie.split("/"),ne=E,ge=1,Pe=Q.length,kt=void 0,ct=void 0,Fe=void 0;for(typeof T=="function"?Fe=T:Fe=O;;){if(ct=Q[ge],ct&&ct.indexOf("~")!=-1&&(ct=g(ct)),q&&(ct=="__proto__"||ct=="prototype"&&ge>0&&Q[ge-1]=="constructor"))throw new TypeError("JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(T&&kt===void 0&&(ne[ct]===void 0?kt=Q.slice(0,ge).join("/"):ge==Pe-1&&(kt=_.path),kt!==void 0&&Fe(_,0,E,kt)),ge++,Array.isArray(ne)){if(ct==="-")ct=ne.length;else{if(T&&!h(ct))throw new b("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",G,_,E);h(ct)&&(ct=~~ct)}if(ge>=Pe){if(T&&_.op==="add"&&ct>ne.length)throw new b("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",G,_,E);var re=C[_.op].call(_,ne,ct,E);if(re.test===!1)throw new b("Test operation failed","TEST_OPERATION_FAILED",G,_,E);return re}}else if(ge>=Pe){var re=w[_.op].call(_,ne,ct,E);if(re.test===!1)throw new b("Test operation failed","TEST_OPERATION_FAILED",G,_,E);return re}if(ne=ne[ct],T&&ge<Pe&&(!ne||typeof ne!="object"))throw new b("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",G,_,E)}}}function $(E,_,T,I,q){if(I===void 0&&(I=!0),q===void 0&&(q=!0),T&&!Array.isArray(_))throw new b("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");I||(E=d(E));for(var G=new Array(_.length),re=0,ie=_.length;re<ie;re++)G[re]=k(E,_[re],T,!0,q,re),E=G[re].newDocument;return G.newDocument=E,G}function R(E,_,T){var I=k(E,_);if(I.test===!1)throw new b("Test operation failed","TEST_OPERATION_FAILED",T,_,E);return I.newDocument}function O(E,_,T,I){if(typeof E!="object"||E===null||Array.isArray(E))throw new b("Operation is not an object","OPERATION_NOT_AN_OBJECT",_,E,T);if(w[E.op]){if(typeof E.path!="string")throw new b("Operation `path` property is not a string","OPERATION_PATH_INVALID",_,E,T);if(E.path.indexOf("/")!==0&&E.path.length>0)throw new b('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",_,E,T);if((E.op==="move"||E.op==="copy")&&typeof E.from!="string")throw new b("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",_,E,T);if((E.op==="add"||E.op==="replace"||E.op==="test")&&E.value===void 0)throw new b("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",_,E,T);if((E.op==="add"||E.op==="replace"||E.op==="test")&&m(E.value))throw new b("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",_,E,T);if(T){if(E.op=="add"){var q=E.path.split("/").length,G=I.split("/").length;if(q!==G+1&&q!==G)throw new b("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",_,E,T)}else if(E.op==="replace"||E.op==="remove"||E.op==="_get"){if(E.path!==I)throw new b("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",_,E,T)}else if(E.op==="move"||E.op==="copy"){var re={op:"_get",path:E.from,value:void 0},ie=B([re],T);if(ie&&ie.name==="OPERATION_PATH_UNRESOLVABLE")throw new b("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",_,E,T)}}}else throw new b("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",_,E,T)}function B(E,_,T){try{if(!Array.isArray(E))throw new b("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(_)$(d(_),d(E),T||!0);else{T=T||O;for(var I=0;I<E.length;I++)T(E[I],I,_,void 0)}}catch(q){if(q instanceof b)return q;throw q}}function D(E,_){if(E===_)return!0;if(E&&_&&typeof E=="object"&&typeof _=="object"){var T=Array.isArray(E),I=Array.isArray(_),q,G,re;if(T&&I){if(G=E.length,G!=_.length)return!1;for(q=G;q--!==0;)if(!D(E[q],_[q]))return!1;return!0}if(T!=I)return!1;var ie=Object.keys(E);if(G=ie.length,G!==Object.keys(_).length)return!1;for(q=G;q--!==0;)if(!_.hasOwnProperty(ie[q]))return!1;for(q=G;q--!==0;)if(re=ie[q],!D(E[re],_[re]))return!1;return!0}return E!==E&&_!==_}var L=Object.freeze({__proto__:null,JsonPatchError:b,_areEquals:D,applyOperation:k,applyPatch:$,applyReducer:R,deepClone:x,getValueByPointer:S,validate:B,validator:O});/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2021 Joachim Wester
 * MIT license
 */var A=new WeakMap,P=function(){function E(_){this.observers=new Map,this.obj=_}return E}(),j=function(){function E(_,T){this.callback=_,this.observer=T}return E}();function z(E){return A.get(E)}function U(E,_){return E.observers.get(_)}function X(E,_){E.observers.delete(_.callback)}function K(E,_){_.unobserve()}function pe(E,_){var T=[],I,q=z(E);if(!q)q=new P(E),A.set(E,q);else{var G=U(q,_);I=G&&G.observer}if(I)return I;if(I={},q.value=d(E),_){I.callback=_,I.next=null;var re=function(){oe(I)},ie=function(){clearTimeout(I.next),I.next=setTimeout(re)};typeof window<"u"&&(window.addEventListener("mouseup",ie),window.addEventListener("keyup",ie),window.addEventListener("mousedown",ie),window.addEventListener("keydown",ie),window.addEventListener("change",ie))}return I.patches=T,I.object=E,I.unobserve=function(){oe(I),clearTimeout(I.next),X(q,I),typeof window<"u"&&(window.removeEventListener("mouseup",ie),window.removeEventListener("keyup",ie),window.removeEventListener("mousedown",ie),window.removeEventListener("keydown",ie),window.removeEventListener("change",ie))},q.observers.set(_,new j(_,I)),I}function oe(E,_){_===void 0&&(_=!1);var T=A.get(E.object);_e(T.value,E.object,E.patches,"",_),E.patches.length&&$(T.value,E.patches);var I=E.patches;return I.length>0&&(E.patches=[],E.callback&&E.callback(I)),I}function _e(E,_,T,I,q){if(_!==E){typeof _.toJSON=="function"&&(_=_.toJSON());for(var G=f(_),re=f(E),ie=!1,Q=re.length-1;Q>=0;Q--){var ne=re[Q],ge=E[ne];if(c(_,ne)&&!(_[ne]===void 0&&ge!==void 0&&Array.isArray(_)===!1)){var Pe=_[ne];typeof ge=="object"&&ge!=null&&typeof Pe=="object"&&Pe!=null&&Array.isArray(ge)===Array.isArray(Pe)?_e(ge,Pe,T,I+"/"+p(ne),q):ge!==Pe&&(q&&T.push({op:"test",path:I+"/"+p(ne),value:d(ge)}),T.push({op:"replace",path:I+"/"+p(ne),value:d(Pe)}))}else Array.isArray(E)===Array.isArray(_)?(q&&T.push({op:"test",path:I+"/"+p(ne),value:d(ge)}),T.push({op:"remove",path:I+"/"+p(ne)}),ie=!0):(q&&T.push({op:"test",path:I,value:E}),T.push({op:"replace",path:I,value:_}))}if(!(!ie&&G.length==re.length))for(var Q=0;Q<G.length;Q++){var ne=G[Q];!c(E,ne)&&_[ne]!==void 0&&T.push({op:"add",path:I+"/"+p(ne),value:d(_[ne])})}}}function Qe(E,_,T){T===void 0&&(T=!1);var I=[];return _e(E,_,I,"",T),I}var xt=Object.freeze({__proto__:null,compare:Qe,generate:oe,observe:pe,unobserve:K});Object.assign({},L,xt,{JsonPatchError:v,deepClone:d,escapePathComponent:p,unescapePathComponent:g});function On(E){return E&&E.__esModule&&Object.prototype.hasOwnProperty.call(E,"default")?E.default:E}var lr=/("(?:[^\\"]|\\.)*")|[:,]/g,be=function(_,T){var I,q,G;return T=T||{},I=JSON.stringify([1],void 0,T.indent===void 0?2:T.indent).slice(2,-3),q=I===""?1/0:T.maxLength===void 0?80:T.maxLength,G=T.replacer,function re(ie,Q,ne){var ge,Pe,kt,ct,Fe,hi,fn,yn,Yt,Br,Ds,_t;if(ie&&typeof ie.toJSON=="function"&&(ie=ie.toJSON()),Ds=JSON.stringify(ie,G),Ds===void 0)return Ds;if(fn=q-Q.length-ne,Ds.length<=fn&&(Yt=Ds.replace(lr,function(Kt,at){return at||Kt+" "}),Yt.length<=fn))return Yt;if(G!=null&&(ie=JSON.parse(Ds),G=void 0),typeof ie=="object"&&ie!==null){if(yn=Q+I,kt=[],Pe=0,Array.isArray(ie))for(Br="[",ge="]",fn=ie.length;Pe<fn;Pe++)kt.push(re(ie[Pe],yn,Pe===fn-1?0:1)||"null");else for(Br="{",ge="}",hi=Object.keys(ie),fn=hi.length;Pe<fn;Pe++)ct=hi[Pe],Fe=JSON.stringify(ct)+": ",_t=re(ie[ct],yn,Fe.length+(Pe===fn-1?0:1)),_t!==void 0&&kt.push(Fe+_t);if(kt.length>0)return[Br,I+kt.join(`,
`+yn),ge].join(`
`+Q)}return Ds}(_,"",0)},Ne=On(be);class Ue{constructor(){this.max=1e3,this.map=new Map}get(_){const T=this.map.get(_);if(T!==void 0)return this.map.delete(_),this.map.set(_,T),T}delete(_){return this.map.delete(_)}set(_,T){if(!this.delete(_)&&T!==void 0){if(this.map.size>=this.max){const q=this.map.keys().next().value;this.delete(q)}this.map.set(_,T)}return this}}var ae=Ue;const Dn=Object.freeze({loose:!0}),vt=Object.freeze({});var cn=E=>E?typeof E!="object"?Dn:E:vt,jr={exports:{}};const Xu="2.0.0",Yx=256,yp=Number.MAX_SAFE_INTEGER||9007199254740991,q0=16,vp=Yx-6;var bp={MAX_LENGTH:Yx,MAX_SAFE_COMPONENT_LENGTH:q0,MAX_SAFE_BUILD_LENGTH:vp,MAX_SAFE_INTEGER:yp,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:Xu,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2},xp=typeof process=="object"&&n&&n.NODE_DEBUG&&/\bsemver\b/i.test(n.NODE_DEBUG)?(...E)=>console.error("SEMVER",...E):()=>{};(function(E,_){const{MAX_SAFE_COMPONENT_LENGTH:T,MAX_SAFE_BUILD_LENGTH:I,MAX_LENGTH:q}=bp,G=xp;_=E.exports={};const re=_.re=[],ie=_.safeRe=[],Q=_.src=[],ne=_.t={};let ge=0;const Pe="[a-zA-Z0-9-]",kt=[["\\s",1],["\\d",q],[Pe,I]],ct=hi=>{for(const[fn,yn]of kt)hi=hi.split(`${fn}*`).join(`${fn}{0,${yn}}`).split(`${fn}+`).join(`${fn}{1,${yn}}`);return hi},Fe=(hi,fn,yn)=>{const Yt=ct(fn),Br=ge++;G(hi,Br,fn),ne[hi]=Br,Q[Br]=fn,re[Br]=new RegExp(fn,yn?"g":void 0),ie[Br]=new RegExp(Yt,yn?"g":void 0)};Fe("NUMERICIDENTIFIER","0|[1-9]\\d*"),Fe("NUMERICIDENTIFIERLOOSE","\\d+"),Fe("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${Pe}*`),Fe("MAINVERSION",`(${Q[ne.NUMERICIDENTIFIER]})\\.(${Q[ne.NUMERICIDENTIFIER]})\\.(${Q[ne.NUMERICIDENTIFIER]})`),Fe("MAINVERSIONLOOSE",`(${Q[ne.NUMERICIDENTIFIERLOOSE]})\\.(${Q[ne.NUMERICIDENTIFIERLOOSE]})\\.(${Q[ne.NUMERICIDENTIFIERLOOSE]})`),Fe("PRERELEASEIDENTIFIER",`(?:${Q[ne.NUMERICIDENTIFIER]}|${Q[ne.NONNUMERICIDENTIFIER]})`),Fe("PRERELEASEIDENTIFIERLOOSE",`(?:${Q[ne.NUMERICIDENTIFIERLOOSE]}|${Q[ne.NONNUMERICIDENTIFIER]})`),Fe("PRERELEASE",`(?:-(${Q[ne.PRERELEASEIDENTIFIER]}(?:\\.${Q[ne.PRERELEASEIDENTIFIER]})*))`),Fe("PRERELEASELOOSE",`(?:-?(${Q[ne.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${Q[ne.PRERELEASEIDENTIFIERLOOSE]})*))`),Fe("BUILDIDENTIFIER",`${Pe}+`),Fe("BUILD",`(?:\\+(${Q[ne.BUILDIDENTIFIER]}(?:\\.${Q[ne.BUILDIDENTIFIER]})*))`),Fe("FULLPLAIN",`v?${Q[ne.MAINVERSION]}${Q[ne.PRERELEASE]}?${Q[ne.BUILD]}?`),Fe("FULL",`^${Q[ne.FULLPLAIN]}$`),Fe("LOOSEPLAIN",`[v=\\s]*${Q[ne.MAINVERSIONLOOSE]}${Q[ne.PRERELEASELOOSE]}?${Q[ne.BUILD]}?`),Fe("LOOSE",`^${Q[ne.LOOSEPLAIN]}$`),Fe("GTLT","((?:<|>)?=?)"),Fe("XRANGEIDENTIFIERLOOSE",`${Q[ne.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),Fe("XRANGEIDENTIFIER",`${Q[ne.NUMERICIDENTIFIER]}|x|X|\\*`),Fe("XRANGEPLAIN",`[v=\\s]*(${Q[ne.XRANGEIDENTIFIER]})(?:\\.(${Q[ne.XRANGEIDENTIFIER]})(?:\\.(${Q[ne.XRANGEIDENTIFIER]})(?:${Q[ne.PRERELEASE]})?${Q[ne.BUILD]}?)?)?`),Fe("XRANGEPLAINLOOSE",`[v=\\s]*(${Q[ne.XRANGEIDENTIFIERLOOSE]})(?:\\.(${Q[ne.XRANGEIDENTIFIERLOOSE]})(?:\\.(${Q[ne.XRANGEIDENTIFIERLOOSE]})(?:${Q[ne.PRERELEASELOOSE]})?${Q[ne.BUILD]}?)?)?`),Fe("XRANGE",`^${Q[ne.GTLT]}\\s*${Q[ne.XRANGEPLAIN]}$`),Fe("XRANGELOOSE",`^${Q[ne.GTLT]}\\s*${Q[ne.XRANGEPLAINLOOSE]}$`),Fe("COERCEPLAIN",`(^|[^\\d])(\\d{1,${T}})(?:\\.(\\d{1,${T}}))?(?:\\.(\\d{1,${T}}))?`),Fe("COERCE",`${Q[ne.COERCEPLAIN]}(?:$|[^\\d])`),Fe("COERCEFULL",Q[ne.COERCEPLAIN]+`(?:${Q[ne.PRERELEASE]})?(?:${Q[ne.BUILD]})?(?:$|[^\\d])`),Fe("COERCERTL",Q[ne.COERCE],!0),Fe("COERCERTLFULL",Q[ne.COERCEFULL],!0),Fe("LONETILDE","(?:~>?)"),Fe("TILDETRIM",`(\\s*)${Q[ne.LONETILDE]}\\s+`,!0),_.tildeTrimReplace="$1~",Fe("TILDE",`^${Q[ne.LONETILDE]}${Q[ne.XRANGEPLAIN]}$`),Fe("TILDELOOSE",`^${Q[ne.LONETILDE]}${Q[ne.XRANGEPLAINLOOSE]}$`),Fe("LONECARET","(?:\\^)"),Fe("CARETTRIM",`(\\s*)${Q[ne.LONECARET]}\\s+`,!0),_.caretTrimReplace="$1^",Fe("CARET",`^${Q[ne.LONECARET]}${Q[ne.XRANGEPLAIN]}$`),Fe("CARETLOOSE",`^${Q[ne.LONECARET]}${Q[ne.XRANGEPLAINLOOSE]}$`),Fe("COMPARATORLOOSE",`^${Q[ne.GTLT]}\\s*(${Q[ne.LOOSEPLAIN]})$|^$`),Fe("COMPARATOR",`^${Q[ne.GTLT]}\\s*(${Q[ne.FULLPLAIN]})$|^$`),Fe("COMPARATORTRIM",`(\\s*)${Q[ne.GTLT]}\\s*(${Q[ne.LOOSEPLAIN]}|${Q[ne.XRANGEPLAIN]})`,!0),_.comparatorTrimReplace="$1$2$3",Fe("HYPHENRANGE",`^\\s*(${Q[ne.XRANGEPLAIN]})\\s+-\\s+(${Q[ne.XRANGEPLAIN]})\\s*$`),Fe("HYPHENRANGELOOSE",`^\\s*(${Q[ne.XRANGEPLAINLOOSE]})\\s+-\\s+(${Q[ne.XRANGEPLAINLOOSE]})\\s*$`),Fe("STAR","(<|>)?=?\\s*\\*"),Fe("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),Fe("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(jr,jr.exports);var G0=jr.exports;const Yf=/^[0-9]+$/,X0=(E,_)=>{const T=Yf.test(E),I=Yf.test(_);return T&&I&&(E=+E,_=+_),E===_?0:T&&!I?-1:I&&!T?1:E<_?-1:1};var Kx={compareIdentifiers:X0,rcompareIdentifiers:(E,_)=>X0(_,E)};const Kf=xp,{MAX_LENGTH:Qx,MAX_SAFE_INTEGER:wp}=bp,{safeRe:$a,t:Qf}=G0,GA=cn,{compareIdentifiers:Il}=Kx;var Sp=class La{constructor(_,T){if(T=GA(T),_ instanceof La){if(_.loose===!!T.loose&&_.includePrerelease===!!T.includePrerelease)return _;_=_.version}else if(typeof _!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof _}".`);if(_.length>Qx)throw new TypeError(`version is longer than ${Qx} characters`);Kf("SemVer",_,T),this.options=T,this.loose=!!T.loose,this.includePrerelease=!!T.includePrerelease;const I=_.trim().match(T.loose?$a[Qf.LOOSE]:$a[Qf.FULL]);if(!I)throw new TypeError(`Invalid Version: ${_}`);if(this.raw=_,this.major=+I[1],this.minor=+I[2],this.patch=+I[3],this.major>wp||this.major<0)throw new TypeError("Invalid major version");if(this.minor>wp||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>wp||this.patch<0)throw new TypeError("Invalid patch version");I[4]?this.prerelease=I[4].split(".").map(q=>{if(/^[0-9]+$/.test(q)){const G=+q;if(G>=0&&G<wp)return G}return q}):this.prerelease=[],this.build=I[5]?I[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(_){if(Kf("SemVer.compare",this.version,this.options,_),!(_ instanceof La)){if(typeof _=="string"&&_===this.version)return 0;_=new La(_,this.options)}return _.version===this.version?0:this.compareMain(_)||this.comparePre(_)}compareMain(_){return _ instanceof La||(_=new La(_,this.options)),Il(this.major,_.major)||Il(this.minor,_.minor)||Il(this.patch,_.patch)}comparePre(_){if(_ instanceof La||(_=new La(_,this.options)),this.prerelease.length&&!_.prerelease.length)return-1;if(!this.prerelease.length&&_.prerelease.length)return 1;if(!this.prerelease.length&&!_.prerelease.length)return 0;let T=0;do{const I=this.prerelease[T],q=_.prerelease[T];if(Kf("prerelease compare",T,I,q),I===void 0&&q===void 0)return 0;if(q===void 0)return 1;if(I===void 0)return-1;if(I===q)continue;return Il(I,q)}while(++T)}compareBuild(_){_ instanceof La||(_=new La(_,this.options));let T=0;do{const I=this.build[T],q=_.build[T];if(Kf("build compare",T,I,q),I===void 0&&q===void 0)return 0;if(q===void 0)return 1;if(I===void 0)return-1;if(I===q)continue;return Il(I,q)}while(++T)}inc(_,T,I){switch(_){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",T,I);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",T,I);break;case"prepatch":this.prerelease.length=0,this.inc("patch",T,I),this.inc("pre",T,I);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",T,I),this.inc("pre",T,I);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const q=Number(I)?1:0;if(!T&&I===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[q];else{let G=this.prerelease.length;for(;--G>=0;)typeof this.prerelease[G]=="number"&&(this.prerelease[G]++,G=-2);if(G===-1){if(T===this.prerelease.join(".")&&I===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(q)}}if(T){let G=[T,q];I===!1&&(G=[T]),Il(this.prerelease[0],T)===0?isNaN(this.prerelease[1])&&(this.prerelease=G):this.prerelease=G}break}default:throw new Error(`invalid increment argument: ${_}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};const Yu=Sp;var Ui=(E,_,T)=>new Yu(E,T).compare(new Yu(_,T));const XA=Ui;var YA=(E,_,T)=>XA(E,_,T)===0;const KA=Ui;var Rs=(E,_,T)=>KA(E,_,T)!==0;const QA=Ui;var JA=(E,_,T)=>QA(E,_,T)>0;const ZA=Ui;var Ku=(E,_,T)=>ZA(E,_,T)>=0;const e5=Ui;var t5=(E,_,T)=>e5(E,_,T)<0;const n5=Ui;var Qu=(E,_,T)=>n5(E,_,T)<=0;const r5=YA,i5=Rs,o5=JA,s5=Ku,a5=t5,l5=Qu;var u5=(E,_,T,I)=>{switch(_){case"===":return typeof E=="object"&&(E=E.version),typeof T=="object"&&(T=T.version),E===T;case"!==":return typeof E=="object"&&(E=E.version),typeof T=="object"&&(T=T.version),E!==T;case"":case"=":case"==":return r5(E,T,I);case"!=":return i5(E,T,I);case">":return o5(E,T,I);case">=":return s5(E,T,I);case"<":return a5(E,T,I);case"<=":return l5(E,T,I);default:throw new TypeError(`Invalid operator: ${_}`)}},Ju,Ep;function c5(){if(Ep)return Ju;Ep=1;const E=Symbol("SemVer ANY");class _{static get ANY(){return E}constructor(ge,Pe){if(Pe=T(Pe),ge instanceof _){if(ge.loose===!!Pe.loose)return ge;ge=ge.value}ge=ge.trim().split(/\s+/).join(" "),re("comparator",ge,Pe),this.options=Pe,this.loose=!!Pe.loose,this.parse(ge),this.semver===E?this.value="":this.value=this.operator+this.semver.version,re("comp",this)}parse(ge){const Pe=this.options.loose?I[q.COMPARATORLOOSE]:I[q.COMPARATOR],kt=ge.match(Pe);if(!kt)throw new TypeError(`Invalid comparator: ${ge}`);this.operator=kt[1]!==void 0?kt[1]:"",this.operator==="="&&(this.operator=""),kt[2]?this.semver=new ie(kt[2],this.options.loose):this.semver=E}toString(){return this.value}test(ge){if(re("Comparator.test",ge,this.options.loose),this.semver===E||ge===E)return!0;if(typeof ge=="string")try{ge=new ie(ge,this.options)}catch{return!1}return G(ge,this.operator,this.semver,this.options)}intersects(ge,Pe){if(!(ge instanceof _))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new Q(ge.value,Pe).test(this.value):ge.operator===""?ge.value===""?!0:new Q(this.value,Pe).test(ge.semver):(Pe=T(Pe),Pe.includePrerelease&&(this.value==="<0.0.0-0"||ge.value==="<0.0.0-0")||!Pe.includePrerelease&&(this.value.startsWith("<0.0.0")||ge.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&ge.operator.startsWith(">")||this.operator.startsWith("<")&&ge.operator.startsWith("<")||this.semver.version===ge.semver.version&&this.operator.includes("=")&&ge.operator.includes("=")||G(this.semver,"<",ge.semver,Pe)&&this.operator.startsWith(">")&&ge.operator.startsWith("<")||G(this.semver,">",ge.semver,Pe)&&this.operator.startsWith("<")&&ge.operator.startsWith(">")))}}Ju=_;const T=cn,{safeRe:I,t:q}=G0,G=u5,re=xp,ie=Sp,Q=Zx();return Ju}var Zu,Y0;function Zx(){if(Y0)return Zu;Y0=1;class E{constructor(Ee,Xe){if(Xe=I(Xe),Ee instanceof E)return Ee.loose===!!Xe.loose&&Ee.includePrerelease===!!Xe.includePrerelease?Ee:new E(Ee.raw,Xe);if(Ee instanceof q)return this.raw=Ee.value,this.set=[[Ee]],this.format(),this;if(this.options=Xe,this.loose=!!Xe.loose,this.includePrerelease=!!Xe.includePrerelease,this.raw=Ee.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map(He=>this.parseRange(He.trim())).filter(He=>He.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const He=this.set[0];if(this.set=this.set.filter(qe=>!Fe(qe[0])),this.set.length===0)this.set=[He];else if(this.set.length>1){for(const qe of this.set)if(qe.length===1&&hi(qe[0])){this.set=[qe];break}}}this.format()}format(){return this.range=this.set.map(Ee=>Ee.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(Ee){const He=((this.options.includePrerelease&&kt)|(this.options.loose&&ct))+":"+Ee,qe=T.get(He);if(qe)return qe;const ze=this.options.loose,tt=ze?ie[Q.HYPHENRANGELOOSE]:ie[Q.HYPHENRANGE];Ee=Ee.replace(tt,j5(this.options.includePrerelease)),G("hyphen replace",Ee),Ee=Ee.replace(ie[Q.COMPARATORTRIM],ne),G("comparator trim",Ee),Ee=Ee.replace(ie[Q.TILDETRIM],ge),G("tilde trim",Ee),Ee=Ee.replace(ie[Q.CARETTRIM],Pe),G("caret trim",Ee);let Vt=Ee.split(" ").map(Vn=>yn(Vn,this.options)).join(" ").split(/\s+/).map(Vn=>z5(Vn,this.options));ze&&(Vt=Vt.filter(Vn=>(G("loose invalid filter",Vn,this.options),!!Vn.match(ie[Q.COMPARATORLOOSE])))),G("range list",Vt);const lt=new Map,vn=Vt.map(Vn=>new q(Vn,this.options));for(const Vn of vn){if(Fe(Vn))return[Vn];lt.set(Vn.value,Vn)}lt.size>1&&lt.has("")&&lt.delete("");const yo=[...lt.values()];return T.set(He,yo),yo}intersects(Ee,Xe){if(!(Ee instanceof E))throw new TypeError("a Range is required");return this.set.some(He=>fn(He,Xe)&&Ee.set.some(qe=>fn(qe,Xe)&&He.every(ze=>qe.every(tt=>ze.intersects(tt,Xe)))))}test(Ee){if(!Ee)return!1;if(typeof Ee=="string")try{Ee=new re(Ee,this.options)}catch{return!1}for(let Xe=0;Xe<this.set.length;Xe++)if(B5(this.set[Xe],Ee,this.options))return!0;return!1}}Zu=E;const _=ae,T=new _,I=cn,q=c5(),G=xp,re=Sp,{safeRe:ie,t:Q,comparatorTrimReplace:ne,tildeTrimReplace:ge,caretTrimReplace:Pe}=G0,{FLAG_INCLUDE_PRERELEASE:kt,FLAG_LOOSE:ct}=bp,Fe=$e=>$e.value==="<0.0.0-0",hi=$e=>$e.value==="",fn=($e,Ee)=>{let Xe=!0;const He=$e.slice();let qe=He.pop();for(;Xe&&He.length;)Xe=He.every(ze=>qe.intersects(ze,Ee)),qe=He.pop();return Xe},yn=($e,Ee)=>(G("comp",$e,Ee),$e=_t($e,Ee),G("caret",$e),$e=Br($e,Ee),G("tildes",$e),$e=at($e,Ee),G("xrange",$e),$e=Xo($e,Ee),G("stars",$e),$e),Yt=$e=>!$e||$e.toLowerCase()==="x"||$e==="*",Br=($e,Ee)=>$e.trim().split(/\s+/).map(Xe=>Ds(Xe,Ee)).join(" "),Ds=($e,Ee)=>{const Xe=Ee.loose?ie[Q.TILDELOOSE]:ie[Q.TILDE];return $e.replace(Xe,(He,qe,ze,tt,Vt)=>{G("tilde",$e,He,qe,ze,tt,Vt);let lt;return Yt(qe)?lt="":Yt(ze)?lt=`>=${qe}.0.0 <${+qe+1}.0.0-0`:Yt(tt)?lt=`>=${qe}.${ze}.0 <${qe}.${+ze+1}.0-0`:Vt?(G("replaceTilde pr",Vt),lt=`>=${qe}.${ze}.${tt}-${Vt} <${qe}.${+ze+1}.0-0`):lt=`>=${qe}.${ze}.${tt} <${qe}.${+ze+1}.0-0`,G("tilde return",lt),lt})},_t=($e,Ee)=>$e.trim().split(/\s+/).map(Xe=>Kt(Xe,Ee)).join(" "),Kt=($e,Ee)=>{G("caret",$e,Ee);const Xe=Ee.loose?ie[Q.CARETLOOSE]:ie[Q.CARET],He=Ee.includePrerelease?"-0":"";return $e.replace(Xe,(qe,ze,tt,Vt,lt)=>{G("caret",$e,qe,ze,tt,Vt,lt);let vn;return Yt(ze)?vn="":Yt(tt)?vn=`>=${ze}.0.0${He} <${+ze+1}.0.0-0`:Yt(Vt)?ze==="0"?vn=`>=${ze}.${tt}.0${He} <${ze}.${+tt+1}.0-0`:vn=`>=${ze}.${tt}.0${He} <${+ze+1}.0.0-0`:lt?(G("replaceCaret pr",lt),ze==="0"?tt==="0"?vn=`>=${ze}.${tt}.${Vt}-${lt} <${ze}.${tt}.${+Vt+1}-0`:vn=`>=${ze}.${tt}.${Vt}-${lt} <${ze}.${+tt+1}.0-0`:vn=`>=${ze}.${tt}.${Vt}-${lt} <${+ze+1}.0.0-0`):(G("no pr"),ze==="0"?tt==="0"?vn=`>=${ze}.${tt}.${Vt}${He} <${ze}.${tt}.${+Vt+1}-0`:vn=`>=${ze}.${tt}.${Vt}${He} <${ze}.${+tt+1}.0-0`:vn=`>=${ze}.${tt}.${Vt} <${+ze+1}.0.0-0`),G("caret return",vn),vn})},at=($e,Ee)=>(G("replaceXRanges",$e,Ee),$e.split(/\s+/).map(Xe=>Mn(Xe,Ee)).join(" ")),Mn=($e,Ee)=>{$e=$e.trim();const Xe=Ee.loose?ie[Q.XRANGELOOSE]:ie[Q.XRANGE];return $e.replace(Xe,(He,qe,ze,tt,Vt,lt)=>{G("xRange",$e,He,qe,ze,tt,Vt,lt);const vn=Yt(ze),yo=vn||Yt(tt),Vn=yo||Yt(Vt),ly=Vn;return qe==="="&&ly&&(qe=""),lt=Ee.includePrerelease?"-0":"",vn?qe===">"||qe==="<"?He="<0.0.0-0":He="*":qe&&ly?(yo&&(tt=0),Vt=0,qe===">"?(qe=">=",yo?(ze=+ze+1,tt=0,Vt=0):(tt=+tt+1,Vt=0)):qe==="<="&&(qe="<",yo?ze=+ze+1:tt=+tt+1),qe==="<"&&(lt="-0"),He=`${qe+ze}.${tt}.${Vt}${lt}`):yo?He=`>=${ze}.0.0${lt} <${+ze+1}.0.0-0`:Vn&&(He=`>=${ze}.${tt}.0${lt} <${ze}.${+tt+1}.0-0`),G("xRange return",He),He})},Xo=($e,Ee)=>(G("replaceStars",$e,Ee),$e.trim().replace(ie[Q.STAR],"")),z5=($e,Ee)=>(G("replaceGTE0",$e,Ee),$e.trim().replace(ie[Ee.includePrerelease?Q.GTE0PRE:Q.GTE0],"")),j5=$e=>(Ee,Xe,He,qe,ze,tt,Vt,lt,vn,yo,Vn,ly)=>(Yt(He)?Xe="":Yt(qe)?Xe=`>=${He}.0.0${$e?"-0":""}`:Yt(ze)?Xe=`>=${He}.${qe}.0${$e?"-0":""}`:tt?Xe=`>=${Xe}`:Xe=`>=${Xe}${$e?"-0":""}`,Yt(vn)?lt="":Yt(yo)?lt=`<${+vn+1}.0.0-0`:Yt(Vn)?lt=`<${vn}.${+yo+1}.0-0`:ly?lt=`<=${vn}.${yo}.${Vn}-${ly}`:$e?lt=`<${vn}.${yo}.${+Vn+1}-0`:lt=`<=${lt}`,`${Xe} ${lt}`.trim()),B5=($e,Ee,Xe)=>{for(let He=0;He<$e.length;He++)if(!$e[He].test(Ee))return!1;if(Ee.prerelease.length&&!Xe.includePrerelease){for(let He=0;He<$e.length;He++)if(G($e[He].semver),$e[He].semver!==q.ANY&&$e[He].semver.prerelease.length>0){const qe=$e[He].semver;if(qe.major===Ee.major&&qe.minor===Ee.minor&&qe.patch===Ee.patch)return!0}return!1}return!0};return Zu}const f5=Zx();var ew=(E,_,T)=>{try{_=new f5(_,T)}catch{return!1}return _.test(E)},tw=On(ew);function d5(E,_,T){let I;_.x2&&(_.x?(T&&E.x>E.x2&&(I=E.x,E.x=E.x2,E.x2=I),E.width=E.x2-E.x):E.x=E.x2-(E.width||0)),_.xc&&(E.x=E.xc-(E.width||0)/2),_.y2&&(_.y?(T&&E.y>E.y2&&(I=E.y,E.y=E.y2,E.y2=I),E.height=E.y2-E.y):E.y=E.y2-(E.height||0)),_.yc&&(E.y=E.yc-(E.height||0)/2)}var h5={NaN:NaN,E:Math.E,LN2:Math.LN2,LN10:Math.LN10,LOG2E:Math.LOG2E,LOG10E:Math.LOG10E,PI:Math.PI,SQRT1_2:Math.SQRT1_2,SQRT2:Math.SQRT2,MIN_VALUE:Number.MIN_VALUE,MAX_VALUE:Number.MAX_VALUE},p5={"*":(E,_)=>E*_,"+":(E,_)=>E+_,"-":(E,_)=>E-_,"/":(E,_)=>E/_,"%":(E,_)=>E%_,">":(E,_)=>E>_,"<":(E,_)=>E<_,"<=":(E,_)=>E<=_,">=":(E,_)=>E>=_,"==":(E,_)=>E==_,"!=":(E,_)=>E!=_,"===":(E,_)=>E===_,"!==":(E,_)=>E!==_,"&":(E,_)=>E&_,"|":(E,_)=>E|_,"^":(E,_)=>E^_,"<<":(E,_)=>E<<_,">>":(E,_)=>E>>_,">>>":(E,_)=>E>>>_},g5={"+":E=>+E,"-":E=>-E,"~":E=>~E,"!":E=>!E};const m5=Array.prototype.slice,zl=(E,_,T)=>{const I=T?T(_[0]):_[0];return I[E].apply(I,m5.call(_,1))},y5=(E,_,T,I,q,G,re)=>new Date(E,_||0,T??1,I||0,q||0,G||0,re||0);var v5={isNaN:Number.isNaN,isFinite:Number.isFinite,abs:Math.abs,acos:Math.acos,asin:Math.asin,atan:Math.atan,atan2:Math.atan2,ceil:Math.ceil,cos:Math.cos,exp:Math.exp,floor:Math.floor,log:Math.log,max:Math.max,min:Math.min,pow:Math.pow,random:Math.random,round:Math.round,sin:Math.sin,sqrt:Math.sqrt,tan:Math.tan,clamp:(E,_,T)=>Math.max(_,Math.min(T,E)),now:Date.now,utc:Date.UTC,datetime:y5,date:E=>new Date(E).getDate(),day:E=>new Date(E).getDay(),year:E=>new Date(E).getFullYear(),month:E=>new Date(E).getMonth(),hours:E=>new Date(E).getHours(),minutes:E=>new Date(E).getMinutes(),seconds:E=>new Date(E).getSeconds(),milliseconds:E=>new Date(E).getMilliseconds(),time:E=>new Date(E).getTime(),timezoneoffset:E=>new Date(E).getTimezoneOffset(),utcdate:E=>new Date(E).getUTCDate(),utcday:E=>new Date(E).getUTCDay(),utcyear:E=>new Date(E).getUTCFullYear(),utcmonth:E=>new Date(E).getUTCMonth(),utchours:E=>new Date(E).getUTCHours(),utcminutes:E=>new Date(E).getUTCMinutes(),utcseconds:E=>new Date(E).getUTCSeconds(),utcmilliseconds:E=>new Date(E).getUTCMilliseconds(),length:E=>E.length,join:function(){return zl("join",arguments)},indexof:function(){return zl("indexOf",arguments)},lastindexof:function(){return zl("lastIndexOf",arguments)},slice:function(){return zl("slice",arguments)},reverse:E=>E.slice().reverse(),parseFloat,parseInt,upper:E=>String(E).toUpperCase(),lower:E=>String(E).toLowerCase(),substring:function(){return zl("substring",arguments,String)},split:function(){return zl("split",arguments,String)},replace:function(){return zl("replace",arguments,String)},trim:E=>String(E).trim(),regexp:RegExp,test:(E,_)=>RegExp(E).test(_)};const b5=["view","item","group","xy","x","y"],ec=new Set([Function,eval,setTimeout,setInterval]);typeof setImmediate=="function"&&ec.add(setImmediate);const K0={Literal:(E,_)=>_.value,Identifier:(E,_)=>{const T=_.name;return E.memberDepth>0?T:T==="datum"?E.datum:T==="event"?E.event:T==="item"?E.item:h5[T]||E.params["$"+T]},MemberExpression:(E,_)=>{const T=!_.computed,I=E(_.object);T&&(E.memberDepth+=1);const q=E(_.property);if(T&&(E.memberDepth-=1),ec.has(I[q])){console.error(`Prevented interpretation of member "${q}" which could lead to insecure code execution`);return}return I[q]},CallExpression:(E,_)=>{const T=_.arguments;let I=_.callee.name;return I.startsWith("_")&&(I=I.slice(1)),I==="if"?E(T[0])?E(T[1]):E(T[2]):(E.fn[I]||v5[I]).apply(E.fn,T.map(E))},ArrayExpression:(E,_)=>_.elements.map(E),BinaryExpression:(E,_)=>p5[_.operator](E(_.left),E(_.right)),UnaryExpression:(E,_)=>g5[_.operator](E(_.argument)),ConditionalExpression:(E,_)=>E(_.test)?E(_.consequent):E(_.alternate),LogicalExpression:(E,_)=>_.operator==="&&"?E(_.left)&&E(_.right):E(_.left)||E(_.right),ObjectExpression:(E,_)=>_.properties.reduce((T,I)=>{E.memberDepth+=1;const q=E(I.key);return E.memberDepth-=1,ec.has(E(I.value))?console.error(`Prevented interpretation of property "${q}" which could lead to insecure code execution`):T[q]=E(I.value),T},{})};function Jf(E,_,T,I,q,G){const re=ie=>K0[ie.type](re,ie);return re.memberDepth=0,re.fn=Object.create(_),re.params=T,re.datum=I,re.event=q,re.item=G,b5.forEach(ie=>re.fn[ie]=function(){return q.vega[ie](...arguments)}),re(E)}var x5={operator(E,_){const T=_.ast,I=E.functions;return q=>Jf(T,I,q)},parameter(E,_){const T=_.ast,I=E.functions;return(q,G)=>Jf(T,I,G,q)},event(E,_){const T=_.ast,I=E.functions;return q=>Jf(T,I,void 0,void 0,q)},handler(E,_){const T=_.ast,I=E.functions;return(q,G)=>{const re=G.item&&G.item.datum;return Jf(T,I,q,re,G)}},encode(E,_){const{marktype:T,channels:I}=_,q=E.functions,G=T==="group"||T==="image"||T==="rect";return(re,ie)=>{const Q=re.datum;let ne=0,ge;for(const Pe in I)ge=Jf(I[Pe].ast,q,ie,Q,void 0,re),re[Pe]!==ge&&(re[Pe]=ge,ne=1);return T!=="rule"&&d5(re,I,G),ne}}};function Q0(E){const[_,T]=/schema\/([\w-]+)\/([\w\.\-]+)\.json$/g.exec(E).slice(1,3);return{library:_,version:T}}var w5="vega-themes",S5="2.15.0",E5="Themes for stylized Vega and Vega-Lite visualizations.",nw=["vega","vega-lite","themes","style"],C5="BSD-3-Clause",k5={name:"UW Interactive Data Lab",url:"https://idl.cs.washington.edu"},_5=[{name:"Emily Gu",url:"https://github.com/emilygu"},{name:"Arvind Satyanarayan",url:"http://arvindsatya.com"},{name:"Jeffrey Heer",url:"https://idl.cs.washington.edu"},{name:"Dominik Moritz",url:"https://www.domoritz.de"}],J0="build/vega-themes.js",$5="build/vega-themes.module.js",A5="build/vega-themes.min.js",T5="build/vega-themes.min.js",Cp="build/vega-themes.module.d.ts",Z0={type:"git",url:"https://github.com/vega/vega-themes.git"},ey=["src","build"],ty={prebuild:"yarn clean",build:"rollup -c",clean:"rimraf build && rimraf examples/build","copy:data":"rsync -r node_modules/vega-datasets/data/* examples/data","copy:build":"rsync -r build/* examples/build","deploy:gh":"yarn build && mkdir -p examples/build && rsync -r build/* examples/build && gh-pages -d examples",preversion:"yarn lint",serve:"browser-sync start -s -f build examples --serveStatic examples",start:"yarn build && concurrently --kill-others -n Server,Rollup 'yarn serve' 'rollup -c -w'",format:"eslint . --fix",lint:"eslint .",release:"release-it"},F5={"@babel/core":"^7.24.6","@babel/plugin-transform-runtime":"^7.24.6","@babel/preset-env":"^7.24.6","@babel/preset-typescript":"^7.24.6","@release-it/conventional-changelog":"^8.0.1","@rollup/plugin-json":"^6.1.0","@rollup/plugin-node-resolve":"^15.2.3","@rollup/plugin-terser":"^0.4.4","@typescript-eslint/eslint-plugin":"^7.11.0","@typescript-eslint/parser":"^7.11.0","browser-sync":"^3.0.2",concurrently:"^8.2.2",eslint:"^8.45.0","eslint-config-prettier":"^9.1.0","eslint-plugin-prettier":"^5.1.3","gh-pages":"^6.1.1",prettier:"^3.2.5","release-it":"^17.3.0",rollup:"^4.18.0","rollup-plugin-bundle-size":"^1.0.3","rollup-plugin-ts":"^3.4.5",typescript:"^5.4.5",vega:"^5.25.0","vega-lite":"^5.9.3"},rw={vega:"*","vega-lite":"*"},ny={},iw={name:w5,version:S5,description:E5,keywords:nw,license:C5,author:k5,contributors:_5,main:J0,module:$5,unpkg:A5,jsdelivr:T5,types:Cp,repository:Z0,files:ey,scripts:ty,devDependencies:F5,peerDependencies:rw,dependencies:ny};const Vi="#fff",tc="#888",R5={background:"#333",view:{stroke:tc},title:{color:Vi,subtitleColor:Vi},style:{"guide-label":{fill:Vi},"guide-title":{fill:Vi}},axis:{domainColor:Vi,gridColor:tc,tickColor:Vi}},Aa="#4572a7",P5={background:"#fff",arc:{fill:Aa},area:{fill:Aa},line:{stroke:Aa,strokeWidth:2},path:{stroke:Aa},rect:{fill:Aa},shape:{stroke:Aa},symbol:{fill:Aa,strokeWidth:1.5,size:50},axis:{bandPosition:.5,grid:!0,gridColor:"#000000",gridOpacity:1,gridWidth:.5,labelPadding:10,tickSize:5,tickWidth:.5},axisBand:{grid:!1,tickExtra:!0},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:50,symbolType:"square"},range:{category:["#4572a7","#aa4643","#8aa453","#71598e","#4598ae","#d98445","#94aace","#d09393","#b9cc98","#a99cbc"]}},Ta="#30a2da",ry="#cbcbcb",O5="#999",ow="#333",sw="#f0f0f0",N="#333",V={arc:{fill:Ta},area:{fill:Ta},axis:{domainColor:ry,grid:!0,gridColor:ry,gridWidth:1,labelColor:O5,labelFontSize:10,titleColor:ow,tickColor:ry,tickSize:10,titleFontSize:14,titlePadding:10,labelPadding:4},axisBand:{grid:!1},background:sw,group:{fill:sw},legend:{labelColor:N,labelFontSize:11,padding:1,symbolSize:30,symbolType:"square",titleColor:N,titleFontSize:14,titlePadding:10},line:{stroke:Ta,strokeWidth:2},path:{stroke:Ta,strokeWidth:.5},rect:{fill:Ta},range:{category:["#30a2da","#fc4f30","#e5ae38","#6d904f","#8b8b8b","#b96db8","#ff9e27","#56cc60","#52d2ca","#52689e","#545454","#9fe4f8"],diverging:["#cc0020","#e77866","#f6e7e1","#d6e8ed","#91bfd9","#1d78b5"],heatmap:["#d6e8ed","#cee0e5","#91bfd9","#549cc6","#1d78b5"]},point:{filled:!0,shape:"circle"},shape:{stroke:Ta},bar:{binSpacing:2,fill:Ta,stroke:null},title:{anchor:"start",fontSize:24,fontWeight:600,offset:20}},Y="#000",ke={group:{fill:"#e5e5e5"},arc:{fill:Y},area:{fill:Y},line:{stroke:Y},path:{stroke:Y},rect:{fill:Y},shape:{stroke:Y},symbol:{fill:Y,size:40},axis:{domain:!1,grid:!0,gridColor:"#FFFFFF",gridOpacity:1,labelColor:"#7F7F7F",labelPadding:4,tickColor:"#7F7F7F",tickSize:5.67,titleFontSize:16,titleFontWeight:"normal"},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:40},range:{category:["#000000","#7F7F7F","#1A1A1A","#999999","#333333","#B0B0B0","#4D4D4D","#C9C9C9","#666666","#DCDCDC"]}},st=22,Mt="normal",Xt="Benton Gothic, sans-serif",mt=11.5,Jt="normal",Kn="#82c6df",Sr="Benton Gothic Bold, sans-serif",nc="normal",kp=13,jl={"category-6":["#ec8431","#829eb1","#c89d29","#3580b1","#adc839","#ab7fb4"],"fire-7":["#fbf2c7","#f9e39c","#f8d36e","#f4bb6a","#e68a4f","#d15a40","#ab4232"],"fireandice-6":["#e68a4f","#f4bb6a","#f9e39c","#dadfe2","#a6b7c6","#849eae"],"ice-7":["#edefee","#dadfe2","#c4ccd2","#a6b7c6","#849eae","#607785","#47525d"]},aw={background:"#ffffff",title:{anchor:"start",color:"#000000",font:Sr,fontSize:st,fontWeight:Mt},arc:{fill:Kn},area:{fill:Kn},line:{stroke:Kn,strokeWidth:2},path:{stroke:Kn},rect:{fill:Kn},shape:{stroke:Kn},symbol:{fill:Kn,size:30},axis:{labelFont:Xt,labelFontSize:mt,labelFontWeight:Jt,titleFont:Sr,titleFontSize:kp,titleFontWeight:nc},axisX:{labelAngle:0,labelPadding:4,tickSize:3},axisY:{labelBaseline:"middle",maxExtent:45,minExtent:45,tickSize:2,titleAlign:"left",titleAngle:0,titleX:-45,titleY:-11},legend:{labelFont:Xt,labelFontSize:mt,symbolType:"square",titleFont:Sr,titleFontSize:kp,titleFontWeight:nc},range:{category:jl["category-6"],diverging:jl["fireandice-6"],heatmap:jl["fire-7"],ordinal:jl["fire-7"],ramp:jl["fire-7"]}},Zf="#ab5787",lw="#979797",bpe={background:"#f9f9f9",arc:{fill:Zf},area:{fill:Zf},line:{stroke:Zf},path:{stroke:Zf},rect:{fill:Zf},shape:{stroke:Zf},symbol:{fill:Zf,size:30},axis:{domainColor:lw,domainWidth:.5,gridWidth:.2,labelColor:lw,tickColor:lw,tickWidth:.2,titleColor:lw},axisBand:{grid:!1},axisX:{grid:!0,tickSize:10},axisY:{domain:!1,grid:!0,tickSize:0},legend:{labelFontSize:11,padding:1,symbolSize:30,symbolType:"square"},range:{category:["#ab5787","#51b2e5","#703c5c","#168dd9","#d190b6","#00609f","#d365ba","#154866","#666666","#c4c4c4"]}},ed="#3e5c69",xpe={background:"#fff",arc:{fill:ed},area:{fill:ed},line:{stroke:ed},path:{stroke:ed},rect:{fill:ed},shape:{stroke:ed},symbol:{fill:ed},axis:{domainWidth:.5,grid:!0,labelPadding:2,tickSize:5,tickWidth:.5,titleFontWeight:"normal"},axisBand:{grid:!1},axisX:{gridWidth:.2},axisY:{gridDash:[3],gridWidth:.4},legend:{labelFontSize:11,padding:1,symbolType:"square"},range:{category:["#3e5c69","#6793a6","#182429","#0570b0","#3690c0","#74a9cf","#a6bddb","#e2ddf2"]}},Go="#1696d2",tz="#000000",wpe="#FFFFFF",uw="Lato",D5="Lato",Spe="Lato",Epe="#DEDDDD",Cpe=18,iy={"main-colors":["#1696d2","#d2d2d2","#000000","#fdbf11","#ec008b","#55b748","#5c5859","#db2b27"],"shades-blue":["#CFE8F3","#A2D4EC","#73BFE2","#46ABDB","#1696D2","#12719E","#0A4C6A","#062635"],"shades-gray":["#F5F5F5","#ECECEC","#E3E3E3","#DCDBDB","#D2D2D2","#9D9D9D","#696969","#353535"],"shades-yellow":["#FFF2CF","#FCE39E","#FDD870","#FCCB41","#FDBF11","#E88E2D","#CA5800","#843215"],"shades-magenta":["#F5CBDF","#EB99C2","#E46AA7","#E54096","#EC008B","#AF1F6B","#761548","#351123"],"shades-green":["#DCEDD9","#BCDEB4","#98CF90","#78C26D","#55B748","#408941","#2C5C2D","#1A2E19"],"shades-black":["#D5D5D4","#ADABAC","#848081","#5C5859","#332D2F","#262223","#1A1717","#0E0C0D"],"shades-red":["#F8D5D4","#F1AAA9","#E9807D","#E25552","#DB2B27","#A4201D","#6E1614","#370B0A"],"one-group":["#1696d2","#000000"],"two-groups-cat-1":["#1696d2","#000000"],"two-groups-cat-2":["#1696d2","#fdbf11"],"two-groups-cat-3":["#1696d2","#db2b27"],"two-groups-seq":["#a2d4ec","#1696d2"],"three-groups-cat":["#1696d2","#fdbf11","#000000"],"three-groups-seq":["#a2d4ec","#1696d2","#0a4c6a"],"four-groups-cat-1":["#000000","#d2d2d2","#fdbf11","#1696d2"],"four-groups-cat-2":["#1696d2","#ec0008b","#fdbf11","#5c5859"],"four-groups-seq":["#cfe8f3","#73bf42","#1696d2","#0a4c6a"],"five-groups-cat-1":["#1696d2","#fdbf11","#d2d2d2","#ec008b","#000000"],"five-groups-cat-2":["#1696d2","#0a4c6a","#d2d2d2","#fdbf11","#332d2f"],"five-groups-seq":["#cfe8f3","#73bf42","#1696d2","#0a4c6a","#000000"],"six-groups-cat-1":["#1696d2","#ec008b","#fdbf11","#000000","#d2d2d2","#55b748"],"six-groups-cat-2":["#1696d2","#d2d2d2","#ec008b","#fdbf11","#332d2f","#0a4c6a"],"six-groups-seq":["#cfe8f3","#a2d4ec","#73bfe2","#46abdb","#1696d2","#12719e"],"diverging-colors":["#ca5800","#fdbf11","#fdd870","#fff2cf","#cfe8f3","#73bfe2","#1696d2","#0a4c6a"]},kpe={background:wpe,title:{anchor:"start",fontSize:Cpe,font:uw},axisX:{domain:!0,domainColor:tz,domainWidth:1,grid:!1,labelFontSize:12,labelFont:D5,labelAngle:0,tickColor:tz,tickSize:5,titleFontSize:12,titlePadding:10,titleFont:uw},axisY:{domain:!1,domainWidth:1,grid:!0,gridColor:Epe,gridWidth:1,labelFontSize:12,labelFont:D5,labelPadding:8,ticks:!1,titleFontSize:12,titlePadding:10,titleFont:uw,titleAngle:0,titleY:-10,titleX:18},legend:{labelFontSize:12,labelFont:D5,symbolSize:100,titleFontSize:12,titlePadding:10,titleFont:uw,orient:"right",offset:10},view:{stroke:"transparent"},range:{category:iy["six-groups-cat-1"],diverging:iy["diverging-colors"],heatmap:iy["diverging-colors"],ordinal:iy["six-groups-seq"],ramp:iy["shades-blue"]},area:{fill:Go},rect:{fill:Go},line:{color:Go,stroke:Go,strokeWidth:5},trail:{color:Go,stroke:Go,strokeWidth:0,size:1},path:{stroke:Go,strokeWidth:.5},point:{filled:!0},text:{font:Spe,color:Go,fontSize:11,align:"center",fontWeight:400,size:11},style:{bar:{fill:Go,stroke:null}},arc:{fill:Go},shape:{stroke:Go},symbol:{fill:Go,size:30}},td="#3366CC",nz="#ccc",cw="Arial, sans-serif",_pe={arc:{fill:td},area:{fill:td},path:{stroke:td},rect:{fill:td},shape:{stroke:td},symbol:{stroke:td},circle:{fill:td},background:"#fff",padding:{top:10,right:10,bottom:10,left:10},style:{"guide-label":{font:cw,fontSize:12},"guide-title":{font:cw,fontSize:12},"group-title":{font:cw,fontSize:12}},title:{font:cw,fontSize:14,fontWeight:"bold",dy:-3,anchor:"start"},axis:{gridColor:nz,tickColor:nz,domain:!1,grid:!0},range:{category:["#4285F4","#DB4437","#F4B400","#0F9D58","#AB47BC","#00ACC1","#FF7043","#9E9D24","#5C6BC0","#F06292","#00796B","#C2185B"],heatmap:["#c6dafc","#5e97f6","#2a56c6"]}},M5=E=>E*(1/3+1),rz=M5(9),iz=M5(10),oz=M5(12),oy="Segoe UI",sz="wf_standard-font, helvetica, arial, sans-serif",az="#252423",sy="#605E5C",lz="transparent",$pe="#C8C6C4",Ps="#118DFF",Ape="#12239E",Tpe="#E66C37",Fpe="#6B007B",Rpe="#E044A7",Ppe="#744EC2",Ope="#D9B300",Dpe="#D64550",uz=Ps,cz="#DEEFFF",fz=[cz,uz],Mpe={view:{stroke:lz},background:lz,font:oy,header:{titleFont:sz,titleFontSize:oz,titleColor:az,labelFont:oy,labelFontSize:iz,labelColor:sy},axis:{ticks:!1,grid:!1,domain:!1,labelColor:sy,labelFontSize:rz,titleFont:sz,titleColor:az,titleFontSize:oz,titleFontWeight:"normal"},axisQuantitative:{tickCount:3,grid:!0,gridColor:$pe,gridDash:[1,5],labelFlush:!1},axisBand:{tickExtra:!0},axisX:{labelPadding:5},axisY:{labelPadding:10},bar:{fill:Ps},line:{stroke:Ps,strokeWidth:3,strokeCap:"round",strokeJoin:"round"},text:{font:oy,fontSize:rz,fill:sy},arc:{fill:Ps},area:{fill:Ps,line:!0,opacity:.6},path:{stroke:Ps},rect:{fill:Ps},point:{fill:Ps,filled:!0,size:75},shape:{stroke:Ps},symbol:{fill:Ps,strokeWidth:1.5,size:50},legend:{titleFont:oy,titleFontWeight:"bold",titleColor:sy,labelFont:oy,labelFontSize:iz,labelColor:sy,symbolType:"circle",symbolSize:75},range:{category:[Ps,Ape,Tpe,Fpe,Rpe,Ppe,Ope,Dpe],diverging:fz,heatmap:fz,ordinal:[cz,"#c7e4ff","#b0d9ff","#9aceff","#83c3ff","#6cb9ff","#55aeff","#3fa3ff","#2898ff",uz]}},N5='IBM Plex Sans,system-ui,-apple-system,BlinkMacSystemFont,".sfnstext-regular",sans-serif',Npe='IBM Plex Sans Condensed, system-ui, -apple-system, BlinkMacSystemFont, ".SFNSText-Regular", sans-serif',L5=400,fw={textPrimary:{g90:"#f4f4f4",g100:"#f4f4f4",white:"#161616",g10:"#161616"},textSecondary:{g90:"#c6c6c6",g100:"#c6c6c6",white:"#525252",g10:"#525252"},layerAccent01:{white:"#e0e0e0",g10:"#e0e0e0",g90:"#525252",g100:"#393939"},gridBg:{white:"#ffffff",g10:"#ffffff",g90:"#161616",g100:"#161616"}},Lpe=["#8a3ffc","#33b1ff","#007d79","#ff7eb6","#fa4d56","#fff1f1","#6fdc8c","#4589ff","#d12771","#d2a106","#08bdba","#bae6ff","#ba4e00","#d4bbff"],Ipe=["#6929c4","#1192e8","#005d5d","#9f1853","#fa4d56","#570408","#198038","#002d9c","#ee538b","#b28600","#009d9a","#012749","#8a3800","#a56eff"];function dw({theme:E,background:_}){const T=["white","g10"].includes(E)?"light":"dark",I=fw.gridBg[E],q=fw.textPrimary[E],G=fw.textSecondary[E],re=T==="dark"?Lpe:Ipe,ie=T==="dark"?"#d4bbff":"#6929c4";return{background:_,arc:{fill:ie},area:{fill:ie},path:{stroke:ie},rect:{fill:ie},shape:{stroke:ie},symbol:{stroke:ie},circle:{fill:ie},view:{fill:I,stroke:I},group:{fill:I},title:{color:q,anchor:"start",dy:-15,fontSize:16,font:N5,fontWeight:600},axis:{labelColor:G,labelFontSize:12,labelFont:Npe,labelFontWeight:L5,titleColor:q,titleFontWeight:600,titleFontSize:12,grid:!0,gridColor:fw.layerAccent01[E],labelAngle:0},axisX:{titlePadding:10},axisY:{titlePadding:2.5},style:{"guide-label":{font:N5,fill:G,fontWeight:L5},"guide-title":{font:N5,fill:G,fontWeight:L5}},range:{category:re,diverging:["#750e13","#a2191f","#da1e28","#fa4d56","#ff8389","#ffb3b8","#ffd7d9","#fff1f1","#e5f6ff","#bae6ff","#82cfff","#33b1ff","#1192e8","#0072c3","#00539a","#003a6d"],heatmap:["#f6f2ff","#e8daff","#d4bbff","#be95ff","#a56eff","#8a3ffc","#6929c4","#491d8b","#31135e","#1c0f30"]}}}const zpe=dw({theme:"white",background:"#ffffff"}),jpe=dw({theme:"g10",background:"#f4f4f4"}),Bpe=dw({theme:"g90",background:"#262626"}),Upe=dw({theme:"g100",background:"#161616"}),Vpe=iw.version;var Wpe=Object.freeze({__proto__:null,carbong10:jpe,carbong100:Upe,carbong90:Bpe,carbonwhite:zpe,dark:R5,excel:P5,fivethirtyeight:V,ggplot2:ke,googlecharts:_pe,latimes:aw,powerbi:Mpe,quartz:bpe,urbaninstitute:kpe,version:Vpe,vox:xpe});function _p(E,_,T){return E.fields=_||[],E.fname=T,E}function Hpe(E){return E.length===1?qpe(E[0]):Gpe(E)}const qpe=E=>function(_){return _[E]},Gpe=E=>{const _=E.length;return function(T){for(let I=0;I<_;++I)T=T[E[I]];return T}};function I5(E){throw Error(E)}function Xpe(E){const _=[],T=E.length;let I=null,q=0,G="",re,ie,Q;E=E+"";function ne(){_.push(G+E.substring(re,ie)),G="",re=ie+1}for(re=ie=0;ie<T;++ie)if(Q=E[ie],Q==="\\")G+=E.substring(re,ie++),re=ie;else if(Q===I)ne(),I=null,q=-1;else{if(I)continue;re===q&&Q==='"'||re===q&&Q==="'"?(re=ie+1,I=Q):Q==="."&&!q?ie>re?ne():re=ie+1:Q==="["?(ie>re&&ne(),q=re=ie+1):Q==="]"&&(q||I5("Access path missing open bracket: "+E),q>0&&ne(),q=0,re=ie+1)}return q&&I5("Access path missing closing bracket: "+E),I&&I5("Access path missing closing quote: "+E),ie>re&&(ie++,ne()),_}function Ype(E,_,T){const I=Xpe(E);return E=I.length===1?I[0]:E,_p(Hpe(I),[E],E)}Ype("id"),_p(E=>E,[],"identity"),_p(()=>0,[],"zero"),_p(()=>1,[],"one"),_p(()=>!0,[],"true"),_p(()=>!1,[],"false");var Kpe=Array.isArray;function dz(E){return E===Object(E)}function Qpe(E){return typeof E=="string"}function Jpe(E,_,T,I){if(Kpe(E))return`[${E.map(q=>_(Qpe(q)?q:hz(q,T))).join(", ")}]`;if(dz(E)){let q="";const{title:G,image:re,...ie}=E;G&&(q+=`<h2>${_(G)}</h2>`),re&&(q+=`<img src="${new URL(_(re),I||location.href).href}">`);const Q=Object.keys(ie);if(Q.length>0){q+="<table>";for(const ne of Q){let ge=ie[ne];ge!==void 0&&(dz(ge)&&(ge=hz(ge,T)),q+=`<tr><td class="key">${_(ne)}</td><td class="value">${_(ge)}</td></tr>`)}q+="</table>"}return q||"{}"}return _(E)}function Zpe(E){const _=[];return function(T,I){if(typeof I!="object"||I===null)return I;const q=_.indexOf(this)+1;return _.length=q,_.length>E?"[Object]":_.indexOf(I)>=0?"[Circular]":(_.push(I),I)}}function hz(E,_){return JSON.stringify(E,Zpe(_))}var ege=`#vg-tooltip-element {
  visibility: hidden;
  padding: 8px;
  position: fixed;
  z-index: 1000;
  font-family: sans-serif;
  font-size: 11px;
  border-radius: 3px;
  box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
  /* The default theme is the light theme. */
  background-color: rgba(255, 255, 255, 0.95);
  border: 1px solid #d9d9d9;
  color: black;
}
#vg-tooltip-element.visible {
  visibility: visible;
}
#vg-tooltip-element h2 {
  margin-top: 0;
  margin-bottom: 10px;
  font-size: 13px;
}
#vg-tooltip-element table {
  border-spacing: 0;
}
#vg-tooltip-element table tr {
  border: none;
}
#vg-tooltip-element table tr td {
  overflow: hidden;
  text-overflow: ellipsis;
  padding-top: 2px;
  padding-bottom: 2px;
}
#vg-tooltip-element table tr td.key {
  color: #808080;
  max-width: 150px;
  text-align: right;
  padding-right: 4px;
}
#vg-tooltip-element table tr td.value {
  display: block;
  max-width: 300px;
  max-height: 7em;
  text-align: left;
}
#vg-tooltip-element.dark-theme {
  background-color: rgba(32, 32, 32, 0.9);
  border: 1px solid #f5f5f5;
  color: white;
}
#vg-tooltip-element.dark-theme td.key {
  color: #bfbfbf;
}
`;const pz="vg-tooltip-element",tge={offsetX:10,offsetY:10,id:pz,styleId:"vega-tooltip-style",theme:"light",disableDefaultStyle:!1,sanitize:nge,maxDepth:2,formatTooltip:Jpe,baseURL:""};function nge(E){return String(E).replace(/&/g,"&amp;").replace(/</g,"&lt;")}function rge(E){if(!/^[A-Za-z]+[-:.\w]*$/.test(E))throw new Error("Invalid HTML ID");return ege.toString().replace(pz,E)}function ige(E,_,T,I){let q=E.clientX+T;q+_.width>window.innerWidth&&(q=+E.clientX-T-_.width);let G=E.clientY+I;return G+_.height>window.innerHeight&&(G=+E.clientY-I-_.height),{x:q,y:G}}class oge{constructor(_){this.options={...tge,..._};const T=this.options.id;if(this.el=null,this.call=this.tooltipHandler.bind(this),!this.options.disableDefaultStyle&&!document.getElementById(this.options.styleId)){const I=document.createElement("style");I.setAttribute("id",this.options.styleId),I.innerHTML=rge(T);const q=document.head;q.childNodes.length>0?q.insertBefore(I,q.childNodes[0]):q.appendChild(I)}}tooltipHandler(_,T,I,q){if(this.el=document.getElementById(this.options.id),this.el||(this.el=document.createElement("div"),this.el.setAttribute("id",this.options.id),this.el.classList.add("vg-tooltip"),(document.fullscreenElement??document.body).appendChild(this.el)),q==null||q===""){this.el.classList.remove("visible",`${this.options.theme}-theme`);return}this.el.innerHTML=this.options.formatTooltip(q,this.options.sanitize,this.options.maxDepth,this.options.baseURL),this.el.classList.add("visible",`${this.options.theme}-theme`);const{x:G,y:re}=ige(T,this.el.getBoundingClientRect(),this.options.offsetX,this.options.offsetY);this.el.style.top=`${re}px`,this.el.style.left=`${G}px`}}function sge(E,_,T){const I=E.open(_),q=1e4,G=250,{origin:re}=new URL(_);let ie=~~(q/G);function Q(ge){ge.source===I&&(ie=0,E.removeEventListener("message",Q,!1))}E.addEventListener("message",Q,!1);function ne(){ie<=0||(I.postMessage(T,re),setTimeout(ne,G),ie-=1)}setTimeout(ne,G)}var age=`.vega-embed {
  position: relative;
  display: inline-block;
  box-sizing: border-box;
}
.vega-embed.has-actions {
  padding-right: 38px;
}
.vega-embed details:not([open]) > :not(summary) {
  display: none !important;
}
.vega-embed summary {
  list-style: none;
  position: absolute;
  top: 0;
  right: 0;
  padding: 6px;
  z-index: 1000;
  background: white;
  box-shadow: 1px 1px 3px rgba(0, 0, 0, 0.1);
  color: #1b1e23;
  border: 1px solid #aaa;
  border-radius: 999px;
  opacity: 0.2;
  transition: opacity 0.4s ease-in;
  cursor: pointer;
  line-height: 0px;
}
.vega-embed summary::-webkit-details-marker {
  display: none;
}
.vega-embed summary:active {
  box-shadow: #aaa 0px 0px 0px 1px inset;
}
.vega-embed summary svg {
  width: 14px;
  height: 14px;
}
.vega-embed details[open] summary {
  opacity: 0.7;
}
.vega-embed:hover summary, .vega-embed:focus-within summary {
  opacity: 1 !important;
  transition: opacity 0.2s ease;
}
.vega-embed .vega-actions {
  position: absolute;
  z-index: 1001;
  top: 35px;
  right: -9px;
  display: flex;
  flex-direction: column;
  padding-bottom: 8px;
  padding-top: 8px;
  border-radius: 4px;
  box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.2);
  border: 1px solid #d9d9d9;
  background: white;
  animation-duration: 0.15s;
  animation-name: scale-in;
  animation-timing-function: cubic-bezier(0.2, 0, 0.13, 1.5);
  text-align: left;
}
.vega-embed .vega-actions a {
  padding: 8px 16px;
  font-family: sans-serif;
  font-size: 14px;
  font-weight: 600;
  white-space: nowrap;
  color: #434a56;
  text-decoration: none;
}
.vega-embed .vega-actions a:hover, .vega-embed .vega-actions a:focus {
  background-color: #f7f7f9;
  color: black;
}
.vega-embed .vega-actions::before, .vega-embed .vega-actions::after {
  content: "";
  display: inline-block;
  position: absolute;
}
.vega-embed .vega-actions::before {
  left: auto;
  right: 14px;
  top: -16px;
  border: 8px solid rgba(0, 0, 0, 0);
  border-bottom-color: #d9d9d9;
}
.vega-embed .vega-actions::after {
  left: auto;
  right: 15px;
  top: -14px;
  border: 7px solid rgba(0, 0, 0, 0);
  border-bottom-color: #fff;
}
.vega-embed .chart-wrapper.fit-x {
  width: 100%;
}
.vega-embed .chart-wrapper.fit-y {
  height: 100%;
}

.vega-embed-wrapper {
  max-width: 100%;
  overflow: auto;
  padding-right: 14px;
}

@keyframes scale-in {
  from {
    opacity: 0;
    transform: scale(0.6);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}
`;function lge(E){return E.startsWith("http://")||E.startsWith("https://")||E.startsWith("//")}function gz(E,..._){for(const T of _)uge(E,T);return E}function uge(E,_){for(const T of Object.keys(_))r.writeConfig(E,T,_[T],!0)}var cge="vega-embed",fge="6.26.0",dge="Publish Vega visualizations as embedded web components.",hge=["vega","data","visualization","component","embed"],pge={type:"git",url:"http://github.com/vega/vega-embed.git"},gge={name:"UW Interactive Data Lab",url:"http://idl.cs.washington.edu"},mge=[{name:"Dominik Moritz",url:"https://www.domoritz.de"}],yge={url:"https://github.com/vega/vega-embed/issues"},vge="https://github.com/vega/vega-embed#readme",bge="BSD-3-Clause",xge="build/vega-embed.js",wge="build/vega-embed.module.js",Sge="build/vega-embed.min.js",Ege="build/vega-embed.min.js",Cge="build/vega-embed.module.d.ts",kge=["src","build"],_ge={".":{import:{types:"./build/vega-embed.module.d.ts",default:"./build/vega-embed.module.js"},require:{default:"./build/vega-embed.js"}}},$ge={"@babel/core":"^7.24.7","@babel/eslint-parser":"^7.24.7","@babel/plugin-transform-runtime":"^7.24.7","@babel/preset-env":"^7.24.7","@babel/preset-typescript":"^7.24.7","@release-it/conventional-changelog":"^8.0.1","@rollup/plugin-commonjs":"26.0.1","@rollup/plugin-json":"^6.1.0","@rollup/plugin-node-resolve":"^15.2.3","@rollup/plugin-terser":"^0.4.4","@types/semver":"^7.5.8","@typescript-eslint/parser":"^7.15.0","@vitest/coverage-v8":"^1.6.0","browser-sync":"^3.0.2",concurrently:"^8.2.2","del-cli":"^5.1.0",eslint:"^9.6.0","eslint-config-prettier":"^9.1.0","eslint-plugin-prettier":"^5.1.3","eslint-plugin-vitest":"^0.5.4",jsdom:"^24.1.0","postinstall-postinstall":"^2.1.0",prettier:"^3.3.2","release-it":"^17.4.1",rollup:"4.18.0","rollup-plugin-bundle-size":"^1.0.3","rollup-plugin-ts":"^3.4.5",sass:"^1.77.6",typescript:"^5.5.3","typescript-eslint":"^7.15.0",vega:"^5.30.0","vega-lite":"^5.19.0",vitest:"^1.6.0","vitest-canvas-mock":"^0.3.3"},Age={vega:"^5.21.0","vega-lite":"*"},Tge={"fast-json-patch":"^3.1.1","json-stringify-pretty-compact":"^3.0.0",semver:"^7.6.2",tslib:"^2.6.3","vega-interpreter":"^1.0.5","vega-schema-url-parser":"^2.2.0","vega-themes":"^2.15.0","vega-tooltip":"^0.34.0"},Fge={prebuild:"yarn clean && yarn build:style",build:"rollup -c","build:style":"./build-style.sh",clean:"del-cli build src/style.ts",prepublishOnly:"yarn clean && yarn build",preversion:"yarn lint && yarn test",serve:"browser-sync start --directory -s -f build *.html",start:"yarn build && concurrently --kill-others -n Server,Rollup 'yarn serve' 'rollup -c -w'",pretest:"yarn build:style",test:"vitest run",prettierbase:"prettier '*.{css,scss,html}'",format:"eslint . --fix && yarn prettierbase --write",lint:"eslint . && yarn prettierbase --check",release:"release-it"},Rge={name:cge,version:fge,description:dge,keywords:hge,repository:pge,author:gge,contributors:mge,bugs:yge,homepage:vge,license:bge,main:xge,module:wge,unpkg:Sge,jsdelivr:Ege,types:Cge,files:kge,exports:_ge,devDependencies:$ge,peerDependencies:Age,dependencies:Tge,scripts:Fge};const Pge=Rge.version,Os=s;let nd=a;const hw=typeof window<"u"?window:void 0;nd===void 0&&((wz=hw==null?void 0:hw.vl)!=null&&wz.compile)&&(nd=hw.vl);const Oge={export:{svg:!0,png:!0},source:!0,compiled:!0,editor:!0},Dge={CLICK_TO_VIEW_ACTIONS:"Click to view actions",COMPILED_ACTION:"View Compiled Vega",EDITOR_ACTION:"Open in Vega Editor",PNG_ACTION:"Save as PNG",SOURCE_ACTION:"View Source",SVG_ACTION:"Save as SVG"},ay={vega:"Vega","vega-lite":"Vega-Lite"},pw={vega:Os.version,"vega-lite":nd?nd.version:"not available"},Mge={vega:E=>E,"vega-lite":(E,_)=>nd.compile(E,{config:_}).spec},Nge=`
<svg viewBox="0 0 16 16" fill="currentColor" stroke="none" stroke-width="1" stroke-linecap="round" stroke-linejoin="round">
  <circle r="2" cy="8" cx="2"></circle>
  <circle r="2" cy="8" cx="8"></circle>
  <circle r="2" cy="8" cx="14"></circle>
</svg>`,Lge="chart-wrapper";function Ige(E){return typeof E=="function"}function mz(E,_,T,I){const q=`<html><head>${_}</head><body><pre><code class="json">`,G=`</code></pre>${T}</body></html>`,re=window.open("");re.document.write(q+E+G),re.document.title=`${ay[I]} JSON Source`}function zge(E,_){if(E.$schema){const T=Q0(E.$schema);_&&_!==T.library&&console.warn(`The given visualization spec is written in ${ay[T.library]}, but mode argument sets ${ay[_]??_}.`);const I=T.library;return tw(pw[I],`^${T.version.slice(1)}`)||console.warn(`The input spec uses ${ay[I]} ${T.version}, but the current version of ${ay[I]} is v${pw[I]}.`),I}return"mark"in E||"encoding"in E||"layer"in E||"hconcat"in E||"vconcat"in E||"facet"in E||"repeat"in E?"vega-lite":"marks"in E||"signals"in E||"scales"in E||"axes"in E?"vega":_??"vega"}function yz(E){return!!(E&&"load"in E)}function vz(E){return yz(E)?E:Os.loader(E)}function jge(E){var T;const _=((T=E.usermeta)==null?void 0:T.embedOptions)??{};return r.isString(_.defaultStyle)&&(_.defaultStyle=!1),_}async function gw(E,_,T={}){let I,q;r.isString(_)?(q=vz(T.loader),I=JSON.parse(await q.load(_))):I=_;const G=jge(I),re=G.loader;(!q||re)&&(q=vz(T.loader??re));const ie=await bz(G,q),Q=await bz(T,q),ne={...gz(Q,ie),config:r.mergeConfig(Q.config??{},ie.config??{})};return await Uge(E,I,ne,q)}async function bz(E,_){const T=r.isString(E.config)?JSON.parse(await _.load(E.config)):E.config??{},I=r.isString(E.patch)?JSON.parse(await _.load(E.patch)):E.patch;return{...E,...I?{patch:I}:{},...T?{config:T}:{}}}function Bge(E){const _=E.getRootNode?E.getRootNode():document;return _ instanceof ShadowRoot?{root:_,rootContainer:_}:{root:document,rootContainer:document.head??document.body}}async function Uge(E,_,T={},I){const q=T.theme?r.mergeConfig(Wpe[T.theme],T.config??{}):T.config,G=r.isBoolean(T.actions)?T.actions:gz({},Oge,T.actions??{}),re={...Dge,...T.i18n},ie=T.renderer??"canvas",Q=T.logLevel??Os.Warn,ne=T.downloadFileName??"visualization",ge=typeof E=="string"?document.querySelector(E):E;if(!ge)throw new Error(`${E} does not exist`);if(T.defaultStyle!==!1){const _t="vega-embed-style",{root:Kt,rootContainer:at}=Bge(ge);if(!Kt.getElementById(_t)){const Mn=document.createElement("style");Mn.id=_t,Mn.innerHTML=T.defaultStyle===void 0||T.defaultStyle===!0?age.toString():T.defaultStyle,at.appendChild(Mn)}}const Pe=zge(_,T.mode);let kt=Mge[Pe](_,q);if(Pe==="vega-lite"&&kt.$schema){const _t=Q0(kt.$schema);tw(pw.vega,`^${_t.version.slice(1)}`)||console.warn(`The compiled spec uses Vega ${_t.version}, but current version is v${pw.vega}.`)}ge.classList.add("vega-embed"),G&&ge.classList.add("has-actions"),ge.innerHTML="";let ct=ge;if(G){const _t=document.createElement("div");_t.classList.add(Lge),ge.appendChild(_t),ct=_t}const Fe=T.patch;if(Fe&&(kt=Fe instanceof Function?Fe(kt):$(kt,Fe,!0,!1).newDocument),T.formatLocale&&Os.formatLocale(T.formatLocale),T.timeFormatLocale&&Os.timeFormatLocale(T.timeFormatLocale),T.expressionFunctions)for(const _t in T.expressionFunctions){const Kt=T.expressionFunctions[_t];"fn"in Kt?Os.expressionFunction(_t,Kt.fn,Kt.visitor):Kt instanceof Function&&Os.expressionFunction(_t,Kt)}const{ast:hi}=T,fn=Os.parse(kt,Pe==="vega-lite"?{}:q,{ast:hi}),yn=new(T.viewClass||Os.View)(fn,{loader:I,logLevel:Q,renderer:ie,...hi?{expr:Os.expressionInterpreter??T.expr??x5}:{}});if(yn.addSignalListener("autosize",(_t,Kt)=>{const{type:at}=Kt;at=="fit-x"?(ct.classList.add("fit-x"),ct.classList.remove("fit-y")):at=="fit-y"?(ct.classList.remove("fit-x"),ct.classList.add("fit-y")):at=="fit"?ct.classList.add("fit-x","fit-y"):ct.classList.remove("fit-x","fit-y")}),T.tooltip!==!1){const{loader:_t,tooltip:Kt}=T,at=_t&&!yz(_t)?_t==null?void 0:_t.baseURL:void 0,Mn=Ige(Kt)?Kt:new oge({baseURL:at,...Kt===!0?{}:Kt}).call;yn.tooltip(Mn)}let{hover:Yt}=T;if(Yt===void 0&&(Yt=Pe==="vega"),Yt){const{hoverSet:_t,updateSet:Kt}=typeof Yt=="boolean"?{}:Yt;yn.hover(_t,Kt)}T&&(T.width!=null&&yn.width(T.width),T.height!=null&&yn.height(T.height),T.padding!=null&&yn.padding(T.padding)),await yn.initialize(ct,T.bind).runAsync();let Br;if(G!==!1){let _t=ge;if(T.defaultStyle!==!1||T.forceActionsMenu){const at=document.createElement("details");at.title=re.CLICK_TO_VIEW_ACTIONS,ge.append(at),_t=at;const Mn=document.createElement("summary");Mn.innerHTML=Nge,at.append(Mn),Br=Xo=>{at.contains(Xo.target)||at.removeAttribute("open")},document.addEventListener("click",Br)}const Kt=document.createElement("div");if(_t.append(Kt),Kt.classList.add("vega-actions"),G===!0||G.export!==!1){for(const at of["svg","png"])if(G===!0||G.export===!0||G.export[at]){const Mn=re[`${at.toUpperCase()}_ACTION`],Xo=document.createElement("a"),z5=r.isObject(T.scaleFactor)?T.scaleFactor[at]:T.scaleFactor;Xo.text=Mn,Xo.href="#",Xo.target="_blank",Xo.download=`${ne}.${at}`,Xo.addEventListener("mousedown",async function(j5){j5.preventDefault();const B5=await yn.toImageURL(at,z5);this.href=B5}),Kt.append(Xo)}}if(G===!0||G.source!==!1){const at=document.createElement("a");at.text=re.SOURCE_ACTION,at.href="#",at.addEventListener("click",function(Mn){mz(Ne(_),T.sourceHeader??"",T.sourceFooter??"",Pe),Mn.preventDefault()}),Kt.append(at)}if(Pe==="vega-lite"&&(G===!0||G.compiled!==!1)){const at=document.createElement("a");at.text=re.COMPILED_ACTION,at.href="#",at.addEventListener("click",function(Mn){mz(Ne(kt),T.sourceHeader??"",T.sourceFooter??"","vega"),Mn.preventDefault()}),Kt.append(at)}if(G===!0||G.editor!==!1){const at=T.editorUrl??"https://vega.github.io/editor/",Mn=document.createElement("a");Mn.text=re.EDITOR_ACTION,Mn.href="#",Mn.addEventListener("click",function(Xo){sge(window,at,{config:q,mode:Fe?"vega":Pe,renderer:ie,spec:Ne(Fe?kt:_)}),Xo.preventDefault()}),Kt.append(Mn)}}function Ds(){Br&&document.removeEventListener("click",Br),yn.finalize()}return{view:yn,spec:_,vgSpec:kt,finalize:Ds,embedOptions:T}}async function xz(E,_={}){const T=document.createElement("div");T.classList.add("vega-embed-wrapper");const I=document.createElement("div");T.appendChild(I);const q=_.actions===!0||_.actions===!1?_.actions:{export:!0,source:!1,compiled:!0,editor:!0,..._.actions},G=await gw(I,E,{actions:q,..._});return T.value=G.view,T}function Vge(E){return E instanceof HTMLElement}const rc=(...E)=>E.length>1&&(r.isString(E[0])&&!lge(E[0])||Vge(E[0])||E.length===3)?gw(E[0],E[1],E[2]):xz(E[0],E[1]);return rc.vegaLite=nd,rc.vl=nd,rc.container=xz,rc.embed=gw,rc.vega=Os,rc.default=gw,rc.version=Pge,rc})})(Whe);var Hhe=Whe.exports,B9={};B9.__esModule=!0;B9.default=Wut;function Wut(e){return!!e&&{}.toString.call(e)==="[object Function]"}j9.__esModule=!0;j9.default=Xut;var Hut=Hhe,qut=Gut(B9);function Gut(e){return e&&e.__esModule?e:{default:e}}function Xut(e,t,n){n&&((0,qut.default)(n)?n(e.data(t)):e.change(t,Hut.vega.changeset().remove(()=>!0).insert(n)))}z9.__esModule=!0;z9.default=Qut;var Yut=Kut(j9);function Kut(e){return e&&e.__esModule?e:{default:e}}function Qut(e,t){Object.keys(t).forEach(n=>{(0,Yut.default)(e,n,t[n])})}var BA={},UA={};UA.__esModule=!0;UA.default=Jut;function Jut(e){const t=new Set;return e.forEach(n=>{Object.keys(n).forEach(r=>{t.add(r)})}),t}var Gx={};Gx.__esModule=!0;Gx.NOOP=void 0;const Zut=()=>{};Gx.NOOP=Zut;var U9={};U9.__esModule=!0;U9.default=ect;function ect(e,t){const n=Object.keys(t);return n.forEach(r=>{try{e.addSignalListener(r,t[r])}catch(i){console.warn("Cannot add invalid signal listener.",i)}}),n.length>0}var V9={},tct=function e(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var r,i,o;if(Array.isArray(t)){if(r=t.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(o=Object.keys(t),r=o.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,o[i]))return!1;for(i=r;i--!==0;){var s=o[i];if(!e(t[s],n[s]))return!1}return!0}return t!==t&&n!==n};V9.__esModule=!0;V9.default=ict;var nct=qhe(tct),rct=qhe(UA);function qhe(e){return e&&e.__esModule?e:{default:e}}function ict(e,t){if(e===t)return!1;const n={width:!1,height:!1,isExpensive:!1},r=(0,rct.default)([e,t]);return r.has("width")&&(!("width"in e)||!("width"in t)||e.width!==t.width)&&("width"in e&&typeof e.width=="number"?n.width=e.width:n.isExpensive=!0),r.has("height")&&(!("height"in e)||!("height"in t)||e.height!==t.height)&&("height"in e&&typeof e.height=="number"?n.height=e.height:n.isExpensive=!0),r.delete("width"),r.delete("height"),[...r].some(i=>!(i in e)||!(i in t)||!(0,nct.default)(e[i],t[i]))&&(n.isExpensive=!0),n.width!==!1||n.height!==!1||n.isExpensive?n:!1}var W9={};W9.__esModule=!0;W9.default=oct;function oct(e,t){const n=Object.keys(t);return n.forEach(r=>{try{e.removeSignalListener(r,t[r])}catch(i){console.warn("Cannot remove invalid signal listener.",i)}}),n.length>0}var H9={};H9.__esModule=!0;H9.default=sct;function sct(e){const{spec:t,width:n,height:r}=e;return typeof n<"u"&&typeof r<"u"?{...t,width:n,height:r}:typeof n<"u"?{...t,width:n}:typeof r<"u"?{...t,height:r}:t}BA.__esModule=!0;BA.default=void 0;var dX=Gu(Yde),P4=Gu(M),act=Gu(Hhe),hX=Gu(jA),lct=Gu(UA),uct=Gx,O4=Gu(U9),cct=Gu(V9),pX=Gu(W9),D4=Gu(H9);function Gu(e){return e&&e.__esModule?e:{default:e}}function N1(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Ghe extends P4.default.PureComponent{constructor(){super(...arguments),N1(this,"containerRef",P4.default.createRef()),N1(this,"resultPromise",void 0),N1(this,"handleError",t=>{const{onError:n=uct.NOOP}=this.props;n(t,this.containerRef.current),console.warn(t)}),N1(this,"modifyView",t=>{this.resultPromise&&this.resultPromise.then(n=>(n&&t(n.view),!0)).catch(this.handleError)})}componentDidMount(){this.createView()}componentDidUpdate(t){const n=(0,lct.default)([this.props,t]);if(n.delete("className"),n.delete("signalListeners"),n.delete("spec"),n.delete("style"),n.delete("width"),n.delete("height"),Array.from(n).some(r=>this.props[r]!==t[r]))this.clearView(),this.createView();else{const r=(0,cct.default)((0,D4.default)(this.props),(0,D4.default)(t)),{signalListeners:i}=this.props,{signalListeners:o}=t;if(r)if(r.isExpensive)this.clearView(),this.createView();else{const s=!(0,hX.default)(i,o);this.modifyView(a=>{r.width!==!1&&a.width(r.width),r.height!==!1&&a.height(r.height),s&&(o&&(0,pX.default)(a,o),i&&(0,O4.default)(a,i)),a.run()})}else(0,hX.default)(i,o)||this.modifyView(s=>{o&&(0,pX.default)(s,o),i&&(0,O4.default)(s,i),s.run()})}}componentWillUnmount(){this.clearView()}createView(){const{spec:t,onNewView:n,signalListeners:r={},width:i,height:o,...s}=this.props;if(this.containerRef.current){const a=(0,D4.default)(this.props);this.resultPromise=(0,act.default)(this.containerRef.current,a,s).then(l=>{if(l){const{view:u}=l;(0,O4.default)(u,r)&&u.run()}return l}).catch(this.handleError),n&&this.modifyView(n)}}clearView(){return this.resultPromise&&this.resultPromise.then(t=>{t&&t.finalize()}).catch(this.handleError),this.resultPromise=void 0,this}render(){const{className:t,style:n}=this.props;return P4.default.createElement("div",{ref:this.containerRef,className:t,style:n})}}BA.default=Ghe;N1(Ghe,"propTypes",{className:dX.default.string,onError:dX.default.func});zA.__esModule=!0;zA.default=void 0;Xx(Yde);var M4=Xx(M),fct=Xx(jA),dct=Xx(z9),hct=Xx(BA),pct=Gx;function Xx(e){return e&&e.__esModule?e:{default:e}}function QO(){return QO=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},QO.apply(this,arguments)}function JO(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const gct={};class Xhe extends M4.default.PureComponent{constructor(){super(...arguments),JO(this,"vegaEmbed",M4.default.createRef()),JO(this,"handleNewView",t=>{this.update();const{onNewView:n=pct.NOOP}=this.props;n(t)})}componentDidMount(){this.update()}componentDidUpdate(t){(0,fct.default)(this.props.data,t.data)||this.update()}update(){const{data:t}=this.props;this.vegaEmbed.current&&t&&Object.keys(t).length>0&&this.vegaEmbed.current.modifyView(n=>{(0,dct.default)(n,t),n.resize().run()})}render(){const{data:t,...n}=this.props;return M4.default.createElement(hct.default,QO({ref:this.vegaEmbed},n,{onNewView:this.handleNewView}))}}zA.default=Xhe;JO(Xhe,"defaultProps",{data:gct});var mct=bct,yct=Yhe(M),vct=Yhe(zA);function Yhe(e){return e&&e.__esModule?e:{default:e}}function ZO(){return ZO=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ZO.apply(this,arguments)}function bct(e){return yct.default.createElement(vct.default,ZO({},e,{mode:"vega-lite"}))}const gX=new Map;function xct({spec:e,theme:t,...n}){const r=JSON.stringify({spec:e,theme:t}),i=gX.get(r);return i?F.jsx("img",{src:i,alt:"cached"}):F.jsx(mct,{spec:e,theme:t,actions:!1,renderer:"canvas",onNewView:o=>{o.toImageURL("svg").then(s=>{gX.set(r,s)})},...n})}const wct=e=>F.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",role:"img",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",...e,children:F.jsx("path",{fill:"currentColor",d:"M1 8.99836C1 5.35802 3.3947 2 7.43 2C9.30819 2 10.7026 2.8047 11.75 4.01046C12.7974 2.8047 14.1918 2 16.07 2C20.1053 2 22.5 5.35802 22.5 8.99836C22.5 9.46105 22.4685 9.91191 22.408 10.3511C22.3483 10.7843 22.231 11.2599 22.0514 11.7668C21.3153 11.6779 20.5472 11.9159 19.9822 12.4809L16.25 16.2131L16.0178 15.9809C15.0415 15.0045 13.4585 15.0045 12.4822 15.9809C11.5059 16.9572 11.5059 18.5401 12.4822 19.5164L13.5921 20.6262C13.2689 20.808 12.9356 20.9867 12.5922 21.1621C12.4224 21.2496 12.2535 21.3354 12.0855 21.4194C11.8743 21.525 11.6257 21.525 11.4145 21.4194C9.06793 20.2456 6.48346 18.718 4.47892 16.7123C2.46481 14.697 1 12.16 1 8.99836ZM22.4571 14.9557C22.8476 14.5652 22.8476 13.932 22.4571 13.5415C22.0666 13.151 21.4334 13.151 21.0429 13.5415L16.25 18.3344L14.9571 17.0415C14.5666 16.651 13.9334 16.651 13.5429 17.0415C13.1524 17.432 13.1524 18.0652 13.5429 18.4557L15.5429 20.4557C15.7304 20.6433 15.9848 20.7486 16.25 20.7486C16.5152 20.7486 16.7696 20.6433 16.9571 20.4557L22.4571 14.9557Z"})});function Sct({chart:e,...t}){const{data:n,chartTheme:r,spec:i}=Tlt(e),o=e.preferred,s=Lt(c=>c.setChartPreferred),{mobile:a}=fi(),l=()=>{e.key&&s(e.key,!o)},u=Plt(l);return F.jsxs(El,{flexDir:"column",...u,...t,children:[F.jsxs(dh,{children:[F.jsx(Uhe,{chart:e,textAlign:"center",fontSize:"lg"}),F.jsx(xct,{spec:i,data:n,theme:r,actions:!1,logLevel:Nk})]}),a&&F.jsxs(F.Fragment,{children:[F.jsx(FA,{}),F.jsx(gn,{justifyContent:"flex-end",w:"full",children:F.jsx(c0,{variant:"ghost",icon:F.jsx(zt,{as:o?wct:Ihe,boxSize:10}),py:8,size:"lg","aria-label":"Bookmark current chart",onClick:l,"data-log-click":"prefer-chart",colorScheme:o?"red":"gray"})})]})]})}const Ect=M.memo(Sct);function Cct(e){const{sessionInitialized:t,chartDisplaying:n,currentChartPreferred:r,handleNextChart:i,handlePrevChart:o,handlePreferChart:s}=Flt(),{t:a}=qu();return F.jsxs(Ude,{...e,children:[F.jsx(ia,{py:8,size:"lg",w:"full","aria-label":"Previous chart",onClick:o,"data-log-click":"prev-chart",isDisabled:!t||!n,variant:"ghost",children:F.jsxs(dh,{spacing:2,children:[F.jsx(zt,{as:_ut,boxSize:6}),F.jsx(Zn,{fontSize:"sm",children:a("navigator.prev")})]})}),F.jsx(ia,{py:8,size:"lg",w:"full","aria-label":"Next chart",onClick:i,"data-log-click":"next-chart",isDisabled:!t,variant:"ghost",children:F.jsxs(dh,{spacing:2,children:[F.jsx(zt,{as:Lhe,boxSize:6}),F.jsx(Zn,{fontSize:"sm",children:a("navigator.next")})]})}),F.jsx(ia,{py:8,size:"lg",w:"full","aria-label":"Bookmark current chart",onClick:s,"data-log-click":"prefer-chart",colorScheme:r?"red":"gray",isDisabled:!t||!n,variant:r?"solid":"ghost",children:F.jsxs(dh,{spacing:2,children:[F.jsx(zt,{as:r?L9:Ihe,boxSize:6}),F.jsx(Zn,{fontSize:"sm",children:a("bookmarks.action")})]})})]})}jb(".3~s");function kct({selected:e,field:t,...n}){const{name:r}=t;return F.jsxs(uhe,{gap:2,p:2,borderRadius:"full",colorScheme:kr,...n,children:[F.jsx(zt,{as:e?$ut:Tut,boxSize:5}),F.jsx(che,{fontSize:n.size,children:r})]})}function _ct(e){const{loading:t}=Phe(),{loadingData:n,fileInputRef:r,pathInput:i,inputDisabled:o,handleFileButtonClick:s,handleFileChange:a,handleInputChange:l,handleSubmit:u}=Olt();return F.jsxs(gn,{as:Wde,...e,children:[F.jsxs(Kde,{children:[F.jsx(xk,{placeholder:"https://...",onChange:l,value:i,borderRightRadius:0,_focusVisible:{borderColor:kr}}),F.jsxs(E9,{children:[F.jsx(xk,{type:"file",display:"none",ref:r,onChange:a,accept:".csv,.json"}),F.jsx(c0,{"aria-label":"Select File",icon:F.jsx(zt,{as:Rut}),variant:"link",onClick:s,"data-log-click":"file-attachment"})]})]}),F.jsx(c0,{borderLeftRadius:0,colorScheme:kr,type:"submit",isLoading:n||t,icon:F.jsx(zt,{as:jhe}),"aria-label":"Load Data",isDisabled:o,"data-log-click":"submit-data",onClick:u,children:o?"Please Input Data":"Load Data"})]})}function Khe(e){const{t}=qu();return F.jsxs(El,{flexDir:"column",p:2,...e,children:[F.jsxs(El,{gap:2,mb:4,children:[F.jsx(zt,{as:Bhe,boxSize:12}),F.jsx(Hx,{fontSize:40,children:"Swipytics"})]}),F.jsx(Zn,{textColor:"gray",textAlign:"center",fontSize:"sm",children:t("home.description")}),F.jsxs(dh,{w:"full",color:"gray",gap:1,mt:8,p:0,children:[F.jsxs(gn,{gap:1,children:[F.jsx(Zn,{fontSize:"xs",textAlign:"center",children:"Swipytics @ 2024"}),F.jsx(HS,{href:"https://jiwnchoi.me",isExternal:!0,children:F.jsx(Zn,{fontSize:"xs",textAlign:"center",textDecoration:"underline",children:"Jiwon Choi"})}),F.jsx(Zn,{fontSize:"xs",textAlign:"center",children:"All rights reserved."})]}),F.jsxs(gn,{gap:4,children:[F.jsx(HS,{href:"https://github.com/jiwnchoi/Swipytics",isExternal:!0,children:F.jsx(ia,{leftIcon:F.jsx(zt,{as:Put}),size:"xs",variant:"link",color:"gray",children:"GitHub"})}),F.jsx(HS,{href:"https://idclab.skku.edu",isExternal:!0,children:F.jsxs(ia,{variant:"link",size:"xs",leftIcon:F.jsx(zt,{as:Out}),color:"gray",children:[F.jsx(Zn,{fontFamily:"Rajdhani",fontWeight:600,fontSize:"sm",children:"IDC"}),F.jsx(Zn,{fontFamily:"Rajdhani",fontWeight:500,fontSize:"sm",children:"Lab"})]})})]})]})]})}function $ct(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Qhe=$ct,Act=typeof Qi=="object"&&Qi&&Qi.Object===Object&&Qi,Tct=Act,Fct=Tct,Rct=typeof self=="object"&&self&&self.Object===Object&&self,Pct=Fct||Rct||Function("return this")(),Jhe=Pct,Oct=Jhe,Dct=function(){return Oct.Date.now()},Mct=Dct,Nct=/\s/;function Lct(e){for(var t=e.length;t--&&Nct.test(e.charAt(t)););return t}var Ict=Lct,zct=Ict,jct=/^\s+/;function Bct(e){return e&&e.slice(0,zct(e)+1).replace(jct,"")}var Uct=Bct,Vct=Jhe,Wct=Vct.Symbol,Zhe=Wct,mX=Zhe,epe=Object.prototype,Hct=epe.hasOwnProperty,qct=epe.toString,Xy=mX?mX.toStringTag:void 0;function Gct(e){var t=Hct.call(e,Xy),n=e[Xy];try{e[Xy]=void 0;var r=!0}catch{}var i=qct.call(e);return r&&(t?e[Xy]=n:delete e[Xy]),i}var Xct=Gct,Yct=Object.prototype,Kct=Yct.toString;function Qct(e){return Kct.call(e)}var Jct=Qct,yX=Zhe,Zct=Xct,eft=Jct,tft="[object Null]",nft="[object Undefined]",vX=yX?yX.toStringTag:void 0;function rft(e){return e==null?e===void 0?nft:tft:vX&&vX in Object(e)?Zct(e):eft(e)}var ift=rft;function oft(e){return e!=null&&typeof e=="object"}var sft=oft,aft=ift,lft=sft,uft="[object Symbol]";function cft(e){return typeof e=="symbol"||lft(e)&&aft(e)==uft}var fft=cft,dft=Uct,bX=Qhe,hft=fft,xX=NaN,pft=/^[-+]0x[0-9a-f]+$/i,gft=/^0b[01]+$/i,mft=/^0o[0-7]+$/i,yft=parseInt;function vft(e){if(typeof e=="number")return e;if(hft(e))return xX;if(bX(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=bX(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=dft(e);var n=gft.test(e);return n||mft.test(e)?yft(e.slice(2),n?2:8):pft.test(e)?xX:+e}var bft=vft,xft=Qhe,N4=Mct,wX=bft,wft="Expected a function",Sft=Math.max,Eft=Math.min;function Cft(e,t,n){var r,i,o,s,a,l,u=0,c=!1,f=!1,d=!0;if(typeof e!="function")throw new TypeError(wft);t=wX(t)||0,xft(n)&&(c=!!n.leading,f="maxWait"in n,o=f?Sft(wX(n.maxWait)||0,t):o,d="trailing"in n?!!n.trailing:d);function h(C){var S=r,k=i;return r=i=void 0,u=C,s=e.apply(k,S),s}function p(C){return u=C,a=setTimeout(y,t),c?h(C):s}function g(C){var S=C-l,k=C-u,$=t-S;return f?Eft($,o-k):$}function m(C){var S=C-l,k=C-u;return l===void 0||S>=t||S<0||f&&k>=o}function y(){var C=N4();if(m(C))return v(C);a=setTimeout(y,g(C))}function v(C){return a=void 0,d&&r?h(C):(r=i=void 0,s)}function b(){a!==void 0&&clearTimeout(a),u=0,r=l=i=a=void 0}function x(){return a===void 0?s:v(N4())}function w(){var C=N4(),S=m(C);if(r=arguments,i=this,l=C,S){if(a===void 0)return p(l);if(f)return clearTimeout(a),a=setTimeout(y,t),h(l)}return a===void 0&&(a=setTimeout(y,t)),s}return w.cancel=b,w.flush=x,w}var kft=Cft;const _ft=Wh(kft);function _k(){return _k=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_k.apply(this,arguments)}var $ft=[],SX={width:0,height:0,top:0,left:0};function Aft(e){var t=e===void 0?{}:e,n=t.initialSize,r=n===void 0?SX:n,i=t.debounceTime,o=i===void 0?300:i,s=t.ignoreDimensions,a=s===void 0?$ft:s,l=t.enableDebounceLeadingCall,u=l===void 0?!0:l,c=t.resizeObserverPolyfill,f=M.useRef(null),d=M.useRef(0),h=M.useState(_k({},SX,r)),p=h[0],g=h[1],m=M.useMemo(function(){var y=Array.isArray(a)?a:[a];return _ft(function(v){g(function(b){var x=Object.keys(b),w=x.filter(function(S){return b[S]!==v[S]}),C=w.every(function(S){return y.includes(S)});return C?b:v})},o,{leading:u})},[o,u,a]);return M.useEffect(function(){var y=c||window.ResizeObserver,v=new y(function(b){b.forEach(function(x){var w,C=(w=x==null?void 0:x.contentRect)!=null?w:{},S=C.left,k=C.top,$=C.width,R=C.height;d.current=window.requestAnimationFrame(function(){m({width:$,height:R,top:k,left:S})})})});return f.current&&v.observe(f.current),function(){window.cancelAnimationFrame(d.current),v.disconnect(),m.cancel()}},[m,c]),_k({parentRef:f,resize:m},p)}function Tft({height:e,r:t}){return rut({height:e,r:t}).map(({key:r,cx:i,cy:o,r:s,fill:a})=>F.jsx(Fde.circle,{cy:o,fill:a,initial:{r:0},animate:{cx:i,cy:o,r:s,fill:a},transition:{type:"spring",stiffness:100,damping:20,fill:{duration:.2}}},r))}function tpe(e){const{cardHeight:t,mobile:n}=fi(),{parentRef:r,width:i,height:o}=Aft({debounceTime:50}),s=Mo(a=>a.tabIndex);return F.jsx(gn,{ref:r,position:"absolute",minH:`${12*2+4*2}px`,h:t,visibility:!n||s===0?"visible":"hidden",...e,children:F.jsx("svg",{width:i,height:o,children:F.jsx(Tft,{height:o,r:3})})})}const Fft={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){console&&console[e]&&console[e].apply(console,t)}};class $k{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(t,n)}init(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=n.prefix||"i18next:",this.logger=t||Fft,this.options=n,this.debug=n.debug}log(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.forward(n,"log","",!0)}warn(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.forward(n,"warn","",!0)}error(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.forward(n,"error","")}deprecate(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.forward(n,"warn","WARNING DEPRECATED: ",!0)}forward(t,n,r,i){return i&&!this.debug?null:(typeof t[0]=="string"&&(t[0]=`${r}${this.prefix} ${t[0]}`),this.logger[n](t))}create(t){return new $k(this.logger,{prefix:`${this.prefix}:${t}:`,...this.options})}clone(t){return t=t||this.options,t.prefix=t.prefix||this.prefix,new $k(this.logger,t)}}var il=new $k;class VA{constructor(){this.observers={}}on(t,n){return t.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const i=this.observers[r].get(n)||0;this.observers[r].set(n,i+1)}),this}off(t,n){if(this.observers[t]){if(!n){delete this.observers[t];return}this.observers[t].delete(n)}}emit(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];this.observers[t]&&Array.from(this.observers[t].entries()).forEach(s=>{let[a,l]=s;for(let u=0;u<l;u++)a(...r)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(s=>{let[a,l]=s;for(let u=0;u<l;u++)a.apply(a,[t,...r])})}}const Yy=()=>{let e,t;const n=new Promise((r,i)=>{e=r,t=i});return n.resolve=e,n.reject=t,n},EX=e=>e==null?"":""+e,Rft=(e,t,n)=>{e.forEach(r=>{t[r]&&(n[r]=t[r])})},Pft=/###/g,CX=e=>e&&e.indexOf("###")>-1?e.replace(Pft,"."):e,kX=e=>!e||typeof e=="string",vv=(e,t,n)=>{const r=typeof t!="string"?t:t.split(".");let i=0;for(;i<r.length-1;){if(kX(e))return{};const o=CX(r[i]);!e[o]&&n&&(e[o]=new n),Object.prototype.hasOwnProperty.call(e,o)?e=e[o]:e={},++i}return kX(e)?{}:{obj:e,k:CX(r[i])}},_X=(e,t,n)=>{const{obj:r,k:i}=vv(e,t,Object);if(r!==void 0||t.length===1){r[i]=n;return}let o=t[t.length-1],s=t.slice(0,t.length-1),a=vv(e,s,Object);for(;a.obj===void 0&&s.length;)o=`${s[s.length-1]}.${o}`,s=s.slice(0,s.length-1),a=vv(e,s,Object),a&&a.obj&&typeof a.obj[`${a.k}.${o}`]<"u"&&(a.obj=void 0);a.obj[`${a.k}.${o}`]=n},Oft=(e,t,n,r)=>{const{obj:i,k:o}=vv(e,t,Object);i[o]=i[o]||[],i[o].push(n)},Ak=(e,t)=>{const{obj:n,k:r}=vv(e,t);if(n)return n[r]},Dft=(e,t,n)=>{const r=Ak(e,n);return r!==void 0?r:Ak(t,n)},npe=(e,t,n)=>{for(const r in t)r!=="__proto__"&&r!=="constructor"&&(r in e?typeof e[r]=="string"||e[r]instanceof String||typeof t[r]=="string"||t[r]instanceof String?n&&(e[r]=t[r]):npe(e[r],t[r],n):e[r]=t[r]);return e},Gp=e=>e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var Mft={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const Nft=e=>typeof e=="string"?e.replace(/[&<>"'\/]/g,t=>Mft[t]):e;class Lft{constructor(t){this.capacity=t,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(t){const n=this.regExpMap.get(t);if(n!==void 0)return n;const r=new RegExp(t);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(t,r),this.regExpQueue.push(t),r}}const Ift=[" ",",","?","!",";"],zft=new Lft(20),jft=(e,t,n)=>{t=t||"",n=n||"";const r=Ift.filter(s=>t.indexOf(s)<0&&n.indexOf(s)<0);if(r.length===0)return!0;const i=zft.getRegExp(`(${r.map(s=>s==="?"?"\\?":s).join("|")})`);let o=!i.test(e);if(!o){const s=e.indexOf(n);s>0&&!i.test(e.substring(0,s))&&(o=!0)}return o},eD=function(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!e)return;if(e[t])return e[t];const r=t.split(n);let i=e;for(let o=0;o<r.length;){if(!i||typeof i!="object")return;let s,a="";for(let l=o;l<r.length;++l)if(l!==o&&(a+=n),a+=r[l],s=i[a],s!==void 0){if(["string","number","boolean"].indexOf(typeof s)>-1&&l<r.length-1)continue;o+=l-o+1;break}i=s}return i},Tk=e=>e&&e.indexOf("_")>0?e.replace("_","-"):e;class $X extends VA{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=t||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(t){this.options.ns.indexOf(t)<0&&this.options.ns.push(t)}removeNamespaces(t){const n=this.options.ns.indexOf(t);n>-1&&this.options.ns.splice(n,1)}getResource(t,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const o=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,s=i.ignoreJSONStructure!==void 0?i.ignoreJSONStructure:this.options.ignoreJSONStructure;let a;t.indexOf(".")>-1?a=t.split("."):(a=[t,n],r&&(Array.isArray(r)?a.push(...r):typeof r=="string"&&o?a.push(...r.split(o)):a.push(r)));const l=Ak(this.data,a);return!l&&!n&&!r&&t.indexOf(".")>-1&&(t=a[0],n=a[1],r=a.slice(2).join(".")),l||!s||typeof r!="string"?l:eD(this.data&&this.data[t]&&this.data[t][n],r,o)}addResource(t,n,r,i){let o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const s=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator;let a=[t,n];r&&(a=a.concat(s?r.split(s):r)),t.indexOf(".")>-1&&(a=t.split("."),i=n,n=a[1]),this.addNamespaces(n),_X(this.data,a,i),o.silent||this.emit("added",t,n,r,i)}addResources(t,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const o in r)(typeof r[o]=="string"||Array.isArray(r[o]))&&this.addResource(t,n,o,r[o],{silent:!0});i.silent||this.emit("added",t,n,r)}addResourceBundle(t,n,r,i,o){let s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},a=[t,n];t.indexOf(".")>-1&&(a=t.split("."),i=r,r=n,n=a[1]),this.addNamespaces(n);let l=Ak(this.data,a)||{};s.skipCopy||(r=JSON.parse(JSON.stringify(r))),i?npe(l,r,o):l={...l,...r},_X(this.data,a,l),s.silent||this.emit("added",t,n,r)}removeResourceBundle(t,n){this.hasResourceBundle(t,n)&&delete this.data[t][n],this.removeNamespaces(n),this.emit("removed",t,n)}hasResourceBundle(t,n){return this.getResource(t,n)!==void 0}getResourceBundle(t,n){return n||(n=this.options.defaultNS),this.options.compatibilityAPI==="v1"?{...this.getResource(t,n)}:this.getResource(t,n)}getDataByLanguage(t){return this.data[t]}hasLanguageSomeTranslations(t){const n=this.getDataByLanguage(t);return!!(n&&Object.keys(n)||[]).find(i=>n[i]&&Object.keys(n[i]).length>0)}toJSON(){return this.data}}var rpe={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,n,r,i){return e.forEach(o=>{this.processors[o]&&(t=this.processors[o].process(t,n,r,i))}),t}};const AX={};class Fk extends VA{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),Rft(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],t,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=il.create("translator")}changeLanguage(t){t&&(this.language=t)}exists(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(t==null)return!1;const r=this.resolve(t,n);return r&&r.res!==void 0}extractFromKey(t,n){let r=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const i=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let o=n.ns||this.options.defaultNS||[];const s=r&&t.indexOf(r)>-1,a=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!jft(t,r,i);if(s&&!a){const l=t.match(this.interpolator.nestingRegexp);if(l&&l.length>0)return{key:t,namespaces:o};const u=t.split(r);(r!==i||r===i&&this.options.ns.indexOf(u[0])>-1)&&(o=u.shift()),t=u.join(i)}return typeof o=="string"&&(o=[o]),{key:t,namespaces:o}}translate(t,n,r){if(typeof n!="object"&&this.options.overloadTranslationOptionHandler&&(n=this.options.overloadTranslationOptionHandler(arguments)),typeof n=="object"&&(n={...n}),n||(n={}),t==null)return"";Array.isArray(t)||(t=[String(t)]);const i=n.returnDetails!==void 0?n.returnDetails:this.options.returnDetails,o=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator,{key:s,namespaces:a}=this.extractFromKey(t[t.length-1],n),l=a[a.length-1],u=n.lng||this.language,c=n.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(u&&u.toLowerCase()==="cimode"){if(c){const x=n.nsSeparator||this.options.nsSeparator;return i?{res:`${l}${x}${s}`,usedKey:s,exactUsedKey:s,usedLng:u,usedNS:l,usedParams:this.getUsedParamsDetails(n)}:`${l}${x}${s}`}return i?{res:s,usedKey:s,exactUsedKey:s,usedLng:u,usedNS:l,usedParams:this.getUsedParamsDetails(n)}:s}const f=this.resolve(t,n);let d=f&&f.res;const h=f&&f.usedKey||s,p=f&&f.exactUsedKey||s,g=Object.prototype.toString.apply(d),m=["[object Number]","[object Function]","[object RegExp]"],y=n.joinArrays!==void 0?n.joinArrays:this.options.joinArrays,v=!this.i18nFormat||this.i18nFormat.handleAsObject;if(v&&d&&(typeof d!="string"&&typeof d!="boolean"&&typeof d!="number")&&m.indexOf(g)<0&&!(typeof y=="string"&&Array.isArray(d))){if(!n.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const x=this.options.returnedObjectHandler?this.options.returnedObjectHandler(h,d,{...n,ns:a}):`key '${s} (${this.language})' returned an object instead of string.`;return i?(f.res=x,f.usedParams=this.getUsedParamsDetails(n),f):x}if(o){const x=Array.isArray(d),w=x?[]:{},C=x?p:h;for(const S in d)if(Object.prototype.hasOwnProperty.call(d,S)){const k=`${C}${o}${S}`;w[S]=this.translate(k,{...n,joinArrays:!1,ns:a}),w[S]===k&&(w[S]=d[S])}d=w}}else if(v&&typeof y=="string"&&Array.isArray(d))d=d.join(y),d&&(d=this.extendTranslation(d,t,n,r));else{let x=!1,w=!1;const C=n.count!==void 0&&typeof n.count!="string",S=Fk.hasDefaultValue(n),k=C?this.pluralResolver.getSuffix(u,n.count,n):"",$=n.ordinal&&C?this.pluralResolver.getSuffix(u,n.count,{ordinal:!1}):"",R=C&&!n.ordinal&&n.count===0&&this.pluralResolver.shouldUseIntlApi(),O=R&&n[`defaultValue${this.options.pluralSeparator}zero`]||n[`defaultValue${k}`]||n[`defaultValue${$}`]||n.defaultValue;!this.isValidLookup(d)&&S&&(x=!0,d=O),this.isValidLookup(d)||(w=!0,d=s);const D=(n.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&w?void 0:d,L=S&&O!==d&&this.options.updateMissing;if(w||x||L){if(this.logger.log(L?"updateKey":"missingKey",u,l,s,L?O:d),o){const z=this.resolve(s,{...n,keySeparator:!1});z&&z.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let A=[];const P=this.languageUtils.getFallbackCodes(this.options.fallbackLng,n.lng||this.language);if(this.options.saveMissingTo==="fallback"&&P&&P[0])for(let z=0;z<P.length;z++)A.push(P[z]);else this.options.saveMissingTo==="all"?A=this.languageUtils.toResolveHierarchy(n.lng||this.language):A.push(n.lng||this.language);const j=(z,U,X)=>{const K=S&&X!==d?X:D;this.options.missingKeyHandler?this.options.missingKeyHandler(z,l,U,K,L,n):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(z,l,U,K,L,n),this.emit("missingKey",z,l,U,d)};this.options.saveMissing&&(this.options.saveMissingPlurals&&C?A.forEach(z=>{const U=this.pluralResolver.getSuffixes(z,n);R&&n[`defaultValue${this.options.pluralSeparator}zero`]&&U.indexOf(`${this.options.pluralSeparator}zero`)<0&&U.push(`${this.options.pluralSeparator}zero`),U.forEach(X=>{j([z],s+X,n[`defaultValue${X}`]||O)})}):j(A,s,O))}d=this.extendTranslation(d,t,n,f,r),w&&d===s&&this.options.appendNamespaceToMissingKey&&(d=`${l}:${s}`),(w||x)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?d=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${l}:${s}`:s,x?d:void 0):d=this.options.parseMissingKeyHandler(d))}return i?(f.res=d,f.usedParams=this.getUsedParamsDetails(n),f):d}extendTranslation(t,n,r,i,o){var s=this;if(this.i18nFormat&&this.i18nFormat.parse)t=this.i18nFormat.parse(t,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const u=typeof t=="string"&&(r&&r.interpolation&&r.interpolation.skipOnVariables!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let c;if(u){const d=t.match(this.interpolator.nestingRegexp);c=d&&d.length}let f=r.replace&&typeof r.replace!="string"?r.replace:r;if(this.options.interpolation.defaultVariables&&(f={...this.options.interpolation.defaultVariables,...f}),t=this.interpolator.interpolate(t,f,r.lng||this.language||i.usedLng,r),u){const d=t.match(this.interpolator.nestingRegexp),h=d&&d.length;c<h&&(r.nest=!1)}!r.lng&&this.options.compatibilityAPI!=="v1"&&i&&i.res&&(r.lng=this.language||i.usedLng),r.nest!==!1&&(t=this.interpolator.nest(t,function(){for(var d=arguments.length,h=new Array(d),p=0;p<d;p++)h[p]=arguments[p];return o&&o[0]===h[0]&&!r.context?(s.logger.warn(`It seems you are nesting recursively key: ${h[0]} in key: ${n[0]}`),null):s.translate(...h,n)},r)),r.interpolation&&this.interpolator.reset()}const a=r.postProcess||this.options.postProcess,l=typeof a=="string"?[a]:a;return t!=null&&l&&l.length&&r.applyPostProcessor!==!1&&(t=rpe.handle(l,t,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...i,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),t}resolve(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r,i,o,s,a;return typeof t=="string"&&(t=[t]),t.forEach(l=>{if(this.isValidLookup(r))return;const u=this.extractFromKey(l,n),c=u.key;i=c;let f=u.namespaces;this.options.fallbackNS&&(f=f.concat(this.options.fallbackNS));const d=n.count!==void 0&&typeof n.count!="string",h=d&&!n.ordinal&&n.count===0&&this.pluralResolver.shouldUseIntlApi(),p=n.context!==void 0&&(typeof n.context=="string"||typeof n.context=="number")&&n.context!=="",g=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);f.forEach(m=>{this.isValidLookup(r)||(a=m,!AX[`${g[0]}-${m}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(a)&&(AX[`${g[0]}-${m}`]=!0,this.logger.warn(`key "${i}" for languages "${g.join(", ")}" won't get resolved as namespace "${a}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),g.forEach(y=>{if(this.isValidLookup(r))return;s=y;const v=[c];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(v,c,y,m,n);else{let x;d&&(x=this.pluralResolver.getSuffix(y,n.count,n));const w=`${this.options.pluralSeparator}zero`,C=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(d&&(v.push(c+x),n.ordinal&&x.indexOf(C)===0&&v.push(c+x.replace(C,this.options.pluralSeparator)),h&&v.push(c+w)),p){const S=`${c}${this.options.contextSeparator}${n.context}`;v.push(S),d&&(v.push(S+x),n.ordinal&&x.indexOf(C)===0&&v.push(S+x.replace(C,this.options.pluralSeparator)),h&&v.push(S+w))}}let b;for(;b=v.pop();)this.isValidLookup(r)||(o=b,r=this.getResource(y,m,b,n))}))})}),{res:r,usedKey:i,exactUsedKey:o,usedLng:s,usedNS:a}}isValidLookup(t){return t!==void 0&&!(!this.options.returnNull&&t===null)&&!(!this.options.returnEmptyString&&t==="")}getResource(t,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(t,n,r,i):this.resourceStore.getResource(t,n,r,i)}getUsedParamsDetails(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=t.replace&&typeof t.replace!="string";let i=r?t.replace:t;if(r&&typeof t.count<"u"&&(i.count=t.count),this.options.interpolation.defaultVariables&&(i={...this.options.interpolation.defaultVariables,...i}),!r){i={...i};for(const o of n)delete i[o]}return i}static hasDefaultValue(t){const n="defaultValue";for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&n===r.substring(0,n.length)&&t[r]!==void 0)return!0;return!1}}const L4=e=>e.charAt(0).toUpperCase()+e.slice(1);class TX{constructor(t){this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=il.create("languageUtils")}getScriptPartFromCode(t){if(t=Tk(t),!t||t.indexOf("-")<0)return null;const n=t.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(t){if(t=Tk(t),!t||t.indexOf("-")<0)return t;const n=t.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(t){if(typeof t=="string"&&t.indexOf("-")>-1){const n=["hans","hant","latn","cyrl","cans","mong","arab"];let r=t.split("-");return this.options.lowerCaseLng?r=r.map(i=>i.toLowerCase()):r.length===2?(r[0]=r[0].toLowerCase(),r[1]=r[1].toUpperCase(),n.indexOf(r[1].toLowerCase())>-1&&(r[1]=L4(r[1].toLowerCase()))):r.length===3&&(r[0]=r[0].toLowerCase(),r[1].length===2&&(r[1]=r[1].toUpperCase()),r[0]!=="sgn"&&r[2].length===2&&(r[2]=r[2].toUpperCase()),n.indexOf(r[1].toLowerCase())>-1&&(r[1]=L4(r[1].toLowerCase())),n.indexOf(r[2].toLowerCase())>-1&&(r[2]=L4(r[2].toLowerCase()))),r.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t}isSupportedCode(t){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(t=this.getLanguagePartFromCode(t)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(t)>-1}getBestMatchFromCodes(t){if(!t)return null;let n;return t.forEach(r=>{if(n)return;const i=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(i))&&(n=i)}),!n&&this.options.supportedLngs&&t.forEach(r=>{if(n)return;const i=this.getLanguagePartFromCode(r);if(this.isSupportedCode(i))return n=i;n=this.options.supportedLngs.find(o=>{if(o===i)return o;if(!(o.indexOf("-")<0&&i.indexOf("-")<0)&&(o.indexOf("-")>0&&i.indexOf("-")<0&&o.substring(0,o.indexOf("-"))===i||o.indexOf(i)===0&&i.length>1))return o})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(t,n){if(!t)return[];if(typeof t=="function"&&(t=t(n)),typeof t=="string"&&(t=[t]),Array.isArray(t))return t;if(!n)return t.default||[];let r=t[n];return r||(r=t[this.getScriptPartFromCode(n)]),r||(r=t[this.formatLanguageCode(n)]),r||(r=t[this.getLanguagePartFromCode(n)]),r||(r=t.default),r||[]}toResolveHierarchy(t,n){const r=this.getFallbackCodes(n||this.options.fallbackLng||[],t),i=[],o=s=>{s&&(this.isSupportedCode(s)?i.push(s):this.logger.warn(`rejecting language code not found in supportedLngs: ${s}`))};return typeof t=="string"&&(t.indexOf("-")>-1||t.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&o(this.formatLanguageCode(t)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&o(this.getScriptPartFromCode(t)),this.options.load!=="currentOnly"&&o(this.getLanguagePartFromCode(t))):typeof t=="string"&&o(this.formatLanguageCode(t)),r.forEach(s=>{i.indexOf(s)<0&&o(this.formatLanguageCode(s))}),i}}let Bft=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],Uft={1:e=>+(e>1),2:e=>+(e!=1),3:e=>0,4:e=>e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2,5:e=>e==0?0:e==1?1:e==2?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5,6:e=>e==1?0:e>=2&&e<=4?1:2,7:e=>e==1?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2,8:e=>e==1?0:e==2?1:e!=8&&e!=11?2:3,9:e=>+(e>=2),10:e=>e==1?0:e==2?1:e<7?2:e<11?3:4,11:e=>e==1||e==11?0:e==2||e==12?1:e>2&&e<20?2:3,12:e=>+(e%10!=1||e%100==11),13:e=>+(e!==0),14:e=>e==1?0:e==2?1:e==3?2:3,15:e=>e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2,16:e=>e%10==1&&e%100!=11?0:e!==0?1:2,17:e=>e==1||e%10==1&&e%100!=11?0:1,18:e=>e==0?0:e==1?1:2,19:e=>e==1?0:e==0||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3,20:e=>e==1?0:e==0||e%100>0&&e%100<20?1:2,21:e=>e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0,22:e=>e==1?0:e==2?1:(e<0||e>10)&&e%10==0?2:3};const Vft=["v1","v2","v3"],Wft=["v4"],FX={zero:0,one:1,two:2,few:3,many:4,other:5},Hft=()=>{const e={};return Bft.forEach(t=>{t.lngs.forEach(n=>{e[n]={numbers:t.nr,plurals:Uft[t.fc]}})}),e};class qft{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=t,this.options=n,this.logger=il.create("pluralResolver"),(!this.options.compatibilityJSON||Wft.includes(this.options.compatibilityJSON))&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=Hft(),this.pluralRulesCache={}}addRule(t,n){this.rules[t]=n}clearCache(){this.pluralRulesCache={}}getRule(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi())try{const r=Tk(t==="dev"?"en":t),i=n.ordinal?"ordinal":"cardinal",o=JSON.stringify({cleanedCode:r,type:i});if(o in this.pluralRulesCache)return this.pluralRulesCache[o];const s=new Intl.PluralRules(r,{type:i});return this.pluralRulesCache[o]=s,s}catch{return}return this.rules[t]||this.rules[this.languageUtils.getLanguagePartFromCode(t)]}needsPlural(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=this.getRule(t,n);return this.shouldUseIntlApi()?r&&r.resolvedOptions().pluralCategories.length>1:r&&r.numbers.length>1}getPluralFormsOfKey(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(t,r).map(i=>`${n}${i}`)}getSuffixes(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=this.getRule(t,n);return r?this.shouldUseIntlApi()?r.resolvedOptions().pluralCategories.sort((i,o)=>FX[i]-FX[o]).map(i=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${i}`):r.numbers.map(i=>this.getSuffix(t,i,n)):[]}getSuffix(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const i=this.getRule(t,r);return i?this.shouldUseIntlApi()?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${i.select(n)}`:this.getSuffixRetroCompatible(i,n):(this.logger.warn(`no plural rule found for: ${t}`),"")}getSuffixRetroCompatible(t,n){const r=t.noAbs?t.plurals(n):t.plurals(Math.abs(n));let i=t.numbers[r];this.options.simplifyPluralSuffix&&t.numbers.length===2&&t.numbers[0]===1&&(i===2?i="plural":i===1&&(i=""));const o=()=>this.options.prepend&&i.toString()?this.options.prepend+i.toString():i.toString();return this.options.compatibilityJSON==="v1"?i===1?"":typeof i=="number"?`_plural_${i.toString()}`:o():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&t.numbers.length===2&&t.numbers[0]===1?o():this.options.prepend&&r.toString()?this.options.prepend+r.toString():r.toString()}shouldUseIntlApi(){return!Vft.includes(this.options.compatibilityJSON)}}const RX=function(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,o=Dft(e,t,n);return!o&&i&&typeof n=="string"&&(o=eD(e,n,r),o===void 0&&(o=eD(t,n,r))),o},I4=e=>e.replace(/\$/g,"$$$$");class Gft{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=il.create("interpolator"),this.options=t,this.format=t.interpolation&&t.interpolation.format||(n=>n),this.init(t)}init(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};t.interpolation||(t.interpolation={escapeValue:!0});const{escape:n,escapeValue:r,useRawValueToEscape:i,prefix:o,prefixEscaped:s,suffix:a,suffixEscaped:l,formatSeparator:u,unescapeSuffix:c,unescapePrefix:f,nestingPrefix:d,nestingPrefixEscaped:h,nestingSuffix:p,nestingSuffixEscaped:g,nestingOptionsSeparator:m,maxReplaces:y,alwaysFormat:v}=t.interpolation;this.escape=n!==void 0?n:Nft,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=i!==void 0?i:!1,this.prefix=o?Gp(o):s||"{{",this.suffix=a?Gp(a):l||"}}",this.formatSeparator=u||",",this.unescapePrefix=c?"":f||"-",this.unescapeSuffix=this.unescapePrefix?"":c||"",this.nestingPrefix=d?Gp(d):h||Gp("$t("),this.nestingSuffix=p?Gp(p):g||Gp(")"),this.nestingOptionsSeparator=m||",",this.maxReplaces=y||1e3,this.alwaysFormat=v!==void 0?v:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const t=(n,r)=>n&&n.source===r?(n.lastIndex=0,n):new RegExp(r,"g");this.regexp=t(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=t(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=t(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(t,n,r,i){let o,s,a;const l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},u=h=>{if(h.indexOf(this.formatSeparator)<0){const y=RX(n,l,h,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(y,void 0,r,{...i,...n,interpolationkey:h}):y}const p=h.split(this.formatSeparator),g=p.shift().trim(),m=p.join(this.formatSeparator).trim();return this.format(RX(n,l,g,this.options.keySeparator,this.options.ignoreJSONStructure),m,r,{...i,...n,interpolationkey:g})};this.resetRegExp();const c=i&&i.missingInterpolationHandler||this.options.missingInterpolationHandler,f=i&&i.interpolation&&i.interpolation.skipOnVariables!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:h=>I4(h)},{regex:this.regexp,safeValue:h=>this.escapeValue?I4(this.escape(h)):I4(h)}].forEach(h=>{for(a=0;o=h.regex.exec(t);){const p=o[1].trim();if(s=u(p),s===void 0)if(typeof c=="function"){const m=c(t,o,i);s=typeof m=="string"?m:""}else if(i&&Object.prototype.hasOwnProperty.call(i,p))s="";else if(f){s=o[0];continue}else this.logger.warn(`missed to pass in variable ${p} for interpolating ${t}`),s="";else typeof s!="string"&&!this.useRawValueToEscape&&(s=EX(s));const g=h.safeValue(s);if(t=t.replace(o[0],g),f?(h.regex.lastIndex+=s.length,h.regex.lastIndex-=o[0].length):h.regex.lastIndex=0,a++,a>=this.maxReplaces)break}}),t}nest(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i,o,s;const a=(l,u)=>{const c=this.nestingOptionsSeparator;if(l.indexOf(c)<0)return l;const f=l.split(new RegExp(`${c}[ ]*{`));let d=`{${f[1]}`;l=f[0],d=this.interpolate(d,s);const h=d.match(/'/g),p=d.match(/"/g);(h&&h.length%2===0&&!p||p.length%2!==0)&&(d=d.replace(/'/g,'"'));try{s=JSON.parse(d),u&&(s={...u,...s})}catch(g){return this.logger.warn(`failed parsing options string in nesting for key ${l}`,g),`${l}${c}${d}`}return s.defaultValue&&s.defaultValue.indexOf(this.prefix)>-1&&delete s.defaultValue,l};for(;i=this.nestingRegexp.exec(t);){let l=[];s={...r},s=s.replace&&typeof s.replace!="string"?s.replace:s,s.applyPostProcessor=!1,delete s.defaultValue;let u=!1;if(i[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(i[1])){const c=i[1].split(this.formatSeparator).map(f=>f.trim());i[1]=c.shift(),l=c,u=!0}if(o=n(a.call(this,i[1].trim(),s),s),o&&i[0]===t&&typeof o!="string")return o;typeof o!="string"&&(o=EX(o)),o||(this.logger.warn(`missed to resolve ${i[1]} for nesting ${t}`),o=""),u&&(o=l.reduce((c,f)=>this.format(c,f,r.lng,{...r,interpolationkey:i[1].trim()}),o.trim())),t=t.replace(i[0],o),this.regexp.lastIndex=0}return t}}const Xft=e=>{let t=e.toLowerCase().trim();const n={};if(e.indexOf("(")>-1){const r=e.split("(");t=r[0].toLowerCase().trim();const i=r[1].substring(0,r[1].length-1);t==="currency"&&i.indexOf(":")<0?n.currency||(n.currency=i.trim()):t==="relativetime"&&i.indexOf(":")<0?n.range||(n.range=i.trim()):i.split(";").forEach(s=>{if(s){const[a,...l]=s.split(":"),u=l.join(":").trim().replace(/^'+|'+$/g,""),c=a.trim();n[c]||(n[c]=u),u==="false"&&(n[c]=!1),u==="true"&&(n[c]=!0),isNaN(u)||(n[c]=parseInt(u,10))}})}return{formatName:t,formatOptions:n}},Xp=e=>{const t={};return(n,r,i)=>{let o=i;i&&i.interpolationkey&&i.formatParams&&i.formatParams[i.interpolationkey]&&i[i.interpolationkey]&&(o={...o,[i.interpolationkey]:void 0});const s=r+JSON.stringify(o);let a=t[s];return a||(a=e(Tk(r),i),t[s]=a),a(n)}};class Yft{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=il.create("formatter"),this.options=t,this.formats={number:Xp((n,r)=>{const i=new Intl.NumberFormat(n,{...r});return o=>i.format(o)}),currency:Xp((n,r)=>{const i=new Intl.NumberFormat(n,{...r,style:"currency"});return o=>i.format(o)}),datetime:Xp((n,r)=>{const i=new Intl.DateTimeFormat(n,{...r});return o=>i.format(o)}),relativetime:Xp((n,r)=>{const i=new Intl.RelativeTimeFormat(n,{...r});return o=>i.format(o,r.range||"day")}),list:Xp((n,r)=>{const i=new Intl.ListFormat(n,{...r});return o=>i.format(o)})},this.init(t)}init(t){const r=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}}).interpolation;this.formatSeparator=r.formatSeparator?r.formatSeparator:r.formatSeparator||","}add(t,n){this.formats[t.toLowerCase().trim()]=n}addCached(t,n){this.formats[t.toLowerCase().trim()]=Xp(n)}format(t,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const o=n.split(this.formatSeparator);if(o.length>1&&o[0].indexOf("(")>1&&o[0].indexOf(")")<0&&o.find(a=>a.indexOf(")")>-1)){const a=o.findIndex(l=>l.indexOf(")")>-1);o[0]=[o[0],...o.splice(1,a)].join(this.formatSeparator)}return o.reduce((a,l)=>{const{formatName:u,formatOptions:c}=Xft(l);if(this.formats[u]){let f=a;try{const d=i&&i.formatParams&&i.formatParams[i.interpolationkey]||{},h=d.locale||d.lng||i.locale||i.lng||r;f=this.formats[u](a,h,{...c,...i,...d})}catch(d){this.logger.warn(d)}return f}else this.logger.warn(`there was no format function for ${u}`);return a},t)}}const Kft=(e,t)=>{e.pending[t]!==void 0&&(delete e.pending[t],e.pendingCount--)};class Qft extends VA{constructor(t,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=t,this.store=n,this.services=r,this.languageUtils=r.languageUtils,this.options=i,this.logger=il.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(r,i.backend,i)}queueLoad(t,n,r,i){const o={},s={},a={},l={};return t.forEach(u=>{let c=!0;n.forEach(f=>{const d=`${u}|${f}`;!r.reload&&this.store.hasResourceBundle(u,f)?this.state[d]=2:this.state[d]<0||(this.state[d]===1?s[d]===void 0&&(s[d]=!0):(this.state[d]=1,c=!1,s[d]===void 0&&(s[d]=!0),o[d]===void 0&&(o[d]=!0),l[f]===void 0&&(l[f]=!0)))}),c||(a[u]=!0)}),(Object.keys(o).length||Object.keys(s).length)&&this.queue.push({pending:s,pendingCount:Object.keys(s).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(o),pending:Object.keys(s),toLoadLanguages:Object.keys(a),toLoadNamespaces:Object.keys(l)}}loaded(t,n,r){const i=t.split("|"),o=i[0],s=i[1];n&&this.emit("failedLoading",o,s,n),!n&&r&&this.store.addResourceBundle(o,s,r,void 0,void 0,{skipCopy:!0}),this.state[t]=n?-1:2,n&&r&&(this.state[t]=0);const a={};this.queue.forEach(l=>{Oft(l.loaded,[o],s),Kft(l,t),n&&l.errors.push(n),l.pendingCount===0&&!l.done&&(Object.keys(l.loaded).forEach(u=>{a[u]||(a[u]={});const c=l.loaded[u];c.length&&c.forEach(f=>{a[u][f]===void 0&&(a[u][f]=!0)})}),l.done=!0,l.errors.length?l.callback(l.errors):l.callback())}),this.emit("loaded",a),this.queue=this.queue.filter(l=>!l.done)}read(t,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,s=arguments.length>5?arguments[5]:void 0;if(!t.length)return s(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:t,ns:n,fcName:r,tried:i,wait:o,callback:s});return}this.readingCalls++;const a=(u,c)=>{if(this.readingCalls--,this.waitingReads.length>0){const f=this.waitingReads.shift();this.read(f.lng,f.ns,f.fcName,f.tried,f.wait,f.callback)}if(u&&c&&i<this.maxRetries){setTimeout(()=>{this.read.call(this,t,n,r,i+1,o*2,s)},o);return}s(u,c)},l=this.backend[r].bind(this.backend);if(l.length===2){try{const u=l(t,n);u&&typeof u.then=="function"?u.then(c=>a(null,c)).catch(a):a(null,u)}catch(u){a(u)}return}return l(t,n,a)}prepareLoading(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();typeof t=="string"&&(t=this.languageUtils.toResolveHierarchy(t)),typeof n=="string"&&(n=[n]);const o=this.queueLoad(t,n,r,i);if(!o.toLoad.length)return o.pending.length||i(),null;o.toLoad.forEach(s=>{this.loadOne(s)})}load(t,n,r){this.prepareLoading(t,n,{},r)}reload(t,n,r){this.prepareLoading(t,n,{reload:!0},r)}loadOne(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const r=t.split("|"),i=r[0],o=r[1];this.read(i,o,"read",void 0,void 0,(s,a)=>{s&&this.logger.warn(`${n}loading namespace ${o} for language ${i} failed`,s),!s&&a&&this.logger.log(`${n}loaded namespace ${o} for language ${i}`,a),this.loaded(t,s,a)})}saveMissing(t,n,r,i,o){let s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},a=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(n)){this.logger.warn(`did not save key "${r}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if(this.backend&&this.backend.create){const l={...s,isUpdate:o},u=this.backend.create.bind(this.backend);if(u.length<6)try{let c;u.length===5?c=u(t,n,r,i,l):c=u(t,n,r,i),c&&typeof c.then=="function"?c.then(f=>a(null,f)).catch(a):a(null,c)}catch(c){a(c)}else u(t,n,r,i,a,l)}!t||!t[0]||this.store.addResource(t[0],n,r,i)}}}const PX=()=>({debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:e=>{let t={};if(typeof e[1]=="object"&&(t=e[1]),typeof e[1]=="string"&&(t.defaultValue=e[1]),typeof e[2]=="string"&&(t.tDescription=e[2]),typeof e[2]=="object"||typeof e[3]=="object"){const n=e[3]||e[2];Object.keys(n).forEach(r=>{t[r]=n[r]})}return t},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),OX=e=>(typeof e.ns=="string"&&(e.ns=[e.ns]),typeof e.fallbackLng=="string"&&(e.fallbackLng=[e.fallbackLng]),typeof e.fallbackNS=="string"&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs&&e.supportedLngs.indexOf("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),e),U2=()=>{},Jft=e=>{Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach(n=>{typeof e[n]=="function"&&(e[n]=e[n].bind(e))})};class Fb extends VA{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;if(super(),this.options=OX(t),this.services={},this.logger=il,this.modules={external:[]},Jft(this),n&&!this.isInitialized&&!t.isClone){if(!this.options.initImmediate)return this.init(t,n),this;setTimeout(()=>{this.init(t,n)},0)}}init(){var t=this;let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof n=="function"&&(r=n,n={}),!n.defaultNS&&n.defaultNS!==!1&&n.ns&&(typeof n.ns=="string"?n.defaultNS=n.ns:n.ns.indexOf("translation")<0&&(n.defaultNS=n.ns[0]));const i=PX();this.options={...i,...this.options,...OX(n)},this.options.compatibilityAPI!=="v1"&&(this.options.interpolation={...i.interpolation,...this.options.interpolation}),n.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=n.keySeparator),n.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=n.nsSeparator);const o=c=>c?typeof c=="function"?new c:c:null;if(!this.options.isClone){this.modules.logger?il.init(o(this.modules.logger),this.options):il.init(null,this.options);let c;this.modules.formatter?c=this.modules.formatter:typeof Intl<"u"&&(c=Yft);const f=new TX(this.options);this.store=new $X(this.options.resources,this.options);const d=this.services;d.logger=il,d.resourceStore=this.store,d.languageUtils=f,d.pluralResolver=new qft(f,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),c&&(!this.options.interpolation.format||this.options.interpolation.format===i.interpolation.format)&&(d.formatter=o(c),d.formatter.init(d,this.options),this.options.interpolation.format=d.formatter.format.bind(d.formatter)),d.interpolator=new Gft(this.options),d.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},d.backendConnector=new Qft(o(this.modules.backend),d.resourceStore,d,this.options),d.backendConnector.on("*",function(h){for(var p=arguments.length,g=new Array(p>1?p-1:0),m=1;m<p;m++)g[m-1]=arguments[m];t.emit(h,...g)}),this.modules.languageDetector&&(d.languageDetector=o(this.modules.languageDetector),d.languageDetector.init&&d.languageDetector.init(d,this.options.detection,this.options)),this.modules.i18nFormat&&(d.i18nFormat=o(this.modules.i18nFormat),d.i18nFormat.init&&d.i18nFormat.init(this)),this.translator=new Fk(this.services,this.options),this.translator.on("*",function(h){for(var p=arguments.length,g=new Array(p>1?p-1:0),m=1;m<p;m++)g[m-1]=arguments[m];t.emit(h,...g)}),this.modules.external.forEach(h=>{h.init&&h.init(this)})}if(this.format=this.options.interpolation.format,r||(r=U2),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const c=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);c.length>0&&c[0]!=="dev"&&(this.options.lng=c[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(c=>{this[c]=function(){return t.store[c](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(c=>{this[c]=function(){return t.store[c](...arguments),t}});const l=Yy(),u=()=>{const c=(f,d)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),l.resolve(d),r(f,d)};if(this.languages&&this.options.compatibilityAPI!=="v1"&&!this.isInitialized)return c(null,this.t.bind(this));this.changeLanguage(this.options.lng,c)};return this.options.resources||!this.options.initImmediate?u():setTimeout(u,0),l}loadResources(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:U2;const i=typeof t=="string"?t:this.language;if(typeof t=="function"&&(r=t),!this.options.resources||this.options.partialBundledLanguages){if(i&&i.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const o=[],s=a=>{if(!a||a==="cimode")return;this.services.languageUtils.toResolveHierarchy(a).forEach(u=>{u!=="cimode"&&o.indexOf(u)<0&&o.push(u)})};i?s(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(l=>s(l)),this.options.preload&&this.options.preload.forEach(a=>s(a)),this.services.backendConnector.load(o,this.options.ns,a=>{!a&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(a)})}else r(null)}reloadResources(t,n,r){const i=Yy();return typeof t=="function"&&(r=t,t=void 0),typeof n=="function"&&(r=n,n=void 0),t||(t=this.languages),n||(n=this.options.ns),r||(r=U2),this.services.backendConnector.reload(t,n,o=>{i.resolve(),r(o)}),i}use(t){if(!t)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!t.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return t.type==="backend"&&(this.modules.backend=t),(t.type==="logger"||t.log&&t.warn&&t.error)&&(this.modules.logger=t),t.type==="languageDetector"&&(this.modules.languageDetector=t),t.type==="i18nFormat"&&(this.modules.i18nFormat=t),t.type==="postProcessor"&&rpe.addPostProcessor(t),t.type==="formatter"&&(this.modules.formatter=t),t.type==="3rdParty"&&this.modules.external.push(t),this}setResolvedLanguage(t){if(!(!t||!this.languages)&&!(["cimode","dev"].indexOf(t)>-1))for(let n=0;n<this.languages.length;n++){const r=this.languages[n];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}}changeLanguage(t,n){var r=this;this.isLanguageChangingTo=t;const i=Yy();this.emit("languageChanging",t);const o=l=>{this.language=l,this.languages=this.services.languageUtils.toResolveHierarchy(l),this.resolvedLanguage=void 0,this.setResolvedLanguage(l)},s=(l,u)=>{u?(o(u),this.translator.changeLanguage(u),this.isLanguageChangingTo=void 0,this.emit("languageChanged",u),this.logger.log("languageChanged",u)):this.isLanguageChangingTo=void 0,i.resolve(function(){return r.t(...arguments)}),n&&n(l,function(){return r.t(...arguments)})},a=l=>{!t&&!l&&this.services.languageDetector&&(l=[]);const u=typeof l=="string"?l:this.services.languageUtils.getBestMatchFromCodes(l);u&&(this.language||o(u),this.translator.language||this.translator.changeLanguage(u),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(u)),this.loadResources(u,c=>{s(c,u)})};return!t&&this.services.languageDetector&&!this.services.languageDetector.async?a(this.services.languageDetector.detect()):!t&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(a):this.services.languageDetector.detect(a):a(t),i}getFixedT(t,n,r){var i=this;const o=function(s,a){let l;if(typeof a!="object"){for(var u=arguments.length,c=new Array(u>2?u-2:0),f=2;f<u;f++)c[f-2]=arguments[f];l=i.options.overloadTranslationOptionHandler([s,a].concat(c))}else l={...a};l.lng=l.lng||o.lng,l.lngs=l.lngs||o.lngs,l.ns=l.ns||o.ns,l.keyPrefix!==""&&(l.keyPrefix=l.keyPrefix||r||o.keyPrefix);const d=i.options.keySeparator||".";let h;return l.keyPrefix&&Array.isArray(s)?h=s.map(p=>`${l.keyPrefix}${d}${p}`):h=l.keyPrefix?`${l.keyPrefix}${d}${s}`:s,i.t(h,l)};return typeof t=="string"?o.lng=t:o.lngs=t,o.ns=n,o.keyPrefix=r,o}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(t){this.options.defaultNS=t}hasLoadedNamespace(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=n.lng||this.resolvedLanguage||this.languages[0],i=this.options?this.options.fallbackLng:!1,o=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const s=(a,l)=>{const u=this.services.backendConnector.state[`${a}|${l}`];return u===-1||u===0||u===2};if(n.precheck){const a=n.precheck(this,s);if(a!==void 0)return a}return!!(this.hasResourceBundle(r,t)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||s(r,t)&&(!i||s(o,t)))}loadNamespaces(t,n){const r=Yy();return this.options.ns?(typeof t=="string"&&(t=[t]),t.forEach(i=>{this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}),this.loadResources(i=>{r.resolve(),n&&n(i)}),r):(n&&n(),Promise.resolve())}loadLanguages(t,n){const r=Yy();typeof t=="string"&&(t=[t]);const i=this.options.preload||[],o=t.filter(s=>i.indexOf(s)<0&&this.services.languageUtils.isSupportedCode(s));return o.length?(this.options.preload=i.concat(o),this.loadResources(s=>{r.resolve(),n&&n(s)}),r):(n&&n(),Promise.resolve())}dir(t){if(t||(t=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!t)return"rtl";const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=this.services&&this.services.languageUtils||new TX(PX());return n.indexOf(r.getLanguagePartFromCode(t))>-1||t.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;return new Fb(t,n)}cloneInstance(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:U2;const r=t.forkResourceStore;r&&delete t.forkResourceStore;const i={...this.options,...t,isClone:!0},o=new Fb(i);return(t.debug!==void 0||t.prefix!==void 0)&&(o.logger=o.logger.clone(t)),["store","services","language"].forEach(a=>{o[a]=this[a]}),o.services={...this.services},o.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},r&&(o.store=new $X(this.store.data,i),o.services.resourceStore=o.store),o.translator=new Fk(o.services,i),o.translator.on("*",function(a){for(var l=arguments.length,u=new Array(l>1?l-1:0),c=1;c<l;c++)u[c-1]=arguments[c];o.emit(a,...u)}),o.init(i,n),o.translator.options=i,o.translator.backendConnector.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const di=Fb.createInstance();di.createInstance=Fb.createInstance;di.createInstance;di.dir;di.init;di.loadResources;di.reloadResources;di.use;di.changeLanguage;di.getFixedT;const uc=di.t;di.exists;di.setDefaultNamespace;di.hasLoadedNamespace;di.loadNamespaces;di.loadLanguages;function Yp({label:e,children:t,...n}){return F.jsxs(gn,{w:"full",flexDir:"row",justify:"space-between",alignItems:"center",...n,children:[F.jsx(Zn,{minW:"130px",children:e}),t]})}function Zft(){const{handleSubmit:e,loading:t,selectedDemo:n,handleDemoSelect:r}=Rlt(),{loading:i}=Phe(),{t:o}=qu();return F.jsxs(F.Fragment,{children:[F.jsx(k9,{size:"sm",onChange:s=>r(HG.find(a=>a.name===s.target.value)??null),"data-log-change":"select-demo",placeholder:o("settings.select_demo"),variant:"outline",colorScheme:kr,icon:F.jsx(zt,{as:Lhe}),borderRightRadius:0,children:HG.map(s=>F.jsx("option",{value:s.name,children:s.name},s.name))}),F.jsx(c0,{borderLeftRadius:0,colorScheme:kr,type:"submit",isLoading:t||i,isDisabled:!n||i,icon:F.jsx(zt,{as:jhe}),"aria-label":o("settings.load_data"),onClick:e,"data-log-click":"load-demo"})]})}function edt(e){const{python:t,handleServerButtonClick:n,handleClearLogs:r,handleDownloadLogs:i,colorMode:o,toggleColorMode:s,locale:a,setLocale:l}=wut();return F.jsxs(dh,{...e,children:[F.jsx(Yp,{label:uc("settings.load_data"),children:F.jsx(_ct,{w:"full"})}),F.jsx(Yp,{label:uc("settings.load_demo"),children:F.jsx(Zft,{})}),F.jsx(RA,{my:4}),F.jsx(Yp,{label:uc("settings.set_locale"),children:F.jsxs(k9,{size:"sm",variant:"outline",value:a,"data-log-change":"select-locale",onChange:u=>{l(u.target.value)},children:[F.jsx("option",{value:"en",children:"English"}),F.jsx("option",{value:"ko",children:"한국어"})]})}),F.jsx(Yp,{label:uc("settings.set_color"),children:F.jsx(ia,{leftIcon:F.jsx(zt,{as:o==="light"?Iut:Dut}),onClick:s,"data-log-click":"toggle-color-mode",size:"sm",w:"full",children:o==="light"?"Light":"Dark"})}),F.jsx(Yp,{label:uc("settings.set_backend"),children:F.jsx(ia,{leftIcon:F.jsx(zt,{as:t==="server"?Fut:Lut}),onClick:()=>{n()},"data-log-click":"toggle-server",size:"sm",w:"full",children:t&&t[0].toUpperCase()+(t==null?void 0:t.slice(1))})}),F.jsx(Yp,{label:uc("settings.monitor_logs"),children:F.jsxs(gn,{gap:2,w:"full",children:[F.jsx(ia,{w:"full",onClick:r,children:uc("settings.clear_logs")}),F.jsx(ia,{w:"full",onClick:i,"data-log-click":"download-logs",children:uc("settings.download_logs")})]})})]})}const ipe=M.memo(edt);function tdt({tabs:e,...t}){const{tabIconSize:n,tabPanelHeight:r,scrollbarStyle:i}=fi(),s=Lt(u=>u.fields).length>0,a=Mo(u=>u.tabIndex),l=Mo(u=>u.setTabByIndex);return F.jsxs(DA,{position:"relative",display:"flex",w:"full",defaultIndex:e.length-1,index:a>=0?a:e.length+a,onChange:l,isFitted:!0,colorScheme:kr,...t,children:[F.jsx($9,{my:2,children:e.map(u=>F.jsxs(F9,{gap:1,as:El,flexDir:"column",isDisabled:!s&&!u.displayingBeforeInit,"data-log-click":`tab-${u.name}`,children:[F.jsx(zt,{boxSize:n,as:u.icon}),F.jsx(Zn,{fontSize:"xs",children:u.displayName})]},`tab-${u.name}`))}),F.jsx(T9,{flex:1,overflow:"auto",h:r,minH:r,sx:i,children:e.map(u=>F.jsx(A9,{minH:r,children:u.Panel},`tabpanel-${u.name}`))})]})}function ndt({tabs:e,...t}){const{tabIconSize:n,cardColor:r,scrollbarStyle:i,cardRef:o,cardPadding:s}=fi(),l=Lt(d=>d.fields).length>0,u=Mo(d=>d.tabIndex),c=Mo(d=>d.setTabByIndex),f=e.filter(d=>d.name!=="settings");return F.jsxs(DA,{display:"flex",w:"full",index:u<0?e.length+u:u,onChange:c,isFitted:!0,isLazy:!0,colorScheme:kr,...t,children:[F.jsx(T9,{overflow:"hidden",children:e.map(d=>F.jsx(A9,{children:F.jsx(gn,{ref:o,w:"full",h:"calc(100vh - 150px)",bg:r,borderRadius:"md",flexDir:"column",sx:i,p:s,children:d.Panel})},`tabpanel-${d.name}`))}),F.jsx(tpe,{w:8}),F.jsx($9,{my:2,children:f.map(d=>F.jsxs(F9,{gap:1,as:El,flexDir:"column",isDisabled:!l&&!d.displayingBeforeInit,"data-log-click":`tab-${d.name}`,children:[F.jsx(zt,{boxSize:n,as:d.icon}),F.jsx(Zn,{fontSize:"xs",children:d.displayName})]},`tab-${d.name}`))})]})}function rdt(){const e=Lt(m=>m.appendChart),t=Lt(m=>m.setCurrentChartIndex),n=Lt(m=>m.charts),r=Cf(m=>m.data),i=Cf(m=>m.filename),o=Lt(m=>m.fields),s=Mo(m=>m.searchTargetFieldNames),a=Mo(m=>m.setSearchTargetFieldNames),l=Mo(m=>m.setTabByName),{mobile:u}=fi(),{data:c=[],isLoading:f}=Alt({queryKey:["getCharts",i,...s.sort()],queryFn:async()=>s.length===0||!r?[]:await us.call("getCharts",{fieldNames:s})??[]}),d=m=>{s.includes(m.name)?a(y=>y.filter(v=>v!==m.name)):s.length<3&&a(y=>[...y,m.name])},h=M.useMemo(()=>Array.from(o).filter(m=>m.type!=="name").sort(a1e),[o]),p=M.useCallback(m=>s.includes(m.name),[s]),g=M.useCallback(async m=>{await e(m),u&&l("charts"),t(n.length-1),a([])},[e,n.length,u,t,a,l]);return{loading:f,queriedCharts:c,handleFieldClick:d,handleChartClick:g,fields:h,isSelected:p,selectedFields:s}}const idt=({count:e=5,thumbnailSize:t})=>Array.from({length:e}).map((n,r)=>F.jsxs(F.Fragment,{children:[F.jsxs(gn,{gap:4,p:1,align:"center",children:[F.jsx(_9,{height:`${t-8}px`,width:`${t-8}px`,borderRadius:"md"}),F.jsx(gn,{flexDir:"column",flex:"1",gap:2,children:F.jsx(ohe,{noOfLines:2,spacing:2,skeletonHeight:4,width:`calc(100% - ${t-16})`})})]},`skeleton-${r}`),F.jsx(RA,{my:1})]}));function ope({thumbnailSize:e=80,tagSize:t="lg",...n}){const{scrollbarStyle:r}=fi(),{isSelected:i,loading:o,queriedCharts:s,handleFieldClick:a,handleChartClick:l,fields:u,selectedFields:c}=rdt(),{t:f}=qu();return F.jsxs(gn,{flexDir:"column",w:"full",h:"full",justify:"space-between",gap:4,...n,children:[o?F.jsx(wk,{m:0,p:0,width:"full",overflowY:"scroll",sx:r,flex:"1 1 auto",children:F.jsx(idt,{thumbnailSize:e,count:c.length===3?3:1})}):s.length===0?F.jsxs(El,{w:"full",h:"full",flexDir:"column",gap:8,px:8,children:[F.jsx(zt,{boxSize:16,as:zhe}),F.jsx(Hx,{fontSize:28,fontWeight:600,textAlign:"center",overflowWrap:"break-word",children:f("search.empty")})]}):F.jsx(wk,{m:0,p:0,width:"full",overflowY:"scroll",sx:r,flex:"1 1 auto",children:s.map(d=>F.jsx(Vhe,{animation:!0,thumbnailSize:e,chart:d,handleClick:()=>{l(d)}},`discovered-chart-${d.key}-${d.timestamp}`))}),F.jsx(El,{flexWrap:"wrap",gap:3,h:"fit-content",flex:"0 0 auto",children:u.map(d=>F.jsx(kct,{selected:i(d),field:d,size:t,variant:i(d)?"solid":"outline",onClick:()=>a(d),opacity:i(d)?1:c.length===3?.2:1,transition:"all 0.1s ease-in-out"},`discover-badge-${d.name}`))})]})}function odt(){const e=Lt(s=>s.charts),{mobile:t}=fi(),n=Mo(s=>s.setTabByName),r=e.filter(s=>s.preferred),i=Lt(s=>s.setCurrentChartIndex);return{preferredCharts:r,handleClickChart:s=>{const a=e.findIndex(l=>l===s);i(a),t&&n("charts")}}}function spe({thumbnailSize:e,...t}){const{preferredCharts:n,handleClickChart:r}=odt(),{t:i}=qu();return F.jsx(gn,{w:"full",h:"full",...t,children:n.length?F.jsx(wk,{m:0,p:0,width:"full",overflowY:"auto",children:n.map(o=>F.jsx(Vhe,{thumbnailSize:e,chart:o,"data-log-click":`preferred-chart-${o.key}`,handleClick:r},`bookmark-${o.key}`))}):F.jsxs(El,{w:"full",flexDir:"column",gap:8,children:[F.jsx(zt,{boxSize:16,as:Mut}),F.jsx(Hx,{fontWeight:600,children:i("bookmarks.empty")})]})})}function sdt(){const e=Lt(c=>c.charts),t=Lt(c=>c.currentChartIndex),n=Lt(c=>c.appendNextChart),r=Lt(c=>c.setCurrentChartIndex),i=Lt(c=>c.setCurrentChartPreferred),o=M.useRef(null),s=N9(),{cardInnerHeight:a}=fi(),l=M.useCallback(Sut(c=>{if(!c)return;const f=c.scrollTop,d=Math.floor((f+a*.5)/a)-1;r(d),d===e.length-1&&n()},50),[a,e,n,r]),u=M.useCallback(c=>{const f=o.current;f&&f.scrollTo({top:(c+1)*a,behavior:"smooth"})},[a]);return M.useEffect(()=>{const c=o.current;c&&c.scrollTo({top:(t+1)*a,behavior:"instant"})},[t,a]),M.useEffect(()=>{const c={ArrowUp:()=>u(t-1),ArrowDown:()=>u(t+1),Enter:()=>i(!e[t].preferred)},f=d=>{const h=c[d.key];h&&(d.preventDefault(),s.log("chart-container","keydown",{key:d.key.toLowerCase().replace("arrow","")}),h())};return window.addEventListener("keydown",f),()=>window.removeEventListener("keydown",f)},[t,e,i,s,u]),{charts:e,currentChartIndex:t,ref:o,scrollContainerCallback:l}}const adt=dp`
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
`,ldt=dp`
  from {
    opacity: 1;
  }
  to {
    opacity: 0;
  }
`;function ape(e){const{cardColor:t,cardInnerHeight:n,cardInnerWidth:r}=fi(),{charts:i,ref:o,scrollContainerCallback:s}=sdt();return F.jsxs(gn,{ref:o,onScroll:a=>s(a.currentTarget),"data-log-scroll":"chart-container",scrollSnapType:"y mandatory",flexDir:"column",borderRadius:"lg",bgColor:t,overflowX:"hidden",animation:`${adt} 0.2s ease-in-out`,style:{WebkitOverflowScrolling:"touch"},sx:{"&.removing":{animation:`${ldt} 0.1s ease-in-out forwards`},"&::-webkit-scrollbar":{display:"none"}},...e,children:[F.jsx(Khe,{flexDir:"column",minW:"full",minH:n,maxH:n,scrollSnapStop:"always",scrollSnapAlign:"start"}),i.map(a=>F.jsx(Ect,{minH:n,maxH:n,w:r,chart:a,flexDirection:"column",borderRadius:"lg",scrollSnapStop:"always",scrollSnapAlign:"start"},a.key))]})}const udt=M.memo(cdt);function cdt(){const{accentColor:e}=fi(),t=Mo(o=>o.tabIndex),n=Mo(o=>o.setTabByName),{t:r}=qu(),i=Lt(o=>o.fields);return F.jsxs(gn,{w:"full",justifyContent:"space-between",alignItems:"center",px:2,py:1,children:[t!==-1?F.jsxs(gn,{alignItems:"center",h:"full",gap:1,children:[F.jsx(zt,{as:Bhe,boxSize:7}),F.jsx(Hx,{size:"md",children:"Swipytics"})]}):F.jsx(gn,{}),F.jsx(c0,{variant:"ghost",padding:0,isDisabled:i.length===0,color:t===-1?e:void 0,icon:F.jsx(zt,{as:I9,boxSize:6}),"aria-label":r("settings.title"),onClick:()=>{n(t===-1?"charts":"settings")}})]})}function fdt(){const{t:e}=qu();return F.jsxs(gn,{p:2,w:"100dvw",h:"100dvh",gap:2,flexDir:"column",position:"relative",children:[F.jsx(udt,{}),F.jsx(ndt,{flexDir:"column",variant:"soft-rounded",tabs:[{name:"charts",displayName:e("charts.title"),icon:Aut,Panel:F.jsx(ape,{}),displayingBeforeInit:!1},{name:"likes",displayName:e("bookmarks.title"),icon:L9,Panel:F.jsx(spe,{thumbnailSize:100}),displayingBeforeInit:!1},{name:"search",displayName:e("search.title"),icon:zhe,Panel:F.jsx(ope,{tagSize:"md"}),displayingBeforeInit:!1},{name:"settings",displayName:e("settings.title"),icon:I9,Panel:F.jsxs(gn,{flexDir:"column",justify:"space-between",h:"full",children:[F.jsx(Khe,{h:"full"}),F.jsx(FA,{}),F.jsx(ipe,{align:"start"})]}),displayingBeforeInit:!0}]})]})}function ddt(){const{cardHeight:e,cardColor:t,cardWidth:n,borderColor:r,tabPanelHeight:i}=fi(),{t:o}=qu();return F.jsxs(gn,{minW:"container.xl",maxH:e,gap:4,flexDir:"row",children:[F.jsxs(gn,{position:"relative",w:n,h:e,children:[F.jsx(ape,{w:"full",h:"full",gap:4}),F.jsx(tpe,{left:2,w:8})]}),F.jsxs(gn,{position:"relative",borderTop:"none",borderColor:r,px:4,py:2,flexDir:"column",bgColor:t,borderRadius:"lg",w:"sm",minW:"sm",children:[F.jsx(tdt,{flexDir:"column",variant:"line",tabs:[{name:"likes",displayName:o("bookmarks.title"),icon:L9,Panel:F.jsx(spe,{h:i,thumbnailSize:100}),displayingBeforeInit:!1},{name:"search",displayName:o("search.title"),icon:Nut,Panel:F.jsx(ope,{tagSize:"md",h:i,pb:4,thumbnailSize:80}),displayingBeforeInit:!1},{name:"settings",displayName:o("settings.title"),icon:I9,Panel:F.jsx(ipe,{h:i,align:"start",py:4}),displayingBeforeInit:!0}]}),F.jsx(FA,{}),F.jsx(Cct,{spacing:2,w:"full"})]})]})}function hdt(){const{mobile:e}=fi();return Eut(),e?F.jsx(fdt,{}):F.jsx(ddt,{})}const pdt=Zet({initialColorMode:"dark",useSystemColorMode:!0,components:{Button:{defaultProps:{size:"sm"}},Input:{defaultProps:{size:"sm",focusBorderColor:Hc[200]},baseStyle:{field:{_focusVisible:{borderColor:Hc[200]}}}},Select:{defaultProps:{size:"sm",focusBorderColor:Hc[200]}},Tabs:{parts:["tabpanel"],baseStyle:{tabpanel:{p:0}}},Card:{baseStyle:e=>({container:{bg:e.colorMode==="light"?"white":"gray.900"}})}},styles:{global:e=>({body:{height:"100dvh",overflow:"smooth",overscrollBehavior:"none",bg:e.colorMode==="light"?"gray.100":"gray.800"},html:{height:"100dvh",overflow:"smooth",overscrollBehavior:"none",overflowY:"overlay",focusBorderColor:Hc[200]}})}});var lpe,DX=B8;lpe=DX.createRoot,DX.hydrateRoot;const tD=(e,t)=>t.some(n=>e instanceof n);let MX,NX;function gdt(){return MX||(MX=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function mdt(){return NX||(NX=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const nD=new WeakMap,z4=new WeakMap,WA=new WeakMap;function ydt(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",o),e.removeEventListener("error",s)},o=()=>{n(ph(e.result)),i()},s=()=>{r(e.error),i()};e.addEventListener("success",o),e.addEventListener("error",s)});return WA.set(t,e),t}function vdt(e){if(nD.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",s),e.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",o),e.addEventListener("error",s),e.addEventListener("abort",s)});nD.set(e,t)}let rD={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return nD.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ph(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function upe(e){rD=e(rD)}function bdt(e){return mdt().includes(e)?function(...t){return e.apply(iD(this),t),ph(this.request)}:function(...t){return ph(e.apply(iD(this),t))}}function xdt(e){return typeof e=="function"?bdt(e):(e instanceof IDBTransaction&&vdt(e),tD(e,gdt())?new Proxy(e,rD):e)}function ph(e){if(e instanceof IDBRequest)return ydt(e);if(z4.has(e))return z4.get(e);const t=xdt(e);return t!==e&&(z4.set(e,t),WA.set(t,e)),t}const iD=e=>WA.get(e);function wdt(e,t,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(e,t),a=ph(s);return r&&s.addEventListener("upgradeneeded",l=>{r(ph(s.result),l.oldVersion,l.newVersion,ph(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const Sdt=["get","getKey","getAll","getAllKeys","count"],Edt=["put","add","delete","clear"],j4=new Map;function LX(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(j4.get(t))return j4.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=Edt.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Sdt.includes(n)))return;const o=async function(s,...a){const l=this.transaction(s,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return j4.set(t,o),o}upe(e=>({...e,get:(t,n,r)=>LX(t,n)||e.get(t,n,r),has:(t,n)=>!!LX(t,n)||e.has(t,n)}));const Cdt=["continue","continuePrimaryKey","advance"],IX={},oD=new WeakMap,cpe=new WeakMap,kdt={get(e,t){if(!Cdt.includes(t))return e[t];let n=IX[t];return n||(n=IX[t]=function(...r){oD.set(this,cpe.get(this)[t](...r))}),n}};async function*_dt(...e){let t=this;if(t instanceof IDBCursor||(t=await t.openCursor(...e)),!t)return;t=t;const n=new Proxy(t,kdt);for(cpe.set(n,t),WA.set(n,iD(t));t;)yield n,t=await(oD.get(n)||t.continue()),oD.delete(n)}function zX(e,t){return t===Symbol.asyncIterator&&tD(e,[IDBIndex,IDBObjectStore,IDBCursor])||t==="iterate"&&tD(e,[IDBIndex,IDBObjectStore])}upe(e=>({...e,get(t,n,r){return zX(t,n)?_dt:e.get(t,n,r)},has(t,n){return zX(t,n)||e.has(t,n)}}));const $dt=e=>wdt(e,1,{upgrade:t=>{t.objectStoreNames.contains(e)||t.createObjectStore(e,{keyPath:"timestamp"})}}),Rk=()=>new Map,fpe=e=>{const t=localStorage.getItem(e)??"[]";try{const n=JSON.parse(t);return new Map(n)}catch(n){return console.error("Failed to parse existing logs:",n),localStorage.removeItem(e),Rk()}},jX=(e,t,n,r)=>{const i=fpe(e);i.set(t,{...n,timestamp:t,version:r}),localStorage.setItem(e,JSON.stringify(Array.from(i.entries())))},Adt=async(e,t)=>{try{const n=e.transaction(t,"readonly"),r=n.objectStore(t),i=Rk(),o=await r.getAll();return await n.done,o.forEach(s=>{s.timestamp!==void 0&&i.set(s.timestamp,s)}),i}catch(n){return console.error("IndexedDB read error:",n),Rk()}},Tdt=(e,t,n,r,i)=>{e.transaction(t,"readwrite").objectStore(t).add({timestamp:n,...r,version:i})},Fdt=async(e,t)=>{const n=e?await Adt(e,t):Rk(),r=fpe(t),i=new Map([...n,...r]);return Array.from(i.entries()).map(([o,s])=>({...s,timestamp:o})).sort((o,s)=>o.timestamp-s.timestamp)};class Rdt{constructor(t="logs",n="json",r=1,i="logger"){me(this,"indexedDB",null);me(this,"eventListeners",{});me(this,"scrollLogged",!1);me(this,"logFileName");me(this,"logFileFormat");me(this,"logVersion");me(this,"storageKey");me(this,"saveLog",(t,n)=>{if(!this.indexedDB){console.warn("IndexedDB is not initialized."),jX(this.storageKey,t,n,this.logVersion);return}try{Tdt(this.indexedDB,this.storageKey,t,n,this.logVersion)}catch(r){console.error("Failed to save log to IndexedDB:",r),jX(this.storageKey,t,n,this.logVersion)}});me(this,"createEventListener",(t,n)=>r=>{if(r.type!==t)return;const o=r.target.closest(`[data-log-${t}]`);if(!o)return;const s=o.getAttribute(`data-log-${t}`);if(typeof s=="string"){if(t==="scroll"){if(this.scrollLogged)return;this.scrollLogged=!0}else this.scrollLogged=!1;if(n){this.saveLog(Date.now(),{key:s,event:t,data:n()});return}else this.saveLog(Date.now(),{key:s,event:t})}});me(this,"registerEvent",(t,n,r)=>(n.forEach(i=>{this.eventListeners[i]||(this.eventListeners[i]=this.createEventListener(i,r)),i==="scroll"?t.addEventListener(i,this.eventListeners[i],{capture:!0}):t.addEventListener(i,this.eventListeners[i])}),()=>{this.detachEvent(t,n)}));me(this,"detachEvent",(t,n)=>{n.forEach(r=>{this.eventListeners[r]&&(r==="scroll"?t.removeEventListener(r,this.eventListeners[r],{capture:!0}):t.removeEventListener(r,this.eventListeners[r]))})});me(this,"export",async()=>{this.indexedDB||console.warn("IndexedDB is not initialized.");const t=await Fdt(this.indexedDB,this.storageKey),n=new Blob([JSON.stringify(t,null,2)],{type:"application/json"}),r=URL.createObjectURL(n),i=document.createElement("a");i.href=r,i.download=`${this.logFileName}.${this.logFileFormat}`,document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(r)});me(this,"registerLogger",(t=[],n=window)=>(this.initializeDB().then(()=>{this.registerEvent(n,t)}),()=>{this.detachEvent(n,t)}));this.logFileName=t,this.logFileFormat=n,this.logVersion=r,this.storageKey=i,this.initializeDB()}async initializeDB(){try{this.indexedDB=await $dt(this.storageKey)}catch(t){console.warn("Failed to connect to IndexedDB:",t)}}log(t,n,r){this.saveLog(Date.now(),{key:t,event:n,data:r}),n!=="scroll"&&(this.scrollLogged=!1)}async clearLogs(){try{if(!this.indexedDB){console.warn("IndexedDB is not initialized."),localStorage.removeItem(this.storageKey);return}await this.indexedDB.transaction(this.storageKey,"readwrite").objectStore(this.storageKey).clear(),localStorage.removeItem(this.storageKey),console.log("Logs cleared successfully")}catch(t){throw console.error("Failed to clear logs:",t),t}}}const{slice:Pdt,forEach:Odt}=[];function Ddt(e){return Odt.call(Pdt.call(arguments,1),t=>{if(t)for(const n in t)e[n]===void 0&&(e[n]=t[n])}),e}const BX=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,Mdt=(e,t,n)=>{const r=n||{};r.path=r.path||"/";const i=encodeURIComponent(t);let o=`${e}=${i}`;if(r.maxAge>0){const s=r.maxAge-0;if(Number.isNaN(s))throw new Error("maxAge should be a Number");o+=`; Max-Age=${Math.floor(s)}`}if(r.domain){if(!BX.test(r.domain))throw new TypeError("option domain is invalid");o+=`; Domain=${r.domain}`}if(r.path){if(!BX.test(r.path))throw new TypeError("option path is invalid");o+=`; Path=${r.path}`}if(r.expires){if(typeof r.expires.toUTCString!="function")throw new TypeError("option expires is invalid");o+=`; Expires=${r.expires.toUTCString()}`}if(r.httpOnly&&(o+="; HttpOnly"),r.secure&&(o+="; Secure"),r.sameSite)switch(typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite){case!0:o+="; SameSite=Strict";break;case"lax":o+="; SameSite=Lax";break;case"strict":o+="; SameSite=Strict";break;case"none":o+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return o},UX={create(e,t,n,r){let i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};n&&(i.expires=new Date,i.expires.setTime(i.expires.getTime()+n*60*1e3)),r&&(i.domain=r),document.cookie=Mdt(e,encodeURIComponent(t),i)},read(e){const t=`${e}=`,n=document.cookie.split(";");for(let r=0;r<n.length;r++){let i=n[r];for(;i.charAt(0)===" ";)i=i.substring(1,i.length);if(i.indexOf(t)===0)return i.substring(t.length,i.length)}return null},remove(e){this.create(e,"",-1)}};var Ndt={name:"cookie",lookup(e){let{lookupCookie:t}=e;if(t&&typeof document<"u")return UX.read(t)||void 0},cacheUserLanguage(e,t){let{lookupCookie:n,cookieMinutes:r,cookieDomain:i,cookieOptions:o}=t;n&&typeof document<"u"&&UX.create(n,e,r,i,o)}},Ldt={name:"querystring",lookup(e){var r;let{lookupQuerystring:t}=e,n;if(typeof window<"u"){let{search:i}=window.location;!window.location.search&&((r=window.location.hash)==null?void 0:r.indexOf("?"))>-1&&(i=window.location.hash.substring(window.location.hash.indexOf("?")));const s=i.substring(1).split("&");for(let a=0;a<s.length;a++){const l=s[a].indexOf("=");l>0&&s[a].substring(0,l)===t&&(n=s[a].substring(l+1))}}return n}};let Ky=null;const VX=()=>{if(Ky!==null)return Ky;try{Ky=window!=="undefined"&&window.localStorage!==null;const e="i18next.translate.boo";window.localStorage.setItem(e,"foo"),window.localStorage.removeItem(e)}catch{Ky=!1}return Ky};var Idt={name:"localStorage",lookup(e){let{lookupLocalStorage:t}=e;if(t&&VX())return window.localStorage.getItem(t)||void 0},cacheUserLanguage(e,t){let{lookupLocalStorage:n}=t;n&&VX()&&window.localStorage.setItem(n,e)}};let Qy=null;const WX=()=>{if(Qy!==null)return Qy;try{Qy=window!=="undefined"&&window.sessionStorage!==null;const e="i18next.translate.boo";window.sessionStorage.setItem(e,"foo"),window.sessionStorage.removeItem(e)}catch{Qy=!1}return Qy};var zdt={name:"sessionStorage",lookup(e){let{lookupSessionStorage:t}=e;if(t&&WX())return window.sessionStorage.getItem(t)||void 0},cacheUserLanguage(e,t){let{lookupSessionStorage:n}=t;n&&WX()&&window.sessionStorage.setItem(n,e)}},jdt={name:"navigator",lookup(e){const t=[];if(typeof navigator<"u"){const{languages:n,userLanguage:r,language:i}=navigator;if(n)for(let o=0;o<n.length;o++)t.push(n[o]);r&&t.push(r),i&&t.push(i)}return t.length>0?t:void 0}},Bdt={name:"htmlTag",lookup(e){let{htmlTag:t}=e,n;const r=t||(typeof document<"u"?document.documentElement:null);return r&&typeof r.getAttribute=="function"&&(n=r.getAttribute("lang")),n}},Udt={name:"path",lookup(e){var i;let{lookupFromPathIndex:t}=e;if(typeof window>"u")return;const n=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(n)?(i=n[typeof t=="number"?t:0])==null?void 0:i.replace("/",""):void 0}},Vdt={name:"subdomain",lookup(e){var i,o;let{lookupFromSubdomainIndex:t}=e;const n=typeof t=="number"?t+1:1,r=typeof window<"u"&&((o=(i=window.location)==null?void 0:i.hostname)==null?void 0:o.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i));if(r)return r[n]}};function Wdt(){return{order:["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"],lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:e=>e}}class dpe{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(t,n)}init(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=t||{languageUtils:{}},this.options=Ddt(n,this.options||{},Wdt()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=i=>i.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=r,this.addDetector(Ndt),this.addDetector(Ldt),this.addDetector(Idt),this.addDetector(zdt),this.addDetector(jdt),this.addDetector(Bdt),this.addDetector(Udt),this.addDetector(Vdt)}addDetector(t){return this.detectors[t.name]=t,this}detect(t){t||(t=this.options.order);let n=[];return t.forEach(r=>{if(this.detectors[r]){let i=this.detectors[r].lookup(this.options);i&&typeof i=="string"&&(i=[i]),i&&(n=n.concat(i))}}),n=n.map(r=>this.options.convertDetectedLanguage(r)),this.services.languageUtils.getBestMatchFromCodes?n:n.length>0?n[0]:null}cacheUserLanguage(t,n){n||(n=this.options.caches),n&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(t)>-1||n.forEach(r=>{this.detectors[r]&&this.detectors[r].cacheUserLanguage(t,this.options)}))}}dpe.type="languageDetector";function sD(e){"@babel/helpers - typeof";return sD=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sD(e)}function hpe(){return typeof XMLHttpRequest=="function"||(typeof XMLHttpRequest>"u"?"undefined":sD(XMLHttpRequest))==="object"}function Hdt(e){return!!e&&typeof e.then=="function"}function qdt(e){return Hdt(e)?e:Promise.resolve(e)}function Gdt(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var aD={exports:{}},V2={exports:{}},HX;function Xdt(){return HX||(HX=1,function(e,t){var n=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof Qi<"u"&&Qi,r=function(){function o(){this.fetch=!1,this.DOMException=n.DOMException}return o.prototype=n,new o}();(function(o){(function(s){var a=typeof o<"u"&&o||typeof self<"u"&&self||typeof a<"u"&&a,l={searchParams:"URLSearchParams"in a,iterable:"Symbol"in a&&"iterator"in Symbol,blob:"FileReader"in a&&"Blob"in a&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in a,arrayBuffer:"ArrayBuffer"in a};function u(A){return A&&DataView.prototype.isPrototypeOf(A)}if(l.arrayBuffer)var c=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],f=ArrayBuffer.isView||function(A){return A&&c.indexOf(Object.prototype.toString.call(A))>-1};function d(A){if(typeof A!="string"&&(A=String(A)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(A)||A==="")throw new TypeError('Invalid character in header field name: "'+A+'"');return A.toLowerCase()}function h(A){return typeof A!="string"&&(A=String(A)),A}function p(A){var P={next:function(){var j=A.shift();return{done:j===void 0,value:j}}};return l.iterable&&(P[Symbol.iterator]=function(){return P}),P}function g(A){this.map={},A instanceof g?A.forEach(function(P,j){this.append(j,P)},this):Array.isArray(A)?A.forEach(function(P){this.append(P[0],P[1])},this):A&&Object.getOwnPropertyNames(A).forEach(function(P){this.append(P,A[P])},this)}g.prototype.append=function(A,P){A=d(A),P=h(P);var j=this.map[A];this.map[A]=j?j+", "+P:P},g.prototype.delete=function(A){delete this.map[d(A)]},g.prototype.get=function(A){return A=d(A),this.has(A)?this.map[A]:null},g.prototype.has=function(A){return this.map.hasOwnProperty(d(A))},g.prototype.set=function(A,P){this.map[d(A)]=h(P)},g.prototype.forEach=function(A,P){for(var j in this.map)this.map.hasOwnProperty(j)&&A.call(P,this.map[j],j,this)},g.prototype.keys=function(){var A=[];return this.forEach(function(P,j){A.push(j)}),p(A)},g.prototype.values=function(){var A=[];return this.forEach(function(P){A.push(P)}),p(A)},g.prototype.entries=function(){var A=[];return this.forEach(function(P,j){A.push([j,P])}),p(A)},l.iterable&&(g.prototype[Symbol.iterator]=g.prototype.entries);function m(A){if(A.bodyUsed)return Promise.reject(new TypeError("Already read"));A.bodyUsed=!0}function y(A){return new Promise(function(P,j){A.onload=function(){P(A.result)},A.onerror=function(){j(A.error)}})}function v(A){var P=new FileReader,j=y(P);return P.readAsArrayBuffer(A),j}function b(A){var P=new FileReader,j=y(P);return P.readAsText(A),j}function x(A){for(var P=new Uint8Array(A),j=new Array(P.length),z=0;z<P.length;z++)j[z]=String.fromCharCode(P[z]);return j.join("")}function w(A){if(A.slice)return A.slice(0);var P=new Uint8Array(A.byteLength);return P.set(new Uint8Array(A)),P.buffer}function C(){return this.bodyUsed=!1,this._initBody=function(A){this.bodyUsed=this.bodyUsed,this._bodyInit=A,A?typeof A=="string"?this._bodyText=A:l.blob&&Blob.prototype.isPrototypeOf(A)?this._bodyBlob=A:l.formData&&FormData.prototype.isPrototypeOf(A)?this._bodyFormData=A:l.searchParams&&URLSearchParams.prototype.isPrototypeOf(A)?this._bodyText=A.toString():l.arrayBuffer&&l.blob&&u(A)?(this._bodyArrayBuffer=w(A.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):l.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(A)||f(A))?this._bodyArrayBuffer=w(A):this._bodyText=A=Object.prototype.toString.call(A):this._bodyText="",this.headers.get("content-type")||(typeof A=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):l.searchParams&&URLSearchParams.prototype.isPrototypeOf(A)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},l.blob&&(this.blob=function(){var A=m(this);if(A)return A;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var A=m(this);return A||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else return this.blob().then(v)}),this.text=function(){var A=m(this);if(A)return A;if(this._bodyBlob)return b(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(x(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},l.formData&&(this.formData=function(){return this.text().then(R)}),this.json=function(){return this.text().then(JSON.parse)},this}var S=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function k(A){var P=A.toUpperCase();return S.indexOf(P)>-1?P:A}function $(A,P){if(!(this instanceof $))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');P=P||{};var j=P.body;if(A instanceof $){if(A.bodyUsed)throw new TypeError("Already read");this.url=A.url,this.credentials=A.credentials,P.headers||(this.headers=new g(A.headers)),this.method=A.method,this.mode=A.mode,this.signal=A.signal,!j&&A._bodyInit!=null&&(j=A._bodyInit,A.bodyUsed=!0)}else this.url=String(A);if(this.credentials=P.credentials||this.credentials||"same-origin",(P.headers||!this.headers)&&(this.headers=new g(P.headers)),this.method=k(P.method||this.method||"GET"),this.mode=P.mode||this.mode||null,this.signal=P.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&j)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(j),(this.method==="GET"||this.method==="HEAD")&&(P.cache==="no-store"||P.cache==="no-cache")){var z=/([?&])_=[^&]*/;if(z.test(this.url))this.url=this.url.replace(z,"$1_="+new Date().getTime());else{var U=/\?/;this.url+=(U.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}$.prototype.clone=function(){return new $(this,{body:this._bodyInit})};function R(A){var P=new FormData;return A.trim().split("&").forEach(function(j){if(j){var z=j.split("="),U=z.shift().replace(/\+/g," "),X=z.join("=").replace(/\+/g," ");P.append(decodeURIComponent(U),decodeURIComponent(X))}}),P}function O(A){var P=new g,j=A.replace(/\r?\n[\t ]+/g," ");return j.split("\r").map(function(z){return z.indexOf(`
`)===0?z.substr(1,z.length):z}).forEach(function(z){var U=z.split(":"),X=U.shift().trim();if(X){var K=U.join(":").trim();P.append(X,K)}}),P}C.call($.prototype);function B(A,P){if(!(this instanceof B))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');P||(P={}),this.type="default",this.status=P.status===void 0?200:P.status,this.ok=this.status>=200&&this.status<300,this.statusText=P.statusText===void 0?"":""+P.statusText,this.headers=new g(P.headers),this.url=P.url||"",this._initBody(A)}C.call(B.prototype),B.prototype.clone=function(){return new B(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new g(this.headers),url:this.url})},B.error=function(){var A=new B(null,{status:0,statusText:""});return A.type="error",A};var D=[301,302,303,307,308];B.redirect=function(A,P){if(D.indexOf(P)===-1)throw new RangeError("Invalid status code");return new B(null,{status:P,headers:{location:A}})},s.DOMException=a.DOMException;try{new s.DOMException}catch{s.DOMException=function(P,j){this.message=P,this.name=j;var z=Error(P);this.stack=z.stack},s.DOMException.prototype=Object.create(Error.prototype),s.DOMException.prototype.constructor=s.DOMException}function L(A,P){return new Promise(function(j,z){var U=new $(A,P);if(U.signal&&U.signal.aborted)return z(new s.DOMException("Aborted","AbortError"));var X=new XMLHttpRequest;function K(){X.abort()}X.onload=function(){var oe={status:X.status,statusText:X.statusText,headers:O(X.getAllResponseHeaders()||"")};oe.url="responseURL"in X?X.responseURL:oe.headers.get("X-Request-URL");var _e="response"in X?X.response:X.responseText;setTimeout(function(){j(new B(_e,oe))},0)},X.onerror=function(){setTimeout(function(){z(new TypeError("Network request failed"))},0)},X.ontimeout=function(){setTimeout(function(){z(new TypeError("Network request failed"))},0)},X.onabort=function(){setTimeout(function(){z(new s.DOMException("Aborted","AbortError"))},0)};function pe(oe){try{return oe===""&&a.location.href?a.location.href:oe}catch{return oe}}X.open(U.method,pe(U.url),!0),U.credentials==="include"?X.withCredentials=!0:U.credentials==="omit"&&(X.withCredentials=!1),"responseType"in X&&(l.blob?X.responseType="blob":l.arrayBuffer&&U.headers.get("Content-Type")&&U.headers.get("Content-Type").indexOf("application/octet-stream")!==-1&&(X.responseType="arraybuffer")),P&&typeof P.headers=="object"&&!(P.headers instanceof g)?Object.getOwnPropertyNames(P.headers).forEach(function(oe){X.setRequestHeader(oe,h(P.headers[oe]))}):U.headers.forEach(function(oe,_e){X.setRequestHeader(_e,oe)}),U.signal&&(U.signal.addEventListener("abort",K),X.onreadystatechange=function(){X.readyState===4&&U.signal.removeEventListener("abort",K)}),X.send(typeof U._bodyInit>"u"?null:U._bodyInit)})}return L.polyfill=!0,a.fetch||(a.fetch=L,a.Headers=g,a.Request=$,a.Response=B),s.Headers=g,s.Request=$,s.Response=B,s.fetch=L,s})({})})(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var i=n.fetch?n:r;t=i.fetch,t.default=i.fetch,t.fetch=i.fetch,t.Headers=i.Headers,t.Request=i.Request,t.Response=i.Response,e.exports=t}(V2,V2.exports)),V2.exports}(function(e,t){var n;if(typeof fetch=="function"&&(typeof Qi<"u"&&Qi.fetch?n=Qi.fetch:typeof window<"u"&&window.fetch?n=window.fetch:n=fetch),typeof Gdt<"u"&&typeof window>"u"){var r=n||Xdt();r.default&&(r=r.default),t.default=r,e.exports=t.default}})(aD,aD.exports);var ppe=aD.exports;const gpe=Wh(ppe),qX=lY({__proto__:null,default:gpe},[ppe]);function GX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function XX(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?GX(Object(n),!0).forEach(function(r){Ydt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ydt(e,t,n){return(t=Kdt(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Kdt(e){var t=Qdt(e,"string");return Vh(t)=="symbol"?t:t+""}function Qdt(e,t){if(Vh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Vh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Vh(e){"@babel/helpers - typeof";return Vh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vh(e)}var Eu;typeof fetch=="function"&&(typeof global<"u"&&global.fetch?Eu=global.fetch:typeof window<"u"&&window.fetch?Eu=window.fetch:Eu=fetch);var Rb;hpe()&&(typeof global<"u"&&global.XMLHttpRequest?Rb=global.XMLHttpRequest:typeof window<"u"&&window.XMLHttpRequest&&(Rb=window.XMLHttpRequest));var Pk;typeof ActiveXObject=="function"&&(typeof global<"u"&&global.ActiveXObject?Pk=global.ActiveXObject:typeof window<"u"&&window.ActiveXObject&&(Pk=window.ActiveXObject));!Eu&&qX&&!Rb&&!Pk&&(Eu=gpe||qX);typeof Eu!="function"&&(Eu=void 0);var lD=function(t,n){if(n&&Vh(n)==="object"){var r="";for(var i in n)r+="&"+encodeURIComponent(i)+"="+encodeURIComponent(n[i]);if(!r)return t;t=t+(t.indexOf("?")!==-1?"&":"?")+r.slice(1)}return t},YX=function(t,n,r,i){var o=function(l){if(!l.ok)return r(l.statusText||"Error",{status:l.status});l.text().then(function(u){r(null,{status:l.status,data:u})}).catch(r)};if(i){var s=i(t,n);if(s instanceof Promise){s.then(o).catch(r);return}}typeof fetch=="function"?fetch(t,n).then(o).catch(r):Eu(t,n).then(o).catch(r)},KX=!1,Jdt=function(t,n,r,i){t.queryStringParams&&(n=lD(n,t.queryStringParams));var o=XX({},typeof t.customHeaders=="function"?t.customHeaders():t.customHeaders);typeof window>"u"&&typeof global<"u"&&typeof global.process<"u"&&global.process.versions&&global.process.versions.node&&(o["User-Agent"]="i18next-http-backend (node/".concat(global.process.version,"; ").concat(global.process.platform," ").concat(global.process.arch,")")),r&&(o["Content-Type"]="application/json");var s=typeof t.requestOptions=="function"?t.requestOptions(r):t.requestOptions,a=XX({method:r?"POST":"GET",body:r?t.stringify(r):void 0,headers:o},KX?{}:s),l=typeof t.alternateFetch=="function"&&t.alternateFetch.length>=1?t.alternateFetch:void 0;try{YX(n,a,i,l)}catch(u){if(!s||Object.keys(s).length===0||!u.message||u.message.indexOf("not implemented")<0)return i(u);try{Object.keys(s).forEach(function(c){delete a[c]}),YX(n,a,i,l),KX=!0}catch(c){i(c)}}},Zdt=function(t,n,r,i){r&&Vh(r)==="object"&&(r=lD("",r).slice(1)),t.queryStringParams&&(n=lD(n,t.queryStringParams));try{var o;Rb?o=new Rb:o=new Pk("MSXML2.XMLHTTP.3.0"),o.open(r?"POST":"GET",n,1),t.crossDomain||o.setRequestHeader("X-Requested-With","XMLHttpRequest"),o.withCredentials=!!t.withCredentials,r&&o.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),o.overrideMimeType&&o.overrideMimeType("application/json");var s=t.customHeaders;if(s=typeof s=="function"?s():s,s)for(var a in s)o.setRequestHeader(a,s[a]);o.onreadystatechange=function(){o.readyState>3&&i(o.status>=400?o.statusText:null,{status:o.status,data:o.responseText})},o.send(r)}catch(l){console&&console.log(l)}},eht=function(t,n,r,i){if(typeof r=="function"&&(i=r,r=void 0),i=i||function(){},Eu&&n.indexOf("file:")!==0)return Jdt(t,n,r,i);if(hpe()||typeof ActiveXObject=="function")return Zdt(t,n,r,i);i(new Error("No fetch and no xhr implementation found!"))};function p0(e){"@babel/helpers - typeof";return p0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},p0(e)}function QX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function B4(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?QX(Object(n),!0).forEach(function(r){mpe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function tht(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nht(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ype(r.key),r)}}function rht(e,t,n){return t&&nht(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function mpe(e,t,n){return(t=ype(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ype(e){var t=iht(e,"string");return p0(t)=="symbol"?t:t+""}function iht(e,t){if(p0(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(p0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var oht=function(){return{loadPath:"/locales/{{lng}}/{{ns}}.json",addPath:"/locales/add/{{lng}}/{{ns}}",parse:function(n){return JSON.parse(n)},stringify:JSON.stringify,parsePayload:function(n,r,i){return mpe({},r,i||"")},parseLoadPayload:function(n,r){},request:eht,reloadInterval:typeof window<"u"?!1:60*60*1e3,customHeaders:{},queryStringParams:{},crossDomain:!1,withCredentials:!1,overrideMimeType:!1,requestOptions:{mode:"cors",credentials:"same-origin",cache:"default"}}},vpe=function(){function e(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};tht(this,e),this.services=t,this.options=n,this.allOptions=r,this.type="backend",this.init(t,n,r)}return rht(e,[{key:"init",value:function(n){var r=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(this.services=n,this.options=B4(B4(B4({},oht()),this.options||{}),i),this.allOptions=o,this.services&&this.options.reloadInterval){var s=setInterval(function(){return r.reload()},this.options.reloadInterval);p0(s)==="object"&&typeof s.unref=="function"&&s.unref()}}},{key:"readMulti",value:function(n,r,i){this._readAny(n,n,r,r,i)}},{key:"read",value:function(n,r,i){this._readAny([n],n,[r],r,i)}},{key:"_readAny",value:function(n,r,i,o,s){var a=this,l=this.options.loadPath;typeof this.options.loadPath=="function"&&(l=this.options.loadPath(n,i)),l=qdt(l),l.then(function(u){if(!u)return s(null,{});var c=a.services.interpolator.interpolate(u,{lng:n.join("+"),ns:i.join("+")});a.loadUrl(c,s,r,o)})}},{key:"loadUrl",value:function(n,r,i,o){var s=this,a=typeof i=="string"?[i]:i,l=typeof o=="string"?[o]:o,u=this.options.parseLoadPayload(a,l);this.options.request(this.options,n,u,function(c,f){if(f&&(f.status>=500&&f.status<600||!f.status))return r("failed loading "+n+"; status code: "+f.status,!0);if(f&&f.status>=400&&f.status<500)return r("failed loading "+n+"; status code: "+f.status,!1);if(!f&&c&&c.message&&c.message.toLowerCase().indexOf("failed")>-1&&(c.message.indexOf("fetch")>-1||c.message.toLowerCase().indexOf("network")>-1))return r("failed loading "+n+": "+c.message,!0);if(c)return r(c,!1);var d,h;try{typeof f.data=="string"?d=s.options.parse(f.data,i,o):d=f.data}catch{h="failed parsing "+n+" to json"}if(h)return r(h,!1);r(null,d)})}},{key:"create",value:function(n,r,i,o,s){var a=this;if(this.options.addPath){typeof n=="string"&&(n=[n]);var l=this.options.parsePayload(r,i,o),u=0,c=[],f=[];n.forEach(function(d){var h=a.options.addPath;typeof a.options.addPath=="function"&&(h=a.options.addPath(d,r));var p=a.services.interpolator.interpolate(h,{lng:d,ns:r});a.options.request(a.options,p,l,function(g,m){u+=1,c.push(g),f.push(m),u===n.length&&typeof s=="function"&&s(c,f)})})}}},{key:"reload",value:function(){var n=this,r=this.services,i=r.backendConnector,o=r.languageUtils,s=r.logger,a=i.language;if(!(a&&a.toLowerCase()==="cimode")){var l=[],u=function(f){var d=o.toResolveHierarchy(f);d.forEach(function(h){l.indexOf(h)<0&&l.push(h)})};u(a),this.allOptions.preload&&this.allOptions.preload.forEach(function(c){return u(c)}),l.forEach(function(c){n.allOptions.ns.forEach(function(f){i.read(c,f,"read",null,null,function(d,h){d&&s.warn("loading namespace ".concat(f," for language ").concat(c," failed"),d),!d&&h&&s.log("loaded namespace ".concat(f," for language ").concat(c),h),i.loaded("".concat(c,"|").concat(f),d,h)})})})}}}])}();vpe.type="backend";di.use(vpe).use(dpe).use(mut).init({supportedLngs:["en","ko"],fallbackLng:"en",debug:!0,interpolation:{escapeValue:!1},backend:{loadPath:"/Swipytics/locales/{{lng}}/translation.json"},react:{useSuspense:!0}});const sht=new clt,aht=new Rdt;lpe(document.getElementById("root")).render(F.jsx(M.StrictMode,{children:F.jsx(glt,{client:sht,children:F.jsx(iut,{client:aht,attachTo:window,eventTypes:["click","scroll","change"],children:F.jsx(xst,{theme:pdt,children:F.jsx(El,{flexDir:"column",minH:"100dvh",p:0,m:0,w:"full",children:F.jsx(hdt,{})})})})})}))});export default lht();
