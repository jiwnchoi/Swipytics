var gfe=Object.defineProperty;var q9=e=>{throw TypeError(e)};var mfe=(e,t,n)=>t in e?gfe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var yfe=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var fe=(e,t,n)=>mfe(e,typeof t!="symbol"?t+"":t,n),LE=(e,t,n)=>t.has(e)||q9("Cannot "+n);var j=(e,t,n)=>(LE(e,t,"read from private field"),n?n.call(e):t.get(e)),Fe=(e,t,n)=>t.has(e)?q9("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),pe=(e,t,n,r)=>(LE(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),Ue=(e,t,n)=>(LE(e,t,"access private method"),n);var gb=(e,t,n,r)=>({set _(i){pe(e,t,i,n)},get _(){return j(e,t,r)}});var Pat=yfe((klt,p9)=>{function vfe(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Au=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function zl(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var lH={exports:{}},Ck={},uH={exports:{}},je={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var G1=Symbol.for("react.element"),bfe=Symbol.for("react.portal"),xfe=Symbol.for("react.fragment"),wfe=Symbol.for("react.strict_mode"),Sfe=Symbol.for("react.profiler"),kfe=Symbol.for("react.provider"),Cfe=Symbol.for("react.context"),_fe=Symbol.for("react.forward_ref"),Efe=Symbol.for("react.suspense"),$fe=Symbol.for("react.memo"),Afe=Symbol.for("react.lazy"),G9=Symbol.iterator;function Tfe(e){return e===null||typeof e!="object"?null:(e=G9&&e[G9]||e["@@iterator"],typeof e=="function"?e:null)}var cH={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},fH=Object.assign,dH={};function Vg(e,t,n){this.props=e,this.context=t,this.refs=dH,this.updater=n||cH}Vg.prototype.isReactComponent={};Vg.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Vg.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function hH(){}hH.prototype=Vg.prototype;function KM(e,t,n){this.props=e,this.context=t,this.refs=dH,this.updater=n||cH}var QM=KM.prototype=new hH;QM.constructor=KM;fH(QM,Vg.prototype);QM.isPureReactComponent=!0;var Y9=Array.isArray,pH=Object.prototype.hasOwnProperty,ZM={current:null},gH={key:!0,ref:!0,__self:!0,__source:!0};function mH(e,t,n){var r,i={},o=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(o=""+t.key),t)pH.call(t,r)&&!gH.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:G1,type:e,key:o,ref:s,props:i,_owner:ZM.current}}function Mfe(e,t){return{$$typeof:G1,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function JM(e){return typeof e=="object"&&e!==null&&e.$$typeof===G1}function Ffe(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var X9=/\/+/g;function zE(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Ffe(""+e.key):t.toString(36)}function jx(e,t,n,r,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case G1:case bfe:s=!0}}if(s)return s=e,i=i(s),e=r===""?"."+zE(s,0):r,Y9(i)?(n="",e!=null&&(n=e.replace(X9,"$&/")+"/"),jx(i,t,n,"",function(u){return u})):i!=null&&(JM(i)&&(i=Mfe(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(X9,"$&/")+"/")+e)),t.push(i)),1;if(s=0,r=r===""?".":r+":",Y9(e))for(var a=0;a<e.length;a++){o=e[a];var l=r+zE(o,a);s+=jx(o,t,n,l,i)}else if(l=Tfe(e),typeof l=="function")for(e=l.call(e),a=0;!(o=e.next()).done;)o=o.value,l=r+zE(o,a++),s+=jx(o,t,n,l,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function mb(e,t,n){if(e==null)return e;var r=[],i=0;return jx(e,r,"","",function(o){return t.call(n,o,i++)}),r}function Pfe(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Jr={current:null},Bx={transition:null},Rfe={ReactCurrentDispatcher:Jr,ReactCurrentBatchConfig:Bx,ReactCurrentOwner:ZM};function yH(){throw Error("act(...) is not supported in production builds of React.")}je.Children={map:mb,forEach:function(e,t,n){mb(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return mb(e,function(){t++}),t},toArray:function(e){return mb(e,function(t){return t})||[]},only:function(e){if(!JM(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};je.Component=Vg;je.Fragment=xfe;je.Profiler=Sfe;je.PureComponent=KM;je.StrictMode=wfe;je.Suspense=Efe;je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Rfe;je.act=yH;je.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=fH({},e.props),i=e.key,o=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,s=ZM.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)pH.call(t,l)&&!gH.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:G1,type:e.type,key:i,ref:o,props:r,_owner:s}};je.createContext=function(e){return e={$$typeof:Cfe,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:kfe,_context:e},e.Consumer=e};je.createElement=mH;je.createFactory=function(e){var t=mH.bind(null,e);return t.type=e,t};je.createRef=function(){return{current:null}};je.forwardRef=function(e){return{$$typeof:_fe,render:e}};je.isValidElement=JM;je.lazy=function(e){return{$$typeof:Afe,_payload:{_status:-1,_result:e},_init:Pfe}};je.memo=function(e,t){return{$$typeof:$fe,type:e,compare:t===void 0?null:t}};je.startTransition=function(e){var t=Bx.transition;Bx.transition={};try{e()}finally{Bx.transition=t}};je.unstable_act=yH;je.useCallback=function(e,t){return Jr.current.useCallback(e,t)};je.useContext=function(e){return Jr.current.useContext(e)};je.useDebugValue=function(){};je.useDeferredValue=function(e){return Jr.current.useDeferredValue(e)};je.useEffect=function(e,t){return Jr.current.useEffect(e,t)};je.useId=function(){return Jr.current.useId()};je.useImperativeHandle=function(e,t,n){return Jr.current.useImperativeHandle(e,t,n)};je.useInsertionEffect=function(e,t){return Jr.current.useInsertionEffect(e,t)};je.useLayoutEffect=function(e,t){return Jr.current.useLayoutEffect(e,t)};je.useMemo=function(e,t){return Jr.current.useMemo(e,t)};je.useReducer=function(e,t,n){return Jr.current.useReducer(e,t,n)};je.useRef=function(e){return Jr.current.useRef(e)};je.useState=function(e){return Jr.current.useState(e)};je.useSyncExternalStore=function(e,t,n){return Jr.current.useSyncExternalStore(e,t,n)};je.useTransition=function(){return Jr.current.useTransition()};je.version="18.3.1";uH.exports=je;var T=uH.exports;const Bi=zl(T),K9=vfe({__proto__:null,default:Bi},[T]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dfe=T,Ofe=Symbol.for("react.element"),Nfe=Symbol.for("react.fragment"),Ife=Object.prototype.hasOwnProperty,Lfe=Dfe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,zfe={key:!0,ref:!0,__self:!0,__source:!0};function vH(e,t,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)Ife.call(t,r)&&!zfe.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:Ofe,type:e,key:o,ref:s,props:i,_owner:Lfe.current}}Ck.Fragment=Nfe;Ck.jsx=vH;Ck.jsxs=vH;lH.exports=Ck;var E=lH.exports,jfe=!1;function Bfe(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function Ufe(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var Vfe=function(){function e(n){var r=this;this._insertTag=function(i){var o;r.tags.length===0?r.insertionPoint?o=r.insertionPoint.nextSibling:r.prepend?o=r.container.firstChild:o=r.before:o=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,o),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!jfe:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(r){r.forEach(this._insertTag)},t.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(Ufe(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var o=Bfe(i);try{o.insertRule(r,o.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},t.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},e}(),fr="-ms-",U2="-moz-",it="-webkit-",bH="comm",eF="rule",tF="decl",Wfe="@import",xH="@keyframes",Hfe="@layer",qfe=Math.abs,_k=String.fromCharCode,Gfe=Object.assign;function Yfe(e,t){return qn(e,0)^45?(((t<<2^qn(e,0))<<2^qn(e,1))<<2^qn(e,2))<<2^qn(e,3):0}function wH(e){return e.trim()}function Xfe(e,t){return(e=t.exec(e))?e[0]:e}function ot(e,t,n){return e.replace(t,n)}function R5(e,t){return e.indexOf(t)}function qn(e,t){return e.charCodeAt(t)|0}function Dy(e,t,n){return e.slice(t,n)}function Js(e){return e.length}function nF(e){return e.length}function yb(e,t){return t.push(e),e}function Kfe(e,t){return e.map(t).join("")}var Ek=1,jp=1,SH=0,vi=0,hn=0,Wg="";function $k(e,t,n,r,i,o,s){return{value:e,root:t,parent:n,type:r,props:i,children:o,line:Ek,column:jp,length:s,return:""}}function _m(e,t){return Gfe($k("",null,null,"",null,null,0),e,{length:-e.length},t)}function Qfe(){return hn}function Zfe(){return hn=vi>0?qn(Wg,--vi):0,jp--,hn===10&&(jp=1,Ek--),hn}function Ui(){return hn=vi<SH?qn(Wg,vi++):0,jp++,hn===10&&(jp=1,Ek++),hn}function fa(){return qn(Wg,vi)}function Ux(){return vi}function Y1(e,t){return Dy(Wg,e,t)}function Oy(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function kH(e){return Ek=jp=1,SH=Js(Wg=e),vi=0,[]}function CH(e){return Wg="",e}function Vx(e){return wH(Y1(vi-1,D5(e===91?e+2:e===40?e+1:e)))}function Jfe(e){for(;(hn=fa())&&hn<33;)Ui();return Oy(e)>2||Oy(hn)>3?"":" "}function ede(e,t){for(;--t&&Ui()&&!(hn<48||hn>102||hn>57&&hn<65||hn>70&&hn<97););return Y1(e,Ux()+(t<6&&fa()==32&&Ui()==32))}function D5(e){for(;Ui();)switch(hn){case e:return vi;case 34:case 39:e!==34&&e!==39&&D5(hn);break;case 40:e===41&&D5(e);break;case 92:Ui();break}return vi}function tde(e,t){for(;Ui()&&e+hn!==57;)if(e+hn===84&&fa()===47)break;return"/*"+Y1(t,vi-1)+"*"+_k(e===47?e:Ui())}function nde(e){for(;!Oy(fa());)Ui();return Y1(e,vi)}function rde(e){return CH(Wx("",null,null,null,[""],e=kH(e),0,[0],e))}function Wx(e,t,n,r,i,o,s,a,l){for(var u=0,c=0,f=s,d=0,h=0,p=0,g=1,m=1,y=1,v=0,b="",x=i,w=o,k=r,S=b;m;)switch(p=v,v=Ui()){case 40:if(p!=108&&qn(S,f-1)==58){R5(S+=ot(Vx(v),"&","&\f"),"&\f")!=-1&&(y=-1);break}case 34:case 39:case 91:S+=Vx(v);break;case 9:case 10:case 13:case 32:S+=Jfe(p);break;case 92:S+=ede(Ux()-1,7);continue;case 47:switch(fa()){case 42:case 47:yb(ide(tde(Ui(),Ux()),t,n),l);break;default:S+="/"}break;case 123*g:a[u++]=Js(S)*y;case 125*g:case 59:case 0:switch(v){case 0:case 125:m=0;case 59+c:y==-1&&(S=ot(S,/\f/g,"")),h>0&&Js(S)-f&&yb(h>32?Z9(S+";",r,n,f-1):Z9(ot(S," ","")+";",r,n,f-2),l);break;case 59:S+=";";default:if(yb(k=Q9(S,t,n,u,c,i,a,b,x=[],w=[],f),o),v===123)if(c===0)Wx(S,t,k,k,x,o,f,a,w);else switch(d===99&&qn(S,3)===110?100:d){case 100:case 108:case 109:case 115:Wx(e,k,k,r&&yb(Q9(e,k,k,0,0,i,a,b,i,x=[],f),w),i,w,f,a,r?x:w);break;default:Wx(S,k,k,k,[""],w,0,a,w)}}u=c=h=0,g=y=1,b=S="",f=s;break;case 58:f=1+Js(S),h=p;default:if(g<1){if(v==123)--g;else if(v==125&&g++==0&&Zfe()==125)continue}switch(S+=_k(v),v*g){case 38:y=c>0?1:(S+="\f",-1);break;case 44:a[u++]=(Js(S)-1)*y,y=1;break;case 64:fa()===45&&(S+=Vx(Ui())),d=fa(),c=f=Js(b=S+=nde(Ux())),v++;break;case 45:p===45&&Js(S)==2&&(g=0)}}return o}function Q9(e,t,n,r,i,o,s,a,l,u,c){for(var f=i-1,d=i===0?o:[""],h=nF(d),p=0,g=0,m=0;p<r;++p)for(var y=0,v=Dy(e,f+1,f=qfe(g=s[p])),b=e;y<h;++y)(b=wH(g>0?d[y]+" "+v:ot(v,/&\f/g,d[y])))&&(l[m++]=b);return $k(e,t,n,i===0?eF:a,l,u,c)}function ide(e,t,n){return $k(e,t,n,bH,_k(Qfe()),Dy(e,2,-2),0)}function Z9(e,t,n,r){return $k(e,t,n,tF,Dy(e,0,r),Dy(e,r+1,-1),r)}function op(e,t){for(var n="",r=nF(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function ode(e,t,n,r){switch(e.type){case Hfe:if(e.children.length)break;case Wfe:case tF:return e.return=e.return||e.value;case bH:return"";case xH:return e.return=e.value+"{"+op(e.children,r)+"}";case eF:e.value=e.props.join(",")}return Js(n=op(e.children,r))?e.return=e.value+"{"+n+"}":""}function sde(e){var t=nF(e);return function(n,r,i,o){for(var s="",a=0;a<t;a++)s+=e[a](n,r,i,o)||"";return s}}function ade(e){return function(t){t.root||(t=t.return)&&e(t)}}var J9=function(t){var n=new WeakMap;return function(r){if(n.has(r))return n.get(r);var i=t(r);return n.set(r,i),i}};function _H(e){var t=Object.create(null);return function(n){return t[n]===void 0&&(t[n]=e(n)),t[n]}}var lde=function(t,n,r){for(var i=0,o=0;i=o,o=fa(),i===38&&o===12&&(n[r]=1),!Oy(o);)Ui();return Y1(t,vi)},ude=function(t,n){var r=-1,i=44;do switch(Oy(i)){case 0:i===38&&fa()===12&&(n[r]=1),t[r]+=lde(vi-1,n,r);break;case 2:t[r]+=Vx(i);break;case 4:if(i===44){t[++r]=fa()===58?"&\f":"",n[r]=t[r].length;break}default:t[r]+=_k(i)}while(i=Ui());return t},cde=function(t,n){return CH(ude(kH(t),n))},eN=new WeakMap,fde=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var n=t.value,r=t.parent,i=t.column===r.column&&t.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(t.props.length===1&&n.charCodeAt(0)!==58&&!eN.get(r))&&!i){eN.set(t,!0);for(var o=[],s=cde(n,o),a=r.props,l=0,u=0;l<s.length;l++)for(var c=0;c<a.length;c++,u++)t.props[u]=o[l]?s[l].replace(/&\f/g,a[c]):a[c]+" "+s[l]}}},dde=function(t){if(t.type==="decl"){var n=t.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(t.return="",t.value="")}};function EH(e,t){switch(Yfe(e,t)){case 5103:return it+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return it+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return it+e+U2+e+fr+e+e;case 6828:case 4268:return it+e+fr+e+e;case 6165:return it+e+fr+"flex-"+e+e;case 5187:return it+e+ot(e,/(\w+).+(:[^]+)/,it+"box-$1$2"+fr+"flex-$1$2")+e;case 5443:return it+e+fr+"flex-item-"+ot(e,/flex-|-self/,"")+e;case 4675:return it+e+fr+"flex-line-pack"+ot(e,/align-content|flex-|-self/,"")+e;case 5548:return it+e+fr+ot(e,"shrink","negative")+e;case 5292:return it+e+fr+ot(e,"basis","preferred-size")+e;case 6060:return it+"box-"+ot(e,"-grow","")+it+e+fr+ot(e,"grow","positive")+e;case 4554:return it+ot(e,/([^-])(transform)/g,"$1"+it+"$2")+e;case 6187:return ot(ot(ot(e,/(zoom-|grab)/,it+"$1"),/(image-set)/,it+"$1"),e,"")+e;case 5495:case 3959:return ot(e,/(image-set\([^]*)/,it+"$1$`$1");case 4968:return ot(ot(e,/(.+:)(flex-)?(.*)/,it+"box-pack:$3"+fr+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+it+e+e;case 4095:case 3583:case 4068:case 2532:return ot(e,/(.+)-inline(.+)/,it+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Js(e)-1-t>6)switch(qn(e,t+1)){case 109:if(qn(e,t+4)!==45)break;case 102:return ot(e,/(.+:)(.+)-([^]+)/,"$1"+it+"$2-$3$1"+U2+(qn(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~R5(e,"stretch")?EH(ot(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(qn(e,t+1)!==115)break;case 6444:switch(qn(e,Js(e)-3-(~R5(e,"!important")&&10))){case 107:return ot(e,":",":"+it)+e;case 101:return ot(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+it+(qn(e,14)===45?"inline-":"")+"box$3$1"+it+"$2$3$1"+fr+"$2box$3")+e}break;case 5936:switch(qn(e,t+11)){case 114:return it+e+fr+ot(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return it+e+fr+ot(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return it+e+fr+ot(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return it+e+fr+e+e}return e}var hde=function(t,n,r,i){if(t.length>-1&&!t.return)switch(t.type){case tF:t.return=EH(t.value,t.length);break;case xH:return op([_m(t,{value:ot(t.value,"@","@"+it)})],i);case eF:if(t.length)return Kfe(t.props,function(o){switch(Xfe(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return op([_m(t,{props:[ot(o,/:(read-\w+)/,":"+U2+"$1")]})],i);case"::placeholder":return op([_m(t,{props:[ot(o,/:(plac\w+)/,":"+it+"input-$1")]}),_m(t,{props:[ot(o,/:(plac\w+)/,":"+U2+"$1")]}),_m(t,{props:[ot(o,/:(plac\w+)/,fr+"input-$1")]})],i)}return""})}},pde=[hde],gde=function(t){var n=t.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(g){var m=g.getAttribute("data-emotion");m.indexOf(" ")!==-1&&(document.head.appendChild(g),g.setAttribute("data-s",""))})}var i=t.stylisPlugins||pde,o={},s,a=[];s=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(g){for(var m=g.getAttribute("data-emotion").split(" "),y=1;y<m.length;y++)o[m[y]]=!0;a.push(g)});var l,u=[fde,dde];{var c,f=[ode,ade(function(g){c.insert(g)})],d=sde(u.concat(i,f)),h=function(m){return op(rde(m),d)};l=function(m,y,v,b){c=v,h(m?m+"{"+y.styles+"}":y.styles),b&&(p.inserted[y.name]=!0)}}var p={key:n,sheet:new Vfe({key:n,container:s,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:o,registered:{},insert:l};return p.sheet.hydrate(a),p};function V2(){return V2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},V2.apply(null,arguments)}var $H={exports:{}},pt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zn=typeof Symbol=="function"&&Symbol.for,rF=zn?Symbol.for("react.element"):60103,iF=zn?Symbol.for("react.portal"):60106,Ak=zn?Symbol.for("react.fragment"):60107,Tk=zn?Symbol.for("react.strict_mode"):60108,Mk=zn?Symbol.for("react.profiler"):60114,Fk=zn?Symbol.for("react.provider"):60109,Pk=zn?Symbol.for("react.context"):60110,oF=zn?Symbol.for("react.async_mode"):60111,Rk=zn?Symbol.for("react.concurrent_mode"):60111,Dk=zn?Symbol.for("react.forward_ref"):60112,Ok=zn?Symbol.for("react.suspense"):60113,mde=zn?Symbol.for("react.suspense_list"):60120,Nk=zn?Symbol.for("react.memo"):60115,Ik=zn?Symbol.for("react.lazy"):60116,yde=zn?Symbol.for("react.block"):60121,vde=zn?Symbol.for("react.fundamental"):60117,bde=zn?Symbol.for("react.responder"):60118,xde=zn?Symbol.for("react.scope"):60119;function no(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case rF:switch(e=e.type,e){case oF:case Rk:case Ak:case Mk:case Tk:case Ok:return e;default:switch(e=e&&e.$$typeof,e){case Pk:case Dk:case Ik:case Nk:case Fk:return e;default:return t}}case iF:return t}}}function AH(e){return no(e)===Rk}pt.AsyncMode=oF;pt.ConcurrentMode=Rk;pt.ContextConsumer=Pk;pt.ContextProvider=Fk;pt.Element=rF;pt.ForwardRef=Dk;pt.Fragment=Ak;pt.Lazy=Ik;pt.Memo=Nk;pt.Portal=iF;pt.Profiler=Mk;pt.StrictMode=Tk;pt.Suspense=Ok;pt.isAsyncMode=function(e){return AH(e)||no(e)===oF};pt.isConcurrentMode=AH;pt.isContextConsumer=function(e){return no(e)===Pk};pt.isContextProvider=function(e){return no(e)===Fk};pt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===rF};pt.isForwardRef=function(e){return no(e)===Dk};pt.isFragment=function(e){return no(e)===Ak};pt.isLazy=function(e){return no(e)===Ik};pt.isMemo=function(e){return no(e)===Nk};pt.isPortal=function(e){return no(e)===iF};pt.isProfiler=function(e){return no(e)===Mk};pt.isStrictMode=function(e){return no(e)===Tk};pt.isSuspense=function(e){return no(e)===Ok};pt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Ak||e===Rk||e===Mk||e===Tk||e===Ok||e===mde||typeof e=="object"&&e!==null&&(e.$$typeof===Ik||e.$$typeof===Nk||e.$$typeof===Fk||e.$$typeof===Pk||e.$$typeof===Dk||e.$$typeof===vde||e.$$typeof===bde||e.$$typeof===xde||e.$$typeof===yde)};pt.typeOf=no;$H.exports=pt;var wde=$H.exports,TH=wde,Sde={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},kde={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},MH={};MH[TH.ForwardRef]=Sde;MH[TH.Memo]=kde;var Cde=!0;function _de(e,t,n){var r="";return n.split(" ").forEach(function(i){e[i]!==void 0?t.push(e[i]+";"):r+=i+" "}),r}var FH=function(t,n,r){var i=t.key+"-"+n.name;(r===!1||Cde===!1)&&t.registered[i]===void 0&&(t.registered[i]=n.styles)},PH=function(t,n,r){FH(t,n,r);var i=t.key+"-"+n.name;if(t.inserted[n.name]===void 0){var o=n;do t.insert(n===o?"."+i:"",o,t.sheet,!0),o=o.next;while(o!==void 0)}};function Ede(e){for(var t=0,n,r=0,i=e.length;i>=4;++r,i-=4)n=e.charCodeAt(r)&255|(e.charCodeAt(++r)&255)<<8|(e.charCodeAt(++r)&255)<<16|(e.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,t=(n&65535)*1540483477+((n>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(i){case 3:t^=(e.charCodeAt(r+2)&255)<<16;case 2:t^=(e.charCodeAt(r+1)&255)<<8;case 1:t^=e.charCodeAt(r)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var $de={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Ade=!1,Tde=/[A-Z]|^ms/g,Mde=/_EMO_([^_]+?)_([^]*?)_EMO_/g,RH=function(t){return t.charCodeAt(1)===45},tN=function(t){return t!=null&&typeof t!="boolean"},jE=_H(function(e){return RH(e)?e:e.replace(Tde,"-$&").toLowerCase()}),nN=function(t,n){switch(t){case"animation":case"animationName":if(typeof n=="string")return n.replace(Mde,function(r,i,o){return ea={name:i,styles:o,next:ea},i})}return $de[t]!==1&&!RH(t)&&typeof n=="number"&&n!==0?n+"px":n},Fde="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function Ny(e,t,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var i=n;if(i.anim===1)return ea={name:i.name,styles:i.styles,next:ea},i.name;var o=n;if(o.styles!==void 0){var s=o.next;if(s!==void 0)for(;s!==void 0;)ea={name:s.name,styles:s.styles,next:ea},s=s.next;var a=o.styles+";";return a}return Pde(e,t,n)}case"function":{if(e!==void 0){var l=ea,u=n(e);return ea=l,Ny(e,t,u)}break}}var c=n;if(t==null)return c;var f=t[c];return f!==void 0?f:c}function Pde(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Ny(e,t,n[i])+";";else for(var o in n){var s=n[o];if(typeof s!="object"){var a=s;t!=null&&t[a]!==void 0?r+=o+"{"+t[a]+"}":tN(a)&&(r+=jE(o)+":"+nN(o,a)+";")}else{if(o==="NO_COMPONENT_SELECTOR"&&Ade)throw new Error(Fde);if(Array.isArray(s)&&typeof s[0]=="string"&&(t==null||t[s[0]]===void 0))for(var l=0;l<s.length;l++)tN(s[l])&&(r+=jE(o)+":"+nN(o,s[l])+";");else{var u=Ny(e,t,s);switch(o){case"animation":case"animationName":{r+=jE(o)+":"+u+";";break}default:r+=o+"{"+u+"}"}}}}return r}var rN=/label:\s*([^\s;\n{]+)\s*(;|$)/g,ea;function sF(e,t,n){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var r=!0,i="";ea=void 0;var o=e[0];if(o==null||o.raw===void 0)r=!1,i+=Ny(n,t,o);else{var s=o;i+=s[0]}for(var a=1;a<e.length;a++)if(i+=Ny(n,t,e[a]),r){var l=o;i+=l[a]}rN.lastIndex=0;for(var u="",c;(c=rN.exec(i))!==null;)u+="-"+c[1];var f=Ede(i)+u;return{name:f,styles:i,next:ea}}var Rde=function(t){return t()},DH=K9.useInsertionEffect?K9.useInsertionEffect:!1,Dde=DH||Rde,iN=DH||T.useLayoutEffect,OH=T.createContext(typeof HTMLElement<"u"?gde({key:"css"}):null);OH.Provider;var NH=function(t){return T.forwardRef(function(n,r){var i=T.useContext(OH);return t(n,i,r)})},Iy=T.createContext({}),Ode=function(t,n){if(typeof n=="function"){var r=n(t);return r}return V2({},t,n)},Nde=J9(function(e){return J9(function(t){return Ode(e,t)})}),Ide=function(t){var n=T.useContext(Iy);return t.theme!==n&&(n=Nde(n)(t.theme)),T.createElement(Iy.Provider,{value:n},t.children)},Lk=NH(function(e,t){var n=e.styles,r=sF([n],void 0,T.useContext(Iy)),i=T.useRef();return iN(function(){var o=t.key+"-global",s=new t.sheet.constructor({key:o,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),a=!1,l=document.querySelector('style[data-emotion="'+o+" "+r.name+'"]');return t.sheet.tags.length&&(s.before=t.sheet.tags[0]),l!==null&&(a=!0,l.setAttribute("data-emotion",o),s.hydrate([l])),i.current=[s,a],function(){s.flush()}},[t]),iN(function(){var o=i.current,s=o[0],a=o[1];if(a){o[1]=!1;return}if(r.next!==void 0&&PH(t,r.next,!0),s.tags.length){var l=s.tags[s.tags.length-1].nextElementSibling;s.before=l,s.flush()}t.insert("",r,s,!1)},[t,r.name]),null});function Lde(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return sF(t)}var zde=function(){var t=Lde.apply(void 0,arguments),n="animation-"+t.name;return{name:n,styles:"@keyframes "+n+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},IH=String.raw,LH=IH`
  :root,
  :host {
    --chakra-vh: 100vh;
  }

  @supports (height: -webkit-fill-available) {
    :root,
    :host {
      --chakra-vh: -webkit-fill-available;
    }
  }

  @supports (height: -moz-fill-available) {
    :root,
    :host {
      --chakra-vh: -moz-fill-available;
    }
  }

  @supports (height: 100dvh) {
    :root,
    :host {
      --chakra-vh: 100dvh;
    }
  }
`,jde=()=>E.jsx(Lk,{styles:LH}),Bde=({scope:e=""})=>E.jsx(Lk,{styles:IH`
      html {
        line-height: 1.5;
        -webkit-text-size-adjust: 100%;
        font-family: system-ui, sans-serif;
        -webkit-font-smoothing: antialiased;
        text-rendering: optimizeLegibility;
        -moz-osx-font-smoothing: grayscale;
        touch-action: manipulation;
      }

      body {
        position: relative;
        min-height: 100%;
        margin: 0;
        font-feature-settings: "kern";
      }

      ${e} :where(*, *::before, *::after) {
        border-width: 0;
        border-style: solid;
        box-sizing: border-box;
        word-wrap: break-word;
      }

      main {
        display: block;
      }

      ${e} hr {
        border-top-width: 1px;
        box-sizing: content-box;
        height: 0;
        overflow: visible;
      }

      ${e} :where(pre, code, kbd,samp) {
        font-family: SFMono-Regular, Menlo, Monaco, Consolas, monospace;
        font-size: 1em;
      }

      ${e} a {
        background-color: transparent;
        color: inherit;
        text-decoration: inherit;
      }

      ${e} abbr[title] {
        border-bottom: none;
        text-decoration: underline;
        -webkit-text-decoration: underline dotted;
        text-decoration: underline dotted;
      }

      ${e} :where(b, strong) {
        font-weight: bold;
      }

      ${e} small {
        font-size: 80%;
      }

      ${e} :where(sub,sup) {
        font-size: 75%;
        line-height: 0;
        position: relative;
        vertical-align: baseline;
      }

      ${e} sub {
        bottom: -0.25em;
      }

      ${e} sup {
        top: -0.5em;
      }

      ${e} img {
        border-style: none;
      }

      ${e} :where(button, input, optgroup, select, textarea) {
        font-family: inherit;
        font-size: 100%;
        line-height: 1.15;
        margin: 0;
      }

      ${e} :where(button, input) {
        overflow: visible;
      }

      ${e} :where(button, select) {
        text-transform: none;
      }

      ${e} :where(
          button::-moz-focus-inner,
          [type="button"]::-moz-focus-inner,
          [type="reset"]::-moz-focus-inner,
          [type="submit"]::-moz-focus-inner
        ) {
        border-style: none;
        padding: 0;
      }

      ${e} fieldset {
        padding: 0.35em 0.75em 0.625em;
      }

      ${e} legend {
        box-sizing: border-box;
        color: inherit;
        display: table;
        max-width: 100%;
        padding: 0;
        white-space: normal;
      }

      ${e} progress {
        vertical-align: baseline;
      }

      ${e} textarea {
        overflow: auto;
      }

      ${e} :where([type="checkbox"], [type="radio"]) {
        box-sizing: border-box;
        padding: 0;
      }

      ${e} input[type="number"]::-webkit-inner-spin-button,
      ${e} input[type="number"]::-webkit-outer-spin-button {
        -webkit-appearance: none !important;
      }

      ${e} input[type="number"] {
        -moz-appearance: textfield;
      }

      ${e} input[type="search"] {
        -webkit-appearance: textfield;
        outline-offset: -2px;
      }

      ${e} input[type="search"]::-webkit-search-decoration {
        -webkit-appearance: none !important;
      }

      ${e} ::-webkit-file-upload-button {
        -webkit-appearance: button;
        font: inherit;
      }

      ${e} details {
        display: block;
      }

      ${e} summary {
        display: list-item;
      }

      template {
        display: none;
      }

      [hidden] {
        display: none !important;
      }

      ${e} :where(
          blockquote,
          dl,
          dd,
          h1,
          h2,
          h3,
          h4,
          h5,
          h6,
          hr,
          figure,
          p,
          pre
        ) {
        margin: 0;
      }

      ${e} button {
        background: transparent;
        padding: 0;
      }

      ${e} fieldset {
        margin: 0;
        padding: 0;
      }

      ${e} :where(ol, ul) {
        margin: 0;
        padding: 0;
      }

      ${e} textarea {
        resize: vertical;
      }

      ${e} :where(button, [role="button"]) {
        cursor: pointer;
      }

      ${e} button::-moz-focus-inner {
        border: 0 !important;
      }

      ${e} table {
        border-collapse: collapse;
      }

      ${e} :where(h1, h2, h3, h4, h5, h6) {
        font-size: inherit;
        font-weight: inherit;
      }

      ${e} :where(button, input, optgroup, select, textarea) {
        padding: 0;
        line-height: inherit;
        color: inherit;
      }

      ${e} :where(img, svg, video, canvas, audio, iframe, embed, object) {
        display: block;
      }

      ${e} :where(img, video) {
        max-width: 100%;
        height: auto;
      }

      [data-js-focus-visible]
        :focus:not([data-focus-visible-added]):not(
          [data-focus-visible-disabled]
        ) {
        outline: none;
        box-shadow: none;
      }

      ${e} select::-ms-expand {
        display: none;
      }

      ${LH}
    `});function Ude(e,t){return`${e} returned \`undefined\`. Seems you forgot to wrap component within ${t}`}function jn(e={}){const{name:t,strict:n=!0,hookName:r="useContext",providerName:i="Provider",errorMessage:o,defaultValue:s}=e,a=T.createContext(s);a.displayName=t;function l(){var u;const c=T.useContext(a);if(!c&&n){const f=new Error(o??Ude(r,i));throw f.name="ContextError",(u=Error.captureStackTrace)==null||u.call(Error,f,l),f}return c}return[a.Provider,l,a]}var[Vde,Wde]=jn({strict:!1,name:"PortalManagerContext"});function zH(e){const{children:t,zIndex:n}=e;return E.jsx(Vde,{value:{zIndex:n},children:t})}zH.displayName="PortalManager";var Bp=globalThis!=null&&globalThis.document?T.useLayoutEffect:T.useEffect,jH={exports:{}},ro={},BH={exports:{}},UH={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(N,B){var Y=N.length;N.push(B);e:for(;0<Y;){var W=Y-1>>>1,oe=N[W];if(0<i(oe,B))N[W]=B,N[Y]=oe,Y=W;else break e}}function n(N){return N.length===0?null:N[0]}function r(N){if(N.length===0)return null;var B=N[0],Y=N.pop();if(Y!==B){N[0]=Y;e:for(var W=0,oe=N.length,re=oe>>>1;W<re;){var we=2*(W+1)-1,De=N[we],ut=we+1,$n=N[ut];if(0>i(De,Y))ut<oe&&0>i($n,De)?(N[W]=$n,N[ut]=Y,W=ut):(N[W]=De,N[we]=Y,W=we);else if(ut<oe&&0>i($n,Y))N[W]=$n,N[ut]=Y,W=ut;else break e}}return B}function i(N,B){var Y=N.sortIndex-B.sortIndex;return Y!==0?Y:N.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();e.unstable_now=function(){return s.now()-a}}var l=[],u=[],c=1,f=null,d=3,h=!1,p=!1,g=!1,m=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(N){for(var B=n(u);B!==null;){if(B.callback===null)r(u);else if(B.startTime<=N)r(u),B.sortIndex=B.expirationTime,t(l,B);else break;B=n(u)}}function x(N){if(g=!1,b(N),!p)if(n(l)!==null)p=!0,D(w);else{var B=n(u);B!==null&&I(x,B.startTime-N)}}function w(N,B){p=!1,g&&(g=!1,y(C),C=-1),h=!0;var Y=d;try{for(b(B),f=n(l);f!==null&&(!(f.expirationTime>B)||N&&!A());){var W=f.callback;if(typeof W=="function"){f.callback=null,d=f.priorityLevel;var oe=W(f.expirationTime<=B);B=e.unstable_now(),typeof oe=="function"?f.callback=oe:f===n(l)&&r(l),b(B)}else r(l);f=n(l)}if(f!==null)var re=!0;else{var we=n(u);we!==null&&I(x,we.startTime-B),re=!1}return re}finally{f=null,d=Y,h=!1}}var k=!1,S=null,C=-1,_=5,$=-1;function A(){return!(e.unstable_now()-$<_)}function O(){if(S!==null){var N=e.unstable_now();$=N;var B=!0;try{B=S(!0,N)}finally{B?M():(k=!1,S=null)}}else k=!1}var M;if(typeof v=="function")M=function(){v(O)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,R=P.port2;P.port1.onmessage=O,M=function(){R.postMessage(null)}}else M=function(){m(O,0)};function D(N){S=N,k||(k=!0,M())}function I(N,B){C=m(function(){N(e.unstable_now())},B)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(N){N.callback=null},e.unstable_continueExecution=function(){p||h||(p=!0,D(w))},e.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<N?Math.floor(1e3/N):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(N){switch(d){case 1:case 2:case 3:var B=3;break;default:B=d}var Y=d;d=B;try{return N()}finally{d=Y}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(N,B){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var Y=d;d=N;try{return B()}finally{d=Y}},e.unstable_scheduleCallback=function(N,B,Y){var W=e.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?W+Y:W):Y=W,N){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return oe=Y+oe,N={id:c++,callback:B,priorityLevel:N,startTime:Y,expirationTime:oe,sortIndex:-1},Y>W?(N.sortIndex=Y,t(u,N),n(l)===null&&N===n(u)&&(g?(y(C),C=-1):g=!0,I(x,Y-W))):(N.sortIndex=oe,t(l,N),p||h||(p=!0,D(w))),N},e.unstable_shouldYield=A,e.unstable_wrapCallback=function(N){var B=d;return function(){var Y=d;d=B;try{return N.apply(this,arguments)}finally{d=Y}}}})(UH);BH.exports=UH;var Hde=BH.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qde=T,Yi=Hde;function ee(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var VH=new Set,Ly={};function Pd(e,t){Up(e,t),Up(e+"Capture",t)}function Up(e,t){for(Ly[e]=t,e=0;e<t.length;e++)VH.add(t[e])}var $l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),O5=Object.prototype.hasOwnProperty,Gde=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,oN={},sN={};function Yde(e){return O5.call(sN,e)?!0:O5.call(oN,e)?!1:Gde.test(e)?sN[e]=!0:(oN[e]=!0,!1)}function Xde(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Kde(e,t,n,r){if(t===null||typeof t>"u"||Xde(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ei(e,t,n,r,i,o,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var nr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){nr[e]=new ei(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];nr[t]=new ei(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){nr[e]=new ei(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){nr[e]=new ei(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){nr[e]=new ei(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){nr[e]=new ei(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){nr[e]=new ei(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){nr[e]=new ei(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){nr[e]=new ei(e,5,!1,e.toLowerCase(),null,!1,!1)});var aF=/[\-:]([a-z])/g;function lF(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(aF,lF);nr[t]=new ei(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(aF,lF);nr[t]=new ei(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(aF,lF);nr[t]=new ei(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){nr[e]=new ei(e,1,!1,e.toLowerCase(),null,!1,!1)});nr.xlinkHref=new ei("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){nr[e]=new ei(e,1,!1,e.toLowerCase(),null,!0,!0)});function uF(e,t,n,r){var i=nr.hasOwnProperty(t)?nr[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Kde(t,n,i,r)&&(n=null),r||i===null?Yde(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var jl=qde.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,vb=Symbol.for("react.element"),Mh=Symbol.for("react.portal"),Fh=Symbol.for("react.fragment"),cF=Symbol.for("react.strict_mode"),N5=Symbol.for("react.profiler"),WH=Symbol.for("react.provider"),HH=Symbol.for("react.context"),fF=Symbol.for("react.forward_ref"),I5=Symbol.for("react.suspense"),L5=Symbol.for("react.suspense_list"),dF=Symbol.for("react.memo"),uu=Symbol.for("react.lazy"),qH=Symbol.for("react.offscreen"),aN=Symbol.iterator;function Em(e){return e===null||typeof e!="object"?null:(e=aN&&e[aN]||e["@@iterator"],typeof e=="function"?e:null)}var qt=Object.assign,BE;function p0(e){if(BE===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);BE=t&&t[1]||""}return`
`+BE+e}var UE=!1;function VE(e,t){if(!e||UE)return"";UE=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=s&&0<=a);break}}}finally{UE=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?p0(e):""}function Qde(e){switch(e.tag){case 5:return p0(e.type);case 16:return p0("Lazy");case 13:return p0("Suspense");case 19:return p0("SuspenseList");case 0:case 2:case 15:return e=VE(e.type,!1),e;case 11:return e=VE(e.type.render,!1),e;case 1:return e=VE(e.type,!0),e;default:return""}}function z5(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Fh:return"Fragment";case Mh:return"Portal";case N5:return"Profiler";case cF:return"StrictMode";case I5:return"Suspense";case L5:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case HH:return(e.displayName||"Context")+".Consumer";case WH:return(e._context.displayName||"Context")+".Provider";case fF:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case dF:return t=e.displayName||null,t!==null?t:z5(e.type)||"Memo";case uu:t=e._payload,e=e._init;try{return z5(e(t))}catch{}}return null}function Zde(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z5(t);case 8:return t===cF?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function nc(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function GH(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Jde(e){var t=GH(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function bb(e){e._valueTracker||(e._valueTracker=Jde(e))}function YH(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=GH(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function W2(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function j5(e,t){var n=t.checked;return qt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function lN(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=nc(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function XH(e,t){t=t.checked,t!=null&&uF(e,"checked",t,!1)}function B5(e,t){XH(e,t);var n=nc(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?U5(e,t.type,n):t.hasOwnProperty("defaultValue")&&U5(e,t.type,nc(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function uN(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function U5(e,t,n){(t!=="number"||W2(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var g0=Array.isArray;function sp(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+nc(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function V5(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ee(91));return qt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function cN(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(ee(92));if(g0(n)){if(1<n.length)throw Error(ee(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:nc(n)}}function KH(e,t){var n=nc(t.value),r=nc(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function fN(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function QH(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function W5(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?QH(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var xb,ZH=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(xb=xb||document.createElement("div"),xb.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=xb.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function zy(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Q0={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ehe=["Webkit","ms","Moz","O"];Object.keys(Q0).forEach(function(e){ehe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Q0[t]=Q0[e]})});function JH(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Q0.hasOwnProperty(e)&&Q0[e]?(""+t).trim():t+"px"}function eq(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=JH(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var the=qt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function H5(e,t){if(t){if(the[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ee(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ee(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ee(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ee(62))}}function q5(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var G5=null;function hF(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Y5=null,ap=null,lp=null;function dN(e){if(e=Q1(e)){if(typeof Y5!="function")throw Error(ee(280));var t=e.stateNode;t&&(t=Vk(t),Y5(e.stateNode,e.type,t))}}function tq(e){ap?lp?lp.push(e):lp=[e]:ap=e}function nq(){if(ap){var e=ap,t=lp;if(lp=ap=null,dN(e),t)for(e=0;e<t.length;e++)dN(t[e])}}function rq(e,t){return e(t)}function iq(){}var WE=!1;function oq(e,t,n){if(WE)return e(t,n);WE=!0;try{return rq(e,t,n)}finally{WE=!1,(ap!==null||lp!==null)&&(iq(),nq())}}function jy(e,t){var n=e.stateNode;if(n===null)return null;var r=Vk(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(ee(231,t,typeof n));return n}var X5=!1;if($l)try{var $m={};Object.defineProperty($m,"passive",{get:function(){X5=!0}}),window.addEventListener("test",$m,$m),window.removeEventListener("test",$m,$m)}catch{X5=!1}function nhe(e,t,n,r,i,o,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var Z0=!1,H2=null,q2=!1,K5=null,rhe={onError:function(e){Z0=!0,H2=e}};function ihe(e,t,n,r,i,o,s,a,l){Z0=!1,H2=null,nhe.apply(rhe,arguments)}function ohe(e,t,n,r,i,o,s,a,l){if(ihe.apply(this,arguments),Z0){if(Z0){var u=H2;Z0=!1,H2=null}else throw Error(ee(198));q2||(q2=!0,K5=u)}}function Rd(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function sq(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function hN(e){if(Rd(e)!==e)throw Error(ee(188))}function she(e){var t=e.alternate;if(!t){if(t=Rd(e),t===null)throw Error(ee(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return hN(i),e;if(o===r)return hN(i),t;o=o.sibling}throw Error(ee(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(ee(189))}}if(n.alternate!==r)throw Error(ee(190))}if(n.tag!==3)throw Error(ee(188));return n.stateNode.current===n?e:t}function aq(e){return e=she(e),e!==null?lq(e):null}function lq(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=lq(e);if(t!==null)return t;e=e.sibling}return null}var uq=Yi.unstable_scheduleCallback,pN=Yi.unstable_cancelCallback,ahe=Yi.unstable_shouldYield,lhe=Yi.unstable_requestPaint,on=Yi.unstable_now,uhe=Yi.unstable_getCurrentPriorityLevel,pF=Yi.unstable_ImmediatePriority,cq=Yi.unstable_UserBlockingPriority,G2=Yi.unstable_NormalPriority,che=Yi.unstable_LowPriority,fq=Yi.unstable_IdlePriority,zk=null,da=null;function fhe(e){if(da&&typeof da.onCommitFiberRoot=="function")try{da.onCommitFiberRoot(zk,e,void 0,(e.current.flags&128)===128)}catch{}}var ms=Math.clz32?Math.clz32:phe,dhe=Math.log,hhe=Math.LN2;function phe(e){return e>>>=0,e===0?32:31-(dhe(e)/hhe|0)|0}var wb=64,Sb=4194304;function m0(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Y2(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=m0(a):(o&=s,o!==0&&(r=m0(o)))}else s=n&~i,s!==0?r=m0(s):o!==0&&(r=m0(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-ms(t),i=1<<n,r|=e[n],t&=~i;return r}function ghe(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mhe(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-ms(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=ghe(a,t)):l<=t&&(e.expiredLanes|=a),o&=~a}}function Q5(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function dq(){var e=wb;return wb<<=1,!(wb&4194240)&&(wb=64),e}function HE(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function X1(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ms(t),e[t]=n}function yhe(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ms(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}function gF(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ms(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var ht=0;function hq(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var pq,mF,gq,mq,yq,Z5=!1,kb=[],Bu=null,Uu=null,Vu=null,By=new Map,Uy=new Map,vu=[],vhe="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function gN(e,t){switch(e){case"focusin":case"focusout":Bu=null;break;case"dragenter":case"dragleave":Uu=null;break;case"mouseover":case"mouseout":Vu=null;break;case"pointerover":case"pointerout":By.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Uy.delete(t.pointerId)}}function Am(e,t,n,r,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},t!==null&&(t=Q1(t),t!==null&&mF(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function bhe(e,t,n,r,i){switch(t){case"focusin":return Bu=Am(Bu,e,t,n,r,i),!0;case"dragenter":return Uu=Am(Uu,e,t,n,r,i),!0;case"mouseover":return Vu=Am(Vu,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return By.set(o,Am(By.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Uy.set(o,Am(Uy.get(o)||null,e,t,n,r,i)),!0}return!1}function vq(e){var t=kf(e.target);if(t!==null){var n=Rd(t);if(n!==null){if(t=n.tag,t===13){if(t=sq(n),t!==null){e.blockedOn=t,yq(e.priority,function(){gq(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Hx(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=J5(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);G5=r,n.target.dispatchEvent(r),G5=null}else return t=Q1(n),t!==null&&mF(t),e.blockedOn=n,!1;t.shift()}return!0}function mN(e,t,n){Hx(e)&&n.delete(t)}function xhe(){Z5=!1,Bu!==null&&Hx(Bu)&&(Bu=null),Uu!==null&&Hx(Uu)&&(Uu=null),Vu!==null&&Hx(Vu)&&(Vu=null),By.forEach(mN),Uy.forEach(mN)}function Tm(e,t){e.blockedOn===t&&(e.blockedOn=null,Z5||(Z5=!0,Yi.unstable_scheduleCallback(Yi.unstable_NormalPriority,xhe)))}function Vy(e){function t(i){return Tm(i,e)}if(0<kb.length){Tm(kb[0],e);for(var n=1;n<kb.length;n++){var r=kb[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Bu!==null&&Tm(Bu,e),Uu!==null&&Tm(Uu,e),Vu!==null&&Tm(Vu,e),By.forEach(t),Uy.forEach(t),n=0;n<vu.length;n++)r=vu[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<vu.length&&(n=vu[0],n.blockedOn===null);)vq(n),n.blockedOn===null&&vu.shift()}var up=jl.ReactCurrentBatchConfig,X2=!0;function whe(e,t,n,r){var i=ht,o=up.transition;up.transition=null;try{ht=1,yF(e,t,n,r)}finally{ht=i,up.transition=o}}function She(e,t,n,r){var i=ht,o=up.transition;up.transition=null;try{ht=4,yF(e,t,n,r)}finally{ht=i,up.transition=o}}function yF(e,t,n,r){if(X2){var i=J5(e,t,n,r);if(i===null)t$(e,t,r,K2,n),gN(e,r);else if(bhe(i,e,t,n,r))r.stopPropagation();else if(gN(e,r),t&4&&-1<vhe.indexOf(e)){for(;i!==null;){var o=Q1(i);if(o!==null&&pq(o),o=J5(e,t,n,r),o===null&&t$(e,t,r,K2,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else t$(e,t,r,null,n)}}var K2=null;function J5(e,t,n,r){if(K2=null,e=hF(r),e=kf(e),e!==null)if(t=Rd(e),t===null)e=null;else if(n=t.tag,n===13){if(e=sq(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return K2=e,null}function bq(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(uhe()){case pF:return 1;case cq:return 4;case G2:case che:return 16;case fq:return 536870912;default:return 16}default:return 16}}var Tu=null,vF=null,qx=null;function xq(){if(qx)return qx;var e,t=vF,n=t.length,r,i="value"in Tu?Tu.value:Tu.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===i[o-r];r++);return qx=i.slice(e,1<r?1-r:void 0)}function Gx(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Cb(){return!0}function yN(){return!1}function io(e){function t(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Cb:yN,this.isPropagationStopped=yN,this}return qt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Cb)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Cb)},persist:function(){},isPersistent:Cb}),t}var Hg={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bF=io(Hg),K1=qt({},Hg,{view:0,detail:0}),khe=io(K1),qE,GE,Mm,jk=qt({},K1,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xF,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Mm&&(Mm&&e.type==="mousemove"?(qE=e.screenX-Mm.screenX,GE=e.screenY-Mm.screenY):GE=qE=0,Mm=e),qE)},movementY:function(e){return"movementY"in e?e.movementY:GE}}),vN=io(jk),Che=qt({},jk,{dataTransfer:0}),_he=io(Che),Ehe=qt({},K1,{relatedTarget:0}),YE=io(Ehe),$he=qt({},Hg,{animationName:0,elapsedTime:0,pseudoElement:0}),Ahe=io($he),The=qt({},Hg,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Mhe=io(The),Fhe=qt({},Hg,{data:0}),bN=io(Fhe),Phe={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Rhe={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Dhe={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ohe(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Dhe[e])?!!t[e]:!1}function xF(){return Ohe}var Nhe=qt({},K1,{key:function(e){if(e.key){var t=Phe[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Gx(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Rhe[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xF,charCode:function(e){return e.type==="keypress"?Gx(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Gx(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ihe=io(Nhe),Lhe=qt({},jk,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xN=io(Lhe),zhe=qt({},K1,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xF}),jhe=io(zhe),Bhe=qt({},Hg,{propertyName:0,elapsedTime:0,pseudoElement:0}),Uhe=io(Bhe),Vhe=qt({},jk,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Whe=io(Vhe),Hhe=[9,13,27,32],wF=$l&&"CompositionEvent"in window,J0=null;$l&&"documentMode"in document&&(J0=document.documentMode);var qhe=$l&&"TextEvent"in window&&!J0,wq=$l&&(!wF||J0&&8<J0&&11>=J0),wN=" ",SN=!1;function Sq(e,t){switch(e){case"keyup":return Hhe.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function kq(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ph=!1;function Ghe(e,t){switch(e){case"compositionend":return kq(t);case"keypress":return t.which!==32?null:(SN=!0,wN);case"textInput":return e=t.data,e===wN&&SN?null:e;default:return null}}function Yhe(e,t){if(Ph)return e==="compositionend"||!wF&&Sq(e,t)?(e=xq(),qx=vF=Tu=null,Ph=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return wq&&t.locale!=="ko"?null:t.data;default:return null}}var Xhe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function kN(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Xhe[e.type]:t==="textarea"}function Cq(e,t,n,r){tq(r),t=Q2(t,"onChange"),0<t.length&&(n=new bF("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var ey=null,Wy=null;function Khe(e){Oq(e,0)}function Bk(e){var t=Oh(e);if(YH(t))return e}function Qhe(e,t){if(e==="change")return t}var _q=!1;if($l){var XE;if($l){var KE="oninput"in document;if(!KE){var CN=document.createElement("div");CN.setAttribute("oninput","return;"),KE=typeof CN.oninput=="function"}XE=KE}else XE=!1;_q=XE&&(!document.documentMode||9<document.documentMode)}function _N(){ey&&(ey.detachEvent("onpropertychange",Eq),Wy=ey=null)}function Eq(e){if(e.propertyName==="value"&&Bk(Wy)){var t=[];Cq(t,Wy,e,hF(e)),oq(Khe,t)}}function Zhe(e,t,n){e==="focusin"?(_N(),ey=t,Wy=n,ey.attachEvent("onpropertychange",Eq)):e==="focusout"&&_N()}function Jhe(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Bk(Wy)}function epe(e,t){if(e==="click")return Bk(t)}function tpe(e,t){if(e==="input"||e==="change")return Bk(t)}function npe(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var xs=typeof Object.is=="function"?Object.is:npe;function Hy(e,t){if(xs(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!O5.call(t,i)||!xs(e[i],t[i]))return!1}return!0}function EN(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function $N(e,t){var n=EN(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=EN(n)}}function $q(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?$q(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Aq(){for(var e=window,t=W2();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=W2(e.document)}return t}function SF(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function rpe(e){var t=Aq(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&$q(n.ownerDocument.documentElement,n)){if(r!==null&&SF(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=$N(n,o);var s=$N(n,r);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var ipe=$l&&"documentMode"in document&&11>=document.documentMode,Rh=null,eT=null,ty=null,tT=!1;function AN(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;tT||Rh==null||Rh!==W2(r)||(r=Rh,"selectionStart"in r&&SF(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ty&&Hy(ty,r)||(ty=r,r=Q2(eT,"onSelect"),0<r.length&&(t=new bF("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Rh)))}function _b(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Dh={animationend:_b("Animation","AnimationEnd"),animationiteration:_b("Animation","AnimationIteration"),animationstart:_b("Animation","AnimationStart"),transitionend:_b("Transition","TransitionEnd")},QE={},Tq={};$l&&(Tq=document.createElement("div").style,"AnimationEvent"in window||(delete Dh.animationend.animation,delete Dh.animationiteration.animation,delete Dh.animationstart.animation),"TransitionEvent"in window||delete Dh.transitionend.transition);function Uk(e){if(QE[e])return QE[e];if(!Dh[e])return e;var t=Dh[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Tq)return QE[e]=t[n];return e}var Mq=Uk("animationend"),Fq=Uk("animationiteration"),Pq=Uk("animationstart"),Rq=Uk("transitionend"),Dq=new Map,TN="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function kc(e,t){Dq.set(e,t),Pd(t,[e])}for(var ZE=0;ZE<TN.length;ZE++){var JE=TN[ZE],ope=JE.toLowerCase(),spe=JE[0].toUpperCase()+JE.slice(1);kc(ope,"on"+spe)}kc(Mq,"onAnimationEnd");kc(Fq,"onAnimationIteration");kc(Pq,"onAnimationStart");kc("dblclick","onDoubleClick");kc("focusin","onFocus");kc("focusout","onBlur");kc(Rq,"onTransitionEnd");Up("onMouseEnter",["mouseout","mouseover"]);Up("onMouseLeave",["mouseout","mouseover"]);Up("onPointerEnter",["pointerout","pointerover"]);Up("onPointerLeave",["pointerout","pointerover"]);Pd("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Pd("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Pd("onBeforeInput",["compositionend","keypress","textInput","paste"]);Pd("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Pd("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Pd("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var y0="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ape=new Set("cancel close invalid load scroll toggle".split(" ").concat(y0));function MN(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,ohe(r,t,void 0,e),e.currentTarget=null}function Oq(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;MN(i,a,u),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,u=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;MN(i,a,u),o=l}}}if(q2)throw e=K5,q2=!1,K5=null,e}function At(e,t){var n=t[sT];n===void 0&&(n=t[sT]=new Set);var r=e+"__bubble";n.has(r)||(Nq(t,e,2,!1),n.add(r))}function e$(e,t,n){var r=0;t&&(r|=4),Nq(n,e,r,t)}var Eb="_reactListening"+Math.random().toString(36).slice(2);function qy(e){if(!e[Eb]){e[Eb]=!0,VH.forEach(function(n){n!=="selectionchange"&&(ape.has(n)||e$(n,!1,e),e$(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Eb]||(t[Eb]=!0,e$("selectionchange",!1,t))}}function Nq(e,t,n,r){switch(bq(t)){case 1:var i=whe;break;case 4:i=She;break;default:i=yF}n=i.bind(null,t,n,e),i=void 0,!X5||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function t$(e,t,n,r,i){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=kf(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}oq(function(){var u=o,c=hF(n),f=[];e:{var d=Dq.get(e);if(d!==void 0){var h=bF,p=e;switch(e){case"keypress":if(Gx(n)===0)break e;case"keydown":case"keyup":h=Ihe;break;case"focusin":p="focus",h=YE;break;case"focusout":p="blur",h=YE;break;case"beforeblur":case"afterblur":h=YE;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=vN;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=_he;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=jhe;break;case Mq:case Fq:case Pq:h=Ahe;break;case Rq:h=Uhe;break;case"scroll":h=khe;break;case"wheel":h=Whe;break;case"copy":case"cut":case"paste":h=Mhe;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=xN}var g=(t&4)!==0,m=!g&&e==="scroll",y=g?d!==null?d+"Capture":null:d;g=[];for(var v=u,b;v!==null;){b=v;var x=b.stateNode;if(b.tag===5&&x!==null&&(b=x,y!==null&&(x=jy(v,y),x!=null&&g.push(Gy(v,x,b)))),m)break;v=v.return}0<g.length&&(d=new h(d,p,null,n,c),f.push({event:d,listeners:g}))}}if(!(t&7)){e:{if(d=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",d&&n!==G5&&(p=n.relatedTarget||n.fromElement)&&(kf(p)||p[Al]))break e;if((h||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,h?(p=n.relatedTarget||n.toElement,h=u,p=p?kf(p):null,p!==null&&(m=Rd(p),p!==m||p.tag!==5&&p.tag!==6)&&(p=null)):(h=null,p=u),h!==p)){if(g=vN,x="onMouseLeave",y="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(g=xN,x="onPointerLeave",y="onPointerEnter",v="pointer"),m=h==null?d:Oh(h),b=p==null?d:Oh(p),d=new g(x,v+"leave",h,n,c),d.target=m,d.relatedTarget=b,x=null,kf(c)===u&&(g=new g(y,v+"enter",p,n,c),g.target=b,g.relatedTarget=m,x=g),m=x,h&&p)t:{for(g=h,y=p,v=0,b=g;b;b=ah(b))v++;for(b=0,x=y;x;x=ah(x))b++;for(;0<v-b;)g=ah(g),v--;for(;0<b-v;)y=ah(y),b--;for(;v--;){if(g===y||y!==null&&g===y.alternate)break t;g=ah(g),y=ah(y)}g=null}else g=null;h!==null&&FN(f,d,h,g,!1),p!==null&&m!==null&&FN(f,m,p,g,!0)}}e:{if(d=u?Oh(u):window,h=d.nodeName&&d.nodeName.toLowerCase(),h==="select"||h==="input"&&d.type==="file")var w=Qhe;else if(kN(d))if(_q)w=tpe;else{w=Jhe;var k=Zhe}else(h=d.nodeName)&&h.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(w=epe);if(w&&(w=w(e,u))){Cq(f,w,n,c);break e}k&&k(e,d,u),e==="focusout"&&(k=d._wrapperState)&&k.controlled&&d.type==="number"&&U5(d,"number",d.value)}switch(k=u?Oh(u):window,e){case"focusin":(kN(k)||k.contentEditable==="true")&&(Rh=k,eT=u,ty=null);break;case"focusout":ty=eT=Rh=null;break;case"mousedown":tT=!0;break;case"contextmenu":case"mouseup":case"dragend":tT=!1,AN(f,n,c);break;case"selectionchange":if(ipe)break;case"keydown":case"keyup":AN(f,n,c)}var S;if(wF)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Ph?Sq(e,n)&&(C="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(wq&&n.locale!=="ko"&&(Ph||C!=="onCompositionStart"?C==="onCompositionEnd"&&Ph&&(S=xq()):(Tu=c,vF="value"in Tu?Tu.value:Tu.textContent,Ph=!0)),k=Q2(u,C),0<k.length&&(C=new bN(C,e,null,n,c),f.push({event:C,listeners:k}),S?C.data=S:(S=kq(n),S!==null&&(C.data=S)))),(S=qhe?Ghe(e,n):Yhe(e,n))&&(u=Q2(u,"onBeforeInput"),0<u.length&&(c=new bN("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:u}),c.data=S))}Oq(f,t)})}function Gy(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Q2(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=jy(e,n),o!=null&&r.unshift(Gy(e,o,i)),o=jy(e,t),o!=null&&r.push(Gy(e,o,i))),e=e.return}return r}function ah(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function FN(e,t,n,r,i){for(var o=t._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=jy(n,o),l!=null&&s.unshift(Gy(n,l,a))):i||(l=jy(n,o),l!=null&&s.push(Gy(n,l,a)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var lpe=/\r\n?/g,upe=/\u0000|\uFFFD/g;function PN(e){return(typeof e=="string"?e:""+e).replace(lpe,`
`).replace(upe,"")}function $b(e,t,n){if(t=PN(t),PN(e)!==t&&n)throw Error(ee(425))}function Z2(){}var nT=null,rT=null;function iT(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var oT=typeof setTimeout=="function"?setTimeout:void 0,cpe=typeof clearTimeout=="function"?clearTimeout:void 0,RN=typeof Promise=="function"?Promise:void 0,fpe=typeof queueMicrotask=="function"?queueMicrotask:typeof RN<"u"?function(e){return RN.resolve(null).then(e).catch(dpe)}:oT;function dpe(e){setTimeout(function(){throw e})}function n$(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Vy(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Vy(t)}function Wu(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function DN(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var qg=Math.random().toString(36).slice(2),na="__reactFiber$"+qg,Yy="__reactProps$"+qg,Al="__reactContainer$"+qg,sT="__reactEvents$"+qg,hpe="__reactListeners$"+qg,ppe="__reactHandles$"+qg;function kf(e){var t=e[na];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Al]||n[na]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=DN(e);e!==null;){if(n=e[na])return n;e=DN(e)}return t}e=n,n=e.parentNode}return null}function Q1(e){return e=e[na]||e[Al],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Oh(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ee(33))}function Vk(e){return e[Yy]||null}var aT=[],Nh=-1;function Cc(e){return{current:e}}function Rt(e){0>Nh||(e.current=aT[Nh],aT[Nh]=null,Nh--)}function Ct(e,t){Nh++,aT[Nh]=e.current,e.current=t}var rc={},$r=Cc(rc),di=Cc(!1),nd=rc;function Vp(e,t){var n=e.type.contextTypes;if(!n)return rc;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function hi(e){return e=e.childContextTypes,e!=null}function J2(){Rt(di),Rt($r)}function ON(e,t,n){if($r.current!==rc)throw Error(ee(168));Ct($r,t),Ct(di,n)}function Iq(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(ee(108,Zde(e)||"Unknown",i));return qt({},n,r)}function ew(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||rc,nd=$r.current,Ct($r,e),Ct(di,di.current),!0}function NN(e,t,n){var r=e.stateNode;if(!r)throw Error(ee(169));n?(e=Iq(e,t,nd),r.__reactInternalMemoizedMergedChildContext=e,Rt(di),Rt($r),Ct($r,e)):Rt(di),Ct(di,n)}var Za=null,Wk=!1,r$=!1;function Lq(e){Za===null?Za=[e]:Za.push(e)}function gpe(e){Wk=!0,Lq(e)}function _c(){if(!r$&&Za!==null){r$=!0;var e=0,t=ht;try{var n=Za;for(ht=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Za=null,Wk=!1}catch(i){throw Za!==null&&(Za=Za.slice(e+1)),uq(pF,_c),i}finally{ht=t,r$=!1}}return null}var Ih=[],Lh=0,tw=null,nw=0,yo=[],vo=0,rd=null,ol=1,sl="";function of(e,t){Ih[Lh++]=nw,Ih[Lh++]=tw,tw=e,nw=t}function zq(e,t,n){yo[vo++]=ol,yo[vo++]=sl,yo[vo++]=rd,rd=e;var r=ol;e=sl;var i=32-ms(r)-1;r&=~(1<<i),n+=1;var o=32-ms(t)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,ol=1<<32-ms(t)+i|n<<i|r,sl=o+e}else ol=1<<o|n<<i|r,sl=e}function kF(e){e.return!==null&&(of(e,1),zq(e,1,0))}function CF(e){for(;e===tw;)tw=Ih[--Lh],Ih[Lh]=null,nw=Ih[--Lh],Ih[Lh]=null;for(;e===rd;)rd=yo[--vo],yo[vo]=null,sl=yo[--vo],yo[vo]=null,ol=yo[--vo],yo[vo]=null}var Vi=null,Ni=null,It=!1,ns=null;function jq(e,t){var n=wo(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function IN(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Vi=e,Ni=Wu(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Vi=e,Ni=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=rd!==null?{id:ol,overflow:sl}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=wo(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Vi=e,Ni=null,!0):!1;default:return!1}}function lT(e){return(e.mode&1)!==0&&(e.flags&128)===0}function uT(e){if(It){var t=Ni;if(t){var n=t;if(!IN(e,t)){if(lT(e))throw Error(ee(418));t=Wu(n.nextSibling);var r=Vi;t&&IN(e,t)?jq(r,n):(e.flags=e.flags&-4097|2,It=!1,Vi=e)}}else{if(lT(e))throw Error(ee(418));e.flags=e.flags&-4097|2,It=!1,Vi=e}}}function LN(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Vi=e}function Ab(e){if(e!==Vi)return!1;if(!It)return LN(e),It=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!iT(e.type,e.memoizedProps)),t&&(t=Ni)){if(lT(e))throw Bq(),Error(ee(418));for(;t;)jq(e,t),t=Wu(t.nextSibling)}if(LN(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ee(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ni=Wu(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ni=null}}else Ni=Vi?Wu(e.stateNode.nextSibling):null;return!0}function Bq(){for(var e=Ni;e;)e=Wu(e.nextSibling)}function Wp(){Ni=Vi=null,It=!1}function _F(e){ns===null?ns=[e]:ns.push(e)}var mpe=jl.ReactCurrentBatchConfig;function Fm(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ee(309));var r=n.stateNode}if(!r)throw Error(ee(147,e));var i=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(s){var a=i.refs;s===null?delete a[o]:a[o]=s},t._stringRef=o,t)}if(typeof e!="string")throw Error(ee(284));if(!n._owner)throw Error(ee(290,e))}return e}function Tb(e,t){throw e=Object.prototype.toString.call(t),Error(ee(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function zN(e){var t=e._init;return t(e._payload)}function Uq(e){function t(y,v){if(e){var b=y.deletions;b===null?(y.deletions=[v],y.flags|=16):b.push(v)}}function n(y,v){if(!e)return null;for(;v!==null;)t(y,v),v=v.sibling;return null}function r(y,v){for(y=new Map;v!==null;)v.key!==null?y.set(v.key,v):y.set(v.index,v),v=v.sibling;return y}function i(y,v){return y=Yu(y,v),y.index=0,y.sibling=null,y}function o(y,v,b){return y.index=b,e?(b=y.alternate,b!==null?(b=b.index,b<v?(y.flags|=2,v):b):(y.flags|=2,v)):(y.flags|=1048576,v)}function s(y){return e&&y.alternate===null&&(y.flags|=2),y}function a(y,v,b,x){return v===null||v.tag!==6?(v=c$(b,y.mode,x),v.return=y,v):(v=i(v,b),v.return=y,v)}function l(y,v,b,x){var w=b.type;return w===Fh?c(y,v,b.props.children,x,b.key):v!==null&&(v.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===uu&&zN(w)===v.type)?(x=i(v,b.props),x.ref=Fm(y,v,b),x.return=y,x):(x=e2(b.type,b.key,b.props,null,y.mode,x),x.ref=Fm(y,v,b),x.return=y,x)}function u(y,v,b,x){return v===null||v.tag!==4||v.stateNode.containerInfo!==b.containerInfo||v.stateNode.implementation!==b.implementation?(v=f$(b,y.mode,x),v.return=y,v):(v=i(v,b.children||[]),v.return=y,v)}function c(y,v,b,x,w){return v===null||v.tag!==7?(v=jf(b,y.mode,x,w),v.return=y,v):(v=i(v,b),v.return=y,v)}function f(y,v,b){if(typeof v=="string"&&v!==""||typeof v=="number")return v=c$(""+v,y.mode,b),v.return=y,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case vb:return b=e2(v.type,v.key,v.props,null,y.mode,b),b.ref=Fm(y,null,v),b.return=y,b;case Mh:return v=f$(v,y.mode,b),v.return=y,v;case uu:var x=v._init;return f(y,x(v._payload),b)}if(g0(v)||Em(v))return v=jf(v,y.mode,b,null),v.return=y,v;Tb(y,v)}return null}function d(y,v,b,x){var w=v!==null?v.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return w!==null?null:a(y,v,""+b,x);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case vb:return b.key===w?l(y,v,b,x):null;case Mh:return b.key===w?u(y,v,b,x):null;case uu:return w=b._init,d(y,v,w(b._payload),x)}if(g0(b)||Em(b))return w!==null?null:c(y,v,b,x,null);Tb(y,b)}return null}function h(y,v,b,x,w){if(typeof x=="string"&&x!==""||typeof x=="number")return y=y.get(b)||null,a(v,y,""+x,w);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case vb:return y=y.get(x.key===null?b:x.key)||null,l(v,y,x,w);case Mh:return y=y.get(x.key===null?b:x.key)||null,u(v,y,x,w);case uu:var k=x._init;return h(y,v,b,k(x._payload),w)}if(g0(x)||Em(x))return y=y.get(b)||null,c(v,y,x,w,null);Tb(v,x)}return null}function p(y,v,b,x){for(var w=null,k=null,S=v,C=v=0,_=null;S!==null&&C<b.length;C++){S.index>C?(_=S,S=null):_=S.sibling;var $=d(y,S,b[C],x);if($===null){S===null&&(S=_);break}e&&S&&$.alternate===null&&t(y,S),v=o($,v,C),k===null?w=$:k.sibling=$,k=$,S=_}if(C===b.length)return n(y,S),It&&of(y,C),w;if(S===null){for(;C<b.length;C++)S=f(y,b[C],x),S!==null&&(v=o(S,v,C),k===null?w=S:k.sibling=S,k=S);return It&&of(y,C),w}for(S=r(y,S);C<b.length;C++)_=h(S,y,C,b[C],x),_!==null&&(e&&_.alternate!==null&&S.delete(_.key===null?C:_.key),v=o(_,v,C),k===null?w=_:k.sibling=_,k=_);return e&&S.forEach(function(A){return t(y,A)}),It&&of(y,C),w}function g(y,v,b,x){var w=Em(b);if(typeof w!="function")throw Error(ee(150));if(b=w.call(b),b==null)throw Error(ee(151));for(var k=w=null,S=v,C=v=0,_=null,$=b.next();S!==null&&!$.done;C++,$=b.next()){S.index>C?(_=S,S=null):_=S.sibling;var A=d(y,S,$.value,x);if(A===null){S===null&&(S=_);break}e&&S&&A.alternate===null&&t(y,S),v=o(A,v,C),k===null?w=A:k.sibling=A,k=A,S=_}if($.done)return n(y,S),It&&of(y,C),w;if(S===null){for(;!$.done;C++,$=b.next())$=f(y,$.value,x),$!==null&&(v=o($,v,C),k===null?w=$:k.sibling=$,k=$);return It&&of(y,C),w}for(S=r(y,S);!$.done;C++,$=b.next())$=h(S,y,C,$.value,x),$!==null&&(e&&$.alternate!==null&&S.delete($.key===null?C:$.key),v=o($,v,C),k===null?w=$:k.sibling=$,k=$);return e&&S.forEach(function(O){return t(y,O)}),It&&of(y,C),w}function m(y,v,b,x){if(typeof b=="object"&&b!==null&&b.type===Fh&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case vb:e:{for(var w=b.key,k=v;k!==null;){if(k.key===w){if(w=b.type,w===Fh){if(k.tag===7){n(y,k.sibling),v=i(k,b.props.children),v.return=y,y=v;break e}}else if(k.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===uu&&zN(w)===k.type){n(y,k.sibling),v=i(k,b.props),v.ref=Fm(y,k,b),v.return=y,y=v;break e}n(y,k);break}else t(y,k);k=k.sibling}b.type===Fh?(v=jf(b.props.children,y.mode,x,b.key),v.return=y,y=v):(x=e2(b.type,b.key,b.props,null,y.mode,x),x.ref=Fm(y,v,b),x.return=y,y=x)}return s(y);case Mh:e:{for(k=b.key;v!==null;){if(v.key===k)if(v.tag===4&&v.stateNode.containerInfo===b.containerInfo&&v.stateNode.implementation===b.implementation){n(y,v.sibling),v=i(v,b.children||[]),v.return=y,y=v;break e}else{n(y,v);break}else t(y,v);v=v.sibling}v=f$(b,y.mode,x),v.return=y,y=v}return s(y);case uu:return k=b._init,m(y,v,k(b._payload),x)}if(g0(b))return p(y,v,b,x);if(Em(b))return g(y,v,b,x);Tb(y,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,v!==null&&v.tag===6?(n(y,v.sibling),v=i(v,b),v.return=y,y=v):(n(y,v),v=c$(b,y.mode,x),v.return=y,y=v),s(y)):n(y,v)}return m}var Hp=Uq(!0),Vq=Uq(!1),rw=Cc(null),iw=null,zh=null,EF=null;function $F(){EF=zh=iw=null}function AF(e){var t=rw.current;Rt(rw),e._currentValue=t}function cT(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function cp(e,t){iw=e,EF=zh=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ci=!0),e.firstContext=null)}function Fo(e){var t=e._currentValue;if(EF!==e)if(e={context:e,memoizedValue:t,next:null},zh===null){if(iw===null)throw Error(ee(308));zh=e,iw.dependencies={lanes:0,firstContext:e}}else zh=zh.next=e;return t}var Cf=null;function TF(e){Cf===null?Cf=[e]:Cf.push(e)}function Wq(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,TF(t)):(n.next=i.next,i.next=n),t.interleaved=n,Tl(e,r)}function Tl(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var cu=!1;function MF(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Hq(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function pl(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Hu(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Ke&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Tl(e,n)}return i=r.interleaved,i===null?(t.next=t,TF(r)):(t.next=i.next,i.next=t),r.interleaved=t,Tl(e,n)}function Yx(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,gF(e,n)}}function jN(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ow(e,t,n,r){var i=e.updateQueue;cu=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,s===null?o=u:s.next=u,s=l;var c=e.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==s&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(o!==null){var f=i.baseState;s=0,c=u=l=null,a=o;do{var d=a.lane,h=a.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,g=a;switch(d=t,h=n,g.tag){case 1:if(p=g.payload,typeof p=="function"){f=p.call(h,f,d);break e}f=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=g.payload,d=typeof p=="function"?p.call(h,f,d):p,d==null)break e;f=qt({},f,d);break e;case 2:cu=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,d=i.effects,d===null?i.effects=[a]:d.push(a))}else h={eventTime:h,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=h,l=f):c=c.next=h,s|=d;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;d=a,a=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(c===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);od|=s,e.lanes=s,e.memoizedState=f}}function BN(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(ee(191,i));i.call(r)}}}var Z1={},ha=Cc(Z1),Xy=Cc(Z1),Ky=Cc(Z1);function _f(e){if(e===Z1)throw Error(ee(174));return e}function FF(e,t){switch(Ct(Ky,t),Ct(Xy,e),Ct(ha,Z1),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:W5(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=W5(t,e)}Rt(ha),Ct(ha,t)}function qp(){Rt(ha),Rt(Xy),Rt(Ky)}function qq(e){_f(Ky.current);var t=_f(ha.current),n=W5(t,e.type);t!==n&&(Ct(Xy,e),Ct(ha,n))}function PF(e){Xy.current===e&&(Rt(ha),Rt(Xy))}var Bt=Cc(0);function sw(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var i$=[];function RF(){for(var e=0;e<i$.length;e++)i$[e]._workInProgressVersionPrimary=null;i$.length=0}var Xx=jl.ReactCurrentDispatcher,o$=jl.ReactCurrentBatchConfig,id=0,Ht=null,yn=null,Tn=null,aw=!1,ny=!1,Qy=0,ype=0;function ar(){throw Error(ee(321))}function DF(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!xs(e[n],t[n]))return!1;return!0}function OF(e,t,n,r,i,o){if(id=o,Ht=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Xx.current=e===null||e.memoizedState===null?wpe:Spe,e=n(r,i),ny){o=0;do{if(ny=!1,Qy=0,25<=o)throw Error(ee(301));o+=1,Tn=yn=null,t.updateQueue=null,Xx.current=kpe,e=n(r,i)}while(ny)}if(Xx.current=lw,t=yn!==null&&yn.next!==null,id=0,Tn=yn=Ht=null,aw=!1,t)throw Error(ee(300));return e}function NF(){var e=Qy!==0;return Qy=0,e}function Hs(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tn===null?Ht.memoizedState=Tn=e:Tn=Tn.next=e,Tn}function Po(){if(yn===null){var e=Ht.alternate;e=e!==null?e.memoizedState:null}else e=yn.next;var t=Tn===null?Ht.memoizedState:Tn.next;if(t!==null)Tn=t,yn=e;else{if(e===null)throw Error(ee(310));yn=e,e={memoizedState:yn.memoizedState,baseState:yn.baseState,baseQueue:yn.baseQueue,queue:yn.queue,next:null},Tn===null?Ht.memoizedState=Tn=e:Tn=Tn.next=e}return Tn}function Zy(e,t){return typeof t=="function"?t(e):t}function s$(e){var t=Po(),n=t.queue;if(n===null)throw Error(ee(311));n.lastRenderedReducer=e;var r=yn,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,u=o;do{var c=u.lane;if((id&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=f,s=r):l=l.next=f,Ht.lanes|=c,od|=c}u=u.next}while(u!==null&&u!==o);l===null?s=r:l.next=a,xs(r,t.memoizedState)||(ci=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do o=i.lane,Ht.lanes|=o,od|=o,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function a$(e){var t=Po(),n=t.queue;if(n===null)throw Error(ee(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=e(o,s.action),s=s.next;while(s!==i);xs(o,t.memoizedState)||(ci=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Gq(){}function Yq(e,t){var n=Ht,r=Po(),i=t(),o=!xs(r.memoizedState,i);if(o&&(r.memoizedState=i,ci=!0),r=r.queue,IF(Qq.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||Tn!==null&&Tn.memoizedState.tag&1){if(n.flags|=2048,Jy(9,Kq.bind(null,n,r,i,t),void 0,null),Nn===null)throw Error(ee(349));id&30||Xq(n,t,i)}return i}function Xq(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ht.updateQueue,t===null?(t={lastEffect:null,stores:null},Ht.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Kq(e,t,n,r){t.value=n,t.getSnapshot=r,Zq(t)&&Jq(e)}function Qq(e,t,n){return n(function(){Zq(t)&&Jq(e)})}function Zq(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!xs(e,n)}catch{return!0}}function Jq(e){var t=Tl(e,1);t!==null&&ys(t,e,1,-1)}function UN(e){var t=Hs();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Zy,lastRenderedState:e},t.queue=e,e=e.dispatch=xpe.bind(null,Ht,e),[t.memoizedState,e]}function Jy(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Ht.updateQueue,t===null?(t={lastEffect:null,stores:null},Ht.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function eG(){return Po().memoizedState}function Kx(e,t,n,r){var i=Hs();Ht.flags|=e,i.memoizedState=Jy(1|t,n,void 0,r===void 0?null:r)}function Hk(e,t,n,r){var i=Po();r=r===void 0?null:r;var o=void 0;if(yn!==null){var s=yn.memoizedState;if(o=s.destroy,r!==null&&DF(r,s.deps)){i.memoizedState=Jy(t,n,o,r);return}}Ht.flags|=e,i.memoizedState=Jy(1|t,n,o,r)}function VN(e,t){return Kx(8390656,8,e,t)}function IF(e,t){return Hk(2048,8,e,t)}function tG(e,t){return Hk(4,2,e,t)}function nG(e,t){return Hk(4,4,e,t)}function rG(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function iG(e,t,n){return n=n!=null?n.concat([e]):null,Hk(4,4,rG.bind(null,t,e),n)}function LF(){}function oG(e,t){var n=Po();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&DF(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function sG(e,t){var n=Po();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&DF(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function aG(e,t,n){return id&21?(xs(n,t)||(n=dq(),Ht.lanes|=n,od|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ci=!0),e.memoizedState=n)}function vpe(e,t){var n=ht;ht=n!==0&&4>n?n:4,e(!0);var r=o$.transition;o$.transition={};try{e(!1),t()}finally{ht=n,o$.transition=r}}function lG(){return Po().memoizedState}function bpe(e,t,n){var r=Gu(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},uG(e))cG(t,n);else if(n=Wq(e,t,n,r),n!==null){var i=qr();ys(n,e,r,i),fG(n,t,r)}}function xpe(e,t,n){var r=Gu(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(uG(e))cG(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var s=t.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,xs(a,s)){var l=t.interleaved;l===null?(i.next=i,TF(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=Wq(e,t,i,r),n!==null&&(i=qr(),ys(n,e,r,i),fG(n,t,r))}}function uG(e){var t=e.alternate;return e===Ht||t!==null&&t===Ht}function cG(e,t){ny=aw=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function fG(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,gF(e,n)}}var lw={readContext:Fo,useCallback:ar,useContext:ar,useEffect:ar,useImperativeHandle:ar,useInsertionEffect:ar,useLayoutEffect:ar,useMemo:ar,useReducer:ar,useRef:ar,useState:ar,useDebugValue:ar,useDeferredValue:ar,useTransition:ar,useMutableSource:ar,useSyncExternalStore:ar,useId:ar,unstable_isNewReconciler:!1},wpe={readContext:Fo,useCallback:function(e,t){return Hs().memoizedState=[e,t===void 0?null:t],e},useContext:Fo,useEffect:VN,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Kx(4194308,4,rG.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Kx(4194308,4,e,t)},useInsertionEffect:function(e,t){return Kx(4,2,e,t)},useMemo:function(e,t){var n=Hs();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Hs();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=bpe.bind(null,Ht,e),[r.memoizedState,e]},useRef:function(e){var t=Hs();return e={current:e},t.memoizedState=e},useState:UN,useDebugValue:LF,useDeferredValue:function(e){return Hs().memoizedState=e},useTransition:function(){var e=UN(!1),t=e[0];return e=vpe.bind(null,e[1]),Hs().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Ht,i=Hs();if(It){if(n===void 0)throw Error(ee(407));n=n()}else{if(n=t(),Nn===null)throw Error(ee(349));id&30||Xq(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,VN(Qq.bind(null,r,o,e),[e]),r.flags|=2048,Jy(9,Kq.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Hs(),t=Nn.identifierPrefix;if(It){var n=sl,r=ol;n=(r&~(1<<32-ms(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Qy++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=ype++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Spe={readContext:Fo,useCallback:oG,useContext:Fo,useEffect:IF,useImperativeHandle:iG,useInsertionEffect:tG,useLayoutEffect:nG,useMemo:sG,useReducer:s$,useRef:eG,useState:function(){return s$(Zy)},useDebugValue:LF,useDeferredValue:function(e){var t=Po();return aG(t,yn.memoizedState,e)},useTransition:function(){var e=s$(Zy)[0],t=Po().memoizedState;return[e,t]},useMutableSource:Gq,useSyncExternalStore:Yq,useId:lG,unstable_isNewReconciler:!1},kpe={readContext:Fo,useCallback:oG,useContext:Fo,useEffect:IF,useImperativeHandle:iG,useInsertionEffect:tG,useLayoutEffect:nG,useMemo:sG,useReducer:a$,useRef:eG,useState:function(){return a$(Zy)},useDebugValue:LF,useDeferredValue:function(e){var t=Po();return yn===null?t.memoizedState=e:aG(t,yn.memoizedState,e)},useTransition:function(){var e=a$(Zy)[0],t=Po().memoizedState;return[e,t]},useMutableSource:Gq,useSyncExternalStore:Yq,useId:lG,unstable_isNewReconciler:!1};function Ko(e,t){if(e&&e.defaultProps){t=qt({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function fT(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:qt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var qk={isMounted:function(e){return(e=e._reactInternals)?Rd(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=qr(),i=Gu(e),o=pl(r,i);o.payload=t,n!=null&&(o.callback=n),t=Hu(e,o,i),t!==null&&(ys(t,e,i,r),Yx(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=qr(),i=Gu(e),o=pl(r,i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=Hu(e,o,i),t!==null&&(ys(t,e,i,r),Yx(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=qr(),r=Gu(e),i=pl(n,r);i.tag=2,t!=null&&(i.callback=t),t=Hu(e,i,r),t!==null&&(ys(t,e,r,n),Yx(t,e,r))}};function WN(e,t,n,r,i,o,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,s):t.prototype&&t.prototype.isPureReactComponent?!Hy(n,r)||!Hy(i,o):!0}function dG(e,t,n){var r=!1,i=rc,o=t.contextType;return typeof o=="object"&&o!==null?o=Fo(o):(i=hi(t)?nd:$r.current,r=t.contextTypes,o=(r=r!=null)?Vp(e,i):rc),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=qk,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function HN(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&qk.enqueueReplaceState(t,t.state,null)}function dT(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},MF(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=Fo(o):(o=hi(t)?nd:$r.current,i.context=Vp(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(fT(e,t,o,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&qk.enqueueReplaceState(i,i.state,null),ow(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Gp(e,t){try{var n="",r=t;do n+=Qde(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function l$(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function hT(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Cpe=typeof WeakMap=="function"?WeakMap:Map;function hG(e,t,n){n=pl(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){cw||(cw=!0,kT=r),hT(e,t)},n}function pG(e,t,n){n=pl(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){hT(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){hT(e,t),typeof r!="function"&&(qu===null?qu=new Set([this]):qu.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function qN(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Cpe;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Lpe.bind(null,e,t,n),t.then(e,e))}function GN(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function YN(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=pl(-1,1),t.tag=2,Hu(n,t,1))),n.lanes|=1),e)}var _pe=jl.ReactCurrentOwner,ci=!1;function Nr(e,t,n,r){t.child=e===null?Vq(t,null,n,r):Hp(t,e.child,n,r)}function XN(e,t,n,r,i){n=n.render;var o=t.ref;return cp(t,i),r=OF(e,t,n,r,o,i),n=NF(),e!==null&&!ci?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ml(e,t,i)):(It&&n&&kF(t),t.flags|=1,Nr(e,t,r,i),t.child)}function KN(e,t,n,r,i){if(e===null){var o=n.type;return typeof o=="function"&&!qF(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,gG(e,t,o,r,i)):(e=e2(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:Hy,n(s,r)&&e.ref===t.ref)return Ml(e,t,i)}return t.flags|=1,e=Yu(o,r),e.ref=t.ref,e.return=t,t.child=e}function gG(e,t,n,r,i){if(e!==null){var o=e.memoizedProps;if(Hy(o,r)&&e.ref===t.ref)if(ci=!1,t.pendingProps=r=o,(e.lanes&i)!==0)e.flags&131072&&(ci=!0);else return t.lanes=e.lanes,Ml(e,t,i)}return pT(e,t,n,r,i)}function mG(e,t,n){var r=t.pendingProps,i=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ct(Bh,Fi),Fi|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ct(Bh,Fi),Fi|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Ct(Bh,Fi),Fi|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,Ct(Bh,Fi),Fi|=r;return Nr(e,t,i,n),t.child}function yG(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function pT(e,t,n,r,i){var o=hi(n)?nd:$r.current;return o=Vp(t,o),cp(t,i),n=OF(e,t,n,r,o,i),r=NF(),e!==null&&!ci?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ml(e,t,i)):(It&&r&&kF(t),t.flags|=1,Nr(e,t,n,i),t.child)}function QN(e,t,n,r,i){if(hi(n)){var o=!0;ew(t)}else o=!1;if(cp(t,i),t.stateNode===null)Qx(e,t),dG(t,n,r),dT(t,n,r,i),r=!0;else if(e===null){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=Fo(u):(u=hi(n)?nd:$r.current,u=Vp(t,u));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==u)&&HN(t,s,r,u),cu=!1;var d=t.memoizedState;s.state=d,ow(t,r,s,i),l=t.memoizedState,a!==r||d!==l||di.current||cu?(typeof c=="function"&&(fT(t,n,c,r),l=t.memoizedState),(a=cu||WN(t,n,a,r,d,l,u))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=u,r=a):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,Hq(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:Ko(t.type,a),s.props=u,f=t.pendingProps,d=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=Fo(l):(l=hi(n)?nd:$r.current,l=Vp(t,l));var h=n.getDerivedStateFromProps;(c=typeof h=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==f||d!==l)&&HN(t,s,r,l),cu=!1,d=t.memoizedState,s.state=d,ow(t,r,s,i);var p=t.memoizedState;a!==f||d!==p||di.current||cu?(typeof h=="function"&&(fT(t,n,h,r),p=t.memoizedState),(u=cu||WN(t,n,u,r,d,p,l)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,p,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,p,l)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),s.props=r,s.state=p,s.context=l,r=u):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return gT(e,t,n,r,o,i)}function gT(e,t,n,r,i,o){yG(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return i&&NN(t,n,!1),Ml(e,t,o);r=t.stateNode,_pe.current=t;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=Hp(t,e.child,null,o),t.child=Hp(t,null,a,o)):Nr(e,t,a,o),t.memoizedState=r.state,i&&NN(t,n,!0),t.child}function vG(e){var t=e.stateNode;t.pendingContext?ON(e,t.pendingContext,t.pendingContext!==t.context):t.context&&ON(e,t.context,!1),FF(e,t.containerInfo)}function ZN(e,t,n,r,i){return Wp(),_F(i),t.flags|=256,Nr(e,t,n,r),t.child}var mT={dehydrated:null,treeContext:null,retryLane:0};function yT(e){return{baseLanes:e,cachePool:null,transitions:null}}function bG(e,t,n){var r=t.pendingProps,i=Bt.current,o=!1,s=(t.flags&128)!==0,a;if((a=s)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Ct(Bt,i&1),e===null)return uT(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,o?(r=t.mode,o=t.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=Xk(s,r,0,null),e=jf(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=yT(n),t.memoizedState=mT,e):zF(t,s));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return Epe(e,t,s,r,a,i,n);if(o){o=r.fallback,s=t.mode,i=e.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=Yu(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=Yu(a,o):(o=jf(o,s,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,s=e.child.memoizedState,s=s===null?yT(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=e.childLanes&~n,t.memoizedState=mT,r}return o=e.child,e=o.sibling,r=Yu(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function zF(e,t){return t=Xk({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Mb(e,t,n,r){return r!==null&&_F(r),Hp(t,e.child,null,n),e=zF(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Epe(e,t,n,r,i,o,s){if(n)return t.flags&256?(t.flags&=-257,r=l$(Error(ee(422))),Mb(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Xk({mode:"visible",children:r.children},i,0,null),o=jf(o,i,s,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&Hp(t,e.child,null,s),t.child.memoizedState=yT(s),t.memoizedState=mT,o);if(!(t.mode&1))return Mb(e,t,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(ee(419)),r=l$(o,r,void 0),Mb(e,t,s,r)}if(a=(s&e.childLanes)!==0,ci||a){if(r=Nn,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Tl(e,i),ys(r,e,i,-1))}return HF(),r=l$(Error(ee(421))),Mb(e,t,s,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=zpe.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,Ni=Wu(i.nextSibling),Vi=t,It=!0,ns=null,e!==null&&(yo[vo++]=ol,yo[vo++]=sl,yo[vo++]=rd,ol=e.id,sl=e.overflow,rd=t),t=zF(t,r.children),t.flags|=4096,t)}function JN(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),cT(e.return,t,n)}function u$(e,t,n,r,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function xG(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Nr(e,t,r.children,n),r=Bt.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&JN(e,n,t);else if(e.tag===19)JN(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ct(Bt,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&sw(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),u$(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&sw(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}u$(t,!0,n,null,o);break;case"together":u$(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Qx(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ml(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),od|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ee(153));if(t.child!==null){for(e=t.child,n=Yu(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Yu(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function $pe(e,t,n){switch(t.tag){case 3:vG(t),Wp();break;case 5:qq(t);break;case 1:hi(t.type)&&ew(t);break;case 4:FF(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ct(rw,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Ct(Bt,Bt.current&1),t.flags|=128,null):n&t.child.childLanes?bG(e,t,n):(Ct(Bt,Bt.current&1),e=Ml(e,t,n),e!==null?e.sibling:null);Ct(Bt,Bt.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return xG(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ct(Bt,Bt.current),r)break;return null;case 22:case 23:return t.lanes=0,mG(e,t,n)}return Ml(e,t,n)}var wG,vT,SG,kG;wG=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};vT=function(){};SG=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,_f(ha.current);var o=null;switch(n){case"input":i=j5(e,i),r=j5(e,r),o=[];break;case"select":i=qt({},i,{value:void 0}),r=qt({},r,{value:void 0}),o=[];break;case"textarea":i=V5(e,i),r=V5(e,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Z2)}H5(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ly.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ly.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&At("scroll",e),o||a===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};kG=function(e,t,n,r){n!==r&&(t.flags|=4)};function Pm(e,t){if(!It)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function lr(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ape(e,t,n){var r=t.pendingProps;switch(CF(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lr(t),null;case 1:return hi(t.type)&&J2(),lr(t),null;case 3:return r=t.stateNode,qp(),Rt(di),Rt($r),RF(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Ab(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ns!==null&&(ET(ns),ns=null))),vT(e,t),lr(t),null;case 5:PF(t);var i=_f(Ky.current);if(n=t.type,e!==null&&t.stateNode!=null)SG(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(ee(166));return lr(t),null}if(e=_f(ha.current),Ab(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[na]=t,r[Yy]=o,e=(t.mode&1)!==0,n){case"dialog":At("cancel",r),At("close",r);break;case"iframe":case"object":case"embed":At("load",r);break;case"video":case"audio":for(i=0;i<y0.length;i++)At(y0[i],r);break;case"source":At("error",r);break;case"img":case"image":case"link":At("error",r),At("load",r);break;case"details":At("toggle",r);break;case"input":lN(r,o),At("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},At("invalid",r);break;case"textarea":cN(r,o),At("invalid",r)}H5(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&$b(r.textContent,a,e),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&$b(r.textContent,a,e),i=["children",""+a]):Ly.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&At("scroll",r)}switch(n){case"input":bb(r),uN(r,o,!0);break;case"textarea":bb(r),fN(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Z2)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=QH(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[na]=t,e[Yy]=r,wG(e,t,!1,!1),t.stateNode=e;e:{switch(s=q5(n,r),n){case"dialog":At("cancel",e),At("close",e),i=r;break;case"iframe":case"object":case"embed":At("load",e),i=r;break;case"video":case"audio":for(i=0;i<y0.length;i++)At(y0[i],e);i=r;break;case"source":At("error",e),i=r;break;case"img":case"image":case"link":At("error",e),At("load",e),i=r;break;case"details":At("toggle",e),i=r;break;case"input":lN(e,r),i=j5(e,r),At("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=qt({},r,{value:void 0}),At("invalid",e);break;case"textarea":cN(e,r),i=V5(e,r),At("invalid",e);break;default:i=r}H5(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?eq(e,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&ZH(e,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&zy(e,l):typeof l=="number"&&zy(e,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Ly.hasOwnProperty(o)?l!=null&&o==="onScroll"&&At("scroll",e):l!=null&&uF(e,o,l,s))}switch(n){case"input":bb(e),uN(e,r,!1);break;case"textarea":bb(e),fN(e);break;case"option":r.value!=null&&e.setAttribute("value",""+nc(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?sp(e,!!r.multiple,o,!1):r.defaultValue!=null&&sp(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Z2)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return lr(t),null;case 6:if(e&&t.stateNode!=null)kG(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(ee(166));if(n=_f(Ky.current),_f(ha.current),Ab(t)){if(r=t.stateNode,n=t.memoizedProps,r[na]=t,(o=r.nodeValue!==n)&&(e=Vi,e!==null))switch(e.tag){case 3:$b(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&$b(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[na]=t,t.stateNode=r}return lr(t),null;case 13:if(Rt(Bt),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(It&&Ni!==null&&t.mode&1&&!(t.flags&128))Bq(),Wp(),t.flags|=98560,o=!1;else if(o=Ab(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(ee(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(ee(317));o[na]=t}else Wp(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;lr(t),o=!1}else ns!==null&&(ET(ns),ns=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Bt.current&1?xn===0&&(xn=3):HF())),t.updateQueue!==null&&(t.flags|=4),lr(t),null);case 4:return qp(),vT(e,t),e===null&&qy(t.stateNode.containerInfo),lr(t),null;case 10:return AF(t.type._context),lr(t),null;case 17:return hi(t.type)&&J2(),lr(t),null;case 19:if(Rt(Bt),o=t.memoizedState,o===null)return lr(t),null;if(r=(t.flags&128)!==0,s=o.rendering,s===null)if(r)Pm(o,!1);else{if(xn!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=sw(e),s!==null){for(t.flags|=128,Pm(o,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ct(Bt,Bt.current&1|2),t.child}e=e.sibling}o.tail!==null&&on()>Yp&&(t.flags|=128,r=!0,Pm(o,!1),t.lanes=4194304)}else{if(!r)if(e=sw(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Pm(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!It)return lr(t),null}else 2*on()-o.renderingStartTime>Yp&&n!==1073741824&&(t.flags|=128,r=!0,Pm(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(n=o.last,n!==null?n.sibling=s:t.child=s,o.last=s)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=on(),t.sibling=null,n=Bt.current,Ct(Bt,r?n&1|2:n&1),t):(lr(t),null);case 22:case 23:return WF(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Fi&1073741824&&(lr(t),t.subtreeFlags&6&&(t.flags|=8192)):lr(t),null;case 24:return null;case 25:return null}throw Error(ee(156,t.tag))}function Tpe(e,t){switch(CF(t),t.tag){case 1:return hi(t.type)&&J2(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return qp(),Rt(di),Rt($r),RF(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return PF(t),null;case 13:if(Rt(Bt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ee(340));Wp()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Rt(Bt),null;case 4:return qp(),null;case 10:return AF(t.type._context),null;case 22:case 23:return WF(),null;case 24:return null;default:return null}}var Fb=!1,br=!1,Mpe=typeof WeakSet=="function"?WeakSet:Set,de=null;function jh(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Zt(e,t,r)}else n.current=null}function bT(e,t,n){try{n()}catch(r){Zt(e,t,r)}}var eI=!1;function Fpe(e,t){if(nT=X2,e=Aq(),SF(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,u=0,c=0,f=e,d=null;t:for(;;){for(var h;f!==n||i!==0&&f.nodeType!==3||(a=s+i),f!==o||r!==0&&f.nodeType!==3||(l=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(h=f.firstChild)!==null;)d=f,f=h;for(;;){if(f===e)break t;if(d===n&&++u===i&&(a=s),d===o&&++c===r&&(l=s),(h=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=h}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(rT={focusedElem:e,selectionRange:n},X2=!1,de=t;de!==null;)if(t=de,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,de=e;else for(;de!==null;){t=de;try{var p=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var g=p.memoizedProps,m=p.memoizedState,y=t.stateNode,v=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:Ko(t.type,g),m);y.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ee(163))}}catch(x){Zt(t,t.return,x)}if(e=t.sibling,e!==null){e.return=t.return,de=e;break}de=t.return}return p=eI,eI=!1,p}function ry(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&bT(t,n,o)}i=i.next}while(i!==r)}}function Gk(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function xT(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function CG(e){var t=e.alternate;t!==null&&(e.alternate=null,CG(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[na],delete t[Yy],delete t[sT],delete t[hpe],delete t[ppe])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function _G(e){return e.tag===5||e.tag===3||e.tag===4}function tI(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||_G(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function wT(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Z2));else if(r!==4&&(e=e.child,e!==null))for(wT(e,t,n),e=e.sibling;e!==null;)wT(e,t,n),e=e.sibling}function ST(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(ST(e,t,n),e=e.sibling;e!==null;)ST(e,t,n),e=e.sibling}var Wn=null,Jo=!1;function Jl(e,t,n){for(n=n.child;n!==null;)EG(e,t,n),n=n.sibling}function EG(e,t,n){if(da&&typeof da.onCommitFiberUnmount=="function")try{da.onCommitFiberUnmount(zk,n)}catch{}switch(n.tag){case 5:br||jh(n,t);case 6:var r=Wn,i=Jo;Wn=null,Jl(e,t,n),Wn=r,Jo=i,Wn!==null&&(Jo?(e=Wn,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Wn.removeChild(n.stateNode));break;case 18:Wn!==null&&(Jo?(e=Wn,n=n.stateNode,e.nodeType===8?n$(e.parentNode,n):e.nodeType===1&&n$(e,n),Vy(e)):n$(Wn,n.stateNode));break;case 4:r=Wn,i=Jo,Wn=n.stateNode.containerInfo,Jo=!0,Jl(e,t,n),Wn=r,Jo=i;break;case 0:case 11:case 14:case 15:if(!br&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&bT(n,t,s),i=i.next}while(i!==r)}Jl(e,t,n);break;case 1:if(!br&&(jh(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Zt(n,t,a)}Jl(e,t,n);break;case 21:Jl(e,t,n);break;case 22:n.mode&1?(br=(r=br)||n.memoizedState!==null,Jl(e,t,n),br=r):Jl(e,t,n);break;default:Jl(e,t,n)}}function nI(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Mpe),t.forEach(function(r){var i=jpe.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Wo(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,a=s;e:for(;a!==null;){switch(a.tag){case 5:Wn=a.stateNode,Jo=!1;break e;case 3:Wn=a.stateNode.containerInfo,Jo=!0;break e;case 4:Wn=a.stateNode.containerInfo,Jo=!0;break e}a=a.return}if(Wn===null)throw Error(ee(160));EG(o,s,i),Wn=null,Jo=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Zt(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)$G(t,e),t=t.sibling}function $G(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Wo(t,e),Ls(e),r&4){try{ry(3,e,e.return),Gk(3,e)}catch(g){Zt(e,e.return,g)}try{ry(5,e,e.return)}catch(g){Zt(e,e.return,g)}}break;case 1:Wo(t,e),Ls(e),r&512&&n!==null&&jh(n,n.return);break;case 5:if(Wo(t,e),Ls(e),r&512&&n!==null&&jh(n,n.return),e.flags&32){var i=e.stateNode;try{zy(i,"")}catch(g){Zt(e,e.return,g)}}if(r&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,s=n!==null?n.memoizedProps:o,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&XH(i,o),q5(a,s);var u=q5(a,o);for(s=0;s<l.length;s+=2){var c=l[s],f=l[s+1];c==="style"?eq(i,f):c==="dangerouslySetInnerHTML"?ZH(i,f):c==="children"?zy(i,f):uF(i,c,f,u)}switch(a){case"input":B5(i,o);break;case"textarea":KH(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var h=o.value;h!=null?sp(i,!!o.multiple,h,!1):d!==!!o.multiple&&(o.defaultValue!=null?sp(i,!!o.multiple,o.defaultValue,!0):sp(i,!!o.multiple,o.multiple?[]:"",!1))}i[Yy]=o}catch(g){Zt(e,e.return,g)}}break;case 6:if(Wo(t,e),Ls(e),r&4){if(e.stateNode===null)throw Error(ee(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(g){Zt(e,e.return,g)}}break;case 3:if(Wo(t,e),Ls(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Vy(t.containerInfo)}catch(g){Zt(e,e.return,g)}break;case 4:Wo(t,e),Ls(e);break;case 13:Wo(t,e),Ls(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(UF=on())),r&4&&nI(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(br=(u=br)||c,Wo(t,e),br=u):Wo(t,e),Ls(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(de=e,c=e.child;c!==null;){for(f=de=c;de!==null;){switch(d=de,h=d.child,d.tag){case 0:case 11:case 14:case 15:ry(4,d,d.return);break;case 1:jh(d,d.return);var p=d.stateNode;if(typeof p.componentWillUnmount=="function"){r=d,n=d.return;try{t=r,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(g){Zt(r,n,g)}}break;case 5:jh(d,d.return);break;case 22:if(d.memoizedState!==null){iI(f);continue}}h!==null?(h.return=d,de=h):iI(f)}c=c.sibling}e:for(c=null,f=e;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=JH("display",s))}catch(g){Zt(e,e.return,g)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(g){Zt(e,e.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Wo(t,e),Ls(e),r&4&&nI(e);break;case 21:break;default:Wo(t,e),Ls(e)}}function Ls(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(_G(n)){var r=n;break e}n=n.return}throw Error(ee(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(zy(i,""),r.flags&=-33);var o=tI(e);ST(e,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=tI(e);wT(e,a,s);break;default:throw Error(ee(161))}}catch(l){Zt(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Ppe(e,t,n){de=e,AG(e)}function AG(e,t,n){for(var r=(e.mode&1)!==0;de!==null;){var i=de,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||Fb;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||br;a=Fb;var u=br;if(Fb=s,(br=l)&&!u)for(de=i;de!==null;)s=de,l=s.child,s.tag===22&&s.memoizedState!==null?oI(i):l!==null?(l.return=s,de=l):oI(i);for(;o!==null;)de=o,AG(o),o=o.sibling;de=i,Fb=a,br=u}rI(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,de=o):rI(e)}}function rI(e){for(;de!==null;){var t=de;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:br||Gk(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!br)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Ko(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&BN(t,o,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}BN(t,s,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&Vy(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ee(163))}br||t.flags&512&&xT(t)}catch(d){Zt(t,t.return,d)}}if(t===e){de=null;break}if(n=t.sibling,n!==null){n.return=t.return,de=n;break}de=t.return}}function iI(e){for(;de!==null;){var t=de;if(t===e){de=null;break}var n=t.sibling;if(n!==null){n.return=t.return,de=n;break}de=t.return}}function oI(e){for(;de!==null;){var t=de;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Gk(4,t)}catch(l){Zt(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){Zt(t,i,l)}}var o=t.return;try{xT(t)}catch(l){Zt(t,o,l)}break;case 5:var s=t.return;try{xT(t)}catch(l){Zt(t,s,l)}}}catch(l){Zt(t,t.return,l)}if(t===e){de=null;break}var a=t.sibling;if(a!==null){a.return=t.return,de=a;break}de=t.return}}var Rpe=Math.ceil,uw=jl.ReactCurrentDispatcher,jF=jl.ReactCurrentOwner,Ao=jl.ReactCurrentBatchConfig,Ke=0,Nn=null,pn=null,Jn=0,Fi=0,Bh=Cc(0),xn=0,e1=null,od=0,Yk=0,BF=0,iy=null,si=null,UF=0,Yp=1/0,Ka=null,cw=!1,kT=null,qu=null,Pb=!1,Mu=null,fw=0,oy=0,CT=null,Zx=-1,Jx=0;function qr(){return Ke&6?on():Zx!==-1?Zx:Zx=on()}function Gu(e){return e.mode&1?Ke&2&&Jn!==0?Jn&-Jn:mpe.transition!==null?(Jx===0&&(Jx=dq()),Jx):(e=ht,e!==0||(e=window.event,e=e===void 0?16:bq(e.type)),e):1}function ys(e,t,n,r){if(50<oy)throw oy=0,CT=null,Error(ee(185));X1(e,n,r),(!(Ke&2)||e!==Nn)&&(e===Nn&&(!(Ke&2)&&(Yk|=n),xn===4&&bu(e,Jn)),pi(e,r),n===1&&Ke===0&&!(t.mode&1)&&(Yp=on()+500,Wk&&_c()))}function pi(e,t){var n=e.callbackNode;mhe(e,t);var r=Y2(e,e===Nn?Jn:0);if(r===0)n!==null&&pN(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&pN(n),t===1)e.tag===0?gpe(sI.bind(null,e)):Lq(sI.bind(null,e)),fpe(function(){!(Ke&6)&&_c()}),n=null;else{switch(hq(r)){case 1:n=pF;break;case 4:n=cq;break;case 16:n=G2;break;case 536870912:n=fq;break;default:n=G2}n=NG(n,TG.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function TG(e,t){if(Zx=-1,Jx=0,Ke&6)throw Error(ee(327));var n=e.callbackNode;if(fp()&&e.callbackNode!==n)return null;var r=Y2(e,e===Nn?Jn:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=dw(e,r);else{t=r;var i=Ke;Ke|=2;var o=FG();(Nn!==e||Jn!==t)&&(Ka=null,Yp=on()+500,zf(e,t));do try{Npe();break}catch(a){MG(e,a)}while(!0);$F(),uw.current=o,Ke=i,pn!==null?t=0:(Nn=null,Jn=0,t=xn)}if(t!==0){if(t===2&&(i=Q5(e),i!==0&&(r=i,t=_T(e,i))),t===1)throw n=e1,zf(e,0),bu(e,r),pi(e,on()),n;if(t===6)bu(e,r);else{if(i=e.current.alternate,!(r&30)&&!Dpe(i)&&(t=dw(e,r),t===2&&(o=Q5(e),o!==0&&(r=o,t=_T(e,o))),t===1))throw n=e1,zf(e,0),bu(e,r),pi(e,on()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(ee(345));case 2:sf(e,si,Ka);break;case 3:if(bu(e,r),(r&130023424)===r&&(t=UF+500-on(),10<t)){if(Y2(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){qr(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=oT(sf.bind(null,e,si,Ka),t);break}sf(e,si,Ka);break;case 4:if(bu(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-ms(r);o=1<<s,s=t[s],s>i&&(i=s),r&=~o}if(r=i,r=on()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Rpe(r/1960))-r,10<r){e.timeoutHandle=oT(sf.bind(null,e,si,Ka),r);break}sf(e,si,Ka);break;case 5:sf(e,si,Ka);break;default:throw Error(ee(329))}}}return pi(e,on()),e.callbackNode===n?TG.bind(null,e):null}function _T(e,t){var n=iy;return e.current.memoizedState.isDehydrated&&(zf(e,t).flags|=256),e=dw(e,t),e!==2&&(t=si,si=n,t!==null&&ET(t)),e}function ET(e){si===null?si=e:si.push.apply(si,e)}function Dpe(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!xs(o(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function bu(e,t){for(t&=~BF,t&=~Yk,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ms(t),r=1<<n;e[n]=-1,t&=~r}}function sI(e){if(Ke&6)throw Error(ee(327));fp();var t=Y2(e,0);if(!(t&1))return pi(e,on()),null;var n=dw(e,t);if(e.tag!==0&&n===2){var r=Q5(e);r!==0&&(t=r,n=_T(e,r))}if(n===1)throw n=e1,zf(e,0),bu(e,t),pi(e,on()),n;if(n===6)throw Error(ee(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,sf(e,si,Ka),pi(e,on()),null}function VF(e,t){var n=Ke;Ke|=1;try{return e(t)}finally{Ke=n,Ke===0&&(Yp=on()+500,Wk&&_c())}}function sd(e){Mu!==null&&Mu.tag===0&&!(Ke&6)&&fp();var t=Ke;Ke|=1;var n=Ao.transition,r=ht;try{if(Ao.transition=null,ht=1,e)return e()}finally{ht=r,Ao.transition=n,Ke=t,!(Ke&6)&&_c()}}function WF(){Fi=Bh.current,Rt(Bh)}function zf(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,cpe(n)),pn!==null)for(n=pn.return;n!==null;){var r=n;switch(CF(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&J2();break;case 3:qp(),Rt(di),Rt($r),RF();break;case 5:PF(r);break;case 4:qp();break;case 13:Rt(Bt);break;case 19:Rt(Bt);break;case 10:AF(r.type._context);break;case 22:case 23:WF()}n=n.return}if(Nn=e,pn=e=Yu(e.current,null),Jn=Fi=t,xn=0,e1=null,BF=Yk=od=0,si=iy=null,Cf!==null){for(t=0;t<Cf.length;t++)if(n=Cf[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}Cf=null}return e}function MG(e,t){do{var n=pn;try{if($F(),Xx.current=lw,aw){for(var r=Ht.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}aw=!1}if(id=0,Tn=yn=Ht=null,ny=!1,Qy=0,jF.current=null,n===null||n.return===null){xn=1,e1=t,pn=null;break}e:{var o=e,s=n.return,a=n,l=t;if(t=Jn,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var h=GN(s);if(h!==null){h.flags&=-257,YN(h,s,a,o,t),h.mode&1&&qN(o,u,t),t=h,l=u;var p=t.updateQueue;if(p===null){var g=new Set;g.add(l),t.updateQueue=g}else p.add(l);break e}else{if(!(t&1)){qN(o,u,t),HF();break e}l=Error(ee(426))}}else if(It&&a.mode&1){var m=GN(s);if(m!==null){!(m.flags&65536)&&(m.flags|=256),YN(m,s,a,o,t),_F(Gp(l,a));break e}}o=l=Gp(l,a),xn!==4&&(xn=2),iy===null?iy=[o]:iy.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var y=hG(o,l,t);jN(o,y);break e;case 1:a=l;var v=o.type,b=o.stateNode;if(!(o.flags&128)&&(typeof v.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(qu===null||!qu.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t;var x=pG(o,a,t);jN(o,x);break e}}o=o.return}while(o!==null)}RG(n)}catch(w){t=w,pn===n&&n!==null&&(pn=n=n.return);continue}break}while(!0)}function FG(){var e=uw.current;return uw.current=lw,e===null?lw:e}function HF(){(xn===0||xn===3||xn===2)&&(xn=4),Nn===null||!(od&268435455)&&!(Yk&268435455)||bu(Nn,Jn)}function dw(e,t){var n=Ke;Ke|=2;var r=FG();(Nn!==e||Jn!==t)&&(Ka=null,zf(e,t));do try{Ope();break}catch(i){MG(e,i)}while(!0);if($F(),Ke=n,uw.current=r,pn!==null)throw Error(ee(261));return Nn=null,Jn=0,xn}function Ope(){for(;pn!==null;)PG(pn)}function Npe(){for(;pn!==null&&!ahe();)PG(pn)}function PG(e){var t=OG(e.alternate,e,Fi);e.memoizedProps=e.pendingProps,t===null?RG(e):pn=t,jF.current=null}function RG(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Tpe(n,t),n!==null){n.flags&=32767,pn=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{xn=6,pn=null;return}}else if(n=Ape(n,t,Fi),n!==null){pn=n;return}if(t=t.sibling,t!==null){pn=t;return}pn=t=e}while(t!==null);xn===0&&(xn=5)}function sf(e,t,n){var r=ht,i=Ao.transition;try{Ao.transition=null,ht=1,Ipe(e,t,n,r)}finally{Ao.transition=i,ht=r}return null}function Ipe(e,t,n,r){do fp();while(Mu!==null);if(Ke&6)throw Error(ee(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(ee(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(yhe(e,o),e===Nn&&(pn=Nn=null,Jn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Pb||(Pb=!0,NG(G2,function(){return fp(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Ao.transition,Ao.transition=null;var s=ht;ht=1;var a=Ke;Ke|=4,jF.current=null,Fpe(e,n),$G(n,e),rpe(rT),X2=!!nT,rT=nT=null,e.current=n,Ppe(n),lhe(),Ke=a,ht=s,Ao.transition=o}else e.current=n;if(Pb&&(Pb=!1,Mu=e,fw=i),o=e.pendingLanes,o===0&&(qu=null),fhe(n.stateNode),pi(e,on()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(cw)throw cw=!1,e=kT,kT=null,e;return fw&1&&e.tag!==0&&fp(),o=e.pendingLanes,o&1?e===CT?oy++:(oy=0,CT=e):oy=0,_c(),null}function fp(){if(Mu!==null){var e=hq(fw),t=Ao.transition,n=ht;try{if(Ao.transition=null,ht=16>e?16:e,Mu===null)var r=!1;else{if(e=Mu,Mu=null,fw=0,Ke&6)throw Error(ee(331));var i=Ke;for(Ke|=4,de=e.current;de!==null;){var o=de,s=o.child;if(de.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(de=u;de!==null;){var c=de;switch(c.tag){case 0:case 11:case 15:ry(8,c,o)}var f=c.child;if(f!==null)f.return=c,de=f;else for(;de!==null;){c=de;var d=c.sibling,h=c.return;if(CG(c),c===u){de=null;break}if(d!==null){d.return=h,de=d;break}de=h}}}var p=o.alternate;if(p!==null){var g=p.child;if(g!==null){p.child=null;do{var m=g.sibling;g.sibling=null,g=m}while(g!==null)}}de=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,de=s;else e:for(;de!==null;){if(o=de,o.flags&2048)switch(o.tag){case 0:case 11:case 15:ry(9,o,o.return)}var y=o.sibling;if(y!==null){y.return=o.return,de=y;break e}de=o.return}}var v=e.current;for(de=v;de!==null;){s=de;var b=s.child;if(s.subtreeFlags&2064&&b!==null)b.return=s,de=b;else e:for(s=v;de!==null;){if(a=de,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Gk(9,a)}}catch(w){Zt(a,a.return,w)}if(a===s){de=null;break e}var x=a.sibling;if(x!==null){x.return=a.return,de=x;break e}de=a.return}}if(Ke=i,_c(),da&&typeof da.onPostCommitFiberRoot=="function")try{da.onPostCommitFiberRoot(zk,e)}catch{}r=!0}return r}finally{ht=n,Ao.transition=t}}return!1}function aI(e,t,n){t=Gp(n,t),t=hG(e,t,1),e=Hu(e,t,1),t=qr(),e!==null&&(X1(e,1,t),pi(e,t))}function Zt(e,t,n){if(e.tag===3)aI(e,e,n);else for(;t!==null;){if(t.tag===3){aI(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(qu===null||!qu.has(r))){e=Gp(n,e),e=pG(t,e,1),t=Hu(t,e,1),e=qr(),t!==null&&(X1(t,1,e),pi(t,e));break}}t=t.return}}function Lpe(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=qr(),e.pingedLanes|=e.suspendedLanes&n,Nn===e&&(Jn&n)===n&&(xn===4||xn===3&&(Jn&130023424)===Jn&&500>on()-UF?zf(e,0):BF|=n),pi(e,t)}function DG(e,t){t===0&&(e.mode&1?(t=Sb,Sb<<=1,!(Sb&130023424)&&(Sb=4194304)):t=1);var n=qr();e=Tl(e,t),e!==null&&(X1(e,t,n),pi(e,n))}function zpe(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),DG(e,n)}function jpe(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(ee(314))}r!==null&&r.delete(t),DG(e,n)}var OG;OG=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||di.current)ci=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return ci=!1,$pe(e,t,n);ci=!!(e.flags&131072)}else ci=!1,It&&t.flags&1048576&&zq(t,nw,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Qx(e,t),e=t.pendingProps;var i=Vp(t,$r.current);cp(t,n),i=OF(null,t,r,e,i,n);var o=NF();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,hi(r)?(o=!0,ew(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,MF(t),i.updater=qk,t.stateNode=i,i._reactInternals=t,dT(t,r,e,n),t=gT(null,t,r,!0,o,n)):(t.tag=0,It&&o&&kF(t),Nr(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Qx(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=Upe(r),e=Ko(r,e),i){case 0:t=pT(null,t,r,e,n);break e;case 1:t=QN(null,t,r,e,n);break e;case 11:t=XN(null,t,r,e,n);break e;case 14:t=KN(null,t,r,Ko(r.type,e),n);break e}throw Error(ee(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ko(r,i),pT(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ko(r,i),QN(e,t,r,i,n);case 3:e:{if(vG(t),e===null)throw Error(ee(387));r=t.pendingProps,o=t.memoizedState,i=o.element,Hq(e,t),ow(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=Gp(Error(ee(423)),t),t=ZN(e,t,r,n,i);break e}else if(r!==i){i=Gp(Error(ee(424)),t),t=ZN(e,t,r,n,i);break e}else for(Ni=Wu(t.stateNode.containerInfo.firstChild),Vi=t,It=!0,ns=null,n=Vq(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Wp(),r===i){t=Ml(e,t,n);break e}Nr(e,t,r,n)}t=t.child}return t;case 5:return qq(t),e===null&&uT(t),r=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,s=i.children,iT(r,i)?s=null:o!==null&&iT(r,o)&&(t.flags|=32),yG(e,t),Nr(e,t,s,n),t.child;case 6:return e===null&&uT(t),null;case 13:return bG(e,t,n);case 4:return FF(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Hp(t,null,r,n):Nr(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ko(r,i),XN(e,t,r,i,n);case 7:return Nr(e,t,t.pendingProps,n),t.child;case 8:return Nr(e,t,t.pendingProps.children,n),t.child;case 12:return Nr(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,Ct(rw,r._currentValue),r._currentValue=s,o!==null)if(xs(o.value,s)){if(o.children===i.children&&!di.current){t=Ml(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=pl(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),cT(o.return,n,t),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===t.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(ee(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),cT(s,n,t),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===t){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}Nr(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,cp(t,n),i=Fo(i),r=r(i),t.flags|=1,Nr(e,t,r,n),t.child;case 14:return r=t.type,i=Ko(r,t.pendingProps),i=Ko(r.type,i),KN(e,t,r,i,n);case 15:return gG(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ko(r,i),Qx(e,t),t.tag=1,hi(r)?(e=!0,ew(t)):e=!1,cp(t,n),dG(t,r,i),dT(t,r,i,n),gT(null,t,r,!0,e,n);case 19:return xG(e,t,n);case 22:return mG(e,t,n)}throw Error(ee(156,t.tag))};function NG(e,t){return uq(e,t)}function Bpe(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wo(e,t,n,r){return new Bpe(e,t,n,r)}function qF(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Upe(e){if(typeof e=="function")return qF(e)?1:0;if(e!=null){if(e=e.$$typeof,e===fF)return 11;if(e===dF)return 14}return 2}function Yu(e,t){var n=e.alternate;return n===null?(n=wo(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function e2(e,t,n,r,i,o){var s=2;if(r=e,typeof e=="function")qF(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case Fh:return jf(n.children,i,o,t);case cF:s=8,i|=8;break;case N5:return e=wo(12,n,t,i|2),e.elementType=N5,e.lanes=o,e;case I5:return e=wo(13,n,t,i),e.elementType=I5,e.lanes=o,e;case L5:return e=wo(19,n,t,i),e.elementType=L5,e.lanes=o,e;case qH:return Xk(n,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case WH:s=10;break e;case HH:s=9;break e;case fF:s=11;break e;case dF:s=14;break e;case uu:s=16,r=null;break e}throw Error(ee(130,e==null?e:typeof e,""))}return t=wo(s,n,t,i),t.elementType=e,t.type=r,t.lanes=o,t}function jf(e,t,n,r){return e=wo(7,e,r,t),e.lanes=n,e}function Xk(e,t,n,r){return e=wo(22,e,r,t),e.elementType=qH,e.lanes=n,e.stateNode={isHidden:!1},e}function c$(e,t,n){return e=wo(6,e,null,t),e.lanes=n,e}function f$(e,t,n){return t=wo(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Vpe(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=HE(0),this.expirationTimes=HE(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=HE(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function GF(e,t,n,r,i,o,s,a,l){return e=new Vpe(e,t,n,a,l),t===1?(t=1,o===!0&&(t|=8)):t=0,o=wo(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},MF(o),e}function Wpe(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Mh,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function IG(e){if(!e)return rc;e=e._reactInternals;e:{if(Rd(e)!==e||e.tag!==1)throw Error(ee(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(hi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ee(171))}if(e.tag===1){var n=e.type;if(hi(n))return Iq(e,n,t)}return t}function LG(e,t,n,r,i,o,s,a,l){return e=GF(n,r,!0,e,i,o,s,a,l),e.context=IG(null),n=e.current,r=qr(),i=Gu(n),o=pl(r,i),o.callback=t??null,Hu(n,o,i),e.current.lanes=i,X1(e,i,r),pi(e,r),e}function Kk(e,t,n,r){var i=t.current,o=qr(),s=Gu(i);return n=IG(n),t.context===null?t.context=n:t.pendingContext=n,t=pl(o,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Hu(i,t,s),e!==null&&(ys(e,i,s,o),Yx(e,i,s)),s}function hw(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function lI(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function YF(e,t){lI(e,t),(e=e.alternate)&&lI(e,t)}function Hpe(){return null}var zG=typeof reportError=="function"?reportError:function(e){console.error(e)};function XF(e){this._internalRoot=e}Qk.prototype.render=XF.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ee(409));Kk(e,t,null,null)};Qk.prototype.unmount=XF.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;sd(function(){Kk(null,e,null,null)}),t[Al]=null}};function Qk(e){this._internalRoot=e}Qk.prototype.unstable_scheduleHydration=function(e){if(e){var t=mq();e={blockedOn:null,target:e,priority:t};for(var n=0;n<vu.length&&t!==0&&t<vu[n].priority;n++);vu.splice(n,0,e),n===0&&vq(e)}};function KF(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Zk(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function uI(){}function qpe(e,t,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=hw(s);o.call(u)}}var s=LG(t,r,e,0,null,!1,!1,"",uI);return e._reactRootContainer=s,e[Al]=s.current,qy(e.nodeType===8?e.parentNode:e),sd(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=hw(l);a.call(u)}}var l=GF(e,0,!1,null,null,!1,!1,"",uI);return e._reactRootContainer=l,e[Al]=l.current,qy(e.nodeType===8?e.parentNode:e),sd(function(){Kk(t,l,n,r)}),l}function Jk(e,t,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=hw(s);a.call(l)}}Kk(t,s,e,i)}else s=qpe(n,t,e,i,r);return hw(s)}pq=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=m0(t.pendingLanes);n!==0&&(gF(t,n|1),pi(t,on()),!(Ke&6)&&(Yp=on()+500,_c()))}break;case 13:sd(function(){var r=Tl(e,1);if(r!==null){var i=qr();ys(r,e,1,i)}}),YF(e,1)}};mF=function(e){if(e.tag===13){var t=Tl(e,134217728);if(t!==null){var n=qr();ys(t,e,134217728,n)}YF(e,134217728)}};gq=function(e){if(e.tag===13){var t=Gu(e),n=Tl(e,t);if(n!==null){var r=qr();ys(n,e,t,r)}YF(e,t)}};mq=function(){return ht};yq=function(e,t){var n=ht;try{return ht=e,t()}finally{ht=n}};Y5=function(e,t,n){switch(t){case"input":if(B5(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Vk(r);if(!i)throw Error(ee(90));YH(r),B5(r,i)}}}break;case"textarea":KH(e,n);break;case"select":t=n.value,t!=null&&sp(e,!!n.multiple,t,!1)}};rq=VF;iq=sd;var Gpe={usingClientEntryPoint:!1,Events:[Q1,Oh,Vk,tq,nq,VF]},Rm={findFiberByHostInstance:kf,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Ype={bundleType:Rm.bundleType,version:Rm.version,rendererPackageName:Rm.rendererPackageName,rendererConfig:Rm.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:jl.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=aq(e),e===null?null:e.stateNode},findFiberByHostInstance:Rm.findFiberByHostInstance||Hpe,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rb=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rb.isDisabled&&Rb.supportsFiber)try{zk=Rb.inject(Ype),da=Rb}catch{}}ro.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Gpe;ro.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!KF(t))throw Error(ee(200));return Wpe(e,t,null,n)};ro.createRoot=function(e,t){if(!KF(e))throw Error(ee(299));var n=!1,r="",i=zG;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=GF(e,1,!1,null,null,n,!1,r,i),e[Al]=t.current,qy(e.nodeType===8?e.parentNode:e),new XF(t)};ro.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ee(188)):(e=Object.keys(e).join(","),Error(ee(268,e)));return e=aq(t),e=e===null?null:e.stateNode,e};ro.flushSync=function(e){return sd(e)};ro.hydrate=function(e,t,n){if(!Zk(t))throw Error(ee(200));return Jk(null,e,t,!0,n)};ro.hydrateRoot=function(e,t,n){if(!KF(e))throw Error(ee(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=zG;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=LG(t,null,e,1,n??null,i,!1,o,s),e[Al]=t.current,qy(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Qk(t)};ro.render=function(e,t,n){if(!Zk(t))throw Error(ee(200));return Jk(null,e,t,!1,n)};ro.unmountComponentAtNode=function(e){if(!Zk(e))throw Error(ee(40));return e._reactRootContainer?(sd(function(){Jk(null,null,e,!1,function(){e._reactRootContainer=null,e[Al]=null})}),!0):!1};ro.unstable_batchedUpdates=VF;ro.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Zk(n))throw Error(ee(200));if(e==null||e._reactInternals===void 0)throw Error(ee(38));return Jk(e,t,n,!1,r)};ro.version="18.3.1-next-f1338f8080-20240426";function jG(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(jG)}catch(e){console.error(e)}}jG(),jH.exports=ro;var QF=jH.exports,[BG,Xpe]=jn({strict:!1,name:"PortalContext"}),ZF="chakra-portal",Kpe=".chakra-portal",Qpe=e=>E.jsx("div",{className:"chakra-portal-zIndex",style:{position:"absolute",zIndex:e.zIndex,top:0,left:0,right:0},children:e.children}),Zpe=e=>{const{appendToParentPortal:t,children:n}=e,[r,i]=T.useState(null),o=T.useRef(null),[,s]=T.useState({});T.useEffect(()=>s({}),[]);const a=Xpe(),l=Wde();Bp(()=>{if(!r)return;const c=r.ownerDocument,f=t?a??c.body:c.body;if(!f)return;o.current=c.createElement("div"),o.current.className=ZF,f.appendChild(o.current),s({});const d=o.current;return()=>{f.contains(d)&&f.removeChild(d)}},[r]);const u=l!=null&&l.zIndex?E.jsx(Qpe,{zIndex:l==null?void 0:l.zIndex,children:n}):n;return o.current?QF.createPortal(E.jsx(BG,{value:o.current,children:u}),o.current):E.jsx("span",{ref:c=>{c&&i(c)}})},Jpe=e=>{const{children:t,containerRef:n,appendToParentPortal:r}=e,i=n.current,o=i??(typeof window<"u"?document.body:void 0),s=T.useMemo(()=>{const l=i==null?void 0:i.ownerDocument.createElement("div");return l&&(l.className=ZF),l},[i]),[,a]=T.useState({});return Bp(()=>a({}),[]),Bp(()=>{if(!(!s||!o))return o.appendChild(s),()=>{o.removeChild(s)}},[s,o]),o&&s?QF.createPortal(E.jsx(BG,{value:r?s:null,children:t}),s):null};function J1(e){const t={appendToParentPortal:!0,...e},{containerRef:n,...r}=t;return n?E.jsx(Jpe,{containerRef:n,...r}):E.jsx(Zpe,{...r})}J1.className=ZF;J1.selector=Kpe;J1.displayName="Portal";function JF(){const e=T.useContext(Iy);if(!e)throw Error("useTheme: `theme` is undefined. Seems you forgot to wrap your app in `<ChakraProvider />` or `<ThemeProvider />`");return e}var eP=T.createContext({});eP.displayName="ColorModeContext";function Gg(){const e=T.useContext(eP);if(e===void 0)throw new Error("useColorMode must be used within a ColorModeProvider");return e}function Us(e,t){const{colorMode:n}=Gg();return n==="dark"?t:e}var Db={light:"chakra-ui-light",dark:"chakra-ui-dark"};function ege(e={}){const{preventTransition:t=!0}=e,n={setDataset:r=>{const i=t?n.preventTransition():void 0;document.documentElement.dataset.theme=r,document.documentElement.style.colorScheme=r,i==null||i()},setClassName(r){document.body.classList.add(r?Db.dark:Db.light),document.body.classList.remove(r?Db.light:Db.dark)},query(){return window.matchMedia("(prefers-color-scheme: dark)")},getSystemTheme(r){var i;return((i=n.query().matches)!=null?i:r==="dark")?"dark":"light"},addListener(r){const i=n.query(),o=s=>{r(s.matches?"dark":"light")};return typeof i.addListener=="function"?i.addListener(o):i.addEventListener("change",o),()=>{typeof i.removeListener=="function"?i.removeListener(o):i.removeEventListener("change",o)}},preventTransition(){const r=document.createElement("style");return r.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(r),()=>{window.getComputedStyle(document.body),requestAnimationFrame(()=>{requestAnimationFrame(()=>{document.head.removeChild(r)})})}}};return n}var tge="chakra-ui-color-mode";function nge(e){return{ssr:!1,type:"localStorage",get(t){if(!(globalThis!=null&&globalThis.document))return t;let n;try{n=localStorage.getItem(e)||t}catch{}return n||t},set(t){try{localStorage.setItem(e,t)}catch{}}}}var rge=nge(tge),cI=()=>{};function fI(e,t){return e.type==="cookie"&&e.ssr?e.get(t):t}function UG(e){const{value:t,children:n,options:{useSystemColorMode:r,initialColorMode:i,disableTransitionOnChange:o}={},colorModeManager:s=rge}=e,a=i==="dark"?"dark":"light",[l,u]=T.useState(()=>fI(s,a)),[c,f]=T.useState(()=>fI(s)),{getSystemTheme:d,setClassName:h,setDataset:p,addListener:g}=T.useMemo(()=>ege({preventTransition:o}),[o]),m=i==="system"&&!l?c:l,y=T.useCallback(x=>{const w=x==="system"?d():x;u(w),h(w==="dark"),p(w),s.set(w)},[s,d,h,p]);Bp(()=>{i==="system"&&f(d())},[]),T.useEffect(()=>{const x=s.get();if(x){y(x);return}if(i==="system"){y("system");return}y(a)},[s,a,i,y]);const v=T.useCallback(()=>{y(m==="dark"?"light":"dark")},[m,y]);T.useEffect(()=>{if(r)return g(y)},[r,g,y]);const b=T.useMemo(()=>({colorMode:t??m,toggleColorMode:t?cI:v,setColorMode:t?cI:y,forced:t!==void 0}),[m,v,y,t]);return E.jsx(eP.Provider,{value:b,children:n})}UG.displayName="ColorModeProvider";function VG(){const e=Gg(),t=JF();return{...e,theme:t}}var Xe=(...e)=>e.filter(Boolean).join(" ");function ige(){return!1}function gi(e){const t=typeof e;return e!=null&&(t==="object"||t==="function")&&!Array.isArray(e)}var ev=e=>{const{condition:t,message:n}=e;t&&ige()&&console.warn(n)};function aa(e,...t){return oge(e)?e(...t):e}var oge=e=>typeof e=="function",po=e=>e?"":void 0,d$=e=>e?!0:void 0;function Xu(...e){return function(n){e.some(r=>(r==null||r(n),n==null?void 0:n.defaultPrevented))}}var pw={exports:{}};pw.exports;(function(e,t){var n=200,r="__lodash_hash_undefined__",i=800,o=16,s=9007199254740991,a="[object Arguments]",l="[object Array]",u="[object AsyncFunction]",c="[object Boolean]",f="[object Date]",d="[object Error]",h="[object Function]",p="[object GeneratorFunction]",g="[object Map]",m="[object Number]",y="[object Null]",v="[object Object]",b="[object Proxy]",x="[object RegExp]",w="[object Set]",k="[object String]",S="[object Undefined]",C="[object WeakMap]",_="[object ArrayBuffer]",$="[object DataView]",A="[object Float32Array]",O="[object Float64Array]",M="[object Int8Array]",P="[object Int16Array]",R="[object Int32Array]",D="[object Uint8Array]",I="[object Uint8ClampedArray]",N="[object Uint16Array]",B="[object Uint32Array]",Y=/[\\^$.*+?()[\]{}|]/g,W=/^\[object .+?Constructor\]$/,oe=/^(?:0|[1-9]\d*)$/,re={};re[A]=re[O]=re[M]=re[P]=re[R]=re[D]=re[I]=re[N]=re[B]=!0,re[a]=re[l]=re[_]=re[c]=re[$]=re[f]=re[d]=re[h]=re[g]=re[m]=re[v]=re[x]=re[w]=re[k]=re[C]=!1;var we=typeof Au=="object"&&Au&&Au.Object===Object&&Au,De=typeof self=="object"&&self&&self.Object===Object&&self,ut=we||De||Function("return this")(),$n=t&&!t.nodeType&&t,sr=$n&&!0&&e&&!e.nodeType&&e,ue=sr&&sr.exports===$n,$e=ue&&we.process,Ae=function(){try{var F=sr&&sr.require&&sr.require("util").types;return F||$e&&$e.binding&&$e.binding("util")}catch{}}(),Q=Ae&&Ae.isTypedArray;function mn(F,z,U){switch(U.length){case 0:return F.call(z);case 1:return F.call(z,U[0]);case 2:return F.call(z,U[0],U[1]);case 3:return F.call(z,U[0],U[1],U[2])}return F.apply(z,U)}function tt(F,z){for(var U=-1,he=Array(F);++U<F;)he[U]=z(U);return he}function An(F){return function(z){return F(z)}}function fn(F,z){return F==null?void 0:F[z]}function oo(F,z){return function(U){return F(z(U))}}var ih=Array.prototype,lce=Function.prototype,ab=Object.prototype,$E=ut["__core-js_shared__"],lb=lce.toString,Zl=ab.hasOwnProperty,A9=function(){var F=/[^.]+$/.exec($E&&$E.keys&&$E.keys.IE_PROTO||"");return F?"Symbol(src)_1."+F:""}(),T9=ab.toString,uce=lb.call(Object),cce=RegExp("^"+lb.call(Zl).replace(Y,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ub=ue?ut.Buffer:void 0,M9=ut.Symbol,F9=ut.Uint8Array;ub&&ub.allocUnsafe;var P9=oo(Object.getPrototypeOf,Object),R9=Object.create,fce=ab.propertyIsEnumerable,dce=ih.splice,Uc=M9?M9.toStringTag:void 0,cb=function(){try{var F=ME(Object,"defineProperty");return F({},"",{}),F}catch{}}(),hce=ub?ub.isBuffer:void 0,D9=Math.max,pce=Date.now,O9=ME(ut,"Map"),Sm=ME(Object,"create"),gce=function(){function F(){}return function(z){if(!Wc(z))return{};if(R9)return R9(z);F.prototype=z;var U=new F;return F.prototype=void 0,U}}();function Vc(F){var z=-1,U=F==null?0:F.length;for(this.clear();++z<U;){var he=F[z];this.set(he[0],he[1])}}function mce(){this.__data__=Sm?Sm(null):{},this.size=0}function yce(F){var z=this.has(F)&&delete this.__data__[F];return this.size-=z?1:0,z}function vce(F){var z=this.__data__;if(Sm){var U=z[F];return U===r?void 0:U}return Zl.call(z,F)?z[F]:void 0}function bce(F){var z=this.__data__;return Sm?z[F]!==void 0:Zl.call(z,F)}function xce(F,z){var U=this.__data__;return this.size+=this.has(F)?0:1,U[F]=Sm&&z===void 0?r:z,this}Vc.prototype.clear=mce,Vc.prototype.delete=yce,Vc.prototype.get=vce,Vc.prototype.has=bce,Vc.prototype.set=xce;function Va(F){var z=-1,U=F==null?0:F.length;for(this.clear();++z<U;){var he=F[z];this.set(he[0],he[1])}}function wce(){this.__data__=[],this.size=0}function Sce(F){var z=this.__data__,U=fb(z,F);if(U<0)return!1;var he=z.length-1;return U==he?z.pop():dce.call(z,U,1),--this.size,!0}function kce(F){var z=this.__data__,U=fb(z,F);return U<0?void 0:z[U][1]}function Cce(F){return fb(this.__data__,F)>-1}function _ce(F,z){var U=this.__data__,he=fb(U,F);return he<0?(++this.size,U.push([F,z])):U[he][1]=z,this}Va.prototype.clear=wce,Va.prototype.delete=Sce,Va.prototype.get=kce,Va.prototype.has=Cce,Va.prototype.set=_ce;function oh(F){var z=-1,U=F==null?0:F.length;for(this.clear();++z<U;){var he=F[z];this.set(he[0],he[1])}}function Ece(){this.size=0,this.__data__={hash:new Vc,map:new(O9||Va),string:new Vc}}function $ce(F){var z=hb(this,F).delete(F);return this.size-=z?1:0,z}function Ace(F){return hb(this,F).get(F)}function Tce(F){return hb(this,F).has(F)}function Mce(F,z){var U=hb(this,F),he=U.size;return U.set(F,z),this.size+=U.size==he?0:1,this}oh.prototype.clear=Ece,oh.prototype.delete=$ce,oh.prototype.get=Ace,oh.prototype.has=Tce,oh.prototype.set=Mce;function sh(F){var z=this.__data__=new Va(F);this.size=z.size}function Fce(){this.__data__=new Va,this.size=0}function Pce(F){var z=this.__data__,U=z.delete(F);return this.size=z.size,U}function Rce(F){return this.__data__.get(F)}function Dce(F){return this.__data__.has(F)}function Oce(F,z){var U=this.__data__;if(U instanceof Va){var he=U.__data__;if(!O9||he.length<n-1)return he.push([F,z]),this.size=++U.size,this;U=this.__data__=new oh(he)}return U.set(F,z),this.size=U.size,this}sh.prototype.clear=Fce,sh.prototype.delete=Pce,sh.prototype.get=Rce,sh.prototype.has=Dce,sh.prototype.set=Oce;function Nce(F,z){var U=RE(F),he=!U&&PE(F),Ge=!U&&!he&&j9(F),wt=!U&&!he&&!Ge&&U9(F),Dt=U||he||Ge||wt,nt=Dt?tt(F.length,String):[],Ot=nt.length;for(var Vo in F)Dt&&(Vo=="length"||Ge&&(Vo=="offset"||Vo=="parent")||wt&&(Vo=="buffer"||Vo=="byteLength"||Vo=="byteOffset")||L9(Vo,Ot))||nt.push(Vo);return nt}function AE(F,z,U){(U!==void 0&&!pb(F[z],U)||U===void 0&&!(z in F))&&TE(F,z,U)}function Ice(F,z,U){var he=F[z];(!(Zl.call(F,z)&&pb(he,U))||U===void 0&&!(z in F))&&TE(F,z,U)}function fb(F,z){for(var U=F.length;U--;)if(pb(F[U][0],z))return U;return-1}function TE(F,z,U){z=="__proto__"&&cb?cb(F,z,{configurable:!0,enumerable:!0,value:U,writable:!0}):F[z]=U}var Lce=Qce();function db(F){return F==null?F===void 0?S:y:Uc&&Uc in Object(F)?Zce(F):ife(F)}function N9(F){return km(F)&&db(F)==a}function zce(F){if(!Wc(F)||nfe(F))return!1;var z=OE(F)?cce:W;return z.test(lfe(F))}function jce(F){return km(F)&&B9(F.length)&&!!re[db(F)]}function Bce(F){if(!Wc(F))return rfe(F);var z=z9(F),U=[];for(var he in F)he=="constructor"&&(z||!Zl.call(F,he))||U.push(he);return U}function I9(F,z,U,he,Ge){F!==z&&Lce(z,function(wt,Dt){if(Ge||(Ge=new sh),Wc(wt))Uce(F,z,Dt,U,I9,he,Ge);else{var nt=he?he(FE(F,Dt),wt,Dt+"",F,z,Ge):void 0;nt===void 0&&(nt=wt),AE(F,Dt,nt)}},V9)}function Uce(F,z,U,he,Ge,wt,Dt){var nt=FE(F,U),Ot=FE(z,U),Vo=Dt.get(Ot);if(Vo){AE(F,U,Vo);return}var Ai=wt?wt(nt,Ot,U+"",F,z,Dt):void 0,Cm=Ai===void 0;if(Cm){var NE=RE(Ot),IE=!NE&&j9(Ot),H9=!NE&&!IE&&U9(Ot);Ai=Ot,NE||IE||H9?RE(nt)?Ai=nt:ufe(nt)?Ai=Yce(nt):IE?(Cm=!1,Ai=Hce(Ot)):H9?(Cm=!1,Ai=Gce(Ot)):Ai=[]:cfe(Ot)||PE(Ot)?(Ai=nt,PE(nt)?Ai=ffe(nt):(!Wc(nt)||OE(nt))&&(Ai=Jce(Ot))):Cm=!1}Cm&&(Dt.set(Ot,Ai),Ge(Ai,Ot,he,wt,Dt),Dt.delete(Ot)),AE(F,U,Ai)}function Vce(F,z){return sfe(ofe(F,z,W9),F+"")}var Wce=cb?function(F,z){return cb(F,"toString",{configurable:!0,enumerable:!1,value:hfe(z),writable:!0})}:W9;function Hce(F,z){return F.slice()}function qce(F){var z=new F.constructor(F.byteLength);return new F9(z).set(new F9(F)),z}function Gce(F,z){var U=qce(F.buffer);return new F.constructor(U,F.byteOffset,F.length)}function Yce(F,z){var U=-1,he=F.length;for(z||(z=Array(he));++U<he;)z[U]=F[U];return z}function Xce(F,z,U,he){var Ge=!U;U||(U={});for(var wt=-1,Dt=z.length;++wt<Dt;){var nt=z[wt],Ot=void 0;Ot===void 0&&(Ot=F[nt]),Ge?TE(U,nt,Ot):Ice(U,nt,Ot)}return U}function Kce(F){return Vce(function(z,U){var he=-1,Ge=U.length,wt=Ge>1?U[Ge-1]:void 0,Dt=Ge>2?U[2]:void 0;for(wt=F.length>3&&typeof wt=="function"?(Ge--,wt):void 0,Dt&&efe(U[0],U[1],Dt)&&(wt=Ge<3?void 0:wt,Ge=1),z=Object(z);++he<Ge;){var nt=U[he];nt&&F(z,nt,he,wt)}return z})}function Qce(F){return function(z,U,he){for(var Ge=-1,wt=Object(z),Dt=he(z),nt=Dt.length;nt--;){var Ot=Dt[++Ge];if(U(wt[Ot],Ot,wt)===!1)break}return z}}function hb(F,z){var U=F.__data__;return tfe(z)?U[typeof z=="string"?"string":"hash"]:U.map}function ME(F,z){var U=fn(F,z);return zce(U)?U:void 0}function Zce(F){var z=Zl.call(F,Uc),U=F[Uc];try{F[Uc]=void 0;var he=!0}catch{}var Ge=T9.call(F);return he&&(z?F[Uc]=U:delete F[Uc]),Ge}function Jce(F){return typeof F.constructor=="function"&&!z9(F)?gce(P9(F)):{}}function L9(F,z){var U=typeof F;return z=z??s,!!z&&(U=="number"||U!="symbol"&&oe.test(F))&&F>-1&&F%1==0&&F<z}function efe(F,z,U){if(!Wc(U))return!1;var he=typeof z;return(he=="number"?DE(U)&&L9(z,U.length):he=="string"&&z in U)?pb(U[z],F):!1}function tfe(F){var z=typeof F;return z=="string"||z=="number"||z=="symbol"||z=="boolean"?F!=="__proto__":F===null}function nfe(F){return!!A9&&A9 in F}function z9(F){var z=F&&F.constructor,U=typeof z=="function"&&z.prototype||ab;return F===U}function rfe(F){var z=[];if(F!=null)for(var U in Object(F))z.push(U);return z}function ife(F){return T9.call(F)}function ofe(F,z,U){return z=D9(z===void 0?F.length-1:z,0),function(){for(var he=arguments,Ge=-1,wt=D9(he.length-z,0),Dt=Array(wt);++Ge<wt;)Dt[Ge]=he[z+Ge];Ge=-1;for(var nt=Array(z+1);++Ge<z;)nt[Ge]=he[Ge];return nt[z]=U(Dt),mn(F,this,nt)}}function FE(F,z){if(!(z==="constructor"&&typeof F[z]=="function")&&z!="__proto__")return F[z]}var sfe=afe(Wce);function afe(F){var z=0,U=0;return function(){var he=pce(),Ge=o-(he-U);if(U=he,Ge>0){if(++z>=i)return arguments[0]}else z=0;return F.apply(void 0,arguments)}}function lfe(F){if(F!=null){try{return lb.call(F)}catch{}try{return F+""}catch{}}return""}function pb(F,z){return F===z||F!==F&&z!==z}var PE=N9(function(){return arguments}())?N9:function(F){return km(F)&&Zl.call(F,"callee")&&!fce.call(F,"callee")},RE=Array.isArray;function DE(F){return F!=null&&B9(F.length)&&!OE(F)}function ufe(F){return km(F)&&DE(F)}var j9=hce||pfe;function OE(F){if(!Wc(F))return!1;var z=db(F);return z==h||z==p||z==u||z==b}function B9(F){return typeof F=="number"&&F>-1&&F%1==0&&F<=s}function Wc(F){var z=typeof F;return F!=null&&(z=="object"||z=="function")}function km(F){return F!=null&&typeof F=="object"}function cfe(F){if(!km(F)||db(F)!=v)return!1;var z=P9(F);if(z===null)return!0;var U=Zl.call(z,"constructor")&&z.constructor;return typeof U=="function"&&U instanceof U&&lb.call(U)==uce}var U9=Q?An(Q):jce;function ffe(F){return Xce(F,V9(F))}function V9(F){return DE(F)?Nce(F):Bce(F)}var dfe=Kce(function(F,z,U,he){I9(F,z,U,he)});function hfe(F){return function(){return F}}function W9(F){return F}function pfe(){return!1}e.exports=dfe})(pw,pw.exports);var sge=pw.exports;const So=zl(sge);var age=e=>/!(important)?$/.test(e),dI=e=>typeof e=="string"?e.replace(/!(important)?$/,"").trim():e,lge=(e,t)=>n=>{const r=String(t),i=age(r),o=dI(r),s=e?`${e}.${o}`:o;let a=gi(n.__cssMap)&&s in n.__cssMap?n.__cssMap[s].varRef:t;return a=dI(a),i?`${a} !important`:a};function tP(e){const{scale:t,transform:n,compose:r}=e;return(o,s)=>{var a;const l=lge(t,o)(s);let u=(a=n==null?void 0:n(l,s))!=null?a:l;return r&&(u=r(u,s)),u}}var Ob=(...e)=>t=>e.reduce((n,r)=>r(n),t);function so(e,t){return n=>{const r={property:n,scale:e};return r.transform=tP({scale:e,transform:t}),r}}var uge=({rtl:e,ltr:t})=>n=>n.direction==="rtl"?e:t;function cge(e){const{property:t,scale:n,transform:r}=e;return{scale:n,property:uge(t),transform:n?tP({scale:n,compose:r}):r}}var WG=["rotate(var(--chakra-rotate, 0))","scaleX(var(--chakra-scale-x, 1))","scaleY(var(--chakra-scale-y, 1))","skewX(var(--chakra-skew-x, 0))","skewY(var(--chakra-skew-y, 0))"];function fge(){return["translateX(var(--chakra-translate-x, 0))","translateY(var(--chakra-translate-y, 0))",...WG].join(" ")}function dge(){return["translate3d(var(--chakra-translate-x, 0), var(--chakra-translate-y, 0), 0)",...WG].join(" ")}var hge={"--chakra-blur":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-brightness":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-contrast":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-grayscale":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-hue-rotate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-invert":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-saturate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-sepia":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-drop-shadow":"var(--chakra-empty,/*!*/ /*!*/)",filter:["var(--chakra-blur)","var(--chakra-brightness)","var(--chakra-contrast)","var(--chakra-grayscale)","var(--chakra-hue-rotate)","var(--chakra-invert)","var(--chakra-saturate)","var(--chakra-sepia)","var(--chakra-drop-shadow)"].join(" ")},pge={backdropFilter:["var(--chakra-backdrop-blur)","var(--chakra-backdrop-brightness)","var(--chakra-backdrop-contrast)","var(--chakra-backdrop-grayscale)","var(--chakra-backdrop-hue-rotate)","var(--chakra-backdrop-invert)","var(--chakra-backdrop-opacity)","var(--chakra-backdrop-saturate)","var(--chakra-backdrop-sepia)"].join(" "),"--chakra-backdrop-blur":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-brightness":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-contrast":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-grayscale":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-hue-rotate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-invert":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-opacity":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-saturate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-sepia":"var(--chakra-empty,/*!*/ /*!*/)"};function gge(e){return{"--chakra-ring-offset-shadow":"var(--chakra-ring-inset) 0 0 0 var(--chakra-ring-offset-width) var(--chakra-ring-offset-color)","--chakra-ring-shadow":"var(--chakra-ring-inset) 0 0 0 calc(var(--chakra-ring-width) + var(--chakra-ring-offset-width)) var(--chakra-ring-color)","--chakra-ring-width":e,boxShadow:["var(--chakra-ring-offset-shadow)","var(--chakra-ring-shadow)","var(--chakra-shadow, 0 0 #0000)"].join(", ")}}var mge={"row-reverse":{space:"--chakra-space-x-reverse",divide:"--chakra-divide-x-reverse"},"column-reverse":{space:"--chakra-space-y-reverse",divide:"--chakra-divide-y-reverse"}},$T={"to-t":"to top","to-tr":"to top right","to-r":"to right","to-br":"to bottom right","to-b":"to bottom","to-bl":"to bottom left","to-l":"to left","to-tl":"to top left"},yge=new Set(Object.values($T)),AT=new Set(["none","-moz-initial","inherit","initial","revert","unset"]),vge=e=>e.trim();function bge(e,t){if(e==null||AT.has(e))return e;if(!(TT(e)||AT.has(e)))return`url('${e}')`;const i=/(^[a-z-A-Z]+)\((.*)\)/g.exec(e),o=i==null?void 0:i[1],s=i==null?void 0:i[2];if(!o||!s)return e;const a=o.includes("-gradient")?o:`${o}-gradient`,[l,...u]=s.split(",").map(vge).filter(Boolean);if((u==null?void 0:u.length)===0)return e;const c=l in $T?$T[l]:l;u.unshift(c);const f=u.map(d=>{if(yge.has(d))return d;const h=d.indexOf(" "),[p,g]=h!==-1?[d.substr(0,h),d.substr(h+1)]:[d],m=TT(g)?g:g&&g.split(" "),y=`colors.${p}`,v=y in t.__cssMap?t.__cssMap[y].varRef:p;return m?[v,...Array.isArray(m)?m:[m]].join(" "):v});return`${a}(${f.join(", ")})`}var TT=e=>typeof e=="string"&&e.includes("(")&&e.includes(")"),xge=(e,t)=>bge(e,t??{});function wge(e){return/^var\(--.+\)$/.test(e)}var Sge=e=>{const t=parseFloat(e.toString()),n=e.toString().replace(String(t),"");return{unitless:!n,value:t,unit:n}},zs=e=>t=>`${e}(${t})`,We={filter(e){return e!=="auto"?e:hge},backdropFilter(e){return e!=="auto"?e:pge},ring(e){return gge(We.px(e))},bgClip(e){return e==="text"?{color:"transparent",backgroundClip:"text"}:{backgroundClip:e}},transform(e){return e==="auto"?fge():e==="auto-gpu"?dge():e},vh(e){return e==="$100vh"?"var(--chakra-vh)":e},px(e){if(e==null)return e;const{unitless:t}=Sge(e);return t||typeof e=="number"?`${e}px`:e},fraction(e){return typeof e!="number"||e>1?e:`${e*100}%`},float(e,t){const n={left:"right",right:"left"};return t.direction==="rtl"?n[e]:e},degree(e){if(wge(e)||e==null)return e;const t=typeof e=="string"&&!e.endsWith("deg");return typeof e=="number"||t?`${e}deg`:e},gradient:xge,blur:zs("blur"),opacity:zs("opacity"),brightness:zs("brightness"),contrast:zs("contrast"),dropShadow:zs("drop-shadow"),grayscale:zs("grayscale"),hueRotate:e=>zs("hue-rotate")(We.degree(e)),invert:zs("invert"),saturate:zs("saturate"),sepia:zs("sepia"),bgImage(e){return e==null||TT(e)||AT.has(e)?e:`url(${e})`},outline(e){const t=String(e)==="0"||String(e)==="none";return e!==null&&t?{outline:"2px solid transparent",outlineOffset:"2px"}:{outline:e}},flexDirection(e){var t;const{space:n,divide:r}=(t=mge[e])!=null?t:{},i={flexDirection:e};return n&&(i[n]=1),r&&(i[r]=1),i}},L={borderWidths:so("borderWidths"),borderStyles:so("borderStyles"),colors:so("colors"),borders:so("borders"),gradients:so("gradients",We.gradient),radii:so("radii",We.px),space:so("space",Ob(We.vh,We.px)),spaceT:so("space",Ob(We.vh,We.px)),degreeT(e){return{property:e,transform:We.degree}},prop(e,t,n){return{property:e,scale:t,...t&&{transform:tP({scale:t,transform:n})}}},propT(e,t){return{property:e,transform:t}},sizes:so("sizes",Ob(We.vh,We.px)),sizesT:so("sizes",Ob(We.vh,We.fraction)),shadows:so("shadows"),logical:cge,blur:so("blur",We.blur)},t2={background:L.colors("background"),backgroundColor:L.colors("backgroundColor"),backgroundImage:L.gradients("backgroundImage"),backgroundSize:!0,backgroundPosition:!0,backgroundRepeat:!0,backgroundAttachment:!0,backgroundClip:{transform:We.bgClip},bgSize:L.prop("backgroundSize"),bgPosition:L.prop("backgroundPosition"),bg:L.colors("background"),bgColor:L.colors("backgroundColor"),bgPos:L.prop("backgroundPosition"),bgRepeat:L.prop("backgroundRepeat"),bgAttachment:L.prop("backgroundAttachment"),bgGradient:L.gradients("backgroundImage"),bgClip:{transform:We.bgClip}};Object.assign(t2,{bgImage:t2.backgroundImage,bgImg:t2.backgroundImage});var rt={border:L.borders("border"),borderWidth:L.borderWidths("borderWidth"),borderStyle:L.borderStyles("borderStyle"),borderColor:L.colors("borderColor"),borderRadius:L.radii("borderRadius"),borderTop:L.borders("borderTop"),borderBlockStart:L.borders("borderBlockStart"),borderTopLeftRadius:L.radii("borderTopLeftRadius"),borderStartStartRadius:L.logical({scale:"radii",property:{ltr:"borderTopLeftRadius",rtl:"borderTopRightRadius"}}),borderEndStartRadius:L.logical({scale:"radii",property:{ltr:"borderBottomLeftRadius",rtl:"borderBottomRightRadius"}}),borderTopRightRadius:L.radii("borderTopRightRadius"),borderStartEndRadius:L.logical({scale:"radii",property:{ltr:"borderTopRightRadius",rtl:"borderTopLeftRadius"}}),borderEndEndRadius:L.logical({scale:"radii",property:{ltr:"borderBottomRightRadius",rtl:"borderBottomLeftRadius"}}),borderRight:L.borders("borderRight"),borderInlineEnd:L.borders("borderInlineEnd"),borderBottom:L.borders("borderBottom"),borderBlockEnd:L.borders("borderBlockEnd"),borderBottomLeftRadius:L.radii("borderBottomLeftRadius"),borderBottomRightRadius:L.radii("borderBottomRightRadius"),borderLeft:L.borders("borderLeft"),borderInlineStart:{property:"borderInlineStart",scale:"borders"},borderInlineStartRadius:L.logical({scale:"radii",property:{ltr:["borderTopLeftRadius","borderBottomLeftRadius"],rtl:["borderTopRightRadius","borderBottomRightRadius"]}}),borderInlineEndRadius:L.logical({scale:"radii",property:{ltr:["borderTopRightRadius","borderBottomRightRadius"],rtl:["borderTopLeftRadius","borderBottomLeftRadius"]}}),borderX:L.borders(["borderLeft","borderRight"]),borderInline:L.borders("borderInline"),borderY:L.borders(["borderTop","borderBottom"]),borderBlock:L.borders("borderBlock"),borderTopWidth:L.borderWidths("borderTopWidth"),borderBlockStartWidth:L.borderWidths("borderBlockStartWidth"),borderTopColor:L.colors("borderTopColor"),borderBlockStartColor:L.colors("borderBlockStartColor"),borderTopStyle:L.borderStyles("borderTopStyle"),borderBlockStartStyle:L.borderStyles("borderBlockStartStyle"),borderBottomWidth:L.borderWidths("borderBottomWidth"),borderBlockEndWidth:L.borderWidths("borderBlockEndWidth"),borderBottomColor:L.colors("borderBottomColor"),borderBlockEndColor:L.colors("borderBlockEndColor"),borderBottomStyle:L.borderStyles("borderBottomStyle"),borderBlockEndStyle:L.borderStyles("borderBlockEndStyle"),borderLeftWidth:L.borderWidths("borderLeftWidth"),borderInlineStartWidth:L.borderWidths("borderInlineStartWidth"),borderLeftColor:L.colors("borderLeftColor"),borderInlineStartColor:L.colors("borderInlineStartColor"),borderLeftStyle:L.borderStyles("borderLeftStyle"),borderInlineStartStyle:L.borderStyles("borderInlineStartStyle"),borderRightWidth:L.borderWidths("borderRightWidth"),borderInlineEndWidth:L.borderWidths("borderInlineEndWidth"),borderRightColor:L.colors("borderRightColor"),borderInlineEndColor:L.colors("borderInlineEndColor"),borderRightStyle:L.borderStyles("borderRightStyle"),borderInlineEndStyle:L.borderStyles("borderInlineEndStyle"),borderTopRadius:L.radii(["borderTopLeftRadius","borderTopRightRadius"]),borderBottomRadius:L.radii(["borderBottomLeftRadius","borderBottomRightRadius"]),borderLeftRadius:L.radii(["borderTopLeftRadius","borderBottomLeftRadius"]),borderRightRadius:L.radii(["borderTopRightRadius","borderBottomRightRadius"])};Object.assign(rt,{rounded:rt.borderRadius,roundedTop:rt.borderTopRadius,roundedTopLeft:rt.borderTopLeftRadius,roundedTopRight:rt.borderTopRightRadius,roundedTopStart:rt.borderStartStartRadius,roundedTopEnd:rt.borderStartEndRadius,roundedBottom:rt.borderBottomRadius,roundedBottomLeft:rt.borderBottomLeftRadius,roundedBottomRight:rt.borderBottomRightRadius,roundedBottomStart:rt.borderEndStartRadius,roundedBottomEnd:rt.borderEndEndRadius,roundedLeft:rt.borderLeftRadius,roundedRight:rt.borderRightRadius,roundedStart:rt.borderInlineStartRadius,roundedEnd:rt.borderInlineEndRadius,borderStart:rt.borderInlineStart,borderEnd:rt.borderInlineEnd,borderTopStartRadius:rt.borderStartStartRadius,borderTopEndRadius:rt.borderStartEndRadius,borderBottomStartRadius:rt.borderEndStartRadius,borderBottomEndRadius:rt.borderEndEndRadius,borderStartRadius:rt.borderInlineStartRadius,borderEndRadius:rt.borderInlineEndRadius,borderStartWidth:rt.borderInlineStartWidth,borderEndWidth:rt.borderInlineEndWidth,borderStartColor:rt.borderInlineStartColor,borderEndColor:rt.borderInlineEndColor,borderStartStyle:rt.borderInlineStartStyle,borderEndStyle:rt.borderInlineEndStyle});var kge={color:L.colors("color"),textColor:L.colors("color"),fill:L.colors("fill"),stroke:L.colors("stroke")},MT={boxShadow:L.shadows("boxShadow"),mixBlendMode:!0,blendMode:L.prop("mixBlendMode"),backgroundBlendMode:!0,bgBlendMode:L.prop("backgroundBlendMode"),opacity:!0};Object.assign(MT,{shadow:MT.boxShadow});var Cge={filter:{transform:We.filter},blur:L.blur("--chakra-blur"),brightness:L.propT("--chakra-brightness",We.brightness),contrast:L.propT("--chakra-contrast",We.contrast),hueRotate:L.propT("--chakra-hue-rotate",We.hueRotate),invert:L.propT("--chakra-invert",We.invert),saturate:L.propT("--chakra-saturate",We.saturate),dropShadow:L.propT("--chakra-drop-shadow",We.dropShadow),backdropFilter:{transform:We.backdropFilter},backdropBlur:L.blur("--chakra-backdrop-blur"),backdropBrightness:L.propT("--chakra-backdrop-brightness",We.brightness),backdropContrast:L.propT("--chakra-backdrop-contrast",We.contrast),backdropHueRotate:L.propT("--chakra-backdrop-hue-rotate",We.hueRotate),backdropInvert:L.propT("--chakra-backdrop-invert",We.invert),backdropSaturate:L.propT("--chakra-backdrop-saturate",We.saturate)},gw={alignItems:!0,alignContent:!0,justifyItems:!0,justifyContent:!0,flexWrap:!0,flexDirection:{transform:We.flexDirection},flex:!0,flexFlow:!0,flexGrow:!0,flexShrink:!0,flexBasis:L.sizes("flexBasis"),justifySelf:!0,alignSelf:!0,order:!0,placeItems:!0,placeContent:!0,placeSelf:!0,gap:L.space("gap"),rowGap:L.space("rowGap"),columnGap:L.space("columnGap")};Object.assign(gw,{flexDir:gw.flexDirection});var HG={gridGap:L.space("gridGap"),gridColumnGap:L.space("gridColumnGap"),gridRowGap:L.space("gridRowGap"),gridColumn:!0,gridRow:!0,gridAutoFlow:!0,gridAutoColumns:!0,gridColumnStart:!0,gridColumnEnd:!0,gridRowStart:!0,gridRowEnd:!0,gridAutoRows:!0,gridTemplate:!0,gridTemplateColumns:!0,gridTemplateRows:!0,gridTemplateAreas:!0,gridArea:!0},_ge={appearance:!0,cursor:!0,resize:!0,userSelect:!0,pointerEvents:!0,outline:{transform:We.outline},outlineOffset:!0,outlineColor:L.colors("outlineColor")},co={width:L.sizesT("width"),inlineSize:L.sizesT("inlineSize"),height:L.sizes("height"),blockSize:L.sizes("blockSize"),boxSize:L.sizes(["width","height"]),minWidth:L.sizes("minWidth"),minInlineSize:L.sizes("minInlineSize"),minHeight:L.sizes("minHeight"),minBlockSize:L.sizes("minBlockSize"),maxWidth:L.sizes("maxWidth"),maxInlineSize:L.sizes("maxInlineSize"),maxHeight:L.sizes("maxHeight"),maxBlockSize:L.sizes("maxBlockSize"),overflow:!0,overflowX:!0,overflowY:!0,overscrollBehavior:!0,overscrollBehaviorX:!0,overscrollBehaviorY:!0,display:!0,aspectRatio:!0,hideFrom:{scale:"breakpoints",transform:(e,t)=>{var n,r,i;return{[`@media screen and (min-width: ${(i=(r=(n=t.__breakpoints)==null?void 0:n.get(e))==null?void 0:r.minW)!=null?i:e})`]:{display:"none"}}}},hideBelow:{scale:"breakpoints",transform:(e,t)=>{var n,r,i;return{[`@media screen and (max-width: ${(i=(r=(n=t.__breakpoints)==null?void 0:n.get(e))==null?void 0:r._minW)!=null?i:e})`]:{display:"none"}}}},verticalAlign:!0,boxSizing:!0,boxDecorationBreak:!0,float:L.propT("float",We.float),objectFit:!0,objectPosition:!0,visibility:!0,isolation:!0};Object.assign(co,{w:co.width,h:co.height,minW:co.minWidth,maxW:co.maxWidth,minH:co.minHeight,maxH:co.maxHeight,overscroll:co.overscrollBehavior,overscrollX:co.overscrollBehaviorX,overscrollY:co.overscrollBehaviorY});var Ege={listStyleType:!0,listStylePosition:!0,listStylePos:L.prop("listStylePosition"),listStyleImage:!0,listStyleImg:L.prop("listStyleImage")};function $ge(e,t,n,r){const i=typeof t=="string"?t.split("."):[t];for(r=0;r<i.length&&e;r+=1)e=e[i[r]];return e===void 0?n:e}var Age=e=>{const t=new WeakMap;return(r,i,o,s)=>{if(typeof r>"u")return e(r,i,o);t.has(r)||t.set(r,new Map);const a=t.get(r);if(a.has(i))return a.get(i);const l=e(r,i,o,s);return a.set(i,l),l}},Tge=Age($ge),Mge={border:"0px",clip:"rect(0, 0, 0, 0)",width:"1px",height:"1px",margin:"-1px",padding:"0px",overflow:"hidden",whiteSpace:"nowrap",position:"absolute"},Fge={position:"static",width:"auto",height:"auto",clip:"auto",padding:"0",margin:"0",overflow:"visible",whiteSpace:"normal"},h$=(e,t,n)=>{const r={},i=Tge(e,t,{});for(const o in i)o in n&&n[o]!=null||(r[o]=i[o]);return r},Pge={srOnly:{transform(e){return e===!0?Mge:e==="focusable"?Fge:{}}},layerStyle:{processResult:!0,transform:(e,t,n)=>h$(t,`layerStyles.${e}`,n)},textStyle:{processResult:!0,transform:(e,t,n)=>h$(t,`textStyles.${e}`,n)},apply:{processResult:!0,transform:(e,t,n)=>h$(t,e,n)}},sy={position:!0,pos:L.prop("position"),zIndex:L.prop("zIndex","zIndices"),inset:L.spaceT("inset"),insetX:L.spaceT(["left","right"]),insetInline:L.spaceT("insetInline"),insetY:L.spaceT(["top","bottom"]),insetBlock:L.spaceT("insetBlock"),top:L.spaceT("top"),insetBlockStart:L.spaceT("insetBlockStart"),bottom:L.spaceT("bottom"),insetBlockEnd:L.spaceT("insetBlockEnd"),left:L.spaceT("left"),insetInlineStart:L.logical({scale:"space",property:{ltr:"left",rtl:"right"}}),right:L.spaceT("right"),insetInlineEnd:L.logical({scale:"space",property:{ltr:"right",rtl:"left"}})};Object.assign(sy,{insetStart:sy.insetInlineStart,insetEnd:sy.insetInlineEnd});var Rge={ring:{transform:We.ring},ringColor:L.colors("--chakra-ring-color"),ringOffset:L.prop("--chakra-ring-offset-width"),ringOffsetColor:L.colors("--chakra-ring-offset-color"),ringInset:L.prop("--chakra-ring-inset")},Tt={margin:L.spaceT("margin"),marginTop:L.spaceT("marginTop"),marginBlockStart:L.spaceT("marginBlockStart"),marginRight:L.spaceT("marginRight"),marginInlineEnd:L.spaceT("marginInlineEnd"),marginBottom:L.spaceT("marginBottom"),marginBlockEnd:L.spaceT("marginBlockEnd"),marginLeft:L.spaceT("marginLeft"),marginInlineStart:L.spaceT("marginInlineStart"),marginX:L.spaceT(["marginInlineStart","marginInlineEnd"]),marginInline:L.spaceT("marginInline"),marginY:L.spaceT(["marginTop","marginBottom"]),marginBlock:L.spaceT("marginBlock"),padding:L.space("padding"),paddingTop:L.space("paddingTop"),paddingBlockStart:L.space("paddingBlockStart"),paddingRight:L.space("paddingRight"),paddingBottom:L.space("paddingBottom"),paddingBlockEnd:L.space("paddingBlockEnd"),paddingLeft:L.space("paddingLeft"),paddingInlineStart:L.space("paddingInlineStart"),paddingInlineEnd:L.space("paddingInlineEnd"),paddingX:L.space(["paddingInlineStart","paddingInlineEnd"]),paddingInline:L.space("paddingInline"),paddingY:L.space(["paddingTop","paddingBottom"]),paddingBlock:L.space("paddingBlock")};Object.assign(Tt,{m:Tt.margin,mt:Tt.marginTop,mr:Tt.marginRight,me:Tt.marginInlineEnd,marginEnd:Tt.marginInlineEnd,mb:Tt.marginBottom,ml:Tt.marginLeft,ms:Tt.marginInlineStart,marginStart:Tt.marginInlineStart,mx:Tt.marginX,my:Tt.marginY,p:Tt.padding,pt:Tt.paddingTop,py:Tt.paddingY,px:Tt.paddingX,pb:Tt.paddingBottom,pl:Tt.paddingLeft,ps:Tt.paddingInlineStart,paddingStart:Tt.paddingInlineStart,pr:Tt.paddingRight,pe:Tt.paddingInlineEnd,paddingEnd:Tt.paddingInlineEnd});var Dge={textDecorationColor:L.colors("textDecorationColor"),textDecoration:!0,textDecor:{property:"textDecoration"},textDecorationLine:!0,textDecorationStyle:!0,textDecorationThickness:!0,textUnderlineOffset:!0,textShadow:L.shadows("textShadow")},Oge={clipPath:!0,transform:L.propT("transform",We.transform),transformOrigin:!0,translateX:L.spaceT("--chakra-translate-x"),translateY:L.spaceT("--chakra-translate-y"),skewX:L.degreeT("--chakra-skew-x"),skewY:L.degreeT("--chakra-skew-y"),scaleX:L.prop("--chakra-scale-x"),scaleY:L.prop("--chakra-scale-y"),scale:L.prop(["--chakra-scale-x","--chakra-scale-y"]),rotate:L.degreeT("--chakra-rotate")},Nge={transition:!0,transitionDelay:!0,animation:!0,willChange:!0,transitionDuration:L.prop("transitionDuration","transition.duration"),transitionProperty:L.prop("transitionProperty","transition.property"),transitionTimingFunction:L.prop("transitionTimingFunction","transition.easing")},Ige={fontFamily:L.prop("fontFamily","fonts"),fontSize:L.prop("fontSize","fontSizes",We.px),fontWeight:L.prop("fontWeight","fontWeights"),lineHeight:L.prop("lineHeight","lineHeights"),letterSpacing:L.prop("letterSpacing","letterSpacings"),textAlign:!0,fontStyle:!0,textIndent:!0,wordBreak:!0,overflowWrap:!0,textOverflow:!0,textTransform:!0,whiteSpace:!0,isTruncated:{transform(e){if(e===!0)return{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}}},noOfLines:{static:{overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitBoxOrient:"vertical",WebkitLineClamp:"var(--chakra-line-clamp)"},property:"--chakra-line-clamp"}},Lge={scrollBehavior:!0,scrollSnapAlign:!0,scrollSnapStop:!0,scrollSnapType:!0,scrollMargin:L.spaceT("scrollMargin"),scrollMarginTop:L.spaceT("scrollMarginTop"),scrollMarginBottom:L.spaceT("scrollMarginBottom"),scrollMarginLeft:L.spaceT("scrollMarginLeft"),scrollMarginRight:L.spaceT("scrollMarginRight"),scrollMarginX:L.spaceT(["scrollMarginLeft","scrollMarginRight"]),scrollMarginY:L.spaceT(["scrollMarginTop","scrollMarginBottom"]),scrollPadding:L.spaceT("scrollPadding"),scrollPaddingTop:L.spaceT("scrollPaddingTop"),scrollPaddingBottom:L.spaceT("scrollPaddingBottom"),scrollPaddingLeft:L.spaceT("scrollPaddingLeft"),scrollPaddingRight:L.spaceT("scrollPaddingRight"),scrollPaddingX:L.spaceT(["scrollPaddingLeft","scrollPaddingRight"]),scrollPaddingY:L.spaceT(["scrollPaddingTop","scrollPaddingBottom"])};function qG(e){return gi(e)&&e.reference?e.reference:String(e)}var eC=(e,...t)=>t.map(qG).join(` ${e} `).replace(/calc/g,""),hI=(...e)=>`calc(${eC("+",...e)})`,pI=(...e)=>`calc(${eC("-",...e)})`,FT=(...e)=>`calc(${eC("*",...e)})`,gI=(...e)=>`calc(${eC("/",...e)})`,mI=e=>{const t=qG(e);return t!=null&&!Number.isNaN(parseFloat(t))?String(t).startsWith("-")?String(t).slice(1):`-${t}`:FT(t,-1)},pf=Object.assign(e=>({add:(...t)=>pf(hI(e,...t)),subtract:(...t)=>pf(pI(e,...t)),multiply:(...t)=>pf(FT(e,...t)),divide:(...t)=>pf(gI(e,...t)),negate:()=>pf(mI(e)),toString:()=>e.toString()}),{add:hI,subtract:pI,multiply:FT,divide:gI,negate:mI});function zge(e,t="-"){return e.replace(/\s+/g,t)}function jge(e){const t=zge(e.toString());return Uge(Bge(t))}function Bge(e){return e.includes("\\.")?e:!Number.isInteger(parseFloat(e.toString()))?e.replace(".","\\."):e}function Uge(e){return e.replace(/[!-,/:-@[-^`{-~]/g,"\\$&")}function Vge(e,t=""){return[t,e].filter(Boolean).join("-")}function Wge(e,t){return`var(${e}${t?`, ${t}`:""})`}function Hge(e,t=""){return jge(`--${Vge(e,t)}`)}function _e(e,t,n){const r=Hge(e,n);return{variable:r,reference:Wge(r,t)}}function qge(e,t){const n={};for(const r of t){if(Array.isArray(r)){const[i,o]=r;n[i]=_e(`${e}-${i}`,o);continue}n[r]=_e(`${e}-${r}`)}return n}function Gge(e){const t=e==null?0:e.length;return t?e[t-1]:void 0}function Yge(e){const t=parseFloat(e.toString()),n=e.toString().replace(String(t),"");return{unitless:!n,value:t,unit:n}}function PT(e){if(e==null)return e;const{unitless:t}=Yge(e);return t||typeof e=="number"?`${e}px`:e}var GG=(e,t)=>parseInt(e[1],10)>parseInt(t[1],10)?1:-1,nP=e=>Object.fromEntries(Object.entries(e).sort(GG));function yI(e){const t=nP(e);return Object.assign(Object.values(t),t)}function Xge(e){const t=Object.keys(nP(e));return new Set(t)}function vI(e){var t;if(!e)return e;e=(t=PT(e))!=null?t:e;const n=-.02;return typeof e=="number"?`${e+n}`:e.replace(/(\d+\.?\d*)/u,r=>`${parseFloat(r)+n}`)}function v0(e,t){const n=["@media screen"];return e&&n.push("and",`(min-width: ${PT(e)})`),t&&n.push("and",`(max-width: ${PT(t)})`),n.join(" ")}function Kge(e){var t;if(!e)return null;e.base=(t=e.base)!=null?t:"0px";const n=yI(e),r=Object.entries(e).sort(GG).map(([s,a],l,u)=>{var c;let[,f]=(c=u[l+1])!=null?c:[];return f=parseFloat(f)>0?vI(f):void 0,{_minW:vI(a),breakpoint:s,minW:a,maxW:f,maxWQuery:v0(null,f),minWQuery:v0(a),minMaxQuery:v0(a,f)}}),i=Xge(e),o=Array.from(i.values());return{keys:i,normalized:n,isResponsive(s){const a=Object.keys(s);return a.length>0&&a.every(l=>i.has(l))},asObject:nP(e),asArray:yI(e),details:r,get(s){return r.find(a=>a.breakpoint===s)},media:[null,...n.map(s=>v0(s)).slice(1)],toArrayValue(s){if(!gi(s))throw new Error("toArrayValue: value must be an object");const a=o.map(l=>{var u;return(u=s[l])!=null?u:null});for(;Gge(a)===null;)a.pop();return a},toObjectValue(s){if(!Array.isArray(s))throw new Error("toObjectValue: value must be an array");return s.reduce((a,l,u)=>{const c=o[u];return c!=null&&l!=null&&(a[c]=l),a},{})}}}var Vn={hover:(e,t)=>`${e}:hover ${t}, ${e}[data-hover] ${t}`,focus:(e,t)=>`${e}:focus ${t}, ${e}[data-focus] ${t}`,focusVisible:(e,t)=>`${e}:focus-visible ${t}`,focusWithin:(e,t)=>`${e}:focus-within ${t}`,active:(e,t)=>`${e}:active ${t}, ${e}[data-active] ${t}`,disabled:(e,t)=>`${e}:disabled ${t}, ${e}[data-disabled] ${t}`,invalid:(e,t)=>`${e}:invalid ${t}, ${e}[data-invalid] ${t}`,checked:(e,t)=>`${e}:checked ${t}, ${e}[data-checked] ${t}`,indeterminate:(e,t)=>`${e}:indeterminate ${t}, ${e}[aria-checked=mixed] ${t}, ${e}[data-indeterminate] ${t}`,readOnly:(e,t)=>`${e}:read-only ${t}, ${e}[readonly] ${t}, ${e}[data-read-only] ${t}`,expanded:(e,t)=>`${e}:read-only ${t}, ${e}[aria-expanded=true] ${t}, ${e}[data-expanded] ${t}`,placeholderShown:(e,t)=>`${e}:placeholder-shown ${t}`},eu=e=>YG(t=>e(t,"&"),"[role=group]","[data-group]",".group"),Wa=e=>YG(t=>e(t,"~ &"),"[data-peer]",".peer"),YG=(e,...t)=>t.map(e).join(", "),tC={_hover:"&:hover, &[data-hover]",_active:"&:active, &[data-active]",_focus:"&:focus, &[data-focus]",_highlighted:"&[data-highlighted]",_focusWithin:"&:focus-within",_focusVisible:"&:focus-visible, &[data-focus-visible]",_disabled:"&:disabled, &[disabled], &[aria-disabled=true], &[data-disabled]",_readOnly:"&[aria-readonly=true], &[readonly], &[data-readonly]",_before:"&::before",_after:"&::after",_empty:"&:empty",_expanded:"&[aria-expanded=true], &[data-expanded]",_checked:"&[aria-checked=true], &[data-checked]",_grabbed:"&[aria-grabbed=true], &[data-grabbed]",_pressed:"&[aria-pressed=true], &[data-pressed]",_invalid:"&[aria-invalid=true], &[data-invalid]",_valid:"&[data-valid], &[data-state=valid]",_loading:"&[data-loading], &[aria-busy=true]",_selected:"&[aria-selected=true], &[data-selected]",_hidden:"&[hidden], &[data-hidden]",_autofill:"&:-webkit-autofill",_even:"&:nth-of-type(even)",_odd:"&:nth-of-type(odd)",_first:"&:first-of-type",_firstLetter:"&::first-letter",_last:"&:last-of-type",_notFirst:"&:not(:first-of-type)",_notLast:"&:not(:last-of-type)",_visited:"&:visited",_activeLink:"&[aria-current=page]",_activeStep:"&[aria-current=step]",_indeterminate:"&:indeterminate, &[aria-checked=mixed], &[data-indeterminate]",_groupHover:eu(Vn.hover),_peerHover:Wa(Vn.hover),_groupFocus:eu(Vn.focus),_peerFocus:Wa(Vn.focus),_groupFocusVisible:eu(Vn.focusVisible),_peerFocusVisible:Wa(Vn.focusVisible),_groupActive:eu(Vn.active),_peerActive:Wa(Vn.active),_groupDisabled:eu(Vn.disabled),_peerDisabled:Wa(Vn.disabled),_groupInvalid:eu(Vn.invalid),_peerInvalid:Wa(Vn.invalid),_groupChecked:eu(Vn.checked),_peerChecked:Wa(Vn.checked),_groupFocusWithin:eu(Vn.focusWithin),_peerFocusWithin:Wa(Vn.focusWithin),_peerPlaceholderShown:Wa(Vn.placeholderShown),_placeholder:"&::placeholder",_placeholderShown:"&:placeholder-shown",_fullScreen:"&:fullscreen",_selection:"&::selection",_rtl:"[dir=rtl] &, &[dir=rtl]",_ltr:"[dir=ltr] &, &[dir=ltr]",_mediaDark:"@media (prefers-color-scheme: dark)",_mediaReduceMotion:"@media (prefers-reduced-motion: reduce)",_dark:".chakra-ui-dark &:not([data-theme]),[data-theme=dark] &:not([data-theme]),&[data-theme=dark]",_light:".chakra-ui-light &:not([data-theme]),[data-theme=light] &:not([data-theme]),&[data-theme=light]",_horizontal:"&[data-orientation=horizontal]",_vertical:"&[data-orientation=vertical]"},XG=Object.keys(tC);function bI(e,t){return _e(String(e).replace(/\./g,"-"),void 0,t)}function Qge(e,t){let n={};const r={};for(const[i,o]of Object.entries(e)){const{isSemantic:s,value:a}=o,{variable:l,reference:u}=bI(i,t==null?void 0:t.cssVarPrefix);if(!s){if(i.startsWith("space")){const d=i.split("."),[h,...p]=d,g=`${h}.-${p.join(".")}`,m=pf.negate(a),y=pf.negate(u);r[g]={value:m,var:l,varRef:y}}n[l]=a,r[i]={value:a,var:l,varRef:u};continue}const c=d=>{const p=[String(i).split(".")[0],d].join(".");if(!e[p])return d;const{reference:m}=bI(p,t==null?void 0:t.cssVarPrefix);return m},f=gi(a)?a:{default:a};n=So(n,Object.entries(f).reduce((d,[h,p])=>{var g,m;if(!p)return d;const y=c(`${p}`);if(h==="default")return d[l]=y,d;const v=(m=(g=tC)==null?void 0:g[h])!=null?m:h;return d[v]={[l]:y},d},{})),r[i]={value:u,var:l,varRef:u}}return{cssVars:n,cssMap:r}}function Zge(e,t=[]){const n=Object.assign({},e);for(const r of t)r in n&&delete n[r];return n}function Jge(e,t){const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}function eme(e){return typeof e=="object"&&e!=null&&!Array.isArray(e)}function xI(e,t,n={}){const{stop:r,getKey:i}=n;function o(s,a=[]){var l;if(eme(s)||Array.isArray(s)){const u={};for(const[c,f]of Object.entries(s)){const d=(l=i==null?void 0:i(c))!=null?l:c,h=[...a,d];if(r!=null&&r(s,h))return t(s,a);u[d]=o(f,h)}return u}return t(s,a)}return o(e)}var tme=["colors","borders","borderWidths","borderStyles","fonts","fontSizes","fontWeights","gradients","letterSpacings","lineHeights","radii","space","shadows","sizes","zIndices","transition","blur","breakpoints"];function nme(e){return Jge(e,tme)}function rme(e){return e.semanticTokens}function ime(e){const{__cssMap:t,__cssVars:n,__breakpoints:r,...i}=e;return i}var ome=e=>XG.includes(e)||e==="default";function sme({tokens:e,semanticTokens:t}){const n={};return xI(e,(r,i)=>{r!=null&&(n[i.join(".")]={isSemantic:!1,value:r})}),xI(t,(r,i)=>{r!=null&&(n[i.join(".")]={isSemantic:!0,value:r})},{stop:r=>Object.keys(r).every(ome)}),n}function ame(e){var t;const n=ime(e),r=nme(n),i=rme(n),o=sme({tokens:r,semanticTokens:i}),s=(t=n.config)==null?void 0:t.cssVarPrefix,{cssMap:a,cssVars:l}=Qge(o,{cssVarPrefix:s});return Object.assign(n,{__cssVars:{...{"--chakra-ring-inset":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-ring-offset-width":"0px","--chakra-ring-offset-color":"#fff","--chakra-ring-color":"rgba(66, 153, 225, 0.6)","--chakra-ring-offset-shadow":"0 0 #0000","--chakra-ring-shadow":"0 0 #0000","--chakra-space-x-reverse":"0","--chakra-space-y-reverse":"0"},...l},__cssMap:a,__breakpoints:Kge(n.breakpoints)}),n}var rP=So({},t2,rt,kge,gw,co,Cge,Rge,_ge,HG,Pge,sy,MT,Tt,Lge,Ige,Dge,Oge,Ege,Nge),lme=Object.assign({},Tt,co,gw,HG,sy),ume=Object.keys(lme),cme=[...Object.keys(rP),...XG],fme={...rP,...tC},dme=e=>e in fme,hme=e=>t=>{if(!t.__breakpoints)return e;const{isResponsive:n,toArrayValue:r,media:i}=t.__breakpoints,o={};for(const s in e){let a=aa(e[s],t);if(a==null)continue;if(a=gi(a)&&n(a)?r(a):a,!Array.isArray(a)){o[s]=a;continue}const l=a.slice(0,i.length).length;for(let u=0;u<l;u+=1){const c=i==null?void 0:i[u];if(!c){o[s]=a[u];continue}o[c]=o[c]||{},a[u]!=null&&(o[c][s]=a[u])}}return o};function pme(e){const t=[];let n="",r=!1;for(let i=0;i<e.length;i++){const o=e[i];o==="("?(r=!0,n+=o):o===")"?(r=!1,n+=o):o===","&&!r?(t.push(n),n=""):n+=o}return n=n.trim(),n&&t.push(n),t}function gme(e){return/^var\(--.+\)$/.test(e)}var mme=(e,t)=>e.startsWith("--")&&typeof t=="string"&&!gme(t),yme=(e,t)=>{var n,r;if(t==null)return t;const i=l=>{var u,c;return(c=(u=e.__cssMap)==null?void 0:u[l])==null?void 0:c.varRef},o=l=>{var u;return(u=i(l))!=null?u:l},[s,a]=pme(t);return t=(r=(n=i(s))!=null?n:o(a))!=null?r:o(t),t};function vme(e){const{configs:t={},pseudos:n={},theme:r}=e,i=(o,s=!1)=>{var a,l,u;const c=aa(o,r),f=hme(c)(r);let d={};for(let h in f){const p=f[h];let g=aa(p,r);h in n&&(h=n[h]),mme(h,g)&&(g=yme(r,g));let m=t[h];if(m===!0&&(m={property:h}),gi(g)){d[h]=(a=d[h])!=null?a:{},d[h]=So({},d[h],i(g,!0));continue}let y=(u=(l=m==null?void 0:m.transform)==null?void 0:l.call(m,g,r,c))!=null?u:g;y=m!=null&&m.processResult?i(y,!0):y;const v=aa(m==null?void 0:m.property,r);if(!s&&(m!=null&&m.static)){const b=aa(m.static,r);d=So({},d,b)}if(v&&Array.isArray(v)){for(const b of v)d[b]=y;continue}if(v){v==="&"&&gi(y)?d=So({},d,y):d[v]=y;continue}if(gi(y)){d=So({},d,y);continue}d[h]=y}return d};return i}var KG=e=>t=>vme({theme:t,pseudos:tC,configs:rP})(e);function $t(e){return{definePartsStyle(t){return t},defineMultiStyleConfig(t){return{parts:e,...t}}}}function bme(e,t){if(Array.isArray(e))return e;if(gi(e))return t(e);if(e!=null)return[e]}function xme(e,t){for(let n=t+1;n<e.length;n++)if(e[n]!=null)return n;return-1}function wme(e){const t=e.__breakpoints;return function(r,i,o,s){var a,l;if(!t)return;const u={},c=bme(o,t.toArrayValue);if(!c)return u;const f=c.length,d=f===1,h=!!r.parts;for(let p=0;p<f;p++){const g=t.details[p],m=t.details[xme(c,p)],y=v0(g.minW,m==null?void 0:m._minW),v=aa((a=r[i])==null?void 0:a[c[p]],s);if(v){if(h){(l=r.parts)==null||l.forEach(b=>{So(u,{[b]:d?v[b]:{[y]:v[b]}})});continue}if(!h){d?So(u,v):u[y]=v;continue}u[y]=v}}return u}}function Sme(e){return t=>{var n;const{variant:r,size:i,theme:o}=t,s=wme(o);return So({},aa((n=e.baseStyle)!=null?n:{},t),s(e,"sizes",i,t),s(e,"variants",r,t))}}function ir(e){return Zge(e,["styleConfig","size","variant","colorScheme"])}var kme=["borders","breakpoints","colors","components","config","direction","fonts","fontSizes","fontWeights","letterSpacings","lineHeights","radii","shadows","sizes","space","styles","transition","zIndices"];function Cme(e){return gi(e)?kme.every(t=>Object.prototype.hasOwnProperty.call(e,t)):!1}var _me={common:"background-color, border-color, color, fill, stroke, opacity, box-shadow, transform",colors:"background-color, border-color, color, fill, stroke",dimensions:"width, height",position:"left, right, top, bottom",background:"background-color, background-image, background-position"},Eme={"ease-in":"cubic-bezier(0.4, 0, 1, 1)","ease-out":"cubic-bezier(0, 0, 0.2, 1)","ease-in-out":"cubic-bezier(0.4, 0, 0.2, 1)"},$me={"ultra-fast":"50ms",faster:"100ms",fast:"150ms",normal:"200ms",slow:"300ms",slower:"400ms","ultra-slow":"500ms"},Ame={property:_me,easing:Eme,duration:$me},Tme=Ame,Mme={hide:-1,auto:"auto",base:0,docked:10,dropdown:1e3,sticky:1100,banner:1200,overlay:1300,modal:1400,popover:1500,skipLink:1600,toast:1700,tooltip:1800},Fme=Mme,Pme={none:0,"1px":"1px solid","2px":"2px solid","4px":"4px solid","8px":"8px solid"},Rme=Pme,Dme={base:"0em",sm:"30em",md:"48em",lg:"62em",xl:"80em","2xl":"96em"},Ome=Dme,Nme={transparent:"transparent",current:"currentColor",black:"#000000",white:"#FFFFFF",whiteAlpha:{50:"rgba(255, 255, 255, 0.04)",100:"rgba(255, 255, 255, 0.06)",200:"rgba(255, 255, 255, 0.08)",300:"rgba(255, 255, 255, 0.16)",400:"rgba(255, 255, 255, 0.24)",500:"rgba(255, 255, 255, 0.36)",600:"rgba(255, 255, 255, 0.48)",700:"rgba(255, 255, 255, 0.64)",800:"rgba(255, 255, 255, 0.80)",900:"rgba(255, 255, 255, 0.92)"},blackAlpha:{50:"rgba(0, 0, 0, 0.04)",100:"rgba(0, 0, 0, 0.06)",200:"rgba(0, 0, 0, 0.08)",300:"rgba(0, 0, 0, 0.16)",400:"rgba(0, 0, 0, 0.24)",500:"rgba(0, 0, 0, 0.36)",600:"rgba(0, 0, 0, 0.48)",700:"rgba(0, 0, 0, 0.64)",800:"rgba(0, 0, 0, 0.80)",900:"rgba(0, 0, 0, 0.92)"},gray:{50:"#F7FAFC",100:"#EDF2F7",200:"#E2E8F0",300:"#CBD5E0",400:"#A0AEC0",500:"#718096",600:"#4A5568",700:"#2D3748",800:"#1A202C",900:"#171923"},red:{50:"#FFF5F5",100:"#FED7D7",200:"#FEB2B2",300:"#FC8181",400:"#F56565",500:"#E53E3E",600:"#C53030",700:"#9B2C2C",800:"#822727",900:"#63171B"},orange:{50:"#FFFAF0",100:"#FEEBC8",200:"#FBD38D",300:"#F6AD55",400:"#ED8936",500:"#DD6B20",600:"#C05621",700:"#9C4221",800:"#7B341E",900:"#652B19"},yellow:{50:"#FFFFF0",100:"#FEFCBF",200:"#FAF089",300:"#F6E05E",400:"#ECC94B",500:"#D69E2E",600:"#B7791F",700:"#975A16",800:"#744210",900:"#5F370E"},green:{50:"#F0FFF4",100:"#C6F6D5",200:"#9AE6B4",300:"#68D391",400:"#48BB78",500:"#38A169",600:"#2F855A",700:"#276749",800:"#22543D",900:"#1C4532"},teal:{50:"#E6FFFA",100:"#B2F5EA",200:"#81E6D9",300:"#4FD1C5",400:"#38B2AC",500:"#319795",600:"#2C7A7B",700:"#285E61",800:"#234E52",900:"#1D4044"},blue:{50:"#ebf8ff",100:"#bee3f8",200:"#90cdf4",300:"#63b3ed",400:"#4299e1",500:"#3182ce",600:"#2b6cb0",700:"#2c5282",800:"#2a4365",900:"#1A365D"},cyan:{50:"#EDFDFD",100:"#C4F1F9",200:"#9DECF9",300:"#76E4F7",400:"#0BC5EA",500:"#00B5D8",600:"#00A3C4",700:"#0987A0",800:"#086F83",900:"#065666"},purple:{50:"#FAF5FF",100:"#E9D8FD",200:"#D6BCFA",300:"#B794F4",400:"#9F7AEA",500:"#805AD5",600:"#6B46C1",700:"#553C9A",800:"#44337A",900:"#322659"},pink:{50:"#FFF5F7",100:"#FED7E2",200:"#FBB6CE",300:"#F687B3",400:"#ED64A6",500:"#D53F8C",600:"#B83280",700:"#97266D",800:"#702459",900:"#521B41"},linkedin:{50:"#E8F4F9",100:"#CFEDFB",200:"#9BDAF3",300:"#68C7EC",400:"#34B3E4",500:"#00A0DC",600:"#008CC9",700:"#0077B5",800:"#005E93",900:"#004471"},facebook:{50:"#E8F4F9",100:"#D9DEE9",200:"#B7C2DA",300:"#6482C0",400:"#4267B2",500:"#385898",600:"#314E89",700:"#29487D",800:"#223B67",900:"#1E355B"},messenger:{50:"#D0E6FF",100:"#B9DAFF",200:"#A2CDFF",300:"#7AB8FF",400:"#2E90FF",500:"#0078FF",600:"#0063D1",700:"#0052AC",800:"#003C7E",900:"#002C5C"},whatsapp:{50:"#dffeec",100:"#b9f5d0",200:"#90edb3",300:"#65e495",400:"#3cdd78",500:"#22c35e",600:"#179848",700:"#0c6c33",800:"#01421c",900:"#001803"},twitter:{50:"#E5F4FD",100:"#C8E9FB",200:"#A8DCFA",300:"#83CDF7",400:"#57BBF5",500:"#1DA1F2",600:"#1A94DA",700:"#1681BF",800:"#136B9E",900:"#0D4D71"},telegram:{50:"#E3F2F9",100:"#C5E4F3",200:"#A2D4EC",300:"#7AC1E4",400:"#47A9DA",500:"#0088CC",600:"#007AB8",700:"#006BA1",800:"#005885",900:"#003F5E"}},Ime=Nme,Lme={none:"0",sm:"0.125rem",base:"0.25rem",md:"0.375rem",lg:"0.5rem",xl:"0.75rem","2xl":"1rem","3xl":"1.5rem",full:"9999px"},zme=Lme,jme={xs:"0 0 0 1px rgba(0, 0, 0, 0.05)",sm:"0 1px 2px 0 rgba(0, 0, 0, 0.05)",base:"0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06)",md:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",lg:"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)",xl:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)","2xl":"0 25px 50px -12px rgba(0, 0, 0, 0.25)",outline:"0 0 0 3px rgba(66, 153, 225, 0.6)",inner:"inset 0 2px 4px 0 rgba(0,0,0,0.06)",none:"none","dark-lg":"rgba(0, 0, 0, 0.1) 0px 0px 0px 1px, rgba(0, 0, 0, 0.2) 0px 5px 10px, rgba(0, 0, 0, 0.4) 0px 15px 40px"},Bme=jme,Ume={none:0,sm:"4px",base:"8px",md:"12px",lg:"16px",xl:"24px","2xl":"40px","3xl":"64px"},Vme=Ume,Wme={letterSpacings:{tighter:"-0.05em",tight:"-0.025em",normal:"0",wide:"0.025em",wider:"0.05em",widest:"0.1em"},lineHeights:{normal:"normal",none:1,shorter:1.25,short:1.375,base:1.5,tall:1.625,taller:"2",3:".75rem",4:"1rem",5:"1.25rem",6:"1.5rem",7:"1.75rem",8:"2rem",9:"2.25rem",10:"2.5rem"},fontWeights:{hairline:100,thin:200,light:300,normal:400,medium:500,semibold:600,bold:700,extrabold:800,black:900},fonts:{heading:'-apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',body:'-apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',mono:'SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace'},fontSizes:{"3xs":"0.45rem","2xs":"0.625rem",xs:"0.75rem",sm:"0.875rem",md:"1rem",lg:"1.125rem",xl:"1.25rem","2xl":"1.5rem","3xl":"1.875rem","4xl":"2.25rem","5xl":"3rem","6xl":"3.75rem","7xl":"4.5rem","8xl":"6rem","9xl":"8rem"}},QG=Wme,ZG={px:"1px",.5:"0.125rem",1:"0.25rem",1.5:"0.375rem",2:"0.5rem",2.5:"0.625rem",3:"0.75rem",3.5:"0.875rem",4:"1rem",5:"1.25rem",6:"1.5rem",7:"1.75rem",8:"2rem",9:"2.25rem",10:"2.5rem",12:"3rem",14:"3.5rem",16:"4rem",20:"5rem",24:"6rem",28:"7rem",32:"8rem",36:"9rem",40:"10rem",44:"11rem",48:"12rem",52:"13rem",56:"14rem",60:"15rem",64:"16rem",72:"18rem",80:"20rem",96:"24rem"},Hme={max:"max-content",min:"min-content",full:"100%","3xs":"14rem","2xs":"16rem",xs:"20rem",sm:"24rem",md:"28rem",lg:"32rem",xl:"36rem","2xl":"42rem","3xl":"48rem","4xl":"56rem","5xl":"64rem","6xl":"72rem","7xl":"80rem","8xl":"90rem",prose:"60ch"},qme={sm:"640px",md:"768px",lg:"1024px",xl:"1280px"},Gme={...ZG,...Hme,container:qme},JG=Gme,Yme={breakpoints:Ome,zIndices:Fme,radii:zme,blur:Vme,colors:Ime,...QG,sizes:JG,shadows:Bme,space:ZG,borders:Rme,transition:Tme},{defineMultiStyleConfig:Xme,definePartsStyle:b0}=$t(["stepper","step","title","description","indicator","separator","icon","number"]),tl=_e("stepper-indicator-size"),Uh=_e("stepper-icon-size"),Vh=_e("stepper-title-font-size"),x0=_e("stepper-description-font-size"),Dm=_e("stepper-accent-color"),Kme=b0(({colorScheme:e})=>({stepper:{display:"flex",justifyContent:"space-between",gap:"4","&[data-orientation=vertical]":{flexDirection:"column",alignItems:"flex-start"},"&[data-orientation=horizontal]":{flexDirection:"row",alignItems:"center"},[Dm.variable]:`colors.${e}.500`,_dark:{[Dm.variable]:`colors.${e}.200`}},title:{fontSize:Vh.reference,fontWeight:"medium"},description:{fontSize:x0.reference,color:"chakra-subtle-text"},number:{fontSize:Vh.reference},step:{flexShrink:0,position:"relative",display:"flex",gap:"2","&[data-orientation=horizontal]":{alignItems:"center"},flex:"1","&:last-of-type:not([data-stretch])":{flex:"initial"}},icon:{flexShrink:0,width:Uh.reference,height:Uh.reference},indicator:{flexShrink:0,borderRadius:"full",width:tl.reference,height:tl.reference,display:"flex",justifyContent:"center",alignItems:"center","&[data-status=active]":{borderWidth:"2px",borderColor:Dm.reference},"&[data-status=complete]":{bg:Dm.reference,color:"chakra-inverse-text"},"&[data-status=incomplete]":{borderWidth:"2px"}},separator:{bg:"chakra-border-color",flex:"1","&[data-status=complete]":{bg:Dm.reference},"&[data-orientation=horizontal]":{width:"100%",height:"2px",marginStart:"2"},"&[data-orientation=vertical]":{width:"2px",position:"absolute",height:"100%",maxHeight:`calc(100% - ${tl.reference} - 8px)`,top:`calc(${tl.reference} + 4px)`,insetStart:`calc(${tl.reference} / 2 - 1px)`}}})),Qme=Xme({baseStyle:Kme,sizes:{xs:b0({stepper:{[tl.variable]:"sizes.4",[Uh.variable]:"sizes.3",[Vh.variable]:"fontSizes.xs",[x0.variable]:"fontSizes.xs"}}),sm:b0({stepper:{[tl.variable]:"sizes.6",[Uh.variable]:"sizes.4",[Vh.variable]:"fontSizes.sm",[x0.variable]:"fontSizes.xs"}}),md:b0({stepper:{[tl.variable]:"sizes.8",[Uh.variable]:"sizes.5",[Vh.variable]:"fontSizes.md",[x0.variable]:"fontSizes.sm"}}),lg:b0({stepper:{[tl.variable]:"sizes.10",[Uh.variable]:"sizes.6",[Vh.variable]:"fontSizes.lg",[x0.variable]:"fontSizes.md"}})},defaultProps:{size:"md",colorScheme:"blue"}});function lt(e,t={}){let n=!1;function r(){if(!n){n=!0;return}throw new Error("[anatomy] .part(...) should only be called once. Did you mean to use .extend(...) ?")}function i(...c){r();for(const f of c)t[f]=l(f);return lt(e,t)}function o(...c){for(const f of c)f in t||(t[f]=l(f));return lt(e,t)}function s(){return Object.fromEntries(Object.entries(t).map(([f,d])=>[f,d.selector]))}function a(){return Object.fromEntries(Object.entries(t).map(([f,d])=>[f,d.className]))}function l(c){const h=`chakra-${(["container","root"].includes(c??"")?[e]:[e,c]).filter(Boolean).join("__")}`;return{className:h,selector:`.${h}`,toString:()=>c}}return{parts:i,toPart:l,extend:o,selectors:s,classnames:a,get keys(){return Object.keys(t)},__type:{}}}var Zme=lt("accordion").parts("root","container","button","panel").extend("icon"),Jme=lt("alert").parts("title","description","container").extend("icon","spinner"),e0e=lt("avatar").parts("label","badge","container").extend("excessLabel","group"),t0e=lt("breadcrumb").parts("link","item","container").extend("separator");lt("button").parts();var n0e=lt("checkbox").parts("control","icon","container").extend("label");lt("progress").parts("track","filledTrack").extend("label");var r0e=lt("drawer").parts("overlay","dialogContainer","dialog").extend("header","closeButton","body","footer"),i0e=lt("editable").parts("preview","input","textarea"),o0e=lt("form").parts("container","requiredIndicator","helperText"),s0e=lt("formError").parts("text","icon"),a0e=lt("input").parts("addon","field","element","group"),l0e=lt("list").parts("container","item","icon"),u0e=lt("menu").parts("button","list","item").extend("groupTitle","icon","command","divider"),c0e=lt("modal").parts("overlay","dialogContainer","dialog").extend("header","closeButton","body","footer"),f0e=lt("numberinput").parts("root","field","stepperGroup","stepper");lt("pininput").parts("field");var d0e=lt("popover").parts("content","header","body","footer").extend("popper","arrow","closeButton"),h0e=lt("progress").parts("label","filledTrack","track"),p0e=lt("radio").parts("container","control","label"),g0e=lt("select").parts("field","icon"),m0e=lt("slider").parts("container","track","thumb","filledTrack","mark"),y0e=lt("stat").parts("container","label","helpText","number","icon"),v0e=lt("switch").parts("container","track","thumb","label"),b0e=lt("table").parts("table","thead","tbody","tr","th","td","tfoot","caption"),x0e=lt("tabs").parts("root","tab","tablist","tabpanel","tabpanels","indicator"),w0e=lt("tag").parts("container","label","closeButton"),S0e=lt("card").parts("container","header","body","footer");lt("stepper").parts("stepper","step","title","description","indicator","separator","icon","number");function Ef(e,t,n){return Math.min(Math.max(e,n),t)}class k0e extends Error{constructor(t){super(`Failed to parse color: "${t}"`)}}var w0=k0e;function iP(e){if(typeof e!="string")throw new w0(e);if(e.trim().toLowerCase()==="transparent")return[0,0,0,0];let t=e.trim();t=F0e.test(e)?E0e(e):e;const n=$0e.exec(t);if(n){const s=Array.from(n).slice(1);return[...s.slice(0,3).map(a=>parseInt(t1(a,2),16)),parseInt(t1(s[3]||"f",2),16)/255]}const r=A0e.exec(t);if(r){const s=Array.from(r).slice(1);return[...s.slice(0,3).map(a=>parseInt(a,16)),parseInt(s[3]||"ff",16)/255]}const i=T0e.exec(t);if(i){const s=Array.from(i).slice(1);return[...s.slice(0,3).map(a=>parseInt(a,10)),parseFloat(s[3]||"1")]}const o=M0e.exec(t);if(o){const[s,a,l,u]=Array.from(o).slice(1).map(parseFloat);if(Ef(0,100,a)!==a)throw new w0(e);if(Ef(0,100,l)!==l)throw new w0(e);return[...P0e(s,a,l),Number.isNaN(u)?1:u]}throw new w0(e)}function C0e(e){let t=5381,n=e.length;for(;n;)t=t*33^e.charCodeAt(--n);return(t>>>0)%2341}const wI=e=>parseInt(e.replace(/_/g,""),36),_0e="1q29ehhb 1n09sgk7 1kl1ekf_ _yl4zsno 16z9eiv3 1p29lhp8 _bd9zg04 17u0____ _iw9zhe5 _to73___ _r45e31e _7l6g016 _jh8ouiv _zn3qba8 1jy4zshs 11u87k0u 1ro9yvyo 1aj3xael 1gz9zjz0 _3w8l4xo 1bf1ekf_ _ke3v___ _4rrkb__ 13j776yz _646mbhl _nrjr4__ _le6mbhl 1n37ehkb _m75f91n _qj3bzfz 1939yygw 11i5z6x8 _1k5f8xs 1509441m 15t5lwgf _ae2th1n _tg1ugcv 1lp1ugcv 16e14up_ _h55rw7n _ny9yavn _7a11xb_ 1ih442g9 _pv442g9 1mv16xof 14e6y7tu 1oo9zkds 17d1cisi _4v9y70f _y98m8kc 1019pq0v 12o9zda8 _348j4f4 1et50i2o _8epa8__ _ts6senj 1o350i2o 1mi9eiuo 1259yrp0 1ln80gnw _632xcoy 1cn9zldc _f29edu4 1n490c8q _9f9ziet 1b94vk74 _m49zkct 1kz6s73a 1eu9dtog _q58s1rz 1dy9sjiq __u89jo3 _aj5nkwg _ld89jo3 13h9z6wx _qa9z2ii _l119xgq _bs5arju 1hj4nwk9 1qt4nwk9 1ge6wau6 14j9zlcw 11p1edc_ _ms1zcxe _439shk6 _jt9y70f _754zsow 1la40eju _oq5p___ _x279qkz 1fa5r3rv _yd2d9ip _424tcku _8y1di2_ _zi2uabw _yy7rn9h 12yz980_ __39ljp6 1b59zg0x _n39zfzp 1fy9zest _b33k___ _hp9wq92 1il50hz4 _io472ub _lj9z3eo 19z9ykg0 _8t8iu3a 12b9bl4a 1ak5yw0o _896v4ku _tb8k8lv _s59zi6t _c09ze0p 1lg80oqn 1id9z8wb _238nba5 1kq6wgdi _154zssg _tn3zk49 _da9y6tc 1sg7cv4f _r12jvtt 1gq5fmkz 1cs9rvci _lp9jn1c _xw1tdnb 13f9zje6 16f6973h _vo7ir40 _bt5arjf _rc45e4t _hr4e100 10v4e100 _hc9zke2 _w91egv_ _sj2r1kk 13c87yx8 _vqpds__ _ni8ggk8 _tj9yqfb 1ia2j4r4 _7x9b10u 1fc9ld4j 1eq9zldr _5j9lhpx _ez9zl6o _md61fzm".split(" ").reduce((e,t)=>{const n=wI(t.substring(0,3)),r=wI(t.substring(3)).toString(16);let i="";for(let o=0;o<6-r.length;o++)i+="0";return e[n]=`${i}${r}`,e},{});function E0e(e){const t=e.toLowerCase().trim(),n=_0e[C0e(t)];if(!n)throw new w0(e);return`#${n}`}const t1=(e,t)=>Array.from(Array(t)).map(()=>e).join(""),$0e=new RegExp(`^#${t1("([a-f0-9])",3)}([a-f0-9])?$`,"i"),A0e=new RegExp(`^#${t1("([a-f0-9]{2})",3)}([a-f0-9]{2})?$`,"i"),T0e=new RegExp(`^rgba?\\(\\s*(\\d+)\\s*${t1(",\\s*(\\d+)\\s*",2)}(?:,\\s*([\\d.]+))?\\s*\\)$`,"i"),M0e=/^hsla?\(\s*([\d.]+)\s*,\s*([\d.]+)%\s*,\s*([\d.]+)%(?:\s*,\s*([\d.]+))?\s*\)$/i,F0e=/^[a-z]+$/i,SI=e=>Math.round(e*255),P0e=(e,t,n)=>{let r=n/100;if(t===0)return[r,r,r].map(SI);const i=(e%360+360)%360/60,o=(1-Math.abs(2*r-1))*(t/100),s=o*(1-Math.abs(i%2-1));let a=0,l=0,u=0;i>=0&&i<1?(a=o,l=s):i>=1&&i<2?(a=s,l=o):i>=2&&i<3?(l=o,u=s):i>=3&&i<4?(l=s,u=o):i>=4&&i<5?(a=s,u=o):i>=5&&i<6&&(a=o,u=s);const c=r-o/2,f=a+c,d=l+c,h=u+c;return[f,d,h].map(SI)};function R0e(e,t,n,r){return`rgba(${Ef(0,255,e).toFixed()}, ${Ef(0,255,t).toFixed()}, ${Ef(0,255,n).toFixed()}, ${parseFloat(Ef(0,1,r).toFixed(3))})`}function D0e(e,t){const[n,r,i,o]=iP(e);return R0e(n,r,i,o-t)}function O0e(e){const[t,n,r,i]=iP(e);let o=s=>{const a=Ef(0,255,s).toString(16);return a.length===1?`0${a}`:a};return`#${o(t)}${o(n)}${o(r)}${i<1?o(Math.round(i*255)):""}`}function N0e(e,t,n,r,i){for(t=t.split?t.split("."):t,r=0;r<t.length;r++)e=e?e[t[r]]:i;return e===i?n:e}var I0e=e=>Object.keys(e).length===0,Vr=(e,t,n)=>{const r=N0e(e,`colors.${t}`,t);try{return O0e(r),r}catch{return n??"#000000"}},L0e=e=>{const[t,n,r]=iP(e);return(t*299+n*587+r*114)/1e3},z0e=e=>t=>{const n=Vr(t,e);return L0e(n)<128?"dark":"light"},j0e=e=>t=>z0e(e)(t)==="dark",Xp=(e,t)=>n=>{const r=Vr(n,e);return D0e(r,1-t)};function kI(e="1rem",t="rgba(255, 255, 255, 0.15)"){return{backgroundImage:`linear-gradient(
    45deg,
    ${t} 25%,
    transparent 25%,
    transparent 50%,
    ${t} 50%,
    ${t} 75%,
    transparent 75%,
    transparent
  )`,backgroundSize:`${e} ${e}`}}var B0e=()=>`#${Math.floor(Math.random()*16777215).toString(16).padEnd(6,"0")}`;function U0e(e){const t=B0e();return!e||I0e(e)?t:e.string&&e.colors?W0e(e.string,e.colors):e.string&&!e.colors?V0e(e.string):e.colors&&!e.string?H0e(e.colors):t}function V0e(e){let t=0;if(e.length===0)return t.toString();for(let r=0;r<e.length;r+=1)t=e.charCodeAt(r)+((t<<5)-t),t=t&t;let n="#";for(let r=0;r<3;r+=1){const i=t>>r*8&255;n+=`00${i.toString(16)}`.substr(-2)}return n}function W0e(e,t){let n=0;if(e.length===0)return t[0];for(let r=0;r<e.length;r+=1)n=e.charCodeAt(r)+((n<<5)-n),n=n&n;return n=(n%t.length+t.length)%t.length,t[n]}function H0e(e){return e[Math.floor(Math.random()*e.length)]}function Ce(e,t){return n=>n.colorMode==="dark"?t:e}function oP(e){const{orientation:t,vertical:n,horizontal:r}=e;return t?t==="vertical"?n:r:{}}function eY(e){return gi(e)&&e.reference?e.reference:String(e)}var nC=(e,...t)=>t.map(eY).join(` ${e} `).replace(/calc/g,""),CI=(...e)=>`calc(${nC("+",...e)})`,_I=(...e)=>`calc(${nC("-",...e)})`,RT=(...e)=>`calc(${nC("*",...e)})`,EI=(...e)=>`calc(${nC("/",...e)})`,$I=e=>{const t=eY(e);return t!=null&&!Number.isNaN(parseFloat(t))?String(t).startsWith("-")?String(t).slice(1):`-${t}`:RT(t,-1)},nl=Object.assign(e=>({add:(...t)=>nl(CI(e,...t)),subtract:(...t)=>nl(_I(e,...t)),multiply:(...t)=>nl(RT(e,...t)),divide:(...t)=>nl(EI(e,...t)),negate:()=>nl($I(e)),toString:()=>e.toString()}),{add:CI,subtract:_I,multiply:RT,divide:EI,negate:$I});function q0e(e){return!Number.isInteger(parseFloat(e.toString()))}function G0e(e,t="-"){return e.replace(/\s+/g,t)}function tY(e){const t=G0e(e.toString());return t.includes("\\.")?e:q0e(e)?t.replace(".","\\."):e}function Y0e(e,t=""){return[t,tY(e)].filter(Boolean).join("-")}function X0e(e,t){return`var(${tY(e)}${t?`, ${t}`:""})`}function K0e(e,t=""){return`--${Y0e(e,t)}`}function Cn(e,t){const n=K0e(e,void 0);return{variable:n,reference:X0e(n,Q0e(void 0))}}function Q0e(e){return typeof e=="string"?e:e==null?void 0:e.reference}var{defineMultiStyleConfig:Z0e,definePartsStyle:n2}=$t(v0e.keys),ay=Cn("switch-track-width"),Bf=Cn("switch-track-height"),p$=Cn("switch-track-diff"),J0e=nl.subtract(ay,Bf),DT=Cn("switch-thumb-x"),Om=Cn("switch-bg"),eye=e=>{const{colorScheme:t}=e;return{borderRadius:"full",p:"0.5",width:[ay.reference],height:[Bf.reference],transitionProperty:"common",transitionDuration:"fast",[Om.variable]:"colors.gray.300",_dark:{[Om.variable]:"colors.whiteAlpha.400"},_focusVisible:{boxShadow:"outline"},_disabled:{opacity:.4,cursor:"not-allowed"},_checked:{[Om.variable]:`colors.${t}.500`,_dark:{[Om.variable]:`colors.${t}.200`}},bg:Om.reference}},tye={bg:"white",transitionProperty:"transform",transitionDuration:"normal",borderRadius:"inherit",width:[Bf.reference],height:[Bf.reference],_checked:{transform:`translateX(${DT.reference})`}},nye=n2(e=>({container:{[p$.variable]:J0e,[DT.variable]:p$.reference,_rtl:{[DT.variable]:nl(p$).negate().toString()}},track:eye(e),thumb:tye})),rye={sm:n2({container:{[ay.variable]:"1.375rem",[Bf.variable]:"sizes.3"}}),md:n2({container:{[ay.variable]:"1.875rem",[Bf.variable]:"sizes.4"}}),lg:n2({container:{[ay.variable]:"2.875rem",[Bf.variable]:"sizes.6"}})},iye=Z0e({baseStyle:nye,sizes:rye,defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:oye,definePartsStyle:dp}=$t(b0e.keys),sye=dp({table:{fontVariantNumeric:"lining-nums tabular-nums",borderCollapse:"collapse",width:"full"},th:{fontFamily:"heading",fontWeight:"bold",textTransform:"uppercase",letterSpacing:"wider",textAlign:"start"},td:{textAlign:"start"},caption:{mt:4,fontFamily:"heading",textAlign:"center",fontWeight:"medium"}}),mw={"&[data-is-numeric=true]":{textAlign:"end"}},aye=dp(e=>{const{colorScheme:t}=e;return{th:{color:Ce("gray.600","gray.400")(e),borderBottom:"1px",borderColor:Ce(`${t}.100`,`${t}.700`)(e),...mw},td:{borderBottom:"1px",borderColor:Ce(`${t}.100`,`${t}.700`)(e),...mw},caption:{color:Ce("gray.600","gray.100")(e)},tfoot:{tr:{"&:last-of-type":{th:{borderBottomWidth:0}}}}}}),lye=dp(e=>{const{colorScheme:t}=e;return{th:{color:Ce("gray.600","gray.400")(e),borderBottom:"1px",borderColor:Ce(`${t}.100`,`${t}.700`)(e),...mw},td:{borderBottom:"1px",borderColor:Ce(`${t}.100`,`${t}.700`)(e),...mw},caption:{color:Ce("gray.600","gray.100")(e)},tbody:{tr:{"&:nth-of-type(odd)":{"th, td":{borderBottomWidth:"1px",borderColor:Ce(`${t}.100`,`${t}.700`)(e)},td:{background:Ce(`${t}.100`,`${t}.700`)(e)}}}},tfoot:{tr:{"&:last-of-type":{th:{borderBottomWidth:0}}}}}}),uye={simple:aye,striped:lye,unstyled:{}},cye={sm:dp({th:{px:"4",py:"1",lineHeight:"4",fontSize:"xs"},td:{px:"4",py:"2",fontSize:"sm",lineHeight:"4"},caption:{px:"4",py:"2",fontSize:"xs"}}),md:dp({th:{px:"6",py:"3",lineHeight:"4",fontSize:"xs"},td:{px:"6",py:"4",lineHeight:"5"},caption:{px:"6",py:"2",fontSize:"sm"}}),lg:dp({th:{px:"8",py:"4",lineHeight:"5",fontSize:"sm"},td:{px:"8",py:"5",lineHeight:"6"},caption:{px:"6",py:"2",fontSize:"md"}})},fye=oye({baseStyle:sye,variants:uye,sizes:cye,defaultProps:{variant:"simple",size:"md",colorScheme:"gray"}}),li=_e("tabs-color"),ss=_e("tabs-bg"),Nb=_e("tabs-border-color"),{defineMultiStyleConfig:dye,definePartsStyle:pa}=$t(x0e.keys),hye=e=>{const{orientation:t}=e;return{display:t==="vertical"?"flex":"block"}},pye=e=>{const{isFitted:t}=e;return{flex:t?1:void 0,transitionProperty:"common",transitionDuration:"normal",_focusVisible:{zIndex:1,boxShadow:"outline"},_disabled:{cursor:"not-allowed",opacity:.4}}},gye=e=>{const{align:t="start",orientation:n}=e;return{justifyContent:{end:"flex-end",center:"center",start:"flex-start"}[t],flexDirection:n==="vertical"?"column":"row"}},mye={p:4},yye=pa(e=>({root:hye(e),tab:pye(e),tablist:gye(e),tabpanel:mye})),vye={sm:pa({tab:{py:1,px:4,fontSize:"sm"}}),md:pa({tab:{fontSize:"md",py:2,px:4}}),lg:pa({tab:{fontSize:"lg",py:3,px:4}})},bye=pa(e=>{const{colorScheme:t,orientation:n}=e,r=n==="vertical",i=r?"borderStart":"borderBottom",o=r?"marginStart":"marginBottom";return{tablist:{[i]:"2px solid",borderColor:"inherit"},tab:{[i]:"2px solid",borderColor:"transparent",[o]:"-2px",_selected:{[li.variable]:`colors.${t}.600`,_dark:{[li.variable]:`colors.${t}.300`},borderColor:"currentColor"},_active:{[ss.variable]:"colors.gray.200",_dark:{[ss.variable]:"colors.whiteAlpha.300"}},_disabled:{_active:{bg:"none"}},color:li.reference,bg:ss.reference}}}),xye=pa(e=>{const{colorScheme:t}=e;return{tab:{borderTopRadius:"md",border:"1px solid",borderColor:"transparent",mb:"-1px",[Nb.variable]:"transparent",_selected:{[li.variable]:`colors.${t}.600`,[Nb.variable]:"colors.white",_dark:{[li.variable]:`colors.${t}.300`,[Nb.variable]:"colors.gray.800"},borderColor:"inherit",borderBottomColor:Nb.reference},color:li.reference},tablist:{mb:"-1px",borderBottom:"1px solid",borderColor:"inherit"}}}),wye=pa(e=>{const{colorScheme:t}=e;return{tab:{border:"1px solid",borderColor:"inherit",[ss.variable]:"colors.gray.50",_dark:{[ss.variable]:"colors.whiteAlpha.50"},mb:"-1px",_notLast:{marginEnd:"-1px"},_selected:{[ss.variable]:"colors.white",[li.variable]:`colors.${t}.600`,_dark:{[ss.variable]:"colors.gray.800",[li.variable]:`colors.${t}.300`},borderColor:"inherit",borderTopColor:"currentColor",borderBottomColor:"transparent"},color:li.reference,bg:ss.reference},tablist:{mb:"-1px",borderBottom:"1px solid",borderColor:"inherit"}}}),Sye=pa(e=>{const{colorScheme:t,theme:n}=e;return{tab:{borderRadius:"full",fontWeight:"semibold",color:"gray.600",_selected:{color:Vr(n,`${t}.700`),bg:Vr(n,`${t}.100`)}}}}),kye=pa(e=>{const{colorScheme:t}=e;return{tab:{borderRadius:"full",fontWeight:"semibold",[li.variable]:"colors.gray.600",_dark:{[li.variable]:"inherit"},_selected:{[li.variable]:"colors.white",[ss.variable]:`colors.${t}.600`,_dark:{[li.variable]:"colors.gray.800",[ss.variable]:`colors.${t}.300`}},color:li.reference,bg:ss.reference}}}),Cye=pa({}),_ye={line:bye,enclosed:xye,"enclosed-colored":wye,"soft-rounded":Sye,"solid-rounded":kye,unstyled:Cye},Eye=dye({baseStyle:yye,sizes:vye,variants:_ye,defaultProps:{size:"md",variant:"line",colorScheme:"blue"}}),an=qge("badge",["bg","color","shadow"]),$ye={px:1,textTransform:"uppercase",fontSize:"xs",borderRadius:"sm",fontWeight:"bold",bg:an.bg.reference,color:an.color.reference,boxShadow:an.shadow.reference},Aye=e=>{const{colorScheme:t,theme:n}=e,r=Xp(`${t}.500`,.6)(n);return{[an.bg.variable]:`colors.${t}.500`,[an.color.variable]:"colors.white",_dark:{[an.bg.variable]:r,[an.color.variable]:"colors.whiteAlpha.800"}}},Tye=e=>{const{colorScheme:t,theme:n}=e,r=Xp(`${t}.200`,.16)(n);return{[an.bg.variable]:`colors.${t}.100`,[an.color.variable]:`colors.${t}.800`,_dark:{[an.bg.variable]:r,[an.color.variable]:`colors.${t}.200`}}},Mye=e=>{const{colorScheme:t,theme:n}=e,r=Xp(`${t}.200`,.8)(n);return{[an.color.variable]:`colors.${t}.500`,_dark:{[an.color.variable]:r},[an.shadow.variable]:`inset 0 0 0px 1px ${an.color.reference}`}},Fye={solid:Aye,subtle:Tye,outline:Mye},ly={baseStyle:$ye,variants:Fye,defaultProps:{variant:"subtle",colorScheme:"gray"}},{defineMultiStyleConfig:Pye,definePartsStyle:Uf}=$t(w0e.keys),AI=_e("tag-bg"),TI=_e("tag-color"),g$=_e("tag-shadow"),r2=_e("tag-min-height"),i2=_e("tag-min-width"),o2=_e("tag-font-size"),s2=_e("tag-padding-inline"),Rye={fontWeight:"medium",lineHeight:1.2,outline:0,[TI.variable]:an.color.reference,[AI.variable]:an.bg.reference,[g$.variable]:an.shadow.reference,color:TI.reference,bg:AI.reference,boxShadow:g$.reference,borderRadius:"md",minH:r2.reference,minW:i2.reference,fontSize:o2.reference,px:s2.reference,_focusVisible:{[g$.variable]:"shadows.outline"}},Dye={lineHeight:1.2,overflow:"visible"},Oye={fontSize:"lg",w:"5",h:"5",transitionProperty:"common",transitionDuration:"normal",borderRadius:"full",marginStart:"1.5",marginEnd:"-1",opacity:.5,_disabled:{opacity:.4},_focusVisible:{boxShadow:"outline",bg:"rgba(0, 0, 0, 0.14)"},_hover:{opacity:.8},_active:{opacity:1}},Nye=Uf({container:Rye,label:Dye,closeButton:Oye}),Iye={sm:Uf({container:{[r2.variable]:"sizes.5",[i2.variable]:"sizes.5",[o2.variable]:"fontSizes.xs",[s2.variable]:"space.2"},closeButton:{marginEnd:"-2px",marginStart:"0.35rem"}}),md:Uf({container:{[r2.variable]:"sizes.6",[i2.variable]:"sizes.6",[o2.variable]:"fontSizes.sm",[s2.variable]:"space.2"}}),lg:Uf({container:{[r2.variable]:"sizes.8",[i2.variable]:"sizes.8",[o2.variable]:"fontSizes.md",[s2.variable]:"space.3"}})},Lye={subtle:Uf(e=>{var t;return{container:(t=ly.variants)==null?void 0:t.subtle(e)}}),solid:Uf(e=>{var t;return{container:(t=ly.variants)==null?void 0:t.solid(e)}}),outline:Uf(e=>{var t;return{container:(t=ly.variants)==null?void 0:t.outline(e)}})},zye=Pye({variants:Lye,baseStyle:Nye,sizes:Iye,defaultProps:{size:"md",variant:"subtle",colorScheme:"gray"}}),{definePartsStyle:al,defineMultiStyleConfig:jye}=$t(a0e.keys),Wh=_e("input-height"),Hh=_e("input-font-size"),qh=_e("input-padding"),Gh=_e("input-border-radius"),Bye=al({addon:{height:Wh.reference,fontSize:Hh.reference,px:qh.reference,borderRadius:Gh.reference},field:{width:"100%",height:Wh.reference,fontSize:Hh.reference,px:qh.reference,borderRadius:Gh.reference,minWidth:0,outline:0,position:"relative",appearance:"none",transitionProperty:"common",transitionDuration:"normal",_disabled:{opacity:.4,cursor:"not-allowed"}}}),tu={lg:{[Hh.variable]:"fontSizes.lg",[qh.variable]:"space.4",[Gh.variable]:"radii.md",[Wh.variable]:"sizes.12"},md:{[Hh.variable]:"fontSizes.md",[qh.variable]:"space.4",[Gh.variable]:"radii.md",[Wh.variable]:"sizes.10"},sm:{[Hh.variable]:"fontSizes.sm",[qh.variable]:"space.3",[Gh.variable]:"radii.sm",[Wh.variable]:"sizes.8"},xs:{[Hh.variable]:"fontSizes.xs",[qh.variable]:"space.2",[Gh.variable]:"radii.sm",[Wh.variable]:"sizes.6"}},Uye={lg:al({field:tu.lg,group:tu.lg}),md:al({field:tu.md,group:tu.md}),sm:al({field:tu.sm,group:tu.sm}),xs:al({field:tu.xs,group:tu.xs})};function sP(e){const{focusBorderColor:t,errorBorderColor:n}=e;return{focusBorderColor:t||Ce("blue.500","blue.300")(e),errorBorderColor:n||Ce("red.500","red.300")(e)}}var Vye=al(e=>{const{theme:t}=e,{focusBorderColor:n,errorBorderColor:r}=sP(e);return{field:{border:"1px solid",borderColor:"inherit",bg:"inherit",_hover:{borderColor:Ce("gray.300","whiteAlpha.400")(e)},_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:Vr(t,r),boxShadow:`0 0 0 1px ${Vr(t,r)}`},_focusVisible:{zIndex:1,borderColor:Vr(t,n),boxShadow:`0 0 0 1px ${Vr(t,n)}`}},addon:{border:"1px solid",borderColor:Ce("inherit","whiteAlpha.50")(e),bg:Ce("gray.100","whiteAlpha.300")(e)}}}),Wye=al(e=>{const{theme:t}=e,{focusBorderColor:n,errorBorderColor:r}=sP(e);return{field:{border:"2px solid",borderColor:"transparent",bg:Ce("gray.100","whiteAlpha.50")(e),_hover:{bg:Ce("gray.200","whiteAlpha.100")(e)},_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:Vr(t,r)},_focusVisible:{bg:"transparent",borderColor:Vr(t,n)}},addon:{border:"2px solid",borderColor:"transparent",bg:Ce("gray.100","whiteAlpha.50")(e)}}}),Hye=al(e=>{const{theme:t}=e,{focusBorderColor:n,errorBorderColor:r}=sP(e);return{field:{borderBottom:"1px solid",borderColor:"inherit",borderRadius:"0",px:"0",bg:"transparent",_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:Vr(t,r),boxShadow:`0px 1px 0px 0px ${Vr(t,r)}`},_focusVisible:{borderColor:Vr(t,n),boxShadow:`0px 1px 0px 0px ${Vr(t,n)}`}},addon:{borderBottom:"2px solid",borderColor:"inherit",borderRadius:"0",px:"0",bg:"transparent"}}}),qye=al({field:{bg:"transparent",px:"0",height:"auto"},addon:{bg:"transparent",px:"0",height:"auto"}}),Gye={outline:Vye,filled:Wye,flushed:Hye,unstyled:qye},st=jye({baseStyle:Bye,sizes:Uye,variants:Gye,defaultProps:{size:"md",variant:"outline"}}),MI,Yye={...(MI=st.baseStyle)==null?void 0:MI.field,paddingY:"2",minHeight:"20",lineHeight:"short",verticalAlign:"top"},FI,PI,Xye={outline:e=>{var t,n;return(n=(t=st.variants)==null?void 0:t.outline(e).field)!=null?n:{}},flushed:e=>{var t,n;return(n=(t=st.variants)==null?void 0:t.flushed(e).field)!=null?n:{}},filled:e=>{var t,n;return(n=(t=st.variants)==null?void 0:t.filled(e).field)!=null?n:{}},unstyled:(PI=(FI=st.variants)==null?void 0:FI.unstyled.field)!=null?PI:{}},RI,DI,OI,NI,II,LI,zI,jI,Kye={xs:(DI=(RI=st.sizes)==null?void 0:RI.xs.field)!=null?DI:{},sm:(NI=(OI=st.sizes)==null?void 0:OI.sm.field)!=null?NI:{},md:(LI=(II=st.sizes)==null?void 0:II.md.field)!=null?LI:{},lg:(jI=(zI=st.sizes)==null?void 0:zI.lg.field)!=null?jI:{}},Qye={baseStyle:Yye,sizes:Kye,variants:Xye,defaultProps:{size:"md",variant:"outline"}},Ib=Cn("tooltip-bg"),m$=Cn("tooltip-fg"),Zye=Cn("popper-arrow-bg"),Jye={bg:Ib.reference,color:m$.reference,[Ib.variable]:"colors.gray.700",[m$.variable]:"colors.whiteAlpha.900",_dark:{[Ib.variable]:"colors.gray.300",[m$.variable]:"colors.gray.900"},[Zye.variable]:Ib.reference,px:"2",py:"0.5",borderRadius:"sm",fontWeight:"medium",fontSize:"sm",boxShadow:"md",maxW:"xs",zIndex:"tooltip"},e1e={baseStyle:Jye},{defineMultiStyleConfig:t1e,definePartsStyle:S0}=$t(h0e.keys),n1e=e=>{const{colorScheme:t,theme:n,isIndeterminate:r,hasStripe:i}=e,o=Ce(kI(),kI("1rem","rgba(0,0,0,0.1)"))(e),s=Ce(`${t}.500`,`${t}.200`)(e),a=`linear-gradient(
    to right,
    transparent 0%,
    ${Vr(n,s)} 50%,
    transparent 100%
  )`;return{...!r&&i&&o,...r?{bgImage:a}:{bgColor:s}}},r1e={lineHeight:"1",fontSize:"0.25em",fontWeight:"bold",color:"white"},i1e=e=>({bg:Ce("gray.100","whiteAlpha.300")(e)}),o1e=e=>({transitionProperty:"common",transitionDuration:"slow",...n1e(e)}),s1e=S0(e=>({label:r1e,filledTrack:o1e(e),track:i1e(e)})),a1e={xs:S0({track:{h:"1"}}),sm:S0({track:{h:"2"}}),md:S0({track:{h:"3"}}),lg:S0({track:{h:"4"}})},l1e=t1e({sizes:a1e,baseStyle:s1e,defaultProps:{size:"md",colorScheme:"blue"}}),u1e=e=>typeof e=="function";function Gr(e,...t){return u1e(e)?e(...t):e}var{definePartsStyle:a2,defineMultiStyleConfig:c1e}=$t(n0e.keys),uy=_e("checkbox-size"),f1e=e=>{const{colorScheme:t}=e;return{w:uy.reference,h:uy.reference,transitionProperty:"box-shadow",transitionDuration:"normal",border:"2px solid",borderRadius:"sm",borderColor:"inherit",color:"white",_checked:{bg:Ce(`${t}.500`,`${t}.200`)(e),borderColor:Ce(`${t}.500`,`${t}.200`)(e),color:Ce("white","gray.900")(e),_hover:{bg:Ce(`${t}.600`,`${t}.300`)(e),borderColor:Ce(`${t}.600`,`${t}.300`)(e)},_disabled:{borderColor:Ce("gray.200","transparent")(e),bg:Ce("gray.200","whiteAlpha.300")(e),color:Ce("gray.500","whiteAlpha.500")(e)}},_indeterminate:{bg:Ce(`${t}.500`,`${t}.200`)(e),borderColor:Ce(`${t}.500`,`${t}.200`)(e),color:Ce("white","gray.900")(e)},_disabled:{bg:Ce("gray.100","whiteAlpha.100")(e),borderColor:Ce("gray.100","transparent")(e)},_focusVisible:{boxShadow:"outline"},_invalid:{borderColor:Ce("red.500","red.300")(e)}}},d1e={_disabled:{cursor:"not-allowed"}},h1e={userSelect:"none",_disabled:{opacity:.4}},p1e={transitionProperty:"transform",transitionDuration:"normal"},g1e=a2(e=>({icon:p1e,container:d1e,control:Gr(f1e,e),label:h1e})),m1e={sm:a2({control:{[uy.variable]:"sizes.3"},label:{fontSize:"sm"},icon:{fontSize:"3xs"}}),md:a2({control:{[uy.variable]:"sizes.4"},label:{fontSize:"md"},icon:{fontSize:"2xs"}}),lg:a2({control:{[uy.variable]:"sizes.5"},label:{fontSize:"lg"},icon:{fontSize:"2xs"}})},yw=c1e({baseStyle:g1e,sizes:m1e,defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:y1e,definePartsStyle:l2}=$t(p0e.keys),v1e=e=>{var t;const n=(t=Gr(yw.baseStyle,e))==null?void 0:t.control;return{...n,borderRadius:"full",_checked:{...n==null?void 0:n._checked,_before:{content:'""',display:"inline-block",pos:"relative",w:"50%",h:"50%",borderRadius:"50%",bg:"currentColor"}}}},b1e=l2(e=>{var t,n,r,i;return{label:(n=(t=yw).baseStyle)==null?void 0:n.call(t,e).label,container:(i=(r=yw).baseStyle)==null?void 0:i.call(r,e).container,control:v1e(e)}}),x1e={md:l2({control:{w:"4",h:"4"},label:{fontSize:"md"}}),lg:l2({control:{w:"5",h:"5"},label:{fontSize:"lg"}}),sm:l2({control:{width:"3",height:"3"},label:{fontSize:"sm"}})},w1e=y1e({baseStyle:b1e,sizes:x1e,defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:S1e,definePartsStyle:k1e}=$t(g0e.keys),Lb=_e("select-bg"),BI,C1e={...(BI=st.baseStyle)==null?void 0:BI.field,appearance:"none",paddingBottom:"1px",lineHeight:"normal",bg:Lb.reference,[Lb.variable]:"colors.white",_dark:{[Lb.variable]:"colors.gray.700"},"> option, > optgroup":{bg:Lb.reference}},_1e={width:"6",height:"100%",insetEnd:"2",position:"relative",color:"currentColor",fontSize:"xl",_disabled:{opacity:.5}},E1e=k1e({field:C1e,icon:_1e}),zb={paddingInlineEnd:"8"},UI,VI,WI,HI,qI,GI,YI,XI,$1e={lg:{...(UI=st.sizes)==null?void 0:UI.lg,field:{...(VI=st.sizes)==null?void 0:VI.lg.field,...zb}},md:{...(WI=st.sizes)==null?void 0:WI.md,field:{...(HI=st.sizes)==null?void 0:HI.md.field,...zb}},sm:{...(qI=st.sizes)==null?void 0:qI.sm,field:{...(GI=st.sizes)==null?void 0:GI.sm.field,...zb}},xs:{...(YI=st.sizes)==null?void 0:YI.xs,field:{...(XI=st.sizes)==null?void 0:XI.xs.field,...zb},icon:{insetEnd:"1"}}},A1e=S1e({baseStyle:E1e,sizes:$1e,variants:st.variants,defaultProps:st.defaultProps}),y$=_e("skeleton-start-color"),v$=_e("skeleton-end-color"),T1e={[y$.variable]:"colors.gray.100",[v$.variable]:"colors.gray.400",_dark:{[y$.variable]:"colors.gray.800",[v$.variable]:"colors.gray.600"},background:y$.reference,borderColor:v$.reference,opacity:.7,borderRadius:"sm"},M1e={baseStyle:T1e},b$=_e("skip-link-bg"),F1e={borderRadius:"md",fontWeight:"semibold",_focusVisible:{boxShadow:"outline",padding:"4",position:"fixed",top:"6",insetStart:"6",[b$.variable]:"colors.white",_dark:{[b$.variable]:"colors.gray.700"},bg:b$.reference}},P1e={baseStyle:F1e},{defineMultiStyleConfig:R1e,definePartsStyle:rC}=$t(m0e.keys),n1=_e("slider-thumb-size"),r1=_e("slider-track-size"),xu=_e("slider-bg"),D1e=e=>{const{orientation:t}=e;return{display:"inline-block",position:"relative",cursor:"pointer",_disabled:{opacity:.6,cursor:"default",pointerEvents:"none"},...oP({orientation:t,vertical:{h:"100%"},horizontal:{w:"100%"}})}},O1e=e=>({...oP({orientation:e.orientation,horizontal:{h:r1.reference},vertical:{w:r1.reference}}),overflow:"hidden",borderRadius:"sm",[xu.variable]:"colors.gray.200",_dark:{[xu.variable]:"colors.whiteAlpha.200"},_disabled:{[xu.variable]:"colors.gray.300",_dark:{[xu.variable]:"colors.whiteAlpha.300"}},bg:xu.reference}),N1e=e=>{const{orientation:t}=e;return{...oP({orientation:t,vertical:{left:"50%",transform:"translateX(-50%)",_active:{transform:"translateX(-50%) scale(1.15)"}},horizontal:{top:"50%",transform:"translateY(-50%)",_active:{transform:"translateY(-50%) scale(1.15)"}}}),w:n1.reference,h:n1.reference,display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",outline:0,zIndex:1,borderRadius:"full",bg:"white",boxShadow:"base",border:"1px solid",borderColor:"transparent",transitionProperty:"transform",transitionDuration:"normal",_focusVisible:{boxShadow:"outline"},_disabled:{bg:"gray.300"}}},I1e=e=>{const{colorScheme:t}=e;return{width:"inherit",height:"inherit",[xu.variable]:`colors.${t}.500`,_dark:{[xu.variable]:`colors.${t}.200`},bg:xu.reference}},L1e=rC(e=>({container:D1e(e),track:O1e(e),thumb:N1e(e),filledTrack:I1e(e)})),z1e=rC({container:{[n1.variable]:"sizes.4",[r1.variable]:"sizes.1"}}),j1e=rC({container:{[n1.variable]:"sizes.3.5",[r1.variable]:"sizes.1"}}),B1e=rC({container:{[n1.variable]:"sizes.2.5",[r1.variable]:"sizes.0.5"}}),U1e={lg:z1e,md:j1e,sm:B1e},V1e=R1e({baseStyle:L1e,sizes:U1e,defaultProps:{size:"md",colorScheme:"blue"}}),gf=Cn("spinner-size"),W1e={width:[gf.reference],height:[gf.reference]},H1e={xs:{[gf.variable]:"sizes.3"},sm:{[gf.variable]:"sizes.4"},md:{[gf.variable]:"sizes.6"},lg:{[gf.variable]:"sizes.8"},xl:{[gf.variable]:"sizes.12"}},q1e={baseStyle:W1e,sizes:H1e,defaultProps:{size:"md"}},{defineMultiStyleConfig:G1e,definePartsStyle:nY}=$t(y0e.keys),Y1e={fontWeight:"medium"},X1e={opacity:.8,marginBottom:"2"},K1e={verticalAlign:"baseline",fontWeight:"semibold"},Q1e={marginEnd:1,w:"3.5",h:"3.5",verticalAlign:"middle"},Z1e=nY({container:{},label:Y1e,helpText:X1e,number:K1e,icon:Q1e}),J1e={md:nY({label:{fontSize:"sm"},helpText:{fontSize:"sm"},number:{fontSize:"2xl"}})},eve=G1e({baseStyle:Z1e,sizes:J1e,defaultProps:{size:"md"}}),x$=_e("kbd-bg"),tve={[x$.variable]:"colors.gray.100",_dark:{[x$.variable]:"colors.whiteAlpha.100"},bg:x$.reference,borderRadius:"md",borderWidth:"1px",borderBottomWidth:"3px",fontSize:"0.8em",fontWeight:"bold",lineHeight:"normal",px:"0.4em",whiteSpace:"nowrap"},nve={baseStyle:tve},rve={transitionProperty:"common",transitionDuration:"fast",transitionTimingFunction:"ease-out",cursor:"pointer",textDecoration:"none",outline:"none",color:"inherit",_hover:{textDecoration:"underline"},_focusVisible:{boxShadow:"outline"}},ive={baseStyle:rve},{defineMultiStyleConfig:ove,definePartsStyle:sve}=$t(l0e.keys),ave={marginEnd:"2",display:"inline",verticalAlign:"text-bottom"},lve=sve({icon:ave}),uve=ove({baseStyle:lve}),{defineMultiStyleConfig:cve,definePartsStyle:fve}=$t(u0e.keys),qs=_e("menu-bg"),w$=_e("menu-shadow"),dve={[qs.variable]:"#fff",[w$.variable]:"shadows.sm",_dark:{[qs.variable]:"colors.gray.700",[w$.variable]:"shadows.dark-lg"},color:"inherit",minW:"3xs",py:"2",zIndex:1,borderRadius:"md",borderWidth:"1px",bg:qs.reference,boxShadow:w$.reference},hve={py:"1.5",px:"3",transitionProperty:"background",transitionDuration:"ultra-fast",transitionTimingFunction:"ease-in",_focus:{[qs.variable]:"colors.gray.100",_dark:{[qs.variable]:"colors.whiteAlpha.100"}},_active:{[qs.variable]:"colors.gray.200",_dark:{[qs.variable]:"colors.whiteAlpha.200"}},_expanded:{[qs.variable]:"colors.gray.100",_dark:{[qs.variable]:"colors.whiteAlpha.100"}},_disabled:{opacity:.4,cursor:"not-allowed"},bg:qs.reference},pve={mx:4,my:2,fontWeight:"semibold",fontSize:"sm"},gve={display:"inline-flex",alignItems:"center",justifyContent:"center",flexShrink:0},mve={opacity:.6},yve={border:0,borderBottom:"1px solid",borderColor:"inherit",my:"2",opacity:.6},vve={transitionProperty:"common",transitionDuration:"normal"},bve=fve({button:vve,list:dve,item:hve,groupTitle:pve,icon:gve,command:mve,divider:yve}),xve=cve({baseStyle:bve}),{defineMultiStyleConfig:wve,definePartsStyle:OT}=$t(c0e.keys),S$=_e("modal-bg"),k$=_e("modal-shadow"),Sve={bg:"blackAlpha.600",zIndex:"modal"},kve=e=>{const{isCentered:t,scrollBehavior:n}=e;return{display:"flex",zIndex:"modal",justifyContent:"center",alignItems:t?"center":"flex-start",overflow:n==="inside"?"hidden":"auto",overscrollBehaviorY:"none"}},Cve=e=>{const{isCentered:t,scrollBehavior:n}=e;return{borderRadius:"md",color:"inherit",my:t?"auto":"16",mx:t?"auto":void 0,zIndex:"modal",maxH:n==="inside"?"calc(100% - 7.5rem)":void 0,[S$.variable]:"colors.white",[k$.variable]:"shadows.lg",_dark:{[S$.variable]:"colors.gray.700",[k$.variable]:"shadows.dark-lg"},bg:S$.reference,boxShadow:k$.reference}},_ve={px:"6",py:"4",fontSize:"xl",fontWeight:"semibold"},Eve={position:"absolute",top:"2",insetEnd:"3"},$ve=e=>{const{scrollBehavior:t}=e;return{px:"6",py:"2",flex:"1",overflow:t==="inside"?"auto":void 0}},Ave={px:"6",py:"4"},Tve=OT(e=>({overlay:Sve,dialogContainer:Gr(kve,e),dialog:Gr(Cve,e),header:_ve,closeButton:Eve,body:Gr($ve,e),footer:Ave}));function Ho(e){return OT(e==="full"?{dialog:{maxW:"100vw",minH:"$100vh",my:"0",borderRadius:"0"}}:{dialog:{maxW:e}})}var Mve={xs:Ho("xs"),sm:Ho("sm"),md:Ho("md"),lg:Ho("lg"),xl:Ho("xl"),"2xl":Ho("2xl"),"3xl":Ho("3xl"),"4xl":Ho("4xl"),"5xl":Ho("5xl"),"6xl":Ho("6xl"),full:Ho("full")},Fve=wve({baseStyle:Tve,sizes:Mve,defaultProps:{size:"md"}}),{defineMultiStyleConfig:Pve,definePartsStyle:rY}=$t(f0e.keys),aP=Cn("number-input-stepper-width"),iY=Cn("number-input-input-padding"),Rve=nl(aP).add("0.5rem").toString(),C$=Cn("number-input-bg"),_$=Cn("number-input-color"),E$=Cn("number-input-border-color"),Dve={[aP.variable]:"sizes.6",[iY.variable]:Rve},Ove=e=>{var t,n;return(n=(t=Gr(st.baseStyle,e))==null?void 0:t.field)!=null?n:{}},Nve={width:aP.reference},Ive={borderStart:"1px solid",borderStartColor:E$.reference,color:_$.reference,bg:C$.reference,[_$.variable]:"colors.chakra-body-text",[E$.variable]:"colors.chakra-border-color",_dark:{[_$.variable]:"colors.whiteAlpha.800",[E$.variable]:"colors.whiteAlpha.300"},_active:{[C$.variable]:"colors.gray.200",_dark:{[C$.variable]:"colors.whiteAlpha.300"}},_disabled:{opacity:.4,cursor:"not-allowed"}},Lve=rY(e=>{var t;return{root:Dve,field:(t=Gr(Ove,e))!=null?t:{},stepperGroup:Nve,stepper:Ive}});function jb(e){var t,n,r;const i=(t=st.sizes)==null?void 0:t[e],o={lg:"md",md:"md",sm:"sm",xs:"sm"},s=(r=(n=i.field)==null?void 0:n.fontSize)!=null?r:"md",a=QG.fontSizes[s];return rY({field:{...i.field,paddingInlineEnd:iY.reference,verticalAlign:"top"},stepper:{fontSize:nl(a).multiply(.75).toString(),_first:{borderTopEndRadius:o[e]},_last:{borderBottomEndRadius:o[e],mt:"-1px",borderTopWidth:1}}})}var zve={xs:jb("xs"),sm:jb("sm"),md:jb("md"),lg:jb("lg")},jve=Pve({baseStyle:Lve,sizes:zve,variants:st.variants,defaultProps:st.defaultProps}),KI,Bve={...(KI=st.baseStyle)==null?void 0:KI.field,textAlign:"center"},Uve={lg:{fontSize:"lg",w:12,h:12,borderRadius:"md"},md:{fontSize:"md",w:10,h:10,borderRadius:"md"},sm:{fontSize:"sm",w:8,h:8,borderRadius:"sm"},xs:{fontSize:"xs",w:6,h:6,borderRadius:"sm"}},QI,ZI,Vve={outline:e=>{var t,n,r;return(r=(n=Gr((t=st.variants)==null?void 0:t.outline,e))==null?void 0:n.field)!=null?r:{}},flushed:e=>{var t,n,r;return(r=(n=Gr((t=st.variants)==null?void 0:t.flushed,e))==null?void 0:n.field)!=null?r:{}},filled:e=>{var t,n,r;return(r=(n=Gr((t=st.variants)==null?void 0:t.filled,e))==null?void 0:n.field)!=null?r:{}},unstyled:(ZI=(QI=st.variants)==null?void 0:QI.unstyled.field)!=null?ZI:{}},Wve={baseStyle:Bve,sizes:Uve,variants:Vve,defaultProps:st.defaultProps},{defineMultiStyleConfig:Hve,definePartsStyle:qve}=$t(d0e.keys),Bb=Cn("popper-bg"),Gve=Cn("popper-arrow-bg"),JI=Cn("popper-arrow-shadow-color"),Yve={zIndex:10},Xve={[Bb.variable]:"colors.white",bg:Bb.reference,[Gve.variable]:Bb.reference,[JI.variable]:"colors.gray.200",_dark:{[Bb.variable]:"colors.gray.700",[JI.variable]:"colors.whiteAlpha.300"},width:"xs",border:"1px solid",borderColor:"inherit",borderRadius:"md",boxShadow:"sm",zIndex:"inherit",_focusVisible:{outline:0,boxShadow:"outline"}},Kve={px:3,py:2,borderBottomWidth:"1px"},Qve={px:3,py:2},Zve={px:3,py:2,borderTopWidth:"1px"},Jve={position:"absolute",borderRadius:"md",top:1,insetEnd:2,padding:2},ebe=qve({popper:Yve,content:Xve,header:Kve,body:Qve,footer:Zve,closeButton:Jve}),tbe=Hve({baseStyle:ebe}),{definePartsStyle:NT,defineMultiStyleConfig:nbe}=$t(r0e.keys),$$=_e("drawer-bg"),A$=_e("drawer-box-shadow");function lh(e){return NT(e==="full"?{dialog:{maxW:"100vw",h:"100vh"}}:{dialog:{maxW:e}})}var rbe={bg:"blackAlpha.600",zIndex:"modal"},ibe={display:"flex",zIndex:"modal",justifyContent:"center"},obe=e=>{const{isFullHeight:t}=e;return{...t&&{height:"100vh"},zIndex:"modal",maxH:"100vh",color:"inherit",[$$.variable]:"colors.white",[A$.variable]:"shadows.lg",_dark:{[$$.variable]:"colors.gray.700",[A$.variable]:"shadows.dark-lg"},bg:$$.reference,boxShadow:A$.reference}},sbe={px:"6",py:"4",fontSize:"xl",fontWeight:"semibold"},abe={position:"absolute",top:"2",insetEnd:"3"},lbe={px:"6",py:"2",flex:"1",overflow:"auto"},ube={px:"6",py:"4"},cbe=NT(e=>({overlay:rbe,dialogContainer:ibe,dialog:Gr(obe,e),header:sbe,closeButton:abe,body:lbe,footer:ube})),fbe={xs:lh("xs"),sm:lh("md"),md:lh("lg"),lg:lh("2xl"),xl:lh("4xl"),full:lh("full")},dbe=nbe({baseStyle:cbe,sizes:fbe,defaultProps:{size:"xs"}}),{definePartsStyle:hbe,defineMultiStyleConfig:pbe}=$t(i0e.keys),gbe={borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal"},mbe={borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal",width:"full",_focusVisible:{boxShadow:"outline"},_placeholder:{opacity:.6}},ybe={borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal",width:"full",_focusVisible:{boxShadow:"outline"},_placeholder:{opacity:.6}},vbe=hbe({preview:gbe,input:mbe,textarea:ybe}),bbe=pbe({baseStyle:vbe}),{definePartsStyle:xbe,defineMultiStyleConfig:wbe}=$t(o0e.keys),hp=_e("form-control-color"),Sbe={marginStart:"1",[hp.variable]:"colors.red.500",_dark:{[hp.variable]:"colors.red.300"},color:hp.reference},kbe={mt:"2",[hp.variable]:"colors.gray.600",_dark:{[hp.variable]:"colors.whiteAlpha.600"},color:hp.reference,lineHeight:"normal",fontSize:"sm"},Cbe=xbe({container:{width:"100%",position:"relative"},requiredIndicator:Sbe,helperText:kbe}),_be=wbe({baseStyle:Cbe}),{definePartsStyle:Ebe,defineMultiStyleConfig:$be}=$t(s0e.keys),pp=_e("form-error-color"),Abe={[pp.variable]:"colors.red.500",_dark:{[pp.variable]:"colors.red.300"},color:pp.reference,mt:"2",fontSize:"sm",lineHeight:"normal"},Tbe={marginEnd:"0.5em",[pp.variable]:"colors.red.500",_dark:{[pp.variable]:"colors.red.300"},color:pp.reference},Mbe=Ebe({text:Abe,icon:Tbe}),Fbe=$be({baseStyle:Mbe}),Pbe={fontSize:"md",marginEnd:"3",mb:"2",fontWeight:"medium",transitionProperty:"common",transitionDuration:"normal",opacity:1,_disabled:{opacity:.4}},Rbe={baseStyle:Pbe},Dbe={fontFamily:"heading",fontWeight:"bold"},Obe={"4xl":{fontSize:["6xl",null,"7xl"],lineHeight:1},"3xl":{fontSize:["5xl",null,"6xl"],lineHeight:1},"2xl":{fontSize:["4xl",null,"5xl"],lineHeight:[1.2,null,1]},xl:{fontSize:["3xl",null,"4xl"],lineHeight:[1.33,null,1.2]},lg:{fontSize:["2xl",null,"3xl"],lineHeight:[1.33,null,1.2]},md:{fontSize:"xl",lineHeight:1.2},sm:{fontSize:"md",lineHeight:1.2},xs:{fontSize:"sm",lineHeight:1.2}},Nbe={baseStyle:Dbe,sizes:Obe,defaultProps:{size:"xl"}},{defineMultiStyleConfig:Ibe,definePartsStyle:Lbe}=$t(t0e.keys),T$=_e("breadcrumb-link-decor"),zbe={transitionProperty:"common",transitionDuration:"fast",transitionTimingFunction:"ease-out",outline:"none",color:"inherit",textDecoration:T$.reference,[T$.variable]:"none","&:not([aria-current=page])":{cursor:"pointer",_hover:{[T$.variable]:"underline"},_focusVisible:{boxShadow:"outline"}}},jbe=Lbe({link:zbe}),Bbe=Ibe({baseStyle:jbe}),Ube={lineHeight:"1.2",borderRadius:"md",fontWeight:"semibold",transitionProperty:"common",transitionDuration:"normal",_focusVisible:{boxShadow:"outline"},_disabled:{opacity:.4,cursor:"not-allowed",boxShadow:"none"},_hover:{_disabled:{bg:"initial"}}},oY=e=>{const{colorScheme:t,theme:n}=e;if(t==="gray")return{color:Ce("gray.800","whiteAlpha.900")(e),_hover:{bg:Ce("gray.100","whiteAlpha.200")(e)},_active:{bg:Ce("gray.200","whiteAlpha.300")(e)}};const r=Xp(`${t}.200`,.12)(n),i=Xp(`${t}.200`,.24)(n);return{color:Ce(`${t}.600`,`${t}.200`)(e),bg:"transparent",_hover:{bg:Ce(`${t}.50`,r)(e)},_active:{bg:Ce(`${t}.100`,i)(e)}}},Vbe=e=>{const{colorScheme:t}=e,n=Ce("gray.200","whiteAlpha.300")(e);return{border:"1px solid",borderColor:t==="gray"?n:"currentColor",".chakra-button__group[data-attached][data-orientation=horizontal] > &:not(:last-of-type)":{marginEnd:"-1px"},".chakra-button__group[data-attached][data-orientation=vertical] > &:not(:last-of-type)":{marginBottom:"-1px"},...Gr(oY,e)}},Wbe={yellow:{bg:"yellow.400",color:"black",hoverBg:"yellow.500",activeBg:"yellow.600"},cyan:{bg:"cyan.400",color:"black",hoverBg:"cyan.500",activeBg:"cyan.600"}},Hbe=e=>{var t;const{colorScheme:n}=e;if(n==="gray"){const l=Ce("gray.100","whiteAlpha.200")(e);return{bg:l,color:Ce("gray.800","whiteAlpha.900")(e),_hover:{bg:Ce("gray.200","whiteAlpha.300")(e),_disabled:{bg:l}},_active:{bg:Ce("gray.300","whiteAlpha.400")(e)}}}const{bg:r=`${n}.500`,color:i="white",hoverBg:o=`${n}.600`,activeBg:s=`${n}.700`}=(t=Wbe[n])!=null?t:{},a=Ce(r,`${n}.200`)(e);return{bg:a,color:Ce(i,"gray.800")(e),_hover:{bg:Ce(o,`${n}.300`)(e),_disabled:{bg:a}},_active:{bg:Ce(s,`${n}.400`)(e)}}},qbe=e=>{const{colorScheme:t}=e;return{padding:0,height:"auto",lineHeight:"normal",verticalAlign:"baseline",color:Ce(`${t}.500`,`${t}.200`)(e),_hover:{textDecoration:"underline",_disabled:{textDecoration:"none"}},_active:{color:Ce(`${t}.700`,`${t}.500`)(e)}}},Gbe={bg:"none",color:"inherit",display:"inline",lineHeight:"inherit",m:"0",p:"0"},Ybe={ghost:oY,outline:Vbe,solid:Hbe,link:qbe,unstyled:Gbe},Xbe={lg:{h:"12",minW:"12",fontSize:"lg",px:"6"},md:{h:"10",minW:"10",fontSize:"md",px:"4"},sm:{h:"8",minW:"8",fontSize:"sm",px:"3"},xs:{h:"6",minW:"6",fontSize:"xs",px:"2"}},Kbe={baseStyle:Ube,variants:Ybe,sizes:Xbe,defaultProps:{variant:"solid",size:"md",colorScheme:"gray"}},{definePartsStyle:Vf,defineMultiStyleConfig:Qbe}=$t(S0e.keys),vw=_e("card-bg"),gl=_e("card-padding"),sY=_e("card-shadow"),u2=_e("card-radius"),aY=_e("card-border-width","0"),lY=_e("card-border-color"),Zbe=Vf({container:{[vw.variable]:"colors.chakra-body-bg",backgroundColor:vw.reference,boxShadow:sY.reference,borderRadius:u2.reference,color:"chakra-body-text",borderWidth:aY.reference,borderColor:lY.reference},body:{padding:gl.reference,flex:"1 1 0%"},header:{padding:gl.reference},footer:{padding:gl.reference}}),Jbe={sm:Vf({container:{[u2.variable]:"radii.base",[gl.variable]:"space.3"}}),md:Vf({container:{[u2.variable]:"radii.md",[gl.variable]:"space.5"}}),lg:Vf({container:{[u2.variable]:"radii.xl",[gl.variable]:"space.7"}})},exe={elevated:Vf({container:{[sY.variable]:"shadows.base",_dark:{[vw.variable]:"colors.gray.700"}}}),outline:Vf({container:{[aY.variable]:"1px",[lY.variable]:"colors.chakra-border-color"}}),filled:Vf({container:{[vw.variable]:"colors.chakra-subtle-bg"}}),unstyled:{body:{[gl.variable]:0},header:{[gl.variable]:0},footer:{[gl.variable]:0}}},txe=Qbe({baseStyle:Zbe,variants:exe,sizes:Jbe,defaultProps:{variant:"elevated",size:"md"}}),cy=Cn("close-button-size"),Nm=Cn("close-button-bg"),nxe={w:[cy.reference],h:[cy.reference],borderRadius:"md",transitionProperty:"common",transitionDuration:"normal",_disabled:{opacity:.4,cursor:"not-allowed",boxShadow:"none"},_hover:{[Nm.variable]:"colors.blackAlpha.100",_dark:{[Nm.variable]:"colors.whiteAlpha.100"}},_active:{[Nm.variable]:"colors.blackAlpha.200",_dark:{[Nm.variable]:"colors.whiteAlpha.200"}},_focusVisible:{boxShadow:"outline"},bg:Nm.reference},rxe={lg:{[cy.variable]:"sizes.10",fontSize:"md"},md:{[cy.variable]:"sizes.8",fontSize:"xs"},sm:{[cy.variable]:"sizes.6",fontSize:"2xs"}},ixe={baseStyle:nxe,sizes:rxe,defaultProps:{size:"md"}},{variants:oxe,defaultProps:sxe}=ly,axe={fontFamily:"mono",fontSize:"sm",px:"0.2em",borderRadius:"sm",bg:an.bg.reference,color:an.color.reference,boxShadow:an.shadow.reference},lxe={baseStyle:axe,variants:oxe,defaultProps:sxe},uxe={w:"100%",mx:"auto",maxW:"prose",px:"4"},cxe={baseStyle:uxe},fxe={opacity:.6,borderColor:"inherit"},dxe={borderStyle:"solid"},hxe={borderStyle:"dashed"},pxe={solid:dxe,dashed:hxe},gxe={baseStyle:fxe,variants:pxe,defaultProps:{variant:"solid"}},{definePartsStyle:mxe,defineMultiStyleConfig:yxe}=$t(Zme.keys),vxe={borderTopWidth:"1px",borderColor:"inherit",_last:{borderBottomWidth:"1px"}},bxe={transitionProperty:"common",transitionDuration:"normal",fontSize:"md",_focusVisible:{boxShadow:"outline"},_hover:{bg:"blackAlpha.50"},_disabled:{opacity:.4,cursor:"not-allowed"},px:"4",py:"2"},xxe={pt:"2",px:"4",pb:"5"},wxe={fontSize:"1.25em"},Sxe=mxe({container:vxe,button:bxe,panel:xxe,icon:wxe}),kxe=yxe({baseStyle:Sxe}),{definePartsStyle:tv,defineMultiStyleConfig:Cxe}=$t(Jme.keys),Wi=_e("alert-fg"),Fl=_e("alert-bg"),_xe=tv({container:{bg:Fl.reference,px:"4",py:"3"},title:{fontWeight:"bold",lineHeight:"6",marginEnd:"2"},description:{lineHeight:"6"},icon:{color:Wi.reference,flexShrink:0,marginEnd:"3",w:"5",h:"6"},spinner:{color:Wi.reference,flexShrink:0,marginEnd:"3",w:"5",h:"5"}});function lP(e){const{theme:t,colorScheme:n}=e,r=Xp(`${n}.200`,.16)(t);return{light:`colors.${n}.100`,dark:r}}var Exe=tv(e=>{const{colorScheme:t}=e,n=lP(e);return{container:{[Wi.variable]:`colors.${t}.600`,[Fl.variable]:n.light,_dark:{[Wi.variable]:`colors.${t}.200`,[Fl.variable]:n.dark}}}}),$xe=tv(e=>{const{colorScheme:t}=e,n=lP(e);return{container:{[Wi.variable]:`colors.${t}.600`,[Fl.variable]:n.light,_dark:{[Wi.variable]:`colors.${t}.200`,[Fl.variable]:n.dark},paddingStart:"3",borderStartWidth:"4px",borderStartColor:Wi.reference}}}),Axe=tv(e=>{const{colorScheme:t}=e,n=lP(e);return{container:{[Wi.variable]:`colors.${t}.600`,[Fl.variable]:n.light,_dark:{[Wi.variable]:`colors.${t}.200`,[Fl.variable]:n.dark},pt:"2",borderTopWidth:"4px",borderTopColor:Wi.reference}}}),Txe=tv(e=>{const{colorScheme:t}=e;return{container:{[Wi.variable]:"colors.white",[Fl.variable]:`colors.${t}.600`,_dark:{[Wi.variable]:"colors.gray.900",[Fl.variable]:`colors.${t}.200`},color:Wi.reference}}}),Mxe={subtle:Exe,"left-accent":$xe,"top-accent":Axe,solid:Txe},Fxe=Cxe({baseStyle:_xe,variants:Mxe,defaultProps:{variant:"subtle",colorScheme:"blue"}}),{definePartsStyle:uY,defineMultiStyleConfig:Pxe}=$t(e0e.keys),gp=_e("avatar-border-color"),fy=_e("avatar-bg"),i1=_e("avatar-font-size"),Kp=_e("avatar-size"),Rxe={borderRadius:"full",border:"0.2em solid",borderColor:gp.reference,[gp.variable]:"white",_dark:{[gp.variable]:"colors.gray.800"}},Dxe={bg:fy.reference,fontSize:i1.reference,width:Kp.reference,height:Kp.reference,lineHeight:"1",[fy.variable]:"colors.gray.200",_dark:{[fy.variable]:"colors.whiteAlpha.400"}},Oxe=e=>{const{name:t,theme:n}=e,r=t?U0e({string:t}):"colors.gray.400",i=j0e(r)(n);let o="white";return i||(o="gray.800"),{bg:fy.reference,fontSize:i1.reference,color:o,borderColor:gp.reference,verticalAlign:"top",width:Kp.reference,height:Kp.reference,"&:not([data-loaded])":{[fy.variable]:r},[gp.variable]:"colors.white",_dark:{[gp.variable]:"colors.gray.800"}}},Nxe={fontSize:i1.reference,lineHeight:"1"},Ixe=uY(e=>({badge:Gr(Rxe,e),excessLabel:Gr(Dxe,e),container:Gr(Oxe,e),label:Nxe}));function nu(e){const t=e!=="100%"?JG[e]:void 0;return uY({container:{[Kp.variable]:t??e,[i1.variable]:`calc(${t??e} / 2.5)`},excessLabel:{[Kp.variable]:t??e,[i1.variable]:`calc(${t??e} / 2.5)`}})}var Lxe={"2xs":nu(4),xs:nu(6),sm:nu(8),md:nu(12),lg:nu(16),xl:nu(24),"2xl":nu(32),full:nu("100%")},zxe=Pxe({baseStyle:Ixe,sizes:Lxe,defaultProps:{size:"md"}}),jxe={Accordion:kxe,Alert:Fxe,Avatar:zxe,Badge:ly,Breadcrumb:Bbe,Button:Kbe,Checkbox:yw,CloseButton:ixe,Code:lxe,Container:cxe,Divider:gxe,Drawer:dbe,Editable:bbe,Form:_be,FormError:Fbe,FormLabel:Rbe,Heading:Nbe,Input:st,Kbd:nve,Link:ive,List:uve,Menu:xve,Modal:Fve,NumberInput:jve,PinInput:Wve,Popover:tbe,Progress:l1e,Radio:w1e,Select:A1e,Skeleton:M1e,SkipLink:P1e,Slider:V1e,Spinner:q1e,Stat:eve,Switch:iye,Table:fye,Tabs:Eye,Tag:zye,Textarea:Qye,Tooltip:e1e,Card:txe,Stepper:Qme},Bxe={colors:{"chakra-body-text":{_light:"gray.800",_dark:"whiteAlpha.900"},"chakra-body-bg":{_light:"white",_dark:"gray.800"},"chakra-border-color":{_light:"gray.200",_dark:"whiteAlpha.300"},"chakra-inverse-text":{_light:"white",_dark:"gray.800"},"chakra-subtle-bg":{_light:"gray.100",_dark:"gray.700"},"chakra-subtle-text":{_light:"gray.600",_dark:"gray.400"},"chakra-placeholder-color":{_light:"gray.500",_dark:"whiteAlpha.400"}}},Uxe={global:{body:{fontFamily:"body",color:"chakra-body-text",bg:"chakra-body-bg",transitionProperty:"background-color",transitionDuration:"normal",lineHeight:"base"},"*::placeholder":{color:"chakra-placeholder-color"},"*, *::before, &::after":{borderColor:"chakra-border-color"}}},Vxe="ltr",Wxe={useSystemColorMode:!1,initialColorMode:"light",cssVarPrefix:"chakra"},cY={semanticTokens:Bxe,direction:Vxe,...Yme,components:jxe,styles:Uxe,config:Wxe};function k0(e){return typeof e=="function"}function Hxe(...e){return t=>e.reduce((n,r)=>r(n),t)}var qxe=e=>function(...n){let r=[...n],i=n[n.length-1];return Cme(i)&&r.length>1?r=r.slice(0,r.length-1):i=e,Hxe(...r.map(o=>s=>k0(o)?o(s):Yxe(s,o)))(i)},Gxe=qxe(cY);function Yxe(...e){return So({},...e,fY)}function fY(e,t,n,r){if((k0(e)||k0(t))&&Object.prototype.hasOwnProperty.call(r,n))return(...i)=>{const o=k0(e)?e(...i):e,s=k0(t)?t(...i):t;return So({},o,s,fY)}}function Xxe(e,t){const n={};return Object.keys(e).forEach(r=>{t.includes(r)||(n[r]=e[r])}),n}function Kxe(e,t,n,r){const i=typeof t=="string"?t.split("."):[t];for(r=0;r<i.length&&e;r+=1)e=e[i[r]];return e===void 0?n:e}var Qxe=e=>{const t=new WeakMap;return(r,i,o,s)=>{if(typeof r>"u")return e(r,i,o);t.has(r)||t.set(r,new Map);const a=t.get(r);if(a.has(i))return a.get(i);const l=e(r,i,o,s);return a.set(i,l),l}},dY=Qxe(Kxe);function hY(e,t){const n={};return Object.keys(e).forEach(r=>{const i=e[r];t(i,r,e)&&(n[r]=i)}),n}var pY=e=>hY(e,t=>t!=null);function Zxe(e){return typeof e=="function"}function gY(e,...t){return Zxe(e)?e(...t):e}var Jxe=typeof Element<"u",e2e=typeof Map=="function",t2e=typeof Set=="function",n2e=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function c2(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var n,r,i;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!c2(e[r],t[r]))return!1;return!0}var o;if(e2e&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(o=e.entries();!(r=o.next()).done;)if(!t.has(r.value[0]))return!1;for(o=e.entries();!(r=o.next()).done;)if(!c2(r.value[1],t.get(r.value[0])))return!1;return!0}if(t2e&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(o=e.entries();!(r=o.next()).done;)if(!t.has(r.value[0]))return!1;return!0}if(n2e&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(e[r]!==t[r])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&typeof e.valueOf=="function"&&typeof t.valueOf=="function")return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&typeof e.toString=="function"&&typeof t.toString=="function")return e.toString()===t.toString();if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,i[r]))return!1;if(Jxe&&e instanceof Element)return!1;for(r=n;r--!==0;)if(!((i[r]==="_owner"||i[r]==="__v"||i[r]==="__o")&&e.$$typeof)&&!c2(e[i[r]],t[i[r]]))return!1;return!0}return e!==e&&t!==t}var r2e=function(t,n){try{return c2(t,n)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}};const i2e=zl(r2e);function mY(e,t={}){var n;const{styleConfig:r,...i}=t,{theme:o,colorMode:s}=VG(),a=e?dY(o,`components.${e}`):void 0,l=r||a,u=So({theme:o,colorMode:s},(n=l==null?void 0:l.defaultProps)!=null?n:{},pY(Xxe(i,["children"]))),c=T.useRef({});if(l){const d=Sme(l)(u);i2e(c.current,d)||(c.current=d)}return c.current}function Bl(e,t={}){return mY(e,t)}function Ul(e,t={}){return mY(e,t)}var o2e=new Set([...cme,"textStyle","layerStyle","apply","noOfLines","focusBorderColor","errorBorderColor","as","__css","css","sx"]),s2e=new Set(["htmlWidth","htmlHeight","htmlSize","htmlTranslate"]);function a2e(e){return s2e.has(e)||!o2e.has(e)}function l2e(e,...t){if(e==null)throw new TypeError("Cannot convert undefined or null to object");const n={...e};for(const r of t)if(r!=null)for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&(i in n&&delete n[i],n[i]=r[i]);return n}function yY(e){const t=Object.assign({},e);for(let n in t)t[n]===void 0&&delete t[n];return t}var u2e=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,c2e=_H(function(e){return u2e.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91}),f2e=c2e,d2e=function(t){return t!=="theme"},eL=function(t){return typeof t=="string"&&t.charCodeAt(0)>96?f2e:d2e},tL=function(t,n,r){var i;if(n){var o=n.shouldForwardProp;i=t.__emotion_forwardProp&&o?function(s){return t.__emotion_forwardProp(s)&&o(s)}:o}return typeof i!="function"&&r&&(i=t.__emotion_forwardProp),i},h2e=!1,p2e=function(t){var n=t.cache,r=t.serialized,i=t.isStringTag;return FH(n,r,i),Dde(function(){return PH(n,r,i)}),null},g2e=function e(t,n){var r=t.__emotion_real===t,i=r&&t.__emotion_base||t,o,s;n!==void 0&&(o=n.label,s=n.target);var a=tL(t,n,r),l=a||eL(i),u=!l("as");return function(){var c=arguments,f=r&&t.__emotion_styles!==void 0?t.__emotion_styles.slice(0):[];if(o!==void 0&&f.push("label:"+o+";"),c[0]==null||c[0].raw===void 0)f.push.apply(f,c);else{f.push(c[0][0]);for(var d=c.length,h=1;h<d;h++)f.push(c[h],c[0][h])}var p=NH(function(g,m,y){var v=u&&g.as||i,b="",x=[],w=g;if(g.theme==null){w={};for(var k in g)w[k]=g[k];w.theme=T.useContext(Iy)}typeof g.className=="string"?b=_de(m.registered,x,g.className):g.className!=null&&(b=g.className+" ");var S=sF(f.concat(x),m.registered,w);b+=m.key+"-"+S.name,s!==void 0&&(b+=" "+s);var C=u&&a===void 0?eL(v):l,_={};for(var $ in g)u&&$==="as"||C($)&&(_[$]=g[$]);return _.className=b,y&&(_.ref=y),T.createElement(T.Fragment,null,T.createElement(p2e,{cache:m,serialized:S,isStringTag:typeof v=="string"}),T.createElement(v,_))});return p.displayName=o!==void 0?o:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",p.defaultProps=t.defaultProps,p.__emotion_real=p,p.__emotion_base=i,p.__emotion_styles=f,p.__emotion_forwardProp=a,Object.defineProperty(p,"toString",{value:function(){return s===void 0&&h2e?"NO_COMPONENT_SELECTOR":"."+s}}),p.withComponent=function(g,m){return e(g,V2({},n,m,{shouldForwardProp:tL(p,m,!0)})).apply(void 0,f)},p}},m2e=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],bw=g2e.bind();m2e.forEach(function(e){bw[e]=bw(e)});var nL,y2e=(nL=bw.default)!=null?nL:bw,v2e=({baseStyle:e})=>t=>{const{theme:n,css:r,__css:i,sx:o,...s}=t,a=hY(s,(f,d)=>dme(d)),l=gY(e,t),u=l2e({},i,l,pY(a),o),c=KG(u)(t.theme);return r?[c,r]:c};function M$(e,t){const{baseStyle:n,...r}=t??{};r.shouldForwardProp||(r.shouldForwardProp=a2e);const i=v2e({baseStyle:n}),o=y2e(e,r)(i);return Bi.forwardRef(function(l,u){const{colorMode:c,forced:f}=Gg();return Bi.createElement(o,{ref:u,"data-theme":f?c:void 0,...l})})}function b2e(){const e=new Map;return new Proxy(M$,{apply(t,n,r){return M$(...r)},get(t,n){return e.has(n)||e.set(n,M$(n)),e.get(n)}})}var ke=b2e();function Ee(e){return T.forwardRef(e)}function x2e(e={}){const{strict:t=!0,errorMessage:n="useContext: `context` is undefined. Seems you forgot to wrap component within the Provider",name:r}=e,i=T.createContext(void 0);i.displayName=r;function o(){var s;const a=T.useContext(i);if(!a&&t){const l=new Error(n);throw l.name="ContextError",(s=Error.captureStackTrace)==null||s.call(Error,l,o),l}return a}return[i.Provider,o,i]}function w2e(e){const{cssVarsRoot:t,theme:n,children:r}=e,i=T.useMemo(()=>ame(n),[n]);return E.jsxs(Ide,{theme:i,children:[E.jsx(S2e,{root:t}),r]})}function S2e({root:e=":host, :root"}){const t=[e,"[data-theme]"].join(",");return E.jsx(Lk,{styles:n=>({[t]:n.__cssVars})})}x2e({name:"StylesContext",errorMessage:"useStyles: `styles` is undefined. Seems you forgot to wrap the components in `<StylesProvider />` "});function k2e(){const{colorMode:e}=Gg();return E.jsx(Lk,{styles:t=>{const n=dY(t,"styles.global"),r=gY(n,{theme:t,colorMode:e});return r?KG(r)(t):void 0}})}var uP=T.createContext({getDocument(){return document},getWindow(){return window}});uP.displayName="EnvironmentContext";function C2e({defer:e}={}){const[,t]=T.useReducer(n=>n+1,0);return Bp(()=>{e&&t()},[e]),T.useContext(uP)}function vY(e){const{children:t,environment:n,disabled:r}=e,i=T.useRef(null),o=T.useMemo(()=>n||{getDocument:()=>{var a,l;return(l=(a=i.current)==null?void 0:a.ownerDocument)!=null?l:document},getWindow:()=>{var a,l;return(l=(a=i.current)==null?void 0:a.ownerDocument.defaultView)!=null?l:window}},[n]),s=!r||!n;return E.jsxs(uP.Provider,{value:o,children:[t,s&&E.jsx("span",{id:"__chakra_env",hidden:!0,ref:i})]})}vY.displayName="EnvironmentProvider";var _2e=e=>{const{children:t,colorModeManager:n,portalZIndex:r,resetScope:i,resetCSS:o=!0,theme:s={},environment:a,cssVarsRoot:l,disableEnvironment:u,disableGlobalStyle:c}=e,f=E.jsx(vY,{environment:a,disabled:u,children:t});return E.jsx(w2e,{theme:s,cssVarsRoot:l,children:E.jsxs(UG,{colorModeManager:n,options:s.config,children:[o?E.jsx(Bde,{scope:i}):E.jsx(jde,{}),!c&&E.jsx(k2e,{}),r?E.jsx(zH,{zIndex:r,children:f}):f]})})},E2e=(e,t)=>e.find(n=>n.id===t);function rL(e,t){const n=bY(e,t),r=n?e[n].findIndex(i=>i.id===t):-1;return{position:n,index:r}}function bY(e,t){for(const[n,r]of Object.entries(e))if(E2e(r,t))return n}function $2e(e){const t=e.includes("right"),n=e.includes("left");let r="center";return t&&(r="flex-end"),n&&(r="flex-start"),{display:"flex",flexDirection:"column",alignItems:r}}function A2e(e){const n=e==="top"||e==="bottom"?"0 auto":void 0,r=e.includes("top")?"env(safe-area-inset-top, 0px)":void 0,i=e.includes("bottom")?"env(safe-area-inset-bottom, 0px)":void 0,o=e.includes("left")?void 0:"env(safe-area-inset-right, 0px)",s=e.includes("right")?void 0:"env(safe-area-inset-left, 0px)";return{position:"fixed",zIndex:"var(--toast-z-index, 5500)",pointerEvents:"none",display:"flex",flexDirection:"column",margin:n,top:r,bottom:i,right:o,left:s}}function f2(e,t=[]){const n=T.useRef(e);return T.useEffect(()=>{n.current=e}),T.useCallback((...r)=>{var i;return(i=n.current)==null?void 0:i.call(n,...r)},t)}function T2e(e,t){const n=f2(e);T.useEffect(()=>{if(t==null)return;let r=null;return r=window.setTimeout(()=>{n()},t),()=>{r&&window.clearTimeout(r)}},[t,n])}function iL(e,t){const n=T.useRef(!1),r=T.useRef(!1);T.useEffect(()=>{if(n.current&&r.current)return e();r.current=!0},t),T.useEffect(()=>(n.current=!0,()=>{n.current=!1}),[])}const xY=T.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),iC=T.createContext({}),nv=T.createContext(null),oC=typeof document<"u",cP=oC?T.useLayoutEffect:T.useEffect,wY=T.createContext({strict:!1}),fP=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),M2e="framerAppearId",SY="data-"+fP(M2e);function F2e(e,t,n,r){const{visualElement:i}=T.useContext(iC),o=T.useContext(wY),s=T.useContext(nv),a=T.useContext(xY).reducedMotion,l=T.useRef();r=r||o.renderer,!l.current&&r&&(l.current=r(e,{visualState:t,parent:i,props:n,presenceContext:s,blockInitialAnimation:s?s.initial===!1:!1,reducedMotionConfig:a}));const u=l.current;T.useInsertionEffect(()=>{u&&u.update(n,s)});const c=T.useRef(!!(n[SY]&&!window.HandoffComplete));return cP(()=>{u&&(u.render(),c.current&&u.animationState&&u.animationState.animateChanges())}),T.useEffect(()=>{u&&(u.updateFeatures(),!c.current&&u.animationState&&u.animationState.animateChanges(),c.current&&(c.current=!1,window.HandoffComplete=!0))}),u}function Yh(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function P2e(e,t,n){return T.useCallback(r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):Yh(n)&&(n.current=r))},[t])}function o1(e){return typeof e=="string"||Array.isArray(e)}function sC(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const dP=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],hP=["initial",...dP];function aC(e){return sC(e.animate)||hP.some(t=>o1(e[t]))}function kY(e){return!!(aC(e)||e.variants)}function R2e(e,t){if(aC(e)){const{initial:n,animate:r}=e;return{initial:n===!1||o1(n)?n:void 0,animate:o1(r)?r:void 0}}return e.inherit!==!1?t:{}}function D2e(e){const{initial:t,animate:n}=R2e(e,T.useContext(iC));return T.useMemo(()=>({initial:t,animate:n}),[oL(t),oL(n)])}function oL(e){return Array.isArray(e)?e.join(" "):e}const sL={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},s1={};for(const e in sL)s1[e]={isEnabled:t=>sL[e].some(n=>!!t[n])};function O2e(e){for(const t in e)s1[t]={...s1[t],...e[t]}}const pP=T.createContext({}),CY=T.createContext({}),N2e=Symbol.for("motionComponentSymbol");function I2e({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:i}){e&&O2e(e);function o(a,l){let u;const c={...T.useContext(xY),...a,layoutId:L2e(a)},{isStatic:f}=c,d=D2e(a),h=r(a,f);if(!f&&oC){d.visualElement=F2e(i,h,c,t);const p=T.useContext(CY),g=T.useContext(wY).strict;d.visualElement&&(u=d.visualElement.loadFeatures(c,g,e,p))}return T.createElement(iC.Provider,{value:d},u&&d.visualElement?T.createElement(u,{visualElement:d.visualElement,...c}):null,n(i,a,P2e(h,d.visualElement,l),h,f,d.visualElement))}const s=T.forwardRef(o);return s[N2e]=i,s}function L2e({layoutId:e}){const t=T.useContext(pP).id;return t&&e!==void 0?t+"-"+e:e}function z2e(e){function t(r,i={}){return I2e(e(r,i))}if(typeof Proxy>"u")return t;const n=new Map;return new Proxy(t,{get:(r,i)=>(n.has(i)||n.set(i,t(i)),n.get(i))})}const j2e=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function gP(e){return typeof e!="string"||e.includes("-")?!1:!!(j2e.indexOf(e)>-1||/[A-Z]/.test(e))}const xw={};function B2e(e){Object.assign(xw,e)}const rv=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Dd=new Set(rv);function _Y(e,{layout:t,layoutId:n}){return Dd.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!xw[e]||e==="opacity")}const bi=e=>!!(e&&e.getVelocity),U2e={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},V2e=rv.length;function W2e(e,{enableHardwareAcceleration:t=!0,allowTransformNone:n=!0},r,i){let o="";for(let s=0;s<V2e;s++){const a=rv[s];if(e[a]!==void 0){const l=U2e[a]||a;o+=`${l}(${e[a]}) `}}return t&&!e.z&&(o+="translateZ(0)"),o=o.trim(),i?o=i(e,r?"":o):n&&r&&(o="none"),o}const EY=e=>t=>typeof t=="string"&&t.startsWith(e),$Y=EY("--"),IT=EY("var(--"),H2e=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,q2e=(e,t)=>t&&typeof e=="number"?t.transform(e):e,ic=(e,t,n)=>Math.min(Math.max(n,e),t),Od={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},dy={...Od,transform:e=>ic(0,1,e)},Ub={...Od,default:1},hy=e=>Math.round(e*1e5)/1e5,lC=/(-)?([\d]*\.?[\d])+/g,AY=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,G2e=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function iv(e){return typeof e=="string"}const ov=e=>({test:t=>iv(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),iu=ov("deg"),ga=ov("%"),Te=ov("px"),Y2e=ov("vh"),X2e=ov("vw"),aL={...ga,parse:e=>ga.parse(e)/100,transform:e=>ga.transform(e*100)},lL={...Od,transform:Math.round},TY={borderWidth:Te,borderTopWidth:Te,borderRightWidth:Te,borderBottomWidth:Te,borderLeftWidth:Te,borderRadius:Te,radius:Te,borderTopLeftRadius:Te,borderTopRightRadius:Te,borderBottomRightRadius:Te,borderBottomLeftRadius:Te,width:Te,maxWidth:Te,height:Te,maxHeight:Te,size:Te,top:Te,right:Te,bottom:Te,left:Te,padding:Te,paddingTop:Te,paddingRight:Te,paddingBottom:Te,paddingLeft:Te,margin:Te,marginTop:Te,marginRight:Te,marginBottom:Te,marginLeft:Te,rotate:iu,rotateX:iu,rotateY:iu,rotateZ:iu,scale:Ub,scaleX:Ub,scaleY:Ub,scaleZ:Ub,skew:iu,skewX:iu,skewY:iu,distance:Te,translateX:Te,translateY:Te,translateZ:Te,x:Te,y:Te,z:Te,perspective:Te,transformPerspective:Te,opacity:dy,originX:aL,originY:aL,originZ:Te,zIndex:lL,fillOpacity:dy,strokeOpacity:dy,numOctaves:lL};function mP(e,t,n,r){const{style:i,vars:o,transform:s,transformOrigin:a}=e;let l=!1,u=!1,c=!0;for(const f in t){const d=t[f];if($Y(f)){o[f]=d;continue}const h=TY[f],p=q2e(d,h);if(Dd.has(f)){if(l=!0,s[f]=p,!c)continue;d!==(h.default||0)&&(c=!1)}else f.startsWith("origin")?(u=!0,a[f]=p):i[f]=p}if(t.transform||(l||r?i.transform=W2e(e.transform,n,c,r):i.transform&&(i.transform="none")),u){const{originX:f="50%",originY:d="50%",originZ:h=0}=a;i.transformOrigin=`${f} ${d} ${h}`}}const yP=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function MY(e,t,n){for(const r in t)!bi(t[r])&&!_Y(r,n)&&(e[r]=t[r])}function K2e({transformTemplate:e},t,n){return T.useMemo(()=>{const r=yP();return mP(r,t,{enableHardwareAcceleration:!n},e),Object.assign({},r.vars,r.style)},[t])}function Q2e(e,t,n){const r=e.style||{},i={};return MY(i,r,e),Object.assign(i,K2e(e,t,n)),e.transformValues?e.transformValues(i):i}function Z2e(e,t,n){const r={},i=Q2e(e,t,n);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=i,r}const J2e=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ww(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||J2e.has(e)}let FY=e=>!ww(e);function ewe(e){e&&(FY=t=>t.startsWith("on")?!ww(t):e(t))}try{ewe(require("@emotion/is-prop-valid").default)}catch{}function twe(e,t,n){const r={};for(const i in e)i==="values"&&typeof e.values=="object"||(FY(i)||n===!0&&ww(i)||!t&&!ww(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}function uL(e,t,n){return typeof e=="string"?e:Te.transform(t+n*e)}function nwe(e,t,n){const r=uL(t,e.x,e.width),i=uL(n,e.y,e.height);return`${r} ${i}`}const rwe={offset:"stroke-dashoffset",array:"stroke-dasharray"},iwe={offset:"strokeDashoffset",array:"strokeDasharray"};function owe(e,t,n=1,r=0,i=!0){e.pathLength=1;const o=i?rwe:iwe;e[o.offset]=Te.transform(-r);const s=Te.transform(t),a=Te.transform(n);e[o.array]=`${s} ${a}`}function vP(e,{attrX:t,attrY:n,attrScale:r,originX:i,originY:o,pathLength:s,pathSpacing:a=1,pathOffset:l=0,...u},c,f,d){if(mP(e,u,c,d),f){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:h,style:p,dimensions:g}=e;h.transform&&(g&&(p.transform=h.transform),delete h.transform),g&&(i!==void 0||o!==void 0||p.transform)&&(p.transformOrigin=nwe(g,i!==void 0?i:.5,o!==void 0?o:.5)),t!==void 0&&(h.x=t),n!==void 0&&(h.y=n),r!==void 0&&(h.scale=r),s!==void 0&&owe(h,s,a,l,!1)}const PY=()=>({...yP(),attrs:{}}),bP=e=>typeof e=="string"&&e.toLowerCase()==="svg";function swe(e,t,n,r){const i=T.useMemo(()=>{const o=PY();return vP(o,t,{enableHardwareAcceleration:!1},bP(r),e.transformTemplate),{...o.attrs,style:{...o.style}}},[t]);if(e.style){const o={};MY(o,e.style,e),i.style={...o,...i.style}}return i}function awe(e=!1){return(n,r,i,{latestValues:o},s)=>{const l=(gP(n)?swe:Z2e)(r,o,s,n),c={...twe(r,typeof n=="string",e),...l,ref:i},{children:f}=r,d=T.useMemo(()=>bi(f)?f.get():f,[f]);return T.createElement(n,{...c,children:d})}}function RY(e,{style:t,vars:n},r,i){Object.assign(e.style,t,i&&i.getProjectionStyles(r));for(const o in n)e.style.setProperty(o,n[o])}const DY=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function OY(e,t,n,r){RY(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(DY.has(i)?i:fP(i),t.attrs[i])}function xP(e,t){const{style:n}=e,r={};for(const i in n)(bi(n[i])||t.style&&bi(t.style[i])||_Y(i,e))&&(r[i]=n[i]);return r}function NY(e,t){const n=xP(e,t);for(const r in e)if(bi(e[r])||bi(t[r])){const i=rv.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[i]=e[r]}return n}function wP(e,t,n,r={},i={}){return typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,i)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,i)),t}function SP(e){const t=T.useRef(null);return t.current===null&&(t.current=e()),t.current}const Sw=e=>Array.isArray(e),lwe=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),uwe=e=>Sw(e)?e[e.length-1]||0:e;function d2(e){const t=bi(e)?e.get():e;return lwe(t)?t.toValue():t}function cwe({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:n},r,i,o){const s={latestValues:fwe(r,i,o,e),renderState:t()};return n&&(s.mount=a=>n(r,a,s)),s}const IY=e=>(t,n)=>{const r=T.useContext(iC),i=T.useContext(nv),o=()=>cwe(e,t,r,i);return n?o():SP(o)};function fwe(e,t,n,r){const i={},o=r(e,{});for(const d in o)i[d]=d2(o[d]);let{initial:s,animate:a}=e;const l=aC(e),u=kY(e);t&&u&&!l&&e.inherit!==!1&&(s===void 0&&(s=t.initial),a===void 0&&(a=t.animate));let c=n?n.initial===!1:!1;c=c||s===!1;const f=c?a:s;return f&&typeof f!="boolean"&&!sC(f)&&(Array.isArray(f)?f:[f]).forEach(h=>{const p=wP(e,h);if(!p)return;const{transitionEnd:g,transition:m,...y}=p;for(const v in y){let b=y[v];if(Array.isArray(b)){const x=c?b.length-1:0;b=b[x]}b!==null&&(i[v]=b)}for(const v in g)i[v]=g[v]}),i}const sn=e=>e;class cL{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const n=this.order.indexOf(t);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function dwe(e){let t=new cL,n=new cL,r=0,i=!1,o=!1;const s=new WeakSet,a={schedule:(l,u=!1,c=!1)=>{const f=c&&i,d=f?t:n;return u&&s.add(l),d.add(l)&&f&&i&&(r=t.order.length),l},cancel:l=>{n.remove(l),s.delete(l)},process:l=>{if(i){o=!0;return}if(i=!0,[t,n]=[n,t],n.clear(),r=t.order.length,r)for(let u=0;u<r;u++){const c=t.order[u];c(l),s.has(c)&&(a.schedule(c),e())}i=!1,o&&(o=!1,a.process(l))}};return a}const Vb=["prepare","read","update","preRender","render","postRender"],hwe=40;function pwe(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},o=Vb.reduce((f,d)=>(f[d]=dwe(()=>n=!0),f),{}),s=f=>o[f].process(i),a=()=>{const f=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(f-i.timestamp,hwe),1),i.timestamp=f,i.isProcessing=!0,Vb.forEach(s),i.isProcessing=!1,n&&t&&(r=!1,e(a))},l=()=>{n=!0,r=!0,i.isProcessing||e(a)};return{schedule:Vb.reduce((f,d)=>{const h=o[d];return f[d]=(p,g=!1,m=!1)=>(n||l(),h.schedule(p,g,m)),f},{}),cancel:f=>Vb.forEach(d=>o[d].cancel(f)),state:i,steps:o}}const{schedule:_t,cancel:Pl,state:gr,steps:F$}=pwe(typeof requestAnimationFrame<"u"?requestAnimationFrame:sn,!0),gwe={useVisualState:IY({scrapeMotionValuesFromProps:NY,createRenderState:PY,onMount:(e,t,{renderState:n,latestValues:r})=>{_t.read(()=>{try{n.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),_t.render(()=>{vP(n,r,{enableHardwareAcceleration:!1},bP(t.tagName),e.transformTemplate),OY(t,n)})}})},mwe={useVisualState:IY({scrapeMotionValuesFromProps:xP,createRenderState:yP})};function ywe(e,{forwardMotionProps:t=!1},n,r){return{...gP(e)?gwe:mwe,preloadedFeatures:n,useRender:awe(t),createVisualElement:r,Component:e}}function ll(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const LY=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function uC(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const vwe=e=>t=>LY(t)&&e(t,uC(t));function ml(e,t,n,r){return ll(e,t,vwe(n),r)}const bwe=(e,t)=>n=>t(e(n)),Ku=(...e)=>e.reduce(bwe);function zY(e){let t=null;return()=>{const n=()=>{t=null};return t===null?(t=e,n):!1}}const fL=zY("dragHorizontal"),dL=zY("dragVertical");function jY(e){let t=!1;if(e==="y")t=dL();else if(e==="x")t=fL();else{const n=fL(),r=dL();n&&r?t=()=>{n(),r()}:(n&&n(),r&&r())}return t}function BY(){const e=jY(!0);return e?(e(),!1):!0}let Ec=class{constructor(t){this.isMounted=!1,this.node=t}update(){}};function hL(e,t){const n="pointer"+(t?"enter":"leave"),r="onHover"+(t?"Start":"End"),i=(o,s)=>{if(o.pointerType==="touch"||BY())return;const a=e.getProps();e.animationState&&a.whileHover&&e.animationState.setActive("whileHover",t),a[r]&&_t.update(()=>a[r](o,s))};return ml(e.current,n,i,{passive:!e.getProps()[r]})}class xwe extends Ec{mount(){this.unmount=Ku(hL(this.node,!0),hL(this.node,!1))}unmount(){}}class wwe extends Ec{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ku(ll(this.node.current,"focus",()=>this.onFocus()),ll(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const UY=(e,t)=>t?e===t?!0:UY(e,t.parentElement):!1;function P$(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,uC(n))}class Swe extends Ec{constructor(){super(...arguments),this.removeStartListeners=sn,this.removeEndListeners=sn,this.removeAccessibleListeners=sn,this.startPointerPress=(t,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),o=ml(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:c,globalTapTarget:f}=this.node.getProps();_t.update(()=>{!f&&!UY(this.node.current,a.target)?c&&c(a,l):u&&u(a,l)})},{passive:!(r.onTap||r.onPointerUp)}),s=ml(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=Ku(o,s),this.startPress(t,n)},this.startAccessiblePress=()=>{const t=o=>{if(o.key!=="Enter"||this.isPressing)return;const s=a=>{a.key!=="Enter"||!this.checkPressEnd()||P$("up",(l,u)=>{const{onTap:c}=this.node.getProps();c&&_t.update(()=>c(l,u))})};this.removeEndListeners(),this.removeEndListeners=ll(this.node.current,"keyup",s),P$("down",(a,l)=>{this.startPress(a,l)})},n=ll(this.node.current,"keydown",t),r=()=>{this.isPressing&&P$("cancel",(o,s)=>this.cancelPress(o,s))},i=ll(this.node.current,"blur",r);this.removeAccessibleListeners=Ku(n,i)}}startPress(t,n){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&_t.update(()=>r(t,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!BY()}cancelPress(t,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&_t.update(()=>r(t,n))}mount(){const t=this.node.getProps(),n=ml(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),r=ll(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Ku(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const LT=new WeakMap,R$=new WeakMap,kwe=e=>{const t=LT.get(e.target);t&&t(e)},Cwe=e=>{e.forEach(kwe)};function _we({root:e,...t}){const n=e||document;R$.has(n)||R$.set(n,{});const r=R$.get(n),i=JSON.stringify(t);return r[i]||(r[i]=new IntersectionObserver(Cwe,{root:e,...t})),r[i]}function Ewe(e,t,n){const r=_we(t);return LT.set(e,n),r.observe(e),()=>{LT.delete(e),r.unobserve(e)}}const $we={some:0,all:1};class Awe extends Ec{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:o}=t,s={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:$we[i]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,o&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:c,onViewportLeave:f}=this.node.getProps(),d=u?c:f;d&&d(l)};return Ewe(this.node.current,s,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(Twe(t,n))&&this.startObserver()}unmount(){}}function Twe({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const Mwe={inView:{Feature:Awe},tap:{Feature:Swe},focus:{Feature:wwe},hover:{Feature:xwe}};function VY(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function Fwe(e){const t={};return e.values.forEach((n,r)=>t[r]=n.get()),t}function Pwe(e){const t={};return e.values.forEach((n,r)=>t[r]=n.getVelocity()),t}function cC(e,t,n){const r=e.getProps();return wP(r,t,n!==void 0?n:r.custom,Fwe(e),Pwe(e))}let kw=sn;const Wf=e=>e*1e3,yl=e=>e/1e3,Rwe={current:!1},WY=e=>Array.isArray(e)&&typeof e[0]=="number";function HY(e){return!!(!e||typeof e=="string"&&qY[e]||WY(e)||Array.isArray(e)&&e.every(HY))}const C0=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,qY={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:C0([0,.65,.55,1]),circOut:C0([.55,0,1,.45]),backIn:C0([.31,.01,.66,-.59]),backOut:C0([.33,1.53,.69,.99])};function GY(e){if(e)return WY(e)?C0(e):Array.isArray(e)?e.map(GY):qY[e]}function Dwe(e,t,n,{delay:r=0,duration:i,repeat:o=0,repeatType:s="loop",ease:a,times:l}={}){const u={[t]:n};l&&(u.offset=l);const c=GY(a);return Array.isArray(c)&&(u.easing=c),e.animate(u,{delay:r,duration:i,easing:Array.isArray(c)?"linear":c,fill:"both",iterations:o+1,direction:s==="reverse"?"alternate":"normal"})}function Owe(e,{repeat:t,repeatType:n="loop"}){const r=t&&n!=="loop"&&t%2===1?0:e.length-1;return e[r]}const YY=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,Nwe=1e-7,Iwe=12;function Lwe(e,t,n,r,i){let o,s,a=0;do s=t+(n-t)/2,o=YY(s,r,i)-e,o>0?n=s:t=s;while(Math.abs(o)>Nwe&&++a<Iwe);return s}function sv(e,t,n,r){if(e===t&&n===r)return sn;const i=o=>Lwe(o,0,1,e,n);return o=>o===0||o===1?o:YY(i(o),t,r)}const zwe=sv(.42,0,1,1),jwe=sv(0,0,.58,1),XY=sv(.42,0,.58,1),Bwe=e=>Array.isArray(e)&&typeof e[0]!="number",KY=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,QY=e=>t=>1-e(1-t),kP=e=>1-Math.sin(Math.acos(e)),ZY=QY(kP),Uwe=KY(kP),JY=sv(.33,1.53,.69,.99),CP=QY(JY),Vwe=KY(CP),Wwe=e=>(e*=2)<1?.5*CP(e):.5*(2-Math.pow(2,-10*(e-1))),pL={linear:sn,easeIn:zwe,easeInOut:XY,easeOut:jwe,circIn:kP,circInOut:Uwe,circOut:ZY,backIn:CP,backInOut:Vwe,backOut:JY,anticipate:Wwe},gL=e=>{if(Array.isArray(e)){kw(e.length===4);const[t,n,r,i]=e;return sv(t,n,r,i)}else if(typeof e=="string")return kw(pL[e]!==void 0),pL[e];return e},_P=(e,t)=>n=>!!(iv(n)&&G2e.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),eX=(e,t,n)=>r=>{if(!iv(r))return r;const[i,o,s,a]=r.match(lC);return{[e]:parseFloat(i),[t]:parseFloat(o),[n]:parseFloat(s),alpha:a!==void 0?parseFloat(a):1}},Hwe=e=>ic(0,255,e),D$={...Od,transform:e=>Math.round(Hwe(e))},$f={test:_P("rgb","red"),parse:eX("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+D$.transform(e)+", "+D$.transform(t)+", "+D$.transform(n)+", "+hy(dy.transform(r))+")"};function qwe(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const zT={test:_P("#"),parse:qwe,transform:$f.transform},Xh={test:_P("hsl","hue"),parse:eX("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+ga.transform(hy(t))+", "+ga.transform(hy(n))+", "+hy(dy.transform(r))+")"},Dr={test:e=>$f.test(e)||zT.test(e)||Xh.test(e),parse:e=>$f.test(e)?$f.parse(e):Xh.test(e)?Xh.parse(e):zT.parse(e),transform:e=>iv(e)?e:e.hasOwnProperty("red")?$f.transform(e):Xh.transform(e)},Vt=(e,t,n)=>-n*e+n*t+e;function O$(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function Gwe({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let i=0,o=0,s=0;if(!t)i=o=s=n;else{const a=n<.5?n*(1+t):n+t-n*t,l=2*n-a;i=O$(l,a,e+1/3),o=O$(l,a,e),s=O$(l,a,e-1/3)}return{red:Math.round(i*255),green:Math.round(o*255),blue:Math.round(s*255),alpha:r}}const N$=(e,t,n)=>{const r=e*e;return Math.sqrt(Math.max(0,n*(t*t-r)+r))},Ywe=[zT,$f,Xh],Xwe=e=>Ywe.find(t=>t.test(e));function mL(e){const t=Xwe(e);let n=t.parse(e);return t===Xh&&(n=Gwe(n)),n}const tX=(e,t)=>{const n=mL(e),r=mL(t),i={...n};return o=>(i.red=N$(n.red,r.red,o),i.green=N$(n.green,r.green,o),i.blue=N$(n.blue,r.blue,o),i.alpha=Vt(n.alpha,r.alpha,o),$f.transform(i))};function Kwe(e){var t,n;return isNaN(e)&&iv(e)&&(((t=e.match(lC))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(AY))===null||n===void 0?void 0:n.length)||0)>0}const nX={regex:H2e,countKey:"Vars",token:"${v}",parse:sn},rX={regex:AY,countKey:"Colors",token:"${c}",parse:Dr.parse},iX={regex:lC,countKey:"Numbers",token:"${n}",parse:Od.parse};function I$(e,{regex:t,countKey:n,token:r,parse:i}){const o=e.tokenised.match(t);o&&(e["num"+n]=o.length,e.tokenised=e.tokenised.replace(t,r),e.values.push(...o.map(i)))}function Cw(e){const t=e.toString(),n={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&I$(n,nX),I$(n,rX),I$(n,iX),n}function oX(e){return Cw(e).values}function sX(e){const{values:t,numColors:n,numVars:r,tokenised:i}=Cw(e),o=t.length;return s=>{let a=i;for(let l=0;l<o;l++)l<r?a=a.replace(nX.token,s[l]):l<r+n?a=a.replace(rX.token,Dr.transform(s[l])):a=a.replace(iX.token,hy(s[l]));return a}}const Qwe=e=>typeof e=="number"?0:e;function Zwe(e){const t=oX(e);return sX(e)(t.map(Qwe))}const oc={test:Kwe,parse:oX,createTransformer:sX,getAnimatableNone:Zwe},aX=(e,t)=>n=>`${n>0?t:e}`;function lX(e,t){return typeof e=="number"?n=>Vt(e,t,n):Dr.test(e)?tX(e,t):e.startsWith("var(")?aX(e,t):cX(e,t)}const uX=(e,t)=>{const n=[...e],r=n.length,i=e.map((o,s)=>lX(o,t[s]));return o=>{for(let s=0;s<r;s++)n[s]=i[s](o);return n}},Jwe=(e,t)=>{const n={...e,...t},r={};for(const i in n)e[i]!==void 0&&t[i]!==void 0&&(r[i]=lX(e[i],t[i]));return i=>{for(const o in r)n[o]=r[o](i);return n}},cX=(e,t)=>{const n=oc.createTransformer(t),r=Cw(e),i=Cw(t);return r.numVars===i.numVars&&r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?Ku(uX(r.values,i.values),n):aX(e,t)},a1=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},yL=(e,t)=>n=>Vt(e,t,n);function eSe(e){return typeof e=="number"?yL:typeof e=="string"?Dr.test(e)?tX:cX:Array.isArray(e)?uX:typeof e=="object"?Jwe:yL}function tSe(e,t,n){const r=[],i=n||eSe(e[0]),o=e.length-1;for(let s=0;s<o;s++){let a=i(e[s],e[s+1]);if(t){const l=Array.isArray(t)?t[s]||sn:t;a=Ku(l,a)}r.push(a)}return r}function fX(e,t,{clamp:n=!0,ease:r,mixer:i}={}){const o=e.length;if(kw(o===t.length),o===1)return()=>t[0];e[0]>e[o-1]&&(e=[...e].reverse(),t=[...t].reverse());const s=tSe(t,r,i),a=s.length,l=u=>{let c=0;if(a>1)for(;c<e.length-2&&!(u<e[c+1]);c++);const f=a1(e[c],e[c+1],u);return s[c](f)};return n?u=>l(ic(e[0],e[o-1],u)):l}function nSe(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=a1(0,t,r);e.push(Vt(n,1,i))}}function rSe(e){const t=[0];return nSe(t,e.length-1),t}function iSe(e,t){return e.map(n=>n*t)}function oSe(e,t){return e.map(()=>t||XY).splice(0,e.length-1)}function _w({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const i=Bwe(r)?r.map(gL):gL(r),o={done:!1,value:t[0]},s=iSe(n&&n.length===t.length?n:rSe(t),e),a=fX(s,t,{ease:Array.isArray(i)?i:oSe(t,i)});return{calculatedDuration:e,next:l=>(o.value=a(l),o.done=l>=e,o)}}function dX(e,t){return t?e*(1e3/t):0}const sSe=5;function hX(e,t,n){const r=Math.max(t-sSe,0);return dX(n-e(r),t-r)}const L$=.001,aSe=.01,lSe=10,uSe=.05,cSe=1;function fSe({duration:e=800,bounce:t=.25,velocity:n=0,mass:r=1}){let i,o,s=1-t;s=ic(uSe,cSe,s),e=ic(aSe,lSe,yl(e)),s<1?(i=u=>{const c=u*s,f=c*e,d=c-n,h=jT(u,s),p=Math.exp(-f);return L$-d/h*p},o=u=>{const f=u*s*e,d=f*n+n,h=Math.pow(s,2)*Math.pow(u,2)*e,p=Math.exp(-f),g=jT(Math.pow(u,2),s);return(-i(u)+L$>0?-1:1)*((d-h)*p)/g}):(i=u=>{const c=Math.exp(-u*e),f=(u-n)*e+1;return-L$+c*f},o=u=>{const c=Math.exp(-u*e),f=(n-u)*(e*e);return c*f});const a=5/e,l=hSe(i,o,a);if(e=Wf(e),isNaN(l))return{stiffness:100,damping:10,duration:e};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:s*2*Math.sqrt(r*u),duration:e}}}const dSe=12;function hSe(e,t,n){let r=n;for(let i=1;i<dSe;i++)r=r-e(r)/t(r);return r}function jT(e,t){return e*Math.sqrt(1-t*t)}const pSe=["duration","bounce"],gSe=["stiffness","damping","mass"];function vL(e,t){return t.some(n=>e[n]!==void 0)}function mSe(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!vL(e,gSe)&&vL(e,pSe)){const n=fSe(e);t={...t,...n,mass:1},t.isResolvedFromDuration=!0}return t}function pX({keyframes:e,restDelta:t,restSpeed:n,...r}){const i=e[0],o=e[e.length-1],s={done:!1,value:i},{stiffness:a,damping:l,mass:u,duration:c,velocity:f,isResolvedFromDuration:d}=mSe({...r,velocity:-yl(r.velocity||0)}),h=f||0,p=l/(2*Math.sqrt(a*u)),g=o-i,m=yl(Math.sqrt(a/u)),y=Math.abs(g)<5;n||(n=y?.01:2),t||(t=y?.005:.5);let v;if(p<1){const b=jT(m,p);v=x=>{const w=Math.exp(-p*m*x);return o-w*((h+p*m*g)/b*Math.sin(b*x)+g*Math.cos(b*x))}}else if(p===1)v=b=>o-Math.exp(-m*b)*(g+(h+m*g)*b);else{const b=m*Math.sqrt(p*p-1);v=x=>{const w=Math.exp(-p*m*x),k=Math.min(b*x,300);return o-w*((h+p*m*g)*Math.sinh(k)+b*g*Math.cosh(k))/b}}return{calculatedDuration:d&&c||null,next:b=>{const x=v(b);if(d)s.done=b>=c;else{let w=h;b!==0&&(p<1?w=hX(v,b,x):w=0);const k=Math.abs(w)<=n,S=Math.abs(o-x)<=t;s.done=k&&S}return s.value=s.done?o:x,s}}}function bL({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:o=500,modifyTarget:s,min:a,max:l,restDelta:u=.5,restSpeed:c}){const f=e[0],d={done:!1,value:f},h=C=>a!==void 0&&C<a||l!==void 0&&C>l,p=C=>a===void 0?l:l===void 0||Math.abs(a-C)<Math.abs(l-C)?a:l;let g=n*t;const m=f+g,y=s===void 0?m:s(m);y!==m&&(g=y-f);const v=C=>-g*Math.exp(-C/r),b=C=>y+v(C),x=C=>{const _=v(C),$=b(C);d.done=Math.abs(_)<=u,d.value=d.done?y:$};let w,k;const S=C=>{h(d.value)&&(w=C,k=pX({keyframes:[d.value,p(d.value)],velocity:hX(b,C,d.value),damping:i,stiffness:o,restDelta:u,restSpeed:c}))};return S(0),{calculatedDuration:null,next:C=>{let _=!1;return!k&&w===void 0&&(_=!0,x(C),S(C)),w!==void 0&&C>w?k.next(C-w):(!_&&x(C),d)}}}const ySe=e=>{const t=({timestamp:n})=>e(n);return{start:()=>_t.update(t,!0),stop:()=>Pl(t),now:()=>gr.isProcessing?gr.timestamp:performance.now()}},xL=2e4;function wL(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<xL;)t+=n,r=e.next(t);return t>=xL?1/0:t}const vSe={decay:bL,inertia:bL,tween:_w,keyframes:_w,spring:pX};function Ew({autoplay:e=!0,delay:t=0,driver:n=ySe,keyframes:r,type:i="keyframes",repeat:o=0,repeatDelay:s=0,repeatType:a="loop",onPlay:l,onStop:u,onComplete:c,onUpdate:f,...d}){let h=1,p=!1,g,m;const y=()=>{m=new Promise(W=>{g=W})};y();let v;const b=vSe[i]||_w;let x;b!==_w&&typeof r[0]!="number"&&(x=fX([0,100],r,{clamp:!1}),r=[0,100]);const w=b({...d,keyframes:r});let k;a==="mirror"&&(k=b({...d,keyframes:[...r].reverse(),velocity:-(d.velocity||0)}));let S="idle",C=null,_=null,$=null;w.calculatedDuration===null&&o&&(w.calculatedDuration=wL(w));const{calculatedDuration:A}=w;let O=1/0,M=1/0;A!==null&&(O=A+s,M=O*(o+1)-s);let P=0;const R=W=>{if(_===null)return;h>0&&(_=Math.min(_,W)),h<0&&(_=Math.min(W-M/h,_)),C!==null?P=C:P=Math.round(W-_)*h;const oe=P-t*(h>=0?1:-1),re=h>=0?oe<0:oe>M;P=Math.max(oe,0),S==="finished"&&C===null&&(P=M);let we=P,De=w;if(o){const ue=Math.min(P,M)/O;let $e=Math.floor(ue),Ae=ue%1;!Ae&&ue>=1&&(Ae=1),Ae===1&&$e--,$e=Math.min($e,o+1),!!($e%2)&&(a==="reverse"?(Ae=1-Ae,s&&(Ae-=s/O)):a==="mirror"&&(De=k)),we=ic(0,1,Ae)*O}const ut=re?{done:!1,value:r[0]}:De.next(we);x&&(ut.value=x(ut.value));let{done:$n}=ut;!re&&A!==null&&($n=h>=0?P>=M:P<=0);const sr=C===null&&(S==="finished"||S==="running"&&$n);return f&&f(ut.value),sr&&N(),ut},D=()=>{v&&v.stop(),v=void 0},I=()=>{S="idle",D(),g(),y(),_=$=null},N=()=>{S="finished",c&&c(),D(),g()},B=()=>{if(p)return;v||(v=n(R));const W=v.now();l&&l(),C!==null?_=W-C:(!_||S==="finished")&&(_=W),S==="finished"&&y(),$=_,C=null,S="running",v.start()};e&&B();const Y={then(W,oe){return m.then(W,oe)},get time(){return yl(P)},set time(W){W=Wf(W),P=W,C!==null||!v||h===0?C=W:_=v.now()-W/h},get duration(){const W=w.calculatedDuration===null?wL(w):w.calculatedDuration;return yl(W)},get speed(){return h},set speed(W){W===h||!v||(h=W,Y.time=yl(P))},get state(){return S},play:B,pause:()=>{S="paused",C=P},stop:()=>{p=!0,S!=="idle"&&(S="idle",u&&u(),I())},cancel:()=>{$!==null&&R($),I()},complete:()=>{S="finished"},sample:W=>(_=0,R(W))};return Y}function bSe(e){let t;return()=>(t===void 0&&(t=e()),t)}const xSe=bSe(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),wSe=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Wb=10,SSe=2e4,kSe=(e,t)=>t.type==="spring"||e==="backgroundColor"||!HY(t.ease);function CSe(e,t,{onUpdate:n,onComplete:r,...i}){if(!(xSe()&&wSe.has(t)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0&&i.type!=="inertia"))return!1;let s=!1,a,l,u=!1;const c=()=>{l=new Promise(b=>{a=b})};c();let{keyframes:f,duration:d=300,ease:h,times:p}=i;if(kSe(t,i)){const b=Ew({...i,repeat:0,delay:0});let x={done:!1,value:f[0]};const w=[];let k=0;for(;!x.done&&k<SSe;)x=b.sample(k),w.push(x.value),k+=Wb;p=void 0,f=w,d=k-Wb,h="linear"}const g=Dwe(e.owner.current,t,f,{...i,duration:d,ease:h,times:p}),m=()=>{u=!1,g.cancel()},y=()=>{u=!0,_t.update(m),a(),c()};return g.onfinish=()=>{u||(e.set(Owe(f,i)),r&&r(),y())},{then(b,x){return l.then(b,x)},attachTimeline(b){return g.timeline=b,g.onfinish=null,sn},get time(){return yl(g.currentTime||0)},set time(b){g.currentTime=Wf(b)},get speed(){return g.playbackRate},set speed(b){g.playbackRate=b},get duration(){return yl(d)},play:()=>{s||(g.play(),Pl(m))},pause:()=>g.pause(),stop:()=>{if(s=!0,g.playState==="idle")return;const{currentTime:b}=g;if(b){const x=Ew({...i,autoplay:!1});e.setWithVelocity(x.sample(b-Wb).value,x.sample(b).value,Wb)}y()},complete:()=>{u||g.finish()},cancel:y}}function _Se({keyframes:e,delay:t,onUpdate:n,onComplete:r}){const i=()=>(n&&n(e[e.length-1]),r&&r(),{time:0,speed:1,duration:0,play:sn,pause:sn,stop:sn,then:o=>(o(),Promise.resolve()),cancel:sn,complete:sn});return t?Ew({keyframes:[0,1],duration:0,delay:t,onComplete:i}):i()}const ESe={type:"spring",stiffness:500,damping:25,restSpeed:10},$Se=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),ASe={type:"keyframes",duration:.8},TSe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},MSe=(e,{keyframes:t})=>t.length>2?ASe:Dd.has(e)?e.startsWith("scale")?$Se(t[1]):ESe:TSe,BT=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(oc.test(t)||t==="0")&&!t.startsWith("url(")),FSe=new Set(["brightness","contrast","saturate","opacity"]);function PSe(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(lC)||[];if(!r)return e;const i=n.replace(r,"");let o=FSe.has(t)?1:0;return r!==n&&(o*=100),t+"("+o+i+")"}const RSe=/([a-z-]*)\(.*?\)/g,UT={...oc,getAnimatableNone:e=>{const t=e.match(RSe);return t?t.map(PSe).join(" "):e}},DSe={...TY,color:Dr,backgroundColor:Dr,outlineColor:Dr,fill:Dr,stroke:Dr,borderColor:Dr,borderTopColor:Dr,borderRightColor:Dr,borderBottomColor:Dr,borderLeftColor:Dr,filter:UT,WebkitFilter:UT},EP=e=>DSe[e];function gX(e,t){let n=EP(e);return n!==UT&&(n=oc),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const mX=e=>/^0[^.\s]+$/.test(e);function OSe(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||mX(e)}function NSe(e,t,n,r){const i=BT(t,n);let o;Array.isArray(n)?o=[...n]:o=[null,n];const s=r.from!==void 0?r.from:e.get();let a;const l=[];for(let u=0;u<o.length;u++)o[u]===null&&(o[u]=u===0?s:o[u-1]),OSe(o[u])&&l.push(u),typeof o[u]=="string"&&o[u]!=="none"&&o[u]!=="0"&&(a=o[u]);if(i&&l.length&&a)for(let u=0;u<l.length;u++){const c=l[u];o[c]=gX(t,a)}return o}function ISe({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:o,repeatType:s,repeatDelay:a,from:l,elapsed:u,...c}){return!!Object.keys(c).length}function $P(e,t){return e[t]||e.default||e}const LSe={skipAnimations:!1},AP=(e,t,n,r={})=>i=>{const o=$P(r,e)||{},s=o.delay||r.delay||0;let{elapsed:a=0}=r;a=a-Wf(s);const l=NSe(t,e,n,o),u=l[0],c=l[l.length-1],f=BT(e,u),d=BT(e,c);let h={keyframes:l,velocity:t.getVelocity(),ease:"easeOut",...o,delay:-a,onUpdate:p=>{t.set(p),o.onUpdate&&o.onUpdate(p)},onComplete:()=>{i(),o.onComplete&&o.onComplete()}};if(ISe(o)||(h={...h,...MSe(e,h)}),h.duration&&(h.duration=Wf(h.duration)),h.repeatDelay&&(h.repeatDelay=Wf(h.repeatDelay)),!f||!d||Rwe.current||o.type===!1||LSe.skipAnimations)return _Se(h);if(!r.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const p=CSe(t,e,h);if(p)return p}return Ew(h)};function $w(e){return!!(bi(e)&&e.add)}const yX=e=>/^\-?\d*\.?\d+$/.test(e);function TP(e,t){e.indexOf(t)===-1&&e.push(t)}function MP(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class FP{constructor(){this.subscriptions=[]}add(t){return TP(this.subscriptions,t),()=>MP(this.subscriptions,t)}notify(t,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,n,r);else for(let o=0;o<i;o++){const s=this.subscriptions[o];s&&s(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const zSe=e=>!isNaN(parseFloat(e));class jSe{constructor(t,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,i=!0)=>{this.prev=this.current,this.current=r;const{delta:o,timestamp:s}=gr;this.lastUpdated!==s&&(this.timeDelta=o,this.lastUpdated=s,_t.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>_t.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=zSe(this.current),this.owner=n.owner}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new FP);const r=this.events[t].add(n);return t==="change"?()=>{r(),_t.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=t,this.timeDelta=r}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?dX(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Qp(e,t){return new jSe(e,t)}const vX=e=>t=>t.test(e),BSe={test:e=>e==="auto",parse:e=>e},bX=[Od,Te,ga,iu,X2e,Y2e,BSe],Im=e=>bX.find(vX(e)),USe=[...bX,Dr,oc],VSe=e=>USe.find(vX(e));function WSe(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Qp(n))}function HSe(e,t){const n=cC(e,t);let{transitionEnd:r={},transition:i={},...o}=n?e.makeTargetAnimatable(n,!1):{};o={...o,...r};for(const s in o){const a=uwe(o[s]);WSe(e,s,a)}}function qSe(e,t,n){var r,i;const o=Object.keys(t).filter(a=>!e.hasValue(a)),s=o.length;if(s)for(let a=0;a<s;a++){const l=o[a],u=t[l];let c=null;Array.isArray(u)&&(c=u[0]),c===null&&(c=(i=(r=n[l])!==null&&r!==void 0?r:e.readValue(l))!==null&&i!==void 0?i:t[l]),c!=null&&(typeof c=="string"&&(yX(c)||mX(c))?c=parseFloat(c):!VSe(c)&&oc.test(u)&&(c=gX(l,u)),e.addValue(l,Qp(c,{owner:e})),n[l]===void 0&&(n[l]=c),c!==null&&e.setBaseTarget(l,c))}}function GSe(e,t){return t?(t[e]||t.default||t).from:void 0}function YSe(e,t,n){const r={};for(const i in e){const o=GSe(i,t);if(o!==void 0)r[i]=o;else{const s=n.getValue(i);s&&(r[i]=s.get())}}return r}function XSe({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function KSe(e,t){const n=e.get();if(Array.isArray(t)){for(let r=0;r<t.length;r++)if(t[r]!==n)return!0}else return n!==t}function xX(e,t,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:o=e.getDefaultTransition(),transitionEnd:s,...a}=e.makeTargetAnimatable(t);const l=e.getValue("willChange");r&&(o=r);const u=[],c=i&&e.animationState&&e.animationState.getState()[i];for(const f in a){const d=e.getValue(f),h=a[f];if(!d||h===void 0||c&&XSe(c,f))continue;const p={delay:n,elapsed:0,...$P(o||{},f)};if(window.HandoffAppearAnimations){const y=e.getProps()[SY];if(y){const v=window.HandoffAppearAnimations(y,f,d,_t);v!==null&&(p.elapsed=v,p.isHandoff=!0)}}let g=!p.isHandoff&&!KSe(d,h);if(p.type==="spring"&&(d.getVelocity()||p.velocity)&&(g=!1),d.animation&&(g=!1),g)continue;d.start(AP(f,d,h,e.shouldReduceMotion&&Dd.has(f)?{type:!1}:p));const m=d.animation;$w(l)&&(l.add(f),m.then(()=>l.remove(f))),u.push(m)}return s&&Promise.all(u).then(()=>{s&&HSe(e,s)}),u}function VT(e,t,n={}){const r=cC(e,t,n.custom);let{transition:i=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const o=r?()=>Promise.all(xX(e,r,n)):()=>Promise.resolve(),s=e.variantChildren&&e.variantChildren.size?(l=0)=>{const{delayChildren:u=0,staggerChildren:c,staggerDirection:f}=i;return QSe(e,t,u+l,c,f,n)}:()=>Promise.resolve(),{when:a}=i;if(a){const[l,u]=a==="beforeChildren"?[o,s]:[s,o];return l().then(()=>u())}else return Promise.all([o(),s(n.delay)])}function QSe(e,t,n=0,r=0,i=1,o){const s=[],a=(e.variantChildren.size-1)*r,l=i===1?(u=0)=>u*r:(u=0)=>a-u*r;return Array.from(e.variantChildren).sort(ZSe).forEach((u,c)=>{u.notify("AnimationStart",t),s.push(VT(u,t,{...o,delay:n+l(c)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(s)}function ZSe(e,t){return e.sortNodePosition(t)}function JSe(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const i=t.map(o=>VT(e,o,n));r=Promise.all(i)}else if(typeof t=="string")r=VT(e,t,n);else{const i=typeof t=="function"?cC(e,t,n.custom):t;r=Promise.all(xX(e,i,n))}return r.then(()=>e.notify("AnimationComplete",t))}const eke=[...dP].reverse(),tke=dP.length;function nke(e){return t=>Promise.all(t.map(({animation:n,options:r})=>JSe(e,n,r)))}function rke(e){let t=nke(e);const n=oke();let r=!0;const i=(l,u)=>{const c=cC(e,u);if(c){const{transition:f,transitionEnd:d,...h}=c;l={...l,...h,...d}}return l};function o(l){t=l(e)}function s(l,u){const c=e.getProps(),f=e.getVariantContext(!0)||{},d=[],h=new Set;let p={},g=1/0;for(let y=0;y<tke;y++){const v=eke[y],b=n[v],x=c[v]!==void 0?c[v]:f[v],w=o1(x),k=v===u?b.isActive:null;k===!1&&(g=y);let S=x===f[v]&&x!==c[v]&&w;if(S&&r&&e.manuallyAnimateOnMount&&(S=!1),b.protectedKeys={...p},!b.isActive&&k===null||!x&&!b.prevProp||sC(x)||typeof x=="boolean")continue;let _=ike(b.prevProp,x)||v===u&&b.isActive&&!S&&w||y>g&&w,$=!1;const A=Array.isArray(x)?x:[x];let O=A.reduce(i,{});k===!1&&(O={});const{prevResolvedValues:M={}}=b,P={...M,...O},R=D=>{_=!0,h.has(D)&&($=!0,h.delete(D)),b.needsAnimating[D]=!0};for(const D in P){const I=O[D],N=M[D];if(p.hasOwnProperty(D))continue;let B=!1;Sw(I)&&Sw(N)?B=!VY(I,N):B=I!==N,B?I!==void 0?R(D):h.add(D):I!==void 0&&h.has(D)?R(D):b.protectedKeys[D]=!0}b.prevProp=x,b.prevResolvedValues=O,b.isActive&&(p={...p,...O}),r&&e.blockInitialAnimation&&(_=!1),_&&(!S||$)&&d.push(...A.map(D=>({animation:D,options:{type:v,...l}})))}if(h.size){const y={};h.forEach(v=>{const b=e.getBaseTarget(v);b!==void 0&&(y[v]=b)}),d.push({animation:y})}let m=!!d.length;return r&&(c.initial===!1||c.initial===c.animate)&&!e.manuallyAnimateOnMount&&(m=!1),r=!1,m?t(d):Promise.resolve()}function a(l,u,c){var f;if(n[l].isActive===u)return Promise.resolve();(f=e.variantChildren)===null||f===void 0||f.forEach(h=>{var p;return(p=h.animationState)===null||p===void 0?void 0:p.setActive(l,u)}),n[l].isActive=u;const d=s(c,l);for(const h in n)n[h].protectedKeys={};return d}return{animateChanges:s,setActive:a,setAnimateFunction:o,getState:()=>n}}function ike(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!VY(t,e):!1}function Hc(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function oke(){return{animate:Hc(!0),whileInView:Hc(),whileHover:Hc(),whileTap:Hc(),whileDrag:Hc(),whileFocus:Hc(),exit:Hc()}}class ske extends Ec{constructor(t){super(t),t.animationState||(t.animationState=rke(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),sC(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let ake=0;class lke extends Ec{constructor(){super(...arguments),this.id=ake++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const o=this.node.animationState.setActive("exit",!t,{custom:r??this.node.getProps().custom});n&&!t&&o.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const uke={animation:{Feature:ske},exit:{Feature:lke}},SL=(e,t)=>Math.abs(e-t);function cke(e,t){const n=SL(e.x,t.x),r=SL(e.y,t.y);return Math.sqrt(n**2+r**2)}class wX{constructor(t,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=j$(this.lastMoveEventInfo,this.history),d=this.startEvent!==null,h=cke(f.offset,{x:0,y:0})>=3;if(!d&&!h)return;const{point:p}=f,{timestamp:g}=gr;this.history.push({...p,timestamp:g});const{onStart:m,onMove:y}=this.handlers;d||(m&&m(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,f)},this.handlePointerMove=(f,d)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=z$(d,this.transformPagePoint),_t.update(this.updatePoint,!0)},this.handlePointerUp=(f,d)=>{this.end();const{onEnd:h,onSessionEnd:p,resumeAnimation:g}=this.handlers;if(this.dragSnapToOrigin&&g&&g(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=j$(f.type==="pointercancel"?this.lastMoveEventInfo:z$(d,this.transformPagePoint),this.history);this.startEvent&&h&&h(f,m),p&&p(f,m)},!LY(t))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const s=uC(t),a=z$(s,this.transformPagePoint),{point:l}=a,{timestamp:u}=gr;this.history=[{...l,timestamp:u}];const{onSessionStart:c}=n;c&&c(t,j$(a,this.history)),this.removeListeners=Ku(ml(this.contextWindow,"pointermove",this.handlePointerMove),ml(this.contextWindow,"pointerup",this.handlePointerUp),ml(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Pl(this.updatePoint)}}function z$(e,t){return t?{point:t(e.point)}:e}function kL(e,t){return{x:e.x-t.x,y:e.y-t.y}}function j$({point:e},t){return{point:e,delta:kL(e,SX(t)),offset:kL(e,fke(t)),velocity:dke(t,.1)}}function fke(e){return e[0]}function SX(e){return e[e.length-1]}function dke(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=SX(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>Wf(t)));)n--;if(!r)return{x:0,y:0};const o=yl(i.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const s={x:(i.x-r.x)/o,y:(i.y-r.y)/o};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function Xi(e){return e.max-e.min}function WT(e,t=0,n=.01){return Math.abs(e-t)<=n}function CL(e,t,n,r=.5){e.origin=r,e.originPoint=Vt(t.min,t.max,e.origin),e.scale=Xi(n)/Xi(t),(WT(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=Vt(n.min,n.max,e.origin)-e.originPoint,(WT(e.translate)||isNaN(e.translate))&&(e.translate=0)}function py(e,t,n,r){CL(e.x,t.x,n.x,r?r.originX:void 0),CL(e.y,t.y,n.y,r?r.originY:void 0)}function _L(e,t,n){e.min=n.min+t.min,e.max=e.min+Xi(t)}function hke(e,t,n){_L(e.x,t.x,n.x),_L(e.y,t.y,n.y)}function EL(e,t,n){e.min=t.min-n.min,e.max=e.min+Xi(t)}function gy(e,t,n){EL(e.x,t.x,n.x),EL(e.y,t.y,n.y)}function pke(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?Vt(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?Vt(n,e,r.max):Math.min(e,n)),e}function $L(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function gke(e,{top:t,left:n,bottom:r,right:i}){return{x:$L(e.x,n,i),y:$L(e.y,t,r)}}function AL(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function mke(e,t){return{x:AL(e.x,t.x),y:AL(e.y,t.y)}}function yke(e,t){let n=.5;const r=Xi(e),i=Xi(t);return i>r?n=a1(t.min,t.max-r,e.min):r>i&&(n=a1(e.min,e.max-i,t.min)),ic(0,1,n)}function vke(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const HT=.35;function bke(e=HT){return e===!1?e=0:e===!0&&(e=HT),{x:TL(e,"left","right"),y:TL(e,"top","bottom")}}function TL(e,t,n){return{min:ML(e,t),max:ML(e,n)}}function ML(e,t){return typeof e=="number"?e:e[t]||0}const FL=()=>({translate:0,scale:1,origin:0,originPoint:0}),Kh=()=>({x:FL(),y:FL()}),PL=()=>({min:0,max:0}),dn=()=>({x:PL(),y:PL()});function fo(e){return[e("x"),e("y")]}function kX({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function xke({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function wke(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function B$(e){return e===void 0||e===1}function qT({scale:e,scaleX:t,scaleY:n}){return!B$(e)||!B$(t)||!B$(n)}function af(e){return qT(e)||CX(e)||e.z||e.rotate||e.rotateX||e.rotateY}function CX(e){return RL(e.x)||RL(e.y)}function RL(e){return e&&e!=="0%"}function Aw(e,t,n){const r=e-n,i=t*r;return n+i}function DL(e,t,n,r,i){return i!==void 0&&(e=Aw(e,i,r)),Aw(e,n,r)+t}function GT(e,t=0,n=1,r,i){e.min=DL(e.min,t,n,r,i),e.max=DL(e.max,t,n,r,i)}function _X(e,{x:t,y:n}){GT(e.x,t.translate,t.scale,t.originPoint),GT(e.y,n.translate,n.scale,n.originPoint)}function Ske(e,t,n,r=!1){const i=n.length;if(!i)return;t.x=t.y=1;let o,s;for(let a=0;a<i;a++){o=n[a],s=o.projectionDelta;const l=o.instance;l&&l.style&&l.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Qh(e,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),s&&(t.x*=s.x.scale,t.y*=s.y.scale,_X(e,s)),r&&af(o.latestValues)&&Qh(e,o.latestValues))}t.x=OL(t.x),t.y=OL(t.y)}function OL(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function fu(e,t){e.min=e.min+t,e.max=e.max+t}function NL(e,t,[n,r,i]){const o=t[i]!==void 0?t[i]:.5,s=Vt(e.min,e.max,o);GT(e,t[n],t[r],s,t.scale)}const kke=["x","scaleX","originX"],Cke=["y","scaleY","originY"];function Qh(e,t){NL(e.x,t,kke),NL(e.y,t,Cke)}function EX(e,t){return kX(wke(e.getBoundingClientRect(),t))}function _ke(e,t,n){const r=EX(e,n),{scroll:i}=t;return i&&(fu(r.x,i.offset.x),fu(r.y,i.offset.y)),r}const $X=({current:e})=>e?e.ownerDocument.defaultView:null,Eke=new WeakMap;class $ke{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=dn(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=c=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(uC(c,"page").point)},o=(c,f)=>{const{drag:d,dragPropagation:h,onDragStart:p}=this.getProps();if(d&&!h&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=jY(d),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),fo(m=>{let y=this.getAxisMotionValue(m).get()||0;if(ga.test(y)){const{projection:v}=this.visualElement;if(v&&v.layout){const b=v.layout.layoutBox[m];b&&(y=Xi(b)*(parseFloat(y)/100))}}this.originPoint[m]=y}),p&&_t.update(()=>p(c,f),!1,!0);const{animationState:g}=this.visualElement;g&&g.setActive("whileDrag",!0)},s=(c,f)=>{const{dragPropagation:d,dragDirectionLock:h,onDirectionLock:p,onDrag:g}=this.getProps();if(!d&&!this.openGlobalLock)return;const{offset:m}=f;if(h&&this.currentDirection===null){this.currentDirection=Ake(m),this.currentDirection!==null&&p&&p(this.currentDirection);return}this.updateAxis("x",f.point,m),this.updateAxis("y",f.point,m),this.visualElement.render(),g&&g(c,f)},a=(c,f)=>this.stop(c,f),l=()=>fo(c=>{var f;return this.getAnimationState(c)==="paused"&&((f=this.getAxisMotionValue(c).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new wX(t,{onSessionStart:i,onStart:o,onMove:s,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:$X(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:o}=this.getProps();o&&_t.update(()=>o(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:i}=this.getProps();if(!r||!Hb(t,i,this.currentDirection))return;const o=this.getAxisMotionValue(t);let s=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(s=pke(s,this.constraints[t],this.elastic[t])),o.set(s)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,o=this.constraints;n&&Yh(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=gke(i.layoutBox,n):this.constraints=!1,this.elastic=bke(r),o!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&fo(s=>{this.getAxisMotionValue(s)&&(this.constraints[s]=vke(i.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Yh(t))return!1;const r=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const o=_ke(r,i.root,this.visualElement.getTransformPagePoint());let s=mke(i.layout.layoutBox,o);if(n){const a=n(xke(s));this.hasMutatedConstraints=!!a,a&&(s=kX(a))}return s}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:o,dragSnapToOrigin:s,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=fo(c=>{if(!Hb(c,n,this.currentDirection))return;let f=l&&l[c]||{};s&&(f={min:0,max:0});const d=i?200:1e6,h=i?40:1e7,p={type:"inertia",velocity:r?t[c]:0,bounceStiffness:d,bounceDamping:h,timeConstant:750,restDelta:1,restSpeed:10,...o,...f};return this.startAxisValueAnimation(c,p)});return Promise.all(u).then(a)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return r.start(AP(t,r,0,n))}stopAnimation(){fo(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){fo(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n="_drag"+t.toUpperCase(),r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){fo(n=>{const{drag:r}=this.getProps();if(!Hb(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,o=this.getAxisMotionValue(n);if(i&&i.layout){const{min:s,max:a}=i.layout.layoutBox[n];o.set(t[n]-Vt(s,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Yh(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};fo(s=>{const a=this.getAxisMotionValue(s);if(a){const l=a.get();i[s]=yke({min:l,max:l},this.constraints[s])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),fo(s=>{if(!Hb(s,t,null))return;const a=this.getAxisMotionValue(s),{min:l,max:u}=this.constraints[s];a.set(Vt(l,u,i[s]))})}addListeners(){if(!this.visualElement.current)return;Eke.set(this.visualElement,this);const t=this.visualElement.current,n=ml(t,"pointerdown",l=>{const{drag:u,dragListener:c=!0}=this.getProps();u&&c&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Yh(l)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,o=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),r();const s=ll(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(fo(c=>{const f=this.getAxisMotionValue(c);f&&(this.originPoint[c]+=l[c].translate,f.set(f.get()+l[c].translate))}),this.visualElement.render())});return()=>{s(),n(),o(),a&&a()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:o=!1,dragElastic:s=HT,dragMomentum:a=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:o,dragElastic:s,dragMomentum:a}}}function Hb(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function Ake(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class Tke extends Ec{constructor(t){super(t),this.removeGroupControls=sn,this.removeListeners=sn,this.controls=new $ke(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||sn}unmount(){this.removeGroupControls(),this.removeListeners()}}const IL=e=>(t,n)=>{e&&_t.update(()=>e(t,n))};class Mke extends Ec{constructor(){super(...arguments),this.removePointerDownListener=sn}onPointerDown(t){this.session=new wX(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:$X(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:IL(t),onStart:IL(n),onMove:r,onEnd:(o,s)=>{delete this.session,i&&_t.update(()=>i(o,s))}}}mount(){this.removePointerDownListener=ml(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function Fke(){const e=T.useContext(nv);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:r}=e,i=T.useId();return T.useEffect(()=>r(i),[]),!t&&n?[!1,()=>n&&n(i)]:[!0]}function Pke(){return Rke(T.useContext(nv))}function Rke(e){return e===null?!0:e.isPresent}const h2={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function LL(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Lm={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Te.test(e))e=parseFloat(e);else return e;const n=LL(e,t.target.x),r=LL(e,t.target.y);return`${n}% ${r}%`}},Dke={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,i=oc.parse(e);if(i.length>5)return r;const o=oc.createTransformer(e),s=typeof i[0]!="number"?1:0,a=n.x.scale*t.x,l=n.y.scale*t.y;i[0+s]/=a,i[1+s]/=l;const u=Vt(a,l,.5);return typeof i[2+s]=="number"&&(i[2+s]/=u),typeof i[3+s]=="number"&&(i[3+s]/=u),o(i)}};class Oke extends Bi.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:o}=t;B2e(Nke),o&&(n.group&&n.group.add(o),r&&r.register&&i&&r.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),h2.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:i,isPresent:o}=this.props,s=r.projection;return s&&(s.isPresent=o,i||t.layoutDependency!==n||n===void 0?s.willUpdate():this.safeToRemove(),t.isPresent!==o&&(o?s.promote():s.relegate()||_t.postRender(()=>{const a=s.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=t;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function AX(e){const[t,n]=Fke(),r=T.useContext(pP);return Bi.createElement(Oke,{...e,layoutGroup:r,switchLayoutGroup:T.useContext(CY),isPresent:t,safeToRemove:n})}const Nke={borderRadius:{...Lm,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Lm,borderTopRightRadius:Lm,borderBottomLeftRadius:Lm,borderBottomRightRadius:Lm,boxShadow:Dke},TX=["TopLeft","TopRight","BottomLeft","BottomRight"],Ike=TX.length,zL=e=>typeof e=="string"?parseFloat(e):e,jL=e=>typeof e=="number"||Te.test(e);function Lke(e,t,n,r,i,o){i?(e.opacity=Vt(0,n.opacity!==void 0?n.opacity:1,zke(r)),e.opacityExit=Vt(t.opacity!==void 0?t.opacity:1,0,jke(r))):o&&(e.opacity=Vt(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let s=0;s<Ike;s++){const a=`border${TX[s]}Radius`;let l=BL(t,a),u=BL(n,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||jL(l)===jL(u)?(e[a]=Math.max(Vt(zL(l),zL(u),r),0),(ga.test(u)||ga.test(l))&&(e[a]+="%")):e[a]=u}(t.rotate||n.rotate)&&(e.rotate=Vt(t.rotate||0,n.rotate||0,r))}function BL(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const zke=MX(0,.5,ZY),jke=MX(.5,.95,sn);function MX(e,t,n){return r=>r<e?0:r>t?1:n(a1(e,t,r))}function UL(e,t){e.min=t.min,e.max=t.max}function ao(e,t){UL(e.x,t.x),UL(e.y,t.y)}function VL(e,t,n,r,i){return e-=t,e=Aw(e,1/n,r),i!==void 0&&(e=Aw(e,1/i,r)),e}function Bke(e,t=0,n=1,r=.5,i,o=e,s=e){if(ga.test(t)&&(t=parseFloat(t),t=Vt(s.min,s.max,t/100)-s.min),typeof t!="number")return;let a=Vt(o.min,o.max,r);e===o&&(a-=t),e.min=VL(e.min,t,n,a,i),e.max=VL(e.max,t,n,a,i)}function WL(e,t,[n,r,i],o,s){Bke(e,t[n],t[r],t[i],t.scale,o,s)}const Uke=["x","scaleX","originX"],Vke=["y","scaleY","originY"];function HL(e,t,n,r){WL(e.x,t,Uke,n?n.x:void 0,r?r.x:void 0),WL(e.y,t,Vke,n?n.y:void 0,r?r.y:void 0)}function qL(e){return e.translate===0&&e.scale===1}function FX(e){return qL(e.x)&&qL(e.y)}function Wke(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function PX(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function GL(e){return Xi(e.x)/Xi(e.y)}class Hke{constructor(){this.members=[]}add(t){TP(this.members,t),t.scheduleRender()}remove(t){if(MP(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(i=>t===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const o=this.members[i];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function YL(e,t,n){let r="";const i=e.x.translate/t.x,o=e.y.translate/t.y;if((i||o)&&(r=`translate3d(${i}px, ${o}px, 0) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{rotate:l,rotateX:u,rotateY:c}=n;l&&(r+=`rotate(${l}deg) `),u&&(r+=`rotateX(${u}deg) `),c&&(r+=`rotateY(${c}deg) `)}const s=e.x.scale*t.x,a=e.y.scale*t.y;return(s!==1||a!==1)&&(r+=`scale(${s}, ${a})`),r||"none"}const qke=(e,t)=>e.depth-t.depth;class Gke{constructor(){this.children=[],this.isDirty=!1}add(t){TP(this.children,t),this.isDirty=!0}remove(t){MP(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(qke),this.isDirty=!1,this.children.forEach(t)}}function Yke(e,t){const n=performance.now(),r=({timestamp:i})=>{const o=i-n;o>=t&&(Pl(r),e(o-t))};return _t.read(r,!0),()=>Pl(r)}function Xke(e){window.MotionDebug&&window.MotionDebug.record(e)}function Kke(e){return e instanceof SVGElement&&e.tagName!=="svg"}function Qke(e,t,n){const r=bi(e)?e:Qp(e);return r.start(AP("",r,t,n)),r.animation}const XL=["","X","Y","Z"],Zke={visibility:"hidden"},KL=1e3;let Jke=0;const lf={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function RX({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(s={},a=t==null?void 0:t()){this.id=Jke++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,lf.totalNodes=lf.resolvedTargetDeltas=lf.recalculatedProjection=0,this.nodes.forEach(nCe),this.nodes.forEach(aCe),this.nodes.forEach(lCe),this.nodes.forEach(rCe),Xke(lf)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new Gke)}addEventListener(s,a){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new FP),this.eventHandlers.get(s).add(a)}notifyListeners(s,...a){const l=this.eventHandlers.get(s);l&&l.notify(...a)}hasListeners(s){return this.eventHandlers.has(s)}mount(s,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=Kke(s),this.instance=s;const{layoutId:l,layout:u,visualElement:c}=this.options;if(c&&!c.current&&c.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(u||l)&&(this.isLayoutDirty=!0),e){let f;const d=()=>this.root.updateBlockedByResize=!1;e(s,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=Yke(d,250),h2.hasAnimatedSinceResize&&(h2.hasAnimatedSinceResize=!1,this.nodes.forEach(ZL))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&c&&(l||u)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:d,hasRelativeTargetChanged:h,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||c.getDefaultTransition()||hCe,{onLayoutAnimationStart:m,onLayoutAnimationComplete:y}=c.getProps(),v=!this.targetLayout||!PX(this.targetLayout,p)||h,b=!d&&h;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||b||d&&(v||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,b);const x={...$P(g,"layout"),onPlay:m,onComplete:y};(c.shouldReduceMotion||this.options.layoutRoot)&&(x.delay=0,x.type=!1),this.startAnimation(x)}else d||ZL(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Pl(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(uCe),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let c=0;c<this.path.length;c++){const f=this.path[c];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(QL);return}this.isUpdating||this.nodes.forEach(oCe),this.isUpdating=!1,this.nodes.forEach(sCe),this.nodes.forEach(eCe),this.nodes.forEach(tCe),this.clearAllSnapshots();const a=performance.now();gr.delta=ic(0,1e3/60,a-gr.timestamp),gr.timestamp=a,gr.isProcessing=!0,F$.update.process(gr),F$.preRender.process(gr),F$.render.process(gr),gr.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(iCe),this.sharedNodes.forEach(cCe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,_t.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){_t.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutCorrected=dn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:s,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!i)return;const s=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!FX(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,c=u!==this.prevTransformTemplateValue;s&&(a||af(this.latestValues)||c)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return s&&(l=this.removeTransform(l)),pCe(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:s}=this.options;if(!s)return dn();const a=s.measureViewportBox(),{scroll:l}=this.root;return l&&(fu(a.x,l.offset.x),fu(a.y,l.offset.y)),a}removeElementScroll(s){const a=dn();ao(a,s);for(let l=0;l<this.path.length;l++){const u=this.path[l],{scroll:c,options:f}=u;if(u!==this.root&&c&&f.layoutScroll){if(c.isRoot){ao(a,s);const{scroll:d}=this.root;d&&(fu(a.x,-d.offset.x),fu(a.y,-d.offset.y))}fu(a.x,c.offset.x),fu(a.y,c.offset.y)}}return a}applyTransform(s,a=!1){const l=dn();ao(l,s);for(let u=0;u<this.path.length;u++){const c=this.path[u];!a&&c.options.layoutScroll&&c.scroll&&c!==c.root&&Qh(l,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),af(c.latestValues)&&Qh(l,c.latestValues)}return af(this.latestValues)&&Qh(l,this.latestValues),l}removeTransform(s){const a=dn();ao(a,s);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!af(u.latestValues))continue;qT(u.latestValues)&&u.updateSnapshot();const c=dn(),f=u.measurePageBox();ao(c,f),HL(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,c)}return af(this.latestValues)&&HL(a,this.latestValues),a}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==gr.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(s||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:f,layoutId:d}=this.options;if(!(!this.layout||!(f||d))){if(this.resolvedRelativeTargetAt=gr.timestamp,!this.targetDelta&&!this.relativeTarget){const h=this.getClosestProjectingParent();h&&h.layout&&this.animationProgress!==1?(this.relativeParent=h,this.forceRelativeParentToResolveTarget(),this.relativeTarget=dn(),this.relativeTargetOrigin=dn(),gy(this.relativeTargetOrigin,this.layout.layoutBox,h.layout.layoutBox),ao(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=dn(),this.targetWithTransforms=dn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),hke(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ao(this.target,this.layout.layoutBox),_X(this.target,this.targetDelta)):ao(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const h=this.getClosestProjectingParent();h&&!!h.resumingFrom==!!this.resumingFrom&&!h.options.layoutScroll&&h.target&&this.animationProgress!==1?(this.relativeParent=h,this.forceRelativeParentToResolveTarget(),this.relativeTarget=dn(),this.relativeTargetOrigin=dn(),gy(this.relativeTargetOrigin,this.target,h.target),ao(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}lf.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||qT(this.parent.latestValues)||CX(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var s;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||!((s=this.parent)===null||s===void 0)&&s.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===gr.timestamp&&(u=!1),u)return;const{layout:c,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||f))return;ao(this.layoutCorrected,this.layout.layoutBox);const d=this.treeScale.x,h=this.treeScale.y;Ske(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox);const{target:p}=a;if(!p){this.projectionTransform&&(this.projectionDelta=Kh(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Kh(),this.projectionDeltaWithTransform=Kh());const g=this.projectionTransform;py(this.projectionDelta,this.layoutCorrected,p,this.latestValues),this.projectionTransform=YL(this.projectionDelta,this.treeScale),(this.projectionTransform!==g||this.treeScale.x!==d||this.treeScale.y!==h)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p)),lf.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),s){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(s,a=!1){const l=this.snapshot,u=l?l.latestValues:{},c={...this.latestValues},f=Kh();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const d=dn(),h=l?l.source:void 0,p=this.layout?this.layout.source:void 0,g=h!==p,m=this.getStack(),y=!m||m.members.length<=1,v=!!(g&&!y&&this.options.crossfade===!0&&!this.path.some(dCe));this.animationProgress=0;let b;this.mixTargetDelta=x=>{const w=x/1e3;JL(f.x,s.x,w),JL(f.y,s.y,w),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(gy(d,this.layout.layoutBox,this.relativeParent.layout.layoutBox),fCe(this.relativeTarget,this.relativeTargetOrigin,d,w),b&&Wke(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=dn()),ao(b,this.relativeTarget)),g&&(this.animationValues=c,Lke(c,u,this.latestValues,w,v,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=w},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Pl(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=_t.update(()=>{h2.hasAnimatedSinceResize=!0,this.currentAnimation=Qke(0,KL,{...s,onUpdate:a=>{this.mixTargetDelta(a),s.onUpdate&&s.onUpdate(a)},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(KL),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:c}=s;if(!(!a||!l||!u)){if(this!==s&&this.layout&&u&&DX(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||dn();const f=Xi(this.layout.layoutBox.x);l.x.min=s.target.x.min,l.x.max=l.x.min+f;const d=Xi(this.layout.layoutBox.y);l.y.min=s.target.y.min,l.y.max=l.y.min+d}ao(a,l),Qh(a,c),py(this.projectionDeltaWithTransform,this.layoutCorrected,a,c)}}registerSharedNode(s,a){this.sharedNodes.has(s)||this.sharedNodes.set(s,new Hke),this.sharedNodes.get(s).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){var s;const{layoutId:a}=this.options;return a?((s=this.getStack())===null||s===void 0?void 0:s.lead)||this:this}getPrevLead(){var s;const{layoutId:a}=this.options;return a?(s=this.getStack())===null||s===void 0?void 0:s.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),s&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetRotation(){const{visualElement:s}=this.options;if(!s)return;let a=!1;const{latestValues:l}=s;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(a=!0),!a)return;const u={};for(let c=0;c<XL.length;c++){const f="rotate"+XL[c];l[f]&&(u[f]=l[f],s.setStaticValue(f,0))}s.render();for(const c in u)s.setStaticValue(c,u[c]);s.scheduleRender()}getProjectionStyles(s){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return Zke;const u={visibility:""},c=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=d2(s==null?void 0:s.pointerEvents)||"",u.transform=c?c(this.latestValues,""):"none",u;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const g={};return this.options.layoutId&&(g.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,g.pointerEvents=d2(s==null?void 0:s.pointerEvents)||""),this.hasProjected&&!af(this.latestValues)&&(g.transform=c?c({},""):"none",this.hasProjected=!1),g}const d=f.animationValues||f.latestValues;this.applyTransformsToTarget(),u.transform=YL(this.projectionDeltaWithTransform,this.treeScale,d),c&&(u.transform=c(d,u.transform));const{x:h,y:p}=this.projectionDelta;u.transformOrigin=`${h.origin*100}% ${p.origin*100}% 0`,f.animationValues?u.opacity=f===this?(l=(a=d.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:u.opacity=f===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const g in xw){if(d[g]===void 0)continue;const{correct:m,applyTo:y}=xw[g],v=u.transform==="none"?d[g]:m(d[g],f);if(y){const b=y.length;for(let x=0;x<b;x++)u[y[x]]=v}else u[g]=v}return this.options.layoutId&&(u.pointerEvents=f===this?d2(s==null?void 0:s.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>{var a;return(a=s.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(QL),this.root.sharedNodes.clear()}}}function eCe(e){e.updateLayout()}function tCe(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=e.layout,{animationType:o}=e.options,s=n.source!==e.layout.source;o==="size"?fo(f=>{const d=s?n.measuredBox[f]:n.layoutBox[f],h=Xi(d);d.min=r[f].min,d.max=d.min+h}):DX(o,n.layoutBox,r)&&fo(f=>{const d=s?n.measuredBox[f]:n.layoutBox[f],h=Xi(r[f]);d.max=d.min+h,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+h)});const a=Kh();py(a,r,n.layoutBox);const l=Kh();s?py(l,e.applyTransform(i,!0),n.measuredBox):py(l,r,n.layoutBox);const u=!FX(a);let c=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:d,layout:h}=f;if(d&&h){const p=dn();gy(p,n.layoutBox,d.layoutBox);const g=dn();gy(g,r,h.layoutBox),PX(p,g)||(c=!0),f.options.layoutRoot&&(e.relativeTarget=g,e.relativeTargetOrigin=p,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeTargetChanged:c})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function nCe(e){lf.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function rCe(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function iCe(e){e.clearSnapshot()}function QL(e){e.clearMeasurements()}function oCe(e){e.isLayoutDirty=!1}function sCe(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function ZL(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function aCe(e){e.resolveTargetDelta()}function lCe(e){e.calcProjection()}function uCe(e){e.resetRotation()}function cCe(e){e.removeLeadSnapshot()}function JL(e,t,n){e.translate=Vt(t.translate,0,n),e.scale=Vt(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function e7(e,t,n,r){e.min=Vt(t.min,n.min,r),e.max=Vt(t.max,n.max,r)}function fCe(e,t,n,r){e7(e.x,t.x,n.x,r),e7(e.y,t.y,n.y,r)}function dCe(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const hCe={duration:.45,ease:[.4,0,.1,1]},t7=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),n7=t7("applewebkit/")&&!t7("chrome/")?Math.round:sn;function r7(e){e.min=n7(e.min),e.max=n7(e.max)}function pCe(e){r7(e.x),r7(e.y)}function DX(e,t,n){return e==="position"||e==="preserve-aspect"&&!WT(GL(t),GL(n),.2)}const gCe=RX({attachResizeListener:(e,t)=>ll(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),U$={current:void 0},OX=RX({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!U$.current){const e=new gCe({});e.mount(window),e.setOptions({layoutScroll:!0}),U$.current=e}return U$.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),mCe={pan:{Feature:Mke},drag:{Feature:Tke,ProjectionNode:OX,MeasureLayout:AX}},yCe=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function vCe(e){const t=yCe.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]}function YT(e,t,n=1){const[r,i]=vCe(e);if(!r)return;const o=window.getComputedStyle(t).getPropertyValue(r);if(o){const s=o.trim();return yX(s)?parseFloat(s):s}else return IT(i)?YT(i,t,n+1):i}function bCe(e,{...t},n){const r=e.current;if(!(r instanceof Element))return{target:t,transitionEnd:n};n&&(n={...n}),e.values.forEach(i=>{const o=i.get();if(!IT(o))return;const s=YT(o,r);s&&i.set(s)});for(const i in t){const o=t[i];if(!IT(o))continue;const s=YT(o,r);s&&(t[i]=s,n||(n={}),n[i]===void 0&&(n[i]=o))}return{target:t,transitionEnd:n}}const xCe=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),NX=e=>xCe.has(e),wCe=e=>Object.keys(e).some(NX),i7=e=>e===Od||e===Te,o7=(e,t)=>parseFloat(e.split(", ")[t]),s7=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/);if(i)return o7(i[1],t);{const o=r.match(/^matrix\((.+)\)$/);return o?o7(o[1],e):0}},SCe=new Set(["x","y","z"]),kCe=rv.filter(e=>!SCe.has(e));function CCe(e){const t=[];return kCe.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t.length&&e.render(),t}const Zp={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:s7(4,13),y:s7(5,14)};Zp.translateX=Zp.x;Zp.translateY=Zp.y;const _Ce=(e,t,n)=>{const r=t.measureViewportBox(),i=t.current,o=getComputedStyle(i),{display:s}=o,a={};s==="none"&&t.setStaticValue("display",e.display||"block"),n.forEach(u=>{a[u]=Zp[u](r,o)}),t.render();const l=t.measureViewportBox();return n.forEach(u=>{const c=t.getValue(u);c&&c.jump(a[u]),e[u]=Zp[u](l,o)}),e},ECe=(e,t,n={},r={})=>{t={...t},r={...r};const i=Object.keys(t).filter(NX);let o=[],s=!1;const a=[];if(i.forEach(l=>{const u=e.getValue(l);if(!e.hasValue(l))return;let c=n[l],f=Im(c);const d=t[l];let h;if(Sw(d)){const p=d.length,g=d[0]===null?1:0;c=d[g],f=Im(c);for(let m=g;m<p&&d[m]!==null;m++)h?kw(Im(d[m])===h):h=Im(d[m])}else h=Im(d);if(f!==h)if(i7(f)&&i7(h)){const p=u.get();typeof p=="string"&&u.set(parseFloat(p)),typeof d=="string"?t[l]=parseFloat(d):Array.isArray(d)&&h===Te&&(t[l]=d.map(parseFloat))}else f!=null&&f.transform&&(h!=null&&h.transform)&&(c===0||d===0)?c===0?u.set(h.transform(c)):t[l]=f.transform(d):(s||(o=CCe(e),s=!0),a.push(l),r[l]=r[l]!==void 0?r[l]:t[l],u.jump(d))}),a.length){const l=a.indexOf("height")>=0?window.pageYOffset:null,u=_Ce(t,e,a);return o.length&&o.forEach(([c,f])=>{e.getValue(c).set(f)}),e.render(),oC&&l!==null&&window.scrollTo({top:l}),{target:u,transitionEnd:r}}else return{target:t,transitionEnd:r}};function $Ce(e,t,n,r){return wCe(t)?ECe(e,t,n,r):{target:t,transitionEnd:r}}const ACe=(e,t,n,r)=>{const i=bCe(e,t,r);return t=i.target,r=i.transitionEnd,$Ce(e,t,n,r)},XT={current:null},IX={current:!1};function TCe(){if(IX.current=!0,!!oC)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>XT.current=e.matches;e.addListener(t),t()}else XT.current=!1}function MCe(e,t,n){const{willChange:r}=t;for(const i in t){const o=t[i],s=n[i];if(bi(o))e.addValue(i,o),$w(r)&&r.add(i);else if(bi(s))e.addValue(i,Qp(o,{owner:e})),$w(r)&&r.remove(i);else if(s!==o)if(e.hasValue(i)){const a=e.getValue(i);!a.hasAnimated&&a.set(o)}else{const a=e.getStaticValue(i);e.addValue(i,Qp(a!==void 0?a:o,{owner:e}))}}for(const i in n)t[i]===void 0&&e.removeValue(i);return t}const a7=new WeakMap,LX=Object.keys(s1),FCe=LX.length,l7=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],PCe=hP.length;class RCe{constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:i,visualState:o},s={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>_t.render(this.render,!1,!0);const{latestValues:a,renderState:l}=o;this.latestValues=a,this.baseTarget={...a},this.initialValues=n.initial?{...a}:{},this.renderState=l,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=s,this.isControllingVariants=aC(n),this.isVariantNode=kY(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...c}=this.scrapeMotionValuesFromProps(n,{});for(const f in c){const d=c[f];a[f]!==void 0&&bi(d)&&(d.set(a[f],!1),$w(u)&&u.add(f))}}scrapeMotionValuesFromProps(t,n){return{}}mount(t){this.current=t,a7.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),IX.current||TCe(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:XT.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){a7.delete(this.current),this.projection&&this.projection.unmount(),Pl(this.notifyUpdate),Pl(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,n){const r=Dd.has(t),i=n.on("change",s=>{this.latestValues[t]=s,this.props.onUpdate&&_t.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),o=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{i(),o()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...n},r,i,o){let s,a;for(let l=0;l<FCe;l++){const u=LX[l],{isEnabled:c,Feature:f,ProjectionNode:d,MeasureLayout:h}=s1[u];d&&(s=d),c(n)&&(!this.features[u]&&f&&(this.features[u]=new f(this)),h&&(a=h))}if((this.type==="html"||this.type==="svg")&&!this.projection&&s){this.projection=new s(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:u,drag:c,dragConstraints:f,layoutScroll:d,layoutRoot:h}=n;this.projection.setOptions({layoutId:l,layout:u,alwaysMeasureLayout:!!c||f&&Yh(f),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:o,layoutScroll:d,layoutRoot:h})}return a}updateFeatures(){for(const t in this.features){const n=this.features[t];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):dn()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}makeTargetAnimatable(t,n=!0){return this.makeTargetAnimatableFromInstance(t,this.props,n)}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<l7.length;r++){const i=l7[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const o=t["on"+i];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=MCe(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<PCe;r++){const i=hP[r],o=this.props[i];(o1(o)||o===!1)&&(n[i]=o)}return n}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){n!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,n)),this.values.set(t,n),this.latestValues[t]=n.get()}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Qp(n,{owner:this}),this.addValue(t,r)),r}readValue(t){var n;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props,i=typeof r=="string"||typeof r=="object"?(n=wP(this.props,r))===null||n===void 0?void 0:n[t]:void 0;if(r&&i!==void 0)return i;const o=this.getBaseTargetFromProps(this.props,t);return o!==void 0&&!bi(o)?o:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new FP),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class zX extends RCe{sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:n,...r},{transformValues:i},o){let s=YSe(r,t||{},this);if(i&&(n&&(n=i(n)),r&&(r=i(r)),s&&(s=i(s))),o){qSe(this,r,s);const a=ACe(this,r,s,n);n=a.transitionEnd,r=a.target}return{transition:t,transitionEnd:n,...r}}}function DCe(e){return window.getComputedStyle(e)}class OCe extends zX{constructor(){super(...arguments),this.type="html"}readValueFromInstance(t,n){if(Dd.has(n)){const r=EP(n);return r&&r.default||0}else{const r=DCe(t),i=($Y(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:n}){return EX(t,n)}build(t,n,r,i){mP(t,n,r,i.transformTemplate)}scrapeMotionValuesFromProps(t,n){return xP(t,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;bi(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(t,n,r,i){RY(t,n,r,i)}}class NCe extends zX{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Dd.has(n)){const r=EP(n);return r&&r.default||0}return n=DY.has(n)?n:fP(n),t.getAttribute(n)}measureInstanceViewportBox(){return dn()}scrapeMotionValuesFromProps(t,n){return NY(t,n)}build(t,n,r,i){vP(t,n,r,this.isSVGTag,i.transformTemplate)}renderInstance(t,n,r,i){OY(t,n,r,i)}mount(t){this.isSVGTag=bP(t.tagName),super.mount(t)}}const ICe=(e,t)=>gP(e)?new NCe(t,{enableHardwareAcceleration:!1}):new OCe(t,{enableHardwareAcceleration:!0}),LCe={layout:{ProjectionNode:OX,MeasureLayout:AX}},zCe={...uke,...Mwe,...mCe,...LCe},fC=z2e((e,t)=>ywe(e,t,zCe,ICe));function jX(){const e=T.useRef(!1);return cP(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function jCe(){const e=jX(),[t,n]=T.useState(0),r=T.useCallback(()=>{e.current&&n(t+1)},[t]);return[T.useCallback(()=>_t.postRender(r),[r]),t]}class BCe extends T.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function UCe({children:e,isPresent:t}){const n=T.useId(),r=T.useRef(null),i=T.useRef({width:0,height:0,top:0,left:0});return T.useInsertionEffect(()=>{const{width:o,height:s,top:a,left:l}=i.current;if(t||!r.current||!o||!s)return;r.current.dataset.motionPopId=n;const u=document.createElement("style");return document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${s}px !important;
            top: ${a}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[t]),T.createElement(BCe,{isPresent:t,childRef:r,sizeRef:i},T.cloneElement(e,{ref:r}))}const V$=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:o,mode:s})=>{const a=SP(VCe),l=T.useId(),u=T.useMemo(()=>({id:l,initial:t,isPresent:n,custom:i,onExitComplete:c=>{a.set(c,!0);for(const f of a.values())if(!f)return;r&&r()},register:c=>(a.set(c,!1),()=>a.delete(c))}),o?void 0:[n]);return T.useMemo(()=>{a.forEach((c,f)=>a.set(f,!1))},[n]),T.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),s==="popLayout"&&(e=T.createElement(UCe,{isPresent:n},e)),T.createElement(nv.Provider,{value:u},e)};function VCe(){return new Map}function WCe(e){return T.useEffect(()=>()=>e(),[])}const uf=e=>e.key||"";function HCe(e,t){e.forEach(n=>{const r=uf(n);t.set(r,n)})}function qCe(e){const t=[];return T.Children.forEach(e,n=>{T.isValidElement(n)&&t.push(n)}),t}const BX=({children:e,custom:t,initial:n=!0,onExitComplete:r,exitBeforeEnter:i,presenceAffectsLayout:o=!0,mode:s="sync"})=>{const a=T.useContext(pP).forceRender||jCe()[0],l=jX(),u=qCe(e);let c=u;const f=T.useRef(new Map).current,d=T.useRef(c),h=T.useRef(new Map).current,p=T.useRef(!0);if(cP(()=>{p.current=!1,HCe(u,h),d.current=c}),WCe(()=>{p.current=!0,h.clear(),f.clear()}),p.current)return T.createElement(T.Fragment,null,c.map(v=>T.createElement(V$,{key:uf(v),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:o,mode:s},v)));c=[...c];const g=d.current.map(uf),m=u.map(uf),y=g.length;for(let v=0;v<y;v++){const b=g[v];m.indexOf(b)===-1&&!f.has(b)&&f.set(b,void 0)}return s==="wait"&&f.size&&(c=[]),f.forEach((v,b)=>{if(m.indexOf(b)!==-1)return;const x=h.get(b);if(!x)return;const w=g.indexOf(b);let k=v;if(!k){const S=()=>{f.delete(b);const C=Array.from(h.keys()).filter(_=>!m.includes(_));if(C.forEach(_=>h.delete(_)),d.current=u.filter(_=>{const $=uf(_);return $===b||C.includes($)}),!f.size){if(l.current===!1)return;a(),r&&r()}};k=T.createElement(V$,{key:uf(x),isPresent:!1,onExitComplete:S,custom:t,presenceAffectsLayout:o,mode:s},x),f.set(b,k)}c.splice(w,0,k)}),c=c.map(v=>{const b=v.key;return f.has(b)?v:T.createElement(V$,{key:uf(v),isPresent:!0,presenceAffectsLayout:o,mode:s},v)}),T.createElement(T.Fragment,null,f.size?c:c.map(v=>T.cloneElement(v)))};class GCe{constructor(){this.componentControls=new Set}subscribe(t){return this.componentControls.add(t),()=>this.componentControls.delete(t)}start(t,n){this.componentControls.forEach(r=>{r.start(t.nativeEvent||t,n)})}}const YCe=()=>new GCe;function XCe(){return SP(YCe)}var KCe={initial:e=>{const{position:t}=e,n=["top","bottom"].includes(t)?"y":"x";let r=["top-right","bottom-right"].includes(t)?1:-1;return t==="bottom"&&(r=1),{opacity:0,[n]:r*24}},animate:{opacity:1,y:0,x:0,scale:1,transition:{duration:.4,ease:[.4,0,.2,1]}},exit:{opacity:0,scale:.85,transition:{duration:.2,ease:[.4,0,1,1]}}},UX=T.memo(e=>{const{id:t,message:n,onCloseComplete:r,onRequestRemove:i,requestClose:o=!1,position:s="bottom",duration:a=5e3,containerStyle:l,motionVariants:u=KCe,toastSpacing:c="0.5rem"}=e,[f,d]=T.useState(a),h=Pke();iL(()=>{h||r==null||r()},[h]),iL(()=>{d(a)},[a]);const p=()=>d(null),g=()=>d(a),m=()=>{h&&i()};T.useEffect(()=>{h&&o&&i()},[h,o,i]),T2e(m,f);const y=T.useMemo(()=>({pointerEvents:"auto",maxWidth:560,minWidth:300,margin:c,...l}),[l,c]),v=T.useMemo(()=>$2e(s),[s]);return E.jsx(fC.div,{layout:!0,className:"chakra-toast",variants:u,initial:"initial",animate:"animate",exit:"exit",onHoverStart:p,onHoverEnd:g,custom:{position:s},style:v,children:E.jsx(ke.div,{role:"status","aria-atomic":"true",className:"chakra-toast__inner",__css:y,children:aa(n,{id:t,onClose:m})})})});UX.displayName="ToastComponent";function QCe(e,t){var n;const r=e??"bottom",o={"top-start":{ltr:"top-left",rtl:"top-right"},"top-end":{ltr:"top-right",rtl:"top-left"},"bottom-start":{ltr:"bottom-left",rtl:"bottom-right"},"bottom-end":{ltr:"bottom-right",rtl:"bottom-left"}}[r];return(n=o==null?void 0:o[t])!=null?n:r}var u7={path:E.jsxs("g",{stroke:"currentColor",strokeWidth:"1.5",children:[E.jsx("path",{strokeLinecap:"round",fill:"none",d:"M9,9a3,3,0,1,1,4,2.829,1.5,1.5,0,0,0-1,1.415V14.25"}),E.jsx("path",{fill:"currentColor",strokeLinecap:"round",d:"M12,17.25a.375.375,0,1,0,.375.375A.375.375,0,0,0,12,17.25h0"}),E.jsx("circle",{fill:"none",strokeMiterlimit:"10",cx:"12",cy:"12",r:"11.25"})]}),viewBox:"0 0 24 24"},yt=Ee((e,t)=>{const{as:n,viewBox:r,color:i="currentColor",focusable:o=!1,children:s,className:a,__css:l,...u}=e,c=Xe("chakra-icon",a),f=Bl("Icon",e),d={w:"1em",h:"1em",display:"inline-block",lineHeight:"1em",flexShrink:0,color:i,...l,...f},h={ref:t,focusable:o,className:c,__css:d},p=r??u7.viewBox;if(n&&typeof n!="string")return E.jsx(ke.svg,{as:n,...h,...u});const g=s??u7.path;return E.jsx(ke.svg,{verticalAlign:"middle",viewBox:p,...h,...u,children:g})});yt.displayName="Icon";function ZCe(e){return E.jsx(yt,{viewBox:"0 0 24 24",...e,children:E.jsx("path",{fill:"currentColor",d:"M12,0A12,12,0,1,0,24,12,12.014,12.014,0,0,0,12,0Zm6.927,8.2-6.845,9.289a1.011,1.011,0,0,1-1.43.188L5.764,13.769a1,1,0,1,1,1.25-1.562l4.076,3.261,6.227-8.451A1,1,0,1,1,18.927,8.2Z"})})}function JCe(e){return E.jsx(yt,{viewBox:"0 0 24 24",...e,children:E.jsx("path",{fill:"currentColor",d:"M12,0A12,12,0,1,0,24,12,12.013,12.013,0,0,0,12,0Zm.25,5a1.5,1.5,0,1,1-1.5,1.5A1.5,1.5,0,0,1,12.25,5ZM14.5,18.5h-4a1,1,0,0,1,0-2h.75a.25.25,0,0,0,.25-.25v-4.5a.25.25,0,0,0-.25-.25H10.5a1,1,0,0,1,0-2h1a2,2,0,0,1,2,2v4.75a.25.25,0,0,0,.25.25h.75a1,1,0,1,1,0,2Z"})})}function c7(e){return E.jsx(yt,{viewBox:"0 0 24 24",...e,children:E.jsx("path",{fill:"currentColor",d:"M11.983,0a12.206,12.206,0,0,0-8.51,3.653A11.8,11.8,0,0,0,0,12.207,11.779,11.779,0,0,0,11.8,24h.214A12.111,12.111,0,0,0,24,11.791h0A11.766,11.766,0,0,0,11.983,0ZM10.5,16.542a1.476,1.476,0,0,1,1.449-1.53h.027a1.527,1.527,0,0,1,1.523,1.47,1.475,1.475,0,0,1-1.449,1.53h-.027A1.529,1.529,0,0,1,10.5,16.542ZM11,12.5v-6a1,1,0,0,1,2,0v6a1,1,0,1,1-2,0Z"})})}var e_e=zde({"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}}),dC=Ee((e,t)=>{const n=Bl("Spinner",e),{label:r="Loading...",thickness:i="2px",speed:o="0.45s",emptyColor:s="transparent",className:a,...l}=ir(e),u=Xe("chakra-spinner",a),c={display:"inline-block",borderColor:"currentColor",borderStyle:"solid",borderRadius:"99999px",borderWidth:i,borderBottomColor:s,borderLeftColor:s,animation:`${e_e} ${o} linear infinite`,...n};return E.jsx(ke.div,{ref:t,__css:c,className:u,...l,children:r&&E.jsx(ke.span,{srOnly:!0,children:r})})});dC.displayName="Spinner";var[t_e,PP]=jn({name:"AlertContext",hookName:"useAlertContext",providerName:"<Alert />"}),[n_e,RP]=jn({name:"AlertStylesContext",hookName:"useAlertStyles",providerName:"<Alert />"}),VX={info:{icon:JCe,colorScheme:"blue"},warning:{icon:c7,colorScheme:"orange"},success:{icon:ZCe,colorScheme:"green"},error:{icon:c7,colorScheme:"red"},loading:{icon:dC,colorScheme:"blue"}};function r_e(e){return VX[e].colorScheme}function i_e(e){return VX[e].icon}var WX=Ee(function(t,n){const r=RP(),{status:i}=PP(),o={display:"inline",...r.description};return E.jsx(ke.div,{ref:n,"data-status":i,...t,className:Xe("chakra-alert__desc",t.className),__css:o})});WX.displayName="AlertDescription";function HX(e){const{status:t}=PP(),n=i_e(t),r=RP(),i=t==="loading"?r.spinner:r.icon;return E.jsx(ke.span,{display:"inherit","data-status":t,...e,className:Xe("chakra-alert__icon",e.className),__css:i,children:e.children||E.jsx(n,{h:"100%",w:"100%"})})}HX.displayName="AlertIcon";var qX=Ee(function(t,n){const r=RP(),{status:i}=PP();return E.jsx(ke.div,{ref:n,"data-status":i,...t,className:Xe("chakra-alert__title",t.className),__css:r.title})});qX.displayName="AlertTitle";var GX=Ee(function(t,n){var r;const{status:i="info",addRole:o=!0,...s}=ir(t),a=(r=t.colorScheme)!=null?r:r_e(i),l=Ul("Alert",{...t,colorScheme:a}),u={width:"100%",display:"flex",alignItems:"center",position:"relative",overflow:"hidden",...l.container};return E.jsx(t_e,{value:{status:i},children:E.jsx(n_e,{value:l,children:E.jsx(ke.div,{"data-status":i,role:o?"alert":void 0,ref:n,...s,className:Xe("chakra-alert",t.className),__css:u})})})});GX.displayName="Alert";function o_e(e){return E.jsx(yt,{focusable:"false","aria-hidden":!0,...e,children:E.jsx("path",{fill:"currentColor",d:"M.439,21.44a1.5,1.5,0,0,0,2.122,2.121L11.823,14.3a.25.25,0,0,1,.354,0l9.262,9.263a1.5,1.5,0,1,0,2.122-2.121L14.3,12.177a.25.25,0,0,1,0-.354l9.263-9.262A1.5,1.5,0,0,0,21.439.44L12.177,9.7a.25.25,0,0,1-.354,0L2.561.44A1.5,1.5,0,0,0,.439,2.561L9.7,11.823a.25.25,0,0,1,0,.354Z"})})}var YX=Ee(function(t,n){const r=Bl("CloseButton",t),{children:i,isDisabled:o,__css:s,...a}=ir(t),l={outline:0,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0};return E.jsx(ke.button,{type:"button","aria-label":"Close",ref:n,disabled:o,__css:{...l,...r,...s},...a,children:i||E.jsx(o_e,{width:"1em",height:"1em"})})});YX.displayName="CloseButton";var s_e={top:[],"top-left":[],"top-right":[],"bottom-left":[],bottom:[],"bottom-right":[]},ra=a_e(s_e);function a_e(e){let t=e;const n=new Set,r=i=>{t=i(t),n.forEach(o=>o())};return{getState:()=>t,subscribe:i=>(n.add(i),()=>{r(()=>e),n.delete(i)}),removeToast:(i,o)=>{r(s=>({...s,[o]:s[o].filter(a=>a.id!=i)}))},notify:(i,o)=>{const s=l_e(i,o),{position:a,id:l}=s;return r(u=>{var c,f;const h=a.includes("top")?[s,...(c=u[a])!=null?c:[]]:[...(f=u[a])!=null?f:[],s];return{...u,[a]:h}}),l},update:(i,o)=>{i&&r(s=>{const a={...s},{position:l,index:u}=rL(a,i);return l&&u!==-1&&(a[l][u]={...a[l][u],...o,message:XX(o)}),a})},closeAll:({positions:i}={})=>{r(o=>(i??["bottom","bottom-right","bottom-left","top","top-left","top-right"]).reduce((l,u)=>(l[u]=o[u].map(c=>({...c,requestClose:!0})),l),{...o}))},close:i=>{r(o=>{const s=bY(o,i);return s?{...o,[s]:o[s].map(a=>a.id==i?{...a,requestClose:!0}:a)}:o})},isActive:i=>!!rL(ra.getState(),i).position}}var f7=0;function l_e(e,t={}){var n,r;f7+=1;const i=(n=t.id)!=null?n:f7,o=(r=t.position)!=null?r:"bottom";return{id:i,message:e,position:o,duration:t.duration,onCloseComplete:t.onCloseComplete,onRequestRemove:()=>ra.removeToast(String(i),o),status:t.status,requestClose:!1,containerStyle:t.containerStyle}}var u_e=e=>{const{status:t,variant:n="solid",id:r,title:i,isClosable:o,onClose:s,description:a,colorScheme:l,icon:u}=e,c=r?{root:`toast-${r}`,title:`toast-${r}-title`,description:`toast-${r}-description`}:void 0;return E.jsxs(GX,{addRole:!1,status:t,variant:n,id:c==null?void 0:c.root,alignItems:"start",borderRadius:"md",boxShadow:"lg",paddingEnd:8,textAlign:"start",width:"auto",colorScheme:l,children:[E.jsx(HX,{children:u}),E.jsxs(ke.div,{flex:"1",maxWidth:"100%",children:[i&&E.jsx(qX,{id:c==null?void 0:c.title,children:i}),a&&E.jsx(WX,{id:c==null?void 0:c.description,display:"block",children:a})]}),o&&E.jsx(YX,{size:"sm",onClick:s,position:"absolute",insetEnd:1,top:1})]})};function XX(e={}){const{render:t,toastComponent:n=u_e}=e;return i=>typeof t=="function"?t({...i,...e}):E.jsx(n,{...i,...e})}function c_e(e,t){const n=i=>{var o;return{...t,...i,position:QCe((o=i==null?void 0:i.position)!=null?o:t==null?void 0:t.position,e)}},r=i=>{const o=n(i),s=XX(o);return ra.notify(s,o)};return r.update=(i,o)=>{ra.update(i,n(o))},r.promise=(i,o)=>{const s=r({...o.loading,status:"loading",duration:null});i.then(a=>r.update(s,{status:"success",duration:5e3,...aa(o.success,a)})).catch(a=>r.update(s,{status:"error",duration:5e3,...aa(o.error,a)}))},r.closeAll=ra.closeAll,r.close=ra.close,r.isActive=ra.isActive,r}var[f_e,d_e]=jn({name:"ToastOptionsContext",strict:!1}),h_e=e=>{const t=T.useSyncExternalStore(ra.subscribe,ra.getState,ra.getState),{motionVariants:n,component:r=UX,portalProps:i}=e,s=Object.keys(t).map(a=>{const l=t[a];return E.jsx("div",{role:"region","aria-live":"polite","aria-label":`Notifications-${a}`,id:`chakra-toast-manager-${a}`,style:A2e(a),children:E.jsx(BX,{initial:!1,children:l.map(u=>E.jsx(r,{motionVariants:n,...u},u.id))})},a)});return E.jsx(J1,{...i,children:s})};function p_e(e){const{theme:t}=VG(),n=d_e();return T.useMemo(()=>c_e(t.direction,{...n,...e}),[e,t.direction,n])}var g_e=e=>function({children:n,theme:r=e,toastOptions:i,...o}){return E.jsxs(_2e,{theme:r,...o,children:[E.jsx(f_e,{value:i==null?void 0:i.defaultOptions,children:n}),E.jsx(h_e,{...i})]})},m_e=g_e(cY),y_e=Object.defineProperty,v_e=(e,t,n)=>t in e?y_e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Yt=(e,t,n)=>(v_e(e,typeof t!="symbol"?t+"":t,n),n);function d7(e){return e.sort((t,n)=>{const r=t.compareDocumentPosition(n);if(r&Node.DOCUMENT_POSITION_FOLLOWING||r&Node.DOCUMENT_POSITION_CONTAINED_BY)return-1;if(r&Node.DOCUMENT_POSITION_PRECEDING||r&Node.DOCUMENT_POSITION_CONTAINS)return 1;if(r&Node.DOCUMENT_POSITION_DISCONNECTED||r&Node.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC)throw Error("Cannot sort the given nodes.");return 0})}var b_e=e=>typeof e=="object"&&"nodeType"in e&&e.nodeType===Node.ELEMENT_NODE;function h7(e,t,n){let r=e+1;return n&&r>=t&&(r=0),r}function p7(e,t,n){let r=e-1;return n&&r<0&&(r=t),r}var KT=typeof window<"u"?T.useLayoutEffect:T.useEffect,Tw=e=>e,x_e=class{constructor(){Yt(this,"descendants",new Map),Yt(this,"register",e=>{if(e!=null)return b_e(e)?this.registerNode(e):t=>{this.registerNode(t,e)}}),Yt(this,"unregister",e=>{this.descendants.delete(e);const t=d7(Array.from(this.descendants.keys()));this.assignIndex(t)}),Yt(this,"destroy",()=>{this.descendants.clear()}),Yt(this,"assignIndex",e=>{this.descendants.forEach(t=>{const n=e.indexOf(t.node);t.index=n,t.node.dataset.index=t.index.toString()})}),Yt(this,"count",()=>this.descendants.size),Yt(this,"enabledCount",()=>this.enabledValues().length),Yt(this,"values",()=>Array.from(this.descendants.values()).sort((t,n)=>t.index-n.index)),Yt(this,"enabledValues",()=>this.values().filter(e=>!e.disabled)),Yt(this,"item",e=>{if(this.count()!==0)return this.values()[e]}),Yt(this,"enabledItem",e=>{if(this.enabledCount()!==0)return this.enabledValues()[e]}),Yt(this,"first",()=>this.item(0)),Yt(this,"firstEnabled",()=>this.enabledItem(0)),Yt(this,"last",()=>this.item(this.descendants.size-1)),Yt(this,"lastEnabled",()=>{const e=this.enabledValues().length-1;return this.enabledItem(e)}),Yt(this,"indexOf",e=>{var t,n;return e&&(n=(t=this.descendants.get(e))==null?void 0:t.index)!=null?n:-1}),Yt(this,"enabledIndexOf",e=>e==null?-1:this.enabledValues().findIndex(t=>t.node.isSameNode(e))),Yt(this,"next",(e,t=!0)=>{const n=h7(e,this.count(),t);return this.item(n)}),Yt(this,"nextEnabled",(e,t=!0)=>{const n=this.item(e);if(!n)return;const r=this.enabledIndexOf(n.node),i=h7(r,this.enabledCount(),t);return this.enabledItem(i)}),Yt(this,"prev",(e,t=!0)=>{const n=p7(e,this.count()-1,t);return this.item(n)}),Yt(this,"prevEnabled",(e,t=!0)=>{const n=this.item(e);if(!n)return;const r=this.enabledIndexOf(n.node),i=p7(r,this.enabledCount()-1,t);return this.enabledItem(i)}),Yt(this,"registerNode",(e,t)=>{if(!e||this.descendants.has(e))return;const n=Array.from(this.descendants.keys()).concat(e),r=d7(n);t!=null&&t.disabled&&(t.disabled=!!t.disabled);const i={node:e,index:-1,...t};this.descendants.set(e,i),this.assignIndex(r)})}};function w_e(e,t){if(e!=null){if(typeof e=="function"){e(t);return}try{e.current=t}catch{throw new Error(`Cannot assign value '${t}' to ref '${e}'`)}}}function ad(...e){return t=>{e.forEach(n=>{w_e(n,t)})}}function S_e(...e){return T.useMemo(()=>ad(...e),e)}function k_e(){const e=T.useRef(new x_e);return KT(()=>()=>e.current.destroy()),e.current}var[C_e,KX]=jn({name:"DescendantsProvider",errorMessage:"useDescendantsContext must be used within DescendantsProvider"});function __e(e){const t=KX(),[n,r]=T.useState(-1),i=T.useRef(null);KT(()=>()=>{i.current&&t.unregister(i.current)},[]),KT(()=>{if(!i.current)return;const s=Number(i.current.dataset.index);n!=s&&!Number.isNaN(s)&&r(s)});const o=Tw(e?t.register(e):t.register);return{descendants:t,index:n,enabledIndex:t.enabledIndexOf(i.current),register:ad(o,i)}}function QX(){return[Tw(C_e),()=>Tw(KX()),()=>k_e(),i=>__e(i)]}var[E_e,hC]=jn({name:"AccordionStylesContext",hookName:"useAccordionStyles",providerName:"<Accordion />"}),[$_e,DP]=jn({name:"AccordionItemContext",hookName:"useAccordionItemContext",providerName:"<AccordionItem />"}),[A_e,Nat,T_e,M_e]=QX(),ZX=Ee(function(t,n){const{getButtonProps:r}=DP(),i=r(t,n),s={display:"flex",alignItems:"center",width:"100%",outline:0,...hC().button};return E.jsx(ke.button,{...i,className:Xe("chakra-accordion__button",t.className),__css:s})});ZX.displayName="AccordionButton";function JX(e){const{value:t,defaultValue:n,onChange:r,shouldUpdate:i=(d,h)=>d!==h}=e,o=f2(r),s=f2(i),[a,l]=T.useState(n),u=t!==void 0,c=u?t:a,f=f2(d=>{const p=typeof d=="function"?d(c):d;s(c,p)&&(u||l(p),o(p))},[u,o,c,s]);return[c,f]}function F_e(e){const{onChange:t,defaultIndex:n,index:r,allowMultiple:i,allowToggle:o,...s}=e;D_e(e),O_e(e);const a=T_e(),[l,u]=T.useState(-1);T.useEffect(()=>()=>{u(-1)},[]);const[c,f]=JX({value:r,defaultValue(){return i?n??[]:n??-1},onChange:t});return{index:c,setIndex:f,htmlProps:s,getAccordionItemProps:h=>{let p=!1;return h!==null&&(p=Array.isArray(c)?c.includes(h):c===h),{isOpen:p,onChange:m=>{if(h!==null)if(i&&Array.isArray(c)){const y=m?c.concat(h):c.filter(v=>v!==h);f(y)}else m?f(h):o&&f(-1)}}},focusedIndex:l,setFocusedIndex:u,descendants:a}}var[P_e,OP]=jn({name:"AccordionContext",hookName:"useAccordionContext",providerName:"Accordion"});function R_e(e){const{isDisabled:t,isFocusable:n,id:r,...i}=e,{getAccordionItemProps:o,setFocusedIndex:s}=OP(),a=T.useRef(null),l=T.useId(),u=r??l,c=`accordion-button-${u}`,f=`accordion-panel-${u}`;N_e(e);const{register:d,index:h,descendants:p}=M_e({disabled:t&&!n}),{isOpen:g,onChange:m}=o(h===-1?null:h);I_e({isOpen:g,isDisabled:t});const y=()=>{m==null||m(!0)},v=()=>{m==null||m(!1)},b=T.useCallback(()=>{m==null||m(!g),s(h)},[h,s,g,m]),x=T.useCallback(C=>{const $={ArrowDown:()=>{const A=p.nextEnabled(h);A==null||A.node.focus()},ArrowUp:()=>{const A=p.prevEnabled(h);A==null||A.node.focus()},Home:()=>{const A=p.firstEnabled();A==null||A.node.focus()},End:()=>{const A=p.lastEnabled();A==null||A.node.focus()}}[C.key];$&&(C.preventDefault(),$(C))},[p,h]),w=T.useCallback(()=>{s(h)},[s,h]),k=T.useCallback(function(_={},$=null){return{..._,type:"button",ref:ad(d,a,$),id:c,disabled:!!t,"aria-expanded":!!g,"aria-controls":f,onClick:Xu(_.onClick,b),onFocus:Xu(_.onFocus,w),onKeyDown:Xu(_.onKeyDown,x)}},[c,t,g,b,w,x,f,d]),S=T.useCallback(function(_={},$=null){return{..._,ref:$,role:"region",id:f,"aria-labelledby":c,hidden:!g}},[c,g,f]);return{isOpen:g,isDisabled:t,isFocusable:n,onOpen:y,onClose:v,getButtonProps:k,getPanelProps:S,htmlProps:i}}function D_e(e){const t=e.index||e.defaultIndex,n=t!=null&&!Array.isArray(t)&&e.allowMultiple;ev({condition:!!n,message:`If 'allowMultiple' is passed, then 'index' or 'defaultIndex' must be an array. You passed: ${typeof t},`})}function O_e(e){ev({condition:!!(e.allowMultiple&&e.allowToggle),message:"If 'allowMultiple' is passed, 'allowToggle' will be ignored. Either remove 'allowToggle' or 'allowMultiple' depending on whether you want multiple accordions visible or not"})}function N_e(e){ev({condition:!!(e.isFocusable&&!e.isDisabled),message:`Using only 'isFocusable', this prop is reserved for situations where you pass 'isDisabled' but you still want the element to receive focus (A11y). Either remove it or pass 'isDisabled' as well.
    `})}function I_e(e){ev({condition:e.isOpen&&!!e.isDisabled,message:"Cannot open a disabled accordion item"})}function eK(e){const{isOpen:t,isDisabled:n}=DP(),{reduceMotion:r}=OP(),i=Xe("chakra-accordion__icon",e.className),o=hC(),s={opacity:n?.4:1,transform:t?"rotate(-180deg)":void 0,transition:r?void 0:"transform 0.2s",transformOrigin:"center",...o.icon};return E.jsx(yt,{viewBox:"0 0 24 24","aria-hidden":!0,className:i,__css:s,...e,children:E.jsx("path",{fill:"currentColor",d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"})})}eK.displayName="AccordionIcon";var tK=Ee(function(t,n){const{children:r,className:i}=t,{htmlProps:o,...s}=R_e(t),l={...hC().container,overflowAnchor:"none"},u=T.useMemo(()=>s,[s]);return E.jsx($_e,{value:u,children:E.jsx(ke.div,{ref:n,...o,className:Xe("chakra-accordion__item",i),__css:l,children:typeof r=="function"?r({isExpanded:!!s.isOpen,isDisabled:!!s.isDisabled}):r})})});tK.displayName="AccordionItem";var qb={ease:[.25,.1,.25,1],easeIn:[.4,0,1,1],easeOut:[0,0,.2,1],easeInOut:[.4,0,.2,1]},g7={enter:(e,t)=>({...e,delay:typeof t=="number"?t:t==null?void 0:t.enter}),exit:(e,t)=>({...e,delay:typeof t=="number"?t:t==null?void 0:t.exit})},L_e=e=>e!=null&&parseInt(e.toString(),10)>0,m7={exit:{height:{duration:.2,ease:qb.ease},opacity:{duration:.3,ease:qb.ease}},enter:{height:{duration:.3,ease:qb.ease},opacity:{duration:.4,ease:qb.ease}}},z_e={exit:({animateOpacity:e,startingHeight:t,transition:n,transitionEnd:r,delay:i})=>{var o;return{...e&&{opacity:L_e(t)?1:0},height:t,transitionEnd:r==null?void 0:r.exit,transition:(o=n==null?void 0:n.exit)!=null?o:g7.exit(m7.exit,i)}},enter:({animateOpacity:e,endingHeight:t,transition:n,transitionEnd:r,delay:i})=>{var o;return{...e&&{opacity:1},height:t,transitionEnd:r==null?void 0:r.enter,transition:(o=n==null?void 0:n.enter)!=null?o:g7.enter(m7.enter,i)}}},nK=T.forwardRef((e,t)=>{const{in:n,unmountOnExit:r,animateOpacity:i=!0,startingHeight:o=0,endingHeight:s="auto",style:a,className:l,transition:u,transitionEnd:c,...f}=e,[d,h]=T.useState(!1);T.useEffect(()=>{const v=setTimeout(()=>{h(!0)});return()=>clearTimeout(v)},[]),ev({condition:Number(o)>0&&!!r,message:"startingHeight and unmountOnExit are mutually exclusive. You can't use them together"});const p=parseFloat(o.toString())>0,g={startingHeight:o,endingHeight:s,animateOpacity:i,transition:d?u:{enter:{duration:0}},transitionEnd:{enter:c==null?void 0:c.enter,exit:r?c==null?void 0:c.exit:{...c==null?void 0:c.exit,display:p?"block":"none"}}},m=r?n:!0,y=n||r?"enter":"exit";return E.jsx(BX,{initial:!1,custom:g,children:m&&E.jsx(fC.div,{ref:t,...f,className:Xe("chakra-collapse",l),style:{overflow:"hidden",display:"block",...a},custom:g,variants:z_e,initial:r?"exit":!1,animate:y,exit:"exit"})})});nK.displayName="Collapse";var rK=Ee(function(t,n){const{className:r,motionProps:i,...o}=t,{reduceMotion:s}=OP(),{getPanelProps:a,isOpen:l}=DP(),u=a(o,n),c=Xe("chakra-accordion__panel",r),f=hC();s||delete u.hidden;const d=E.jsx(ke.div,{...u,__css:f.panel,className:c});return s?d:E.jsx(nK,{in:l,...i,children:d})});rK.displayName="AccordionPanel";var iK=Ee(function({children:t,reduceMotion:n,...r},i){const o=Ul("Accordion",r),s=ir(r),{htmlProps:a,descendants:l,...u}=F_e(s),c=T.useMemo(()=>({...u,reduceMotion:!!n}),[u,n]);return E.jsx(A_e,{value:l,children:E.jsx(P_e,{value:c,children:E.jsx(E_e,{value:o,children:E.jsx(ke.div,{ref:i,...a,className:Xe("chakra-accordion",r.className),__css:o.root,children:t})})})})});iK.displayName="Accordion";var QT=Ee(function(t,n){const{htmlWidth:r,htmlHeight:i,alt:o,...s}=t;return E.jsx("img",{width:r,height:i,ref:n,alt:o,...s})});QT.displayName="NativeImage";function j_e(e){const{loading:t,src:n,srcSet:r,onLoad:i,onError:o,crossOrigin:s,sizes:a,ignoreFallback:l}=e,[u,c]=T.useState("pending");T.useEffect(()=>{c(n?"loading":"pending")},[n]);const f=T.useRef(),d=T.useCallback(()=>{if(!n)return;h();const p=new Image;p.src=n,s&&(p.crossOrigin=s),r&&(p.srcset=r),a&&(p.sizes=a),t&&(p.loading=t),p.onload=g=>{h(),c("loaded"),i==null||i(g)},p.onerror=g=>{h(),c("failed"),o==null||o(g)},f.current=p},[n,s,r,a,i,o,t]),h=()=>{f.current&&(f.current.onload=null,f.current.onerror=null,f.current=null)};return Bp(()=>{if(!l)return u==="loading"&&d(),()=>{h()}},[u,d,l]),l?"loaded":u}var B_e=(e,t)=>e!=="loaded"&&t==="beforeLoadOrError"||e==="failed"&&t==="onError";function U_e(e,t=[]){const n=Object.assign({},e);for(const r of t)r in n&&delete n[r];return n}var oK=Ee(function(t,n){const{fallbackSrc:r,fallback:i,src:o,srcSet:s,align:a,fit:l,loading:u,ignoreFallback:c,crossOrigin:f,fallbackStrategy:d="beforeLoadOrError",referrerPolicy:h,...p}=t,g=r!==void 0||i!==void 0,m=u!=null||c||!g,y=j_e({...t,crossOrigin:f,ignoreFallback:m}),v=B_e(y,d),b={ref:n,objectFit:l,objectPosition:a,...m?p:U_e(p,["onError","onLoad"])};return v?i||E.jsx(ke.img,{as:QT,className:"chakra-image__placeholder",src:r,...b}):E.jsx(ke.img,{as:QT,src:o,srcSet:s,crossOrigin:f,loading:u,referrerPolicy:h,className:"chakra-image",...b})});oK.displayName="Image";function pC(e){return T.Children.toArray(e).filter(t=>T.isValidElement(t))}var[V_e,W_e]=jn({strict:!1,name:"ButtonGroupContext"}),H_e={horizontal:{"> *:first-of-type:not(:last-of-type)":{borderEndRadius:0},"> *:not(:first-of-type):not(:last-of-type)":{borderRadius:0},"> *:not(:first-of-type):last-of-type":{borderStartRadius:0}},vertical:{"> *:first-of-type:not(:last-of-type)":{borderBottomRadius:0},"> *:not(:first-of-type):not(:last-of-type)":{borderRadius:0},"> *:not(:first-of-type):last-of-type":{borderTopRadius:0}}},q_e={horizontal:e=>({"& > *:not(style) ~ *:not(style)":{marginStart:e}}),vertical:e=>({"& > *:not(style) ~ *:not(style)":{marginTop:e}})},sK=Ee(function(t,n){const{size:r,colorScheme:i,variant:o,className:s,spacing:a="0.5rem",isAttached:l,isDisabled:u,orientation:c="horizontal",...f}=t,d=Xe("chakra-button__group",s),h=T.useMemo(()=>({size:r,colorScheme:i,variant:o,isDisabled:u}),[r,i,o,u]);let p={display:"inline-flex",...l?H_e[c]:q_e[c](a)};const g=c==="vertical";return E.jsx(V_e,{value:h,children:E.jsx(ke.div,{ref:n,role:"group",__css:p,className:d,"data-attached":l?"":void 0,"data-orientation":c,flexDir:g?"column":void 0,...f})})});sK.displayName="ButtonGroup";function G_e(e){const[t,n]=T.useState(!e);return{ref:T.useCallback(o=>{o&&n(o.tagName==="BUTTON")},[]),type:t?"button":void 0}}function ZT(e){const{children:t,className:n,...r}=e,i=T.isValidElement(t)?T.cloneElement(t,{"aria-hidden":!0,focusable:!1}):t,o=Xe("chakra-button__icon",n);return E.jsx(ke.span,{display:"inline-flex",alignSelf:"center",flexShrink:0,...r,className:o,children:i})}ZT.displayName="ButtonIcon";function JT(e){const{label:t,placement:n,spacing:r="0.5rem",children:i=E.jsx(dC,{color:"currentColor",width:"1em",height:"1em"}),className:o,__css:s,...a}=e,l=Xe("chakra-button__spinner",o),u=n==="start"?"marginEnd":"marginStart",c=T.useMemo(()=>({display:"flex",alignItems:"center",position:t?"relative":"absolute",[u]:t?r:0,fontSize:"1em",lineHeight:"normal",...s}),[s,t,u,r]);return E.jsx(ke.div,{className:l,...a,__css:c,children:i})}JT.displayName="ButtonSpinner";var ko=Ee((e,t)=>{const n=W_e(),r=Bl("Button",{...n,...e}),{isDisabled:i=n==null?void 0:n.isDisabled,isLoading:o,isActive:s,children:a,leftIcon:l,rightIcon:u,loadingText:c,iconSpacing:f="0.5rem",type:d,spinner:h,spinnerPlacement:p="start",className:g,as:m,...y}=ir(e),v=T.useMemo(()=>{const k={...r==null?void 0:r._focus,zIndex:1};return{display:"inline-flex",appearance:"none",alignItems:"center",justifyContent:"center",userSelect:"none",position:"relative",whiteSpace:"nowrap",verticalAlign:"middle",outline:"none",...r,...!!n&&{_focus:k}}},[r,n]),{ref:b,type:x}=G_e(m),w={rightIcon:u,leftIcon:l,iconSpacing:f,children:a};return E.jsxs(ke.button,{ref:S_e(t,b),as:m,type:d??x,"data-active":po(s),"data-loading":po(o),__css:v,className:Xe("chakra-button",g),...y,disabled:i||o,children:[o&&p==="start"&&E.jsx(JT,{className:"chakra-button__spinner--start",label:c,placement:"start",spacing:f,children:h}),o?c||E.jsx(ke.span,{opacity:0,children:E.jsx(y7,{...w})}):E.jsx(y7,{...w}),o&&p==="end"&&E.jsx(JT,{className:"chakra-button__spinner--end",label:c,placement:"end",spacing:f,children:h})]})});ko.displayName="Button";function y7(e){const{leftIcon:t,rightIcon:n,children:r,iconSpacing:i}=e;return E.jsxs(E.Fragment,{children:[t&&E.jsx(ZT,{marginEnd:i,children:t}),r,n&&E.jsx(ZT,{marginStart:i,children:n})]})}var Mw=Ee((e,t)=>{const{icon:n,children:r,isRound:i,"aria-label":o,...s}=e,a=n||r,l=T.isValidElement(a)?T.cloneElement(a,{"aria-hidden":!0,focusable:!1}):null;return E.jsx(ko,{padding:"0",borderRadius:i?"full":void 0,ref:t,"aria-label":o,...s,children:l})});Mw.displayName="IconButton";var[Y_e,X_e]=jn({name:"FormControlStylesContext",errorMessage:`useFormControlStyles returned is 'undefined'. Seems you forgot to wrap the components in "<FormControl />" `}),[K_e,aK]=jn({strict:!1,name:"FormControlContext"});function Q_e(e){const{id:t,isRequired:n,isInvalid:r,isDisabled:i,isReadOnly:o,...s}=e,a=T.useId(),l=t||`field-${a}`,u=`${l}-label`,c=`${l}-feedback`,f=`${l}-helptext`,[d,h]=T.useState(!1),[p,g]=T.useState(!1),[m,y]=T.useState(!1),v=T.useCallback((S={},C=null)=>({id:f,...S,ref:ad(C,_=>{_&&g(!0)})}),[f]),b=T.useCallback((S={},C=null)=>({...S,ref:C,"data-focus":po(m),"data-disabled":po(i),"data-invalid":po(r),"data-readonly":po(o),id:S.id!==void 0?S.id:u,htmlFor:S.htmlFor!==void 0?S.htmlFor:l}),[l,i,m,r,o,u]),x=T.useCallback((S={},C=null)=>({id:c,...S,ref:ad(C,_=>{_&&h(!0)}),"aria-live":"polite"}),[c]),w=T.useCallback((S={},C=null)=>({...S,...s,ref:C,role:"group","data-focus":po(m),"data-disabled":po(i),"data-invalid":po(r),"data-readonly":po(o)}),[s,i,m,r,o]),k=T.useCallback((S={},C=null)=>({...S,ref:C,role:"presentation","aria-hidden":!0,children:S.children||"*"}),[]);return{isRequired:!!n,isInvalid:!!r,isReadOnly:!!o,isDisabled:!!i,isFocused:!!m,onFocus:()=>y(!0),onBlur:()=>y(!1),hasFeedbackText:d,setHasFeedbackText:h,hasHelpText:p,setHasHelpText:g,id:l,labelId:u,feedbackId:c,helpTextId:f,htmlProps:s,getHelpTextProps:v,getErrorMessageProps:x,getRootProps:w,getLabelProps:b,getRequiredIndicatorProps:k}}var lK=Ee(function(t,n){const r=Ul("Form",t),i=ir(t),{getRootProps:o,htmlProps:s,...a}=Q_e(i),l=Xe("chakra-form-control",t.className);return E.jsx(K_e,{value:a,children:E.jsx(Y_e,{value:r,children:E.jsx(ke.div,{...o({},n),className:l,__css:r.container})})})});lK.displayName="FormControl";var Z_e=Ee(function(t,n){const r=aK(),i=X_e(),o=Xe("chakra-form__helper-text",t.className);return E.jsx(ke.div,{...r==null?void 0:r.getHelpTextProps(t,n),__css:i.helperText,className:o})});Z_e.displayName="FormHelperText";function uK(e){const{isDisabled:t,isInvalid:n,isReadOnly:r,isRequired:i,...o}=J_e(e);return{...o,disabled:t,readOnly:r,required:i,"aria-invalid":d$(n),"aria-required":d$(i),"aria-readonly":d$(r)}}function J_e(e){var t,n,r;const i=aK(),{id:o,disabled:s,readOnly:a,required:l,isRequired:u,isInvalid:c,isReadOnly:f,isDisabled:d,onFocus:h,onBlur:p,...g}=e,m=e["aria-describedby"]?[e["aria-describedby"]]:[];return i!=null&&i.hasFeedbackText&&(i!=null&&i.isInvalid)&&m.push(i.feedbackId),i!=null&&i.hasHelpText&&m.push(i.helpTextId),{...g,"aria-describedby":m.join(" ")||void 0,id:o??(i==null?void 0:i.id),isDisabled:(t=s??d)!=null?t:i==null?void 0:i.isDisabled,isReadOnly:(n=a??f)!=null?n:i==null?void 0:i.isReadOnly,isRequired:(r=l??u)!=null?r:i==null?void 0:i.isRequired,isInvalid:c??(i==null?void 0:i.isInvalid),onFocus:Xu(i==null?void 0:i.onFocus,h),onBlur:Xu(i==null?void 0:i.onBlur,p)}}var cK={exports:{}},eEe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",tEe=eEe,nEe=tEe;function fK(){}function dK(){}dK.resetWarningCache=fK;var rEe=function(){function e(r,i,o,s,a,l){if(l!==nEe){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:dK,resetWarningCache:fK};return n.PropTypes=n,n};cK.exports=rEe();var iEe=cK.exports;const v7=zl(iEe);var[oEe,sEe]=jn({name:"InputGroupStylesContext",errorMessage:`useInputGroupStyles returned is 'undefined'. Seems you forgot to wrap the components in "<InputGroup />" `}),hK=Ee(function(t,n){const r=Ul("Input",t),{children:i,className:o,...s}=ir(t),a=Xe("chakra-input__group",o),l={},u=pC(i),c=r.field;u.forEach(d=>{var h,p;r&&(c&&d.type.id==="InputLeftElement"&&(l.paddingStart=(h=c.height)!=null?h:c.h),c&&d.type.id==="InputRightElement"&&(l.paddingEnd=(p=c.height)!=null?p:c.h),d.type.id==="InputRightAddon"&&(l.borderEndRadius=0),d.type.id==="InputLeftAddon"&&(l.borderStartRadius=0))});const f=u.map(d=>{var h,p;const g=yY({size:((h=d.props)==null?void 0:h.size)||t.size,variant:((p=d.props)==null?void 0:p.variant)||t.variant});return d.type.id!=="Input"?T.cloneElement(d,g):T.cloneElement(d,Object.assign(g,l,d.props))});return E.jsx(ke.div,{className:a,ref:n,__css:{width:"100%",display:"flex",position:"relative",isolation:"isolate",...r.group},"data-group":!0,...s,children:E.jsx(oEe,{value:r,children:f})})});hK.displayName="InputGroup";var aEe=ke("div",{baseStyle:{display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",top:"0",zIndex:2}}),gC=Ee(function(t,n){var r,i;const{placement:o="left",...s}=t,a=sEe(),l=a.field,c={[o==="left"?"insetStart":"insetEnd"]:"0",width:(r=l==null?void 0:l.height)!=null?r:l==null?void 0:l.h,height:(i=l==null?void 0:l.height)!=null?i:l==null?void 0:l.h,fontSize:l==null?void 0:l.fontSize,...a.element};return E.jsx(aEe,{ref:n,__css:c,...s})});gC.id="InputElement";gC.displayName="InputElement";var pK=Ee(function(t,n){const{className:r,...i}=t,o=Xe("chakra-input__left-element",r);return E.jsx(gC,{ref:n,placement:"left",className:o,...i})});pK.id="InputLeftElement";pK.displayName="InputLeftElement";var NP=Ee(function(t,n){const{className:r,...i}=t,o=Xe("chakra-input__right-element",r);return E.jsx(gC,{ref:n,placement:"right",className:o,...i})});NP.id="InputRightElement";NP.displayName="InputRightElement";var Jp=Ee(function(t,n){const{htmlSize:r,...i}=t,o=Ul("Input",i),s=ir(i),a=uK(s),l=Xe("chakra-input",t.className);return E.jsx(ke.input,{size:r,...a,__css:o.field,ref:n,className:l})});Jp.displayName="Input";Jp.id="Input";var p2=Ee(function(t,n){const r=Bl("Link",t),{className:i,isExternal:o,...s}=ir(t);return E.jsx(ke.a,{target:o?"_blank":void 0,rel:o?"noopener":void 0,ref:n,className:Xe("chakra-link",i),...s,__css:r})});p2.displayName="Link";var[lEe,gK]=jn({name:"ListStylesContext",errorMessage:`useListStyles returned is 'undefined'. Seems you forgot to wrap the components in "<List />" `}),IP=Ee(function(t,n){const r=Ul("List",t),{children:i,styleType:o="none",stylePosition:s,spacing:a,...l}=ir(t),u=pC(i),f=a?{["& > *:not(style) ~ *:not(style)"]:{mt:a}}:{};return E.jsx(lEe,{value:r,children:E.jsx(ke.ul,{ref:n,listStyleType:o,listStylePosition:s,role:"list",__css:{...r.container,...f},...l,children:u})})});IP.displayName="List";var LP=Ee((e,t)=>{const{as:n,...r}=e;return E.jsx(IP,{ref:t,as:"ol",styleType:"decimal",marginStart:"1em",...r})});LP.displayName="OrderedList";var uEe=Ee(function(t,n){const{as:r,...i}=t;return E.jsx(IP,{ref:n,as:"ul",styleType:"initial",marginStart:"1em",...i})});uEe.displayName="UnorderedList";var mK=Ee(function(t,n){const r=gK();return E.jsx(ke.li,{ref:n,...t,__css:r.item})});mK.displayName="ListItem";var cEe=Ee(function(t,n){const r=gK();return E.jsx(yt,{ref:n,role:"presentation",...t,__css:r.icon})});cEe.displayName="ListIcon";var my=Ee(function(t,n){const{templateAreas:r,gap:i,rowGap:o,columnGap:s,column:a,row:l,autoFlow:u,autoRows:c,templateRows:f,autoColumns:d,templateColumns:h,...p}=t,g={display:"grid",gridTemplateAreas:r,gridGap:i,gridRowGap:o,gridColumnGap:s,gridAutoColumns:d,gridColumn:a,gridRow:l,gridAutoFlow:u,gridAutoRows:c,gridTemplateRows:f,gridTemplateColumns:h};return E.jsx(ke.div,{ref:n,__css:g,...p})});my.displayName="Grid";var yK=Object.freeze(["base","sm","md","lg","xl","2xl"]);function fEe(e,t){return Array.isArray(e)?e.map(n=>n===null?null:t(n)):gi(e)?Object.keys(e).reduce((n,r)=>(n[r]=t(e[r]),n),{}):e!=null?t(e):null}function dEe(e,t=yK){const n={};return e.forEach((r,i)=>{const o=t[i];r!=null&&(n[o]=r)}),n}var zP=ke("div",{baseStyle:{flex:1,justifySelf:"stretch",alignSelf:"stretch"}});zP.displayName="Spacer";var Mt=Ee(function(t,n){const r=Bl("Text",t),{className:i,align:o,decoration:s,casing:a,...l}=ir(t),u=yY({textAlign:t.align,textDecoration:t.decoration,textTransform:t.casing});return E.jsx(ke.p,{ref:n,className:Xe("chakra-text",t.className),...u,...l,__css:r})});Mt.displayName="Text";var vK=e=>E.jsx(ke.div,{className:"chakra-stack__item",...e,__css:{display:"inline-block",flex:"0 0 auto",minWidth:0,...e.__css}});vK.displayName="StackItem";function hEe(e){const{spacing:t,direction:n}=e,r={column:{my:t,mx:0,borderLeftWidth:0,borderBottomWidth:"1px"},"column-reverse":{my:t,mx:0,borderLeftWidth:0,borderBottomWidth:"1px"},row:{mx:t,my:0,borderLeftWidth:"1px",borderBottomWidth:0},"row-reverse":{mx:t,my:0,borderLeftWidth:"1px",borderBottomWidth:0}};return{"&":fEe(n,i=>r[i])}}var jP=Ee((e,t)=>{const{isInline:n,direction:r,align:i,justify:o,spacing:s="0.5rem",wrap:a,children:l,divider:u,className:c,shouldWrapChildren:f,...d}=e,h=n?"row":r??"column",p=T.useMemo(()=>hEe({spacing:s,direction:h}),[s,h]),g=!!u,m=!f&&!g,y=T.useMemo(()=>{const b=pC(l);return m?b:b.map((x,w)=>{const k=typeof x.key<"u"?x.key:w,S=w+1===b.length,_=f?E.jsx(vK,{children:x},k):x;if(!g)return _;const $=T.cloneElement(u,{__css:p}),A=S?null:$;return E.jsxs(T.Fragment,{children:[_,A]},k)})},[u,p,g,m,f,l]),v=Xe("chakra-stack",c);return E.jsx(ke.div,{ref:t,display:"flex",alignItems:i,justifyContent:o,flexDirection:h,flexWrap:a,gap:g?void 0:s,className:v,...d,children:y})});jP.displayName="Stack";var cs=Ee((e,t)=>E.jsx(jP,{align:"center",...e,direction:"column",ref:t}));cs.displayName="VStack";var bK=Ee((e,t)=>E.jsx(jP,{align:"center",...e,direction:"row",ref:t}));bK.displayName="HStack";var av=Ee(function(t,n){const r=Bl("Heading",t),{className:i,...o}=ir(t);return E.jsx(ke.h2,{ref:n,className:Xe("chakra-heading",t.className),...o,__css:r})});av.displayName="Heading";var Fw=ke("div");Fw.displayName="Box";var xK=Ee(function(t,n){const{size:r,centerContent:i=!0,...o}=t,s=i?{display:"flex",alignItems:"center",justifyContent:"center"}:{};return E.jsx(Fw,{ref:n,boxSize:r,__css:{...s,flexShrink:0,flexGrow:0},...o})});xK.displayName="Square";var pEe=Ee(function(t,n){const{size:r,...i}=t;return E.jsx(xK,{size:r,ref:n,borderRadius:"9999px",...i})});pEe.displayName="Circle";var wK=Ee(function(t,n){const r=Bl("Badge",t),{className:i,...o}=ir(t);return E.jsx(ke.span,{ref:n,className:Xe("chakra-badge",t.className),...o,__css:{display:"inline-block",whiteSpace:"nowrap",verticalAlign:"middle",...r}})});wK.displayName="Badge";var ld=ke("div",{baseStyle:{display:"flex",alignItems:"center",justifyContent:"center"}});ld.displayName="Center";var gEe={horizontal:{insetStart:"50%",transform:"translateX(-50%)"},vertical:{top:"50%",transform:"translateY(-50%)"},both:{insetStart:"50%",top:"50%",transform:"translate(-50%, -50%)"}};Ee(function(t,n){const{axis:r="both",...i}=t;return E.jsx(ke.div,{ref:n,__css:gEe[r],...i,position:"absolute"})});var BP=Ee(function(t,n){const{borderLeftWidth:r,borderBottomWidth:i,borderTopWidth:o,borderRightWidth:s,borderWidth:a,borderStyle:l,borderColor:u,...c}=Bl("Divider",t),{className:f,orientation:d="horizontal",__css:h,...p}=ir(t),g={vertical:{borderLeftWidth:r||s||a||"1px",height:"100%"},horizontal:{borderBottomWidth:i||o||a||"1px",width:"100%"}};return E.jsx(ke.hr,{ref:n,"aria-orientation":d,...p,__css:{...c,border:"0",borderColor:u,borderStyle:l,...g[d],...h},className:Xe("chakra-divider",f)})});BP.displayName="Divider";var Wt=Ee(function(t,n){const{direction:r,align:i,justify:o,wrap:s,basis:a,grow:l,shrink:u,...c}=t,f={display:"flex",flexDirection:r,alignItems:i,justifyContent:o,flexWrap:s,flexBasis:a,flexGrow:l,flexShrink:u};return E.jsx(ke.div,{ref:n,__css:f,...c})});Wt.displayName="Flex";function mEe(e,t={}){const{ssr:n=!0,fallback:r}=t,{getWindow:i}=C2e(),o=Array.isArray(e)?e:[e];let s=Array.isArray(r)?r:[r];s=s.filter(u=>u!=null);const[a,l]=T.useState(()=>o.map((u,c)=>({media:u,matches:n?!!s[c]:i().matchMedia(u).matches})));return T.useEffect(()=>{const u=i();l(o.map(d=>({media:d,matches:u.matchMedia(d).matches})));const c=o.map(d=>u.matchMedia(d)),f=d=>{l(h=>h.slice().map(p=>p.media===d.media?{...p,matches:d.matches}:p))};return c.forEach(d=>{typeof d.addListener=="function"?d.addListener(f):d.addEventListener("change",f)}),()=>{c.forEach(d=>{typeof d.removeListener=="function"?d.removeListener(f):d.removeEventListener("change",f)})}},[i]),a.map(u=>u.matches)}function yEe(e,t,n=yK){let r=Object.keys(e).indexOf(t);if(r!==-1)return e[t];let i=n.indexOf(t);for(;i>=0;){const o=n[i];if(e.hasOwnProperty(o)){r=i;break}i-=1}if(r!==-1){const o=n[r];return e[o]}}function vEe(e){var t,n;const r=gi(e)?e:{fallback:e??"base"},o=JF().__breakpoints.details.map(({minMaxQuery:u,breakpoint:c})=>({breakpoint:c,query:u.replace("@media screen and ","")})),s=o.map(u=>u.breakpoint===r.fallback),l=mEe(o.map(u=>u.query),{fallback:s,ssr:r.ssr}).findIndex(u=>u==!0);return(n=(t=o[l])==null?void 0:t.breakpoint)!=null?n:r.fallback}function Eh(e,t){var n;const r=gi(t)?t:{fallback:"base"},i=vEe(r),o=JF();if(!i)return;const s=Array.from(((n=o.__breakpoints)==null?void 0:n.keys)||[]),a=Array.isArray(e)?Object.fromEntries(Object.entries(dEe(e,s)).map(([l,u])=>[l,u])):e;return yEe(a,i,s)}function bEe(){const e=T.useRef(new Map),t=e.current,n=T.useCallback((i,o,s,a)=>{e.current.set(s,{type:o,el:i,options:a}),i.addEventListener(o,s,a)},[]),r=T.useCallback((i,o,s,a)=>{i.removeEventListener(o,s,a),e.current.delete(s)},[]);return T.useEffect(()=>()=>{t.forEach((i,o)=>{r(i.el,i.type,o,i.options)})},[r,t]),{add:n,remove:r}}function W$(e){const t=e.target,{tagName:n,isContentEditable:r}=t;return n!=="INPUT"&&n!=="TEXTAREA"&&r!==!0}function xEe(e={}){const{ref:t,isDisabled:n,isFocusable:r,clickOnEnter:i=!0,clickOnSpace:o=!0,onMouseDown:s,onMouseUp:a,onClick:l,onKeyDown:u,onKeyUp:c,tabIndex:f,onMouseOver:d,onMouseLeave:h,...p}=e,[g,m]=T.useState(!0),[y,v]=T.useState(!1),b=bEe(),x=I=>{I&&I.tagName!=="BUTTON"&&m(!1)},w=g?f:f||0,k=n&&!r,S=T.useCallback(I=>{if(n){I.stopPropagation(),I.preventDefault();return}I.currentTarget.focus(),l==null||l(I)},[n,l]),C=T.useCallback(I=>{y&&W$(I)&&(I.preventDefault(),I.stopPropagation(),v(!1),b.remove(document,"keyup",C,!1))},[y,b]),_=T.useCallback(I=>{if(u==null||u(I),n||I.defaultPrevented||I.metaKey||!W$(I.nativeEvent)||g)return;const N=i&&I.key==="Enter";o&&I.key===" "&&(I.preventDefault(),v(!0)),N&&(I.preventDefault(),I.currentTarget.click()),b.add(document,"keyup",C,!1)},[n,g,u,i,o,b,C]),$=T.useCallback(I=>{if(c==null||c(I),n||I.defaultPrevented||I.metaKey||!W$(I.nativeEvent)||g)return;o&&I.key===" "&&(I.preventDefault(),v(!1),I.currentTarget.click())},[o,g,n,c]),A=T.useCallback(I=>{I.button===0&&(v(!1),b.remove(document,"mouseup",A,!1))},[b]),O=T.useCallback(I=>{if(I.button!==0)return;if(n){I.stopPropagation(),I.preventDefault();return}g||v(!0),I.currentTarget.focus({preventScroll:!0}),b.add(document,"mouseup",A,!1),s==null||s(I)},[n,g,s,b,A]),M=T.useCallback(I=>{I.button===0&&(g||v(!1),a==null||a(I))},[a,g]),P=T.useCallback(I=>{if(n){I.preventDefault();return}d==null||d(I)},[n,d]),R=T.useCallback(I=>{y&&(I.preventDefault(),v(!1)),h==null||h(I)},[y,h]),D=ad(t,x);return g?{...p,ref:D,type:"button","aria-disabled":k?void 0:n,disabled:k,onClick:S,onMouseDown:s,onMouseUp:a,onKeyUp:c,onKeyDown:u,onMouseOver:d,onMouseLeave:h}:{...p,ref:D,role:"button","data-active":po(y),"aria-disabled":n?"true":void 0,tabIndex:k?void 0:w,onClick:S,onMouseDown:O,onMouseUp:M,onKeyUp:$,onKeyDown:_,onMouseOver:P,onMouseLeave:R}}function wEe(e){const{wasSelected:t,enabled:n,isSelected:r,mode:i="unmount"}=e;return!!(!n||r||i==="keepMounted"&&t)}var SK=Ee(function(t,n){const{children:r,placeholder:i,className:o,...s}=t;return E.jsxs(ke.select,{...s,ref:n,className:Xe("chakra-select",o),children:[i&&E.jsx("option",{value:"",children:i}),r]})});SK.displayName="SelectField";function SEe(e,t){const n={},r={};for(const[i,o]of Object.entries(e))t.includes(i)?n[i]=o:r[i]=o;return[n,r]}var UP=Ee((e,t)=>{var n;const r=Ul("Select",e),{rootProps:i,placeholder:o,icon:s,color:a,height:l,h:u,minH:c,minHeight:f,iconColor:d,iconSize:h,...p}=ir(e),[g,m]=SEe(p,ume),y=uK(m),v={width:"100%",height:"fit-content",position:"relative",color:a},b={paddingEnd:"2rem",...r.field,_focus:{zIndex:"unset",...(n=r.field)==null?void 0:n._focus}};return E.jsxs(ke.div,{className:"chakra-select__wrapper",__css:v,...g,...i,children:[E.jsx(SK,{ref:t,height:u??l,minH:c??f,placeholder:o,...y,__css:b,children:e.children}),E.jsx(kK,{"data-disabled":po(y.disabled),...(d||a)&&{color:d||a},__css:r.icon,...h&&{fontSize:h},children:s})]})});UP.displayName="Select";var kEe=e=>E.jsx("svg",{viewBox:"0 0 24 24",...e,children:E.jsx("path",{fill:"currentColor",d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"})}),CEe=ke("div",{baseStyle:{position:"absolute",display:"inline-flex",alignItems:"center",justifyContent:"center",pointerEvents:"none",top:"50%",transform:"translateY(-50%)"}}),kK=e=>{const{children:t=E.jsx(kEe,{}),...n}=e,r=T.cloneElement(t,{role:"presentation",className:"chakra-select__icon",focusable:!1,"aria-hidden":!0,style:{width:"1em",height:"1em",color:"currentColor"}});return E.jsx(CEe,{...n,className:"chakra-select__icon-wrapper",children:T.isValidElement(t)?r:null})};kK.displayName="SelectIcon";var[_Ee,EEe,$Ee,AEe]=QX();function TEe(e){var t;const{defaultIndex:n,onChange:r,index:i,isManual:o,isLazy:s,lazyBehavior:a="unmount",orientation:l="horizontal",direction:u="ltr",...c}=e,[f,d]=T.useState(n??0),[h,p]=JX({defaultValue:n??0,value:i,onChange:r});T.useEffect(()=>{i!=null&&d(i)},[i]);const g=$Ee(),m=T.useId();return{id:`tabs-${(t=e.id)!=null?t:m}`,selectedIndex:h,focusedIndex:f,setSelectedIndex:p,setFocusedIndex:d,isManual:o,isLazy:s,lazyBehavior:a,orientation:l,descendants:g,direction:u,htmlProps:c}}var[MEe,mC]=jn({name:"TabsContext",errorMessage:"useTabsContext: `context` is undefined. Seems you forgot to wrap all tabs components within <Tabs />"});function FEe(e){const{focusedIndex:t,orientation:n,direction:r}=mC(),i=EEe(),o=T.useCallback(s=>{const a=()=>{var v;const b=i.nextEnabled(t);b&&((v=b.node)==null||v.focus())},l=()=>{var v;const b=i.prevEnabled(t);b&&((v=b.node)==null||v.focus())},u=()=>{var v;const b=i.firstEnabled();b&&((v=b.node)==null||v.focus())},c=()=>{var v;const b=i.lastEnabled();b&&((v=b.node)==null||v.focus())},f=n==="horizontal",d=n==="vertical",h=s.key,p=r==="ltr"?"ArrowLeft":"ArrowRight",g=r==="ltr"?"ArrowRight":"ArrowLeft",y={[p]:()=>f&&l(),[g]:()=>f&&a(),ArrowDown:()=>d&&a(),ArrowUp:()=>d&&l(),Home:u,End:c}[h];y&&(s.preventDefault(),y(s))},[i,t,n,r]);return{...e,role:"tablist","aria-orientation":n,onKeyDown:Xu(e.onKeyDown,o)}}function PEe(e){const{isDisabled:t=!1,isFocusable:n=!1,...r}=e,{setSelectedIndex:i,isManual:o,id:s,setFocusedIndex:a,selectedIndex:l}=mC(),{index:u,register:c}=AEe({disabled:t&&!n}),f=u===l,d=()=>{i(u)},h=()=>{a(u),!o&&!(t&&n)&&i(u)};return{...xEe({...r,ref:ad(c,e.ref),isDisabled:t,isFocusable:n,onClick:Xu(e.onClick,d)}),id:CK(s,u),role:"tab",tabIndex:f?0:-1,type:"button","aria-selected":f,"aria-controls":_K(s,u),onFocus:t?void 0:Xu(e.onFocus,h)}}var[REe,DEe]=jn({});function OEe(e){const t=mC(),{id:n,selectedIndex:r}=t,o=pC(e.children).map((s,a)=>T.createElement(REe,{key:a,value:{isSelected:a===r,id:_K(n,a),tabId:CK(n,a),selectedIndex:r}},s));return{...e,children:o}}function NEe(e){const{children:t,...n}=e,{isLazy:r,lazyBehavior:i}=mC(),{isSelected:o,id:s,tabId:a}=DEe(),l=T.useRef(!1);o&&(l.current=!0);const u=wEe({wasSelected:l.current,isSelected:o,enabled:r,mode:i});return{tabIndex:0,...n,children:u?t:null,role:"tabpanel","aria-labelledby":a,hidden:!o,id:s}}function CK(e,t){return`${e}--tab-${t}`}function _K(e,t){return`${e}--tabpanel-${t}`}var[IEe,yC]=jn({name:"TabsStylesContext",errorMessage:`useTabsStyles returned is 'undefined'. Seems you forgot to wrap the components in "<Tabs />" `}),EK=Ee(function(t,n){const r=Ul("Tabs",t),{children:i,className:o,...s}=ir(t),{htmlProps:a,descendants:l,...u}=TEe(s),c=T.useMemo(()=>u,[u]),{isFitted:f,...d}=a,h={position:"relative",...r.root};return E.jsx(_Ee,{value:l,children:E.jsx(MEe,{value:c,children:E.jsx(IEe,{value:r,children:E.jsx(ke.div,{className:Xe("chakra-tabs",o),ref:n,...d,__css:h,children:i})})})})});EK.displayName="Tabs";var $K=Ee(function(t,n){const r=FEe({...t,ref:n}),o={display:"flex",...yC().tablist};return E.jsx(ke.div,{...r,className:Xe("chakra-tabs__tablist",t.className),__css:o})});$K.displayName="TabList";var Nd=Ee(function(t,n){const r=NEe({...t,ref:n}),i=yC();return E.jsx(ke.div,{outline:"0",...r,className:Xe("chakra-tabs__tab-panel",t.className),__css:i.tabpanel})});Nd.displayName="TabPanel";var AK=Ee(function(t,n){const r=OEe(t),i=yC();return E.jsx(ke.div,{...r,width:"100%",ref:n,className:Xe("chakra-tabs__tab-panels",t.className),__css:i.tabpanels})});AK.displayName="TabPanels";var TK=Ee(function(t,n){const r=yC(),i=PEe({...t,ref:n}),o={outline:"0",display:"flex",alignItems:"center",justifyContent:"center",...r.tab};return E.jsx(ke.button,{...i,className:Xe("chakra-tabs__tab",t.className),__css:o})});TK.displayName="Tab";var[LEe,MK]=jn({name:"TagStylesContext",errorMessage:`useTagStyles returned is 'undefined'. Seems you forgot to wrap the components in "<Tag />" `}),FK=Ee((e,t)=>{const n=Ul("Tag",e),r=ir(e),i={display:"inline-flex",verticalAlign:"top",alignItems:"center",maxWidth:"100%",...n.container};return E.jsx(LEe,{value:n,children:E.jsx(ke.span,{ref:t,...r,__css:i})})});FK.displayName="Tag";var PK=Ee((e,t)=>{const n=MK();return E.jsx(ke.span,{ref:t,noOfLines:1,...e,__css:n.label})});PK.displayName="TagLabel";var zEe=Ee((e,t)=>E.jsx(yt,{ref:t,verticalAlign:"top",marginEnd:"0.5rem",...e}));zEe.displayName="TagLeftIcon";var jEe=Ee((e,t)=>E.jsx(yt,{ref:t,verticalAlign:"top",marginStart:"0.5rem",...e}));jEe.displayName="TagRightIcon";var RK=e=>E.jsx(yt,{verticalAlign:"inherit",viewBox:"0 0 512 512",...e,children:E.jsx("path",{fill:"currentColor",d:"M289.94 256l95-95A24 24 0 00351 127l-95 95-95-95a24 24 0 00-34 34l95 95-95 95a24 24 0 1034 34l95-95 95 95a24 24 0 0034-34z"})});RK.displayName="TagCloseIcon";var DK=Ee((e,t)=>{const{isDisabled:n,children:r,...i}=e,s={display:"flex",alignItems:"center",justifyContent:"center",outline:"0",...MK().closeButton};return E.jsx(ke.button,{ref:t,"aria-label":"close",...i,type:"button",disabled:n,__css:s,children:r||E.jsx(RK,{})})});DK.displayName="TagCloseButton";function b7(e,t){if(!e)throw new Error(t||"loader assertion failed.")}const OK=!!(typeof process!="object"||String(process)!=="[object process]"||process.browser),x7=typeof process<"u"&&process.version&&/v([0-9]*)/.exec(process.version);x7&&parseFloat(x7[1]);const Gb=globalThis,uh=globalThis.process||{};function BEe(e){var r,i;if(typeof window<"u"&&((r=window.process)==null?void 0:r.type)==="renderer"||typeof process<"u"&&((i=process.versions)!=null&&i.electron))return!0;const n=typeof navigator<"u"&&navigator.userAgent;return!!(n&&n.indexOf("Electron")>=0)}function VP(){return!(typeof process=="object"&&String(process)==="[object process]"&&!(process!=null&&process.browser))||BEe()}const NK="4.0.7";function UEe(e){try{const t=window[e],n="__storage_test__";return t.setItem(n,n),t.removeItem(n),t}catch{return null}}class VEe{constructor(t,n,r="sessionStorage"){this.storage=UEe(r),this.id=t,this.config=n,this._loadConfiguration()}getConfiguration(){return this.config}setConfiguration(t){if(Object.assign(this.config,t),this.storage){const n=JSON.stringify(this.config);this.storage.setItem(this.id,n)}}_loadConfiguration(){let t={};if(this.storage){const n=this.storage.getItem(this.id);t=n?JSON.parse(n):{}}return Object.assign(this.config,t),this}}function WEe(e){let t;return e<10?t=`${e.toFixed(2)}ms`:e<100?t=`${e.toFixed(1)}ms`:e<1e3?t=`${e.toFixed(0)}ms`:t=`${(e/1e3).toFixed(2)}s`,t}function HEe(e,t=8){const n=Math.max(t-e.length,0);return`${" ".repeat(n)}${e}`}var Pw;(function(e){e[e.BLACK=30]="BLACK",e[e.RED=31]="RED",e[e.GREEN=32]="GREEN",e[e.YELLOW=33]="YELLOW",e[e.BLUE=34]="BLUE",e[e.MAGENTA=35]="MAGENTA",e[e.CYAN=36]="CYAN",e[e.WHITE=37]="WHITE",e[e.BRIGHT_BLACK=90]="BRIGHT_BLACK",e[e.BRIGHT_RED=91]="BRIGHT_RED",e[e.BRIGHT_GREEN=92]="BRIGHT_GREEN",e[e.BRIGHT_YELLOW=93]="BRIGHT_YELLOW",e[e.BRIGHT_BLUE=94]="BRIGHT_BLUE",e[e.BRIGHT_MAGENTA=95]="BRIGHT_MAGENTA",e[e.BRIGHT_CYAN=96]="BRIGHT_CYAN",e[e.BRIGHT_WHITE=97]="BRIGHT_WHITE"})(Pw||(Pw={}));const qEe=10;function w7(e){return typeof e!="string"?e:(e=e.toUpperCase(),Pw[e]||Pw.WHITE)}function GEe(e,t,n){return!VP&&typeof e=="string"&&(t&&(e=`\x1B[${w7(t)}m${e}\x1B[39m`),n&&(e=`\x1B[${w7(n)+qEe}m${e}\x1B[49m`)),e}function YEe(e,t=["constructor"]){const n=Object.getPrototypeOf(e),r=Object.getOwnPropertyNames(n),i=e;for(const o of r){const s=i[o];typeof s=="function"&&(t.find(a=>o===a)||(i[o]=s.bind(e)))}}function WP(e,t){if(!e)throw new Error("Assertion failed")}function ch(){var t,n,r;let e;if(VP()&&Gb.performance)e=(n=(t=Gb==null?void 0:Gb.performance)==null?void 0:t.now)==null?void 0:n.call(t);else if("hrtime"in uh){const i=(r=uh==null?void 0:uh.hrtime)==null?void 0:r.call(uh);e=i[0]*1e3+i[1]/1e6}else e=Date.now();return e}const fh={debug:VP()&&console.debug||console.log,log:console.log,info:console.info,warn:console.warn,error:console.error},XEe={enabled:!0,level:0};function dh(){}const S7={},k7={once:!0};let HP=class{constructor({id:t}={id:""}){this.VERSION=NK,this._startTs=ch(),this._deltaTs=ch(),this.userData={},this.LOG_THROTTLE_TIMEOUT=0,this.id=t,this.userData={},this._storage=new VEe(`__probe-${this.id}__`,XEe),this.timeStamp(`${this.id} started`),YEe(this),Object.seal(this)}set level(t){this.setLevel(t)}get level(){return this.getLevel()}isEnabled(){return this._storage.config.enabled}getLevel(){return this._storage.config.level}getTotal(){return Number((ch()-this._startTs).toPrecision(10))}getDelta(){return Number((ch()-this._deltaTs).toPrecision(10))}set priority(t){this.level=t}get priority(){return this.level}getPriority(){return this.level}enable(t=!0){return this._storage.setConfiguration({enabled:t}),this}setLevel(t){return this._storage.setConfiguration({level:t}),this}get(t){return this._storage.config[t]}set(t,n){this._storage.setConfiguration({[t]:n})}settings(){console.table?console.table(this._storage.config):console.log(this._storage.config)}assert(t,n){if(!t)throw new Error(n||"Assertion failed")}warn(t){return this._getLogFunction(0,t,fh.warn,arguments,k7)}error(t){return this._getLogFunction(0,t,fh.error,arguments)}deprecated(t,n){return this.warn(`\`${t}\` is deprecated and will be removed in a later version. Use \`${n}\` instead`)}removed(t,n){return this.error(`\`${t}\` has been removed. Use \`${n}\` instead`)}probe(t,n){return this._getLogFunction(t,n,fh.log,arguments,{time:!0,once:!0})}log(t,n){return this._getLogFunction(t,n,fh.debug,arguments)}info(t,n){return this._getLogFunction(t,n,console.info,arguments)}once(t,n){return this._getLogFunction(t,n,fh.debug||fh.info,arguments,k7)}table(t,n,r){return n?this._getLogFunction(t,n,console.table||dh,r&&[r],{tag:QEe(n)}):dh}time(t,n){return this._getLogFunction(t,n,console.time?console.time:console.info)}timeEnd(t,n){return this._getLogFunction(t,n,console.timeEnd?console.timeEnd:console.info)}timeStamp(t,n){return this._getLogFunction(t,n,console.timeStamp||dh)}group(t,n,r={collapsed:!1}){const i=C7({logLevel:t,message:n,opts:r}),{collapsed:o}=r;return i.method=(o?console.groupCollapsed:console.group)||console.info,this._getLogFunction(i)}groupCollapsed(t,n,r={}){return this.group(t,n,Object.assign({},r,{collapsed:!0}))}groupEnd(t){return this._getLogFunction(t,"",console.groupEnd||dh)}withGroup(t,n,r){this.group(t,n)();try{r()}finally{this.groupEnd(t)()}}trace(){console.trace&&console.trace()}_shouldLog(t){return this.isEnabled()&&this.getLevel()>=IK(t)}_getLogFunction(t,n,r,i,o){if(this._shouldLog(t)){o=C7({logLevel:t,message:n,args:i,opts:o}),r=r||o.method,WP(r),o.total=this.getTotal(),o.delta=this.getDelta(),this._deltaTs=ch();const s=o.tag||o.message;if(o.once&&s)if(!S7[s])S7[s]=ch();else return dh;return n=KEe(this.id,o.message,o),r.bind(console,n,...o.args)}return dh}};HP.VERSION=NK;function IK(e){if(!e)return 0;let t;switch(typeof e){case"number":t=e;break;case"object":t=e.logLevel||e.priority||0;break;default:return 0}return WP(Number.isFinite(t)&&t>=0),t}function C7(e){const{logLevel:t,message:n}=e;e.logLevel=IK(t);const r=e.args?Array.from(e.args):[];for(;r.length&&r.shift()!==n;);switch(typeof t){case"string":case"function":n!==void 0&&r.unshift(n),e.message=t;break;case"object":Object.assign(e,t);break}typeof e.message=="function"&&(e.message=e.message());const i=typeof e.message;return WP(i==="string"||i==="object"),Object.assign(e,{args:r},e.opts)}function KEe(e,t,n){if(typeof t=="string"){const r=n.time?HEe(WEe(n.total)):"";t=n.time?`${e}: ${r}  ${t}`:`${e}: ${t}`,t=GEe(t,n.color,n.background)}return t}function QEe(e){for(const t in e)for(const n in e[t])return n||"untitled";return"empty"}function ZEe(e,t){return LK(e||{},t)}function LK(e,t,n=0){if(n>3)return t;const r={...e};for(const[i,o]of Object.entries(t))o&&typeof o=="object"&&!Array.isArray(o)?r[i]=LK(r[i]||{},t[i],n+1):r[i]=t[i];return r}const JEe="latest";function e$e(){var e;return(e=globalThis._loadersgl_)!=null&&e.version||(globalThis._loadersgl_=globalThis._loadersgl_||{},globalThis._loadersgl_.version="4.2.1"),globalThis._loadersgl_.version}const t$e=e$e();function sc(e,t){if(!e)throw new Error(t||"loaders.gl assertion failed.")}const Hf=typeof process!="object"||String(process)!=="[object process]"||process.browser,n$e=typeof window<"u"&&typeof window.orientation<"u",_7=typeof process<"u"&&process.version&&/v([0-9]*)/.exec(process.version);_7&&parseFloat(_7[1]);class r$e{constructor(t,n){fe(this,"name");fe(this,"workerThread");fe(this,"isRunning",!0);fe(this,"result");fe(this,"_resolve",()=>{});fe(this,"_reject",()=>{});this.name=t,this.workerThread=n,this.result=new Promise((r,i)=>{this._resolve=r,this._reject=i})}postMessage(t,n){this.workerThread.postMessage({source:"loaders.gl",type:t,payload:n})}done(t){sc(this.isRunning),this.isRunning=!1,this._resolve(t)}error(t){sc(this.isRunning),this.isRunning=!1,this._reject(t)}}class H${terminate(){}}const q$=new Map;function i$e(e){sc(e.source&&!e.url||!e.source&&e.url);let t=q$.get(e.source||e.url);return t||(e.url&&(t=o$e(e.url),q$.set(e.url,t)),e.source&&(t=zK(e.source),q$.set(e.source,t))),sc(t),t}function o$e(e){if(!e.startsWith("http"))return e;const t=s$e(e);return zK(t)}function zK(e){const t=new Blob([e],{type:"application/javascript"});return URL.createObjectURL(t)}function s$e(e){return`try {
  importScripts('${e}');
} catch (error) {
  console.error(error);
  throw error;
}`}function jK(e,t=!0,n){const r=n||new Set;if(e){if(E7(e))r.add(e);else if(E7(e.buffer))r.add(e.buffer);else if(!ArrayBuffer.isView(e)){if(t&&typeof e=="object")for(const i in e)jK(e[i],t,r)}}return n===void 0?Array.from(r):[]}function E7(e){return e?e instanceof ArrayBuffer||typeof MessagePort<"u"&&e instanceof MessagePort||typeof ImageBitmap<"u"&&e instanceof ImageBitmap||typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas:!1}const G$=()=>{};class e3{constructor(t){fe(this,"name");fe(this,"source");fe(this,"url");fe(this,"terminated",!1);fe(this,"worker");fe(this,"onMessage");fe(this,"onError");fe(this,"_loadableURL","");const{name:n,source:r,url:i}=t;sc(r||i),this.name=n,this.source=r,this.url=i,this.onMessage=G$,this.onError=o=>console.log(o),this.worker=Hf?this._createBrowserWorker():this._createNodeWorker()}static isSupported(){return typeof Worker<"u"&&Hf||typeof H$<"u"&&!Hf}destroy(){this.onMessage=G$,this.onError=G$,this.worker.terminate(),this.terminated=!0}get isRunning(){return!!this.onMessage}postMessage(t,n){n=n||jK(t),this.worker.postMessage(t,n)}_getErrorFromErrorEvent(t){let n="Failed to load ";return n+=`worker ${this.name} from ${this.url}. `,t.message&&(n+=`${t.message} in `),t.lineno&&(n+=`:${t.lineno}:${t.colno}`),new Error(n)}_createBrowserWorker(){this._loadableURL=i$e({source:this.source,url:this.url});const t=new Worker(this._loadableURL,{name:this.name});return t.onmessage=n=>{n.data?this.onMessage(n.data):this.onError(new Error("No data received"))},t.onerror=n=>{this.onError(this._getErrorFromErrorEvent(n)),this.terminated=!0},t.onmessageerror=n=>console.error(n),t}_createNodeWorker(){let t;if(this.url){const r=this.url.includes(":/")||this.url.startsWith("/")?this.url:`./${this.url}`;t=new H$(r,{eval:!1})}else if(this.source)t=new H$(this.source,{eval:!0});else throw new Error("no worker");return t.on("message",n=>{this.onMessage(n)}),t.on("error",n=>{this.onError(n)}),t.on("exit",n=>{}),t}}class a$e{constructor(t){fe(this,"name","unnamed");fe(this,"source");fe(this,"url");fe(this,"maxConcurrency",1);fe(this,"maxMobileConcurrency",1);fe(this,"onDebug",()=>{});fe(this,"reuseWorkers",!0);fe(this,"props",{});fe(this,"jobQueue",[]);fe(this,"idleQueue",[]);fe(this,"count",0);fe(this,"isDestroyed",!1);this.source=t.source,this.url=t.url,this.setProps(t)}static isSupported(){return e3.isSupported()}destroy(){this.idleQueue.forEach(t=>t.destroy()),this.isDestroyed=!0}setProps(t){this.props={...this.props,...t},t.name!==void 0&&(this.name=t.name),t.maxConcurrency!==void 0&&(this.maxConcurrency=t.maxConcurrency),t.maxMobileConcurrency!==void 0&&(this.maxMobileConcurrency=t.maxMobileConcurrency),t.reuseWorkers!==void 0&&(this.reuseWorkers=t.reuseWorkers),t.onDebug!==void 0&&(this.onDebug=t.onDebug)}async startJob(t,n=(i,o,s)=>i.done(s),r=(i,o)=>i.error(o)){const i=new Promise(o=>(this.jobQueue.push({name:t,onMessage:n,onError:r,onStart:o}),this));return this._startQueuedJob(),await i}async _startQueuedJob(){if(!this.jobQueue.length)return;const t=this._getAvailableWorker();if(!t)return;const n=this.jobQueue.shift();if(n){this.onDebug({message:"Starting job",name:n.name,workerThread:t,backlog:this.jobQueue.length});const r=new r$e(n.name,t);t.onMessage=i=>n.onMessage(r,i.type,i.payload),t.onError=i=>n.onError(r,i),n.onStart(r);try{await r.result}catch(i){console.error(`Worker exception: ${i}`)}finally{this.returnWorkerToQueue(t)}}}returnWorkerToQueue(t){!Hf||this.isDestroyed||!this.reuseWorkers||this.count>this._getMaxConcurrency()?(t.destroy(),this.count--):this.idleQueue.push(t),this.isDestroyed||this._startQueuedJob()}_getAvailableWorker(){if(this.idleQueue.length>0)return this.idleQueue.shift()||null;if(this.count<this._getMaxConcurrency()){this.count++;const t=`${this.name.toLowerCase()} (#${this.count} of ${this.maxConcurrency})`;return new e3({name:t,source:this.source,url:this.url})}return null}_getMaxConcurrency(){return n$e?this.maxMobileConcurrency:this.maxConcurrency}}const l$e={maxConcurrency:3,maxMobileConcurrency:1,reuseWorkers:!0,onDebug:()=>{}},yu=class yu{constructor(t){fe(this,"props");fe(this,"workerPools",new Map);this.props={...l$e},this.setProps(t),this.workerPools=new Map}static isSupported(){return e3.isSupported()}static getWorkerFarm(t={}){return yu._workerFarm=yu._workerFarm||new yu({}),yu._workerFarm.setProps(t),yu._workerFarm}destroy(){for(const t of this.workerPools.values())t.destroy();this.workerPools=new Map}setProps(t){this.props={...this.props,...t};for(const n of this.workerPools.values())n.setProps(this._getWorkerPoolProps())}getWorkerPool(t){const{name:n,source:r,url:i}=t;let o=this.workerPools.get(n);return o||(o=new a$e({name:n,source:r,url:i}),o.setProps(this._getWorkerPoolProps()),this.workerPools.set(n,o)),o}_getWorkerPoolProps(){return{maxConcurrency:this.props.maxConcurrency,maxMobileConcurrency:this.props.maxMobileConcurrency,reuseWorkers:this.props.reuseWorkers,onDebug:this.props.onDebug}}};fe(yu,"_workerFarm");let Rw=yu;function u$e(e,t={}){const n=t[e.id]||{},r=Hf?`${e.id}-worker.js`:`${e.id}-worker-node.js`;let i=n.workerUrl;if(!i&&e.id==="compression"&&(i=t.workerUrl),t._workerType==="test"&&(Hf?i=`modules/${e.module}/dist/${r}`:i=`modules/${e.module}/src/workers/${e.id}-worker-node.ts`),!i){let o=e.version;o==="latest"&&(o=JEe);const s=o?`@${o}`:"";i=`https://unpkg.com/@loaders.gl/${e.module}${s}/dist/${r}`}return sc(i),i}function c$e(e,t=t$e){sc(e,"no worker provided");const n=e.version;return!(!t||!n)}function f$e(e,t){return!Rw.isSupported()||!Hf&&!(t!=null&&t._nodeWorkers)?!1:e.worker&&(t==null?void 0:t.worker)}async function d$e(e,t,n,r,i){const o=e.id,s=u$e(e,n),l=Rw.getWorkerFarm(n).getWorkerPool({name:o,url:s});n=JSON.parse(JSON.stringify(n)),r=JSON.parse(JSON.stringify(r||{}));const u=await l.startJob("process-on-worker",h$e.bind(null,i));return u.postMessage("process",{input:t,options:n,context:r}),await(await u.result).result}async function h$e(e,t,n,r){switch(n){case"done":t.done(r);break;case"error":t.error(new Error(r.error));break;case"process":const{id:i,input:o,options:s}=r;try{const a=await e(o,s);t.postMessage("done",{id:i,result:a})}catch(a){const l=a instanceof Error?a.message:"unknown error";t.postMessage("error",{id:i,error:l})}break;default:console.warn(`parse-with-worker unknown message ${n}`)}}function p$e(e,t,n){if(n=n||e.byteLength,e.byteLength<n||t.byteLength<n)return!1;const r=new Uint8Array(e),i=new Uint8Array(t);for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}function g$e(...e){return m$e(e)}function m$e(e){const t=e.map(o=>o instanceof ArrayBuffer?new Uint8Array(o):o),n=t.reduce((o,s)=>o+s.byteLength,0),r=new Uint8Array(n);let i=0;for(const o of t)r.set(o,i),i+=o.byteLength;return r.buffer}async function y$e(e){const t=[];for await(const n of e)t.push(n);return g$e(...t)}let v$e="";const $7={};function b$e(e){for(const t in $7)if(e.startsWith(t)){const n=$7[t];e=e.replace(t,n)}return!e.startsWith("http://")&&!e.startsWith("https://")&&(e=`${v$e}${e}`),e}const x$e="4.2.1",w$e={dataType:null,batchType:null,name:"JSON",id:"json",module:"json",version:x$e,extensions:["json","geojson"],mimeTypes:["application/json"],category:"json",text:!0,parseTextSync:A7,parse:async e=>A7(new TextDecoder().decode(e)),options:{}};function A7(e){return JSON.parse(e)}function S$e(e){return e&&typeof e=="object"&&e.isBuffer}function BK(e){if(S$e(e))return e;if(e instanceof ArrayBuffer)return e;if(ArrayBuffer.isView(e))return e.byteOffset===0&&e.byteLength===e.buffer.byteLength?e.buffer:e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength);if(typeof e=="string"){const t=e;return new TextEncoder().encode(t).buffer}if(e&&typeof e=="object"&&e._toArrayBuffer)return e._toArrayBuffer();throw new Error("toArrayBuffer")}function UK(e){const t=e?e.lastIndexOf("/"):-1;return t>=0?e.substr(t+1):""}function k$e(e){const t=e?e.lastIndexOf("/"):-1;return t>=0?e.substr(0,t):""}const C$e=e=>typeof e=="boolean",yy=e=>typeof e=="function",lv=e=>e!==null&&typeof e=="object",T7=e=>lv(e)&&e.constructor==={}.constructor,_$e=e=>!!e&&typeof e[Symbol.iterator]=="function",E$e=e=>e&&typeof e[Symbol.asyncIterator]=="function",Id=e=>typeof Response<"u"&&e instanceof Response||e&&e.arrayBuffer&&e.text&&e.json,Yg=e=>typeof Blob<"u"&&e instanceof Blob,$$e=e=>e&&typeof e=="object"&&e.isBuffer,A$e=e=>typeof ReadableStream<"u"&&e instanceof ReadableStream||lv(e)&&yy(e.tee)&&yy(e.cancel)&&yy(e.getReader),T$e=e=>lv(e)&&yy(e.read)&&yy(e.pipe)&&C$e(e.readable),VK=e=>A$e(e)||T$e(e);class M$e extends Error{constructor(n,r){super(n);fe(this,"reason");fe(this,"url");fe(this,"response");this.reason=r.reason,this.url=r.url,this.response=r.response}}const F$e=/^data:([-\w.]+\/[-\w.+]+)(;|,)/,P$e=/^([-\w.]+\/[-\w.+]+)/;function M7(e,t){return e.toLowerCase()===t.toLowerCase()}function R$e(e){const t=P$e.exec(e);return t?t[1]:e}function F7(e){const t=F$e.exec(e);return t?t[1]:""}const WK=/\?.*/;function D$e(e){const t=e.match(WK);return t&&t[0]}function qP(e){return e.replace(WK,"")}function O$e(e){if(e.length<50)return e;const t=e.slice(e.length-15);return`${e.substr(0,32)}...${t}`}function vC(e){return Id(e)?e.url:Yg(e)?e.name||"":typeof e=="string"?e:""}function GP(e){if(Id(e)){const t=e,n=t.headers.get("content-type")||"",r=qP(t.url);return R$e(n)||F7(r)}return Yg(e)?e.type||"":typeof e=="string"?F7(e):""}function N$e(e){return Id(e)?e.headers["content-length"]||-1:Yg(e)?e.size:typeof e=="string"?e.length:e instanceof ArrayBuffer||ArrayBuffer.isView(e)?e.byteLength:-1}async function HK(e){if(Id(e))return e;const t={},n=N$e(e);n>=0&&(t["content-length"]=String(n));const r=vC(e),i=GP(e);i&&(t["content-type"]=i);const o=await z$e(e);o&&(t["x-first-bytes"]=o),typeof e=="string"&&(e=new TextEncoder().encode(e));const s=new Response(e,{headers:t});return Object.defineProperty(s,"url",{value:r}),s}async function I$e(e){if(!e.ok)throw await L$e(e)}async function L$e(e){const t=O$e(e.url);let n=`Failed to fetch resource (${e.status}) ${e.statusText}: ${t}`;n=n.length>100?`${n.slice(0,100)}...`:n;const r={reason:e.statusText,url:e.url,response:e};try{const i=e.headers.get("Content-Type");r.reason=i!=null&&i.includes("application/json")?await e.json():e.text()}catch{}return new M$e(n,r)}async function z$e(e){if(typeof e=="string")return`data:,${e.slice(0,5)}`;if(e instanceof Blob){const n=e.slice(0,5);return await new Promise(r=>{const i=new FileReader;i.onload=o=>{var s;return r((s=o==null?void 0:o.target)==null?void 0:s.result)},i.readAsDataURL(n)})}if(e instanceof ArrayBuffer){const n=e.slice(0,5);return`data:base64,${j$e(n)}`}return null}function j$e(e){let t="";const n=new Uint8Array(e);for(let r=0;r<n.byteLength;r++)t+=String.fromCharCode(n[r]);return btoa(t)}function B$e(e){return!U$e(e)&&!V$e(e)}function U$e(e){return e.startsWith("http:")||e.startsWith("https:")}function V$e(e){return e.startsWith("data:")}async function t3(e,t){var n,r;if(typeof e=="string"){const i=b$e(e);return B$e(i)&&(n=globalThis.loaders)!=null&&n.fetchNode?(r=globalThis.loaders)==null?void 0:r.fetchNode(i,t):await fetch(i,t)}return await HK(e)}const P7=new HP({id:"loaders.gl"});class W$e{log(){return()=>{}}info(){return()=>{}}warn(){return()=>{}}error(){return()=>{}}}class H$e{constructor(){fe(this,"console");this.console=console}log(...t){return this.console.log.bind(this.console,...t)}info(...t){return this.console.info.bind(this.console,...t)}warn(...t){return this.console.warn.bind(this.console,...t)}error(...t){return this.console.error.bind(this.console,...t)}}const qK={fetch:null,mimeType:void 0,nothrow:!1,log:new H$e,useLocalLibraries:!1,CDN:"https://unpkg.com/@loaders.gl",worker:!0,maxConcurrency:3,maxMobileConcurrency:1,reuseWorkers:OK,_nodeWorkers:!1,_workerType:"",limit:0,_limitMB:0,batchSize:"auto",batchDebounceMs:0,metadata:!1,transforms:[]},q$e={throws:"nothrow",dataType:"(no longer used)",uri:"baseUri",method:"fetch.method",headers:"fetch.headers",body:"fetch.body",mode:"fetch.mode",credentials:"fetch.credentials",cache:"fetch.cache",redirect:"fetch.redirect",referrer:"fetch.referrer",referrerPolicy:"fetch.referrerPolicy",integrity:"fetch.integrity",keepalive:"fetch.keepalive",signal:"fetch.signal"};function GK(){globalThis.loaders=globalThis.loaders||{};const{loaders:e}=globalThis;return e._state||(e._state={}),e._state}function YK(){const e=GK();return e.globalOptions=e.globalOptions||{...qK},e.globalOptions}function G$e(e,t,n,r){return n=n||[],n=Array.isArray(n)?n:[n],Y$e(e,n),K$e(t,e,r)}function Y$e(e,t){R7(e,null,qK,q$e,t);for(const n of t){const r=e&&e[n.id]||{},i=n.options&&n.options[n.id]||{},o=n.deprecatedOptions&&n.deprecatedOptions[n.id]||{};R7(r,n.id,i,o,t)}}function R7(e,t,n,r,i){const o=t||"Top level",s=t?`${t}.`:"";for(const a in e){const l=!t&&lv(e[a]),u=a==="baseUri"&&!t,c=a==="workerUrl"&&t;if(!(a in n)&&!u&&!c){if(a in r)P7.warn(`${o} loader option '${s}${a}' no longer supported, use '${r[a]}'`)();else if(!l){const f=X$e(a,i);P7.warn(`${o} loader option '${s}${a}' not recognized. ${f}`)()}}}}function X$e(e,t){const n=e.toLowerCase();let r="";for(const i of t)for(const o in i.options){if(e===o)return`Did you mean '${i.id}.${o}'?`;const s=o.toLowerCase();(n.startsWith(s)||s.startsWith(n))&&(r=r||`Did you mean '${i.id}.${o}'?`)}return r}function K$e(e,t,n){const i={...e.options||{}};return Q$e(i,n),i.log===null&&(i.log=new W$e),D7(i,YK()),D7(i,t),i}function D7(e,t){for(const n in t)if(n in t){const r=t[n];T7(r)&&T7(e[n])?e[n]={...e[n],...t[n]}:e[n]=t[n]}}function Q$e(e,t){t&&!("baseUri"in e)&&(e.baseUri=t)}function XK(e){return e?(Array.isArray(e)&&(e=e[0]),Array.isArray(e==null?void 0:e.extensions)):!1}function KK(e){b7(e,"null loader"),b7(XK(e),"invalid loader");let t;return Array.isArray(e)&&(t=e[1],e=e[0],e={...e,options:{...e.options,...t}}),(e!=null&&e.parseTextSync||e!=null&&e.parseText)&&(e.text=!0),e.text||(e.binary=!0),e}const Z$e=()=>{const e=GK();return e.loaderRegistry=e.loaderRegistry||[],e.loaderRegistry};function J$e(){return Z$e()}const eAe=new HP({id:"loaders.gl"}),tAe=/\.([^.]+)$/;async function nAe(e,t=[],n,r){if(!QK(e))return null;let i=O7(e,t,{...n,nothrow:!0},r);if(i)return i;if(Yg(e)&&(e=await e.slice(0,10).arrayBuffer(),i=O7(e,t,n,r)),!i&&!(n!=null&&n.nothrow))throw new Error(ZK(e));return i}function O7(e,t=[],n,r){if(!QK(e))return null;if(t&&!Array.isArray(t))return KK(t);let i=[];t&&(i=i.concat(t)),n!=null&&n.ignoreRegisteredLoaders||i.push(...J$e()),iAe(i);const o=rAe(e,i,n,r);if(!o&&!(n!=null&&n.nothrow))throw new Error(ZK(e));return o}function rAe(e,t,n,r){const i=vC(e),o=GP(e),s=qP(i)||(r==null?void 0:r.url);let a=null,l="";return n!=null&&n.mimeType&&(a=Y$(t,n==null?void 0:n.mimeType),l=`match forced by supplied MIME type ${n==null?void 0:n.mimeType}`),a=a||oAe(t,s),l=l||(a?`matched url ${s}`:""),a=a||Y$(t,o),l=l||(a?`matched MIME type ${o}`:""),a=a||aAe(t,e),l=l||(a?`matched initial data ${JK(e)}`:""),n!=null&&n.fallbackMimeType&&(a=a||Y$(t,n==null?void 0:n.fallbackMimeType),l=l||(a?`matched fallback MIME type ${o}`:"")),l&&eAe.log(1,`selectLoader selected ${a==null?void 0:a.name}: ${l}.`),a}function QK(e){return!(e instanceof Response&&e.status===204)}function ZK(e){const t=vC(e),n=GP(e);let r="No valid loader found (";r+=t?`${UK(t)}, `:"no url provided, ",r+=`MIME type: ${n?`"${n}"`:"not provided"}, `;const i=e?JK(e):"";return r+=i?` first bytes: "${i}"`:"first bytes: not available",r+=")",r}function iAe(e){for(const t of e)KK(t)}function oAe(e,t){const n=t&&tAe.exec(t),r=n&&n[1];return r?sAe(e,r):null}function sAe(e,t){t=t.toLowerCase();for(const n of e)for(const r of n.extensions)if(r.toLowerCase()===t)return n;return null}function Y$(e,t){var n;for(const r of e)if((n=r.mimeTypes)!=null&&n.some(i=>M7(t,i))||M7(t,`application/x.${r.id}`))return r;return null}function aAe(e,t){if(!t)return null;for(const n of e)if(typeof t=="string"){if(lAe(t,n))return n}else if(ArrayBuffer.isView(t)){if(N7(t.buffer,t.byteOffset,n))return n}else if(t instanceof ArrayBuffer&&N7(t,0,n))return n;return null}function lAe(e,t){return t.testText?t.testText(e):(Array.isArray(t.tests)?t.tests:[t.tests]).some(r=>e.startsWith(r))}function N7(e,t,n){return(Array.isArray(n.tests)?n.tests:[n.tests]).some(i=>uAe(e,t,n,i))}function uAe(e,t,n,r){if(r instanceof ArrayBuffer)return p$e(r,e,r.byteLength);switch(typeof r){case"function":return r(e);case"string":const i=n3(e,t,r.length);return r===i;default:return!1}}function JK(e,t=5){return typeof e=="string"?e.slice(0,t):ArrayBuffer.isView(e)?n3(e.buffer,e.byteOffset,t):e instanceof ArrayBuffer?n3(e,0,t):""}function n3(e,t,n){if(e.byteLength<t+n)return"";const r=new DataView(e);let i="";for(let o=0;o<n;o++)i+=String.fromCharCode(r.getUint8(t+o));return i}const cAe=256*1024;function*fAe(e,t){const n=(t==null?void 0:t.chunkSize)||cAe;let r=0;const i=new TextEncoder;for(;r<e.length;){const o=Math.min(e.length-r,n),s=e.slice(r,r+o);r+=o,yield i.encode(s)}}const dAe=256*1024;function*hAe(e,t={}){const{chunkSize:n=dAe}=t;let r=0;for(;r<e.byteLength;){const i=Math.min(e.byteLength-r,n),o=new ArrayBuffer(i),s=new Uint8Array(e,r,i);new Uint8Array(o).set(s),r+=i,yield o}}const pAe=1024*1024;async function*gAe(e,t){const n=(t==null?void 0:t.chunkSize)||pAe;let r=0;for(;r<e.size;){const i=r+n,o=await e.slice(r,i).arrayBuffer();r=i,yield o}}function I7(e,t){return OK?mAe(e,t):yAe(e)}async function*mAe(e,t){const n=e.getReader();let r;try{for(;;){const i=r||n.read();t!=null&&t._streamReadAhead&&(r=n.read());const{done:o,value:s}=await i;if(o)return;yield BK(s)}}catch{n.releaseLock()}}async function*yAe(e,t){for await(const n of e)yield BK(n)}function vAe(e,t){if(typeof e=="string")return fAe(e,t);if(e instanceof ArrayBuffer)return hAe(e,t);if(Yg(e))return gAe(e,t);if(VK(e))return I7(e,t);if(Id(e))return I7(e.body,t);throw new Error("makeIterator")}const eQ="Cannot convert supplied data type";function bAe(e,t,n){if(t.text&&typeof e=="string")return e;if($$e(e)&&(e=e.buffer),e instanceof ArrayBuffer){const r=e;return t.text&&!t.binary?new TextDecoder("utf8").decode(r):r}if(ArrayBuffer.isView(e)){if(t.text&&!t.binary)return new TextDecoder("utf8").decode(e);let r=e.buffer;const i=e.byteLength||e.length;return(e.byteOffset!==0||i!==r.byteLength)&&(r=r.slice(e.byteOffset,e.byteOffset+i)),r}throw new Error(eQ)}async function xAe(e,t,n){const r=e instanceof ArrayBuffer||ArrayBuffer.isView(e);if(typeof e=="string"||r)return bAe(e,t);if(Yg(e)&&(e=await HK(e)),Id(e)){const i=e;return await I$e(i),t.binary?await i.arrayBuffer():await i.text()}if(VK(e)&&(e=vAe(e,n)),_$e(e)||E$e(e))return y$e(e);throw new Error(eQ)}function wAe(e,t){const n=YK(),r=e||n;return typeof r.fetch=="function"?r.fetch:lv(r.fetch)?i=>t3(i,r.fetch):t!=null&&t.fetch?t==null?void 0:t.fetch:t3}function SAe(e,t,n){if(n)return n;const r={fetch:wAe(t,e),...e};if(r.url){const i=qP(r.url);r.baseUrl=i,r.queryString=D$e(r.url),r.filename=UK(i),r.baseUrl=k$e(i)}return Array.isArray(r.loaders)||(r.loaders=null),r}function kAe(e,t){if(e&&!Array.isArray(e))return e;let n;if(e&&(n=Array.isArray(e)?e:[e]),t&&t.loaders){const r=Array.isArray(t.loaders)?t.loaders:[t.loaders];n=n?[...n,...r]:r}return n&&n.length?n:void 0}async function YP(e,t,n,r){t&&!Array.isArray(t)&&!XK(t)&&(r=void 0,n=t,t=void 0),e=await e,n=n||{};const i=vC(e),s=kAe(t,r),a=await nAe(e,s,n);return a?(n=G$e(n,a,s,i),r=SAe({url:i,_parse:YP,loaders:s},n,r||null),await CAe(a,e,n,r)):null}async function CAe(e,t,n,r){if(c$e(e),n=ZEe(e.options,n),Id(t)){const o=t,{ok:s,redirected:a,status:l,statusText:u,type:c,url:f}=o,d=Object.fromEntries(o.headers.entries());r.response={headers:d,ok:s,redirected:a,status:l,statusText:u,type:c,url:f}}t=await xAe(t,e,n);const i=e;if(i.parseTextSync&&typeof t=="string")return i.parseTextSync(t,n,r);if(f$e(e,n))return await d$e(e,t,n,r,YP);if(i.parseText&&typeof t=="string")return await i.parseText(t,n,r);if(i.parse)return await i.parse(t,n,r);throw sc(!i.parseSync),new Error(`${e.id} loader - no parser found and worker is disabled`)}const L7=100;class _Ae{constructor(t,n){fe(this,"schema");fe(this,"options");fe(this,"shape");fe(this,"length",0);fe(this,"rows",null);fe(this,"cursor",0);fe(this,"_headers",[]);if(this.options=n,this.schema=t,!Array.isArray(t)){this._headers=[];for(const r in t)this._headers[t[r].index]=t[r].name}}rowCount(){return this.length}addArrayRow(t,n){Number.isFinite(n)&&(this.cursor=n),this.shape="array-row-table",this.rows=this.rows||new Array(L7),this.rows[this.length]=t,this.length++}addObjectRow(t,n){Number.isFinite(n)&&(this.cursor=n),this.shape="object-row-table",this.rows=this.rows||new Array(L7),this.rows[this.length]=t,this.length++}getBatch(){let t=this.rows;return t?(t=t.slice(0,this.length),this.rows=null,{shape:this.shape||"array-row-table",batchType:"data",data:t,length:this.length,schema:this.schema,cursor:this.cursor}):null}}function tQ(e,t){if(!e)throw new Error("null row");const n={};if(t)for(let r=0;r<t.length;r++)n[t[r]]=e[r];else for(let r=0;r<e.length;r++){const i=`column-${r}`;n[i]=e[r]}return n}function nQ(e,t){if(!e)throw new Error("null row");if(t){const n=new Array(t.length);for(let r=0;r<t.length;r++)n[r]=e[t[r]];return n}return Object.values(e)}function EAe(e){const t=[];for(let n=0;n<e.length;n++){const r=`column-${n}`;t.push(r)}return t}function $Ae(e){return Object.keys(e)}const z7=100;class AAe{constructor(t,n){fe(this,"schema");fe(this,"options");fe(this,"length",0);fe(this,"objectRows",null);fe(this,"arrayRows",null);fe(this,"cursor",0);fe(this,"_headers",null);if(this.options=n,this.schema=t,t){this._headers=[];for(const r in t)this._headers[t[r].index]=t[r].name}}rowCount(){return this.length}addArrayRow(t,n){switch(Number.isFinite(n)&&(this.cursor=n),this._headers||(this._headers=EAe(t)),this.options.shape){case"object-row-table":const r=tQ(t,this._headers);this.addObjectRow(r,n);break;case"array-row-table":this.arrayRows=this.arrayRows||new Array(z7),this.arrayRows[this.length]=t,this.length++;break}}addObjectRow(t,n){switch(Number.isFinite(n)&&(this.cursor=n),this._headers||(this._headers=$Ae(t)),this.options.shape){case"array-row-table":const r=nQ(t,this._headers);this.addArrayRow(r,n);break;case"object-row-table":this.objectRows=this.objectRows||new Array(z7),this.objectRows[this.length]=t,this.length++;break}}getBatch(){let t=this.arrayRows||this.objectRows;return t?(t=t.slice(0,this.length),this.arrayRows=null,this.objectRows=null,{shape:this.options.shape,batchType:"data",data:t,length:this.length,schema:this.schema,cursor:this.cursor}):null}}const TAe=100;class MAe{constructor(t,n){fe(this,"schema");fe(this,"length",0);fe(this,"allocated",0);fe(this,"columns",{});this.schema=t,this._reallocateColumns()}rowCount(){return this.length}addArrayRow(t){this._reallocateColumns();let n=0;for(const r in this.columns)this.columns[r][this.length]=t[n++];this.length++}addObjectRow(t){this._reallocateColumns();for(const n in t)this.columns[n][this.length]=t[n];this.length++}getBatch(){this._pruneColumns();const t=Array.isArray(this.schema)?this.columns:{};if(!Array.isArray(this.schema))for(const r in this.schema){const i=this.schema[r];t[i.name]=this.columns[i.index]}return this.columns={},{shape:"columnar-table",batchType:"data",data:t,schema:this.schema,length:this.length}}_reallocateColumns(){if(!(this.length<this.allocated)){this.allocated=this.allocated>0?this.allocated*=2:TAe,this.columns={};for(const t in this.schema){const n=this.schema[t],r=n.type||Float32Array,i=this.columns[n.index];if(i&&ArrayBuffer.isView(i)){const o=new r(this.allocated);o.set(i),this.columns[n.index]=o}else i?(i.length=this.allocated,this.columns[n.index]=i):this.columns[n.index]=new r(this.allocated)}}}_pruneColumns(){for(const[t,n]of Object.entries(this.columns))this.columns[t]=n.slice(0,this.length)}}const FAe={shape:void 0,batchSize:"auto",batchDebounceMs:0,limit:0,_limitMB:0},PAe="TableBatchBuilder",Ry=class Ry{constructor(t,n){fe(this,"schema");fe(this,"options");fe(this,"aggregator",null);fe(this,"batchCount",0);fe(this,"bytesUsed",0);fe(this,"isChunkComplete",!1);fe(this,"lastBatchEmittedMs",Date.now());fe(this,"totalLength",0);fe(this,"totalBytes",0);fe(this,"rowBytes",0);this.schema=t,this.options={...FAe,...n}}limitReached(){var t,n;return!!((t=this.options)!=null&&t.limit&&this.totalLength>=this.options.limit||(n=this.options)!=null&&n._limitMB&&this.totalBytes/1e6>=this.options._limitMB)}addRow(t){this.limitReached()||(this.totalLength++,this.rowBytes=this.rowBytes||this._estimateRowMB(t),this.totalBytes+=this.rowBytes,Array.isArray(t)?this.addArrayRow(t):this.addObjectRow(t))}addArrayRow(t){if(!this.aggregator){const n=this._getTableBatchType();this.aggregator=new n(this.schema,this.options)}this.aggregator.addArrayRow(t)}addObjectRow(t){if(!this.aggregator){const n=this._getTableBatchType();this.aggregator=new n(this.schema,this.options)}this.aggregator.addObjectRow(t)}chunkComplete(t){t instanceof ArrayBuffer&&(this.bytesUsed+=t.byteLength),typeof t=="string"&&(this.bytesUsed+=t.length),this.isChunkComplete=!0}getFullBatch(t){return this._isFull()?this._getBatch(t):null}getFinalBatch(t){return this._getBatch(t)}_estimateRowMB(t){return Array.isArray(t)?t.length*8:Object.keys(t).length*8}_isFull(){if(!this.aggregator||this.aggregator.rowCount()===0)return!1;if(this.options.batchSize==="auto"){if(!this.isChunkComplete)return!1}else if(this.options.batchSize>this.aggregator.rowCount())return!1;return this.options.batchDebounceMs>Date.now()-this.lastBatchEmittedMs?!1:(this.isChunkComplete=!1,this.lastBatchEmittedMs=Date.now(),!0)}_getBatch(t){if(!this.aggregator)return null;t!=null&&t.bytesUsed&&(this.bytesUsed=t.bytesUsed);const n=this.aggregator.getBatch();return n.count=this.batchCount,n.bytesUsed=this.bytesUsed,Object.assign(n,t),this.batchCount++,this.aggregator=null,n}_getTableBatchType(){switch(this.options.shape){case"array-row-table":case"object-row-table":return AAe;case"columnar-table":return MAe;case"arrow-table":if(!Ry.ArrowBatch)throw new Error(PAe);return Ry.ArrowBatch;default:return _Ae}}};fe(Ry,"ArrowBatch");let r3=Ry;class j7 extends Array{enqueue(t){return this.push(t)}dequeue(){return this.shift()}}class RAe{constructor(){fe(this,"_values");fe(this,"_settlers");fe(this,"_closed");this._values=new j7,this._settlers=new j7,this._closed=!1}close(){for(;this._settlers.length>0;)this._settlers.dequeue().resolve({done:!0});this._closed=!0}[Symbol.asyncIterator](){return this}enqueue(t){if(this._closed)throw new Error("Closed");if(this._settlers.length>0){if(this._values.length>0)throw new Error("Illegal internal state");const n=this._settlers.dequeue();t instanceof Error?n.reject(t):n.resolve({value:t})}else this._values.enqueue(t)}next(){if(this._values.length>0){const t=this._values.dequeue();return t instanceof Error?Promise.reject(t):Promise.resolve({value:t})}if(this._closed){if(this._settlers.length>0)throw new Error("Illegal internal state");return Promise.resolve({done:!0})}return new Promise((t,n)=>{this._settlers.enqueue({resolve:t,reject:n})})}}/* @license
Papa Parse
v5.0.0-beta.0
https://github.com/mholt/PapaParse
License: MIT
*/const B7="\uFEFF",Ii={parse:DAe,unparse:OAe,RECORD_SEP:"",UNIT_SEP:"",BYTE_ORDER_MARK:B7,BAD_DELIMITERS:["\r",`
`,'"',B7],WORKERS_SUPPORTED:!1,NODE_STREAM_INPUT:1,LocalChunkSize:1024*1024*10,RemoteChunkSize:1024*1024*5,DefaultDelimiter:",",Parser:i3,ParserHandle:iQ,ChunkStreamer:rQ,StringStreamer:eg};function DAe(e,t,n){t=t||{};var r=t.dynamicTyping||!1;if(Lr(r)&&(t.dynamicTypingFunction=r,r={}),t.dynamicTyping=r,t.transform=Lr(t.transform)?t.transform:!1,t.worker&&Ii.WORKERS_SUPPORTED){var i=newWorker();i.userStep=t.step,i.userChunk=t.chunk,i.userComplete=t.complete,i.userError=t.error,t.step=Lr(t.step),t.chunk=Lr(t.chunk),t.complete=Lr(t.complete),t.error=Lr(t.error),delete t.worker,i.postMessage({input:e,config:t,workerId:i.id});return}var o=null;return typeof e=="string"&&(o=new eg(t)),o||(o=new n(t)),o.stream(e)}function OAe(e,t){var n=!1,r=!0,i=",",o=`\r
`,s='"',a=s+s,l=!1,u=null;f();var c=new RegExp(l1(s),"g");if(typeof e=="string"&&(e=JSON.parse(e)),Array.isArray(e)){if(!e.length||Array.isArray(e[0]))return h(null,e,l);if(typeof e[0]=="object")return h(u||d(e[0]),e,l)}else if(typeof e=="object")return typeof e.data=="string"&&(e.data=JSON.parse(e.data)),Array.isArray(e.data)&&(e.fields||(e.fields=e.meta&&e.meta.fields),e.fields||(e.fields=Array.isArray(e.data[0])?e.fields:d(e.data[0])),!Array.isArray(e.data[0])&&typeof e.data[0]!="object"&&(e.data=[e.data])),h(e.fields||[],e.data||[],l);throw new Error("Unable to serialize unrecognized input");function f(){if(typeof t=="object"){if(typeof t.delimiter=="string"&&!Ii.BAD_DELIMITERS.filter(function(m){return t.delimiter.indexOf(m)!==-1}).length&&(i=t.delimiter),(typeof t.quotes=="boolean"||Array.isArray(t.quotes))&&(n=t.quotes),(typeof t.skipEmptyLines=="boolean"||typeof t.skipEmptyLines=="string")&&(l=t.skipEmptyLines),typeof t.newline=="string"&&(o=t.newline),typeof t.quoteChar=="string"&&(s=t.quoteChar),typeof t.header=="boolean"&&(r=t.header),Array.isArray(t.columns)){if(t.columns.length===0)throw new Error("Option columns is empty");u=t.columns}t.escapeChar!==void 0&&(a=t.escapeChar+s)}}function d(m){if(typeof m!="object")return[];var y=[];for(var v in m)y.push(v);return y}function h(m,y,v){var b="";typeof m=="string"&&(m=JSON.parse(m)),typeof y=="string"&&(y=JSON.parse(y));var x=Array.isArray(m)&&m.length>0,w=!Array.isArray(y[0]);if(x&&r){for(var k=0;k<m.length;k++)k>0&&(b+=i),b+=p(m[k],k);y.length>0&&(b+=o)}for(var S=0;S<y.length;S++){var C=x?m.length:y[S].length,_=!1,$=x?Object.keys(y[S]).length===0:y[S].length===0;if(v&&!x&&(_=v==="greedy"?y[S].join("").trim()==="":y[S].length===1&&y[S][0].length===0),v==="greedy"&&x){for(var A=[],O=0;O<C;O++){var M=w?m[O]:O;A.push(y[S][M])}_=A.join("").trim()===""}if(!_){for(var P=0;P<C;P++){P>0&&!$&&(b+=i);var R=x&&w?m[P]:P;b+=p(y[S][R],P)}S<y.length-1&&(!v||C>0&&!$)&&(b+=o)}}return b}function p(m,y){if(typeof m>"u"||m===null)return"";if(m.constructor===Date)return JSON.stringify(m).slice(1,25);m=m.toString().replace(c,a);var v=typeof n=="boolean"&&n||Array.isArray(n)&&n[y]||g(m,Ii.BAD_DELIMITERS)||m.indexOf(i)>-1||m.charAt(0)===" "||m.charAt(m.length-1)===" ";return v?s+m+s:m}function g(m,y){for(var v=0;v<y.length;v++)if(m.indexOf(y[v])>-1)return!0;return!1}}function rQ(e){this._handle=null,this._finished=!1,this._completed=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},t.call(this,e),this.parseChunk=function(n,r){if(this.isFirstChunk&&Lr(this._config.beforeFirstChunk)){var i=this._config.beforeFirstChunk(n);i!==void 0&&(n=i)}this.isFirstChunk=!1;var o=this._partialLine+n;this._partialLine="";var s=this._handle.parse(o,this._baseIndex,!this._finished);if(!(this._handle.paused()||this._handle.aborted())){var a=s.meta.cursor;this._finished||(this._partialLine=o.substring(a-this._baseIndex),this._baseIndex=a),s&&s.data&&(this._rowCount+=s.data.length);var l=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(Lr(this._config.chunk)&&!r){if(this._config.chunk(s,this._handle),this._handle.paused()||this._handle.aborted())return;s=void 0,this._completeResults=void 0}return!this._config.step&&!this._config.chunk&&(this._completeResults.data=this._completeResults.data.concat(s.data),this._completeResults.errors=this._completeResults.errors.concat(s.errors),this._completeResults.meta=s.meta),!this._completed&&l&&Lr(this._config.complete)&&(!s||!s.meta.aborted)&&(this._config.complete(this._completeResults,this._input),this._completed=!0),!l&&(!s||!s.meta.paused)&&this._nextChunk(),s}},this._sendError=function(n){Lr(this._config.error)&&this._config.error(n)};function t(n){var r=XP(n);r.chunkSize=parseInt(r.chunkSize),!n.step&&!n.chunk&&(r.chunkSize=null),this._handle=new iQ(r),this._handle.streamer=this,this._config=r}}function eg(e){e=e||{},rQ.call(this,e);var t;this.stream=function(n){return t=n,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var n=this._config.chunkSize,r=n?t.substr(0,n):t;return t=n?t.substr(n):"",this._finished=!t,this.parseChunk(r)}}}eg.prototype=Object.create(eg.prototype);eg.prototype.constructor=eg;function iQ(e){var t=/^\s*-?(\d*\.?\d+|\d+\.?\d*)(e[-+]?\d+)?\s*$/i,n=/(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))/,r=this,i=0,o=0,s,a,l=!1,u=!1,c,f=[],d={data:[],errors:[],meta:{}};if(Lr(e.step)){var h=e.step;e.step=function(C){if(d=C,m())g();else{if(g(),!d.data||d.data.length===0)return;i+=C.data.length,e.preview&&i>e.preview?a.abort():h(d,r)}}}this.parse=function(C,_,$){var A=e.quoteChar||'"';if(e.newline||(e.newline=k(C,A)),c=!1,e.delimiter)Lr(e.delimiter)&&(e.delimiter=e.delimiter(C),d.meta.delimiter=e.delimiter);else{var O=w(C,e.newline,e.skipEmptyLines,e.comments,e.delimitersToGuess);O.successful?e.delimiter=O.bestDelimiter:(c=!0,e.delimiter=Ii.DefaultDelimiter),d.meta.delimiter=e.delimiter}var M=XP(e);return e.preview&&e.header&&M.preview++,s=C,a=new i3(M),d=a.parse(s,_,$),g(),l?{meta:{paused:!0}}:d||{meta:{paused:!1}}},this.paused=function(){return l},this.pause=function(){l=!0,a.abort(),s=s.substr(a.getCharIndex())},this.resume=function(){l=!1,r.streamer.parseChunk(s,!0)},this.aborted=function(){return u},this.abort=function(){u=!0,a.abort(),d.meta.aborted=!0,Lr(e.complete)&&e.complete(d),s=""};function p(C){return e.skipEmptyLines==="greedy"?C.join("").trim()==="":C.length===1&&C[0].length===0}function g(){if(d&&c&&(S("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+Ii.DefaultDelimiter+"'"),c=!1),e.skipEmptyLines)for(var C=0;C<d.data.length;C++)p(d.data[C])&&d.data.splice(C--,1);return m()&&y(),x()}function m(){return e.header&&f.length===0}function y(){if(!d)return;function C($){Lr(e.transformHeader)&&($=e.transformHeader($)),f.push($)}if(Array.isArray(d.data[0])){for(var _=0;m()&&_<d.data.length;_++)d.data[_].forEach(C);d.data.splice(0,1)}else d.data.forEach(C)}function v(C){return e.dynamicTypingFunction&&e.dynamicTyping[C]===void 0&&(e.dynamicTyping[C]=e.dynamicTypingFunction(C)),(e.dynamicTyping[C]||e.dynamicTyping)===!0}function b(C,_){return v(C)?_==="true"||_==="TRUE"?!0:_==="false"||_==="FALSE"?!1:t.test(_)?parseFloat(_):n.test(_)?new Date(_):_===""?null:_:_}function x(){if(!d||!d.data||!e.header&&!e.dynamicTyping&&!e.transform)return d;function C($,A){var O=e.header?{}:[],M;for(M=0;M<$.length;M++){var P=M,R=$[M];e.header&&(P=M>=f.length?"__parsed_extra":f[M]),e.transform&&(R=e.transform(R,P)),R=b(P,R),P==="__parsed_extra"?(O[P]=O[P]||[],O[P].push(R)):O[P]=R}return e.header&&(M>f.length?S("FieldMismatch","TooManyFields","Too many fields: expected "+f.length+" fields but parsed "+M,o+A):M<f.length&&S("FieldMismatch","TooFewFields","Too few fields: expected "+f.length+" fields but parsed "+M,o+A)),O}var _=1;return!d.data[0]||Array.isArray(d.data[0])?(d.data=d.data.map(C),_=d.data.length):d.data=C(d.data,0),e.header&&d.meta&&(d.meta.fields=f),o+=_,d}function w(C,_,$,A,O){var M,P,R;O=O||[",","	","|",";",Ii.RECORD_SEP,Ii.UNIT_SEP];for(var D=0;D<O.length;D++){var I=O[D],N=0,B=0,Y=0;R=void 0;for(var W=new i3({comments:A,delimiter:I,newline:_,preview:10}).parse(C),oe=0;oe<W.data.length;oe++){if($&&p(W.data[oe])){Y++;continue}var re=W.data[oe].length;if(B+=re,typeof R>"u"){R=0;continue}else re>1&&(N+=Math.abs(re-R),R=re)}W.data.length>0&&(B/=W.data.length-Y),(typeof P>"u"||N>P)&&B>1.99&&(P=N,M=I)}return e.delimiter=M,{successful:!!M,bestDelimiter:M}}function k(C,_){C=C.substr(0,1024*1024);var $=new RegExp(l1(_)+"([^]*?)"+l1(_),"gm");C=C.replace($,"");var A=C.split("\r"),O=C.split(`
`),M=O.length>1&&O[0].length<A[0].length;if(A.length===1||M)return`
`;for(var P=0,R=0;R<A.length;R++)A[R][0]===`
`&&P++;return P>=A.length/2?`\r
`:"\r"}function S(C,_,$,A){d.errors.push({type:C,code:_,message:$,row:A})}}function l1(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function i3(e){e=e||{};var t=e.delimiter,n=e.newline,r=e.comments,i=e.step,o=e.preview,s=e.fastMode,a;e.quoteChar===void 0?a='"':a=e.quoteChar;var l=a;if(e.escapeChar!==void 0&&(l=e.escapeChar),(typeof t!="string"||Ii.BAD_DELIMITERS.indexOf(t)>-1)&&(t=","),r===t)throw new Error("Comment character same as delimiter");r===!0?r="#":(typeof r!="string"||Ii.BAD_DELIMITERS.indexOf(r)>-1)&&(r=!1),n!==`
`&&n!=="\r"&&n!==`\r
`&&(n=`
`);var u=0,c=!1;this.parse=function(f,d,h){if(typeof f!="string")throw new Error("Input must be a string");var p=f.length,g=t.length,m=n.length,y=r.length,v=Lr(i);u=0;var b=[],x=[],w=[],k=0;if(!f)return W();if(s||s!==!1&&f.indexOf(a)===-1){for(var S=f.split(n),C=0;C<S.length;C++){if(w=S[C],u+=w.length,C!==S.length-1)u+=n.length;else if(h)return W();if(!(r&&w.substr(0,y)===r)){if(v){if(b=[],I(w.split(t)),oe(),c)return W()}else I(w.split(t));if(o&&C>=o)return b=b.slice(0,o),W(!0)}}return W()}for(var _=f.indexOf(t,u),$=f.indexOf(n,u),A=new RegExp(l1(l)+l1(a),"g"),O;;){if(f[u]===a){for(O=u,u++;;){if(O=f.indexOf(a,O+1),O===-1)return h||x.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:b.length,index:u}),B();if(O===p-1){var M=f.substring(u,O).replace(A,a);return B(M)}if(a===l&&f[O+1]===l){O++;continue}if(!(a!==l&&O!==0&&f[O-1]===l)){var P=$===-1?_:Math.min(_,$),R=N(P);if(f[O+1+R]===t){if(w.push(f.substring(u,O).replace(A,a)),u=O+1+R+g,_=f.indexOf(t,u),$=f.indexOf(n,u),v&&(oe(),c))return W();if(o&&b.length>=o)return W(!0);break}var D=N($);if(f.substr(O+1+D,m)===n){if(w.push(f.substring(u,O).replace(A,a)),Y(O+1+D+m),_=f.indexOf(t,u),v&&(oe(),c))return W();if(o&&b.length>=o)return W(!0);break}x.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:b.length,index:u}),O++}}if(v&&(oe(),c))return W();if(o&&b.length>=o)return W(!0);continue}if(r&&w.length===0&&f.substr(u,y)===r){if($===-1)return W();u=$+m,$=f.indexOf(n,u),_=f.indexOf(t,u);continue}if(_!==-1&&(_<$||$===-1)){w.push(f.substring(u,_)),u=_+g,_=f.indexOf(t,u);continue}if($!==-1){if(w.push(f.substring(u,$)),Y($+m),v&&(oe(),c))return W();if(o&&b.length>=o)return W(!0);continue}break}return B();function I(re){b.push(re),k=u}function N(re){var we=0;if(re!==-1){var De=f.substring(O+1,re);De&&De.trim()===""&&(we=De.length)}return we}function B(re){return h||(typeof re>"u"&&(re=f.substr(u)),w.push(re),u=p,I(w),v&&oe()),W()}function Y(re){u=re,I(w),w=[],$=f.indexOf(n,u)}function W(re,we){var De=we||!1;return{data:De?b[0]:b,errors:x,meta:{delimiter:t,linebreak:n,aborted:c,truncated:!!re,cursor:k+(d||0)}}}function oe(){i(W(void 0,!0)),b=[],x=[]}},this.abort=function(){c=!0},this.getCharIndex=function(){return u}}function XP(e){if(typeof e!="object"||e===null)return e;var t=Array.isArray(e)?[]:{};for(var n in e)t[n]=XP(e[n]);return t}function Lr(e){return typeof e=="function"}const{ChunkStreamer:oQ}=Ii;function Dw(e){e=e||{},oQ.call(this,e),this.textDecoder=new TextDecoder(this._config.encoding),this.stream=async function(t){this._input=t;try{for await(const n of t)this.parseChunk(this.getStringChunk(n));this._finished=!0,this.parseChunk("")}catch(n){this._sendError(n)}},this._nextChunk=function(){},this.getStringChunk=function(t){return typeof t=="string"?t:this.textDecoder.decode(t,{stream:!0})}}Dw.prototype=Object.create(oQ.prototype);Dw.prototype.constructor=Dw;const NAe="4.2.1",KP="object-row-table",QP={dataType:null,batchType:null,id:"csv",module:"csv",name:"CSV",version:NAe,extensions:["csv","tsv","dsv"],mimeTypes:["text/csv","text/tab-separated-values","text/dsv"],category:"table",parse:async(e,t)=>U7(new TextDecoder().decode(e),t),parseText:(e,t)=>U7(e,t),parseInBatches:IAe,options:{csv:{shape:KP,optimizeMemoryUsage:!1,header:"auto",columnPrefix:"column",quoteChar:'"',escapeChar:'"',dynamicTyping:!0,comments:!1,skipEmptyLines:!0,delimitersToGuess:[",","	","|",";"]}}};async function U7(e,t){const n={...QP.options.csv,...t==null?void 0:t.csv},r=LAe(e),o=n.header==="auto"?sQ(r):!!n.header,s={...n,header:o,download:!1,transformHeader:o?aQ():void 0,error:f=>{throw new Error(f)}},a=Ii.parse(e,s),l=a.data,u=a.meta.fields||lQ(n.columnPrefix,r.length),c=n.shape||KP;switch(c){case"object-row-table":return{shape:"object-row-table",data:l.map(f=>Array.isArray(f)?tQ(f,u):f)};case"array-row-table":return{shape:"array-row-table",data:l.map(f=>Array.isArray(f)?f:nQ(f,u))};default:throw new Error(c)}}function IAe(e,t){t={...t},t.batchSize==="auto"&&(t.batchSize=4e3);const n={...QP.options.csv,...t==null?void 0:t.csv},r=new RAe;let i=!0,o=null,s=null,a=null;const l={...n,header:!1,download:!1,chunkSize:1024*1024*5,skipEmptyLines:!1,step(u){let c=u.data;if(n.skipEmptyLines&&c.flat().join("").trim()==="")return;const f=u.meta.cursor;if(i&&!o&&(n.header==="auto"?sQ(c):!!n.header)){o=c.map(aQ());return}i&&(i=!1,o||(o=lQ(n.columnPrefix,c.length)),a=zAe(c,o)),n.optimizeMemoryUsage&&(c=JSON.parse(JSON.stringify(c)));const d=n.shape||KP;s=s||new r3(a,{shape:d,...t});try{s.addRow(c);const h=s&&s.getFullBatch({bytesUsed:f});h&&r.enqueue(h)}catch(h){r.enqueue(h)}},complete(u){try{const c=u.meta.cursor,f=s&&s.getFinalBatch({bytesUsed:c});f&&r.enqueue(f)}catch(c){r.enqueue(c)}r.close()}};return Ii.parse(e,l,Dw),r}function sQ(e){return e&&e.every(t=>typeof t=="string")}function LAe(e){return Ii.parse(e,{download:!1,dynamicTyping:!0,preview:1}).data[0]}function aQ(){const e=new Set;return t=>{let n=t,r=1;for(;e.has(n);)n=`${t}.${r}`,r++;return e.add(n),n}}function lQ(e,t=0){const n=[];for(let r=0;r<t;r++)n.push(`${e}${r+1}`);return n}function zAe(e,t){const n=t?{}:[];for(let r=0;r<e.length;r++){const i=t&&t[r]||r;switch(typeof e[r]){case"number":case"boolean":n[i]={name:String(i),index:r,type:Float32Array};break;case"string":default:n[i]={name:String(i),index:r,type:Array}}}return n}var V7={},X$={},K$=34,zm=10,Q$=13;function uQ(e){return new Function("d","return {"+e.map(function(t,n){return JSON.stringify(t)+": d["+n+'] || ""'}).join(",")+"}")}function jAe(e,t){var n=uQ(e);return function(r,i){return t(n(r),i,e)}}function W7(e){var t=Object.create(null),n=[];return e.forEach(function(r){for(var i in r)i in t||n.push(t[i]=i)}),n}function ri(e,t){var n=e+"",r=n.length;return r<t?new Array(t-r+1).join(0)+n:n}function BAe(e){return e<0?"-"+ri(-e,6):e>9999?"+"+ri(e,6):ri(e,4)}function UAe(e){var t=e.getUTCHours(),n=e.getUTCMinutes(),r=e.getUTCSeconds(),i=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":BAe(e.getUTCFullYear())+"-"+ri(e.getUTCMonth()+1,2)+"-"+ri(e.getUTCDate(),2)+(i?"T"+ri(t,2)+":"+ri(n,2)+":"+ri(r,2)+"."+ri(i,3)+"Z":r?"T"+ri(t,2)+":"+ri(n,2)+":"+ri(r,2)+"Z":n||t?"T"+ri(t,2)+":"+ri(n,2)+"Z":"")}function VAe(e){var t=new RegExp('["'+e+`
\r]`),n=e.charCodeAt(0);function r(f,d){var h,p,g=i(f,function(m,y){if(h)return h(m,y-1);p=m,h=d?jAe(m,d):uQ(m)});return g.columns=p||[],g}function i(f,d){var h=[],p=f.length,g=0,m=0,y,v=p<=0,b=!1;f.charCodeAt(p-1)===zm&&--p,f.charCodeAt(p-1)===Q$&&--p;function x(){if(v)return X$;if(b)return b=!1,V7;var k,S=g,C;if(f.charCodeAt(S)===K$){for(;g++<p&&f.charCodeAt(g)!==K$||f.charCodeAt(++g)===K$;);return(k=g)>=p?v=!0:(C=f.charCodeAt(g++))===zm?b=!0:C===Q$&&(b=!0,f.charCodeAt(g)===zm&&++g),f.slice(S+1,k-1).replace(/""/g,'"')}for(;g<p;){if((C=f.charCodeAt(k=g++))===zm)b=!0;else if(C===Q$)b=!0,f.charCodeAt(g)===zm&&++g;else if(C!==n)continue;return f.slice(S,k)}return v=!0,f.slice(S,p)}for(;(y=x())!==X$;){for(var w=[];y!==V7&&y!==X$;)w.push(y),y=x();d&&(w=d(w,m++))==null||h.push(w)}return h}function o(f,d){return f.map(function(h){return d.map(function(p){return c(h[p])}).join(e)})}function s(f,d){return d==null&&(d=W7(f)),[d.map(c).join(e)].concat(o(f,d)).join(`
`)}function a(f,d){return d==null&&(d=W7(f)),o(f,d).join(`
`)}function l(f){return f.map(u).join(`
`)}function u(f){return f.map(c).join(e)}function c(f){return f==null?"":f instanceof Date?UAe(f):t.test(f+="")?'"'+f.replace(/"/g,'""')+'"':f}return{parse:r,parseRows:i,format:s,formatBody:a,formatRows:l,formatRow:u,formatValue:c}}/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2022 Joachim Wester
 * MIT licensed
 */var WAe=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),HAe=Object.prototype.hasOwnProperty;function o3(e,t){return HAe.call(e,t)}function s3(e){if(Array.isArray(e)){for(var t=new Array(e.length),n=0;n<t.length;n++)t[n]=""+n;return t}if(Object.keys)return Object.keys(e);var r=[];for(var i in e)o3(e,i)&&r.push(i);return r}function Li(e){switch(typeof e){case"object":return JSON.parse(JSON.stringify(e));case"undefined":return null;default:return e}}function a3(e){for(var t=0,n=e.length,r;t<n;){if(r=e.charCodeAt(t),r>=48&&r<=57){t++;continue}return!1}return!0}function cf(e){return e.indexOf("/")===-1&&e.indexOf("~")===-1?e:e.replace(/~/g,"~0").replace(/\//g,"~1")}function cQ(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function l3(e){if(e===void 0)return!0;if(e){if(Array.isArray(e)){for(var t=0,n=e.length;t<n;t++)if(l3(e[t]))return!0}else if(typeof e=="object"){for(var r=s3(e),i=r.length,o=0;o<i;o++)if(l3(e[r[o]]))return!0}}return!1}function H7(e,t){var n=[e];for(var r in t){var i=typeof t[r]=="object"?JSON.stringify(t[r],null,2):t[r];typeof i<"u"&&n.push(r+": "+i)}return n.join(`
`)}var fQ=function(e){WAe(t,e);function t(n,r,i,o,s){var a=this.constructor,l=e.call(this,H7(n,{name:r,index:i,operation:o,tree:s}))||this;return l.name=r,l.index=i,l.operation=o,l.tree=s,Object.setPrototypeOf(l,a.prototype),l.message=H7(n,{name:r,index:i,operation:o,tree:s}),l}return t}(Error),Qt=fQ,qAe=Li,Zh={add:function(e,t,n){return e[t]=this.value,{newDocument:n}},remove:function(e,t,n){var r=e[t];return delete e[t],{newDocument:n,removed:r}},replace:function(e,t,n){var r=e[t];return e[t]=this.value,{newDocument:n,removed:r}},move:function(e,t,n){var r=Ow(n,this.path);r&&(r=Li(r));var i=qf(n,{op:"remove",path:this.from}).removed;return qf(n,{op:"add",path:this.path,value:i}),{newDocument:n,removed:r}},copy:function(e,t,n){var r=Ow(n,this.from);return qf(n,{op:"add",path:this.path,value:Li(r)}),{newDocument:n}},test:function(e,t,n){return{newDocument:n,test:u1(e[t],this.value)}},_get:function(e,t,n){return this.value=e[t],{newDocument:n}}},GAe={add:function(e,t,n){return a3(t)?e.splice(t,0,this.value):e[t]=this.value,{newDocument:n,index:t}},remove:function(e,t,n){var r=e.splice(t,1);return{newDocument:n,removed:r[0]}},replace:function(e,t,n){var r=e[t];return e[t]=this.value,{newDocument:n,removed:r}},move:Zh.move,copy:Zh.copy,test:Zh.test,_get:Zh._get};function Ow(e,t){if(t=="")return e;var n={op:"_get",path:t};return qf(e,n),n.value}function qf(e,t,n,r,i,o){if(n===void 0&&(n=!1),r===void 0&&(r=!0),i===void 0&&(i=!0),o===void 0&&(o=0),n&&(typeof n=="function"?n(t,0,e,t.path):Nw(t,0)),t.path===""){var s={newDocument:e};if(t.op==="add")return s.newDocument=t.value,s;if(t.op==="replace")return s.newDocument=t.value,s.removed=e,s;if(t.op==="move"||t.op==="copy")return s.newDocument=Ow(e,t.from),t.op==="move"&&(s.removed=e),s;if(t.op==="test"){if(s.test=u1(e,t.value),s.test===!1)throw new Qt("Test operation failed","TEST_OPERATION_FAILED",o,t,e);return s.newDocument=e,s}else{if(t.op==="remove")return s.removed=e,s.newDocument=null,s;if(t.op==="_get")return t.value=e,s;if(n)throw new Qt("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",o,t,e);return s}}else{r||(e=Li(e));var a=t.path||"",l=a.split("/"),u=e,c=1,f=l.length,d=void 0,h=void 0,p=void 0;for(typeof n=="function"?p=n:p=Nw;;){if(h=l[c],h&&h.indexOf("~")!=-1&&(h=cQ(h)),i&&(h=="__proto__"||h=="prototype"&&c>0&&l[c-1]=="constructor"))throw new TypeError("JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(n&&d===void 0&&(u[h]===void 0?d=l.slice(0,c).join("/"):c==f-1&&(d=t.path),d!==void 0&&p(t,0,e,d)),c++,Array.isArray(u)){if(h==="-")h=u.length;else{if(n&&!a3(h))throw new Qt("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",o,t,e);a3(h)&&(h=~~h)}if(c>=f){if(n&&t.op==="add"&&h>u.length)throw new Qt("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",o,t,e);var s=GAe[t.op].call(t,u,h,e);if(s.test===!1)throw new Qt("Test operation failed","TEST_OPERATION_FAILED",o,t,e);return s}}else if(c>=f){var s=Zh[t.op].call(t,u,h,e);if(s.test===!1)throw new Qt("Test operation failed","TEST_OPERATION_FAILED",o,t,e);return s}if(u=u[h],n&&c<f&&(!u||typeof u!="object"))throw new Qt("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",o,t,e)}}}function bC(e,t,n,r,i){if(r===void 0&&(r=!0),i===void 0&&(i=!0),n&&!Array.isArray(t))throw new Qt("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");r||(e=Li(e));for(var o=new Array(t.length),s=0,a=t.length;s<a;s++)o[s]=qf(e,t[s],n,!0,i,s),e=o[s].newDocument;return o.newDocument=e,o}function YAe(e,t,n){var r=qf(e,t);if(r.test===!1)throw new Qt("Test operation failed","TEST_OPERATION_FAILED",n,t,e);return r.newDocument}function Nw(e,t,n,r){if(typeof e!="object"||e===null||Array.isArray(e))throw new Qt("Operation is not an object","OPERATION_NOT_AN_OBJECT",t,e,n);if(Zh[e.op]){if(typeof e.path!="string")throw new Qt("Operation `path` property is not a string","OPERATION_PATH_INVALID",t,e,n);if(e.path.indexOf("/")!==0&&e.path.length>0)throw new Qt('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",t,e,n);if((e.op==="move"||e.op==="copy")&&typeof e.from!="string")throw new Qt("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",t,e,n);if((e.op==="add"||e.op==="replace"||e.op==="test")&&e.value===void 0)throw new Qt("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",t,e,n);if((e.op==="add"||e.op==="replace"||e.op==="test")&&l3(e.value))throw new Qt("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",t,e,n);if(n){if(e.op=="add"){var i=e.path.split("/").length,o=r.split("/").length;if(i!==o+1&&i!==o)throw new Qt("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",t,e,n)}else if(e.op==="replace"||e.op==="remove"||e.op==="_get"){if(e.path!==r)throw new Qt("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",t,e,n)}else if(e.op==="move"||e.op==="copy"){var s={op:"_get",path:e.from,value:void 0},a=dQ([s],n);if(a&&a.name==="OPERATION_PATH_UNRESOLVABLE")throw new Qt("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",t,e,n)}}}else throw new Qt("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",t,e,n)}function dQ(e,t,n){try{if(!Array.isArray(e))throw new Qt("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(t)bC(Li(t),Li(e),n||!0);else{n=n||Nw;for(var r=0;r<e.length;r++)n(e[r],r,t,void 0)}}catch(i){if(i instanceof Qt)return i;throw i}}function u1(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){var n=Array.isArray(e),r=Array.isArray(t),i,o,s;if(n&&r){if(o=e.length,o!=t.length)return!1;for(i=o;i--!==0;)if(!u1(e[i],t[i]))return!1;return!0}if(n!=r)return!1;var a=Object.keys(e);if(o=a.length,o!==Object.keys(t).length)return!1;for(i=o;i--!==0;)if(!t.hasOwnProperty(a[i]))return!1;for(i=o;i--!==0;)if(s=a[i],!u1(e[s],t[s]))return!1;return!0}return e!==e&&t!==t}const XAe=Object.freeze(Object.defineProperty({__proto__:null,JsonPatchError:Qt,_areEquals:u1,applyOperation:qf,applyPatch:bC,applyReducer:YAe,deepClone:qAe,getValueByPointer:Ow,validate:dQ,validator:Nw},Symbol.toStringTag,{value:"Module"}));/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2021 Joachim Wester
 * MIT license
 */var ZP=new WeakMap,KAe=function(){function e(t){this.observers=new Map,this.obj=t}return e}(),QAe=function(){function e(t,n){this.callback=t,this.observer=n}return e}();function ZAe(e){return ZP.get(e)}function JAe(e,t){return e.observers.get(t)}function e5e(e,t){e.observers.delete(t.callback)}function t5e(e,t){t.unobserve()}function n5e(e,t){var n=[],r,i=ZAe(e);if(!i)i=new KAe(e),ZP.set(e,i);else{var o=JAe(i,t);r=o&&o.observer}if(r)return r;if(r={},i.value=Li(e),t){r.callback=t,r.next=null;var s=function(){u3(r)},a=function(){clearTimeout(r.next),r.next=setTimeout(s)};typeof window<"u"&&(window.addEventListener("mouseup",a),window.addEventListener("keyup",a),window.addEventListener("mousedown",a),window.addEventListener("keydown",a),window.addEventListener("change",a))}return r.patches=n,r.object=e,r.unobserve=function(){u3(r),clearTimeout(r.next),e5e(i,r),typeof window<"u"&&(window.removeEventListener("mouseup",a),window.removeEventListener("keyup",a),window.removeEventListener("mousedown",a),window.removeEventListener("keydown",a),window.removeEventListener("change",a))},i.observers.set(t,new QAe(t,r)),r}function u3(e,t){t===void 0&&(t=!1);var n=ZP.get(e.object);JP(n.value,e.object,e.patches,"",t),e.patches.length&&bC(n.value,e.patches);var r=e.patches;return r.length>0&&(e.patches=[],e.callback&&e.callback(r)),r}function JP(e,t,n,r,i){if(t!==e){typeof t.toJSON=="function"&&(t=t.toJSON());for(var o=s3(t),s=s3(e),a=!1,l=s.length-1;l>=0;l--){var u=s[l],c=e[u];if(o3(t,u)&&!(t[u]===void 0&&c!==void 0&&Array.isArray(t)===!1)){var f=t[u];typeof c=="object"&&c!=null&&typeof f=="object"&&f!=null&&Array.isArray(c)===Array.isArray(f)?JP(c,f,n,r+"/"+cf(u),i):c!==f&&(i&&n.push({op:"test",path:r+"/"+cf(u),value:Li(c)}),n.push({op:"replace",path:r+"/"+cf(u),value:Li(f)}))}else Array.isArray(e)===Array.isArray(t)?(i&&n.push({op:"test",path:r+"/"+cf(u),value:Li(c)}),n.push({op:"remove",path:r+"/"+cf(u)}),a=!0):(i&&n.push({op:"test",path:r,value:e}),n.push({op:"replace",path:r,value:t}))}if(!(!a&&o.length==s.length))for(var l=0;l<o.length;l++){var u=o[l];!o3(e,u)&&t[u]!==void 0&&n.push({op:"add",path:r+"/"+cf(u),value:Li(t[u])})}}}function r5e(e,t,n){n===void 0&&(n=!1);var r=[];return JP(e,t,r,"",n),r}const i5e=Object.freeze(Object.defineProperty({__proto__:null,compare:r5e,generate:u3,observe:n5e,unobserve:t5e},Symbol.toStringTag,{value:"Module"}));Object.assign({},XAe,i5e,{JsonPatchError:fQ,deepClone:Li,escapePathComponent:cf,unescapePathComponent:cQ});var o5e=/("(?:[^\\"]|\\.)*")|[:,]/g,s5e=function(t,n){var r,i,o;return n=n||{},r=JSON.stringify([1],void 0,n.indent===void 0?2:n.indent).slice(2,-3),i=r===""?1/0:n.maxLength===void 0?80:n.maxLength,o=n.replacer,function s(a,l,u){var c,f,d,h,p,g,m,y,v,b,x,w;if(a&&typeof a.toJSON=="function"&&(a=a.toJSON()),x=JSON.stringify(a,o),x===void 0)return x;if(m=i-l.length-u,x.length<=m&&(v=x.replace(o5e,function(k,S){return S||k+" "}),v.length<=m))return v;if(o!=null&&(a=JSON.parse(x),o=void 0),typeof a=="object"&&a!==null){if(y=l+r,d=[],f=0,Array.isArray(a))for(b="[",c="]",m=a.length;f<m;f++)d.push(s(a[f],y,f===m-1?0:1)||"null");else for(b="{",c="}",g=Object.keys(a),m=g.length;f<m;f++)h=g[f],p=JSON.stringify(h)+": ",w=s(a[h],y,p.length+(f===m-1?0:1)),w!==void 0&&d.push(p+w);if(d.length>0)return[b,r+d.join(`,
`+y),c].join(`
`+l)}return x}(t,"",0)};const Z$=zl(s5e);function Ei(e,t,n){return e.fields=t||[],e.fname=n,e}function nn(e){return e==null?null:e.fname}function kr(e){return e==null?null:e.fields}function hQ(e){return e.length===1?a5e(e[0]):l5e(e)}const a5e=e=>function(t){return t[e]},l5e=e=>{const t=e.length;return function(n){for(let r=0;r<t;++r)n=n[e[r]];return n}};function q(e){throw Error(e)}function Ta(e){const t=[],n=e.length;let r=null,i=0,o="",s,a,l;e=e+"";function u(){t.push(o+e.substring(s,a)),o="",s=a+1}for(s=a=0;a<n;++a)if(l=e[a],l==="\\")o+=e.substring(s,a++),s=a;else if(l===r)u(),r=null,i=-1;else{if(r)continue;s===i&&l==='"'||s===i&&l==="'"?(s=a+1,r=l):l==="."&&!i?a>s?u():s=a+1:l==="["?(a>s&&u(),i=s=a+1):l==="]"&&(i||q("Access path missing open bracket: "+e),i>0&&u(),i=0,s=a+1)}return i&&q("Access path missing closing bracket: "+e),r&&q("Access path missing closing quote: "+e),a>s&&(a++,u()),t}function Ro(e,t,n){const r=Ta(e);return e=r.length===1?r[0]:e,Ei((n&&n.get||hQ)(r),[e],t||e)}const uv=Ro("id"),Ar=Ei(e=>e,[],"identity"),wu=Ei(()=>0,[],"zero"),Xg=Ei(()=>1,[],"one"),Do=Ei(()=>!0,[],"true"),ou=Ei(()=>!1,[],"false");function u5e(e,t,n){const r=[t].concat([].slice.call(n));console[e].apply(console,r)}const pQ=0,xC=1,eR=2,gQ=3,mQ=4;function tR(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:u5e,r=e||pQ;return{level(i){return arguments.length?(r=+i,this):r},error(){return r>=xC&&n(t||"error","ERROR",arguments),this},warn(){return r>=eR&&n(t||"warn","WARN",arguments),this},info(){return r>=gQ&&n(t||"log","INFO",arguments),this},debug(){return r>=mQ&&n(t||"log","DEBUG",arguments),this}}}var G=Array.isArray;function se(e){return e===Object(e)}const q7=e=>e!=="__proto__";function Kg(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((r,i)=>{for(const o in i)if(o==="signals")r.signals=c5e(r.signals,i.signals);else{const s=o==="legend"?{layout:1}:o==="style"?!0:null;Qg(r,o,i[o],s)}return r},{})}function Qg(e,t,n,r){if(!q7(t))return;let i,o;if(se(n)&&!G(n)){o=se(e[t])?e[t]:e[t]={};for(i in n)r&&(r===!0||r[i])?Qg(o,i,n[i]):q7(i)&&(o[i]=n[i])}else e[t]=n}function c5e(e,t){if(e==null)return t;const n={},r=[];function i(o){n[o.name]||(n[o.name]=1,r.push(o))}return t.forEach(i),e.forEach(i),r}function qe(e){return e[e.length-1]}function wr(e){return e==null||e===""?null:+e}const yQ=e=>t=>e*Math.exp(t),vQ=e=>t=>Math.log(e*t),bQ=e=>t=>Math.sign(t)*Math.log1p(Math.abs(t/e)),xQ=e=>t=>Math.sign(t)*Math.expm1(Math.abs(t))*e,Iw=e=>t=>t<0?-Math.pow(-t,e):Math.pow(t,e);function wC(e,t,n,r){const i=n(e[0]),o=n(qe(e)),s=(o-i)*t;return[r(i-s),r(o-s)]}function wQ(e,t){return wC(e,t,wr,Ar)}function SQ(e,t){var n=Math.sign(e[0]);return wC(e,t,vQ(n),yQ(n))}function kQ(e,t,n){return wC(e,t,Iw(n),Iw(1/n))}function CQ(e,t,n){return wC(e,t,bQ(n),xQ(n))}function SC(e,t,n,r,i){const o=r(e[0]),s=r(qe(e)),a=t!=null?r(t):(o+s)/2;return[i(a+(o-a)*n),i(a+(s-a)*n)]}function nR(e,t,n){return SC(e,t,n,wr,Ar)}function rR(e,t,n){const r=Math.sign(e[0]);return SC(e,t,n,vQ(r),yQ(r))}function Lw(e,t,n,r){return SC(e,t,n,Iw(r),Iw(1/r))}function iR(e,t,n,r){return SC(e,t,n,bQ(r),xQ(r))}function _Q(e){return 1+~~(new Date(e).getMonth()/3)}function EQ(e){return 1+~~(new Date(e).getUTCMonth()/3)}function ae(e){return e!=null?G(e)?e:[e]:[]}function $Q(e,t,n){let r=e[0],i=e[1],o;return i<r&&(o=i,i=r,r=o),o=i-r,o>=n-t?[t,n]:[r=Math.min(Math.max(r,t),n-o),r+o]}function Ne(e){return typeof e=="function"}const f5e="descending";function oR(e,t,n){n=n||{},t=ae(t)||[];const r=[],i=[],o={},s=n.comparator||d5e;return ae(e).forEach((a,l)=>{a!=null&&(r.push(t[l]===f5e?-1:1),i.push(a=Ne(a)?a:Ro(a,null,n)),(kr(a)||[]).forEach(u=>o[u]=1))}),i.length===0?null:Ei(s(i,r),Object.keys(o))}const kC=(e,t)=>(e<t||e==null)&&t!=null?-1:(e>t||t==null)&&e!=null?1:(t=t instanceof Date?+t:t,(e=e instanceof Date?+e:e)!==e&&t===t?-1:t!==t&&e===e?1:0),d5e=(e,t)=>e.length===1?h5e(e[0],t[0]):p5e(e,t,e.length),h5e=(e,t)=>function(n,r){return kC(e(n),e(r))*t},p5e=(e,t,n)=>(t.push(0),function(r,i){let o,s=0,a=-1;for(;s===0&&++a<n;)o=e[a],s=kC(o(r),o(i));return s*t[a]});function Tr(e){return Ne(e)?e:()=>e}function sR(e,t){let n;return r=>{n&&clearTimeout(n),n=setTimeout(()=>(t(r),n=null),e)}}function Oe(e){for(let t,n,r=1,i=arguments.length;r<i;++r){t=arguments[r];for(n in t)e[n]=t[n]}return e}function Sa(e,t){let n=0,r,i,o,s;if(e&&(r=e.length))if(t==null){for(i=e[n];n<r&&(i==null||i!==i);i=e[++n]);for(o=s=i;n<r;++n)i=e[n],i!=null&&(i<o&&(o=i),i>s&&(s=i))}else{for(i=t(e[n]);n<r&&(i==null||i!==i);i=t(e[++n]));for(o=s=i;n<r;++n)i=t(e[n]),i!=null&&(i<o&&(o=i),i>s&&(s=i))}return[o,s]}function AQ(e,t){const n=e.length;let r=-1,i,o,s,a,l;if(t==null){for(;++r<n;)if(o=e[r],o!=null&&o>=o){i=s=o;break}if(r===n)return[-1,-1];for(a=l=r;++r<n;)o=e[r],o!=null&&(i>o&&(i=o,a=r),s<o&&(s=o,l=r))}else{for(;++r<n;)if(o=t(e[r],r,e),o!=null&&o>=o){i=s=o;break}if(r===n)return[-1,-1];for(a=l=r;++r<n;)o=t(e[r],r,e),o!=null&&(i>o&&(i=o,a=r),s<o&&(s=o,l=r))}return[a,l]}const g5e=Object.prototype.hasOwnProperty;function ce(e,t){return g5e.call(e,t)}const Yb={};function Zg(e){let t={},n;function r(o){return ce(t,o)&&t[o]!==Yb}const i={size:0,empty:0,object:t,has:r,get(o){return r(o)?t[o]:void 0},set(o,s){return r(o)||(++i.size,t[o]===Yb&&--i.empty),t[o]=s,this},delete(o){return r(o)&&(--i.size,++i.empty,t[o]=Yb),this},clear(){i.size=i.empty=0,i.object=t={}},test(o){return arguments.length?(n=o,i):n},clean(){const o={};let s=0;for(const a in t){const l=t[a];l!==Yb&&(!n||!n(l))&&(o[a]=l,++s)}i.size=s,i.empty=0,i.object=t=o}};return e&&Object.keys(e).forEach(o=>{i.set(o,e[o])}),i}function TQ(e,t,n,r,i,o){if(!n&&n!==0)return o;const s=+n;let a=e[0],l=qe(e),u;l<a&&(u=a,a=l,l=u),u=Math.abs(t-a);const c=Math.abs(l-t);return u<c&&u<=s?r:c<=s?i:o}function ne(e,t,n){const r=e.prototype=Object.create(t.prototype);return Object.defineProperty(r,"constructor",{value:e,writable:!0,enumerable:!0,configurable:!0}),Oe(r,n)}function Jh(e,t,n,r){let i=t[0],o=t[t.length-1],s;return i>o&&(s=i,i=o,o=s),n=n===void 0||n,r=r===void 0||r,(n?i<=e:i<e)&&(r?e<=o:e<o)}function $c(e){return typeof e=="boolean"}function Qu(e){return Object.prototype.toString.call(e)==="[object Date]"}function MQ(e){return e&&Ne(e[Symbol.iterator])}function Ze(e){return typeof e=="number"}function FQ(e){return Object.prototype.toString.call(e)==="[object RegExp]"}function le(e){return typeof e=="string"}function aR(e,t,n){e&&(e=t?ae(e).map(a=>a.replace(/\\(.)/g,"$1")):ae(e));const r=e&&e.length,i=n&&n.get||hQ,o=a=>i(t?[a]:Ta(a));let s;if(!r)s=function(){return""};else if(r===1){const a=o(e[0]);s=function(l){return""+a(l)}}else{const a=e.map(o);s=function(l){let u=""+a[0](l),c=0;for(;++c<r;)u+="|"+a[c](l);return u}}return Ei(s,e,"key")}function PQ(e,t){const n=e[0],r=qe(e),i=+t;return i?i===1?r:n+i*(r-n):n}const m5e=1e4;function RQ(e){e=+e||m5e;let t,n,r;const i=()=>{t={},n={},r=0},o=(s,a)=>(++r>e&&(n=t,t={},r=1),t[s]=a);return i(),{clear:i,has:s=>ce(t,s)||ce(n,s),get:s=>ce(t,s)?t[s]:ce(n,s)?o(s,n[s]):void 0,set:(s,a)=>ce(t,s)?t[s]=a:o(s,a)}}function DQ(e,t,n,r){const i=t.length,o=n.length;if(!o)return t;if(!i)return n;const s=r||new t.constructor(i+o);let a=0,l=0,u=0;for(;a<i&&l<o;++u)s[u]=e(t[a],n[l])>0?n[l++]:t[a++];for(;a<i;++a,++u)s[u]=t[a];for(;l<o;++l,++u)s[u]=n[l];return s}function _0(e,t){let n="";for(;--t>=0;)n+=e;return n}function OQ(e,t,n,r){const i=n||" ",o=e+"",s=t-o.length;return s<=0?o:r==="left"?_0(i,s)+o:r==="center"?_0(i,~~(s/2))+o+_0(i,Math.ceil(s/2)):o+_0(i,s)}function cv(e){return e&&qe(e)-e[0]||0}function te(e){return G(e)?"["+e.map(te)+"]":se(e)||le(e)?JSON.stringify(e).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):e}function lR(e){return e==null||e===""?null:!e||e==="false"||e==="0"?!1:!!e}const y5e=e=>Ze(e)||Qu(e)?e:Date.parse(e);function uR(e,t){return t=t||y5e,e==null||e===""?null:t(e)}function cR(e){return e==null||e===""?null:e+""}function ws(e){const t={},n=e.length;for(let r=0;r<n;++r)t[e[r]]=!0;return t}function NQ(e,t,n,r){const i=r??"…",o=e+"",s=o.length,a=Math.max(0,t-i.length);return s<=t?o:n==="left"?i+o.slice(s-a):n==="center"?o.slice(0,Math.ceil(a/2))+i+o.slice(s-~~(a/2)):o.slice(0,a)+i}function du(e,t,n){if(e)if(t){const r=e.length;for(let i=0;i<r;++i){const o=t(e[i]);o&&n(o,i,e)}}else e.forEach(n)}function v5e(e){return e}function b5e(e){if(e==null)return v5e;var t,n,r=e.scale[0],i=e.scale[1],o=e.translate[0],s=e.translate[1];return function(a,l){l||(t=n=0);var u=2,c=a.length,f=new Array(c);for(f[0]=(t+=a[0])*r+o,f[1]=(n+=a[1])*i+s;u<c;)f[u]=a[u],++u;return f}}function x5e(e,t){for(var n,r=e.length,i=r-t;i<--r;)n=e[i],e[i++]=e[r],e[r]=n}function w5e(e,t){return typeof t=="string"&&(t=e.objects[t]),t.type==="GeometryCollection"?{type:"FeatureCollection",features:t.geometries.map(function(n){return G7(e,n)})}:G7(e,t)}function G7(e,t){var n=t.id,r=t.bbox,i=t.properties==null?{}:t.properties,o=IQ(e,t);return n==null&&r==null?{type:"Feature",properties:i,geometry:o}:r==null?{type:"Feature",id:n,properties:i,geometry:o}:{type:"Feature",id:n,bbox:r,properties:i,geometry:o}}function IQ(e,t){var n=b5e(e.transform),r=e.arcs;function i(c,f){f.length&&f.pop();for(var d=r[c<0?~c:c],h=0,p=d.length;h<p;++h)f.push(n(d[h],h));c<0&&x5e(f,p)}function o(c){return n(c)}function s(c){for(var f=[],d=0,h=c.length;d<h;++d)i(c[d],f);return f.length<2&&f.push(f[0]),f}function a(c){for(var f=s(c);f.length<4;)f.push(f[0]);return f}function l(c){return c.map(a)}function u(c){var f=c.type,d;switch(f){case"GeometryCollection":return{type:f,geometries:c.geometries.map(u)};case"Point":d=o(c.coordinates);break;case"MultiPoint":d=c.coordinates.map(o);break;case"LineString":d=s(c.arcs);break;case"MultiLineString":d=c.arcs.map(s);break;case"Polygon":d=l(c.arcs);break;case"MultiPolygon":d=c.arcs.map(l);break;default:return null}return{type:f,coordinates:d}}return u(t)}function S5e(e,t){var n={},r={},i={},o=[],s=-1;t.forEach(function(u,c){var f=e.arcs[u<0?~u:u],d;f.length<3&&!f[1][0]&&!f[1][1]&&(d=t[++s],t[s]=u,t[c]=d)}),t.forEach(function(u){var c=a(u),f=c[0],d=c[1],h,p;if(h=i[f])if(delete i[h.end],h.push(u),h.end=d,p=r[d]){delete r[p.start];var g=p===h?h:h.concat(p);r[g.start=h.start]=i[g.end=p.end]=g}else r[h.start]=i[h.end]=h;else if(h=r[d])if(delete r[h.start],h.unshift(u),h.start=f,p=i[f]){delete i[p.end];var m=p===h?h:p.concat(h);r[m.start=p.start]=i[m.end=h.end]=m}else r[h.start]=i[h.end]=h;else h=[u],r[h.start=f]=i[h.end=d]=h});function a(u){var c=e.arcs[u<0?~u:u],f=c[0],d;return e.transform?(d=[0,0],c.forEach(function(h){d[0]+=h[0],d[1]+=h[1]})):d=c[c.length-1],u<0?[d,f]:[f,d]}function l(u,c){for(var f in u){var d=u[f];delete c[d.start],delete d.start,delete d.end,d.forEach(function(h){n[h<0?~h:h]=1}),o.push(d)}}return l(i,r),l(r,i),t.forEach(function(u){n[u<0?~u:u]||o.push([u])}),o}function k5e(e){return IQ(e,C5e.apply(this,arguments))}function C5e(e,t,n){var r,i,o;if(arguments.length>1)r=_5e(e,t,n);else for(i=0,r=new Array(o=e.arcs.length);i<o;++i)r[i]=i;return{type:"MultiLineString",arcs:S5e(e,r)}}function _5e(e,t,n){var r=[],i=[],o;function s(f){var d=f<0?~f:f;(i[d]||(i[d]=[])).push({i:f,g:o})}function a(f){f.forEach(s)}function l(f){f.forEach(a)}function u(f){f.forEach(l)}function c(f){switch(o=f,f.type){case"GeometryCollection":f.geometries.forEach(c);break;case"LineString":a(f.arcs);break;case"MultiLineString":case"Polygon":l(f.arcs);break;case"MultiPolygon":u(f.arcs);break}}return c(t),i.forEach(n==null?function(f){r.push(f[0].i)}:function(f){n(f[0].g,f[f.length-1].g)&&r.push(f[0].i)}),r}function vl(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function E5e(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Jg(e){let t,n,r;e.length!==2?(t=vl,n=(a,l)=>vl(e(a),l),r=(a,l)=>e(a)-l):(t=e===vl||e===E5e?e:$5e,n=e,r=e);function i(a,l,u=0,c=a.length){if(u<c){if(t(l,l)!==0)return c;do{const f=u+c>>>1;n(a[f],l)<0?u=f+1:c=f}while(u<c)}return u}function o(a,l,u=0,c=a.length){if(u<c){if(t(l,l)!==0)return c;do{const f=u+c>>>1;n(a[f],l)<=0?u=f+1:c=f}while(u<c)}return u}function s(a,l,u=0,c=a.length){const f=i(a,l,u,c-1);return f>u&&r(a[f-1],l)>-r(a[f],l)?f-1:f}return{left:i,center:s,right:o}}function $5e(){return 0}function LQ(e){return e===null?NaN:+e}function*A5e(e,t){if(t===void 0)for(let n of e)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)(r=t(r,++n,e))!=null&&(r=+r)>=r&&(yield r)}}const zQ=Jg(vl),ac=zQ.right,T5e=zQ.left;Jg(LQ).center;function M5e(e,t){let n=0,r,i=0,o=0;if(t===void 0)for(let s of e)s!=null&&(s=+s)>=s&&(r=s-i,i+=r/++n,o+=r*(s-i));else{let s=-1;for(let a of e)(a=t(a,++s,e))!=null&&(a=+a)>=a&&(r=a-i,i+=r/++n,o+=r*(a-i))}if(n>1)return o/(n-1)}function F5e(e,t){const n=M5e(e,t);return n&&Math.sqrt(n)}class Yr{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const n=this._partials;let r=0;for(let i=0;i<this._n&&i<32;i++){const o=n[i],s=t+o,a=Math.abs(t)<Math.abs(o)?t-(s-o):o-(s-t);a&&(n[r++]=a),t=s}return n[r]=t,this._n=r+1,this}valueOf(){const t=this._partials;let n=this._n,r,i,o,s=0;if(n>0){for(s=t[--n];n>0&&(r=s,i=t[--n],s=r+i,o=i-(s-r),!o););n>0&&(o<0&&t[n-1]<0||o>0&&t[n-1]>0)&&(i=o*2,r=s+i,i==r-s&&(s=r))}return s}}class Y7 extends Map{constructor(t,n=UQ){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(c3(this,t))}has(t){return super.has(c3(this,t))}set(t,n){return super.set(jQ(this,t),n)}delete(t){return super.delete(BQ(this,t))}}class zw extends Set{constructor(t,n=UQ){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const r of t)this.add(r)}has(t){return super.has(c3(this,t))}add(t){return super.add(jQ(this,t))}delete(t){return super.delete(BQ(this,t))}}function c3({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function jQ({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function BQ({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function UQ(e){return e!==null&&typeof e=="object"?e.valueOf():e}function P5e(e,t){return Array.from(t,n=>e[n])}function R5e(e=vl){if(e===vl)return VQ;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function VQ(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const D5e=Math.sqrt(50),O5e=Math.sqrt(10),N5e=Math.sqrt(2);function jw(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),s=o>=D5e?10:o>=O5e?5:o>=N5e?2:1;let a,l,u;return i<0?(u=Math.pow(10,-i)/s,a=Math.round(e*u),l=Math.round(t*u),a/u<e&&++a,l/u>t&&--l,u=-u):(u=Math.pow(10,i)*s,a=Math.round(e/u),l=Math.round(t/u),a*u<e&&++a,l*u>t&&--l),l<a&&.5<=n&&n<2?jw(e,t,n*2):[a,l,u]}function f3(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,o,s]=r?jw(t,e,n):jw(e,t,n);if(!(o>=i))return[];const a=o-i+1,l=new Array(a);if(r)if(s<0)for(let u=0;u<a;++u)l[u]=(o-u)/-s;else for(let u=0;u<a;++u)l[u]=(o-u)*s;else if(s<0)for(let u=0;u<a;++u)l[u]=(i+u)/-s;else for(let u=0;u<a;++u)l[u]=(i+u)*s;return l}function d3(e,t,n){return t=+t,e=+e,n=+n,jw(e,t,n)[2]}function lc(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?d3(t,e,n):d3(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function Gf(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function h3(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function WQ(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?VQ:R5e(i);r>n;){if(r-n>600){const l=r-n+1,u=t-n+1,c=Math.log(l),f=.5*Math.exp(2*c/3),d=.5*Math.sqrt(c*f*(l-f)/l)*(u-l/2<0?-1:1),h=Math.max(n,Math.floor(t-u*f/l+d)),p=Math.min(r,Math.floor(t+(l-u)*f/l+d));WQ(e,t,h,p,i)}const o=e[t];let s=n,a=r;for(jm(e,n,t),i(e[r],o)>0&&jm(e,n,r);s<a;){for(jm(e,s,a),++s,--a;i(e[s],o)<0;)++s;for(;i(e[a],o)>0;)--a}i(e[n],o)===0?jm(e,n,a):(++a,jm(e,a,r)),a<=t&&(n=a+1),t<=a&&(r=a-1)}return e}function jm(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function p3(e,t,n){if(e=Float64Array.from(A5e(e,n)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return h3(e);if(t>=1)return Gf(e);var r,i=(r-1)*t,o=Math.floor(i),s=Gf(WQ(e,o).subarray(0,o+1)),a=h3(e.subarray(o+1));return s+(a-s)*(i-o)}}function HQ(e,t,n=LQ){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,o=Math.floor(i),s=+n(e[o],o,e),a=+n(e[o+1],o+1,e);return s+(a-s)*(i-o)}}function I5e(e,t){let n=0,r=0;if(t===void 0)for(let i of e)i!=null&&(i=+i)>=i&&(++n,r+=i);else{let i=-1;for(let o of e)(o=t(o,++i,e))!=null&&(o=+o)>=o&&(++n,r+=o)}if(n)return r/n}function qQ(e,t){return p3(e,.5,t)}function*L5e(e){for(const t of e)yield*t}function GQ(e){return Array.from(L5e(e))}function zi(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,o=new Array(i);++r<i;)o[r]=e+r*n;return o}function YQ(e,t){let n=0;for(let r of e)(r=+r)&&(n+=r);return n}function z5e(e,...t){e=new zw(e),t=t.map(j5e);e:for(const n of e)for(const r of t)if(!r.has(n)){e.delete(n);continue e}return e}function j5e(e){return e instanceof zw?e:new zw(e)}function B5e(...e){const t=new zw;for(const n of e)for(const r of n)t.add(r);return t}function U5e(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Bw(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function tg(e){return e=Bw(Math.abs(e)),e?e[1]:NaN}function V5e(e,t){return function(n,r){for(var i=n.length,o=[],s=0,a=e[0],l=0;i>0&&a>0&&(l+a+1>r&&(a=Math.max(1,r-l)),o.push(n.substring(i-=a,i+a)),!((l+=a+1)>r));)a=e[s=(s+1)%e.length];return o.reverse().join(t)}}function W5e(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var H5e=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ud(e){if(!(t=H5e.exec(e)))throw new Error("invalid format: "+e);var t;return new fR({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}ud.prototype=fR.prototype;function fR(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}fR.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function q5e(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var XQ;function G5e(e,t){var n=Bw(e,t);if(!n)return e+"";var r=n[0],i=n[1],o=i-(XQ=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return o===s?r:o>s?r+new Array(o-s+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Bw(e,Math.max(0,t+o-1))[0]}function X7(e,t){var n=Bw(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const K7={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:U5e,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>X7(e*100,t),r:X7,s:G5e,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Q7(e){return e}var Z7=Array.prototype.map,J7=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function KQ(e){var t=e.grouping===void 0||e.thousands===void 0?Q7:V5e(Z7.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?Q7:W5e(Z7.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",a=e.minus===void 0?"−":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function u(f){f=ud(f);var d=f.fill,h=f.align,p=f.sign,g=f.symbol,m=f.zero,y=f.width,v=f.comma,b=f.precision,x=f.trim,w=f.type;w==="n"?(v=!0,w="g"):K7[w]||(b===void 0&&(b=12),x=!0,w="g"),(m||d==="0"&&h==="=")&&(m=!0,d="0",h="=");var k=g==="$"?n:g==="#"&&/[boxX]/.test(w)?"0"+w.toLowerCase():"",S=g==="$"?r:/[%p]/.test(w)?s:"",C=K7[w],_=/[defgprs%]/.test(w);b=b===void 0?6:/[gprs]/.test(w)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function $(A){var O=k,M=S,P,R,D;if(w==="c")M=C(A)+M,A="";else{A=+A;var I=A<0||1/A<0;if(A=isNaN(A)?l:C(Math.abs(A),b),x&&(A=q5e(A)),I&&+A==0&&p!=="+"&&(I=!1),O=(I?p==="("?p:a:p==="-"||p==="("?"":p)+O,M=(w==="s"?J7[8+XQ/3]:"")+M+(I&&p==="("?")":""),_){for(P=-1,R=A.length;++P<R;)if(D=A.charCodeAt(P),48>D||D>57){M=(D===46?i+A.slice(P+1):A.slice(P))+M,A=A.slice(0,P);break}}}v&&!m&&(A=t(A,1/0));var N=O.length+A.length+M.length,B=N<y?new Array(y-N+1).join(d):"";switch(v&&m&&(A=t(B+A,B.length?y-M.length:1/0),B=""),h){case"<":A=O+A+M+B;break;case"=":A=O+B+A+M;break;case"^":A=B.slice(0,N=B.length>>1)+O+A+M+B.slice(N);break;default:A=B+O+A+M;break}return o(A)}return $.toString=function(){return f+""},$}function c(f,d){var h=u((f=ud(f),f.type="f",f)),p=Math.max(-8,Math.min(8,Math.floor(tg(d)/3)))*3,g=Math.pow(10,-p),m=J7[8+p/3];return function(y){return h(g*y)+m}}return{format:u,formatPrefix:c}}var Xb,fv,dR;Y5e({thousands:",",grouping:[3],currency:["$",""]});function Y5e(e){return Xb=KQ(e),fv=Xb.format,dR=Xb.formatPrefix,Xb}function QQ(e){return Math.max(0,-tg(Math.abs(e)))}function ZQ(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(tg(t)/3)))*3-tg(Math.abs(e)))}function JQ(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,tg(t)-tg(e))+1}const J$=new Date,eA=new Date;function _n(e,t,n,r){function i(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(e(o=new Date(+o)),o),i.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),i.round=o=>{const s=i(o),a=i.ceil(o);return o-s<a-o?s:a},i.offset=(o,s)=>(t(o=new Date(+o),s==null?1:Math.floor(s)),o),i.range=(o,s,a)=>{const l=[];if(o=i.ceil(o),a=a==null?1:Math.floor(a),!(o<s)||!(a>0))return l;let u;do l.push(u=new Date(+o)),t(o,a),e(o);while(u<o&&o<s);return l},i.filter=o=>_n(s=>{if(s>=s)for(;e(s),!o(s);)s.setTime(s-1)},(s,a)=>{if(s>=s)if(a<0)for(;++a<=0;)for(;t(s,-1),!o(s););else for(;--a>=0;)for(;t(s,1),!o(s););}),n&&(i.count=(o,s)=>(J$.setTime(+o),eA.setTime(+s),e(J$),e(eA),Math.floor(n(J$,eA))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?s=>r(s)%o===0:s=>i.count(0,s)%o===0):i)),i}const ng=_n(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);ng.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?_n(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):ng);ng.range;const ul=1e3,Co=ul*60,cl=Co*60,Rl=cl*24,hR=Rl*7,ez=Rl*30,tA=Rl*365,fs=_n(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*ul)},(e,t)=>(t-e)/ul,e=>e.getUTCSeconds());fs.range;const dv=_n(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ul)},(e,t)=>{e.setTime(+e+t*Co)},(e,t)=>(t-e)/Co,e=>e.getMinutes());dv.range;const hv=_n(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Co)},(e,t)=>(t-e)/Co,e=>e.getUTCMinutes());hv.range;const pv=_n(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ul-e.getMinutes()*Co)},(e,t)=>{e.setTime(+e+t*cl)},(e,t)=>(t-e)/cl,e=>e.getHours());pv.range;const gv=_n(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*cl)},(e,t)=>(t-e)/cl,e=>e.getUTCHours());gv.range;const ma=_n(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Co)/Rl,e=>e.getDate()-1);ma.range;const bl=_n(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Rl,e=>e.getUTCDate()-1);bl.range;const eZ=_n(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Rl,e=>Math.floor(e/Rl));eZ.range;function Ld(e){return _n(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Co)/hR)}const zd=Ld(0),Uw=Ld(1),X5e=Ld(2),K5e=Ld(3),rg=Ld(4),Q5e=Ld(5),Z5e=Ld(6);zd.range;Uw.range;X5e.range;K5e.range;rg.range;Q5e.range;Z5e.range;function jd(e){return _n(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/hR)}const Bd=jd(0),Vw=jd(1),J5e=jd(2),eTe=jd(3),ig=jd(4),tTe=jd(5),nTe=jd(6);Bd.range;Vw.range;J5e.range;eTe.range;ig.range;tTe.range;nTe.range;const og=_n(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());og.range;const sg=_n(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());sg.range;const Ss=_n(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Ss.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:_n(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Ss.range;const ks=_n(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());ks.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:_n(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});ks.range;function tZ(e,t,n,r,i,o){const s=[[fs,1,ul],[fs,5,5*ul],[fs,15,15*ul],[fs,30,30*ul],[o,1,Co],[o,5,5*Co],[o,15,15*Co],[o,30,30*Co],[i,1,cl],[i,3,3*cl],[i,6,6*cl],[i,12,12*cl],[r,1,Rl],[r,2,2*Rl],[n,1,hR],[t,1,ez],[t,3,3*ez],[e,1,tA]];function a(u,c,f){const d=c<u;d&&([u,c]=[c,u]);const h=f&&typeof f.range=="function"?f:l(u,c,f),p=h?h.range(u,+c+1):[];return d?p.reverse():p}function l(u,c,f){const d=Math.abs(c-u)/f,h=Jg(([,,m])=>m).right(s,d);if(h===s.length)return e.every(lc(u/tA,c/tA,f));if(h===0)return ng.every(Math.max(lc(u,c,f),1));const[p,g]=s[d/s[h-1][2]<s[h][2]/d?h-1:h];return p.every(g)}return[a,l]}const[rTe,iTe]=tZ(ks,sg,Bd,eZ,gv,hv),[oTe,sTe]=tZ(Ss,og,zd,ma,pv,dv),er="year",xi="quarter",Cr="month",wn="week",wi="date",xr="day",ka="dayofyear",Ki="hours",Qi="minutes",Oo="seconds",Cs="milliseconds",pR=[er,xi,Cr,wn,wi,xr,ka,Ki,Qi,Oo,Cs],nA=pR.reduce((e,t,n)=>(e[t]=1+n,e),{});function gR(e){const t=ae(e).slice(),n={};return t.length||q("Missing time unit."),t.forEach(i=>{ce(nA,i)?n[i]=1:q(`Invalid time unit: ${i}.`)}),(n[wn]||n[xr]?1:0)+(n[xi]||n[Cr]||n[wi]?1:0)+(n[ka]?1:0)>1&&q(`Incompatible time units: ${e}`),t.sort((i,o)=>nA[i]-nA[o]),t}const aTe={[er]:"%Y ",[xi]:"Q%q ",[Cr]:"%b ",[wi]:"%d ",[wn]:"W%U ",[xr]:"%a ",[ka]:"%j ",[Ki]:"%H:00",[Qi]:"00:%M",[Oo]:":%S",[Cs]:".%L",[`${er}-${Cr}`]:"%Y-%m ",[`${er}-${Cr}-${wi}`]:"%Y-%m-%d ",[`${Ki}-${Qi}`]:"%H:%M"};function nZ(e,t){const n=Oe({},aTe,t),r=gR(e),i=r.length;let o="",s=0,a,l;for(s=0;s<i;)for(a=r.length;a>s;--a)if(l=r.slice(s,a).join("-"),n[l]!=null){o+=n[l],s=a;break}return o.trim()}const mf=new Date;function mR(e){return mf.setFullYear(e),mf.setMonth(0),mf.setDate(1),mf.setHours(0,0,0,0),mf}function rZ(e){return oZ(new Date(e))}function iZ(e){return g3(new Date(e))}function oZ(e){return ma.count(mR(e.getFullYear())-1,e)}function g3(e){return zd.count(mR(e.getFullYear())-1,e)}function m3(e){return mR(e).getDay()}function lTe(e,t,n,r,i,o,s){if(0<=e&&e<100){const a=new Date(-1,t,n,r,i,o,s);return a.setFullYear(e),a}return new Date(e,t,n,r,i,o,s)}function sZ(e){return lZ(new Date(e))}function aZ(e){return y3(new Date(e))}function lZ(e){const t=Date.UTC(e.getUTCFullYear(),0,1);return bl.count(t-1,e)}function y3(e){const t=Date.UTC(e.getUTCFullYear(),0,1);return Bd.count(t-1,e)}function v3(e){return mf.setTime(Date.UTC(e,0,1)),mf.getUTCDay()}function uTe(e,t,n,r,i,o,s){if(0<=e&&e<100){const a=new Date(Date.UTC(-1,t,n,r,i,o,s));return a.setUTCFullYear(n.y),a}return new Date(Date.UTC(e,t,n,r,i,o,s))}function uZ(e,t,n,r,i){const o=t||1,s=qe(e),a=(y,v,b)=>(b=b||y,cTe(n[b],r[b],y===s&&o,v)),l=new Date,u=ws(e),c=u[er]?a(er):Tr(2012),f=u[Cr]?a(Cr):u[xi]?a(xi):wu,d=u[wn]&&u[xr]?a(xr,1,wn+xr):u[wn]?a(wn,1):u[xr]?a(xr,1):u[wi]?a(wi,1):u[ka]?a(ka,1):Xg,h=u[Ki]?a(Ki):wu,p=u[Qi]?a(Qi):wu,g=u[Oo]?a(Oo):wu,m=u[Cs]?a(Cs):wu;return function(y){l.setTime(+y);const v=c(l);return i(v,f(l),d(l,v),h(l),p(l),g(l),m(l))}}function cTe(e,t,n,r){const i=n<=1?e:r?(o,s)=>r+n*Math.floor((e(o,s)-r)/n):(o,s)=>n*Math.floor(e(o,s)/n);return t?(o,s)=>t(i(o,s),s):i}function ag(e,t,n){return t+e*7-(n+6)%7}const fTe={[er]:e=>e.getFullYear(),[xi]:e=>Math.floor(e.getMonth()/3),[Cr]:e=>e.getMonth(),[wi]:e=>e.getDate(),[Ki]:e=>e.getHours(),[Qi]:e=>e.getMinutes(),[Oo]:e=>e.getSeconds(),[Cs]:e=>e.getMilliseconds(),[ka]:e=>oZ(e),[wn]:e=>g3(e),[wn+xr]:(e,t)=>ag(g3(e),e.getDay(),m3(t)),[xr]:(e,t)=>ag(1,e.getDay(),m3(t))},dTe={[xi]:e=>3*e,[wn]:(e,t)=>ag(e,0,m3(t))};function cZ(e,t){return uZ(e,t||1,fTe,dTe,lTe)}const hTe={[er]:e=>e.getUTCFullYear(),[xi]:e=>Math.floor(e.getUTCMonth()/3),[Cr]:e=>e.getUTCMonth(),[wi]:e=>e.getUTCDate(),[Ki]:e=>e.getUTCHours(),[Qi]:e=>e.getUTCMinutes(),[Oo]:e=>e.getUTCSeconds(),[Cs]:e=>e.getUTCMilliseconds(),[ka]:e=>lZ(e),[wn]:e=>y3(e),[xr]:(e,t)=>ag(1,e.getUTCDay(),v3(t)),[wn+xr]:(e,t)=>ag(y3(e),e.getUTCDay(),v3(t))},pTe={[xi]:e=>3*e,[wn]:(e,t)=>ag(e,0,v3(t))};function fZ(e,t){return uZ(e,t||1,hTe,pTe,uTe)}const gTe={[er]:Ss,[xi]:og.every(3),[Cr]:og,[wn]:zd,[wi]:ma,[xr]:ma,[ka]:ma,[Ki]:pv,[Qi]:dv,[Oo]:fs,[Cs]:ng},mTe={[er]:ks,[xi]:sg.every(3),[Cr]:sg,[wn]:Bd,[wi]:bl,[xr]:bl,[ka]:bl,[Ki]:gv,[Qi]:hv,[Oo]:fs,[Cs]:ng};function em(e){return gTe[e]}function tm(e){return mTe[e]}function dZ(e,t,n){return e?e.offset(t,n):void 0}function hZ(e,t,n){return dZ(em(e),t,n)}function pZ(e,t,n){return dZ(tm(e),t,n)}function gZ(e,t,n,r){return e?e.range(t,n,r):void 0}function mZ(e,t,n,r){return gZ(em(e),t,n,r)}function yZ(e,t,n,r){return gZ(tm(e),t,n,r)}const E0=1e3,$0=E0*60,A0=$0*60,CC=A0*24,yTe=CC*7,tz=CC*30,b3=CC*365,vZ=[er,Cr,wi,Ki,Qi,Oo,Cs],T0=vZ.slice(0,-1),M0=T0.slice(0,-1),F0=M0.slice(0,-1),vTe=F0.slice(0,-1),bTe=[er,wn],nz=[er,Cr],bZ=[er],Bm=[[T0,1,E0],[T0,5,5*E0],[T0,15,15*E0],[T0,30,30*E0],[M0,1,$0],[M0,5,5*$0],[M0,15,15*$0],[M0,30,30*$0],[F0,1,A0],[F0,3,3*A0],[F0,6,6*A0],[F0,12,12*A0],[vTe,1,CC],[bTe,1,yTe],[nz,1,tz],[nz,3,3*tz],[bZ,1,b3]];function xZ(e){const t=e.extent,n=e.maxbins||40,r=Math.abs(cv(t))/n;let i=Jg(a=>a[2]).right(Bm,r),o,s;return i===Bm.length?(o=bZ,s=lc(t[0]/b3,t[1]/b3,n)):i?(i=Bm[r/Bm[i-1][2]<Bm[i][2]/r?i-1:i],o=i[0],s=i[1]):(o=vZ,s=Math.max(lc(t[0],t[1],n),1)),{units:o,step:s}}function rA(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function iA(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Um(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function wZ(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,o=e.days,s=e.shortDays,a=e.months,l=e.shortMonths,u=Vm(i),c=Wm(i),f=Vm(o),d=Wm(o),h=Vm(s),p=Wm(s),g=Vm(a),m=Wm(a),y=Vm(l),v=Wm(l),b={a:I,A:N,b:B,B:Y,c:null,d:lz,e:lz,f:UTe,g:ZTe,G:e3e,H:zTe,I:jTe,j:BTe,L:SZ,m:VTe,M:WTe,p:W,q:oe,Q:fz,s:dz,S:HTe,u:qTe,U:GTe,V:YTe,w:XTe,W:KTe,x:null,X:null,y:QTe,Y:JTe,Z:t3e,"%":cz},x={a:re,A:we,b:De,B:ut,c:null,d:uz,e:uz,f:o3e,g:g3e,G:y3e,H:n3e,I:r3e,j:i3e,L:CZ,m:s3e,M:a3e,p:$n,q:sr,Q:fz,s:dz,S:l3e,u:u3e,U:c3e,V:f3e,w:d3e,W:h3e,x:null,X:null,y:p3e,Y:m3e,Z:v3e,"%":cz},w={a:$,A,b:O,B:M,c:P,d:sz,e:sz,f:OTe,g:oz,G:iz,H:az,I:az,j:FTe,L:DTe,m:MTe,M:PTe,p:_,q:TTe,Q:ITe,s:LTe,S:RTe,u:CTe,U:_Te,V:ETe,w:kTe,W:$Te,x:R,X:D,y:oz,Y:iz,Z:ATe,"%":NTe};b.x=k(n,b),b.X=k(r,b),b.c=k(t,b),x.x=k(n,x),x.X=k(r,x),x.c=k(t,x);function k(ue,$e){return function(Ae){var Q=[],mn=-1,tt=0,An=ue.length,fn,oo,ih;for(Ae instanceof Date||(Ae=new Date(+Ae));++mn<An;)ue.charCodeAt(mn)===37&&(Q.push(ue.slice(tt,mn)),(oo=rz[fn=ue.charAt(++mn)])!=null?fn=ue.charAt(++mn):oo=fn==="e"?" ":"0",(ih=$e[fn])&&(fn=ih(Ae,oo)),Q.push(fn),tt=mn+1);return Q.push(ue.slice(tt,mn)),Q.join("")}}function S(ue,$e){return function(Ae){var Q=Um(1900,void 0,1),mn=C(Q,ue,Ae+="",0),tt,An;if(mn!=Ae.length)return null;if("Q"in Q)return new Date(Q.Q);if("s"in Q)return new Date(Q.s*1e3+("L"in Q?Q.L:0));if($e&&!("Z"in Q)&&(Q.Z=0),"p"in Q&&(Q.H=Q.H%12+Q.p*12),Q.m===void 0&&(Q.m="q"in Q?Q.q:0),"V"in Q){if(Q.V<1||Q.V>53)return null;"w"in Q||(Q.w=1),"Z"in Q?(tt=iA(Um(Q.y,0,1)),An=tt.getUTCDay(),tt=An>4||An===0?Vw.ceil(tt):Vw(tt),tt=bl.offset(tt,(Q.V-1)*7),Q.y=tt.getUTCFullYear(),Q.m=tt.getUTCMonth(),Q.d=tt.getUTCDate()+(Q.w+6)%7):(tt=rA(Um(Q.y,0,1)),An=tt.getDay(),tt=An>4||An===0?Uw.ceil(tt):Uw(tt),tt=ma.offset(tt,(Q.V-1)*7),Q.y=tt.getFullYear(),Q.m=tt.getMonth(),Q.d=tt.getDate()+(Q.w+6)%7)}else("W"in Q||"U"in Q)&&("w"in Q||(Q.w="u"in Q?Q.u%7:"W"in Q?1:0),An="Z"in Q?iA(Um(Q.y,0,1)).getUTCDay():rA(Um(Q.y,0,1)).getDay(),Q.m=0,Q.d="W"in Q?(Q.w+6)%7+Q.W*7-(An+5)%7:Q.w+Q.U*7-(An+6)%7);return"Z"in Q?(Q.H+=Q.Z/100|0,Q.M+=Q.Z%100,iA(Q)):rA(Q)}}function C(ue,$e,Ae,Q){for(var mn=0,tt=$e.length,An=Ae.length,fn,oo;mn<tt;){if(Q>=An)return-1;if(fn=$e.charCodeAt(mn++),fn===37){if(fn=$e.charAt(mn++),oo=w[fn in rz?$e.charAt(mn++):fn],!oo||(Q=oo(ue,Ae,Q))<0)return-1}else if(fn!=Ae.charCodeAt(Q++))return-1}return Q}function _(ue,$e,Ae){var Q=u.exec($e.slice(Ae));return Q?(ue.p=c.get(Q[0].toLowerCase()),Ae+Q[0].length):-1}function $(ue,$e,Ae){var Q=h.exec($e.slice(Ae));return Q?(ue.w=p.get(Q[0].toLowerCase()),Ae+Q[0].length):-1}function A(ue,$e,Ae){var Q=f.exec($e.slice(Ae));return Q?(ue.w=d.get(Q[0].toLowerCase()),Ae+Q[0].length):-1}function O(ue,$e,Ae){var Q=y.exec($e.slice(Ae));return Q?(ue.m=v.get(Q[0].toLowerCase()),Ae+Q[0].length):-1}function M(ue,$e,Ae){var Q=g.exec($e.slice(Ae));return Q?(ue.m=m.get(Q[0].toLowerCase()),Ae+Q[0].length):-1}function P(ue,$e,Ae){return C(ue,t,$e,Ae)}function R(ue,$e,Ae){return C(ue,n,$e,Ae)}function D(ue,$e,Ae){return C(ue,r,$e,Ae)}function I(ue){return s[ue.getDay()]}function N(ue){return o[ue.getDay()]}function B(ue){return l[ue.getMonth()]}function Y(ue){return a[ue.getMonth()]}function W(ue){return i[+(ue.getHours()>=12)]}function oe(ue){return 1+~~(ue.getMonth()/3)}function re(ue){return s[ue.getUTCDay()]}function we(ue){return o[ue.getUTCDay()]}function De(ue){return l[ue.getUTCMonth()]}function ut(ue){return a[ue.getUTCMonth()]}function $n(ue){return i[+(ue.getUTCHours()>=12)]}function sr(ue){return 1+~~(ue.getUTCMonth()/3)}return{format:function(ue){var $e=k(ue+="",b);return $e.toString=function(){return ue},$e},parse:function(ue){var $e=S(ue+="",!1);return $e.toString=function(){return ue},$e},utcFormat:function(ue){var $e=k(ue+="",x);return $e.toString=function(){return ue},$e},utcParse:function(ue){var $e=S(ue+="",!0);return $e.toString=function(){return ue},$e}}}var rz={"-":"",_:" ",0:"0"},Bn=/^\s*\d+/,xTe=/^%/,wTe=/[\\^$*+?|[\]().{}]/g;function Je(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(t)+i:i)}function STe(e){return e.replace(wTe,"\\$&")}function Vm(e){return new RegExp("^(?:"+e.map(STe).join("|")+")","i")}function Wm(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function kTe(e,t,n){var r=Bn.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function CTe(e,t,n){var r=Bn.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function _Te(e,t,n){var r=Bn.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function ETe(e,t,n){var r=Bn.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function $Te(e,t,n){var r=Bn.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function iz(e,t,n){var r=Bn.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function oz(e,t,n){var r=Bn.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function ATe(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function TTe(e,t,n){var r=Bn.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function MTe(e,t,n){var r=Bn.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function sz(e,t,n){var r=Bn.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function FTe(e,t,n){var r=Bn.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function az(e,t,n){var r=Bn.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function PTe(e,t,n){var r=Bn.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function RTe(e,t,n){var r=Bn.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function DTe(e,t,n){var r=Bn.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function OTe(e,t,n){var r=Bn.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function NTe(e,t,n){var r=xTe.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function ITe(e,t,n){var r=Bn.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function LTe(e,t,n){var r=Bn.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function lz(e,t){return Je(e.getDate(),t,2)}function zTe(e,t){return Je(e.getHours(),t,2)}function jTe(e,t){return Je(e.getHours()%12||12,t,2)}function BTe(e,t){return Je(1+ma.count(Ss(e),e),t,3)}function SZ(e,t){return Je(e.getMilliseconds(),t,3)}function UTe(e,t){return SZ(e,t)+"000"}function VTe(e,t){return Je(e.getMonth()+1,t,2)}function WTe(e,t){return Je(e.getMinutes(),t,2)}function HTe(e,t){return Je(e.getSeconds(),t,2)}function qTe(e){var t=e.getDay();return t===0?7:t}function GTe(e,t){return Je(zd.count(Ss(e)-1,e),t,2)}function kZ(e){var t=e.getDay();return t>=4||t===0?rg(e):rg.ceil(e)}function YTe(e,t){return e=kZ(e),Je(rg.count(Ss(e),e)+(Ss(e).getDay()===4),t,2)}function XTe(e){return e.getDay()}function KTe(e,t){return Je(Uw.count(Ss(e)-1,e),t,2)}function QTe(e,t){return Je(e.getFullYear()%100,t,2)}function ZTe(e,t){return e=kZ(e),Je(e.getFullYear()%100,t,2)}function JTe(e,t){return Je(e.getFullYear()%1e4,t,4)}function e3e(e,t){var n=e.getDay();return e=n>=4||n===0?rg(e):rg.ceil(e),Je(e.getFullYear()%1e4,t,4)}function t3e(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Je(t/60|0,"0",2)+Je(t%60,"0",2)}function uz(e,t){return Je(e.getUTCDate(),t,2)}function n3e(e,t){return Je(e.getUTCHours(),t,2)}function r3e(e,t){return Je(e.getUTCHours()%12||12,t,2)}function i3e(e,t){return Je(1+bl.count(ks(e),e),t,3)}function CZ(e,t){return Je(e.getUTCMilliseconds(),t,3)}function o3e(e,t){return CZ(e,t)+"000"}function s3e(e,t){return Je(e.getUTCMonth()+1,t,2)}function a3e(e,t){return Je(e.getUTCMinutes(),t,2)}function l3e(e,t){return Je(e.getUTCSeconds(),t,2)}function u3e(e){var t=e.getUTCDay();return t===0?7:t}function c3e(e,t){return Je(Bd.count(ks(e)-1,e),t,2)}function _Z(e){var t=e.getUTCDay();return t>=4||t===0?ig(e):ig.ceil(e)}function f3e(e,t){return e=_Z(e),Je(ig.count(ks(e),e)+(ks(e).getUTCDay()===4),t,2)}function d3e(e){return e.getUTCDay()}function h3e(e,t){return Je(Vw.count(ks(e)-1,e),t,2)}function p3e(e,t){return Je(e.getUTCFullYear()%100,t,2)}function g3e(e,t){return e=_Z(e),Je(e.getUTCFullYear()%100,t,2)}function m3e(e,t){return Je(e.getUTCFullYear()%1e4,t,4)}function y3e(e,t){var n=e.getUTCDay();return e=n>=4||n===0?ig(e):ig.ceil(e),Je(e.getUTCFullYear()%1e4,t,4)}function v3e(){return"+0000"}function cz(){return"%"}function fz(e){return+e}function dz(e){return Math.floor(+e/1e3)}var hh,yR,EZ,vR,$Z;b3e({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function b3e(e){return hh=wZ(e),yR=hh.format,EZ=hh.parse,vR=hh.utcFormat,$Z=hh.utcParse,hh}function P0(e){const t={};return n=>t[n]||(t[n]=e(n))}function x3e(e,t){return n=>{const r=e(n),i=r.indexOf(t);if(i<0)return r;let o=w3e(r,i);const s=o<r.length?r.slice(o):"";for(;--o>i;)if(r[o]!=="0"){++o;break}return r.slice(0,o)+s}}function w3e(e,t){let n=e.lastIndexOf("e"),r;if(n>0)return n;for(n=e.length;--n>t;)if(r=e.charCodeAt(n),r>=48&&r<=57)return n+1}function AZ(e){const t=P0(e.format),n=e.formatPrefix;return{format:t,formatPrefix:n,formatFloat(r){const i=ud(r||",");if(i.precision==null){switch(i.precision=12,i.type){case"%":i.precision-=2;break;case"e":i.precision-=1;break}return x3e(t(i),t(".1f")(1)[1])}else return t(i)},formatSpan(r,i,o,s){s=ud(s??",f");const a=lc(r,i,o),l=Math.max(Math.abs(r),Math.abs(i));let u;if(s.precision==null)switch(s.type){case"s":return isNaN(u=ZQ(a,l))||(s.precision=u),n(s,l);case"":case"e":case"g":case"p":case"r":{isNaN(u=JQ(a,l))||(s.precision=u-(s.type==="e"));break}case"f":case"%":{isNaN(u=QQ(a))||(s.precision=u-(s.type==="%")*2);break}}return t(s)}}}let x3;TZ();function TZ(){return x3=AZ({format:fv,formatPrefix:dR})}function MZ(e){return AZ(KQ(e))}function Ww(e){return arguments.length?x3=MZ(e):x3}function hz(e,t,n){n=n||{},se(n)||q(`Invalid time multi-format specifier: ${n}`);const r=t(Oo),i=t(Qi),o=t(Ki),s=t(wi),a=t(wn),l=t(Cr),u=t(xi),c=t(er),f=e(n[Cs]||".%L"),d=e(n[Oo]||":%S"),h=e(n[Qi]||"%I:%M"),p=e(n[Ki]||"%I %p"),g=e(n[wi]||n[xr]||"%a %d"),m=e(n[wn]||"%b %d"),y=e(n[Cr]||"%B"),v=e(n[xi]||"%B"),b=e(n[er]||"%Y");return x=>(r(x)<x?f:i(x)<x?d:o(x)<x?h:s(x)<x?p:l(x)<x?a(x)<x?g:m:c(x)<x?u(x)<x?y:v:b)(x)}function FZ(e){const t=P0(e.format),n=P0(e.utcFormat);return{timeFormat:r=>le(r)?t(r):hz(t,em,r),utcFormat:r=>le(r)?n(r):hz(n,tm,r),timeParse:P0(e.parse),utcParse:P0(e.utcParse)}}let w3;PZ();function PZ(){return w3=FZ({format:yR,parse:EZ,utcFormat:vR,utcParse:$Z})}function RZ(e){return FZ(wZ(e))}function c1(e){return arguments.length?w3=RZ(e):w3}const S3=(e,t)=>Oe({},e,t);function DZ(e,t){const n=e?MZ(e):Ww(),r=t?RZ(t):c1();return S3(n,r)}function bR(e,t){const n=arguments.length;return n&&n!==2&&q("defaultLocale expects either zero or two arguments."),n?S3(Ww(e),c1(t)):S3(Ww(),c1())}function S3e(){return TZ(),PZ(),bR()}const k3e=/^(data:|([A-Za-z]+:)?\/\/)/,C3e=/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp|file|data):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,_3e=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,pz="file://";function E3e(e,t){return n=>({options:n||{},sanitize:A3e,load:$3e,fileAccess:!!t,file:T3e(t),http:F3e(e)})}async function $3e(e,t){const n=await this.sanitize(e,t),r=n.href;return n.localFile?this.file(r):this.http(r,t)}async function A3e(e,t){t=Oe({},this.options,t);const n=this.fileAccess,r={href:null};let i,o,s;const a=C3e.test(e.replace(_3e,""));(e==null||typeof e!="string"||!a)&&q("Sanitize failure, invalid URI: "+te(e));const l=k3e.test(e);return(s=t.baseURL)&&!l&&(!e.startsWith("/")&&!s.endsWith("/")&&(e="/"+e),e=s+e),o=(i=e.startsWith(pz))||t.mode==="file"||t.mode!=="http"&&!l&&n,i?e=e.slice(pz.length):e.startsWith("//")&&(t.defaultProtocol==="file"?(e=e.slice(2),o=!0):e=(t.defaultProtocol||"http")+":"+e),Object.defineProperty(r,"localFile",{value:!!o}),r.href=e,t.target&&(r.target=t.target+""),t.rel&&(r.rel=t.rel+""),t.context==="image"&&t.crossOrigin&&(r.crossOrigin=t.crossOrigin+""),r}function T3e(e){return e?t=>new Promise((n,r)=>{e.readFile(t,(i,o)=>{i?r(i):n(o)})}):M3e}async function M3e(){q("No file system access.")}function F3e(e){return e?async function(t,n){const r=Oe({},this.options.http,n),i=n&&n.response,o=await e(t,r);return o.ok?Ne(o[i])?o[i]():o.text():q(o.status+""+o.statusText)}:P3e}async function P3e(){q("No HTTP fetch method available.")}const R3e=e=>e!=null&&e===e,D3e=e=>e==="true"||e==="false"||e===!0||e===!1,O3e=e=>!Number.isNaN(Date.parse(e)),OZ=e=>!Number.isNaN(+e)&&!(e instanceof Date),N3e=e=>OZ(e)&&Number.isInteger(+e),k3={boolean:lR,integer:wr,number:wr,date:uR,string:cR,unknown:Ar},Kb=[D3e,N3e,OZ,O3e],I3e=["boolean","integer","number","date"];function NZ(e,t){if(!e||!e.length)return"unknown";const n=e.length,r=Kb.length,i=Kb.map((o,s)=>s+1);for(let o=0,s=0,a,l;o<n;++o)for(l=t?e[o][t]:e[o],a=0;a<r;++a)if(i[a]&&R3e(l)&&!Kb[a](l)&&(i[a]=0,++s,s===Kb.length))return"string";return I3e[i.reduce((o,s)=>o===0?s:o,0)-1]}function IZ(e,t){return t.reduce((n,r)=>(n[r]=NZ(e,r),n),{})}function gz(e){const t=function(n,r){const i={delimiter:e};return xR(n,r?Oe(r,i):i)};return t.responseType="text",t}function xR(e,t){return t.header&&(e=t.header.map(te).join(t.delimiter)+`
`+e),VAe(t.delimiter).parse(e+"")}xR.responseType="text";function L3e(e){return typeof Buffer=="function"&&Ne(Buffer.isBuffer)?Buffer.isBuffer(e):!1}function wR(e,t){const n=t&&t.property?Ro(t.property):Ar;return se(e)&&!L3e(e)?z3e(n(e),t):n(JSON.parse(e))}wR.responseType="json";function z3e(e,t){return!G(e)&&MQ(e)&&(e=[...e]),t&&t.copy?JSON.parse(JSON.stringify(e)):e}const j3e={interior:(e,t)=>e!==t,exterior:(e,t)=>e===t};function LZ(e,t){let n,r,i,o;return e=wR(e,t),t&&t.feature?(n=w5e,i=t.feature):t&&t.mesh?(n=k5e,i=t.mesh,o=j3e[t.filter]):q("Missing TopoJSON feature or mesh parameter."),r=(r=e.objects[i])?n(e,r,o):q("Invalid TopoJSON object: "+i),r&&r.features||[r]}LZ.responseType="json";const g2={dsv:xR,csv:gz(","),tsv:gz("	"),json:wR,topojson:LZ};function SR(e,t){return arguments.length>1?(g2[e]=t,this):ce(g2,e)?g2[e]:null}function zZ(e){const t=SR(e);return t&&t.responseType||"text"}function jZ(e,t,n,r){t=t||{};const i=SR(t.type||"json");return i||q("Unknown data format type: "+t.type),e=i(e,t),t.parse&&B3e(e,t.parse,n,r),ce(e,"columns")&&delete e.columns,e}function B3e(e,t,n,r){if(!e.length)return;const i=c1();n=n||i.timeParse,r=r||i.utcParse;let o=e.columns||Object.keys(e[0]),s,a,l,u,c,f;t==="auto"&&(t=IZ(e,o)),o=Object.keys(t);const d=o.map(h=>{const p=t[h];let g,m;if(p&&(p.startsWith("date:")||p.startsWith("utc:")))return g=p.split(/:(.+)?/,2),m=g[1],(m[0]==="'"&&m[m.length-1]==="'"||m[0]==='"'&&m[m.length-1]==='"')&&(m=m.slice(1,-1)),(g[0]==="utc"?r:n)(m);if(!k3[p])throw Error("Illegal format pattern: "+h+":"+p);return k3[p]});for(l=0,c=e.length,f=o.length;l<c;++l)for(s=e[l],u=0;u<f;++u)a=o[u],s[a]=d[u](s[a])}const _C=E3e(typeof fetch<"u"&&fetch,null);function EC(e){const t=e||Ar,n=[],r={};return n.add=i=>{const o=t(i);return r[o]||(r[o]=1,n.push(i)),n},n.remove=i=>{const o=t(i);if(r[o]){r[o]=0;const s=n.indexOf(i);s>=0&&n.splice(s,1)}return n},n}async function m2(e,t){try{await t(e)}catch(n){e.error(n)}}const BZ=Symbol("vega_id");let U3e=1;function $C(e){return!!(e&&ve(e))}function ve(e){return e[BZ]}function UZ(e,t){return e[BZ]=t,e}function at(e){const t=e===Object(e)?e:{data:e};return ve(t)?t:UZ(t,U3e++)}function kR(e){return AC(e,at({}))}function AC(e,t){for(const n in e)t[n]=e[n];return t}function VZ(e,t){return UZ(t,ve(e))}function Ud(e,t){return e?t?(n,r)=>e(n,r)||ve(t(n))-ve(t(r)):(n,r)=>e(n,r)||ve(n)-ve(r):null}function WZ(e){return e&&e.constructor===Vd}function Vd(){const e=[],t=[],n=[],r=[],i=[];let o=null,s=!1;return{constructor:Vd,insert(a){const l=ae(a),u=l.length;for(let c=0;c<u;++c)e.push(l[c]);return this},remove(a){const l=Ne(a)?r:t,u=ae(a),c=u.length;for(let f=0;f<c;++f)l.push(u[f]);return this},modify(a,l,u){const c={field:l,value:Tr(u)};return Ne(a)?(c.filter=a,i.push(c)):(c.tuple=a,n.push(c)),this},encode(a,l){return Ne(a)?i.push({filter:a,field:l}):n.push({tuple:a,field:l}),this},clean(a){return o=a,this},reflow(){return s=!0,this},pulse(a,l){const u={},c={};let f,d,h,p,g,m;for(f=0,d=l.length;f<d;++f)u[ve(l[f])]=1;for(f=0,d=t.length;f<d;++f)g=t[f],u[ve(g)]=-1;for(f=0,d=r.length;f<d;++f)p=r[f],l.forEach(v=>{p(v)&&(u[ve(v)]=-1)});for(f=0,d=e.length;f<d;++f)g=e[f],m=ve(g),u[m]?u[m]=1:a.add.push(at(e[f]));for(f=0,d=l.length;f<d;++f)g=l[f],u[ve(g)]<0&&a.rem.push(g);function y(v,b,x){x?v[b]=x(v):a.encode=b,s||(c[ve(v)]=v)}for(f=0,d=n.length;f<d;++f)h=n[f],g=h.tuple,p=h.field,m=u[ve(g)],m>0&&(y(g,p,h.value),a.modifies(p));for(f=0,d=i.length;f<d;++f)h=i[f],p=h.filter,l.forEach(v=>{p(v)&&u[ve(v)]>0&&y(v,h.field,h.value)}),a.modifies(h.field);if(s)a.mod=t.length||r.length?l.filter(v=>u[ve(v)]>0):l.slice();else for(m in c)a.mod.push(c[m]);return(o||o==null&&(t.length||r.length))&&a.clean(!0),a}}}const y2="_:mod:_";function TC(){Object.defineProperty(this,y2,{writable:!0,value:{}})}TC.prototype={set(e,t,n,r){const i=this,o=i[e],s=i[y2];return t!=null&&t>=0?(o[t]!==n||r)&&(o[t]=n,s[t+":"+e]=-1,s[e]=-1):(o!==n||r)&&(i[e]=n,s[e]=G(n)?1+n.length:-1),i},modified(e,t){const n=this[y2];if(arguments.length){if(G(e)){for(let r=0;r<e.length;++r)if(n[e[r]])return!0;return!1}}else{for(const r in n)if(n[r])return!0;return!1}return t!=null&&t>=0?t+1<n[e]||!!n[t+":"+e]:!!n[e]},clear(){return this[y2]={},this}};let V3e=0;const W3e="pulse",H3e=new TC,q3e=1,G3e=2;function St(e,t,n,r){this.id=++V3e,this.value=e,this.stamp=-1,this.rank=-1,this.qrank=-1,this.flags=0,t&&(this._update=t),n&&this.parameters(n,r)}function mz(e){return function(t){const n=this.flags;return arguments.length===0?!!(n&e):(this.flags=t?n|e:n&~e,this)}}St.prototype={targets(){return this._targets||(this._targets=EC(uv))},set(e){return this.value!==e?(this.value=e,1):0},skip:mz(q3e),modified:mz(G3e),parameters(e,t,n){t=t!==!1;const r=this._argval=this._argval||new TC,i=this._argops=this._argops||[],o=[];let s,a,l,u;const c=(f,d,h)=>{h instanceof St?(h!==this&&(t&&h.targets().add(this),o.push(h)),i.push({op:h,name:f,index:d})):r.set(f,d,h)};for(s in e)if(a=e[s],s===W3e)ae(a).forEach(f=>{f instanceof St?f!==this&&(f.targets().add(this),o.push(f)):q("Pulse parameters must be operator instances.")}),this.source=a;else if(G(a))for(r.set(s,-1,Array(l=a.length)),u=0;u<l;++u)c(s,u,a[u]);else c(s,-1,a);return this.marshall().clear(),n&&(i.initonly=!0),o},marshall(e){const t=this._argval||H3e,n=this._argops;let r,i,o,s;if(n){const a=n.length;for(i=0;i<a;++i)r=n[i],o=r.op,s=o.modified()&&o.stamp===e,t.set(r.name,r.index,o.value,s);if(n.initonly){for(i=0;i<a;++i)r=n[i],r.op.targets().remove(this);this._argops=null,this._update=null}}return t},detach(){const e=this._argops;let t,n,r,i;if(e)for(t=0,n=e.length;t<n;++t)r=e[t],i=r.op,i._targets&&i._targets.remove(this);this.pulse=null,this.source=null},evaluate(e){const t=this._update;if(t){const n=this.marshall(e.stamp),r=t.call(this,n,e);if(n.clear(),r!==this.value)this.value=r;else if(!this.modified())return e.StopPropagation}},run(e){if(e.stamp<this.stamp)return e.StopPropagation;let t;return this.skip()?(this.skip(!1),t=0):t=this.evaluate(e),this.pulse=t||e}};function Y3e(e,t,n,r){let i=1,o;return e instanceof St?o=e:e&&e.prototype instanceof St?o=new e:Ne(e)?o=new St(null,e):(i=0,o=new St(e,t)),this.rank(o),i&&(r=n,n=t),n&&this.connect(o,o.parameters(n,r)),this.touch(o),o}function X3e(e,t){const n=e.rank,r=t.length;for(let i=0;i<r;++i)if(n<t[i].rank){this.rerank(e);return}}let K3e=0;function MC(e,t,n){this.id=++K3e,this.value=null,n&&(this.receive=n),e&&(this._filter=e),t&&(this._apply=t)}function su(e,t,n){return new MC(e,t,n)}MC.prototype={_filter:Do,_apply:Ar,targets(){return this._targets||(this._targets=EC(uv))},consume(e){return arguments.length?(this._consume=!!e,this):!!this._consume},receive(e){if(this._filter(e)){const t=this.value=this._apply(e),n=this._targets,r=n?n.length:0;for(let i=0;i<r;++i)n[i].receive(t);this._consume&&(e.preventDefault(),e.stopPropagation())}},filter(e){const t=su(e);return this.targets().add(t),t},apply(e){const t=su(null,e);return this.targets().add(t),t},merge(){const e=su();this.targets().add(e);for(let t=0,n=arguments.length;t<n;++t)arguments[t].targets().add(e);return e},throttle(e){let t=-1;return this.filter(()=>{const n=Date.now();return n-t>e?(t=n,1):0})},debounce(e){const t=su();return this.targets().add(su(null,null,sR(e,n=>{const r=n.dataflow;t.receive(n),r&&r.run&&r.run()}))),t},between(e,t){let n=!1;return e.targets().add(su(null,null,()=>n=!0)),t.targets().add(su(null,null,()=>n=!1)),this.filter(()=>n)},detach(){this._filter=Do,this._targets=null}};function Q3e(e,t,n,r){const i=this,o=su(n,r),s=function(u){u.dataflow=i;try{o.receive(u)}catch(c){i.error(c)}finally{i.run()}};let a;typeof e=="string"&&typeof document<"u"?a=document.querySelectorAll(e):a=ae(e);const l=a.length;for(let u=0;u<l;++u)a[u].addEventListener(t,s);return o}function Z3e(e,t){const n=this.locale();return jZ(e,t,n.timeParse,n.utcParse)}function J3e(e,t,n){return t=this.parse(t,n),this.pulse(e,this.changeset().insert(t))}async function e4e(e,t){const n=this;let r=0,i;try{i=await n.loader().load(e,{context:"dataflow",response:zZ(t&&t.type)});try{i=n.parse(i,t)}catch(o){r=-2,n.warn("Data ingestion failed",e,o)}}catch(o){r=-1,n.warn("Loading failed",e,o)}return{data:i,status:r}}async function t4e(e,t,n){const r=this,i=r._pending||n4e(r);i.requests+=1;const o=await r.request(t,n);return r.pulse(e,r.changeset().remove(Do).insert(o.data||[])),i.done(),o}function n4e(e){let t;const n=new Promise(r=>t=r);return n.requests=0,n.done=()=>{--n.requests===0&&(e._pending=null,t(e))},e._pending=n}const r4e={skip:!0};function i4e(e,t,n,r,i){return(e instanceof St?s4e:o4e)(this,e,t,n,r,i),this}function o4e(e,t,n,r,i,o){const s=Oe({},o,r4e);let a,l;Ne(n)||(n=Tr(n)),r===void 0?a=u=>e.touch(n(u)):Ne(r)?(l=new St(null,r,i,!1),a=u=>{l.evaluate(u);const c=n(u),f=l.value;WZ(f)?e.pulse(c,f,o):e.update(c,f,s)}):a=u=>e.update(n(u),r,s),t.apply(a)}function s4e(e,t,n,r,i,o){if(r===void 0)t.targets().add(n);else{const s=o||{},a=new St(null,a4e(n,r),i,!1);a.modified(s.force),a.rank=t.rank,t.targets().add(a),n&&(a.skip(!0),a.value=n.value,a.targets().add(n),e.connect(n,[a]))}}function a4e(e,t){return t=Ne(t)?t:Tr(t),e?function(n,r){const i=t(n,r);return e.skip()||(e.skip(i!==this.value).value=i),i}:t}function l4e(e){e.rank=++this._rank}function u4e(e){const t=[e];let n,r,i;for(;t.length;)if(this.rank(n=t.pop()),r=n._targets)for(i=r.length;--i>=0;)t.push(n=r[i]),n===e&&q("Cycle detected in dataflow graph.")}const Hw={},Gs=1,hu=2,Qa=4,c4e=Gs|hu,yz=Gs|Qa,ph=Gs|hu|Qa,vz=8,Hm=16,bz=32,xz=64;function Zu(e,t,n){this.dataflow=e,this.stamp=t??-1,this.add=[],this.rem=[],this.mod=[],this.fields=null,this.encode=n||null}function oA(e,t){const n=[];return du(e,t,r=>n.push(r)),n}function wz(e,t){const n={};return e.visit(t,r=>{n[ve(r)]=1}),r=>n[ve(r)]?null:r}function Qb(e,t){return e?(n,r)=>e(n,r)&&t(n,r):t}Zu.prototype={StopPropagation:Hw,ADD:Gs,REM:hu,MOD:Qa,ADD_REM:c4e,ADD_MOD:yz,ALL:ph,REFLOW:vz,SOURCE:Hm,NO_SOURCE:bz,NO_FIELDS:xz,fork(e){return new Zu(this.dataflow).init(this,e)},clone(){const e=this.fork(ph);return e.add=e.add.slice(),e.rem=e.rem.slice(),e.mod=e.mod.slice(),e.source&&(e.source=e.source.slice()),e.materialize(ph|Hm)},addAll(){let e=this;return!e.source||e.add===e.rem||!e.rem.length&&e.source.length===e.add.length||(e=new Zu(this.dataflow).init(this),e.add=e.source,e.rem=[]),e},init(e,t){const n=this;return n.stamp=e.stamp,n.encode=e.encode,e.fields&&!(t&xz)&&(n.fields=e.fields),t&Gs?(n.addF=e.addF,n.add=e.add):(n.addF=null,n.add=[]),t&hu?(n.remF=e.remF,n.rem=e.rem):(n.remF=null,n.rem=[]),t&Qa?(n.modF=e.modF,n.mod=e.mod):(n.modF=null,n.mod=[]),t&bz?(n.srcF=null,n.source=null):(n.srcF=e.srcF,n.source=e.source,e.cleans&&(n.cleans=e.cleans)),n},runAfter(e){this.dataflow.runAfter(e)},changed(e){const t=e||ph;return t&Gs&&this.add.length||t&hu&&this.rem.length||t&Qa&&this.mod.length},reflow(e){if(e)return this.fork(ph).reflow();const t=this.add.length,n=this.source&&this.source.length;return n&&n!==t&&(this.mod=this.source,t&&this.filter(Qa,wz(this,Gs))),this},clean(e){return arguments.length?(this.cleans=!!e,this):this.cleans},modifies(e){const t=this.fields||(this.fields={});return G(e)?e.forEach(n=>t[n]=!0):t[e]=!0,this},modified(e,t){const n=this.fields;return(t||this.mod.length)&&n?arguments.length?G(e)?e.some(r=>n[r]):n[e]:!!n:!1},filter(e,t){const n=this;return e&Gs&&(n.addF=Qb(n.addF,t)),e&hu&&(n.remF=Qb(n.remF,t)),e&Qa&&(n.modF=Qb(n.modF,t)),e&Hm&&(n.srcF=Qb(n.srcF,t)),n},materialize(e){e=e||ph;const t=this;return e&Gs&&t.addF&&(t.add=oA(t.add,t.addF),t.addF=null),e&hu&&t.remF&&(t.rem=oA(t.rem,t.remF),t.remF=null),e&Qa&&t.modF&&(t.mod=oA(t.mod,t.modF),t.modF=null),e&Hm&&t.srcF&&(t.source=t.source.filter(t.srcF),t.srcF=null),t},visit(e,t){const n=this,r=t;if(e&Hm)return du(n.source,n.srcF,r),n;e&Gs&&du(n.add,n.addF,r),e&hu&&du(n.rem,n.remF,r),e&Qa&&du(n.mod,n.modF,r);const i=n.source;if(e&vz&&i){const o=n.add.length+n.mod.length;o===i.length||(o?du(i,wz(n,yz),r):du(i,n.srcF,r))}return n}};function CR(e,t,n,r){const i=this;let o=0;this.dataflow=e,this.stamp=t,this.fields=null,this.encode=r||null,this.pulses=n;for(const s of n)if(s.stamp===t){if(s.fields){const a=i.fields||(i.fields={});for(const l in s.fields)a[l]=1}s.changed(i.ADD)&&(o|=i.ADD),s.changed(i.REM)&&(o|=i.REM),s.changed(i.MOD)&&(o|=i.MOD)}this.changes=o}ne(CR,Zu,{fork(e){const t=new Zu(this.dataflow).init(this,e&this.NO_FIELDS);return e!==void 0&&(e&t.ADD&&this.visit(t.ADD,n=>t.add.push(n)),e&t.REM&&this.visit(t.REM,n=>t.rem.push(n)),e&t.MOD&&this.visit(t.MOD,n=>t.mod.push(n))),t},changed(e){return this.changes&e},modified(e){const t=this,n=t.fields;return n&&t.changes&t.MOD?G(e)?e.some(r=>n[r]):n[e]:0},filter(){q("MultiPulse does not support filtering.")},materialize(){q("MultiPulse does not support materialization.")},visit(e,t){const n=this,r=n.pulses,i=r.length;let o=0;if(e&n.SOURCE)for(;o<i;++o)r[o].visit(e,t);else for(;o<i;++o)r[o].stamp===n.stamp&&r[o].visit(e,t);return n}});async function f4e(e,t,n){const r=this,i=[];if(r._pulse)return HZ(r);if(r._pending&&await r._pending,t&&await m2(r,t),!r._touched.length)return r.debug("Dataflow invoked, but nothing to do."),r;const o=++r._clock;r._pulse=new Zu(r,o,e),r._touched.forEach(c=>r._enqueue(c,!0)),r._touched=EC(uv);let s=0,a,l,u;try{for(;r._heap.size()>0;){if(a=r._heap.pop(),a.rank!==a.qrank){r._enqueue(a,!0);continue}l=a.run(r._getPulse(a,e)),l.then?l=await l:l.async&&(i.push(l.async),l=Hw),l!==Hw&&a._targets&&a._targets.forEach(c=>r._enqueue(c)),++s}}catch(c){r._heap.clear(),u=c}if(r._input={},r._pulse=null,r.debug(`Pulse ${o}: ${s} operators`),u&&(r._postrun=[],r.error(u)),r._postrun.length){const c=r._postrun.sort((f,d)=>d.priority-f.priority);r._postrun=[];for(let f=0;f<c.length;++f)await m2(r,c[f].callback)}return n&&await m2(r,n),i.length&&Promise.all(i).then(c=>r.runAsync(null,()=>{c.forEach(f=>{try{f(r)}catch(d){r.error(d)}})})),r}async function d4e(e,t,n){for(;this._running;)await this._running;const r=()=>this._running=null;return(this._running=this.evaluate(e,t,n)).then(r,r),this._running}function h4e(e,t,n){return this._pulse?HZ(this):(this.evaluate(e,t,n),this)}function p4e(e,t,n){if(this._pulse||t)this._postrun.push({priority:n||0,callback:e});else try{e(this)}catch(r){this.error(r)}}function HZ(e){return e.error("Dataflow already running. Use runAsync() to chain invocations."),e}function g4e(e,t){const n=e.stamp<this._clock;n&&(e.stamp=this._clock),(n||t)&&(e.qrank=e.rank,this._heap.push(e))}function m4e(e,t){const n=e.source,r=this._clock;return n&&G(n)?new CR(this,r,n.map(i=>i.pulse),t):this._input[e.id]||y4e(this._pulse,n&&n.pulse)}function y4e(e,t){return t&&t.stamp===e.stamp?t:(e=e.fork(),t&&t!==Hw&&(e.source=t.source),e)}const _R={skip:!1,force:!1};function v4e(e,t){const n=t||_R;return this._pulse?this._enqueue(e):this._touched.add(e),n.skip&&e.skip(!0),this}function b4e(e,t,n){const r=n||_R;return(e.set(t)||r.force)&&this.touch(e,r),this}function x4e(e,t,n){this.touch(e,n||_R);const r=new Zu(this,this._clock+(this._pulse?0:1)),i=e.pulse&&e.pulse.source||[];return r.target=e,this._input[e.id]=t.pulse(r,i),this}function w4e(e){let t=[];return{clear:()=>t=[],size:()=>t.length,peek:()=>t[0],push:n=>(t.push(n),qZ(t,0,t.length-1,e)),pop:()=>{const n=t.pop();let r;return t.length?(r=t[0],t[0]=n,S4e(t,0,e)):r=n,r}}}function qZ(e,t,n,r){let i,o;const s=e[n];for(;n>t;){if(o=n-1>>1,i=e[o],r(s,i)<0){e[n]=i,n=o;continue}break}return e[n]=s}function S4e(e,t,n){const r=t,i=e.length,o=e[t];let s=(t<<1)+1,a;for(;s<i;)a=s+1,a<i&&n(e[s],e[a])>=0&&(s=a),e[t]=e[s],t=s,s=(t<<1)+1;return e[t]=o,qZ(e,r,t,n)}function mp(){this.logger(tR()),this.logLevel(xC),this._clock=0,this._rank=0,this._locale=bR();try{this._loader=_C()}catch{}this._touched=EC(uv),this._input={},this._pulse=null,this._heap=w4e((e,t)=>e.qrank-t.qrank),this._postrun=[]}function qm(e){return function(){return this._log[e].apply(this,arguments)}}mp.prototype={stamp(){return this._clock},loader(e){return arguments.length?(this._loader=e,this):this._loader},locale(e){return arguments.length?(this._locale=e,this):this._locale},logger(e){return arguments.length?(this._log=e,this):this._log},error:qm("error"),warn:qm("warn"),info:qm("info"),debug:qm("debug"),logLevel:qm("level"),cleanThreshold:1e4,add:Y3e,connect:X3e,rank:l4e,rerank:u4e,pulse:x4e,touch:v4e,update:b4e,changeset:Vd,ingest:J3e,parse:Z3e,preload:t4e,request:e4e,events:Q3e,on:i4e,evaluate:f4e,run:h4e,runAsync:d4e,runAfter:p4e,_enqueue:g4e,_getPulse:m4e};function V(e,t){St.call(this,e,null,t)}ne(V,St,{run(e){if(e.stamp<this.stamp)return e.StopPropagation;let t;return this.skip()?this.skip(!1):t=this.evaluate(e),t=t||e,t.then?t=t.then(n=>this.pulse=n):t!==e.StopPropagation&&(this.pulse=t),t},evaluate(e){const t=this.marshall(e.stamp),n=this.transform(t,e);return t.clear(),n},transform(){}});const lg={};function GZ(e){const t=YZ(e);return t&&t.Definition||null}function YZ(e){return e=e&&e.toLowerCase(),ce(lg,e)?lg[e]:null}function*XZ(e,t){if(t==null)for(let n of e)n!=null&&n!==""&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)r=t(r,++n,e),r!=null&&r!==""&&(r=+r)>=r&&(yield r)}}function ER(e,t,n){const r=Float64Array.from(XZ(e,n));return r.sort(vl),t.map(i=>HQ(r,i))}function $R(e,t){return ER(e,[.25,.5,.75],t)}function AR(e,t){const n=e.length,r=F5e(e,t),i=$R(e,t),o=(i[2]-i[0])/1.34;return 1.06*(Math.min(r,o)||r||Math.abs(i[0])||1)*Math.pow(n,-.2)}function KZ(e){const t=e.maxbins||20,n=e.base||10,r=Math.log(n),i=e.divide||[5,2];let o=e.extent[0],s=e.extent[1],a,l,u,c,f,d;const h=e.span||s-o||Math.abs(o)||1;if(e.step)a=e.step;else if(e.steps){for(c=h/t,f=0,d=e.steps.length;f<d&&e.steps[f]<c;++f);a=e.steps[Math.max(0,f-1)]}else{for(l=Math.ceil(Math.log(t)/r),u=e.minstep||0,a=Math.max(u,Math.pow(n,Math.round(Math.log(h)/r)-l));Math.ceil(h/a)>t;)a*=n;for(f=0,d=i.length;f<d;++f)c=a/i[f],c>=u&&h/c<=t&&(a=c)}c=Math.log(a);const p=c>=0?0:~~(-c/r)+1,g=Math.pow(n,-p-1);return(e.nice||e.nice===void 0)&&(c=Math.floor(o/a+g)*a,o=o<c?c-a:c,s=Math.ceil(s/a)*a),{start:o,stop:s===o?o+a:s,step:a}}var No=Math.random;function k4e(e){No=e}function QZ(e,t,n,r){if(!e.length)return[void 0,void 0];const i=Float64Array.from(XZ(e,r)),o=i.length,s=t;let a,l,u,c;for(u=0,c=Array(s);u<s;++u){for(a=0,l=0;l<o;++l)a+=i[~~(No()*o)];c[u]=a/o}return c.sort(vl),[p3(c,n/2),p3(c,1-n/2)]}function ZZ(e,t,n,r){r=r||(d=>d);const i=e.length,o=new Float64Array(i);let s=0,a=1,l=r(e[0]),u=l,c=l+t,f;for(;a<i;++a){if(f=r(e[a]),f>=c){for(u=(l+u)/2;s<a;++s)o[s]=u;c=f+t,l=f}u=f}for(u=(l+u)/2;s<a;++s)o[s]=u;return n?C4e(o,t+t/4):o}function C4e(e,t){const n=e.length;let r=0,i=1,o,s;for(;e[r]===e[i];)++i;for(;i<n;){for(o=i+1;e[i]===e[o];)++o;if(e[i]-e[i-1]<t){for(s=i+(r+o-i-i>>1);s<i;)e[s++]=e[i];for(;s>i;)e[s--]=e[r]}r=i,i=o}return e}function _4e(e){return function(){return e=(1103515245*e+12345)%2147483647,e/2147483647}}function E4e(e,t){t==null&&(t=e,e=0);let n,r,i;const o={min(s){return arguments.length?(n=s||0,i=r-n,o):n},max(s){return arguments.length?(r=s||0,i=r-n,o):r},sample(){return n+Math.floor(i*No())},pdf(s){return s===Math.floor(s)&&s>=n&&s<r?1/i:0},cdf(s){const a=Math.floor(s);return a<n?0:a>=r?1:(a-n+1)/i},icdf(s){return s>=0&&s<=1?n-1+Math.floor(s*i):NaN}};return o.min(e).max(t)}const JZ=Math.sqrt(2*Math.PI),$4e=Math.SQRT2;let Gm=NaN;function FC(e,t){e=e||0,t=t??1;let n=0,r=0,i,o;if(Gm===Gm)n=Gm,Gm=NaN;else{do n=No()*2-1,r=No()*2-1,i=n*n+r*r;while(i===0||i>1);o=Math.sqrt(-2*Math.log(i)/i),n*=o,Gm=r*o}return e+n*t}function TR(e,t,n){n=n??1;const r=(e-(t||0))/n;return Math.exp(-.5*r*r)/(n*JZ)}function PC(e,t,n){t=t||0,n=n??1;const r=(e-t)/n,i=Math.abs(r);let o;if(i>37)o=0;else{const s=Math.exp(-i*i/2);let a;i<7.07106781186547?(a=.0352624965998911*i+.700383064443688,a=a*i+6.37396220353165,a=a*i+33.912866078383,a=a*i+112.079291497871,a=a*i+221.213596169931,a=a*i+220.206867912376,o=s*a,a=.0883883476483184*i+1.75566716318264,a=a*i+16.064177579207,a=a*i+86.7807322029461,a=a*i+296.564248779674,a=a*i+637.333633378831,a=a*i+793.826512519948,a=a*i+440.413735824752,o=o/a):(a=i+.65,a=i+4/a,a=i+3/a,a=i+2/a,a=i+1/a,o=s/a/2.506628274631)}return r>0?1-o:o}function RC(e,t,n){return e<0||e>1?NaN:(t||0)+(n??1)*$4e*A4e(2*e-1)}function A4e(e){let t=-Math.log((1-e)*(1+e)),n;return t<6.25?(t-=3.125,n=-364441206401782e-35,n=-16850591381820166e-35+n*t,n=128584807152564e-32+n*t,n=11157877678025181e-33+n*t,n=-1333171662854621e-31+n*t,n=20972767875968562e-33+n*t,n=6637638134358324e-30+n*t,n=-4054566272975207e-29+n*t,n=-8151934197605472e-29+n*t,n=26335093153082323e-28+n*t,n=-12975133253453532e-27+n*t,n=-5415412054294628e-26+n*t,n=10512122733215323e-25+n*t,n=-4112633980346984e-24+n*t,n=-29070369957882005e-24+n*t,n=42347877827932404e-23+n*t,n=-13654692000834679e-22+n*t,n=-13882523362786469e-21+n*t,n=.00018673420803405714+n*t,n=-.000740702534166267+n*t,n=-.006033670871430149+n*t,n=.24015818242558962+n*t,n=1.6536545626831027+n*t):t<16?(t=Math.sqrt(t)-3.25,n=22137376921775787e-25,n=9075656193888539e-23+n*t,n=-27517406297064545e-23+n*t,n=18239629214389228e-24+n*t,n=15027403968909828e-22+n*t,n=-4013867526981546e-21+n*t,n=29234449089955446e-22+n*t,n=12475304481671779e-21+n*t,n=-47318229009055734e-21+n*t,n=6828485145957318e-20+n*t,n=24031110387097894e-21+n*t,n=-.0003550375203628475+n*t,n=.0009532893797373805+n*t,n=-.0016882755560235047+n*t,n=.002491442096107851+n*t,n=-.003751208507569241+n*t,n=.005370914553590064+n*t,n=1.0052589676941592+n*t,n=3.0838856104922208+n*t):Number.isFinite(t)?(t=Math.sqrt(t)-5,n=-27109920616438573e-27,n=-2555641816996525e-25+n*t,n=15076572693500548e-25+n*t,n=-3789465440126737e-24+n*t,n=761570120807834e-23+n*t,n=-1496002662714924e-23+n*t,n=2914795345090108e-23+n*t,n=-6771199775845234e-23+n*t,n=22900482228026655e-23+n*t,n=-99298272942317e-20+n*t,n=4526062597223154e-21+n*t,n=-1968177810553167e-20+n*t,n=7599527703001776e-20+n*t,n=-.00021503011930044477+n*t,n=-.00013871931833623122+n*t,n=1.0103004648645344+n*t,n=4.849906401408584+n*t):n=1/0,n*e}function MR(e,t){let n,r;const i={mean(o){return arguments.length?(n=o||0,i):n},stdev(o){return arguments.length?(r=o??1,i):r},sample:()=>FC(n,r),pdf:o=>TR(o,n,r),cdf:o=>PC(o,n,r),icdf:o=>RC(o,n,r)};return i.mean(e).stdev(t)}function FR(e,t){const n=MR();let r=0;const i={data(o){return arguments.length?(e=o,r=o?o.length:0,i.bandwidth(t)):e},bandwidth(o){return arguments.length?(t=o,!t&&e&&(t=AR(e)),i):t},sample(){return e[~~(No()*r)]+t*n.sample()},pdf(o){let s=0,a=0;for(;a<r;++a)s+=n.pdf((o-e[a])/t);return s/t/r},cdf(o){let s=0,a=0;for(;a<r;++a)s+=n.cdf((o-e[a])/t);return s/r},icdf(){throw Error("KDE icdf not supported.")}};return i.data(e)}function PR(e,t){return e=e||0,t=t??1,Math.exp(e+FC()*t)}function RR(e,t,n){if(e<=0)return 0;t=t||0,n=n??1;const r=(Math.log(e)-t)/n;return Math.exp(-.5*r*r)/(n*JZ*e)}function DR(e,t,n){return PC(Math.log(e),t,n)}function OR(e,t,n){return Math.exp(RC(e,t,n))}function eJ(e,t){let n,r;const i={mean(o){return arguments.length?(n=o||0,i):n},stdev(o){return arguments.length?(r=o??1,i):r},sample:()=>PR(n,r),pdf:o=>RR(o,n,r),cdf:o=>DR(o,n,r),icdf:o=>OR(o,n,r)};return i.mean(e).stdev(t)}function tJ(e,t){let n=0,r;function i(s){const a=[];let l=0,u;for(u=0;u<n;++u)l+=a[u]=s[u]==null?1:+s[u];for(u=0;u<n;++u)a[u]/=l;return a}const o={weights(s){return arguments.length?(r=i(t=s||[]),o):t},distributions(s){return arguments.length?(s?(n=s.length,e=s):(n=0,e=[]),o.weights(t)):e},sample(){const s=No();let a=e[n-1],l=r[0],u=0;for(;u<n-1;l+=r[++u])if(s<l){a=e[u];break}return a.sample()},pdf(s){let a=0,l=0;for(;l<n;++l)a+=r[l]*e[l].pdf(s);return a},cdf(s){let a=0,l=0;for(;l<n;++l)a+=r[l]*e[l].cdf(s);return a},icdf(){throw Error("Mixture icdf not supported.")}};return o.distributions(e).weights(t)}function NR(e,t){return t==null&&(t=e??1,e=0),e+(t-e)*No()}function IR(e,t,n){return n==null&&(n=t??1,t=0),e>=t&&e<=n?1/(n-t):0}function LR(e,t,n){return n==null&&(n=t??1,t=0),e<t?0:e>n?1:(e-t)/(n-t)}function zR(e,t,n){return n==null&&(n=t??1,t=0),e>=0&&e<=1?t+e*(n-t):NaN}function nJ(e,t){let n,r;const i={min(o){return arguments.length?(n=o||0,i):n},max(o){return arguments.length?(r=o??1,i):r},sample:()=>NR(n,r),pdf:o=>IR(o,n,r),cdf:o=>LR(o,n,r),icdf:o=>zR(o,n,r)};return t==null&&(t=e??1,e=0),i.min(e).max(t)}function jR(e,t,n){let r=0,i=0;for(const o of e){const s=n(o);t(o)==null||s==null||isNaN(s)||(r+=(s-r)/++i)}return{coef:[r],predict:()=>r,rSquared:0}}function mv(e,t,n,r){const i=r-e*e,o=Math.abs(i)<1e-24?0:(n-e*t)/i;return[t-o*e,o]}function DC(e,t,n,r){e=e.filter(h=>{let p=t(h),g=n(h);return p!=null&&(p=+p)>=p&&g!=null&&(g=+g)>=g}),r&&e.sort((h,p)=>t(h)-t(p));const i=e.length,o=new Float64Array(i),s=new Float64Array(i);let a=0,l=0,u=0,c,f,d;for(d of e)o[a]=c=+t(d),s[a]=f=+n(d),++a,l+=(c-l)/a,u+=(f-u)/a;for(a=0;a<i;++a)o[a]-=l,s[a]-=u;return[o,s,l,u]}function yv(e,t,n,r){let i=-1,o,s;for(const a of e)o=t(a),s=n(a),o!=null&&(o=+o)>=o&&s!=null&&(s=+s)>=s&&r(o,s,++i)}function nm(e,t,n,r,i){let o=0,s=0;return yv(e,t,n,(a,l)=>{const u=l-i(a),c=l-r;o+=u*u,s+=c*c}),1-o/s}function BR(e,t,n){let r=0,i=0,o=0,s=0,a=0;yv(e,t,n,(c,f)=>{++a,r+=(c-r)/a,i+=(f-i)/a,o+=(c*f-o)/a,s+=(c*c-s)/a});const l=mv(r,i,o,s),u=c=>l[0]+l[1]*c;return{coef:l,predict:u,rSquared:nm(e,t,n,i,u)}}function rJ(e,t,n){let r=0,i=0,o=0,s=0,a=0;yv(e,t,n,(c,f)=>{++a,c=Math.log(c),r+=(c-r)/a,i+=(f-i)/a,o+=(c*f-o)/a,s+=(c*c-s)/a});const l=mv(r,i,o,s),u=c=>l[0]+l[1]*Math.log(c);return{coef:l,predict:u,rSquared:nm(e,t,n,i,u)}}function iJ(e,t,n){const[r,i,o,s]=DC(e,t,n);let a=0,l=0,u=0,c=0,f=0,d,h,p;yv(e,t,n,(v,b)=>{d=r[f++],h=Math.log(b),p=d*b,a+=(b*h-a)/f,l+=(p-l)/f,u+=(p*h-u)/f,c+=(d*p-c)/f});const[g,m]=mv(l/s,a/s,u/s,c/s),y=v=>Math.exp(g+m*(v-o));return{coef:[Math.exp(g-m*o),m],predict:y,rSquared:nm(e,t,n,s,y)}}function oJ(e,t,n){let r=0,i=0,o=0,s=0,a=0,l=0;yv(e,t,n,(f,d)=>{const h=Math.log(f),p=Math.log(d);++l,r+=(h-r)/l,i+=(p-i)/l,o+=(h*p-o)/l,s+=(h*h-s)/l,a+=(d-a)/l});const u=mv(r,i,o,s),c=f=>u[0]*Math.pow(f,u[1]);return u[0]=Math.exp(u[0]),{coef:u,predict:c,rSquared:nm(e,t,n,a,c)}}function UR(e,t,n){const[r,i,o,s]=DC(e,t,n),a=r.length;let l=0,u=0,c=0,f=0,d=0,h,p,g,m;for(h=0;h<a;)p=r[h],g=i[h++],m=p*p,l+=(m-l)/h,u+=(m*p-u)/h,c+=(m*m-c)/h,f+=(p*g-f)/h,d+=(m*g-d)/h;const y=c-l*l,v=l*y-u*u,b=(d*l-f*u)/v,x=(f*y-d*u)/v,w=-b*l,k=S=>(S=S-o,b*S*S+x*S+w+s);return{coef:[w-x*o+b*o*o+s,x-2*b*o,b],predict:k,rSquared:nm(e,t,n,s,k)}}function sJ(e,t,n,r){if(r===0)return jR(e,t,n);if(r===1)return BR(e,t,n);if(r===2)return UR(e,t,n);const[i,o,s,a]=DC(e,t,n),l=i.length,u=[],c=[],f=r+1;let d,h,p,g,m;for(d=0;d<f;++d){for(p=0,g=0;p<l;++p)g+=Math.pow(i[p],d)*o[p];for(u.push(g),m=new Float64Array(f),h=0;h<f;++h){for(p=0,g=0;p<l;++p)g+=Math.pow(i[p],d+h);m[h]=g}c.push(m)}c.push(u);const y=M4e(c),v=b=>{b-=s;let x=a+y[0]+y[1]*b+y[2]*b*b;for(d=3;d<f;++d)x+=y[d]*Math.pow(b,d);return x};return{coef:T4e(f,y,-s,a),predict:v,rSquared:nm(e,t,n,a,v)}}function T4e(e,t,n,r){const i=Array(e);let o,s,a,l;for(o=0;o<e;++o)i[o]=0;for(o=e-1;o>=0;--o)for(a=t[o],l=1,i[o]+=a,s=1;s<=o;++s)l*=(o+1-s)/s,i[o-s]+=a*Math.pow(n,s)*l;return i[0]+=r,i}function M4e(e){const t=e.length-1,n=[];let r,i,o,s,a;for(r=0;r<t;++r){for(s=r,i=r+1;i<t;++i)Math.abs(e[r][i])>Math.abs(e[r][s])&&(s=i);for(o=r;o<t+1;++o)a=e[o][r],e[o][r]=e[o][s],e[o][s]=a;for(i=r+1;i<t;++i)for(o=t;o>=r;o--)e[o][i]-=e[o][r]*e[r][i]/e[r][r]}for(i=t-1;i>=0;--i){for(a=0,o=i+1;o<t;++o)a+=e[o][i]*n[o];n[i]=(e[t][i]-a)/e[i][i]}return n}const Sz=2,kz=1e-12;function aJ(e,t,n,r){const[i,o,s,a]=DC(e,t,n,!0),l=i.length,u=Math.max(2,~~(r*l)),c=new Float64Array(l),f=new Float64Array(l),d=new Float64Array(l).fill(1);for(let h=-1;++h<=Sz;){const p=[0,u-1];for(let m=0;m<l;++m){const y=i[m],v=p[0],b=p[1],x=y-i[v]>i[b]-y?v:b;let w=0,k=0,S=0,C=0,_=0;const $=1/Math.abs(i[x]-y||1);for(let M=v;M<=b;++M){const P=i[M],R=o[M],D=F4e(Math.abs(y-P)*$)*d[M],I=P*D;w+=D,k+=I,S+=R*D,C+=R*I,_+=P*I}const[A,O]=mv(k/w,S/w,C/w,_/w);c[m]=A+O*y,f[m]=Math.abs(o[m]-c[m]),P4e(i,m+1,p)}if(h===Sz)break;const g=qQ(f);if(Math.abs(g)<kz)break;for(let m=0,y,v;m<l;++m)y=f[m]/(6*g),d[m]=y>=1?kz:(v=1-y*y)*v}return R4e(i,c,s,a)}function F4e(e){return(e=1-e*e*e)*e*e}function P4e(e,t,n){const r=e[t];let i=n[0],o=n[1]+1;if(!(o>=e.length))for(;t>i&&e[o]-r<=r-e[i];)n[0]=++i,n[1]=o,++o}function R4e(e,t,n,r){const i=e.length,o=[];let s=0,a=0,l=[],u;for(;s<i;++s)u=e[s]+n,l[0]===u?l[1]+=(t[s]-l[1])/++a:(a=0,l[1]+=r,l=[u,t[s]],o.push(l));return l[1]+=r,o}const D4e=.5*Math.PI/180;function OC(e,t,n,r){n=n||25,r=Math.max(n,r||200);const i=g=>[g,e(g)],o=t[0],s=t[1],a=s-o,l=a/r,u=[i(o)],c=[];if(n===r){for(let g=1;g<r;++g)u.push(i(o+g/n*a));return u.push(i(s)),u}else{c.push(i(s));for(let g=n;--g>0;)c.push(i(o+g/n*a))}let f=u[0],d=c[c.length-1];const h=1/a,p=O4e(f[1],c);for(;d;){const g=i((f[0]+d[0])/2);g[0]-f[0]>=l&&N4e(f,g,d,h,p)>D4e?c.push(g):(f=d,u.push(d),c.pop()),d=c[c.length-1]}return u}function O4e(e,t){let n=e,r=e;const i=t.length;for(let o=0;o<i;++o){const s=t[o][1];s<n&&(n=s),s>r&&(r=s)}return 1/(r-n)}function N4e(e,t,n,r,i){const o=Math.atan2(i*(n[1]-e[1]),r*(n[0]-e[0])),s=Math.atan2(i*(t[1]-e[1]),r*(t[0]-e[0]));return Math.abs(o-s)}function I4e(e){return t=>{const n=e.length;let r=1,i=String(e[0](t));for(;r<n;++r)i+="|"+e[r](t);return i}}function C3(e){return!e||!e.length?function(){return""}:e.length===1?e[0]:I4e(e)}function lJ(e,t,n){return n||e+(t?"_"+t:"")}const sA=()=>{},L4e={init:sA,add:sA,rem:sA,idx:0},f1={values:{init:e=>e.cell.store=!0,value:e=>e.cell.data.values(),idx:-1},count:{value:e=>e.cell.num},__count__:{value:e=>e.missing+e.valid},missing:{value:e=>e.missing},valid:{value:e=>e.valid},sum:{init:e=>e.sum=0,value:e=>e.valid?e.sum:void 0,add:(e,t)=>e.sum+=+t,rem:(e,t)=>e.sum-=t},product:{init:e=>e.product=1,value:e=>e.valid?e.product:void 0,add:(e,t)=>e.product*=t,rem:(e,t)=>e.product/=t},mean:{init:e=>e.mean=0,value:e=>e.valid?e.mean:void 0,add:(e,t)=>(e.mean_d=t-e.mean,e.mean+=e.mean_d/e.valid),rem:(e,t)=>(e.mean_d=t-e.mean,e.mean-=e.valid?e.mean_d/e.valid:e.mean)},average:{value:e=>e.valid?e.mean:void 0,req:["mean"],idx:1},variance:{init:e=>e.dev=0,value:e=>e.valid>1?e.dev/(e.valid-1):void 0,add:(e,t)=>e.dev+=e.mean_d*(t-e.mean),rem:(e,t)=>e.dev-=e.mean_d*(t-e.mean),req:["mean"],idx:1},variancep:{value:e=>e.valid>1?e.dev/e.valid:void 0,req:["variance"],idx:2},stdev:{value:e=>e.valid>1?Math.sqrt(e.dev/(e.valid-1)):void 0,req:["variance"],idx:2},stdevp:{value:e=>e.valid>1?Math.sqrt(e.dev/e.valid):void 0,req:["variance"],idx:2},stderr:{value:e=>e.valid>1?Math.sqrt(e.dev/(e.valid*(e.valid-1))):void 0,req:["variance"],idx:2},distinct:{value:e=>e.cell.data.distinct(e.get),req:["values"],idx:3},ci0:{value:e=>e.cell.data.ci0(e.get),req:["values"],idx:3},ci1:{value:e=>e.cell.data.ci1(e.get),req:["values"],idx:3},median:{value:e=>e.cell.data.q2(e.get),req:["values"],idx:3},q1:{value:e=>e.cell.data.q1(e.get),req:["values"],idx:3},q3:{value:e=>e.cell.data.q3(e.get),req:["values"],idx:3},min:{init:e=>e.min=void 0,value:e=>e.min=Number.isNaN(e.min)?e.cell.data.min(e.get):e.min,add:(e,t)=>{(t<e.min||e.min===void 0)&&(e.min=t)},rem:(e,t)=>{t<=e.min&&(e.min=NaN)},req:["values"],idx:4},max:{init:e=>e.max=void 0,value:e=>e.max=Number.isNaN(e.max)?e.cell.data.max(e.get):e.max,add:(e,t)=>{(t>e.max||e.max===void 0)&&(e.max=t)},rem:(e,t)=>{t>=e.max&&(e.max=NaN)},req:["values"],idx:4},argmin:{init:e=>e.argmin=void 0,value:e=>e.argmin||e.cell.data.argmin(e.get),add:(e,t,n)=>{t<e.min&&(e.argmin=n)},rem:(e,t)=>{t<=e.min&&(e.argmin=void 0)},req:["min","values"],idx:3},argmax:{init:e=>e.argmax=void 0,value:e=>e.argmax||e.cell.data.argmax(e.get),add:(e,t,n)=>{t>e.max&&(e.argmax=n)},rem:(e,t)=>{t>=e.max&&(e.argmax=void 0)},req:["max","values"],idx:3},exponential:{init:(e,t)=>{e.exp=0,e.exp_r=t},value:e=>e.valid?e.exp*(1-e.exp_r)/(1-e.exp_r**e.valid):void 0,add:(e,t)=>e.exp=e.exp_r*e.exp+t,rem:(e,t)=>e.exp=(e.exp-t/e.exp_r**(e.valid-1))/e.exp_r},exponentialb:{value:e=>e.valid?e.exp*(1-e.exp_r):void 0,req:["exponential"],idx:1}},vv=Object.keys(f1).filter(e=>e!=="__count__");function z4e(e,t){return(n,r)=>Oe({name:e,aggregate_param:r,out:n||e},L4e,t)}[...vv,"__count__"].forEach(e=>{f1[e]=z4e(e,f1[e])});function uJ(e,t,n){return f1[e](n,t)}function cJ(e,t){return e.idx-t.idx}function j4e(e){const t={};e.forEach(r=>t[r.name]=r);const n=r=>{r.req&&r.req.forEach(i=>{t[i]||n(t[i]=f1[i]())})};return e.forEach(n),Object.values(t).sort(cJ)}function B4e(){this.valid=0,this.missing=0,this._ops.forEach(e=>e.aggregate_param==null?e.init(this):e.init(this,e.aggregate_param))}function U4e(e,t){if(e==null||e===""){++this.missing;return}e===e&&(++this.valid,this._ops.forEach(n=>n.add(this,e,t)))}function V4e(e,t){if(e==null||e===""){--this.missing;return}e===e&&(--this.valid,this._ops.forEach(n=>n.rem(this,e,t)))}function W4e(e){return this._out.forEach(t=>e[t.out]=t.value(this)),e}function fJ(e,t){const n=t||Ar,r=j4e(e),i=e.slice().sort(cJ);function o(s){this._ops=r,this._out=i,this.cell=s,this.init()}return o.prototype.init=B4e,o.prototype.add=U4e,o.prototype.rem=V4e,o.prototype.set=W4e,o.prototype.get=n,o.fields=e.map(s=>s.out),o}function VR(e){this._key=e?Ro(e):ve,this.reset()}const or=VR.prototype;or.reset=function(){this._add=[],this._rem=[],this._ext=null,this._get=null,this._q=null};or.add=function(e){this._add.push(e)};or.rem=function(e){this._rem.push(e)};or.values=function(){if(this._get=null,this._rem.length===0)return this._add;const e=this._add,t=this._rem,n=this._key,r=e.length,i=t.length,o=Array(r-i),s={};let a,l,u;for(a=0;a<i;++a)s[n(t[a])]=1;for(a=0,l=0;a<r;++a)s[n(u=e[a])]?s[n(u)]=0:o[l++]=u;return this._rem=[],this._add=o};or.distinct=function(e){const t=this.values(),n={};let r=t.length,i=0,o;for(;--r>=0;)o=e(t[r])+"",ce(n,o)||(n[o]=1,++i);return i};or.extent=function(e){if(this._get!==e||!this._ext){const t=this.values(),n=AQ(t,e);this._ext=[t[n[0]],t[n[1]]],this._get=e}return this._ext};or.argmin=function(e){return this.extent(e)[0]||{}};or.argmax=function(e){return this.extent(e)[1]||{}};or.min=function(e){const t=this.extent(e)[0];return t!=null?e(t):void 0};or.max=function(e){const t=this.extent(e)[1];return t!=null?e(t):void 0};or.quartile=function(e){return(this._get!==e||!this._q)&&(this._q=$R(this.values(),e),this._get=e),this._q};or.q1=function(e){return this.quartile(e)[0]};or.q2=function(e){return this.quartile(e)[1]};or.q3=function(e){return this.quartile(e)[2]};or.ci=function(e){return(this._get!==e||!this._ci)&&(this._ci=QZ(this.values(),1e3,.05,e),this._get=e),this._ci};or.ci0=function(e){return this.ci(e)[0]};or.ci1=function(e){return this.ci(e)[1]};function uc(e){V.call(this,null,e),this._adds=[],this._mods=[],this._alen=0,this._mlen=0,this._drop=!0,this._cross=!1,this._dims=[],this._dnames=[],this._measures=[],this._countOnly=!1,this._counts=null,this._prev=null,this._inputs=null,this._outputs=null}uc.Definition={type:"Aggregate",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:vv},{name:"aggregate_params",type:"number",null:!0,array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"as",type:"string",null:!0,array:!0},{name:"drop",type:"boolean",default:!0},{name:"cross",type:"boolean",default:!1},{name:"key",type:"field"}]};ne(uc,V,{transform(e,t){const n=this,r=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=e.modified();return n.stamp=r.stamp,n.value&&(i||t.modified(n._inputs,!0))?(n._prev=n.value,n.value=i?n.init(e):Object.create(null),t.visit(t.SOURCE,o=>n.add(o))):(n.value=n.value||n.init(e),t.visit(t.REM,o=>n.rem(o)),t.visit(t.ADD,o=>n.add(o))),r.modifies(n._outputs),n._drop=e.drop!==!1,e.cross&&n._dims.length>1&&(n._drop=!1,n.cross()),t.clean()&&n._drop&&r.clean(!0).runAfter(()=>this.clean()),n.changes(r)},cross(){const e=this,t=e.value,n=e._dnames,r=n.map(()=>({})),i=n.length;function o(a){let l,u,c,f;for(l in a)for(c=a[l].tuple,u=0;u<i;++u)r[u][f=c[n[u]]]=f}o(e._prev),o(t);function s(a,l,u){const c=n[u],f=r[u++];for(const d in f){const h=a?a+"|"+d:d;l[c]=f[d],u<i?s(h,l,u):t[h]||e.cell(h,l)}}s("",{},0)},init(e){const t=this._inputs=[],n=this._outputs=[],r={};function i(v){const b=ae(kr(v)),x=b.length;let w=0,k;for(;w<x;++w)r[k=b[w]]||(r[k]=1,t.push(k))}this._dims=ae(e.groupby),this._dnames=this._dims.map(v=>{const b=nn(v);return i(v),n.push(b),b}),this.cellkey=e.key?e.key:C3(this._dims),this._countOnly=!0,this._counts=[],this._measures=[];const o=e.fields||[null],s=e.ops||["count"],a=e.aggregate_params||[null],l=e.as||[],u=o.length,c={};let f,d,h,p,g,m,y;for(u!==s.length&&q("Unmatched number of fields and aggregate ops."),y=0;y<u;++y){if(f=o[y],d=s[y],h=a[y]||null,f==null&&d!=="count"&&q("Null aggregate field specified."),g=nn(f),m=lJ(d,g,l[y]),n.push(m),d==="count"){this._counts.push(m);continue}p=c[g],p||(i(f),p=c[g]=[],p.field=f,this._measures.push(p)),d!=="count"&&(this._countOnly=!1),p.push(uJ(d,h,m))}return this._measures=this._measures.map(v=>fJ(v,v.field)),Object.create(null)},cellkey:C3(),cell(e,t){let n=this.value[e];return n?n.num===0&&this._drop&&n.stamp<this.stamp?(n.stamp=this.stamp,this._adds[this._alen++]=n):n.stamp<this.stamp&&(n.stamp=this.stamp,this._mods[this._mlen++]=n):(n=this.value[e]=this.newcell(e,t),this._adds[this._alen++]=n),n},newcell(e,t){const n={key:e,num:0,agg:null,tuple:this.newtuple(t,this._prev&&this._prev[e]),stamp:this.stamp,store:!1};if(!this._countOnly){const r=this._measures,i=r.length;n.agg=Array(i);for(let o=0;o<i;++o)n.agg[o]=new r[o](n)}return n.store&&(n.data=new VR),n},newtuple(e,t){const n=this._dnames,r=this._dims,i=r.length,o={};for(let s=0;s<i;++s)o[n[s]]=r[s](e);return t?VZ(t.tuple,o):at(o)},clean(){const e=this.value;for(const t in e)e[t].num===0&&delete e[t]},add(e){const t=this.cellkey(e),n=this.cell(t,e);if(n.num+=1,this._countOnly)return;n.store&&n.data.add(e);const r=n.agg;for(let i=0,o=r.length;i<o;++i)r[i].add(r[i].get(e),e)},rem(e){const t=this.cellkey(e),n=this.cell(t,e);if(n.num-=1,this._countOnly)return;n.store&&n.data.rem(e);const r=n.agg;for(let i=0,o=r.length;i<o;++i)r[i].rem(r[i].get(e),e)},celltuple(e){const t=e.tuple,n=this._counts;e.store&&e.data.values();for(let r=0,i=n.length;r<i;++r)t[n[r]]=e.num;if(!this._countOnly){const r=e.agg;for(let i=0,o=r.length;i<o;++i)r[i].set(t)}return t},changes(e){const t=this._adds,n=this._mods,r=this._prev,i=this._drop,o=e.add,s=e.rem,a=e.mod;let l,u,c,f;if(r)for(u in r)l=r[u],(!i||l.num)&&s.push(l.tuple);for(c=0,f=this._alen;c<f;++c)o.push(this.celltuple(t[c])),t[c]=null;for(c=0,f=this._mlen;c<f;++c)l=n[c],(l.num===0&&i?s:a).push(this.celltuple(l)),n[c]=null;return this._alen=this._mlen=0,this._prev=null,e}});const H4e=1e-14;function WR(e){V.call(this,null,e)}WR.Definition={type:"Bin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean",default:!0},{name:"anchor",type:"number"},{name:"maxbins",type:"number",default:20},{name:"base",type:"number",default:10},{name:"divide",type:"number",array:!0,default:[5,2]},{name:"extent",type:"number",array:!0,length:2,required:!0},{name:"span",type:"number"},{name:"step",type:"number"},{name:"steps",type:"number",array:!0},{name:"minstep",type:"number",default:0},{name:"nice",type:"boolean",default:!0},{name:"name",type:"string"},{name:"as",type:"string",array:!0,length:2,default:["bin0","bin1"]}]};ne(WR,V,{transform(e,t){const n=e.interval!==!1,r=this._bins(e),i=r.start,o=r.step,s=e.as||["bin0","bin1"],a=s[0],l=s[1];let u;return e.modified()?(t=t.reflow(!0),u=t.SOURCE):u=t.modified(kr(e.field))?t.ADD_MOD:t.ADD,t.visit(u,n?c=>{const f=r(c);c[a]=f,c[l]=f==null?null:i+o*(1+(f-i)/o)}:c=>c[a]=r(c)),t.modifies(n?s:a)},_bins(e){if(this.value&&!e.modified())return this.value;const t=e.field,n=KZ(e),r=n.step;let i=n.start,o=i+Math.ceil((n.stop-i)/r)*r,s,a;(s=e.anchor)!=null&&(a=s-(i+r*Math.floor((s-i)/r)),i+=a,o+=a);const l=function(u){let c=wr(t(u));return c==null?null:c<i?-1/0:c>o?1/0:(c=Math.max(i,Math.min(c,o-r)),i+r*Math.floor(H4e+(c-i)/r))};return l.start=i,l.stop=n.stop,l.step=r,this.value=Ei(l,kr(t),e.name||"bin_"+nn(t))}});function dJ(e,t,n){const r=e;let i=t||[],o=n||[],s={},a=0;return{add:l=>o.push(l),remove:l=>s[r(l)]=++a,size:()=>i.length,data:(l,u)=>(a&&(i=i.filter(c=>!s[r(c)]),s={},a=0),u&&l&&i.sort(l),o.length&&(i=l?DQ(l,i,o.sort(l)):i.concat(o),o=[]),i)}}function HR(e){V.call(this,[],e)}HR.Definition={type:"Collect",metadata:{source:!0},params:[{name:"sort",type:"compare"}]};ne(HR,V,{transform(e,t){const n=t.fork(t.ALL),r=dJ(ve,this.value,n.materialize(n.ADD).add),i=e.sort,o=t.changed()||i&&(e.modified("sort")||t.modified(i.fields));return n.visit(n.REM,r.remove),this.modified(o),this.value=n.source=r.data(Ud(i),o),t.source&&t.source.root&&(this.value.root=t.source.root),n}});function hJ(e){St.call(this,null,q4e,e)}ne(hJ,St);function q4e(e){return this.value&&!e.modified()?this.value:oR(e.fields,e.orders)}function qR(e){V.call(this,null,e)}qR.Definition={type:"CountPattern",metadata:{generates:!0,changes:!0},params:[{name:"field",type:"field",required:!0},{name:"case",type:"enum",values:["upper","lower","mixed"],default:"mixed"},{name:"pattern",type:"string",default:'[\\w"]+'},{name:"stopwords",type:"string",default:""},{name:"as",type:"string",array:!0,length:2,default:["text","count"]}]};function G4e(e,t,n){switch(t){case"upper":e=e.toUpperCase();break;case"lower":e=e.toLowerCase();break}return e.match(n)}ne(qR,V,{transform(e,t){const n=f=>d=>{for(var h=G4e(a(d),e.case,o)||[],p,g=0,m=h.length;g<m;++g)s.test(p=h[g])||f(p)},r=this._parameterCheck(e,t),i=this._counts,o=this._match,s=this._stop,a=e.field,l=e.as||["text","count"],u=n(f=>i[f]=1+(i[f]||0)),c=n(f=>i[f]-=1);return r?t.visit(t.SOURCE,u):(t.visit(t.ADD,u),t.visit(t.REM,c)),this._finish(t,l)},_parameterCheck(e,t){let n=!1;return(e.modified("stopwords")||!this._stop)&&(this._stop=new RegExp("^"+(e.stopwords||"")+"$","i"),n=!0),(e.modified("pattern")||!this._match)&&(this._match=new RegExp(e.pattern||"[\\w']+","g"),n=!0),(e.modified("field")||t.modified(e.field.fields))&&(n=!0),n&&(this._counts={}),n},_finish(e,t){const n=this._counts,r=this._tuples||(this._tuples={}),i=t[0],o=t[1],s=e.fork(e.NO_SOURCE|e.NO_FIELDS);let a,l,u;for(a in n)l=r[a],u=n[a]||0,!l&&u?(r[a]=l=at({}),l[i]=a,l[o]=u,s.add.push(l)):u===0?(l&&s.rem.push(l),n[a]=null,r[a]=null):l[o]!==u&&(l[o]=u,s.mod.push(l));return s.modifies(t)}});function GR(e){V.call(this,null,e)}GR.Definition={type:"Cross",metadata:{generates:!0},params:[{name:"filter",type:"expr"},{name:"as",type:"string",array:!0,length:2,default:["a","b"]}]};ne(GR,V,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.as||["a","b"],i=r[0],o=r[1],s=!this.value||t.changed(t.ADD_REM)||e.modified("as")||e.modified("filter");let a=this.value;return s?(a&&(n.rem=a),a=t.materialize(t.SOURCE).source,n.add=this.value=Y4e(a,i,o,e.filter||Do)):n.mod=a,n.source=this.value,n.modifies(r)}});function Y4e(e,t,n,r){for(var i=[],o={},s=e.length,a=0,l,u;a<s;++a)for(o[t]=u=e[a],l=0;l<s;++l)o[n]=e[l],r(o)&&(i.push(at(o)),o={},o[t]=u);return i}const Cz={kde:FR,mixture:tJ,normal:MR,lognormal:eJ,uniform:nJ},X4e="distributions",_z="function",K4e="field";function pJ(e,t){const n=e[_z];ce(Cz,n)||q("Unknown distribution function: "+n);const r=Cz[n]();for(const i in e)i===K4e?r.data((e.from||t()).map(e[i])):i===X4e?r[i](e[i].map(o=>pJ(o,t))):typeof r[i]===_z&&r[i](e[i]);return r}function YR(e){V.call(this,null,e)}const gJ=[{key:{function:"normal"},params:[{name:"mean",type:"number",default:0},{name:"stdev",type:"number",default:1}]},{key:{function:"lognormal"},params:[{name:"mean",type:"number",default:0},{name:"stdev",type:"number",default:1}]},{key:{function:"uniform"},params:[{name:"min",type:"number",default:0},{name:"max",type:"number",default:1}]},{key:{function:"kde"},params:[{name:"field",type:"field",required:!0},{name:"from",type:"data"},{name:"bandwidth",type:"number",default:0}]}],Q4e={key:{function:"mixture"},params:[{name:"distributions",type:"param",array:!0,params:gJ},{name:"weights",type:"number",array:!0}]};YR.Definition={type:"Density",metadata:{generates:!0},params:[{name:"extent",type:"number",array:!0,length:2},{name:"steps",type:"number"},{name:"minsteps",type:"number",default:25},{name:"maxsteps",type:"number",default:200},{name:"method",type:"string",default:"pdf",values:["pdf","cdf"]},{name:"distribution",type:"param",params:gJ.concat(Q4e)},{name:"as",type:"string",array:!0,default:["value","density"]}]};ne(YR,V,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const r=pJ(e.distribution,Z4e(t)),i=e.steps||e.minsteps||25,o=e.steps||e.maxsteps||200;let s=e.method||"pdf";s!=="pdf"&&s!=="cdf"&&q("Invalid density method: "+s),!e.extent&&!r.data&&q("Missing density extent parameter."),s=r[s];const a=e.as||["value","density"],l=e.extent||Sa(r.data()),u=OC(s,l,i,o).map(c=>{const f={};return f[a[0]]=c[0],f[a[1]]=c[1],at(f)});this.value&&(n.rem=this.value),this.value=n.add=n.source=u}return n}});function Z4e(e){return()=>e.materialize(e.SOURCE).source}function mJ(e,t){return e?e.map((n,r)=>t[r]||nn(n)):null}function XR(e,t,n){const r=[],i=f=>f(l);let o,s,a,l,u,c;if(t==null)r.push(e.map(n));else for(o={},s=0,a=e.length;s<a;++s)l=e[s],u=t.map(i),c=o[u],c||(o[u]=c=[],c.dims=u,r.push(c)),c.push(n(l));return r}const yJ="bin";function KR(e){V.call(this,null,e)}KR.Definition={type:"DotBin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"step",type:"number"},{name:"smooth",type:"boolean",default:!1},{name:"as",type:"string",default:yJ}]};const J4e=(e,t)=>cv(Sa(e,t))/30;ne(KR,V,{transform(e,t){if(this.value&&!(e.modified()||t.changed()))return t;const n=t.materialize(t.SOURCE).source,r=XR(t.source,e.groupby,Ar),i=e.smooth||!1,o=e.field,s=e.step||J4e(n,o),a=Ud((p,g)=>o(p)-o(g)),l=e.as||yJ,u=r.length;let c=1/0,f=-1/0,d=0,h;for(;d<u;++d){const p=r[d].sort(a);h=-1;for(const g of ZZ(p,s,i,o))g<c&&(c=g),g>f&&(f=g),p[++h][l]=g}return this.value={start:c,stop:f,step:s},t.reflow(!0).modifies(l)}});function vJ(e){St.call(this,null,eMe,e),this.modified(!0)}ne(vJ,St);function eMe(e){const t=e.expr;return this.value&&!e.modified("expr")?this.value:Ei(n=>t(n,e),kr(t),nn(t))}function QR(e){V.call(this,[void 0,void 0],e)}QR.Definition={type:"Extent",metadata:{},params:[{name:"field",type:"field",required:!0}]};ne(QR,V,{transform(e,t){const n=this.value,r=e.field,i=t.changed()||t.modified(r.fields)||e.modified("field");let o=n[0],s=n[1];if((i||o==null)&&(o=1/0,s=-1/0),t.visit(i?t.SOURCE:t.ADD,a=>{const l=wr(r(a));l!=null&&(l<o&&(o=l),l>s&&(s=l))}),!Number.isFinite(o)||!Number.isFinite(s)){let a=nn(r);a&&(a=` for field "${a}"`),t.dataflow.warn(`Infinite extent${a}: [${o}, ${s}]`),o=s=void 0}this.value=[o,s]}});function ZR(e,t){St.call(this,e),this.parent=t,this.count=0}ne(ZR,St,{connect(e){return this.detachSubflow=e.detachSubflow,this.targets().add(e),e.source=this},add(e){this.count+=1,this.value.add.push(e)},rem(e){this.count-=1,this.value.rem.push(e)},mod(e){this.value.mod.push(e)},init(e){this.value.init(e,e.NO_SOURCE)},evaluate(){return this.value}});function NC(e){V.call(this,{},e),this._keys=Zg();const t=this._targets=[];t.active=0,t.forEach=n=>{for(let r=0,i=t.active;r<i;++r)n(t[r],r,t)}}ne(NC,V,{activate(e){this._targets[this._targets.active++]=e},subflow(e,t,n,r){const i=this.value;let o=ce(i,e)&&i[e],s,a;return o?o.value.stamp<n.stamp&&(o.init(n),this.activate(o)):(a=r||(a=this._group[e])&&a.tuple,s=n.dataflow,o=new ZR(n.fork(n.NO_SOURCE),this),s.add(o).connect(t(s,e,a)),i[e]=o,this.activate(o)),o},clean(){const e=this.value;let t=0;for(const n in e)if(e[n].count===0){const r=e[n].detachSubflow;r&&r(),delete e[n],++t}if(t){const n=this._targets.filter(r=>r&&r.count>0);this.initTargets(n)}},initTargets(e){const t=this._targets,n=t.length,r=e?e.length:0;let i=0;for(;i<r;++i)t[i]=e[i];for(;i<n&&t[i]!=null;++i)t[i]=null;t.active=r},transform(e,t){const n=t.dataflow,r=e.key,i=e.subflow,o=this._keys,s=e.modified("key"),a=l=>this.subflow(l,i,t);return this._group=e.group||{},this.initTargets(),t.visit(t.REM,l=>{const u=ve(l),c=o.get(u);c!==void 0&&(o.delete(u),a(c).rem(l))}),t.visit(t.ADD,l=>{const u=r(l);o.set(ve(l),u),a(u).add(l)}),s||t.modified(r.fields)?t.visit(t.MOD,l=>{const u=ve(l),c=o.get(u),f=r(l);c===f?a(f).mod(l):(o.set(u,f),a(c).rem(l),a(f).add(l))}):t.changed(t.MOD)&&t.visit(t.MOD,l=>{a(o.get(ve(l))).mod(l)}),s&&t.visit(t.REFLOW,l=>{const u=ve(l),c=o.get(u),f=r(l);c!==f&&(o.set(u,f),a(c).rem(l),a(f).add(l))}),t.clean()?n.runAfter(()=>{this.clean(),o.clean()}):o.empty>n.cleanThreshold&&n.runAfter(o.clean),t}});function bJ(e){St.call(this,null,tMe,e)}ne(bJ,St);function tMe(e){return this.value&&!e.modified()?this.value:G(e.name)?ae(e.name).map(t=>Ro(t)):Ro(e.name,e.as)}function JR(e){V.call(this,Zg(),e)}JR.Definition={type:"Filter",metadata:{changes:!0},params:[{name:"expr",type:"expr",required:!0}]};ne(JR,V,{transform(e,t){const n=t.dataflow,r=this.value,i=t.fork(),o=i.add,s=i.rem,a=i.mod,l=e.expr;let u=!0;t.visit(t.REM,f=>{const d=ve(f);r.has(d)?r.delete(d):s.push(f)}),t.visit(t.ADD,f=>{l(f,e)?o.push(f):r.set(ve(f),1)});function c(f){const d=ve(f),h=l(f,e),p=r.get(d);h&&p?(r.delete(d),o.push(f)):!h&&!p?(r.set(d,1),s.push(f)):u&&h&&!p&&a.push(f)}return t.visit(t.MOD,c),e.modified()&&(u=!1,t.visit(t.REFLOW,c)),r.empty>n.cleanThreshold&&n.runAfter(r.clean),i}});function e6(e){V.call(this,[],e)}e6.Definition={type:"Flatten",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"index",type:"string"},{name:"as",type:"string",array:!0}]};ne(e6,V,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.fields,i=mJ(r,e.as||[]),o=e.index||null,s=i.length;return n.rem=this.value,t.visit(t.SOURCE,a=>{const l=r.map(p=>p(a)),u=l.reduce((p,g)=>Math.max(p,g.length),0);let c=0,f,d,h;for(;c<u;++c){for(d=kR(a),f=0;f<s;++f)d[i[f]]=(h=l[f][c])==null?null:h;o&&(d[o]=c),n.add.push(d)}}),this.value=n.source=n.add,o&&n.modifies(o),n.modifies(i)}});function t6(e){V.call(this,[],e)}t6.Definition={type:"Fold",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0,length:2,default:["key","value"]}]};ne(t6,V,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.fields,i=r.map(nn),o=e.as||["key","value"],s=o[0],a=o[1],l=r.length;return n.rem=this.value,t.visit(t.SOURCE,u=>{for(let c=0,f;c<l;++c)f=kR(u),f[s]=i[c],f[a]=r[c](u),n.add.push(f)}),this.value=n.source=n.add,n.modifies(o)}});function n6(e){V.call(this,null,e)}n6.Definition={type:"Formula",metadata:{modifies:!0},params:[{name:"expr",type:"expr",required:!0},{name:"as",type:"string",required:!0},{name:"initonly",type:"boolean"}]};ne(n6,V,{transform(e,t){const n=e.expr,r=e.as,i=e.modified(),o=e.initonly?t.ADD:i?t.SOURCE:t.modified(n.fields)||t.modified(r)?t.ADD_MOD:t.ADD;return i&&(t=t.materialize().reflow(!0)),e.initonly||t.modifies(r),t.visit(o,s=>s[r]=n(s,e))}});function xJ(e){V.call(this,[],e)}ne(xJ,V,{transform(e,t){const n=t.fork(t.ALL),r=e.generator;let i=this.value,o=e.size-i.length,s,a,l;if(o>0){for(s=[];--o>=0;)s.push(l=at(r(e))),i.push(l);n.add=n.add.length?n.materialize(n.ADD).add.concat(s):s}else a=i.slice(0,-o),n.rem=n.rem.length?n.materialize(n.REM).rem.concat(a):a,i=i.slice(-o);return n.source=this.value=i,n}});const Zb={value:"value",median:qQ,mean:I5e,min:h3,max:Gf},nMe=[];function r6(e){V.call(this,[],e)}r6.Definition={type:"Impute",metadata:{changes:!0},params:[{name:"field",type:"field",required:!0},{name:"key",type:"field",required:!0},{name:"keyvals",array:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"enum",default:"value",values:["value","mean","median","max","min"]},{name:"value",default:0}]};function rMe(e){var t=e.method||Zb.value,n;if(Zb[t]==null)q("Unrecognized imputation method: "+t);else return t===Zb.value?(n=e.value!==void 0?e.value:0,()=>n):Zb[t]}function iMe(e){const t=e.field;return n=>n?t(n):NaN}ne(r6,V,{transform(e,t){var n=t.fork(t.ALL),r=rMe(e),i=iMe(e),o=nn(e.field),s=nn(e.key),a=(e.groupby||[]).map(nn),l=oMe(t.source,e.groupby,e.key,e.keyvals),u=[],c=this.value,f=l.domain.length,d,h,p,g,m,y,v,b,x,w;for(m=0,b=l.length;m<b;++m)for(d=l[m],p=d.values,h=NaN,v=0;v<f;++v)if(d[v]==null){for(g=l.domain[v],w={_impute:!0},y=0,x=p.length;y<x;++y)w[a[y]]=p[y];w[s]=g,w[o]=Number.isNaN(h)?h=r(d,i):h,u.push(at(w))}return u.length&&(n.add=n.materialize(n.ADD).add.concat(u)),c.length&&(n.rem=n.materialize(n.REM).rem.concat(c)),this.value=u,n}});function oMe(e,t,n,r){var i=y=>y(m),o=[],s=r?r.slice():[],a={},l={},u,c,f,d,h,p,g,m;for(s.forEach((y,v)=>a[y]=v+1),d=0,g=e.length;d<g;++d)m=e[d],p=n(m),h=a[p]||(a[p]=s.push(p)),c=(u=t?t.map(i):nMe)+"",(f=l[c])||(f=l[c]=[],o.push(f),f.values=u),f[h-1]=m;return o.domain=s,o}function i6(e){uc.call(this,e)}i6.Definition={type:"JoinAggregate",metadata:{modifies:!0},params:[{name:"groupby",type:"field",array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"ops",type:"enum",array:!0,values:vv},{name:"as",type:"string",null:!0,array:!0},{name:"key",type:"field"}]};ne(i6,uc,{transform(e,t){const n=this,r=e.modified();let i;return n.value&&(r||t.modified(n._inputs,!0))?(i=n.value=r?n.init(e):{},t.visit(t.SOURCE,o=>n.add(o))):(i=n.value=n.value||this.init(e),t.visit(t.REM,o=>n.rem(o)),t.visit(t.ADD,o=>n.add(o))),n.changes(),t.visit(t.SOURCE,o=>{Oe(o,i[n.cellkey(o)].tuple)}),t.reflow(r).modifies(this._outputs)},changes(){const e=this._adds,t=this._mods;let n,r;for(n=0,r=this._alen;n<r;++n)this.celltuple(e[n]),e[n]=null;for(n=0,r=this._mlen;n<r;++n)this.celltuple(t[n]),t[n]=null;this._alen=this._mlen=0}});function o6(e){V.call(this,null,e)}o6.Definition={type:"KDE",metadata:{generates:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"cumulative",type:"boolean",default:!1},{name:"counts",type:"boolean",default:!1},{name:"bandwidth",type:"number",default:0},{name:"extent",type:"number",array:!0,length:2},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"steps",type:"number"},{name:"minsteps",type:"number",default:25},{name:"maxsteps",type:"number",default:200},{name:"as",type:"string",array:!0,default:["value","density"]}]};ne(o6,V,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const r=t.materialize(t.SOURCE).source,i=XR(r,e.groupby,e.field),o=(e.groupby||[]).map(nn),s=e.bandwidth,a=e.cumulative?"cdf":"pdf",l=e.as||["value","density"],u=[];let c=e.extent,f=e.steps||e.minsteps||25,d=e.steps||e.maxsteps||200;a!=="pdf"&&a!=="cdf"&&q("Invalid density method: "+a),e.resolve==="shared"&&(c||(c=Sa(r,e.field)),f=d=e.steps||d),i.forEach(h=>{const p=FR(h,s)[a],g=e.counts?h.length:1,m=c||Sa(h);OC(p,m,f,d).forEach(y=>{const v={};for(let b=0;b<o.length;++b)v[o[b]]=h.dims[b];v[l[0]]=y[0],v[l[1]]=y[1]*g,u.push(at(v))})}),this.value&&(n.rem=this.value),this.value=n.add=n.source=u}return n}});function wJ(e){St.call(this,null,sMe,e)}ne(wJ,St);function sMe(e){return this.value&&!e.modified()?this.value:aR(e.fields,e.flat)}function SJ(e){V.call(this,[],e),this._pending=null}ne(SJ,V,{transform(e,t){const n=t.dataflow;return this._pending?aA(this,t,this._pending):aMe(e)?t.StopPropagation:e.values?aA(this,t,n.parse(e.values,e.format)):e.async?{async:n.request(e.url,e.format).then(i=>(this._pending=ae(i.data),o=>o.touch(this)))}:n.request(e.url,e.format).then(r=>aA(this,t,ae(r.data)))}});function aMe(e){return e.modified("async")&&!(e.modified("values")||e.modified("url")||e.modified("format"))}function aA(e,t,n){n.forEach(at);const r=t.fork(t.NO_FIELDS&t.NO_SOURCE);return r.rem=e.value,e.value=r.source=r.add=n,e._pending=null,r.rem.length&&r.clean(!0),r}function s6(e){V.call(this,{},e)}s6.Definition={type:"Lookup",metadata:{modifies:!0},params:[{name:"index",type:"index",params:[{name:"from",type:"data",required:!0},{name:"key",type:"field",required:!0}]},{name:"values",type:"field",array:!0},{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0},{name:"default",default:null}]};ne(s6,V,{transform(e,t){const n=e.fields,r=e.index,i=e.values,o=e.default==null?null:e.default,s=e.modified(),a=n.length;let l=s?t.SOURCE:t.ADD,u=t,c=e.as,f,d,h;return i?(d=i.length,a>1&&!c&&q('Multi-field lookup requires explicit "as" parameter.'),c&&c.length!==a*d&&q('The "as" parameter has too few output field names.'),c=c||i.map(nn),f=function(p){for(var g=0,m=0,y,v;g<a;++g)if(v=r.get(n[g](p)),v==null)for(y=0;y<d;++y,++m)p[c[m]]=o;else for(y=0;y<d;++y,++m)p[c[m]]=i[y](v)}):(c||q("Missing output field names."),f=function(p){for(var g=0,m;g<a;++g)m=r.get(n[g](p)),p[c[g]]=m??o}),s?u=t.reflow(!0):(h=n.some(p=>t.modified(p.fields)),l|=h?t.MOD:0),t.visit(l,f),u.modifies(c)}});function kJ(e){St.call(this,null,lMe,e)}ne(kJ,St);function lMe(e){if(this.value&&!e.modified())return this.value;const t=e.extents,n=t.length;let r=1/0,i=-1/0,o,s;for(o=0;o<n;++o)s=t[o],s[0]<r&&(r=s[0]),s[1]>i&&(i=s[1]);return[r,i]}function CJ(e){St.call(this,null,uMe,e)}ne(CJ,St);function uMe(e){return this.value&&!e.modified()?this.value:e.values.reduce((t,n)=>t.concat(n),[])}function _J(e){V.call(this,null,e)}ne(_J,V,{transform(e,t){return this.modified(e.modified()),this.value=e,t.fork(t.NO_SOURCE|t.NO_FIELDS)}});function a6(e){uc.call(this,e)}a6.Definition={type:"Pivot",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"value",type:"field",required:!0},{name:"op",type:"enum",values:vv,default:"sum"},{name:"limit",type:"number",default:0},{name:"key",type:"field"}]};ne(a6,uc,{_transform:uc.prototype.transform,transform(e,t){return this._transform(cMe(e,t),t)}});function cMe(e,t){const n=e.field,r=e.value,i=(e.op==="count"?"__count__":e.op)||"sum",o=kr(n).concat(kr(r)),s=dMe(n,e.limit||0,t);return t.changed()&&e.set("__pivot__",null,null,!0),{key:e.key,groupby:e.groupby,ops:s.map(()=>i),fields:s.map(a=>fMe(a,n,r,o)),as:s.map(a=>a+""),modified:e.modified.bind(e)}}function fMe(e,t,n,r){return Ei(i=>t(i)===e?n(i):NaN,r,e+"")}function dMe(e,t,n){const r={},i=[];return n.visit(n.SOURCE,o=>{const s=e(o);r[s]||(r[s]=1,i.push(s))}),i.sort(kC),t?i.slice(0,t):i}function EJ(e){NC.call(this,e)}ne(EJ,NC,{transform(e,t){const n=e.subflow,r=e.field,i=o=>this.subflow(ve(o),n,t,o);return(e.modified("field")||r&&t.modified(kr(r)))&&q("PreFacet does not support field modification."),this.initTargets(),r?(t.visit(t.MOD,o=>{const s=i(o);r(o).forEach(a=>s.mod(a))}),t.visit(t.ADD,o=>{const s=i(o);r(o).forEach(a=>s.add(at(a)))}),t.visit(t.REM,o=>{const s=i(o);r(o).forEach(a=>s.rem(a))})):(t.visit(t.MOD,o=>i(o).mod(o)),t.visit(t.ADD,o=>i(o).add(o)),t.visit(t.REM,o=>i(o).rem(o))),t.clean()&&t.runAfter(()=>this.clean()),t}});function l6(e){V.call(this,null,e)}l6.Definition={type:"Project",metadata:{generates:!0,changes:!0},params:[{name:"fields",type:"field",array:!0},{name:"as",type:"string",null:!0,array:!0}]};ne(l6,V,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.fields,i=mJ(e.fields,e.as||[]),o=r?(a,l)=>hMe(a,l,r,i):AC;let s;return this.value?s=this.value:(t=t.addAll(),s=this.value={}),t.visit(t.REM,a=>{const l=ve(a);n.rem.push(s[l]),s[l]=null}),t.visit(t.ADD,a=>{const l=o(a,at({}));s[ve(a)]=l,n.add.push(l)}),t.visit(t.MOD,a=>{n.mod.push(o(a,s[ve(a)]))}),n}});function hMe(e,t,n,r){for(let i=0,o=n.length;i<o;++i)t[r[i]]=n[i](e);return t}function $J(e){V.call(this,null,e)}ne($J,V,{transform(e,t){return this.value=e.value,e.modified("value")?t.fork(t.NO_SOURCE|t.NO_FIELDS):t.StopPropagation}});function u6(e){V.call(this,null,e)}u6.Definition={type:"Quantile",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"probs",type:"number",array:!0},{name:"step",type:"number",default:.01},{name:"as",type:"string",array:!0,default:["prob","value"]}]};const pMe=1e-14;ne(u6,V,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=e.as||["prob","value"];if(this.value&&!e.modified()&&!t.changed())return n.source=this.value,n;const i=t.materialize(t.SOURCE).source,o=XR(i,e.groupby,e.field),s=(e.groupby||[]).map(nn),a=[],l=e.step||.01,u=e.probs||zi(l/2,1-pMe,l),c=u.length;return o.forEach(f=>{const d=ER(f,u);for(let h=0;h<c;++h){const p={};for(let g=0;g<s.length;++g)p[s[g]]=f.dims[g];p[r[0]]=u[h],p[r[1]]=d[h],a.push(at(p))}}),this.value&&(n.rem=this.value),this.value=n.add=n.source=a,n}});function AJ(e){V.call(this,null,e)}ne(AJ,V,{transform(e,t){let n,r;return this.value?r=this.value:(n=t=t.addAll(),r=this.value={}),e.derive&&(n=t.fork(t.NO_SOURCE),t.visit(t.REM,i=>{const o=ve(i);n.rem.push(r[o]),r[o]=null}),t.visit(t.ADD,i=>{const o=kR(i);r[ve(i)]=o,n.add.push(o)}),t.visit(t.MOD,i=>{const o=r[ve(i)];for(const s in i)o[s]=i[s],n.modifies(s);n.mod.push(o)})),n}});function c6(e){V.call(this,[],e),this.count=0}c6.Definition={type:"Sample",metadata:{},params:[{name:"size",type:"number",default:1e3}]};ne(c6,V,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.modified("size"),i=e.size,o=this.value.reduce((c,f)=>(c[ve(f)]=1,c),{});let s=this.value,a=this.count,l=0;function u(c){let f,d;s.length<i?s.push(c):(d=~~((a+1)*No()),d<s.length&&d>=l&&(f=s[d],o[ve(f)]&&n.rem.push(f),s[d]=c)),++a}if(t.rem.length&&(t.visit(t.REM,c=>{const f=ve(c);o[f]&&(o[f]=-1,n.rem.push(c)),--a}),s=s.filter(c=>o[ve(c)]!==-1)),(t.rem.length||r)&&s.length<i&&t.source&&(l=a=s.length,t.visit(t.SOURCE,c=>{o[ve(c)]||u(c)}),l=-1),r&&s.length>i){const c=s.length-i;for(let f=0;f<c;++f)o[ve(s[f])]=-1,n.rem.push(s[f]);s=s.slice(c)}return t.mod.length&&t.visit(t.MOD,c=>{o[ve(c)]&&n.mod.push(c)}),t.add.length&&t.visit(t.ADD,u),(t.add.length||l<0)&&(n.add=s.filter(c=>!o[ve(c)])),this.count=a,this.value=n.source=s,n}});function f6(e){V.call(this,null,e)}f6.Definition={type:"Sequence",metadata:{generates:!0,changes:!0},params:[{name:"start",type:"number",required:!0},{name:"stop",type:"number",required:!0},{name:"step",type:"number",default:1},{name:"as",type:"string",default:"data"}]};ne(f6,V,{transform(e,t){if(this.value&&!e.modified())return;const n=t.materialize().fork(t.MOD),r=e.as||"data";return n.rem=this.value?t.rem.concat(this.value):t.rem,this.value=zi(e.start,e.stop,e.step||1).map(i=>{const o={};return o[r]=i,at(o)}),n.add=t.add.concat(this.value),n}});function TJ(e){V.call(this,null,e),this.modified(!0)}ne(TJ,V,{transform(e,t){return this.value=t.source,t.changed()?t.fork(t.NO_SOURCE|t.NO_FIELDS):t.StopPropagation}});function d6(e){V.call(this,null,e)}const MJ=["unit0","unit1"];d6.Definition={type:"TimeUnit",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean",default:!0},{name:"units",type:"enum",values:pR,array:!0},{name:"step",type:"number",default:1},{name:"maxbins",type:"number",default:40},{name:"extent",type:"date",array:!0},{name:"timezone",type:"enum",default:"local",values:["local","utc"]},{name:"as",type:"string",array:!0,length:2,default:MJ}]};ne(d6,V,{transform(e,t){const n=e.field,r=e.interval!==!1,i=e.timezone==="utc",o=this._floor(e,t),s=(i?tm:em)(o.unit).offset,a=e.as||MJ,l=a[0],u=a[1],c=o.step;let f=o.start||1/0,d=o.stop||-1/0,h=t.ADD;return(e.modified()||t.changed(t.REM)||t.modified(kr(n)))&&(t=t.reflow(!0),h=t.SOURCE,f=1/0,d=-1/0),t.visit(h,p=>{const g=n(p);let m,y;g==null?(p[l]=null,r&&(p[u]=null)):(p[l]=m=y=o(g),r&&(p[u]=y=s(m,c)),m<f&&(f=m),y>d&&(d=y))}),o.start=f,o.stop=d,t.modifies(r?a:l)},_floor(e,t){const n=e.timezone==="utc",{units:r,step:i}=e.units?{units:e.units,step:e.step||1}:xZ({extent:e.extent||Sa(t.materialize(t.SOURCE).source,e.field),maxbins:e.maxbins}),o=gR(r),s=this.value||{},a=(n?fZ:cZ)(o,i);return a.unit=qe(o),a.units=o,a.step=i,a.start=s.start,a.stop=s.stop,this.value=a}});function FJ(e){V.call(this,Zg(),e)}ne(FJ,V,{transform(e,t){const n=t.dataflow,r=e.field,i=this.value,o=a=>i.set(r(a),a);let s=!0;return e.modified("field")||t.modified(r.fields)?(i.clear(),t.visit(t.SOURCE,o)):t.changed()?(t.visit(t.REM,a=>i.delete(r(a))),t.visit(t.ADD,o)):s=!1,this.modified(s),i.empty>n.cleanThreshold&&n.runAfter(i.clean),t.fork()}});function PJ(e){V.call(this,null,e)}ne(PJ,V,{transform(e,t){(!this.value||e.modified("field")||e.modified("sort")||t.changed()||e.sort&&t.modified(e.sort.fields))&&(this.value=(e.sort?t.source.slice().sort(Ud(e.sort)):t.source).map(e.field))}});function gMe(e,t,n,r){const i=d1[e](t,n);return{init:i.init||wu,update:function(o,s){s[r]=i.next(o)}}}const d1={row_number:function(){return{next:e=>e.index+1}},rank:function(){let e;return{init:()=>e=1,next:t=>{const n=t.index,r=t.data;return n&&t.compare(r[n-1],r[n])?e=n+1:e}}},dense_rank:function(){let e;return{init:()=>e=1,next:t=>{const n=t.index,r=t.data;return n&&t.compare(r[n-1],r[n])?++e:e}}},percent_rank:function(){const e=d1.rank(),t=e.next;return{init:e.init,next:n=>(t(n)-1)/(n.data.length-1)}},cume_dist:function(){let e;return{init:()=>e=0,next:t=>{const n=t.data,r=t.compare;let i=t.index;if(e<i){for(;i+1<n.length&&!r(n[i],n[i+1]);)++i;e=i}return(1+e)/n.length}}},ntile:function(e,t){t=+t,t>0||q("ntile num must be greater than zero.");const n=d1.cume_dist(),r=n.next;return{init:n.init,next:i=>Math.ceil(t*r(i))}},lag:function(e,t){return t=+t||1,{next:n=>{const r=n.index-t;return r>=0?e(n.data[r]):null}}},lead:function(e,t){return t=+t||1,{next:n=>{const r=n.index+t,i=n.data;return r<i.length?e(i[r]):null}}},first_value:function(e){return{next:t=>e(t.data[t.i0])}},last_value:function(e){return{next:t=>e(t.data[t.i1-1])}},nth_value:function(e,t){return t=+t,t>0||q("nth_value nth must be greater than zero."),{next:n=>{const r=n.i0+(t-1);return r<n.i1?e(n.data[r]):null}}},prev_value:function(e){let t;return{init:()=>t=null,next:n=>{const r=e(n.data[n.index]);return r!=null?t=r:t}}},next_value:function(e){let t,n;return{init:()=>(t=null,n=-1),next:r=>{const i=r.data;return r.index<=n?t:(n=mMe(e,i,r.index))<0?(n=i.length,t=null):t=e(i[n])}}}};function mMe(e,t,n){for(let r=t.length;n<r;++n)if(e(t[n])!=null)return n;return-1}const yMe=Object.keys(d1);function RJ(e){const t=ae(e.ops),n=ae(e.fields),r=ae(e.params),i=ae(e.aggregate_params),o=ae(e.as),s=this.outputs=[],a=this.windows=[],l={},u={},c=[],f=[];let d=!0;function h(p){ae(kr(p)).forEach(g=>l[g]=1)}h(e.sort),t.forEach((p,g)=>{const m=n[g],y=r[g],v=i[g]||null,b=nn(m),x=lJ(p,b,o[g]);if(h(m),s.push(x),ce(d1,p))a.push(gMe(p,m,y,x));else{if(m==null&&p!=="count"&&q("Null aggregate field specified."),p==="count"){c.push(x);return}d=!1;let w=u[b];w||(w=u[b]=[],w.field=m,f.push(w)),w.push(uJ(p,v,x))}}),(c.length||f.length)&&(this.cell=vMe(f,c,d)),this.inputs=Object.keys(l)}const DJ=RJ.prototype;DJ.init=function(){this.windows.forEach(e=>e.init()),this.cell&&this.cell.init()};DJ.update=function(e,t){const n=this.cell,r=this.windows,i=e.data,o=r&&r.length;let s;if(n){for(s=e.p0;s<e.i0;++s)n.rem(i[s]);for(s=e.p1;s<e.i1;++s)n.add(i[s]);n.set(t)}for(s=0;s<o;++s)r[s].update(e,t)};function vMe(e,t,n){e=e.map(l=>fJ(l,l.field));const r={num:0,agg:null,store:!1,count:t};if(!n)for(var i=e.length,o=r.agg=Array(i),s=0;s<i;++s)o[s]=new e[s](r);if(r.store)var a=r.data=new VR;return r.add=function(l){if(r.num+=1,!n){a&&a.add(l);for(let u=0;u<i;++u)o[u].add(o[u].get(l),l)}},r.rem=function(l){if(r.num-=1,!n){a&&a.rem(l);for(let u=0;u<i;++u)o[u].rem(o[u].get(l),l)}},r.set=function(l){let u,c;for(a&&a.values(),u=0,c=t.length;u<c;++u)l[t[u]]=r.num;if(!n)for(u=0,c=o.length;u<c;++u)o[u].set(l)},r.init=function(){r.num=0,a&&a.reset();for(let l=0;l<i;++l)o[l].init()},r}function h6(e){V.call(this,{},e),this._mlen=0,this._mods=[]}h6.Definition={type:"Window",metadata:{modifies:!0},params:[{name:"sort",type:"compare"},{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:yMe.concat(vv)},{name:"params",type:"number",null:!0,array:!0},{name:"aggregate_params",type:"number",null:!0,array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"as",type:"string",null:!0,array:!0},{name:"frame",type:"number",null:!0,array:!0,length:2,default:[null,0]},{name:"ignorePeers",type:"boolean",default:!1}]};ne(h6,V,{transform(e,t){this.stamp=t.stamp;const n=e.modified(),r=Ud(e.sort),i=C3(e.groupby),o=a=>this.group(i(a));let s=this.state;(!s||n)&&(s=this.state=new RJ(e)),n||t.modified(s.inputs)?(this.value={},t.visit(t.SOURCE,a=>o(a).add(a))):(t.visit(t.REM,a=>o(a).remove(a)),t.visit(t.ADD,a=>o(a).add(a)));for(let a=0,l=this._mlen;a<l;++a)bMe(this._mods[a],s,r,e);return this._mlen=0,this._mods=[],t.reflow(n).modifies(s.outputs)},group(e){let t=this.value[e];return t||(t=this.value[e]=dJ(ve),t.stamp=-1),t.stamp<this.stamp&&(t.stamp=this.stamp,this._mods[this._mlen++]=t),t}});function bMe(e,t,n,r){const i=r.sort,o=i&&!r.ignorePeers,s=r.frame||[null,0],a=e.data(n),l=a.length,u=o?Jg(i):null,c={i0:0,i1:0,p0:0,p1:0,index:0,data:a,compare:i||Tr(-1)};t.init();for(let f=0;f<l;++f)xMe(c,s,f,l),o&&wMe(c,u),t.update(c,a[f])}function xMe(e,t,n,r){e.p0=e.i0,e.p1=e.i1,e.i0=t[0]==null?0:Math.max(0,n-Math.abs(t[0])),e.i1=t[1]==null?r:Math.min(r,n+Math.abs(t[1])+1),e.index=n}function wMe(e,t){const n=e.i0,r=e.i1-1,i=e.compare,o=e.data,s=o.length-1;n>0&&!i(o[n],o[n-1])&&(e.i0=t.left(o,o[n])),r<s&&!i(o[r],o[r+1])&&(e.i1=t.right(o,o[r]))}const SMe=Object.freeze(Object.defineProperty({__proto__:null,aggregate:uc,bin:WR,collect:HR,compare:hJ,countpattern:qR,cross:GR,density:YR,dotbin:KR,expression:vJ,extent:QR,facet:NC,field:bJ,filter:JR,flatten:e6,fold:t6,formula:n6,generate:xJ,impute:r6,joinaggregate:i6,kde:o6,key:wJ,load:SJ,lookup:s6,multiextent:kJ,multivalues:CJ,params:_J,pivot:a6,prefacet:EJ,project:l6,proxy:$J,quantile:u6,relay:AJ,sample:c6,sequence:f6,sieve:TJ,subflow:ZR,timeunit:d6,tupleindex:FJ,values:PJ,window:h6},Symbol.toStringTag,{value:"Module"}));function ct(e){return function(){return e}}const Ez=Math.abs,ur=Math.atan2,qc=Math.cos,kMe=Math.max,lA=Math.min,js=Math.sin,Af=Math.sqrt,dr=1e-12,ug=Math.PI,qw=ug/2,OJ=2*ug;function CMe(e){return e>1?0:e<-1?ug:Math.acos(e)}function $z(e){return e>=1?qw:e<=-1?-qw:Math.asin(e)}const _3=Math.PI,E3=2*_3,ff=1e-6,_Me=E3-ff;function NJ(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function EMe(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return NJ;const n=10**t;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}let p6=class{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?NJ:EMe(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,o,s){this._append`C${+t},${+n},${+r},${+i},${this._x1=+o},${this._y1=+s}`}arcTo(t,n,r,i,o){if(t=+t,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let s=this._x1,a=this._y1,l=r-t,u=i-n,c=s-t,f=a-n,d=c*c+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(d>ff)if(!(Math.abs(f*l-u*c)>ff)||!o)this._append`L${this._x1=t},${this._y1=n}`;else{let h=r-s,p=i-a,g=l*l+u*u,m=h*h+p*p,y=Math.sqrt(g),v=Math.sqrt(d),b=o*Math.tan((_3-Math.acos((g+d-m)/(2*y*v)))/2),x=b/v,w=b/y;Math.abs(x-1)>ff&&this._append`L${t+x*c},${n+x*f}`,this._append`A${o},${o},0,0,${+(f*h>c*p)},${this._x1=t+w*l},${this._y1=n+w*u}`}}arc(t,n,r,i,o,s){if(t=+t,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let a=r*Math.cos(i),l=r*Math.sin(i),u=t+a,c=n+l,f=1^s,d=s?i-o:o-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>ff||Math.abs(this._y1-c)>ff)&&this._append`L${u},${c}`,r&&(d<0&&(d=d%E3+E3),d>_Me?this._append`A${r},${r},0,1,${f},${t-a},${n-l}A${r},${r},0,1,${f},${this._x1=u},${this._y1=c}`:d>ff&&this._append`A${r},${r},0,${+(d>=_3)},${f},${this._x1=t+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}};function IC(){return new p6}IC.prototype=p6.prototype;function LC(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new p6(t)}function $Me(e){return e.innerRadius}function AMe(e){return e.outerRadius}function TMe(e){return e.startAngle}function MMe(e){return e.endAngle}function FMe(e){return e&&e.padAngle}function PMe(e,t,n,r,i,o,s,a){var l=n-e,u=r-t,c=s-i,f=a-o,d=f*l-c*u;if(!(d*d<dr))return d=(c*(t-o)-f*(e-i))/d,[e+d*l,t+d*u]}function Jb(e,t,n,r,i,o,s){var a=e-n,l=t-r,u=(s?o:-o)/Af(a*a+l*l),c=u*l,f=-u*a,d=e+c,h=t+f,p=n+c,g=r+f,m=(d+p)/2,y=(h+g)/2,v=p-d,b=g-h,x=v*v+b*b,w=i-o,k=d*g-p*h,S=(b<0?-1:1)*Af(kMe(0,w*w*x-k*k)),C=(k*b-v*S)/x,_=(-k*v-b*S)/x,$=(k*b+v*S)/x,A=(-k*v+b*S)/x,O=C-m,M=_-y,P=$-m,R=A-y;return O*O+M*M>P*P+R*R&&(C=$,_=A),{cx:C,cy:_,x01:-c,y01:-f,x11:C*(i/w-1),y11:_*(i/w-1)}}function RMe(){var e=$Me,t=AMe,n=ct(0),r=null,i=TMe,o=MMe,s=FMe,a=null,l=LC(u);function u(){var c,f,d=+e.apply(this,arguments),h=+t.apply(this,arguments),p=i.apply(this,arguments)-qw,g=o.apply(this,arguments)-qw,m=Ez(g-p),y=g>p;if(a||(a=c=l()),h<d&&(f=h,h=d,d=f),!(h>dr))a.moveTo(0,0);else if(m>OJ-dr)a.moveTo(h*qc(p),h*js(p)),a.arc(0,0,h,p,g,!y),d>dr&&(a.moveTo(d*qc(g),d*js(g)),a.arc(0,0,d,g,p,y));else{var v=p,b=g,x=p,w=g,k=m,S=m,C=s.apply(this,arguments)/2,_=C>dr&&(r?+r.apply(this,arguments):Af(d*d+h*h)),$=lA(Ez(h-d)/2,+n.apply(this,arguments)),A=$,O=$,M,P;if(_>dr){var R=$z(_/d*js(C)),D=$z(_/h*js(C));(k-=R*2)>dr?(R*=y?1:-1,x+=R,w-=R):(k=0,x=w=(p+g)/2),(S-=D*2)>dr?(D*=y?1:-1,v+=D,b-=D):(S=0,v=b=(p+g)/2)}var I=h*qc(v),N=h*js(v),B=d*qc(w),Y=d*js(w);if($>dr){var W=h*qc(b),oe=h*js(b),re=d*qc(x),we=d*js(x),De;if(m<ug)if(De=PMe(I,N,re,we,W,oe,B,Y)){var ut=I-De[0],$n=N-De[1],sr=W-De[0],ue=oe-De[1],$e=1/js(CMe((ut*sr+$n*ue)/(Af(ut*ut+$n*$n)*Af(sr*sr+ue*ue)))/2),Ae=Af(De[0]*De[0]+De[1]*De[1]);A=lA($,(d-Ae)/($e-1)),O=lA($,(h-Ae)/($e+1))}else A=O=0}S>dr?O>dr?(M=Jb(re,we,I,N,h,O,y),P=Jb(W,oe,B,Y,h,O,y),a.moveTo(M.cx+M.x01,M.cy+M.y01),O<$?a.arc(M.cx,M.cy,O,ur(M.y01,M.x01),ur(P.y01,P.x01),!y):(a.arc(M.cx,M.cy,O,ur(M.y01,M.x01),ur(M.y11,M.x11),!y),a.arc(0,0,h,ur(M.cy+M.y11,M.cx+M.x11),ur(P.cy+P.y11,P.cx+P.x11),!y),a.arc(P.cx,P.cy,O,ur(P.y11,P.x11),ur(P.y01,P.x01),!y))):(a.moveTo(I,N),a.arc(0,0,h,v,b,!y)):a.moveTo(I,N),!(d>dr)||!(k>dr)?a.lineTo(B,Y):A>dr?(M=Jb(B,Y,W,oe,d,-A,y),P=Jb(I,N,re,we,d,-A,y),a.lineTo(M.cx+M.x01,M.cy+M.y01),A<$?a.arc(M.cx,M.cy,A,ur(M.y01,M.x01),ur(P.y01,P.x01),!y):(a.arc(M.cx,M.cy,A,ur(M.y01,M.x01),ur(M.y11,M.x11),!y),a.arc(0,0,d,ur(M.cy+M.y11,M.cx+M.x11),ur(P.cy+P.y11,P.cx+P.x11),y),a.arc(P.cx,P.cy,A,ur(P.y11,P.x11),ur(P.y01,P.x01),!y))):a.arc(0,0,d,w,x,y)}if(a.closePath(),c)return a=null,c+""||null}return u.centroid=function(){var c=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,f=(+i.apply(this,arguments)+ +o.apply(this,arguments))/2-ug/2;return[qc(f)*c,js(f)*c]},u.innerRadius=function(c){return arguments.length?(e=typeof c=="function"?c:ct(+c),u):e},u.outerRadius=function(c){return arguments.length?(t=typeof c=="function"?c:ct(+c),u):t},u.cornerRadius=function(c){return arguments.length?(n=typeof c=="function"?c:ct(+c),u):n},u.padRadius=function(c){return arguments.length?(r=c==null?null:typeof c=="function"?c:ct(+c),u):r},u.startAngle=function(c){return arguments.length?(i=typeof c=="function"?c:ct(+c),u):i},u.endAngle=function(c){return arguments.length?(o=typeof c=="function"?c:ct(+c),u):o},u.padAngle=function(c){return arguments.length?(s=typeof c=="function"?c:ct(+c),u):s},u.context=function(c){return arguments.length?(a=c??null,u):a},u}function IJ(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function LJ(e){this._context=e}LJ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function g6(e){return new LJ(e)}function zJ(e){return e[0]}function jJ(e){return e[1]}function BJ(e,t){var n=ct(!0),r=null,i=g6,o=null,s=LC(a);e=typeof e=="function"?e:e===void 0?zJ:ct(e),t=typeof t=="function"?t:t===void 0?jJ:ct(t);function a(l){var u,c=(l=IJ(l)).length,f,d=!1,h;for(r==null&&(o=i(h=s())),u=0;u<=c;++u)!(u<c&&n(f=l[u],u,l))===d&&((d=!d)?o.lineStart():o.lineEnd()),d&&o.point(+e(f,u,l),+t(f,u,l));if(h)return o=null,h+""||null}return a.x=function(l){return arguments.length?(e=typeof l=="function"?l:ct(+l),a):e},a.y=function(l){return arguments.length?(t=typeof l=="function"?l:ct(+l),a):t},a.defined=function(l){return arguments.length?(n=typeof l=="function"?l:ct(!!l),a):n},a.curve=function(l){return arguments.length?(i=l,r!=null&&(o=i(r)),a):i},a.context=function(l){return arguments.length?(l==null?r=o=null:o=i(r=l),a):r},a}function UJ(e,t,n){var r=null,i=ct(!0),o=null,s=g6,a=null,l=LC(u);e=typeof e=="function"?e:e===void 0?zJ:ct(+e),t=typeof t=="function"?t:ct(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?jJ:ct(+n);function u(f){var d,h,p,g=(f=IJ(f)).length,m,y=!1,v,b=new Array(g),x=new Array(g);for(o==null&&(a=s(v=l())),d=0;d<=g;++d){if(!(d<g&&i(m=f[d],d,f))===y)if(y=!y)h=d,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),p=d-1;p>=h;--p)a.point(b[p],x[p]);a.lineEnd(),a.areaEnd()}y&&(b[d]=+e(m,d,f),x[d]=+t(m,d,f),a.point(r?+r(m,d,f):b[d],n?+n(m,d,f):x[d]))}if(v)return a=null,v+""||null}function c(){return BJ().defined(i).curve(s).context(o)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:ct(+f),r=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:ct(+f),u):e},u.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:ct(+f),u):r},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:ct(+f),n=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:ct(+f),u):t},u.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:ct(+f),u):n},u.lineX0=u.lineY0=function(){return c().x(e).y(t)},u.lineY1=function(){return c().x(e).y(n)},u.lineX1=function(){return c().x(r).y(t)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:ct(!!f),u):i},u.curve=function(f){return arguments.length?(s=f,o!=null&&(a=s(o)),u):s},u.context=function(f){return arguments.length?(f==null?o=a=null:a=s(o=f),u):o},u}const DMe={draw(e,t){const n=Af(t/ug);e.moveTo(n,0),e.arc(0,0,n,0,OJ)}};function OMe(e,t){let n=null,r=LC(i);e=typeof e=="function"?e:ct(e||DMe),t=typeof t=="function"?t:ct(t===void 0?64:+t);function i(){let o;if(n||(n=o=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(e=typeof o=="function"?o:ct(o),i):e},i.size=function(o){return arguments.length?(t=typeof o=="function"?o:ct(+o),i):t},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function cc(){}function Gw(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function zC(e){this._context=e}zC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Gw(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Gw(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function NMe(e){return new zC(e)}function VJ(e){this._context=e}VJ.prototype={areaStart:cc,areaEnd:cc,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Gw(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function IMe(e){return new VJ(e)}function WJ(e){this._context=e}WJ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Gw(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function LMe(e){return new WJ(e)}function HJ(e,t){this._basis=new zC(e),this._beta=t}HJ.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,n=e.length-1;if(n>0)for(var r=e[0],i=t[0],o=e[n]-r,s=t[n]-i,a=-1,l;++a<=n;)l=a/n,this._basis.point(this._beta*e[a]+(1-this._beta)*(r+l*o),this._beta*t[a]+(1-this._beta)*(i+l*s));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};const zMe=function e(t){function n(r){return t===1?new zC(r):new HJ(r,t)}return n.beta=function(r){return e(+r)},n}(.85);function Yw(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function m6(e,t){this._context=e,this._k=(1-t)/6}m6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Yw(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:Yw(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const jMe=function e(t){function n(r){return new m6(r,t)}return n.tension=function(r){return e(+r)},n}(0);function y6(e,t){this._context=e,this._k=(1-t)/6}y6.prototype={areaStart:cc,areaEnd:cc,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:Yw(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const BMe=function e(t){function n(r){return new y6(r,t)}return n.tension=function(r){return e(+r)},n}(0);function v6(e,t){this._context=e,this._k=(1-t)/6}v6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Yw(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const UMe=function e(t){function n(r){return new v6(r,t)}return n.tension=function(r){return e(+r)},n}(0);function b6(e,t,n){var r=e._x1,i=e._y1,o=e._x2,s=e._y2;if(e._l01_a>dr){var a=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,l=3*e._l01_a*(e._l01_a+e._l12_a);r=(r*a-e._x0*e._l12_2a+e._x2*e._l01_2a)/l,i=(i*a-e._y0*e._l12_2a+e._y2*e._l01_2a)/l}if(e._l23_a>dr){var u=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,c=3*e._l23_a*(e._l23_a+e._l12_a);o=(o*u+e._x1*e._l23_2a-t*e._l12_2a)/c,s=(s*u+e._y1*e._l23_2a-n*e._l12_2a)/c}e._context.bezierCurveTo(r,i,o,s,e._x2,e._y2)}function qJ(e,t){this._context=e,this._alpha=t}qJ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:b6(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const VMe=function e(t){function n(r){return t?new qJ(r,t):new m6(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function GJ(e,t){this._context=e,this._alpha=t}GJ.prototype={areaStart:cc,areaEnd:cc,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:b6(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const WMe=function e(t){function n(r){return t?new GJ(r,t):new y6(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function YJ(e,t){this._context=e,this._alpha=t}YJ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:b6(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const HMe=function e(t){function n(r){return t?new YJ(r,t):new v6(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function XJ(e){this._context=e}XJ.prototype={areaStart:cc,areaEnd:cc,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function qMe(e){return new XJ(e)}function Az(e){return e<0?-1:1}function Tz(e,t,n){var r=e._x1-e._x0,i=t-e._x1,o=(e._y1-e._y0)/(r||i<0&&-0),s=(n-e._y1)/(i||r<0&&-0),a=(o*i+s*r)/(r+i);return(Az(o)+Az(s))*Math.min(Math.abs(o),Math.abs(s),.5*Math.abs(a))||0}function Mz(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function uA(e,t,n){var r=e._x0,i=e._y0,o=e._x1,s=e._y1,a=(o-r)/3;e._context.bezierCurveTo(r+a,i+a*t,o-a,s-a*n,o,s)}function Xw(e){this._context=e}Xw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:uA(this,this._t0,Mz(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,uA(this,Mz(this,n=Tz(this,e,t)),n);break;default:uA(this,this._t0,n=Tz(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function KJ(e){this._context=new QJ(e)}(KJ.prototype=Object.create(Xw.prototype)).point=function(e,t){Xw.prototype.point.call(this,t,e)};function QJ(e){this._context=e}QJ.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,o){this._context.bezierCurveTo(t,e,r,n,o,i)}};function GMe(e){return new Xw(e)}function YMe(e){return new KJ(e)}function ZJ(e){this._context=e}ZJ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=Fz(e),i=Fz(t),o=0,s=1;s<n;++o,++s)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],e[s],t[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function Fz(e){var t,n=e.length-1,r,i=new Array(n),o=new Array(n),s=new Array(n);for(i[0]=0,o[0]=2,s[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,o[t]=4,s[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,o[n-1]=7,s[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/o[t-1],o[t]-=r,s[t]-=r*s[t-1];for(i[n-1]=s[n-1]/o[n-1],t=n-2;t>=0;--t)i[t]=(s[t]-i[t+1])/o[t];for(o[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)o[t]=2*e[t+1]-i[t+1];return[i,o]}function XMe(e){return new ZJ(e)}function jC(e,t){this._context=e,this._t=t}jC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function KMe(e){return new jC(e,.5)}function QMe(e){return new jC(e,0)}function ZMe(e){return new jC(e,1)}function Ju(e,t){if(typeof document<"u"&&document.createElement){const n=document.createElement("canvas");if(n&&n.getContext)return n.width=e,n.height=t,n}return null}const JMe=()=>typeof Image<"u"?Image:null;function Ma(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Ac(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const $3=Symbol("implicit");function x6(){var e=new Y7,t=[],n=[],r=$3;function i(o){let s=e.get(o);if(s===void 0){if(r!==$3)return r;e.set(o,s=t.push(o)-1)}return n[s%n.length]}return i.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new Y7;for(const s of o)e.has(s)||e.set(s,t.push(s)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return x6(t,n).unknown(r)},Ma.apply(i,arguments),i}function rm(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function bv(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Tc(){}var cd=.7,cg=1/cd,yp="\\s*([+-]?\\d+)\\s*",h1="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ya="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",eFe=/^#([0-9a-f]{3,8})$/,tFe=new RegExp(`^rgb\\(${yp},${yp},${yp}\\)$`),nFe=new RegExp(`^rgb\\(${ya},${ya},${ya}\\)$`),rFe=new RegExp(`^rgba\\(${yp},${yp},${yp},${h1}\\)$`),iFe=new RegExp(`^rgba\\(${ya},${ya},${ya},${h1}\\)$`),oFe=new RegExp(`^hsl\\(${h1},${ya},${ya}\\)$`),sFe=new RegExp(`^hsla\\(${h1},${ya},${ya},${h1}\\)$`),Pz={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};rm(Tc,p1,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Rz,formatHex:Rz,formatHex8:aFe,formatHsl:lFe,formatRgb:Dz,toString:Dz});function Rz(){return this.rgb().formatHex()}function aFe(){return this.rgb().formatHex8()}function lFe(){return JJ(this).formatHsl()}function Dz(){return this.rgb().formatRgb()}function p1(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=eFe.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Oz(t):n===3?new Fn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?ex(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?ex(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=tFe.exec(e))?new Fn(t[1],t[2],t[3],1):(t=nFe.exec(e))?new Fn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=rFe.exec(e))?ex(t[1],t[2],t[3],t[4]):(t=iFe.exec(e))?ex(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=oFe.exec(e))?Lz(t[1],t[2]/100,t[3]/100,1):(t=sFe.exec(e))?Lz(t[1],t[2]/100,t[3]/100,t[4]):Pz.hasOwnProperty(e)?Oz(Pz[e]):e==="transparent"?new Fn(NaN,NaN,NaN,0):null}function Oz(e){return new Fn(e>>16&255,e>>8&255,e&255,1)}function ex(e,t,n,r){return r<=0&&(e=t=n=NaN),new Fn(e,t,n,r)}function w6(e){return e instanceof Tc||(e=p1(e)),e?(e=e.rgb(),new Fn(e.r,e.g,e.b,e.opacity)):new Fn}function fc(e,t,n,r){return arguments.length===1?w6(e):new Fn(e,t,n,r??1)}function Fn(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}rm(Fn,fc,bv(Tc,{brighter(e){return e=e==null?cg:Math.pow(cg,e),new Fn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?cd:Math.pow(cd,e),new Fn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Fn(Yf(this.r),Yf(this.g),Yf(this.b),Kw(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Nz,formatHex:Nz,formatHex8:uFe,formatRgb:Iz,toString:Iz}));function Nz(){return`#${Tf(this.r)}${Tf(this.g)}${Tf(this.b)}`}function uFe(){return`#${Tf(this.r)}${Tf(this.g)}${Tf(this.b)}${Tf((isNaN(this.opacity)?1:this.opacity)*255)}`}function Iz(){const e=Kw(this.opacity);return`${e===1?"rgb(":"rgba("}${Yf(this.r)}, ${Yf(this.g)}, ${Yf(this.b)}${e===1?")":`, ${e})`}`}function Kw(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Yf(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Tf(e){return e=Yf(e),(e<16?"0":"")+e.toString(16)}function Lz(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new as(e,t,n,r)}function JJ(e){if(e instanceof as)return new as(e.h,e.s,e.l,e.opacity);if(e instanceof Tc||(e=p1(e)),!e)return new as;if(e instanceof as)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),s=NaN,a=o-i,l=(o+i)/2;return a?(t===o?s=(n-r)/a+(n<r)*6:n===o?s=(r-t)/a+2:s=(t-n)/a+4,a/=l<.5?o+i:2-o-i,s*=60):a=l>0&&l<1?0:s,new as(s,a,l,e.opacity)}function Qw(e,t,n,r){return arguments.length===1?JJ(e):new as(e,t,n,r??1)}function as(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}rm(as,Qw,bv(Tc,{brighter(e){return e=e==null?cg:Math.pow(cg,e),new as(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?cd:Math.pow(cd,e),new as(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Fn(cA(e>=240?e-240:e+120,i,r),cA(e,i,r),cA(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new as(zz(this.h),tx(this.s),tx(this.l),Kw(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Kw(this.opacity);return`${e===1?"hsl(":"hsla("}${zz(this.h)}, ${tx(this.s)*100}%, ${tx(this.l)*100}%${e===1?")":`, ${e})`}`}}));function zz(e){return e=(e||0)%360,e<0?e+360:e}function tx(e){return Math.max(0,Math.min(1,e||0))}function cA(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const eee=Math.PI/180,tee=180/Math.PI,Zw=18,nee=.96422,ree=1,iee=.82521,oee=4/29,vp=6/29,see=3*vp*vp,cFe=vp*vp*vp;function aee(e){if(e instanceof va)return new va(e.l,e.a,e.b,e.opacity);if(e instanceof fl)return lee(e);e instanceof Fn||(e=w6(e));var t=pA(e.r),n=pA(e.g),r=pA(e.b),i=fA((.2225045*t+.7168786*n+.0606169*r)/ree),o,s;return t===n&&n===r?o=s=i:(o=fA((.4360747*t+.3850649*n+.1430804*r)/nee),s=fA((.0139322*t+.0971045*n+.7141733*r)/iee)),new va(116*i-16,500*(o-i),200*(i-s),e.opacity)}function Jw(e,t,n,r){return arguments.length===1?aee(e):new va(e,t,n,r??1)}function va(e,t,n,r){this.l=+e,this.a=+t,this.b=+n,this.opacity=+r}rm(va,Jw,bv(Tc,{brighter(e){return new va(this.l+Zw*(e??1),this.a,this.b,this.opacity)},darker(e){return new va(this.l-Zw*(e??1),this.a,this.b,this.opacity)},rgb(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return t=nee*dA(t),e=ree*dA(e),n=iee*dA(n),new Fn(hA(3.1338561*t-1.6168667*e-.4906146*n),hA(-.9787684*t+1.9161415*e+.033454*n),hA(.0719453*t-.2289914*e+1.4052427*n),this.opacity)}}));function fA(e){return e>cFe?Math.pow(e,1/3):e/see+oee}function dA(e){return e>vp?e*e*e:see*(e-oee)}function hA(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function pA(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function fFe(e){if(e instanceof fl)return new fl(e.h,e.c,e.l,e.opacity);if(e instanceof va||(e=aee(e)),e.a===0&&e.b===0)return new fl(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*tee;return new fl(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function eS(e,t,n,r){return arguments.length===1?fFe(e):new fl(e,t,n,r??1)}function fl(e,t,n,r){this.h=+e,this.c=+t,this.l=+n,this.opacity=+r}function lee(e){if(isNaN(e.h))return new va(e.l,0,0,e.opacity);var t=e.h*eee;return new va(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}rm(fl,eS,bv(Tc,{brighter(e){return new fl(this.h,this.c,this.l+Zw*(e??1),this.opacity)},darker(e){return new fl(this.h,this.c,this.l-Zw*(e??1),this.opacity)},rgb(){return lee(this).rgb()}}));var uee=-.14861,S6=1.78277,k6=-.29227,BC=-.90649,g1=1.97294,jz=g1*BC,Bz=g1*S6,Uz=S6*k6-BC*uee;function dFe(e){if(e instanceof Xf)return new Xf(e.h,e.s,e.l,e.opacity);e instanceof Fn||(e=w6(e));var t=e.r/255,n=e.g/255,r=e.b/255,i=(Uz*r+jz*t-Bz*n)/(Uz+jz-Bz),o=r-i,s=(g1*(n-i)-k6*o)/BC,a=Math.sqrt(s*s+o*o)/(g1*i*(1-i)),l=a?Math.atan2(s,o)*tee-120:NaN;return new Xf(l<0?l+360:l,a,i,e.opacity)}function A3(e,t,n,r){return arguments.length===1?dFe(e):new Xf(e,t,n,r??1)}function Xf(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}rm(Xf,A3,bv(Tc,{brighter(e){return e=e==null?cg:Math.pow(cg,e),new Xf(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?cd:Math.pow(cd,e),new Xf(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=isNaN(this.h)?0:(this.h+120)*eee,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),i=Math.sin(e);return new Fn(255*(t+n*(uee*r+S6*i)),255*(t+n*(k6*r+BC*i)),255*(t+n*(g1*r)),this.opacity)}}));function cee(e,t,n,r,i){var o=e*e,s=o*e;return((1-3*e+3*o-s)*t+(4-6*o+3*s)*n+(1+3*e+3*o-3*s)*r+s*i)/6}function fee(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],o=e[r+1],s=r>0?e[r-1]:2*i-o,a=r<t-1?e[r+2]:2*o-i;return cee((n-r/t)*t,s,i,o,a)}}function dee(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),i=e[(r+t-1)%t],o=e[r%t],s=e[(r+1)%t],a=e[(r+2)%t];return cee((n-r/t)*t,i,o,s,a)}}const UC=e=>()=>e;function hee(e,t){return function(n){return e+n*t}}function hFe(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function VC(e,t){var n=t-e;return n?hee(e,n>180||n<-180?n-360*Math.round(n/360):n):UC(isNaN(e)?t:e)}function pFe(e){return(e=+e)==1?Pn:function(t,n){return n-t?hFe(t,n,e):UC(isNaN(t)?n:t)}}function Pn(e,t){var n=t-e;return n?hee(e,n):UC(isNaN(e)?t:e)}const tS=function e(t){var n=pFe(t);function r(i,o){var s=n((i=fc(i)).r,(o=fc(o)).r),a=n(i.g,o.g),l=n(i.b,o.b),u=Pn(i.opacity,o.opacity);return function(c){return i.r=s(c),i.g=a(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=e,r}(1);function pee(e){return function(t){var n=t.length,r=new Array(n),i=new Array(n),o=new Array(n),s,a;for(s=0;s<n;++s)a=fc(t[s]),r[s]=a.r||0,i[s]=a.g||0,o[s]=a.b||0;return r=e(r),i=e(i),o=e(o),a.opacity=1,function(l){return a.r=r(l),a.g=i(l),a.b=o(l),a+""}}}var gFe=pee(fee),mFe=pee(dee);function C6(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=e[i]*(1-o)+t[i]*o;return r}}function gee(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function yFe(e,t){return(gee(t)?C6:mee)(e,t)}function mee(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),o=new Array(n),s;for(s=0;s<r;++s)i[s]=Mc(e[s],t[s]);for(;s<n;++s)o[s]=t[s];return function(a){for(s=0;s<r;++s)o[s]=i[s](a);return o}}function yee(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function rs(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function vee(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=Mc(e[i],t[i]):r[i]=t[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var T3=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,gA=new RegExp(T3.source,"g");function vFe(e){return function(){return e}}function bFe(e){return function(t){return e(t)+""}}function bee(e,t){var n=T3.lastIndex=gA.lastIndex=0,r,i,o,s=-1,a=[],l=[];for(e=e+"",t=t+"";(r=T3.exec(e))&&(i=gA.exec(t));)(o=i.index)>n&&(o=t.slice(n,o),a[s]?a[s]+=o:a[++s]=o),(r=r[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,l.push({i:s,x:rs(r,i)})),n=gA.lastIndex;return n<t.length&&(o=t.slice(n),a[s]?a[s]+=o:a[++s]=o),a.length<2?l[0]?bFe(l[0].x):vFe(t):(t=l.length,function(u){for(var c=0,f;c<t;++c)a[(f=l[c]).i]=f.x(u);return a.join("")})}function Mc(e,t){var n=typeof t,r;return t==null||n==="boolean"?UC(t):(n==="number"?rs:n==="string"?(r=p1(t))?(t=r,tS):bee:t instanceof p1?tS:t instanceof Date?yee:gee(t)?C6:Array.isArray(t)?mee:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?vee:rs)(e,t)}function xFe(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}function wFe(e,t){var n=VC(+e,+t);return function(r){var i=n(r);return i-360*Math.floor(i/360)}}function im(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var Vz=180/Math.PI,M3={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function xee(e,t,n,r,i,o){var s,a,l;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(l=e*n+t*r)&&(n-=e*l,r-=t*l),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,l/=a),e*r<t*n&&(e=-e,t=-t,l=-l,s=-s),{translateX:i,translateY:o,rotate:Math.atan2(t,e)*Vz,skewX:Math.atan(l)*Vz,scaleX:s,scaleY:a}}var nx;function SFe(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?M3:xee(t.a,t.b,t.c,t.d,t.e,t.f)}function kFe(e){return e==null||(nx||(nx=document.createElementNS("http://www.w3.org/2000/svg","g")),nx.setAttribute("transform",e),!(e=nx.transform.baseVal.consolidate()))?M3:(e=e.matrix,xee(e.a,e.b,e.c,e.d,e.e,e.f))}function wee(e,t,n,r){function i(u){return u.length?u.pop()+" ":""}function o(u,c,f,d,h,p){if(u!==f||c!==d){var g=h.push("translate(",null,t,null,n);p.push({i:g-4,x:rs(u,f)},{i:g-2,x:rs(c,d)})}else(f||d)&&h.push("translate("+f+t+d+n)}function s(u,c,f,d){u!==c?(u-c>180?c+=360:c-u>180&&(u+=360),d.push({i:f.push(i(f)+"rotate(",null,r)-2,x:rs(u,c)})):c&&f.push(i(f)+"rotate("+c+r)}function a(u,c,f,d){u!==c?d.push({i:f.push(i(f)+"skewX(",null,r)-2,x:rs(u,c)}):c&&f.push(i(f)+"skewX("+c+r)}function l(u,c,f,d,h,p){if(u!==f||c!==d){var g=h.push(i(h)+"scale(",null,",",null,")");p.push({i:g-4,x:rs(u,f)},{i:g-2,x:rs(c,d)})}else(f!==1||d!==1)&&h.push(i(h)+"scale("+f+","+d+")")}return function(u,c){var f=[],d=[];return u=e(u),c=e(c),o(u.translateX,u.translateY,c.translateX,c.translateY,f,d),s(u.rotate,c.rotate,f,d),a(u.skewX,c.skewX,f,d),l(u.scaleX,u.scaleY,c.scaleX,c.scaleY,f,d),u=c=null,function(h){for(var p=-1,g=d.length,m;++p<g;)f[(m=d[p]).i]=m.x(h);return f.join("")}}}var CFe=wee(SFe,"px, ","px)","deg)"),_Fe=wee(kFe,", ",")",")"),EFe=1e-12;function Wz(e){return((e=Math.exp(e))+1/e)/2}function $Fe(e){return((e=Math.exp(e))-1/e)/2}function AFe(e){return((e=Math.exp(2*e))-1)/(e+1)}const TFe=function e(t,n,r){function i(o,s){var a=o[0],l=o[1],u=o[2],c=s[0],f=s[1],d=s[2],h=c-a,p=f-l,g=h*h+p*p,m,y;if(g<EFe)y=Math.log(d/u)/t,m=function(S){return[a+S*h,l+S*p,u*Math.exp(t*S*y)]};else{var v=Math.sqrt(g),b=(d*d-u*u+r*g)/(2*u*n*v),x=(d*d-u*u-r*g)/(2*d*n*v),w=Math.log(Math.sqrt(b*b+1)-b),k=Math.log(Math.sqrt(x*x+1)-x);y=(k-w)/t,m=function(S){var C=S*y,_=Wz(w),$=u/(n*v)*(_*AFe(t*C+w)-$Fe(w));return[a+$*h,l+$*p,u*_/Wz(t*C+w)]}}return m.duration=y*1e3*t/Math.SQRT2,m}return i.rho=function(o){var s=Math.max(.001,+o),a=s*s,l=a*a;return e(s,a,l)},i}(Math.SQRT2,2,4);function See(e){return function(t,n){var r=e((t=Qw(t)).h,(n=Qw(n)).h),i=Pn(t.s,n.s),o=Pn(t.l,n.l),s=Pn(t.opacity,n.opacity);return function(a){return t.h=r(a),t.s=i(a),t.l=o(a),t.opacity=s(a),t+""}}}const kee=See(VC);var Cee=See(Pn);function _ee(e,t){var n=Pn((e=Jw(e)).l,(t=Jw(t)).l),r=Pn(e.a,t.a),i=Pn(e.b,t.b),o=Pn(e.opacity,t.opacity);return function(s){return e.l=n(s),e.a=r(s),e.b=i(s),e.opacity=o(s),e+""}}function Eee(e){return function(t,n){var r=e((t=eS(t)).h,(n=eS(n)).h),i=Pn(t.c,n.c),o=Pn(t.l,n.l),s=Pn(t.opacity,n.opacity);return function(a){return t.h=r(a),t.c=i(a),t.l=o(a),t.opacity=s(a),t+""}}}const $ee=Eee(VC);var Aee=Eee(Pn);function Tee(e){return function t(n){n=+n;function r(i,o){var s=e((i=A3(i)).h,(o=A3(o)).h),a=Pn(i.s,o.s),l=Pn(i.l,o.l),u=Pn(i.opacity,o.opacity);return function(c){return i.h=s(c),i.s=a(c),i.l=l(Math.pow(c,n)),i.opacity=u(c),i+""}}return r.gamma=t,r}(1)}const Mee=Tee(VC);var Fee=Tee(Pn);function _6(e,t){t===void 0&&(t=e,e=Mc);for(var n=0,r=t.length-1,i=t[0],o=new Array(r<0?0:r);n<r;)o[n]=e(i,i=t[++n]);return function(s){var a=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return o[a](s-a)}}function MFe(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e(r/(t-1));return n}const FFe=Object.freeze(Object.defineProperty({__proto__:null,interpolate:Mc,interpolateArray:yFe,interpolateBasis:fee,interpolateBasisClosed:dee,interpolateCubehelix:Mee,interpolateCubehelixLong:Fee,interpolateDate:yee,interpolateDiscrete:xFe,interpolateHcl:$ee,interpolateHclLong:Aee,interpolateHsl:kee,interpolateHslLong:Cee,interpolateHue:wFe,interpolateLab:_ee,interpolateNumber:rs,interpolateNumberArray:C6,interpolateObject:vee,interpolateRgb:tS,interpolateRgbBasis:gFe,interpolateRgbBasisClosed:mFe,interpolateRound:im,interpolateString:bee,interpolateTransformCss:CFe,interpolateTransformSvg:_Fe,interpolateZoom:TFe,piecewise:_6,quantize:MFe},Symbol.toStringTag,{value:"Module"}));function PFe(e){return function(){return e}}function F3(e){return+e}var Hz=[0,1];function fi(e){return e}function P3(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:PFe(isNaN(t)?NaN:.5)}function RFe(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function DFe(e,t,n){var r=e[0],i=e[1],o=t[0],s=t[1];return i<r?(r=P3(i,r),o=n(s,o)):(r=P3(r,i),o=n(o,s)),function(a){return o(r(a))}}function OFe(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),s=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<r;)i[s]=P3(e[s],e[s+1]),o[s]=n(t[s],t[s+1]);return function(a){var l=ac(e,a,1,r)-1;return o[l](i[l](a))}}function xv(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function WC(){var e=Hz,t=Hz,n=Mc,r,i,o,s=fi,a,l,u;function c(){var d=Math.min(e.length,t.length);return s!==fi&&(s=RFe(e[0],e[d-1])),a=d>2?OFe:DFe,l=u=null,f}function f(d){return d==null||isNaN(d=+d)?o:(l||(l=a(e.map(r),t,n)))(r(s(d)))}return f.invert=function(d){return s(i((u||(u=a(t,e.map(r),rs)))(d)))},f.domain=function(d){return arguments.length?(e=Array.from(d,F3),c()):e.slice()},f.range=function(d){return arguments.length?(t=Array.from(d),c()):t.slice()},f.rangeRound=function(d){return t=Array.from(d),n=im,c()},f.clamp=function(d){return arguments.length?(s=d?!0:fi,c()):s!==fi},f.interpolate=function(d){return arguments.length?(n=d,c()):n},f.unknown=function(d){return arguments.length?(o=d,f):o},function(d,h){return r=d,i=h,c()}}function Pee(){return WC()(fi,fi)}function Ree(e,t,n,r){var i=lc(e,t,n),o;switch(r=ud(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(o=ZQ(i,s))&&(r.precision=o),dR(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=JQ(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=QQ(i))&&(r.precision=o-(r.type==="%")*2);break}}return fv(r)}function Wd(e){var t=e.domain;return e.ticks=function(n){var r=t();return f3(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return Ree(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,o=r.length-1,s=r[i],a=r[o],l,u,c=10;for(a<s&&(u=s,s=a,a=u,u=i,i=o,o=u);c-- >0;){if(u=d3(s,a,n),u===l)return r[i]=s,r[o]=a,t(r);if(u>0)s=Math.floor(s/u)*u,a=Math.ceil(a/u)*u;else if(u<0)s=Math.ceil(s*u)/u,a=Math.floor(a*u)/u;else break;l=u}return e},e}function E6(){var e=Pee();return e.copy=function(){return xv(e,E6())},Ma.apply(e,arguments),Wd(e)}function Dee(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,F3),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return Dee(e).unknown(t)},e=arguments.length?Array.from(e,F3):[0,1],Wd(n)}function Oee(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],o=e[r],s;return o<i&&(s=n,n=r,r=s,s=i,i=o,o=s),e[n]=t.floor(i),e[r]=t.ceil(o),e}function qz(e){return Math.log(e)}function Gz(e){return Math.exp(e)}function NFe(e){return-Math.log(-e)}function IFe(e){return-Math.exp(-e)}function LFe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function zFe(e){return e===10?LFe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function jFe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function Yz(e){return(t,n)=>-e(-t,n)}function $6(e){const t=e(qz,Gz),n=t.domain;let r=10,i,o;function s(){return i=jFe(r),o=zFe(r),n()[0]<0?(i=Yz(i),o=Yz(o),e(NFe,IFe)):e(qz,Gz),t}return t.base=function(a){return arguments.length?(r=+a,s()):r},t.domain=function(a){return arguments.length?(n(a),s()):n()},t.ticks=a=>{const l=n();let u=l[0],c=l[l.length-1];const f=c<u;f&&([u,c]=[c,u]);let d=i(u),h=i(c),p,g;const m=a==null?10:+a;let y=[];if(!(r%1)&&h-d<m){if(d=Math.floor(d),h=Math.ceil(h),u>0){for(;d<=h;++d)for(p=1;p<r;++p)if(g=d<0?p/o(-d):p*o(d),!(g<u)){if(g>c)break;y.push(g)}}else for(;d<=h;++d)for(p=r-1;p>=1;--p)if(g=d>0?p/o(-d):p*o(d),!(g<u)){if(g>c)break;y.push(g)}y.length*2<m&&(y=f3(u,c,m))}else y=f3(d,h,Math.min(h-d,m)).map(o);return f?y.reverse():y},t.tickFormat=(a,l)=>{if(a==null&&(a=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=ud(l)).precision==null&&(l.trim=!0),l=fv(l)),a===1/0)return l;const u=Math.max(1,r*a/t.ticks().length);return c=>{let f=c/o(Math.round(i(c)));return f*r<r-.5&&(f*=r),f<=u?l(c):""}},t.nice=()=>n(Oee(n(),{floor:a=>o(Math.floor(i(a))),ceil:a=>o(Math.ceil(i(a)))})),t}function Nee(){const e=$6(WC()).domain([1,10]);return e.copy=()=>xv(e,Nee()).base(e.base()),Ma.apply(e,arguments),e}function Xz(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function Kz(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function A6(e){var t=1,n=e(Xz(t),Kz(t));return n.constant=function(r){return arguments.length?e(Xz(t=+r),Kz(t)):t},Wd(n)}function Iee(){var e=A6(WC());return e.copy=function(){return xv(e,Iee()).constant(e.constant())},Ma.apply(e,arguments)}function Qz(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function BFe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function UFe(e){return e<0?-e*e:e*e}function T6(e){var t=e(fi,fi),n=1;function r(){return n===1?e(fi,fi):n===.5?e(BFe,UFe):e(Qz(n),Qz(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},Wd(t)}function M6(){var e=T6(WC());return e.copy=function(){return xv(e,M6()).exponent(e.exponent())},Ma.apply(e,arguments),e}function VFe(){return M6.apply(null,arguments).exponent(.5)}function Lee(){var e=[],t=[],n=[],r;function i(){var s=0,a=Math.max(1,t.length);for(n=new Array(a-1);++s<a;)n[s-1]=HQ(e,s/a);return o}function o(s){return s==null||isNaN(s=+s)?r:t[ac(n,s)]}return o.invertExtent=function(s){var a=t.indexOf(s);return a<0?[NaN,NaN]:[a>0?n[a-1]:e[0],a<n.length?n[a]:e[e.length-1]]},o.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let a of s)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(vl),i()},o.range=function(s){return arguments.length?(t=Array.from(s),i()):t.slice()},o.unknown=function(s){return arguments.length?(r=s,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return Lee().domain(e).range(t).unknown(r)},Ma.apply(o,arguments)}function zee(){var e=0,t=1,n=1,r=[.5],i=[0,1],o;function s(l){return l!=null&&l<=l?i[ac(r,l,0,n)]:o}function a(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*t-(l-n)*e)/(n+1);return s}return s.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,a()):[e,t]},s.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,a()):i.slice()},s.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[e,r[0]]:u>=n?[r[n-1],t]:[r[u-1],r[u]]},s.unknown=function(l){return arguments.length&&(o=l),s},s.thresholds=function(){return r.slice()},s.copy=function(){return zee().domain([e,t]).range(i).unknown(o)},Ma.apply(Wd(s),arguments)}function jee(){var e=[.5],t=[0,1],n,r=1;function i(o){return o!=null&&o<=o?t[ac(e,o,0,r)]:n}return i.domain=function(o){return arguments.length?(e=Array.from(o),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(o){return arguments.length?(t=Array.from(o),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(o){var s=t.indexOf(o);return[e[s-1],e[s]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return jee().domain(e).range(t).unknown(n)},Ma.apply(i,arguments)}function WFe(e){return new Date(e)}function HFe(e){return e instanceof Date?+e:+new Date(+e)}function F6(e,t,n,r,i,o,s,a,l,u){var c=Pee(),f=c.invert,d=c.domain,h=u(".%L"),p=u(":%S"),g=u("%I:%M"),m=u("%I %p"),y=u("%a %d"),v=u("%b %d"),b=u("%B"),x=u("%Y");function w(k){return(l(k)<k?h:a(k)<k?p:s(k)<k?g:o(k)<k?m:r(k)<k?i(k)<k?y:v:n(k)<k?b:x)(k)}return c.invert=function(k){return new Date(f(k))},c.domain=function(k){return arguments.length?d(Array.from(k,HFe)):d().map(WFe)},c.ticks=function(k){var S=d();return e(S[0],S[S.length-1],k??10)},c.tickFormat=function(k,S){return S==null?w:u(S)},c.nice=function(k){var S=d();return(!k||typeof k.range!="function")&&(k=t(S[0],S[S.length-1],k??10)),k?d(Oee(S,k)):c},c.copy=function(){return xv(c,F6(e,t,n,r,i,o,s,a,l,u))},c}function qFe(){return Ma.apply(F6(oTe,sTe,Ss,og,zd,ma,pv,dv,fs,yR).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function GFe(){return Ma.apply(F6(rTe,iTe,ks,sg,Bd,bl,gv,hv,fs,vR).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function HC(){var e=0,t=1,n,r,i,o,s=fi,a=!1,l;function u(f){return f==null||isNaN(f=+f)?l:s(i===0?.5:(f=(o(f)-n)*i,a?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,n=o(e=+e),r=o(t=+t),i=n===r?0:1/(r-n),u):[e,t]},u.clamp=function(f){return arguments.length?(a=!!f,u):a},u.interpolator=function(f){return arguments.length?(s=f,u):s};function c(f){return function(d){var h,p;return arguments.length?([h,p]=d,s=f(h,p),u):[s(0),s(1)]}}return u.range=c(Mc),u.rangeRound=c(im),u.unknown=function(f){return arguments.length?(l=f,u):l},function(f){return o=f,n=f(e),r=f(t),i=n===r?0:1/(r-n),u}}function Fc(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function P6(){var e=Wd(HC()(fi));return e.copy=function(){return Fc(e,P6())},Ac.apply(e,arguments)}function Bee(){var e=$6(HC()).domain([1,10]);return e.copy=function(){return Fc(e,Bee()).base(e.base())},Ac.apply(e,arguments)}function Uee(){var e=A6(HC());return e.copy=function(){return Fc(e,Uee()).constant(e.constant())},Ac.apply(e,arguments)}function R6(){var e=T6(HC());return e.copy=function(){return Fc(e,R6()).exponent(e.exponent())},Ac.apply(e,arguments)}function YFe(){return R6.apply(null,arguments).exponent(.5)}function qC(){var e=0,t=.5,n=1,r=1,i,o,s,a,l,u=fi,c,f=!1,d;function h(g){return isNaN(g=+g)?d:(g=.5+((g=+c(g))-o)*(r*g<r*o?a:l),u(f?Math.max(0,Math.min(1,g)):g))}h.domain=function(g){return arguments.length?([e,t,n]=g,i=c(e=+e),o=c(t=+t),s=c(n=+n),a=i===o?0:.5/(o-i),l=o===s?0:.5/(s-o),r=o<i?-1:1,h):[e,t,n]},h.clamp=function(g){return arguments.length?(f=!!g,h):f},h.interpolator=function(g){return arguments.length?(u=g,h):u};function p(g){return function(m){var y,v,b;return arguments.length?([y,v,b]=m,u=_6(g,[y,v,b]),h):[u(0),u(.5),u(1)]}}return h.range=p(Mc),h.rangeRound=p(im),h.unknown=function(g){return arguments.length?(d=g,h):d},function(g){return c=g,i=g(e),o=g(t),s=g(n),a=i===o?0:.5/(o-i),l=o===s?0:.5/(s-o),r=o<i?-1:1,h}}function Vee(){var e=Wd(qC()(fi));return e.copy=function(){return Fc(e,Vee())},Ac.apply(e,arguments)}function Wee(){var e=$6(qC()).domain([.1,1,10]);return e.copy=function(){return Fc(e,Wee()).base(e.base())},Ac.apply(e,arguments)}function Hee(){var e=A6(qC());return e.copy=function(){return Fc(e,Hee()).constant(e.constant())},Ac.apply(e,arguments)}function D6(){var e=T6(qC());return e.copy=function(){return Fc(e,D6()).exponent(e.exponent())},Ac.apply(e,arguments)}function XFe(){return D6.apply(null,arguments).exponent(.5)}function Fa(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(r*6,++r*6);return n}const KFe=Fa("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),QFe=Fa("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),ZFe=Fa("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),JFe=Fa("4269d0efb118ff725c6cc5b03ca951ff8ab7a463f297bbf59c6b4e9498a0"),ePe=Fa("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),tPe=Fa("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),nPe=Fa("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),rPe=Fa("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),iPe=Fa("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),oPe=Fa("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f");function O6(e,t,n){const r=e-t+n*2;return e?r>0?r:1:0}const sPe="identity",fg="linear",Dl="log",wv="pow",Sv="sqrt",GC="symlog",fd="time",dd="utc",ba="sequential",om="diverging",dg="quantile",YC="quantize",XC="threshold",N6="ordinal",R3="point",qee="band",I6="bin-ordinal",En="continuous",kv="discrete",Cv="discretizing",jo="interpolating",L6="temporal";function aPe(e){return function(t){let n=t[0],r=t[1],i;return r<n&&(i=n,n=r,r=i),[e.invert(n),e.invert(r)]}}function lPe(e){return function(t){const n=e.range();let r=t[0],i=t[1],o=-1,s,a,l,u;for(i<r&&(a=r,r=i,i=a),l=0,u=n.length;l<u;++l)n[l]>=r&&n[l]<=i&&(o<0&&(o=l),s=l);if(!(o<0))return r=e.invertExtent(n[o]),i=e.invertExtent(n[s]),[r[0]===void 0?r[1]:r[0],i[1]===void 0?i[0]:i[1]]}}function z6(){const e=x6().unknown(void 0),t=e.domain,n=e.range;let r=[0,1],i,o,s=!1,a=0,l=0,u=.5;delete e.unknown;function c(){const f=t().length,d=r[1]<r[0],h=r[1-d],p=O6(f,a,l);let g=r[d-0];i=(h-g)/(p||1),s&&(i=Math.floor(i)),g+=(h-g-i*(f-a))*u,o=i*(1-a),s&&(g=Math.round(g),o=Math.round(o));const m=zi(f).map(y=>g+i*y);return n(d?m.reverse():m)}return e.domain=function(f){return arguments.length?(t(f),c()):t()},e.range=function(f){return arguments.length?(r=[+f[0],+f[1]],c()):r.slice()},e.rangeRound=function(f){return r=[+f[0],+f[1]],s=!0,c()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(f){return arguments.length?(s=!!f,c()):s},e.padding=function(f){return arguments.length?(l=Math.max(0,Math.min(1,f)),a=l,c()):a},e.paddingInner=function(f){return arguments.length?(a=Math.max(0,Math.min(1,f)),c()):a},e.paddingOuter=function(f){return arguments.length?(l=Math.max(0,Math.min(1,f)),c()):l},e.align=function(f){return arguments.length?(u=Math.max(0,Math.min(1,f)),c()):u},e.invertRange=function(f){if(f[0]==null||f[1]==null)return;const d=r[1]<r[0],h=d?n().reverse():n(),p=h.length-1;let g=+f[0],m=+f[1],y,v,b;if(!(g!==g||m!==m)&&(m<g&&(b=g,g=m,m=b),!(m<h[0]||g>r[1-d])))return y=Math.max(0,ac(h,g)-1),v=g===m?y:ac(h,m)-1,g-h[y]>o+1e-10&&++y,d&&(b=y,y=p-v,v=p-b),y>v?void 0:t().slice(y,v+1)},e.invert=function(f){const d=e.invertRange([f,f]);return d&&d[0]},e.copy=function(){return z6().domain(t()).range(r).round(s).paddingInner(a).paddingOuter(l).align(u)},c()}function Gee(e){const t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,e.copy=function(){return Gee(t())},e}function uPe(){return Gee(z6().paddingInner(1))}var cPe=Array.prototype.map;function fPe(e){return cPe.call(e,wr)}const dPe=Array.prototype.slice;function Yee(){let e=[],t=[];function n(r){return r==null||r!==r?void 0:t[(ac(e,r)-1)%t.length]}return n.domain=function(r){return arguments.length?(e=fPe(r),n):e.slice()},n.range=function(r){return arguments.length?(t=dPe.call(r),n):t.slice()},n.tickFormat=function(r,i){return Ree(e[0],qe(e),r??10,i)},n.copy=function(){return Yee().domain(n.domain()).range(n.range())},n}const nS=new Map,Xee=Symbol("vega_scale");function Kee(e){return e[Xee]=!0,e}function hPe(e){return e&&e[Xee]===!0}function pPe(e,t,n){const r=function(){const o=t();return o.invertRange||(o.invertRange=o.invert?aPe(o):o.invertExtent?lPe(o):void 0),o.type=e,Kee(o)};return r.metadata=ws(ae(n)),r}function et(e,t,n){return arguments.length>1?(nS.set(e,pPe(e,t,n)),this):Qee(e)?nS.get(e):void 0}et(sPe,Dee);et(fg,E6,En);et(Dl,Nee,[En,Dl]);et(wv,M6,En);et(Sv,VFe,En);et(GC,Iee,En);et(fd,qFe,[En,L6]);et(dd,GFe,[En,L6]);et(ba,P6,[En,jo]);et(`${ba}-${fg}`,P6,[En,jo]);et(`${ba}-${Dl}`,Bee,[En,jo,Dl]);et(`${ba}-${wv}`,R6,[En,jo]);et(`${ba}-${Sv}`,YFe,[En,jo]);et(`${ba}-${GC}`,Uee,[En,jo]);et(`${om}-${fg}`,Vee,[En,jo]);et(`${om}-${Dl}`,Wee,[En,jo,Dl]);et(`${om}-${wv}`,D6,[En,jo]);et(`${om}-${Sv}`,XFe,[En,jo]);et(`${om}-${GC}`,Hee,[En,jo]);et(dg,Lee,[Cv,dg]);et(YC,zee,Cv);et(XC,jee,Cv);et(I6,Yee,[kv,Cv]);et(N6,x6,kv);et(qee,z6,kv);et(R3,uPe,kv);function Qee(e){return nS.has(e)}function Hd(e,t){const n=nS.get(e);return n&&n.metadata[t]}function j6(e){return Hd(e,En)}function hg(e){return Hd(e,kv)}function D3(e){return Hd(e,Cv)}function Zee(e){return Hd(e,Dl)}function gPe(e){return Hd(e,L6)}function Jee(e){return Hd(e,jo)}function ete(e){return Hd(e,dg)}const mPe=["clamp","base","constant","exponent"];function tte(e,t){const n=t[0],r=qe(t)-n;return function(i){return e(n+i*r)}}function KC(e,t,n){return _6(B6(t||"rgb",n),e)}function nte(e,t){const n=new Array(t),r=t+1;for(let i=0;i<t;)n[i]=e(++i/r);return n}function rte(e,t,n){const r=n-t;let i,o,s;return!r||!Number.isFinite(r)?Tr(.5):(i=(o=e.type).indexOf("-"),o=i<0?o:o.slice(i+1),s=et(o)().domain([t,n]).range([0,1]),mPe.forEach(a=>e[a]?s[a](e[a]()):0),s)}function B6(e,t){const n=FFe[yPe(e)];return t!=null&&n&&n.gamma?n.gamma(t):n}function yPe(e){return"interpolate"+e.toLowerCase().split("-").map(t=>t[0].toUpperCase()+t.slice(1)).join("")}const vPe={blues:"cfe1f2bed8eca8cee58fc1de74b2d75ba3cf4592c63181bd206fb2125ca40a4a90",greens:"d3eecdc0e6baabdda594d3917bc77d60ba6c46ab5e329a512089430e7735036429",greys:"e2e2e2d4d4d4c4c4c4b1b1b19d9d9d8888887575756262624d4d4d3535351e1e1e",oranges:"fdd8b3fdc998fdb87bfda55efc9244f87f2cf06b18e4580bd14904b93d029f3303",purples:"e2e1efd4d4e8c4c5e0b4b3d6a3a0cc928ec3827cb97566ae684ea25c3696501f8c",reds:"fdc9b4fcb49afc9e80fc8767fa7051f6573fec3f2fdc2a25c81b1db21218970b13",blueGreen:"d5efedc1e8e0a7ddd18bd2be70c6a958ba9144ad77319c5d2089460e7736036429",bluePurple:"ccddecbad0e4a8c2dd9ab0d4919cc98d85be8b6db28a55a6873c99822287730f71",greenBlue:"d3eecec5e8c3b1e1bb9bd8bb82cec269c2ca51b2cd3c9fc7288abd1675b10b60a1",orangeRed:"fddcaffdcf9bfdc18afdad77fb9562f67d53ee6545e24932d32d1ebf130da70403",purpleBlue:"dbdaebc8cee4b1c3de97b7d87bacd15b9fc93a90c01e7fb70b70ab056199045281",purpleBlueGreen:"dbd8eac8cee4b0c3de93b7d872acd1549fc83892bb1c88a3097f8702736b016353",purpleRed:"dcc9e2d3b3d7ce9eccd186c0da6bb2e14da0e23189d91e6fc61159ab07498f023a",redPurple:"fccfccfcbec0faa9b8f98faff571a5ec539ddb3695c41b8aa908808d0179700174",yellowGreen:"e4f4acd1eca0b9e2949ed68880c97c62bb6e47aa5e3297502083440e723b036034",yellowOrangeBrown:"feeaa1fedd84fecc63feb746fca031f68921eb7215db5e0bc54c05ab3d038f3204",yellowOrangeRed:"fee087fed16ffebd59fea849fd903efc7335f9522bee3423de1b20ca0b22af0225",blueOrange:"134b852f78b35da2cb9dcae1d2e5eff2f0ebfce0bafbbf74e8932fc5690d994a07",brownBlueGreen:"704108a0651ac79548e3c78af3e6c6eef1eac9e9e48ed1c74da79e187a72025147",purpleGreen:"5b1667834792a67fb6c9aed3e6d6e8eff0efd9efd5aedda971bb75368e490e5e29",purpleOrange:"4114696647968f83b7b9b4d6dadbebf3eeeafce0bafbbf74e8932fc5690d994a07",redBlue:"8c0d25bf363adf745ef4ae91fbdbc9f2efeed2e5ef9dcae15da2cb2f78b3134b85",redGrey:"8c0d25bf363adf745ef4ae91fcdccbfaf4f1e2e2e2c0c0c0969696646464343434",yellowGreenBlue:"eff9bddbf1b4bde5b594d5b969c5be45b4c22c9ec02182b82163aa23479c1c3185",redYellowBlue:"a50026d4322cf16e43fcac64fedd90faf8c1dcf1ecabd6e875abd04a74b4313695",redYellowGreen:"a50026d4322cf16e43fcac63fedd8df9f7aed7ee8ea4d86e64bc6122964f006837",pinkYellowGreen:"8e0152c0267edd72adf0b3d6faddedf5f3efe1f2cab6de8780bb474f9125276419",spectral:"9e0142d13c4bf0704afcac63fedd8dfbf8b0e0f3a1a9dda269bda94288b55e4fa2",viridis:"440154470e61481a6c482575472f7d443a834144873d4e8a39568c35608d31688e2d708e2a788e27818e23888e21918d1f988b1fa08822a8842ab07f35b77943bf7154c56866cc5d7ad1518fd744a5db36bcdf27d2e21be9e51afde725",magma:"0000040404130b0924150e3720114b2c11603b0f704a107957157e651a80721f817f24828c29819a2e80a8327db6377ac43c75d1426fde4968e95462f1605df76f5cfa7f5efc8f65fe9f6dfeaf78febf84fece91fddea0fcedaffcfdbf",inferno:"0000040403130c0826170c3b240c4f330a5f420a68500d6c5d126e6b176e781c6d86216b932667a12b62ae305cbb3755c73e4cd24644dd513ae65c30ed6925f3771af8850ffb9506fca50afcb519fac62df6d645f2e661f3f484fcffa4",plasma:"0d088723069033059742039d5002a25d01a66a00a87801a88405a7900da49c179ea72198b12a90ba3488c33d80cb4779d35171da5a69e16462e76e5bed7953f2834cf68f44fa9a3dfca636fdb32ffec029fcce25f9dc24f5ea27f0f921",cividis:"00205100235800265d002961012b65042e670831690d346b11366c16396d1c3c6e213f6e26426e2c456e31476e374a6e3c4d6e42506e47536d4c566d51586e555b6e5a5e6e5e616e62646f66676f6a6a706e6d717270717573727976737c79747f7c75827f758682768985778c8877908b78938e789691789a94789e9778a19b78a59e77a9a177aea575b2a874b6ab73bbaf71c0b26fc5b66dc9b96acebd68d3c065d8c462ddc85fe2cb5ce7cf58ebd355f0d652f3da4ff7de4cfae249fce647",rainbow:"6e40aa883eb1a43db3bf3cafd83fa4ee4395fe4b83ff576eff6659ff7847ff8c38f3a130e2b72fcfcc36bee044aff05b8ff4576ff65b52f6673af27828ea8d1ddfa319d0b81cbecb23abd82f96e03d82e14c6edb5a5dd0664dbf6e40aa",sinebow:"ff4040fc582af47218e78d0bd5a703bfbf00a7d5038de70b72f41858fc2a40ff402afc5818f4720be78d03d5a700bfbf03a7d50b8de71872f42a58fc4040ff582afc7218f48d0be7a703d5bf00bfd503a7e70b8df41872fc2a58ff4040",turbo:"23171b32204a3e2a71453493493eae4b49c54a53d7485ee44569ee4074f53c7ff8378af93295f72e9ff42ba9ef28b3e926bce125c5d925cdcf27d5c629dcbc2de3b232e9a738ee9d3ff39347f68950f9805afc7765fd6e70fe667cfd5e88fc5795fb51a1f84badf545b9f140c5ec3cd0e637dae034e4d931ecd12ef4c92bfac029ffb626ffad24ffa223ff9821ff8d1fff821dff771cfd6c1af76118f05616e84b14df4111d5380fcb2f0dc0260ab61f07ac1805a313029b0f00950c00910b00",browns:"eedbbdecca96e9b97ae4a865dc9856d18954c7784cc0673fb85536ad44339f3632",tealBlues:"bce4d89dd3d181c3cb65b3c245a2b9368fae347da0306a932c5985",teals:"bbdfdfa2d4d58ac9c975bcbb61b0af4da5a43799982b8b8c1e7f7f127273006667",warmGreys:"dcd4d0cec5c1c0b8b4b3aaa7a59c9998908c8b827f7e7673726866665c5a59504e",goldGreen:"f4d166d5ca60b6c35c98bb597cb25760a6564b9c533f8f4f33834a257740146c36",goldOrange:"f4d166f8be5cf8aa4cf5983bf3852aef701be2621fd65322c54923b142239e3a26",goldRed:"f4d166f6be59f9aa51fc964ef6834bee734ae56249db5247cf4244c43141b71d3e",lightGreyRed:"efe9e6e1dad7d5cbc8c8bdb9bbaea9cd967ddc7b43e15f19df4011dc000b",lightGreyTeal:"e4eaead6dcddc8ced2b7c2c7a6b4bc64b0bf22a6c32295c11f85be1876bc",lightMulti:"e0f1f2c4e9d0b0de9fd0e181f6e072f6c053f3993ef77440ef4a3c",lightOrange:"f2e7daf7d5baf9c499fab184fa9c73f68967ef7860e8645bde515bd43d5b",lightTealBlue:"e3e9e0c0dccf9aceca7abfc859afc0389fb9328dad2f7ca0276b95255988",darkBlue:"3232322d46681a5c930074af008cbf05a7ce25c0dd38daed50f3faffffff",darkGold:"3c3c3c584b37725e348c7631ae8b2bcfa424ecc31ef9de30fff184ffffff",darkGreen:"3a3a3a215748006f4d048942489e4276b340a6c63dd2d836ffeb2cffffaa",darkMulti:"3737371f5287197d8c29a86995ce3fffe800ffffff",darkRed:"3434347036339e3c38cc4037e75d1eec8620eeab29f0ce32ffeb2c"},bPe={accent:QFe,category10:KFe,category20:"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5",category20b:"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6",category20c:"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9",dark2:ZFe,observable10:JFe,paired:ePe,pastel1:tPe,pastel2:nPe,set1:rPe,set2:iPe,set3:oPe,tableau10:"4c78a8f58518e4575672b7b254a24beeca3bb279a2ff9da69d755dbab0ac",tableau20:"4c78a89ecae9f58518ffbf7954a24b88d27ab79a20f2cf5b43989483bcb6e45756ff9d9879706ebab0acd67195fcbfd2b279a2d6a5c99e765fd8b5a5"};function ite(e){if(G(e))return e;const t=e.length/6|0,n=new Array(t);for(let r=0;r<t;)n[r]="#"+e.slice(r*6,++r*6);return n}function ote(e,t){for(const n in e)U6(n,t(e[n]))}const Zz={};ote(bPe,ite);ote(vPe,e=>KC(ite(e)));function U6(e,t){return e=e&&e.toLowerCase(),arguments.length>1?(Zz[e]=t,this):Zz[e]}const v2="symbol",xPe="discrete",wPe="gradient",SPe=e=>G(e)?e.map(t=>String(t)):String(e),kPe=(e,t)=>e[1]-t[1],CPe=(e,t)=>t[1]-e[1];function V6(e,t,n){let r;return Ze(t)&&(e.bins&&(t=Math.max(t,e.bins.length)),n!=null&&(t=Math.min(t,Math.floor(cv(e.domain())/n||1)+1))),se(t)&&(r=t.step,t=t.interval),le(t)&&(t=e.type===fd?em(t):e.type==dd?tm(t):q("Only time and utc scales accept interval strings."),r&&(t=t.every(r))),t}function ste(e,t,n){let r=e.range(),i=r[0],o=qe(r),s=kPe;if(i>o&&(r=o,o=i,i=r,s=CPe),i=Math.floor(i),o=Math.ceil(o),t=t.map(a=>[a,e(a)]).filter(a=>i<=a[1]&&a[1]<=o).sort(s).map(a=>a[0]),n>0&&t.length>1){const a=[t[0],qe(t)];for(;t.length>n&&t.length>=3;)t=t.filter((l,u)=>!(u%2));t.length<3&&(t=a)}return t}function W6(e,t){return e.bins?ste(e,e.bins,t):e.ticks?e.ticks(t):e.domain()}function ate(e,t,n,r,i,o){const s=t.type;let a=SPe;if(s===fd||i===fd)a=e.timeFormat(r);else if(s===dd||i===dd)a=e.utcFormat(r);else if(Zee(s)){const l=e.formatFloat(r);if(o||t.bins)a=l;else{const u=lte(t,n,!1);a=c=>u(c)?l(c):""}}else if(t.tickFormat){const l=t.domain();a=e.formatSpan(l[0],l[l.length-1],n,r)}else r&&(a=e.format(r));return a}function lte(e,t,n){const r=W6(e,t),i=e.base(),o=Math.log(i),s=Math.max(1,i*t/r.length),a=l=>{let u=l/Math.pow(i,Math.round(Math.log(l)/o));return u*i<i-.5&&(u*=i),u<=s};return n?r.filter(a):a}const O3={[dg]:"quantiles",[YC]:"thresholds",[XC]:"domain"},ute={[dg]:"quantiles",[YC]:"domain"};function cte(e,t){return e.bins?$Pe(e.bins):e.type===Dl?lte(e,t,!0):O3[e.type]?EPe(e[O3[e.type]]()):W6(e,t)}function _Pe(e,t,n){const r=t[ute[t.type]](),i=r.length;let o=i>1?r[1]-r[0]:r[0],s;for(s=1;s<i;++s)o=Math.min(o,r[s]-r[s-1]);return e.formatSpan(0,o,3*10,n)}function EPe(e){const t=[-1/0].concat(e);return t.max=1/0,t}function $Pe(e){const t=e.slice(0,-1);return t.max=qe(e),t}const APe=e=>O3[e.type]||e.bins;function fte(e,t,n,r,i,o,s){const a=ute[t.type]&&o!==fd&&o!==dd?_Pe(e,t,i):ate(e,t,n,i,o,s);return r===v2&&APe(t)?TPe(a):r===xPe?MPe(a):FPe(a)}const TPe=e=>(t,n,r)=>{const i=Jz(r[n+1],Jz(r.max,1/0)),o=ej(t,e),s=ej(i,e);return o&&s?o+" – "+s:s?"< "+s:"≥ "+o},Jz=(e,t)=>e??t,MPe=e=>(t,n)=>n?e(t):null,FPe=e=>t=>e(t),ej=(e,t)=>Number.isFinite(e)?t(e):null;function PPe(e){const t=e.domain(),n=t.length-1;let r=+t[0],i=+qe(t),o=i-r;if(e.type===XC){const s=n?o/n:.1;r-=s,i+=s,o=i-r}return s=>(s-r)/o}function RPe(e,t,n,r){const i=r||t.type;return le(n)&&gPe(i)&&(n=n.replace(/%a/g,"%A").replace(/%b/g,"%B")),!n&&i===fd?e.timeFormat("%A, %d %B %Y, %X"):!n&&i===dd?e.utcFormat("%A, %d %B %Y, %X UTC"):fte(e,t,5,null,n,r,!0)}function dte(e,t,n){n=n||{};const r=Math.max(3,n.maxlen||7),i=RPe(e,t,n.format,n.formatType);if(D3(t.type)){const o=cte(t).slice(1).map(i),s=o.length;return`${s} boundar${s===1?"y":"ies"}: ${o.join(", ")}`}else if(hg(t.type)){const o=t.domain(),s=o.length,a=s>r?o.slice(0,r-2).map(i).join(", ")+", ending with "+o.slice(-1).map(i):o.map(i).join(", ");return`${s} value${s===1?"":"s"}: ${a}`}else{const o=t.domain();return`values from ${i(o[0])} to ${i(qe(o))}`}}let hte=0;function DPe(){hte=0}const rS="p_";function H6(e){return e&&e.gradient}function pte(e,t,n){const r=e.gradient;let i=e.id,o=r==="radial"?rS:"";return i||(i=e.id="gradient_"+hte++,r==="radial"?(e.x1=Bs(e.x1,.5),e.y1=Bs(e.y1,.5),e.r1=Bs(e.r1,0),e.x2=Bs(e.x2,.5),e.y2=Bs(e.y2,.5),e.r2=Bs(e.r2,.5),o=rS):(e.x1=Bs(e.x1,0),e.y1=Bs(e.y1,0),e.x2=Bs(e.x2,1),e.y2=Bs(e.y2,0))),t[i]=e,"url("+(n||"")+"#"+o+i+")"}function Bs(e,t){return e??t}function gte(e,t){var n=[],r;return r={gradient:"linear",x1:e?e[0]:0,y1:e?e[1]:0,x2:t?t[0]:1,y2:t?t[1]:0,stops:n,stop:function(i,o){return n.push({offset:i,color:o}),r}}}const tj={basis:{curve:NMe},"basis-closed":{curve:IMe},"basis-open":{curve:LMe},bundle:{curve:zMe,tension:"beta",value:.85},cardinal:{curve:jMe,tension:"tension",value:0},"cardinal-open":{curve:UMe,tension:"tension",value:0},"cardinal-closed":{curve:BMe,tension:"tension",value:0},"catmull-rom":{curve:VMe,tension:"alpha",value:.5},"catmull-rom-closed":{curve:WMe,tension:"alpha",value:.5},"catmull-rom-open":{curve:HMe,tension:"alpha",value:.5},linear:{curve:g6},"linear-closed":{curve:qMe},monotone:{horizontal:YMe,vertical:GMe},natural:{curve:XMe},step:{curve:KMe},"step-after":{curve:ZMe},"step-before":{curve:QMe}};function q6(e,t,n){var r=ce(tj,e)&&tj[e],i=null;return r&&(i=r.curve||r[t||"vertical"],r.tension&&n!=null&&(i=i[r.tension](n))),i}const OPe={m:2,l:2,h:1,v:1,z:0,c:6,s:4,q:4,t:2,a:7},NPe=/[mlhvzcsqta]([^mlhvzcsqta]+|$)/gi,IPe=/^[+-]?(([0-9]*\.[0-9]+)|([0-9]+\.)|([0-9]+))([eE][+-]?[0-9]+)?/,LPe=/^((\s+,?\s*)|(,\s*))/,zPe=/^[01]/;function pg(e){const t=[];return(e.match(NPe)||[]).forEach(r=>{let i=r[0];const o=i.toLowerCase(),s=OPe[o],a=jPe(o,s,r.slice(1).trim()),l=a.length;if(l<s||l&&l%s!==0)throw Error("Invalid SVG path, incorrect parameter count");if(t.push([i,...a.slice(0,s)]),l!==s){o==="m"&&(i=i==="M"?"L":"l");for(let u=s;u<l;u+=s)t.push([i,...a.slice(u,u+s)])}}),t}function jPe(e,t,n){const r=[];for(let i=0;t&&i<n.length;)for(let o=0;o<t;++o){const s=e==="a"&&(o===3||o===4)?zPe:IPe,a=n.slice(i).match(s);if(a===null)throw Error("Invalid SVG path, incorrect parameter type");i+=a[0].length,r.push(+a[0]);const l=n.slice(i).match(LPe);l!==null&&(i+=l[0].length)}return r}const dc=Math.PI/180,BPe=1e-14,yf=Math.PI/2,ia=Math.PI*2,gh=Math.sqrt(3)/2;var mA={},yA={},mte=[].join;function UPe(e,t,n,r,i,o,s,a,l){const u=mte.call(arguments);if(mA[u])return mA[u];const c=s*dc,f=Math.sin(c),d=Math.cos(c);n=Math.abs(n),r=Math.abs(r);const h=d*(a-e)*.5+f*(l-t)*.5,p=d*(l-t)*.5-f*(a-e)*.5;let g=h*h/(n*n)+p*p/(r*r);g>1&&(g=Math.sqrt(g),n*=g,r*=g);const m=d/n,y=f/n,v=-f/r,b=d/r,x=m*a+y*l,w=v*a+b*l,k=m*e+y*t,S=v*e+b*t;let _=1/((k-x)*(k-x)+(S-w)*(S-w))-.25;_<0&&(_=0);let $=Math.sqrt(_);o==i&&($=-$);const A=.5*(x+k)-$*(S-w),O=.5*(w+S)+$*(k-x),M=Math.atan2(w-O,x-A);let R=Math.atan2(S-O,k-A)-M;R<0&&o===1?R+=ia:R>0&&o===0&&(R-=ia);const D=Math.ceil(Math.abs(R/(yf+.001))),I=[];for(let N=0;N<D;++N){const B=M+N*R/D,Y=M+(N+1)*R/D;I[N]=[A,O,B,Y,n,r,f,d]}return mA[u]=I}function VPe(e){const t=mte.call(e);if(yA[t])return yA[t];var n=e[0],r=e[1],i=e[2],o=e[3],s=e[4],a=e[5],l=e[6],u=e[7];const c=u*s,f=-l*a,d=l*s,h=u*a,p=Math.cos(i),g=Math.sin(i),m=Math.cos(o),y=Math.sin(o),v=.5*(o-i),b=Math.sin(v*.5),x=8/3*b*b/Math.sin(v),w=n+p-x*g,k=r+g+x*p,S=n+m,C=r+y,_=S+x*y,$=C-x*m;return yA[t]=[c*w+f*k,d*w+h*k,c*_+f*$,d*_+h*$,c*S+f*C,d*S+h*C]}const lo=["l",0,0,0,0,0,0,0];function WPe(e,t,n){const r=lo[0]=e[0];if(r==="a"||r==="A")lo[1]=t*e[1],lo[2]=n*e[2],lo[3]=e[3],lo[4]=e[4],lo[5]=e[5],lo[6]=t*e[6],lo[7]=n*e[7];else if(r==="h"||r==="H")lo[1]=t*e[1];else if(r==="v"||r==="V")lo[1]=n*e[1];else for(var i=1,o=e.length;i<o;++i)lo[i]=(i%2==1?t:n)*e[i];return lo}function m1(e,t,n,r,i,o){var s,a=null,l=0,u=0,c=0,f=0,d,h,p,g,m=0,y=0;n==null&&(n=0),r==null&&(r=0),i==null&&(i=1),o==null&&(o=i),e.beginPath&&e.beginPath();for(var v=0,b=t.length;v<b;++v){switch(s=t[v],(i!==1||o!==1)&&(s=WPe(s,i,o)),s[0]){case"l":l+=s[1],u+=s[2],e.lineTo(l+n,u+r);break;case"L":l=s[1],u=s[2],e.lineTo(l+n,u+r);break;case"h":l+=s[1],e.lineTo(l+n,u+r);break;case"H":l=s[1],e.lineTo(l+n,u+r);break;case"v":u+=s[1],e.lineTo(l+n,u+r);break;case"V":u=s[1],e.lineTo(l+n,u+r);break;case"m":l+=s[1],u+=s[2],m=l,y=u,e.moveTo(l+n,u+r);break;case"M":l=s[1],u=s[2],m=l,y=u,e.moveTo(l+n,u+r);break;case"c":d=l+s[5],h=u+s[6],c=l+s[3],f=u+s[4],e.bezierCurveTo(l+s[1]+n,u+s[2]+r,c+n,f+r,d+n,h+r),l=d,u=h;break;case"C":l=s[5],u=s[6],c=s[3],f=s[4],e.bezierCurveTo(s[1]+n,s[2]+r,c+n,f+r,l+n,u+r);break;case"s":d=l+s[3],h=u+s[4],c=2*l-c,f=2*u-f,e.bezierCurveTo(c+n,f+r,l+s[1]+n,u+s[2]+r,d+n,h+r),c=l+s[1],f=u+s[2],l=d,u=h;break;case"S":d=s[3],h=s[4],c=2*l-c,f=2*u-f,e.bezierCurveTo(c+n,f+r,s[1]+n,s[2]+r,d+n,h+r),l=d,u=h,c=s[1],f=s[2];break;case"q":d=l+s[3],h=u+s[4],c=l+s[1],f=u+s[2],e.quadraticCurveTo(c+n,f+r,d+n,h+r),l=d,u=h;break;case"Q":d=s[3],h=s[4],e.quadraticCurveTo(s[1]+n,s[2]+r,d+n,h+r),l=d,u=h,c=s[1],f=s[2];break;case"t":d=l+s[1],h=u+s[2],a[0].match(/[QqTt]/)===null?(c=l,f=u):a[0]==="t"?(c=2*l-p,f=2*u-g):a[0]==="q"&&(c=2*l-c,f=2*u-f),p=c,g=f,e.quadraticCurveTo(c+n,f+r,d+n,h+r),l=d,u=h,c=l+s[1],f=u+s[2];break;case"T":d=s[1],h=s[2],c=2*l-c,f=2*u-f,e.quadraticCurveTo(c+n,f+r,d+n,h+r),l=d,u=h;break;case"a":nj(e,l+n,u+r,[s[1],s[2],s[3],s[4],s[5],s[6]+l+n,s[7]+u+r]),l+=s[6],u+=s[7];break;case"A":nj(e,l+n,u+r,[s[1],s[2],s[3],s[4],s[5],s[6]+n,s[7]+r]),l=s[6],u=s[7];break;case"z":case"Z":l=m,u=y,e.closePath();break}a=s}}function nj(e,t,n,r){const i=UPe(r[5],r[6],r[0],r[1],r[3],r[4],r[2],t,n);for(let o=0;o<i.length;++o){const s=VPe(i[o]);e.bezierCurveTo(s[0],s[1],s[2],s[3],s[4],s[5])}}const rj=.5773502691896257,ij={circle:{draw:function(e,t){const n=Math.sqrt(t)/2;e.moveTo(n,0),e.arc(0,0,n,0,ia)}},cross:{draw:function(e,t){var n=Math.sqrt(t)/2,r=n/2.5;e.moveTo(-n,-r),e.lineTo(-n,r),e.lineTo(-r,r),e.lineTo(-r,n),e.lineTo(r,n),e.lineTo(r,r),e.lineTo(n,r),e.lineTo(n,-r),e.lineTo(r,-r),e.lineTo(r,-n),e.lineTo(-r,-n),e.lineTo(-r,-r),e.closePath()}},diamond:{draw:function(e,t){const n=Math.sqrt(t)/2;e.moveTo(-n,0),e.lineTo(0,-n),e.lineTo(n,0),e.lineTo(0,n),e.closePath()}},square:{draw:function(e,t){var n=Math.sqrt(t),r=-n/2;e.rect(r,r,n,n)}},arrow:{draw:function(e,t){var n=Math.sqrt(t)/2,r=n/7,i=n/2.5,o=n/8;e.moveTo(-r,n),e.lineTo(r,n),e.lineTo(r,-o),e.lineTo(i,-o),e.lineTo(0,-n),e.lineTo(-i,-o),e.lineTo(-r,-o),e.closePath()}},wedge:{draw:function(e,t){var n=Math.sqrt(t)/2,r=gh*n,i=r-n*rj,o=n/4;e.moveTo(0,-r-i),e.lineTo(-o,r-i),e.lineTo(o,r-i),e.closePath()}},triangle:{draw:function(e,t){var n=Math.sqrt(t)/2,r=gh*n,i=r-n*rj;e.moveTo(0,-r-i),e.lineTo(-n,r-i),e.lineTo(n,r-i),e.closePath()}},"triangle-up":{draw:function(e,t){var n=Math.sqrt(t)/2,r=gh*n;e.moveTo(0,-r),e.lineTo(-n,r),e.lineTo(n,r),e.closePath()}},"triangle-down":{draw:function(e,t){var n=Math.sqrt(t)/2,r=gh*n;e.moveTo(0,r),e.lineTo(-n,-r),e.lineTo(n,-r),e.closePath()}},"triangle-right":{draw:function(e,t){var n=Math.sqrt(t)/2,r=gh*n;e.moveTo(r,0),e.lineTo(-r,-n),e.lineTo(-r,n),e.closePath()}},"triangle-left":{draw:function(e,t){var n=Math.sqrt(t)/2,r=gh*n;e.moveTo(-r,0),e.lineTo(r,-n),e.lineTo(r,n),e.closePath()}},stroke:{draw:function(e,t){const n=Math.sqrt(t)/2;e.moveTo(-n,0),e.lineTo(n,0)}}};function yte(e){return ce(ij,e)?ij[e]:HPe(e)}var vA={};function HPe(e){if(!ce(vA,e)){const t=pg(e);vA[e]={draw:function(n,r){m1(n,t,0,0,Math.sqrt(r)/2)}}}return vA[e]}const ru=.448084975506;function qPe(e){return e.x}function GPe(e){return e.y}function YPe(e){return e.width}function XPe(e){return e.height}function Ha(e){return typeof e=="function"?e:()=>+e}function rx(e,t,n){return Math.max(t,Math.min(e,n))}function vte(){var e=qPe,t=GPe,n=YPe,r=XPe,i=Ha(0),o=i,s=i,a=i,l=null;function u(c,f,d){var h,p=f??+e.call(this,c),g=d??+t.call(this,c),m=+n.call(this,c),y=+r.call(this,c),v=Math.min(m,y)/2,b=rx(+i.call(this,c),0,v),x=rx(+o.call(this,c),0,v),w=rx(+s.call(this,c),0,v),k=rx(+a.call(this,c),0,v);if(l||(l=h=IC()),b<=0&&x<=0&&w<=0&&k<=0)l.rect(p,g,m,y);else{var S=p+m,C=g+y;l.moveTo(p+b,g),l.lineTo(S-x,g),l.bezierCurveTo(S-ru*x,g,S,g+ru*x,S,g+x),l.lineTo(S,C-k),l.bezierCurveTo(S,C-ru*k,S-ru*k,C,S-k,C),l.lineTo(p+w,C),l.bezierCurveTo(p+ru*w,C,p,C-ru*w,p,C-w),l.lineTo(p,g+b),l.bezierCurveTo(p,g+ru*b,p+ru*b,g,p+b,g),l.closePath()}if(h)return l=null,h+""||null}return u.x=function(c){return arguments.length?(e=Ha(c),u):e},u.y=function(c){return arguments.length?(t=Ha(c),u):t},u.width=function(c){return arguments.length?(n=Ha(c),u):n},u.height=function(c){return arguments.length?(r=Ha(c),u):r},u.cornerRadius=function(c,f,d,h){return arguments.length?(i=Ha(c),o=f!=null?Ha(f):i,a=d!=null?Ha(d):i,s=h!=null?Ha(h):o,u):i},u.context=function(c){return arguments.length?(l=c??null,u):l},u}function bte(){var e,t,n,r,i=null,o,s,a,l;function u(f,d,h){const p=h/2;if(o){var g=a-d,m=f-s;if(g||m){var y=Math.hypot(g,m),v=(g/=y)*l,b=(m/=y)*l,x=Math.atan2(m,g);i.moveTo(s-v,a-b),i.lineTo(f-g*p,d-m*p),i.arc(f,d,p,x-Math.PI,x),i.lineTo(s+v,a+b),i.arc(s,a,l,x,x+Math.PI)}else i.arc(f,d,p,0,ia);i.closePath()}else o=1;s=f,a=d,l=p}function c(f){var d,h=f.length,p,g=!1,m;for(i==null&&(i=m=IC()),d=0;d<=h;++d)!(d<h&&r(p=f[d],d,f))===g&&(g=!g)&&(o=0),g&&u(+e(p,d,f),+t(p,d,f),+n(p,d,f));if(m)return i=null,m+""||null}return c.x=function(f){return arguments.length?(e=f,c):e},c.y=function(f){return arguments.length?(t=f,c):t},c.size=function(f){return arguments.length?(n=f,c):n},c.defined=function(f){return arguments.length?(r=f,c):r},c.context=function(f){return arguments.length?(f==null?i=null:i=f,c):i},c}function _v(e,t){return e??t}const Ev=e=>e.x||0,$v=e=>e.y||0,KPe=e=>e.width||0,QPe=e=>e.height||0,ZPe=e=>(e.x||0)+(e.width||0),JPe=e=>(e.y||0)+(e.height||0),eRe=e=>e.startAngle||0,tRe=e=>e.endAngle||0,nRe=e=>e.padAngle||0,rRe=e=>e.innerRadius||0,iRe=e=>e.outerRadius||0,oRe=e=>e.cornerRadius||0,sRe=e=>_v(e.cornerRadiusTopLeft,e.cornerRadius)||0,aRe=e=>_v(e.cornerRadiusTopRight,e.cornerRadius)||0,lRe=e=>_v(e.cornerRadiusBottomRight,e.cornerRadius)||0,uRe=e=>_v(e.cornerRadiusBottomLeft,e.cornerRadius)||0,cRe=e=>_v(e.size,64),fRe=e=>e.size||1,QC=e=>e.defined!==!1,dRe=e=>yte(e.shape||"circle"),hRe=RMe().startAngle(eRe).endAngle(tRe).padAngle(nRe).innerRadius(rRe).outerRadius(iRe).cornerRadius(oRe),pRe=UJ().x(Ev).y1($v).y0(JPe).defined(QC),gRe=UJ().y($v).x1(Ev).x0(ZPe).defined(QC),mRe=BJ().x(Ev).y($v).defined(QC),yRe=vte().x(Ev).y($v).width(KPe).height(QPe).cornerRadius(sRe,aRe,lRe,uRe),vRe=OMe().type(dRe).size(cRe),bRe=bte().x(Ev).y($v).defined(QC).size(fRe);function G6(e){return e.cornerRadius||e.cornerRadiusTopLeft||e.cornerRadiusTopRight||e.cornerRadiusBottomRight||e.cornerRadiusBottomLeft}function xRe(e,t){return hRe.context(e)(t)}function wRe(e,t){const n=t[0],r=n.interpolate||"linear";return(n.orient==="horizontal"?gRe:pRe).curve(q6(r,n.orient,n.tension)).context(e)(t)}function SRe(e,t){const n=t[0],r=n.interpolate||"linear";return mRe.curve(q6(r,n.orient,n.tension)).context(e)(t)}function sm(e,t,n,r){return yRe.context(e)(t,n,r)}function kRe(e,t){return(t.mark.shape||t.shape).context(e)(t)}function CRe(e,t){return vRe.context(e)(t)}function _Re(e,t){return bRe.context(e)(t)}var xte=1;function wte(){xte=1}function Y6(e,t,n){var r=t.clip,i=e._defs,o=t.clip_id||(t.clip_id="clip"+xte++),s=i.clipping[o]||(i.clipping[o]={id:o});return Ne(r)?s.path=r(null):G6(n)?s.path=sm(null,n,0,0):(s.width=n.width||0,s.height=n.height||0),"url(#"+o+")"}function gn(e){this.clear(),e&&this.union(e)}gn.prototype={clone(){return new gn(this)},clear(){return this.x1=+Number.MAX_VALUE,this.y1=+Number.MAX_VALUE,this.x2=-Number.MAX_VALUE,this.y2=-Number.MAX_VALUE,this},empty(){return this.x1===+Number.MAX_VALUE&&this.y1===+Number.MAX_VALUE&&this.x2===-Number.MAX_VALUE&&this.y2===-Number.MAX_VALUE},equals(e){return this.x1===e.x1&&this.y1===e.y1&&this.x2===e.x2&&this.y2===e.y2},set(e,t,n,r){return n<e?(this.x2=e,this.x1=n):(this.x1=e,this.x2=n),r<t?(this.y2=t,this.y1=r):(this.y1=t,this.y2=r),this},add(e,t){return e<this.x1&&(this.x1=e),t<this.y1&&(this.y1=t),e>this.x2&&(this.x2=e),t>this.y2&&(this.y2=t),this},expand(e){return this.x1-=e,this.y1-=e,this.x2+=e,this.y2+=e,this},round(){return this.x1=Math.floor(this.x1),this.y1=Math.floor(this.y1),this.x2=Math.ceil(this.x2),this.y2=Math.ceil(this.y2),this},scale(e){return this.x1*=e,this.y1*=e,this.x2*=e,this.y2*=e,this},translate(e,t){return this.x1+=e,this.x2+=e,this.y1+=t,this.y2+=t,this},rotate(e,t,n){const r=this.rotatedPoints(e,t,n);return this.clear().add(r[0],r[1]).add(r[2],r[3]).add(r[4],r[5]).add(r[6],r[7])},rotatedPoints(e,t,n){var{x1:r,y1:i,x2:o,y2:s}=this,a=Math.cos(e),l=Math.sin(e),u=t-t*a+n*l,c=n-t*l-n*a;return[a*r-l*i+u,l*r+a*i+c,a*r-l*s+u,l*r+a*s+c,a*o-l*i+u,l*o+a*i+c,a*o-l*s+u,l*o+a*s+c]},union(e){return e.x1<this.x1&&(this.x1=e.x1),e.y1<this.y1&&(this.y1=e.y1),e.x2>this.x2&&(this.x2=e.x2),e.y2>this.y2&&(this.y2=e.y2),this},intersect(e){return e.x1>this.x1&&(this.x1=e.x1),e.y1>this.y1&&(this.y1=e.y1),e.x2<this.x2&&(this.x2=e.x2),e.y2<this.y2&&(this.y2=e.y2),this},encloses(e){return e&&this.x1<=e.x1&&this.x2>=e.x2&&this.y1<=e.y1&&this.y2>=e.y2},alignsWith(e){return e&&(this.x1==e.x1||this.x2==e.x2||this.y1==e.y1||this.y2==e.y2)},intersects(e){return e&&!(this.x2<e.x1||this.x1>e.x2||this.y2<e.y1||this.y1>e.y2)},contains(e,t){return!(e<this.x1||e>this.x2||t<this.y1||t>this.y2)},width(){return this.x2-this.x1},height(){return this.y2-this.y1}};function ZC(e){this.mark=e,this.bounds=this.bounds||new gn}function JC(e){ZC.call(this,e),this.items=this.items||[]}ne(JC,ZC);class Ste{constructor(t){this._pending=0,this._loader=t||_C()}pending(){return this._pending}sanitizeURL(t){const n=this;return oj(n),n._loader.sanitize(t,{context:"href"}).then(r=>(Ym(n),r)).catch(()=>(Ym(n),null))}loadImage(t){const n=this,r=JMe();return oj(n),n._loader.sanitize(t,{context:"image"}).then(i=>{const o=i.href;if(!o||!r)throw{url:o};const s=new r,a=ce(i,"crossOrigin")?i.crossOrigin:"anonymous";return a!=null&&(s.crossOrigin=a),s.onload=()=>Ym(n),s.onerror=()=>Ym(n),s.src=o,s}).catch(i=>(Ym(n),{complete:!1,width:0,height:0,src:i&&i.url||""}))}ready(){const t=this;return new Promise(n=>{function r(i){t.pending()?setTimeout(()=>{r(!0)},10):n(i)}r(!1)})}}function oj(e){e._pending+=1}function Ym(e){e._pending-=1}function Vl(e,t,n){if(t.stroke&&t.opacity!==0&&t.strokeOpacity!==0){const r=t.strokeWidth!=null?+t.strokeWidth:1;e.expand(r+(n?ERe(t,r):0))}return e}function ERe(e,t){return e.strokeJoin&&e.strokeJoin!=="miter"?0:t}const $Re=ia-1e-8;let e_,b2,x2,Mf,N3,w2,I3,L3;const Fu=(e,t)=>e_.add(e,t),S2=(e,t)=>Fu(b2=e,x2=t),sj=e=>Fu(e,e_.y1),aj=e=>Fu(e_.x1,e),vf=(e,t)=>N3*e+I3*t,bf=(e,t)=>w2*e+L3*t,bA=(e,t)=>Fu(vf(e,t),bf(e,t)),xA=(e,t)=>S2(vf(e,t),bf(e,t));function Av(e,t){return e_=e,t?(Mf=t*dc,N3=L3=Math.cos(Mf),w2=Math.sin(Mf),I3=-w2):(N3=L3=1,Mf=w2=I3=0),ARe}const ARe={beginPath(){},closePath(){},moveTo:xA,lineTo:xA,rect(e,t,n,r){Mf?(bA(e+n,t),bA(e+n,t+r),bA(e,t+r),xA(e,t)):(Fu(e+n,t+r),S2(e,t))},quadraticCurveTo(e,t,n,r){const i=vf(e,t),o=bf(e,t),s=vf(n,r),a=bf(n,r);lj(b2,i,s,sj),lj(x2,o,a,aj),S2(s,a)},bezierCurveTo(e,t,n,r,i,o){const s=vf(e,t),a=bf(e,t),l=vf(n,r),u=bf(n,r),c=vf(i,o),f=bf(i,o);uj(b2,s,l,c,sj),uj(x2,a,u,f,aj),S2(c,f)},arc(e,t,n,r,i,o){if(r+=Mf,i+=Mf,b2=n*Math.cos(i)+e,x2=n*Math.sin(i)+t,Math.abs(i-r)>$Re)Fu(e-n,t-n),Fu(e+n,t+n);else{const s=u=>Fu(n*Math.cos(u)+e,n*Math.sin(u)+t);let a,l;if(s(r),s(i),i!==r)if(r=r%ia,r<0&&(r+=ia),i=i%ia,i<0&&(i+=ia),i<r&&(o=!o,a=r,r=i,i=a),o)for(i-=ia,a=r-r%yf,l=0;l<4&&a>i;++l,a-=yf)s(a);else for(a=r-r%yf+yf,l=0;l<4&&a<i;++l,a=a+yf)s(a)}}};function lj(e,t,n,r){const i=(e-t)/(e+n-2*t);0<i&&i<1&&r(e+(t-e)*i)}function uj(e,t,n,r,i){const o=r-e+3*t-3*n,s=e+n-2*t,a=e-t;let l=0,u=0,c;Math.abs(o)>BPe?(c=s*s+a*o,c>=0&&(c=Math.sqrt(c),l=(-s+c)/o,u=(-s-c)/o)):l=.5*a/s,0<l&&l<1&&i(cj(l,e,t,n,r)),0<u&&u<1&&i(cj(u,e,t,n,r))}function cj(e,t,n,r,i){const o=1-e,s=o*o,a=e*e;return s*o*t+3*s*e*n+3*o*a*r+a*e*i}var ec=(ec=Ju(1,1))?ec.getContext("2d"):null;const z3=new gn;function X6(e){return function(t,n){if(!ec)return!0;e(ec,t),z3.clear().union(t.bounds).intersect(n).round();const{x1:r,y1:i,x2:o,y2:s}=z3;for(let a=i;a<=s;++a)for(let l=r;l<=o;++l)if(ec.isPointInPath(l,a))return!0;return!1}}function K6(e,t){return t.contains(e.x||0,e.y||0)}function kte(e,t){const n=e.x||0,r=e.y||0,i=e.width||0,o=e.height||0;return t.intersects(z3.set(n,r,n+i,r+o))}function Cte(e,t){const n=e.x||0,r=e.y||0,i=e.x2!=null?e.x2:n,o=e.y2!=null?e.y2:r;return ep(t,n,r,i,o)}function ep(e,t,n,r,i){const{x1:o,y1:s,x2:a,y2:l}=e,u=r-t,c=i-n;let f=0,d=1,h,p,g,m;for(m=0;m<4;++m){if(m===0&&(h=-u,p=-(o-t)),m===1&&(h=u,p=a-t),m===2&&(h=-c,p=-(s-n)),m===3&&(h=c,p=l-n),Math.abs(h)<1e-10&&p<0)return!1;if(g=p/h,h<0){if(g>d)return!1;g>f&&(f=g)}else if(h>0){if(g<f)return!1;g<d&&(d=g)}}return!0}function gg(e,t){e.globalCompositeOperation=t.blend||"source-over"}function Go(e,t){return e??t}function fj(e,t){const n=t.length;for(let r=0;r<n;++r)e.addColorStop(t[r].offset,t[r].color);return e}function TRe(e,t,n){const r=n.width(),i=n.height();let o;if(t.gradient==="radial")o=e.createRadialGradient(n.x1+Go(t.x1,.5)*r,n.y1+Go(t.y1,.5)*i,Math.max(r,i)*Go(t.r1,0),n.x1+Go(t.x2,.5)*r,n.y1+Go(t.y2,.5)*i,Math.max(r,i)*Go(t.r2,.5));else{const s=Go(t.x1,0),a=Go(t.y1,0),l=Go(t.x2,1),u=Go(t.y2,0);if(s===l||a===u||r===i)o=e.createLinearGradient(n.x1+s*r,n.y1+a*i,n.x1+l*r,n.y1+u*i);else{const c=Ju(Math.ceil(r),Math.ceil(i)),f=c.getContext("2d");return f.scale(r,i),f.fillStyle=fj(f.createLinearGradient(s,a,l,u),t.stops),f.fillRect(0,0,r,i),e.createPattern(c,"no-repeat")}}return fj(o,t.stops)}function _te(e,t,n){return H6(n)?TRe(e,n,t.bounds):n}function iS(e,t,n){return n*=t.fillOpacity==null?1:t.fillOpacity,n>0?(e.globalAlpha=n,e.fillStyle=_te(e,t,t.fill),!0):!1}var MRe=[];function mg(e,t,n){var r=(r=t.strokeWidth)!=null?r:1;return r<=0?!1:(n*=t.strokeOpacity==null?1:t.strokeOpacity,n>0?(e.globalAlpha=n,e.strokeStyle=_te(e,t,t.stroke),e.lineWidth=r,e.lineCap=t.strokeCap||"butt",e.lineJoin=t.strokeJoin||"miter",e.miterLimit=t.strokeMiterLimit||10,e.setLineDash&&(e.setLineDash(t.strokeDash||MRe),e.lineDashOffset=t.strokeDashOffset||0),!0):!1)}function FRe(e,t){return e.zindex-t.zindex||e.index-t.index}function Q6(e){if(!e.zdirty)return e.zitems;var t=e.items,n=[],r,i,o;for(i=0,o=t.length;i<o;++i)r=t[i],r.index=i,r.zindex&&n.push(r);return e.zdirty=!1,e.zitems=n.sort(FRe)}function _s(e,t){var n=e.items,r,i;if(!n||!n.length)return;const o=Q6(e);if(o&&o.length){for(r=0,i=n.length;r<i;++r)n[r].zindex||t(n[r]);n=o}for(r=0,i=n.length;r<i;++r)t(n[r])}function oS(e,t){var n=e.items,r,i;if(!n||!n.length)return null;const o=Q6(e);for(o&&o.length&&(n=o),i=n.length;--i>=0;)if(r=t(n[i]))return r;if(n===o){for(n=e.items,i=n.length;--i>=0;)if(!n[i].zindex&&(r=t(n[i])))return r}return null}function Z6(e){return function(t,n,r){_s(n,i=>{(!r||r.intersects(i.bounds))&&Ete(e,t,i,i)})}}function PRe(e){return function(t,n,r){n.items.length&&(!r||r.intersects(n.bounds))&&Ete(e,t,n.items[0],n.items)}}function Ete(e,t,n,r){var i=n.opacity==null?1:n.opacity;i!==0&&(e(t,r)||(gg(t,n),n.fill&&iS(t,n,i)&&t.fill(),n.stroke&&mg(t,n,i)&&t.stroke()))}function t_(e){return e=e||Do,function(t,n,r,i,o,s){return r*=t.pixelRatio,i*=t.pixelRatio,oS(n,a=>{const l=a.bounds;if(!(l&&!l.contains(o,s)||!l)&&e(t,a,r,i,o,s))return a})}}function Tv(e,t){return function(n,r,i,o){var s=Array.isArray(r)?r[0]:r,a=t??s.fill,l=s.stroke&&n.isPointInStroke,u,c;return l&&(u=s.strokeWidth,c=s.strokeCap,n.lineWidth=u??1,n.lineCap=c??"butt"),e(n,r)?!1:a&&n.isPointInPath(i,o)||l&&n.isPointInStroke(i,o)}}function J6(e){return t_(Tv(e))}function Kf(e,t){return"translate("+e+","+t+")"}function eD(e){return"rotate("+e+")"}function RRe(e,t){return"scale("+e+","+t+")"}function $te(e){return Kf(e.x||0,e.y||0)}function DRe(e){return Kf(e.x||0,e.y||0)+(e.angle?" "+eD(e.angle):"")}function ORe(e){return Kf(e.x||0,e.y||0)+(e.angle?" "+eD(e.angle):"")+(e.scaleX||e.scaleY?" "+RRe(e.scaleX||1,e.scaleY||1):"")}function tD(e,t,n){function r(s,a){s("transform",DRe(a)),s("d",t(null,a))}function i(s,a){return t(Av(s,a.angle),a),Vl(s,a).translate(a.x||0,a.y||0)}function o(s,a){var l=a.x||0,u=a.y||0,c=a.angle||0;s.translate(l,u),c&&s.rotate(c*=dc),s.beginPath(),t(s,a),c&&s.rotate(-c),s.translate(-l,-u)}return{type:e,tag:"path",nested:!1,attr:r,bound:i,draw:Z6(o),pick:J6(o),isect:n||X6(o)}}var NRe=tD("arc",xRe);function IRe(e,t){for(var n=e[0].orient==="horizontal"?t[1]:t[0],r=e[0].orient==="horizontal"?"y":"x",i=e.length,o=1/0,s,a;--i>=0;)e[i].defined!==!1&&(a=Math.abs(e[i][r]-n),a<o&&(o=a,s=e[i]));return s}function LRe(e,t){for(var n=Math.pow(e[0].strokeWidth||1,2),r=e.length,i,o,s;--r>=0;)if(e[r].defined!==!1&&(i=e[r].x-t[0],o=e[r].y-t[1],s=i*i+o*o,s<n))return e[r];return null}function zRe(e,t){for(var n=e.length,r,i,o;--n>=0;)if(e[n].defined!==!1&&(r=e[n].x-t[0],i=e[n].y-t[1],o=r*r+i*i,r=e[n].size||1,o<r*r))return e[n];return null}function nD(e,t,n){function r(l,u){var c=u.mark.items;c.length&&l("d",t(null,c))}function i(l,u){var c=u.items;return c.length===0?l:(t(Av(l),c),Vl(l,c[0]))}function o(l,u){l.beginPath(),t(l,u)}const s=Tv(o);function a(l,u,c,f,d,h){var p=u.items,g=u.bounds;return!p||!p.length||g&&!g.contains(d,h)?null:(c*=l.pixelRatio,f*=l.pixelRatio,s(l,p,c,f)?p[0]:null)}return{type:e,tag:"path",nested:!0,attr:r,bound:i,draw:PRe(o),pick:a,isect:K6,tip:n}}var jRe=nD("area",wRe,IRe);function BRe(e,t){var n=t.clip;e.save(),Ne(n)?(e.beginPath(),n(e),e.clip()):Ate(e,t.group)}function Ate(e,t){e.beginPath(),G6(t)?sm(e,t,0,0):e.rect(0,0,t.width||0,t.height||0),e.clip()}function Tte(e){const t=Go(e.strokeWidth,1);return e.strokeOffset!=null?e.strokeOffset:e.stroke&&t>.5&&t<1.5?.5-Math.abs(t-1):0}function URe(e,t){e("transform",$te(t))}function Mte(e,t){const n=Tte(t);e("d",sm(null,t,n,n))}function VRe(e,t){e("class","background"),e("aria-hidden",!0),Mte(e,t)}function WRe(e,t){e("class","foreground"),e("aria-hidden",!0),t.strokeForeground?Mte(e,t):e("d","")}function HRe(e,t,n){const r=t.clip?Y6(n,t,t):null;e("clip-path",r)}function qRe(e,t){if(!t.clip&&t.items){const n=t.items,r=n.length;for(let i=0;i<r;++i)e.union(n[i].bounds)}return(t.clip||t.width||t.height)&&!t.noBound&&e.add(0,0).add(t.width||0,t.height||0),Vl(e,t),e.translate(t.x||0,t.y||0)}function y1(e,t,n,r){const i=Tte(t);e.beginPath(),sm(e,t,(n||0)+i,(r||0)+i)}const GRe=Tv(y1),YRe=Tv(y1,!1),XRe=Tv(y1,!0);function KRe(e,t,n,r){_s(t,i=>{const o=i.x||0,s=i.y||0,a=i.strokeForeground,l=i.opacity==null?1:i.opacity;(i.stroke||i.fill)&&l&&(y1(e,i,o,s),gg(e,i),i.fill&&iS(e,i,l)&&e.fill(),i.stroke&&!a&&mg(e,i,l)&&e.stroke()),e.save(),e.translate(o,s),i.clip&&Ate(e,i),n&&n.translate(-o,-s),_s(i,u=>{(u.marktype==="group"||r==null||r.includes(u.marktype))&&this.draw(e,u,n,r)}),n&&n.translate(o,s),e.restore(),a&&i.stroke&&l&&(y1(e,i,o,s),gg(e,i),mg(e,i,l)&&e.stroke())})}function QRe(e,t,n,r,i,o){if(t.bounds&&!t.bounds.contains(i,o)||!t.items)return null;const s=n*e.pixelRatio,a=r*e.pixelRatio;return oS(t,l=>{let u,c,f;const d=l.bounds;if(d&&!d.contains(i,o))return;c=l.x||0,f=l.y||0;const h=c+(l.width||0),p=f+(l.height||0),g=l.clip;if(g&&(i<c||i>h||o<f||o>p))return;if(e.save(),e.translate(c,f),c=i-c,f=o-f,g&&G6(l)&&!XRe(e,l,s,a))return e.restore(),null;const m=l.strokeForeground,y=t.interactive!==!1;return y&&m&&l.stroke&&YRe(e,l,s,a)?(e.restore(),l):(u=oS(l,v=>ZRe(v,c,f)?this.pick(v,n,r,c,f):null),!u&&y&&(l.fill||!m&&l.stroke)&&GRe(e,l,s,a)&&(u=l),e.restore(),u||null)})}function ZRe(e,t,n){return(e.interactive!==!1||e.marktype==="group")&&e.bounds&&e.bounds.contains(t,n)}var JRe={type:"group",tag:"g",nested:!1,attr:URe,bound:qRe,draw:KRe,pick:QRe,isect:kte,content:HRe,background:VRe,foreground:WRe},v1={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1"};function rD(e,t){var n=e.image;return(!n||e.url&&e.url!==n.url)&&(n={complete:!1,width:0,height:0},t.loadImage(e.url).then(r=>{e.image=r,e.image.url=e.url})),n}function iD(e,t){return e.width!=null?e.width:!t||!t.width?0:e.aspect!==!1&&e.height?e.height*t.width/t.height:t.width}function oD(e,t){return e.height!=null?e.height:!t||!t.height?0:e.aspect!==!1&&e.width?e.width*t.height/t.width:t.height}function n_(e,t){return e==="center"?t/2:e==="right"?t:0}function r_(e,t){return e==="middle"?t/2:e==="bottom"?t:0}function e6e(e,t,n){const r=rD(t,n),i=iD(t,r),o=oD(t,r),s=(t.x||0)-n_(t.align,i),a=(t.y||0)-r_(t.baseline,o),l=!r.src&&r.toDataURL?r.toDataURL():r.src||"";e("href",l,v1["xmlns:xlink"],"xlink:href"),e("transform",Kf(s,a)),e("width",i),e("height",o),e("preserveAspectRatio",t.aspect===!1?"none":"xMidYMid")}function t6e(e,t){const n=t.image,r=iD(t,n),i=oD(t,n),o=(t.x||0)-n_(t.align,r),s=(t.y||0)-r_(t.baseline,i);return e.set(o,s,o+r,s+i)}function n6e(e,t,n){_s(t,r=>{if(n&&!n.intersects(r.bounds))return;const i=rD(r,this);let o=iD(r,i),s=oD(r,i);if(o===0||s===0)return;let a=(r.x||0)-n_(r.align,o),l=(r.y||0)-r_(r.baseline,s),u,c,f,d;r.aspect!==!1&&(c=i.width/i.height,f=r.width/r.height,c===c&&f===f&&c!==f&&(f<c?(d=o/c,l+=(s-d)/2,s=d):(d=s*c,a+=(o-d)/2,o=d))),(i.complete||i.toDataURL)&&(gg(e,r),e.globalAlpha=(u=r.opacity)!=null?u:1,e.imageSmoothingEnabled=r.smooth!==!1,e.drawImage(i,a,l,o,s))})}var r6e={type:"image",tag:"image",nested:!1,attr:e6e,bound:t6e,draw:n6e,pick:t_(),isect:Do,get:rD,xOffset:n_,yOffset:r_},i6e=nD("line",SRe,LRe);function o6e(e,t){var n=t.scaleX||1,r=t.scaleY||1;(n!==1||r!==1)&&e("vector-effect","non-scaling-stroke"),e("transform",ORe(t)),e("d",t.path)}function k2(e,t){var n=t.path;if(n==null)return!0;var r=t.x||0,i=t.y||0,o=t.scaleX||1,s=t.scaleY||1,a=(t.angle||0)*dc,l=t.pathCache;(!l||l.path!==n)&&((t.pathCache=l=pg(n)).path=n),a&&e.rotate&&e.translate?(e.translate(r,i),e.rotate(a),m1(e,l,0,0,o,s),e.rotate(-a),e.translate(-r,-i)):m1(e,l,r,i,o,s)}function s6e(e,t){return k2(Av(e,t.angle),t)?e.set(0,0,0,0):Vl(e,t,!0)}var a6e={type:"path",tag:"path",nested:!1,attr:o6e,bound:s6e,draw:Z6(k2),pick:J6(k2),isect:X6(k2)};function l6e(e,t){e("d",sm(null,t))}function u6e(e,t){var n,r;return Vl(e.set(n=t.x||0,r=t.y||0,n+t.width||0,r+t.height||0),t)}function dj(e,t){e.beginPath(),sm(e,t)}var c6e={type:"rect",tag:"path",nested:!1,attr:l6e,bound:u6e,draw:Z6(dj),pick:J6(dj),isect:kte};function f6e(e,t){e("transform",$te(t)),e("x2",t.x2!=null?t.x2-(t.x||0):0),e("y2",t.y2!=null?t.y2-(t.y||0):0)}function d6e(e,t){var n,r;return Vl(e.set(n=t.x||0,r=t.y||0,t.x2!=null?t.x2:n,t.y2!=null?t.y2:r),t)}function Fte(e,t,n){var r,i,o,s;return t.stroke&&mg(e,t,n)?(r=t.x||0,i=t.y||0,o=t.x2!=null?t.x2:r,s=t.y2!=null?t.y2:i,e.beginPath(),e.moveTo(r,i),e.lineTo(o,s),!0):!1}function h6e(e,t,n){_s(t,r=>{if(!(n&&!n.intersects(r.bounds))){var i=r.opacity==null?1:r.opacity;i&&Fte(e,r,i)&&(gg(e,r),e.stroke())}})}function p6e(e,t,n,r){return e.isPointInStroke?Fte(e,t,1)&&e.isPointInStroke(n,r):!1}var g6e={type:"rule",tag:"line",nested:!1,attr:f6e,bound:d6e,draw:h6e,pick:t_(p6e),isect:Cte},m6e=tD("shape",kRe),y6e=tD("symbol",CRe,K6);const hj=RQ();var Hi={height:Pa,measureWidth:sD,estimateWidth:sS,width:sS,canvas:Pte};Pte(!0);function Pte(e){Hi.width=e&&ec?sD:sS}function sS(e,t){return Rte(pc(e,t),Pa(e))}function Rte(e,t){return~~(.8*e.length*t)}function sD(e,t){return Pa(e)<=0||!(t=pc(e,t))?0:Dte(t,i_(e))}function Dte(e,t){const n=`(${t}) ${e}`;let r=hj.get(n);return r===void 0&&(ec.font=t,r=ec.measureText(e).width,hj.set(n,r)),r}function Pa(e){return e.fontSize!=null?+e.fontSize||0:11}function hc(e){return e.lineHeight!=null?e.lineHeight:Pa(e)+2}function v6e(e){return G(e)?e.length>1?e:e[0]:e}function Mv(e){return v6e(e.lineBreak&&e.text&&!G(e.text)?e.text.split(e.lineBreak):e.text)}function aD(e){const t=Mv(e);return(G(t)?t.length-1:0)*hc(e)}function pc(e,t){const n=t==null?"":(t+"").trim();return e.limit>0&&n.length?x6e(e,n):n}function b6e(e){if(Hi.width===sD){const t=i_(e);return n=>Dte(n,t)}else if(Hi.width===sS){const t=Pa(e);return n=>Rte(n,t)}else return t=>Hi.width(e,t)}function x6e(e,t){var n=+e.limit,r=b6e(e);if(r(t)<n)return t;var i=e.ellipsis||"…",o=e.dir==="rtl",s=0,a=t.length,l;if(n-=r(i),o){for(;s<a;)l=s+a>>>1,r(t.slice(l))>n?s=l+1:a=l;return i+t.slice(s)}else{for(;s<a;)l=1+(s+a>>>1),r(t.slice(0,l))<n?s=l:a=l-1;return t.slice(0,s)+i}}function Fv(e,t){var n=e.font;return(t&&n?String(n).replace(/"/g,"'"):n)||"sans-serif"}function i_(e,t){return(e.fontStyle?e.fontStyle+" ":"")+(e.fontVariant?e.fontVariant+" ":"")+(e.fontWeight?e.fontWeight+" ":"")+Pa(e)+"px "+Fv(e,t)}function lD(e){var t=e.baseline,n=Pa(e);return Math.round(t==="top"?.79*n:t==="middle"?.3*n:t==="bottom"?-.21*n:t==="line-top"?.29*n+.5*hc(e):t==="line-bottom"?.29*n-.5*hc(e):0)}const w6e={left:"start",center:"middle",right:"end"},vy=new gn;function o_(e){var t=e.x||0,n=e.y||0,r=e.radius||0,i;return r&&(i=(e.theta||0)-yf,t+=r*Math.cos(i),n+=r*Math.sin(i)),vy.x1=t,vy.y1=n,vy}function S6e(e,t){var n=t.dx||0,r=(t.dy||0)+lD(t),i=o_(t),o=i.x1,s=i.y1,a=t.angle||0,l;e("text-anchor",w6e[t.align]||"start"),a?(l=Kf(o,s)+" "+eD(a),(n||r)&&(l+=" "+Kf(n,r))):l=Kf(o+n,s+r),e("transform",l)}function uD(e,t,n){var r=Hi.height(t),i=t.align,o=o_(t),s=o.x1,a=o.y1,l=t.dx||0,u=(t.dy||0)+lD(t)-Math.round(.8*r),c=Mv(t),f;if(G(c)?(r+=hc(t)*(c.length-1),f=c.reduce((d,h)=>Math.max(d,Hi.width(t,h)),0)):f=Hi.width(t,c),i==="center"?l-=f/2:i==="right"&&(l-=f),e.set(l+=s,u+=a,l+f,u+r),t.angle&&!n)e.rotate(t.angle*dc,s,a);else if(n===2)return e.rotatedPoints(t.angle*dc,s,a);return e}function k6e(e,t,n){_s(t,r=>{var i=r.opacity==null?1:r.opacity,o,s,a,l,u,c,f;if(!(n&&!n.intersects(r.bounds)||i===0||r.fontSize<=0||r.text==null||r.text.length===0)){if(e.font=i_(r),e.textAlign=r.align||"left",o=o_(r),s=o.x1,a=o.y1,r.angle&&(e.save(),e.translate(s,a),e.rotate(r.angle*dc),s=a=0),s+=r.dx||0,a+=(r.dy||0)+lD(r),c=Mv(r),gg(e,r),G(c))for(u=hc(r),l=0;l<c.length;++l)f=pc(r,c[l]),r.fill&&iS(e,r,i)&&e.fillText(f,s,a),r.stroke&&mg(e,r,i)&&e.strokeText(f,s,a),a+=u;else f=pc(r,c),r.fill&&iS(e,r,i)&&e.fillText(f,s,a),r.stroke&&mg(e,r,i)&&e.strokeText(f,s,a);r.angle&&e.restore()}})}function C6e(e,t,n,r,i,o){if(t.fontSize<=0)return!1;if(!t.angle)return!0;var s=o_(t),a=s.x1,l=s.y1,u=uD(vy,t,1),c=-t.angle*dc,f=Math.cos(c),d=Math.sin(c),h=f*i-d*o+(a-f*a+d*l),p=d*i+f*o+(l-d*a-f*l);return u.contains(h,p)}function _6e(e,t){const n=uD(vy,e,2);return ep(t,n[0],n[1],n[2],n[3])||ep(t,n[0],n[1],n[4],n[5])||ep(t,n[4],n[5],n[6],n[7])||ep(t,n[2],n[3],n[6],n[7])}var E6e={type:"text",tag:"text",nested:!1,attr:S6e,bound:uD,draw:k6e,pick:t_(C6e),isect:_6e},$6e=nD("trail",_Re,zRe),Zi={arc:NRe,area:jRe,group:JRe,image:r6e,line:i6e,path:a6e,rect:c6e,rule:g6e,shape:m6e,symbol:y6e,text:E6e,trail:$6e};function j3(e,t,n){var r=Zi[e.mark.marktype],i=t||r.bound;return r.nested&&(e=e.mark),i(e.bounds||(e.bounds=new gn),e,n)}var pj={mark:null};function Ote(e,t,n){var r=Zi[e.marktype],i=r.bound,o=e.items,s=o&&o.length,a,l,u,c;if(r.nested)return s?u=o[0]:(pj.mark=e,u=pj),c=j3(u,i,n),t=t&&t.union(c)||c,t;if(t=t||e.bounds&&e.bounds.clear()||new gn,s)for(a=0,l=o.length;a<l;++a)t.union(j3(o[a],i,n));return e.bounds=t}const A6e=["marktype","name","role","interactive","clip","items","zindex","x","y","width","height","align","baseline","fill","fillOpacity","opacity","blend","stroke","strokeOpacity","strokeWidth","strokeCap","strokeDash","strokeDashOffset","strokeForeground","strokeOffset","startAngle","endAngle","innerRadius","outerRadius","cornerRadius","padAngle","cornerRadiusTopLeft","cornerRadiusTopRight","cornerRadiusBottomLeft","cornerRadiusBottomRight","interpolate","tension","orient","defined","url","aspect","smooth","path","scaleX","scaleY","x2","y2","size","shape","text","angle","theta","radius","dir","dx","dy","ellipsis","limit","lineBreak","lineHeight","font","fontSize","fontWeight","fontStyle","fontVariant","description","aria","ariaRole","ariaRoleDescription"];function Nte(e,t){return JSON.stringify(e,A6e,t)}function Ite(e){const t=typeof e=="string"?JSON.parse(e):e;return Lte(t)}function Lte(e){var t=e.marktype,n=e.items,r,i,o;if(n)for(i=0,o=n.length;i<o;++i)r=t?"mark":"group",n[i][r]=e,n[i].zindex&&(n[i][r].zdirty=!0),(t||r)==="group"&&Lte(n[i]);return t&&Ote(e),e}class zte{constructor(t){arguments.length?this.root=Ite(t):(this.root=gj({marktype:"group",name:"root",role:"frame"}),this.root.items=[new JC(this.root)])}toJSON(t){return Nte(this.root,t||0)}mark(t,n,r){n=n||this.root.items[0];const i=gj(t,n);return n.items[r]=i,i.zindex&&(i.group.zdirty=!0),i}}function gj(e,t){const n={bounds:new gn,clip:!!e.clip,group:t,interactive:e.interactive!==!1,items:[],marktype:e.marktype,name:e.name||void 0,role:e.role||void 0,zindex:e.zindex||0};return e.aria!=null&&(n.aria=e.aria),e.description&&(n.description=e.description),n}function Pu(e,t,n){return!e&&typeof document<"u"&&document.createElement&&(e=document),e?n?e.createElementNS(n,t):e.createElement(t):null}function cD(e,t){t=t.toLowerCase();for(var n=e.childNodes,r=0,i=n.length;r<i;++r)if(n[r].tagName.toLowerCase()===t)return n[r]}function bn(e,t,n,r){var i=e.childNodes[t],o;return(!i||i.tagName.toLowerCase()!==n.toLowerCase())&&(o=i||null,i=Pu(e.ownerDocument,n,r),e.insertBefore(i,o)),i}function bo(e,t){for(var n=e.childNodes,r=n.length;r>t;)e.removeChild(n[--r]);return e}function jte(e){return"mark-"+e.marktype+(e.role?" role-"+e.role:"")+(e.name?" "+e.name:"")}function s_(e,t){const n=t.getBoundingClientRect();return[e.clientX-n.left-(t.clientLeft||0),e.clientY-n.top-(t.clientTop||0)]}function T6e(e,t,n,r){var i=e&&e.mark,o,s;if(i&&(o=Zi[i.marktype]).tip){for(s=s_(t,n),s[0]-=r[0],s[1]-=r[1];e=e.mark.group;)s[0]-=e.x||0,s[1]-=e.y||0;e=o.tip(i.items,s)}return e}let fD=class{constructor(t,n){this._active=null,this._handlers={},this._loader=t||_C(),this._tooltip=n||M6e}initialize(t,n,r){return this._el=t,this._obj=r||null,this.origin(n)}element(){return this._el}canvas(){return this._el&&this._el.firstChild}origin(t){return arguments.length?(this._origin=t||[0,0],this):this._origin.slice()}scene(t){return arguments.length?(this._scene=t,this):this._scene}on(){}off(){}_handlerIndex(t,n,r){for(let i=t?t.length:0;--i>=0;)if(t[i].type===n&&(!r||t[i].handler===r))return i;return-1}handlers(t){const n=this._handlers,r=[];if(t)r.push(...n[this.eventName(t)]);else for(const i in n)r.push(...n[i]);return r}eventName(t){const n=t.indexOf(".");return n<0?t:t.slice(0,n)}handleHref(t,n,r){this._loader.sanitize(r,{context:"href"}).then(i=>{const o=new MouseEvent(t.type,t),s=Pu(null,"a");for(const a in i)s.setAttribute(a,i[a]);s.dispatchEvent(o)}).catch(()=>{})}handleTooltip(t,n,r){if(n&&n.tooltip!=null){n=T6e(n,t,this.canvas(),this._origin);const i=r&&n&&n.tooltip||null;this._tooltip.call(this._obj,this,t,n,i)}}getItemBoundingClientRect(t){const n=this.canvas();if(!n)return;const r=n.getBoundingClientRect(),i=this._origin,o=t.bounds,s=o.width(),a=o.height();let l=o.x1+i[0]+r.left,u=o.y1+i[1]+r.top;for(;t.mark&&(t=t.mark.group);)l+=t.x||0,u+=t.y||0;return{x:l,y:u,width:s,height:a,left:l,top:u,right:l+s,bottom:u+a}}};function M6e(e,t,n,r){e.element().setAttribute("title",r||"")}class Pv{constructor(t){this._el=null,this._bgcolor=null,this._loader=new Ste(t)}initialize(t,n,r,i,o){return this._el=t,this.resize(n,r,i,o)}element(){return this._el}canvas(){return this._el&&this._el.firstChild}background(t){return arguments.length===0?this._bgcolor:(this._bgcolor=t,this)}resize(t,n,r,i){return this._width=t,this._height=n,this._origin=r||[0,0],this._scale=i||1,this}dirty(){}render(t,n){const r=this;return r._call=function(){r._render(t,n)},r._call(),r._call=null,r}_render(){}renderAsync(t,n){const r=this.render(t,n);return this._ready?this._ready.then(()=>r):Promise.resolve(r)}_load(t,n){var r=this,i=r._loader[t](n);if(!r._ready){const o=r._call;r._ready=r._loader.ready().then(s=>{s&&o(),r._ready=null})}return i}sanitizeURL(t){return this._load("sanitizeURL",t)}loadImage(t){return this._load("loadImage",t)}}const F6e="keydown",P6e="keypress",R6e="keyup",Bte="dragenter",C2="dragleave",Ute="dragover",B3="pointerdown",D6e="pointerup",aS="pointermove",_2="pointerout",Vte="pointerover",U3="mousedown",O6e="mouseup",Wte="mousemove",lS="mouseout",Hte="mouseover",uS="click",N6e="dblclick",I6e="wheel",qte="mousewheel",cS="touchstart",fS="touchmove",dS="touchend",L6e=[F6e,P6e,R6e,Bte,C2,Ute,B3,D6e,aS,_2,Vte,U3,O6e,Wte,lS,Hte,uS,N6e,I6e,qte,cS,fS,dS],V3=aS,by=lS,W3=uS;class Rv extends fD{constructor(t,n){super(t,n),this._down=null,this._touch=null,this._first=!0,this._events={},this.events=L6e,this.pointermove=yj([aS,Wte],[Vte,Hte],[_2,lS]),this.dragover=yj([Ute],[Bte],[C2]),this.pointerout=vj([_2,lS]),this.dragleave=vj([C2])}initialize(t,n,r){return this._canvas=t&&cD(t,"canvas"),[uS,U3,B3,aS,_2,C2].forEach(i=>mj(this,i)),super.initialize(t,n,r)}canvas(){return this._canvas}context(){return this._canvas.getContext("2d")}DOMMouseScroll(t){this.fire(qte,t)}pointerdown(t){this._down=this._active,this.fire(B3,t)}mousedown(t){this._down=this._active,this.fire(U3,t)}click(t){this._down===this._active&&(this.fire(uS,t),this._down=null)}touchstart(t){this._touch=this.pickEvent(t.changedTouches[0]),this._first&&(this._active=this._touch,this._first=!1),this.fire(cS,t,!0)}touchmove(t){this.fire(fS,t,!0)}touchend(t){this.fire(dS,t,!0),this._touch=null}fire(t,n,r){const i=r?this._touch:this._active,o=this._handlers[t];if(n.vegaType=t,t===W3&&i&&i.href?this.handleHref(n,i,i.href):(t===V3||t===by)&&this.handleTooltip(n,i,t!==by),o)for(let s=0,a=o.length;s<a;++s)o[s].handler.call(this._obj,n,i)}on(t,n){const r=this.eventName(t),i=this._handlers;return this._handlerIndex(i[r],t,n)<0&&(mj(this,t),(i[r]||(i[r]=[])).push({type:t,handler:n})),this}off(t,n){const r=this.eventName(t),i=this._handlers[r],o=this._handlerIndex(i,t,n);return o>=0&&i.splice(o,1),this}pickEvent(t){const n=s_(t,this._canvas),r=this._origin;return this.pick(this._scene,n[0],n[1],n[0]-r[0],n[1]-r[1])}pick(t,n,r,i,o){const s=this.context();return Zi[t.marktype].pick.call(this,s,t,n,r,i,o)}}const z6e=e=>e===cS||e===fS||e===dS?[cS,fS,dS]:[e];function mj(e,t){z6e(t).forEach(n=>j6e(e,n))}function j6e(e,t){const n=e.canvas();n&&!e._events[t]&&(e._events[t]=1,n.addEventListener(t,e[t]?r=>e[t](r):r=>e.fire(t,r)))}function R0(e,t,n){t.forEach(r=>e.fire(r,n))}function yj(e,t,n){return function(r){const i=this._active,o=this.pickEvent(r);o===i?R0(this,e,r):((!i||!i.exit)&&R0(this,n,r),this._active=o,R0(this,t,r),R0(this,e,r))}}function vj(e){return function(t){R0(this,e,t),this._active=null}}function B6e(){return typeof window<"u"&&window.devicePixelRatio||1}function U6e(e,t,n,r,i,o){const s=typeof HTMLElement<"u"&&e instanceof HTMLElement&&e.parentNode!=null,a=e.getContext("2d"),l=s?B6e():i;e.width=t*l,e.height=n*l;for(const u in o)a[u]=o[u];return s&&l!==1&&(e.style.width=t+"px",e.style.height=n+"px"),a.pixelRatio=l,a.setTransform(l,0,0,l,l*r[0],l*r[1]),e}class hS extends Pv{constructor(t){super(t),this._options={},this._redraw=!1,this._dirty=new gn,this._tempb=new gn}initialize(t,n,r,i,o,s){return this._options=s||{},this._canvas=this._options.externalContext?null:Ju(1,1,this._options.type),t&&this._canvas&&(bo(t,0).appendChild(this._canvas),this._canvas.setAttribute("class","marks")),super.initialize(t,n,r,i,o)}resize(t,n,r,i){if(super.resize(t,n,r,i),this._canvas)U6e(this._canvas,this._width,this._height,this._origin,this._scale,this._options.context);else{const o=this._options.externalContext;o||q("CanvasRenderer is missing a valid canvas or context"),o.scale(this._scale,this._scale),o.translate(this._origin[0],this._origin[1])}return this._redraw=!0,this}canvas(){return this._canvas}context(){return this._options.externalContext||(this._canvas?this._canvas.getContext("2d"):null)}dirty(t){const n=this._tempb.clear().union(t.bounds);let r=t.mark.group;for(;r;)n.translate(r.x||0,r.y||0),r=r.mark.group;this._dirty.union(n)}_render(t,n){const r=this.context(),i=this._origin,o=this._width,s=this._height,a=this._dirty,l=V6e(i,o,s);r.save();const u=this._redraw||a.empty()?(this._redraw=!1,l.expand(1)):W6e(r,l.intersect(a),i);return this.clear(-i[0],-i[1],o,s),this.draw(r,t,u,n),r.restore(),a.clear(),this}draw(t,n,r,i){if(n.marktype!=="group"&&i!=null&&!i.includes(n.marktype))return;const o=Zi[n.marktype];n.clip&&BRe(t,n),o.draw.call(this,t,n,r,i),n.clip&&t.restore()}clear(t,n,r,i){const o=this._options,s=this.context();o.type!=="pdf"&&!o.externalContext&&s.clearRect(t,n,r,i),this._bgcolor!=null&&(s.fillStyle=this._bgcolor,s.fillRect(t,n,r,i))}}const V6e=(e,t,n)=>new gn().set(0,0,t,n).translate(-e[0],-e[1]);function W6e(e,t,n){return t.expand(1).round(),e.pixelRatio%1&&t.scale(e.pixelRatio).round().scale(1/e.pixelRatio),t.translate(-(n[0]%1),-(n[1]%1)),e.beginPath(),e.rect(t.x1,t.y1,t.width(),t.height()),e.clip(),t}class Gte extends fD{constructor(t,n){super(t,n);const r=this;r._hrefHandler=wA(r,(i,o)=>{o&&o.href&&r.handleHref(i,o,o.href)}),r._tooltipHandler=wA(r,(i,o)=>{r.handleTooltip(i,o,i.type!==by)})}initialize(t,n,r){let i=this._svg;return i&&(i.removeEventListener(W3,this._hrefHandler),i.removeEventListener(V3,this._tooltipHandler),i.removeEventListener(by,this._tooltipHandler)),this._svg=i=t&&cD(t,"svg"),i&&(i.addEventListener(W3,this._hrefHandler),i.addEventListener(V3,this._tooltipHandler),i.addEventListener(by,this._tooltipHandler)),super.initialize(t,n,r)}canvas(){return this._svg}on(t,n){const r=this.eventName(t),i=this._handlers;if(this._handlerIndex(i[r],t,n)<0){const s={type:t,handler:n,listener:wA(this,n)};(i[r]||(i[r]=[])).push(s),this._svg&&this._svg.addEventListener(r,s.listener)}return this}off(t,n){const r=this.eventName(t),i=this._handlers[r],o=this._handlerIndex(i,t,n);return o>=0&&(this._svg&&this._svg.removeEventListener(r,i[o].listener),i.splice(o,1)),this}}const wA=(e,t)=>n=>{let r=n.target.__data__;r=Array.isArray(r)?r[0]:r,n.vegaType=n.type,t.call(e._obj,n,r)},Yte="aria-hidden",dD="aria-label",hD="role",pD="aria-roledescription",Xte="graphics-object",gD="graphics-symbol",Kte=(e,t,n)=>({[hD]:e,[pD]:t,[dD]:n||void 0}),H6e=ws(["axis-domain","axis-grid","axis-label","axis-tick","axis-title","legend-band","legend-entry","legend-gradient","legend-label","legend-title","legend-symbol","title"]),bj={axis:{desc:"axis",caption:Y6e},legend:{desc:"legend",caption:X6e},"title-text":{desc:"title",caption:e=>`Title text '${wj(e)}'`},"title-subtitle":{desc:"subtitle",caption:e=>`Subtitle text '${wj(e)}'`}},xj={ariaRole:hD,ariaRoleDescription:pD,description:dD};function Qte(e,t){const n=t.aria===!1;if(e(Yte,n||void 0),n||t.description==null)for(const r in xj)e(xj[r],void 0);else{const r=t.mark.marktype;e(dD,t.description),e(hD,t.ariaRole||(r==="group"?Xte:gD)),e(pD,t.ariaRoleDescription||`${r} mark`)}}function Zte(e){return e.aria===!1?{[Yte]:!0}:H6e[e.role]?null:bj[e.role]?G6e(e,bj[e.role]):q6e(e)}function q6e(e){const t=e.marktype,n=t==="group"||t==="text"||e.items.some(r=>r.description!=null&&r.aria!==!1);return Kte(n?Xte:gD,`${t} mark container`,e.description)}function G6e(e,t){try{const n=e.items[0],r=t.caption||(()=>"");return Kte(t.role||gD,t.desc,n.description||r(n))}catch{return null}}function wj(e){return ae(e.text).join(" ")}function Y6e(e){const t=e.datum,n=e.orient,r=t.title?Jte(e):null,i=e.context,o=i.scales[t.scale].value,s=i.dataflow.locale(),a=o.type;return`${n==="left"||n==="right"?"Y":"X"}-axis`+(r?` titled '${r}'`:"")+` for a ${hg(a)?"discrete":a} scale with ${dte(s,o,e)}`}function X6e(e){const t=e.datum,n=t.title?Jte(e):null,r=`${t.type||""} legend`.trim(),i=t.scales,o=Object.keys(i),s=e.context,a=s.scales[i[o[0]]].value,l=s.dataflow.locale();return Q6e(r)+(n?` titled '${n}'`:"")+` for ${K6e(o)} with ${dte(l,a,e)}`}function Jte(e){try{return ae(qe(e.items).items[0].text).join(" ")}catch{return null}}function K6e(e){return e=e.map(t=>t+(t==="fill"||t==="stroke"?" color":"")),e.length<2?e[0]:e.slice(0,-1).join(", ")+" and "+qe(e)}function Q6e(e){return e.length?e[0].toUpperCase()+e.slice(1):e}const ene=e=>(e+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),Z6e=e=>ene(e).replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;");function mD(){let e="",t="",n="";const r=[],i=()=>t=n="",o=l=>{t&&(e+=`${t}>${n}`,i()),r.push(l)},s=(l,u)=>(u!=null&&(t+=` ${l}="${Z6e(u)}"`),a),a={open(l){o(l),t="<"+l;for(var u=arguments.length,c=new Array(u>1?u-1:0),f=1;f<u;f++)c[f-1]=arguments[f];for(const d of c)for(const h in d)s(h,d[h]);return a},close(){const l=r.pop();return t?e+=t+(n?`>${n}</${l}>`:"/>"):e+=`</${l}>`,i(),a},attr:s,text:l=>(n+=ene(l),a),toString:()=>e};return a}const tne=e=>nne(mD(),e)+"";function nne(e,t){if(e.open(t.tagName),t.hasAttributes()){const n=t.attributes,r=n.length;for(let i=0;i<r;++i)e.attr(n[i].name,n[i].value)}if(t.hasChildNodes()){const n=t.childNodes;for(const r of n)r.nodeType===3?e.text(r.nodeValue):nne(e,r)}return e.close()}const pS={fill:"fill",fillOpacity:"fill-opacity",stroke:"stroke",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",strokeCap:"stroke-linecap",strokeJoin:"stroke-linejoin",strokeDash:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeMiterLimit:"stroke-miterlimit",opacity:"opacity"},gS={blend:"mix-blend-mode"},rne={fill:"none","stroke-miterlimit":10},Xm=0,Sj="http://www.w3.org/2000/xmlns/",vn=v1.xmlns;class yD extends Pv{constructor(t){super(t),this._dirtyID=0,this._dirty=[],this._svg=null,this._root=null,this._defs=null}initialize(t,n,r,i,o){return this._defs={},this._clearDefs(),t&&(this._svg=bn(t,0,"svg",vn),this._svg.setAttributeNS(Sj,"xmlns",vn),this._svg.setAttributeNS(Sj,"xmlns:xlink",v1["xmlns:xlink"]),this._svg.setAttribute("version",v1.version),this._svg.setAttribute("class","marks"),bo(t,1),this._root=bn(this._svg,Xm,"g",vn),Ru(this._root,rne),bo(this._svg,Xm+1)),this.background(this._bgcolor),super.initialize(t,n,r,i,o)}background(t){return arguments.length&&this._svg&&this._svg.style.setProperty("background-color",t),super.background(...arguments)}resize(t,n,r,i){return super.resize(t,n,r,i),this._svg&&(Ru(this._svg,{width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}),this._root.setAttribute("transform",`translate(${this._origin})`)),this._dirty=[],this}canvas(){return this._svg}svg(){const t=this._svg,n=this._bgcolor;if(!t)return null;let r;n&&(t.removeAttribute("style"),r=bn(t,Xm,"rect",vn),Ru(r,{width:this._width,height:this._height,fill:n}));const i=tne(t);return n&&(t.removeChild(r),this._svg.style.setProperty("background-color",n)),i}_render(t,n){return this._dirtyCheck()&&(this._dirtyAll&&this._clearDefs(),this.mark(this._root,t,void 0,n),bo(this._root,1)),this.defs(),this._dirty=[],++this._dirtyID,this}dirty(t){t.dirty!==this._dirtyID&&(t.dirty=this._dirtyID,this._dirty.push(t))}isDirty(t){return this._dirtyAll||!t._svg||!t._svg.ownerSVGElement||t.dirty===this._dirtyID}_dirtyCheck(){this._dirtyAll=!0;const t=this._dirty;if(!t.length||!this._dirtyID)return!0;const n=++this._dirtyID;let r,i,o,s,a,l,u;for(a=0,l=t.length;a<l;++a)if(r=t[a],i=r.mark,i.marktype!==o&&(o=i.marktype,s=Zi[o]),i.zdirty&&i.dirty!==n&&(this._dirtyAll=!1,kj(r,n),i.items.forEach(c=>{c.dirty=n})),!i.zdirty){if(r.exit){s.nested&&i.items.length?(u=i.items[0],u._svg&&this._update(s,u._svg,u)):r._svg&&(u=r._svg.parentNode,u&&u.removeChild(r._svg)),r._svg=null;continue}r=s.nested?i.items[0]:r,r._update!==n&&(!r._svg||!r._svg.ownerSVGElement?(this._dirtyAll=!1,kj(r,n)):this._update(s,r._svg,r),r._update=n)}return!this._dirtyAll}mark(t,n,r,i){if(!this.isDirty(n))return n._svg;const o=this._svg,s=n.marktype,a=Zi[s],l=n.interactive===!1?"none":null,u=a.tag==="g",c=Cj(n,t,r,"g",o);if(s!=="group"&&i!=null&&!i.includes(s))return bo(c,0),n._svg;c.setAttribute("class",jte(n));const f=Zte(n);for(const g in f)Or(c,g,f[g]);u||Or(c,"pointer-events",l),Or(c,"clip-path",n.clip?Y6(this,n,n.group):null);let d=null,h=0;const p=g=>{const m=this.isDirty(g),y=Cj(g,c,d,a.tag,o);m&&(this._update(a,y,g),u&&tDe(this,y,g,i)),d=y,++h};return a.nested?n.items.length&&p(n.items[0]):_s(n,p),bo(c,h),c}_update(t,n,r){dl=n,yr=n.__values__,Qte(xy,r),t.attr(xy,r,this);const i=rDe[t.type];i&&i.call(this,t,n,r),dl&&this.style(dl,r)}style(t,n){if(n!=null){for(const r in pS){let i=r==="font"?Fv(n):n[r];if(i===yr[r])continue;const o=pS[r];i==null?t.removeAttribute(o):(H6(i)&&(i=pte(i,this._defs.gradient,ine())),t.setAttribute(o,i+"")),yr[r]=i}for(const r in gS)E2(t,gS[r],n[r])}}defs(){const t=this._svg,n=this._defs;let r=n.el,i=0;for(const o in n.gradient)r||(n.el=r=bn(t,Xm+1,"defs",vn)),i=J6e(r,n.gradient[o],i);for(const o in n.clipping)r||(n.el=r=bn(t,Xm+1,"defs",vn)),i=eDe(r,n.clipping[o],i);r&&(i===0?(t.removeChild(r),n.el=null):bo(r,i))}_clearDefs(){const t=this._defs;t.gradient={},t.clipping={}}}function kj(e,t){for(;e&&e.dirty!==t;e=e.mark.group)if(e.dirty=t,e.mark&&e.mark.dirty!==t)e.mark.dirty=t;else return}function J6e(e,t,n){let r,i,o;if(t.gradient==="radial"){let s=bn(e,n++,"pattern",vn);Ru(s,{id:rS+t.id,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),s=bn(s,0,"rect",vn),Ru(s,{width:1,height:1,fill:`url(${ine()}#${t.id})`}),e=bn(e,n++,"radialGradient",vn),Ru(e,{id:t.id,fx:t.x1,fy:t.y1,fr:t.r1,cx:t.x2,cy:t.y2,r:t.r2})}else e=bn(e,n++,"linearGradient",vn),Ru(e,{id:t.id,x1:t.x1,x2:t.x2,y1:t.y1,y2:t.y2});for(r=0,i=t.stops.length;r<i;++r)o=bn(e,r,"stop",vn),o.setAttribute("offset",t.stops[r].offset),o.setAttribute("stop-color",t.stops[r].color);return bo(e,r),n}function eDe(e,t,n){let r;return e=bn(e,n,"clipPath",vn),e.setAttribute("id",t.id),t.path?(r=bn(e,0,"path",vn),r.setAttribute("d",t.path)):(r=bn(e,0,"rect",vn),Ru(r,{x:0,y:0,width:t.width,height:t.height})),bo(e,1),n+1}function tDe(e,t,n,r){t=t.lastChild.previousSibling;let i,o=0;_s(n,s=>{i=e.mark(t,s,i,r),++o}),bo(t,1+o)}function Cj(e,t,n,r,i){let o=e._svg,s;if(!o&&(s=t.ownerDocument,o=Pu(s,r,vn),e._svg=o,e.mark&&(o.__data__=e,o.__values__={fill:"default"},r==="g"))){const a=Pu(s,"path",vn);o.appendChild(a),a.__data__=e;const l=Pu(s,"g",vn);o.appendChild(l),l.__data__=e;const u=Pu(s,"path",vn);o.appendChild(u),u.__data__=e,u.__values__={fill:"default"}}return(o.ownerSVGElement!==i||nDe(o,n))&&t.insertBefore(o,n?n.nextSibling:t.firstChild),o}function nDe(e,t){return e.parentNode&&e.parentNode.childNodes.length>1&&e.previousSibling!=t}let dl=null,yr=null;const rDe={group(e,t,n){const r=dl=t.childNodes[2];yr=r.__values__,e.foreground(xy,n,this),yr=t.__values__,dl=t.childNodes[1],e.content(xy,n,this);const i=dl=t.childNodes[0];e.background(xy,n,this);const o=n.mark.interactive===!1?"none":null;if(o!==yr.events&&(Or(r,"pointer-events",o),Or(i,"pointer-events",o),yr.events=o),n.strokeForeground&&n.stroke){const s=n.fill;Or(r,"display",null),this.style(i,n),Or(i,"stroke",null),s&&(n.fill=null),yr=r.__values__,this.style(r,n),s&&(n.fill=s),dl=null}else Or(r,"display","none")},image(e,t,n){n.smooth===!1?(E2(t,"image-rendering","optimizeSpeed"),E2(t,"image-rendering","pixelated")):E2(t,"image-rendering",null)},text(e,t,n){const r=Mv(n);let i,o,s,a;G(r)?(o=r.map(l=>pc(n,l)),i=o.join(`
`),i!==yr.text&&(bo(t,0),s=t.ownerDocument,a=hc(n),o.forEach((l,u)=>{const c=Pu(s,"tspan",vn);c.__data__=n,c.textContent=l,u&&(c.setAttribute("x",0),c.setAttribute("dy",a)),t.appendChild(c)}),yr.text=i)):(o=pc(n,r),o!==yr.text&&(t.textContent=o,yr.text=o)),Or(t,"font-family",Fv(n)),Or(t,"font-size",Pa(n)+"px"),Or(t,"font-style",n.fontStyle),Or(t,"font-variant",n.fontVariant),Or(t,"font-weight",n.fontWeight)}};function xy(e,t,n){t!==yr[e]&&(n?iDe(dl,e,t,n):Or(dl,e,t),yr[e]=t)}function E2(e,t,n){n!==yr[t]&&(n==null?e.style.removeProperty(t):e.style.setProperty(t,n+""),yr[t]=n)}function Ru(e,t){for(const n in t)Or(e,n,t[n])}function Or(e,t,n){n!=null?e.setAttribute(t,n):e.removeAttribute(t)}function iDe(e,t,n,r){n!=null?e.setAttributeNS(r,t,n):e.removeAttributeNS(r,t)}function ine(){let e;return typeof window>"u"?"":(e=window.location).hash?e.href.slice(0,-e.hash.length):e.href}class one extends Pv{constructor(t){super(t),this._text=null,this._defs={gradient:{},clipping:{}}}svg(){return this._text}_render(t){const n=mD();n.open("svg",Oe({},v1,{class:"marks",width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}));const r=this._bgcolor;return r&&r!=="transparent"&&r!=="none"&&n.open("rect",{width:this._width,height:this._height,fill:r}).close(),n.open("g",rne,{transform:"translate("+this._origin+")"}),this.mark(n,t),n.close(),this.defs(n),this._text=n.close()+"",this}mark(t,n){const r=Zi[n.marktype],i=r.tag,o=[Qte,r.attr];t.open("g",{class:jte(n),"clip-path":n.clip?Y6(this,n,n.group):null},Zte(n),{"pointer-events":i!=="g"&&n.interactive===!1?"none":null});const s=a=>{const l=this.href(a);if(l&&t.open("a",l),t.open(i,this.attr(n,a,o,i!=="g"?i:null)),i==="text"){const u=Mv(a);if(G(u)){const c={x:0,dy:hc(a)};for(let f=0;f<u.length;++f)t.open("tspan",f?c:null).text(pc(a,u[f])).close()}else t.text(pc(a,u))}else if(i==="g"){const u=a.strokeForeground,c=a.fill,f=a.stroke;u&&f&&(a.stroke=null),t.open("path",this.attr(n,a,r.background,"bgrect")).close(),t.open("g",this.attr(n,a,r.content)),_s(a,d=>this.mark(t,d)),t.close(),u&&f?(c&&(a.fill=null),a.stroke=f,t.open("path",this.attr(n,a,r.foreground,"bgrect")).close(),c&&(a.fill=c)):t.open("path",this.attr(n,a,r.foreground,"bgfore")).close()}t.close(),l&&t.close()};return r.nested?n.items&&n.items.length&&s(n.items[0]):_s(n,s),t.close()}href(t){const n=t.href;let r;if(n){if(r=this._hrefs&&this._hrefs[n])return r;this.sanitizeURL(n).then(i=>{i["xlink:href"]=i.href,i.href=null,(this._hrefs||(this._hrefs={}))[n]=i})}return null}attr(t,n,r,i){const o={},s=(a,l,u,c)=>{o[c||a]=l};return Array.isArray(r)?r.forEach(a=>a(s,n,this)):r(s,n,this),i&&oDe(o,n,t,i,this._defs),o}defs(t){const n=this._defs.gradient,r=this._defs.clipping;if(Object.keys(n).length+Object.keys(r).length!==0){t.open("defs");for(const o in n){const s=n[o],a=s.stops;s.gradient==="radial"?(t.open("pattern",{id:rS+o,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),t.open("rect",{width:"1",height:"1",fill:"url(#"+o+")"}).close(),t.close(),t.open("radialGradient",{id:o,fx:s.x1,fy:s.y1,fr:s.r1,cx:s.x2,cy:s.y2,r:s.r2})):t.open("linearGradient",{id:o,x1:s.x1,x2:s.x2,y1:s.y1,y2:s.y2});for(let l=0;l<a.length;++l)t.open("stop",{offset:a[l].offset,"stop-color":a[l].color}).close();t.close()}for(const o in r){const s=r[o];t.open("clipPath",{id:o}),s.path?t.open("path",{d:s.path}).close():t.open("rect",{x:0,y:0,width:s.width,height:s.height}).close(),t.close()}t.close()}}}function oDe(e,t,n,r,i){let o;if(t==null||(r==="bgrect"&&n.interactive===!1&&(e["pointer-events"]="none"),r==="bgfore"&&(n.interactive===!1&&(e["pointer-events"]="none"),e.display="none",t.fill!==null)))return e;r==="image"&&t.smooth===!1&&(o=["image-rendering: optimizeSpeed;","image-rendering: pixelated;"]),r==="text"&&(e["font-family"]=Fv(t),e["font-size"]=Pa(t)+"px",e["font-style"]=t.fontStyle,e["font-variant"]=t.fontVariant,e["font-weight"]=t.fontWeight);for(const s in pS){let a=t[s];const l=pS[s];a==="transparent"&&(l==="fill"||l==="stroke")||a!=null&&(H6(a)&&(a=pte(a,i.gradient,"")),e[l]=a)}for(const s in gS){const a=t[s];a!=null&&(o=o||[],o.push(`${gS[s]}: ${a};`))}return o&&(e.style=o.join(" ")),e}const es={svgMarkTypes:["text"],svgOnTop:!0,debug:!1};function sDe(e){es.svgMarkTypes=e.svgMarkTypes??["text"],es.svgOnTop=e.svgOnTop??!0,es.debug=e.debug??!1}class H3 extends Pv{constructor(t){super(t),this._svgRenderer=new yD(t),this._canvasRenderer=new hS(t)}initialize(t,n,r,i,o){this._root_el=bn(t,0,"div");const s=bn(this._root_el,0,"div"),a=bn(this._root_el,1,"div");return this._root_el.style.position="relative",es.debug||(s.style.height="100%",a.style.position="absolute",a.style.top="0",a.style.left="0",a.style.height="100%",a.style.width="100%"),this._svgEl=es.svgOnTop?a:s,this._canvasEl=es.svgOnTop?s:a,this._svgEl.style.pointerEvents="none",this._canvasRenderer.initialize(this._canvasEl,n,r,i,o),this._svgRenderer.initialize(this._svgEl,n,r,i,o),super.initialize(t,n,r,i,o)}dirty(t){return es.svgMarkTypes.includes(t.mark.marktype)?this._svgRenderer.dirty(t):this._canvasRenderer.dirty(t),this}_render(t,n){const i=(n??["arc","area","image","line","path","rect","rule","shape","symbol","text","trail"]).filter(o=>!es.svgMarkTypes.includes(o));this._svgRenderer.render(t,es.svgMarkTypes),this._canvasRenderer.render(t,i)}resize(t,n,r,i){return super.resize(t,n,r,i),this._svgRenderer.resize(t,n,r,i),this._canvasRenderer.resize(t,n,r,i),this}background(t){return es.svgOnTop?this._canvasRenderer.background(t):this._svgRenderer.background(t),this}}class sne extends Rv{constructor(t,n){super(t,n)}initialize(t,n,r){const i=bn(bn(t,0,"div"),es.svgOnTop?0:1,"div");return super.initialize(i,n,r)}}const ane="canvas",lne="hybrid",une="png",cne="svg",fne="none",Du={Canvas:ane,PNG:une,SVG:cne,Hybrid:lne,None:fne},hd={};hd[ane]=hd[une]={renderer:hS,headless:hS,handler:Rv};hd[cne]={renderer:yD,headless:one,handler:Gte};hd[lne]={renderer:H3,headless:H3,handler:sne};hd[fne]={};function a_(e,t){return e=String(e||"").toLowerCase(),arguments.length>1?(hd[e]=t,this):hd[e]}function dne(e,t,n){const r=[],i=new gn().union(t),o=e.marktype;return o?hne(e,i,n,r):o==="group"?pne(e,i,n,r):q("Intersect scene must be mark node or group item.")}function hne(e,t,n,r){if(aDe(e,t,n)){const i=e.items,o=e.marktype,s=i.length;let a=0;if(o==="group")for(;a<s;++a)pne(i[a],t,n,r);else for(const l=Zi[o].isect;a<s;++a){const u=i[a];gne(u,t,l)&&r.push(u)}}return r}function aDe(e,t,n){return e.bounds&&t.intersects(e.bounds)&&(e.marktype==="group"||e.interactive!==!1&&(!n||n(e)))}function pne(e,t,n,r){n&&n(e.mark)&&gne(e,t,Zi.group.isect)&&r.push(e);const i=e.items,o=i&&i.length;if(o){const s=e.x||0,a=e.y||0;t.translate(-s,-a);for(let l=0;l<o;++l)hne(i[l],t,n,r);t.translate(s,a)}return r}function gne(e,t,n){const r=e.bounds;return t.encloses(r)||t.intersects(r)&&n(e,t)}const SA=new gn;function mne(e){const t=e.clip;if(Ne(t))t(Av(SA.clear()));else if(t)SA.set(0,0,e.group.width,e.group.height);else return;e.bounds.intersect(SA)}const lDe=1e-9;function vD(e,t,n){return e===t?!0:n==="path"?yne(e,t):e instanceof Date&&t instanceof Date?+e==+t:Ze(e)&&Ze(t)?Math.abs(e-t)<=lDe:!e||!t||!se(e)&&!se(t)?e==t:uDe(e,t)}function yne(e,t){return vD(pg(e),pg(t))}function uDe(e,t){var n=Object.keys(e),r=Object.keys(t),i,o;if(n.length!==r.length)return!1;for(n.sort(),r.sort(),o=n.length-1;o>=0;o--)if(n[o]!=r[o])return!1;for(o=n.length-1;o>=0;o--)if(i=n[o],!vD(e[i],t[i],i))return!1;return typeof e==typeof t}function cDe(){wte(),DPe()}const yg="top",ls="left",ds="right",gc="bottom",fDe="top-left",dDe="top-right",hDe="bottom-left",pDe="bottom-right",bD="start",q3="middle",Ir="end",gDe="x",mDe="y",l_="group",xD="axis",wD="title",yDe="frame",vDe="scope",SD="legend",vne="row-header",bne="row-footer",xne="row-title",wne="column-header",Sne="column-footer",kne="column-title",bDe="padding",xDe="symbol",Cne="fit",_ne="fit-x",Ene="fit-y",wDe="pad",kD="none",ix="all",G3="each",CD="flush",Ou="column",Nu="row";function $ne(e){V.call(this,null,e)}ne($ne,V,{transform(e,t){const n=t.dataflow,r=e.mark,i=r.marktype,o=Zi[i],s=o.bound;let a=r.bounds,l;if(o.nested)r.items.length&&n.dirty(r.items[0]),a=ox(r,s),r.items.forEach(u=>{u.bounds.clear().union(a)});else if(i===l_||e.modified())switch(t.visit(t.MOD,u=>n.dirty(u)),a.clear(),r.items.forEach(u=>a.union(ox(u,s))),r.role){case xD:case SD:case wD:t.reflow()}else l=t.changed(t.REM),t.visit(t.ADD,u=>{a.union(ox(u,s))}),t.visit(t.MOD,u=>{l=l||a.alignsWith(u.bounds),n.dirty(u),a.union(ox(u,s))}),l&&(a.clear(),r.items.forEach(u=>a.union(u.bounds)));return mne(r),t.modifies("bounds")}});function ox(e,t,n){return t(e.bounds.clear(),e,n)}const _j=":vega_identifier:";function _D(e){V.call(this,0,e)}_D.Definition={type:"Identifier",metadata:{modifies:!0},params:[{name:"as",type:"string",required:!0}]};ne(_D,V,{transform(e,t){const n=SDe(t.dataflow),r=e.as;let i=n.value;return t.visit(t.ADD,o=>o[r]=o[r]||++i),n.set(this.value=i),t}});function SDe(e){return e._signals[_j]||(e._signals[_j]=e.add(0))}function Ane(e){V.call(this,null,e)}ne(Ane,V,{transform(e,t){let n=this.value;n||(n=t.dataflow.scenegraph().mark(e.markdef,kDe(e),e.index),n.group.context=e.context,e.context.group||(e.context.group=n.group),n.source=this.source,n.clip=e.clip,n.interactive=e.interactive,this.value=n);const r=n.marktype===l_?JC:ZC;return t.visit(t.ADD,i=>r.call(i,n)),(e.modified("clip")||e.modified("interactive"))&&(n.clip=e.clip,n.interactive=!!e.interactive,n.zdirty=!0,t.reflow()),n.items=t.source,t}});function kDe(e){const t=e.groups,n=e.parent;return t&&t.size===1?t.get(Object.keys(t.object)[0]):t&&n?t.lookup(n):null}function Tne(e){V.call(this,null,e)}const Ej={parity:e=>e.filter((t,n)=>n%2?t.opacity=0:1),greedy:(e,t)=>{let n;return e.filter((r,i)=>!i||!Mne(n.bounds,r.bounds,t)?(n=r,1):r.opacity=0)}},Mne=(e,t,n)=>n>Math.max(t.x1-e.x2,e.x1-t.x2,t.y1-e.y2,e.y1-t.y2),$j=(e,t)=>{for(var n=1,r=e.length,i=e[0].bounds,o;n<r;i=o,++n)if(Mne(i,o=e[n].bounds,t))return!0},CDe=e=>{const t=e.bounds;return t.width()>1&&t.height()>1},_De=(e,t,n)=>{var r=e.range(),i=new gn;return t===yg||t===gc?i.set(r[0],-1/0,r[1],1/0):i.set(-1/0,r[0],1/0,r[1]),i.expand(n||1),o=>i.encloses(o.bounds)},Aj=e=>(e.forEach(t=>t.opacity=1),e),Tj=(e,t)=>e.reflow(t.modified()).modifies("opacity");ne(Tne,V,{transform(e,t){const n=Ej[e.method]||Ej.parity,r=e.separation||0;let i=t.materialize(t.SOURCE).source,o,s;if(!i||!i.length)return;if(!e.method)return e.modified("method")&&(Aj(i),t=Tj(t,e)),t;if(i=i.filter(CDe),!i.length)return;if(e.sort&&(i=i.slice().sort(e.sort)),o=Aj(i),t=Tj(t,e),o.length>=3&&$j(o,r)){do o=n(o,r);while(o.length>=3&&$j(o,r));o.length<3&&!qe(i).opacity&&(o.length>1&&(qe(o).opacity=0),qe(i).opacity=1)}e.boundScale&&e.boundTolerance>=0&&(s=_De(e.boundScale,e.boundOrient,+e.boundTolerance),i.forEach(l=>{s(l)||(l.opacity=0)}));const a=o[0].mark.bounds.clear();return i.forEach(l=>{l.opacity&&a.union(l.bounds)}),t}});function Fne(e){V.call(this,null,e)}ne(Fne,V,{transform(e,t){const n=t.dataflow;if(t.visit(t.ALL,r=>n.dirty(r)),t.fields&&t.fields.zindex){const r=t.source&&t.source[0];r&&(r.mark.zdirty=!0)}}});const hr=new gn;function tp(e,t,n){return e[t]===n?0:(e[t]=n,1)}function EDe(e){var t=e.items[0].orient;return t===ls||t===ds}function $De(e){let t=+e.grid;return[e.ticks?t++:-1,e.labels?t++:-1,t+ +e.domain]}function ADe(e,t,n,r){var i=t.items[0],o=i.datum,s=i.translate!=null?i.translate:.5,a=i.orient,l=$De(o),u=i.range,c=i.offset,f=i.position,d=i.minExtent,h=i.maxExtent,p=o.title&&i.items[l[2]].items[0],g=i.titlePadding,m=i.bounds,y=p&&aD(p),v=0,b=0,x,w;switch(hr.clear().union(m),m.clear(),(x=l[0])>-1&&m.union(i.items[x].bounds),(x=l[1])>-1&&m.union(i.items[x].bounds),a){case yg:v=f||0,b=-c,w=Math.max(d,Math.min(h,-m.y1)),m.add(0,-w).add(u,0),p&&sx(e,p,w,g,y,0,-1,m);break;case ls:v=-c,b=f||0,w=Math.max(d,Math.min(h,-m.x1)),m.add(-w,0).add(0,u),p&&sx(e,p,w,g,y,1,-1,m);break;case ds:v=n+c,b=f||0,w=Math.max(d,Math.min(h,m.x2)),m.add(0,0).add(w,u),p&&sx(e,p,w,g,y,1,1,m);break;case gc:v=f||0,b=r+c,w=Math.max(d,Math.min(h,m.y2)),m.add(0,0).add(u,w),p&&sx(e,p,w,g,0,0,1,m);break;default:v=i.x,b=i.y}return Vl(m.translate(v,b),i),tp(i,"x",v+s)|tp(i,"y",b+s)&&(i.bounds=hr,e.dirty(i),i.bounds=m,e.dirty(i)),i.mark.bounds.clear().union(m)}function sx(e,t,n,r,i,o,s,a){const l=t.bounds;if(t.auto){const u=s*(n+i+r);let c=0,f=0;e.dirty(t),o?c=(t.x||0)-(t.x=u):f=(t.y||0)-(t.y=u),t.mark.bounds.clear().union(l.translate(-c,-f)),e.dirty(t)}a.union(l)}const Mj=(e,t)=>Math.floor(Math.min(e,t)),Fj=(e,t)=>Math.ceil(Math.max(e,t));function TDe(e){var t=e.items,n=t.length,r=0,i,o;const s={marks:[],rowheaders:[],rowfooters:[],colheaders:[],colfooters:[],rowtitle:null,coltitle:null};for(;r<n;++r)if(i=t[r],o=i.items,i.marktype===l_)switch(i.role){case xD:case SD:case wD:break;case vne:s.rowheaders.push(...o);break;case bne:s.rowfooters.push(...o);break;case wne:s.colheaders.push(...o);break;case Sne:s.colfooters.push(...o);break;case xne:s.rowtitle=o[0];break;case kne:s.coltitle=o[0];break;default:s.marks.push(...o)}return s}function MDe(e){return new gn().set(0,0,e.width||0,e.height||0)}function FDe(e){const t=e.bounds.clone();return t.empty()?t.set(0,0,0,0):t.translate(-(e.x||0),-(e.y||0))}function Nt(e,t,n){const r=se(e)?e[t]:e;return r??(n!==void 0?n:0)}function Pj(e){return e<0?Math.ceil(-e):0}function Pne(e,t,n){var r=!n.nodirty,i=n.bounds===CD?MDe:FDe,o=hr.set(0,0,0,0),s=Nt(n.align,Ou),a=Nt(n.align,Nu),l=Nt(n.padding,Ou),u=Nt(n.padding,Nu),c=n.columns||t.length,f=c<=0?1:Math.ceil(t.length/c),d=t.length,h=Array(d),p=Array(c),g=0,m=Array(d),y=Array(f),v=0,b=Array(d),x=Array(d),w=Array(d),k,S,C,_,$,A,O,M,P,R,D;for(S=0;S<c;++S)p[S]=0;for(S=0;S<f;++S)y[S]=0;for(S=0;S<d;++S)A=t[S],$=w[S]=i(A),A.x=A.x||0,b[S]=0,A.y=A.y||0,x[S]=0,C=S%c,_=~~(S/c),g=Math.max(g,O=Math.ceil($.x2)),v=Math.max(v,M=Math.ceil($.y2)),p[C]=Math.max(p[C],O),y[_]=Math.max(y[_],M),h[S]=l+Pj($.x1),m[S]=u+Pj($.y1),r&&e.dirty(t[S]);for(S=0;S<d;++S)S%c===0&&(h[S]=0),S<c&&(m[S]=0);if(s===G3)for(C=1;C<c;++C){for(D=0,S=C;S<d;S+=c)D<h[S]&&(D=h[S]);for(S=C;S<d;S+=c)h[S]=D+p[C-1]}else if(s===ix){for(D=0,S=0;S<d;++S)S%c&&D<h[S]&&(D=h[S]);for(S=0;S<d;++S)S%c&&(h[S]=D+g)}else for(s=!1,C=1;C<c;++C)for(S=C;S<d;S+=c)h[S]+=p[C-1];if(a===G3)for(_=1;_<f;++_){for(D=0,S=_*c,k=S+c;S<k;++S)D<m[S]&&(D=m[S]);for(S=_*c;S<k;++S)m[S]=D+y[_-1]}else if(a===ix){for(D=0,S=c;S<d;++S)D<m[S]&&(D=m[S]);for(S=c;S<d;++S)m[S]=D+v}else for(a=!1,_=1;_<f;++_)for(S=_*c,k=S+c;S<k;++S)m[S]+=y[_-1];for(P=0,S=0;S<d;++S)P=h[S]+(S%c?P:0),b[S]+=P-t[S].x;for(C=0;C<c;++C)for(R=0,S=C;S<d;S+=c)R+=m[S],x[S]+=R-t[S].y;if(s&&Nt(n.center,Ou)&&f>1)for(S=0;S<d;++S)$=s===ix?g:p[S%c],P=$-w[S].x2-t[S].x-b[S],P>0&&(b[S]+=P/2);if(a&&Nt(n.center,Nu)&&c!==1)for(S=0;S<d;++S)$=a===ix?v:y[~~(S/c)],R=$-w[S].y2-t[S].y-x[S],R>0&&(x[S]+=R/2);for(S=0;S<d;++S)o.union(w[S].translate(b[S],x[S]));switch(P=Nt(n.anchor,gDe),R=Nt(n.anchor,mDe),Nt(n.anchor,Ou)){case Ir:P-=o.width();break;case q3:P-=o.width()/2}switch(Nt(n.anchor,Nu)){case Ir:R-=o.height();break;case q3:R-=o.height()/2}for(P=Math.round(P),R=Math.round(R),o.clear(),S=0;S<d;++S)t[S].mark.bounds.clear();for(S=0;S<d;++S)A=t[S],A.x+=b[S]+=P,A.y+=x[S]+=R,o.union(A.mark.bounds.union(A.bounds.translate(b[S],x[S]))),r&&e.dirty(A);return o}function PDe(e,t,n){var r=TDe(t),i=r.marks,o=n.bounds===CD?RDe:DDe,s=n.offset,a=n.columns||i.length,l=a<=0?1:Math.ceil(i.length/a),u=l*a,c,f,d,h,p,g,m;const y=Pne(e,i,n);y.empty()&&y.set(0,0,0,0),r.rowheaders&&(g=Nt(n.headerBand,Nu,null),c=ax(e,r.rowheaders,i,a,l,-Nt(s,"rowHeader"),Mj,0,o,"x1",0,a,1,g)),r.colheaders&&(g=Nt(n.headerBand,Ou,null),f=ax(e,r.colheaders,i,a,a,-Nt(s,"columnHeader"),Mj,1,o,"y1",0,1,a,g)),r.rowfooters&&(g=Nt(n.footerBand,Nu,null),d=ax(e,r.rowfooters,i,a,l,Nt(s,"rowFooter"),Fj,0,o,"x2",a-1,a,1,g)),r.colfooters&&(g=Nt(n.footerBand,Ou,null),h=ax(e,r.colfooters,i,a,a,Nt(s,"columnFooter"),Fj,1,o,"y2",u-a,1,a,g)),r.rowtitle&&(p=Nt(n.titleAnchor,Nu),m=Nt(s,"rowTitle"),m=p===Ir?d+m:c-m,g=Nt(n.titleBand,Nu,.5),Rj(e,r.rowtitle,m,0,y,g)),r.coltitle&&(p=Nt(n.titleAnchor,Ou),m=Nt(s,"columnTitle"),m=p===Ir?h+m:f-m,g=Nt(n.titleBand,Ou,.5),Rj(e,r.coltitle,m,1,y,g))}function RDe(e,t){return t==="x1"?e.x||0:t==="y1"?e.y||0:t==="x2"?(e.x||0)+(e.width||0):t==="y2"?(e.y||0)+(e.height||0):void 0}function DDe(e,t){return e.bounds[t]}function ax(e,t,n,r,i,o,s,a,l,u,c,f,d,h){var p=n.length,g=0,m=0,y,v,b,x,w,k,S,C,_;if(!p)return g;for(y=c;y<p;y+=f)n[y]&&(g=s(g,l(n[y],u)));if(!t.length)return g;for(t.length>i&&(e.warn("Grid headers exceed limit: "+i),t=t.slice(0,i)),g+=o,v=0,x=t.length;v<x;++v)e.dirty(t[v]),t[v].mark.bounds.clear();for(y=c,v=0,x=t.length;v<x;++v,y+=f){for(k=t[v],w=k.mark.bounds,b=y;b>=0&&(S=n[b])==null;b-=d);a?(C=h==null?S.x:Math.round(S.bounds.x1+h*S.bounds.width()),_=g):(C=g,_=h==null?S.y:Math.round(S.bounds.y1+h*S.bounds.height())),w.union(k.bounds.translate(C-(k.x||0),_-(k.y||0))),k.x=C,k.y=_,e.dirty(k),m=s(m,w[u])}return m}function Rj(e,t,n,r,i,o){if(t){e.dirty(t);var s=n,a=n;r?s=Math.round(i.x1+o*i.width()):a=Math.round(i.y1+o*i.height()),t.bounds.translate(s-(t.x||0),a-(t.y||0)),t.mark.bounds.clear().union(t.bounds),t.x=s,t.y=a,e.dirty(t)}}function ODe(e,t){const n=e[t]||{};return(r,i)=>n[r]!=null?n[r]:e[r]!=null?e[r]:i}function NDe(e,t){let n=-1/0;return e.forEach(r=>{r.offset!=null&&(n=Math.max(n,r.offset))}),n>-1/0?n:t}function IDe(e,t,n,r,i,o,s){const a=ODe(n,t),l=NDe(e,a("offset",0)),u=a("anchor",bD),c=u===Ir?1:u===q3?.5:0,f={align:G3,bounds:a("bounds",CD),columns:a("direction")==="vertical"?1:e.length,padding:a("margin",8),center:a("center"),nodirty:!0};switch(t){case ls:f.anchor={x:Math.floor(r.x1)-l,column:Ir,y:c*(s||r.height()+2*r.y1),row:u};break;case ds:f.anchor={x:Math.ceil(r.x2)+l,y:c*(s||r.height()+2*r.y1),row:u};break;case yg:f.anchor={y:Math.floor(i.y1)-l,row:Ir,x:c*(o||i.width()+2*i.x1),column:u};break;case gc:f.anchor={y:Math.ceil(i.y2)+l,x:c*(o||i.width()+2*i.x1),column:u};break;case fDe:f.anchor={x:l,y:l};break;case dDe:f.anchor={x:o-l,y:l,column:Ir};break;case hDe:f.anchor={x:l,y:s-l,row:Ir};break;case pDe:f.anchor={x:o-l,y:s-l,column:Ir,row:Ir};break}return f}function LDe(e,t){var n=t.items[0],r=n.datum,i=n.orient,o=n.bounds,s=n.x,a=n.y,l,u;return n._bounds?n._bounds.clear().union(o):n._bounds=o.clone(),o.clear(),jDe(e,n,n.items[0].items[0]),o=zDe(n,o),l=2*n.padding,u=2*n.padding,o.empty()||(l=Math.ceil(o.width()+l),u=Math.ceil(o.height()+u)),r.type===xDe&&BDe(n.items[0].items[0].items[0].items),i!==kD&&(n.x=s=0,n.y=a=0),n.width=l,n.height=u,Vl(o.set(s,a,s+l,a+u),n),n.mark.bounds.clear().union(o),n}function zDe(e,t){return e.items.forEach(n=>t.union(n.bounds)),t.x1=e.padding,t.y1=e.padding,t}function jDe(e,t,n){var r=t.padding,i=r-n.x,o=r-n.y;if(!t.datum.title)(i||o)&&Km(e,n,i,o);else{var s=t.items[1].items[0],a=s.anchor,l=t.titlePadding||0,u=r-s.x,c=r-s.y;switch(s.orient){case ls:i+=Math.ceil(s.bounds.width())+l;break;case ds:case gc:break;default:o+=s.bounds.height()+l}switch((i||o)&&Km(e,n,i,o),s.orient){case ls:c+=mh(t,n,s,a,1,1);break;case ds:u+=mh(t,n,s,Ir,0,0)+l,c+=mh(t,n,s,a,1,1);break;case gc:u+=mh(t,n,s,a,0,0),c+=mh(t,n,s,Ir,-1,0,1)+l;break;default:u+=mh(t,n,s,a,0,0)}(u||c)&&Km(e,s,u,c),(u=Math.round(s.bounds.x1-r))<0&&(Km(e,n,-u,0),Km(e,s,-u,0))}}function mh(e,t,n,r,i,o,s){const a=e.datum.type!=="symbol",l=n.datum.vgrad,u=a&&(o||!l)&&!s?t.items[0]:t,c=u.bounds[i?"y2":"x2"]-e.padding,f=l&&o?c:0,d=l&&o?0:c,h=i<=0?0:aD(n);return Math.round(r===bD?f:r===Ir?d-h:.5*(c-h))}function Km(e,t,n,r){t.x+=n,t.y+=r,t.bounds.translate(n,r),t.mark.bounds.translate(n,r),e.dirty(t)}function BDe(e){const t=e.reduce((n,r)=>(n[r.column]=Math.max(r.bounds.x2-r.x,n[r.column]||0),n),{});e.forEach(n=>{n.width=t[n.column],n.height=n.bounds.y2-n.y})}function UDe(e,t,n,r,i){var o=t.items[0],s=o.frame,a=o.orient,l=o.anchor,u=o.offset,c=o.padding,f=o.items[0].items[0],d=o.items[1]&&o.items[1].items[0],h=a===ls||a===ds?r:n,p=0,g=0,m=0,y=0,v=0,b;if(s!==l_?a===ls?(p=i.y2,h=i.y1):a===ds?(p=i.y1,h=i.y2):(p=i.x1,h=i.x2):a===ls&&(p=r,h=0),b=l===bD?p:l===Ir?h:(p+h)/2,d&&d.text){switch(a){case yg:case gc:v=f.bounds.height()+c;break;case ls:y=f.bounds.width()+c;break;case ds:y=-f.bounds.width()-c;break}hr.clear().union(d.bounds),hr.translate(y-(d.x||0),v-(d.y||0)),tp(d,"x",y)|tp(d,"y",v)&&(e.dirty(d),d.bounds.clear().union(hr),d.mark.bounds.clear().union(hr),e.dirty(d)),hr.clear().union(d.bounds)}else hr.clear();switch(hr.union(f.bounds),a){case yg:g=b,m=i.y1-hr.height()-u;break;case ls:g=i.x1-hr.width()-u,m=b;break;case ds:g=i.x2+hr.width()+u,m=b;break;case gc:g=b,m=i.y2+u;break;default:g=o.x,m=o.y}return tp(o,"x",g)|tp(o,"y",m)&&(hr.translate(g,m),e.dirty(o),o.bounds.clear().union(hr),t.bounds.clear().union(hr),e.dirty(o)),o.bounds}function Rne(e){V.call(this,null,e)}ne(Rne,V,{transform(e,t){const n=t.dataflow;return e.mark.items.forEach(r=>{e.layout&&PDe(n,r,e.layout),WDe(n,r,e)}),VDe(e.mark.group)?t.reflow():t}});function VDe(e){return e&&e.mark.role!=="legend-entry"}function WDe(e,t,n){var r=t.items,i=Math.max(0,t.width||0),o=Math.max(0,t.height||0),s=new gn().set(0,0,i,o),a=s.clone(),l=s.clone(),u=[],c,f,d,h,p,g;for(p=0,g=r.length;p<g;++p)switch(f=r[p],f.role){case xD:h=EDe(f)?a:l,h.union(ADe(e,f,i,o));break;case wD:c=f;break;case SD:u.push(LDe(e,f));break;case yDe:case vDe:case vne:case bne:case xne:case wne:case Sne:case kne:a.union(f.bounds),l.union(f.bounds);break;default:s.union(f.bounds)}if(u.length){const m={};u.forEach(y=>{d=y.orient||ds,d!==kD&&(m[d]||(m[d]=[])).push(y)});for(const y in m){const v=m[y];Pne(e,v,IDe(v,y,n.legends,a,l,i,o))}u.forEach(y=>{const v=y.bounds;if(v.equals(y._bounds)||(y.bounds=y._bounds,e.dirty(y),y.bounds=v,e.dirty(y)),n.autosize&&(n.autosize.type===Cne||n.autosize.type===_ne||n.autosize.type===Ene))switch(y.orient){case ls:case ds:s.add(v.x1,0).add(v.x2,0);break;case yg:case gc:s.add(0,v.y1).add(0,v.y2)}else s.union(v)})}s.union(a).union(l),c&&s.union(UDe(e,c,i,o,s)),t.clip&&s.set(0,0,t.width||0,t.height||0),HDe(e,t,s,n)}function HDe(e,t,n,r){const i=r.autosize||{},o=i.type;if(e._autosize<1||!o)return;let s=e._width,a=e._height,l=Math.max(0,t.width||0),u=Math.max(0,Math.ceil(-n.x1)),c=Math.max(0,t.height||0),f=Math.max(0,Math.ceil(-n.y1));const d=Math.max(0,Math.ceil(n.x2-l)),h=Math.max(0,Math.ceil(n.y2-c));if(i.contains===bDe){const p=e.padding();s-=p.left+p.right,a-=p.top+p.bottom}o===kD?(u=0,f=0,l=s,c=a):o===Cne?(l=Math.max(0,s-u-d),c=Math.max(0,a-f-h)):o===_ne?(l=Math.max(0,s-u-d),a=c+f+h):o===Ene?(s=l+u+d,c=Math.max(0,a-f-h)):o===wDe&&(s=l+u+d,a=c+f+h),e._resizeView(s,a,l,c,[u,f],i.resize)}const qDe=Object.freeze(Object.defineProperty({__proto__:null,bound:$ne,identifier:_D,mark:Ane,overlap:Tne,render:Fne,viewlayout:Rne},Symbol.toStringTag,{value:"Module"}));function Dne(e){V.call(this,null,e)}ne(Dne,V,{transform(e,t){if(this.value&&!e.modified())return t.StopPropagation;var n=t.dataflow.locale(),r=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=this.value,o=e.scale,s=e.count==null?e.values?e.values.length:10:e.count,a=V6(o,s,e.minstep),l=e.format||ate(n,o,a,e.formatSpecifier,e.formatType,!!e.values),u=e.values?ste(o,e.values,a):W6(o,a);return i&&(r.rem=i),i=u.map((c,f)=>at({index:f/(u.length-1||1),value:c,label:l(c)})),e.extra&&i.length&&i.push(at({index:-1,extra:{value:i[0].value},label:""})),r.source=i,r.add=i,this.value=i,r}});function One(e){V.call(this,null,e)}function GDe(){return at({})}function YDe(e){const t=Zg().test(n=>n.exit);return t.lookup=n=>t.get(e(n)),t}ne(One,V,{transform(e,t){var n=t.dataflow,r=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=e.item||GDe,o=e.key||ve,s=this.value;return G(r.encode)&&(r.encode=null),s&&(e.modified("key")||t.modified(o))&&q("DataJoin does not support modified key function or fields."),s||(t=t.addAll(),this.value=s=YDe(o)),t.visit(t.ADD,a=>{const l=o(a);let u=s.get(l);u?u.exit?(s.empty--,r.add.push(u)):r.mod.push(u):(u=i(a),s.set(l,u),r.add.push(u)),u.datum=a,u.exit=!1}),t.visit(t.MOD,a=>{const l=o(a),u=s.get(l);u&&(u.datum=a,r.mod.push(u))}),t.visit(t.REM,a=>{const l=o(a),u=s.get(l);a===u.datum&&!u.exit&&(r.rem.push(u),u.exit=!0,++s.empty)}),t.changed(t.ADD_MOD)&&r.modifies("datum"),(t.clean()||e.clean&&s.empty>n.cleanThreshold)&&n.runAfter(s.clean),r}});function Nne(e){V.call(this,null,e)}ne(Nne,V,{transform(e,t){var n=t.fork(t.ADD_REM),r=e.mod||!1,i=e.encoders,o=t.encode;if(G(o))if(n.changed()||o.every(f=>i[f]))o=o[0],n.encode=null;else return t.StopPropagation;var s=o==="enter",a=i.update||ou,l=i.enter||ou,u=i.exit||ou,c=(o&&!s?i[o]:a)||ou;if(t.changed(t.ADD)&&(t.visit(t.ADD,f=>{l(f,e),a(f,e)}),n.modifies(l.output),n.modifies(a.output),c!==ou&&c!==a&&(t.visit(t.ADD,f=>{c(f,e)}),n.modifies(c.output))),t.changed(t.REM)&&u!==ou&&(t.visit(t.REM,f=>{u(f,e)}),n.modifies(u.output)),s||c!==ou){const f=t.MOD|(e.modified()?t.REFLOW:0);s?(t.visit(f,d=>{const h=l(d,e)||r;(c(d,e)||h)&&n.mod.push(d)}),n.mod.length&&n.modifies(l.output)):t.visit(f,d=>{(c(d,e)||r)&&n.mod.push(d)}),n.mod.length&&n.modifies(c.output)}return n.changed()?n:t.StopPropagation}});function Ine(e){V.call(this,[],e)}ne(Ine,V,{transform(e,t){if(this.value!=null&&!e.modified())return t.StopPropagation;var n=t.dataflow.locale(),r=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=this.value,o=e.type||v2,s=e.scale,a=+e.limit,l=V6(s,e.count==null?5:e.count,e.minstep),u=!!e.values||o===v2,c=e.format||fte(n,s,l,o,e.formatSpecifier,e.formatType,u),f=e.values||cte(s,l),d,h,p,g,m;return i&&(r.rem=i),o===v2?(a&&f.length>a?(t.dataflow.warn("Symbol legend count exceeds limit, filtering items."),i=f.slice(0,a-1),m=!0):i=f,Ne(p=e.size)?(!e.values&&s(i[0])===0&&(i=i.slice(1)),g=i.reduce((y,v)=>Math.max(y,p(v,e)),0)):p=Tr(g=p||8),i=i.map((y,v)=>at({index:v,label:c(y,v,i),value:y,offset:g,size:p(y,e)})),m&&(m=f[i.length],i.push(at({index:i.length,label:`…${f.length-i.length} entries`,value:m,offset:g,size:p(m,e)})))):o===wPe?(d=s.domain(),h=rte(s,d[0],qe(d)),f.length<3&&!e.values&&d[0]!==qe(d)&&(f=[d[0],qe(d)]),i=f.map((y,v)=>at({index:v,label:c(y,v,f),value:y,perc:h(y)}))):(p=f.length-1,h=PPe(s),i=f.map((y,v)=>at({index:v,label:c(y,v,f),value:y,perc:v?h(y):0,perc2:v===p?1:h(f[v+1])}))),r.source=i,r.add=i,this.value=i,r}});const XDe=e=>e.source.x,KDe=e=>e.source.y,QDe=e=>e.target.x,ZDe=e=>e.target.y;function ED(e){V.call(this,{},e)}ED.Definition={type:"LinkPath",metadata:{modifies:!0},params:[{name:"sourceX",type:"field",default:"source.x"},{name:"sourceY",type:"field",default:"source.y"},{name:"targetX",type:"field",default:"target.x"},{name:"targetY",type:"field",default:"target.y"},{name:"orient",type:"enum",default:"vertical",values:["horizontal","vertical","radial"]},{name:"shape",type:"enum",default:"line",values:["line","arc","curve","diagonal","orthogonal"]},{name:"require",type:"signal"},{name:"as",type:"string",default:"path"}]};ne(ED,V,{transform(e,t){var n=e.sourceX||XDe,r=e.sourceY||KDe,i=e.targetX||QDe,o=e.targetY||ZDe,s=e.as||"path",a=e.orient||"vertical",l=e.shape||"line",u=Dj.get(l+"-"+a)||Dj.get(l);return u||q("LinkPath unsupported type: "+e.shape+(e.orient?"-"+e.orient:"")),t.visit(t.SOURCE,c=>{c[s]=u(n(c),r(c),i(c),o(c))}),t.reflow(e.modified()).modifies(s)}});const Lne=(e,t,n,r)=>"M"+e+","+t+"L"+n+","+r,JDe=(e,t,n,r)=>Lne(t*Math.cos(e),t*Math.sin(e),r*Math.cos(n),r*Math.sin(n)),zne=(e,t,n,r)=>{var i=n-e,o=r-t,s=Math.hypot(i,o)/2,a=180*Math.atan2(o,i)/Math.PI;return"M"+e+","+t+"A"+s+","+s+" "+a+" 0 1 "+n+","+r},eOe=(e,t,n,r)=>zne(t*Math.cos(e),t*Math.sin(e),r*Math.cos(n),r*Math.sin(n)),jne=(e,t,n,r)=>{const i=n-e,o=r-t,s=.2*(i+o),a=.2*(o-i);return"M"+e+","+t+"C"+(e+s)+","+(t+a)+" "+(n+a)+","+(r-s)+" "+n+","+r},tOe=(e,t,n,r)=>jne(t*Math.cos(e),t*Math.sin(e),r*Math.cos(n),r*Math.sin(n)),nOe=(e,t,n,r)=>"M"+e+","+t+"V"+r+"H"+n,rOe=(e,t,n,r)=>"M"+e+","+t+"H"+n+"V"+r,iOe=(e,t,n,r)=>{const i=Math.cos(e),o=Math.sin(e),s=Math.cos(n),a=Math.sin(n),l=Math.abs(n-e)>Math.PI?n<=e:n>e;return"M"+t*i+","+t*o+"A"+t+","+t+" 0 0,"+(l?1:0)+" "+t*s+","+t*a+"L"+r*s+","+r*a},oOe=(e,t,n,r)=>{const i=(e+n)/2;return"M"+e+","+t+"C"+i+","+t+" "+i+","+r+" "+n+","+r},sOe=(e,t,n,r)=>{const i=(t+r)/2;return"M"+e+","+t+"C"+e+","+i+" "+n+","+i+" "+n+","+r},aOe=(e,t,n,r)=>{const i=Math.cos(e),o=Math.sin(e),s=Math.cos(n),a=Math.sin(n),l=(t+r)/2;return"M"+t*i+","+t*o+"C"+l*i+","+l*o+" "+l*s+","+l*a+" "+r*s+","+r*a},Dj=Zg({line:Lne,"line-radial":JDe,arc:zne,"arc-radial":eOe,curve:jne,"curve-radial":tOe,"orthogonal-horizontal":nOe,"orthogonal-vertical":rOe,"orthogonal-radial":iOe,"diagonal-horizontal":oOe,"diagonal-vertical":sOe,"diagonal-radial":aOe});function $D(e){V.call(this,null,e)}$D.Definition={type:"Pie",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"startAngle",type:"number",default:0},{name:"endAngle",type:"number",default:6.283185307179586},{name:"sort",type:"boolean",default:!1},{name:"as",type:"string",array:!0,length:2,default:["startAngle","endAngle"]}]};ne($D,V,{transform(e,t){var n=e.as||["startAngle","endAngle"],r=n[0],i=n[1],o=e.field||Xg,s=e.startAngle||0,a=e.endAngle!=null?e.endAngle:2*Math.PI,l=t.source,u=l.map(o),c=u.length,f=s,d=(a-s)/YQ(u),h=zi(c),p,g,m;for(e.sort&&h.sort((y,v)=>u[y]-u[v]),p=0;p<c;++p)m=u[h[p]],g=l[h[p]],g[r]=f,g[i]=f+=m*d;return this.value=u,t.reflow(e.modified()).modifies(n)}});const lOe=5;function uOe(e){const t=e.type;return!e.bins&&(t===fg||t===wv||t===Sv)}function Bne(e){return j6(e)&&e!==ba}const cOe=ws(["set","modified","clear","type","scheme","schemeExtent","schemeCount","domain","domainMin","domainMid","domainMax","domainRaw","domainImplicit","nice","zero","bins","range","rangeStep","round","reverse","interpolate","interpolateGamma"]);function Une(e){V.call(this,null,e),this.modified(!0)}ne(Une,V,{transform(e,t){var n=t.dataflow,r=this.value,i=fOe(e);(!r||i!==r.type)&&(this.value=r=et(i)());for(i in e)if(!cOe[i]){if(i==="padding"&&Bne(r.type))continue;Ne(r[i])?r[i](e[i]):n.warn("Unsupported scale property: "+i)}return yOe(r,e,mOe(r,e,hOe(r,e,n))),t.fork(t.NO_SOURCE|t.NO_FIELDS)}});function fOe(e){var t=e.type,n="",r;return t===ba?ba+"-"+fg:(dOe(e)&&(r=e.rawDomain?e.rawDomain.length:e.domain?e.domain.length+ +(e.domainMid!=null):0,n=r===2?ba+"-":r===3?om+"-":""),(n+t||fg).toLowerCase())}function dOe(e){const t=e.type;return j6(t)&&t!==fd&&t!==dd&&(e.scheme||e.range&&e.range.length&&e.range.every(le))}function hOe(e,t,n){const r=pOe(e,t.domainRaw,n);if(r>-1)return r;var i=t.domain,o=e.type,s=t.zero||t.zero===void 0&&uOe(e),a,l;if(!i)return 0;if((s||t.domainMin!=null||t.domainMax!=null||t.domainMid!=null)&&(a=(i=i.slice()).length-1||1,s&&(i[0]>0&&(i[0]=0),i[a]<0&&(i[a]=0)),t.domainMin!=null&&(i[0]=t.domainMin),t.domainMax!=null&&(i[a]=t.domainMax),t.domainMid!=null)){l=t.domainMid;const u=l>i[a]?a+1:l<i[0]?0:a;u!==a&&n.warn("Scale domainMid exceeds domain min or max.",l),i.splice(u,0,l)}return Bne(o)&&t.padding&&i[0]!==qe(i)&&(i=gOe(o,i,t.range,t.padding,t.exponent,t.constant)),e.domain(Vne(o,i,n)),o===N6&&e.unknown(t.domainImplicit?$3:void 0),t.nice&&e.nice&&e.nice(t.nice!==!0&&V6(e,t.nice)||null),i.length}function pOe(e,t,n){return t?(e.domain(Vne(e.type,t,n)),t.length):-1}function gOe(e,t,n,r,i,o){var s=Math.abs(qe(n)-n[0]),a=s/(s-2*r),l=e===Dl?rR(t,null,a):e===Sv?Lw(t,null,a,.5):e===wv?Lw(t,null,a,i||1):e===GC?iR(t,null,a,o||1):nR(t,null,a);return t=t.slice(),t[0]=l[0],t[t.length-1]=l[1],t}function Vne(e,t,n){if(Zee(e)){var r=Math.abs(t.reduce((i,o)=>i+(o<0?-1:o>0?1:0),0));r!==t.length&&n.warn("Log scale domain includes zero: "+te(t))}return t}function mOe(e,t,n){let r=t.bins;if(r&&!G(r)){const i=e.domain(),o=i[0],s=qe(i),a=r.step;let l=r.start==null?o:r.start,u=r.stop==null?s:r.stop;a||q("Scale bins parameter missing step property."),l<o&&(l=a*Math.ceil(o/a)),u>s&&(u=a*Math.floor(s/a)),r=zi(l,u+a/2,a)}return r?e.bins=r:e.bins&&delete e.bins,e.type===I6&&(r?!t.domain&&!t.domainRaw&&(e.domain(r),n=r.length):e.bins=e.domain()),n}function yOe(e,t,n){var r=e.type,i=t.round||!1,o=t.range;if(t.rangeStep!=null)o=vOe(r,t,n);else if(t.scheme&&(o=bOe(r,t,n),Ne(o))){if(e.interpolator)return e.interpolator(o);q(`Scale type ${r} does not support interpolating color schemes.`)}if(o&&Jee(r))return e.interpolator(KC(Y3(o,t.reverse),t.interpolate,t.interpolateGamma));o&&t.interpolate&&e.interpolate?e.interpolate(B6(t.interpolate,t.interpolateGamma)):Ne(e.round)?e.round(i):Ne(e.rangeRound)&&e.interpolate(i?im:Mc),o&&e.range(Y3(o,t.reverse))}function vOe(e,t,n){e!==qee&&e!==R3&&q("Only band and point scales support rangeStep.");var r=(t.paddingOuter!=null?t.paddingOuter:t.padding)||0,i=e===R3?1:(t.paddingInner!=null?t.paddingInner:t.padding)||0;return[0,t.rangeStep*O6(n,i,r)]}function bOe(e,t,n){var r=t.schemeExtent,i,o;return G(t.scheme)?o=KC(t.scheme,t.interpolate,t.interpolateGamma):(i=t.scheme.toLowerCase(),o=U6(i),o||q(`Unrecognized scheme name: ${t.scheme}`)),n=e===XC?n+1:e===I6?n-1:e===dg||e===YC?+t.schemeCount||lOe:n,Jee(e)?Oj(o,r,t.reverse):Ne(o)?nte(Oj(o,r),n):e===N6?o:o.slice(0,n)}function Oj(e,t,n){return Ne(e)&&(t||n)?tte(e,Y3(t||[0,1],n)):e}function Y3(e,t){return t?e.slice().reverse():e}function Wne(e){V.call(this,null,e)}ne(Wne,V,{transform(e,t){const n=e.modified("sort")||t.changed(t.ADD)||t.modified(e.sort.fields)||t.modified("datum");return n&&t.source.sort(Ud(e.sort)),this.modified(n),t}});const Nj="zero",Hne="center",qne="normalize",Gne=["y0","y1"];function AD(e){V.call(this,null,e)}AD.Definition={type:"Stack",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"groupby",type:"field",array:!0},{name:"sort",type:"compare"},{name:"offset",type:"enum",default:Nj,values:[Nj,Hne,qne]},{name:"as",type:"string",array:!0,length:2,default:Gne}]};ne(AD,V,{transform(e,t){var n=e.as||Gne,r=n[0],i=n[1],o=Ud(e.sort),s=e.field||Xg,a=e.offset===Hne?xOe:e.offset===qne?wOe:SOe,l,u,c,f;for(l=kOe(t.source,e.groupby,o,s),u=0,c=l.length,f=l.max;u<c;++u)a(l[u],f,s,r,i);return t.reflow(e.modified()).modifies(n)}});function xOe(e,t,n,r,i){for(var o=(t-e.sum)/2,s=e.length,a=0,l;a<s;++a)l=e[a],l[r]=o,l[i]=o+=Math.abs(n(l))}function wOe(e,t,n,r,i){for(var o=1/e.sum,s=0,a=e.length,l=0,u=0,c;l<a;++l)c=e[l],c[r]=s,c[i]=s=o*(u+=Math.abs(n(c)))}function SOe(e,t,n,r,i){for(var o=0,s=0,a=e.length,l=0,u,c;l<a;++l)c=e[l],u=+n(c),u<0?(c[r]=s,c[i]=s+=u):(c[r]=o,c[i]=o+=u)}function kOe(e,t,n,r){var i=[],o=g=>g(c),s,a,l,u,c,f,d,h,p;if(t==null)i.push(e.slice());else for(s={},a=0,l=e.length;a<l;++a)c=e[a],f=t.map(o),d=s[f],d||(s[f]=d=[],i.push(d)),d.push(c);for(f=0,p=0,u=i.length;f<u;++f){for(d=i[f],a=0,h=0,l=d.length;a<l;++a)h+=Math.abs(r(d[a]));d.sum=h,h>p&&(p=h),n&&d.sort(n)}return i.max=p,i}const COe=Object.freeze(Object.defineProperty({__proto__:null,axisticks:Dne,datajoin:One,encode:Nne,legendentries:Ine,linkpath:ED,pie:$D,scale:Une,sortitems:Wne,stack:AD},Symbol.toStringTag,{value:"Module"}));var xe=1e-6,mS=1e-12,Le=Math.PI,en=Le/2,yS=Le/4,Kr=Le*2,rn=180/Le,Ie=Le/180,He=Math.abs,am=Math.atan,Io=Math.atan2,Se=Math.cos,lx=Math.ceil,Yne=Math.exp,X3=Math.hypot,vS=Math.log,kA=Math.pow,be=Math.sin,_o=Math.sign||function(e){return e>0?1:e<0?-1:0},Qr=Math.sqrt,TD=Math.tan;function Xne(e){return e>1?0:e<-1?Le:Math.acos(e)}function Si(e){return e>1?en:e<-1?-en:Math.asin(e)}function Qn(){}function bS(e,t){e&&Lj.hasOwnProperty(e.type)&&Lj[e.type](e,t)}var Ij={Feature:function(e,t){bS(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,i=n.length;++r<i;)bS(n[r].geometry,t)}},Lj={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){K3(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)K3(n[r],t,0)},Polygon:function(e,t){zj(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)zj(n[r],t)},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,i=n.length;++r<i;)bS(n[r],t)}};function K3(e,t,n){var r=-1,i=e.length-n,o;for(t.lineStart();++r<i;)o=e[r],t.point(o[0],o[1],o[2]);t.lineEnd()}function zj(e,t){var n=-1,r=e.length;for(t.polygonStart();++n<r;)K3(e[n],t,1);t.polygonEnd()}function rl(e,t){e&&Ij.hasOwnProperty(e.type)?Ij[e.type](e,t):bS(e,t)}var xS=new Yr,wS=new Yr,Kne,Qne,Q3,Z3,J3,Ca={point:Qn,lineStart:Qn,lineEnd:Qn,polygonStart:function(){xS=new Yr,Ca.lineStart=_Oe,Ca.lineEnd=EOe},polygonEnd:function(){var e=+xS;wS.add(e<0?Kr+e:e),this.lineStart=this.lineEnd=this.point=Qn},sphere:function(){wS.add(Kr)}};function _Oe(){Ca.point=$Oe}function EOe(){Zne(Kne,Qne)}function $Oe(e,t){Ca.point=Zne,Kne=e,Qne=t,e*=Ie,t*=Ie,Q3=e,Z3=Se(t=t/2+yS),J3=be(t)}function Zne(e,t){e*=Ie,t*=Ie,t=t/2+yS;var n=e-Q3,r=n>=0?1:-1,i=r*n,o=Se(t),s=be(t),a=J3*s,l=Z3*o+a*Se(i),u=a*r*be(i);xS.add(Io(u,l)),Q3=e,Z3=o,J3=s}function AOe(e){return wS=new Yr,rl(e,Ca),wS*2}function SS(e){return[Io(e[1],e[0]),Si(e[2])]}function pd(e){var t=e[0],n=e[1],r=Se(n);return[r*Se(t),r*be(t),be(n)]}function ux(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function vg(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function CA(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function cx(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function kS(e){var t=Qr(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}var jt,ai,Kt,Ri,df,Jne,ere,bp,wy,pu,Ol,Ja={point:e4,lineStart:jj,lineEnd:Bj,polygonStart:function(){Ja.point=nre,Ja.lineStart=TOe,Ja.lineEnd=MOe,wy=new Yr,Ca.polygonStart()},polygonEnd:function(){Ca.polygonEnd(),Ja.point=e4,Ja.lineStart=jj,Ja.lineEnd=Bj,xS<0?(jt=-(Kt=180),ai=-(Ri=90)):wy>xe?Ri=90:wy<-xe&&(ai=-90),Ol[0]=jt,Ol[1]=Kt},sphere:function(){jt=-(Kt=180),ai=-(Ri=90)}};function e4(e,t){pu.push(Ol=[jt=e,Kt=e]),t<ai&&(ai=t),t>Ri&&(Ri=t)}function tre(e,t){var n=pd([e*Ie,t*Ie]);if(bp){var r=vg(bp,n),i=[r[1],-r[0],0],o=vg(i,r);kS(o),o=SS(o);var s=e-df,a=s>0?1:-1,l=o[0]*rn*a,u,c=He(s)>180;c^(a*df<l&&l<a*e)?(u=o[1]*rn,u>Ri&&(Ri=u)):(l=(l+360)%360-180,c^(a*df<l&&l<a*e)?(u=-o[1]*rn,u<ai&&(ai=u)):(t<ai&&(ai=t),t>Ri&&(Ri=t))),c?e<df?Pi(jt,e)>Pi(jt,Kt)&&(Kt=e):Pi(e,Kt)>Pi(jt,Kt)&&(jt=e):Kt>=jt?(e<jt&&(jt=e),e>Kt&&(Kt=e)):e>df?Pi(jt,e)>Pi(jt,Kt)&&(Kt=e):Pi(e,Kt)>Pi(jt,Kt)&&(jt=e)}else pu.push(Ol=[jt=e,Kt=e]);t<ai&&(ai=t),t>Ri&&(Ri=t),bp=n,df=e}function jj(){Ja.point=tre}function Bj(){Ol[0]=jt,Ol[1]=Kt,Ja.point=e4,bp=null}function nre(e,t){if(bp){var n=e-df;wy.add(He(n)>180?n+(n>0?360:-360):n)}else Jne=e,ere=t;Ca.point(e,t),tre(e,t)}function TOe(){Ca.lineStart()}function MOe(){nre(Jne,ere),Ca.lineEnd(),He(wy)>xe&&(jt=-(Kt=180)),Ol[0]=jt,Ol[1]=Kt,bp=null}function Pi(e,t){return(t-=e)<0?t+360:t}function FOe(e,t){return e[0]-t[0]}function Uj(e,t){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}function POe(e){var t,n,r,i,o,s,a;if(Ri=Kt=-(jt=ai=1/0),pu=[],rl(e,Ja),n=pu.length){for(pu.sort(FOe),t=1,r=pu[0],o=[r];t<n;++t)i=pu[t],Uj(r,i[0])||Uj(r,i[1])?(Pi(r[0],i[1])>Pi(r[0],r[1])&&(r[1]=i[1]),Pi(i[0],r[1])>Pi(r[0],r[1])&&(r[0]=i[0])):o.push(r=i);for(s=-1/0,n=o.length-1,t=0,r=o[n];t<=n;r=i,++t)i=o[t],(a=Pi(r[1],i[0]))>s&&(s=a,jt=i[0],Kt=r[1])}return pu=Ol=null,jt===1/0||ai===1/0?[[NaN,NaN],[NaN,NaN]]:[[jt,ai],[Kt,Ri]]}var D0,CS,_S,ES,$S,AS,TS,MS,t4,n4,r4,rre,ire,zr,jr,Br,hs={sphere:Qn,point:MD,lineStart:Vj,lineEnd:Wj,polygonStart:function(){hs.lineStart=OOe,hs.lineEnd=NOe},polygonEnd:function(){hs.lineStart=Vj,hs.lineEnd=Wj}};function MD(e,t){e*=Ie,t*=Ie;var n=Se(t);Dv(n*Se(e),n*be(e),be(t))}function Dv(e,t,n){++D0,_S+=(e-_S)/D0,ES+=(t-ES)/D0,$S+=(n-$S)/D0}function Vj(){hs.point=ROe}function ROe(e,t){e*=Ie,t*=Ie;var n=Se(t);zr=n*Se(e),jr=n*be(e),Br=be(t),hs.point=DOe,Dv(zr,jr,Br)}function DOe(e,t){e*=Ie,t*=Ie;var n=Se(t),r=n*Se(e),i=n*be(e),o=be(t),s=Io(Qr((s=jr*o-Br*i)*s+(s=Br*r-zr*o)*s+(s=zr*i-jr*r)*s),zr*r+jr*i+Br*o);CS+=s,AS+=s*(zr+(zr=r)),TS+=s*(jr+(jr=i)),MS+=s*(Br+(Br=o)),Dv(zr,jr,Br)}function Wj(){hs.point=MD}function OOe(){hs.point=IOe}function NOe(){ore(rre,ire),hs.point=MD}function IOe(e,t){rre=e,ire=t,e*=Ie,t*=Ie,hs.point=ore;var n=Se(t);zr=n*Se(e),jr=n*be(e),Br=be(t),Dv(zr,jr,Br)}function ore(e,t){e*=Ie,t*=Ie;var n=Se(t),r=n*Se(e),i=n*be(e),o=be(t),s=jr*o-Br*i,a=Br*r-zr*o,l=zr*i-jr*r,u=X3(s,a,l),c=Si(u),f=u&&-c/u;t4.add(f*s),n4.add(f*a),r4.add(f*l),CS+=c,AS+=c*(zr+(zr=r)),TS+=c*(jr+(jr=i)),MS+=c*(Br+(Br=o)),Dv(zr,jr,Br)}function LOe(e){D0=CS=_S=ES=$S=AS=TS=MS=0,t4=new Yr,n4=new Yr,r4=new Yr,rl(e,hs);var t=+t4,n=+n4,r=+r4,i=X3(t,n,r);return i<mS&&(t=AS,n=TS,r=MS,CS<xe&&(t=_S,n=ES,r=$S),i=X3(t,n,r),i<mS)?[NaN,NaN]:[Io(n,t)*rn,Si(r/i)*rn]}function i4(e,t){function n(r,i){return r=e(r,i),t(r[0],r[1])}return e.invert&&t.invert&&(n.invert=function(r,i){return r=t.invert(r,i),r&&e.invert(r[0],r[1])}),n}function o4(e,t){return He(e)>Le&&(e-=Math.round(e/Kr)*Kr),[e,t]}o4.invert=o4;function sre(e,t,n){return(e%=Kr)?t||n?i4(qj(e),Gj(t,n)):qj(e):t||n?Gj(t,n):o4}function Hj(e){return function(t,n){return t+=e,He(t)>Le&&(t-=Math.round(t/Kr)*Kr),[t,n]}}function qj(e){var t=Hj(e);return t.invert=Hj(-e),t}function Gj(e,t){var n=Se(e),r=be(e),i=Se(t),o=be(t);function s(a,l){var u=Se(l),c=Se(a)*u,f=be(a)*u,d=be(l),h=d*n+c*r;return[Io(f*i-h*o,c*n-d*r),Si(h*i+f*o)]}return s.invert=function(a,l){var u=Se(l),c=Se(a)*u,f=be(a)*u,d=be(l),h=d*i-f*o;return[Io(f*i+d*o,c*n+h*r),Si(h*n-c*r)]},s}function zOe(e){e=sre(e[0]*Ie,e[1]*Ie,e.length>2?e[2]*Ie:0);function t(n){return n=e(n[0]*Ie,n[1]*Ie),n[0]*=rn,n[1]*=rn,n}return t.invert=function(n){return n=e.invert(n[0]*Ie,n[1]*Ie),n[0]*=rn,n[1]*=rn,n},t}function jOe(e,t,n,r,i,o){if(n){var s=Se(t),a=be(t),l=r*n;i==null?(i=t+r*Kr,o=t-l/2):(i=Yj(s,i),o=Yj(s,o),(r>0?i<o:i>o)&&(i+=r*Kr));for(var u,c=i;r>0?c>o:c<o;c-=l)u=SS([s,-a*Se(c),-a*be(c)]),e.point(u[0],u[1])}}function Yj(e,t){t=pd(t),t[0]-=e,kS(t);var n=Xne(-t[1]);return((-t[2]<0?-n:n)+Kr-xe)%Kr}function are(){var e=[],t;return{point:function(n,r,i){t.push([n,r,i])},lineStart:function(){e.push(t=[])},lineEnd:Qn,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}}function $2(e,t){return He(e[0]-t[0])<xe&&He(e[1]-t[1])<xe}function fx(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function lre(e,t,n,r,i){var o=[],s=[],a,l;if(e.forEach(function(p){if(!((g=p.length-1)<=0)){var g,m=p[0],y=p[g],v;if($2(m,y)){if(!m[2]&&!y[2]){for(i.lineStart(),a=0;a<g;++a)i.point((m=p[a])[0],m[1]);i.lineEnd();return}y[0]+=2*xe}o.push(v=new fx(m,p,null,!0)),s.push(v.o=new fx(m,null,v,!1)),o.push(v=new fx(y,p,null,!1)),s.push(v.o=new fx(y,null,v,!0))}}),!!o.length){for(s.sort(t),Xj(o),Xj(s),a=0,l=s.length;a<l;++a)s[a].e=n=!n;for(var u=o[0],c,f;;){for(var d=u,h=!0;d.v;)if((d=d.n)===u)return;c=d.z,i.lineStart();do{if(d.v=d.o.v=!0,d.e){if(h)for(a=0,l=c.length;a<l;++a)i.point((f=c[a])[0],f[1]);else r(d.x,d.n.x,1,i);d=d.n}else{if(h)for(c=d.p.z,a=c.length-1;a>=0;--a)i.point((f=c[a])[0],f[1]);else r(d.x,d.p.x,-1,i);d=d.p}d=d.o,c=d.z,h=!h}while(!d.v);i.lineEnd()}}}function Xj(e){if(t=e.length){for(var t,n=0,r=e[0],i;++n<t;)r.n=i=e[n],i.p=r,r=i;r.n=i=e[0],i.p=r}}function _A(e){return He(e[0])<=Le?e[0]:_o(e[0])*((He(e[0])+Le)%Kr-Le)}function BOe(e,t){var n=_A(t),r=t[1],i=be(r),o=[be(n),-Se(n),0],s=0,a=0,l=new Yr;i===1?r=en+xe:i===-1&&(r=-en-xe);for(var u=0,c=e.length;u<c;++u)if(d=(f=e[u]).length)for(var f,d,h=f[d-1],p=_A(h),g=h[1]/2+yS,m=be(g),y=Se(g),v=0;v<d;++v,p=x,m=k,y=S,h=b){var b=f[v],x=_A(b),w=b[1]/2+yS,k=be(w),S=Se(w),C=x-p,_=C>=0?1:-1,$=_*C,A=$>Le,O=m*k;if(l.add(Io(O*_*be($),y*S+O*Se($))),s+=A?C+_*Kr:C,A^p>=n^x>=n){var M=vg(pd(h),pd(b));kS(M);var P=vg(o,M);kS(P);var R=(A^C>=0?-1:1)*Si(P[2]);(r>R||r===R&&(M[0]||M[1]))&&(a+=A^C>=0?1:-1)}}return(s<-xe||s<xe&&l<-mS)^a&1}function ure(e,t,n,r){return function(i){var o=t(i),s=are(),a=t(s),l=!1,u,c,f,d={point:h,lineStart:g,lineEnd:m,polygonStart:function(){d.point=y,d.lineStart=v,d.lineEnd=b,c=[],u=[]},polygonEnd:function(){d.point=h,d.lineStart=g,d.lineEnd=m,c=GQ(c);var x=BOe(u,r);c.length?(l||(i.polygonStart(),l=!0),lre(c,VOe,x,n,i)):x&&(l||(i.polygonStart(),l=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),l&&(i.polygonEnd(),l=!1),c=u=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function h(x,w){e(x,w)&&i.point(x,w)}function p(x,w){o.point(x,w)}function g(){d.point=p,o.lineStart()}function m(){d.point=h,o.lineEnd()}function y(x,w){f.push([x,w]),a.point(x,w)}function v(){a.lineStart(),f=[]}function b(){y(f[0][0],f[0][1]),a.lineEnd();var x=a.clean(),w=s.result(),k,S=w.length,C,_,$;if(f.pop(),u.push(f),f=null,!!S){if(x&1){if(_=w[0],(C=_.length-1)>0){for(l||(i.polygonStart(),l=!0),i.lineStart(),k=0;k<C;++k)i.point(($=_[k])[0],$[1]);i.lineEnd()}return}S>1&&x&2&&w.push(w.pop().concat(w.shift())),c.push(w.filter(UOe))}}return d}}function UOe(e){return e.length>1}function VOe(e,t){return((e=e.x)[0]<0?e[1]-en-xe:en-e[1])-((t=t.x)[0]<0?t[1]-en-xe:en-t[1])}const Kj=ure(function(){return!0},WOe,qOe,[-Le,-en]);function WOe(e){var t=NaN,n=NaN,r=NaN,i;return{lineStart:function(){e.lineStart(),i=1},point:function(o,s){var a=o>0?Le:-Le,l=He(o-t);He(l-Le)<xe?(e.point(t,n=(n+s)/2>0?en:-en),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(a,n),e.point(o,n),i=0):r!==a&&l>=Le&&(He(t-r)<xe&&(t-=r*xe),He(o-a)<xe&&(o-=a*xe),n=HOe(t,n,o,s),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(a,n),i=0),e.point(t=o,n=s),r=a},lineEnd:function(){e.lineEnd(),t=n=NaN},clean:function(){return 2-i}}}function HOe(e,t,n,r){var i,o,s=be(e-n);return He(s)>xe?am((be(t)*(o=Se(r))*be(n)-be(r)*(i=Se(t))*be(e))/(i*o*s)):(t+r)/2}function qOe(e,t,n,r){var i;if(e==null)i=n*en,r.point(-Le,i),r.point(0,i),r.point(Le,i),r.point(Le,0),r.point(Le,-i),r.point(0,-i),r.point(-Le,-i),r.point(-Le,0),r.point(-Le,i);else if(He(e[0]-t[0])>xe){var o=e[0]<t[0]?Le:-Le;i=n*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(t[0],t[1])}function GOe(e){var t=Se(e),n=2*Ie,r=t>0,i=He(t)>xe;function o(c,f,d,h){jOe(h,e,n,d,c,f)}function s(c,f){return Se(c)*Se(f)>t}function a(c){var f,d,h,p,g;return{lineStart:function(){p=h=!1,g=1},point:function(m,y){var v=[m,y],b,x=s(m,y),w=r?x?0:u(m,y):x?u(m+(m<0?Le:-Le),y):0;if(!f&&(p=h=x)&&c.lineStart(),x!==h&&(b=l(f,v),(!b||$2(f,b)||$2(v,b))&&(v[2]=1)),x!==h)g=0,x?(c.lineStart(),b=l(v,f),c.point(b[0],b[1])):(b=l(f,v),c.point(b[0],b[1],2),c.lineEnd()),f=b;else if(i&&f&&r^x){var k;!(w&d)&&(k=l(v,f,!0))&&(g=0,r?(c.lineStart(),c.point(k[0][0],k[0][1]),c.point(k[1][0],k[1][1]),c.lineEnd()):(c.point(k[1][0],k[1][1]),c.lineEnd(),c.lineStart(),c.point(k[0][0],k[0][1],3)))}x&&(!f||!$2(f,v))&&c.point(v[0],v[1]),f=v,h=x,d=w},lineEnd:function(){h&&c.lineEnd(),f=null},clean:function(){return g|(p&&h)<<1}}}function l(c,f,d){var h=pd(c),p=pd(f),g=[1,0,0],m=vg(h,p),y=ux(m,m),v=m[0],b=y-v*v;if(!b)return!d&&c;var x=t*y/b,w=-t*v/b,k=vg(g,m),S=cx(g,x),C=cx(m,w);CA(S,C);var _=k,$=ux(S,_),A=ux(_,_),O=$*$-A*(ux(S,S)-1);if(!(O<0)){var M=Qr(O),P=cx(_,(-$-M)/A);if(CA(P,S),P=SS(P),!d)return P;var R=c[0],D=f[0],I=c[1],N=f[1],B;D<R&&(B=R,R=D,D=B);var Y=D-R,W=He(Y-Le)<xe,oe=W||Y<xe;if(!W&&N<I&&(B=I,I=N,N=B),oe?W?I+N>0^P[1]<(He(P[0]-R)<xe?I:N):I<=P[1]&&P[1]<=N:Y>Le^(R<=P[0]&&P[0]<=D)){var re=cx(_,(-$+M)/A);return CA(re,S),[P,SS(re)]}}}function u(c,f){var d=r?e:Le-e,h=0;return c<-d?h|=1:c>d&&(h|=2),f<-d?h|=4:f>d&&(h|=8),h}return ure(s,a,o,r?[0,-e]:[-Le,e-Le])}function YOe(e,t,n,r,i,o){var s=e[0],a=e[1],l=t[0],u=t[1],c=0,f=1,d=l-s,h=u-a,p;if(p=n-s,!(!d&&p>0)){if(p/=d,d<0){if(p<c)return;p<f&&(f=p)}else if(d>0){if(p>f)return;p>c&&(c=p)}if(p=i-s,!(!d&&p<0)){if(p/=d,d<0){if(p>f)return;p>c&&(c=p)}else if(d>0){if(p<c)return;p<f&&(f=p)}if(p=r-a,!(!h&&p>0)){if(p/=h,h<0){if(p<c)return;p<f&&(f=p)}else if(h>0){if(p>f)return;p>c&&(c=p)}if(p=o-a,!(!h&&p<0)){if(p/=h,h<0){if(p>f)return;p>c&&(c=p)}else if(h>0){if(p<c)return;p<f&&(f=p)}return c>0&&(e[0]=s+c*d,e[1]=a+c*h),f<1&&(t[0]=s+f*d,t[1]=a+f*h),!0}}}}}var O0=1e9,dx=-O0;function cre(e,t,n,r){function i(u,c){return e<=u&&u<=n&&t<=c&&c<=r}function o(u,c,f,d){var h=0,p=0;if(u==null||(h=s(u,f))!==(p=s(c,f))||l(u,c)<0^f>0)do d.point(h===0||h===3?e:n,h>1?r:t);while((h=(h+f+4)%4)!==p);else d.point(c[0],c[1])}function s(u,c){return He(u[0]-e)<xe?c>0?0:3:He(u[0]-n)<xe?c>0?2:1:He(u[1]-t)<xe?c>0?1:0:c>0?3:2}function a(u,c){return l(u.x,c.x)}function l(u,c){var f=s(u,1),d=s(c,1);return f!==d?f-d:f===0?c[1]-u[1]:f===1?u[0]-c[0]:f===2?u[1]-c[1]:c[0]-u[0]}return function(u){var c=u,f=are(),d,h,p,g,m,y,v,b,x,w,k,S={point:C,lineStart:O,lineEnd:M,polygonStart:$,polygonEnd:A};function C(R,D){i(R,D)&&c.point(R,D)}function _(){for(var R=0,D=0,I=h.length;D<I;++D)for(var N=h[D],B=1,Y=N.length,W=N[0],oe,re,we=W[0],De=W[1];B<Y;++B)oe=we,re=De,W=N[B],we=W[0],De=W[1],re<=r?De>r&&(we-oe)*(r-re)>(De-re)*(e-oe)&&++R:De<=r&&(we-oe)*(r-re)<(De-re)*(e-oe)&&--R;return R}function $(){c=f,d=[],h=[],k=!0}function A(){var R=_(),D=k&&R,I=(d=GQ(d)).length;(D||I)&&(u.polygonStart(),D&&(u.lineStart(),o(null,null,1,u),u.lineEnd()),I&&lre(d,a,R,o,u),u.polygonEnd()),c=u,d=h=p=null}function O(){S.point=P,h&&h.push(p=[]),w=!0,x=!1,v=b=NaN}function M(){d&&(P(g,m),y&&x&&f.rejoin(),d.push(f.result())),S.point=C,x&&c.lineEnd()}function P(R,D){var I=i(R,D);if(h&&p.push([R,D]),w)g=R,m=D,y=I,w=!1,I&&(c.lineStart(),c.point(R,D));else if(I&&x)c.point(R,D);else{var N=[v=Math.max(dx,Math.min(O0,v)),b=Math.max(dx,Math.min(O0,b))],B=[R=Math.max(dx,Math.min(O0,R)),D=Math.max(dx,Math.min(O0,D))];YOe(N,B,e,t,n,r)?(x||(c.lineStart(),c.point(N[0],N[1])),c.point(B[0],B[1]),I||c.lineEnd(),k=!1):I&&(c.lineStart(),c.point(R,D),k=!1)}v=R,b=D,x=I}return S}}function Qj(e,t,n){var r=zi(e,t-xe,n).concat(t);return function(i){return r.map(function(o){return[i,o]})}}function Zj(e,t,n){var r=zi(e,t-xe,n).concat(t);return function(i){return r.map(function(o){return[o,i]})}}function XOe(){var e,t,n,r,i,o,s,a,l=10,u=l,c=90,f=360,d,h,p,g,m=2.5;function y(){return{type:"MultiLineString",coordinates:v()}}function v(){return zi(lx(r/c)*c,n,c).map(p).concat(zi(lx(a/f)*f,s,f).map(g)).concat(zi(lx(t/l)*l,e,l).filter(function(b){return He(b%c)>xe}).map(d)).concat(zi(lx(o/u)*u,i,u).filter(function(b){return He(b%f)>xe}).map(h))}return y.lines=function(){return v().map(function(b){return{type:"LineString",coordinates:b}})},y.outline=function(){return{type:"Polygon",coordinates:[p(r).concat(g(s).slice(1),p(n).reverse().slice(1),g(a).reverse().slice(1))]}},y.extent=function(b){return arguments.length?y.extentMajor(b).extentMinor(b):y.extentMinor()},y.extentMajor=function(b){return arguments.length?(r=+b[0][0],n=+b[1][0],a=+b[0][1],s=+b[1][1],r>n&&(b=r,r=n,n=b),a>s&&(b=a,a=s,s=b),y.precision(m)):[[r,a],[n,s]]},y.extentMinor=function(b){return arguments.length?(t=+b[0][0],e=+b[1][0],o=+b[0][1],i=+b[1][1],t>e&&(b=t,t=e,e=b),o>i&&(b=o,o=i,i=b),y.precision(m)):[[t,o],[e,i]]},y.step=function(b){return arguments.length?y.stepMajor(b).stepMinor(b):y.stepMinor()},y.stepMajor=function(b){return arguments.length?(c=+b[0],f=+b[1],y):[c,f]},y.stepMinor=function(b){return arguments.length?(l=+b[0],u=+b[1],y):[l,u]},y.precision=function(b){return arguments.length?(m=+b,d=Qj(o,i,90),h=Zj(t,e,m),p=Qj(a,s,90),g=Zj(r,n,m),y):m},y.extentMajor([[-180,-90+xe],[180,90-xe]]).extentMinor([[-180,-80-xe],[180,80+xe]])}const b1=e=>e;var EA=new Yr,s4=new Yr,fre,dre,a4,l4,il={point:Qn,lineStart:Qn,lineEnd:Qn,polygonStart:function(){il.lineStart=KOe,il.lineEnd=ZOe},polygonEnd:function(){il.lineStart=il.lineEnd=il.point=Qn,EA.add(He(s4)),s4=new Yr},result:function(){var e=EA/2;return EA=new Yr,e}};function KOe(){il.point=QOe}function QOe(e,t){il.point=hre,fre=a4=e,dre=l4=t}function hre(e,t){s4.add(l4*e-a4*t),a4=e,l4=t}function ZOe(){hre(fre,dre)}var bg=1/0,FS=bg,x1=-bg,PS=x1,RS={point:JOe,lineStart:Qn,lineEnd:Qn,polygonStart:Qn,polygonEnd:Qn,result:function(){var e=[[bg,FS],[x1,PS]];return x1=PS=-(FS=bg=1/0),e}};function JOe(e,t){e<bg&&(bg=e),e>x1&&(x1=e),t<FS&&(FS=t),t>PS&&(PS=t)}var u4=0,c4=0,N0=0,DS=0,OS=0,np=0,f4=0,d4=0,I0=0,pre,gre,oa,sa,xo={point:gd,lineStart:Jj,lineEnd:eB,polygonStart:function(){xo.lineStart=n8e,xo.lineEnd=r8e},polygonEnd:function(){xo.point=gd,xo.lineStart=Jj,xo.lineEnd=eB},result:function(){var e=I0?[f4/I0,d4/I0]:np?[DS/np,OS/np]:N0?[u4/N0,c4/N0]:[NaN,NaN];return u4=c4=N0=DS=OS=np=f4=d4=I0=0,e}};function gd(e,t){u4+=e,c4+=t,++N0}function Jj(){xo.point=e8e}function e8e(e,t){xo.point=t8e,gd(oa=e,sa=t)}function t8e(e,t){var n=e-oa,r=t-sa,i=Qr(n*n+r*r);DS+=i*(oa+e)/2,OS+=i*(sa+t)/2,np+=i,gd(oa=e,sa=t)}function eB(){xo.point=gd}function n8e(){xo.point=i8e}function r8e(){mre(pre,gre)}function i8e(e,t){xo.point=mre,gd(pre=oa=e,gre=sa=t)}function mre(e,t){var n=e-oa,r=t-sa,i=Qr(n*n+r*r);DS+=i*(oa+e)/2,OS+=i*(sa+t)/2,np+=i,i=sa*e-oa*t,f4+=i*(oa+e),d4+=i*(sa+t),I0+=i*3,gd(oa=e,sa=t)}function yre(e){this._context=e}yre.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:{this._context.moveTo(e,t),this._point=1;break}case 1:{this._context.lineTo(e,t);break}default:{this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,Kr);break}}},result:Qn};var h4=new Yr,$A,vre,bre,L0,z0,w1={point:Qn,lineStart:function(){w1.point=o8e},lineEnd:function(){$A&&xre(vre,bre),w1.point=Qn},polygonStart:function(){$A=!0},polygonEnd:function(){$A=null},result:function(){var e=+h4;return h4=new Yr,e}};function o8e(e,t){w1.point=xre,vre=L0=e,bre=z0=t}function xre(e,t){L0-=e,z0-=t,h4.add(Qr(L0*L0+z0*z0)),L0=e,z0=t}let tB,NS,nB,rB;class iB{constructor(t){this._append=t==null?wre:s8e(t),this._radius=4.5,this._=""}pointRadius(t){return this._radius=+t,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(t,n){switch(this._point){case 0:{this._append`M${t},${n}`,this._point=1;break}case 1:{this._append`L${t},${n}`;break}default:{if(this._append`M${t},${n}`,this._radius!==nB||this._append!==NS){const r=this._radius,i=this._;this._="",this._append`m0,${r}a${r},${r} 0 1,1 0,${-2*r}a${r},${r} 0 1,1 0,${2*r}z`,nB=r,NS=this._append,rB=this._,this._=i}this._+=rB;break}}}result(){const t=this._;return this._="",t.length?t:null}}function wre(e){let t=1;this._+=e[0];for(const n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function s8e(e){const t=Math.floor(e);if(!(t>=0))throw new RangeError(`invalid digits: ${e}`);if(t>15)return wre;if(t!==tB){const n=10**t;tB=t,NS=function(i){let o=1;this._+=i[0];for(const s=i.length;o<s;++o)this._+=Math.round(arguments[o]*n)/n+i[o]}}return NS}function Sre(e,t){let n=3,r=4.5,i,o;function s(a){return a&&(typeof r=="function"&&o.pointRadius(+r.apply(this,arguments)),rl(a,i(o))),o.result()}return s.area=function(a){return rl(a,i(il)),il.result()},s.measure=function(a){return rl(a,i(w1)),w1.result()},s.bounds=function(a){return rl(a,i(RS)),RS.result()},s.centroid=function(a){return rl(a,i(xo)),xo.result()},s.projection=function(a){return arguments.length?(i=a==null?(e=null,b1):(e=a).stream,s):e},s.context=function(a){return arguments.length?(o=a==null?(t=null,new iB(n)):new yre(t=a),typeof r!="function"&&o.pointRadius(r),s):t},s.pointRadius=function(a){return arguments.length?(r=typeof a=="function"?a:(o.pointRadius(+a),+a),s):r},s.digits=function(a){if(!arguments.length)return n;if(a==null)n=null;else{const l=Math.floor(a);if(!(l>=0))throw new RangeError(`invalid digits: ${a}`);n=l}return t===null&&(o=new iB(n)),s},s.projection(e).digits(n).context(t)}function u_(e){return function(t){var n=new p4;for(var r in e)n[r]=e[r];return n.stream=t,n}}function p4(){}p4.prototype={constructor:p4,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function FD(e,t,n){var r=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),r!=null&&e.clipExtent(null),rl(n,e.stream(RS)),t(RS.result()),r!=null&&e.clipExtent(r),e}function c_(e,t,n){return FD(e,function(r){var i=t[1][0]-t[0][0],o=t[1][1]-t[0][1],s=Math.min(i/(r[1][0]-r[0][0]),o/(r[1][1]-r[0][1])),a=+t[0][0]+(i-s*(r[1][0]+r[0][0]))/2,l=+t[0][1]+(o-s*(r[1][1]+r[0][1]))/2;e.scale(150*s).translate([a,l])},n)}function PD(e,t,n){return c_(e,[[0,0],t],n)}function RD(e,t,n){return FD(e,function(r){var i=+t,o=i/(r[1][0]-r[0][0]),s=(i-o*(r[1][0]+r[0][0]))/2,a=-o*r[0][1];e.scale(150*o).translate([s,a])},n)}function DD(e,t,n){return FD(e,function(r){var i=+t,o=i/(r[1][1]-r[0][1]),s=-o*r[0][0],a=(i-o*(r[1][1]+r[0][1]))/2;e.scale(150*o).translate([s,a])},n)}var oB=16,a8e=Se(30*Ie);function sB(e,t){return+t?u8e(e,t):l8e(e)}function l8e(e){return u_({point:function(t,n){t=e(t,n),this.stream.point(t[0],t[1])}})}function u8e(e,t){function n(r,i,o,s,a,l,u,c,f,d,h,p,g,m){var y=u-r,v=c-i,b=y*y+v*v;if(b>4*t&&g--){var x=s+d,w=a+h,k=l+p,S=Qr(x*x+w*w+k*k),C=Si(k/=S),_=He(He(k)-1)<xe||He(o-f)<xe?(o+f)/2:Io(w,x),$=e(_,C),A=$[0],O=$[1],M=A-r,P=O-i,R=v*M-y*P;(R*R/b>t||He((y*M+v*P)/b-.5)>.3||s*d+a*h+l*p<a8e)&&(n(r,i,o,s,a,l,A,O,_,x/=S,w/=S,k,g,m),m.point(A,O),n(A,O,_,x,w,k,u,c,f,d,h,p,g,m))}}return function(r){var i,o,s,a,l,u,c,f,d,h,p,g,m={point:y,lineStart:v,lineEnd:x,polygonStart:function(){r.polygonStart(),m.lineStart=w},polygonEnd:function(){r.polygonEnd(),m.lineStart=v}};function y(C,_){C=e(C,_),r.point(C[0],C[1])}function v(){f=NaN,m.point=b,r.lineStart()}function b(C,_){var $=pd([C,_]),A=e(C,_);n(f,d,c,h,p,g,f=A[0],d=A[1],c=C,h=$[0],p=$[1],g=$[2],oB,r),r.point(f,d)}function x(){m.point=y,r.lineEnd()}function w(){v(),m.point=k,m.lineEnd=S}function k(C,_){b(i=C,_),o=f,s=d,a=h,l=p,u=g,m.point=b}function S(){n(f,d,c,h,p,g,o,s,i,a,l,u,oB,r),m.lineEnd=x,x()}return m}}var c8e=u_({point:function(e,t){this.stream.point(e*Ie,t*Ie)}});function f8e(e){return u_({point:function(t,n){var r=e(t,n);return this.stream.point(r[0],r[1])}})}function d8e(e,t,n,r,i){function o(s,a){return s*=r,a*=i,[t+e*s,n-e*a]}return o.invert=function(s,a){return[(s-t)/e*r,(n-a)/e*i]},o}function aB(e,t,n,r,i,o){if(!o)return d8e(e,t,n,r,i);var s=Se(o),a=be(o),l=s*e,u=a*e,c=s/e,f=a/e,d=(a*n-s*t)/e,h=(a*t+s*n)/e;function p(g,m){return g*=r,m*=i,[l*g-u*m+t,n-u*g-l*m]}return p.invert=function(g,m){return[r*(c*g-f*m+d),i*(h-f*g-c*m)]},p}function Ra(e){return kre(function(){return e})()}function kre(e){var t,n=150,r=480,i=250,o=0,s=0,a=0,l=0,u=0,c,f=0,d=1,h=1,p=null,g=Kj,m=null,y,v,b,x=b1,w=.5,k,S,C,_,$;function A(R){return C(R[0]*Ie,R[1]*Ie)}function O(R){return R=C.invert(R[0],R[1]),R&&[R[0]*rn,R[1]*rn]}A.stream=function(R){return _&&$===R?_:_=c8e(f8e(c)(g(k(x($=R)))))},A.preclip=function(R){return arguments.length?(g=R,p=void 0,P()):g},A.postclip=function(R){return arguments.length?(x=R,m=y=v=b=null,P()):x},A.clipAngle=function(R){return arguments.length?(g=+R?GOe(p=R*Ie):(p=null,Kj),P()):p*rn},A.clipExtent=function(R){return arguments.length?(x=R==null?(m=y=v=b=null,b1):cre(m=+R[0][0],y=+R[0][1],v=+R[1][0],b=+R[1][1]),P()):m==null?null:[[m,y],[v,b]]},A.scale=function(R){return arguments.length?(n=+R,M()):n},A.translate=function(R){return arguments.length?(r=+R[0],i=+R[1],M()):[r,i]},A.center=function(R){return arguments.length?(o=R[0]%360*Ie,s=R[1]%360*Ie,M()):[o*rn,s*rn]},A.rotate=function(R){return arguments.length?(a=R[0]%360*Ie,l=R[1]%360*Ie,u=R.length>2?R[2]%360*Ie:0,M()):[a*rn,l*rn,u*rn]},A.angle=function(R){return arguments.length?(f=R%360*Ie,M()):f*rn},A.reflectX=function(R){return arguments.length?(d=R?-1:1,M()):d<0},A.reflectY=function(R){return arguments.length?(h=R?-1:1,M()):h<0},A.precision=function(R){return arguments.length?(k=sB(S,w=R*R),P()):Qr(w)},A.fitExtent=function(R,D){return c_(A,R,D)},A.fitSize=function(R,D){return PD(A,R,D)},A.fitWidth=function(R,D){return RD(A,R,D)},A.fitHeight=function(R,D){return DD(A,R,D)};function M(){var R=aB(n,0,0,d,h,f).apply(null,t(o,s)),D=aB(n,r-R[0],i-R[1],d,h,f);return c=sre(a,l,u),S=i4(t,D),C=i4(c,S),k=sB(S,w),P()}function P(){return _=$=null,A}return function(){return t=e.apply(this,arguments),A.invert=t.invert&&O,M()}}function OD(e){var t=0,n=Le/3,r=kre(e),i=r(t,n);return i.parallels=function(o){return arguments.length?r(t=o[0]*Ie,n=o[1]*Ie):[t*rn,n*rn]},i}function h8e(e){var t=Se(e);function n(r,i){return[r*t,be(i)/t]}return n.invert=function(r,i){return[r/t,Si(i*t)]},n}function p8e(e,t){var n=be(e),r=(n+be(t))/2;if(He(r)<xe)return h8e(e);var i=1+n*(2*r-n),o=Qr(i)/r;function s(a,l){var u=Qr(i-2*r*be(l))/r;return[u*be(a*=r),o-u*Se(a)]}return s.invert=function(a,l){var u=o-l,c=Io(a,He(u))*_o(u);return u*r<0&&(c-=Le*_o(a)*_o(u)),[c/r,Si((i-(a*a+u*u)*r*r)/(2*r))]},s}function IS(){return OD(p8e).scale(155.424).center([0,33.6442])}function Cre(){return IS().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function g8e(e){var t=e.length;return{point:function(n,r){for(var i=-1;++i<t;)e[i].point(n,r)},sphere:function(){for(var n=-1;++n<t;)e[n].sphere()},lineStart:function(){for(var n=-1;++n<t;)e[n].lineStart()},lineEnd:function(){for(var n=-1;++n<t;)e[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<t;)e[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<t;)e[n].polygonEnd()}}}function m8e(){var e,t,n=Cre(),r,i=IS().rotate([154,0]).center([-2,58.5]).parallels([55,65]),o,s=IS().rotate([157,0]).center([-3,19.9]).parallels([8,18]),a,l,u={point:function(d,h){l=[d,h]}};function c(d){var h=d[0],p=d[1];return l=null,r.point(h,p),l||(o.point(h,p),l)||(a.point(h,p),l)}c.invert=function(d){var h=n.scale(),p=n.translate(),g=(d[0]-p[0])/h,m=(d[1]-p[1])/h;return(m>=.12&&m<.234&&g>=-.425&&g<-.214?i:m>=.166&&m<.234&&g>=-.214&&g<-.115?s:n).invert(d)},c.stream=function(d){return e&&t===d?e:e=g8e([n.stream(t=d),i.stream(d),s.stream(d)])},c.precision=function(d){return arguments.length?(n.precision(d),i.precision(d),s.precision(d),f()):n.precision()},c.scale=function(d){return arguments.length?(n.scale(d),i.scale(d*.35),s.scale(d),c.translate(n.translate())):n.scale()},c.translate=function(d){if(!arguments.length)return n.translate();var h=n.scale(),p=+d[0],g=+d[1];return r=n.translate(d).clipExtent([[p-.455*h,g-.238*h],[p+.455*h,g+.238*h]]).stream(u),o=i.translate([p-.307*h,g+.201*h]).clipExtent([[p-.425*h+xe,g+.12*h+xe],[p-.214*h-xe,g+.234*h-xe]]).stream(u),a=s.translate([p-.205*h,g+.212*h]).clipExtent([[p-.214*h+xe,g+.166*h+xe],[p-.115*h-xe,g+.234*h-xe]]).stream(u),f()},c.fitExtent=function(d,h){return c_(c,d,h)},c.fitSize=function(d,h){return PD(c,d,h)},c.fitWidth=function(d,h){return RD(c,d,h)},c.fitHeight=function(d,h){return DD(c,d,h)};function f(){return e=t=null,c}return c.scale(1070)}function _re(e){return function(t,n){var r=Se(t),i=Se(n),o=e(r*i);return o===1/0?[2,0]:[o*i*be(t),o*be(n)]}}function Ov(e){return function(t,n){var r=Qr(t*t+n*n),i=e(r),o=be(i),s=Se(i);return[Io(t*o,r*s),Si(r&&n*o/r)]}}var Ere=_re(function(e){return Qr(2/(1+e))});Ere.invert=Ov(function(e){return 2*Si(e/2)});function y8e(){return Ra(Ere).scale(124.75).clipAngle(180-.001)}var $re=_re(function(e){return(e=Xne(e))&&e/be(e)});$re.invert=Ov(function(e){return e});function v8e(){return Ra($re).scale(79.4188).clipAngle(180-.001)}function f_(e,t){return[e,vS(TD((en+t)/2))]}f_.invert=function(e,t){return[e,2*am(Yne(t))-en]};function b8e(){return Are(f_).scale(961/Kr)}function Are(e){var t=Ra(e),n=t.center,r=t.scale,i=t.translate,o=t.clipExtent,s=null,a,l,u;t.scale=function(f){return arguments.length?(r(f),c()):r()},t.translate=function(f){return arguments.length?(i(f),c()):i()},t.center=function(f){return arguments.length?(n(f),c()):n()},t.clipExtent=function(f){return arguments.length?(f==null?s=a=l=u=null:(s=+f[0][0],a=+f[0][1],l=+f[1][0],u=+f[1][1]),c()):s==null?null:[[s,a],[l,u]]};function c(){var f=Le*r(),d=t(zOe(t.rotate()).invert([0,0]));return o(s==null?[[d[0]-f,d[1]-f],[d[0]+f,d[1]+f]]:e===f_?[[Math.max(d[0]-f,s),a],[Math.min(d[0]+f,l),u]]:[[s,Math.max(d[1]-f,a)],[l,Math.min(d[1]+f,u)]])}return c()}function hx(e){return TD((en+e)/2)}function x8e(e,t){var n=Se(e),r=e===t?be(e):vS(n/Se(t))/vS(hx(t)/hx(e)),i=n*kA(hx(e),r)/r;if(!r)return f_;function o(s,a){i>0?a<-en+xe&&(a=-en+xe):a>en-xe&&(a=en-xe);var l=i/kA(hx(a),r);return[l*be(r*s),i-l*Se(r*s)]}return o.invert=function(s,a){var l=i-a,u=_o(r)*Qr(s*s+l*l),c=Io(s,He(l))*_o(l);return l*r<0&&(c-=Le*_o(s)*_o(l)),[c/r,2*am(kA(i/u,1/r))-en]},o}function w8e(){return OD(x8e).scale(109.5).parallels([30,30])}function LS(e,t){return[e,t]}LS.invert=LS;function S8e(){return Ra(LS).scale(152.63)}function k8e(e,t){var n=Se(e),r=e===t?be(e):(n-Se(t))/(t-e),i=n/r+e;if(He(r)<xe)return LS;function o(s,a){var l=i-a,u=r*s;return[l*be(u),i-l*Se(u)]}return o.invert=function(s,a){var l=i-a,u=Io(s,He(l))*_o(l);return l*r<0&&(u-=Le*_o(s)*_o(l)),[u/r,i-_o(r)*Qr(s*s+l*l)]},o}function C8e(){return OD(k8e).scale(131.154).center([0,13.9389])}var Sy=1.340264,ky=-.081106,Cy=893e-6,_y=.003796,zS=Qr(3)/2,_8e=12;function Tre(e,t){var n=Si(zS*be(t)),r=n*n,i=r*r*r;return[e*Se(n)/(zS*(Sy+3*ky*r+i*(7*Cy+9*_y*r))),n*(Sy+ky*r+i*(Cy+_y*r))]}Tre.invert=function(e,t){for(var n=t,r=n*n,i=r*r*r,o=0,s,a,l;o<_8e&&(a=n*(Sy+ky*r+i*(Cy+_y*r))-t,l=Sy+3*ky*r+i*(7*Cy+9*_y*r),n-=s=a/l,r=n*n,i=r*r*r,!(He(s)<mS));++o);return[zS*e*(Sy+3*ky*r+i*(7*Cy+9*_y*r))/Se(n),Si(be(n)/zS)]};function E8e(){return Ra(Tre).scale(177.158)}function Mre(e,t){var n=Se(t),r=Se(e)*n;return[n*be(e)/r,be(t)/r]}Mre.invert=Ov(am);function $8e(){return Ra(Mre).scale(144.049).clipAngle(60)}function A8e(){var e=1,t=0,n=0,r=1,i=1,o=0,s,a,l=null,u,c,f,d=1,h=1,p=u_({point:function(x,w){var k=b([x,w]);this.stream.point(k[0],k[1])}}),g=b1,m,y;function v(){return d=e*r,h=e*i,m=y=null,b}function b(x){var w=x[0]*d,k=x[1]*h;if(o){var S=k*s-w*a;w=w*s+k*a,k=S}return[w+t,k+n]}return b.invert=function(x){var w=x[0]-t,k=x[1]-n;if(o){var S=k*s+w*a;w=w*s-k*a,k=S}return[w/d,k/h]},b.stream=function(x){return m&&y===x?m:m=p(g(y=x))},b.postclip=function(x){return arguments.length?(g=x,l=u=c=f=null,v()):g},b.clipExtent=function(x){return arguments.length?(g=x==null?(l=u=c=f=null,b1):cre(l=+x[0][0],u=+x[0][1],c=+x[1][0],f=+x[1][1]),v()):l==null?null:[[l,u],[c,f]]},b.scale=function(x){return arguments.length?(e=+x,v()):e},b.translate=function(x){return arguments.length?(t=+x[0],n=+x[1],v()):[t,n]},b.angle=function(x){return arguments.length?(o=x%360*Ie,a=be(o),s=Se(o),v()):o*rn},b.reflectX=function(x){return arguments.length?(r=x?-1:1,v()):r<0},b.reflectY=function(x){return arguments.length?(i=x?-1:1,v()):i<0},b.fitExtent=function(x,w){return c_(b,x,w)},b.fitSize=function(x,w){return PD(b,x,w)},b.fitWidth=function(x,w){return RD(b,x,w)},b.fitHeight=function(x,w){return DD(b,x,w)},b}function Fre(e,t){var n=t*t,r=n*n;return[e*(.8707-.131979*n+r*(-.013791+r*(.003971*n-.001529*r))),t*(1.007226+n*(.015085+r*(-.044475+.028874*n-.005916*r)))]}Fre.invert=function(e,t){var n=t,r=25,i;do{var o=n*n,s=o*o;n-=i=(n*(1.007226+o*(.015085+s*(-.044475+.028874*o-.005916*s)))-t)/(1.007226+o*(.015085*3+s*(-.044475*7+.028874*9*o-.005916*11*s)))}while(He(i)>xe&&--r>0);return[e/(.8707+(o=n*n)*(-.131979+o*(-.013791+o*o*o*(.003971-.001529*o)))),n]};function T8e(){return Ra(Fre).scale(175.295)}function Pre(e,t){return[Se(t)*be(e),be(t)]}Pre.invert=Ov(Si);function M8e(){return Ra(Pre).scale(249.5).clipAngle(90+xe)}function Rre(e,t){var n=Se(t),r=1+Se(e)*n;return[n*be(e)/r,be(t)/r]}Rre.invert=Ov(function(e){return 2*am(e)});function F8e(){return Ra(Rre).scale(250).clipAngle(142)}function Dre(e,t){return[vS(TD((en+t)/2)),-e]}Dre.invert=function(e,t){return[-t,2*am(Yne(e))-en]};function P8e(){var e=Are(Dre),t=e.center,n=e.rotate;return e.center=function(r){return arguments.length?t([-r[1],r[0]]):(r=t(),[r[1],-r[0]])},e.rotate=function(r){return arguments.length?n([r[0],r[1],r.length>2?r[2]+90:90]):(r=n(),[r[0],r[1],r[2]-90])},n([0,0,90]).scale(159.155)}var R8e=Math.abs,g4=Math.cos,jS=Math.sin,D8e=1e-6,Ore=Math.PI,m4=Ore/2,lB=O8e(2);function uB(e){return e>1?m4:e<-1?-m4:Math.asin(e)}function O8e(e){return e>0?Math.sqrt(e):0}function N8e(e,t){var n=e*jS(t),r=30,i;do t-=i=(t+jS(t)-n)/(1+g4(t));while(R8e(i)>D8e&&--r>0);return t/2}function I8e(e,t,n){function r(i,o){return[e*i*g4(o=N8e(n,o)),t*jS(o)]}return r.invert=function(i,o){return o=uB(o/t),[i/(e*g4(o)),uB((2*o+jS(2*o))/n)]},r}var L8e=I8e(lB/m4,lB,Ore);function z8e(){return Ra(L8e).scale(169.529)}const j8e=Sre(),y4=["clipAngle","clipExtent","scale","translate","center","rotate","parallels","precision","reflectX","reflectY","coefficient","distance","fraction","lobes","parallel","radius","ratio","spacing","tilt"];function B8e(e,t){return function n(){const r=t();return r.type=e,r.path=Sre().projection(r),r.copy=r.copy||function(){const i=n();return y4.forEach(o=>{r[o]&&i[o](r[o]())}),i.path.pointRadius(r.path.pointRadius()),i},Kee(r)}}function ND(e,t){if(!e||typeof e!="string")throw new Error("Projection type must be a name string.");return e=e.toLowerCase(),arguments.length>1?(BS[e]=B8e(e,t),this):BS[e]||null}function Nre(e){return e&&e.path||j8e}const BS={albers:Cre,albersusa:m8e,azimuthalequalarea:y8e,azimuthalequidistant:v8e,conicconformal:w8e,conicequalarea:IS,conicequidistant:C8e,equalEarth:E8e,equirectangular:S8e,gnomonic:$8e,identity:A8e,mercator:b8e,mollweide:z8e,naturalEarth1:T8e,orthographic:M8e,stereographic:F8e,transversemercator:P8e};for(const e in BS)ND(e,BS[e]);function U8e(){}const qa=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function Ire(){var e=1,t=1,n=a;function r(l,u){return u.map(c=>i(l,c))}function i(l,u){var c=[],f=[];return o(l,u,d=>{n(d,l,u),V8e(d)>0?c.push([d]):f.push(d)}),f.forEach(d=>{for(var h=0,p=c.length,g;h<p;++h)if(W8e((g=c[h])[0],d)!==-1){g.push(d);return}}),{type:"MultiPolygon",value:u,coordinates:c}}function o(l,u,c){var f=[],d=[],h,p,g,m,y,v;for(h=p=-1,m=l[0]>=u,qa[m<<1].forEach(b);++h<e-1;)g=m,m=l[h+1]>=u,qa[g|m<<1].forEach(b);for(qa[m<<0].forEach(b);++p<t-1;){for(h=-1,m=l[p*e+e]>=u,y=l[p*e]>=u,qa[m<<1|y<<2].forEach(b);++h<e-1;)g=m,m=l[p*e+e+h+1]>=u,v=y,y=l[p*e+h+1]>=u,qa[g|m<<1|y<<2|v<<3].forEach(b);qa[m|y<<3].forEach(b)}for(h=-1,y=l[p*e]>=u,qa[y<<2].forEach(b);++h<e-1;)v=y,y=l[p*e+h+1]>=u,qa[y<<2|v<<3].forEach(b);qa[y<<3].forEach(b);function b(x){var w=[x[0][0]+h,x[0][1]+p],k=[x[1][0]+h,x[1][1]+p],S=s(w),C=s(k),_,$;(_=d[S])?($=f[C])?(delete d[_.end],delete f[$.start],_===$?(_.ring.push(k),c(_.ring)):f[_.start]=d[$.end]={start:_.start,end:$.end,ring:_.ring.concat($.ring)}):(delete d[_.end],_.ring.push(k),d[_.end=C]=_):(_=f[C])?($=d[S])?(delete f[_.start],delete d[$.end],_===$?(_.ring.push(k),c(_.ring)):f[$.start]=d[_.end]={start:$.start,end:_.end,ring:$.ring.concat(_.ring)}):(delete f[_.start],_.ring.unshift(w),f[_.start=S]=_):f[S]=d[C]={start:S,end:C,ring:[w,k]}}}function s(l){return l[0]*2+l[1]*(e+1)*4}function a(l,u,c){l.forEach(f=>{var d=f[0],h=f[1],p=d|0,g=h|0,m,y=u[g*e+p];d>0&&d<e&&p===d&&(m=u[g*e+p-1],f[0]=d+(c-m)/(y-m)-.5),h>0&&h<t&&g===h&&(m=u[(g-1)*e+p],f[1]=h+(c-m)/(y-m)-.5)})}return r.contour=i,r.size=function(l){if(!arguments.length)return[e,t];var u=Math.floor(l[0]),c=Math.floor(l[1]);return u>=0&&c>=0||q("invalid size"),e=u,t=c,r},r.smooth=function(l){return arguments.length?(n=l?a:U8e,r):n===a},r}function V8e(e){for(var t=0,n=e.length,r=e[n-1][1]*e[0][0]-e[n-1][0]*e[0][1];++t<n;)r+=e[t-1][1]*e[t][0]-e[t-1][0]*e[t][1];return r}function W8e(e,t){for(var n=-1,r=t.length,i;++n<r;)if(i=H8e(e,t[n]))return i;return 0}function H8e(e,t){for(var n=t[0],r=t[1],i=-1,o=0,s=e.length,a=s-1;o<s;a=o++){var l=e[o],u=l[0],c=l[1],f=e[a],d=f[0],h=f[1];if(q8e(l,f,t))return 0;c>r!=h>r&&n<(d-u)*(r-c)/(h-c)+u&&(i=-i)}return i}function q8e(e,t,n){var r;return G8e(e,t,n)&&Y8e(e[r=+(e[0]===t[0])],n[r],t[r])}function G8e(e,t,n){return(t[0]-e[0])*(n[1]-e[1])===(n[0]-e[0])*(t[1]-e[1])}function Y8e(e,t,n){return e<=t&&t<=n||n<=t&&t<=e}function Lre(e,t,n){return function(r){var i=Sa(r),o=n?Math.min(i[0],0):i[0],s=i[1],a=s-o,l=t?lc(o,s,e):a/(e+1);return zi(o+l,s,l)}}function ID(e){V.call(this,null,e)}ID.Definition={type:"Isocontour",metadata:{generates:!0},params:[{name:"field",type:"field"},{name:"thresholds",type:"number",array:!0},{name:"levels",type:"number"},{name:"nice",type:"boolean",default:!1},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"zero",type:"boolean",default:!0},{name:"smooth",type:"boolean",default:!0},{name:"scale",type:"number",expr:!0},{name:"translate",type:"number",array:!0,expr:!0},{name:"as",type:"string",null:!0,default:"contour"}]};ne(ID,V,{transform(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var n=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=t.materialize(t.SOURCE).source,i=e.field||Ar,o=Ire().smooth(e.smooth!==!1),s=e.thresholds||X8e(r,i,e),a=e.as===null?null:e.as||"contour",l=[];return r.forEach(u=>{const c=i(u),f=o.size([c.width,c.height])(c.values,G(s)?s:s(c.values));K8e(f,c,u,e),f.forEach(d=>{l.push(AC(u,at(a!=null?{[a]:d}:d)))})}),this.value&&(n.rem=this.value),this.value=n.source=n.add=l,n}});function X8e(e,t,n){const r=Lre(n.levels||10,n.nice,n.zero!==!1);return n.resolve!=="shared"?r:r(e.map(i=>Gf(t(i).values)))}function K8e(e,t,n,r){let i=r.scale||t.scale,o=r.translate||t.translate;if(Ne(i)&&(i=i(n,r)),Ne(o)&&(o=o(n,r)),(i===1||i==null)&&!o)return;const s=(Ze(i)?i:i[0])||1,a=(Ze(i)?i:i[1])||1,l=o&&o[0]||0,u=o&&o[1]||0;e.forEach(zre(t,s,a,l,u))}function zre(e,t,n,r,i){const o=e.x1||0,s=e.y1||0,a=t*n<0;function l(f){f.forEach(u)}function u(f){a&&f.reverse(),f.forEach(c)}function c(f){f[0]=(f[0]-o)*t+r,f[1]=(f[1]-s)*n+i}return function(f){return f.coordinates.forEach(l),f}}function cB(e,t,n){const r=e>=0?e:AR(t,n);return Math.round((Math.sqrt(4*r*r+1)-1)/2)}function AA(e){return Ne(e)?e:Tr(+e)}function jre(){var e=l=>l[0],t=l=>l[1],n=Xg,r=[-1,-1],i=960,o=500,s=2;function a(l,u){const c=cB(r[0],l,e)>>s,f=cB(r[1],l,t)>>s,d=c?c+2:0,h=f?f+2:0,p=2*d+(i>>s),g=2*h+(o>>s),m=new Float32Array(p*g),y=new Float32Array(p*g);let v=m;l.forEach(x=>{const w=d+(+e(x)>>s),k=h+(+t(x)>>s);w>=0&&w<p&&k>=0&&k<g&&(m[w+k*p]+=+n(x))}),c>0&&f>0?(yh(p,g,m,y,c),vh(p,g,y,m,f),yh(p,g,m,y,c),vh(p,g,y,m,f),yh(p,g,m,y,c),vh(p,g,y,m,f)):c>0?(yh(p,g,m,y,c),yh(p,g,y,m,c),yh(p,g,m,y,c),v=y):f>0&&(vh(p,g,m,y,f),vh(p,g,y,m,f),vh(p,g,m,y,f),v=y);const b=u?Math.pow(2,-2*s):1/YQ(v);for(let x=0,w=p*g;x<w;++x)v[x]*=b;return{values:v,scale:1<<s,width:p,height:g,x1:d,y1:h,x2:d+(i>>s),y2:h+(o>>s)}}return a.x=function(l){return arguments.length?(e=AA(l),a):e},a.y=function(l){return arguments.length?(t=AA(l),a):t},a.weight=function(l){return arguments.length?(n=AA(l),a):n},a.size=function(l){if(!arguments.length)return[i,o];var u=+l[0],c=+l[1];return u>=0&&c>=0||q("invalid size"),i=u,o=c,a},a.cellSize=function(l){return arguments.length?((l=+l)>=1||q("invalid cell size"),s=Math.floor(Math.log(l)/Math.LN2),a):1<<s},a.bandwidth=function(l){return arguments.length?(l=ae(l),l.length===1&&(l=[+l[0],+l[0]]),l.length!==2&&q("invalid bandwidth"),r=l,a):r},a}function yh(e,t,n,r,i){const o=(i<<1)+1;for(let s=0;s<t;++s)for(let a=0,l=0;a<e+i;++a)a<e&&(l+=n[a+s*e]),a>=i&&(a>=o&&(l-=n[a-o+s*e]),r[a-i+s*e]=l/Math.min(a+1,e-1+o-a,o))}function vh(e,t,n,r,i){const o=(i<<1)+1;for(let s=0;s<e;++s)for(let a=0,l=0;a<t+i;++a)a<t&&(l+=n[s+a*e]),a>=i&&(a>=o&&(l-=n[s+(a-o)*e]),r[s+(a-i)*e]=l/Math.min(a+1,t-1+o-a,o))}function LD(e){V.call(this,null,e)}LD.Definition={type:"KDE2D",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"weight",type:"field"},{name:"groupby",type:"field",array:!0},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number",array:!0,length:2},{name:"counts",type:"boolean",default:!1},{name:"as",type:"string",default:"grid"}]};const Q8e=["x","y","weight","size","cellSize","bandwidth"];function Bre(e,t){return Q8e.forEach(n=>t[n]!=null?e[n](t[n]):0),e}ne(LD,V,{transform(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var n=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=t.materialize(t.SOURCE).source,i=Z8e(r,e.groupby),o=(e.groupby||[]).map(nn),s=Bre(jre(),e),a=e.as||"grid",l=[];function u(c,f){for(let d=0;d<o.length;++d)c[o[d]]=f[d];return c}return l=i.map(c=>at(u({[a]:s(c,e.counts)},c.dims))),this.value&&(n.rem=this.value),this.value=n.source=n.add=l,n}});function Z8e(e,t){var n=[],r=c=>c(a),i,o,s,a,l,u;if(t==null)n.push(e);else for(i={},o=0,s=e.length;o<s;++o)a=e[o],l=t.map(r),u=i[l],u||(i[l]=u=[],u.dims=l,n.push(u)),u.push(a);return n}function zD(e){V.call(this,null,e)}zD.Definition={type:"Contour",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"values",type:"number",array:!0},{name:"x",type:"field"},{name:"y",type:"field"},{name:"weight",type:"field"},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number"},{name:"count",type:"number"},{name:"nice",type:"boolean",default:!1},{name:"thresholds",type:"number",array:!0},{name:"smooth",type:"boolean",default:!0}]};ne(zD,V,{transform(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var n=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=Ire().smooth(e.smooth!==!1),i=e.values,o=e.thresholds||Lre(e.count||10,e.nice,!!i),s=e.size,a,l;return i||(i=t.materialize(t.SOURCE).source,a=Bre(jre(),e)(i,!0),l=zre(a,a.scale||1,a.scale||1,0,0),s=[a.width,a.height],i=a.values),o=G(o)?o:o(i),i=r.size(s)(i,o),l&&i.forEach(l),this.value&&(n.rem=this.value),this.value=n.source=n.add=(i||[]).map(at),n}});const v4="Feature",jD="FeatureCollection",J8e="MultiPoint";function BD(e){V.call(this,null,e)}BD.Definition={type:"GeoJSON",metadata:{},params:[{name:"fields",type:"field",array:!0,length:2},{name:"geojson",type:"field"}]};ne(BD,V,{transform(e,t){var n=this._features,r=this._points,i=e.fields,o=i&&i[0],s=i&&i[1],a=e.geojson||!i&&Ar,l=t.ADD,u;u=e.modified()||t.changed(t.REM)||t.modified(kr(a))||o&&t.modified(kr(o))||s&&t.modified(kr(s)),(!this.value||u)&&(l=t.SOURCE,this._features=n=[],this._points=r=[]),a&&t.visit(l,c=>n.push(a(c))),o&&s&&(t.visit(l,c=>{var f=o(c),d=s(c);f!=null&&d!=null&&(f=+f)===f&&(d=+d)===d&&r.push([f,d])}),n=n.concat({type:v4,geometry:{type:J8e,coordinates:r}})),this.value={type:jD,features:n}}});function UD(e){V.call(this,null,e)}UD.Definition={type:"GeoPath",metadata:{modifies:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string",default:"path"}]};ne(UD,V,{transform(e,t){var n=t.fork(t.ALL),r=this.value,i=e.field||Ar,o=e.as||"path",s=n.SOURCE;!r||e.modified()?(this.value=r=Nre(e.projection),n.materialize().reflow()):s=i===Ar||t.modified(i.fields)?n.ADD_MOD:n.ADD;const a=e9e(r,e.pointRadius);return n.visit(s,l=>l[o]=r(i(l))),r.pointRadius(a),n.modifies(o)}});function e9e(e,t){const n=e.pointRadius();return e.context(null),t!=null&&e.pointRadius(t),n}function VD(e){V.call(this,null,e)}VD.Definition={type:"GeoPoint",metadata:{modifies:!0},params:[{name:"projection",type:"projection",required:!0},{name:"fields",type:"field",array:!0,required:!0,length:2},{name:"as",type:"string",array:!0,length:2,default:["x","y"]}]};ne(VD,V,{transform(e,t){var n=e.projection,r=e.fields[0],i=e.fields[1],o=e.as||["x","y"],s=o[0],a=o[1],l;function u(c){const f=n([r(c),i(c)]);f?(c[s]=f[0],c[a]=f[1]):(c[s]=void 0,c[a]=void 0)}return e.modified()?t=t.materialize().reflow(!0).visit(t.SOURCE,u):(l=t.modified(r.fields)||t.modified(i.fields),t.visit(l?t.ADD_MOD:t.ADD,u)),t.modifies(o)}});function WD(e){V.call(this,null,e)}WD.Definition={type:"GeoShape",metadata:{modifies:!0,nomod:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field",default:"datum"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string",default:"shape"}]};ne(WD,V,{transform(e,t){var n=t.fork(t.ALL),r=this.value,i=e.as||"shape",o=n.ADD;return(!r||e.modified())&&(this.value=r=t9e(Nre(e.projection),e.field||Ro("datum"),e.pointRadius),n.materialize().reflow(),o=n.SOURCE),n.visit(o,s=>s[i]=r),n.modifies(i)}});function t9e(e,t,n){const r=n==null?i=>e(t(i)):i=>{var o=e.pointRadius(),s=e.pointRadius(n)(t(i));return e.pointRadius(o),s};return r.context=i=>(e.context(i),r),r}function HD(e){V.call(this,[],e),this.generator=XOe()}HD.Definition={type:"Graticule",metadata:{changes:!0,generates:!0},params:[{name:"extent",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMajor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMinor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"step",type:"number",array:!0,length:2},{name:"stepMajor",type:"number",array:!0,length:2,default:[90,360]},{name:"stepMinor",type:"number",array:!0,length:2,default:[10,10]},{name:"precision",type:"number",default:2.5}]};ne(HD,V,{transform(e,t){var n=this.value,r=this.generator,i;if(!n.length||e.modified())for(const o in e)Ne(r[o])&&r[o](e[o]);return i=r(),n.length?t.mod.push(VZ(n[0],i)):t.add.push(at(i)),n[0]=i,t}});function qD(e){V.call(this,null,e)}qD.Definition={type:"heatmap",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"color",type:"string",expr:!0},{name:"opacity",type:"number",expr:!0},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"as",type:"string",default:"image"}]};ne(qD,V,{transform(e,t){if(!t.changed()&&!e.modified())return t.StopPropagation;var n=t.materialize(t.SOURCE).source,r=e.resolve==="shared",i=e.field||Ar,o=r9e(e.opacity,e),s=n9e(e.color,e),a=e.as||"image",l={$x:0,$y:0,$value:0,$max:r?Gf(n.map(u=>Gf(i(u).values))):0};return n.forEach(u=>{const c=i(u),f=Oe({},u,l);r||(f.$max=Gf(c.values||[])),u[a]=i9e(c,f,s.dep?s:Tr(s(f)),o.dep?o:Tr(o(f)))}),t.reflow(!0).modifies(a)}});function n9e(e,t){let n;return Ne(e)?(n=r=>fc(e(r,t)),n.dep=Ure(e)):n=Tr(fc(e||"#888")),n}function r9e(e,t){let n;return Ne(e)?(n=r=>e(r,t),n.dep=Ure(e)):e?n=Tr(e):(n=r=>r.$value/r.$max||0,n.dep=!0),n}function Ure(e){if(!Ne(e))return!1;const t=ws(kr(e));return t.$x||t.$y||t.$value||t.$max}function i9e(e,t,n,r){const i=e.width,o=e.height,s=e.x1||0,a=e.y1||0,l=e.x2||i,u=e.y2||o,c=e.values,f=c?m=>c[m]:wu,d=Ju(l-s,u-a),h=d.getContext("2d"),p=h.getImageData(0,0,l-s,u-a),g=p.data;for(let m=a,y=0;m<u;++m){t.$y=m-a;for(let v=s,b=m*i;v<l;++v,y+=4){t.$x=v-s,t.$value=f(v+b);const x=n(t);g[y+0]=x.r,g[y+1]=x.g,g[y+2]=x.b,g[y+3]=~~(255*r(t))}}return h.putImageData(p,0,0),d}function Vre(e){V.call(this,null,e),this.modified(!0)}ne(Vre,V,{transform(e,t){let n=this.value;return!n||e.modified("type")?(this.value=n=s9e(e.type),y4.forEach(r=>{e[r]!=null&&fB(n,r,e[r])})):y4.forEach(r=>{e.modified(r)&&fB(n,r,e[r])}),e.pointRadius!=null&&n.path.pointRadius(e.pointRadius),e.fit&&o9e(n,e),t.fork(t.NO_SOURCE|t.NO_FIELDS)}});function o9e(e,t){const n=a9e(t.fit);t.extent?e.fitExtent(t.extent,n):t.size&&e.fitSize(t.size,n)}function s9e(e){const t=ND((e||"mercator").toLowerCase());return t||q("Unrecognized projection type: "+e),t()}function fB(e,t,n){Ne(e[t])&&e[t](n)}function a9e(e){return e=ae(e),e.length===1?e[0]:{type:jD,features:e.reduce((t,n)=>t.concat(l9e(n)),[])}}function l9e(e){return e.type===jD?e.features:ae(e).filter(t=>t!=null).map(t=>t.type===v4?t:{type:v4,geometry:t})}const u9e=Object.freeze(Object.defineProperty({__proto__:null,contour:zD,geojson:BD,geopath:UD,geopoint:VD,geoshape:WD,graticule:HD,heatmap:qD,isocontour:ID,kde2d:LD,projection:Vre},Symbol.toStringTag,{value:"Module"}));function c9e(e,t){var n,r=1;e==null&&(e=0),t==null&&(t=0);function i(){var o,s=n.length,a,l=0,u=0;for(o=0;o<s;++o)a=n[o],l+=a.x,u+=a.y;for(l=(l/s-e)*r,u=(u/s-t)*r,o=0;o<s;++o)a=n[o],a.x-=l,a.y-=u}return i.initialize=function(o){n=o},i.x=function(o){return arguments.length?(e=+o,i):e},i.y=function(o){return arguments.length?(t=+o,i):t},i.strength=function(o){return arguments.length?(r=+o,i):r},i}function f9e(e){const t=+this._x.call(null,e),n=+this._y.call(null,e);return Wre(this.cover(t,n),t,n,e)}function Wre(e,t,n,r){if(isNaN(t)||isNaN(n))return e;var i,o=e._root,s={data:r},a=e._x0,l=e._y0,u=e._x1,c=e._y1,f,d,h,p,g,m,y,v;if(!o)return e._root=s,e;for(;o.length;)if((g=t>=(f=(a+u)/2))?a=f:u=f,(m=n>=(d=(l+c)/2))?l=d:c=d,i=o,!(o=o[y=m<<1|g]))return i[y]=s,e;if(h=+e._x.call(null,o.data),p=+e._y.call(null,o.data),t===h&&n===p)return s.next=o,i?i[y]=s:e._root=s,e;do i=i?i[y]=new Array(4):e._root=new Array(4),(g=t>=(f=(a+u)/2))?a=f:u=f,(m=n>=(d=(l+c)/2))?l=d:c=d;while((y=m<<1|g)===(v=(p>=d)<<1|h>=f));return i[v]=o,i[y]=s,e}function d9e(e){var t,n,r=e.length,i,o,s=new Array(r),a=new Array(r),l=1/0,u=1/0,c=-1/0,f=-1/0;for(n=0;n<r;++n)isNaN(i=+this._x.call(null,t=e[n]))||isNaN(o=+this._y.call(null,t))||(s[n]=i,a[n]=o,i<l&&(l=i),i>c&&(c=i),o<u&&(u=o),o>f&&(f=o));if(l>c||u>f)return this;for(this.cover(l,u).cover(c,f),n=0;n<r;++n)Wre(this,s[n],a[n],e[n]);return this}function h9e(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var n=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(n))i=(n=Math.floor(e))+1,o=(r=Math.floor(t))+1;else{for(var s=i-n||1,a=this._root,l,u;n>e||e>=i||r>t||t>=o;)switch(u=(t<r)<<1|e<n,l=new Array(4),l[u]=a,a=l,s*=2,u){case 0:i=n+s,o=r+s;break;case 1:n=i-s,o=r+s;break;case 2:i=n+s,r=o-s;break;case 3:n=i-s,r=o-s;break}this._root&&this._root.length&&(this._root=a)}return this._x0=n,this._y0=r,this._x1=i,this._y1=o,this}function p9e(){var e=[];return this.visit(function(t){if(!t.length)do e.push(t.data);while(t=t.next)}),e}function g9e(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function Ur(e,t,n,r,i){this.node=e,this.x0=t,this.y0=n,this.x1=r,this.y1=i}function m9e(e,t,n){var r,i=this._x0,o=this._y0,s,a,l,u,c=this._x1,f=this._y1,d=[],h=this._root,p,g;for(h&&d.push(new Ur(h,i,o,c,f)),n==null?n=1/0:(i=e-n,o=t-n,c=e+n,f=t+n,n*=n);p=d.pop();)if(!(!(h=p.node)||(s=p.x0)>c||(a=p.y0)>f||(l=p.x1)<i||(u=p.y1)<o))if(h.length){var m=(s+l)/2,y=(a+u)/2;d.push(new Ur(h[3],m,y,l,u),new Ur(h[2],s,y,m,u),new Ur(h[1],m,a,l,y),new Ur(h[0],s,a,m,y)),(g=(t>=y)<<1|e>=m)&&(p=d[d.length-1],d[d.length-1]=d[d.length-1-g],d[d.length-1-g]=p)}else{var v=e-+this._x.call(null,h.data),b=t-+this._y.call(null,h.data),x=v*v+b*b;if(x<n){var w=Math.sqrt(n=x);i=e-w,o=t-w,c=e+w,f=t+w,r=h.data}}return r}function y9e(e){if(isNaN(c=+this._x.call(null,e))||isNaN(f=+this._y.call(null,e)))return this;var t,n=this._root,r,i,o,s=this._x0,a=this._y0,l=this._x1,u=this._y1,c,f,d,h,p,g,m,y;if(!n)return this;if(n.length)for(;;){if((p=c>=(d=(s+l)/2))?s=d:l=d,(g=f>=(h=(a+u)/2))?a=h:u=h,t=n,!(n=n[m=g<<1|p]))return this;if(!n.length)break;(t[m+1&3]||t[m+2&3]||t[m+3&3])&&(r=t,y=m)}for(;n.data!==e;)if(i=n,!(n=n.next))return this;return(o=n.next)&&delete n.next,i?(o?i.next=o:delete i.next,this):t?(o?t[m]=o:delete t[m],(n=t[0]||t[1]||t[2]||t[3])&&n===(t[3]||t[2]||t[1]||t[0])&&!n.length&&(r?r[y]=n:this._root=n),this):(this._root=o,this)}function v9e(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this}function b9e(){return this._root}function x9e(){var e=0;return this.visit(function(t){if(!t.length)do++e;while(t=t.next)}),e}function w9e(e){var t=[],n,r=this._root,i,o,s,a,l;for(r&&t.push(new Ur(r,this._x0,this._y0,this._x1,this._y1));n=t.pop();)if(!e(r=n.node,o=n.x0,s=n.y0,a=n.x1,l=n.y1)&&r.length){var u=(o+a)/2,c=(s+l)/2;(i=r[3])&&t.push(new Ur(i,u,c,a,l)),(i=r[2])&&t.push(new Ur(i,o,c,u,l)),(i=r[1])&&t.push(new Ur(i,u,s,a,c)),(i=r[0])&&t.push(new Ur(i,o,s,u,c))}return this}function S9e(e){var t=[],n=[],r;for(this._root&&t.push(new Ur(this._root,this._x0,this._y0,this._x1,this._y1));r=t.pop();){var i=r.node;if(i.length){var o,s=r.x0,a=r.y0,l=r.x1,u=r.y1,c=(s+l)/2,f=(a+u)/2;(o=i[0])&&t.push(new Ur(o,s,a,c,f)),(o=i[1])&&t.push(new Ur(o,c,a,l,f)),(o=i[2])&&t.push(new Ur(o,s,f,c,u)),(o=i[3])&&t.push(new Ur(o,c,f,l,u))}n.push(r)}for(;r=n.pop();)e(r.node,r.x0,r.y0,r.x1,r.y1);return this}function k9e(e){return e[0]}function C9e(e){return arguments.length?(this._x=e,this):this._x}function _9e(e){return e[1]}function E9e(e){return arguments.length?(this._y=e,this):this._y}function GD(e,t,n){var r=new YD(t??k9e,n??_9e,NaN,NaN,NaN,NaN);return e==null?r:r.addAll(e)}function YD(e,t,n,r,i,o){this._x=e,this._y=t,this._x0=n,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function dB(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}var ti=GD.prototype=YD.prototype;ti.copy=function(){var e=new YD(this._x,this._y,this._x0,this._y0,this._x1,this._y1),t=this._root,n,r;if(!t)return e;if(!t.length)return e._root=dB(t),e;for(n=[{source:t,target:e._root=new Array(4)}];t=n.pop();)for(var i=0;i<4;++i)(r=t.source[i])&&(r.length?n.push({source:r,target:t.target[i]=new Array(4)}):t.target[i]=dB(r));return e};ti.add=f9e;ti.addAll=d9e;ti.cover=h9e;ti.data=p9e;ti.extent=g9e;ti.find=m9e;ti.remove=y9e;ti.removeAll=v9e;ti.root=b9e;ti.size=x9e;ti.visit=w9e;ti.visitAfter=S9e;ti.x=C9e;ti.y=E9e;function Wr(e){return function(){return e}}function Iu(e){return(e()-.5)*1e-6}function $9e(e){return e.x+e.vx}function A9e(e){return e.y+e.vy}function T9e(e){var t,n,r,i=1,o=1;typeof e!="function"&&(e=Wr(e==null?1:+e));function s(){for(var u,c=t.length,f,d,h,p,g,m,y=0;y<o;++y)for(f=GD(t,$9e,A9e).visitAfter(a),u=0;u<c;++u)d=t[u],g=n[d.index],m=g*g,h=d.x+d.vx,p=d.y+d.vy,f.visit(v);function v(b,x,w,k,S){var C=b.data,_=b.r,$=g+_;if(C){if(C.index>d.index){var A=h-C.x-C.vx,O=p-C.y-C.vy,M=A*A+O*O;M<$*$&&(A===0&&(A=Iu(r),M+=A*A),O===0&&(O=Iu(r),M+=O*O),M=($-(M=Math.sqrt(M)))/M*i,d.vx+=(A*=M)*($=(_*=_)/(m+_)),d.vy+=(O*=M)*$,C.vx-=A*($=1-$),C.vy-=O*$)}return}return x>h+$||k<h-$||w>p+$||S<p-$}}function a(u){if(u.data)return u.r=n[u.data.index];for(var c=u.r=0;c<4;++c)u[c]&&u[c].r>u.r&&(u.r=u[c].r)}function l(){if(t){var u,c=t.length,f;for(n=new Array(c),u=0;u<c;++u)f=t[u],n[f.index]=+e(f,u,t)}}return s.initialize=function(u,c){t=u,r=c,l()},s.iterations=function(u){return arguments.length?(o=+u,s):o},s.strength=function(u){return arguments.length?(i=+u,s):i},s.radius=function(u){return arguments.length?(e=typeof u=="function"?u:Wr(+u),l(),s):e},s}function M9e(e){return e.index}function hB(e,t){var n=e.get(t);if(!n)throw new Error("node not found: "+t);return n}function F9e(e){var t=M9e,n=f,r,i=Wr(30),o,s,a,l,u,c=1;e==null&&(e=[]);function f(m){return 1/Math.min(a[m.source.index],a[m.target.index])}function d(m){for(var y=0,v=e.length;y<c;++y)for(var b=0,x,w,k,S,C,_,$;b<v;++b)x=e[b],w=x.source,k=x.target,S=k.x+k.vx-w.x-w.vx||Iu(u),C=k.y+k.vy-w.y-w.vy||Iu(u),_=Math.sqrt(S*S+C*C),_=(_-o[b])/_*m*r[b],S*=_,C*=_,k.vx-=S*($=l[b]),k.vy-=C*$,w.vx+=S*($=1-$),w.vy+=C*$}function h(){if(s){var m,y=s.length,v=e.length,b=new Map(s.map((w,k)=>[t(w,k,s),w])),x;for(m=0,a=new Array(y);m<v;++m)x=e[m],x.index=m,typeof x.source!="object"&&(x.source=hB(b,x.source)),typeof x.target!="object"&&(x.target=hB(b,x.target)),a[x.source.index]=(a[x.source.index]||0)+1,a[x.target.index]=(a[x.target.index]||0)+1;for(m=0,l=new Array(v);m<v;++m)x=e[m],l[m]=a[x.source.index]/(a[x.source.index]+a[x.target.index]);r=new Array(v),p(),o=new Array(v),g()}}function p(){if(s)for(var m=0,y=e.length;m<y;++m)r[m]=+n(e[m],m,e)}function g(){if(s)for(var m=0,y=e.length;m<y;++m)o[m]=+i(e[m],m,e)}return d.initialize=function(m,y){s=m,u=y,h()},d.links=function(m){return arguments.length?(e=m,h(),d):e},d.id=function(m){return arguments.length?(t=m,d):t},d.iterations=function(m){return arguments.length?(c=+m,d):c},d.strength=function(m){return arguments.length?(n=typeof m=="function"?m:Wr(+m),p(),d):n},d.distance=function(m){return arguments.length?(i=typeof m=="function"?m:Wr(+m),g(),d):i},d}var P9e={value:()=>{}};function Hre(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new A2(n)}function A2(e){this._=e}function R9e(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}A2.prototype=Hre.prototype={constructor:A2,on:function(e,t){var n=this._,r=R9e(e+"",n),i,o=-1,s=r.length;if(arguments.length<2){for(;++o<s;)if((i=(e=r[o]).type)&&(i=D9e(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++o<s;)if(i=(e=r[o]).type)n[i]=pB(n[i],e.name,t);else if(t==null)for(i in n)n[i]=pB(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new A2(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=this._[e],r=0,i=o.length;r<i;++r)o[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,o=r.length;i<o;++i)r[i].value.apply(t,n)}};function D9e(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function pB(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=P9e,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var xg=0,j0=0,Qm=0,qre=1e3,US,B0,VS=0,md=0,d_=0,S1=typeof performance=="object"&&performance.now?performance:Date,Gre=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function XD(){return md||(Gre(O9e),md=S1.now()+d_)}function O9e(){md=0}function WS(){this._call=this._time=this._next=null}WS.prototype=Yre.prototype={constructor:WS,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?XD():+n)+(t==null?0:+t),!this._next&&B0!==this&&(B0?B0._next=this:US=this,B0=this),this._call=e,this._time=n,b4()},stop:function(){this._call&&(this._call=null,this._time=1/0,b4())}};function Yre(e,t,n){var r=new WS;return r.restart(e,t,n),r}function N9e(){XD(),++xg;for(var e=US,t;e;)(t=md-e._time)>=0&&e._call.call(void 0,t),e=e._next;--xg}function gB(){md=(VS=S1.now())+d_,xg=j0=0;try{N9e()}finally{xg=0,L9e(),md=0}}function I9e(){var e=S1.now(),t=e-VS;t>qre&&(d_-=t,VS=e)}function L9e(){for(var e,t=US,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:US=n);B0=e,b4(r)}function b4(e){if(!xg){j0&&(j0=clearTimeout(j0));var t=e-md;t>24?(e<1/0&&(j0=setTimeout(gB,e-S1.now()-d_)),Qm&&(Qm=clearInterval(Qm))):(Qm||(VS=S1.now(),Qm=setInterval(I9e,qre)),xg=1,Gre(gB))}}function z9e(e,t,n){var r=new WS,i=t;return t==null?(r.restart(e,t,n),r):(r._restart=r.restart,r.restart=function(o,s,a){s=+s,a=a==null?XD():+a,r._restart(function l(u){u+=i,r._restart(l,i+=s,a),o(u)},s,a)},r.restart(e,t,n),r)}const j9e=1664525,B9e=1013904223,mB=4294967296;function U9e(){let e=1;return()=>(e=(j9e*e+B9e)%mB)/mB}function V9e(e){return e.x}function W9e(e){return e.y}var H9e=10,q9e=Math.PI*(3-Math.sqrt(5));function G9e(e){var t,n=1,r=.001,i=1-Math.pow(r,1/300),o=0,s=.6,a=new Map,l=Yre(f),u=Hre("tick","end"),c=U9e();e==null&&(e=[]);function f(){d(),u.call("tick",t),n<r&&(l.stop(),u.call("end",t))}function d(g){var m,y=e.length,v;g===void 0&&(g=1);for(var b=0;b<g;++b)for(n+=(o-n)*i,a.forEach(function(x){x(n)}),m=0;m<y;++m)v=e[m],v.fx==null?v.x+=v.vx*=s:(v.x=v.fx,v.vx=0),v.fy==null?v.y+=v.vy*=s:(v.y=v.fy,v.vy=0);return t}function h(){for(var g=0,m=e.length,y;g<m;++g){if(y=e[g],y.index=g,y.fx!=null&&(y.x=y.fx),y.fy!=null&&(y.y=y.fy),isNaN(y.x)||isNaN(y.y)){var v=H9e*Math.sqrt(.5+g),b=g*q9e;y.x=v*Math.cos(b),y.y=v*Math.sin(b)}(isNaN(y.vx)||isNaN(y.vy))&&(y.vx=y.vy=0)}}function p(g){return g.initialize&&g.initialize(e,c),g}return h(),t={tick:d,restart:function(){return l.restart(f),t},stop:function(){return l.stop(),t},nodes:function(g){return arguments.length?(e=g,h(),a.forEach(p),t):e},alpha:function(g){return arguments.length?(n=+g,t):n},alphaMin:function(g){return arguments.length?(r=+g,t):r},alphaDecay:function(g){return arguments.length?(i=+g,t):+i},alphaTarget:function(g){return arguments.length?(o=+g,t):o},velocityDecay:function(g){return arguments.length?(s=1-g,t):1-s},randomSource:function(g){return arguments.length?(c=g,a.forEach(p),t):c},force:function(g,m){return arguments.length>1?(m==null?a.delete(g):a.set(g,p(m)),t):a.get(g)},find:function(g,m,y){var v=0,b=e.length,x,w,k,S,C;for(y==null?y=1/0:y*=y,v=0;v<b;++v)S=e[v],x=g-S.x,w=m-S.y,k=x*x+w*w,k<y&&(C=S,y=k);return C},on:function(g,m){return arguments.length>1?(u.on(g,m),t):u.on(g)}}}function Y9e(){var e,t,n,r,i=Wr(-30),o,s=1,a=1/0,l=.81;function u(h){var p,g=e.length,m=GD(e,V9e,W9e).visitAfter(f);for(r=h,p=0;p<g;++p)t=e[p],m.visit(d)}function c(){if(e){var h,p=e.length,g;for(o=new Array(p),h=0;h<p;++h)g=e[h],o[g.index]=+i(g,h,e)}}function f(h){var p=0,g,m,y=0,v,b,x;if(h.length){for(v=b=x=0;x<4;++x)(g=h[x])&&(m=Math.abs(g.value))&&(p+=g.value,y+=m,v+=m*g.x,b+=m*g.y);h.x=v/y,h.y=b/y}else{g=h,g.x=g.data.x,g.y=g.data.y;do p+=o[g.data.index];while(g=g.next)}h.value=p}function d(h,p,g,m){if(!h.value)return!0;var y=h.x-t.x,v=h.y-t.y,b=m-p,x=y*y+v*v;if(b*b/l<x)return x<a&&(y===0&&(y=Iu(n),x+=y*y),v===0&&(v=Iu(n),x+=v*v),x<s&&(x=Math.sqrt(s*x)),t.vx+=y*h.value*r/x,t.vy+=v*h.value*r/x),!0;if(h.length||x>=a)return;(h.data!==t||h.next)&&(y===0&&(y=Iu(n),x+=y*y),v===0&&(v=Iu(n),x+=v*v),x<s&&(x=Math.sqrt(s*x)));do h.data!==t&&(b=o[h.data.index]*r/x,t.vx+=y*b,t.vy+=v*b);while(h=h.next)}return u.initialize=function(h,p){e=h,n=p,c()},u.strength=function(h){return arguments.length?(i=typeof h=="function"?h:Wr(+h),c(),u):i},u.distanceMin=function(h){return arguments.length?(s=h*h,u):Math.sqrt(s)},u.distanceMax=function(h){return arguments.length?(a=h*h,u):Math.sqrt(a)},u.theta=function(h){return arguments.length?(l=h*h,u):Math.sqrt(l)},u}function X9e(e){var t=Wr(.1),n,r,i;typeof e!="function"&&(e=Wr(e==null?0:+e));function o(a){for(var l=0,u=n.length,c;l<u;++l)c=n[l],c.vx+=(i[l]-c.x)*r[l]*a}function s(){if(n){var a,l=n.length;for(r=new Array(l),i=new Array(l),a=0;a<l;++a)r[a]=isNaN(i[a]=+e(n[a],a,n))?0:+t(n[a],a,n)}}return o.initialize=function(a){n=a,s()},o.strength=function(a){return arguments.length?(t=typeof a=="function"?a:Wr(+a),s(),o):t},o.x=function(a){return arguments.length?(e=typeof a=="function"?a:Wr(+a),s(),o):e},o}function K9e(e){var t=Wr(.1),n,r,i;typeof e!="function"&&(e=Wr(e==null?0:+e));function o(a){for(var l=0,u=n.length,c;l<u;++l)c=n[l],c.vy+=(i[l]-c.y)*r[l]*a}function s(){if(n){var a,l=n.length;for(r=new Array(l),i=new Array(l),a=0;a<l;++a)r[a]=isNaN(i[a]=+e(n[a],a,n))?0:+t(n[a],a,n)}}return o.initialize=function(a){n=a,s()},o.strength=function(a){return arguments.length?(t=typeof a=="function"?a:Wr(+a),s(),o):t},o.y=function(a){return arguments.length?(e=typeof a=="function"?a:Wr(+a),s(),o):e},o}const yB={center:c9e,collide:T9e,nbody:Y9e,link:F9e,x:X9e,y:K9e},U0="forces",x4=["alpha","alphaMin","alphaTarget","velocityDecay","forces"],Q9e=["static","iterations"],Xre=["x","y","vx","vy"];function KD(e){V.call(this,null,e)}KD.Definition={type:"Force",metadata:{modifies:!0},params:[{name:"static",type:"boolean",default:!1},{name:"restart",type:"boolean",default:!1},{name:"iterations",type:"number",default:300},{name:"alpha",type:"number",default:1},{name:"alphaMin",type:"number",default:.001},{name:"alphaTarget",type:"number",default:0},{name:"velocityDecay",type:"number",default:.4},{name:"forces",type:"param",array:!0,params:[{key:{force:"center"},params:[{name:"x",type:"number",default:0},{name:"y",type:"number",default:0}]},{key:{force:"collide"},params:[{name:"radius",type:"number",expr:!0},{name:"strength",type:"number",default:.7},{name:"iterations",type:"number",default:1}]},{key:{force:"nbody"},params:[{name:"strength",type:"number",default:-30,expr:!0},{name:"theta",type:"number",default:.9},{name:"distanceMin",type:"number",default:1},{name:"distanceMax",type:"number"}]},{key:{force:"link"},params:[{name:"links",type:"data"},{name:"id",type:"field"},{name:"distance",type:"number",default:30,expr:!0},{name:"strength",type:"number",expr:!0},{name:"iterations",type:"number",default:1}]},{key:{force:"x"},params:[{name:"strength",type:"number",default:.1},{name:"x",type:"field"}]},{key:{force:"y"},params:[{name:"strength",type:"number",default:.1},{name:"y",type:"field"}]}]},{name:"as",type:"string",array:!0,modify:!1,default:Xre}]};ne(KD,V,{transform(e,t){var n=this.value,r=t.changed(t.ADD_REM),i=e.modified(x4),o=e.iterations||300;if(n?(r&&(t.modifies("index"),n.nodes(t.source)),(i||t.changed(t.MOD))&&Kre(n,e,0,t)):(this.value=n=J9e(t.source,e),n.on("tick",Z9e(t.dataflow,this)),e.static||(r=!0,n.tick()),t.modifies("index")),i||r||e.modified(Q9e)||t.changed()&&e.restart){if(n.alpha(Math.max(n.alpha(),e.alpha||1)).alphaDecay(1-Math.pow(n.alphaMin(),1/o)),e.static)for(n.stop();--o>=0;)n.tick();else if(n.stopped()&&n.restart(),!r)return t.StopPropagation}return this.finish(e,t)},finish(e,t){const n=t.dataflow;for(let a=this._argops,l=0,u=a.length,c;l<u;++l)if(c=a[l],!(c.name!==U0||c.op._argval.force!=="link")){for(var r=c.op._argops,i=0,o=r.length,s;i<o;++i)if(r[i].name==="links"&&(s=r[i].op.source)){n.pulse(s,n.changeset().reflow());break}}return t.reflow(e.modified()).modifies(Xre)}});function Z9e(e,t){return()=>e.touch(t).run()}function J9e(e,t){const n=G9e(e),r=n.stop,i=n.restart;let o=!1;return n.stopped=()=>o,n.restart=()=>(o=!1,i()),n.stop=()=>(o=!0,r()),Kre(n,t,!0).on("end",()=>o=!0)}function Kre(e,t,n,r){var i=ae(t.forces),o,s,a,l;for(o=0,s=x4.length;o<s;++o)a=x4[o],a!==U0&&t.modified(a)&&e[a](t[a]);for(o=0,s=i.length;o<s;++o)l=U0+o,a=n||t.modified(U0,o)?tNe(i[o]):r&&eNe(i[o],r)?e.force(l):null,a&&e.force(l,a);for(s=e.numForces||0;o<s;++o)e.force(U0+o,null);return e.numForces=i.length,e}function eNe(e,t){var n,r;for(n in e)if(Ne(r=e[n])&&t.modified(kr(r)))return 1;return 0}function tNe(e){var t,n;ce(yB,e.force)||q("Unrecognized force: "+e.force),t=yB[e.force]();for(n in e)Ne(t[n])&&nNe(t[n],e[n],e);return t}function nNe(e,t,n){e(Ne(t)?r=>t(r,n):t)}const rNe=Object.freeze(Object.defineProperty({__proto__:null,force:KD},Symbol.toStringTag,{value:"Module"}));function iNe(e,t){return e.parent===t.parent?1:2}function oNe(e){return e.reduce(sNe,0)/e.length}function sNe(e,t){return e+t.x}function aNe(e){return 1+e.reduce(lNe,0)}function lNe(e,t){return Math.max(e,t.y)}function uNe(e){for(var t;t=e.children;)e=t[0];return e}function cNe(e){for(var t;t=e.children;)e=t[t.length-1];return e}function fNe(){var e=iNe,t=1,n=1,r=!1;function i(o){var s,a=0;o.eachAfter(function(d){var h=d.children;h?(d.x=oNe(h),d.y=aNe(h)):(d.x=s?a+=e(d,s):0,d.y=0,s=d)});var l=uNe(o),u=cNe(o),c=l.x-e(l,u)/2,f=u.x+e(u,l)/2;return o.eachAfter(r?function(d){d.x=(d.x-o.x)*t,d.y=(o.y-d.y)*n}:function(d){d.x=(d.x-c)/(f-c)*t,d.y=(1-(o.y?d.y/o.y:1))*n})}return i.separation=function(o){return arguments.length?(e=o,i):e},i.size=function(o){return arguments.length?(r=!1,t=+o[0],n=+o[1],i):r?null:[t,n]},i.nodeSize=function(o){return arguments.length?(r=!0,t=+o[0],n=+o[1],i):r?[t,n]:null},i}function dNe(e){var t=0,n=e.children,r=n&&n.length;if(!r)t=1;else for(;--r>=0;)t+=n[r].value;e.value=t}function hNe(){return this.eachAfter(dNe)}function pNe(e,t){let n=-1;for(const r of this)e.call(t,r,++n,this);return this}function gNe(e,t){for(var n=this,r=[n],i,o,s=-1;n=r.pop();)if(e.call(t,n,++s,this),i=n.children)for(o=i.length-1;o>=0;--o)r.push(i[o]);return this}function mNe(e,t){for(var n=this,r=[n],i=[],o,s,a,l=-1;n=r.pop();)if(i.push(n),o=n.children)for(s=0,a=o.length;s<a;++s)r.push(o[s]);for(;n=i.pop();)e.call(t,n,++l,this);return this}function yNe(e,t){let n=-1;for(const r of this)if(e.call(t,r,++n,this))return r}function vNe(e){return this.eachAfter(function(t){for(var n=+e(t.data)||0,r=t.children,i=r&&r.length;--i>=0;)n+=r[i].value;t.value=n})}function bNe(e){return this.eachBefore(function(t){t.children&&t.children.sort(e)})}function xNe(e){for(var t=this,n=wNe(t,e),r=[t];t!==n;)t=t.parent,r.push(t);for(var i=r.length;e!==n;)r.splice(i,0,e),e=e.parent;return r}function wNe(e,t){if(e===t)return e;var n=e.ancestors(),r=t.ancestors(),i=null;for(e=n.pop(),t=r.pop();e===t;)i=e,e=n.pop(),t=r.pop();return i}function SNe(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t}function kNe(){return Array.from(this)}function CNe(){var e=[];return this.eachBefore(function(t){t.children||e.push(t)}),e}function _Ne(){var e=this,t=[];return e.each(function(n){n!==e&&t.push({source:n.parent,target:n})}),t}function*ENe(){var e=this,t,n=[e],r,i,o;do for(t=n.reverse(),n=[];e=t.pop();)if(yield e,r=e.children)for(i=0,o=r.length;i<o;++i)n.push(r[i]);while(n.length)}function QD(e,t){e instanceof Map?(e=[void 0,e],t===void 0&&(t=TNe)):t===void 0&&(t=ANe);for(var n=new wg(e),r,i=[n],o,s,a,l;r=i.pop();)if((s=t(r.data))&&(l=(s=Array.from(s)).length))for(r.children=s,a=l-1;a>=0;--a)i.push(o=s[a]=new wg(s[a])),o.parent=r,o.depth=r.depth+1;return n.eachBefore(Qre)}function $Ne(){return QD(this).eachBefore(MNe)}function ANe(e){return e.children}function TNe(e){return Array.isArray(e)?e[1]:null}function MNe(e){e.data.value!==void 0&&(e.value=e.data.value),e.data=e.data.data}function Qre(e){var t=0;do e.height=t;while((e=e.parent)&&e.height<++t)}function wg(e){this.data=e,this.depth=this.height=0,this.parent=null}wg.prototype=QD.prototype={constructor:wg,count:hNe,each:pNe,eachAfter:mNe,eachBefore:gNe,find:yNe,sum:vNe,sort:bNe,path:xNe,ancestors:SNe,descendants:kNe,leaves:CNe,links:_Ne,copy:$Ne,[Symbol.iterator]:ENe};function T2(e){return e==null?null:Zre(e)}function Zre(e){if(typeof e!="function")throw new Error;return e}function xf(){return 0}function $h(e){return function(){return e}}const FNe=1664525,PNe=1013904223,vB=4294967296;function RNe(){let e=1;return()=>(e=(FNe*e+PNe)%vB)/vB}function DNe(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function ONe(e,t){let n=e.length,r,i;for(;n;)i=t()*n--|0,r=e[n],e[n]=e[i],e[i]=r;return e}function NNe(e,t){for(var n=0,r=(e=ONe(Array.from(e),t)).length,i=[],o,s;n<r;)o=e[n],s&&Jre(s,o)?++n:(s=LNe(i=INe(i,o)),n=0);return s}function INe(e,t){var n,r;if(TA(t,e))return[t];for(n=0;n<e.length;++n)if(px(t,e[n])&&TA(V0(e[n],t),e))return[e[n],t];for(n=0;n<e.length-1;++n)for(r=n+1;r<e.length;++r)if(px(V0(e[n],e[r]),t)&&px(V0(e[n],t),e[r])&&px(V0(e[r],t),e[n])&&TA(eie(e[n],e[r],t),e))return[e[n],e[r],t];throw new Error}function px(e,t){var n=e.r-t.r,r=t.x-e.x,i=t.y-e.y;return n<0||n*n<r*r+i*i}function Jre(e,t){var n=e.r-t.r+Math.max(e.r,t.r,1)*1e-9,r=t.x-e.x,i=t.y-e.y;return n>0&&n*n>r*r+i*i}function TA(e,t){for(var n=0;n<t.length;++n)if(!Jre(e,t[n]))return!1;return!0}function LNe(e){switch(e.length){case 1:return zNe(e[0]);case 2:return V0(e[0],e[1]);case 3:return eie(e[0],e[1],e[2])}}function zNe(e){return{x:e.x,y:e.y,r:e.r}}function V0(e,t){var n=e.x,r=e.y,i=e.r,o=t.x,s=t.y,a=t.r,l=o-n,u=s-r,c=a-i,f=Math.sqrt(l*l+u*u);return{x:(n+o+l/f*c)/2,y:(r+s+u/f*c)/2,r:(f+i+a)/2}}function eie(e,t,n){var r=e.x,i=e.y,o=e.r,s=t.x,a=t.y,l=t.r,u=n.x,c=n.y,f=n.r,d=r-s,h=r-u,p=i-a,g=i-c,m=l-o,y=f-o,v=r*r+i*i-o*o,b=v-s*s-a*a+l*l,x=v-u*u-c*c+f*f,w=h*p-d*g,k=(p*x-g*b)/(w*2)-r,S=(g*m-p*y)/w,C=(h*b-d*x)/(w*2)-i,_=(d*y-h*m)/w,$=S*S+_*_-1,A=2*(o+k*S+C*_),O=k*k+C*C-o*o,M=-(Math.abs($)>1e-6?(A+Math.sqrt(A*A-4*$*O))/(2*$):O/A);return{x:r+k+S*M,y:i+C+_*M,r:M}}function bB(e,t,n){var r=e.x-t.x,i,o,s=e.y-t.y,a,l,u=r*r+s*s;u?(o=t.r+n.r,o*=o,l=e.r+n.r,l*=l,o>l?(i=(u+l-o)/(2*u),a=Math.sqrt(Math.max(0,l/u-i*i)),n.x=e.x-i*r-a*s,n.y=e.y-i*s+a*r):(i=(u+o-l)/(2*u),a=Math.sqrt(Math.max(0,o/u-i*i)),n.x=t.x+i*r-a*s,n.y=t.y+i*s+a*r)):(n.x=t.x+n.r,n.y=t.y)}function xB(e,t){var n=e.r+t.r-1e-6,r=t.x-e.x,i=t.y-e.y;return n>0&&n*n>r*r+i*i}function wB(e){var t=e._,n=e.next._,r=t.r+n.r,i=(t.x*n.r+n.x*t.r)/r,o=(t.y*n.r+n.y*t.r)/r;return i*i+o*o}function gx(e){this._=e,this.next=null,this.previous=null}function jNe(e,t){if(!(o=(e=DNe(e)).length))return 0;var n,r,i,o,s,a,l,u,c,f,d;if(n=e[0],n.x=0,n.y=0,!(o>1))return n.r;if(r=e[1],n.x=-r.r,r.x=n.r,r.y=0,!(o>2))return n.r+r.r;bB(r,n,i=e[2]),n=new gx(n),r=new gx(r),i=new gx(i),n.next=i.previous=r,r.next=n.previous=i,i.next=r.previous=n;e:for(l=3;l<o;++l){bB(n._,r._,i=e[l]),i=new gx(i),u=r.next,c=n.previous,f=r._.r,d=n._.r;do if(f<=d){if(xB(u._,i._)){r=u,n.next=r,r.previous=n,--l;continue e}f+=u._.r,u=u.next}else{if(xB(c._,i._)){n=c,n.next=r,r.previous=n,--l;continue e}d+=c._.r,c=c.previous}while(u!==c.next);for(i.previous=n,i.next=r,n.next=r.previous=r=i,s=wB(n);(i=i.next)!==r;)(a=wB(i))<s&&(n=i,s=a);r=n.next}for(n=[r._],i=r;(i=i.next)!==r;)n.push(i._);for(i=NNe(n,t),l=0;l<o;++l)n=e[l],n.x-=i.x,n.y-=i.y;return i.r}function BNe(e){return Math.sqrt(e.value)}function UNe(){var e=null,t=1,n=1,r=xf;function i(o){const s=RNe();return o.x=t/2,o.y=n/2,e?o.eachBefore(SB(e)).eachAfter(MA(r,.5,s)).eachBefore(kB(1)):o.eachBefore(SB(BNe)).eachAfter(MA(xf,1,s)).eachAfter(MA(r,o.r/Math.min(t,n),s)).eachBefore(kB(Math.min(t,n)/(2*o.r))),o}return i.radius=function(o){return arguments.length?(e=T2(o),i):e},i.size=function(o){return arguments.length?(t=+o[0],n=+o[1],i):[t,n]},i.padding=function(o){return arguments.length?(r=typeof o=="function"?o:$h(+o),i):r},i}function SB(e){return function(t){t.children||(t.r=Math.max(0,+e(t)||0))}}function MA(e,t,n){return function(r){if(i=r.children){var i,o,s=i.length,a=e(r)*t||0,l;if(a)for(o=0;o<s;++o)i[o].r+=a;if(l=jNe(i,n),a)for(o=0;o<s;++o)i[o].r-=a;r.r=l+a}}}function kB(e){return function(t){var n=t.parent;t.r*=e,n&&(t.x=n.x+e*t.x,t.y=n.y+e*t.y)}}function tie(e){e.x0=Math.round(e.x0),e.y0=Math.round(e.y0),e.x1=Math.round(e.x1),e.y1=Math.round(e.y1)}function Nv(e,t,n,r,i){for(var o=e.children,s,a=-1,l=o.length,u=e.value&&(r-t)/e.value;++a<l;)s=o[a],s.y0=n,s.y1=i,s.x0=t,s.x1=t+=s.value*u}function VNe(){var e=1,t=1,n=0,r=!1;function i(s){var a=s.height+1;return s.x0=s.y0=n,s.x1=e,s.y1=t/a,s.eachBefore(o(t,a)),r&&s.eachBefore(tie),s}function o(s,a){return function(l){l.children&&Nv(l,l.x0,s*(l.depth+1)/a,l.x1,s*(l.depth+2)/a);var u=l.x0,c=l.y0,f=l.x1-n,d=l.y1-n;f<u&&(u=f=(u+f)/2),d<c&&(c=d=(c+d)/2),l.x0=u,l.y0=c,l.x1=f,l.y1=d}}return i.round=function(s){return arguments.length?(r=!!s,i):r},i.size=function(s){return arguments.length?(e=+s[0],t=+s[1],i):[e,t]},i.padding=function(s){return arguments.length?(n=+s,i):n},i}var WNe={depth:-1},CB={},FA={};function HNe(e){return e.id}function qNe(e){return e.parentId}function _B(){var e=HNe,t=qNe,n;function r(i){var o=Array.from(i),s=e,a=t,l,u,c,f,d,h,p,g,m=new Map;if(n!=null){const y=o.map((x,w)=>GNe(n(x,w,i))),v=y.map(EB),b=new Set(y).add("");for(const x of v)b.has(x)||(b.add(x),y.push(x),v.push(EB(x)),o.push(FA));s=(x,w)=>y[w],a=(x,w)=>v[w]}for(c=0,l=o.length;c<l;++c)u=o[c],h=o[c]=new wg(u),(p=s(u,c,i))!=null&&(p+="")&&(g=h.id=p,m.set(g,m.has(g)?CB:h)),(p=a(u,c,i))!=null&&(p+="")&&(h.parent=p);for(c=0;c<l;++c)if(h=o[c],p=h.parent){if(d=m.get(p),!d)throw new Error("missing: "+p);if(d===CB)throw new Error("ambiguous: "+p);d.children?d.children.push(h):d.children=[h],h.parent=d}else{if(f)throw new Error("multiple roots");f=h}if(!f)throw new Error("no root");if(n!=null){for(;f.data===FA&&f.children.length===1;)f=f.children[0],--l;for(let y=o.length-1;y>=0&&(h=o[y],h.data===FA);--y)h.data=null}if(f.parent=WNe,f.eachBefore(function(y){y.depth=y.parent.depth+1,--l}).eachBefore(Qre),f.parent=null,l>0)throw new Error("cycle");return f}return r.id=function(i){return arguments.length?(e=T2(i),r):e},r.parentId=function(i){return arguments.length?(t=T2(i),r):t},r.path=function(i){return arguments.length?(n=T2(i),r):n},r}function GNe(e){e=`${e}`;let t=e.length;return w4(e,t-1)&&!w4(e,t-2)&&(e=e.slice(0,-1)),e[0]==="/"?e:`/${e}`}function EB(e){let t=e.length;if(t<2)return"";for(;--t>1&&!w4(e,t););return e.slice(0,t)}function w4(e,t){if(e[t]==="/"){let n=0;for(;t>0&&e[--t]==="\\";)++n;if(!(n&1))return!0}return!1}function YNe(e,t){return e.parent===t.parent?1:2}function PA(e){var t=e.children;return t?t[0]:e.t}function RA(e){var t=e.children;return t?t[t.length-1]:e.t}function XNe(e,t,n){var r=n/(t.i-e.i);t.c-=r,t.s+=n,e.c+=r,t.z+=n,t.m+=n}function KNe(e){for(var t=0,n=0,r=e.children,i=r.length,o;--i>=0;)o=r[i],o.z+=t,o.m+=t,t+=o.s+(n+=o.c)}function QNe(e,t,n){return e.a.parent===t.parent?e.a:n}function M2(e,t){this._=e,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=t}M2.prototype=Object.create(wg.prototype);function ZNe(e){for(var t=new M2(e,0),n,r=[t],i,o,s,a;n=r.pop();)if(o=n._.children)for(n.children=new Array(a=o.length),s=a-1;s>=0;--s)r.push(i=n.children[s]=new M2(o[s],s)),i.parent=n;return(t.parent=new M2(null,0)).children=[t],t}function JNe(){var e=YNe,t=1,n=1,r=null;function i(u){var c=ZNe(u);if(c.eachAfter(o),c.parent.m=-c.z,c.eachBefore(s),r)u.eachBefore(l);else{var f=u,d=u,h=u;u.eachBefore(function(v){v.x<f.x&&(f=v),v.x>d.x&&(d=v),v.depth>h.depth&&(h=v)});var p=f===d?1:e(f,d)/2,g=p-f.x,m=t/(d.x+p+g),y=n/(h.depth||1);u.eachBefore(function(v){v.x=(v.x+g)*m,v.y=v.depth*y})}return u}function o(u){var c=u.children,f=u.parent.children,d=u.i?f[u.i-1]:null;if(c){KNe(u);var h=(c[0].z+c[c.length-1].z)/2;d?(u.z=d.z+e(u._,d._),u.m=u.z-h):u.z=h}else d&&(u.z=d.z+e(u._,d._));u.parent.A=a(u,d,u.parent.A||f[0])}function s(u){u._.x=u.z+u.parent.m,u.m+=u.parent.m}function a(u,c,f){if(c){for(var d=u,h=u,p=c,g=d.parent.children[0],m=d.m,y=h.m,v=p.m,b=g.m,x;p=RA(p),d=PA(d),p&&d;)g=PA(g),h=RA(h),h.a=u,x=p.z+v-d.z-m+e(p._,d._),x>0&&(XNe(QNe(p,u,f),u,x),m+=x,y+=x),v+=p.m,m+=d.m,b+=g.m,y+=h.m;p&&!RA(h)&&(h.t=p,h.m+=v-y),d&&!PA(g)&&(g.t=d,g.m+=m-b,f=u)}return f}function l(u){u.x*=t,u.y=u.depth*n}return i.separation=function(u){return arguments.length?(e=u,i):e},i.size=function(u){return arguments.length?(r=!1,t=+u[0],n=+u[1],i):r?null:[t,n]},i.nodeSize=function(u){return arguments.length?(r=!0,t=+u[0],n=+u[1],i):r?[t,n]:null},i}function h_(e,t,n,r,i){for(var o=e.children,s,a=-1,l=o.length,u=e.value&&(i-n)/e.value;++a<l;)s=o[a],s.x0=t,s.x1=r,s.y0=n,s.y1=n+=s.value*u}var nie=(1+Math.sqrt(5))/2;function rie(e,t,n,r,i,o){for(var s=[],a=t.children,l,u,c=0,f=0,d=a.length,h,p,g=t.value,m,y,v,b,x,w,k;c<d;){h=i-n,p=o-r;do m=a[f++].value;while(!m&&f<d);for(y=v=m,w=Math.max(p/h,h/p)/(g*e),k=m*m*w,x=Math.max(v/k,k/y);f<d;++f){if(m+=u=a[f].value,u<y&&(y=u),u>v&&(v=u),k=m*m*w,b=Math.max(v/k,k/y),b>x){m-=u;break}x=b}s.push(l={value:m,dice:h<p,children:a.slice(c,f)}),l.dice?Nv(l,n,r,i,g?r+=p*m/g:o):h_(l,n,r,g?n+=h*m/g:i,o),g-=m,c=f}return s}const iie=function e(t){function n(r,i,o,s,a){rie(t,r,i,o,s,a)}return n.ratio=function(r){return e((r=+r)>1?r:1)},n}(nie);function eIe(){var e=iie,t=!1,n=1,r=1,i=[0],o=xf,s=xf,a=xf,l=xf,u=xf;function c(d){return d.x0=d.y0=0,d.x1=n,d.y1=r,d.eachBefore(f),i=[0],t&&d.eachBefore(tie),d}function f(d){var h=i[d.depth],p=d.x0+h,g=d.y0+h,m=d.x1-h,y=d.y1-h;m<p&&(p=m=(p+m)/2),y<g&&(g=y=(g+y)/2),d.x0=p,d.y0=g,d.x1=m,d.y1=y,d.children&&(h=i[d.depth+1]=o(d)/2,p+=u(d)-h,g+=s(d)-h,m-=a(d)-h,y-=l(d)-h,m<p&&(p=m=(p+m)/2),y<g&&(g=y=(g+y)/2),e(d,p,g,m,y))}return c.round=function(d){return arguments.length?(t=!!d,c):t},c.size=function(d){return arguments.length?(n=+d[0],r=+d[1],c):[n,r]},c.tile=function(d){return arguments.length?(e=Zre(d),c):e},c.padding=function(d){return arguments.length?c.paddingInner(d).paddingOuter(d):c.paddingInner()},c.paddingInner=function(d){return arguments.length?(o=typeof d=="function"?d:$h(+d),c):o},c.paddingOuter=function(d){return arguments.length?c.paddingTop(d).paddingRight(d).paddingBottom(d).paddingLeft(d):c.paddingTop()},c.paddingTop=function(d){return arguments.length?(s=typeof d=="function"?d:$h(+d),c):s},c.paddingRight=function(d){return arguments.length?(a=typeof d=="function"?d:$h(+d),c):a},c.paddingBottom=function(d){return arguments.length?(l=typeof d=="function"?d:$h(+d),c):l},c.paddingLeft=function(d){return arguments.length?(u=typeof d=="function"?d:$h(+d),c):u},c}function tIe(e,t,n,r,i){var o=e.children,s,a=o.length,l,u=new Array(a+1);for(u[0]=l=s=0;s<a;++s)u[s+1]=l+=o[s].value;c(0,a,e.value,t,n,r,i);function c(f,d,h,p,g,m,y){if(f>=d-1){var v=o[f];v.x0=p,v.y0=g,v.x1=m,v.y1=y;return}for(var b=u[f],x=h/2+b,w=f+1,k=d-1;w<k;){var S=w+k>>>1;u[S]<x?w=S+1:k=S}x-u[w-1]<u[w]-x&&f+1<w&&--w;var C=u[w]-b,_=h-C;if(m-p>y-g){var $=h?(p*_+m*C)/h:m;c(f,w,C,p,g,$,y),c(w,d,_,$,g,m,y)}else{var A=h?(g*_+y*C)/h:y;c(f,w,C,p,g,m,A),c(w,d,_,p,A,m,y)}}}function nIe(e,t,n,r,i){(e.depth&1?h_:Nv)(e,t,n,r,i)}const rIe=function e(t){function n(r,i,o,s,a){if((l=r._squarify)&&l.ratio===t)for(var l,u,c,f,d=-1,h,p=l.length,g=r.value;++d<p;){for(u=l[d],c=u.children,f=u.value=0,h=c.length;f<h;++f)u.value+=c[f].value;u.dice?Nv(u,i,o,s,g?o+=(a-o)*u.value/g:a):h_(u,i,o,g?i+=(s-i)*u.value/g:s,a),g-=u.value}else r._squarify=l=rie(t,r,i,o,s,a),l.ratio=t}return n.ratio=function(r){return e((r=+r)>1?r:1)},n}(nie);function S4(e,t,n){const r={};return e.each(i=>{const o=i.data;n(o)&&(r[t(o)]=i)}),e.lookup=r,e}function ZD(e){V.call(this,null,e)}ZD.Definition={type:"Nest",metadata:{treesource:!0,changes:!0},params:[{name:"keys",type:"field",array:!0},{name:"generate",type:"boolean"}]};const iIe=e=>e.values;ne(ZD,V,{transform(e,t){t.source||q("Nest transform requires an upstream data source.");var n=e.generate,r=e.modified(),i=t.clone(),o=this.value;return(!o||r||t.changed())&&(o&&o.each(s=>{s.children&&$C(s.data)&&i.rem.push(s.data)}),this.value=o=QD({values:ae(e.keys).reduce((s,a)=>(s.key(a),s),oIe()).entries(i.source)},iIe),n&&o.each(s=>{s.children&&(s=at(s.data),i.add.push(s),i.source.push(s))}),S4(o,ve,ve)),i.source.root=o,i}});function oIe(){const e=[],t={entries:i=>r(n(i,0),0),key:i=>(e.push(i),t)};function n(i,o){if(o>=e.length)return i;const s=i.length,a=e[o++],l={},u={};let c=-1,f,d,h;for(;++c<s;)f=a(d=i[c])+"",(h=l[f])?h.push(d):l[f]=[d];for(f in l)u[f]=n(l[f],o);return u}function r(i,o){if(++o>e.length)return i;const s=[];for(const a in i)s.push({key:a,values:r(i[a],o)});return s}return t}function Wl(e){V.call(this,null,e)}const sIe=(e,t)=>e.parent===t.parent?1:2;ne(Wl,V,{transform(e,t){(!t.source||!t.source.root)&&q(this.constructor.name+" transform requires a backing tree data source.");const n=this.layout(e.method),r=this.fields,i=t.source.root,o=e.as||r;e.field?i.sum(e.field):i.count(),e.sort&&i.sort(Ud(e.sort,s=>s.data)),aIe(n,this.params,e),n.separation&&n.separation(e.separation!==!1?sIe:Xg);try{this.value=n(i)}catch(s){q(s)}return i.each(s=>lIe(s,r,o)),t.reflow(e.modified()).modifies(o).modifies("leaf")}});function aIe(e,t,n){for(let r,i=0,o=t.length;i<o;++i)r=t[i],r in n&&e[r](n[r])}function lIe(e,t,n){const r=e.data,i=t.length-1;for(let o=0;o<i;++o)r[n[o]]=e[t[o]];r[n[i]]=e.children?e.children.length:0}const k4=["x","y","r","depth","children"];function JD(e){Wl.call(this,e)}JD.Definition={type:"Pack",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"radius",type:"field",default:null},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:k4.length,default:k4}]};ne(JD,Wl,{layout:UNe,params:["radius","size","padding"],fields:k4});const C4=["x0","y0","x1","y1","depth","children"];function eO(e){Wl.call(this,e)}eO.Definition={type:"Partition",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:C4.length,default:C4}]};ne(eO,Wl,{layout:VNe,params:["size","round","padding"],fields:C4});function tO(e){V.call(this,null,e)}tO.Definition={type:"Stratify",metadata:{treesource:!0},params:[{name:"key",type:"field",required:!0},{name:"parentKey",type:"field",required:!0}]};ne(tO,V,{transform(e,t){t.source||q("Stratify transform requires an upstream data source.");let n=this.value;const r=e.modified(),i=t.fork(t.ALL).materialize(t.SOURCE),o=!n||r||t.changed(t.ADD_REM)||t.modified(e.key.fields)||t.modified(e.parentKey.fields);return i.source=i.source.slice(),o&&(n=i.source.length?S4(_B().id(e.key).parentId(e.parentKey)(i.source),e.key,Do):S4(_B()([{}]),e.key,e.key)),i.source.root=this.value=n,i}});const $B={tidy:JNe,cluster:fNe},_4=["x","y","depth","children"];function nO(e){Wl.call(this,e)}nO.Definition={type:"Tree",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"tidy",values:["tidy","cluster"]},{name:"size",type:"number",array:!0,length:2},{name:"nodeSize",type:"number",array:!0,length:2},{name:"separation",type:"boolean",default:!0},{name:"as",type:"string",array:!0,length:_4.length,default:_4}]};ne(nO,Wl,{layout(e){const t=e||"tidy";if(ce($B,t))return $B[t]();q("Unrecognized Tree layout method: "+t)},params:["size","nodeSize"],fields:_4});function rO(e){V.call(this,[],e)}rO.Definition={type:"TreeLinks",metadata:{tree:!0,generates:!0,changes:!0},params:[]};ne(rO,V,{transform(e,t){const n=this.value,r=t.source&&t.source.root,i=t.fork(t.NO_SOURCE),o={};return r||q("TreeLinks transform requires a tree data source."),t.changed(t.ADD_REM)?(i.rem=n,t.visit(t.SOURCE,s=>o[ve(s)]=1),r.each(s=>{const a=s.data,l=s.parent&&s.parent.data;l&&o[ve(a)]&&o[ve(l)]&&i.add.push(at({source:l,target:a}))}),this.value=i.add):t.changed(t.MOD)&&(t.visit(t.MOD,s=>o[ve(s)]=1),n.forEach(s=>{(o[ve(s.source)]||o[ve(s.target)])&&i.mod.push(s)})),i}});const AB={binary:tIe,dice:Nv,slice:h_,slicedice:nIe,squarify:iie,resquarify:rIe},E4=["x0","y0","x1","y1","depth","children"];function iO(e){Wl.call(this,e)}iO.Definition={type:"Treemap",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"squarify",values:["squarify","resquarify","binary","dice","slice","slicedice"]},{name:"padding",type:"number",default:0},{name:"paddingInner",type:"number",default:0},{name:"paddingOuter",type:"number",default:0},{name:"paddingTop",type:"number",default:0},{name:"paddingRight",type:"number",default:0},{name:"paddingBottom",type:"number",default:0},{name:"paddingLeft",type:"number",default:0},{name:"ratio",type:"number",default:1.618033988749895},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:E4.length,default:E4}]};ne(iO,Wl,{layout(){const e=eIe();return e.ratio=t=>{const n=e.tile();n.ratio&&e.tile(n.ratio(t))},e.method=t=>{ce(AB,t)?e.tile(AB[t]):q("Unrecognized Treemap layout method: "+t)},e},params:["method","ratio","size","round","padding","paddingInner","paddingOuter","paddingTop","paddingRight","paddingBottom","paddingLeft"],fields:E4});const uIe=Object.freeze(Object.defineProperty({__proto__:null,nest:ZD,pack:JD,partition:eO,stratify:tO,tree:nO,treelinks:rO,treemap:iO},Symbol.toStringTag,{value:"Module"})),DA=4278190080;function cIe(e,t){const n=e.bitmap();return(t||[]).forEach(r=>n.set(e(r.boundary[0]),e(r.boundary[3]))),[n,void 0]}function fIe(e,t,n,r,i){const o=e.width,s=e.height,a=r||i,l=Ju(o,s).getContext("2d"),u=Ju(o,s).getContext("2d"),c=a&&Ju(o,s).getContext("2d");n.forEach(C=>F2(l,C,!1)),F2(u,t,!1),a&&F2(c,t,!0);const f=OA(l,o,s),d=OA(u,o,s),h=a&&OA(c,o,s),p=e.bitmap(),g=a&&e.bitmap();let m,y,v,b,x,w,k,S;for(y=0;y<s;++y)for(m=0;m<o;++m)x=y*o+m,w=f[x]&DA,S=d[x]&DA,k=a&&h[x]&DA,(w||k||S)&&(v=e(m),b=e(y),!i&&(w||S)&&p.set(v,b),a&&(w||k)&&g.set(v,b));return[p,g]}function OA(e,t,n){return new Uint32Array(e.getImageData(0,0,t,n).data.buffer)}function F2(e,t,n){if(!t.length)return;const r=t[0].mark.marktype;r==="group"?t.forEach(i=>{i.items.forEach(o=>F2(e,o.items,n))}):Zi[r].draw(e,{items:n?t.map(dIe):t})}function dIe(e){const t=AC(e,{});return t.stroke&&t.strokeOpacity!==0||t.fill&&t.fillOpacity!==0?{...t,strokeOpacity:1,stroke:"#000",fillOpacity:0}:t}const Ga=5,Mr=31,k1=32,gu=new Uint32Array(k1+1),is=new Uint32Array(k1+1);is[0]=0;gu[0]=~is[0];for(let e=1;e<=k1;++e)is[e]=is[e-1]<<1|1,gu[e]=~is[e];function hIe(e,t){const n=new Uint32Array(~~((e*t+k1)/k1));function r(o,s){n[o]|=s}function i(o,s){n[o]&=s}return{array:n,get:(o,s)=>{const a=s*e+o;return n[a>>>Ga]&1<<(a&Mr)},set:(o,s)=>{const a=s*e+o;r(a>>>Ga,1<<(a&Mr))},clear:(o,s)=>{const a=s*e+o;i(a>>>Ga,~(1<<(a&Mr)))},getRange:(o,s,a,l)=>{let u=l,c,f,d,h;for(;u>=s;--u)if(c=u*e+o,f=u*e+a,d=c>>>Ga,h=f>>>Ga,d===h){if(n[d]&gu[c&Mr]&is[(f&Mr)+1])return!0}else{if(n[d]&gu[c&Mr]||n[h]&is[(f&Mr)+1])return!0;for(let p=d+1;p<h;++p)if(n[p])return!0}return!1},setRange:(o,s,a,l)=>{let u,c,f,d,h;for(;s<=l;++s)if(u=s*e+o,c=s*e+a,f=u>>>Ga,d=c>>>Ga,f===d)r(f,gu[u&Mr]&is[(c&Mr)+1]);else for(r(f,gu[u&Mr]),r(d,is[(c&Mr)+1]),h=f+1;h<d;++h)r(h,4294967295)},clearRange:(o,s,a,l)=>{let u,c,f,d,h;for(;s<=l;++s)if(u=s*e+o,c=s*e+a,f=u>>>Ga,d=c>>>Ga,f===d)i(f,is[u&Mr]|gu[(c&Mr)+1]);else for(i(f,is[u&Mr]),i(d,gu[(c&Mr)+1]),h=f+1;h<d;++h)i(h,0)},outOfBounds:(o,s,a,l)=>o<0||s<0||l>=t||a>=e}}function pIe(e,t,n){const r=Math.max(1,Math.sqrt(e*t/1e6)),i=~~((e+2*n+r)/r),o=~~((t+2*n+r)/r),s=a=>~~((a+n)/r);return s.invert=a=>a*r-n,s.bitmap=()=>hIe(i,o),s.ratio=r,s.padding=n,s.width=e,s.height=t,s}function gIe(e,t,n,r){const i=e.width,o=e.height;return function(s){const a=s.datum.datum.items[r].items,l=a.length,u=s.datum.fontSize,c=Hi.width(s.datum,s.datum.text);let f=0,d,h,p,g,m,y,v;for(let b=0;b<l;++b)d=a[b].x,p=a[b].y,h=a[b].x2===void 0?d:a[b].x2,g=a[b].y2===void 0?p:a[b].y2,m=(d+h)/2,y=(p+g)/2,v=Math.abs(h-d+g-p),v>=f&&(f=v,s.x=m,s.y=y);return m=c/2,y=u/2,d=s.x-m,h=s.x+m,p=s.y-y,g=s.y+y,s.align="center",d<0&&h<=i?s.align="left":0<=d&&i<h&&(s.align="right"),s.baseline="middle",p<0&&g<=o?s.baseline="top":0<=p&&o<g&&(s.baseline="bottom"),!0}}function HS(e,t,n,r,i,o){let s=n/2;return e-s<0||e+s>i||t-(s=r/2)<0||t+s>o}function Lu(e,t,n,r,i,o,s,a){const l=i*o/(r*2),u=e(t-l),c=e(t+l),f=e(n-(o=o/2)),d=e(n+o);return s.outOfBounds(u,f,c,d)||s.getRange(u,f,c,d)||a&&a.getRange(u,f,c,d)}function mIe(e,t,n,r){const i=e.width,o=e.height,s=t[0],a=t[1];function l(u,c,f,d,h){const p=e.invert(u),g=e.invert(c);let m=f,y=o,v;if(!HS(p,g,d,h,i,o)&&!Lu(e,p,g,h,d,m,s,a)&&!Lu(e,p,g,h,d,h,s,null)){for(;y-m>=1;)v=(m+y)/2,Lu(e,p,g,h,d,v,s,a)?y=v:m=v;if(m>f)return[p,g,m,!0]}}return function(u){const c=u.datum.datum.items[r].items,f=c.length,d=u.datum.fontSize,h=Hi.width(u.datum,u.datum.text);let p=n?d:0,g=!1,m=!1,y=0,v,b,x,w,k,S,C,_,$,A,O,M,P,R,D,I,N;for(let B=0;B<f;++B){for(v=c[B].x,x=c[B].y,b=c[B].x2===void 0?v:c[B].x2,w=c[B].y2===void 0?x:c[B].y2,v>b&&(N=v,v=b,b=N),x>w&&(N=x,x=w,w=N),$=e(v),O=e(b),A=~~(($+O)/2),M=e(x),R=e(w),P=~~((M+R)/2),C=A;C>=$;--C)for(_=P;_>=M;--_)I=l(C,_,p,h,d),I&&([u.x,u.y,p,g]=I);for(C=A;C<=O;++C)for(_=P;_<=R;++_)I=l(C,_,p,h,d),I&&([u.x,u.y,p,g]=I);!g&&!n&&(D=Math.abs(b-v+w-x),k=(v+b)/2,S=(x+w)/2,D>=y&&!HS(k,S,h,d,i,o)&&!Lu(e,k,S,d,h,d,s,null)&&(y=D,u.x=k,u.y=S,m=!0))}return g||m?(k=h/2,S=d/2,s.setRange(e(u.x-k),e(u.y-S),e(u.x+k),e(u.y+S)),u.align="center",u.baseline="middle",!0):!1}}const yIe=[-1,-1,1,1],vIe=[-1,1,-1,1];function bIe(e,t,n,r){const i=e.width,o=e.height,s=t[0],a=t[1],l=e.bitmap();return function(u){const c=u.datum.datum.items[r].items,f=c.length,d=u.datum.fontSize,h=Hi.width(u.datum,u.datum.text),p=[];let g=n?d:0,m=!1,y=!1,v=0,b,x,w,k,S,C,_,$,A,O,M,P;for(let R=0;R<f;++R){for(b=c[R].x,w=c[R].y,x=c[R].x2===void 0?b:c[R].x2,k=c[R].y2===void 0?w:c[R].y2,p.push([e((b+x)/2),e((w+k)/2)]);p.length;)if([_,$]=p.pop(),!(s.get(_,$)||a.get(_,$)||l.get(_,$))){l.set(_,$);for(let D=0;D<4;++D)S=_+yIe[D],C=$+vIe[D],l.outOfBounds(S,C,S,C)||p.push([S,C]);if(S=e.invert(_),C=e.invert($),A=g,O=o,!HS(S,C,h,d,i,o)&&!Lu(e,S,C,d,h,A,s,a)&&!Lu(e,S,C,d,h,d,s,null)){for(;O-A>=1;)M=(A+O)/2,Lu(e,S,C,d,h,M,s,a)?O=M:A=M;A>g&&(u.x=S,u.y=C,g=A,m=!0)}}!m&&!n&&(P=Math.abs(x-b+k-w),S=(b+x)/2,C=(w+k)/2,P>=v&&!HS(S,C,h,d,i,o)&&!Lu(e,S,C,d,h,d,s,null)&&(v=P,u.x=S,u.y=C,y=!0))}return m||y?(S=h/2,C=d/2,s.setRange(e(u.x-S),e(u.y-C),e(u.x+S),e(u.y+C)),u.align="center",u.baseline="middle",!0):!1}}const xIe=["right","center","left"],wIe=["bottom","middle","top"];function SIe(e,t,n,r){const i=e.width,o=e.height,s=t[0],a=t[1],l=r.length;return function(u){const c=u.boundary,f=u.datum.fontSize;if(c[2]<0||c[5]<0||c[0]>i||c[3]>o)return!1;let d=u.textWidth??0,h,p,g,m,y,v,b,x,w,k,S,C,_,$,A;for(let O=0;O<l;++O){if(h=(n[O]&3)-1,p=(n[O]>>>2&3)-1,g=h===0&&p===0||r[O]<0,m=h&&p?Math.SQRT1_2:1,y=r[O]<0?-1:1,v=c[1+h]+r[O]*h*m,S=c[4+p]+y*f*p/2+r[O]*p*m,x=S-f/2,w=S+f/2,C=e(v),$=e(x),A=e(w),!d)if(TB(C,C,$,A,s,a,v,v,x,w,c,g))d=Hi.width(u.datum,u.datum.text);else continue;if(k=v+y*d*h/2,v=k-d/2,b=k+d/2,C=e(v),_=e(b),TB(C,_,$,A,s,a,v,b,x,w,c,g))return u.x=h?h*y<0?b:v:k,u.y=p?p*y<0?w:x:S,u.align=xIe[h*y+1],u.baseline=wIe[p*y+1],s.setRange(C,$,_,A),!0}return!1}}function TB(e,t,n,r,i,o,s,a,l,u,c,f){return!(i.outOfBounds(e,n,t,r)||(f&&o||i).getRange(e,n,t,r))}const NA=0,IA=4,LA=8,zA=0,jA=1,BA=2,kIe={"top-left":NA+zA,top:NA+jA,"top-right":NA+BA,left:IA+zA,middle:IA+jA,right:IA+BA,"bottom-left":LA+zA,bottom:LA+jA,"bottom-right":LA+BA},CIe={naive:gIe,"reduced-search":mIe,floodfill:bIe};function _Ie(e,t,n,r,i,o,s,a,l,u,c){if(!e.length)return e;const f=Math.max(r.length,i.length),d=EIe(r,f),h=$Ie(i,f),p=AIe(e[0].datum),g=p==="group"&&e[0].datum.items[l].marktype,m=g==="area",y=TIe(p,g,a,l),v=u===null||u===1/0,b=m&&c==="naive";let x=-1,w=-1;const k=e.map($=>{const A=v?Hi.width($,$.text):void 0;return x=Math.max(x,A),w=Math.max(w,$.fontSize),{datum:$,opacity:0,x:void 0,y:void 0,align:void 0,baseline:void 0,boundary:y($),textWidth:A}});u=u===null||u===1/0?Math.max(x,w)+Math.max(...r):u;const S=pIe(t[0],t[1],u);let C;if(!b){n&&k.sort((O,M)=>n(O.datum,M.datum));let $=!1;for(let O=0;O<h.length&&!$;++O)$=h[O]===5||d[O]<0;const A=(p&&s||m)&&e.map(O=>O.datum);C=o.length||A?fIe(S,A||[],o,$,m):cIe(S,s&&k)}const _=m?CIe[c](S,C,s,l):SIe(S,C,h,d);return k.forEach($=>$.opacity=+_($)),k}function EIe(e,t){const n=new Float64Array(t),r=e.length;for(let i=0;i<r;++i)n[i]=e[i]||0;for(let i=r;i<t;++i)n[i]=n[r-1];return n}function $Ie(e,t){const n=new Int8Array(t),r=e.length;for(let i=0;i<r;++i)n[i]|=kIe[e[i]];for(let i=r;i<t;++i)n[i]=n[r-1];return n}function AIe(e){return e&&e.mark&&e.mark.marktype}function TIe(e,t,n,r){const i=o=>[o.x,o.x,o.x,o.y,o.y,o.y];return e?e==="line"||e==="area"?o=>i(o.datum):t==="line"?o=>{const s=o.datum.items[r].items;return i(s.length?s[n==="start"?0:s.length-1]:{x:NaN,y:NaN})}:o=>{const s=o.datum.bounds;return[s.x1,(s.x1+s.x2)/2,s.x2,s.y1,(s.y1+s.y2)/2,s.y2]}:i}const $4=["x","y","opacity","align","baseline"],oie=["top-left","left","bottom-left","top","bottom","top-right","right","bottom-right"];function oO(e){V.call(this,null,e)}oO.Definition={type:"Label",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"sort",type:"compare"},{name:"anchor",type:"string",array:!0,default:oie},{name:"offset",type:"number",array:!0,default:[1]},{name:"padding",type:"number",default:0,null:!0},{name:"lineAnchor",type:"string",values:["start","end"],default:"end"},{name:"markIndex",type:"number",default:0},{name:"avoidBaseMark",type:"boolean",default:!0},{name:"avoidMarks",type:"data",array:!0},{name:"method",type:"string",default:"naive"},{name:"as",type:"string",array:!0,length:$4.length,default:$4}]};ne(oO,V,{transform(e,t){function n(o){const s=e[o];return Ne(s)&&t.modified(s.fields)}const r=e.modified();if(!(r||t.changed(t.ADD_REM)||n("sort")))return;(!e.size||e.size.length!==2)&&q("Size parameter should be specified as a [width, height] array.");const i=e.as||$4;return _Ie(t.materialize(t.SOURCE).source||[],e.size,e.sort,ae(e.offset==null?1:e.offset),ae(e.anchor||oie),e.avoidMarks||[],e.avoidBaseMark!==!1,e.lineAnchor||"end",e.markIndex||0,e.padding===void 0?0:e.padding,e.method||"naive").forEach(o=>{const s=o.datum;s[i[0]]=o.x,s[i[1]]=o.y,s[i[2]]=o.opacity,s[i[3]]=o.align,s[i[4]]=o.baseline}),t.reflow(r).modifies(i)}});const MIe=Object.freeze(Object.defineProperty({__proto__:null,label:oO},Symbol.toStringTag,{value:"Module"}));function sie(e,t){var n=[],r=function(c){return c(a)},i,o,s,a,l,u;if(t==null)n.push(e);else for(i={},o=0,s=e.length;o<s;++o)a=e[o],l=t.map(r),u=i[l],u||(i[l]=u=[],u.dims=l,n.push(u)),u.push(a);return n}function sO(e){V.call(this,null,e)}sO.Definition={type:"Loess",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"bandwidth",type:"number",default:.3},{name:"as",type:"string",array:!0}]};ne(sO,V,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const r=t.materialize(t.SOURCE).source,i=sie(r,e.groupby),o=(e.groupby||[]).map(nn),s=o.length,a=e.as||[nn(e.x),nn(e.y)],l=[];i.forEach(u=>{aJ(u,e.x,e.y,e.bandwidth||.3).forEach(c=>{const f={};for(let d=0;d<s;++d)f[o[d]]=u.dims[d];f[a[0]]=c[0],f[a[1]]=c[1],l.push(at(f))})}),this.value&&(n.rem=this.value),this.value=n.add=n.source=l}return n}});const A4={constant:jR,linear:BR,log:rJ,exp:iJ,pow:oJ,quad:UR,poly:sJ},FIe=(e,t)=>e==="poly"?t:e==="quad"?2:1;function aO(e){V.call(this,null,e)}aO.Definition={type:"Regression",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"string",default:"linear",values:Object.keys(A4)},{name:"order",type:"number",default:3},{name:"extent",type:"number",array:!0,length:2},{name:"params",type:"boolean",default:!1},{name:"as",type:"string",array:!0}]};ne(aO,V,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const r=t.materialize(t.SOURCE).source,i=sie(r,e.groupby),o=(e.groupby||[]).map(nn),s=e.method||"linear",a=e.order==null?3:e.order,l=FIe(s,a),u=e.as||[nn(e.x),nn(e.y)],c=A4[s],f=[];let d=e.extent;ce(A4,s)||q("Invalid regression method: "+s),d!=null&&s==="log"&&d[0]<=0&&(t.dataflow.warn("Ignoring extent with values <= 0 for log regression."),d=null),i.forEach(h=>{if(h.length<=l){t.dataflow.warn("Skipping regression with more parameters than data points.");return}const g=c(h,e.x,e.y,a);if(e.params){f.push(at({keys:h.dims,coef:g.coef,rSquared:g.rSquared}));return}const m=d||Sa(h,e.x),y=v=>{const b={};for(let x=0;x<o.length;++x)b[o[x]]=h.dims[x];b[u[0]]=v[0],b[u[1]]=v[1],f.push(at(b))};s==="linear"||s==="constant"?m.forEach(v=>y([v,g.predict(v)])):OC(g.predict,m,25,200).forEach(y)}),this.value&&(n.rem=this.value),this.value=n.add=n.source=f}return n}});const PIe=Object.freeze(Object.defineProperty({__proto__:null,loess:sO,regression:aO},Symbol.toStringTag,{value:"Module"})),xl=11102230246251565e-32,cr=134217729,RIe=(3+8*xl)*xl;function UA(e,t,n,r,i){let o,s,a,l,u=t[0],c=r[0],f=0,d=0;c>u==c>-u?(o=u,u=t[++f]):(o=c,c=r[++d]);let h=0;if(f<e&&d<n)for(c>u==c>-u?(s=u+o,a=o-(s-u),u=t[++f]):(s=c+o,a=o-(s-c),c=r[++d]),o=s,a!==0&&(i[h++]=a);f<e&&d<n;)c>u==c>-u?(s=o+u,l=s-o,a=o-(s-l)+(u-l),u=t[++f]):(s=o+c,l=s-o,a=o-(s-l)+(c-l),c=r[++d]),o=s,a!==0&&(i[h++]=a);for(;f<e;)s=o+u,l=s-o,a=o-(s-l)+(u-l),u=t[++f],o=s,a!==0&&(i[h++]=a);for(;d<n;)s=o+c,l=s-o,a=o-(s-l)+(c-l),c=r[++d],o=s,a!==0&&(i[h++]=a);return(o!==0||h===0)&&(i[h++]=o),h}function DIe(e,t){let n=t[0];for(let r=1;r<e;r++)n+=t[r];return n}function Iv(e){return new Float64Array(e)}const OIe=(3+16*xl)*xl,NIe=(2+12*xl)*xl,IIe=(9+64*xl)*xl*xl,bh=Iv(4),MB=Iv(8),FB=Iv(12),PB=Iv(16),Fr=Iv(4);function LIe(e,t,n,r,i,o,s){let a,l,u,c,f,d,h,p,g,m,y,v,b,x,w,k,S,C;const _=e-i,$=n-i,A=t-o,O=r-o;x=_*O,d=cr*_,h=d-(d-_),p=_-h,d=cr*O,g=d-(d-O),m=O-g,w=p*m-(x-h*g-p*g-h*m),k=A*$,d=cr*A,h=d-(d-A),p=A-h,d=cr*$,g=d-(d-$),m=$-g,S=p*m-(k-h*g-p*g-h*m),y=w-S,f=w-y,bh[0]=w-(y+f)+(f-S),v=x+y,f=v-x,b=x-(v-f)+(y-f),y=b-k,f=b-y,bh[1]=b-(y+f)+(f-k),C=v+y,f=C-v,bh[2]=v-(C-f)+(y-f),bh[3]=C;let M=DIe(4,bh),P=NIe*s;if(M>=P||-M>=P||(f=e-_,a=e-(_+f)+(f-i),f=n-$,u=n-($+f)+(f-i),f=t-A,l=t-(A+f)+(f-o),f=r-O,c=r-(O+f)+(f-o),a===0&&l===0&&u===0&&c===0)||(P=IIe*s+RIe*Math.abs(M),M+=_*c+O*a-(A*u+$*l),M>=P||-M>=P))return M;x=a*O,d=cr*a,h=d-(d-a),p=a-h,d=cr*O,g=d-(d-O),m=O-g,w=p*m-(x-h*g-p*g-h*m),k=l*$,d=cr*l,h=d-(d-l),p=l-h,d=cr*$,g=d-(d-$),m=$-g,S=p*m-(k-h*g-p*g-h*m),y=w-S,f=w-y,Fr[0]=w-(y+f)+(f-S),v=x+y,f=v-x,b=x-(v-f)+(y-f),y=b-k,f=b-y,Fr[1]=b-(y+f)+(f-k),C=v+y,f=C-v,Fr[2]=v-(C-f)+(y-f),Fr[3]=C;const R=UA(4,bh,4,Fr,MB);x=_*c,d=cr*_,h=d-(d-_),p=_-h,d=cr*c,g=d-(d-c),m=c-g,w=p*m-(x-h*g-p*g-h*m),k=A*u,d=cr*A,h=d-(d-A),p=A-h,d=cr*u,g=d-(d-u),m=u-g,S=p*m-(k-h*g-p*g-h*m),y=w-S,f=w-y,Fr[0]=w-(y+f)+(f-S),v=x+y,f=v-x,b=x-(v-f)+(y-f),y=b-k,f=b-y,Fr[1]=b-(y+f)+(f-k),C=v+y,f=C-v,Fr[2]=v-(C-f)+(y-f),Fr[3]=C;const D=UA(R,MB,4,Fr,FB);x=a*c,d=cr*a,h=d-(d-a),p=a-h,d=cr*c,g=d-(d-c),m=c-g,w=p*m-(x-h*g-p*g-h*m),k=l*u,d=cr*l,h=d-(d-l),p=l-h,d=cr*u,g=d-(d-u),m=u-g,S=p*m-(k-h*g-p*g-h*m),y=w-S,f=w-y,Fr[0]=w-(y+f)+(f-S),v=x+y,f=v-x,b=x-(v-f)+(y-f),y=b-k,f=b-y,Fr[1]=b-(y+f)+(f-k),C=v+y,f=C-v,Fr[2]=v-(C-f)+(y-f),Fr[3]=C;const I=UA(D,FB,4,Fr,PB);return PB[I-1]}function mx(e,t,n,r,i,o){const s=(t-o)*(n-i),a=(e-i)*(r-o),l=s-a,u=Math.abs(s+a);return Math.abs(l)>=OIe*u?l:-LIe(e,t,n,r,i,o,u)}const RB=Math.pow(2,-52),yx=new Uint32Array(512);class qS{static from(t,n=VIe,r=WIe){const i=t.length,o=new Float64Array(i*2);for(let s=0;s<i;s++){const a=t[s];o[2*s]=n(a),o[2*s+1]=r(a)}return new qS(o)}constructor(t){const n=t.length>>1;if(n>0&&typeof t[0]!="number")throw new Error("Expected coords to contain numbers.");this.coords=t;const r=Math.max(2*n-5,0);this._triangles=new Uint32Array(r*3),this._halfedges=new Int32Array(r*3),this._hashSize=Math.ceil(Math.sqrt(n)),this._hullPrev=new Uint32Array(n),this._hullNext=new Uint32Array(n),this._hullTri=new Uint32Array(n),this._hullHash=new Int32Array(this._hashSize),this._ids=new Uint32Array(n),this._dists=new Float64Array(n),this.update()}update(){const{coords:t,_hullPrev:n,_hullNext:r,_hullTri:i,_hullHash:o}=this,s=t.length>>1;let a=1/0,l=1/0,u=-1/0,c=-1/0;for(let _=0;_<s;_++){const $=t[2*_],A=t[2*_+1];$<a&&(a=$),A<l&&(l=A),$>u&&(u=$),A>c&&(c=A),this._ids[_]=_}const f=(a+u)/2,d=(l+c)/2;let h,p,g;for(let _=0,$=1/0;_<s;_++){const A=VA(f,d,t[2*_],t[2*_+1]);A<$&&(h=_,$=A)}const m=t[2*h],y=t[2*h+1];for(let _=0,$=1/0;_<s;_++){if(_===h)continue;const A=VA(m,y,t[2*_],t[2*_+1]);A<$&&A>0&&(p=_,$=A)}let v=t[2*p],b=t[2*p+1],x=1/0;for(let _=0;_<s;_++){if(_===h||_===p)continue;const $=BIe(m,y,v,b,t[2*_],t[2*_+1]);$<x&&(g=_,x=$)}let w=t[2*g],k=t[2*g+1];if(x===1/0){for(let A=0;A<s;A++)this._dists[A]=t[2*A]-t[0]||t[2*A+1]-t[1];rp(this._ids,this._dists,0,s-1);const _=new Uint32Array(s);let $=0;for(let A=0,O=-1/0;A<s;A++){const M=this._ids[A],P=this._dists[M];P>O&&(_[$++]=M,O=P)}this.hull=_.subarray(0,$),this.triangles=new Uint32Array(0),this.halfedges=new Uint32Array(0);return}if(mx(m,y,v,b,w,k)<0){const _=p,$=v,A=b;p=g,v=w,b=k,g=_,w=$,k=A}const S=UIe(m,y,v,b,w,k);this._cx=S.x,this._cy=S.y;for(let _=0;_<s;_++)this._dists[_]=VA(t[2*_],t[2*_+1],S.x,S.y);rp(this._ids,this._dists,0,s-1),this._hullStart=h;let C=3;r[h]=n[g]=p,r[p]=n[h]=g,r[g]=n[p]=h,i[h]=0,i[p]=1,i[g]=2,o.fill(-1),o[this._hashKey(m,y)]=h,o[this._hashKey(v,b)]=p,o[this._hashKey(w,k)]=g,this.trianglesLen=0,this._addTriangle(h,p,g,-1,-1,-1);for(let _=0,$,A;_<this._ids.length;_++){const O=this._ids[_],M=t[2*O],P=t[2*O+1];if(_>0&&Math.abs(M-$)<=RB&&Math.abs(P-A)<=RB||($=M,A=P,O===h||O===p||O===g))continue;let R=0;for(let Y=0,W=this._hashKey(M,P);Y<this._hashSize&&(R=o[(W+Y)%this._hashSize],!(R!==-1&&R!==r[R]));Y++);R=n[R];let D=R,I;for(;I=r[D],mx(M,P,t[2*D],t[2*D+1],t[2*I],t[2*I+1])>=0;)if(D=I,D===R){D=-1;break}if(D===-1)continue;let N=this._addTriangle(D,O,r[D],-1,-1,i[D]);i[O]=this._legalize(N+2),i[D]=N,C++;let B=r[D];for(;I=r[B],mx(M,P,t[2*B],t[2*B+1],t[2*I],t[2*I+1])<0;)N=this._addTriangle(B,O,I,i[O],-1,i[B]),i[O]=this._legalize(N+2),r[B]=B,C--,B=I;if(D===R)for(;I=n[D],mx(M,P,t[2*I],t[2*I+1],t[2*D],t[2*D+1])<0;)N=this._addTriangle(I,O,D,-1,i[D],i[I]),this._legalize(N+2),i[I]=N,r[D]=D,C--,D=I;this._hullStart=n[O]=D,r[D]=n[B]=O,r[O]=B,o[this._hashKey(M,P)]=O,o[this._hashKey(t[2*D],t[2*D+1])]=D}this.hull=new Uint32Array(C);for(let _=0,$=this._hullStart;_<C;_++)this.hull[_]=$,$=r[$];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(t,n){return Math.floor(zIe(t-this._cx,n-this._cy)*this._hashSize)%this._hashSize}_legalize(t){const{_triangles:n,_halfedges:r,coords:i}=this;let o=0,s=0;for(;;){const a=r[t],l=t-t%3;if(s=l+(t+2)%3,a===-1){if(o===0)break;t=yx[--o];continue}const u=a-a%3,c=l+(t+1)%3,f=u+(a+2)%3,d=n[s],h=n[t],p=n[c],g=n[f];if(jIe(i[2*d],i[2*d+1],i[2*h],i[2*h+1],i[2*p],i[2*p+1],i[2*g],i[2*g+1])){n[t]=g,n[a]=d;const y=r[f];if(y===-1){let b=this._hullStart;do{if(this._hullTri[b]===f){this._hullTri[b]=t;break}b=this._hullPrev[b]}while(b!==this._hullStart)}this._link(t,y),this._link(a,r[s]),this._link(s,f);const v=u+(a+1)%3;o<yx.length&&(yx[o++]=v)}else{if(o===0)break;t=yx[--o]}}return s}_link(t,n){this._halfedges[t]=n,n!==-1&&(this._halfedges[n]=t)}_addTriangle(t,n,r,i,o,s){const a=this.trianglesLen;return this._triangles[a]=t,this._triangles[a+1]=n,this._triangles[a+2]=r,this._link(a,i),this._link(a+1,o),this._link(a+2,s),this.trianglesLen+=3,a}}function zIe(e,t){const n=e/(Math.abs(e)+Math.abs(t));return(t>0?3-n:1+n)/4}function VA(e,t,n,r){const i=e-n,o=t-r;return i*i+o*o}function jIe(e,t,n,r,i,o,s,a){const l=e-s,u=t-a,c=n-s,f=r-a,d=i-s,h=o-a,p=l*l+u*u,g=c*c+f*f,m=d*d+h*h;return l*(f*m-g*h)-u*(c*m-g*d)+p*(c*h-f*d)<0}function BIe(e,t,n,r,i,o){const s=n-e,a=r-t,l=i-e,u=o-t,c=s*s+a*a,f=l*l+u*u,d=.5/(s*u-a*l),h=(u*c-a*f)*d,p=(s*f-l*c)*d;return h*h+p*p}function UIe(e,t,n,r,i,o){const s=n-e,a=r-t,l=i-e,u=o-t,c=s*s+a*a,f=l*l+u*u,d=.5/(s*u-a*l),h=e+(u*c-a*f)*d,p=t+(s*f-l*c)*d;return{x:h,y:p}}function rp(e,t,n,r){if(r-n<=20)for(let i=n+1;i<=r;i++){const o=e[i],s=t[o];let a=i-1;for(;a>=n&&t[e[a]]>s;)e[a+1]=e[a--];e[a+1]=o}else{const i=n+r>>1;let o=n+1,s=r;Zm(e,i,o),t[e[n]]>t[e[r]]&&Zm(e,n,r),t[e[o]]>t[e[r]]&&Zm(e,o,r),t[e[n]]>t[e[o]]&&Zm(e,n,o);const a=e[o],l=t[a];for(;;){do o++;while(t[e[o]]<l);do s--;while(t[e[s]]>l);if(s<o)break;Zm(e,o,s)}e[n+1]=e[s],e[s]=a,r-o+1>=s-n?(rp(e,t,o,r),rp(e,t,n,s-1)):(rp(e,t,n,s-1),rp(e,t,o,r))}}function Zm(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function VIe(e){return e[0]}function WIe(e){return e[1]}const DB=1e-6;class Ff{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(t,n){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(t,n){this._+=`L${this._x1=+t},${this._y1=+n}`}arc(t,n,r){t=+t,n=+n,r=+r;const i=t+r,o=n;if(r<0)throw new Error("negative radius");this._x1===null?this._+=`M${i},${o}`:(Math.abs(this._x1-i)>DB||Math.abs(this._y1-o)>DB)&&(this._+="L"+i+","+o),r&&(this._+=`A${r},${r},0,1,1,${t-r},${n}A${r},${r},0,1,1,${this._x1=i},${this._y1=o}`)}rect(t,n,r,i){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${+r}v${+i}h${-r}Z`}value(){return this._||null}}class T4{constructor(){this._=[]}moveTo(t,n){this._.push([t,n])}closePath(){this._.push(this._[0].slice())}lineTo(t,n){this._.push([t,n])}value(){return this._.length?this._:null}}let HIe=class{constructor(t,[n,r,i,o]=[0,0,960,500]){if(!((i=+i)>=(n=+n))||!((o=+o)>=(r=+r)))throw new Error("invalid bounds");this.delaunay=t,this._circumcenters=new Float64Array(t.points.length*2),this.vectors=new Float64Array(t.points.length*2),this.xmax=i,this.xmin=n,this.ymax=o,this.ymin=r,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){const{delaunay:{points:t,hull:n,triangles:r},vectors:i}=this;let o,s;const a=this.circumcenters=this._circumcenters.subarray(0,r.length/3*2);for(let g=0,m=0,y=r.length,v,b;g<y;g+=3,m+=2){const x=r[g]*2,w=r[g+1]*2,k=r[g+2]*2,S=t[x],C=t[x+1],_=t[w],$=t[w+1],A=t[k],O=t[k+1],M=_-S,P=$-C,R=A-S,D=O-C,I=(M*D-P*R)*2;if(Math.abs(I)<1e-9){if(o===void 0){o=s=0;for(const B of n)o+=t[B*2],s+=t[B*2+1];o/=n.length,s/=n.length}const N=1e9*Math.sign((o-S)*D-(s-C)*R);v=(S+A)/2-N*D,b=(C+O)/2+N*R}else{const N=1/I,B=M*M+P*P,Y=R*R+D*D;v=S+(D*B-P*Y)*N,b=C+(M*Y-R*B)*N}a[m]=v,a[m+1]=b}let l=n[n.length-1],u,c=l*4,f,d=t[2*l],h,p=t[2*l+1];i.fill(0);for(let g=0;g<n.length;++g)l=n[g],u=c,f=d,h=p,c=l*4,d=t[2*l],p=t[2*l+1],i[u+2]=i[c]=h-p,i[u+3]=i[c+1]=d-f}render(t){const n=t==null?t=new Ff:void 0,{delaunay:{halfedges:r,inedges:i,hull:o},circumcenters:s,vectors:a}=this;if(o.length<=1)return null;for(let c=0,f=r.length;c<f;++c){const d=r[c];if(d<c)continue;const h=Math.floor(c/3)*2,p=Math.floor(d/3)*2,g=s[h],m=s[h+1],y=s[p],v=s[p+1];this._renderSegment(g,m,y,v,t)}let l,u=o[o.length-1];for(let c=0;c<o.length;++c){l=u,u=o[c];const f=Math.floor(i[u]/3)*2,d=s[f],h=s[f+1],p=l*4,g=this._project(d,h,a[p+2],a[p+3]);g&&this._renderSegment(d,h,g[0],g[1],t)}return n&&n.value()}renderBounds(t){const n=t==null?t=new Ff:void 0;return t.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),n&&n.value()}renderCell(t,n){const r=n==null?n=new Ff:void 0,i=this._clip(t);if(i===null||!i.length)return;n.moveTo(i[0],i[1]);let o=i.length;for(;i[0]===i[o-2]&&i[1]===i[o-1]&&o>1;)o-=2;for(let s=2;s<o;s+=2)(i[s]!==i[s-2]||i[s+1]!==i[s-1])&&n.lineTo(i[s],i[s+1]);return n.closePath(),r&&r.value()}*cellPolygons(){const{delaunay:{points:t}}=this;for(let n=0,r=t.length/2;n<r;++n){const i=this.cellPolygon(n);i&&(i.index=n,yield i)}}cellPolygon(t){const n=new T4;return this.renderCell(t,n),n.value()}_renderSegment(t,n,r,i,o){let s;const a=this._regioncode(t,n),l=this._regioncode(r,i);a===0&&l===0?(o.moveTo(t,n),o.lineTo(r,i)):(s=this._clipSegment(t,n,r,i,a,l))&&(o.moveTo(s[0],s[1]),o.lineTo(s[2],s[3]))}contains(t,n,r){return n=+n,n!==n||(r=+r,r!==r)?!1:this.delaunay._step(t,n,r)===t}*neighbors(t){const n=this._clip(t);if(n)for(const r of this.delaunay.neighbors(t)){const i=this._clip(r);if(i){e:for(let o=0,s=n.length;o<s;o+=2)for(let a=0,l=i.length;a<l;a+=2)if(n[o]===i[a]&&n[o+1]===i[a+1]&&n[(o+2)%s]===i[(a+l-2)%l]&&n[(o+3)%s]===i[(a+l-1)%l]){yield r;break e}}}}_cell(t){const{circumcenters:n,delaunay:{inedges:r,halfedges:i,triangles:o}}=this,s=r[t];if(s===-1)return null;const a=[];let l=s;do{const u=Math.floor(l/3);if(a.push(n[u*2],n[u*2+1]),l=l%3===2?l-2:l+1,o[l]!==t)break;l=i[l]}while(l!==s&&l!==-1);return a}_clip(t){if(t===0&&this.delaunay.hull.length===1)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const n=this._cell(t);if(n===null)return null;const{vectors:r}=this,i=t*4;return this._simplify(r[i]||r[i+1]?this._clipInfinite(t,n,r[i],r[i+1],r[i+2],r[i+3]):this._clipFinite(t,n))}_clipFinite(t,n){const r=n.length;let i=null,o,s,a=n[r-2],l=n[r-1],u,c=this._regioncode(a,l),f,d=0;for(let h=0;h<r;h+=2)if(o=a,s=l,a=n[h],l=n[h+1],u=c,c=this._regioncode(a,l),u===0&&c===0)f=d,d=0,i?i.push(a,l):i=[a,l];else{let p,g,m,y,v;if(u===0){if((p=this._clipSegment(o,s,a,l,u,c))===null)continue;[g,m,y,v]=p}else{if((p=this._clipSegment(a,l,o,s,c,u))===null)continue;[y,v,g,m]=p,f=d,d=this._edgecode(g,m),f&&d&&this._edge(t,f,d,i,i.length),i?i.push(g,m):i=[g,m]}f=d,d=this._edgecode(y,v),f&&d&&this._edge(t,f,d,i,i.length),i?i.push(y,v):i=[y,v]}if(i)f=d,d=this._edgecode(i[0],i[1]),f&&d&&this._edge(t,f,d,i,i.length);else if(this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return i}_clipSegment(t,n,r,i,o,s){const a=o<s;for(a&&([t,n,r,i,o,s]=[r,i,t,n,s,o]);;){if(o===0&&s===0)return a?[r,i,t,n]:[t,n,r,i];if(o&s)return null;let l,u,c=o||s;c&8?(l=t+(r-t)*(this.ymax-n)/(i-n),u=this.ymax):c&4?(l=t+(r-t)*(this.ymin-n)/(i-n),u=this.ymin):c&2?(u=n+(i-n)*(this.xmax-t)/(r-t),l=this.xmax):(u=n+(i-n)*(this.xmin-t)/(r-t),l=this.xmin),o?(t=l,n=u,o=this._regioncode(t,n)):(r=l,i=u,s=this._regioncode(r,i))}}_clipInfinite(t,n,r,i,o,s){let a=Array.from(n),l;if((l=this._project(a[0],a[1],r,i))&&a.unshift(l[0],l[1]),(l=this._project(a[a.length-2],a[a.length-1],o,s))&&a.push(l[0],l[1]),a=this._clipFinite(t,a))for(let u=0,c=a.length,f,d=this._edgecode(a[c-2],a[c-1]);u<c;u+=2)f=d,d=this._edgecode(a[u],a[u+1]),f&&d&&(u=this._edge(t,f,d,a,u),c=a.length);else this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(a=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return a}_edge(t,n,r,i,o){for(;n!==r;){let s,a;switch(n){case 5:n=4;continue;case 4:n=6,s=this.xmax,a=this.ymin;break;case 6:n=2;continue;case 2:n=10,s=this.xmax,a=this.ymax;break;case 10:n=8;continue;case 8:n=9,s=this.xmin,a=this.ymax;break;case 9:n=1;continue;case 1:n=5,s=this.xmin,a=this.ymin;break}(i[o]!==s||i[o+1]!==a)&&this.contains(t,s,a)&&(i.splice(o,0,s,a),o+=2)}return o}_project(t,n,r,i){let o=1/0,s,a,l;if(i<0){if(n<=this.ymin)return null;(s=(this.ymin-n)/i)<o&&(l=this.ymin,a=t+(o=s)*r)}else if(i>0){if(n>=this.ymax)return null;(s=(this.ymax-n)/i)<o&&(l=this.ymax,a=t+(o=s)*r)}if(r>0){if(t>=this.xmax)return null;(s=(this.xmax-t)/r)<o&&(a=this.xmax,l=n+(o=s)*i)}else if(r<0){if(t<=this.xmin)return null;(s=(this.xmin-t)/r)<o&&(a=this.xmin,l=n+(o=s)*i)}return[a,l]}_edgecode(t,n){return(t===this.xmin?1:t===this.xmax?2:0)|(n===this.ymin?4:n===this.ymax?8:0)}_regioncode(t,n){return(t<this.xmin?1:t>this.xmax?2:0)|(n<this.ymin?4:n>this.ymax?8:0)}_simplify(t){if(t&&t.length>4){for(let n=0;n<t.length;n+=2){const r=(n+2)%t.length,i=(n+4)%t.length;(t[n]===t[r]&&t[r]===t[i]||t[n+1]===t[r+1]&&t[r+1]===t[i+1])&&(t.splice(r,2),n-=2)}t.length||(t=null)}return t}};const qIe=2*Math.PI,xh=Math.pow;function GIe(e){return e[0]}function YIe(e){return e[1]}function XIe(e){const{triangles:t,coords:n}=e;for(let r=0;r<t.length;r+=3){const i=2*t[r],o=2*t[r+1],s=2*t[r+2];if((n[s]-n[i])*(n[o+1]-n[i+1])-(n[o]-n[i])*(n[s+1]-n[i+1])>1e-10)return!1}return!0}function KIe(e,t,n){return[e+Math.sin(e+t)*n,t+Math.cos(e-t)*n]}class lO{static from(t,n=GIe,r=YIe,i){return new lO("length"in t?QIe(t,n,r,i):Float64Array.from(ZIe(t,n,r,i)))}constructor(t){this._delaunator=new qS(t),this.inedges=new Int32Array(t.length/2),this._hullIndex=new Int32Array(t.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){const t=this._delaunator,n=this.points;if(t.hull&&t.hull.length>2&&XIe(t)){this.collinear=Int32Array.from({length:n.length/2},(d,h)=>h).sort((d,h)=>n[2*d]-n[2*h]||n[2*d+1]-n[2*h+1]);const l=this.collinear[0],u=this.collinear[this.collinear.length-1],c=[n[2*l],n[2*l+1],n[2*u],n[2*u+1]],f=1e-8*Math.hypot(c[3]-c[1],c[2]-c[0]);for(let d=0,h=n.length/2;d<h;++d){const p=KIe(n[2*d],n[2*d+1],f);n[2*d]=p[0],n[2*d+1]=p[1]}this._delaunator=new qS(n)}else delete this.collinear;const r=this.halfedges=this._delaunator.halfedges,i=this.hull=this._delaunator.hull,o=this.triangles=this._delaunator.triangles,s=this.inedges.fill(-1),a=this._hullIndex.fill(-1);for(let l=0,u=r.length;l<u;++l){const c=o[l%3===2?l-2:l+1];(r[l]===-1||s[c]===-1)&&(s[c]=l)}for(let l=0,u=i.length;l<u;++l)a[i[l]]=l;i.length<=2&&i.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=i[0],s[i[0]]=1,i.length===2&&(s[i[1]]=0,this.triangles[1]=i[1],this.triangles[2]=i[1]))}voronoi(t){return new HIe(this,t)}*neighbors(t){const{inedges:n,hull:r,_hullIndex:i,halfedges:o,triangles:s,collinear:a}=this;if(a){const f=a.indexOf(t);f>0&&(yield a[f-1]),f<a.length-1&&(yield a[f+1]);return}const l=n[t];if(l===-1)return;let u=l,c=-1;do{if(yield c=s[u],u=u%3===2?u-2:u+1,s[u]!==t)return;if(u=o[u],u===-1){const f=r[(i[t]+1)%r.length];f!==c&&(yield f);return}}while(u!==l)}find(t,n,r=0){if(t=+t,t!==t||(n=+n,n!==n))return-1;const i=r;let o;for(;(o=this._step(r,t,n))>=0&&o!==r&&o!==i;)r=o;return o}_step(t,n,r){const{inedges:i,hull:o,_hullIndex:s,halfedges:a,triangles:l,points:u}=this;if(i[t]===-1||!u.length)return(t+1)%(u.length>>1);let c=t,f=xh(n-u[t*2],2)+xh(r-u[t*2+1],2);const d=i[t];let h=d;do{let p=l[h];const g=xh(n-u[p*2],2)+xh(r-u[p*2+1],2);if(g<f&&(f=g,c=p),h=h%3===2?h-2:h+1,l[h]!==t)break;if(h=a[h],h===-1){if(h=o[(s[t]+1)%o.length],h!==p&&xh(n-u[h*2],2)+xh(r-u[h*2+1],2)<f)return h;break}}while(h!==d);return c}render(t){const n=t==null?t=new Ff:void 0,{points:r,halfedges:i,triangles:o}=this;for(let s=0,a=i.length;s<a;++s){const l=i[s];if(l<s)continue;const u=o[s]*2,c=o[l]*2;t.moveTo(r[u],r[u+1]),t.lineTo(r[c],r[c+1])}return this.renderHull(t),n&&n.value()}renderPoints(t,n){n===void 0&&(!t||typeof t.moveTo!="function")&&(n=t,t=null),n=n==null?2:+n;const r=t==null?t=new Ff:void 0,{points:i}=this;for(let o=0,s=i.length;o<s;o+=2){const a=i[o],l=i[o+1];t.moveTo(a+n,l),t.arc(a,l,n,0,qIe)}return r&&r.value()}renderHull(t){const n=t==null?t=new Ff:void 0,{hull:r,points:i}=this,o=r[0]*2,s=r.length;t.moveTo(i[o],i[o+1]);for(let a=1;a<s;++a){const l=2*r[a];t.lineTo(i[l],i[l+1])}return t.closePath(),n&&n.value()}hullPolygon(){const t=new T4;return this.renderHull(t),t.value()}renderTriangle(t,n){const r=n==null?n=new Ff:void 0,{points:i,triangles:o}=this,s=o[t*=3]*2,a=o[t+1]*2,l=o[t+2]*2;return n.moveTo(i[s],i[s+1]),n.lineTo(i[a],i[a+1]),n.lineTo(i[l],i[l+1]),n.closePath(),r&&r.value()}*trianglePolygons(){const{triangles:t}=this;for(let n=0,r=t.length/3;n<r;++n)yield this.trianglePolygon(n)}trianglePolygon(t){const n=new T4;return this.renderTriangle(t,n),n.value()}}function QIe(e,t,n,r){const i=e.length,o=new Float64Array(i*2);for(let s=0;s<i;++s){const a=e[s];o[s*2]=t.call(r,a,s,e),o[s*2+1]=n.call(r,a,s,e)}return o}function*ZIe(e,t,n,r){let i=0;for(const o of e)yield t.call(r,o,i,e),yield n.call(r,o,i,e),++i}function uO(e){V.call(this,null,e)}uO.Definition={type:"Voronoi",metadata:{modifies:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"size",type:"number",array:!0,length:2},{name:"extent",type:"array",array:!0,length:2,default:[[-1e5,-1e5],[1e5,1e5]],content:{type:"number",array:!0,length:2}},{name:"as",type:"string",default:"path"}]};const JIe=[-1e5,-1e5,1e5,1e5];ne(uO,V,{transform(e,t){const n=e.as||"path",r=t.source;if(!r||!r.length)return t;let i=e.size;i=i?[0,0,i[0],i[1]]:(i=e.extent)?[i[0][0],i[0][1],i[1][0],i[1][1]]:JIe;const o=this.value=lO.from(r,e.x,e.y).voronoi(i);for(let s=0,a=r.length;s<a;++s){const l=o.cellPolygon(s);r[s][n]=l&&!tLe(l)?eLe(l):null}return t.reflow(e.modified()).modifies(n)}});function eLe(e){const t=e[0][0],n=e[0][1];let r=e.length-1;for(;e[r][0]===t&&e[r][1]===n;--r);return"M"+e.slice(0,r+1).join("L")+"Z"}function tLe(e){return e.length===2&&e[0][0]===e[1][0]&&e[0][1]===e[1][1]}const nLe=Object.freeze(Object.defineProperty({__proto__:null,voronoi:uO},Symbol.toStringTag,{value:"Module"}));var WA=Math.PI/180,W0=64,P2=2048;function rLe(){var e=[256,256],t,n,r,i,o,s,a,l=aie,u=[],c=Math.random,f={};f.layout=function(){for(var p=d(Ju()),g=uLe((e[0]>>5)*e[1]),m=null,y=u.length,v=-1,b=[],x=u.map(k=>({text:t(k),font:n(k),style:i(k),weight:o(k),rotate:s(k),size:~~(r(k)+1e-14),padding:a(k),xoff:0,yoff:0,x1:0,y1:0,x0:0,y0:0,hasText:!1,sprite:null,datum:k})).sort((k,S)=>S.size-k.size);++v<y;){var w=x[v];w.x=e[0]*(c()+.5)>>1,w.y=e[1]*(c()+.5)>>1,iLe(p,w,x,v),w.hasText&&h(g,w,m)&&(b.push(w),m?sLe(m,w):m=[{x:w.x+w.x0,y:w.y+w.y0},{x:w.x+w.x1,y:w.y+w.y1}],w.x-=e[0]>>1,w.y-=e[1]>>1)}return b};function d(p){p.width=p.height=1;var g=Math.sqrt(p.getContext("2d").getImageData(0,0,1,1).data.length>>2);p.width=(W0<<5)/g,p.height=P2/g;var m=p.getContext("2d");return m.fillStyle=m.strokeStyle="red",m.textAlign="center",{context:m,ratio:g}}function h(p,g,m){for(var y=g.x,v=g.y,b=Math.hypot(e[0],e[1]),x=l(e),w=c()<.5?1:-1,k=-w,S,C,_;(S=x(k+=w))&&(C=~~S[0],_=~~S[1],!(Math.min(Math.abs(C),Math.abs(_))>=b));)if(g.x=y+C,g.y=v+_,!(g.x+g.x0<0||g.y+g.y0<0||g.x+g.x1>e[0]||g.y+g.y1>e[1])&&(!m||!oLe(g,p,e[0]))&&(!m||aLe(g,m))){for(var $=g.sprite,A=g.width>>5,O=e[0]>>5,M=g.x-(A<<4),P=M&127,R=32-P,D=g.y1-g.y0,I=(g.y+g.y0)*O+(M>>5),N,B=0;B<D;B++){N=0;for(var Y=0;Y<=A;Y++)p[I+Y]|=N<<R|(Y<A?(N=$[B*A+Y])>>>P:0);I+=O}return g.sprite=null,!0}return!1}return f.words=function(p){return arguments.length?(u=p,f):u},f.size=function(p){return arguments.length?(e=[+p[0],+p[1]],f):e},f.font=function(p){return arguments.length?(n=Gc(p),f):n},f.fontStyle=function(p){return arguments.length?(i=Gc(p),f):i},f.fontWeight=function(p){return arguments.length?(o=Gc(p),f):o},f.rotate=function(p){return arguments.length?(s=Gc(p),f):s},f.text=function(p){return arguments.length?(t=Gc(p),f):t},f.spiral=function(p){return arguments.length?(l=cLe[p]||p,f):l},f.fontSize=function(p){return arguments.length?(r=Gc(p),f):r},f.padding=function(p){return arguments.length?(a=Gc(p),f):a},f.random=function(p){return arguments.length?(c=p,f):c},f}function iLe(e,t,n,r){if(!t.sprite){var i=e.context,o=e.ratio;i.clearRect(0,0,(W0<<5)/o,P2/o);var s=0,a=0,l=0,u=n.length,c,f,d,h,p;for(--r;++r<u;){if(t=n[r],i.save(),i.font=t.style+" "+t.weight+" "+~~((t.size+1)/o)+"px "+t.font,c=i.measureText(t.text+"m").width*o,d=t.size<<1,t.rotate){var g=Math.sin(t.rotate*WA),m=Math.cos(t.rotate*WA),y=c*m,v=c*g,b=d*m,x=d*g;c=Math.max(Math.abs(y+x),Math.abs(y-x))+31>>5<<5,d=~~Math.max(Math.abs(v+b),Math.abs(v-b))}else c=c+31>>5<<5;if(d>l&&(l=d),s+c>=W0<<5&&(s=0,a+=l,l=0),a+d>=P2)break;i.translate((s+(c>>1))/o,(a+(d>>1))/o),t.rotate&&i.rotate(t.rotate*WA),i.fillText(t.text,0,0),t.padding&&(i.lineWidth=2*t.padding,i.strokeText(t.text,0,0)),i.restore(),t.width=c,t.height=d,t.xoff=s,t.yoff=a,t.x1=c>>1,t.y1=d>>1,t.x0=-t.x1,t.y0=-t.y1,t.hasText=!0,s+=c}for(var w=i.getImageData(0,0,(W0<<5)/o,P2/o).data,k=[];--r>=0;)if(t=n[r],!!t.hasText){for(c=t.width,f=c>>5,d=t.y1-t.y0,h=0;h<d*f;h++)k[h]=0;if(s=t.xoff,s==null)return;a=t.yoff;var S=0,C=-1;for(p=0;p<d;p++){for(h=0;h<c;h++){var _=f*p+(h>>5),$=w[(a+p)*(W0<<5)+(s+h)<<2]?1<<31-h%32:0;k[_]|=$,S|=$}S?C=p:(t.y0++,d--,p--,a++)}t.y1=t.y0+C,t.sprite=k.slice(0,(t.y1-t.y0)*f)}}}function oLe(e,t,n){n>>=5;for(var r=e.sprite,i=e.width>>5,o=e.x-(i<<4),s=o&127,a=32-s,l=e.y1-e.y0,u=(e.y+e.y0)*n+(o>>5),c,f=0;f<l;f++){c=0;for(var d=0;d<=i;d++)if((c<<a|(d<i?(c=r[f*i+d])>>>s:0))&t[u+d])return!0;u+=n}return!1}function sLe(e,t){var n=e[0],r=e[1];t.x+t.x0<n.x&&(n.x=t.x+t.x0),t.y+t.y0<n.y&&(n.y=t.y+t.y0),t.x+t.x1>r.x&&(r.x=t.x+t.x1),t.y+t.y1>r.y&&(r.y=t.y+t.y1)}function aLe(e,t){return e.x+e.x1>t[0].x&&e.x+e.x0<t[1].x&&e.y+e.y1>t[0].y&&e.y+e.y0<t[1].y}function aie(e){var t=e[0]/e[1];return function(n){return[t*(n*=.1)*Math.cos(n),n*Math.sin(n)]}}function lLe(e){var t=4,n=t*e[0]/e[1],r=0,i=0;return function(o){var s=o<0?-1:1;switch(Math.sqrt(1+4*s*o)-s&3){case 0:r+=n;break;case 1:i+=t;break;case 2:r-=n;break;default:i-=t;break}return[r,i]}}function uLe(e){for(var t=[],n=-1;++n<e;)t[n]=0;return t}function Gc(e){return typeof e=="function"?e:function(){return e}}var cLe={archimedean:aie,rectangular:lLe};const lie=["x","y","font","fontSize","fontStyle","fontWeight","angle"],fLe=["text","font","rotate","fontSize","fontStyle","fontWeight"];function cO(e){V.call(this,rLe(),e)}cO.Definition={type:"Wordcloud",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2},{name:"font",type:"string",expr:!0,default:"sans-serif"},{name:"fontStyle",type:"string",expr:!0,default:"normal"},{name:"fontWeight",type:"string",expr:!0,default:"normal"},{name:"fontSize",type:"number",expr:!0,default:14},{name:"fontSizeRange",type:"number",array:"nullable",default:[10,50]},{name:"rotate",type:"number",expr:!0,default:0},{name:"text",type:"field"},{name:"spiral",type:"string",values:["archimedean","rectangular"]},{name:"padding",type:"number",expr:!0},{name:"as",type:"string",array:!0,length:7,default:lie}]};ne(cO,V,{transform(e,t){e.size&&!(e.size[0]&&e.size[1])&&q("Wordcloud size dimensions must be non-zero.");function n(p){const g=e[p];return Ne(g)&&t.modified(g.fields)}const r=e.modified();if(!(r||t.changed(t.ADD_REM)||fLe.some(n)))return;const i=t.materialize(t.SOURCE).source,o=this.value,s=e.as||lie;let a=e.fontSize||14,l;if(Ne(a)?l=e.fontSizeRange:a=Tr(a),l){const p=a,g=et("sqrt")().domain(Sa(i,p)).range(l);a=m=>g(p(m))}i.forEach(p=>{p[s[0]]=NaN,p[s[1]]=NaN,p[s[3]]=0});const u=o.words(i).text(e.text).size(e.size||[500,500]).padding(e.padding||1).spiral(e.spiral||"archimedean").rotate(e.rotate||0).font(e.font||"sans-serif").fontStyle(e.fontStyle||"normal").fontWeight(e.fontWeight||"normal").fontSize(a).random(No).layout(),c=o.size(),f=c[0]>>1,d=c[1]>>1,h=u.length;for(let p=0,g,m;p<h;++p)g=u[p],m=g.datum,m[s[0]]=g.x+f,m[s[1]]=g.y+d,m[s[2]]=g.font,m[s[3]]=g.size,m[s[4]]=g.style,m[s[5]]=g.weight,m[s[6]]=g.rotate;return t.reflow(r).modifies(s)}});const dLe=Object.freeze(Object.defineProperty({__proto__:null,wordcloud:cO},Symbol.toStringTag,{value:"Module"})),hLe=e=>new Uint8Array(e),pLe=e=>new Uint16Array(e),Ey=e=>new Uint32Array(e);function gLe(){let e=8,t=[],n=Ey(0),r=vx(0,e),i=vx(0,e);return{data:()=>t,seen:()=>n=mLe(n,t.length),add(o){for(let s=0,a=t.length,l=o.length,u;s<l;++s)u=o[s],u._index=a++,t.push(u)},remove(o,s){const a=t.length,l=Array(a-o),u=t;let c,f,d;for(f=0;!s[f]&&f<a;++f)l[f]=t[f],u[f]=f;for(d=f;f<a;++f)c=t[f],s[f]?u[f]=-1:(u[f]=d,r[d]=r[f],i[d]=i[f],l[d]=c,c._index=d++),r[f]=0;return t=l,u},size:()=>t.length,curr:()=>r,prev:()=>i,reset:o=>i[o]=r[o],all:()=>e<257?255:e<65537?65535:4294967295,set(o,s){r[o]|=s},clear(o,s){r[o]&=~s},resize(o,s){const a=r.length;(o>a||s>e)&&(e=Math.max(s,e),r=vx(o,e,r),i=vx(o,e))}}}function mLe(e,t,n){return e.length>=t?e:(n=n||new e.constructor(t),n.set(e),n)}function vx(e,t,n){const r=(t<257?hLe:t<65537?pLe:Ey)(e);return n&&r.set(n),r}function OB(e,t,n){const r=1<<t;return{one:r,zero:~r,range:n.slice(),bisect:e.bisect,index:e.index,size:e.size,onAdd(i,o){const s=this,a=s.bisect(s.range,i.value),l=i.index,u=a[0],c=a[1],f=l.length;let d;for(d=0;d<u;++d)o[l[d]]|=r;for(d=c;d<f;++d)o[l[d]]|=r;return s}}}function NB(){let e=Ey(0),t=[],n=0;function r(a,l,u){if(!l.length)return[];const c=n,f=l.length,d=Ey(f);let h=Array(f),p,g,m;for(m=0;m<f;++m)h[m]=a(l[m]),d[m]=m;if(h=yLe(h,d),c)p=t,g=e,t=Array(c+f),e=Ey(c+f),vLe(u,p,g,c,h,d,f,t,e);else{if(u>0)for(m=0;m<f;++m)d[m]+=u;t=h,e=d}return n=c+f,{index:d,value:h}}function i(a,l){const u=n;let c,f,d;for(f=0;!l[e[f]]&&f<u;++f);for(d=f;f<u;++f)l[c=e[f]]||(e[d]=c,t[d]=t[f],++d);n=u-a}function o(a){for(let l=0,u=n;l<u;++l)e[l]=a[e[l]]}function s(a,l){let u;return l?u=l.length:(l=t,u=n),[T5e(l,a[0],0,u),ac(l,a[1],0,u)]}return{insert:r,remove:i,bisect:s,reindex:o,index:()=>e,size:()=>n}}function yLe(e,t){return e.sort.call(t,(n,r)=>{const i=e[n],o=e[r];return i<o?-1:i>o?1:0}),P5e(e,t)}function vLe(e,t,n,r,i,o,s,a,l){let u=0,c=0,f;for(f=0;u<r&&c<s;++f)t[u]<i[c]?(a[f]=t[u],l[f]=n[u++]):(a[f]=i[c],l[f]=o[c++]+e);for(;u<r;++u,++f)a[f]=t[u],l[f]=n[u];for(;c<s;++c,++f)a[f]=i[c],l[f]=o[c]+e}function fO(e){V.call(this,gLe(),e),this._indices=null,this._dims=null}fO.Definition={type:"CrossFilter",metadata:{},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"query",type:"array",array:!0,required:!0,content:{type:"number",array:!0,length:2}}]};ne(fO,V,{transform(e,t){if(this._dims){var n=e.modified("fields")||e.fields.some(r=>t.modified(r.fields));return n?this.reinit(e,t):this.eval(e,t)}else return this.init(e,t)},init(e,t){const n=e.fields,r=e.query,i=this._indices={},o=this._dims=[],s=r.length;let a=0,l,u;for(;a<s;++a)l=n[a].fname,u=i[l]||(i[l]=NB()),o.push(OB(u,a,r[a]));return this.eval(e,t)},reinit(e,t){const n=t.materialize().fork(),r=e.fields,i=e.query,o=this._indices,s=this._dims,a=this.value,l=a.curr(),u=a.prev(),c=a.all(),f=n.rem=n.add,d=n.mod,h=i.length,p={};let g,m,y,v,b,x,w,k,S;if(u.set(l),t.rem.length&&(b=this.remove(e,t,n)),t.add.length&&a.add(t.add),t.mod.length)for(x={},v=t.mod,w=0,k=v.length;w<k;++w)x[v[w]._index]=1;for(w=0;w<h;++w)S=r[w],(!s[w]||e.modified("fields",w)||t.modified(S.fields))&&(y=S.fname,(g=p[y])||(o[y]=m=NB(),p[y]=g=m.insert(S,t.source,0)),s[w]=OB(m,w,i[w]).onAdd(g,l));for(w=0,k=a.data().length;w<k;++w)b[w]||(u[w]!==l[w]?f.push(w):x[w]&&l[w]!==c&&d.push(w));return a.mask=(1<<h)-1,n},eval(e,t){const n=t.materialize().fork(),r=this._dims.length;let i=0;return t.rem.length&&(this.remove(e,t,n),i|=(1<<r)-1),e.modified("query")&&!e.modified("fields")&&(i|=this.update(e,t,n)),t.add.length&&(this.insert(e,t,n),i|=(1<<r)-1),t.mod.length&&(this.modify(t,n),i|=(1<<r)-1),this.value.mask=i,n},insert(e,t,n){const r=t.add,i=this.value,o=this._dims,s=this._indices,a=e.fields,l={},u=n.add,c=i.size()+r.length,f=o.length;let d=i.size(),h,p,g;i.resize(c,f),i.add(r);const m=i.curr(),y=i.prev(),v=i.all();for(h=0;h<f;++h)p=a[h].fname,g=l[p]||(l[p]=s[p].insert(a[h],r,d)),o[h].onAdd(g,m);for(;d<c;++d)y[d]=v,m[d]!==v&&u.push(d)},modify(e,t){const n=t.mod,r=this.value,i=r.curr(),o=r.all(),s=e.mod;let a,l,u;for(a=0,l=s.length;a<l;++a)u=s[a]._index,i[u]!==o&&n.push(u)},remove(e,t,n){const r=this._indices,i=this.value,o=i.curr(),s=i.prev(),a=i.all(),l={},u=n.rem,c=t.rem;let f,d,h,p;for(f=0,d=c.length;f<d;++f)h=c[f]._index,l[h]=1,s[h]=p=o[h],o[h]=a,p!==a&&u.push(h);for(h in r)r[h].remove(d,l);return this.reindex(t,d,l),l},reindex(e,t,n){const r=this._indices,i=this.value;e.runAfter(()=>{const o=i.remove(t,n);for(const s in r)r[s].reindex(o)})},update(e,t,n){const r=this._dims,i=e.query,o=t.stamp,s=r.length;let a=0,l,u;for(n.filters=0,u=0;u<s;++u)e.modified("query",u)&&(l=u,++a);if(a===1)a=r[l].one,this.incrementOne(r[l],i[l],n.add,n.rem);else for(u=0,a=0;u<s;++u)e.modified("query",u)&&(a|=r[u].one,this.incrementAll(r[u],i[u],o,n.add),n.rem=n.add);return a},incrementAll(e,t,n,r){const i=this.value,o=i.seen(),s=i.curr(),a=i.prev(),l=e.index(),u=e.bisect(e.range),c=e.bisect(t),f=c[0],d=c[1],h=u[0],p=u[1],g=e.one;let m,y,v;if(f<h)for(m=f,y=Math.min(h,d);m<y;++m)v=l[m],o[v]!==n&&(a[v]=s[v],o[v]=n,r.push(v)),s[v]^=g;else if(f>h)for(m=h,y=Math.min(f,p);m<y;++m)v=l[m],o[v]!==n&&(a[v]=s[v],o[v]=n,r.push(v)),s[v]^=g;if(d>p)for(m=Math.max(f,p),y=d;m<y;++m)v=l[m],o[v]!==n&&(a[v]=s[v],o[v]=n,r.push(v)),s[v]^=g;else if(d<p)for(m=Math.max(h,d),y=p;m<y;++m)v=l[m],o[v]!==n&&(a[v]=s[v],o[v]=n,r.push(v)),s[v]^=g;e.range=t.slice()},incrementOne(e,t,n,r){const i=this.value,o=i.curr(),s=e.index(),a=e.bisect(e.range),l=e.bisect(t),u=l[0],c=l[1],f=a[0],d=a[1],h=e.one;let p,g,m;if(u<f)for(p=u,g=Math.min(f,c);p<g;++p)m=s[p],o[m]^=h,n.push(m);else if(u>f)for(p=f,g=Math.min(u,d);p<g;++p)m=s[p],o[m]^=h,r.push(m);if(c>d)for(p=Math.max(u,d),g=c;p<g;++p)m=s[p],o[m]^=h,n.push(m);else if(c<d)for(p=Math.max(f,c),g=d;p<g;++p)m=s[p],o[m]^=h,r.push(m);e.range=t.slice()}});function dO(e){V.call(this,null,e)}dO.Definition={type:"ResolveFilter",metadata:{},params:[{name:"ignore",type:"number",required:!0,description:"A bit mask indicating which filters to ignore."},{name:"filter",type:"object",required:!0,description:"Per-tuple filter bitmaps from a CrossFilter transform."}]};ne(dO,V,{transform(e,t){const n=~(e.ignore||0),r=e.filter,i=r.mask;if(!(i&n))return t.StopPropagation;const o=t.fork(t.ALL),s=r.data(),a=r.curr(),l=r.prev(),u=c=>a[c]&n?null:s[c];return o.filter(o.MOD,u),i&i-1?(o.filter(o.ADD,c=>{const f=a[c]&n;return!f&&f^l[c]&n?s[c]:null}),o.filter(o.REM,c=>{const f=a[c]&n;return f&&!(f^(f^l[c]&n))?s[c]:null})):(o.filter(o.ADD,u),o.filter(o.REM,c=>(a[c]&n)===i?s[c]:null)),o.filter(o.SOURCE,c=>u(c._index))}});const bLe=Object.freeze(Object.defineProperty({__proto__:null,crossfilter:fO,resolvefilter:dO},Symbol.toStringTag,{value:"Module"})),xLe="RawCode",yd="Literal",wLe="Property",SLe="Identifier",kLe="ArrayExpression",CLe="BinaryExpression",uie="CallExpression",_Le="ConditionalExpression",ELe="LogicalExpression",$Le="MemberExpression",ALe="ObjectExpression",TLe="UnaryExpression";function Ms(e){this.type=e}Ms.prototype.visit=function(e){let t,n,r;if(e(this))return 1;for(t=MLe(this),n=0,r=t.length;n<r;++n)if(t[n].visit(e))return 1};function MLe(e){switch(e.type){case kLe:return e.elements;case CLe:case ELe:return[e.left,e.right];case uie:return[e.callee].concat(e.arguments);case _Le:return[e.test,e.consequent,e.alternate];case $Le:return[e.object,e.property];case ALe:return e.properties;case wLe:return[e.key,e.value];case TLe:return[e.argument];case SLe:case yd:case xLe:default:return[]}}var Da,ge,H,_r,dt,p_=1,Lv=2,vd=3,Pc=4,g_=5,qd=6,oi=7,zv=8,FLe=9;Da={};Da[p_]="Boolean";Da[Lv]="<end>";Da[vd]="Identifier";Da[Pc]="Keyword";Da[g_]="Null";Da[qd]="Numeric";Da[oi]="Punctuator";Da[zv]="String";Da[FLe]="RegularExpression";var PLe="ArrayExpression",RLe="BinaryExpression",DLe="CallExpression",OLe="ConditionalExpression",cie="Identifier",NLe="Literal",ILe="LogicalExpression",LLe="MemberExpression",zLe="ObjectExpression",jLe="Property",BLe="UnaryExpression",Rn="Unexpected token %0",ULe="Unexpected number",VLe="Unexpected string",WLe="Unexpected identifier",HLe="Unexpected reserved word",qLe="Unexpected end of input",M4="Invalid regular expression",HA="Invalid regular expression: missing /",fie="Octal literals are not allowed in strict mode.",GLe="Duplicate data property in object literal not allowed in strict mode",Zn="ILLEGAL",C1="Disabled.",YLe=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B2\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]"),XLe=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0300-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u0483-\\u0487\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0610-\\u061A\\u0620-\\u0669\\u066E-\\u06D3\\u06D5-\\u06DC\\u06DF-\\u06E8\\u06EA-\\u06FC\\u06FF\\u0710-\\u074A\\u074D-\\u07B1\\u07C0-\\u07F5\\u07FA\\u0800-\\u082D\\u0840-\\u085B\\u08A0-\\u08B2\\u08E4-\\u0963\\u0966-\\u096F\\u0971-\\u0983\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BC-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CE\\u09D7\\u09DC\\u09DD\\u09DF-\\u09E3\\u09E6-\\u09F1\\u0A01-\\u0A03\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A75\\u0A81-\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABC-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AD0\\u0AE0-\\u0AE3\\u0AE6-\\u0AEF\\u0B01-\\u0B03\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3C-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B5C\\u0B5D\\u0B5F-\\u0B63\\u0B66-\\u0B6F\\u0B71\\u0B82\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD0\\u0BD7\\u0BE6-\\u0BEF\\u0C00-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C58\\u0C59\\u0C60-\\u0C63\\u0C66-\\u0C6F\\u0C81-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBC-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CDE\\u0CE0-\\u0CE3\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D01-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4E\\u0D57\\u0D60-\\u0D63\\u0D66-\\u0D6F\\u0D7A-\\u0D7F\\u0D82\\u0D83\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DE6-\\u0DEF\\u0DF2\\u0DF3\\u0E01-\\u0E3A\\u0E40-\\u0E4E\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB9\\u0EBB-\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F18\\u0F19\\u0F20-\\u0F29\\u0F35\\u0F37\\u0F39\\u0F3E-\\u0F47\\u0F49-\\u0F6C\\u0F71-\\u0F84\\u0F86-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u1000-\\u1049\\u1050-\\u109D\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u135D-\\u135F\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176C\\u176E-\\u1770\\u1772\\u1773\\u1780-\\u17D3\\u17D7\\u17DC\\u17DD\\u17E0-\\u17E9\\u180B-\\u180D\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19D9\\u1A00-\\u1A1B\\u1A20-\\u1A5E\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1AB0-\\u1ABD\\u1B00-\\u1B4B\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1BF3\\u1C00-\\u1C37\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1CD0-\\u1CD2\\u1CD4-\\u1CF6\\u1CF8\\u1CF9\\u1D00-\\u1DF5\\u1DFC-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u200C\\u200D\\u203F\\u2040\\u2054\\u2071\\u207F\\u2090-\\u209C\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D7F-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2DE0-\\u2DFF\\u2E2F\\u3005-\\u3007\\u3021-\\u302F\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u3099\\u309A\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66F\\uA674-\\uA67D\\uA67F-\\uA69D\\uA69F-\\uA6F1\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA827\\uA840-\\uA873\\uA880-\\uA8C4\\uA8D0-\\uA8D9\\uA8E0-\\uA8F7\\uA8FB\\uA900-\\uA92D\\uA930-\\uA953\\uA960-\\uA97C\\uA980-\\uA9C0\\uA9CF-\\uA9D9\\uA9E0-\\uA9FE\\uAA00-\\uAA36\\uAA40-\\uAA4D\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A-\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEF\\uAAF2-\\uAAF6\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABEA\\uABEC\\uABED\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE00-\\uFE0F\\uFE20-\\uFE2D\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF3F\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]");function m_(e,t){if(!e)throw new Error("ASSERT: "+t)}function el(e){return e>=48&&e<=57}function hO(e){return"0123456789abcdefABCDEF".includes(e)}function $y(e){return"01234567".includes(e)}function KLe(e){return e===32||e===9||e===11||e===12||e===160||e>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].includes(e)}function _1(e){return e===10||e===13||e===8232||e===8233}function jv(e){return e===36||e===95||e>=65&&e<=90||e>=97&&e<=122||e===92||e>=128&&YLe.test(String.fromCharCode(e))}function GS(e){return e===36||e===95||e>=65&&e<=90||e>=97&&e<=122||e>=48&&e<=57||e===92||e>=128&&XLe.test(String.fromCharCode(e))}const QLe={if:1,in:1,do:1,var:1,for:1,new:1,try:1,let:1,this:1,else:1,case:1,void:1,with:1,enum:1,while:1,break:1,catch:1,throw:1,const:1,yield:1,class:1,super:1,return:1,typeof:1,delete:1,switch:1,export:1,import:1,public:1,static:1,default:1,finally:1,extends:1,package:1,private:1,function:1,continue:1,debugger:1,interface:1,protected:1,instanceof:1,implements:1};function die(){for(;H<_r;){const e=ge.charCodeAt(H);if(KLe(e)||_1(e))++H;else break}}function F4(e){var t,n,r,i=0;for(n=e==="u"?4:2,t=0;t<n;++t)H<_r&&hO(ge[H])?(r=ge[H++],i=i*16+"0123456789abcdef".indexOf(r.toLowerCase())):Qe({},Rn,Zn);return String.fromCharCode(i)}function ZLe(){var e,t,n,r;for(e=ge[H],t=0,e==="}"&&Qe({},Rn,Zn);H<_r&&(e=ge[H++],!!hO(e));)t=t*16+"0123456789abcdef".indexOf(e.toLowerCase());return(t>1114111||e!=="}")&&Qe({},Rn,Zn),t<=65535?String.fromCharCode(t):(n=(t-65536>>10)+55296,r=(t-65536&1023)+56320,String.fromCharCode(n,r))}function hie(){var e,t;for(e=ge.charCodeAt(H++),t=String.fromCharCode(e),e===92&&(ge.charCodeAt(H)!==117&&Qe({},Rn,Zn),++H,e=F4("u"),(!e||e==="\\"||!jv(e.charCodeAt(0)))&&Qe({},Rn,Zn),t=e);H<_r&&(e=ge.charCodeAt(H),!!GS(e));)++H,t+=String.fromCharCode(e),e===92&&(t=t.substr(0,t.length-1),ge.charCodeAt(H)!==117&&Qe({},Rn,Zn),++H,e=F4("u"),(!e||e==="\\"||!GS(e.charCodeAt(0)))&&Qe({},Rn,Zn),t+=e);return t}function JLe(){var e,t;for(e=H++;H<_r;){if(t=ge.charCodeAt(H),t===92)return H=e,hie();if(GS(t))++H;else break}return ge.slice(e,H)}function e7e(){var e,t,n;return e=H,t=ge.charCodeAt(H)===92?hie():JLe(),t.length===1?n=vd:QLe.hasOwnProperty(t)?n=Pc:t==="null"?n=g_:t==="true"||t==="false"?n=p_:n=vd,{type:n,value:t,start:e,end:H}}function qA(){var e=H,t=ge.charCodeAt(H),n,r=ge[H],i,o,s;switch(t){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++H,{type:oi,value:String.fromCharCode(t),start:e,end:H};default:if(n=ge.charCodeAt(H+1),n===61)switch(t){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return H+=2,{type:oi,value:String.fromCharCode(t)+String.fromCharCode(n),start:e,end:H};case 33:case 61:return H+=2,ge.charCodeAt(H)===61&&++H,{type:oi,value:ge.slice(e,H),start:e,end:H}}}if(s=ge.substr(H,4),s===">>>=")return H+=4,{type:oi,value:s,start:e,end:H};if(o=s.substr(0,3),o===">>>"||o==="<<="||o===">>=")return H+=3,{type:oi,value:o,start:e,end:H};if(i=o.substr(0,2),r===i[1]&&"+-<>&|".includes(r)||i==="=>")return H+=2,{type:oi,value:i,start:e,end:H};if(i==="//"&&Qe({},Rn,Zn),"<>=!+-*%&|^/".includes(r))return++H,{type:oi,value:r,start:e,end:H};Qe({},Rn,Zn)}function t7e(e){let t="";for(;H<_r&&hO(ge[H]);)t+=ge[H++];return t.length===0&&Qe({},Rn,Zn),jv(ge.charCodeAt(H))&&Qe({},Rn,Zn),{type:qd,value:parseInt("0x"+t,16),start:e,end:H}}function n7e(e){let t="0"+ge[H++];for(;H<_r&&$y(ge[H]);)t+=ge[H++];return(jv(ge.charCodeAt(H))||el(ge.charCodeAt(H)))&&Qe({},Rn,Zn),{type:qd,value:parseInt(t,8),octal:!0,start:e,end:H}}function IB(){var e,t,n;if(n=ge[H],m_(el(n.charCodeAt(0))||n===".","Numeric literal must start with a decimal digit or a decimal point"),t=H,e="",n!=="."){if(e=ge[H++],n=ge[H],e==="0"){if(n==="x"||n==="X")return++H,t7e(t);if($y(n))return n7e(t);n&&el(n.charCodeAt(0))&&Qe({},Rn,Zn)}for(;el(ge.charCodeAt(H));)e+=ge[H++];n=ge[H]}if(n==="."){for(e+=ge[H++];el(ge.charCodeAt(H));)e+=ge[H++];n=ge[H]}if(n==="e"||n==="E")if(e+=ge[H++],n=ge[H],(n==="+"||n==="-")&&(e+=ge[H++]),el(ge.charCodeAt(H)))for(;el(ge.charCodeAt(H));)e+=ge[H++];else Qe({},Rn,Zn);return jv(ge.charCodeAt(H))&&Qe({},Rn,Zn),{type:qd,value:parseFloat(e),start:t,end:H}}function r7e(){var e="",t,n,r,i,o=!1;for(t=ge[H],m_(t==="'"||t==='"',"String literal must starts with a quote"),n=H,++H;H<_r;)if(r=ge[H++],r===t){t="";break}else if(r==="\\")if(r=ge[H++],!r||!_1(r.charCodeAt(0)))switch(r){case"u":case"x":ge[H]==="{"?(++H,e+=ZLe()):e+=F4(r);break;case"n":e+=`
`;break;case"r":e+="\r";break;case"t":e+="	";break;case"b":e+="\b";break;case"f":e+="\f";break;case"v":e+="\v";break;default:$y(r)?(i="01234567".indexOf(r),i!==0&&(o=!0),H<_r&&$y(ge[H])&&(o=!0,i=i*8+"01234567".indexOf(ge[H++]),"0123".includes(r)&&H<_r&&$y(ge[H])&&(i=i*8+"01234567".indexOf(ge[H++]))),e+=String.fromCharCode(i)):e+=r;break}else r==="\r"&&ge[H]===`
`&&++H;else{if(_1(r.charCodeAt(0)))break;e+=r}return t!==""&&Qe({},Rn,Zn),{type:zv,value:e,octal:o,start:n,end:H}}function i7e(e,t){let n=e;t.includes("u")&&(n=n.replace(/\\u\{([0-9a-fA-F]+)\}/g,(r,i)=>{if(parseInt(i,16)<=1114111)return"x";Qe({},M4)}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(n)}catch{Qe({},M4)}try{return new RegExp(e,t)}catch{return null}}function o7e(){var e,t,n,r,i;for(e=ge[H],m_(e==="/","Regular expression literal must start with a slash"),t=ge[H++],n=!1,r=!1;H<_r;)if(e=ge[H++],t+=e,e==="\\")e=ge[H++],_1(e.charCodeAt(0))&&Qe({},HA),t+=e;else if(_1(e.charCodeAt(0)))Qe({},HA);else if(n)e==="]"&&(n=!1);else if(e==="/"){r=!0;break}else e==="["&&(n=!0);return r||Qe({},HA),i=t.substr(1,t.length-2),{value:i,literal:t}}function s7e(){var e,t,n;for(t="",n="";H<_r&&(e=ge[H],!!GS(e.charCodeAt(0)));)++H,e==="\\"&&H<_r?Qe({},Rn,Zn):(n+=e,t+=e);return n.search(/[^gimuy]/g)>=0&&Qe({},M4,n),{value:n,literal:t}}function a7e(){var e,t,n,r;return dt=null,die(),e=H,t=o7e(),n=s7e(),r=i7e(t.value,n.value),{literal:t.literal+n.literal,value:r,regex:{pattern:t.value,flags:n.value},start:e,end:H}}function l7e(e){return e.type===vd||e.type===Pc||e.type===p_||e.type===g_}function pie(){if(die(),H>=_r)return{type:Lv,start:H,end:H};const e=ge.charCodeAt(H);return jv(e)?e7e():e===40||e===41||e===59?qA():e===39||e===34?r7e():e===46?el(ge.charCodeAt(H+1))?IB():qA():el(e)?IB():qA()}function ui(){const e=dt;return H=e.end,dt=pie(),H=e.end,e}function gie(){const e=H;dt=pie(),H=e}function u7e(e){const t=new Ms(PLe);return t.elements=e,t}function LB(e,t,n){const r=new Ms(e==="||"||e==="&&"?ILe:RLe);return r.operator=e,r.left=t,r.right=n,r}function c7e(e,t){const n=new Ms(DLe);return n.callee=e,n.arguments=t,n}function f7e(e,t,n){const r=new Ms(OLe);return r.test=e,r.consequent=t,r.alternate=n,r}function pO(e){const t=new Ms(cie);return t.name=e,t}function H0(e){const t=new Ms(NLe);return t.value=e.value,t.raw=ge.slice(e.start,e.end),e.regex&&(t.raw==="//"&&(t.raw="/(?:)/"),t.regex=e.regex),t}function zB(e,t,n){const r=new Ms(LLe);return r.computed=e==="[",r.object=t,r.property=n,r.computed||(n.member=!0),r}function d7e(e){const t=new Ms(zLe);return t.properties=e,t}function jB(e,t,n){const r=new Ms(jLe);return r.key=t,r.value=n,r.kind=e,r}function h7e(e,t){const n=new Ms(BLe);return n.operator=e,n.argument=t,n.prefix=!0,n}function Qe(e,t){var n,r=Array.prototype.slice.call(arguments,2),i=t.replace(/%(\d)/g,(o,s)=>(m_(s<r.length,"Message reference must be in range"),r[s]));throw n=new Error(i),n.index=H,n.description=i,n}function y_(e){e.type===Lv&&Qe(e,qLe),e.type===qd&&Qe(e,ULe),e.type===zv&&Qe(e,VLe),e.type===vd&&Qe(e,WLe),e.type===Pc&&Qe(e,HLe),Qe(e,Rn,e.value)}function Er(e){const t=ui();(t.type!==oi||t.value!==e)&&y_(t)}function Ft(e){return dt.type===oi&&dt.value===e}function GA(e){return dt.type===Pc&&dt.value===e}function p7e(){const e=[];for(H=dt.start,Er("[");!Ft("]");)Ft(",")?(ui(),e.push(null)):(e.push(bd()),Ft("]")||Er(","));return ui(),u7e(e)}function BB(){H=dt.start;const e=ui();return e.type===zv||e.type===qd?(e.octal&&Qe(e,fie),H0(e)):pO(e.value)}function g7e(){var e,t,n,r;if(H=dt.start,e=dt,e.type===vd)return n=BB(),Er(":"),r=bd(),jB("init",n,r);if(e.type===Lv||e.type===oi)y_(e);else return t=BB(),Er(":"),r=bd(),jB("init",t,r)}function m7e(){var e=[],t,n,r,i={},o=String;for(H=dt.start,Er("{");!Ft("}");)t=g7e(),t.key.type===cie?n=t.key.name:n=o(t.key.value),r="$"+n,Object.prototype.hasOwnProperty.call(i,r)?Qe({},GLe):i[r]=!0,e.push(t),Ft("}")||Er(",");return Er("}"),d7e(e)}function y7e(){Er("(");const e=gO();return Er(")"),e}const v7e={if:1};function b7e(){var e,t,n;if(Ft("("))return y7e();if(Ft("["))return p7e();if(Ft("{"))return m7e();if(e=dt.type,H=dt.start,e===vd||v7e[dt.value])n=pO(ui().value);else if(e===zv||e===qd)dt.octal&&Qe(dt,fie),n=H0(ui());else{if(e===Pc)throw new Error(C1);e===p_?(t=ui(),t.value=t.value==="true",n=H0(t)):e===g_?(t=ui(),t.value=null,n=H0(t)):Ft("/")||Ft("/=")?(n=H0(a7e()),gie()):y_(ui())}return n}function x7e(){const e=[];if(Er("("),!Ft(")"))for(;H<_r&&(e.push(bd()),!Ft(")"));)Er(",");return Er(")"),e}function w7e(){H=dt.start;const e=ui();return l7e(e)||y_(e),pO(e.value)}function S7e(){return Er("."),w7e()}function k7e(){Er("[");const e=gO();return Er("]"),e}function C7e(){var e,t,n;for(e=b7e();;)if(Ft("."))n=S7e(),e=zB(".",e,n);else if(Ft("("))t=x7e(),e=c7e(e,t);else if(Ft("["))n=k7e(),e=zB("[",e,n);else break;return e}function UB(){const e=C7e();if(dt.type===oi&&(Ft("++")||Ft("--")))throw new Error(C1);return e}function R2(){var e,t;if(dt.type!==oi&&dt.type!==Pc)t=UB();else{if(Ft("++")||Ft("--"))throw new Error(C1);if(Ft("+")||Ft("-")||Ft("~")||Ft("!"))e=ui(),t=R2(),t=h7e(e.value,t);else{if(GA("delete")||GA("void")||GA("typeof"))throw new Error(C1);t=UB()}}return t}function VB(e){let t=0;if(e.type!==oi&&e.type!==Pc)return 0;switch(e.value){case"||":t=1;break;case"&&":t=2;break;case"|":t=3;break;case"^":t=4;break;case"&":t=5;break;case"==":case"!=":case"===":case"!==":t=6;break;case"<":case">":case"<=":case">=":case"instanceof":case"in":t=7;break;case"<<":case">>":case">>>":t=8;break;case"+":case"-":t=9;break;case"*":case"/":case"%":t=11;break}return t}function _7e(){var e,t,n,r,i,o,s,a,l,u;if(e=dt,l=R2(),r=dt,i=VB(r),i===0)return l;for(r.prec=i,ui(),t=[e,dt],s=R2(),o=[l,r,s];(i=VB(dt))>0;){for(;o.length>2&&i<=o[o.length-2].prec;)s=o.pop(),a=o.pop().value,l=o.pop(),t.pop(),n=LB(a,l,s),o.push(n);r=ui(),r.prec=i,o.push(r),t.push(dt),n=R2(),o.push(n)}for(u=o.length-1,n=o[u],t.pop();u>1;)t.pop(),n=LB(o[u-1].value,o[u-2],n),u-=2;return n}function bd(){var e,t,n;return e=_7e(),Ft("?")&&(ui(),t=bd(),Er(":"),n=bd(),e=f7e(e,t,n)),e}function gO(){const e=bd();if(Ft(","))throw new Error(C1);return e}function mO(e){ge=e,H=0,_r=ge.length,dt=null,gie();const t=gO();if(dt.type!==Lv)throw new Error("Unexpect token after expression.");return t}var mie={NaN:"NaN",E:"Math.E",LN2:"Math.LN2",LN10:"Math.LN10",LOG2E:"Math.LOG2E",LOG10E:"Math.LOG10E",PI:"Math.PI",SQRT1_2:"Math.SQRT1_2",SQRT2:"Math.SQRT2",MIN_VALUE:"Number.MIN_VALUE",MAX_VALUE:"Number.MAX_VALUE"};function yie(e){function t(s,a,l,u){let c=e(a[0]);return l&&(c=l+"("+c+")",l.lastIndexOf("new ",0)===0&&(c="("+c+")")),c+"."+s+(u<0?"":u===0?"()":"("+a.slice(1).map(e).join(",")+")")}function n(s,a,l){return u=>t(s,u,a,l)}const r="new Date",i="String",o="RegExp";return{isNaN:"Number.isNaN",isFinite:"Number.isFinite",abs:"Math.abs",acos:"Math.acos",asin:"Math.asin",atan:"Math.atan",atan2:"Math.atan2",ceil:"Math.ceil",cos:"Math.cos",exp:"Math.exp",floor:"Math.floor",hypot:"Math.hypot",log:"Math.log",max:"Math.max",min:"Math.min",pow:"Math.pow",random:"Math.random",round:"Math.round",sin:"Math.sin",sqrt:"Math.sqrt",tan:"Math.tan",clamp:function(s){s.length<3&&q("Missing arguments to clamp function."),s.length>3&&q("Too many arguments to clamp function.");const a=s.map(e);return"Math.max("+a[1]+", Math.min("+a[2]+","+a[0]+"))"},now:"Date.now",utc:"Date.UTC",datetime:r,date:n("getDate",r,0),day:n("getDay",r,0),year:n("getFullYear",r,0),month:n("getMonth",r,0),hours:n("getHours",r,0),minutes:n("getMinutes",r,0),seconds:n("getSeconds",r,0),milliseconds:n("getMilliseconds",r,0),time:n("getTime",r,0),timezoneoffset:n("getTimezoneOffset",r,0),utcdate:n("getUTCDate",r,0),utcday:n("getUTCDay",r,0),utcyear:n("getUTCFullYear",r,0),utcmonth:n("getUTCMonth",r,0),utchours:n("getUTCHours",r,0),utcminutes:n("getUTCMinutes",r,0),utcseconds:n("getUTCSeconds",r,0),utcmilliseconds:n("getUTCMilliseconds",r,0),length:n("length",null,-1),parseFloat:"parseFloat",parseInt:"parseInt",upper:n("toUpperCase",i,0),lower:n("toLowerCase",i,0),substring:n("substring",i),split:n("split",i),trim:n("trim",i,0),regexp:o,test:n("test",o),if:function(s){s.length<3&&q("Missing arguments to if function."),s.length>3&&q("Too many arguments to if function.");const a=s.map(e);return"("+a[0]+"?"+a[1]+":"+a[2]+")"}}}function E7e(e){const t=e&&e.length-1;return t&&(e[0]==='"'&&e[t]==='"'||e[0]==="'"&&e[t]==="'")?e.slice(1,-1):e}function vie(e){e=e||{};const t=e.allowed?ws(e.allowed):{},n=e.forbidden?ws(e.forbidden):{},r=e.constants||mie,i=(e.functions||yie)(f),o=e.globalvar,s=e.fieldvar,a=Ne(o)?o:p=>`${o}["${p}"]`;let l={},u={},c=0;function f(p){if(le(p))return p;const g=d[p.type];return g==null&&q("Unsupported type: "+p.type),g(p)}const d={Literal:p=>p.raw,Identifier:p=>{const g=p.name;return c>0?g:ce(n,g)?q("Illegal identifier: "+g):ce(r,g)?r[g]:ce(t,g)?g:(l[g]=1,a(g))},MemberExpression:p=>{const g=!p.computed,m=f(p.object);g&&(c+=1);const y=f(p.property);return m===s&&(u[E7e(y)]=1),g&&(c-=1),m+(g?"."+y:"["+y+"]")},CallExpression:p=>{p.callee.type!=="Identifier"&&q("Illegal callee type: "+p.callee.type);const g=p.callee.name,m=p.arguments,y=ce(i,g)&&i[g];return y||q("Unrecognized function: "+g),Ne(y)?y(m):y+"("+m.map(f).join(",")+")"},ArrayExpression:p=>"["+p.elements.map(f).join(",")+"]",BinaryExpression:p=>"("+f(p.left)+" "+p.operator+" "+f(p.right)+")",UnaryExpression:p=>"("+p.operator+f(p.argument)+")",ConditionalExpression:p=>"("+f(p.test)+"?"+f(p.consequent)+":"+f(p.alternate)+")",LogicalExpression:p=>"("+f(p.left)+p.operator+f(p.right)+")",ObjectExpression:p=>"{"+p.properties.map(f).join(",")+"}",Property:p=>{c+=1;const g=f(p.key);return c-=1,g+":"+f(p.value)}};function h(p){const g={code:f(p),globals:Object.keys(l),fields:Object.keys(u)};return l={},u={},g}return h.functions=i,h.constants=r,h}const WB=Symbol("vega_selection_getter");function bie(e){return(!e.getter||!e.getter[WB])&&(e.getter=Ro(e.field),e.getter[WB]=!0),e.getter}const yO="intersect",HB="union",$7e="vlMulti",A7e="vlPoint",qB="or",T7e="and",ta="_vgsid_",E1=Ro(ta),M7e="E",F7e="R",P7e="R-E",R7e="R-LE",D7e="R-RE",YS="index:unit";function GB(e,t){for(var n=t.fields,r=t.values,i=n.length,o=0,s,a;o<i;++o)if(a=n[o],s=bie(a)(e),Qu(s)&&(s=wr(s)),Qu(r[o])&&(r[o]=wr(r[o])),G(r[o])&&Qu(r[o][0])&&(r[o]=r[o].map(wr)),a.type===M7e){if(G(r[o])?r[o].indexOf(s)<0:s!==r[o])return!1}else if(a.type===F7e){if(!Jh(s,r[o]))return!1}else if(a.type===D7e){if(!Jh(s,r[o],!0,!1))return!1}else if(a.type===P7e){if(!Jh(s,r[o],!1,!1))return!1}else if(a.type===R7e&&!Jh(s,r[o],!1,!0))return!1;return!0}function O7e(e,t,n){for(var r=this.context.data[e],i=r?r.values.value:[],o=r?r[YS]&&r[YS].value:void 0,s=n===yO,a=i.length,l=0,u,c,f,d,h;l<a;++l)if(u=i[l],o&&s){if(c=c||{},f=c[d=u.unit]||0,f===-1)continue;if(h=GB(t,u),c[d]=h?-1:++f,h&&o.size===1)return!0;if(!h&&f===o.get(d).count)return!1}else if(h=GB(t,u),s^h)return h;return a&&s}const xie=Jg(E1),N7e=xie.left,I7e=xie.right;function L7e(e,t,n){const r=this.context.data[e],i=r?r.values.value:[],o=r?r[YS]&&r[YS].value:void 0,s=n===yO,a=E1(t),l=N7e(i,a);if(l===i.length||E1(i[l])!==a)return!1;if(o&&s){if(o.size===1)return!0;if(I7e(i,a)-l<o.size)return!1}return!0}function z7e(e,t){return e.map(n=>Oe(t.fields?{values:t.fields.map(r=>bie(r)(n.datum))}:{[ta]:E1(n.datum)},t))}function j7e(e,t,n,r){for(var i=this.context.data[e],o=i?i.values.value:[],s={},a={},l={},u,c,f,d,h,p,g,m,y,v,b=o.length,x=0,w,k;x<b;++x)if(u=o[x],d=u.unit,c=u.fields,f=u.values,c&&f){for(w=0,k=c.length;w<k;++w)h=c[w],g=s[h.field]||(s[h.field]={}),m=g[d]||(g[d]=[]),l[h.field]=y=h.type.charAt(0),v=YA[`${y}_union`],g[d]=v(m,ae(f[w]));n&&(m=a[d]||(a[d]=[]),m.push(ae(f).reduce((S,C,_)=>(S[c[_].field]=C,S),{})))}else h=ta,p=E1(u),g=s[h]||(s[h]={}),m=g[d]||(g[d]=[]),m.push(p),n&&(m=a[d]||(a[d]=[]),m.push({[ta]:p}));if(t=t||HB,s[ta]?s[ta]=YA[`${ta}_${t}`](...Object.values(s[ta])):Object.keys(s).forEach(S=>{s[S]=Object.keys(s[S]).map(C=>s[S][C]).reduce((C,_)=>C===void 0?_:YA[`${l[S]}_${t}`](C,_))}),o=Object.keys(a),n&&o.length){const S=r?A7e:$7e;s[S]=t===HB?{[qB]:o.reduce((C,_)=>(C.push(...a[_]),C),[])}:{[T7e]:o.map(C=>({[qB]:a[C]}))}}return s}var YA={[`${ta}_union`]:B5e,[`${ta}_intersect`]:z5e,E_union:function(e,t){if(!e.length)return t;for(var n=0,r=t.length;n<r;++n)e.indexOf(t[n])<0&&e.push(t[n]);return e},E_intersect:function(e,t){return e.length?e.filter(n=>t.indexOf(n)>=0):t},R_union:function(e,t){var n=wr(t[0]),r=wr(t[1]);return n>r&&(n=t[1],r=t[0]),e.length?(e[0]>n&&(e[0]=n),e[1]<r&&(e[1]=r),e):[n,r]},R_intersect:function(e,t){var n=wr(t[0]),r=wr(t[1]);return n>r&&(n=t[1],r=t[0]),e.length?r<e[0]||e[1]<n?[]:(e[0]<n&&(e[0]=n),e[1]>r&&(e[1]=r),e):[n,r]}};const B7e=":",U7e="@";function vO(e,t,n,r){t[0].type!==yd&&q("First argument to selection functions must be a string literal.");const i=t[0].value,o=t.length>=2&&qe(t).value,s="unit",a=U7e+s,l=B7e+i;o===yO&&!ce(r,a)&&(r[a]=n.getData(i).indataRef(n,s)),ce(r,l)||(r[l]=n.getData(i).tuplesRef())}function wie(e){const t=this.context.data[e];return t?t.values.value:[]}function V7e(e,t,n){const r=this.context.data[e]["index:"+t],i=r?r.value.get(n):void 0;return i&&i.count}function W7e(e,t){const n=this.context.dataflow,r=this.context.data[e],i=r.input;return n.pulse(i,n.changeset().remove(Do).insert(t)),1}function H7e(e,t,n){if(e){const r=this.context.dataflow,i=e.mark.source;r.pulse(i,r.changeset().encode(e,t))}return n!==void 0?n:e}const Bv=e=>function(t,n){const r=this.context.dataflow.locale();return t===null?"null":r[e](n)(t)},q7e=Bv("format"),Sie=Bv("timeFormat"),G7e=Bv("utcFormat"),Y7e=Bv("timeParse"),X7e=Bv("utcParse"),bx=new Date(2e3,0,1);function v_(e,t,n){return!Number.isInteger(e)||!Number.isInteger(t)?"":(bx.setYear(2e3),bx.setMonth(e),bx.setDate(t),Sie.call(this,bx,n))}function K7e(e){return v_.call(this,e,1,"%B")}function Q7e(e){return v_.call(this,e,1,"%b")}function Z7e(e){return v_.call(this,0,2+e,"%A")}function J7e(e){return v_.call(this,0,2+e,"%a")}const eze=":",tze="@",P4="%",kie="$";function bO(e,t,n,r){t[0].type!==yd&&q("First argument to data functions must be a string literal.");const i=t[0].value,o=eze+i;if(!ce(o,r))try{r[o]=n.getData(i).tuplesRef()}catch{}}function nze(e,t,n,r){t[0].type!==yd&&q("First argument to indata must be a string literal."),t[1].type!==yd&&q("Second argument to indata must be a string literal.");const i=t[0].value,o=t[1].value,s=tze+o;ce(s,r)||(r[s]=n.getData(i).indataRef(n,o))}function Xr(e,t,n,r){if(t[0].type===yd)YB(n,r,t[0].value);else for(e in n.scales)YB(n,r,e)}function YB(e,t,n){const r=P4+n;if(!ce(t,r))try{t[r]=e.scaleRef(n)}catch{}}function Oa(e,t){if(Ne(e))return e;if(le(e)){const n=t.scales[e];return n&&hPe(n.value)?n.value:void 0}}function rze(e,t,n){t.__bandwidth=i=>i&&i.bandwidth?i.bandwidth():0,n._bandwidth=Xr,n._range=Xr,n._scale=Xr;const r=i=>"_["+(i.type===yd?te(P4+i.value):te(P4)+"+"+e(i))+"]";return{_bandwidth:i=>`this.__bandwidth(${r(i[0])})`,_range:i=>`${r(i[0])}.range()`,_scale:i=>`${r(i[0])}(${e(i[1])})`}}function xO(e,t){return function(n,r,i){if(n){const o=Oa(n,(i||this).context);return o&&o.path[e](r)}else return t(r)}}const ize=xO("area",AOe),oze=xO("bounds",POe),sze=xO("centroid",LOe);function aze(e,t){const n=Oa(e,(t||this).context);return n&&n.scale()}function lze(e){const t=this.context.group;let n=!1;if(t)for(;e;){if(e===t){n=!0;break}e=e.mark.group}return n}function wO(e,t,n){try{e[t].apply(e,["EXPRESSION"].concat([].slice.call(n)))}catch(r){e.warn(r)}return n[n.length-1]}function uze(){return wO(this.context.dataflow,"warn",arguments)}function cze(){return wO(this.context.dataflow,"info",arguments)}function fze(){return wO(this.context.dataflow,"debug",arguments)}function XA(e){const t=e/255;return t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)}function R4(e){const t=fc(e),n=XA(t.r),r=XA(t.g),i=XA(t.b);return .2126*n+.7152*r+.0722*i}function dze(e,t){const n=R4(e),r=R4(t),i=Math.max(n,r),o=Math.min(n,r);return(i+.05)/(o+.05)}function hze(){const e=[].slice.call(arguments);return e.unshift({}),Oe(...e)}function Cie(e,t){return e===t||e!==e&&t!==t?!0:G(e)?G(t)&&e.length===t.length?pze(e,t):!1:se(e)&&se(t)?_ie(e,t):!1}function pze(e,t){for(let n=0,r=e.length;n<r;++n)if(!Cie(e[n],t[n]))return!1;return!0}function _ie(e,t){for(const n in e)if(!Cie(e[n],t[n]))return!1;return!0}function XB(e){return t=>_ie(e,t)}function gze(e,t,n,r,i,o){const s=this.context.dataflow,a=this.context.data[e],l=a.input,u=s.stamp();let c=a.changes,f,d;if(s._trigger===!1||!(l.value.length||t||r))return 0;if((!c||c.stamp<u)&&(a.changes=c=s.changeset(),c.stamp=u,s.runAfter(()=>{a.modified=!0,s.pulse(l,c).run()},!0,1)),n&&(f=n===!0?Do:G(n)||$C(n)?n:XB(n),c.remove(f)),t&&c.insert(t),r&&(f=XB(r),l.value.some(f)?c.remove(f):c.insert(r)),i)for(d in o)c.modify(i,d,o[d]);return 1}function mze(e){const t=e.touches,n=t[0].clientX-t[1].clientX,r=t[0].clientY-t[1].clientY;return Math.hypot(n,r)}function yze(e){const t=e.touches;return Math.atan2(t[0].clientY-t[1].clientY,t[0].clientX-t[1].clientX)}const KB={};function vze(e,t){const n=KB[t]||(KB[t]=Ro(t));return G(e)?e.map(n):n(e)}function SO(e){return G(e)||ArrayBuffer.isView(e)?e:null}function kO(e){return SO(e)||(le(e)?e:null)}function bze(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return SO(e).join(...n)}function xze(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return kO(e).indexOf(...n)}function wze(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return kO(e).lastIndexOf(...n)}function Sze(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return kO(e).slice(...n)}function kze(e,t,n){return Ne(n)&&q("Function argument passed to replace."),String(e).replace(t,n)}function Cze(e){return SO(e).slice().reverse()}function _ze(e,t,n){return O6(e||0,t||0,n||0)}function Eze(e,t){const n=Oa(e,(t||this).context);return n&&n.bandwidth?n.bandwidth():0}function $ze(e,t){const n=Oa(e,(t||this).context);return n?n.copy():void 0}function Aze(e,t){const n=Oa(e,(t||this).context);return n?n.domain():[]}function Tze(e,t,n){const r=Oa(e,(n||this).context);return r?G(t)?(r.invertRange||r.invert)(t):(r.invert||r.invertExtent)(t):void 0}function Mze(e,t){const n=Oa(e,(t||this).context);return n&&n.range?n.range():[]}function Fze(e,t,n){const r=Oa(e,(n||this).context);return r?r(t):void 0}function Pze(e,t,n,r,i){e=Oa(e,(i||this).context);const o=gte(t,n);let s=e.domain(),a=s[0],l=qe(s),u=Ar;return l-a?u=rte(e,a,l):e=(e.interpolator?et("sequential")().interpolator(e.interpolator()):et("linear")().interpolate(e.interpolate()).range(e.range())).domain([a=0,l=1]),e.ticks&&(s=e.ticks(+r||15),a!==s[0]&&s.unshift(a),l!==qe(s)&&s.push(l)),s.forEach(c=>o.stop(u(c),e(c))),o}function Rze(e,t,n){const r=Oa(e,(n||this).context);return function(i){return r?r.path.context(i)(t):""}}function Dze(e){let t=null;return function(n){return n?m1(n,t=t||pg(e)):e}}const Eie=e=>e.data;function $ie(e,t){const n=wie.call(t,e);return n.root&&n.root.lookup||{}}function Oze(e,t,n){const r=$ie(e,this),i=r[t],o=r[n];return i&&o?i.path(o).map(Eie):void 0}function Nze(e,t){const n=$ie(e,this)[t];return n?n.ancestors().map(Eie):void 0}const Aie=()=>typeof window<"u"&&window||null;function Ize(){const e=Aie();return e?e.screen:{}}function Lze(){const e=Aie();return e?[e.innerWidth,e.innerHeight]:[void 0,void 0]}function zze(){const e=this.context.dataflow,t=e.container&&e.container();return t?[t.clientWidth,t.clientHeight]:[void 0,void 0]}function Tie(e,t,n){if(!e)return[];const[r,i]=e,o=new gn().set(r[0],r[1],i[0],i[1]),s=n||this.context.dataflow.scenegraph().root;return dne(s,o,jze(t))}function jze(e){let t=null;if(e){const n=ae(e.marktype),r=ae(e.markname);t=i=>(!n.length||n.some(o=>i.marktype===o))&&(!r.length||r.some(o=>i.name===o))}return t}function Bze(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:5;e=ae(e);const i=e[e.length-1];return i===void 0||Math.hypot(i[0]-t,i[1]-n)>r?[...e,[t,n]]:e}function Uze(e){return ae(e).reduce((t,n,r)=>{let[i,o]=n;return t+=r==0?`M ${i},${o} `:r===e.length-1?" Z":`L ${i},${o} `},"")}function Vze(e,t,n){const{x:r,y:i,mark:o}=n,s=new gn().set(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER,Number.MIN_SAFE_INTEGER,Number.MIN_SAFE_INTEGER);for(const[l,u]of t)l<s.x1&&(s.x1=l),l>s.x2&&(s.x2=l),u<s.y1&&(s.y1=u),u>s.y2&&(s.y2=u);return s.translate(r,i),Tie([[s.x1,s.y1],[s.x2,s.y2]],e,o).filter(l=>Wze(l.x,l.y,t))}function Wze(e,t,n){let r=0;for(let i=0,o=n.length-1;i<n.length;o=i++){const[s,a]=n[o],[l,u]=n[i];u>t!=a>t&&e<(s-l)*(t-u)/(a-u)+l&&r++}return r&1}const $1={random(){return No()},cumulativeNormal:PC,cumulativeLogNormal:DR,cumulativeUniform:LR,densityNormal:TR,densityLogNormal:RR,densityUniform:IR,quantileNormal:RC,quantileLogNormal:OR,quantileUniform:zR,sampleNormal:FC,sampleLogNormal:PR,sampleUniform:NR,isArray:G,isBoolean:$c,isDate:Qu,isDefined(e){return e!==void 0},isNumber:Ze,isObject:se,isRegExp:FQ,isString:le,isTuple:$C,isValid(e){return e!=null&&e===e},toBoolean:lR,toDate(e){return uR(e)},toNumber:wr,toString:cR,indexof:xze,join:bze,lastindexof:wze,replace:kze,reverse:Cze,slice:Sze,flush:TQ,lerp:PQ,merge:hze,pad:OQ,peek:qe,pluck:vze,span:cv,inrange:Jh,truncate:NQ,rgb:fc,lab:Jw,hcl:eS,hsl:Qw,luminance:R4,contrast:dze,sequence:zi,format:q7e,utcFormat:G7e,utcParse:X7e,utcOffset:pZ,utcSequence:yZ,timeFormat:Sie,timeParse:Y7e,timeOffset:hZ,timeSequence:mZ,timeUnitSpecifier:nZ,monthFormat:K7e,monthAbbrevFormat:Q7e,dayFormat:Z7e,dayAbbrevFormat:J7e,quarter:_Q,utcquarter:EQ,week:iZ,utcweek:aZ,dayofyear:rZ,utcdayofyear:sZ,warn:uze,info:cze,debug:fze,extent(e){return Sa(e)},inScope:lze,intersect:Tie,clampRange:$Q,pinchDistance:mze,pinchAngle:yze,screen:Ize,containerSize:zze,windowSize:Lze,bandspace:_ze,setdata:W7e,pathShape:Dze,panLinear:wQ,panLog:SQ,panPow:kQ,panSymlog:CQ,zoomLinear:nR,zoomLog:rR,zoomPow:Lw,zoomSymlog:iR,encode:H7e,modify:gze,lassoAppend:Bze,lassoPath:Uze,intersectLasso:Vze},Hze=["view","item","group","xy","x","y"],qze="event.vega.",Mie="this.",CO={},Fie={forbidden:["_"],allowed:["datum","event","item"],fieldvar:"datum",globalvar:e=>`_[${te(kie+e)}]`,functions:Gze,constants:mie,visitors:CO},D4=vie(Fie);function Gze(e){const t=yie(e);Hze.forEach(n=>t[n]=qze+n);for(const n in $1)t[n]=Mie+n;return Oe(t,rze(e,$1,CO)),t}function cn(e,t,n){return arguments.length===1?$1[e]:($1[e]=t,n&&(CO[e]=n),D4&&(D4.functions[e]=Mie+e),this)}cn("bandwidth",Eze,Xr);cn("copy",$ze,Xr);cn("domain",Aze,Xr);cn("range",Mze,Xr);cn("invert",Tze,Xr);cn("scale",Fze,Xr);cn("gradient",Pze,Xr);cn("geoArea",ize,Xr);cn("geoBounds",oze,Xr);cn("geoCentroid",sze,Xr);cn("geoShape",Rze,Xr);cn("geoScale",aze,Xr);cn("indata",V7e,nze);cn("data",wie,bO);cn("treePath",Oze,bO);cn("treeAncestors",Nze,bO);cn("vlSelectionTest",O7e,vO);cn("vlSelectionIdTest",L7e,vO);cn("vlSelectionResolve",j7e,vO);cn("vlSelectionTuples",z7e);function _a(e,t){const n={};let r;try{e=le(e)?e:te(e)+"",r=mO(e)}catch{q("Expression parse error: "+e)}r.visit(o=>{if(o.type!==uie)return;const s=o.callee.name,a=Fie.visitors[s];a&&a(s,o.arguments,t,n)});const i=D4(r);return i.globals.forEach(o=>{const s=kie+o;!ce(n,s)&&t.getSignal(o)&&(n[s]=t.signalRef(o))}),{$expr:Oe({code:i.code},t.options.ast?{ast:r}:null),$fields:i.fields,$params:n}}function Yze(e){const t=this,n=e.operators||[];return e.background&&(t.background=e.background),e.eventConfig&&(t.eventConfig=e.eventConfig),e.locale&&(t.locale=e.locale),n.forEach(r=>t.parseOperator(r)),n.forEach(r=>t.parseOperatorParameters(r)),(e.streams||[]).forEach(r=>t.parseStream(r)),(e.updates||[]).forEach(r=>t.parseUpdate(r)),t.resolve()}const Xze=ws(["rule"]),QB=ws(["group","image","rect"]);function Kze(e,t){let n="";return Xze[t]||(e.x2&&(e.x?(QB[t]&&(n+="if(o.x>o.x2)$=o.x,o.x=o.x2,o.x2=$;"),n+="o.width=o.x2-o.x;"):n+="o.x=o.x2-(o.width||0);"),e.xc&&(n+="o.x=o.xc-(o.width||0)/2;"),e.y2&&(e.y?(QB[t]&&(n+="if(o.y>o.y2)$=o.y,o.y=o.y2,o.y2=$;"),n+="o.height=o.y2-o.y;"):n+="o.y=o.y2-(o.height||0);"),e.yc&&(n+="o.y=o.yc-(o.height||0)/2;")),n}function _O(e){return(e+"").toLowerCase()}function Qze(e){return _O(e)==="operator"}function Zze(e){return _O(e)==="collect"}function Jm(e,t,n){n.endsWith(";")||(n="return("+n+");");const r=Function(...t.concat(n));return e&&e.functions?r.bind(e.functions):r}function Jze(e,t,n,r){return`((u = ${e}) < (v = ${t}) || u == null) && v != null ? ${n}
  : (u > v || v == null) && u != null ? ${r}
  : ((v = v instanceof Date ? +v : v), (u = u instanceof Date ? +u : u)) !== u && v === v ? ${n}
  : v !== v && u === u ? ${r} : `}var eje={operator:(e,t)=>Jm(e,["_"],t.code),parameter:(e,t)=>Jm(e,["datum","_"],t.code),event:(e,t)=>Jm(e,["event"],t.code),handler:(e,t)=>{const n=`var datum=event.item&&event.item.datum;return ${t.code};`;return Jm(e,["_","event"],n)},encode:(e,t)=>{const{marktype:n,channels:r}=t;let i="var o=item,datum=o.datum,m=0,$;";for(const o in r){const s="o["+te(o)+"]";i+=`$=${r[o].code};if(${s}!==$)${s}=$,m=1;`}return i+=Kze(r,n),i+="return m;",Jm(e,["item","_"],i)},codegen:{get(e){const t=`[${e.map(te).join("][")}]`,n=Function("_",`return _${t};`);return n.path=t,n},comparator(e,t){let n;const r=(o,s)=>{const a=t[s];let l,u;return o.path?(l=`a${o.path}`,u=`b${o.path}`):((n=n||{})["f"+s]=o,l=`this.f${s}(a)`,u=`this.f${s}(b)`),Jze(l,u,-a,a)},i=Function("a","b","var u, v; return "+e.map(r).join("")+"0;");return n?i.bind(n):i}}};function tje(e){const t=this;Qze(e.type)||!e.type?t.operator(e,e.update?t.operatorExpression(e.update):null):t.transform(e,e.type)}function nje(e){const t=this;if(e.params){const n=t.get(e.id);n||q("Invalid operator id: "+e.id),t.dataflow.connect(n,n.parameters(t.parseParameters(e.params),e.react,e.initonly))}}function rje(e,t){t=t||{};const n=this;for(const r in e){const i=e[r];t[r]=G(i)?i.map(o=>ZB(o,n,t)):ZB(i,n,t)}return t}function ZB(e,t,n){if(!e||!se(e))return e;for(let r=0,i=JB.length,o;r<i;++r)if(o=JB[r],ce(e,o.key))return o.parse(e,t,n);return e}var JB=[{key:"$ref",parse:ije},{key:"$key",parse:sje},{key:"$expr",parse:oje},{key:"$field",parse:aje},{key:"$encode",parse:uje},{key:"$compare",parse:lje},{key:"$context",parse:cje},{key:"$subflow",parse:fje},{key:"$tupleid",parse:dje}];function ije(e,t){return t.get(e.$ref)||q("Operator not defined: "+e.$ref)}function oje(e,t,n){e.$params&&t.parseParameters(e.$params,n);const r="e:"+e.$expr.code;return t.fn[r]||(t.fn[r]=Ei(t.parameterExpression(e.$expr),e.$fields))}function sje(e,t){const n="k:"+e.$key+"_"+!!e.$flat;return t.fn[n]||(t.fn[n]=aR(e.$key,e.$flat,t.expr.codegen))}function aje(e,t){if(!e.$field)return null;const n="f:"+e.$field+"_"+e.$name;return t.fn[n]||(t.fn[n]=Ro(e.$field,e.$name,t.expr.codegen))}function lje(e,t){const n="c:"+e.$compare+"_"+e.$order,r=ae(e.$compare).map(i=>i&&i.$tupleid?ve:i);return t.fn[n]||(t.fn[n]=oR(r,e.$order,t.expr.codegen))}function uje(e,t){const n=e.$encode,r={};for(const i in n){const o=n[i];r[i]=Ei(t.encodeExpression(o.$expr),o.$fields),r[i].output=o.$output}return r}function cje(e,t){return t}function fje(e,t){const n=e.$subflow;return function(r,i,o){const s=t.fork().parse(n),a=s.get(n.operators[0].id),l=s.signals.parent;return l&&l.set(o),a.detachSubflow=()=>t.detach(s),a}}function dje(){return ve}function hje(e){var t=this,n=e.filter!=null?t.eventExpression(e.filter):void 0,r=e.stream!=null?t.get(e.stream):void 0,i;e.source?r=t.events(e.source,e.type,n):e.merge&&(i=e.merge.map(o=>t.get(o)),r=i[0].merge.apply(i[0],i.slice(1))),e.between&&(i=e.between.map(o=>t.get(o)),r=r.between(i[0],i[1])),e.filter&&(r=r.filter(n)),e.throttle!=null&&(r=r.throttle(+e.throttle)),e.debounce!=null&&(r=r.debounce(+e.debounce)),r==null&&q("Invalid stream definition: "+JSON.stringify(e)),e.consume&&r.consume(!0),t.stream(e,r)}function pje(e){var t=this,n=se(n=e.source)?n.$ref:n,r=t.get(n),i=null,o=e.update,s=void 0;r||q("Source not defined: "+e.source),i=e.target&&e.target.$expr?t.eventExpression(e.target.$expr):t.get(e.target),o&&o.$expr&&(o.$params&&(s=t.parseParameters(o.$params)),o=t.handlerExpression(o.$expr)),t.update(e,r,i,o,s)}const gje={skip:!0};function mje(e){var t=this,n={};if(e.signals){var r=n.signals={};Object.keys(t.signals).forEach(o=>{const s=t.signals[o];e.signals(o,s)&&(r[o]=s.value)})}if(e.data){var i=n.data={};Object.keys(t.data).forEach(o=>{const s=t.data[o];e.data(o,s)&&(i[o]=s.input.value)})}return t.subcontext&&e.recurse!==!1&&(n.subcontext=t.subcontext.map(o=>o.getState(e))),n}function yje(e){var t=this,n=t.dataflow,r=e.data,i=e.signals;Object.keys(i||{}).forEach(o=>{n.update(t.signals[o],i[o],gje)}),Object.keys(r||{}).forEach(o=>{n.pulse(t.data[o].input,n.changeset().remove(Do).insert(r[o]))}),(e.subcontext||[]).forEach((o,s)=>{const a=t.subcontext[s];a&&a.setState(o)})}function Pie(e,t,n,r){return new Rie(e,t,n,r)}function Rie(e,t,n,r){this.dataflow=e,this.transforms=t,this.events=e.events.bind(e),this.expr=r||eje,this.signals={},this.scales={},this.nodes={},this.data={},this.fn={},n&&(this.functions=Object.create(n),this.functions.context=this)}function eU(e){this.dataflow=e.dataflow,this.transforms=e.transforms,this.events=e.events,this.expr=e.expr,this.signals=Object.create(e.signals),this.scales=Object.create(e.scales),this.nodes=Object.create(e.nodes),this.data=Object.create(e.data),this.fn=Object.create(e.fn),e.functions&&(this.functions=Object.create(e.functions),this.functions.context=this)}Rie.prototype=eU.prototype={fork(){const e=new eU(this);return(this.subcontext||(this.subcontext=[])).push(e),e},detach(e){this.subcontext=this.subcontext.filter(n=>n!==e);const t=Object.keys(e.nodes);for(const n of t)e.nodes[n]._targets=null;for(const n of t)e.nodes[n].detach();e.nodes=null},get(e){return this.nodes[e]},set(e,t){return this.nodes[e]=t},add(e,t){const n=this,r=n.dataflow,i=e.value;if(n.set(e.id,t),Zze(e.type)&&i&&(i.$ingest?r.ingest(t,i.$ingest,i.$format):i.$request?r.preload(t,i.$request,i.$format):r.pulse(t,r.changeset().insert(i))),e.root&&(n.root=t),e.parent){let o=n.get(e.parent.$ref);o?(r.connect(o,[t]),t.targets().add(o)):(n.unresolved=n.unresolved||[]).push(()=>{o=n.get(e.parent.$ref),r.connect(o,[t]),t.targets().add(o)})}if(e.signal&&(n.signals[e.signal]=t),e.scale&&(n.scales[e.scale]=t),e.data)for(const o in e.data){const s=n.data[o]||(n.data[o]={});e.data[o].forEach(a=>s[a]=t)}},resolve(){return(this.unresolved||[]).forEach(e=>e()),delete this.unresolved,this},operator(e,t){this.add(e,this.dataflow.add(e.value,t))},transform(e,t){this.add(e,this.dataflow.add(this.transforms[_O(t)]))},stream(e,t){this.set(e.id,t)},update(e,t,n,r,i){this.dataflow.on(t,n,r,i,e.options)},operatorExpression(e){return this.expr.operator(this,e)},parameterExpression(e){return this.expr.parameter(this,e)},eventExpression(e){return this.expr.event(this,e)},handlerExpression(e){return this.expr.handler(this,e)},encodeExpression(e){return this.expr.encode(this,e)},parse:Yze,parseOperator:tje,parseOperatorParameters:nje,parseParameters:rje,parseStream:hje,parseUpdate:pje,getState:mje,setState:yje};function vje(e){const t=e.container();t&&(t.setAttribute("role","graphics-document"),t.setAttribute("aria-roleDescription","visualization"),Die(t,e.description()))}function Die(e,t){e&&(t==null?e.removeAttribute("aria-label"):e.setAttribute("aria-label",t))}function bje(e){e.add(null,t=>(e._background=t.bg,e._resize=1,t.bg),{bg:e._signals.background})}const KA="default";function xje(e){const t=e._signals.cursor||(e._signals.cursor=e.add({user:KA,item:null}));e.on(e.events("view","pointermove"),t,(n,r)=>{const i=t.value,o=i?le(i)?i:i.user:KA,s=r.item&&r.item.cursor||null;return i&&o===i.user&&s==i.item?i:{user:o,item:s}}),e.add(null,function(n){let r=n.cursor,i=this.value;return le(r)||(i=r.item,r=r.user),O4(e,r&&r!==KA?r:i||r),i},{cursor:t})}function O4(e,t){const n=e.globalCursor()?typeof document<"u"&&document.body:e.container();if(n)return t==null?n.style.removeProperty("cursor"):n.style.cursor=t}function XS(e,t){var n=e._runtime.data;return ce(n,t)||q("Unrecognized data set: "+t),n[t]}function wje(e,t){return arguments.length<2?XS(this,e).values.value:b_.call(this,e,Vd().remove(Do).insert(t))}function b_(e,t){WZ(t)||q("Second argument to changes must be a changeset.");const n=XS(this,e);return n.modified=!0,this.pulse(n.input,t)}function Sje(e,t){return b_.call(this,e,Vd().insert(t))}function kje(e,t){return b_.call(this,e,Vd().remove(t))}function Oie(e){var t=e.padding();return Math.max(0,e._viewWidth+t.left+t.right)}function Nie(e){var t=e.padding();return Math.max(0,e._viewHeight+t.top+t.bottom)}function x_(e){var t=e.padding(),n=e._origin;return[t.left+n[0],t.top+n[1]]}function Cje(e){var t=x_(e),n=Oie(e),r=Nie(e);e._renderer.background(e.background()),e._renderer.resize(n,r,t),e._handler.origin(t),e._resizeListeners.forEach(i=>{try{i(n,r)}catch(o){e.error(o)}})}function _je(e,t,n){var r=e._renderer,i=r&&r.canvas(),o,s,a;return i&&(a=x_(e),s=t.changedTouches?t.changedTouches[0]:t,o=s_(s,i),o[0]-=a[0],o[1]-=a[1]),t.dataflow=e,t.item=n,t.vega=Eje(e,n,o),t}function Eje(e,t,n){const r=t?t.mark.marktype==="group"?t:t.mark.group:null;function i(s){var a=r,l;if(s){for(l=t;l;l=l.mark.group)if(l.mark.name===s){a=l;break}}return a&&a.mark&&a.mark.interactive?a:{}}function o(s){if(!s)return n;le(s)&&(s=i(s));const a=n.slice();for(;s;)a[0]-=s.x||0,a[1]-=s.y||0,s=s.mark&&s.mark.group;return a}return{view:Tr(e),item:Tr(t||{}),group:i,xy:o,x:s=>o(s)[0],y:s=>o(s)[1]}}const tU="view",$je="timer",Aje="window",Tje={trap:!1};function Mje(e){const t=Oe({defaults:{}},e),n=(r,i)=>{i.forEach(o=>{G(r[o])&&(r[o]=ws(r[o]))})};return n(t.defaults,["prevent","allow"]),n(t,["view","window","selector"]),t}function Iie(e,t,n,r){e._eventListeners.push({type:n,sources:ae(t),handler:r})}function Fje(e,t){var n=e._eventConfig.defaults,r=n.prevent,i=n.allow;return r===!1||i===!0?!1:r===!0||i===!1?!0:r?r[t]:i?!i[t]:e.preventDefault()}function xx(e,t,n){const r=e._eventConfig&&e._eventConfig[t];return r===!1||se(r)&&!r[n]?(e.warn(`Blocked ${t} ${n} event listener.`),!1):!0}function Pje(e,t,n){var r=this,i=new MC(n),o=function(u,c){r.runAsync(null,()=>{e===tU&&Fje(r,t)&&u.preventDefault(),i.receive(_je(r,u,c))})},s;if(e===$je)xx(r,"timer",t)&&r.timer(o,t);else if(e===tU)xx(r,"view",t)&&r.addEventListener(t,o,Tje);else if(e===Aje?xx(r,"window",t)&&typeof window<"u"&&(s=[window]):typeof document<"u"&&xx(r,"selector",t)&&(s=Array.from(document.querySelectorAll(e))),!s)r.warn("Can not resolve event source: "+e);else{for(var a=0,l=s.length;a<l;++a)s[a].addEventListener(t,o);Iie(r,s,t,o)}return i}function nU(e){return e.item}function rU(e){return e.item.mark.source}function iU(e){return function(t,n){return n.vega.view().changeset().encode(n.item,e)}}function Rje(e,t){return e=[e||"hover"],t=[t||"update",e[0]],this.on(this.events("view","pointerover",nU),rU,iU(e)),this.on(this.events("view","pointerout",nU),rU,iU(t)),this}function Dje(){var e=this._tooltip,t=this._timers,n=this._handler.handlers(),r=this._eventListeners,i,o,s,a,l;for(i=t.length;--i>=0;)t[i].stop();for(i=r.length;--i>=0;)for(s=r[i],o=s.sources.length;--o>=0;)s.sources[o].removeEventListener(s.type,s.handler);for(e&&e.call(this,this._handler,null,null,null),i=n.length;--i>=0;)l=n[i].type,a=n[i].handler,this._handler.off(l,a);return this}function qi(e,t,n){const r=document.createElement(e);for(const i in t)r.setAttribute(i,t[i]);return n!=null&&(r.textContent=n),r}const Oje="vega-bind",Nje="vega-bind-name",Ije="vega-bind-radio";function Lje(e,t,n){if(!t)return;const r=n.param;let i=n.state;return i||(i=n.state={elements:null,active:!1,set:null,update:s=>{s!=e.signal(r.signal)&&e.runAsync(null,()=>{i.source=!0,e.signal(r.signal,s)})}},r.debounce&&(i.update=sR(r.debounce,i.update))),(r.input==null&&r.element?zje:Bje)(i,t,r,e),i.active||(e.on(e._signals[r.signal],null,()=>{i.source?i.source=!1:i.set(e.signal(r.signal))}),i.active=!0),i}function zje(e,t,n,r){const i=n.event||"input",o=()=>e.update(t.value);r.signal(n.signal,t.value),t.addEventListener(i,o),Iie(r,t,i,o),e.set=s=>{t.value=s,t.dispatchEvent(jje(i))}}function jje(e){return typeof Event<"u"?new Event(e):{type:e}}function Bje(e,t,n,r){const i=r.signal(n.signal),o=qi("div",{class:Oje}),s=n.input==="radio"?o:o.appendChild(qi("label"));s.appendChild(qi("span",{class:Nje},n.name||n.signal)),t.appendChild(o);let a=Uje;switch(n.input){case"checkbox":a=Vje;break;case"select":a=Wje;break;case"radio":a=Hje;break;case"range":a=qje;break}a(e,s,n,i)}function Uje(e,t,n,r){const i=qi("input");for(const o in n)o!=="signal"&&o!=="element"&&i.setAttribute(o==="input"?"type":o,n[o]);i.setAttribute("name",n.signal),i.value=r,t.appendChild(i),i.addEventListener("input",()=>e.update(i.value)),e.elements=[i],e.set=o=>i.value=o}function Vje(e,t,n,r){const i={type:"checkbox",name:n.signal};r&&(i.checked=!0);const o=qi("input",i);t.appendChild(o),o.addEventListener("change",()=>e.update(o.checked)),e.elements=[o],e.set=s=>o.checked=!!s||null}function Wje(e,t,n,r){const i=qi("select",{name:n.signal}),o=n.labels||[];n.options.forEach((s,a)=>{const l={value:s};KS(s,r)&&(l.selected=!0),i.appendChild(qi("option",l,(o[a]||s)+""))}),t.appendChild(i),i.addEventListener("change",()=>{e.update(n.options[i.selectedIndex])}),e.elements=[i],e.set=s=>{for(let a=0,l=n.options.length;a<l;++a)if(KS(n.options[a],s)){i.selectedIndex=a;return}}}function Hje(e,t,n,r){const i=qi("span",{class:Ije}),o=n.labels||[];t.appendChild(i),e.elements=n.options.map((s,a)=>{const l={type:"radio",name:n.signal,value:s};KS(s,r)&&(l.checked=!0);const u=qi("input",l);u.addEventListener("change",()=>e.update(s));const c=qi("label",{},(o[a]||s)+"");return c.prepend(u),i.appendChild(c),u}),e.set=s=>{const a=e.elements,l=a.length;for(let u=0;u<l;++u)KS(a[u].value,s)&&(a[u].checked=!0)}}function qje(e,t,n,r){r=r!==void 0?r:(+n.max+ +n.min)/2;const i=n.max!=null?n.max:Math.max(100,+r)||100,o=n.min||Math.min(0,i,+r)||0,s=n.step||lc(o,i,100),a=qi("input",{type:"range",name:n.signal,min:o,max:i,step:s});a.value=r;const l=qi("span",{},+r);t.appendChild(a),t.appendChild(l);const u=()=>{l.textContent=a.value,e.update(+a.value)};a.addEventListener("input",u),a.addEventListener("change",u),e.elements=[a],e.set=c=>{a.value=c,l.textContent=c}}function KS(e,t){return e===t||e+""==t+""}function Lie(e,t,n,r,i,o){return t=t||new r(e.loader()),t.initialize(n,Oie(e),Nie(e),x_(e),i,o).background(e.background())}function EO(e,t){return t?function(){try{t.apply(this,arguments)}catch(n){e.error(n)}}:null}function Gje(e,t,n,r){const i=new r(e.loader(),EO(e,e.tooltip())).scene(e.scenegraph().root).initialize(n,x_(e),e);return t&&t.handlers().forEach(o=>{i.on(o.type,o.handler)}),i}function Yje(e,t){const n=this,r=n._renderType,i=n._eventConfig.bind,o=a_(r);e=n._el=e?QA(n,e,!0):null,vje(n),o||n.error("Unrecognized renderer type: "+r);const s=o.handler||Rv,a=e?o.renderer:o.headless;return n._renderer=a?Lie(n,n._renderer,e,a):null,n._handler=Gje(n,n._handler,e,s),n._redraw=!0,e&&i!=="none"&&(t=t?n._elBind=QA(n,t,!0):e.appendChild(qi("form",{class:"vega-bindings"})),n._bind.forEach(l=>{l.param.element&&i!=="container"&&(l.element=QA(n,l.param.element,!!l.param.input))}),n._bind.forEach(l=>{Lje(n,l.element||t,l)})),n}function QA(e,t,n){if(typeof t=="string")if(typeof document<"u"){if(t=document.querySelector(t),!t)return e.error("Signal bind element not found: "+t),null}else return e.error("DOM document instance not found."),null;if(t&&n)try{t.textContent=""}catch(r){t=null,e.error(r)}return t}const e0=e=>+e||0,Xje=e=>({top:e,bottom:e,left:e,right:e});function oU(e){return se(e)?{top:e0(e.top),bottom:e0(e.bottom),left:e0(e.left),right:e0(e.right)}:Xje(e0(e))}async function $O(e,t,n,r){const i=a_(t),o=i&&i.headless;return o||q("Unrecognized renderer type: "+t),await e.runAsync(),Lie(e,null,null,o,n,r).renderAsync(e._scenegraph.root)}async function Kje(e,t){e!==Du.Canvas&&e!==Du.SVG&&e!==Du.PNG&&q("Unrecognized image type: "+e);const n=await $O(this,e,t);return e===Du.SVG?Qje(n.svg(),"image/svg+xml"):n.canvas().toDataURL("image/png")}function Qje(e,t){const n=new Blob([e],{type:t});return window.URL.createObjectURL(n)}async function Zje(e,t){return(await $O(this,Du.Canvas,e,t)).canvas()}async function Jje(e){return(await $O(this,Du.SVG,e)).svg()}function eBe(e,t,n){return Pie(e,lg,$1,n).parse(t)}function tBe(e){var t=this._runtime.scales;return ce(t,e)||q("Unrecognized scale or projection: "+e),t[e].value}var zie="width",jie="height",AO="padding",sU={skip:!0};function Bie(e,t){var n=e.autosize(),r=e.padding();return t-(n&&n.contains===AO?r.left+r.right:0)}function Uie(e,t){var n=e.autosize(),r=e.padding();return t-(n&&n.contains===AO?r.top+r.bottom:0)}function nBe(e){var t=e._signals,n=t[zie],r=t[jie],i=t[AO];function o(){e._autosize=e._resize=1}e._resizeWidth=e.add(null,a=>{e._width=a.size,e._viewWidth=Bie(e,a.size),o()},{size:n}),e._resizeHeight=e.add(null,a=>{e._height=a.size,e._viewHeight=Uie(e,a.size),o()},{size:r});const s=e.add(null,o,{pad:i});e._resizeWidth.rank=n.rank+1,e._resizeHeight.rank=r.rank+1,s.rank=i.rank+1}function rBe(e,t,n,r,i,o){this.runAfter(s=>{let a=0;s._autosize=0,s.width()!==n&&(a=1,s.signal(zie,n,sU),s._resizeWidth.skip(!0)),s.height()!==r&&(a=1,s.signal(jie,r,sU),s._resizeHeight.skip(!0)),s._viewWidth!==e&&(s._resize=1,s._viewWidth=e),s._viewHeight!==t&&(s._resize=1,s._viewHeight=t),(s._origin[0]!==i[0]||s._origin[1]!==i[1])&&(s._resize=1,s._origin=i),a&&s.run("enter"),o&&s.runAfter(l=>l.resize())},!1,1)}function iBe(e){return this._runtime.getState(e||{data:oBe,signals:sBe,recurse:!0})}function oBe(e,t){return t.modified&&G(t.input.value)&&!e.startsWith("_:vega:_")}function sBe(e,t){return!(e==="parent"||t instanceof lg.proxy)}function aBe(e){return this.runAsync(null,t=>{t._trigger=!1,t._runtime.setState(e)},t=>{t._trigger=!0}),this}function lBe(e,t){function n(r){e({timestamp:Date.now(),elapsed:r})}this._timers.push(z9e(n,t))}function uBe(e,t,n,r){const i=e.element();i&&i.setAttribute("title",cBe(r))}function cBe(e){return e==null?"":G(e)?Vie(e):se(e)&&!Qu(e)?fBe(e):e+""}function fBe(e){return Object.keys(e).map(t=>{const n=e[t];return t+": "+(G(n)?Vie(n):Wie(n))}).join(`
`)}function Vie(e){return"["+e.map(Wie).join(", ")+"]"}function Wie(e){return G(e)?"[…]":se(e)&&!Qu(e)?"{…}":e}function dBe(){if(this.renderer()==="canvas"&&this._renderer._canvas){let e=null;const t=()=>{e!=null&&e();const n=matchMedia(`(resolution: ${window.devicePixelRatio}dppx)`);n.addEventListener("change",t),e=()=>{n.removeEventListener("change",t)},this._renderer._canvas.getContext("2d").pixelRatio=window.devicePixelRatio||1,this._redraw=!0,this._resize=1,this.resize().runAsync()};t()}}function Hie(e,t){const n=this;if(t=t||{},mp.call(n),t.loader&&n.loader(t.loader),t.logger&&n.logger(t.logger),t.logLevel!=null&&n.logLevel(t.logLevel),t.locale||e.locale){const o=Oe({},e.locale,t.locale);n.locale(DZ(o.number,o.time))}n._el=null,n._elBind=null,n._renderType=t.renderer||Du.Canvas,n._scenegraph=new zte;const r=n._scenegraph.root;n._renderer=null,n._tooltip=t.tooltip||uBe,n._redraw=!0,n._handler=new Rv().scene(r),n._globalCursor=!1,n._preventDefault=!1,n._timers=[],n._eventListeners=[],n._resizeListeners=[],n._eventConfig=Mje(e.eventConfig),n.globalCursor(n._eventConfig.globalCursor);const i=eBe(n,e,t.expr);n._runtime=i,n._signals=i.signals,n._bind=(e.bindings||[]).map(o=>({state:null,param:Oe({},o)})),i.root&&i.root.set(r),r.source=i.data.root.input,n.pulse(i.data.root.input,n.changeset().insert(r.items)),n._width=n.width(),n._height=n.height(),n._viewWidth=Bie(n,n._width),n._viewHeight=Uie(n,n._height),n._origin=[0,0],n._resize=0,n._autosize=1,nBe(n),bje(n),xje(n),n.description(e.description),t.hover&&n.hover(),t.container&&n.initialize(t.container,t.bind),t.watchPixelRatio&&n._watchPixelRatio()}function wx(e,t){return ce(e._signals,t)?e._signals[t]:q("Unrecognized signal name: "+te(t))}function qie(e,t){const n=(e._targets||[]).filter(r=>r._update&&r._update.handler===t);return n.length?n[0]:null}function aU(e,t,n,r){let i=qie(n,r);return i||(i=EO(e,()=>r(t,n.value)),i.handler=r,e.on(n,null,i)),e}function lU(e,t,n){const r=qie(t,n);return r&&t._targets.remove(r),e}ne(Hie,mp,{async evaluate(e,t,n){if(await mp.prototype.evaluate.call(this,e,t),this._redraw||this._resize)try{this._renderer&&(this._resize&&(this._resize=0,Cje(this)),await this._renderer.renderAsync(this._scenegraph.root)),this._redraw=!1}catch(r){this.error(r)}return n&&m2(this,n),this},dirty(e){this._redraw=!0,this._renderer&&this._renderer.dirty(e)},description(e){if(arguments.length){const t=e!=null?e+"":null;return t!==this._desc&&Die(this._el,this._desc=t),this}return this._desc},container(){return this._el},scenegraph(){return this._scenegraph},origin(){return this._origin.slice()},signal(e,t,n){const r=wx(this,e);return arguments.length===1?r.value:this.update(r,t,n)},width(e){return arguments.length?this.signal("width",e):this.signal("width")},height(e){return arguments.length?this.signal("height",e):this.signal("height")},padding(e){return arguments.length?this.signal("padding",oU(e)):oU(this.signal("padding"))},autosize(e){return arguments.length?this.signal("autosize",e):this.signal("autosize")},background(e){return arguments.length?this.signal("background",e):this.signal("background")},renderer(e){return arguments.length?(a_(e)||q("Unrecognized renderer type: "+e),e!==this._renderType&&(this._renderType=e,this._resetRenderer()),this):this._renderType},tooltip(e){return arguments.length?(e!==this._tooltip&&(this._tooltip=e,this._resetRenderer()),this):this._tooltip},loader(e){return arguments.length?(e!==this._loader&&(mp.prototype.loader.call(this,e),this._resetRenderer()),this):this._loader},resize(){return this._autosize=1,this.touch(wx(this,"autosize"))},_resetRenderer(){this._renderer&&(this._renderer=null,this.initialize(this._el,this._elBind))},_resizeView:rBe,addEventListener(e,t,n){let r=t;return n&&n.trap===!1||(r=EO(this,t),r.raw=t),this._handler.on(e,r),this},removeEventListener(e,t){for(var n=this._handler.handlers(e),r=n.length,i,o;--r>=0;)if(o=n[r].type,i=n[r].handler,e===o&&(t===i||t===i.raw)){this._handler.off(o,i);break}return this},addResizeListener(e){const t=this._resizeListeners;return t.includes(e)||t.push(e),this},removeResizeListener(e){var t=this._resizeListeners,n=t.indexOf(e);return n>=0&&t.splice(n,1),this},addSignalListener(e,t){return aU(this,e,wx(this,e),t)},removeSignalListener(e,t){return lU(this,wx(this,e),t)},addDataListener(e,t){return aU(this,e,XS(this,e).values,t)},removeDataListener(e,t){return lU(this,XS(this,e).values,t)},globalCursor(e){if(arguments.length){if(this._globalCursor!==!!e){const t=O4(this,null);this._globalCursor=!!e,t&&O4(this,t)}return this}else return this._globalCursor},preventDefault(e){return arguments.length?(this._preventDefault=e,this):this._preventDefault},timer:lBe,events:Pje,finalize:Dje,hover:Rje,data:wje,change:b_,insert:Sje,remove:kje,scale:tBe,initialize:Yje,toImageURL:Kje,toCanvas:Zje,toSVG:Jje,getState:iBe,setState:aBe,_watchPixelRatio:dBe});const hBe="view",QS="[",ZS="]",Gie="{",Yie="}",pBe=":",Xie=",",gBe="@",mBe=">",yBe=/[[\]{}]/,vBe={"*":1,arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1};let Kie,Qie;function Rc(e,t,n){return Kie=t||hBe,Qie=n||vBe,Zie(e.trim()).map(N4)}function bBe(e){return Qie[e]}function Ay(e,t,n,r,i){const o=e.length;let s=0,a;for(;t<o;++t){if(a=e[t],!s&&a===n)return t;i&&i.indexOf(a)>=0?--s:r&&r.indexOf(a)>=0&&++s}return t}function Zie(e){const t=[],n=e.length;let r=0,i=0;for(;i<n;)i=Ay(e,i,Xie,QS+Gie,ZS+Yie),t.push(e.substring(r,i).trim()),r=++i;if(t.length===0)throw"Empty event selector: "+e;return t}function N4(e){return e[0]==="["?xBe(e):wBe(e)}function xBe(e){const t=e.length;let n=1,r;if(n=Ay(e,n,ZS,QS,ZS),n===t)throw"Empty between selector: "+e;if(r=Zie(e.substring(1,n)),r.length!==2)throw"Between selector must have two elements: "+e;if(e=e.slice(n+1).trim(),e[0]!==mBe)throw"Expected '>' after between selector: "+e;r=r.map(N4);const i=N4(e.slice(1).trim());return i.between?{between:r,stream:i}:(i.between=r,i)}function wBe(e){const t={source:Kie},n=[];let r=[0,0],i=0,o=0,s=e.length,a=0,l,u;if(e[s-1]===Yie){if(a=e.lastIndexOf(Gie),a>=0){try{r=SBe(e.substring(a+1,s-1))}catch{throw"Invalid throttle specification: "+e}e=e.slice(0,a).trim(),s=e.length}else throw"Unmatched right brace: "+e;a=0}if(!s)throw e;if(e[0]===gBe&&(i=++a),l=Ay(e,a,pBe),l<s&&(n.push(e.substring(o,l).trim()),o=a=++l),a=Ay(e,a,QS),a===s)n.push(e.substring(o,s).trim());else if(n.push(e.substring(o,a).trim()),u=[],o=++a,o===s)throw"Unmatched left bracket: "+e;for(;a<s;){if(a=Ay(e,a,ZS),a===s)throw"Unmatched left bracket: "+e;if(u.push(e.substring(o,a).trim()),a<s-1&&e[++a]!==QS)throw"Expected left bracket: "+e;o=++a}if(!(s=n.length)||yBe.test(n[s-1]))throw"Invalid event selector: "+e;return s>1?(t.type=n[1],i?t.markname=n[0].slice(1):bBe(n[0])?t.marktype=n[0]:t.source=n[0]):t.type=n[0],t.type.slice(-1)==="!"&&(t.consume=!0,t.type=t.type.slice(0,-1)),u!=null&&(t.filter=u),r[0]&&(t.throttle=r[0]),r[1]&&(t.debounce=r[1]),t}function SBe(e){const t=e.split(Xie);if(!e.length||t.length>2)throw e;return t.map(n=>{const r=+n;if(r!==r)throw e;return r})}function kBe(e){return se(e)?e:{type:e||"pad"}}const t0=e=>+e||0,CBe=e=>({top:e,bottom:e,left:e,right:e});function _Be(e){return se(e)?e.signal?e:{top:t0(e.top),bottom:t0(e.bottom),left:t0(e.left),right:t0(e.right)}:CBe(t0(e))}const Dn=e=>se(e)&&!G(e)?Oe({},e):{value:e};function uU(e,t,n,r){return n!=null?(se(n)&&!G(n)||G(n)&&n.length&&se(n[0])?e.update[t]=n:e[r||"enter"][t]={value:n},1):0}function rr(e,t,n){for(const r in t)uU(e,r,t[r]);for(const r in n)uU(e,r,n[r],"update")}function lm(e,t,n){for(const r in t)n&&ce(n,r)||(e[r]=Oe(e[r]||{},t[r]));return e}function Ah(e,t){return t&&(t.enter&&t.enter[e]||t.update&&t.update[e])}const TO="mark",MO="frame",FO="scope",EBe="axis",$Be="axis-domain",ABe="axis-grid",TBe="axis-label",MBe="axis-tick",FBe="axis-title",PBe="legend",RBe="legend-band",DBe="legend-entry",OBe="legend-gradient",Jie="legend-label",NBe="legend-symbol",IBe="legend-title",LBe="title",zBe="title-text",jBe="title-subtitle";function BBe(e,t,n,r,i){const o={},s={};let a,l,u,c;l="lineBreak",t==="text"&&i[l]!=null&&!Ah(l,e)&&ZA(o,l,i[l]),(n=="legend"||String(n).startsWith("axis"))&&(n=null),c=n===MO?i.group:n===TO?Oe({},i.mark,i[t]):null;for(l in c)u=Ah(l,e)||(l==="fill"||l==="stroke")&&(Ah("fill",e)||Ah("stroke",e)),u||ZA(o,l,c[l]);ae(r).forEach(f=>{const d=i.style&&i.style[f];for(const h in d)Ah(h,e)||ZA(o,h,d[h])}),e=Oe({},e);for(l in o)c=o[l],c.signal?(a=a||{})[l]=c:s[l]=c;return e.enter=Oe(s,e.enter),a&&(e.update=Oe(a,e.update)),e}function ZA(e,t,n){e[t]=n&&n.signal?{signal:n.signal}:{value:n}}const eoe=e=>le(e)?te(e):e.signal?`(${e.signal})`:toe(e);function w_(e){if(e.gradient!=null)return VBe(e);let t=e.signal?`(${e.signal})`:e.color?UBe(e.color):e.field!=null?toe(e.field):e.value!==void 0?te(e.value):void 0;return e.scale!=null&&(t=WBe(e,t)),t===void 0&&(t=null),e.exponent!=null&&(t=`pow(${t},${D2(e.exponent)})`),e.mult!=null&&(t+=`*${D2(e.mult)}`),e.offset!=null&&(t+=`+${D2(e.offset)}`),e.round&&(t=`round(${t})`),t}const Sx=(e,t,n,r)=>`(${e}(${[t,n,r].map(w_).join(",")})+'')`;function UBe(e){return e.c?Sx("hcl",e.h,e.c,e.l):e.h||e.s?Sx("hsl",e.h,e.s,e.l):e.l||e.a?Sx("lab",e.l,e.a,e.b):e.r||e.g||e.b?Sx("rgb",e.r,e.g,e.b):null}function VBe(e){const t=[e.start,e.stop,e.count].map(n=>n==null?null:te(n));for(;t.length&&qe(t)==null;)t.pop();return t.unshift(eoe(e.gradient)),`gradient(${t.join(",")})`}function D2(e){return se(e)?"("+w_(e)+")":e}function toe(e){return noe(se(e)?e:{datum:e})}function noe(e){let t,n,r;if(e.signal)t="datum",r=e.signal;else if(e.group||e.parent){for(n=Math.max(1,e.level||1),t="item";n-- >0;)t+=".mark.group";e.parent?(r=e.parent,t+=".datum"):r=e.group}else e.datum?(t="datum",r=e.datum):q("Invalid field reference: "+te(e));return e.signal||(r=le(r)?Ta(r).map(te).join("]["):noe(r)),t+"["+r+"]"}function WBe(e,t){const n=eoe(e.scale);return e.range!=null?t=`lerp(_range(${n}), ${+e.range})`:(t!==void 0&&(t=`_scale(${n}, ${t})`),e.band&&(t=(t?t+"+":"")+`_bandwidth(${n})`+(+e.band==1?"":"*"+D2(e.band)),e.extra&&(t=`(datum.extra ? _scale(${n}, datum.extra.value) : ${t})`)),t==null&&(t="0")),t}function HBe(e){let t="";return e.forEach(n=>{const r=w_(n);t+=n.test?`(${n.test})?${r}:`:r}),qe(t)===":"&&(t+="null"),t}function roe(e,t,n,r,i,o){const s={};o=o||{},o.encoders={$encode:s},e=BBe(e,t,n,r,i.config);for(const a in e)s[a]=qBe(e[a],t,o,i);return o}function qBe(e,t,n,r){const i={},o={};for(const s in e)e[s]!=null&&(i[s]=YBe(GBe(e[s]),r,n,o));return{$expr:{marktype:t,channels:i},$fields:Object.keys(o),$output:Object.keys(e)}}function GBe(e){return G(e)?HBe(e):w_(e)}function YBe(e,t,n,r){const i=_a(e,t);return i.$fields.forEach(o=>r[o]=1),Oe(n,i.$params),i.$expr}const XBe="outer",KBe=["value","update","init","react","bind"];function cU(e,t){q(e+' for "outer" push: '+te(t))}function ioe(e,t){const n=e.name;if(e.push===XBe)t.signals[n]||cU("No prior signal definition",n),KBe.forEach(r=>{e[r]!==void 0&&cU("Invalid property ",r)});else{const r=t.addSignal(n,e.value);e.react===!1&&(r.react=!1),e.bind&&t.addBinding(n,e.bind)}}function I4(e,t,n,r){this.id=-1,this.type=e,this.value=t,this.params=n,r&&(this.parent=r)}function S_(e,t,n,r){return new I4(e,t,n,r)}function JS(e,t){return S_("operator",e,t)}function ye(e){const t={$ref:e.id};return e.id<0&&(e.refs=e.refs||[]).push(t),t}function A1(e,t){return t?{$field:e,$name:t}:{$field:e}}const L4=A1("key");function fU(e,t){return{$compare:e,$order:t}}function QBe(e,t){const n={$key:e};return t&&(n.$flat=!0),n}const ZBe="ascending",JBe="descending";function eUe(e){return se(e)?(e.order===JBe?"-":"+")+k_(e.op,e.field):""}function k_(e,t){return(e&&e.signal?"$"+e.signal:e||"")+(e&&t?"_":"")+(t&&t.signal?"$"+t.signal:t||"")}const PO="scope",z4="view";function kn(e){return e&&e.signal}function tUe(e){return e&&e.expr}function O2(e){if(kn(e))return!0;if(se(e)){for(const t in e)if(O2(e[t]))return!0}return!1}function ts(e,t){return e??t}function Qf(e){return e&&e.signal||e}const dU="timer";function T1(e,t){return(e.merge?rUe:e.stream?iUe:e.type?oUe:q("Invalid stream specification: "+te(e)))(e,t)}function nUe(e){return e===PO?z4:e||z4}function rUe(e,t){const n=e.merge.map(i=>T1(i,t)),r=RO({merge:n},e,t);return t.addStream(r).id}function iUe(e,t){const n=T1(e.stream,t),r=RO({stream:n},e,t);return t.addStream(r).id}function oUe(e,t){let n;e.type===dU?(n=t.event(dU,e.throttle),e={between:e.between,filter:e.filter}):n=t.event(nUe(e.source),e.type);const r=RO({stream:n},e,t);return Object.keys(r).length===1?n:t.addStream(r).id}function RO(e,t,n){let r=t.between;return r&&(r.length!==2&&q('Stream "between" parameter must have 2 entries: '+te(t)),e.between=[T1(r[0],n),T1(r[1],n)]),r=t.filter?[].concat(t.filter):[],(t.marktype||t.markname||t.markrole)&&r.push(sUe(t.marktype,t.markname,t.markrole)),t.source===PO&&r.push("inScope(event.item)"),r.length&&(e.filter=_a("("+r.join(")&&(")+")",n).$expr),(r=t.throttle)!=null&&(e.throttle=+r),(r=t.debounce)!=null&&(e.debounce=+r),t.consume&&(e.consume=!0),e}function sUe(e,t,n){const r="event.item";return r+(e&&e!=="*"?"&&"+r+".mark.marktype==='"+e+"'":"")+(n?"&&"+r+".mark.role==='"+n+"'":"")+(t?"&&"+r+".mark.name==='"+t+"'":"")}const aUe={code:"_.$value",ast:{type:"Identifier",value:"value"}};function lUe(e,t,n){const r=e.encode,i={target:n};let o=e.events,s=e.update,a=[];o||q("Signal update missing events specification."),le(o)&&(o=Rc(o,t.isSubscope()?PO:z4)),o=ae(o).filter(l=>l.signal||l.scale?(a.push(l),0):1),a.length>1&&(a=[cUe(a)]),o.length&&a.push(o.length>1?{merge:o}:o[0]),r!=null&&(s&&q("Signal encode and update are mutually exclusive."),s="encode(item(),"+te(r)+")"),i.update=le(s)?_a(s,t):s.expr!=null?_a(s.expr,t):s.value!=null?s.value:s.signal!=null?{$expr:aUe,$params:{$value:t.signalRef(s.signal)}}:q("Invalid signal update specification."),e.force&&(i.options={force:!0}),a.forEach(l=>t.addUpdate(Oe(uUe(l,t),i)))}function uUe(e,t){return{source:e.signal?t.signalRef(e.signal):e.scale?t.scaleRef(e.scale):T1(e,t)}}function cUe(e){return{signal:"["+e.map(t=>t.scale?'scale("'+t.scale+'")':t.signal)+"]"}}function fUe(e,t){const n=t.getSignal(e.name);let r=e.update;e.init&&(r?q("Signals can not include both init and update expressions."):(r=e.init,n.initonly=!0)),r&&(r=_a(r,t),n.update=r.$expr,n.params=r.$params),e.on&&e.on.forEach(i=>lUe(i,t,n.id))}const xt=e=>(t,n,r)=>S_(e,n,t||void 0,r),ooe=xt("aggregate"),dUe=xt("axisticks"),soe=xt("bound"),Fs=xt("collect"),hU=xt("compare"),hUe=xt("datajoin"),aoe=xt("encode"),pUe=xt("expression"),gUe=xt("facet"),mUe=xt("field"),yUe=xt("key"),vUe=xt("legendentries"),bUe=xt("load"),xUe=xt("mark"),wUe=xt("multiextent"),SUe=xt("multivalues"),kUe=xt("overlap"),CUe=xt("params"),loe=xt("prefacet"),_Ue=xt("projection"),EUe=xt("proxy"),$Ue=xt("relay"),uoe=xt("render"),AUe=xt("scale"),Gd=xt("sieve"),TUe=xt("sortitems"),coe=xt("viewlayout"),MUe=xt("values");let FUe=0;const foe={min:"min",max:"max",count:"sum"};function PUe(e,t){const n=e.type||"linear";Qee(n)||q("Unrecognized scale type: "+te(n)),t.addScale(e.name,{type:n,domain:void 0})}function RUe(e,t){const n=t.getScale(e.name).params;let r;n.domain=doe(e.domain,e,t),e.range!=null&&(n.range=poe(e,t,n)),e.interpolate!=null&&VUe(e.interpolate,n),e.nice!=null&&(n.nice=UUe(e.nice,t)),e.bins!=null&&(n.bins=BUe(e.bins,t));for(r in e)ce(n,r)||r==="name"||(n[r]=Eo(e[r],t))}function Eo(e,t){return se(e)?e.signal?t.signalRef(e.signal):q("Unsupported object: "+te(e)):e}function N2(e,t){return e.signal?t.signalRef(e.signal):e.map(n=>Eo(n,t))}function C_(e){q("Can not find data set: "+te(e))}function doe(e,t,n){if(!e){(t.domainMin!=null||t.domainMax!=null)&&q("No scale domain defined for domainMin/domainMax to override.");return}return e.signal?n.signalRef(e.signal):(G(e)?DUe:e.fields?NUe:OUe)(e,t,n)}function DUe(e,t,n){return e.map(r=>Eo(r,n))}function OUe(e,t,n){const r=n.getData(e.data);return r||C_(e.data),hg(t.type)?r.valuesRef(n,e.field,hoe(e.sort,!1)):ete(t.type)?r.domainRef(n,e.field):r.extentRef(n,e.field)}function NUe(e,t,n){const r=e.data,i=e.fields.reduce((o,s)=>(s=le(s)?{data:r,field:s}:G(s)||s.signal?IUe(s,n):s,o.push(s),o),[]);return(hg(t.type)?LUe:ete(t.type)?zUe:jUe)(e,n,i)}function IUe(e,t){const n="_:vega:_"+FUe++,r=Fs({});if(G(e))r.value={$ingest:e};else if(e.signal){const i="setdata("+te(n)+","+e.signal+")";r.params.input=t.signalRef(i)}return t.addDataPipeline(n,[r,Gd({})]),{data:n,field:"data"}}function LUe(e,t,n){const r=hoe(e.sort,!0);let i,o;const s=n.map(u=>{const c=t.getData(u.data);return c||C_(u.data),c.countsRef(t,u.field,r)}),a={groupby:L4,pulse:s};r&&(i=r.op||"count",o=r.field?k_(i,r.field):"count",a.ops=[foe[i]],a.fields=[t.fieldRef(o)],a.as=[o]),i=t.add(ooe(a));const l=t.add(Fs({pulse:ye(i)}));return o=t.add(MUe({field:L4,sort:t.sortRef(r),pulse:ye(l)})),ye(o)}function hoe(e,t){return e&&(!e.field&&!e.op?se(e)?e.field="key":e={field:"key"}:!e.field&&e.op!=="count"?q("No field provided for sort aggregate op: "+e.op):t&&e.field&&e.op&&!foe[e.op]&&q("Multiple domain scales can not be sorted using "+e.op)),e}function zUe(e,t,n){const r=n.map(i=>{const o=t.getData(i.data);return o||C_(i.data),o.domainRef(t,i.field)});return ye(t.add(SUe({values:r})))}function jUe(e,t,n){const r=n.map(i=>{const o=t.getData(i.data);return o||C_(i.data),o.extentRef(t,i.field)});return ye(t.add(wUe({extents:r})))}function BUe(e,t){return e.signal||G(e)?N2(e,t):t.objectProperty(e)}function UUe(e,t){return e.signal?t.signalRef(e.signal):se(e)?{interval:Eo(e.interval),step:Eo(e.step)}:Eo(e)}function VUe(e,t){t.interpolate=Eo(e.type||e),e.gamma!=null&&(t.interpolateGamma=Eo(e.gamma))}function poe(e,t,n){const r=t.config.range;let i=e.range;if(i.signal)return t.signalRef(i.signal);if(le(i)){if(r&&ce(r,i))return e=Oe({},e,{range:r[i]}),poe(e,t,n);i==="width"?i=[0,{signal:"width"}]:i==="height"?i=hg(e.type)?[0,{signal:"height"}]:[{signal:"height"},0]:q("Unrecognized scale range value: "+te(i))}else if(i.scheme){n.scheme=G(i.scheme)?N2(i.scheme,t):Eo(i.scheme,t),i.extent&&(n.schemeExtent=N2(i.extent,t)),i.count&&(n.schemeCount=Eo(i.count,t));return}else if(i.step){n.rangeStep=Eo(i.step,t);return}else{if(hg(e.type)&&!G(i))return doe(i,e,t);G(i)||q("Unsupported range type: "+te(i))}return i.map(o=>(G(o)?N2:Eo)(o,t))}function WUe(e,t){const n=t.config.projection||{},r={};for(const i in e)i!=="name"&&(r[i]=j4(e[i],i,t));for(const i in n)r[i]==null&&(r[i]=j4(n[i],i,t));t.addProjection(e.name,r)}function j4(e,t,n){return G(e)?e.map(r=>j4(r,t,n)):se(e)?e.signal?n.signalRef(e.signal):t==="fit"?e:q("Unsupported parameter object: "+te(e)):e}const Ps="top",um="left",cm="right",mc="bottom",goe="center",HUe="vertical",qUe="start",GUe="middle",YUe="end",B4="index",DO="label",XUe="offset",Sg="perc",KUe="perc2",To="value",Uv="guide-label",OO="guide-title",QUe="group-title",ZUe="group-subtitle",pU="symbol",I2="gradient",U4="discrete",V4="size",JUe="shape",eVe="fill",tVe="stroke",nVe="strokeWidth",rVe="strokeDash",iVe="opacity",NO=[V4,JUe,eVe,tVe,nVe,rVe,iVe],Vv={name:1,style:1,interactive:1},Ye={value:0},Mo={value:1},__="group",moe="rect",IO="rule",oVe="symbol",Yd="text";function M1(e){return e.type=__,e.interactive=e.interactive||!1,e}function $i(e,t){const n=(r,i)=>ts(e[r],ts(t[r],i));return n.isVertical=r=>HUe===ts(e.direction,t.direction||(r?t.symbolDirection:t.gradientDirection)),n.gradientLength=()=>ts(e.gradientLength,t.gradientLength||t.gradientWidth),n.gradientThickness=()=>ts(e.gradientThickness,t.gradientThickness||t.gradientHeight),n.entryColumns=()=>ts(e.columns,ts(t.columns,+n.isVertical(!0))),n}function yoe(e,t){const n=t&&(t.update&&t.update[e]||t.enter&&t.enter[e]);return n&&n.signal?n:n?n.value:null}function sVe(e,t,n){const r=t.config.style[n];return r&&r[e]}function E_(e,t,n){return`item.anchor === '${qUe}' ? ${e} : item.anchor === '${YUe}' ? ${t} : ${n}`}const LO=E_(te(um),te(cm),te(goe));function aVe(e){const t=e("tickBand");let n=e("tickOffset"),r,i;return t?t.signal?(r={signal:`(${t.signal}) === 'extent' ? 1 : 0.5`},i={signal:`(${t.signal}) === 'extent'`},se(n)||(n={signal:`(${t.signal}) === 'extent' ? 0 : ${n}`})):t==="extent"?(r=1,i=!0,n=0):(r=.5,i=!1):(r=e("bandPosition"),i=e("tickExtra")),{extra:i,band:r,offset:n}}function voe(e,t){return t?e?se(e)?Object.assign({},e,{offset:voe(e.offset,t)}):{value:e,offset:t}:t:e}function Ji(e,t){return t?(e.name=t.name,e.style=t.style||e.style,e.interactive=!!t.interactive,e.encode=lm(e.encode,t,Vv)):e.interactive=!1,e}function lVe(e,t,n,r){const i=$i(e,n),o=i.isVertical(),s=i.gradientThickness(),a=i.gradientLength();let l,u,c,f,d;o?(u=[0,1],c=[0,0],f=s,d=a):(u=[0,0],c=[1,0],f=a,d=s);const h={enter:l={opacity:Ye,x:Ye,y:Ye,width:Dn(f),height:Dn(d)},update:Oe({},l,{opacity:Mo,fill:{gradient:t,start:u,stop:c}}),exit:{opacity:Ye}};return rr(h,{stroke:i("gradientStrokeColor"),strokeWidth:i("gradientStrokeWidth")},{opacity:i("gradientOpacity")}),Ji({type:moe,role:OBe,encode:h},r)}function uVe(e,t,n,r,i){const o=$i(e,n),s=o.isVertical(),a=o.gradientThickness(),l=o.gradientLength();let u,c,f,d,h="";s?(u="y",f="y2",c="x",d="width",h="1-"):(u="x",f="x2",c="y",d="height");const p={opacity:Ye,fill:{scale:t,field:To}};p[u]={signal:h+"datum."+Sg,mult:l},p[c]=Ye,p[f]={signal:h+"datum."+KUe,mult:l},p[d]=Dn(a);const g={enter:p,update:Oe({},p,{opacity:Mo}),exit:{opacity:Ye}};return rr(g,{stroke:o("gradientStrokeColor"),strokeWidth:o("gradientStrokeWidth")},{opacity:o("gradientOpacity")}),Ji({type:moe,role:RBe,key:To,from:i,encode:g},r)}const cVe=`datum.${Sg}<=0?"${um}":datum.${Sg}>=1?"${cm}":"${goe}"`,fVe=`datum.${Sg}<=0?"${mc}":datum.${Sg}>=1?"${Ps}":"${GUe}"`;function gU(e,t,n,r){const i=$i(e,t),o=i.isVertical(),s=Dn(i.gradientThickness()),a=i.gradientLength();let l=i("labelOverlap"),u,c,f,d,h="";const p={enter:u={opacity:Ye},update:c={opacity:Mo,text:{field:DO}},exit:{opacity:Ye}};return rr(p,{fill:i("labelColor"),fillOpacity:i("labelOpacity"),font:i("labelFont"),fontSize:i("labelFontSize"),fontStyle:i("labelFontStyle"),fontWeight:i("labelFontWeight"),limit:ts(e.labelLimit,t.gradientLabelLimit)}),o?(u.align={value:"left"},u.baseline=c.baseline={signal:fVe},f="y",d="x",h="1-"):(u.align=c.align={signal:cVe},u.baseline={value:"top"},f="x",d="y"),u[f]=c[f]={signal:h+"datum."+Sg,mult:a},u[d]=c[d]=s,s.offset=ts(e.labelOffset,t.gradientLabelOffset)||0,l=l?{separation:i("labelSeparation"),method:l,order:"datum."+B4}:void 0,Ji({type:Yd,role:Jie,style:Uv,key:To,from:r,encode:p,overlap:l},n)}function dVe(e,t,n,r,i){const o=$i(e,t),s=n.entries,a=!!(s&&s.interactive),l=s?s.name:void 0,u=o("clipHeight"),c=o("symbolOffset"),f={data:"value"},d=`(${i}) ? datum.${XUe} : datum.${V4}`,h=u?Dn(u):{field:V4},p=`datum.${B4}`,g=`max(1, ${i})`;let m,y,v,b,x;h.mult=.5,m={enter:y={opacity:Ye,x:{signal:d,mult:.5,offset:c},y:h},update:v={opacity:Mo,x:y.x,y:y.y},exit:{opacity:Ye}};let w=null,k=null;e.fill||(w=t.symbolBaseFillColor,k=t.symbolBaseStrokeColor),rr(m,{fill:o("symbolFillColor",w),shape:o("symbolType"),size:o("symbolSize"),stroke:o("symbolStrokeColor",k),strokeDash:o("symbolDash"),strokeDashOffset:o("symbolDashOffset"),strokeWidth:o("symbolStrokeWidth")},{opacity:o("symbolOpacity")}),NO.forEach($=>{e[$]&&(v[$]=y[$]={scale:e[$],field:To})});const S=Ji({type:oVe,role:NBe,key:To,from:f,clip:u?!0:void 0,encode:m},n.symbols),C=Dn(c);C.offset=o("labelOffset"),m={enter:y={opacity:Ye,x:{signal:d,offset:C},y:h},update:v={opacity:Mo,text:{field:DO},x:y.x,y:y.y},exit:{opacity:Ye}},rr(m,{align:o("labelAlign"),baseline:o("labelBaseline"),fill:o("labelColor"),fillOpacity:o("labelOpacity"),font:o("labelFont"),fontSize:o("labelFontSize"),fontStyle:o("labelFontStyle"),fontWeight:o("labelFontWeight"),limit:o("labelLimit")});const _=Ji({type:Yd,role:Jie,style:Uv,key:To,from:f,encode:m},n.labels);return m={enter:{noBound:{value:!u},width:Ye,height:u?Dn(u):Ye,opacity:Ye},exit:{opacity:Ye},update:v={opacity:Mo,row:{signal:null},column:{signal:null}}},o.isVertical(!0)?(b=`ceil(item.mark.items.length / ${g})`,v.row.signal=`${p}%${b}`,v.column.signal=`floor(${p} / ${b})`,x={field:["row",p]}):(v.row.signal=`floor(${p} / ${g})`,v.column.signal=`${p} % ${g}`,x={field:p}),v.column.signal=`(${i})?${v.column.signal}:${p}`,r={facet:{data:r,name:"value",groupby:B4}},M1({role:FO,from:r,encode:lm(m,s,Vv),marks:[S,_],name:l,interactive:a,sort:x})}function hVe(e,t){const n=$i(e,t);return{align:n("gridAlign"),columns:n.entryColumns(),center:{row:!0,column:!1},padding:{row:n("rowPadding"),column:n("columnPadding")}}}const zO='item.orient === "left"',jO='item.orient === "right"',$_=`(${zO} || ${jO})`,pVe=`datum.vgrad && ${$_}`,gVe=E_('"top"','"bottom"','"middle"'),mVe=E_('"right"','"left"','"center"'),yVe=`datum.vgrad && ${jO} ? (${mVe}) : (${$_} && !(datum.vgrad && ${zO})) ? "left" : ${LO}`,vVe=`item._anchor || (${$_} ? "middle" : "start")`,bVe=`${pVe} ? (${zO} ? -90 : 90) : 0`,xVe=`${$_} ? (datum.vgrad ? (${jO} ? "bottom" : "top") : ${gVe}) : "top"`;function wVe(e,t,n,r){const i=$i(e,t),o={enter:{opacity:Ye},update:{opacity:Mo,x:{field:{group:"padding"}},y:{field:{group:"padding"}}},exit:{opacity:Ye}};return rr(o,{orient:i("titleOrient"),_anchor:i("titleAnchor"),anchor:{signal:vVe},angle:{signal:bVe},align:{signal:yVe},baseline:{signal:xVe},text:e.title,fill:i("titleColor"),fillOpacity:i("titleOpacity"),font:i("titleFont"),fontSize:i("titleFontSize"),fontStyle:i("titleFontStyle"),fontWeight:i("titleFontWeight"),limit:i("titleLimit"),lineHeight:i("titleLineHeight")},{align:i("titleAlign"),baseline:i("titleBaseline")}),Ji({type:Yd,role:IBe,style:OO,from:r,encode:o},n)}function SVe(e,t){let n;return se(e)&&(e.signal?n=e.signal:e.path?n="pathShape("+mU(e.path)+")":e.sphere&&(n="geoShape("+mU(e.sphere)+', {type: "Sphere"})')),n?t.signalRef(n):!!e}function mU(e){return se(e)&&e.signal?e.signal:te(e)}function boe(e){const t=e.role||"";return t.startsWith("axis")||t.startsWith("legend")||t.startsWith("title")?t:e.type===__?FO:t||TO}function kVe(e){return{marktype:e.type,name:e.name||void 0,role:e.role||boe(e),zindex:+e.zindex||void 0,aria:e.aria,description:e.description}}function CVe(e,t){return e&&e.signal?t.signalRef(e.signal):e!==!1}function BO(e,t){const n=GZ(e.type);n||q("Unrecognized transform type: "+te(e.type));const r=S_(n.type.toLowerCase(),null,xoe(n,e,t));return e.signal&&t.addSignal(e.signal,t.proxy(r)),r.metadata=n.metadata||{},r}function xoe(e,t,n){const r={},i=e.params.length;for(let o=0;o<i;++o){const s=e.params[o];r[s.name]=_Ve(s,t,n)}return r}function _Ve(e,t,n){const r=e.type,i=t[e.name];if(r==="index")return EVe(e,t,n);if(i===void 0){e.required&&q("Missing required "+te(t.type)+" parameter: "+te(e.name));return}else{if(r==="param")return $Ve(e,t,n);if(r==="projection")return n.projectionRef(t[e.name])}return e.array&&!kn(i)?i.map(o=>yU(e,o,n)):yU(e,i,n)}function yU(e,t,n){const r=e.type;if(kn(t))return bU(r)?q("Expression references can not be signals."):JA(r)?n.fieldRef(t):xU(r)?n.compareRef(t):n.signalRef(t.signal);{const i=e.expr||JA(r);return i&&AVe(t)?n.exprRef(t.expr,t.as):i&&TVe(t)?A1(t.field,t.as):bU(r)?_a(t,n):MVe(r)?ye(n.getData(t).values):JA(r)?A1(t):xU(r)?n.compareRef(t):t}}function EVe(e,t,n){return le(t.from)||q('Lookup "from" parameter must be a string literal.'),n.getData(t.from).lookupRef(n,t.key)}function $Ve(e,t,n){const r=t[e.name];return e.array?(G(r)||q("Expected an array of sub-parameters. Instead: "+te(r)),r.map(i=>vU(e,i,n))):vU(e,r,n)}function vU(e,t,n){const r=e.params.length;let i;for(let s=0;s<r;++s){i=e.params[s];for(const a in i.key)if(i.key[a]!==t[a]){i=null;break}if(i)break}i||q("Unsupported parameter: "+te(t));const o=Oe(xoe(i,t,n),i.key);return ye(n.add(CUe(o)))}const AVe=e=>e&&e.expr,TVe=e=>e&&e.field,MVe=e=>e==="data",bU=e=>e==="expr",JA=e=>e==="field",xU=e=>e==="compare";function FVe(e,t,n){let r,i,o,s,a;return e?(r=e.facet)&&(t||q("Only group marks can be faceted."),r.field!=null?s=a=L2(r,n):(e.data?a=ye(n.getData(e.data).aggregate):(o=BO(Oe({type:"aggregate",groupby:ae(r.groupby)},r.aggregate),n),o.params.key=n.keyRef(r.groupby),o.params.pulse=L2(r,n),s=a=ye(n.add(o))),i=n.keyRef(r.groupby,!0))):s=ye(n.add(Fs(null,[{}]))),s||(s=L2(e,n)),{key:i,pulse:s,parent:a}}function L2(e,t){return e.$ref?e:e.data&&e.data.$ref?e.data:ye(t.getData(e.data).output)}function xd(e,t,n,r,i){this.scope=e,this.input=t,this.output=n,this.values=r,this.aggregate=i,this.index={}}xd.fromEntries=function(e,t){const n=t.length,r=t[n-1],i=t[n-2];let o=t[0],s=null,a=1;for(o&&o.type==="load"&&(o=t[1]),e.add(t[0]);a<n;++a)t[a].params.pulse=ye(t[a-1]),e.add(t[a]),t[a].type==="aggregate"&&(s=t[a]);return new xd(e,o,i,r,s)};function woe(e){return le(e)?e:null}function wU(e,t,n){const r=k_(n.op,n.field);let i;if(t.ops){for(let o=0,s=t.as.length;o<s;++o)if(t.as[o]===r)return}else t.ops=["count"],t.fields=[null],t.as=["count"];n.op&&(t.ops.push((i=n.op.signal)?e.signalRef(i):n.op),t.fields.push(e.fieldRef(n.field)),t.as.push(r))}function n0(e,t,n,r,i,o,s){const a=t[n]||(t[n]={}),l=eUe(o);let u=woe(i),c,f;if(u!=null&&(e=t.scope,u=u+(l?"|"+l:""),c=a[u]),!c){const d=o?{field:L4,pulse:t.countsRef(e,i,o)}:{field:e.fieldRef(i),pulse:ye(t.output)};l&&(d.sort=e.sortRef(o)),f=e.add(S_(r,void 0,d)),s&&(t.index[i]=f),c=ye(f),u!=null&&(a[u]=c)}return c}xd.prototype={countsRef(e,t,n){const r=this,i=r.counts||(r.counts={}),o=woe(t);let s,a,l;return o!=null&&(e=r.scope,s=i[o]),s?n&&n.field&&wU(e,s.agg.params,n):(l={groupby:e.fieldRef(t,"key"),pulse:ye(r.output)},n&&n.field&&wU(e,l,n),a=e.add(ooe(l)),s=e.add(Fs({pulse:ye(a)})),s={agg:a,ref:ye(s)},o!=null&&(i[o]=s)),s.ref},tuplesRef(){return ye(this.values)},extentRef(e,t){return n0(e,this,"extent","extent",t,!1)},domainRef(e,t){return n0(e,this,"domain","values",t,!1)},valuesRef(e,t,n){return n0(e,this,"vals","values",t,n||!0)},lookupRef(e,t){return n0(e,this,"lookup","tupleindex",t,!1)},indataRef(e,t){return n0(e,this,"indata","tupleindex",t,!0,!0)}};function PVe(e,t,n){const r=e.from.facet,i=r.name,o=L2(r,t);let s;r.name||q("Facet must have a name: "+te(r)),r.data||q("Facet must reference a data set: "+te(r)),r.field?s=t.add(loe({field:t.fieldRef(r.field),pulse:o})):r.groupby?s=t.add(gUe({key:t.keyRef(r.groupby),group:ye(t.proxy(n.parent)),pulse:o})):q("Facet must specify groupby or field: "+te(r));const a=t.fork(),l=a.add(Fs()),u=a.add(Gd({pulse:ye(l)}));a.addData(i,new xd(a,l,l,u)),a.addSignal("parent",null),s.params.subflow={$subflow:a.parse(e).toRuntime()}}function RVe(e,t,n){const r=t.add(loe({pulse:n.pulse})),i=t.fork();i.add(Gd()),i.addSignal("parent",null),r.params.subflow={$subflow:i.parse(e).toRuntime()}}function Soe(e,t,n){const r=e.remove,i=e.insert,o=e.toggle,s=e.modify,a=e.values,l=t.add(JS()),u="if("+e.trigger+',modify("'+n+'",'+[i,r,o,s,a].map(f=>f??"null").join(",")+"),0)",c=_a(u,t);l.update=c.$expr,l.params=c.$params}function A_(e,t){const n=boe(e),r=e.type===__,i=e.from&&e.from.facet,o=e.overlap;let s=e.layout||n===FO||n===MO,a,l,u,c,f,d,h;const p=n===TO||s||i,g=FVe(e.from,r,t);l=t.add(hUe({key:g.key||(e.key?A1(e.key):void 0),pulse:g.pulse,clean:!r}));const m=ye(l);l=u=t.add(Fs({pulse:m})),l=t.add(xUe({markdef:kVe(e),interactive:CVe(e.interactive,t),clip:SVe(e.clip,t),context:{$context:!0},groups:t.lookup(),parent:t.signals.parent?t.signalRef("parent"):null,index:t.markpath(),pulse:ye(l)}));const y=ye(l);l=c=t.add(aoe(roe(e.encode,e.type,n,e.style,t,{mod:!1,pulse:y}))),l.params.parent=t.encode(),e.transform&&e.transform.forEach(k=>{const S=BO(k,t),C=S.metadata;(C.generates||C.changes)&&q("Mark transforms should not generate new data."),C.nomod||(c.params.mod=!0),S.params.pulse=ye(l),t.add(l=S)}),e.sort&&(l=t.add(TUe({sort:t.compareRef(e.sort),pulse:ye(l)})));const v=ye(l);(i||s)&&(s=t.add(coe({layout:t.objectProperty(e.layout),legends:t.legends,mark:y,pulse:v})),d=ye(s));const b=t.add(soe({mark:y,pulse:d||v}));h=ye(b),r&&(p&&(a=t.operators,a.pop(),s&&a.pop()),t.pushState(v,d||h,m),i?PVe(e,t,g):p?RVe(e,t,g):t.parse(e),t.popState(),p&&(s&&a.push(s),a.push(b))),o&&(h=DVe(o,h,t));const x=t.add(uoe({pulse:h})),w=t.add(Gd({pulse:ye(x)},void 0,t.parent()));e.name!=null&&(f=e.name,t.addData(f,new xd(t,u,x,w)),e.on&&e.on.forEach(k=>{(k.insert||k.remove||k.toggle)&&q("Marks only support modify triggers."),Soe(k,t,f)}))}function DVe(e,t,n){const r=e.method,i=e.bound,o=e.separation,s={separation:kn(o)?n.signalRef(o.signal):o,method:kn(r)?n.signalRef(r.signal):r,pulse:t};if(e.order&&(s.sort=n.compareRef({field:e.order})),i){const a=i.tolerance;s.boundTolerance=kn(a)?n.signalRef(a.signal):+a,s.boundScale=n.scaleRef(i.scale),s.boundOrient=i.orient}return ye(n.add(kUe(s)))}function OVe(e,t){const n=t.config.legend,r=e.encode||{},i=$i(e,n),o=r.legend||{},s=o.name||void 0,a=o.interactive,l=o.style,u={};let c=0,f,d,h;NO.forEach(b=>e[b]?(u[b]=e[b],c=c||e[b]):0),c||q("Missing valid scale for legend.");const p=NVe(e,t.scaleType(c)),g={title:e.title!=null,scales:u,type:p,vgrad:p!=="symbol"&&i.isVertical()},m=ye(t.add(Fs(null,[g]))),y={enter:{x:{value:0},y:{value:0}}},v=ye(t.add(vUe(d={type:p,scale:t.scaleRef(c),count:t.objectProperty(i("tickCount")),limit:t.property(i("symbolLimit")),values:t.objectProperty(e.values),minstep:t.property(e.tickMinStep),formatType:t.property(e.formatType),formatSpecifier:t.property(e.format)})));return p===I2?(h=[lVe(e,c,n,r.gradient),gU(e,n,r.labels,v)],d.count=d.count||t.signalRef(`max(2,2*floor((${Qf(i.gradientLength())})/100))`)):p===U4?h=[uVe(e,c,n,r.gradient,v),gU(e,n,r.labels,v)]:(f=hVe(e,n),h=[dVe(e,n,r,v,Qf(f.columns))],d.size=zVe(e,t,h[0].marks)),h=[M1({role:DBe,from:m,encode:y,marks:h,layout:f,interactive:a})],g.title&&h.push(wVe(e,n,r.title,m)),A_(M1({role:PBe,from:m,encode:lm(LVe(i,e,n),o,Vv),marks:h,aria:i("aria"),description:i("description"),zindex:i("zindex"),name:s,interactive:a,style:l}),t)}function NVe(e,t){let n=e.type||pU;return!e.type&&IVe(e)===1&&(e.fill||e.stroke)&&(n=j6(t)?I2:D3(t)?U4:pU),n!==I2?n:D3(t)?U4:I2}function IVe(e){return NO.reduce((t,n)=>t+(e[n]?1:0),0)}function LVe(e,t,n){const r={enter:{},update:{}};return rr(r,{orient:e("orient"),offset:e("offset"),padding:e("padding"),titlePadding:e("titlePadding"),cornerRadius:e("cornerRadius"),fill:e("fillColor"),stroke:e("strokeColor"),strokeWidth:n.strokeWidth,strokeDash:n.strokeDash,x:e("legendX"),y:e("legendY"),format:t.format,formatType:t.formatType}),r}function zVe(e,t,n){const r=Qf(SU("size",e,n)),i=Qf(SU("strokeWidth",e,n)),o=Qf(jVe(n[1].encode,t,Uv));return _a(`max(ceil(sqrt(${r})+${i}),${o})`,t)}function SU(e,t,n){return t[e]?`scale("${t[e]}",datum)`:yoe(e,n[0].encode)}function jVe(e,t,n){return yoe("fontSize",e)||sVe("fontSize",t,n)}const BVe=`item.orient==="${um}"?-90:item.orient==="${cm}"?90:0`;function UVe(e,t){e=le(e)?{text:e}:e;const n=$i(e,t.config.title),r=e.encode||{},i=r.group||{},o=i.name||void 0,s=i.interactive,a=i.style,l=[],u={},c=ye(t.add(Fs(null,[u])));return l.push(HVe(e,n,VVe(e),c)),e.subtitle&&l.push(qVe(e,n,r.subtitle,c)),A_(M1({role:LBe,from:c,encode:WVe(n,i),marks:l,aria:n("aria"),description:n("description"),zindex:n("zindex"),name:o,interactive:s,style:a}),t)}function VVe(e){const t=e.encode;return t&&t.title||Oe({name:e.name,interactive:e.interactive,style:e.style},t)}function WVe(e,t){const n={enter:{},update:{}};return rr(n,{orient:e("orient"),anchor:e("anchor"),align:{signal:LO},angle:{signal:BVe},limit:e("limit"),frame:e("frame"),offset:e("offset")||0,padding:e("subtitlePadding")}),lm(n,t,Vv)}function HVe(e,t,n,r){const i={value:0},o=e.text,s={enter:{opacity:i},update:{opacity:{value:1}},exit:{opacity:i}};return rr(s,{text:o,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:t("dx"),dy:t("dy"),fill:t("color"),font:t("font"),fontSize:t("fontSize"),fontStyle:t("fontStyle"),fontWeight:t("fontWeight"),lineHeight:t("lineHeight")},{align:t("align"),angle:t("angle"),baseline:t("baseline")}),Ji({type:Yd,role:zBe,style:QUe,from:r,encode:s},n)}function qVe(e,t,n,r){const i={value:0},o=e.subtitle,s={enter:{opacity:i},update:{opacity:{value:1}},exit:{opacity:i}};return rr(s,{text:o,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:t("dx"),dy:t("dy"),fill:t("subtitleColor"),font:t("subtitleFont"),fontSize:t("subtitleFontSize"),fontStyle:t("subtitleFontStyle"),fontWeight:t("subtitleFontWeight"),lineHeight:t("subtitleLineHeight")},{align:t("align"),angle:t("angle"),baseline:t("baseline")}),Ji({type:Yd,role:jBe,style:ZUe,from:r,encode:s},n)}function GVe(e,t){const n=[];e.transform&&e.transform.forEach(r=>{n.push(BO(r,t))}),e.on&&e.on.forEach(r=>{Soe(r,t,e.name)}),t.addDataPipeline(e.name,YVe(e,t,n))}function YVe(e,t,n){const r=[];let i=null,o=!1,s=!1,a,l,u,c,f;for(e.values?kn(e.values)||O2(e.format)?(r.push(kU(t,e)),r.push(i=Yc())):r.push(i=Yc({$ingest:e.values,$format:e.format})):e.url?O2(e.url)||O2(e.format)?(r.push(kU(t,e)),r.push(i=Yc())):r.push(i=Yc({$request:e.url,$format:e.format})):e.source&&(i=a=ae(e.source).map(d=>ye(t.getData(d).output)),r.push(null)),l=0,u=n.length;l<u;++l)c=n[l],f=c.metadata,!i&&!f.source&&r.push(i=Yc()),r.push(c),f.generates&&(s=!0),f.modifies&&!s&&(o=!0),f.source?i=c:f.changes&&(i=null);return a&&(u=a.length-1,r[0]=$Ue({derive:o,pulse:u?a:a[0]}),(o||u)&&r.splice(1,0,Yc())),i||r.push(Yc()),r.push(Gd({})),r}function Yc(e){const t=Fs({},e);return t.metadata={source:!0},t}function kU(e,t){return bUe({url:t.url?e.property(t.url):void 0,async:t.async?e.property(t.async):void 0,values:t.values?e.property(t.values):void 0,format:e.objectProperty(t.format)})}const koe=e=>e===mc||e===Ps,T_=(e,t,n)=>kn(e)?ZVe(e.signal,t,n):e===um||e===Ps?t:n,On=(e,t,n)=>kn(e)?KVe(e.signal,t,n):koe(e)?t:n,vs=(e,t,n)=>kn(e)?QVe(e.signal,t,n):koe(e)?n:t,Coe=(e,t,n)=>kn(e)?JVe(e.signal,t,n):e===Ps?{value:t}:{value:n},XVe=(e,t,n)=>kn(e)?eWe(e.signal,t,n):e===cm?{value:t}:{value:n},KVe=(e,t,n)=>_oe(`${e} === '${Ps}' || ${e} === '${mc}'`,t,n),QVe=(e,t,n)=>_oe(`${e} !== '${Ps}' && ${e} !== '${mc}'`,t,n),ZVe=(e,t,n)=>UO(`${e} === '${um}' || ${e} === '${Ps}'`,t,n),JVe=(e,t,n)=>UO(`${e} === '${Ps}'`,t,n),eWe=(e,t,n)=>UO(`${e} === '${cm}'`,t,n),_oe=(e,t,n)=>(t=t!=null?Dn(t):t,n=n!=null?Dn(n):n,CU(t)&&CU(n)?(t=t?t.signal||te(t.value):null,n=n?n.signal||te(n.value):null,{signal:`${e} ? (${t}) : (${n})`}):[Oe({test:e},t)].concat(n||[])),CU=e=>e==null||Object.keys(e).length===1,UO=(e,t,n)=>({signal:`${e} ? (${ip(t)}) : (${ip(n)})`}),tWe=(e,t,n,r,i)=>({signal:(r!=null?`${e} === '${um}' ? (${ip(r)}) : `:"")+(n!=null?`${e} === '${mc}' ? (${ip(n)}) : `:"")+(i!=null?`${e} === '${cm}' ? (${ip(i)}) : `:"")+(t!=null?`${e} === '${Ps}' ? (${ip(t)}) : `:"")+"(null)"}),ip=e=>kn(e)?e.signal:e==null?null:te(e),nWe=(e,t)=>t===0?0:kn(e)?{signal:`(${e.signal}) * ${t}`}:{value:e*t},xp=(e,t)=>{const n=e.signal;return n&&n.endsWith("(null)")?{signal:n.slice(0,-6)+t.signal}:e};function wh(e,t,n,r){let i;if(t&&ce(t,e))return t[e];if(ce(n,e))return n[e];if(e.startsWith("title")){switch(e){case"titleColor":i="fill";break;case"titleFont":case"titleFontSize":case"titleFontWeight":i=e[5].toLowerCase()+e.slice(6)}return r[OO][i]}else if(e.startsWith("label")){switch(e){case"labelColor":i="fill";break;case"labelFont":case"labelFontSize":i=e[5].toLowerCase()+e.slice(6)}return r[Uv][i]}return null}function _U(e){const t={};for(const n of e)if(n)for(const r in n)t[r]=1;return Object.keys(t)}function rWe(e,t){var n=t.config,r=n.style,i=n.axis,o=t.scaleType(e.scale)==="band"&&n.axisBand,s=e.orient,a,l,u;if(kn(s)){const f=_U([n.axisX,n.axisY]),d=_U([n.axisTop,n.axisBottom,n.axisLeft,n.axisRight]);a={};for(u of f)a[u]=On(s,wh(u,n.axisX,i,r),wh(u,n.axisY,i,r));l={};for(u of d)l[u]=tWe(s.signal,wh(u,n.axisTop,i,r),wh(u,n.axisBottom,i,r),wh(u,n.axisLeft,i,r),wh(u,n.axisRight,i,r))}else a=s===Ps||s===mc?n.axisX:n.axisY,l=n["axis"+s[0].toUpperCase()+s.slice(1)];return a||l||o?Oe({},i,a,l,o):i}function iWe(e,t,n,r){const i=$i(e,t),o=e.orient;let s,a;const l={enter:s={opacity:Ye},update:a={opacity:Mo},exit:{opacity:Ye}};rr(l,{stroke:i("domainColor"),strokeCap:i("domainCap"),strokeDash:i("domainDash"),strokeDashOffset:i("domainDashOffset"),strokeWidth:i("domainWidth"),strokeOpacity:i("domainOpacity")});const u=EU(e,0),c=EU(e,1);return s.x=a.x=On(o,u,Ye),s.x2=a.x2=On(o,c),s.y=a.y=vs(o,u,Ye),s.y2=a.y2=vs(o,c),Ji({type:IO,role:$Be,from:r,encode:l},n)}function EU(e,t){return{scale:e.scale,range:t}}function oWe(e,t,n,r,i){const o=$i(e,t),s=e.orient,a=e.gridScale,l=T_(s,1,-1),u=sWe(e.offset,l);let c,f,d;const h={enter:c={opacity:Ye},update:d={opacity:Mo},exit:f={opacity:Ye}};rr(h,{stroke:o("gridColor"),strokeCap:o("gridCap"),strokeDash:o("gridDash"),strokeDashOffset:o("gridDashOffset"),strokeOpacity:o("gridOpacity"),strokeWidth:o("gridWidth")});const p={scale:e.scale,field:To,band:i.band,extra:i.extra,offset:i.offset,round:o("tickRound")},g=On(s,{signal:"height"},{signal:"width"}),m=a?{scale:a,range:0,mult:l,offset:u}:{value:0,offset:u},y=a?{scale:a,range:1,mult:l,offset:u}:Oe(g,{mult:l,offset:u});return c.x=d.x=On(s,p,m),c.y=d.y=vs(s,p,m),c.x2=d.x2=vs(s,y),c.y2=d.y2=On(s,y),f.x=On(s,p),f.y=vs(s,p),Ji({type:IO,role:ABe,key:To,from:r,encode:h},n)}function sWe(e,t){if(t!==1)if(!se(e))e=kn(t)?{signal:`(${t.signal}) * (${e||0})`}:t*(e||0);else{let n=e=Oe({},e);for(;n.mult!=null;)if(se(n.mult))n=n.mult=Oe({},n.mult);else return n.mult=kn(t)?{signal:`(${n.mult}) * (${t.signal})`}:n.mult*t,e;n.mult=t}return e}function aWe(e,t,n,r,i,o){const s=$i(e,t),a=e.orient,l=T_(a,-1,1);let u,c,f;const d={enter:u={opacity:Ye},update:f={opacity:Mo},exit:c={opacity:Ye}};rr(d,{stroke:s("tickColor"),strokeCap:s("tickCap"),strokeDash:s("tickDash"),strokeDashOffset:s("tickDashOffset"),strokeOpacity:s("tickOpacity"),strokeWidth:s("tickWidth")});const h=Dn(i);h.mult=l;const p={scale:e.scale,field:To,band:o.band,extra:o.extra,offset:o.offset,round:s("tickRound")};return f.y=u.y=On(a,Ye,p),f.y2=u.y2=On(a,h),c.x=On(a,p),f.x=u.x=vs(a,Ye,p),f.x2=u.x2=vs(a,h),c.y=vs(a,p),Ji({type:IO,role:MBe,key:To,from:r,encode:d},n)}function e5(e,t,n,r,i){return{signal:'flush(range("'+e+'"), scale("'+e+'", datum.value), '+t+","+n+","+r+","+i+")"}}function lWe(e,t,n,r,i,o){const s=$i(e,t),a=e.orient,l=e.scale,u=T_(a,-1,1),c=Qf(s("labelFlush")),f=Qf(s("labelFlushOffset")),d=s("labelAlign"),h=s("labelBaseline");let p=c===0||!!c,g;const m=Dn(i);m.mult=u,m.offset=Dn(s("labelPadding")||0),m.offset.mult=u;const y={scale:l,field:To,band:.5,offset:voe(o.offset,s("labelOffset"))},v=On(a,p?e5(l,c,'"left"','"right"','"center"'):{value:"center"},XVe(a,"left","right")),b=On(a,Coe(a,"bottom","top"),p?e5(l,c,'"top"','"bottom"','"middle"'):{value:"middle"}),x=e5(l,c,`-(${f})`,f,0);p=p&&f;const w={opacity:Ye,x:On(a,y,m),y:vs(a,y,m)},k={enter:w,update:g={opacity:Mo,text:{field:DO},x:w.x,y:w.y,align:v,baseline:b},exit:{opacity:Ye,x:w.x,y:w.y}};rr(k,{dx:!d&&p?On(a,x):null,dy:!h&&p?vs(a,x):null}),rr(k,{angle:s("labelAngle"),fill:s("labelColor"),fillOpacity:s("labelOpacity"),font:s("labelFont"),fontSize:s("labelFontSize"),fontWeight:s("labelFontWeight"),fontStyle:s("labelFontStyle"),limit:s("labelLimit"),lineHeight:s("labelLineHeight")},{align:d,baseline:h});const S=s("labelBound");let C=s("labelOverlap");return C=C||S?{separation:s("labelSeparation"),method:C,order:"datum.index",bound:S?{scale:l,orient:a,tolerance:S}:null}:void 0,g.align!==v&&(g.align=xp(g.align,v)),g.baseline!==b&&(g.baseline=xp(g.baseline,b)),Ji({type:Yd,role:TBe,style:Uv,key:To,from:r,encode:k,overlap:C},n)}function uWe(e,t,n,r){const i=$i(e,t),o=e.orient,s=T_(o,-1,1);let a,l;const u={enter:a={opacity:Ye,anchor:Dn(i("titleAnchor",null)),align:{signal:LO}},update:l=Oe({},a,{opacity:Mo,text:Dn(e.title)}),exit:{opacity:Ye}},c={signal:`lerp(range("${e.scale}"), ${E_(0,1,.5)})`};return l.x=On(o,c),l.y=vs(o,c),a.angle=On(o,Ye,nWe(s,90)),a.baseline=On(o,Coe(o,mc,Ps),{value:mc}),l.angle=a.angle,l.baseline=a.baseline,rr(u,{fill:i("titleColor"),fillOpacity:i("titleOpacity"),font:i("titleFont"),fontSize:i("titleFontSize"),fontStyle:i("titleFontStyle"),fontWeight:i("titleFontWeight"),limit:i("titleLimit"),lineHeight:i("titleLineHeight")},{align:i("titleAlign"),angle:i("titleAngle"),baseline:i("titleBaseline")}),cWe(i,o,u,n),u.update.align=xp(u.update.align,a.align),u.update.angle=xp(u.update.angle,a.angle),u.update.baseline=xp(u.update.baseline,a.baseline),Ji({type:Yd,role:FBe,style:OO,from:r,encode:u},n)}function cWe(e,t,n,r){const i=(a,l)=>a!=null?(n.update[l]=xp(Dn(a),n.update[l]),!1):!Ah(l,r),o=i(e("titleX"),"x"),s=i(e("titleY"),"y");n.enter.auto=s===o?Dn(s):On(t,Dn(s),Dn(o))}function fWe(e,t){const n=rWe(e,t),r=e.encode||{},i=r.axis||{},o=i.name||void 0,s=i.interactive,a=i.style,l=$i(e,n),u=aVe(l),c={scale:e.scale,ticks:!!l("ticks"),labels:!!l("labels"),grid:!!l("grid"),domain:!!l("domain"),title:e.title!=null},f=ye(t.add(Fs({},[c]))),d=ye(t.add(dUe({scale:t.scaleRef(e.scale),extra:t.property(u.extra),count:t.objectProperty(e.tickCount),values:t.objectProperty(e.values),minstep:t.property(e.tickMinStep),formatType:t.property(e.formatType),formatSpecifier:t.property(e.format)}))),h=[];let p;return c.grid&&h.push(oWe(e,n,r.grid,d,u)),c.ticks&&(p=l("tickSize"),h.push(aWe(e,n,r.ticks,d,p,u))),c.labels&&(p=c.ticks?p:0,h.push(lWe(e,n,r.labels,d,p,u))),c.domain&&h.push(iWe(e,n,r.domain,f)),c.title&&h.push(uWe(e,n,r.title,f)),A_(M1({role:EBe,from:f,encode:lm(dWe(l,e),i,Vv),marks:h,aria:l("aria"),description:l("description"),zindex:l("zindex"),name:o,interactive:s,style:a}),t)}function dWe(e,t){const n={enter:{},update:{}};return rr(n,{orient:e("orient"),offset:e("offset")||0,position:ts(t.position,0),titlePadding:e("titlePadding"),minExtent:e("minExtent"),maxExtent:e("maxExtent"),range:{signal:`abs(span(range("${t.scale}")))`},translate:e("translate"),format:t.format,formatType:t.formatType}),n}function Eoe(e,t,n){const r=ae(e.signals),i=ae(e.scales);return n||r.forEach(o=>ioe(o,t)),ae(e.projections).forEach(o=>WUe(o,t)),i.forEach(o=>PUe(o,t)),ae(e.data).forEach(o=>GVe(o,t)),i.forEach(o=>RUe(o,t)),(n||r).forEach(o=>fUe(o,t)),ae(e.axes).forEach(o=>fWe(o,t)),ae(e.marks).forEach(o=>A_(o,t)),ae(e.legends).forEach(o=>OVe(o,t)),e.title&&UVe(e.title,t),t.parseLambdas(),t}const hWe=e=>lm({enter:{x:{value:0},y:{value:0}},update:{width:{signal:"width"},height:{signal:"height"}}},e);function pWe(e,t){const n=t.config,r=ye(t.root=t.add(JS())),i=gWe(e,n);i.forEach(u=>ioe(u,t)),t.description=e.description||n.description,t.eventConfig=n.events,t.legends=t.objectProperty(n.legend&&n.legend.layout),t.locale=n.locale;const o=t.add(Fs()),s=t.add(aoe(roe(hWe(e.encode),__,MO,e.style,t,{pulse:ye(o)}))),a=t.add(coe({layout:t.objectProperty(e.layout),legends:t.legends,autosize:t.signalRef("autosize"),mark:r,pulse:ye(s)}));t.operators.pop(),t.pushState(ye(s),ye(a),null),Eoe(e,t,i),t.operators.push(a);let l=t.add(soe({mark:r,pulse:ye(a)}));return l=t.add(uoe({pulse:ye(l)})),l=t.add(Gd({pulse:ye(l)})),t.addData("root",new xd(t,o,o,l)),t}function r0(e,t){return t&&t.signal?{name:e,update:t.signal}:{name:e,value:t}}function gWe(e,t){const n=s=>ts(e[s],t[s]),r=[r0("background",n("background")),r0("autosize",kBe(n("autosize"))),r0("padding",_Be(n("padding"))),r0("width",n("width")||0),r0("height",n("height")||0)],i=r.reduce((s,a)=>(s[a.name]=a,s),{}),o={};return ae(e.signals).forEach(s=>{ce(i,s.name)?s=Oe(i[s.name],s):r.push(s),o[s.name]=s}),ae(t.signals).forEach(s=>{!ce(o,s.name)&&!ce(i,s.name)&&r.push(s)}),r}function $oe(e,t){this.config=e||{},this.options=t||{},this.bindings=[],this.field={},this.signals={},this.lambdas={},this.scales={},this.events={},this.data={},this.streams=[],this.updates=[],this.operators=[],this.eventConfig=null,this.locale=null,this._id=0,this._subid=0,this._nextsub=[0],this._parent=[],this._encode=[],this._lookup=[],this._markpath=[]}function $U(e){this.config=e.config,this.options=e.options,this.legends=e.legends,this.field=Object.create(e.field),this.signals=Object.create(e.signals),this.lambdas=Object.create(e.lambdas),this.scales=Object.create(e.scales),this.events=Object.create(e.events),this.data=Object.create(e.data),this.streams=[],this.updates=[],this.operators=[],this._id=0,this._subid=++e._nextsub[0],this._nextsub=e._nextsub,this._parent=e._parent.slice(),this._encode=e._encode.slice(),this._lookup=e._lookup.slice(),this._markpath=e._markpath}$oe.prototype=$U.prototype={parse(e){return Eoe(e,this)},fork(){return new $U(this)},isSubscope(){return this._subid>0},toRuntime(){return this.finish(),{description:this.description,operators:this.operators,streams:this.streams,updates:this.updates,bindings:this.bindings,eventConfig:this.eventConfig,locale:this.locale}},id(){return(this._subid?this._subid+":":0)+this._id++},add(e){return this.operators.push(e),e.id=this.id(),e.refs&&(e.refs.forEach(t=>{t.$ref=e.id}),e.refs=null),e},proxy(e){const t=e instanceof I4?ye(e):e;return this.add(EUe({value:t}))},addStream(e){return this.streams.push(e),e.id=this.id(),e},addUpdate(e){return this.updates.push(e),e},finish(){let e,t;this.root&&(this.root.root=!0);for(e in this.signals)this.signals[e].signal=e;for(e in this.scales)this.scales[e].scale=e;function n(r,i,o){let s,a;r&&(s=r.data||(r.data={}),a=s[i]||(s[i]=[]),a.push(o))}for(e in this.data){t=this.data[e],n(t.input,e,"input"),n(t.output,e,"output"),n(t.values,e,"values");for(const r in t.index)n(t.index[r],e,"index:"+r)}return this},pushState(e,t,n){this._encode.push(ye(this.add(Gd({pulse:e})))),this._parent.push(t),this._lookup.push(n?ye(this.proxy(n)):null),this._markpath.push(-1)},popState(){this._encode.pop(),this._parent.pop(),this._lookup.pop(),this._markpath.pop()},parent(){return qe(this._parent)},encode(){return qe(this._encode)},lookup(){return qe(this._lookup)},markpath(){const e=this._markpath;return++e[e.length-1]},fieldRef(e,t){if(le(e))return A1(e,t);e.signal||q("Unsupported field reference: "+te(e));const n=e.signal;let r=this.field[n];if(!r){const i={name:this.signalRef(n)};t&&(i.as=t),this.field[n]=r=ye(this.add(mUe(i)))}return r},compareRef(e){let t=!1;const n=o=>kn(o)?(t=!0,this.signalRef(o.signal)):tUe(o)?(t=!0,this.exprRef(o.expr)):o,r=ae(e.field).map(n),i=ae(e.order).map(n);return t?ye(this.add(hU({fields:r,orders:i}))):fU(r,i)},keyRef(e,t){let n=!1;const r=o=>kn(o)?(n=!0,ye(i[o.signal])):o,i=this.signals;return e=ae(e).map(r),n?ye(this.add(yUe({fields:e,flat:t}))):QBe(e,t)},sortRef(e){if(!e)return e;const t=k_(e.op,e.field),n=e.order||ZBe;return n.signal?ye(this.add(hU({fields:t,orders:this.signalRef(n.signal)}))):fU(t,n)},event(e,t){const n=e+":"+t;if(!this.events[n]){const r=this.id();this.streams.push({id:r,source:e,type:t}),this.events[n]=r}return this.events[n]},hasOwnSignal(e){return ce(this.signals,e)},addSignal(e,t){this.hasOwnSignal(e)&&q("Duplicate signal name: "+te(e));const n=t instanceof I4?t:this.add(JS(t));return this.signals[e]=n},getSignal(e){return this.signals[e]||q("Unrecognized signal name: "+te(e)),this.signals[e]},signalRef(e){return this.signals[e]?ye(this.signals[e]):(ce(this.lambdas,e)||(this.lambdas[e]=this.add(JS(null))),ye(this.lambdas[e]))},parseLambdas(){const e=Object.keys(this.lambdas);for(let t=0,n=e.length;t<n;++t){const r=e[t],i=_a(r,this),o=this.lambdas[r];o.params=i.$params,o.update=i.$expr}},property(e){return e&&e.signal?this.signalRef(e.signal):e},objectProperty(e){return!e||!se(e)?e:this.signalRef(e.signal||VO(e))},exprRef(e,t){const n={expr:_a(e,this)};return t&&(n.expr.$name=t),ye(this.add(pUe(n)))},addBinding(e,t){this.bindings||q("Nested signals do not support binding: "+te(e)),this.bindings.push(Oe({signal:e},t))},addScaleProj(e,t){ce(this.scales,e)&&q("Duplicate scale or projection name: "+te(e)),this.scales[e]=this.add(t)},addScale(e,t){this.addScaleProj(e,AUe(t))},addProjection(e,t){this.addScaleProj(e,_Ue(t))},getScale(e){return this.scales[e]||q("Unrecognized scale name: "+te(e)),this.scales[e]},scaleRef(e){return ye(this.getScale(e))},scaleType(e){return this.getScale(e).params.type},projectionRef(e){return this.scaleRef(e)},projectionType(e){return this.scaleType(e)},addData(e,t){return ce(this.data,e)&&q("Duplicate data set name: "+te(e)),this.data[e]=t},getData(e){return this.data[e]||q("Undefined data set name: "+te(e)),this.data[e]},addDataPipeline(e,t){return ce(this.data,e)&&q("Duplicate data set name: "+te(e)),this.addData(e,xd.fromEntries(this,t))}};function VO(e){return(G(e)?mWe:yWe)(e)}function mWe(e){const t=e.length;let n="[";for(let r=0;r<t;++r){const i=e[r];n+=(r>0?",":"")+(se(i)?i.signal||VO(i):te(i))}return n+"]"}function yWe(e){let t="{",n=0,r,i;for(r in e)i=e[r],t+=(++n>1?",":"")+te(r)+":"+(se(i)?i.signal||VO(i):te(i));return t+"}"}function vWe(){const e="sans-serif",r="#4c78a8",i="#000",o="#888",s="#ddd";return{description:"Vega visualization",padding:0,autosize:"pad",background:null,events:{defaults:{allow:["wheel"]}},group:null,mark:null,arc:{fill:r},area:{fill:r},image:null,line:{stroke:r,strokeWidth:2},path:{stroke:r},rect:{fill:r},rule:{stroke:i},shape:{stroke:r},symbol:{fill:r,size:64},text:{fill:i,font:e,fontSize:11},trail:{fill:r,size:2},style:{"guide-label":{fill:i,font:e,fontSize:10},"guide-title":{fill:i,font:e,fontSize:11,fontWeight:"bold"},"group-title":{fill:i,font:e,fontSize:13,fontWeight:"bold"},"group-subtitle":{fill:i,font:e,fontSize:12},point:{size:30,strokeWidth:2,shape:"circle"},circle:{size:30,strokeWidth:2},square:{size:30,strokeWidth:2,shape:"square"},cell:{fill:"transparent",stroke:s},view:{fill:"transparent"}},title:{orient:"top",anchor:"middle",offset:4,subtitlePadding:3},axis:{minExtent:0,maxExtent:200,bandPosition:.5,domain:!0,domainWidth:1,domainColor:o,grid:!1,gridWidth:1,gridColor:s,labels:!0,labelAngle:0,labelLimit:180,labelOffset:0,labelPadding:2,ticks:!0,tickColor:o,tickOffset:0,tickRound:!0,tickSize:5,tickWidth:1,titlePadding:4},axisBand:{tickOffset:-.5},projection:{type:"mercator"},legend:{orient:"right",padding:0,gridAlign:"each",columnPadding:10,rowPadding:2,symbolDirection:"vertical",gradientDirection:"vertical",gradientLength:200,gradientThickness:16,gradientStrokeColor:s,gradientStrokeWidth:0,gradientLabelOffset:2,labelAlign:"left",labelBaseline:"middle",labelLimit:160,labelOffset:4,labelOverlap:!0,symbolLimit:30,symbolType:"circle",symbolSize:100,symbolOffset:0,symbolStrokeWidth:1.5,symbolBaseFillColor:"transparent",symbolBaseStrokeColor:o,titleLimit:180,titleOrient:"top",titlePadding:5,layout:{offset:18,direction:"horizontal",left:{direction:"vertical"},right:{direction:"vertical"}}},range:{category:{scheme:"tableau10"},ordinal:{scheme:"blues"},heatmap:{scheme:"yellowgreenblue"},ramp:{scheme:"blues"},diverging:{scheme:"blueorange",extent:[1,0]},symbol:["circle","square","triangle-up","cross","diamond","triangle-right","triangle-down","triangle-left"]}}}function bWe(e,t,n){return se(e)||q("Input Vega specification must be an object."),t=Kg(vWe(),t,e.config),pWe(e,new $oe(t,n)).toRuntime()}var xWe="5.30.0";Oe(lg,SMe,qDe,COe,u9e,rNe,MIe,uIe,PIe,nLe,dLe,bLe);const wWe=Object.freeze(Object.defineProperty({__proto__:null,Bounds:gn,CanvasHandler:Rv,CanvasRenderer:hS,DATE:wi,DAY:xr,DAYOFYEAR:ka,Dataflow:mp,Debug:mQ,Error:xC,EventStream:MC,Gradient:gte,GroupItem:JC,HOURS:Ki,Handler:fD,HybridHandler:sne,HybridRenderer:H3,Info:gQ,Item:ZC,MILLISECONDS:Cs,MINUTES:Qi,MONTH:Cr,Marks:Zi,MultiPulse:CR,None:pQ,Operator:St,Parameters:TC,Pulse:Zu,QUARTER:xi,RenderType:Du,Renderer:Pv,ResourceLoader:Ste,SECONDS:Oo,SVGHandler:Gte,SVGRenderer:yD,SVGStringRenderer:one,Scenegraph:zte,TIME_UNITS:pR,Transform:V,View:Hie,WEEK:wn,Warn:eR,YEAR:er,accessor:Ei,accessorFields:kr,accessorName:nn,array:ae,ascending:kC,bandwidthNRD:AR,bin:KZ,bootstrapCI:QZ,boundClip:mne,boundContext:Av,boundItem:j3,boundMark:Ote,boundStroke:Vl,changeset:Vd,clampRange:$Q,codegenExpression:vie,compare:oR,constant:Tr,cumulativeLogNormal:DR,cumulativeNormal:PC,cumulativeUniform:LR,dayofyear:rZ,debounce:sR,defaultLocale:bR,definition:GZ,densityLogNormal:RR,densityNormal:TR,densityUniform:IR,domChild:bn,domClear:bo,domCreate:Pu,domFind:cD,dotbin:ZZ,error:q,expressionFunction:cn,extend:Oe,extent:Sa,extentIndex:AQ,falsy:ou,fastmap:Zg,field:Ro,flush:TQ,font:i_,fontFamily:Fv,fontSize:Pa,format:g2,formatLocale:Ww,formats:SR,hasOwnProperty:ce,id:uv,identity:Ar,inferType:NZ,inferTypes:IZ,ingest:at,inherits:ne,inrange:Jh,interpolate:B6,interpolateColors:KC,interpolateRange:tte,intersect:dne,intersectBoxLine:ep,intersectPath:X6,intersectPoint:K6,intersectRule:Cte,isArray:G,isBoolean:$c,isDate:Qu,isFunction:Ne,isIterable:MQ,isNumber:Ze,isObject:se,isRegExp:FQ,isString:le,isTuple:$C,key:aR,lerp:PQ,lineHeight:hc,loader:_C,locale:DZ,logger:tR,lruCache:RQ,markup:mD,merge:DQ,mergeConfig:Kg,multiLineOffset:aD,one:Xg,pad:OQ,panLinear:wQ,panLog:SQ,panPow:kQ,panSymlog:CQ,parse:bWe,parseExpression:mO,parseSelector:Rc,path:IC,pathCurves:q6,pathEqual:yne,pathParse:pg,pathRectangle:vte,pathRender:m1,pathSymbols:yte,pathTrail:bte,peek:qe,point:s_,projection:ND,quantileLogNormal:OR,quantileNormal:RC,quantileUniform:zR,quantiles:ER,quantizeInterpolator:nte,quarter:_Q,quartiles:$R,get random(){return No},randomInteger:E4e,randomKDE:FR,randomLCG:_4e,randomLogNormal:eJ,randomMixture:tJ,randomNormal:MR,randomUniform:nJ,read:jZ,regressionConstant:jR,regressionExp:iJ,regressionLinear:BR,regressionLoess:aJ,regressionLog:rJ,regressionPoly:sJ,regressionPow:oJ,regressionQuad:UR,renderModule:a_,repeat:_0,resetDefaultLocale:S3e,resetSVGClipId:wte,resetSVGDefIds:cDe,responseType:zZ,runtimeContext:Pie,sampleCurve:OC,sampleLogNormal:PR,sampleNormal:FC,sampleUniform:NR,scale:et,sceneEqual:vD,sceneFromJSON:Ite,scenePickVisit:oS,sceneToJSON:Nte,sceneVisit:_s,sceneZOrder:Q6,scheme:U6,serializeXML:tne,setHybridRendererOptions:sDe,setRandom:k4e,span:cv,splitAccessPath:Ta,stringValue:te,textMetrics:Hi,timeBin:xZ,timeFloor:cZ,timeFormatLocale:c1,timeInterval:em,timeOffset:hZ,timeSequence:mZ,timeUnitSpecifier:nZ,timeUnits:gR,toBoolean:lR,toDate:uR,toNumber:wr,toSet:ws,toString:cR,transform:YZ,transforms:lg,truncate:NQ,truthy:Do,tupleid:ve,typeParsers:k3,utcFloor:fZ,utcInterval:tm,utcOffset:pZ,utcSequence:yZ,utcdayofyear:sZ,utcquarter:EQ,utcweek:aZ,version:xWe,visitArray:du,week:iZ,writeConfig:Qg,zero:wu,zoomLinear:nR,zoomLog:rR,zoomPow:Lw,zoomSymlog:iR},Symbol.toStringTag,{value:"Module"}));function SWe(e,t,n){let r;t.x2&&(t.x?(n&&e.x>e.x2&&(r=e.x,e.x=e.x2,e.x2=r),e.width=e.x2-e.x):e.x=e.x2-(e.width||0)),t.xc&&(e.x=e.xc-(e.width||0)/2),t.y2&&(t.y?(n&&e.y>e.y2&&(r=e.y,e.y=e.y2,e.y2=r),e.height=e.y2-e.y):e.y=e.y2-(e.height||0)),t.yc&&(e.y=e.yc-(e.height||0)/2)}var kWe={NaN:NaN,E:Math.E,LN2:Math.LN2,LN10:Math.LN10,LOG2E:Math.LOG2E,LOG10E:Math.LOG10E,PI:Math.PI,SQRT1_2:Math.SQRT1_2,SQRT2:Math.SQRT2,MIN_VALUE:Number.MIN_VALUE,MAX_VALUE:Number.MAX_VALUE},CWe={"*":(e,t)=>e*t,"+":(e,t)=>e+t,"-":(e,t)=>e-t,"/":(e,t)=>e/t,"%":(e,t)=>e%t,">":(e,t)=>e>t,"<":(e,t)=>e<t,"<=":(e,t)=>e<=t,">=":(e,t)=>e>=t,"==":(e,t)=>e==t,"!=":(e,t)=>e!=t,"===":(e,t)=>e===t,"!==":(e,t)=>e!==t,"&":(e,t)=>e&t,"|":(e,t)=>e|t,"^":(e,t)=>e^t,"<<":(e,t)=>e<<t,">>":(e,t)=>e>>t,">>>":(e,t)=>e>>>t},_We={"+":e=>+e,"-":e=>-e,"~":e=>~e,"!":e=>!e};const EWe=Array.prototype.slice,Xc=(e,t,n)=>{const r=n?n(t[0]):t[0];return r[e].apply(r,EWe.call(t,1))},$We=(e,t,n,r,i,o,s)=>new Date(e,t||0,n??1,r||0,i||0,o||0,s||0);var AWe={isNaN:Number.isNaN,isFinite:Number.isFinite,abs:Math.abs,acos:Math.acos,asin:Math.asin,atan:Math.atan,atan2:Math.atan2,ceil:Math.ceil,cos:Math.cos,exp:Math.exp,floor:Math.floor,log:Math.log,max:Math.max,min:Math.min,pow:Math.pow,random:Math.random,round:Math.round,sin:Math.sin,sqrt:Math.sqrt,tan:Math.tan,clamp:(e,t,n)=>Math.max(t,Math.min(n,e)),now:Date.now,utc:Date.UTC,datetime:$We,date:e=>new Date(e).getDate(),day:e=>new Date(e).getDay(),year:e=>new Date(e).getFullYear(),month:e=>new Date(e).getMonth(),hours:e=>new Date(e).getHours(),minutes:e=>new Date(e).getMinutes(),seconds:e=>new Date(e).getSeconds(),milliseconds:e=>new Date(e).getMilliseconds(),time:e=>new Date(e).getTime(),timezoneoffset:e=>new Date(e).getTimezoneOffset(),utcdate:e=>new Date(e).getUTCDate(),utcday:e=>new Date(e).getUTCDay(),utcyear:e=>new Date(e).getUTCFullYear(),utcmonth:e=>new Date(e).getUTCMonth(),utchours:e=>new Date(e).getUTCHours(),utcminutes:e=>new Date(e).getUTCMinutes(),utcseconds:e=>new Date(e).getUTCSeconds(),utcmilliseconds:e=>new Date(e).getUTCMilliseconds(),length:e=>e.length,join:function(){return Xc("join",arguments)},indexof:function(){return Xc("indexOf",arguments)},lastindexof:function(){return Xc("lastIndexOf",arguments)},slice:function(){return Xc("slice",arguments)},reverse:e=>e.slice().reverse(),parseFloat,parseInt,upper:e=>String(e).toUpperCase(),lower:e=>String(e).toLowerCase(),substring:function(){return Xc("substring",arguments,String)},split:function(){return Xc("split",arguments,String)},replace:function(){return Xc("replace",arguments,String)},trim:e=>String(e).trim(),regexp:RegExp,test:(e,t)=>RegExp(e).test(t)};const TWe=["view","item","group","xy","x","y"],W4=new Set([Function,eval,setTimeout,setInterval]);typeof setImmediate=="function"&&W4.add(setImmediate);const MWe={Literal:(e,t)=>t.value,Identifier:(e,t)=>{const n=t.name;return e.memberDepth>0?n:n==="datum"?e.datum:n==="event"?e.event:n==="item"?e.item:kWe[n]||e.params["$"+n]},MemberExpression:(e,t)=>{const n=!t.computed,r=e(t.object);n&&(e.memberDepth+=1);const i=e(t.property);if(n&&(e.memberDepth-=1),W4.has(r[i])){console.error(`Prevented interpretation of member "${i}" which could lead to insecure code execution`);return}return r[i]},CallExpression:(e,t)=>{const n=t.arguments;let r=t.callee.name;return r.startsWith("_")&&(r=r.slice(1)),r==="if"?e(n[0])?e(n[1]):e(n[2]):(e.fn[r]||AWe[r]).apply(e.fn,n.map(e))},ArrayExpression:(e,t)=>t.elements.map(e),BinaryExpression:(e,t)=>CWe[t.operator](e(t.left),e(t.right)),UnaryExpression:(e,t)=>_We[t.operator](e(t.argument)),ConditionalExpression:(e,t)=>e(t.test)?e(t.consequent):e(t.alternate),LogicalExpression:(e,t)=>t.operator==="&&"?e(t.left)&&e(t.right):e(t.left)||e(t.right),ObjectExpression:(e,t)=>t.properties.reduce((n,r)=>{e.memberDepth+=1;const i=e(r.key);return e.memberDepth-=1,W4.has(e(r.value))?console.error(`Prevented interpretation of property "${i}" which could lead to insecure code execution`):n[i]=e(r.value),n},{})};function i0(e,t,n,r,i,o){const s=a=>MWe[a.type](s,a);return s.memberDepth=0,s.fn=Object.create(t),s.params=n,s.datum=r,s.event=i,s.item=o,TWe.forEach(a=>s.fn[a]=function(){return i.vega[a](...arguments)}),s(e)}var FWe={operator(e,t){const n=t.ast,r=e.functions;return i=>i0(n,r,i)},parameter(e,t){const n=t.ast,r=e.functions;return(i,o)=>i0(n,r,o,i)},event(e,t){const n=t.ast,r=e.functions;return i=>i0(n,r,void 0,void 0,i)},handler(e,t){const n=t.ast,r=e.functions;return(i,o)=>{const s=o.item&&o.item.datum;return i0(n,r,i,s,o)}},encode(e,t){const{marktype:n,channels:r}=t,i=e.functions,o=n==="group"||n==="image"||n==="rect";return(s,a)=>{const l=s.datum;let u=0,c;for(const f in r)c=i0(r[f].ast,i,a,l,void 0,s),s[f]!==c&&(s[f]=c,u=1);return n!=="rule"&&SWe(s,r,o),u}}};const PWe="vega-lite",RWe='Dominik Moritz, Kanit "Ham" Wongsuphasawat, Arvind Satyanarayan, Jeffrey Heer',DWe="5.21.0",OWe=["Kanit Wongsuphasawat (http://kanitw.yellowpigz.com)","Dominik Moritz (https://www.domoritz.de)","Arvind Satyanarayan (https://arvindsatya.com)","Jeffrey Heer (https://jheer.org)"],NWe="https://vega.github.io/vega-lite/",IWe="Vega-Lite is a concise high-level language for interactive visualization.",LWe=["vega","chart","visualization"],zWe="build/vega-lite.js",jWe="build/vega-lite.min.js",BWe="build/vega-lite.min.js",UWe="build/src/index",VWe="build/src/index.d.ts",WWe={vl2pdf:"./bin/vl2pdf",vl2png:"./bin/vl2png",vl2svg:"./bin/vl2svg",vl2vg:"./bin/vl2vg"},HWe=["bin","build","src","vega-lite*","tsconfig.json"],qWe={changelog:"conventional-changelog -p angular -r 2",prebuild:"yarn clean:build",build:"yarn build:only","build:only":"tsc -p tsconfig.build.json && rollup -c","prebuild:examples":"yarn build:only","build:examples":"yarn data && TZ=America/Los_Angeles scripts/build-examples.sh","prebuild:examples-full":"yarn build:only","build:examples-full":"TZ=America/Los_Angeles scripts/build-examples.sh 1","build:example":"TZ=America/Los_Angeles scripts/build-example.sh","build:toc":"yarn build:jekyll && scripts/generate-toc","build:site":"rollup -c site/rollup.config.mjs","build:jekyll":"pushd site && bundle exec jekyll build -q && popd","build:versions":"scripts/update-version.sh",clean:"yarn clean:build && del-cli 'site/data/*' 'examples/compiled/*.png' && find site/examples ! -name 'index.md' ! -name 'data' -type f -delete","clean:build":"del-cli 'build/*' !build/vega-lite-schema.json",data:"rsync -r node_modules/vega-datasets/data/* site/data","build-editor-preview":"scripts/build-editor-preview.sh",schema:"mkdir -p build && ts-json-schema-generator -f tsconfig.json -p src/index.ts -t TopLevelSpec --no-type-check --no-ref-encode > build/vega-lite-schema.json && yarn renameschema && cp build/vega-lite-schema.json site/_data/",renameschema:"scripts/rename-schema.sh",presite:"yarn data && yarn schema && yarn build:site && yarn build:versions && scripts/create-example-pages.sh",site:"yarn site:only","site:only":"pushd site && bundle exec jekyll serve -I -l && popd",prettierbase:"prettier '**/*.{md,css,yml}'",format:"eslint . --fix && yarn prettierbase --write",lint:"eslint . && yarn prettierbase --check",test:"yarn jest test/ && yarn lint && yarn schema && yarn jest examples/ && yarn test:runtime","test:cover":"yarn jest --collectCoverage test/","test:inspect":"node --inspect-brk ./node_modules/.bin/jest --runInBand test","test:runtime":"TZ=America/Los_Angeles npx jest test-runtime/ --config test-runtime/jest-config.json","test:runtime:generate":"yarn build:only && del-cli test-runtime/resources && VL_GENERATE_TESTS=true yarn test:runtime",watch:"tsc -p tsconfig.build.json -w","watch:site":"yarn build:site -w","watch:test":"yarn jest --watch test/","watch:test:runtime":"TZ=America/Los_Angeles npx jest --watch test-runtime/ --config test-runtime/jest-config.json",release:"release-it"},GWe={type:"git",url:"https://github.com/vega/vega-lite.git"},YWe="BSD-3-Clause",XWe={url:"https://github.com/vega/vega-lite/issues"},KWe={"@babel/core":"^7.24.9","@babel/preset-env":"^7.25.0","@babel/preset-typescript":"^7.24.7","@release-it/conventional-changelog":"^8.0.1","@rollup/plugin-alias":"^5.1.0","@rollup/plugin-babel":"^6.0.4","@rollup/plugin-commonjs":"^26.0.1","@rollup/plugin-json":"^6.1.0","@rollup/plugin-node-resolve":"^15.2.3","@rollup/plugin-terser":"^0.4.4","@types/d3":"^7.4.3","@types/jest":"^29.5.12","@types/pako":"^2.0.3","@typescript-eslint/eslint-plugin":"^7.17.0","@typescript-eslint/parser":"^7.17.0",ajv:"^8.17.1","ajv-formats":"^3.0.1",cheerio:"^1.0.0-rc.12","conventional-changelog-cli":"^5.0.0",d3:"^7.9.0","del-cli":"^5.1.0",eslint:"^8.57.0","eslint-config-prettier":"^9.1.0","eslint-plugin-jest":"^27.9.0","eslint-plugin-prettier":"^5.2.1","fast-json-stable-stringify":"~2.1.0","highlight.js":"^11.10.0",jest:"^29.7.0","jest-dev-server":"^10.0.0",mkdirp:"^3.0.1",pako:"^2.1.0",prettier:"^3.3.3",puppeteer:"^15.0.0","release-it":"17.6.0",rollup:"^4.19.1","rollup-plugin-bundle-size":"^1.0.3",serve:"^14.2.3",terser:"^5.31.3","ts-jest":"^29.2.3","ts-json-schema-generator":"^2.3.0",typescript:"~5.5.4","vega-cli":"^5.28.0","vega-datasets":"^2.8.1","vega-embed":"^6.26.0","vega-tooltip":"^0.34.0","yaml-front-matter":"^4.1.1"},QWe={"json-stringify-pretty-compact":"~3.0.0",tslib:"~2.6.3","vega-event-selector":"~3.0.1","vega-expression":"~5.1.1","vega-util":"~1.17.2",yargs:"~17.7.2"},ZWe={vega:"^5.24.0"},JWe={node:">=18"},eHe="yarn@1.22.19",tHe={name:PWe,author:RWe,version:DWe,collaborators:OWe,homepage:NWe,description:IWe,keywords:LWe,main:zWe,unpkg:jWe,jsdelivr:BWe,module:UWe,types:VWe,bin:WWe,files:HWe,scripts:qWe,repository:GWe,license:YWe,bugs:XWe,devDependencies:KWe,dependencies:QWe,peerDependencies:ZWe,engines:JWe,packageManager:eHe};function WO(e){return K(e,"or")}function HO(e){return K(e,"and")}function qO(e){return K(e,"not")}function z2(e,t){if(qO(e))z2(e.not,t);else if(HO(e))for(const n of e.and)z2(n,t);else if(WO(e))for(const n of e.or)z2(n,t);else t(e)}function wp(e,t){return qO(e)?{not:wp(e.not,t)}:HO(e)?{and:e.and.map(n=>wp(n,t))}:WO(e)?{or:e.or.map(n=>wp(n,t))}:t(e)}const Me=structuredClone;function Aoe(e){throw new Error(e)}function kg(e,t){const n={};for(const r of t)ce(e,r)&&(n[r]=e[r]);return n}function mi(e,t){const n={...e};for(const r of t)delete n[r];return n}Set.prototype.toJSON=function(){return`Set(${[...this].map(e=>bt(e)).join(",")})`};function Be(e){if(Ze(e))return e;const t=le(e)?e:bt(e);if(t.length<250)return t;let n=0;for(let r=0;r<t.length;r++){const i=t.charCodeAt(r);n=(n<<5)-n+i,n=n&n}return n}function H4(e){return e===!1||e===null}function ze(e,t){return e.includes(t)}function Cg(e,t){let n=0;for(const[r,i]of e.entries())if(t(i,r,n++))return!0;return!1}function GO(e,t){let n=0;for(const[r,i]of e.entries())if(!t(i,r,n++))return!1;return!0}function Toe(e,...t){for(const n of t)nHe(e,n??{});return e}function nHe(e,t){for(const n of X(t))Qg(e,n,t[n],!0)}function la(e,t){const n=[],r={};let i;for(const o of e)i=t(o),!(i in r)&&(r[i]=1,n.push(o));return n}function rHe(e,t){const n=X(e),r=X(t);if(n.length!==r.length)return!1;for(const i of n)if(e[i]!==t[i])return!1;return!0}function Moe(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}function YO(e,t){for(const n of e)if(t.has(n))return!0;return!1}function q4(e){const t=new Set;for(const n of e){const i=Ta(n).map((s,a)=>a===0?s:`[${s}]`),o=i.map((s,a)=>i.slice(0,a+1).join(""));for(const s of o)t.add(s)}return t}function XO(e,t){return e===void 0||t===void 0?!0:YO(q4(e),q4(t))}function vt(e){return X(e).length===0}const X=Object.keys,tr=Object.values,yc=Object.entries;function F1(e){return e===!0||e===!1}function Lt(e){const t=e.replace(/\W/g,"_");return(e.match(/^\d+/)?"_":"")+t}function Ty(e,t){return qO(e)?`!(${Ty(e.not,t)})`:HO(e)?`(${e.and.map(n=>Ty(n,t)).join(") && (")})`:WO(e)?`(${e.or.map(n=>Ty(n,t)).join(") || (")})`:t(e)}function ek(e,t){if(t.length===0)return!0;const n=t.shift();return n in e&&ek(e[n],t)&&delete e[n],vt(e)}function Wv(e){return e.charAt(0).toUpperCase()+e.substr(1)}function KO(e,t="datum"){const n=Ta(e),r=[];for(let i=1;i<=n.length;i++){const o=`[${n.slice(0,i).map(te).join("][")}]`;r.push(`${t}${o}`)}return r.join(" && ")}function Foe(e,t="datum"){return`${t}[${te(Ta(e).join("."))}]`}function iHe(e){return e.replace(/(\[|\]|\.|'|")/g,"\\$1")}function Lo(e){return`${Ta(e).map(iHe).join("\\.")}`}function wd(e,t,n){return e.replace(new RegExp(t.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"),"g"),n)}function fm(e){return`${Ta(e).join(".")}`}function _g(e){return e?Ta(e).length:0}function ln(...e){return e.find(t=>t!==void 0)}let Poe=42;function Roe(e){const t=++Poe;return e?String(e)+t:t}function oHe(){Poe=42}function Doe(e){return Ooe(e)?e:`__${e}`}function Ooe(e){return e.startsWith("__")}function P1(e){if(e!==void 0)return(e%360+360)%360}function M_(e){return Ze(e)?!0:!isNaN(e)&&!isNaN(parseFloat(e))}const AU=Object.getPrototypeOf(structuredClone({}));function ji(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor.name!==t.constructor.name)return!1;let n,r;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!ji(e[r],t[r]))return!1;return!0}if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const o of e.entries())if(!t.has(o[0]))return!1;for(const o of e.entries())if(!ji(o[1],t.get(o[0])))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const o of e.entries())if(!t.has(o[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(e[r]!==t[r])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&e.valueOf!==AU.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&e.toString!==AU.toString)return e.toString()===t.toString();const i=Object.keys(e);if(n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const o=i[r];if(!ji(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function bt(e){const t=[];return function n(r){if(r&&r.toJSON&&typeof r.toJSON=="function"&&(r=r.toJSON()),r===void 0)return;if(typeof r=="number")return isFinite(r)?""+r:"null";if(typeof r!="object")return JSON.stringify(r);let i,o;if(Array.isArray(r)){for(o="[",i=0;i<r.length;i++)i&&(o+=","),o+=n(r[i])||"null";return o+"]"}if(r===null)return"null";if(t.includes(r))throw new TypeError("Converting circular structure to JSON");const s=t.push(r)-1,a=Object.keys(r).sort();for(o="",i=0;i<a.length;i++){const l=a[i],u=n(r[l]);u&&(o&&(o+=","),o+=JSON.stringify(l)+":"+u)}return t.splice(s,1),`{${o}}`}(e)}function K(e,t){return se(e)&&ce(e,t)&&e[t]!==void 0}const wl="row",Sl="column",F_="facet",zt="x",Un="y",Rs="x2",Na="y2",Dc="xOffset",dm="yOffset",Ds="radius",Hl="radius2",Bo="theta",ql="theta2",Os="latitude",Ns="longitude",Is="latitude2",zo="longitude2",ki="color",Ia="fill",La="stroke",Ci="shape",Gl="size",Xd="angle",Yl="opacity",Oc="fillOpacity",Nc="strokeOpacity",Ic="strokeWidth",Lc="strokeDash",Hv="text",Eg="order",qv="detail",P_="key",Sd="tooltip",R_="href",D_="url",O_="description",sHe={x:1,y:1,x2:1,y2:1},Noe={theta:1,theta2:1,radius:1,radius2:1};function Ioe(e){return ce(Noe,e)}const QO={longitude:1,longitude2:1,latitude:1,latitude2:1};function Loe(e){switch(e){case Os:return"y";case Is:return"y2";case Ns:return"x";case zo:return"x2"}}function zoe(e){return ce(QO,e)}const aHe=X(QO),ZO={...sHe,...Noe,...QO,xOffset:1,yOffset:1,color:1,fill:1,stroke:1,opacity:1,fillOpacity:1,strokeOpacity:1,strokeWidth:1,strokeDash:1,size:1,angle:1,shape:1,order:1,text:1,detail:1,key:1,tooltip:1,href:1,url:1,description:1};function Sp(e){return e===ki||e===Ia||e===La}const joe={row:1,column:1,facet:1},$o=X(joe),JO={...ZO,...joe},lHe=X(JO),{order:Bat,detail:Uat,tooltip:Vat,...uHe}=JO,{row:Wat,column:Hat,facet:qat,...cHe}=uHe;function fHe(e){return ce(cHe,e)}function Boe(e){return ce(JO,e)}const dHe=[Rs,Na,Is,zo,ql,Hl];function Uoe(e){return Kd(e)!==e}function Kd(e){switch(e){case Rs:return zt;case Na:return Un;case Is:return Os;case zo:return Ns;case ql:return Bo;case Hl:return Ds}return e}function vc(e){if(Ioe(e))switch(e){case Bo:return"startAngle";case ql:return"endAngle";case Ds:return"outerRadius";case Hl:return"innerRadius"}return e}function za(e){switch(e){case zt:return Rs;case Un:return Na;case Os:return Is;case Ns:return zo;case Bo:return ql;case Ds:return Hl}}function _i(e){switch(e){case zt:case Rs:return"width";case Un:case Na:return"height"}}function Voe(e){switch(e){case zt:return"xOffset";case Un:return"yOffset";case Rs:return"x2Offset";case Na:return"y2Offset";case Bo:return"thetaOffset";case Ds:return"radiusOffset";case ql:return"theta2Offset";case Hl:return"radius2Offset"}}function e8(e){switch(e){case zt:return"xOffset";case Un:return"yOffset"}}function hHe(e){switch(e){case"xOffset":return"x";case"yOffset":return"y"}}const pHe=X(ZO),{x:Gat,y:Yat,x2:Xat,y2:Kat,xOffset:Qat,yOffset:Zat,latitude:Jat,longitude:elt,latitude2:tlt,longitude2:nlt,theta:rlt,theta2:ilt,radius:olt,radius2:slt,...t8}=ZO,gHe=X(t8),n8={x:1,y:1},Xl=X(n8);function un(e){return ce(n8,e)}const r8={theta:1,radius:1},mHe=X(r8);function N_(e){return e==="width"?zt:Un}const Woe={xOffset:1,yOffset:1};function Gv(e){return ce(Woe,e)}const{text:alt,tooltip:llt,href:ult,url:clt,description:flt,detail:dlt,key:hlt,order:plt,...Hoe}=t8,yHe=X(Hoe);function vHe(e){return ce(t8,e)}function bHe(e){switch(e){case ki:case Ia:case La:case Gl:case Ci:case Yl:case Ic:case Lc:return!0;case Oc:case Nc:case Xd:return!1}}const qoe={...n8,...r8,...Woe,...Hoe},i8=X(qoe);function ja(e){return ce(qoe,e)}function xHe(e,t){return SHe(e)[t]}const Goe={arc:"always",area:"always",bar:"always",circle:"always",geoshape:"always",image:"always",line:"always",rule:"always",point:"always",rect:"always",square:"always",trail:"always",text:"always",tick:"always"},{geoshape:glt,...wHe}=Goe;function SHe(e){switch(e){case ki:case Ia:case La:case O_:case qv:case P_:case Sd:case R_:case Eg:case Yl:case Oc:case Nc:case Ic:case F_:case wl:case Sl:return Goe;case zt:case Un:case Dc:case dm:case Os:case Ns:return wHe;case Rs:case Na:case Is:case zo:return{area:"always",bar:"always",image:"always",rect:"always",rule:"always",circle:"binned",point:"binned",square:"binned",tick:"binned",line:"binned",trail:"binned"};case Gl:return{point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",text:"always",line:"always",trail:"always"};case Lc:return{line:"always",point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",geoshape:"always"};case Ci:return{point:"always",geoshape:"always"};case Hv:return{text:"always"};case Xd:return{point:"always",square:"always",text:"always"};case D_:return{image:"always"};case Bo:return{text:"always",arc:"always"};case Ds:return{text:"always",arc:"always"};case ql:case Hl:return{arc:"always"}}}function t5(e){switch(e){case zt:case Un:case Bo:case Ds:case Dc:case dm:case Gl:case Xd:case Ic:case Yl:case Oc:case Nc:case Rs:case Na:case ql:case Hl:return;case F_:case wl:case Sl:case Ci:case Lc:case Hv:case Sd:case R_:case D_:case O_:return"discrete";case ki:case Ia:case La:return"flexible";case Os:case Ns:case Is:case zo:case qv:case P_:case Eg:return}}const kHe={argmax:1,argmin:1,average:1,count:1,distinct:1,exponential:1,exponentialb:1,product:1,max:1,mean:1,median:1,min:1,missing:1,q1:1,q3:1,ci0:1,ci1:1,stderr:1,stdev:1,stdevp:1,sum:1,valid:1,values:1,variance:1,variancep:1},CHe={count:1,min:1,max:1};function Nl(e){return K(e,"argmin")}function zc(e){return K(e,"argmax")}function o8(e){return le(e)&&ce(kHe,e)}const _He=new Set(["count","valid","missing","distinct"]);function I_(e){return le(e)&&_He.has(e)}function EHe(e){return le(e)&&ze(["min","max"],e)}const $He=new Set(["count","sum","distinct","valid","missing"]),AHe=new Set(["mean","average","median","q1","q3","min","max"]);function Yoe(e){return $c(e)&&(e=X_(e,void 0)),"bin"+X(e).map(t=>L_(e[t])?Lt(`_${t}_${yc(e[t])}`):Lt(`_${t}_${e[t]}`)).join("")}function Et(e){return e===!0||Qd(e)&&!e.binned}function Hn(e){return e==="binned"||Qd(e)&&e.binned===!0}function Qd(e){return se(e)}function L_(e){return K(e,"param")}function TU(e){switch(e){case wl:case Sl:case Gl:case ki:case Ia:case La:case Ic:case Yl:case Oc:case Nc:case Ci:return 6;case Lc:return 4;default:return 10}}function Yv(e){return K(e,"expr")}function Gn(e,{level:t}={level:0}){const n=X(e||{}),r={};for(const i of n)r[i]=t===0?Oi(e[i]):Gn(e[i],{level:t-1});return r}function Xoe(e){const{anchor:t,frame:n,offset:r,orient:i,angle:o,limit:s,color:a,subtitleColor:l,subtitleFont:u,subtitleFontSize:c,subtitleFontStyle:f,subtitleFontWeight:d,subtitleLineHeight:h,subtitlePadding:p,...g}=e,m={...g,...a?{fill:a}:{}},y={...t?{anchor:t}:{},...n?{frame:n}:{},...r?{offset:r}:{},...i?{orient:i}:{},...o!==void 0?{angle:o}:{},...s!==void 0?{limit:s}:{}},v={...l?{subtitleColor:l}:{},...u?{subtitleFont:u}:{},...c?{subtitleFontSize:c}:{},...f?{subtitleFontStyle:f}:{},...d?{subtitleFontWeight:d}:{},...h?{subtitleLineHeight:h}:{},...p?{subtitlePadding:p}:{}},b=kg(e,["align","baseline","dx","dy","limit"]);return{titleMarkConfig:m,subtitleMarkConfig:b,nonMarkTitleProperties:y,subtitle:v}}function mu(e){return le(e)||G(e)&&le(e[0])}function me(e){return K(e,"signal")}function Zd(e){return K(e,"step")}function THe(e){return G(e)?!1:K(e,"fields")&&!K(e,"data")}function MHe(e){return G(e)?!1:K(e,"fields")&&K(e,"data")}function hl(e){return G(e)?!1:K(e,"field")&&K(e,"data")}const FHe={aria:1,description:1,ariaRole:1,ariaRoleDescription:1,blend:1,opacity:1,fill:1,fillOpacity:1,stroke:1,strokeCap:1,strokeWidth:1,strokeOpacity:1,strokeDash:1,strokeDashOffset:1,strokeJoin:1,strokeOffset:1,strokeMiterLimit:1,startAngle:1,endAngle:1,padAngle:1,innerRadius:1,outerRadius:1,size:1,shape:1,interpolate:1,tension:1,orient:1,align:1,baseline:1,text:1,dir:1,dx:1,dy:1,ellipsis:1,limit:1,radius:1,theta:1,angle:1,font:1,fontSize:1,fontWeight:1,fontStyle:1,lineBreak:1,lineHeight:1,cursor:1,href:1,tooltip:1,cornerRadius:1,cornerRadiusTopLeft:1,cornerRadiusTopRight:1,cornerRadiusBottomLeft:1,cornerRadiusBottomRight:1,aspect:1,width:1,height:1,url:1,smooth:1},PHe=X(FHe),RHe={arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1},G4=["cornerRadius","cornerRadiusTopLeft","cornerRadiusTopRight","cornerRadiusBottomLeft","cornerRadiusBottomRight"];function Koe(e){const t=G(e.condition)?e.condition.map(MU):MU(e.condition);return{...Oi(e),condition:t}}function Oi(e){if(Yv(e)){const{expr:t,...n}=e;return{signal:t,...n}}return e}function MU(e){if(Yv(e)){const{expr:t,...n}=e;return{signal:t,...n}}return e}function Pt(e){if(Yv(e)){const{expr:t,...n}=e;return{signal:t,...n}}return me(e)?e:e!==void 0?{value:e}:void 0}function DHe(e){return me(e)?e.signal:te(e)}function FU(e){return me(e)?e.signal:te(e.value)}function ps(e){return me(e)?e.signal:e==null?null:te(e)}function OHe(e,t,n){for(const r of n){const i=Ea(r,t.markDef,t.config);i!==void 0&&(e[r]=Pt(i))}return e}function Qoe(e){return[].concat(e.type,e.style??[])}function mt(e,t,n,r={}){const{vgChannel:i,ignoreVgConfig:o}=r;return i&&K(t,i)?t[i]:t[e]!==void 0?t[e]:o&&(!i||i===e)?void 0:Ea(e,t,n,r)}function Ea(e,t,n,{vgChannel:r}={}){const i=Y4(e,t,n.style);return ln(r?i:void 0,i,r?n[t.type][r]:void 0,n[t.type][e],r?n.mark[r]:n.mark[e])}function Y4(e,t,n){return Zoe(e,Qoe(t),n)}function Zoe(e,t,n){t=ae(t);let r;for(const i of t){const o=n[i];K(o,e)&&(r=o[e])}return r}function Joe(e,t){return ae(e).reduce((n,r)=>(n.field.push(ie(r,t)),n.order.push(r.sort??"ascending"),n),{field:[],order:[]})}function ese(e,t){const n=[...e];return t.forEach(r=>{for(const i of n)if(ji(i,r))return;n.push(r)}),n}function tse(e,t){return ji(e,t)||!t?e:e?[...ae(e),...ae(t)].join(", "):t}function nse(e,t){const n=e.value,r=t.value;if(n==null||r===null)return{explicit:e.explicit,value:null};if((mu(n)||me(n))&&(mu(r)||me(r)))return{explicit:e.explicit,value:tse(n,r)};if(mu(n)||me(n))return{explicit:e.explicit,value:n};if(mu(r)||me(r))return{explicit:e.explicit,value:r};if(!mu(n)&&!me(n)&&!mu(r)&&!me(r))return{explicit:e.explicit,value:ese(n,r)};throw new Error("It should never reach here")}function s8(e){return`Invalid specification ${bt(e)}. Make sure the specification includes at least one of the following properties: "mark", "layer", "facet", "hconcat", "vconcat", "concat", or "repeat".`}const NHe='Autosize "fit" only works for single views and layered views.';function PU(e){return`${e=="width"?"Width":"Height"} "container" only works for single views and layered views.`}function RU(e){const t=e=="width"?"Width":"Height",n=e=="width"?"x":"y";return`${t} "container" only works well with autosize "fit" or "fit-${n}".`}function DU(e){return e?`Dropping "fit-${e}" because spec has discrete ${_i(e)}.`:'Dropping "fit" because spec has discrete size.'}function a8(e){return`Unknown field for ${e}. Cannot calculate view size.`}function OU(e){return`Cannot project a selection on encoding channel "${e}", which has no field.`}function IHe(e,t){return`Cannot project a selection on encoding channel "${e}" as it uses an aggregate function ("${t}").`}function LHe(e){return`The "nearest" transform is not supported for ${e} marks.`}function rse(e){return`Selection not supported for ${e} yet.`}function zHe(e){return`Cannot find a selection named "${e}".`}const jHe="Scale bindings are currently only supported for scales with unbinned, continuous domains.",BHe="Sequntial scales are deprecated. The available quantitative scale type values are linear, log, pow, sqrt, symlog, time and utc",UHe="Legend bindings are only supported for selections over an individual field or encoding channel.";function VHe(e){return`Lookups can only be performed on selection parameters. "${e}" is a variable parameter.`}function WHe(e){return`Cannot define and lookup the "${e}" selection in the same view. Try moving the lookup into a second, layered view?`}const HHe="The same selection must be used to override scale domains in a layered view.",qHe='Interval selections should be initialized using "x", "y", "longitude", or "latitude" keys.';function GHe(e){return`Unknown repeated value "${e}".`}function NU(e){return`The "columns" property cannot be used when "${e}" has nested row/column.`}const YHe="Axes cannot be shared in concatenated or repeated views yet (https://github.com/vega/vega-lite/issues/2415).";function XHe(e){return`Unrecognized parse "${e}".`}function IU(e,t,n){return`An ancestor parsed field "${e}" as ${n} but a child wants to parse the field as ${t}.`}const KHe="Attempt to add the same child twice.";function QHe(e){return`Ignoring an invalid transform: ${bt(e)}.`}const ZHe='If "from.fields" is not specified, "as" has to be a string that specifies the key to be used for the data from the secondary source.';function LU(e){return`Config.customFormatTypes is not true, thus custom format type and format for channel ${e} are dropped.`}function JHe(e){const{parentProjection:t,projection:n}=e;return`Layer's shared projection ${bt(t)} is overridden by a child projection ${bt(n)}.`}const eqe="Arc marks uses theta channel rather than angle, replacing angle with theta.";function tqe(e){return`${e}Offset dropped because ${e} is continuous`}function nqe(e,t,n){return`Channel ${e} is a ${t}. Converted to {value: ${bt(n)}}.`}function ise(e){return`Invalid field type "${e}".`}function rqe(e,t){return`Invalid field type "${e}" for aggregate: "${t}", using "quantitative" instead.`}function iqe(e){return`Invalid aggregation operator "${e}".`}function ose(e,t){const{fill:n,stroke:r}=t;return`Dropping color ${e} as the plot also has ${n&&r?"fill and stroke":n?"fill":"stroke"}.`}function oqe(e){return`Position range does not support relative band size for ${e}.`}function X4(e,t){return`Dropping ${bt(e)} from channel "${t}" since it does not contain any data field, datum, value, or signal.`}const sqe="Line marks cannot encode size with a non-groupby field. You may want to use trail marks instead.";function z_(e,t,n){return`${e} dropped as it is incompatible with "${t}".`}function aqe(e){return`${e}-encoding is dropped as ${e} is not a valid encoding channel.`}function lqe(e){return`${e} encoding should be discrete (ordinal / nominal / binned).`}function uqe(e){return`${e} encoding should be discrete (ordinal / nominal / binned) or use a discretizing scale (e.g. threshold).`}function cqe(e){return`Facet encoding dropped as ${e.join(" and ")} ${e.length>1?"are":"is"} also specified.`}function n5(e,t){return`Using discrete channel "${e}" to encode "${t}" field can be misleading as it does not encode ${t==="ordinal"?"order":"magnitude"}.`}function fqe(e){return`The ${e} for range marks cannot be an expression`}function dqe(e,t){return`Line mark is for continuous lines and thus cannot be used with ${e&&t?"x2 and y2":e?"x2":"y2"}. We will use the rule mark (line segments) instead.`}function hqe(e,t){return`Specified orient "${e}" overridden with "${t}".`}function pqe(e){return`Cannot use the scale property "${e}" with non-color channel.`}function gqe(e){return`Cannot use the relative band size with ${e} scale.`}function mqe(e){return`Using unaggregated domain with raw field has no effect (${bt(e)}).`}function yqe(e){return`Unaggregated domain not applicable for "${e}" since it produces values outside the origin domain of the source data.`}function vqe(e){return`Unaggregated domain is currently unsupported for log scale (${bt(e)}).`}function bqe(e){return`Cannot apply size to non-oriented mark "${e}".`}function xqe(e,t,n){return`Channel "${e}" does not work with "${t}" scale. We are using "${n}" scale instead.`}function wqe(e,t){return`FieldDef does not work with "${e}" scale. We are using "${t}" scale instead.`}function sse(e,t,n){return`${n}-scale's "${t}" is dropped as it does not work with ${e} scale.`}function ase(e){return`The step for "${e}" is dropped because the ${e==="width"?"x":"y"} is continuous.`}function Sqe(e,t,n,r){return`Conflicting ${t.toString()} property "${e.toString()}" (${bt(n)} and ${bt(r)}). Using ${bt(n)}.`}function kqe(e,t,n,r){return`Conflicting ${t.toString()} property "${e.toString()}" (${bt(n)} and ${bt(r)}). Using the union of the two domains.`}function Cqe(e){return`Setting the scale to be independent for "${e}" means we also have to set the guide (axis or legend) to be independent.`}function _qe(e){return`Dropping sort property ${bt(e)} as unioned domains only support boolean or op "count", "min", and "max".`}const zU="Domains that should be unioned has conflicting sort properties. Sort will be set to true.",Eqe="Detected faceted independent scales that union domain of multiple fields from different data sources. We will use the first field. The result view size may be incorrect.",$qe="Detected faceted independent scales that union domain of the same fields from different source. We will assume that this is the same field from a different fork of the same data source. However, if this is not the case, the result view size may be incorrect.",Aqe="Detected faceted independent scales that union domain of multiple fields from the same data source. We will use the first field. The result view size may be incorrect.";function Tqe(e){return`Cannot stack "${e}" if there is already "${e}2".`}function Mqe(e){return`Stack is applied to a non-linear scale (${e}).`}function Fqe(e){return`Stacking is applied even though the aggregate function is non-summative ("${e}").`}function tk(e,t){return`Invalid ${e}: ${bt(t)}.`}function Pqe(e){return`Dropping day from datetime ${bt(e)} as day cannot be combined with other units.`}function Rqe(e,t){return`${t?"extent ":""}${t&&e?"and ":""}${e?"center ":""}${t&&e?"are ":"is "}not needed when data are aggregated.`}function Dqe(e,t,n){return`${e} is not usually used with ${t} for ${n}.`}function Oqe(e,t){return`Continuous axis should not have customized aggregation function ${e}; ${t} already agregates the axis.`}function jU(e){return`1D error band does not support ${e}.`}function lse(e){return`Channel ${e} is required for "binned" bin.`}function Nqe(e){return`Channel ${e} should not be used with "binned" bin.`}function Iqe(e){return`Domain for ${e} is required for threshold scale.`}const use=tR(eR);let $g=use;function Lqe(e){return $g=e,$g}function zqe(){return $g=use,$g}function Z(...e){$g.warn(...e)}function jqe(...e){$g.debug(...e)}function Jd(e){if(e&&se(e)){for(const t of u8)if(K(e,t))return!0}return!1}const cse=["january","february","march","april","may","june","july","august","september","october","november","december"],Bqe=cse.map(e=>e.substr(0,3)),fse=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],Uqe=fse.map(e=>e.substr(0,3));function Vqe(e){if(M_(e)&&(e=+e),Ze(e))return e>4&&Z(tk("quarter",e)),e-1;throw new Error(tk("quarter",e))}function Wqe(e){if(M_(e)&&(e=+e),Ze(e))return e-1;{const t=e.toLowerCase(),n=cse.indexOf(t);if(n!==-1)return n;const r=t.substr(0,3),i=Bqe.indexOf(r);if(i!==-1)return i;throw new Error(tk("month",e))}}function Hqe(e){if(M_(e)&&(e=+e),Ze(e))return e%7;{const t=e.toLowerCase(),n=fse.indexOf(t);if(n!==-1)return n;const r=t.substr(0,3),i=Uqe.indexOf(r);if(i!==-1)return i;throw new Error(tk("day",e))}}function l8(e,t){const n=[];if(t&&e.day!==void 0&&X(e).length>1&&(Z(Pqe(e)),e=Me(e),delete e.day),e.year!==void 0?n.push(e.year):n.push(2012),e.month!==void 0){const r=t?Wqe(e.month):e.month;n.push(r)}else if(e.quarter!==void 0){const r=t?Vqe(e.quarter):e.quarter;n.push(Ze(r)?r*3:`${r}*3`)}else n.push(0);if(e.date!==void 0)n.push(e.date);else if(e.day!==void 0){const r=t?Hqe(e.day):e.day;n.push(Ze(r)?r+1:`${r}+1`)}else n.push(1);for(const r of["hours","minutes","seconds","milliseconds"]){const i=e[r];n.push(typeof i>"u"?0:i)}return n}function kd(e){const n=l8(e,!0).join(", ");return e.utc?`utc(${n})`:`datetime(${n})`}function qqe(e){const n=l8(e,!1).join(", ");return e.utc?`utc(${n})`:`datetime(${n})`}function Gqe(e){const t=l8(e,!0);return e.utc?+new Date(Date.UTC(...t)):+new Date(...t)}const dse={year:1,quarter:1,month:1,week:1,day:1,dayofyear:1,date:1,hours:1,minutes:1,seconds:1,milliseconds:1},u8=X(dse);function Yqe(e){return ce(dse,e)}function eh(e){return se(e)?e.binned:hse(e)}function hse(e){return e&&e.startsWith("binned")}function c8(e){return e.startsWith("utc")}function Xqe(e){return e.substring(3)}const Kqe={"year-month":"%b %Y ","year-month-date":"%b %d, %Y "};function j_(e){return u8.filter(t=>gse(e,t))}function pse(e){const t=j_(e);return t[t.length-1]}function gse(e,t){const n=e.indexOf(t);return!(n<0||n>0&&t==="seconds"&&e.charAt(n-1)==="i"||e.length>n+3&&t==="day"&&e.charAt(n+3)==="o"||n>0&&t==="year"&&e.charAt(n-1)==="f")}function Qqe(e,t,{end:n}={end:!1}){const r=KO(t),i=c8(e)?"utc":"";function o(l){return l==="quarter"?`(${i}quarter(${r})-1)`:`${i}${l}(${r})`}let s;const a={};for(const l of u8)gse(e,l)&&(a[l]=o(l),s=l);return n&&(a[s]+="+1"),qqe(a)}function mse(e){if(!e)return;const t=j_(e);return`timeUnitSpecifier(${bt(t)}, ${bt(Kqe)})`}function Zqe(e,t,n){if(!e)return;const r=mse(e);return`${n||c8(e)?"utc":"time"}Format(${t}, ${r})`}function In(e){if(!e)return;let t;return le(e)?hse(e)?t={unit:e.substring(6),binned:!0}:t={unit:e}:se(e)&&(t={...e,...e.unit?{unit:e.unit}:{}}),c8(t.unit)&&(t.utc=!0,t.unit=Xqe(t.unit)),t}function Jqe(e){const{utc:t,...n}=In(e);return n.unit?(t?"utc":"")+X(n).map(r=>Lt(`${r==="unit"?"":`_${r}_`}${n[r]}`)).join(""):(t?"utc":"")+"timeunit"+X(n).map(r=>Lt(`_${r}_${n[r]}`)).join("")}function yse(e,t=n=>n){const n=In(e),r=pse(n.unit);if(r&&r!=="day"){const i={year:2001,month:1,date:1,hours:0,minutes:0,seconds:0,milliseconds:0},{step:o,part:s}=vse(r,n.step),a={...i,[s]:+i[s]+o};return`${t(kd(a))} - ${t(kd(i))}`}}const eGe={year:1,month:1,date:1,hours:1,minutes:1,seconds:1,milliseconds:1};function tGe(e){return ce(eGe,e)}function vse(e,t=1){if(tGe(e))return{part:e,step:t};switch(e){case"day":case"dayofyear":return{part:"date",step:t};case"quarter":return{part:"month",step:t*3};case"week":return{part:"date",step:t*7}}}function nGe(e){return K(e,"param")}function f8(e){return!!(e!=null&&e.field)&&e.equal!==void 0}function d8(e){return!!(e!=null&&e.field)&&e.lt!==void 0}function h8(e){return!!(e!=null&&e.field)&&e.lte!==void 0}function p8(e){return!!(e!=null&&e.field)&&e.gt!==void 0}function g8(e){return!!(e!=null&&e.field)&&e.gte!==void 0}function m8(e){if(e!=null&&e.field){if(G(e.range)&&e.range.length===2)return!0;if(me(e.range))return!0}return!1}function y8(e){return!!(e!=null&&e.field)&&(G(e.oneOf)||G(e.in))}function rGe(e){return!!(e!=null&&e.field)&&e.valid!==void 0}function bse(e){return y8(e)||f8(e)||m8(e)||d8(e)||p8(e)||h8(e)||g8(e)}function Vs(e,t){return K_(e,{timeUnit:t,wrapTime:!0})}function iGe(e,t){return e.map(n=>Vs(n,t))}function xse(e,t=!0){const{field:n}=e,r=In(e.timeUnit),{unit:i,binned:o}=r||{},s=ie(e,{expr:"datum"}),a=i?`time(${o?s:Qqe(i,n)})`:s;if(f8(e))return`${a}===${Vs(e.equal,i)}`;if(d8(e)){const l=e.lt;return`${a}<${Vs(l,i)}`}else if(p8(e)){const l=e.gt;return`${a}>${Vs(l,i)}`}else if(h8(e)){const l=e.lte;return`${a}<=${Vs(l,i)}`}else if(g8(e)){const l=e.gte;return`${a}>=${Vs(l,i)}`}else{if(y8(e))return`indexof([${iGe(e.oneOf,i).join(",")}], ${a}) !== -1`;if(rGe(e))return B_(a,e.valid);if(m8(e)){const{range:l}=Gn(e),u=me(l)?{signal:`${l.signal}[0]`}:l[0],c=me(l)?{signal:`${l.signal}[1]`}:l[1];if(u!==null&&c!==null&&t)return"inrange("+a+", ["+Vs(u,i)+", "+Vs(c,i)+"])";const f=[];return u!==null&&f.push(`${a} >= ${Vs(u,i)}`),c!==null&&f.push(`${a} <= ${Vs(c,i)}`),f.length>0?f.join(" && "):"true"}}throw new Error(`Invalid field predicate: ${bt(e)}`)}function B_(e,t=!0){return t?`isValid(${e}) && isFinite(+${e})`:`!isValid(${e}) || !isFinite(+${e})`}function oGe(e){return bse(e)&&e.timeUnit?{...e,timeUnit:In(e.timeUnit)}:e}const Xv={quantitative:"quantitative",ordinal:"ordinal",temporal:"temporal",nominal:"nominal",geojson:"geojson"};function sGe(e){return e==="quantitative"||e==="temporal"}function wse(e){return e==="ordinal"||e==="nominal"}const Cd=Xv.quantitative,v8=Xv.ordinal,Ag=Xv.temporal,b8=Xv.nominal,hm=Xv.geojson;function aGe(e){if(e)switch(e=e.toLowerCase(),e){case"q":case Cd:return"quantitative";case"t":case Ag:return"temporal";case"o":case v8:return"ordinal";case"n":case b8:return"nominal";case hm:return"geojson"}}const Yn={LINEAR:"linear",LOG:"log",POW:"pow",SQRT:"sqrt",SYMLOG:"symlog",IDENTITY:"identity",SEQUENTIAL:"sequential",TIME:"time",UTC:"utc",QUANTILE:"quantile",QUANTIZE:"quantize",THRESHOLD:"threshold",BIN_ORDINAL:"bin-ordinal",ORDINAL:"ordinal",POINT:"point",BAND:"band"},K4={linear:"numeric",log:"numeric",pow:"numeric",sqrt:"numeric",symlog:"numeric",identity:"numeric",sequential:"numeric",time:"time",utc:"time",ordinal:"ordinal","bin-ordinal":"bin-ordinal",point:"ordinal-position",band:"ordinal-position",quantile:"discretizing",quantize:"discretizing",threshold:"discretizing"};function lGe(e,t){const n=K4[e],r=K4[t];return n===r||n==="ordinal-position"&&r==="time"||r==="ordinal-position"&&n==="time"}const uGe={linear:0,log:1,pow:1,sqrt:1,symlog:1,identity:1,sequential:1,time:0,utc:0,point:10,band:11,ordinal:0,"bin-ordinal":0,quantile:0,quantize:0,threshold:0};function BU(e){return uGe[e]}const Sse=new Set(["linear","log","pow","sqrt","symlog"]),kse=new Set([...Sse,"time","utc"]);function Cse(e){return Sse.has(e)}const _se=new Set(["quantile","quantize","threshold"]),cGe=new Set([...kse,..._se,"sequential","identity"]),fGe=new Set(["ordinal","bin-ordinal","point","band"]);function Ln(e){return fGe.has(e)}function Es(e){return cGe.has(e)}function ua(e){return kse.has(e)}function Tg(e){return _se.has(e)}const dGe={pointPadding:.5,barBandPaddingInner:.1,rectBandPaddingInner:0,tickBandPaddingInner:.25,bandWithNestedOffsetPaddingInner:.2,bandWithNestedOffsetPaddingOuter:.2,minBandSize:2,minFontSize:8,maxFontSize:40,minOpacity:.3,maxOpacity:.8,minSize:4,minStrokeWidth:1,maxStrokeWidth:4,quantileCount:4,quantizeCount:4,zero:!0};function hGe(e){return!le(e)&&K(e,"name")}function Ese(e){return K(e,"param")}function pGe(e){return K(e,"unionWith")}function gGe(e){return se(e)&&"field"in e}const mGe={type:1,domain:1,domainMax:1,domainMin:1,domainMid:1,domainRaw:1,align:1,range:1,rangeMax:1,rangeMin:1,scheme:1,bins:1,reverse:1,round:1,clamp:1,nice:1,base:1,exponent:1,constant:1,interpolate:1,zero:1,padding:1,paddingInner:1,paddingOuter:1},{type:mlt,domain:ylt,range:vlt,rangeMax:blt,rangeMin:xlt,scheme:wlt,...yGe}=mGe,vGe=X(yGe);function Q4(e,t){switch(t){case"type":case"domain":case"reverse":case"range":return!0;case"scheme":case"interpolate":return!["point","band","identity"].includes(e);case"bins":return!["point","band","identity","ordinal"].includes(e);case"round":return ua(e)||e==="band"||e==="point";case"padding":case"rangeMin":case"rangeMax":return ua(e)||["point","band"].includes(e);case"paddingOuter":case"align":return["point","band"].includes(e);case"paddingInner":return e==="band";case"domainMax":case"domainMid":case"domainMin":case"domainRaw":case"clamp":return ua(e);case"nice":return ua(e)||e==="quantize"||e==="threshold";case"exponent":return e==="pow";case"base":return e==="log";case"constant":return e==="symlog";case"zero":return Es(e)&&!ze(["log","time","utc","threshold","quantile"],e)}}function $se(e,t){switch(t){case"interpolate":case"scheme":case"domainMid":return Sp(e)?void 0:pqe(t);case"align":case"type":case"bins":case"domain":case"domainMax":case"domainMin":case"domainRaw":case"range":case"base":case"exponent":case"constant":case"nice":case"padding":case"paddingInner":case"paddingOuter":case"rangeMax":case"rangeMin":case"reverse":case"round":case"clamp":case"zero":return}}function bGe(e,t){return ze([v8,b8],t)?e===void 0||Ln(e):t===Ag?ze([Yn.TIME,Yn.UTC,void 0],e):t===Cd?Cse(e)||Tg(e)||e===void 0:!0}function xGe(e,t,n=!1){if(!ja(e))return!1;switch(e){case zt:case Un:case Dc:case dm:case Bo:case Ds:return ua(t)||t==="band"?!0:t==="point"?!n:!1;case Gl:case Ic:case Yl:case Oc:case Nc:case Xd:return ua(t)||Tg(t)||ze(["band","point","ordinal"],t);case ki:case Ia:case La:return t!=="band";case Lc:case Ci:return t==="ordinal"||Tg(t)}}function wGe(e){return se(e)&&"value"in e}const ni={arc:"arc",area:"area",bar:"bar",image:"image",line:"line",point:"point",rect:"rect",rule:"rule",text:"text",tick:"tick",trail:"trail",circle:"circle",square:"square",geoshape:"geoshape"},Ase=ni.arc,U_=ni.area,V_=ni.bar,SGe=ni.image,W_=ni.line,H_=ni.point,kGe=ni.rect,nk=ni.rule,Tse=ni.text,x8=ni.tick,CGe=ni.trail,w8=ni.circle,S8=ni.square,Mse=ni.geoshape;function jc(e){return["line","area","trail"].includes(e)}function R1(e){return["rect","bar","image","arc","tick"].includes(e)}const _Ge=new Set(X(ni));function $a(e){return K(e,"type")}const EGe=["stroke","strokeWidth","strokeDash","strokeDashOffset","strokeOpacity","strokeJoin","strokeMiterLimit"],$Ge=["fill","fillOpacity"],AGe=[...EGe,...$Ge],TGe={color:1,filled:1,invalid:1,order:1,radius2:1,theta2:1,timeUnitBandSize:1,timeUnitBandPosition:1},UU=X(TGe),r5=["binSpacing","continuousBandSize","discreteBandSize","minBandSize"],MGe={area:["line","point"],bar:r5,rect:r5,line:["point"],tick:["bandSize","thickness",...r5]},FGe={color:"#4c78a8",invalid:"break-paths-show-path-domains",timeUnitBandSize:1},PGe={mark:1,arc:1,area:1,bar:1,circle:1,image:1,line:1,point:1,rect:1,rule:1,square:1,text:1,tick:1,trail:1,geoshape:1},Fse=X(PGe);function _d(e){return K(e,"band")}const RGe={horizontal:["cornerRadiusTopRight","cornerRadiusBottomRight"],vertical:["cornerRadiusTopLeft","cornerRadiusTopRight"]},DGe=5,k8={binSpacing:0,continuousBandSize:DGe,minBandSize:.25,timeUnitBandPosition:.5},OGe={...k8,binSpacing:1},NGe={...k8,thickness:1};function IGe(e){return $a(e)?e.type:e}function Pse(e,{isPath:t}){return e===void 0||e==="break-paths-show-path-domains"?t?"break-paths-show-domains":"filter":e===null?"show":e}function C8({markDef:e,config:t,scaleChannel:n,scaleType:r,isCountAggregate:i}){var a,l;if(!r||!Es(r)||i)return"always-valid";const o=Pse(mt("invalid",e,t),{isPath:jc(e.type)});return((l=(a=t.scale)==null?void 0:a.invalid)==null?void 0:l[n])!==void 0?"show":o}function LGe(e){return e==="break-paths-filter-domains"||e==="break-paths-show-domains"}function Rse({scaleName:e,scale:t,mode:n}){const r=`domain('${e}')`;if(!t||!e)return;const i=`${r}[0]`,o=`peek(${r})`,s=t.domainHasZero();return s==="definitely"?{scale:e,value:0}:s==="maybe"?{signal:`scale('${e}', inrange(0, ${r}) ? 0 : ${n==="zeroOrMin"?i:o})`}:{signal:`scale('${e}', ${n==="zeroOrMin"?i:o})`}}function Dse({scaleChannel:e,channelDef:t,scale:n,scaleName:r,markDef:i,config:o}){var c;const s=n==null?void 0:n.get("type"),a=As(t),l=I_(a==null?void 0:a.aggregate),u=C8({scaleChannel:e,markDef:i,config:o,scaleType:s,isCountAggregate:l});if(a&&u==="show"){const f=((c=o.scale.invalid)==null?void 0:c[e])??"zero-or-min";return{test:B_(ie(a,{expr:"datum"}),!1),...zGe(f,n,r)}}}function zGe(e,t,n){if(wGe(e)){const{value:r}=e;return me(r)?{signal:r.signal}:{value:r}}return Rse({scale:t,scaleName:n,mode:"zeroOrMin"})}function _8(e){const{channel:t,channelDef:n,markDef:r,scale:i,scaleName:o,config:s}=e,a=Kd(t),l=E8(e),u=Dse({scaleChannel:a,channelDef:n,scale:i,scaleName:o,markDef:r,config:s});return u!==void 0?[u,l]:l}function jGe(e){const{datum:t}=e;return Jd(t)?kd(t):`${bt(t)}`}function Zf(e,t,n,r){const i={};if(t&&(i.scale=t),Ba(e)){const{datum:o}=e;Jd(o)?i.signal=kd(o):me(o)?i.signal=o.signal:Yv(o)?i.signal=o.expr:i.value=o}else i.field=ie(e,n);if(r){const{offset:o,band:s}=r;o&&(i.offset=o),s&&(i.band=s)}return i}function rk({scaleName:e,fieldOrDatumDef:t,fieldOrDatumDef2:n,offset:r,startSuffix:i,endSuffix:o="end",bandPosition:s=.5}){const a=!me(s)&&0<s&&s<1?"datum":void 0,l=ie(t,{expr:a,suffix:i}),u=n!==void 0?ie(n,{expr:a}):ie(t,{suffix:o,expr:a}),c={};if(s===0||s===1){c.scale=e;const f=s===0?l:u;c.field=f}else{const f=me(s)?`(1-${s.signal}) * ${l} + ${s.signal} * ${u}`:`${1-s} * ${l} + ${s} * ${u}`;c.signal=`scale("${e}", ${f})`}return r&&(c.offset=r),c}function BGe({scaleName:e,fieldDef:t}){const n=ie(t,{expr:"datum"}),r=ie(t,{expr:"datum",suffix:"end"});return`abs(scale("${e}", ${r}) - scale("${e}", ${n}))`}function E8({channel:e,channelDef:t,channel2Def:n,markDef:r,config:i,scaleName:o,scale:s,stack:a,offset:l,defaultRef:u,bandPosition:c}){if(t){if(Pe(t)){const f=s==null?void 0:s.get("type");if(Zr(t)){c??(c=bc({fieldDef:t,fieldDef2:n,markDef:r,config:i}));const{bin:d,timeUnit:h,type:p}=t;if(Et(d)||c&&h&&p===Ag)return a!=null&&a.impute?Zf(t,o,{binSuffix:"mid"},{offset:l}):c&&!Ln(f)?rk({scaleName:o,fieldOrDatumDef:t,bandPosition:c,offset:l}):Zf(t,o,eb(t,e)?{binSuffix:"range"}:{},{offset:l});if(Hn(d)){if(J(n))return rk({scaleName:o,fieldOrDatumDef:t,fieldOrDatumDef2:n,bandPosition:c,offset:l});Z(lse(e===zt?Rs:Na))}}return Zf(t,o,Ln(f)?{binSuffix:"range"}:{},{offset:l,band:f==="band"?c??t.bandPosition??.5:void 0})}else if($s(t)){const f=t.value,d=l?{offset:l}:{};return{...My(e,f),...d}}}return Ne(u)&&(u=u()),u&&{...u,...l?{offset:l}:{}}}function My(e,t){return ze(["x","x2"],e)&&t==="width"?{field:{group:"width"}}:ze(["y","y2"],e)&&t==="height"?{field:{group:"height"}}:Pt(t)}function Ed(e){return e&&e!=="number"&&e!=="time"}function Ose(e,t,n){return`${e}(${t}${n?`, ${bt(n)}`:""})`}const UGe=" – ";function $8({fieldOrDatumDef:e,format:t,formatType:n,expr:r,normalizeStack:i,config:o}){var l,u;if(Ed(n))return gs({fieldOrDatumDef:e,format:t,formatType:n,expr:r,config:o});const s=Nse(e,r,i),a=Mg(e);if(t===void 0&&n===void 0&&o.customFormatTypes){if(a==="quantitative"){if(i&&o.normalizedNumberFormatType)return gs({fieldOrDatumDef:e,format:o.normalizedNumberFormat,formatType:o.normalizedNumberFormatType,expr:r,config:o});if(o.numberFormatType)return gs({fieldOrDatumDef:e,format:o.numberFormat,formatType:o.numberFormatType,expr:r,config:o})}if(a==="temporal"&&o.timeFormatType&&J(e)&&e.timeUnit===void 0)return gs({fieldOrDatumDef:e,format:o.timeFormat,formatType:o.timeFormatType,expr:r,config:o})}if(Pg(e)){const c=WGe({field:s,timeUnit:J(e)?(l=In(e.timeUnit))==null?void 0:l.unit:void 0,format:t,formatType:o.timeFormatType,rawTimeFormat:o.timeFormat,isUTCScale:th(e)&&((u=e.scale)==null?void 0:u.type)===Yn.UTC});return c?{signal:c}:void 0}if(t=Z4({type:a,specifiedFormat:t,config:o,normalizeStack:i}),J(e)&&Et(e.bin)){const c=ie(e,{expr:r,binSuffix:"end"});return{signal:Kv(s,c,t,n,o)}}else return t||Mg(e)==="quantitative"?{signal:`${zse(s,t)}`}:{signal:`isValid(${s}) ? ${s} : ""+${s}`}}function Nse(e,t,n){return J(e)?n?`${ie(e,{expr:t,suffix:"end"})}-${ie(e,{expr:t,suffix:"start"})}`:ie(e,{expr:t}):jGe(e)}function gs({fieldOrDatumDef:e,format:t,formatType:n,expr:r,normalizeStack:i,config:o,field:s}){if(s??(s=Nse(e,r,i)),s!=="datum.value"&&J(e)&&Et(e.bin)){const a=ie(e,{expr:r,binSuffix:"end"});return{signal:Kv(s,a,t,n,o)}}return{signal:Ose(n,s,t)}}function Ise(e,t,n,r,i,o){var s;if(!(le(r)&&Ed(r))&&!(n===void 0&&r===void 0&&i.customFormatTypes&&Mg(e)==="quantitative"&&(i.normalizedNumberFormatType&&Fg(e)&&e.stack==="normalize"||i.numberFormatType))){if(Fg(e)&&e.stack==="normalize"&&i.normalizedNumberFormat)return Z4({type:"quantitative",config:i,normalizeStack:!0});if(Pg(e)){const a=J(e)?(s=In(e.timeUnit))==null?void 0:s.unit:void 0;return a===void 0&&i.customFormatTypes&&i.timeFormatType?void 0:VGe({specifiedFormat:n,timeUnit:a,config:i,omitTimeFormatConfig:o})}return Z4({type:t,specifiedFormat:n,config:i})}}function Lse(e,t,n){var r;if(e&&(me(e)||e==="number"||e==="time"))return e;if(Pg(t)&&n!=="time"&&n!=="utc")return J(t)&&((r=In(t==null?void 0:t.timeUnit))!=null&&r.utc)?"utc":"time"}function Z4({type:e,specifiedFormat:t,config:n,normalizeStack:r}){if(le(t))return t;if(e===Cd)return r?n.normalizedNumberFormat:n.numberFormat}function VGe({specifiedFormat:e,timeUnit:t,config:n,omitTimeFormatConfig:r}){return e||(t?{signal:mse(t)}:r?void 0:n.timeFormat)}function zse(e,t){return`format(${e}, "${t||""}")`}function VU(e,t,n,r){return Ed(n)?Ose(n,e,t):zse(e,(le(t)?t:void 0)??r.numberFormat)}function Kv(e,t,n,r,i){if(n===void 0&&r===void 0&&i.customFormatTypes&&i.numberFormatType)return Kv(e,t,i.numberFormat,i.numberFormatType,i);const o=VU(e,n,r,i),s=VU(t,n,r,i);return`${B_(e,!1)} ? "null" : ${o} + "${UGe}" + ${s}`}function WGe({field:e,timeUnit:t,format:n,formatType:r,rawTimeFormat:i,isUTCScale:o}){return!t||n?!t&&r?`${r}(${e}, '${n}')`:(n=le(n)?n:i,`${o?"utc":"time"}Format(${e}, '${n}')`):Zqe(t,e,o)}const q_="min",HGe={x:1,y:1,color:1,fill:1,stroke:1,strokeWidth:1,size:1,shape:1,fillOpacity:1,strokeOpacity:1,opacity:1,text:1};function WU(e){return ce(HGe,e)}function qGe(e){return K(e,"encoding")}function kl(e){return e&&(e.op==="count"||K(e,"field"))}function jse(e){return e&&G(e)}function Qv(e){return K(e,"row")||K(e,"column")}function A8(e){return K(e,"header")}function G_(e){return K(e,"facet")}function GGe(e){return K(e,"param")}function YGe(e){return!le(e)&&K(e,"repeat")}function HU(e){const{field:t,timeUnit:n,bin:r,aggregate:i}=e;return{...n?{timeUnit:n}:{},...r?{bin:r}:{},...i?{aggregate:i}:{},field:t}}function T8(e){return K(e,"sort")}function bc({fieldDef:e,fieldDef2:t,markDef:n,config:r}){if(Pe(e)&&e.bandPosition!==void 0)return e.bandPosition;if(J(e)){const{timeUnit:i,bin:o}=e;if(i&&!t)return Ea("timeUnitBandPosition",n,r);if(Et(o))return .5}}function Bse({channel:e,fieldDef:t,fieldDef2:n,markDef:r,config:i,scaleType:o,useVlSizeChannel:s}){var u,c,f;const a=_i(e),l=mt(s?"size":a,r,i,{vgChannel:a});if(l!==void 0)return l;if(J(t)){const{timeUnit:d,bin:h}=t;if(d&&!n)return{band:Ea("timeUnitBandSize",r,i)};if(Et(h)&&!Ln(o))return{band:1}}if(R1(r.type))return o?Ln(o)?((u=i[r.type])==null?void 0:u.discreteBandSize)||{band:1}:(c=i[r.type])==null?void 0:c.continuousBandSize:(f=i[r.type])==null?void 0:f.discreteBandSize}function Use(e,t,n,r){return Et(e.bin)||e.timeUnit&&Zr(e)&&e.type==="temporal"?bc({fieldDef:e,fieldDef2:t,markDef:n,config:r})!==void 0:!1}function Vse(e){return K(e,"sort")&&!K(e,"field")}function Zv(e){return K(e,"condition")}function Y_(e){const t=e==null?void 0:e.condition;return!!t&&!G(t)&&J(t)}function Jv(e){const t=e==null?void 0:e.condition;return!!t&&!G(t)&&Pe(t)}function XGe(e){const t=e==null?void 0:e.condition;return!!t&&(G(t)||$s(t))}function J(e){return K(e,"field")||(e==null?void 0:e.aggregate)==="count"}function Mg(e){return e==null?void 0:e.type}function Ba(e){return K(e,"datum")}function zu(e){return Zr(e)&&!ok(e)||ik(e)}function qU(e){return Zr(e)&&e.type==="quantitative"&&!e.bin||ik(e)}function ik(e){return Ba(e)&&Ze(e.datum)}function Pe(e){return J(e)||Ba(e)}function Zr(e){return e&&(K(e,"field")||e.aggregate==="count")&&K(e,"type")}function $s(e){return K(e,"value")}function th(e){return K(e,"scale")||K(e,"sort")}function Fg(e){return K(e,"axis")||K(e,"stack")||K(e,"impute")}function Wse(e){return K(e,"legend")}function Hse(e){return K(e,"format")||K(e,"formatType")}function KGe(e){return mi(e,["legend","axis","header","scale"])}function QGe(e){return K(e,"op")}function ie(e,t={}){let n=e.field;const r=t.prefix;let i=t.suffix,o="";if(JGe(e))n=Doe("count");else{let s;if(!t.nofn)if(QGe(e))s=e.op;else{const{bin:a,aggregate:l,timeUnit:u}=e;Et(a)?(s=Yoe(a),i=(t.binSuffix??"")+(t.suffix??"")):l?zc(l)?(o=`["${n}"]`,n=`argmax_${l.argmax}`):Nl(l)?(o=`["${n}"]`,n=`argmin_${l.argmin}`):s=String(l):u&&!eh(u)&&(s=Jqe(u),i=(!["range","mid"].includes(t.binSuffix)&&t.binSuffix||"")+(t.suffix??""))}s&&(n=n?`${s}_${n}`:s)}return i&&(n=`${n}_${i}`),r&&(n=`${r}_${n}`),t.forAs?fm(n):t.expr?Foe(n,t.expr)+o:Lo(n)+o}function ok(e){switch(e.type){case"nominal":case"ordinal":case"geojson":return!0;case"quantitative":return J(e)&&!!e.bin;case"temporal":return!1}throw new Error(ise(e.type))}function ZGe(e){var t;return th(e)&&Tg((t=e.scale)==null?void 0:t.type)}function JGe(e){return e.aggregate==="count"}function eYe(e,t){var s;const{field:n,bin:r,timeUnit:i,aggregate:o}=e;if(o==="count")return t.countTitle;if(Et(r))return`${n} (binned)`;if(i&&!eh(i)){const a=(s=In(i))==null?void 0:s.unit;if(a)return`${n} (${j_(a).join("-")})`}else if(o)return zc(o)?`${n} for max ${o.argmax}`:Nl(o)?`${n} for min ${o.argmin}`:`${Wv(o)} of ${n}`;return n}function tYe(e){const{aggregate:t,bin:n,timeUnit:r,field:i}=e;if(zc(t))return`${i} for argmax(${t.argmax})`;if(Nl(t))return`${i} for argmin(${t.argmin})`;const o=r&&!eh(r)?In(r):void 0,s=t||(o==null?void 0:o.unit)||(o==null?void 0:o.maxbins)&&"timeunit"||Et(n)&&"bin";return s?`${s.toUpperCase()}(${i})`:i}const qse=(e,t)=>{switch(t.fieldTitle){case"plain":return e.field;case"functional":return tYe(e);default:return eYe(e,t)}};let Gse=qse;function Yse(e){Gse=e}function nYe(){Yse(qse)}function kp(e,t,{allowDisabling:n,includeDefault:r=!0}){var a;const i=(a=M8(e))==null?void 0:a.title;if(!J(e))return i??e.title;const o=e,s=r?F8(o,t):void 0;return n?ln(i,o.title,s):i??o.title??s}function M8(e){if(Fg(e)&&e.axis)return e.axis;if(Wse(e)&&e.legend)return e.legend;if(A8(e)&&e.header)return e.header}function F8(e,t){return Gse(e,t)}function sk(e){if(Hse(e)){const{format:t,formatType:n}=e;return{format:t,formatType:n}}else{const t=M8(e)??{},{format:n,formatType:r}=t;return{format:n,formatType:r}}}function rYe(e,t){var o;switch(t){case"latitude":case"longitude":return"quantitative";case"row":case"column":case"facet":case"shape":case"strokeDash":return"nominal";case"order":return"ordinal"}if(T8(e)&&G(e.sort))return"ordinal";const{aggregate:n,bin:r,timeUnit:i}=e;if(i)return"temporal";if(r||n&&!zc(n)&&!Nl(n))return"quantitative";if(th(e)&&((o=e.scale)!=null&&o.type))switch(K4[e.scale.type]){case"numeric":case"discretizing":return"quantitative";case"time":return"temporal"}return"nominal"}function As(e){if(J(e))return e;if(Y_(e))return e.condition}function Sn(e){if(Pe(e))return e;if(Jv(e))return e.condition}function Xse(e,t,n,r={}){if(le(e)||Ze(e)||$c(e)){const i=le(e)?"string":Ze(e)?"number":"boolean";return Z(nqe(t,i,e)),{value:e}}return Pe(e)?ak(e,t,n,r):Jv(e)?{...e,condition:ak(e.condition,t,n,r)}:e}function ak(e,t,n,r){if(Hse(e)){const{format:i,formatType:o,...s}=e;if(Ed(o)&&!n.customFormatTypes)return Z(LU(t)),ak(s,t,n,r)}else{const i=Fg(e)?"axis":Wse(e)?"legend":A8(e)?"header":null;if(i&&e[i]){const{format:o,formatType:s,...a}=e[i];if(Ed(s)&&!n.customFormatTypes)return Z(LU(t)),ak({...e,[i]:a},t,n,r)}}return J(e)?P8(e,t,r):iYe(e)}function iYe(e){let t=e.type;if(t)return e;const{datum:n}=e;return t=Ze(n)?"quantitative":le(n)?"nominal":Jd(n)?"temporal":void 0,{...e,type:t}}function P8(e,t,{compositeMark:n=!1}={}){const{aggregate:r,timeUnit:i,bin:o,field:s}=e,a={...e};if(!n&&r&&!o8(r)&&!zc(r)&&!Nl(r)&&(Z(iqe(r)),delete a.aggregate),i&&(a.timeUnit=In(i)),s&&(a.field=`${s}`),Et(o)&&(a.bin=X_(o,t)),Hn(o)&&!un(t)&&Z(Nqe(t)),Zr(a)){const{type:l}=a,u=aGe(l);l!==u&&(a.type=u),l!=="quantitative"&&I_(r)&&(Z(rqe(l,r)),a.type="quantitative")}else if(!Uoe(t)){const l=rYe(a,t);a.type=l}if(Zr(a)){const{compatible:l,warning:u}=oYe(a,t)||{};l===!1&&Z(u)}if(T8(a)&&le(a.sort)){const{sort:l}=a;if(WU(l))return{...a,sort:{encoding:l}};const u=l.substring(1);if(l.charAt(0)==="-"&&WU(u))return{...a,sort:{encoding:u,order:"descending"}}}if(A8(a)){const{header:l}=a;if(l){const{orient:u,...c}=l;if(u)return{...a,header:{...c,labelOrient:l.labelOrient||u,titleOrient:l.titleOrient||u}}}}return a}function X_(e,t){return $c(e)?{maxbins:TU(t)}:e==="binned"?{binned:!0}:!e.maxbins&&!e.step?{...e,maxbins:TU(t)}:e}const Sh={compatible:!0};function oYe(e,t){const n=e.type;if(n==="geojson"&&t!=="shape")return{compatible:!1,warning:`Channel ${t} should not be used with a geojson data.`};switch(t){case wl:case Sl:case F_:return ok(e)?Sh:{compatible:!1,warning:lqe(t)};case zt:case Un:case Dc:case dm:case ki:case Ia:case La:case Hv:case qv:case P_:case Sd:case R_:case D_:case Xd:case Bo:case Ds:case O_:return Sh;case Ns:case zo:case Os:case Is:return n!==Cd?{compatible:!1,warning:`Channel ${t} should be used with a quantitative field only, not ${e.type} field.`}:Sh;case Yl:case Oc:case Nc:case Ic:case Gl:case ql:case Hl:case Rs:case Na:return n==="nominal"&&!e.sort?{compatible:!1,warning:`Channel ${t} should not be used with an unsorted discrete field.`}:Sh;case Ci:case Lc:return!ok(e)&&!ZGe(e)?{compatible:!1,warning:uqe(t)}:Sh;case Eg:return e.type==="nominal"&&!("sort"in e)?{compatible:!1,warning:"Channel order is inappropriate for nominal field, which has no inherent order."}:Sh}}function Pg(e){const{formatType:t}=sk(e);return t==="time"||!t&&sYe(e)}function sYe(e){return e&&(e.type==="temporal"||J(e)&&!!e.timeUnit)}function K_(e,{timeUnit:t,type:n,wrapTime:r,undefinedIfExprNotRequired:i}){var l;const o=t&&((l=In(t))==null?void 0:l.unit);let s=o||n==="temporal",a;return Yv(e)?a=e.expr:me(e)?a=e.signal:Jd(e)?(s=!0,a=kd(e)):(le(e)||Ze(e))&&s&&(a=`datetime(${bt(e)})`,Yqe(o)&&(Ze(e)&&e<1e4||le(e)&&isNaN(Date.parse(e)))&&(a=kd({[o]:e}))),a?r&&s?`time(${a})`:a:i?void 0:bt(e)}function Kse(e,t){const{type:n}=e;return t.map(r=>{const i=J(e)&&!eh(e.timeUnit)?e.timeUnit:void 0,o=K_(r,{timeUnit:i,type:n,undefinedIfExprNotRequired:!0});return o!==void 0?{signal:o}:r})}function eb(e,t){return Et(e.bin)?ja(t)&&["ordinal","nominal"].includes(e.type):(console.warn("Only call this method for binned field defs."),!1)}const GU={labelAlign:{part:"labels",vgProp:"align"},labelBaseline:{part:"labels",vgProp:"baseline"},labelColor:{part:"labels",vgProp:"fill"},labelFont:{part:"labels",vgProp:"font"},labelFontSize:{part:"labels",vgProp:"fontSize"},labelFontStyle:{part:"labels",vgProp:"fontStyle"},labelFontWeight:{part:"labels",vgProp:"fontWeight"},labelOpacity:{part:"labels",vgProp:"opacity"},labelOffset:null,labelPadding:null,gridColor:{part:"grid",vgProp:"stroke"},gridDash:{part:"grid",vgProp:"strokeDash"},gridDashOffset:{part:"grid",vgProp:"strokeDashOffset"},gridOpacity:{part:"grid",vgProp:"opacity"},gridWidth:{part:"grid",vgProp:"strokeWidth"},tickColor:{part:"ticks",vgProp:"stroke"},tickDash:{part:"ticks",vgProp:"strokeDash"},tickDashOffset:{part:"ticks",vgProp:"strokeDashOffset"},tickOpacity:{part:"ticks",vgProp:"opacity"},tickSize:null,tickWidth:{part:"ticks",vgProp:"strokeWidth"}};function tb(e){return e==null?void 0:e.condition}const Qse=["domain","grid","labels","ticks","title"],aYe={grid:"grid",gridCap:"grid",gridColor:"grid",gridDash:"grid",gridDashOffset:"grid",gridOpacity:"grid",gridScale:"grid",gridWidth:"grid",orient:"main",bandPosition:"both",aria:"main",description:"main",domain:"main",domainCap:"main",domainColor:"main",domainDash:"main",domainDashOffset:"main",domainOpacity:"main",domainWidth:"main",format:"main",formatType:"main",labelAlign:"main",labelAngle:"main",labelBaseline:"main",labelBound:"main",labelColor:"main",labelFlush:"main",labelFlushOffset:"main",labelFont:"main",labelFontSize:"main",labelFontStyle:"main",labelFontWeight:"main",labelLimit:"main",labelLineHeight:"main",labelOffset:"main",labelOpacity:"main",labelOverlap:"main",labelPadding:"main",labels:"main",labelSeparation:"main",maxExtent:"main",minExtent:"main",offset:"both",position:"main",tickCap:"main",tickColor:"main",tickDash:"main",tickDashOffset:"main",tickMinStep:"both",tickOffset:"both",tickOpacity:"main",tickRound:"both",ticks:"main",tickSize:"main",tickWidth:"both",title:"main",titleAlign:"main",titleAnchor:"main",titleAngle:"main",titleBaseline:"main",titleColor:"main",titleFont:"main",titleFontSize:"main",titleFontStyle:"main",titleFontWeight:"main",titleLimit:"main",titleLineHeight:"main",titleOpacity:"main",titlePadding:"main",titleX:"main",titleY:"main",encode:"both",scale:"both",tickBand:"both",tickCount:"both",tickExtra:"both",translate:"both",values:"both",zindex:"both"},Zse={orient:1,aria:1,bandPosition:1,description:1,domain:1,domainCap:1,domainColor:1,domainDash:1,domainDashOffset:1,domainOpacity:1,domainWidth:1,format:1,formatType:1,grid:1,gridCap:1,gridColor:1,gridDash:1,gridDashOffset:1,gridOpacity:1,gridWidth:1,labelAlign:1,labelAngle:1,labelBaseline:1,labelBound:1,labelColor:1,labelFlush:1,labelFlushOffset:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelLineHeight:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labels:1,labelSeparation:1,maxExtent:1,minExtent:1,offset:1,position:1,tickBand:1,tickCap:1,tickColor:1,tickCount:1,tickDash:1,tickDashOffset:1,tickExtra:1,tickMinStep:1,tickOffset:1,tickOpacity:1,tickRound:1,ticks:1,tickSize:1,tickWidth:1,title:1,titleAlign:1,titleAnchor:1,titleAngle:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titlePadding:1,titleX:1,titleY:1,translate:1,values:1,zindex:1},lYe={...Zse,style:1,labelExpr:1,encoding:1};function YU(e){return ce(lYe,e)}const uYe={axis:1,axisBand:1,axisBottom:1,axisDiscrete:1,axisLeft:1,axisPoint:1,axisQuantitative:1,axisRight:1,axisTemporal:1,axisTop:1,axisX:1,axisXBand:1,axisXDiscrete:1,axisXPoint:1,axisXQuantitative:1,axisXTemporal:1,axisY:1,axisYBand:1,axisYDiscrete:1,axisYPoint:1,axisYQuantitative:1,axisYTemporal:1},Jse=X(uYe);function Kl(e){return K(e,"mark")}class Q_{constructor(t,n){this.name=t,this.run=n}hasMatchingType(t){return Kl(t)?IGe(t.mark)===this.name:!1}}function Jf(e,t){const n=e&&e[t];return n?G(n)?Cg(n,r=>!!r.field):J(n)||Y_(n):!1}function eae(e,t){const n=e&&e[t];return n?G(n)?Cg(n,r=>!!r.field):J(n)||Ba(n)||Jv(n):!1}function tae(e,t){if(un(t)){const n=e[t];if((J(n)||Ba(n))&&(wse(n.type)||J(n)&&n.timeUnit)){const r=e8(t);return eae(e,r)}}return!1}function nae(e){return Cg(lHe,t=>{if(Jf(e,t)){const n=e[t];if(G(n))return Cg(n,r=>!!r.aggregate);{const r=As(n);return r&&!!r.aggregate}}return!1})}function rae(e,t){const n=[],r=[],i=[],o=[],s={};return R8(e,(a,l)=>{if(J(a)){const{field:u,aggregate:c,bin:f,timeUnit:d,...h}=a;if(c||d||f){const p=M8(a),g=p==null?void 0:p.title;let m=ie(a,{forAs:!0});const y={...g?[]:{title:kp(a,t,{allowDisabling:!0})},...h,field:m};if(c){let v;if(zc(c)?(v="argmax",m=ie({op:"argmax",field:c.argmax},{forAs:!0}),y.field=`${m}.${u}`):Nl(c)?(v="argmin",m=ie({op:"argmin",field:c.argmin},{forAs:!0}),y.field=`${m}.${u}`):c!=="boxplot"&&c!=="errorbar"&&c!=="errorband"&&(v=c),v){const b={op:v,as:m};u&&(b.field=u),o.push(b)}}else if(n.push(m),Zr(a)&&Et(f)){if(r.push({bin:f,field:u,as:m}),n.push(ie(a,{binSuffix:"end"})),eb(a,l)&&n.push(ie(a,{binSuffix:"range"})),un(l)){const v={field:`${m}_end`};s[`${l}2`]=v}y.bin="binned",Uoe(l)||(y.type=Cd)}else if(d&&!eh(d)){i.push({timeUnit:d,field:u,as:m});const v=Zr(a)&&a.type!==Ag&&"time";v&&(l===Hv||l===Sd?y.formatType=v:vHe(l)?y.legend={formatType:v,...y.legend}:un(l)&&(y.axis={formatType:v,...y.axis}))}s[l]=y}else n.push(u),s[l]=e[l]}else s[l]=e[l]}),{bins:r,timeUnits:i,aggregate:o,groupby:n,encoding:s}}function cYe(e,t,n){const r=xHe(t,n);if(r){if(r==="binned"){const i=e[t===Rs?zt:Un];return!!(J(i)&&J(e[t])&&Hn(i.bin))}}else return!1;return!0}function fYe(e,t,n,r){const i={};for(const o of X(e))Boe(o)||Z(aqe(o));for(let o of pHe){if(!e[o])continue;const s=e[o];if(Gv(o)){const a=hHe(o),l=i[a];if(J(l)&&sGe(l.type)&&J(s)&&!l.timeUnit){Z(tqe(a));continue}}if(o==="angle"&&t==="arc"&&!e.theta&&(Z(eqe),o=Bo),!cYe(e,o,t)){Z(z_(o,t));continue}if(o===Gl&&t==="line"){const a=As(e[o]);if(a!=null&&a.aggregate){Z(sqe);continue}}if(o===ki&&(n?"fill"in e:"stroke"in e)){Z(ose("encoding",{fill:"fill"in e,stroke:"stroke"in e}));continue}if(o===qv||o===Eg&&!G(s)&&!$s(s)||o===Sd&&G(s)){if(s){if(o===Eg){const a=e[o];if(Vse(a)){i[o]=a;continue}}i[o]=ae(s).reduce((a,l)=>(J(l)?a.push(P8(l,o)):Z(X4(l,o)),a),[])}}else{if(o===Sd&&s===null)i[o]=null;else if(!J(s)&&!Ba(s)&&!$s(s)&&!Zv(s)&&!me(s)){Z(X4(s,o));continue}i[o]=Xse(s,o,r)}}return i}function Z_(e,t){const n={};for(const r of X(e)){const i=Xse(e[r],r,t,{compositeMark:!0});n[r]=i}return n}function dYe(e){const t=[];for(const n of X(e))if(Jf(e,n)){const r=e[n],i=ae(r);for(const o of i)J(o)?t.push(o):Y_(o)&&t.push(o.condition)}return t}function R8(e,t,n){if(e)for(const r of X(e)){const i=e[r];if(G(i))for(const o of i)t.call(n,o,r);else t.call(n,i,r)}}function hYe(e,t,n,r){return e?X(e).reduce((i,o)=>{const s=e[o];return G(s)?s.reduce((a,l)=>t.call(r,a,l,o),i):t.call(r,i,s,o)},n):n}function iae(e,t){return X(t).reduce((n,r)=>{switch(r){case zt:case Un:case R_:case O_:case D_:case Rs:case Na:case Dc:case dm:case Bo:case ql:case Ds:case Hl:case Os:case Ns:case Is:case zo:case Hv:case Ci:case Xd:case Sd:return n;case Eg:if(e==="line"||e==="trail")return n;case qv:case P_:{const i=t[r];if(G(i)||J(i))for(const o of ae(i))o.aggregate||n.push(ie(o,{}));return n}case Gl:if(e==="trail")return n;case ki:case Ia:case La:case Yl:case Oc:case Nc:case Lc:case Ic:{const i=As(t[r]);return i&&!i.aggregate&&n.push(ie(i,{})),n}}},[])}function pYe(e){const{tooltip:t,...n}=e;if(!t)return{filteredEncoding:n};let r,i;if(G(t)){for(const o of t)o.aggregate?(r||(r=[]),r.push(o)):(i||(i=[]),i.push(o));r&&(n.tooltip=r)}else t.aggregate?n.tooltip=t:i=t;return G(i)&&i.length===1&&(i=i[0]),{customTooltipWithoutAggregatedField:i,filteredEncoding:n}}function J4(e,t,n,r=!0){if("tooltip"in n)return{tooltip:n.tooltip};const i=e.map(({fieldPrefix:s,titlePrefix:a})=>{const l=r?` of ${D8(t)}`:"";return{field:s+t.field,type:t.type,title:me(a)?{signal:`${a}"${escape(l)}"`}:a+l}}),o=dYe(n).map(KGe);return{tooltip:[...i,...la(o,Be)]}}function D8(e){const{title:t,field:n}=e;return ln(t,n)}function O8(e,t,n,r,i){const{scale:o,axis:s}=n;return({partName:a,mark:l,positionPrefix:u,endPositionPrefix:c=void 0,extraEncoding:f={}})=>{const d=D8(n);return oae(e,a,i,{mark:l,encoding:{[t]:{field:`${u}_${n.field}`,type:n.type,...d!==void 0?{title:d}:{},...o!==void 0?{scale:o}:{},...s!==void 0?{axis:s}:{}},...le(c)?{[`${t}2`]:{field:`${c}_${n.field}`}}:{},...r,...f}})}}function oae(e,t,n,r){const{clip:i,color:o,opacity:s}=e,a=e.type;return e[t]||e[t]===void 0&&n[t]?[{...r,mark:{...n[t],...i?{clip:i}:{},...o?{color:o}:{},...s?{opacity:s}:{},...$a(r.mark)?r.mark:{type:r.mark},style:`${a}-${String(t)}`,...$c(e[t])?{}:e[t]}}]:[]}function sae(e,t,n){const{encoding:r}=e,i=t==="vertical"?"y":"x",o=r[i],s=r[`${i}2`],a=r[`${i}Error`],l=r[`${i}Error2`];return{continuousAxisChannelDef:kx(o,n),continuousAxisChannelDef2:kx(s,n),continuousAxisChannelDefError:kx(a,n),continuousAxisChannelDefError2:kx(l,n),continuousAxis:i}}function kx(e,t){if(e!=null&&e.aggregate){const{aggregate:n,...r}=e;return n!==t&&Z(Oqe(n,t)),r}else return e}function aae(e,t){const{mark:n,encoding:r}=e,{x:i,y:o}=r;if($a(n)&&n.orient)return n.orient;if(zu(i)){if(zu(o)){const s=J(i)&&i.aggregate,a=J(o)&&o.aggregate;if(!s&&a===t)return"vertical";if(!a&&s===t)return"horizontal";if(s===t&&a===t)throw new Error("Both x and y cannot have aggregate");return Pg(o)&&!Pg(i)?"horizontal":"vertical"}return"horizontal"}else{if(zu(o))return"vertical";throw new Error(`Need a valid continuous axis for ${t}s`)}}const lk="boxplot",gYe=["box","median","outliers","rule","ticks"],mYe=new Q_(lk,uae);function lae(e){return Ze(e)?"tukey":e}function uae(e,{config:t}){e={...e,encoding:Z_(e.encoding,t)};const{mark:n,encoding:r,params:i,projection:o,...s}=e,a=$a(n)?n:{type:n};i&&Z(rse("boxplot"));const l=a.extent??t.boxplot.extent,u=mt("size",a,t),c=a.invalid,f=lae(l),{bins:d,timeUnits:h,transform:p,continuousAxisChannelDef:g,continuousAxis:m,groupby:y,aggregate:v,encodingWithoutContinuousAxis:b,ticksOrient:x,boxOrient:w,customTooltipWithoutAggregatedField:k}=yYe(e,l,t),S=fm(g.field),{color:C,size:_,...$}=b,A=ih=>O8(a,m,g,ih,t.boxplot),O=A($),M=A(b),P=(se(t.boxplot.box)?t.boxplot.box.color:t.mark.color)||"#4c78a8",R=A({...$,..._?{size:_}:{},color:{condition:{test:`datum['lower_box_${g.field}'] >= datum['upper_box_${g.field}']`,...C||{value:P}}}}),D=J4([{fieldPrefix:f==="min-max"?"upper_whisker_":"max_",titlePrefix:"Max"},{fieldPrefix:"upper_box_",titlePrefix:"Q3"},{fieldPrefix:"mid_box_",titlePrefix:"Median"},{fieldPrefix:"lower_box_",titlePrefix:"Q1"},{fieldPrefix:f==="min-max"?"lower_whisker_":"min_",titlePrefix:"Min"}],g,b),I={type:"tick",color:"black",opacity:1,orient:x,invalid:c,aria:!1},N=f==="min-max"?D:J4([{fieldPrefix:"upper_whisker_",titlePrefix:"Upper Whisker"},{fieldPrefix:"lower_whisker_",titlePrefix:"Lower Whisker"}],g,b),B=[...O({partName:"rule",mark:{type:"rule",invalid:c,aria:!1},positionPrefix:"lower_whisker",endPositionPrefix:"lower_box",extraEncoding:N}),...O({partName:"rule",mark:{type:"rule",invalid:c,aria:!1},positionPrefix:"upper_box",endPositionPrefix:"upper_whisker",extraEncoding:N}),...O({partName:"ticks",mark:I,positionPrefix:"lower_whisker",extraEncoding:N}),...O({partName:"ticks",mark:I,positionPrefix:"upper_whisker",extraEncoding:N})],Y=[...f!=="tukey"?B:[],...M({partName:"box",mark:{type:"bar",...u?{size:u}:{},orient:w,invalid:c,ariaRoleDescription:"box"},positionPrefix:"lower_box",endPositionPrefix:"upper_box",extraEncoding:D}),...R({partName:"median",mark:{type:"tick",invalid:c,...se(t.boxplot.median)&&t.boxplot.median.color?{color:t.boxplot.median.color}:{},...u?{size:u}:{},orient:x,aria:!1},positionPrefix:"mid_box",extraEncoding:D})];if(f==="min-max")return{...s,transform:(s.transform??[]).concat(p),layer:Y};const W=`datum["lower_box_${g.field}"]`,oe=`datum["upper_box_${g.field}"]`,re=`(${oe} - ${W})`,we=`${W} - ${l} * ${re}`,De=`${oe} + ${l} * ${re}`,ut=`datum["${g.field}"]`,$n={joinaggregate:cae(g.field),groupby:y},sr={transform:[{filter:`(${we} <= ${ut}) && (${ut} <= ${De})`},{aggregate:[{op:"min",field:g.field,as:`lower_whisker_${S}`},{op:"max",field:g.field,as:`upper_whisker_${S}`},{op:"min",field:`lower_box_${g.field}`,as:`lower_box_${S}`},{op:"max",field:`upper_box_${g.field}`,as:`upper_box_${S}`},...v],groupby:y}],layer:B},{tooltip:ue,...$e}=$,{scale:Ae,axis:Q}=g,mn=D8(g),tt=mi(Q,["title"]),An=oae(a,"outliers",t.boxplot,{transform:[{filter:`(${ut} < ${we}) || (${ut} > ${De})`}],mark:"point",encoding:{[m]:{field:g.field,type:g.type,...mn!==void 0?{title:mn}:{},...Ae!==void 0?{scale:Ae}:{},...vt(tt)?{}:{axis:tt}},...$e,...C?{color:C}:{},...k?{tooltip:k}:{}}})[0];let fn;const oo=[...d,...h,$n];return An?fn={transform:oo,layer:[An,sr]}:(fn=sr,fn.transform.unshift(...oo)),{...s,layer:[fn,{transform:p,layer:Y}]}}function cae(e){const t=fm(e);return[{op:"q1",field:e,as:`lower_box_${t}`},{op:"q3",field:e,as:`upper_box_${t}`}]}function yYe(e,t,n){const r=aae(e,lk),{continuousAxisChannelDef:i,continuousAxis:o}=sae(e,r,lk),s=i.field,a=fm(s),l=lae(t),u=[...cae(s),{op:"median",field:s,as:`mid_box_${a}`},{op:"min",field:s,as:(l==="min-max"?"lower_whisker_":"min_")+a},{op:"max",field:s,as:(l==="min-max"?"upper_whisker_":"max_")+a}],c=l==="min-max"||l==="tukey"?[]:[{calculate:`datum["upper_box_${a}"] - datum["lower_box_${a}"]`,as:`iqr_${a}`},{calculate:`min(datum["upper_box_${a}"] + datum["iqr_${a}"] * ${t}, datum["max_${a}"])`,as:`upper_whisker_${a}`},{calculate:`max(datum["lower_box_${a}"] - datum["iqr_${a}"] * ${t}, datum["min_${a}"])`,as:`lower_whisker_${a}`}],{[o]:f,...d}=e.encoding,{customTooltipWithoutAggregatedField:h,filteredEncoding:p}=pYe(d),{bins:g,timeUnits:m,aggregate:y,groupby:v,encoding:b}=rae(p,n),x=r==="vertical"?"horizontal":"vertical",w=r,k=[...g,...m,{aggregate:[...y,...u],groupby:v},...c];return{bins:g,timeUnits:m,transform:k,groupby:v,aggregate:y,continuousAxisChannelDef:i,continuousAxis:o,encodingWithoutContinuousAxis:b,ticksOrient:x,boxOrient:w,customTooltipWithoutAggregatedField:h}}const N8="errorbar",vYe=["ticks","rule"],bYe=new Q_(N8,fae);function fae(e,{config:t}){e={...e,encoding:Z_(e.encoding,t)};const{transform:n,continuousAxisChannelDef:r,continuousAxis:i,encodingWithoutContinuousAxis:o,ticksOrient:s,markDef:a,outerSpec:l,tooltipEncoding:u}=dae(e,N8,t);delete o.size;const c=O8(a,i,r,o,t.errorbar),f=a.thickness,d=a.size,h={type:"tick",orient:s,aria:!1,...f!==void 0?{thickness:f}:{},...d!==void 0?{size:d}:{}},p=[...c({partName:"ticks",mark:h,positionPrefix:"lower",extraEncoding:u}),...c({partName:"ticks",mark:h,positionPrefix:"upper",extraEncoding:u}),...c({partName:"rule",mark:{type:"rule",ariaRoleDescription:"errorbar",...f!==void 0?{size:f}:{}},positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:u})];return{...l,transform:n,...p.length>1?{layer:p}:{...p[0]}}}function xYe(e,t){const{encoding:n}=e;if(wYe(n))return{orient:aae(e,t),inputType:"raw"};const r=SYe(n),i=kYe(n),o=n.x,s=n.y;if(r){if(i)throw new Error(`${t} cannot be both type aggregated-upper-lower and aggregated-error`);const a=n.x2,l=n.y2;if(Pe(a)&&Pe(l))throw new Error(`${t} cannot have both x2 and y2`);if(Pe(a)){if(zu(o))return{orient:"horizontal",inputType:"aggregated-upper-lower"};throw new Error(`Both x and x2 have to be quantitative in ${t}`)}else if(Pe(l)){if(zu(s))return{orient:"vertical",inputType:"aggregated-upper-lower"};throw new Error(`Both y and y2 have to be quantitative in ${t}`)}throw new Error("No ranged axis")}else{const a=n.xError,l=n.xError2,u=n.yError,c=n.yError2;if(Pe(l)&&!Pe(a))throw new Error(`${t} cannot have xError2 without xError`);if(Pe(c)&&!Pe(u))throw new Error(`${t} cannot have yError2 without yError`);if(Pe(a)&&Pe(u))throw new Error(`${t} cannot have both xError and yError with both are quantiative`);if(Pe(a)){if(zu(o))return{orient:"horizontal",inputType:"aggregated-error"};throw new Error("All x, xError, and xError2 (if exist) have to be quantitative")}else if(Pe(u)){if(zu(s))return{orient:"vertical",inputType:"aggregated-error"};throw new Error("All y, yError, and yError2 (if exist) have to be quantitative")}throw new Error("No ranged axis")}}function wYe(e){return(Pe(e.x)||Pe(e.y))&&!Pe(e.x2)&&!Pe(e.y2)&&!Pe(e.xError)&&!Pe(e.xError2)&&!Pe(e.yError)&&!Pe(e.yError2)}function SYe(e){return Pe(e.x2)||Pe(e.y2)}function kYe(e){return Pe(e.xError)||Pe(e.xError2)||Pe(e.yError)||Pe(e.yError2)}function dae(e,t,n){const{mark:r,encoding:i,params:o,projection:s,...a}=e,l=$a(r)?r:{type:r};o&&Z(rse(t));const{orient:u,inputType:c}=xYe(e,t),{continuousAxisChannelDef:f,continuousAxisChannelDef2:d,continuousAxisChannelDefError:h,continuousAxisChannelDefError2:p,continuousAxis:g}=sae(e,u,t),{errorBarSpecificAggregate:m,postAggregateCalculates:y,tooltipSummary:v,tooltipTitleWithFieldName:b}=CYe(l,f,d,h,p,c,t,n),{[g]:x,[g==="x"?"x2":"y2"]:w,[g==="x"?"xError":"yError"]:k,[g==="x"?"xError2":"yError2"]:S,...C}=i,{bins:_,timeUnits:$,aggregate:A,groupby:O,encoding:M}=rae(C,n),P=[...A,...m],R=c!=="raw"?[]:O,D=J4(v,f,M,b);return{transform:[...a.transform??[],..._,...$,...P.length===0?[]:[{aggregate:P,groupby:R}],...y],groupby:R,continuousAxisChannelDef:f,continuousAxis:g,encodingWithoutContinuousAxis:M,ticksOrient:u==="vertical"?"horizontal":"vertical",markDef:l,outerSpec:a,tooltipEncoding:D}}function CYe(e,t,n,r,i,o,s,a){let l=[],u=[];const c=t.field;let f,d=!1;if(o==="raw"){const h=e.center?e.center:e.extent?e.extent==="iqr"?"median":"mean":a.errorbar.center,p=e.extent?e.extent:h==="mean"?"stderr":"iqr";if(h==="median"!=(p==="iqr")&&Z(Dqe(h,p,s)),p==="stderr"||p==="stdev")l=[{op:p,field:c,as:`extent_${c}`},{op:h,field:c,as:`center_${c}`}],u=[{calculate:`datum["center_${c}"] + datum["extent_${c}"]`,as:`upper_${c}`},{calculate:`datum["center_${c}"] - datum["extent_${c}"]`,as:`lower_${c}`}],f=[{fieldPrefix:"center_",titlePrefix:Wv(h)},{fieldPrefix:"upper_",titlePrefix:XU(h,p,"+")},{fieldPrefix:"lower_",titlePrefix:XU(h,p,"-")}],d=!0;else{let g,m,y;p==="ci"?(g="mean",m="ci0",y="ci1"):(g="median",m="q1",y="q3"),l=[{op:m,field:c,as:`lower_${c}`},{op:y,field:c,as:`upper_${c}`},{op:g,field:c,as:`center_${c}`}],f=[{fieldPrefix:"upper_",titlePrefix:kp({field:c,aggregate:y,type:"quantitative"},a,{allowDisabling:!1})},{fieldPrefix:"lower_",titlePrefix:kp({field:c,aggregate:m,type:"quantitative"},a,{allowDisabling:!1})},{fieldPrefix:"center_",titlePrefix:kp({field:c,aggregate:g,type:"quantitative"},a,{allowDisabling:!1})}]}}else{(e.center||e.extent)&&Z(Rqe(e.center,e.extent)),o==="aggregated-upper-lower"?(f=[],u=[{calculate:`datum["${n.field}"]`,as:`upper_${c}`},{calculate:`datum["${c}"]`,as:`lower_${c}`}]):o==="aggregated-error"&&(f=[{fieldPrefix:"",titlePrefix:c}],u=[{calculate:`datum["${c}"] + datum["${r.field}"]`,as:`upper_${c}`}],i?u.push({calculate:`datum["${c}"] + datum["${i.field}"]`,as:`lower_${c}`}):u.push({calculate:`datum["${c}"] - datum["${r.field}"]`,as:`lower_${c}`}));for(const h of u)f.push({fieldPrefix:h.as.substring(0,6),titlePrefix:wd(wd(h.calculate,'datum["',""),'"]',"")})}return{postAggregateCalculates:u,errorBarSpecificAggregate:l,tooltipSummary:f,tooltipTitleWithFieldName:d}}function XU(e,t,n){return`${Wv(e)} ${n} ${t}`}const I8="errorband",_Ye=["band","borders"],EYe=new Q_(I8,hae);function hae(e,{config:t}){e={...e,encoding:Z_(e.encoding,t)};const{transform:n,continuousAxisChannelDef:r,continuousAxis:i,encodingWithoutContinuousAxis:o,markDef:s,outerSpec:a,tooltipEncoding:l}=dae(e,I8,t),u=s,c=O8(u,i,r,o,t.errorband),f=e.encoding.x!==void 0&&e.encoding.y!==void 0;let d={type:f?"area":"rect"},h={type:f?"line":"rule"};const p={...u.interpolate?{interpolate:u.interpolate}:{},...u.tension&&u.interpolate?{tension:u.tension}:{}};return f?(d={...d,...p,ariaRoleDescription:"errorband"},h={...h,...p,aria:!1}):u.interpolate?Z(jU("interpolate")):u.tension&&Z(jU("tension")),{...a,transform:n,layer:[...c({partName:"band",mark:d,positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:l}),...c({partName:"borders",mark:h,positionPrefix:"lower",extraEncoding:l}),...c({partName:"borders",mark:h,positionPrefix:"upper",extraEncoding:l})]}}const pae={};function L8(e,t,n){const r=new Q_(e,t);pae[e]={normalizer:r,parts:n}}function $Ye(){return X(pae)}L8(lk,uae,gYe);L8(N8,fae,vYe);L8(I8,hae,_Ye);const AYe=["gradientHorizontalMaxLength","gradientHorizontalMinLength","gradientVerticalMaxLength","gradientVerticalMinLength","unselectedOpacity"],gae={titleAlign:"align",titleAnchor:"anchor",titleAngle:"angle",titleBaseline:"baseline",titleColor:"color",titleFont:"font",titleFontSize:"fontSize",titleFontStyle:"fontStyle",titleFontWeight:"fontWeight",titleLimit:"limit",titleLineHeight:"lineHeight",titleOrient:"orient",titlePadding:"offset"},mae={labelAlign:"align",labelAnchor:"anchor",labelAngle:"angle",labelBaseline:"baseline",labelColor:"color",labelFont:"font",labelFontSize:"fontSize",labelFontStyle:"fontStyle",labelFontWeight:"fontWeight",labelLimit:"limit",labelLineHeight:"lineHeight",labelOrient:"orient",labelPadding:"offset"},TYe=X(gae),MYe=X(mae),FYe={header:1,headerRow:1,headerColumn:1,headerFacet:1},yae=X(FYe),vae=["size","shape","fill","stroke","strokeDash","strokeWidth","opacity"],PYe={gradientHorizontalMaxLength:200,gradientHorizontalMinLength:100,gradientVerticalMaxLength:200,gradientVerticalMinLength:64,unselectedOpacity:.35},RYe={aria:1,clipHeight:1,columnPadding:1,columns:1,cornerRadius:1,description:1,direction:1,fillColor:1,format:1,formatType:1,gradientLength:1,gradientOpacity:1,gradientStrokeColor:1,gradientStrokeWidth:1,gradientThickness:1,gridAlign:1,labelAlign:1,labelBaseline:1,labelColor:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labelSeparation:1,legendX:1,legendY:1,offset:1,orient:1,padding:1,rowPadding:1,strokeColor:1,symbolDash:1,symbolDashOffset:1,symbolFillColor:1,symbolLimit:1,symbolOffset:1,symbolOpacity:1,symbolSize:1,symbolStrokeColor:1,symbolStrokeWidth:1,symbolType:1,tickCount:1,tickMinStep:1,title:1,titleAlign:1,titleAnchor:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titleOrient:1,titlePadding:1,type:1,values:1,zindex:1},Ts="_vgsid_",DYe={point:{on:"click",fields:[Ts],toggle:"event.shiftKey",resolve:"global",clear:"dblclick"},interval:{on:"[pointerdown, window:pointerup] > window:pointermove!",encodings:["x","y"],translate:"[pointerdown, window:pointerup] > window:pointermove!",zoom:"wheel!",mark:{fill:"#333",fillOpacity:.125,stroke:"white"},resolve:"global",clear:"dblclick"}};function z8(e){return e==="legend"||!!(e!=null&&e.legend)}function i5(e){return z8(e)&&se(e)}function j8(e){return!!(e!=null&&e.select)}function bae(e){const t=[];for(const n of e||[]){if(j8(n))continue;const{expr:r,bind:i,...o}=n;if(i&&r){const s={...o,bind:i,init:r};t.push(s)}else{const s={...o,...r?{update:r}:{},...i?{bind:i}:{}};t.push(s)}}return t}function OYe(e){return J_(e)||U8(e)||B8(e)}function B8(e){return K(e,"concat")}function J_(e){return K(e,"vconcat")}function U8(e){return K(e,"hconcat")}function xae({step:e,offsetIsDiscrete:t}){return t?e.for??"offset":"position"}function Aa(e){return K(e,"step")}function KU(e){return K(e,"view")||K(e,"width")||K(e,"height")}const QU=20,NYe={align:1,bounds:1,center:1,columns:1,spacing:1},IYe=X(NYe);function LYe(e,t,n){const r=n[t],i={},{spacing:o,columns:s}=r;o!==void 0&&(i.spacing=o),s!==void 0&&(G_(e)&&!Qv(e.facet)||B8(e))&&(i.columns=s),J_(e)&&(i.columns=1);for(const a of IYe)if(e[a]!==void 0)if(a==="spacing"){const l=e[a];i[a]=Ze(l)?l:{row:l.row??o,column:l.column??o}}else i[a]=e[a];return i}function eM(e,t){return e[t]??e[t==="width"?"continuousWidth":"continuousHeight"]}function tM(e,t){const n=uk(e,t);return Aa(n)?n.step:wae}function uk(e,t){const n=e[t]??e[t==="width"?"discreteWidth":"discreteHeight"];return ln(n,{step:e.step})}const wae=20,zYe={continuousWidth:200,continuousHeight:200,step:wae},jYe={background:"white",padding:5,timeFormat:"%b %d, %Y",countTitle:"Count of Records",view:zYe,mark:FGe,arc:{},area:{},bar:OGe,circle:{},geoshape:{},image:{},line:{},point:{},rect:k8,rule:{color:"black"},square:{},text:{color:"black"},tick:NGe,trail:{},boxplot:{size:14,extent:1.5,box:{},median:{color:"white"},outliers:{},rule:{},ticks:null},errorbar:{center:"mean",rule:!0,ticks:!1},errorband:{band:{opacity:.3},borders:!1},scale:dGe,projection:{},legend:PYe,header:{titlePadding:10,labelPadding:10},headerColumn:{},headerRow:{},headerFacet:{},selection:DYe,style:{},title:{},facet:{spacing:QU},concat:{spacing:QU},normalizedNumberFormat:".0%"},Ya=["#4c78a8","#f58518","#e45756","#72b7b2","#54a24b","#eeca3b","#b279a2","#ff9da6","#9d755d","#bab0ac"],ZU={text:11,guideLabel:10,guideTitle:11,groupTitle:13,groupSubtitle:12},JU={blue:Ya[0],orange:Ya[1],red:Ya[2],teal:Ya[3],green:Ya[4],yellow:Ya[5],purple:Ya[6],pink:Ya[7],brown:Ya[8],gray0:"#000",gray1:"#111",gray2:"#222",gray3:"#333",gray4:"#444",gray5:"#555",gray6:"#666",gray7:"#777",gray8:"#888",gray9:"#999",gray10:"#aaa",gray11:"#bbb",gray12:"#ccc",gray13:"#ddd",gray14:"#eee",gray15:"#fff"};function BYe(e={}){return{signals:[{name:"color",value:se(e)?{...JU,...e}:JU}],mark:{color:{signal:"color.blue"}},rule:{color:{signal:"color.gray0"}},text:{color:{signal:"color.gray0"}},style:{"guide-label":{fill:{signal:"color.gray0"}},"guide-title":{fill:{signal:"color.gray0"}},"group-title":{fill:{signal:"color.gray0"}},"group-subtitle":{fill:{signal:"color.gray0"}},cell:{stroke:{signal:"color.gray8"}}},axis:{domainColor:{signal:"color.gray13"},gridColor:{signal:"color.gray8"},tickColor:{signal:"color.gray13"}},range:{category:[{signal:"color.blue"},{signal:"color.orange"},{signal:"color.red"},{signal:"color.teal"},{signal:"color.green"},{signal:"color.yellow"},{signal:"color.purple"},{signal:"color.pink"},{signal:"color.brown"},{signal:"color.grey8"}]}}}function UYe(e){return{signals:[{name:"fontSize",value:se(e)?{...ZU,...e}:ZU}],text:{fontSize:{signal:"fontSize.text"}},style:{"guide-label":{fontSize:{signal:"fontSize.guideLabel"}},"guide-title":{fontSize:{signal:"fontSize.guideTitle"}},"group-title":{fontSize:{signal:"fontSize.groupTitle"}},"group-subtitle":{fontSize:{signal:"fontSize.groupSubtitle"}}}}}function VYe(e){return{text:{font:e},style:{"guide-label":{font:e},"guide-title":{font:e},"group-title":{font:e},"group-subtitle":{font:e}}}}function Sae(e){const t=X(e||{}),n={};for(const r of t){const i=e[r];n[r]=tb(i)?Koe(i):Oi(i)}return n}function WYe(e){const t=X(e),n={};for(const r of t)n[r]=Sae(e[r]);return n}const HYe=[...Fse,...Jse,...yae,"background","padding","legend","lineBreak","scale","style","title","view"];function kae(e={}){const{color:t,font:n,fontSize:r,selection:i,...o}=e,s=Kg({},Me(jYe),n?VYe(n):{},t?BYe(t):{},r?UYe(r):{},o||{});i&&Qg(s,"selection",i,!0);const a=mi(s,HYe);for(const l of["background","lineBreak","padding"])s[l]&&(a[l]=Oi(s[l]));for(const l of Fse)s[l]&&(a[l]=Gn(s[l]));for(const l of Jse)s[l]&&(a[l]=Sae(s[l]));for(const l of yae)s[l]&&(a[l]=Gn(s[l]));if(s.legend&&(a.legend=Gn(s.legend)),s.scale){const{invalid:l,...u}=s.scale,c=Gn(l,{level:1});a.scale={...Gn(u),...X(c).length>0?{invalid:c}:{}}}return s.style&&(a.style=WYe(s.style)),s.title&&(a.title=Gn(s.title)),s.view&&(a.view=Gn(s.view)),a}const qYe=new Set(["view",..._Ge]),GYe=["color","fontSize","background","padding","facet","concat","numberFormat","numberFormatType","normalizedNumberFormat","normalizedNumberFormatType","timeFormat","countTitle","header","axisQuantitative","axisTemporal","axisDiscrete","axisPoint","axisXBand","axisXPoint","axisXDiscrete","axisXQuantitative","axisXTemporal","axisYBand","axisYPoint","axisYDiscrete","axisYQuantitative","axisYTemporal","scale","selection","overlay"],YYe={view:["continuousWidth","continuousHeight","discreteWidth","discreteHeight","step"],...MGe};function XYe(e){e=Me(e);for(const t of GYe)delete e[t];if(e.axis)for(const t in e.axis)tb(e.axis[t])&&delete e.axis[t];if(e.legend)for(const t of AYe)delete e.legend[t];if(e.mark){for(const t of UU)delete e.mark[t];e.mark.tooltip&&se(e.mark.tooltip)&&delete e.mark.tooltip}e.params&&(e.signals=(e.signals||[]).concat(bae(e.params)),delete e.params);for(const t of qYe){for(const r of UU)delete e[t][r];const n=YYe[t];if(n)for(const r of n)delete e[t][r];QYe(e,t)}for(const t of $Ye())delete e[t];KYe(e);for(const t in e)se(e[t])&&vt(e[t])&&delete e[t];return vt(e)?void 0:e}function KYe(e){const{titleMarkConfig:t,subtitleMarkConfig:n,subtitle:r}=Xoe(e.title);vt(t)||(e.style["group-title"]={...e.style["group-title"],...t}),vt(n)||(e.style["group-subtitle"]={...e.style["group-subtitle"],...n}),vt(r)?delete e.title:e.title=r}function QYe(e,t,n,r){const i=e[t];t==="view"&&(n="cell");const o={...i,...e.style[n??t]};vt(o)||(e.style[n??t]=o),delete e[t]}function eE(e){return K(e,"layer")}function ZYe(e){return K(e,"repeat")}function JYe(e){return!G(e.repeat)&&K(e.repeat,"layer")}class V8{map(t,n){return G_(t)?this.mapFacet(t,n):ZYe(t)?this.mapRepeat(t,n):U8(t)?this.mapHConcat(t,n):J_(t)?this.mapVConcat(t,n):B8(t)?this.mapConcat(t,n):this.mapLayerOrUnit(t,n)}mapLayerOrUnit(t,n){if(eE(t))return this.mapLayer(t,n);if(Kl(t))return this.mapUnit(t,n);throw new Error(s8(t))}mapLayer(t,n){return{...t,layer:t.layer.map(r=>this.mapLayerOrUnit(r,n))}}mapHConcat(t,n){return{...t,hconcat:t.hconcat.map(r=>this.map(r,n))}}mapVConcat(t,n){return{...t,vconcat:t.vconcat.map(r=>this.map(r,n))}}mapConcat(t,n){const{concat:r,...i}=t;return{...i,concat:r.map(o=>this.map(o,n))}}mapFacet(t,n){return{...t,spec:this.map(t.spec,n)}}mapRepeat(t,n){return{...t,spec:this.map(t.spec,n)}}}const eXe={zero:1,center:1,normalize:1};function tXe(e){return ce(eXe,e)}const nXe=new Set([Ase,V_,U_,nk,H_,w8,S8,W_,Tse,x8]),rXe=new Set([V_,U_,Ase]);function kh(e){return J(e)&&Mg(e)==="quantitative"&&!e.bin}function eV(e,t,{orient:n,type:r}){const i=t==="x"?"y":"radius",o=t==="x"&&["bar","area"].includes(r),s=e[t],a=e[i];if(J(s)&&J(a))if(kh(s)&&kh(a)){if(s.stack)return t;if(a.stack)return i;const l=J(s)&&!!s.aggregate,u=J(a)&&!!a.aggregate;if(l!==u)return l?t:i;if(o){if(n==="vertical")return i;if(n==="horizontal")return t}}else{if(kh(s))return t;if(kh(a))return i}else{if(kh(s))return o&&n==="vertical"?void 0:t;if(kh(a))return o&&n==="horizontal"?void 0:i}}function iXe(e){switch(e){case"x":return"y";case"y":return"x";case"theta":return"radius";case"radius":return"theta"}}function Cae(e,t){var g,m;const n=$a(e)?e:{type:e},r=n.type;if(!nXe.has(r))return null;const i=eV(t,"x",n)||eV(t,"theta",n);if(!i)return null;const o=t[i],s=J(o)?ie(o,{}):void 0,a=iXe(i),l=[],u=new Set;if(t[a]){const y=t[a],v=J(y)?ie(y,{}):void 0;v&&v!==s&&(l.push(a),u.add(v))}const c=a==="x"?"xOffset":"yOffset",f=t[c],d=J(f)?ie(f,{}):void 0;d&&d!==s&&(l.push(c),u.add(d));const h=gHe.reduce((y,v)=>{if(v!=="tooltip"&&Jf(t,v)){const b=t[v];for(const x of ae(b)){const w=As(x);if(w.aggregate)continue;const k=ie(w,{});(!k||!u.has(k))&&y.push({channel:v,fieldDef:w})}}return y},[]);let p;return o.stack!==void 0?$c(o.stack)?p=o.stack?"zero":null:p=o.stack:rXe.has(r)&&(p="zero"),!p||!tXe(p)||nae(t)&&h.length===0?null:((g=o==null?void 0:o.scale)!=null&&g.type&&((m=o==null?void 0:o.scale)==null?void 0:m.type)!==Yn.LINEAR&&o!=null&&o.stack&&Z(Mqe(o.scale.type)),Pe(t[za(i)])?(o.stack!==void 0&&Z(Tqe(i)),null):(J(o)&&o.aggregate&&!$He.has(o.aggregate)&&Z(Fqe(o.aggregate)),{groupbyChannels:l,groupbyFields:u,fieldChannel:i,impute:o.impute===null?!1:jc(r),stackBy:h,offset:p}))}function _ae(e,t,n){const r=Gn(e),i=mt("orient",r,n);if(r.orient=lXe(r.type,t,i),i!==void 0&&i!==r.orient&&Z(hqe(r.orient,i)),r.type==="bar"&&r.orient){const l=mt("cornerRadiusEnd",r,n);if(l!==void 0){const u=r.orient==="horizontal"&&t.x2||r.orient==="vertical"&&t.y2?["cornerRadius"]:RGe[r.orient];for(const c of u)r[c]=l;r.cornerRadiusEnd!==void 0&&delete r.cornerRadiusEnd}}const o=mt("opacity",r,n),s=mt("fillOpacity",r,n);return o===void 0&&s===void 0&&(r.opacity=sXe(r.type,t)),mt("cursor",r,n)===void 0&&(r.cursor=oXe(r,t,n)),r}function oXe(e,t,n){return t.href||e.href||mt("href",e,n)?"pointer":e.cursor}function sXe(e,t){if(ze([H_,x8,w8,S8],e)&&!nae(t))return .7}function aXe(e,t,{graticule:n}){if(n)return!1;const r=Ea("filled",e,t),i=e.type;return ln(r,i!==H_&&i!==W_&&i!==nk)}function lXe(e,t,n){switch(e){case H_:case w8:case S8:case Tse:case kGe:case SGe:return}const{x:r,y:i,x2:o,y2:s}=t;switch(e){case V_:if(J(r)&&(Hn(r.bin)||J(i)&&i.aggregate&&!r.aggregate))return"vertical";if(J(i)&&(Hn(i.bin)||J(r)&&r.aggregate&&!i.aggregate))return"horizontal";if(s||o){if(n)return n;if(!o)return(J(r)&&r.type===Cd&&!Et(r.bin)||ik(r))&&J(i)&&Hn(i.bin)?"horizontal":"vertical";if(!s)return(J(i)&&i.type===Cd&&!Et(i.bin)||ik(i))&&J(r)&&Hn(r.bin)?"vertical":"horizontal"}case nk:if(o&&!(J(r)&&Hn(r.bin))&&s&&!(J(i)&&Hn(i.bin)))return;case U_:if(s)return J(i)&&Hn(i.bin)?"horizontal":"vertical";if(o)return J(r)&&Hn(r.bin)?"vertical":"horizontal";if(e===nk){if(r&&!i)return"vertical";if(i&&!r)return"horizontal"}case W_:case x8:{const a=qU(r),l=qU(i);if(n)return n;if(a&&!l)return e!=="tick"?"horizontal":"vertical";if(!a&&l)return e!=="tick"?"vertical":"horizontal";if(a&&l)return"vertical";{const u=Zr(r)&&r.type===Ag,c=Zr(i)&&i.type===Ag;if(u&&!c)return"vertical";if(!u&&c)return"horizontal"}return}}return"vertical"}function uXe(e){const{point:t,line:n,...r}=e;return X(r).length>1?r:r.type}function cXe(e){for(const t of["line","area","rule","trail"])e[t]&&(e={...e,[t]:mi(e[t],["point","line"])});return e}function o5(e,t={},n){return e.point==="transparent"?{opacity:0}:e.point?se(e.point)?e.point:{}:e.point!==void 0?null:t.point||n.shape?se(t.point)?t.point:{}:void 0}function tV(e,t={}){return e.line?e.line===!0?{}:e.line:e.line!==void 0?null:t.line?t.line===!0?{}:t.line:void 0}class fXe{constructor(){this.name="path-overlay"}hasMatchingType(t,n){if(Kl(t)){const{mark:r,encoding:i}=t,o=$a(r)?r:{type:r};switch(o.type){case"line":case"rule":case"trail":return!!o5(o,n[o.type],i);case"area":return!!o5(o,n[o.type],i)||!!tV(o,n[o.type])}}return!1}run(t,n,r){const{config:i}=n,{params:o,projection:s,mark:a,name:l,encoding:u,...c}=t,f=Z_(u,i),d=$a(a)?a:{type:a},h=o5(d,i[d.type],f),p=d.type==="area"&&tV(d,i[d.type]),g=[{name:l,...o?{params:o}:{},mark:uXe({...d.type==="area"&&d.opacity===void 0&&d.fillOpacity===void 0?{opacity:.7}:{},...d}),encoding:mi(f,["shape"])}],m=Cae(_ae(d,f,i),f);let y=f;if(m){const{fieldChannel:v,offset:b}=m;y={...f,[v]:{...f[v],...b?{stack:b}:{}}}}return y=mi(y,["y2","x2"]),p&&g.push({...s?{projection:s}:{},mark:{type:"line",...kg(d,["clip","interpolate","tension","tooltip"]),...p},encoding:y}),h&&g.push({...s?{projection:s}:{},mark:{type:"point",opacity:1,filled:!0,...kg(d,["clip","tooltip"]),...h},encoding:y}),r({...c,layer:g},{...n,config:cXe(i)})}}function dXe(e,t){return t?Qv(e)?$ae(e,t):Eae(e,t):e}function s5(e,t){return t?$ae(e,t):e}function nM(e,t,n){const r=t[e];if(YGe(r)){if(r.repeat in n)return{...t,[e]:n[r.repeat]};Z(GHe(r.repeat));return}return t}function Eae(e,t){if(e=nM("field",e,t),e!==void 0){if(e===null)return null;if(T8(e)&&kl(e.sort)){const n=nM("field",e.sort,t);e={...e,...n?{sort:n}:{}}}return e}}function nV(e,t){if(J(e))return Eae(e,t);{const n=nM("datum",e,t);return n!==e&&!n.type&&(n.type="nominal"),n}}function rV(e,t){if(Pe(e)){const n=nV(e,t);if(n)return n;if(Zv(e))return{condition:e.condition}}else{if(Jv(e)){const n=nV(e.condition,t);if(n)return{...e,condition:n};{const{condition:r,...i}=e;return i}}return e}}function $ae(e,t){const n={};for(const r in e)if(K(e,r)){const i=e[r];if(G(i))n[r]=i.map(o=>rV(o,t)).filter(o=>o);else{const o=rV(i,t);o!==void 0&&(n[r]=o)}}return n}class hXe{constructor(){this.name="RuleForRangedLine"}hasMatchingType(t){if(Kl(t)){const{encoding:n,mark:r}=t;if(r==="line"||$a(r)&&r.type==="line")for(const i of dHe){const o=Kd(i),s=n[o];if(n[i]&&(J(s)&&!Hn(s.bin)||Ba(s)))return!0}}return!1}run(t,n,r){const{encoding:i,mark:o}=t;return Z(dqe(!!i.x2,!!i.y2)),r({...t,mark:se(o)?{...o,type:"rule"}:"rule"},n)}}class pXe extends V8{constructor(){super(...arguments),this.nonFacetUnitNormalizers=[mYe,bYe,EYe,new fXe,new hXe]}map(t,n){if(Kl(t)){const r=Jf(t.encoding,wl),i=Jf(t.encoding,Sl),o=Jf(t.encoding,F_);if(r||i||o)return this.mapFacetedUnit(t,n)}return super.map(t,n)}mapUnit(t,n){const{parentEncoding:r,parentProjection:i}=n,o=s5(t.encoding,n.repeater),s={...t,...t.name?{name:[n.repeaterPrefix,t.name].filter(l=>l).join("_")}:{},...o?{encoding:o}:{}};if(r||i)return this.mapUnitWithParentEncodingOrProjection(s,n);const a=this.mapLayerOrUnit.bind(this);for(const l of this.nonFacetUnitNormalizers)if(l.hasMatchingType(s,n.config))return l.run(s,n,a);return s}mapRepeat(t,n){return JYe(t)?this.mapLayerRepeat(t,n):this.mapNonLayerRepeat(t,n)}mapLayerRepeat(t,n){const{repeat:r,spec:i,...o}=t,{row:s,column:a,layer:l}=r,{repeater:u={},repeaterPrefix:c=""}=n;return s||a?this.mapRepeat({...t,repeat:{...s?{row:s}:{},...a?{column:a}:{}},spec:{repeat:{layer:l},spec:i}},n):{...o,layer:l.map(f=>{const d={...u,layer:f},h=`${(i.name?`${i.name}_`:"")+c}child__layer_${Lt(f)}`,p=this.mapLayerOrUnit(i,{...n,repeater:d,repeaterPrefix:h});return p.name=h,p})}}mapNonLayerRepeat(t,n){const{repeat:r,spec:i,data:o,...s}=t;!G(r)&&t.columns&&(t=mi(t,["columns"]),Z(NU("repeat")));const a=[],{repeater:l={},repeaterPrefix:u=""}=n,c=!G(r)&&r.row||[l?l.row:null],f=!G(r)&&r.column||[l?l.column:null],d=G(r)&&r||[l?l.repeat:null];for(const p of d)for(const g of c)for(const m of f){const y={repeat:p,row:g,column:m,layer:l.layer},v=(i.name?`${i.name}_`:"")+u+"child__"+(G(r)?`${Lt(p)}`:(r.row?`row_${Lt(g)}`:"")+(r.column?`column_${Lt(m)}`:"")),b=this.map(i,{...n,repeater:y,repeaterPrefix:v});b.name=v,a.push(mi(b,["data"]))}const h=G(r)?t.columns:r.column?r.column.length:1;return{data:i.data??o,align:"all",...s,columns:h,concat:a}}mapFacet(t,n){const{facet:r}=t;return Qv(r)&&t.columns&&(t=mi(t,["columns"]),Z(NU("facet"))),super.mapFacet(t,n)}mapUnitWithParentEncodingOrProjection(t,n){const{encoding:r,projection:i}=t,{parentEncoding:o,parentProjection:s,config:a}=n,l=oV({parentProjection:s,projection:i}),u=iV({parentEncoding:o,encoding:s5(r,n.repeater)});return this.mapUnit({...t,...l?{projection:l}:{},...u?{encoding:u}:{}},{config:a})}mapFacetedUnit(t,n){const{row:r,column:i,facet:o,...s}=t.encoding,{mark:a,width:l,projection:u,height:c,view:f,params:d,encoding:h,...p}=t,{facetMapping:g,layout:m}=this.getFacetMappingAndLayout({row:r,column:i,facet:o},n),y=s5(s,n.repeater);return this.mapFacet({...p,...m,facet:g,spec:{...l?{width:l}:{},...c?{height:c}:{},...f?{view:f}:{},...u?{projection:u}:{},mark:a,encoding:y,...d?{params:d}:{}}},n)}getFacetMappingAndLayout(t,n){const{row:r,column:i,facet:o}=t;if(r||i){o&&Z(cqe([...r?[wl]:[],...i?[Sl]:[]]));const s={},a={};for(const l of[wl,Sl]){const u=t[l];if(u){const{align:c,center:f,spacing:d,columns:h,...p}=u;s[l]=p;for(const g of["align","center","spacing"])u[g]!==void 0&&(a[g]??(a[g]={}),a[g][l]=u[g])}}return{facetMapping:s,layout:a}}else{const{align:s,center:a,spacing:l,columns:u,...c}=o;return{facetMapping:dXe(c,n.repeater),layout:{...s?{align:s}:{},...a?{center:a}:{},...l?{spacing:l}:{},...u?{columns:u}:{}}}}}mapLayer(t,{parentEncoding:n,parentProjection:r,...i}){const{encoding:o,projection:s,...a}=t,l={...i,parentEncoding:iV({parentEncoding:n,encoding:o,layer:!0}),parentProjection:oV({parentProjection:r,projection:s})};return super.mapLayer({...a,...t.name?{name:[l.repeaterPrefix,t.name].filter(u=>u).join("_")}:{}},l)}}function iV({parentEncoding:e,encoding:t={},layer:n}){let r={};if(e){const i=new Set([...X(e),...X(t)]);for(const o of i){const s=t[o],a=e[o];if(Pe(s)){const l={...a,...s};r[o]=l}else Jv(s)?r[o]={...s,condition:{...a,...s.condition}}:s||s===null?r[o]=s:(n||$s(a)||me(a)||Pe(a)||G(a))&&(r[o]=a)}}else r=t;return!r||vt(r)?void 0:r}function oV(e){const{parentProjection:t,projection:n}=e;return t&&n&&Z(JHe({parentProjection:t,projection:n})),n??t}function W8(e){return K(e,"filter")}function gXe(e){return K(e,"stop")}function Aae(e){return K(e,"lookup")}function mXe(e){return K(e,"data")}function yXe(e){return K(e,"param")}function vXe(e){return K(e,"pivot")}function bXe(e){return K(e,"density")}function xXe(e){return K(e,"quantile")}function wXe(e){return K(e,"regression")}function SXe(e){return K(e,"loess")}function kXe(e){return K(e,"sample")}function CXe(e){return K(e,"window")}function _Xe(e){return K(e,"joinaggregate")}function EXe(e){return K(e,"flatten")}function $Xe(e){return K(e,"calculate")}function Tae(e){return K(e,"bin")}function AXe(e){return K(e,"impute")}function TXe(e){return K(e,"timeUnit")}function MXe(e){return K(e,"aggregate")}function FXe(e){return K(e,"stack")}function PXe(e){return K(e,"fold")}function RXe(e){return K(e,"extent")&&!K(e,"density")&&!K(e,"regression")}function DXe(e){return e.map(t=>W8(t)?{filter:wp(t.filter,oGe)}:t)}class OXe extends V8{map(t,n){return n.emptySelections??(n.emptySelections={}),n.selectionPredicates??(n.selectionPredicates={}),t=sV(t,n),super.map(t,n)}mapLayerOrUnit(t,n){if(t=sV(t,n),t.encoding){const r={};for(const[i,o]of yc(t.encoding))r[i]=Mae(o,n);t={...t,encoding:r}}return super.mapLayerOrUnit(t,n)}mapUnit(t,n){const{selection:r,...i}=t;return r?{...i,params:yc(r).map(([o,s])=>{const{init:a,bind:l,empty:u,...c}=s;c.type==="single"?(c.type="point",c.toggle=!1):c.type==="multi"&&(c.type="point"),n.emptySelections[o]=u!=="none";for(const f of tr(n.selectionPredicates[o]??{}))f.empty=u!=="none";return{name:o,value:a,select:c,bind:l}})}:t}}function sV(e,t){const{transform:n,...r}=e;if(n){const i=n.map(o=>{if(W8(o))return{filter:rM(o,t)};if(Tae(o)&&Qd(o.bin))return{...o,bin:Fae(o.bin)};if(Aae(o)){const{selection:s,...a}=o.from;return s?{...o,from:{param:s,...a}}:o}return o});return{...r,transform:i}}return e}function Mae(e,t){var r,i;const n=Me(e);if(J(n)&&Qd(n.bin)&&(n.bin=Fae(n.bin)),th(n)&&((i=(r=n.scale)==null?void 0:r.domain)!=null&&i.selection)){const{selection:o,...s}=n.scale.domain;n.scale.domain={...s,...o?{param:o}:{}}}if(Zv(n))if(G(n.condition))n.condition=n.condition.map(o=>{const{selection:s,param:a,test:l,...u}=o;return a?o:{...u,test:rM(o,t)}});else{const{selection:o,param:s,test:a,...l}=Mae(n.condition,t);n.condition=s?n.condition:{...l,test:rM(n.condition,t)}}return n}function Fae(e){const t=e.extent;if(t!=null&&t.selection){const{selection:n,...r}=t;return{...e,extent:{...r,param:n}}}return e}function rM(e,t){const n=r=>wp(r,i=>{var o;const s=t.emptySelections[i]??!0,a={param:i,empty:s};return(o=t.selectionPredicates)[i]??(o[i]=[]),t.selectionPredicates[i].push(a),a});return e.selection?n(e.selection):wp(e.test||e.filter,r=>r.selection?n(r.selection):r)}class iM extends V8{map(t,n){const r=n.selections??[];if(t.params&&!Kl(t)){const i=[];for(const o of t.params)j8(o)?r.push(o):i.push(o);t.params=i}return n.selections=r,super.map(t,n)}mapUnit(t,n){const r=n.selections;if(!r||!r.length)return t;const i=(n.path??[]).concat(t.name),o=[];for(const s of r)if(!s.views||!s.views.length)o.push(s);else for(const a of s.views)(le(a)&&(a===t.name||i.includes(a))||G(a)&&a.map(l=>i.indexOf(l)).every((l,u,c)=>l!==-1&&(u===0||l>c[u-1])))&&o.push(s);return o.length&&(t.params=o),t}}for(const e of["mapFacet","mapRepeat","mapHConcat","mapVConcat","mapLayer"]){const t=iM.prototype[e];iM.prototype[e]=function(n,r){return t.call(this,n,NXe(n,r))}}function NXe(e,t){return e.name?{...t,path:(t.path??[]).concat(e.name)}:t}function Pae(e,t){t===void 0&&(t=kae(e.config));const n=jXe(e,t),{width:r,height:i}=e,o=BXe(n,{width:r,height:i,autosize:e.autosize},t);return{...n,...o?{autosize:o}:{}}}const IXe=new pXe,LXe=new OXe,zXe=new iM;function jXe(e,t={}){const n={config:t};return zXe.map(IXe.map(LXe.map(e,n),n),n)}function aV(e){return le(e)?{type:e}:e??{}}function BXe(e,t,n){let{width:r,height:i}=t;const o=Kl(e)||eE(e),s={};o?r=="container"&&i=="container"?(s.type="fit",s.contains="padding"):r=="container"?(s.type="fit-x",s.contains="padding"):i=="container"&&(s.type="fit-y",s.contains="padding"):(r=="container"&&(Z(PU("width")),r=void 0),i=="container"&&(Z(PU("height")),i=void 0));const a={type:"pad",...s,...n?aV(n.autosize):{},...aV(e.autosize)};if(a.type==="fit"&&!o&&(Z(NHe),a.type="pad"),r=="container"&&!(a.type=="fit"||a.type=="fit-x")&&Z(RU("width")),i=="container"&&!(a.type=="fit"||a.type=="fit-y")&&Z(RU("height")),!ji(a,{type:"pad"}))return a}function UXe(e){return["fit","fit-x","fit-y"].includes(e)}function VXe(e){return e?`fit-${N_(e)}`:"fit"}const WXe=["background","padding"];function lV(e,t){const n={};for(const r of WXe)e&&e[r]!==void 0&&(n[r]=Oi(e[r]));return t&&(n.params=e.params),n}class Ql{constructor(t={},n={}){this.explicit=t,this.implicit=n}clone(){return new Ql(Me(this.explicit),Me(this.implicit))}combine(){return{...this.explicit,...this.implicit}}get(t){return ln(this.explicit[t],this.implicit[t])}getWithExplicit(t){return this.explicit[t]!==void 0?{explicit:!0,value:this.explicit[t]}:this.implicit[t]!==void 0?{explicit:!1,value:this.implicit[t]}:{explicit:!1,value:void 0}}setWithExplicit(t,{value:n,explicit:r}){n!==void 0&&this.set(t,n,r)}set(t,n,r){return delete this[r?"implicit":"explicit"][t],this[r?"explicit":"implicit"][t]=n,this}copyKeyFromSplit(t,{explicit:n,implicit:r}){n[t]!==void 0?this.set(t,n[t],!0):r[t]!==void 0&&this.set(t,r[t],!1)}copyKeyFromObject(t,n){n[t]!==void 0&&this.set(t,n[t],!0)}copyAll(t){for(const n of X(t.combine())){const r=t.getWithExplicit(n);this.setWithExplicit(n,r)}}}function Ys(e){return{explicit:!0,value:e}}function Ti(e){return{explicit:!1,value:e}}function Rae(e){return(t,n,r,i)=>{const o=e(t.value,n.value);return o>0?t:o<0?n:tE(t,n,r,i)}}function tE(e,t,n,r){return e.explicit&&t.explicit&&Z(Sqe(n,r,e.value,t.value)),e}function xc(e,t,n,r,i=tE){return e===void 0||e.value===void 0?t:e.explicit&&!t.explicit?e:t.explicit&&!e.explicit?t:ji(e.value,t.value)?e:i(e,t,n,r)}class HXe extends Ql{constructor(t={},n={},r=!1){super(t,n),this.explicit=t,this.implicit=n,this.parseNothing=r}clone(){const t=super.clone();return t.parseNothing=this.parseNothing,t}}function Rg(e){return K(e,"url")}function D1(e){return K(e,"values")}function Dae(e){return K(e,"name")&&!Rg(e)&&!D1(e)&&!tc(e)}function tc(e){return e&&(Oae(e)||Nae(e)||H8(e))}function Oae(e){return K(e,"sequence")}function Nae(e){return K(e,"sphere")}function H8(e){return K(e,"graticule")}var tn;(function(e){e[e.Raw=0]="Raw",e[e.Main=1]="Main",e[e.Row=2]="Row",e[e.Column=3]="Column",e[e.Lookup=4]="Lookup",e[e.PreFilterInvalid=5]="PreFilterInvalid",e[e.PostFilterInvalid=6]="PostFilterInvalid"})(tn||(tn={}));function Iae({invalid:e,isPath:t}){switch(Pse(e,{isPath:t})){case"filter":return{marks:"exclude-invalid-values",scales:"exclude-invalid-values"};case"break-paths-show-domains":return{marks:t?"include-invalid-values":"exclude-invalid-values",scales:"include-invalid-values"};case"break-paths-filter-domains":return{marks:t?"include-invalid-values":"exclude-invalid-values",scales:"exclude-invalid-values"};case"show":return{marks:"include-invalid-values",scales:"include-invalid-values"}}}function qXe(e){const{marks:t,scales:n}=Iae(e);return t===n?tn.Main:n==="include-invalid-values"?tn.PreFilterInvalid:tn.PostFilterInvalid}function Lae(e){const{signals:t,hasLegend:n,index:r,...i}=e;return i.field=Lo(i.field),i}function $d(e,t=!0,n=Ar){if(G(e)){const r=e.map(i=>$d(i,t,n));return t?`[${r.join(", ")}]`:r}else if(Jd(e))return n(t?kd(e):Gqe(e));return t?n(bt(e)):e}function GXe(e,t){for(const n of tr(e.component.selection??{})){const r=n.name;let i=`${r}${wc}, ${n.resolve==="global"?"true":`{unit: ${ed(e)}}`}`;for(const o of oE)o.defined(n)&&(o.signals&&(t=o.signals(e,n,t)),o.modifyExpr&&(i=o.modifyExpr(e,n,i)));t.push({name:r+kKe,on:[{events:{signal:n.name+wc},update:`modify(${te(n.name+Ad)}, ${i})`}]})}return q8(t)}function YXe(e,t){if(e.component.selection&&X(e.component.selection).length){const n=te(e.getName("cell"));t.unshift({name:"facet",value:{},on:[{events:Rc("pointermove","scope"),update:`isTuple(facet) ? facet : group(${n}).datum`}]})}return q8(t)}function XXe(e,t){let n=!1;for(const r of tr(e.component.selection??{})){const i=r.name,o=te(i+Ad);if(t.filter(a=>a.name===i).length===0){const a=r.resolve==="global"?"union":r.resolve,l=r.type==="point"?", true, true)":")";t.push({name:r.name,update:`${nle}(${o}, ${te(a)}${l}`})}n=!0;for(const a of oE)a.defined(r)&&a.topLevelSignals&&(t=a.topLevelSignals(e,r,t))}return n&&t.filter(i=>i.name==="unit").length===0&&t.unshift({name:"unit",value:{},on:[{events:"pointermove",update:"isTuple(group()) ? group() : unit"}]}),q8(t)}function KXe(e,t){const n=[...t],r=ed(e,{escape:!1});for(const i of tr(e.component.selection??{})){const o={name:i.name+Ad};if(i.project.hasSelectionId&&(o.transform=[{type:"collect",sort:{field:Ts}}]),i.init){const a=i.project.items.map(Lae);o.values=i.project.hasSelectionId?i.init.map(l=>({unit:r,[Ts]:$d(l,!1)[0]})):i.init.map(l=>({unit:r,fields:a,values:$d(l,!1)}))}n.filter(a=>a.name===i.name+Ad).length||n.push(o)}return n}function zae(e,t){for(const n of tr(e.component.selection??{}))for(const r of oE)r.defined(n)&&r.marks&&(t=r.marks(e,n,t));return t}function QXe(e,t){for(const n of e.children)Ut(n)&&(t=zae(n,t));return t}function ZXe(e,t,n,r){const i=ale(e,t.param,t);return{signal:Es(n.get("type"))&&G(r)&&r[0]>r[1]?`isValid(${i}) && reverse(${i})`:i}}function q8(e){return e.map(t=>(t.on&&!t.on.length&&delete t.on,t))}class gt{constructor(t,n){this.debugName=n,this._children=[],this._parent=null,t&&(this.parent=t)}clone(){throw new Error("Cannot clone node")}get parent(){return this._parent}set parent(t){this._parent=t,t&&t.addChild(this)}get children(){return this._children}numChildren(){return this._children.length}addChild(t,n){if(this._children.includes(t)){Z(KHe);return}n!==void 0?this._children.splice(n,0,t):this._children.push(t)}removeChild(t){const n=this._children.indexOf(t);return this._children.splice(n,1),n}remove(){let t=this._parent.removeChild(this);for(const n of this._children)n._parent=this._parent,this._parent.addChild(n,t++)}insertAsParentOf(t){const n=t.parent;n.removeChild(this),this.parent=n,t.parent=this}swapWithParent(){const t=this._parent,n=t.parent;for(const i of this._children)i.parent=t;this._children=[],t.removeChild(this);const r=t.parent.removeChild(t);this._parent=n,n.addChild(this,r),t.parent=this}}class yi extends gt{clone(){const t=new this.constructor;return t.debugName=`clone_${this.debugName}`,t._source=this._source,t._name=`clone_${this._name}`,t.type=this.type,t.refCounts=this.refCounts,t.refCounts[t._name]=0,t}constructor(t,n,r,i){super(t,n),this.type=r,this.refCounts=i,this._source=this._name=n,this.refCounts&&!(this._name in this.refCounts)&&(this.refCounts[this._name]=0)}dependentFields(){return new Set}producedFields(){return new Set}hash(){return this._hash===void 0&&(this._hash=`Output ${Roe()}`),this._hash}getSource(){return this.refCounts[this._name]++,this._source}isRequired(){return!!this.refCounts[this._name]}setSource(t){this._source=t}}function a5(e){return e.as!==void 0}function uV(e){return`${e}_end`}class xa extends gt{clone(){return new xa(null,Me(this.timeUnits))}constructor(t,n){super(t),this.timeUnits=n}static makeFromEncoding(t,n){const r=n.reduceFieldDef((i,o,s)=>{const{field:a,timeUnit:l}=o;if(l){let u;if(eh(l)){if(Ut(n)){const{mark:c,markDef:f,config:d}=n,h=bc({fieldDef:o,markDef:f,config:d});(R1(c)||h)&&(u={timeUnit:In(l),field:a})}}else u={as:ie(o,{forAs:!0}),field:a,timeUnit:l};if(Ut(n)){const{mark:c,markDef:f,config:d}=n,h=bc({fieldDef:o,markDef:f,config:d});R1(c)&&un(s)&&h!==.5&&(u.rectBandPosition=h)}u&&(i[Be(u)]=u)}return i},{});return vt(r)?null:new xa(t,r)}static makeFromTransform(t,n){const{timeUnit:r,...i}={...n},o=In(r),s={...i,timeUnit:o};return new xa(t,{[Be(s)]:s})}merge(t){this.timeUnits={...this.timeUnits};for(const n in t.timeUnits)this.timeUnits[n]||(this.timeUnits[n]=t.timeUnits[n]);for(const n of t.children)t.removeChild(n),n.parent=this;t.remove()}removeFormulas(t){const n={};for(const[r,i]of yc(this.timeUnits)){const o=a5(i)?i.as:`${i.field}_end`;t.has(o)||(n[r]=i)}this.timeUnits=n}producedFields(){return new Set(tr(this.timeUnits).map(t=>a5(t)?t.as:uV(t.field)))}dependentFields(){return new Set(tr(this.timeUnits).map(t=>t.field))}hash(){return`TimeUnit ${Be(this.timeUnits)}`}assemble(){const t=[];for(const n of tr(this.timeUnits)){const{rectBandPosition:r}=n,i=In(n.timeUnit);if(a5(n)){const{field:o,as:s}=n,{unit:a,utc:l,...u}=i,c=[s,`${s}_end`];t.push({field:Lo(o),type:"timeunit",...a?{units:j_(a)}:{},...l?{timezone:"utc"}:{},...u,as:c}),t.push(...cV(c,r,i))}else if(n){const{field:o}=n,s=o.replaceAll("\\.","."),a=jae({timeUnit:i,field:s}),l=uV(s);t.push({type:"formula",expr:a,as:l}),t.push(...cV([s,l],r,i))}}return t}}const nE="offsetted_rect_start",rE="offsetted_rect_end";function jae({timeUnit:e,field:t,reverse:n}){const{unit:r,utc:i}=e,o=pse(r),{part:s,step:a}=vse(o,e.step);return`${i?"utcOffset":"timeOffset"}('${s}', datum['${t}'], ${n?-a:a})`}function cV([e,t],n,r){if(n!==void 0&&n!==.5){const i=`datum['${e}']`,o=`datum['${t}']`;return[{type:"formula",expr:fV([jae({timeUnit:r,field:e,reverse:!0}),i],n+.5),as:`${e}_${nE}`},{type:"formula",expr:fV([i,o],n+.5),as:`${e}_${rE}`}]}return[]}function fV([e,t],n){return`${1-n} * ${e} + ${n} * ${t}`}const nb="_tuple_fields";class JXe{constructor(...t){this.items=t,this.hasChannel={},this.hasField={},this.hasSelectionId=!1}}const eKe={defined:()=>!0,parse:(e,t,n)=>{const r=t.name,i=t.project??(t.project=new JXe),o={},s={},a=new Set,l=(p,g)=>{const m=g==="visual"?p.channel:p.field;let y=Lt(`${r}_${m}`);for(let v=1;a.has(y);v++)y=Lt(`${r}_${m}_${v}`);return a.add(y),{[g]:y}},u=t.type,c=e.config.selection[u],f=n.value!==void 0?ae(n.value):null;let{fields:d,encodings:h}=se(n.select)?n.select:{};if(!d&&!h&&f){for(const p of f)if(se(p))for(const g of X(p))fHe(g)?(h||(h=[])).push(g):u==="interval"?(Z(qHe),h=c.encodings):(d??(d=[])).push(g)}!d&&!h&&(h=c.encodings,"fields"in c&&(d=c.fields));for(const p of h??[]){const g=e.fieldDef(p);if(g){let m=g.field;if(g.aggregate){Z(IHe(p,g.aggregate));continue}else if(!m){Z(OU(p));continue}if(g.timeUnit&&!eh(g.timeUnit)){m=e.vgField(p);const y={timeUnit:g.timeUnit,as:m,field:g.field};s[Be(y)]=y}if(!o[m]){const y=u==="interval"&&ja(p)&&Es(e.getScaleComponent(p).get("type"))?"R":g.bin?"R-RE":"E",v={field:m,channel:p,type:y,index:i.items.length};v.signals={...l(v,"data"),...l(v,"visual")},i.items.push(o[m]=v),i.hasField[m]=o[m],i.hasSelectionId=i.hasSelectionId||m===Ts,zoe(p)?(v.geoChannel=p,v.channel=Loe(p),i.hasChannel[v.channel]=o[m]):i.hasChannel[p]=o[m]}}else Z(OU(p))}for(const p of d??[]){if(i.hasField[p])continue;const g={type:"E",field:p,index:i.items.length};g.signals={...l(g,"data")},i.items.push(g),i.hasField[p]=g,i.hasSelectionId=i.hasSelectionId||p===Ts}f&&(t.init=f.map(p=>i.items.map(g=>se(p)?p[g.geoChannel||g.channel]!==void 0?p[g.geoChannel||g.channel]:p[g.field]:p))),vt(s)||(i.timeUnit=new xa(null,s))},signals:(e,t,n)=>{const r=t.name+nb;return n.filter(o=>o.name===r).length>0||t.project.hasSelectionId?n:n.concat({name:r,value:t.project.items.map(Lae)})}},Cl={defined:e=>e.type==="interval"&&e.resolve==="global"&&e.bind&&e.bind==="scales",parse:(e,t)=>{const n=t.scales=[];for(const r of t.project.items){const i=r.channel;if(!ja(i))continue;const o=e.getScaleComponent(i),s=o?o.get("type"):void 0;if(s=="sequential"&&Z(BHe),!o||!Es(s)){Z(jHe);continue}o.set("selectionExtent",{param:t.name,field:r.field},!0),n.push(r)}},topLevelSignals:(e,t,n)=>{const r=t.scales.filter(s=>n.filter(a=>a.name===s.signals.data).length===0);if(!e.parent||dV(e)||r.length===0)return n;const i=n.find(s=>s.name===t.name);let o=i.update;if(o.includes(nle))i.update=`{${r.map(s=>`${te(Lo(s.field))}: ${s.signals.data}`).join(", ")}}`;else{for(const s of r){const a=`${te(Lo(s.field))}: ${s.signals.data}`;o.includes(a)||(o=`${o.substring(0,o.length-1)}, ${a}}`)}i.update=o}return n.concat(r.map(s=>({name:s.signals.data})))},signals:(e,t,n)=>{if(e.parent&&!dV(e))for(const r of t.scales){const i=n.find(o=>o.name===r.signals.data);i.push="outer",delete i.value,delete i.update}return n}};function oM(e,t){return`domain(${te(e.scaleName(t))})`}function dV(e){return e.parent&&vm(e.parent)&&!e.parent.parent}const Cp="_brush",Bae="_scale_trigger",o0="geo_interval_init_tick",Uae="_init",tKe="_center",nKe={defined:e=>e.type==="interval",parse:(e,t,n)=>{var r;if(e.hasProjection){const i={...se(n.select)?n.select:{}};i.fields=[Ts],i.encodings||(i.encodings=n.value?X(n.value):[Ns,Os]),n.select={type:"interval",...i}}if(t.translate&&!Cl.defined(t)){const i=`!event.item || event.item.mark.name !== ${te(t.name+Cp)}`;for(const o of t.events){if(!o.between){Z(`${o} is not an ordered event stream for interval selections.`);continue}const s=ae((r=o.between[0]).filter??(r.filter=[]));s.includes(i)||s.push(i)}}},signals:(e,t,n)=>{const r=t.name,i=r+wc,o=tr(t.project.hasChannel).filter(a=>a.channel===zt||a.channel===Un),s=t.init?t.init[0]:null;if(n.push(...o.reduce((a,l)=>a.concat(rKe(e,t,l,s&&s[l.index])),[])),e.hasProjection){const a=te(e.projectionName()),l=e.projectionName()+tKe,{x:u,y:c}=t.project.hasChannel,f=u&&u.signals.visual,d=c&&c.signals.visual,h=u?s&&s[u.index]:`${l}[0]`,p=c?s&&s[c.index]:`${l}[1]`,g=w=>e.getSizeSignalRef(w).signal,m=`[[${f?f+"[0]":"0"}, ${d?d+"[0]":"0"}],[${f?f+"[1]":g("width")}, ${d?d+"[1]":g("height")}]]`;s&&(n.unshift({name:r+Uae,init:`[scale(${a}, [${u?h[0]:h}, ${c?p[0]:p}]), scale(${a}, [${u?h[1]:h}, ${c?p[1]:p}])]`}),(!u||!c)&&(n.find(k=>k.name===l)||n.unshift({name:l,update:`invert(${a}, [${g("width")}/2, ${g("height")}/2])`})));const y=`intersect(${m}, {markname: ${te(e.getName("marks"))}}, unit.mark)`,v=`{unit: ${ed(e)}}`,b=`vlSelectionTuples(${y}, ${v})`,x=o.map(w=>w.signals.visual);return n.concat({name:i,on:[{events:[...x.length?[{signal:x.join(" || ")}]:[],...s?[{signal:o0}]:[]],update:b}]})}else{if(!Cl.defined(t)){const u=r+Bae,c=o.map(f=>{const d=f.channel,{data:h,visual:p}=f.signals,g=te(e.scaleName(d)),m=e.getScaleComponent(d).get("type"),y=Es(m)?"+":"";return`(!isArray(${h}) || (${y}invert(${g}, ${p})[0] === ${y}${h}[0] && ${y}invert(${g}, ${p})[1] === ${y}${h}[1]))`});c.length&&n.push({name:u,value:{},on:[{events:o.map(f=>({scale:e.scaleName(f.channel)})),update:c.join(" && ")+` ? ${u} : {}`}]})}const a=o.map(u=>u.signals.data),l=`unit: ${ed(e)}, fields: ${r+nb}, values`;return n.concat({name:i,...s?{init:`{${l}: ${$d(s)}}`}:{},...a.length?{on:[{events:[{signal:a.join(" || ")}],update:`${a.join(" && ")} ? {${l}: [${a}]} : null`}]}:{}})}},topLevelSignals:(e,t,n)=>(Ut(e)&&e.hasProjection&&t.init&&(n.filter(i=>i.name===o0).length||n.unshift({name:o0,value:null,on:[{events:"timer{1}",update:`${o0} === null ? {} : ${o0}`}]})),n),marks:(e,t,n)=>{const r=t.name,{x:i,y:o}=t.project.hasChannel,s=i==null?void 0:i.signals.visual,a=o==null?void 0:o.signals.visual,l=`data(${te(t.name+Ad)})`;if(Cl.defined(t)||!i&&!o)return n;const u={x:i!==void 0?{signal:`${s}[0]`}:{value:0},y:o!==void 0?{signal:`${a}[0]`}:{value:0},x2:i!==void 0?{signal:`${s}[1]`}:{field:{group:"width"}},y2:o!==void 0?{signal:`${a}[1]`}:{field:{group:"height"}}};if(t.resolve==="global")for(const m of X(u))u[m]=[{test:`${l}.length && ${l}[0].unit === ${ed(e)}`,...u[m]},{value:0}];const{fill:c,fillOpacity:f,cursor:d,...h}=t.mark,p=X(h).reduce((m,y)=>(m[y]=[{test:[i!==void 0&&`${s}[0] !== ${s}[1]`,o!==void 0&&`${a}[0] !== ${a}[1]`].filter(v=>v).join(" && "),value:h[y]},{value:null}],m),{}),g=d??(t.translate?"move":null);return[{name:`${r+Cp}_bg`,type:"rect",clip:!0,encode:{enter:{fill:{value:c},fillOpacity:{value:f}},update:u}},...n,{name:r+Cp,type:"rect",clip:!0,encode:{enter:{...g?{cursor:{value:g}}:{},fill:{value:"transparent"}},update:{...u,...p}}}]}};function rKe(e,t,n,r){const i=!e.hasProjection,o=n.channel,s=n.signals.visual,a=te(i?e.scaleName(o):e.projectionName()),l=d=>`scale(${a}, ${d})`,u=e.getSizeSignalRef(o===zt?"width":"height").signal,c=`${o}(unit)`,f=t.events.reduce((d,h)=>[...d,{events:h.between[0],update:`[${c}, ${c}]`},{events:h,update:`[${s}[0], clamp(${c}, 0, ${u})]`}],[]);if(i){const d=n.signals.data,h=Cl.defined(t),p=e.getScaleComponent(o),g=p?p.get("type"):void 0,m=r?{init:$d(r,!0,l)}:{value:[]};return f.push({events:{signal:t.name+Bae},update:Es(g)?`[${l(`${d}[0]`)}, ${l(`${d}[1]`)}]`:"[0, 0]"}),h?[{name:d,on:[]}]:[{name:s,...m,on:f},{name:d,...r?{init:$d(r)}:{},on:[{events:{signal:s},update:`${s}[0] === ${s}[1] ? null : invert(${a}, ${s})`}]}]}else{const d=o===zt?0:1,h=t.name+Uae,p=r?{init:`[${h}[0][${d}], ${h}[1][${d}]]`}:{value:[]};return[{name:s,...p,on:f}]}}const iKe={defined:e=>e.type==="point",signals:(e,t,n)=>{const r=t.name,i=r+nb,o=t.project,s="(item().isVoronoi ? datum.datum : datum)",a=tr(e.component.selection??{}).reduce((f,d)=>d.type==="interval"?f.concat(d.name+Cp):f,[]).map(f=>`indexof(item().mark.name, '${f}') < 0`).join(" && "),l=`datum && item().mark.marktype !== 'group' && indexof(item().mark.role, 'legend') < 0${a?` && ${a}`:""}`;let u=`unit: ${ed(e)}, `;if(t.project.hasSelectionId)u+=`${Ts}: ${s}[${te(Ts)}]`;else{const f=o.items.map(d=>{const h=e.fieldDef(d.channel);return h!=null&&h.bin?`[${s}[${te(e.vgField(d.channel,{}))}], ${s}[${te(e.vgField(d.channel,{binSuffix:"end"}))}]]`:`${s}[${te(d.field)}]`}).join(", ");u+=`fields: ${i}, values: [${f}]`}const c=t.events;return n.concat([{name:r+wc,on:c?[{events:c,update:`${l} ? {${u}} : null`,force:!0}]:[]}])}};function pm({model:e,channelDef:t,vgChannel:n,invalidValueRef:r,mainRefFn:i}){const o=Zv(t)&&t.condition;let s=[];o&&(s=ae(o).map(u=>{const c=i(u);if(GGe(u)){const{param:f,empty:d}=u;return{test:sle(e,{param:f,empty:d}),...c}}else return{test:dk(e,u.test),...c}})),r!==void 0&&s.push(r);const a=i(t);return a!==void 0&&s.push(a),s.length>1||s.length===1&&s[0].test?{[n]:s}:s.length===1?{[n]:s[0]}:{}}function G8(e,t="text"){const n=e.encoding[t];return pm({model:e,channelDef:n,vgChannel:t,mainRefFn:r=>iE(r,e.config),invalidValueRef:void 0})}function iE(e,t,n="datum"){if(e){if($s(e))return Pt(e.value);if(Pe(e)){const{format:r,formatType:i}=sk(e);return $8({fieldOrDatumDef:e,format:r,formatType:i,expr:n,config:t})}}}function Vae(e,t={}){const{encoding:n,markDef:r,config:i,stack:o}=e,s=n.tooltip;if(G(s))return{tooltip:hV({tooltip:s},o,i,t)};{const a=t.reactiveGeom?"datum.datum":"datum";return pm({model:e,channelDef:s,vgChannel:"tooltip",mainRefFn:u=>{const c=iE(u,i,a);if(c)return c;if(u===null)return;let f=mt("tooltip",r,i);if(f===!0&&(f={content:"encoding"}),le(f))return{value:f};if(se(f))return me(f)?f:f.content==="encoding"?hV(n,o,i,t):{signal:a}},invalidValueRef:void 0})}}function Wae(e,t,n,{reactiveGeom:r}={}){const i={...n,...n.tooltipFormat},o=new Set,s=r?"datum.datum":"datum",a=[];function l(c,f){const d=Kd(f),h=Zr(c)?c:{...c,type:e[d].type},p=h.title||F8(h,i),g=ae(p).join(", ").replaceAll(/"/g,'\\"');let m;if(un(f)){const y=f==="x"?"x2":"y2",v=As(e[y]);if(Hn(h.bin)&&v){const b=ie(h,{expr:s}),x=ie(v,{expr:s}),{format:w,formatType:k}=sk(h);m=Kv(b,x,w,k,i),o.add(y)}}if((un(f)||f===Bo||f===Ds)&&t&&t.fieldChannel===f&&t.offset==="normalize"){const{format:y,formatType:v}=sk(h);m=$8({fieldOrDatumDef:h,format:y,formatType:v,expr:s,config:i,normalizeStack:!0}).signal}m??(m=iE(h,i,s).signal),a.push({channel:f,key:g,value:m})}R8(e,(c,f)=>{J(c)?l(c,f):Y_(c)&&l(c.condition,f)});const u={};for(const{channel:c,key:f,value:d}of a)!o.has(c)&&!u[f]&&(u[f]=d);return u}function hV(e,t,n,{reactiveGeom:r}={}){const i=Wae(e,t,n,{reactiveGeom:r}),o=yc(i).map(([s,a])=>`"${s}": ${a}`);return o.length>0?{signal:`{${o.join(", ")}}`}:void 0}function oKe(e){const{markDef:t,config:n}=e,r=mt("aria",t,n);return r===!1?{}:{...r?{aria:r}:{},...sKe(e),...aKe(e)}}function sKe(e){const{mark:t,markDef:n,config:r}=e;if(r.aria===!1)return{};const i=mt("ariaRoleDescription",n,r);return i!=null?{ariaRoleDescription:{value:i}}:ce(RHe,t)?{}:{ariaRoleDescription:{value:t}}}function aKe(e){const{encoding:t,markDef:n,config:r,stack:i}=e,o=t.description;if(o)return pm({model:e,channelDef:o,vgChannel:"description",mainRefFn:l=>iE(l,e.config),invalidValueRef:void 0});const s=mt("description",n,r);if(s!=null)return{description:Pt(s)};if(r.aria===!1)return{};const a=Wae(t,i,r);if(!vt(a))return{description:{signal:yc(a).map(([l,u],c)=>`"${c>0?"; ":""}${l}: " + (${u})`).join(" + ")}}}function Kn(e,t,n={}){const{markDef:r,encoding:i,config:o}=t,{vgChannel:s}=n;let{defaultRef:a,defaultValue:l}=n;const u=i[e];a===void 0&&(l??(l=mt(e,r,o,{vgChannel:s,ignoreVgConfig:!Zv(u)})),l!==void 0&&(a=Pt(l)));const c={markDef:r,config:o,scaleName:t.scaleName(e),scale:t.getScaleComponent(e)},f=Dse({...c,scaleChannel:e,channelDef:u});return pm({model:t,channelDef:u,vgChannel:s??e,invalidValueRef:f,mainRefFn:h=>E8({...c,channel:e,channelDef:h,stack:null,defaultRef:a})})}function Hae(e,t={filled:void 0}){const{markDef:n,encoding:r,config:i}=e,{type:o}=n,s=t.filled??mt("filled",n,i),a=ze(["bar","point","circle","square","geoshape"],o)?"transparent":void 0,l=mt(s===!0?"color":void 0,n,i,{vgChannel:"fill"})??i.mark[s===!0&&"color"]??a,u=mt(s===!1?"color":void 0,n,i,{vgChannel:"stroke"})??i.mark[s===!1&&"color"],c=s?"fill":"stroke",f={...l?{fill:Pt(l)}:{},...u?{stroke:Pt(u)}:{}};return n.color&&(s?n.fill:n.stroke)&&Z(ose("property",{fill:"fill"in n,stroke:"stroke"in n})),{...f,...Kn("color",e,{vgChannel:c,defaultValue:s?l:u}),...Kn("fill",e,{defaultValue:r.fill?l:void 0}),...Kn("stroke",e,{defaultValue:r.stroke?u:void 0})}}function lKe(e){const{encoding:t,mark:n}=e,r=t.order;return!jc(n)&&$s(r)?pm({model:e,channelDef:r,vgChannel:"zindex",mainRefFn:i=>Pt(i.value),invalidValueRef:void 0}):{}}function Dg({channel:e,markDef:t,encoding:n={},model:r,bandPosition:i}){const o=`${e}Offset`,s=t[o],a=n[o];if((o==="xOffset"||o==="yOffset")&&a)return{offsetType:"encoding",offset:E8({channel:o,channelDef:a,markDef:t,config:r==null?void 0:r.config,scaleName:r.scaleName(o),scale:r.getScaleComponent(o),stack:null,defaultRef:Pt(s),bandPosition:i})};const l=t[o];return l?{offsetType:"visual",offset:l}:{}}function Hr(e,t,{defaultPos:n,vgChannel:r}){const{encoding:i,markDef:o,config:s,stack:a}=t,l=i[e],u=i[za(e)],c=t.scaleName(e),f=t.getScaleComponent(e),{offset:d,offsetType:h}=Dg({channel:e,markDef:o,encoding:i,model:t,bandPosition:.5}),p=Y8({model:t,defaultPos:n,channel:e,scaleName:c,scale:f}),g=!l&&un(e)&&(i.latitude||i.longitude)?{field:t.getName(e)}:uKe({channel:e,channelDef:l,channel2Def:u,markDef:o,config:s,scaleName:c,scale:f,stack:a,offset:d,defaultRef:p,bandPosition:h==="encoding"?0:void 0});return g?{[r||e]:g}:void 0}function uKe(e){const{channel:t,channelDef:n,scaleName:r,stack:i,offset:o,markDef:s}=e;if(Pe(n)&&i&&t===i.fieldChannel){if(J(n)){let a=n.bandPosition;if(a===void 0&&s.type==="text"&&(t==="radius"||t==="theta")&&(a=.5),a!==void 0)return rk({scaleName:r,fieldOrDatumDef:n,startSuffix:"start",bandPosition:a,offset:o})}return Zf(n,r,{suffix:"end"},{offset:o})}return _8(e)}function Y8({model:e,defaultPos:t,channel:n,scaleName:r,scale:i}){const{markDef:o,config:s}=e;return()=>{const a=Kd(n),l=vc(n),u=mt(n,o,s,{vgChannel:l});if(u!==void 0)return My(n,u);switch(t){case"zeroOrMin":return pV({scaleName:r,scale:i,mode:"zeroOrMin",mainChannel:a,config:s});case"zeroOrMax":return pV({scaleName:r,scale:i,mode:{zeroOrMax:{widthSignal:e.width.signal,heightSignal:e.height.signal}},mainChannel:a,config:s});case"mid":return{...e[_i(n)],mult:.5}}}}function pV({mainChannel:e,config:t,...n}){const r=Rse(n),{mode:i}=n;if(r)return r;switch(e){case"radius":{if(i==="zeroOrMin")return{value:0};const{widthSignal:o,heightSignal:s}=i.zeroOrMax;return{signal:`min(${o},${s})/2`}}case"theta":return i==="zeroOrMin"?{value:0}:{signal:"2*PI"};case"x":return i==="zeroOrMin"?{value:0}:{field:{group:"width"}};case"y":return i==="zeroOrMin"?{field:{group:"height"}}:{value:0}}}const cKe={left:"x",center:"xc",right:"x2"},fKe={top:"y",middle:"yc",bottom:"y2"};function qae(e,t,n,r="middle"){if(e==="radius"||e==="theta")return vc(e);const i=e==="x"?"align":"baseline",o=mt(i,t,n);let s;return me(o)?(Z(fqe(i)),s=void 0):s=o,e==="x"?cKe[s||(r==="top"?"left":"center")]:fKe[s||r]}function ck(e,t,{defaultPos:n,defaultPos2:r,range:i}){return i?Gae(e,t,{defaultPos:n,defaultPos2:r}):Hr(e,t,{defaultPos:n})}function Gae(e,t,{defaultPos:n,defaultPos2:r}){const{markDef:i,config:o}=t,s=za(e),a=_i(e),l=dKe(t,r,s),u=l[a]?qae(e,i,o):vc(e);return{...Hr(e,t,{defaultPos:n,vgChannel:u}),...l}}function dKe(e,t,n){const{encoding:r,mark:i,markDef:o,stack:s,config:a}=e,l=Kd(n),u=_i(n),c=vc(n),f=r[l],d=e.scaleName(l),h=e.getScaleComponent(l),{offset:p}=n in r||n in o?Dg({channel:n,markDef:o,encoding:r,model:e}):Dg({channel:l,markDef:o,encoding:r,model:e});if(!f&&(n==="x2"||n==="y2")&&(r.latitude||r.longitude)){const m=_i(n),y=e.markDef[m];return y!=null?{[m]:{value:y}}:{[c]:{field:e.getName(n)}}}const g=hKe({channel:n,channelDef:f,channel2Def:r[n],markDef:o,config:a,scaleName:d,scale:h,stack:s,offset:p,defaultRef:void 0});return g!==void 0?{[c]:g}:Cx(n,o)||Cx(n,{[n]:Y4(n,o,a.style),[u]:Y4(u,o,a.style)})||Cx(n,a[i])||Cx(n,a.mark)||{[c]:Y8({model:e,defaultPos:t,channel:n,scaleName:d,scale:h})()}}function hKe({channel:e,channelDef:t,channel2Def:n,markDef:r,config:i,scaleName:o,scale:s,stack:a,offset:l,defaultRef:u}){return Pe(t)&&a&&e.charAt(0)===a.fieldChannel.charAt(0)?Zf(t,o,{suffix:"start"},{offset:l}):_8({channel:e,channelDef:n,scaleName:o,scale:s,stack:a,markDef:r,config:i,offset:l,defaultRef:u})}function Cx(e,t){const n=_i(e),r=vc(e);if(t[r]!==void 0)return{[r]:My(e,t[r])};if(t[e]!==void 0)return{[r]:My(e,t[e])};if(t[n]){const i=t[n];if(_d(i))Z(oqe(n));else return{[n]:My(e,i)}}}function Il(e,t){const{config:n,encoding:r,markDef:i}=e,o=i.type,s=za(t),a=_i(t),l=r[t],u=r[s],c=e.getScaleComponent(t),f=c?c.get("type"):void 0,d=i.orient,h=r[a]??r.size??mt("size",i,n,{vgChannel:a}),p=Voe(t),g=o==="bar"&&(t==="x"?d==="vertical":d==="horizontal")||o==="tick"&&(t==="y"?d==="vertical":d==="horizontal");return J(l)&&(Et(l.bin)||Hn(l.bin)||l.timeUnit&&!u)&&!(h&&!_d(h))&&!r[p]&&!Ln(f)?mKe({fieldDef:l,fieldDef2:u,channel:t,model:e}):(Pe(l)&&Ln(f)||g)&&!u?gKe(l,t,e):Gae(t,e,{defaultPos:"zeroOrMax",defaultPos2:"zeroOrMin"})}function pKe(e,t,n,r,i,o,s){if(_d(i))if(n){const l=n.get("type");if(l==="band"){let u=`bandwidth('${t}')`;i.band!==1&&(u=`${i.band} * ${u}`);const c=Ea("minBandSize",{type:s},r);return{signal:c?`max(${ps(c)}, ${u})`:u}}else i.band!==1&&(Z(gqe(l)),i=void 0)}else return{mult:i.band,field:{group:e}};else{if(me(i))return i;if(i)return{value:i}}if(n){const l=n.get("range");if(Zd(l)&&Ze(l.step))return{value:l.step-2}}if(!o){const{bandPaddingInner:l,barBandPaddingInner:u,rectBandPaddingInner:c,tickBandPaddingInner:f}=r.scale,d=ln(l,s==="tick"?f:s==="bar"?u:c);if(me(d))return{signal:`(1 - (${d.signal})) * ${e}`};if(Ze(d))return{signal:`${1-d} * ${e}`}}return{value:tM(r.view,e)-2}}function gKe(e,t,n){var _,$;const{markDef:r,encoding:i,config:o,stack:s}=n,a=r.orient,l=n.scaleName(t),u=n.getScaleComponent(t),c=_i(t),f=za(t),d=Voe(t),h=n.scaleName(d),p=n.getScaleComponent(e8(t)),g=r.type==="tick"||a==="horizontal"&&t==="y"||a==="vertical"&&t==="x";let m;(i.size||r.size)&&(g?m=Kn("size",n,{vgChannel:c,defaultRef:Pt(r.size)}):Z(bqe(r.type)));const y=!!m,v=Bse({channel:t,fieldDef:e,markDef:r,config:o,scaleType:(_=u||p)==null?void 0:_.get("type"),useVlSizeChannel:g});m=m||{[c]:pKe(c,h||l,p||u,o,v,!!e,r.type)};const b=(($=u||p)==null?void 0:$.get("type"))==="band"&&_d(v)&&!y?"top":"middle",x=qae(t,r,o,b),w=x==="xc"||x==="yc",{offset:k,offsetType:S}=Dg({channel:t,markDef:r,encoding:i,model:n,bandPosition:w?.5:0}),C=_8({channel:t,channelDef:e,markDef:r,config:o,scaleName:l,scale:u,stack:s,offset:k,defaultRef:Y8({model:n,defaultPos:"mid",channel:t,scaleName:l,scale:u}),bandPosition:w?S==="encoding"?0:.5:me(v)?{signal:`(1-${v})/2`}:_d(v)?(1-v.band)/2:0});if(c)return{[x]:C,...m};{const A=vc(f),O=m[c],M=k?{...O,offset:k}:O;return{[x]:C,[A]:G(C)?[C[0],{...C[1],offset:M}]:{...C,offset:M}}}}function gV(e,t,n,r,i,o,s){if(Ioe(e))return 0;const a=e==="x"||e==="y2",l=a?-t/2:t/2;if(me(n)||me(i)||me(r)||o){const u=ps(n),c=ps(i),f=ps(r),d=ps(o),p=o?`(${s} < ${d} ? ${a?"":"-"}0.5 * (${d} - (${s})) : ${l})`:l,g=f?`${f} + `:"",m=u?`(${u} ? -1 : 1) * `:"",y=c?`(${c} + ${p})`:p;return{signal:g+m+y}}else return i=i||0,r+(n?-i-l:+i+l)}function mKe({fieldDef:e,fieldDef2:t,channel:n,model:r}){var $;const{config:i,markDef:o,encoding:s}=r,a=r.getScaleComponent(n),l=r.scaleName(n),u=a?a.get("type"):void 0,c=a.get("reverse"),f=Bse({channel:n,fieldDef:e,markDef:o,config:i,scaleType:u}),d=($=r.component.axes[n])==null?void 0:$[0],h=(d==null?void 0:d.get("translate"))??.5,p=un(n)?mt("binSpacing",o,i)??0:0,g=za(n),m=vc(n),y=vc(g),v=Ea("minBandSize",o,i),{offset:b}=Dg({channel:n,markDef:o,encoding:s,model:r,bandPosition:0}),{offset:x}=Dg({channel:g,markDef:o,encoding:s,model:r,bandPosition:0}),w=BGe({fieldDef:e,scaleName:l}),k=gV(n,p,c,h,b,v,w),S=gV(g,p,c,h,x??b,v,w),C=me(f)?{signal:`(1-${f.signal})/2`}:_d(f)?(1-f.band)/2:.5,_=bc({fieldDef:e,fieldDef2:t,markDef:o,config:i});if(Et(e.bin)||e.timeUnit){const A=e.timeUnit&&_!==.5;return{[y]:mV({fieldDef:e,scaleName:l,bandPosition:C,offset:S,useRectOffsetField:A}),[m]:mV({fieldDef:e,scaleName:l,bandPosition:me(C)?{signal:`1-${C.signal}`}:1-C,offset:k,useRectOffsetField:A})}}else if(Hn(e.bin)){const A=Zf(e,l,{},{offset:S});if(J(t))return{[y]:A,[m]:Zf(t,l,{},{offset:k})};if(Qd(e.bin)&&e.bin.step)return{[y]:A,[m]:{signal:`scale("${l}", ${ie(e,{expr:"datum"})} + ${e.bin.step})`,offset:k}}}Z(lse(g))}function mV({fieldDef:e,scaleName:t,bandPosition:n,offset:r,useRectOffsetField:i}){return rk({scaleName:t,fieldOrDatumDef:e,bandPosition:n,offset:r,...i?{startSuffix:nE,endSuffix:rE}:{}})}const yKe=new Set(["aria","width","height"]);function Uo(e,t){const{fill:n=void 0,stroke:r=void 0}=t.color==="include"?Hae(e):{};return{...vKe(e.markDef,t),...yV("fill",n),...yV("stroke",r),...Kn("opacity",e),...Kn("fillOpacity",e),...Kn("strokeOpacity",e),...Kn("strokeWidth",e),...Kn("strokeDash",e),...lKe(e),...Vae(e),...G8(e,"href"),...oKe(e)}}function yV(e,t){return t?{[e]:t}:{}}function vKe(e,t){return PHe.reduce((n,r)=>(!yKe.has(r)&&K(e,r)&&t[r]!=="ignore"&&(n[r]=Pt(e[r])),n),{})}function X8(e){const{config:t,markDef:n}=e,r=new Set;if(e.forEachFieldDef((i,o)=>{var u;let s;if(!ja(o)||!(s=e.getScaleType(o)))return;const a=I_(i.aggregate),l=C8({scaleChannel:o,markDef:n,config:t,scaleType:s,isCountAggregate:a});if(LGe(l)){const c=e.vgField(o,{expr:"datum",binSuffix:(u=e.stack)!=null&&u.impute?"mid":void 0});c&&r.add(c)}}),r.size>0)return{defined:{signal:[...r].map(o=>B_(o,!0)).join(" && ")}}}function vV(e,t){if(t!==void 0)return{[e]:Pt(t)}}const l5="voronoi",Yae={defined:e=>e.type==="point"&&e.nearest,parse:(e,t)=>{if(t.events)for(const n of t.events)n.markname=e.getName(l5)},marks:(e,t,n)=>{const{x:r,y:i}=t.project.hasChannel,o=e.mark;if(jc(o))return Z(LHe(o)),n;const s={name:e.getName(l5),type:"path",interactive:!0,from:{data:e.getName("marks")},encode:{update:{fill:{value:"transparent"},strokeWidth:{value:.35},stroke:{value:"transparent"},isVoronoi:{value:!0},...Vae(e,{reactiveGeom:!0})}},transform:[{type:"voronoi",x:{expr:r||!i?"datum.datum.x || 0":"0"},y:{expr:i||!r?"datum.datum.y || 0":"0"},size:[e.getSizeSignalRef("width"),e.getSizeSignalRef("height")]}]};let a=0,l=!1;return n.forEach((u,c)=>{const f=u.name??"";f===e.component.mark[0].name?a=c:f.includes(l5)&&(l=!0)}),l||n.splice(a+1,0,s),n}},Xae={defined:e=>e.type==="point"&&e.resolve==="global"&&e.bind&&e.bind!=="scales"&&!z8(e.bind),parse:(e,t,n)=>rle(t,n),topLevelSignals:(e,t,n)=>{const r=t.name,i=t.project,o=t.bind,s=t.init&&t.init[0],a=Yae.defined(t)?"(item().isVoronoi ? datum.datum : datum)":"datum";return i.items.forEach((l,u)=>{const c=Lt(`${r}_${l.field}`);n.filter(d=>d.name===c).length||n.unshift({name:c,...s?{init:$d(s[u])}:{value:null},on:t.events?[{events:t.events,update:`datum && item().mark.marktype !== 'group' ? ${a}[${te(l.field)}] : null`}]:[],bind:o[l.field]??o[l.channel]??o})}),n},signals:(e,t,n)=>{const r=t.name,i=t.project,o=n.find(u=>u.name===r+wc),s=r+nb,a=i.items.map(u=>Lt(`${r}_${u.field}`)),l=a.map(u=>`${u} !== null`).join(" && ");return a.length&&(o.update=`${l} ? {fields: ${s}, values: [${a.join(", ")}]} : null`),delete o.value,delete o.on,n}},fk="_toggle",Kae={defined:e=>e.type==="point"&&!!e.toggle,signals:(e,t,n)=>n.concat({name:t.name+fk,value:!1,on:[{events:t.events,update:t.toggle}]}),modifyExpr:(e,t)=>{const n=t.name+wc,r=t.name+fk;return`${r} ? null : ${n}, `+(t.resolve==="global"?`${r} ? null : true, `:`${r} ? null : {unit: ${ed(e)}}, `)+`${r} ? ${n} : null`}},bKe={defined:e=>e.clear!==void 0&&e.clear!==!1,parse:(e,t)=>{t.clear&&(t.clear=le(t.clear)?Rc(t.clear,"view"):t.clear)},topLevelSignals:(e,t,n)=>{if(Xae.defined(t))for(const r of t.project.items){const i=n.findIndex(o=>o.name===Lt(`${t.name}_${r.field}`));i!==-1&&n[i].on.push({events:t.clear,update:"null"})}return n},signals:(e,t,n)=>{function r(i,o){i!==-1&&n[i].on&&n[i].on.push({events:t.clear,update:o})}if(t.type==="interval")for(const i of t.project.items){const o=n.findIndex(s=>s.name===i.signals.visual);if(r(o,"[0, 0]"),o===-1){const s=n.findIndex(a=>a.name===i.signals.data);r(s,"null")}}else{let i=n.findIndex(o=>o.name===t.name+wc);r(i,"null"),Kae.defined(t)&&(i=n.findIndex(o=>o.name===t.name+fk),r(i,"false"))}return n}},Qae={defined:e=>{const t=e.resolve==="global"&&e.bind&&z8(e.bind),n=e.project.items.length===1&&e.project.items[0].field!==Ts;return t&&!n&&Z(UHe),t&&n},parse:(e,t,n)=>{const r=Me(n);if(r.select=le(r.select)?{type:r.select,toggle:t.toggle}:{...r.select,toggle:t.toggle},rle(t,r),se(n.select)&&(n.select.on||n.select.clear)){const s='event.item && indexof(event.item.mark.role, "legend") < 0';for(const a of t.events)a.filter=ae(a.filter??[]),a.filter.includes(s)||a.filter.push(s)}const i=i5(t.bind)?t.bind.legend:"click",o=le(i)?Rc(i,"view"):ae(i);t.bind={legend:{merge:o}}},topLevelSignals:(e,t,n)=>{const r=t.name,i=i5(t.bind)&&t.bind.legend,o=s=>a=>{const l=Me(a);return l.markname=s,l};for(const s of t.project.items){if(!s.hasLegend)continue;const a=`${Lt(s.field)}_legend`,l=`${r}_${a}`;if(n.filter(c=>c.name===l).length===0){const c=i.merge.map(o(`${a}_symbols`)).concat(i.merge.map(o(`${a}_labels`))).concat(i.merge.map(o(`${a}_entries`)));n.unshift({name:l,...t.init?{}:{value:null},on:[{events:c,update:"isDefined(datum.value) ? datum.value : item().items[0].items[0].datum.value",force:!0},{events:i.merge,update:`!event.item || !datum ? null : ${l}`,force:!0}]})}}return n},signals:(e,t,n)=>{const r=t.name,i=t.project,o=n.find(d=>d.name===r+wc),s=r+nb,a=i.items.filter(d=>d.hasLegend).map(d=>Lt(`${r}_${Lt(d.field)}_legend`)),u=`${a.map(d=>`${d} !== null`).join(" && ")} ? {fields: ${s}, values: [${a.join(", ")}]} : null`;t.events&&a.length>0?o.on.push({events:a.map(d=>({signal:d})),update:u}):a.length>0&&(o.update=u,delete o.value,delete o.on);const c=n.find(d=>d.name===r+fk),f=i5(t.bind)&&t.bind.legend;return c&&(t.events?c.on.push({...c.on[0],events:f}):c.on[0].events=f),n}};function xKe(e,t,n){var i;const r=(i=e.fieldDef(t))==null?void 0:i.field;for(const o of tr(e.component.selection??{})){const s=o.project.hasField[r]??o.project.hasChannel[t];if(s&&Qae.defined(o)){const a=n.get("selections")??[];a.push(o.name),n.set("selections",a,!1),s.hasLegend=!0}}}const Zae="_translate_anchor",Jae="_translate_delta",wKe={defined:e=>e.type==="interval"&&e.translate,signals:(e,t,n)=>{const r=t.name,i=Cl.defined(t),o=r+Zae,{x:s,y:a}=t.project.hasChannel;let l=Rc(t.translate,"scope");return i||(l=l.map(u=>(u.between[0].markname=r+Cp,u))),n.push({name:o,value:{},on:[{events:l.map(u=>u.between[0]),update:"{x: x(unit), y: y(unit)"+(s!==void 0?`, extent_x: ${i?oM(e,zt):`slice(${s.signals.visual})`}`:"")+(a!==void 0?`, extent_y: ${i?oM(e,Un):`slice(${a.signals.visual})`}`:"")+"}"}]},{name:r+Jae,value:{},on:[{events:l,update:`{x: ${o}.x - x(unit), y: ${o}.y - y(unit)}`}]}),s!==void 0&&bV(e,t,s,"width",n),a!==void 0&&bV(e,t,a,"height",n),n}};function bV(e,t,n,r,i){const o=t.name,s=o+Zae,a=o+Jae,l=n.channel,u=Cl.defined(t),c=i.find(w=>w.name===n.signals[u?"data":"visual"]),f=e.getSizeSignalRef(r).signal,d=e.getScaleComponent(l),h=d&&d.get("type"),p=d&&d.get("reverse"),g=u?l===zt?p?"":"-":p?"-":"":"",m=`${s}.extent_${l}`,y=`${g}${a}.${l} / ${u?`${f}`:`span(${m})`}`,v=!u||!d?"panLinear":h==="log"?"panLog":h==="symlog"?"panSymlog":h==="pow"?"panPow":"panLinear",b=u?h==="pow"?`, ${d.get("exponent")??1}`:h==="symlog"?`, ${d.get("constant")??1}`:"":"",x=`${v}(${m}, ${y}${b})`;c.on.push({events:{signal:a},update:u?x:`clampRange(${x}, 0, ${f})`})}const ele="_zoom_anchor",tle="_zoom_delta",SKe={defined:e=>e.type==="interval"&&e.zoom,signals:(e,t,n)=>{const r=t.name,i=Cl.defined(t),o=r+tle,{x:s,y:a}=t.project.hasChannel,l=te(e.scaleName(zt)),u=te(e.scaleName(Un));let c=Rc(t.zoom,"scope");return i||(c=c.map(f=>(f.markname=r+Cp,f))),n.push({name:r+ele,on:[{events:c,update:i?"{"+[l?`x: invert(${l}, x(unit))`:"",u?`y: invert(${u}, y(unit))`:""].filter(f=>f).join(", ")+"}":"{x: x(unit), y: y(unit)}"}]},{name:o,on:[{events:c,force:!0,update:"pow(1.001, event.deltaY * pow(16, event.deltaMode))"}]}),s!==void 0&&xV(e,t,s,"width",n),a!==void 0&&xV(e,t,a,"height",n),n}};function xV(e,t,n,r,i){const o=t.name,s=n.channel,a=Cl.defined(t),l=i.find(v=>v.name===n.signals[a?"data":"visual"]),u=e.getSizeSignalRef(r).signal,c=e.getScaleComponent(s),f=c&&c.get("type"),d=a?oM(e,s):l.name,h=o+tle,p=`${o}${ele}.${s}`,g=!a||!c?"zoomLinear":f==="log"?"zoomLog":f==="symlog"?"zoomSymlog":f==="pow"?"zoomPow":"zoomLinear",m=a?f==="pow"?`, ${c.get("exponent")??1}`:f==="symlog"?`, ${c.get("constant")??1}`:"":"",y=`${g}(${d}, ${p}, ${h}${m})`;l.on.push({events:{signal:h},update:a?y:`clampRange(${y}, 0, ${u})`})}const Ad="_store",wc="_tuple",kKe="_modify",nle="vlSelectionResolve",oE=[iKe,nKe,eKe,Kae,Xae,Cl,Qae,bKe,wKe,SKe,Yae];function CKe(e){let t=e.parent;for(;t&&!Gi(t);)t=t.parent;return t}function ed(e,{escape:t}={escape:!0}){let n=t?te(e.name):e.name;const r=CKe(e);if(r){const{facet:i}=r;for(const o of $o)i[o]&&(n+=` + '__facet_${o}_' + (facet[${te(r.vgField(o))}])`)}return n}function K8(e){return tr(e.component.selection??{}).reduce((t,n)=>t||n.project.hasSelectionId,!1)}function rle(e,t){(le(t.select)||!t.select.on)&&delete e.events,(le(t.select)||!t.select.clear)&&delete e.clear,(le(t.select)||!t.select.toggle)&&delete e.toggle}function sM(e){const t=[];return e.type==="Identifier"?[e.name]:e.type==="Literal"?[e.value]:(e.type==="MemberExpression"&&(t.push(...sM(e.object)),t.push(...sM(e.property))),t)}function ile(e){return e.object.type==="MemberExpression"?ile(e.object):e.object.name==="datum"}function ole(e){const t=mO(e),n=new Set;return t.visit(r=>{r.type==="MemberExpression"&&ile(r)&&n.add(sM(r).slice(1).join("."))}),n}class gm extends gt{clone(){return new gm(null,this.model,Me(this.filter))}constructor(t,n,r){super(t),this.model=n,this.filter=r,this.expr=dk(this.model,this.filter,this),this._dependentFields=ole(this.expr)}dependentFields(){return this._dependentFields}producedFields(){return new Set}assemble(){return{type:"filter",expr:this.expr}}hash(){return`Filter ${this.expr}`}}function _Ke(e,t){const n={},r=e.config.selection;if(!t||!t.length)return n;for(const i of t){const o=Lt(i.name),s=i.select,a=le(s)?s:s.type,l=se(s)?Me(s):{type:a},u=r[a];for(const d in u)d==="fields"||d==="encodings"||(d==="mark"&&(l.mark={...u.mark,...l.mark}),(l[d]===void 0||l[d]===!0)&&(l[d]=Me(u[d]??l[d])));const c=n[o]={...l,name:o,type:a,init:i.value,bind:i.bind,events:le(l.on)?Rc(l.on,"scope"):ae(Me(l.on))},f=Me(i);for(const d of oE)d.defined(c)&&d.parse&&d.parse(e,c,f)}return n}function sle(e,t,n,r="datum"){const i=le(t)?t:t.param,o=Lt(i),s=te(o+Ad);let a;try{a=e.getSelectionComponent(o,i)}catch{return`!!${o}`}if(a.project.timeUnit){const d=n??e.component.data.raw,h=a.project.timeUnit.clone();d.parent?h.insertAsParentOf(d):d.parent=h}const l=a.project.hasSelectionId?"vlSelectionIdTest(":"vlSelectionTest(",u=a.resolve==="global"?")":`, ${te(a.resolve)})`,c=`${l}${s}, ${r}${u}`,f=`length(data(${s}))`;return t.empty===!1?`${f} && ${c}`:`!${f} || ${c}`}function ale(e,t,n){const r=Lt(t),i=n.encoding;let o=n.field,s;try{s=e.getSelectionComponent(r,t)}catch{return r}if(!i&&!o)o=s.project.items[0].field,s.project.items.length>1&&Z(`A "field" or "encoding" must be specified when using a selection as a scale domain. Using "field": ${te(o)}.`);else if(i&&!o){const a=s.project.items.filter(l=>l.channel===i);!a.length||a.length>1?(o=s.project.items[0].field,Z((a.length?"Multiple ":"No ")+`matching ${te(i)} encoding found for selection ${te(n.param)}. Using "field": ${te(o)}.`)):o=a[0].field}return`${s.name}[${te(Lo(o))}]`}function EKe(e,t){for(const[n,r]of yc(e.component.selection??{})){const i=e.getName(`lookup_${n}`);e.component.data.outputNodes[i]=r.materialized=new yi(new gm(t,e,{param:n}),i,tn.Lookup,e.component.data.outputNodeRefCounts)}}function dk(e,t,n){return Ty(t,r=>le(r)?r:nGe(r)?sle(e,r,n):xse(r))}function $Ke(e,t){if(e)return G(e)&&!mu(e)?e.map(n=>F8(n,t)).join(", "):e}function u5(e,t,n,r){var i,o;e.encode??(e.encode={}),(i=e.encode)[t]??(i[t]={}),(o=e.encode[t]).update??(o.update={}),e.encode[t].update[n]=r}function q0(e,t,n,r={header:!1}){var f,d;const{disable:i,orient:o,scale:s,labelExpr:a,title:l,zindex:u,...c}=e.combine();if(!i){for(const h in c){const p=h,g=aYe[p],m=c[p];if(g&&g!==t&&g!=="both")delete c[p];else if(tb(m)){const{condition:y,...v}=m,b=ae(y),x=GU[p];if(x){const{vgProp:w,part:k}=x,S=[...b.map(C=>{const{test:_,...$}=C;return{test:dk(null,_),...$}}),v];u5(c,k,w,S),delete c[p]}else if(x===null){const w={signal:b.map(k=>{const{test:S,...C}=k;return`${dk(null,S)} ? ${FU(C)} : `}).join("")+FU(v)};c[p]=w}}else if(me(m)){const y=GU[p];if(y){const{vgProp:v,part:b}=y;u5(c,b,v,m),delete c[p]}}ze(["labelAlign","labelBaseline"],p)&&c[p]===null&&delete c[p]}if(t==="grid"){if(!c.grid)return;if(c.encode){const{grid:h}=c.encode;c.encode={...h?{grid:h}:{}},vt(c.encode)&&delete c.encode}return{scale:s,orient:o,...c,domain:!1,labels:!1,aria:!1,maxExtent:0,minExtent:0,ticks:!1,zindex:ln(u,0)}}else{if(!r.header&&e.mainExtracted)return;if(a!==void 0){let p=a;(d=(f=c.encode)==null?void 0:f.labels)!=null&&d.update&&me(c.encode.labels.update.text)&&(p=wd(a,"datum.label",c.encode.labels.update.text.signal)),u5(c,"labels","text",{signal:p})}if(c.labelAlign===null&&delete c.labelAlign,c.encode){for(const p of Qse)e.hasAxisPart(p)||delete c.encode[p];vt(c.encode)&&delete c.encode}const h=$Ke(l,n);return{scale:s,orient:o,grid:!1,...h?{title:h}:{},...c,...n.aria===!1?{aria:!1}:{},zindex:ln(u,0)}}}}function lle(e){const{axes:t}=e.component,n=[];for(const r of Xl)if(t[r]){for(const i of t[r])if(!i.get("disable")&&!i.get("gridScale")){const o=r==="x"?"height":"width",s=e.getSizeSignalRef(o).signal;o!==s&&n.push({name:o,update:s})}}return n}function AKe(e,t){const{x:n=[],y:r=[]}=e;return[...n.map(i=>q0(i,"grid",t)),...r.map(i=>q0(i,"grid",t)),...n.map(i=>q0(i,"main",t)),...r.map(i=>q0(i,"main",t))].filter(i=>i)}function wV(e,t,n,r){return Object.assign.apply(null,[{},...e.map(i=>{if(i==="axisOrient"){const o=n==="x"?"bottom":"left",s=t[n==="x"?"axisBottom":"axisLeft"]||{},a=t[n==="x"?"axisTop":"axisRight"]||{},l=new Set([...X(s),...X(a)]),u={};for(const c of l.values())u[c]={signal:`${r.signal} === "${o}" ? ${ps(s[c])} : ${ps(a[c])}`};return u}return t[i]})])}function TKe(e,t,n,r){const i=t==="band"?["axisDiscrete","axisBand"]:t==="point"?["axisDiscrete","axisPoint"]:Cse(t)?["axisQuantitative"]:t==="time"||t==="utc"?["axisTemporal"]:[],o=e==="x"?"axisX":"axisY",s=me(n)?"axisOrient":`axis${Wv(n)}`,a=[...i,...i.map(u=>o+u.substr(4))],l=["axis",s,o];return{vlOnlyAxisConfig:wV(a,r,e,n),vgAxisConfig:wV(l,r,e,n),axisConfigStyle:MKe([...l,...a],r)}}function MKe(e,t){var r;const n=[{}];for(const i of e){let o=(r=t[i])==null?void 0:r.style;if(o){o=ae(o);for(const s of o)n.push(t.style[s])}}return Object.assign.apply(null,n)}function aM(e,t,n,r={}){var o;const i=Zoe(e,n,t);if(i!==void 0)return{configFrom:"style",configValue:i};for(const s of["vlOnlyAxisConfig","vgAxisConfig","axisConfigStyle"])if(((o=r[s])==null?void 0:o[e])!==void 0)return{configFrom:s,configValue:r[s][e]};return{}}const SV={scale:({model:e,channel:t})=>e.scaleName(t),format:({format:e})=>e,formatType:({formatType:e})=>e,grid:({fieldOrDatumDef:e,axis:t,scaleType:n})=>t.grid??FKe(n,e),gridScale:({model:e,channel:t})=>PKe(e,t),labelAlign:({axis:e,labelAngle:t,orient:n,channel:r})=>e.labelAlign||cle(t,n,r),labelAngle:({labelAngle:e})=>e,labelBaseline:({axis:e,labelAngle:t,orient:n,channel:r})=>e.labelBaseline||ule(t,n,r),labelFlush:({axis:e,fieldOrDatumDef:t,channel:n})=>e.labelFlush??DKe(t.type,n),labelOverlap:({axis:e,fieldOrDatumDef:t,scaleType:n})=>e.labelOverlap??OKe(t.type,n,J(t)&&!!t.timeUnit,J(t)?t.sort:void 0),orient:({orient:e})=>e,tickCount:({channel:e,model:t,axis:n,fieldOrDatumDef:r,scaleType:i})=>{const o=e==="x"?"width":e==="y"?"height":void 0,s=o?t.getSizeSignalRef(o):void 0;return n.tickCount??IKe({fieldOrDatumDef:r,scaleType:i,size:s,values:n.values})},tickMinStep:LKe,title:({axis:e,model:t,channel:n})=>{if(e.title!==void 0)return e.title;const r=fle(t,n);if(r!==void 0)return r;const i=t.typedFieldDef(n),o=n==="x"?"x2":"y2",s=t.fieldDef(o);return ese(i?[HU(i)]:[],J(s)?[HU(s)]:[])},values:({axis:e,fieldOrDatumDef:t})=>zKe(e,t),zindex:({axis:e,fieldOrDatumDef:t,mark:n})=>e.zindex??jKe(n,t)};function FKe(e,t){return!Ln(e)&&J(t)&&!Et(t==null?void 0:t.bin)&&!Hn(t==null?void 0:t.bin)}function PKe(e,t){const n=t==="x"?"y":"x";if(e.getScaleComponent(n))return e.scaleName(n)}function RKe(e,t,n,r,i){const o=t==null?void 0:t.labelAngle;if(o!==void 0)return me(o)?o:P1(o);{const{configValue:s}=aM("labelAngle",r,t==null?void 0:t.style,i);return s!==void 0?P1(s):n===zt&&ze([b8,v8],e.type)&&!(J(e)&&e.timeUnit)?270:void 0}}function lM(e){return`(((${e.signal} % 360) + 360) % 360)`}function ule(e,t,n,r){if(e!==void 0)if(n==="x"){if(me(e)){const i=lM(e),o=me(t)?`(${t.signal} === "top")`:t==="top";return{signal:`(45 < ${i} && ${i} < 135) || (225 < ${i} && ${i} < 315) ? "middle" :(${i} <= 45 || 315 <= ${i}) === ${o} ? "bottom" : "top"`}}if(45<e&&e<135||225<e&&e<315)return"middle";if(me(t)){const i=e<=45||315<=e?"===":"!==";return{signal:`${t.signal} ${i} "top" ? "bottom" : "top"`}}return(e<=45||315<=e)==(t==="top")?"bottom":"top"}else{if(me(e)){const i=lM(e),o=me(t)?`(${t.signal} === "left")`:t==="left";return{signal:`${i} <= 45 || 315 <= ${i} || (135 <= ${i} && ${i} <= 225) ? ${r?'"middle"':"null"} : (45 <= ${i} && ${i} <= 135) === ${o} ? "top" : "bottom"`}}if(e<=45||315<=e||135<=e&&e<=225)return r?"middle":null;if(me(t)){const i=45<=e&&e<=135?"===":"!==";return{signal:`${t.signal} ${i} "left" ? "top" : "bottom"`}}return(45<=e&&e<=135)==(t==="left")?"top":"bottom"}}function cle(e,t,n){if(e===void 0)return;const r=n==="x",i=r?0:90,o=r?"bottom":"left";if(me(e)){const s=lM(e),a=me(t)?`(${t.signal} === "${o}")`:t===o;return{signal:`(${i?`(${s} + 90)`:s} % 180 === 0) ? ${r?null:'"center"'} :(${i} < ${s} && ${s} < ${180+i}) === ${a} ? "left" : "right"`}}if((e+i)%180===0)return r?null:"center";if(me(t)){const s=i<e&&e<180+i?"===":"!==";return{signal:`${`${t.signal} ${s} "${o}"`} ? "left" : "right"`}}return(i<e&&e<180+i)==(t===o)?"left":"right"}function DKe(e,t){if(t==="x"&&ze(["quantitative","temporal"],e))return!0}function OKe(e,t,n,r){if(n&&!se(r)||e!=="nominal"&&e!=="ordinal")return t==="log"||t==="symlog"?"greedy":!0}function NKe(e){return e==="x"?"bottom":"left"}function IKe({fieldOrDatumDef:e,scaleType:t,size:n,values:r}){var i;if(!r&&!Ln(t)&&t!=="log"){if(J(e)){if(Et(e.bin))return{signal:`ceil(${n.signal}/10)`};if(e.timeUnit&&ze(["month","hours","day","quarter"],(i=In(e.timeUnit))==null?void 0:i.unit))return}return{signal:`ceil(${n.signal}/40)`}}}function LKe({format:e,fieldOrDatumDef:t}){if(e==="d")return 1;if(J(t)){const{timeUnit:n}=t;if(n){const r=yse(n);if(r)return{signal:r}}}}function fle(e,t){const n=t==="x"?"x2":"y2",r=e.fieldDef(t),i=e.fieldDef(n),o=r?r.title:void 0,s=i?i.title:void 0;if(o&&s)return tse(o,s);if(o)return o;if(s)return s;if(o!==void 0)return o;if(s!==void 0)return s}function zKe(e,t){const n=e.values;if(G(n))return Kse(t,n);if(me(n))return n}function jKe(e,t){return e==="rect"&&ok(t)?1:0}class Og extends gt{clone(){return new Og(null,Me(this.transform))}constructor(t,n){super(t),this.transform=n,this._dependentFields=ole(this.transform.calculate)}static parseAllForSortIndex(t,n){return n.forEachFieldDef((r,i)=>{if(th(r)&&jse(r.sort)){const{field:o,timeUnit:s}=r,a=r.sort,l=a.map((u,c)=>`${xse({field:o,timeUnit:s,equal:u})} ? ${c} : `).join("")+a.length;t=new Og(t,{calculate:l,as:Ng(r,i,{forAs:!0})})}}),t}producedFields(){return new Set([this.transform.as])}dependentFields(){return this._dependentFields}assemble(){return{type:"formula",expr:this.transform.calculate,as:this.transform.as}}hash(){return`Calculate ${Be(this.transform)}`}}function Ng(e,t,n){return ie(e,{prefix:t,suffix:"sort_index",...n})}function sE(e,t){return ze(["top","bottom"],t)?"column":ze(["left","right"],t)||e==="row"?"row":"column"}function Ig(e,t,n,r){const i=r==="row"?n.headerRow:r==="column"?n.headerColumn:n.headerFacet;return ln((t||{})[e],i[e],n.header[e])}function aE(e,t,n,r){const i={};for(const o of e){const s=Ig(o,t||{},n,r);s!==void 0&&(i[o]=s)}return i}const Q8=["row","column"],Z8=["header","footer"];function BKe(e,t){const n=e.component.layoutHeaders[t].title,r=e.config?e.config:void 0,i=e.component.layoutHeaders[t].facetFieldDef?e.component.layoutHeaders[t].facetFieldDef:void 0,{titleAnchor:o,titleAngle:s,titleOrient:a}=aE(["titleAnchor","titleAngle","titleOrient"],i.header,r,t),l=sE(t,a),u=P1(s);return{name:`${t}-title`,type:"group",role:`${l}-title`,title:{text:n,...t==="row"?{orient:"left"}:{},style:"guide-title",...hle(u,l),...dle(l,u,o),...ple(r,i,t,TYe,gae)}}}function dle(e,t,n="middle"){switch(n){case"start":return{align:"left"};case"end":return{align:"right"}}const r=cle(t,e==="row"?"left":"top",e==="row"?"y":"x");return r?{align:r}:{}}function hle(e,t){const n=ule(e,t==="row"?"left":"top",t==="row"?"y":"x",!0);return n?{baseline:n}:{}}function UKe(e,t){const n=e.component.layoutHeaders[t],r=[];for(const i of Z8)if(n[i])for(const o of n[i]){const s=WKe(e,t,i,n,o);s!=null&&r.push(s)}return r}function VKe(e,t){const{sort:n}=e;return kl(n)?{field:ie(n,{expr:"datum"}),order:n.order??"ascending"}:G(n)?{field:Ng(e,t,{expr:"datum"}),order:"ascending"}:{field:ie(e,{expr:"datum"}),order:n??"ascending"}}function uM(e,t,n){const{format:r,formatType:i,labelAngle:o,labelAnchor:s,labelOrient:a,labelExpr:l}=aE(["format","formatType","labelAngle","labelAnchor","labelOrient","labelExpr"],e.header,n,t),u=$8({fieldOrDatumDef:e,format:r,formatType:i,expr:"parent",config:n}).signal,c=sE(t,a);return{text:{signal:l?wd(wd(l,"datum.label",u),"datum.value",ie(e,{expr:"parent"})):u},...t==="row"?{orient:"left"}:{},style:"guide-label",frame:"group",...hle(o,c),...dle(c,o,s),...ple(n,e,t,MYe,mae)}}function WKe(e,t,n,r,i){if(i){let o=null;const{facetFieldDef:s}=r,a=e.config?e.config:void 0;if(s&&i.labels){const{labelOrient:f}=aE(["labelOrient"],s.header,a,t);(t==="row"&&!ze(["top","bottom"],f)||t==="column"&&!ze(["left","right"],f))&&(o=uM(s,t,a))}const l=Gi(e)&&!Qv(e.facet),u=i.axes,c=(u==null?void 0:u.length)>0;if(o||c){const f=t==="row"?"height":"width";return{name:e.getName(`${t}_${n}`),type:"group",role:`${t}-${n}`,...r.facetFieldDef?{from:{data:e.getName(`${t}_domain`)},sort:VKe(s,t)}:{},...c&&l?{from:{data:e.getName(`facet_domain_${t}`)}}:{},...o?{title:o}:{},...i.sizeSignal?{encode:{update:{[f]:i.sizeSignal}}}:{},...c?{axes:u}:{}}}}return null}const HKe={column:{start:0,end:1},row:{start:1,end:0}};function qKe(e,t){return HKe[t][e]}function GKe(e,t){const n={};for(const r of $o){const i=e[r];if(i!=null&&i.facetFieldDef){const{titleAnchor:o,titleOrient:s}=aE(["titleAnchor","titleOrient"],i.facetFieldDef.header,t,r),a=sE(r,s),l=qKe(o,a);l!==void 0&&(n[a]=l)}}return vt(n)?void 0:n}function ple(e,t,n,r,i){const o={};for(const s of r){if(!i[s])continue;const a=Ig(s,t==null?void 0:t.header,e,n);a!==void 0&&(o[i[s]]=a)}return o}function J8(e){return[..._x(e,"width"),..._x(e,"height"),..._x(e,"childWidth"),..._x(e,"childHeight")]}function _x(e,t){const n=t==="width"?"x":"y",r=e.component.layoutSize.get(t);if(!r||r==="merged")return[];const i=e.getSizeSignalRef(t).signal;if(r==="step"){const o=e.getScaleComponent(n);if(o){const s=o.get("type"),a=o.get("range");if(Ln(s)&&Zd(a)){const l=e.scaleName(n);return Gi(e.parent)&&e.parent.component.resolve.scale[n]==="independent"?[kV(l,a)]:[kV(l,a),{name:i,update:gle(l,o,`domain('${l}').length`)}]}}throw new Error("layout size is step although width/height is not step.")}else if(r=="container"){const o=i.endsWith("width"),s=o?"containerSize()[0]":"containerSize()[1]",a=eM(e.config.view,o?"width":"height"),l=`isFinite(${s}) ? ${s} : ${a}`;return[{name:i,init:l,on:[{update:l,events:"window:resize"}]}]}else return[{name:i,value:r}]}function kV(e,t){const n=`${e}_step`;return me(t.step)?{name:n,update:t.step.signal}:{name:n,value:t.step}}function gle(e,t,n){const r=t.get("type"),i=t.get("padding"),o=ln(t.get("paddingOuter"),i);let s=t.get("paddingInner");return s=r==="band"?s!==void 0?s:i:1,`bandspace(${n}, ${ps(s)}, ${ps(o)}) * ${e}_step`}function mle(e){return e==="childWidth"?"width":e==="childHeight"?"height":e}function yle(e,t){return X(e).reduce((n,r)=>({...n,...pm({model:t,channelDef:e[r],vgChannel:r,mainRefFn:i=>Pt(i.value),invalidValueRef:void 0})}),{})}function vle(e,t){if(Gi(t))return e==="theta"?"independent":"shared";if(vm(t))return"shared";if(s9(t))return un(e)||e==="theta"||e==="radius"?"independent":"shared";throw new Error("invalid model type for resolve")}function e9(e,t){const n=e.scale[t],r=un(t)?"axis":"legend";return n==="independent"?(e[r][t]==="shared"&&Z(Cqe(t)),"independent"):e[r][t]||"shared"}const YKe={...RYe,disable:1,labelExpr:1,selections:1,opacity:1,shape:1,stroke:1,fill:1,size:1,strokeWidth:1,strokeDash:1,encode:1},ble=X(YKe);class XKe extends Ql{}const CV={symbols:KKe,gradient:QKe,labels:ZKe,entries:JKe};function KKe(e,{fieldOrDatumDef:t,model:n,channel:r,legendCmpt:i,legendType:o}){if(o!=="symbol")return;const{markDef:s,encoding:a,config:l,mark:u}=n,c=s.filled&&u!=="trail";let f={...OHe({},n,AGe),...Hae(n,{filled:c})};const d=i.get("symbolOpacity")??l.legend.symbolOpacity,h=i.get("symbolFillColor")??l.legend.symbolFillColor,p=i.get("symbolStrokeColor")??l.legend.symbolStrokeColor,g=d===void 0?xle(a.opacity)??s.opacity:void 0;if(f.fill){if(r==="fill"||c&&r===ki)delete f.fill;else if(K(f.fill,"field"))h?delete f.fill:(f.fill=Pt(l.legend.symbolBaseFillColor??"black"),f.fillOpacity=Pt(g??1));else if(G(f.fill)){const m=cM(a.fill??a.color)??s.fill??(c&&s.color);m&&(f.fill=Pt(m))}}if(f.stroke){if(r==="stroke"||!c&&r===ki)delete f.stroke;else if(K(f.stroke,"field")||p)delete f.stroke;else if(G(f.stroke)){const m=ln(cM(a.stroke||a.color),s.stroke,c?s.color:void 0);m&&(f.stroke={value:m})}}if(r!==Yl){const m=J(t)&&Sle(n,i,t);m?f.opacity=[{test:m,...Pt(g??1)},Pt(l.legend.unselectedOpacity)]:g&&(f.opacity=Pt(g))}return f={...f,...e},vt(f)?void 0:f}function QKe(e,{model:t,legendType:n,legendCmpt:r}){if(n!=="gradient")return;const{config:i,markDef:o,encoding:s}=t;let a={};const u=(r.get("gradientOpacity")??i.legend.gradientOpacity)===void 0?xle(s.opacity)||o.opacity:void 0;return u&&(a.opacity=Pt(u)),a={...a,...e},vt(a)?void 0:a}function ZKe(e,{fieldOrDatumDef:t,model:n,channel:r,legendCmpt:i}){const o=n.legend(r)||{},s=n.config,a=J(t)?Sle(n,i,t):void 0,l=a?[{test:a,value:1},{value:s.legend.unselectedOpacity}]:void 0,{format:u,formatType:c}=o;let f;Ed(c)?f=gs({fieldOrDatumDef:t,field:"datum.value",format:u,formatType:c,config:s}):u===void 0&&c===void 0&&s.customFormatTypes&&(t.type==="quantitative"&&s.numberFormatType?f=gs({fieldOrDatumDef:t,field:"datum.value",format:s.numberFormat,formatType:s.numberFormatType,config:s}):t.type==="temporal"&&s.timeFormatType&&J(t)&&t.timeUnit===void 0&&(f=gs({fieldOrDatumDef:t,field:"datum.value",format:s.timeFormat,formatType:s.timeFormatType,config:s})));const d={...l?{opacity:l}:{},...f?{text:f}:{},...e};return vt(d)?void 0:d}function JKe(e,{legendCmpt:t}){const n=t.get("selections");return n!=null&&n.length?{...e,fill:{value:"transparent"}}:e}function xle(e){return wle(e,(t,n)=>Math.max(t,n.value))}function cM(e){return wle(e,(t,n)=>ln(t,n.value))}function wle(e,t){if(XGe(e))return ae(e.condition).reduce(t,e.value);if($s(e))return e.value}function Sle(e,t,n){const r=t.get("selections");if(!(r!=null&&r.length))return;const i=te(n.field);return r.map(o=>`(!length(data(${te(Lt(o)+Ad)})) || (${o}[${i}] && indexof(${o}[${i}], datum.value) >= 0))`).join(" || ")}const _V={direction:({direction:e})=>e,format:({fieldOrDatumDef:e,legend:t,config:n})=>{const{format:r,formatType:i}=t;return Ise(e,e.type,r,i,n,!1)},formatType:({legend:e,fieldOrDatumDef:t,scaleType:n})=>{const{formatType:r}=e;return Lse(r,t,n)},gradientLength:e=>{const{legend:t,legendConfig:n}=e;return t.gradientLength??n.gradientLength??sQe(e)},labelOverlap:({legend:e,legendConfig:t,scaleType:n})=>e.labelOverlap??t.labelOverlap??aQe(n),symbolType:({legend:e,markDef:t,channel:n,encoding:r})=>e.symbolType??tQe(t.type,n,r.shape,t.shape),title:({fieldOrDatumDef:e,config:t})=>kp(e,t,{allowDisabling:!0}),type:({legendType:e,scaleType:t,channel:n})=>{if(Sp(n)&&ua(t)){if(e==="gradient")return}else if(e==="symbol")return;return e},values:({fieldOrDatumDef:e,legend:t})=>eQe(t,e)};function eQe(e,t){const n=e.values;if(G(n))return Kse(t,n);if(me(n))return n}function tQe(e,t,n,r){if(t!=="shape"){const i=cM(n)??r;if(i)return i}switch(e){case"bar":case"rect":case"image":case"square":return"square";case"line":case"trail":case"rule":return"stroke";case"arc":case"point":case"circle":case"tick":case"geoshape":case"area":case"text":return"circle"}}function nQe(e){const{legend:t}=e;return ln(t.type,rQe(e))}function rQe({channel:e,timeUnit:t,scaleType:n}){if(Sp(e)){if(ze(["quarter","month","day"],t))return"symbol";if(ua(n))return"gradient"}return"symbol"}function iQe({legendConfig:e,legendType:t,orient:n,legend:r}){return r.direction??e[t?"gradientDirection":"symbolDirection"]??oQe(n,t)}function oQe(e,t){switch(e){case"top":case"bottom":return"horizontal";case"left":case"right":case"none":case void 0:return;default:return t==="gradient"?"horizontal":void 0}}function sQe({legendConfig:e,model:t,direction:n,orient:r,scaleType:i}){const{gradientHorizontalMaxLength:o,gradientHorizontalMinLength:s,gradientVerticalMaxLength:a,gradientVerticalMinLength:l}=e;if(ua(i))return n==="horizontal"?r==="top"||r==="bottom"?EV(t,"width",s,o):s:EV(t,"height",l,a)}function EV(e,t,n,r){return{signal:`clamp(${e.getSizeSignalRef(t).signal}, ${n}, ${r})`}}function aQe(e){if(ze(["quantile","threshold","log","symlog"],e))return"greedy"}function kle(e){const t=Ut(e)?lQe(e):dQe(e);return e.component.legends=t,t}function lQe(e){const{encoding:t}=e,n={};for(const r of[ki,...vae]){const i=Sn(t[r]);!i||!e.getScaleComponent(r)||r===Ci&&J(i)&&i.type===hm||(n[r]=fQe(e,r))}return n}function uQe(e,t){const n=e.scaleName(t);if(e.mark==="trail"){if(t==="color")return{stroke:n};if(t==="size")return{strokeWidth:n}}return t==="color"?e.markDef.filled?{fill:n}:{stroke:n}:{[t]:n}}function cQe(e,t,n,r){switch(t){case"disable":return n!==void 0;case"values":return!!(n!=null&&n.values);case"title":if(t==="title"&&e===(r==null?void 0:r.title))return!0}return e===(n||{})[t]}function fQe(e,t){var x;let n=e.legend(t);const{markDef:r,encoding:i,config:o}=e,s=o.legend,a=new XKe({},uQe(e,t));xKe(e,t,a);const l=n!==void 0?!n:s.disable;if(a.set("disable",l,n!==void 0),l)return a;n=n||{};const u=e.getScaleComponent(t).get("type"),c=Sn(i[t]),f=J(c)?(x=In(c.timeUnit))==null?void 0:x.unit:void 0,d=n.orient||o.legend.orient||"right",h=nQe({legend:n,channel:t,timeUnit:f,scaleType:u}),p=iQe({legend:n,legendType:h,orient:d,legendConfig:s}),g={legend:n,channel:t,model:e,markDef:r,encoding:i,fieldOrDatumDef:c,legendConfig:s,config:o,scaleType:u,orient:d,legendType:h,direction:p};for(const w of ble){if(h==="gradient"&&w.startsWith("symbol")||h==="symbol"&&w.startsWith("gradient"))continue;const k=w in _V?_V[w](g):n[w];if(k!==void 0){const S=cQe(k,w,n,e.fieldDef(t));(S||o.legend[w]===void 0)&&a.set(w,k,S)}}const m=(n==null?void 0:n.encoding)??{},y=a.get("selections"),v={},b={fieldOrDatumDef:c,model:e,channel:t,legendCmpt:a,legendType:h};for(const w of["labels","legend","title","symbols","gradient","entries"]){const k=yle(m[w]??{},e),S=w in CV?CV[w](k,b):k;S!==void 0&&!vt(S)&&(v[w]={...y!=null&&y.length&&J(c)?{name:`${Lt(c.field)}_legend_${w}`}:{},...y!=null&&y.length?{interactive:!!y}:{},update:S})}return vt(v)||a.set("encode",v,!!(n!=null&&n.encoding)),a}function dQe(e){const{legends:t,resolve:n}=e.component;for(const r of e.children){kle(r);for(const i of X(r.component.legends))n.legend[i]=e9(e.component.resolve,i),n.legend[i]==="shared"&&(t[i]=Cle(t[i],r.component.legends[i]),t[i]||(n.legend[i]="independent",delete t[i]))}for(const r of X(t))for(const i of e.children)i.component.legends[r]&&n.legend[r]==="shared"&&delete i.component.legends[r];return t}function Cle(e,t){var o,s,a,l;if(!e)return t.clone();const n=e.getWithExplicit("orient"),r=t.getWithExplicit("orient");if(n.explicit&&r.explicit&&n.value!==r.value)return;let i=!1;for(const u of ble){const c=xc(e.getWithExplicit(u),t.getWithExplicit(u),u,"legend",(f,d)=>{switch(u){case"symbolType":return hQe(f,d);case"title":return nse(f,d);case"type":return i=!0,Ti("symbol")}return tE(f,d,u,"legend")});e.setWithExplicit(u,c)}return i&&((s=(o=e.implicit)==null?void 0:o.encode)!=null&&s.gradient&&ek(e.implicit,["encode","gradient"]),(l=(a=e.explicit)==null?void 0:a.encode)!=null&&l.gradient&&ek(e.explicit,["encode","gradient"])),e}function hQe(e,t){return t.value==="circle"?t:e}function pQe(e,t,n,r){var i,o;e.encode??(e.encode={}),(i=e.encode)[t]??(i[t]={}),(o=e.encode[t]).update??(o.update={}),e.encode[t].update[n]=r}function _le(e){const t=e.component.legends,n={};for(const i of X(t)){const o=e.getScaleComponent(i),s=bt(o.get("domains"));if(n[s])for(const a of n[s])Cle(a,t[i])||n[s].push(t[i]);else n[s]=[t[i].clone()]}return tr(n).flat().map(i=>gQe(i,e.config)).filter(i=>i!==void 0)}function gQe(e,t){var s,a,l;const{disable:n,labelExpr:r,selections:i,...o}=e.combine();if(!n){if(t.aria===!1&&o.aria==null&&(o.aria=!1),(s=o.encode)!=null&&s.symbols){const u=o.encode.symbols.update;u.fill&&u.fill.value!=="transparent"&&!u.stroke&&!o.stroke&&(u.stroke={value:"transparent"});for(const c of vae)o[c]&&delete u[c]}if(o.title||delete o.title,r!==void 0){let u=r;(l=(a=o.encode)==null?void 0:a.labels)!=null&&l.update&&me(o.encode.labels.update.text)&&(u=wd(r,"datum.label",o.encode.labels.update.text.signal)),pQe(o,"labels","text",{signal:u})}return o}}function mQe(e){return vm(e)||s9(e)?yQe(e):Ele(e)}function yQe(e){return e.children.reduce((t,n)=>t.concat(n.assembleProjections()),Ele(e))}function Ele(e){const t=e.component.projection;if(!t||t.merged)return[];const n=t.combine(),{name:r}=n;if(t.data){const i={signal:`[${t.size.map(s=>s.signal).join(", ")}]`},o=t.data.reduce((s,a)=>{const l=me(a)?a.signal:`data('${e.lookupDataSource(a)}')`;return ze(s,l)||s.push(l),s},[]);if(o.length<=0)throw new Error("Projection's fit didn't find any data sources");return[{name:r,size:i,fit:{signal:o.length>1?`[${o.join(", ")}]`:o[0]},...n}]}else return[{name:r,translate:{signal:"[width / 2, height / 2]"},...n}]}const vQe=["type","clipAngle","clipExtent","center","rotate","precision","reflectX","reflectY","coefficient","distance","fraction","lobes","parallel","radius","ratio","spacing","tilt"];class $le extends Ql{constructor(t,n,r,i){super({...n},{name:t}),this.specifiedProjection=n,this.size=r,this.data=i,this.merged=!1}get isFit(){return!!this.data}}function Ale(e){e.component.projection=Ut(e)?bQe(e):SQe(e)}function bQe(e){if(e.hasProjection){const t=Gn(e.specifiedProjection),n=!(t&&(t.scale!=null||t.translate!=null)),r=n?[e.getSizeSignalRef("width"),e.getSizeSignalRef("height")]:void 0,i=n?xQe(e):void 0,o=new $le(e.projectionName(!0),{...Gn(e.config.projection),...t},r,i);return o.get("type")||o.set("type","equalEarth",!1),o}}function xQe(e){const t=[],{encoding:n}=e;for(const r of[[Ns,Os],[zo,Is]])(Sn(n[r[0]])||Sn(n[r[1]]))&&t.push({signal:e.getName(`geojson_${t.length}`)});return e.channelHasField(Ci)&&e.typedFieldDef(Ci).type===hm&&t.push({signal:e.getName(`geojson_${t.length}`)}),t.length===0&&t.push(e.requestDataName(tn.Main)),t}function wQe(e,t){const n=GO(vQe,i=>!!(!ce(e.explicit,i)&&!ce(t.explicit,i)||ce(e.explicit,i)&&ce(t.explicit,i)&&ji(e.get(i),t.get(i))));if(ji(e.size,t.size)){if(n)return e;if(ji(e.explicit,{}))return t;if(ji(t.explicit,{}))return e}return null}function SQe(e){if(e.children.length===0)return;let t;for(const r of e.children)Ale(r);const n=GO(e.children,r=>{const i=r.component.projection;if(i)if(t){const o=wQe(t,i);return o&&(t=o),!!o}else return t=i,!0;else return!0});if(t&&n){const r=e.projectionName(!0),i=new $le(r,t.specifiedProjection,t.size,Me(t.data));for(const o of e.children){const s=o.component.projection;s&&(s.isFit&&i.data.push(...o.component.projection.data),o.renameProjection(s.get("name"),r),s.merged=!0)}return i}}function kQe(e,t,n,r){if(eb(t,n)){const i=Ut(e)?e.axis(n)??e.legend(n)??{}:{},o=ie(t,{expr:"datum"}),s=ie(t,{expr:"datum",binSuffix:"end"});return{formulaAs:ie(t,{binSuffix:"range",forAs:!0}),formula:Kv(o,s,i.format,i.formatType,r)}}return{}}function Tle(e,t){return`${Yoe(e)}_${t}`}function CQe(e,t){return{signal:e.getName(`${t}_bins`),extentSignal:e.getName(`${t}_extent`)}}function t9(e,t,n){const r=X_(n,void 0)??{},i=Tle(r,t);return e.getName(`${i}_bins`)}function _Qe(e){return"as"in e}function $V(e,t,n){let r,i;_Qe(e)?r=le(e.as)?[e.as,`${e.as}_end`]:[e.as[0],e.as[1]]:r=[ie(e,{forAs:!0}),ie(e,{binSuffix:"end",forAs:!0})];const o={...X_(t,void 0)},s=Tle(o,e.field),{signal:a,extentSignal:l}=CQe(n,s);if(L_(o.extent)){const c=o.extent;i=ale(n,c.param,c),delete o.extent}const u={bin:o,field:e.field,as:[r],...a?{signal:a}:{},...l?{extentSignal:l}:{},...i?{span:i}:{}};return{key:s,binComponent:u}}class wa extends gt{clone(){return new wa(null,Me(this.bins))}constructor(t,n){super(t),this.bins=n}static makeFromEncoding(t,n){const r=n.reduceFieldDef((i,o,s)=>{if(Zr(o)&&Et(o.bin)){const{key:a,binComponent:l}=$V(o,o.bin,n);i[a]={...l,...i[a],...kQe(n,o,s,n.config)}}return i},{});return vt(r)?null:new wa(t,r)}static makeFromTransform(t,n,r){const{key:i,binComponent:o}=$V(n,n.bin,r);return new wa(t,{[i]:o})}merge(t,n){for(const r of X(t.bins))r in this.bins?(n(t.bins[r].signal,this.bins[r].signal),this.bins[r].as=la([...this.bins[r].as,...t.bins[r].as],Be)):this.bins[r]=t.bins[r];for(const r of t.children)t.removeChild(r),r.parent=this;t.remove()}producedFields(){return new Set(tr(this.bins).map(t=>t.as).flat(2))}dependentFields(){return new Set(tr(this.bins).map(t=>t.field))}hash(){return`Bin ${Be(this.bins)}`}assemble(){return tr(this.bins).flatMap(t=>{const n=[],[r,...i]=t.as,{extent:o,...s}=t.bin,a={type:"bin",field:Lo(t.field),as:r,signal:t.signal,...L_(o)?{extent:null}:{extent:o},...t.span?{span:{signal:`span(${t.span})`}}:{},...s};!o&&t.extentSignal&&(n.push({type:"extent",field:Lo(t.field),signal:t.extentSignal}),a.extent={signal:t.extentSignal}),n.push(a);for(const l of i)for(let u=0;u<2;u++)n.push({type:"formula",expr:ie({field:r[u]},{expr:"datum"}),as:l[u]});return t.formula&&n.push({type:"formula",expr:t.formula,as:t.formulaAs}),n})}}function EQe(e,t,n,r){var o;const i=Ut(r)?r.encoding[za(t)]:void 0;if(Zr(n)&&Ut(r)&&Use(n,i,r.markDef,r.config)){e.add(ie(n,{})),e.add(ie(n,{suffix:"end"}));const{mark:s,markDef:a,config:l}=r,u=bc({fieldDef:n,markDef:a,config:l});R1(s)&&u!==.5&&un(t)&&(e.add(ie(n,{suffix:nE})),e.add(ie(n,{suffix:rE}))),n.bin&&eb(n,t)&&e.add(ie(n,{binSuffix:"range"}))}else if(zoe(t)){const s=Loe(t);e.add(r.getName(s))}else e.add(ie(n));return th(n)&&gGe((o=n.scale)==null?void 0:o.range)&&e.add(n.scale.range.field),e}function $Qe(e,t){for(const n of X(t)){const r=t[n];for(const i of X(r))n in e?e[n][i]=new Set([...e[n][i]??[],...r[i]]):e[n]={[i]:r[i]}}}class bs extends gt{clone(){return new bs(null,new Set(this.dimensions),Me(this.measures))}constructor(t,n,r){super(t),this.dimensions=n,this.measures=r}get groupBy(){return this.dimensions}static makeFromEncoding(t,n){let r=!1;n.forEachFieldDef(s=>{s.aggregate&&(r=!0)});const i={},o=new Set;return!r||(n.forEachFieldDef((s,a)=>{const{aggregate:l,field:u}=s;if(l)if(l==="count")i["*"]??(i["*"]={}),i["*"].count=new Set([ie(s,{forAs:!0})]);else{if(Nl(l)||zc(l)){const c=Nl(l)?"argmin":"argmax",f=l[c];i[f]??(i[f]={}),i[f][c]=new Set([ie({op:c,field:f},{forAs:!0})])}else i[u]??(i[u]={}),i[u][l]=new Set([ie(s,{forAs:!0})]);ja(a)&&n.scaleDomain(a)==="unaggregated"&&(i[u]??(i[u]={}),i[u].min=new Set([ie({field:u,aggregate:"min"},{forAs:!0})]),i[u].max=new Set([ie({field:u,aggregate:"max"},{forAs:!0})]))}else EQe(o,a,s,n)}),o.size+X(i).length===0)?null:new bs(t,o,i)}static makeFromTransform(t,n){var r;const i=new Set,o={};for(const s of n.aggregate){const{op:a,field:l,as:u}=s;a&&(a==="count"?(o["*"]??(o["*"]={}),o["*"].count=new Set([u||ie(s,{forAs:!0})])):(o[l]??(o[l]={}),(r=o[l])[a]??(r[a]=new Set),o[l][a].add(u||ie(s,{forAs:!0}))))}for(const s of n.groupby??[])i.add(s);return i.size+X(o).length===0?null:new bs(t,i,o)}merge(t){return Moe(this.dimensions,t.dimensions)?($Qe(this.measures,t.measures),!0):(jqe("different dimensions, cannot merge"),!1)}addDimensions(t){t.forEach(this.dimensions.add,this.dimensions)}dependentFields(){return new Set([...this.dimensions,...X(this.measures)])}producedFields(){const t=new Set;for(const n of X(this.measures))for(const r of X(this.measures[n])){const i=this.measures[n][r];i.size===0?t.add(`${r}_${n}`):i.forEach(t.add,t)}return t}hash(){return`Aggregate ${Be({dimensions:this.dimensions,measures:this.measures})}`}assemble(){const t=[],n=[],r=[];for(const o of X(this.measures))for(const s of X(this.measures[o]))for(const a of this.measures[o][s])r.push(a),t.push(s),n.push(o==="*"?null:Lo(o));return{type:"aggregate",groupby:[...this.dimensions].map(Lo),ops:t,fields:n,as:r}}}class mm extends gt{constructor(t,n,r,i){super(t),this.model=n,this.name=r,this.data=i;for(const o of $o){const s=n.facet[o];if(s){const{bin:a,sort:l}=s;this[o]={name:n.getName(`${o}_domain`),fields:[ie(s),...Et(a)?[ie(s,{binSuffix:"end"})]:[]],...kl(l)?{sortField:l}:G(l)?{sortIndexField:Ng(s,o)}:{}}}}this.childModel=n.child}hash(){let t="Facet";for(const n of $o)this[n]&&(t+=` ${n.charAt(0)}:${Be(this[n])}`);return t}get fields(){var n;const t=[];for(const r of $o)(n=this[r])!=null&&n.fields&&t.push(...this[r].fields);return t}dependentFields(){const t=new Set(this.fields);for(const n of $o)this[n]&&(this[n].sortField&&t.add(this[n].sortField.field),this[n].sortIndexField&&t.add(this[n].sortIndexField));return t}producedFields(){return new Set}getSource(){return this.name}getChildIndependentFieldsWithStep(){const t={};for(const n of Xl){const r=this.childModel.component.scales[n];if(r&&!r.merged){const i=r.get("type"),o=r.get("range");if(Ln(i)&&Zd(o)){const s=lE(this.childModel,n),a=o9(s);a?t[n]=a:Z(a8(n))}}}return t}assembleRowColumnHeaderData(t,n,r){const i={row:"y",column:"x",facet:void 0}[t],o=[],s=[],a=[];i&&r&&r[i]&&(n?(o.push(`distinct_${r[i]}`),s.push("max")):(o.push(r[i]),s.push("distinct")),a.push(`distinct_${r[i]}`));const{sortField:l,sortIndexField:u}=this[t];if(l){const{op:c=q_,field:f}=l;o.push(f),s.push(c),a.push(ie(l,{forAs:!0}))}else u&&(o.push(u),s.push("max"),a.push(u));return{name:this[t].name,source:n??this.data,transform:[{type:"aggregate",groupby:this[t].fields,...o.length?{fields:o,ops:s,as:a}:{}}]}}assembleFacetHeaderData(t){var l;const{columns:n}=this.model.layout,{layoutHeaders:r}=this.model.component,i=[],o={};for(const u of Q8){for(const c of Z8){const f=(r[u]&&r[u][c])??[];for(const d of f)if(((l=d.axes)==null?void 0:l.length)>0){o[u]=!0;break}}if(o[u]){const c=`length(data("${this.facet.name}"))`,f=u==="row"?n?{signal:`ceil(${c} / ${n})`}:1:n?{signal:`min(${c}, ${n})`}:{signal:c};i.push({name:`${this.facet.name}_${u}`,transform:[{type:"sequence",start:0,stop:f}]})}}const{row:s,column:a}=o;return(s||a)&&i.unshift(this.assembleRowColumnHeaderData("facet",null,t)),i}assemble(){const t=[];let n=null;const r=this.getChildIndependentFieldsWithStep(),{column:i,row:o,facet:s}=this;if(i&&o&&(r.x||r.y)){n=`cross_${this.column.name}_${this.row.name}`;const a=[].concat(r.x??[],r.y??[]),l=a.map(()=>"distinct");t.push({name:n,source:this.data,transform:[{type:"aggregate",groupby:this.fields,fields:a,ops:l}]})}for(const a of[Sl,wl])this[a]&&t.push(this.assembleRowColumnHeaderData(a,n,r));if(s){const a=this.assembleFacetHeaderData(r);a&&t.push(...a)}return t}}function AV(e){return e.startsWith("'")&&e.endsWith("'")||e.startsWith('"')&&e.endsWith('"')?e.slice(1,-1):e}function AQe(e,t){const n=KO(e);if(t==="number")return`toNumber(${n})`;if(t==="boolean")return`toBoolean(${n})`;if(t==="string")return`toString(${n})`;if(t==="date")return`toDate(${n})`;if(t==="flatten")return n;if(t.startsWith("date:")){const r=AV(t.slice(5,t.length));return`timeParse(${n},'${r}')`}else if(t.startsWith("utc:")){const r=AV(t.slice(4,t.length));return`utcParse(${n},'${r}')`}else return Z(XHe(t)),null}function TQe(e){const t={};return z2(e.filter,n=>{if(bse(n)){let r=null;f8(n)?r=Oi(n.equal):h8(n)?r=Oi(n.lte):d8(n)?r=Oi(n.lt):p8(n)?r=Oi(n.gt):g8(n)?r=Oi(n.gte):m8(n)?r=n.range[0]:y8(n)&&(r=(n.oneOf??n.in)[0]),r&&(Jd(r)?t[n.field]="date":Ze(r)?t[n.field]="number":le(r)&&(t[n.field]="string")),n.timeUnit&&(t[n.field]="date")}}),t}function MQe(e){const t={};function n(r){Pg(r)?t[r.field]="date":r.type==="quantitative"&&EHe(r.aggregate)?t[r.field]="number":_g(r.field)>1?r.field in t||(t[r.field]="flatten"):th(r)&&kl(r.sort)&&_g(r.sort.field)>1&&(r.sort.field in t||(t[r.sort.field]="flatten"))}if((Ut(e)||Gi(e))&&e.forEachFieldDef((r,i)=>{if(Zr(r))n(r);else{const o=Kd(i),s=e.fieldDef(o);n({...r,type:s.type})}}),Ut(e)){const{mark:r,markDef:i,encoding:o}=e;if(jc(r)&&!e.encoding.order){const s=i.orient==="horizontal"?"y":"x",a=o[s];J(a)&&a.type==="quantitative"&&!(a.field in t)&&(t[a.field]="number")}}return t}function FQe(e){const t={};if(Ut(e)&&e.component.selection)for(const n of X(e.component.selection)){const r=e.component.selection[n];for(const i of r.project.items)!i.channel&&_g(i.field)>1&&(t[i.field]="flatten")}return t}class Sr extends gt{clone(){return new Sr(null,Me(this._parse))}constructor(t,n){super(t),this._parse=n}hash(){return`Parse ${Be(this._parse)}`}static makeExplicit(t,n,r){var s;let i={};const o=n.data;return!tc(o)&&((s=o==null?void 0:o.format)!=null&&s.parse)&&(i=o.format.parse),this.makeWithAncestors(t,i,{},r)}static makeWithAncestors(t,n,r,i){for(const a of X(r)){const l=i.getWithExplicit(a);l.value!==void 0&&(l.explicit||l.value===r[a]||l.value==="derived"||r[a]==="flatten"?delete r[a]:Z(IU(a,r[a],l.value)))}for(const a of X(n)){const l=i.get(a);l!==void 0&&(l===n[a]?delete n[a]:Z(IU(a,n[a],l)))}const o=new Ql(n,r);i.copyAll(o);const s={};for(const a of X(o.combine())){const l=o.get(a);l!==null&&(s[a]=l)}return X(s).length===0||i.parseNothing?null:new Sr(t,s)}get parse(){return this._parse}merge(t){this._parse={...this._parse,...t.parse},t.remove()}assembleFormatParse(){const t={};for(const n of X(this._parse)){const r=this._parse[n];_g(n)===1&&(t[n]=r)}return t}producedFields(){return new Set(X(this._parse))}dependentFields(){return new Set(X(this._parse))}assembleTransforms(t=!1){return X(this._parse).filter(n=>t?_g(n)>1:!0).map(n=>{const r=AQe(n,this._parse[n]);return r?{type:"formula",expr:r,as:fm(n)}:null}).filter(n=>n!==null)}}class Sc extends gt{clone(){return new Sc(null)}constructor(t){super(t)}dependentFields(){return new Set}producedFields(){return new Set([Ts])}hash(){return"Identifier"}assemble(){return{type:"identifier",as:Ts}}}class rb extends gt{clone(){return new rb(null,this.params)}constructor(t,n){super(t),this.params=n}dependentFields(){return new Set}producedFields(){}hash(){return`Graticule ${Be(this.params)}`}assemble(){return{type:"graticule",...this.params===!0?{}:this.params}}}class ib extends gt{clone(){return new ib(null,this.params)}constructor(t,n){super(t),this.params=n}dependentFields(){return new Set}producedFields(){return new Set([this.params.as??"data"])}hash(){return`Hash ${Be(this.params)}`}assemble(){return{type:"sequence",...this.params}}}class Td extends gt{constructor(t){super(null),t??(t={name:"source"});let n;if(tc(t)||(n=t.format?{...mi(t.format,["parse"])}:{}),D1(t))this._data={values:t.values};else if(Rg(t)){if(this._data={url:t.url},!n.type){let r=/(?:\.([^.]+))?$/.exec(t.url)[1];ze(["json","csv","tsv","dsv","topojson"],r)||(r="json"),n.type=r}}else Nae(t)?this._data={values:[{type:"Sphere"}]}:(Dae(t)||tc(t))&&(this._data={});this._generator=tc(t),t.name&&(this._name=t.name),n&&!vt(n)&&(this._data.format=n)}dependentFields(){return new Set}producedFields(){}get data(){return this._data}hasName(){return!!this._name}get isGenerator(){return this._generator}get dataName(){return this._name}set dataName(t){this._name=t}set parent(t){throw new Error("Source nodes have to be roots.")}remove(){throw new Error("Source nodes are roots and cannot be removed.")}hash(){throw new Error("Cannot hash sources")}assemble(){return{name:this._name,...this._data,transform:[]}}}var TV=function(e,t,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(e,n):i?i.value=n:t.set(e,n),n},PQe=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},G0;function n9(e){return e instanceof Td||e instanceof rb||e instanceof ib}class r9{constructor(){G0.set(this,void 0),TV(this,G0,!1,"f")}setModified(){TV(this,G0,!0,"f")}get modifiedFlag(){return PQe(this,G0,"f")}}G0=new WeakMap;class nh extends r9{getNodeDepths(t,n,r){r.set(t,n);for(const i of t.children)this.getNodeDepths(i,n+1,r);return r}optimize(t){const r=[...this.getNodeDepths(t,0,new Map).entries()].sort((i,o)=>o[1]-i[1]);for(const i of r)this.run(i[0]);return this.modifiedFlag}}class i9 extends r9{optimize(t){this.run(t);for(const n of t.children)this.optimize(n);return this.modifiedFlag}}class RQe extends i9{mergeNodes(t,n){const r=n.shift();for(const i of n)t.removeChild(i),i.parent=r,i.remove()}run(t){const n=t.children.map(i=>i.hash()),r={};for(let i=0;i<n.length;i++)r[n[i]]===void 0?r[n[i]]=[t.children[i]]:r[n[i]].push(t.children[i]);for(const i of X(r))r[i].length>1&&(this.setModified(),this.mergeNodes(t,r[i]))}}class DQe extends i9{constructor(t){super(),this.requiresSelectionId=t&&K8(t)}run(t){t instanceof Sc&&(this.requiresSelectionId&&(n9(t.parent)||t.parent instanceof bs||t.parent instanceof Sr)||(this.setModified(),t.remove()))}}class OQe extends r9{optimize(t){return this.run(t,new Set),this.modifiedFlag}run(t,n){let r=new Set;t instanceof xa&&(r=t.producedFields(),YO(r,n)&&(this.setModified(),t.removeFormulas(n),t.producedFields.length===0&&t.remove()));for(const i of t.children)this.run(i,new Set([...n,...r]))}}class NQe extends i9{constructor(){super()}run(t){t instanceof yi&&!t.isRequired()&&(this.setModified(),t.remove())}}class IQe extends nh{run(t){if(!n9(t)&&!(t.numChildren()>1)){for(const n of t.children)if(n instanceof Sr)if(t instanceof Sr)this.setModified(),t.merge(n);else{if(XO(t.producedFields(),n.dependentFields()))continue;this.setModified(),n.swapWithParent()}}}}class LQe extends nh{run(t){const n=[...t.children],r=t.children.filter(i=>i instanceof Sr);if(t.numChildren()>1&&r.length>=1){const i={},o=new Set;for(const s of r){const a=s.parse;for(const l of X(a))l in i?i[l]!==a[l]&&o.add(l):i[l]=a[l]}for(const s of o)delete i[s];if(!vt(i)){this.setModified();const s=new Sr(t,i);for(const a of n){if(a instanceof Sr)for(const l of X(i))delete a.parse[l];t.removeChild(a),a.parent=s,a instanceof Sr&&X(a.parse).length===0&&a.remove()}}}}}class zQe extends nh{run(t){t instanceof yi||t.numChildren()>0||t instanceof mm||t instanceof Td||(this.setModified(),t.remove())}}class jQe extends nh{run(t){const n=t.children.filter(i=>i instanceof xa),r=n.pop();for(const i of n)this.setModified(),r.merge(i)}}class BQe extends nh{run(t){const n=t.children.filter(i=>i instanceof bs),r={};for(const i of n){const o=Be(i.groupBy);o in r||(r[o]=[]),r[o].push(i)}for(const i of X(r)){const o=r[i];if(o.length>1){const s=o.pop();for(const a of o)s.merge(a)&&(t.removeChild(a),a.parent=s,a.remove(),this.setModified())}}}}class UQe extends nh{constructor(t){super(),this.model=t}run(t){const n=!(n9(t)||t instanceof gm||t instanceof Sr||t instanceof Sc),r=[],i=[];for(const o of t.children)o instanceof wa&&(n&&!XO(t.producedFields(),o.dependentFields())?r.push(o):i.push(o));if(r.length>0){const o=r.pop();for(const s of r)o.merge(s,this.model.renameSignal.bind(this.model));this.setModified(),t instanceof wa?t.merge(o,this.model.renameSignal.bind(this.model)):o.swapWithParent()}if(i.length>1){const o=i.pop();for(const s of i)o.merge(s,this.model.renameSignal.bind(this.model));this.setModified()}}}class VQe extends nh{run(t){const n=[...t.children];if(!Cg(n,s=>s instanceof yi)||t.numChildren()<=1)return;const i=[];let o;for(const s of n)if(s instanceof yi){let a=s;for(;a.numChildren()===1;){const[l]=a.children;if(l instanceof yi)a=l;else break}i.push(...a.children),o?(t.removeChild(s),s.parent=o.parent,o.parent.removeChild(o),o.parent=a,this.setModified()):o=a}else i.push(s);if(i.length){this.setModified();for(const s of i)s.parent.removeChild(s),s.parent=o}}}class rh extends gt{clone(){return new rh(null,Me(this.transform))}constructor(t,n){super(t),this.transform=n}addDimensions(t){this.transform.groupby=la(this.transform.groupby.concat(t),n=>n)}dependentFields(){const t=new Set;return this.transform.groupby&&this.transform.groupby.forEach(t.add,t),this.transform.joinaggregate.map(n=>n.field).filter(n=>n!==void 0).forEach(t.add,t),t}producedFields(){return new Set(this.transform.joinaggregate.map(this.getDefaultName))}getDefaultName(t){return t.as??ie(t)}hash(){return`JoinAggregateTransform ${Be(this.transform)}`}assemble(){const t=[],n=[],r=[];for(const o of this.transform.joinaggregate)n.push(o.op),r.push(this.getDefaultName(o)),t.push(o.field===void 0?null:o.field);const i=this.transform.groupby;return{type:"joinaggregate",as:r,ops:n,fields:t,...i!==void 0?{groupby:i}:{}}}}class Lg extends gt{clone(){return new Lg(null,{...this.filter})}constructor(t,n){super(t),this.filter=n}static make(t,n,r){const{config:i,markDef:o}=n,{marks:s,scales:a}=r;if(s==="include-invalid-values"&&a==="include-invalid-values")return null;const l=n.reduceFieldDef((u,c,f)=>{const d=ja(f)&&n.getScaleComponent(f);if(d){const h=d.get("type"),{aggregate:p}=c,g=C8({scaleChannel:f,markDef:o,config:i,scaleType:h,isCountAggregate:I_(p)});g!=="show"&&g!=="always-valid"&&(u[c.field]=c)}return u},{});return X(l).length?new Lg(t,l):null}dependentFields(){return new Set(X(this.filter))}producedFields(){return new Set}hash(){return`FilterInvalid ${Be(this.filter)}`}assemble(){const t=X(this.filter).reduce((n,r)=>{const i=this.filter[r],o=ie(i,{expr:"datum"});return i!==null&&(i.type==="temporal"?n.push(`(isDate(${o}) || (${fM(o)}))`):i.type==="quantitative"&&n.push(fM(o))),n},[]);return t.length>0?{type:"filter",expr:t.join(" && ")}:null}}function fM(e){return`isValid(${e}) && isFinite(+${e})`}function WQe(e){return e.stack.stackBy.reduce((t,n)=>{const r=n.fieldDef,i=ie(r);return i&&t.push(i),t},[])}function HQe(e){return G(e)&&e.every(t=>le(t))&&e.length>1}class _l extends gt{clone(){return new _l(null,Me(this._stack))}constructor(t,n){super(t),this._stack=n}static makeFromTransform(t,n){const{stack:r,groupby:i,as:o,offset:s="zero"}=n,a=[],l=[];if(n.sort!==void 0)for(const f of n.sort)a.push(f.field),l.push(ln(f.order,"ascending"));const u={field:a,order:l};let c;return HQe(o)?c=o:le(o)?c=[o,`${o}_end`]:c=[`${n.stack}_start`,`${n.stack}_end`],new _l(t,{dimensionFieldDefs:[],stackField:r,groupby:i,offset:s,sort:u,facetby:[],as:c})}static makeFromEncoding(t,n){const r=n.stack,{encoding:i}=n;if(!r)return null;const{groupbyChannels:o,fieldChannel:s,offset:a,impute:l}=r,u=o.map(h=>{const p=i[h];return As(p)}).filter(h=>!!h),c=WQe(n),f=n.encoding.order;let d;if(G(f)||J(f))d=Joe(f);else{const h=Vse(f)?f.sort:s==="y"?"descending":"ascending";d=c.reduce((p,g)=>(p.field.includes(g)||(p.field.push(g),p.order.push(h)),p),{field:[],order:[]})}return new _l(t,{dimensionFieldDefs:u,stackField:n.vgField(s),facetby:[],stackby:c,sort:d,offset:a,impute:l,as:[n.vgField(s,{suffix:"start",forAs:!0}),n.vgField(s,{suffix:"end",forAs:!0})]})}get stack(){return this._stack}addDimensions(t){this._stack.facetby.push(...t)}dependentFields(){const t=new Set;return t.add(this._stack.stackField),this.getGroupbyFields().forEach(t.add,t),this._stack.facetby.forEach(t.add,t),this._stack.sort.field.forEach(t.add,t),t}producedFields(){return new Set(this._stack.as)}hash(){return`Stack ${Be(this._stack)}`}getGroupbyFields(){const{dimensionFieldDefs:t,impute:n,groupby:r}=this._stack;return t.length>0?t.map(i=>i.bin?n?[ie(i,{binSuffix:"mid"})]:[ie(i,{}),ie(i,{binSuffix:"end"})]:[ie(i)]).flat():r??[]}assemble(){const t=[],{facetby:n,dimensionFieldDefs:r,stackField:i,stackby:o,sort:s,offset:a,impute:l,as:u}=this._stack;if(l)for(const c of r){const{bandPosition:f=.5,bin:d}=c;if(d){const h=ie(c,{expr:"datum"}),p=ie(c,{expr:"datum",binSuffix:"end"});t.push({type:"formula",expr:`${fM(h)} ? ${f}*${h}+${1-f}*${p} : ${h}`,as:ie(c,{binSuffix:"mid",forAs:!0})})}t.push({type:"impute",field:i,groupby:[...o,...n],key:ie(c,{binSuffix:"mid"}),method:"value",value:0})}return t.push({type:"stack",groupby:[...this.getGroupbyFields(),...n],field:i,sort:s,as:u,offset:a}),t}}class ym extends gt{clone(){return new ym(null,Me(this.transform))}constructor(t,n){super(t),this.transform=n}addDimensions(t){this.transform.groupby=la(this.transform.groupby.concat(t),n=>n)}dependentFields(){const t=new Set;return(this.transform.groupby??[]).forEach(t.add,t),(this.transform.sort??[]).forEach(n=>t.add(n.field)),this.transform.window.map(n=>n.field).filter(n=>n!==void 0).forEach(t.add,t),t}producedFields(){return new Set(this.transform.window.map(this.getDefaultName))}getDefaultName(t){return t.as??ie(t)}hash(){return`WindowTransform ${Be(this.transform)}`}assemble(){const t=[],n=[],r=[],i=[];for(const f of this.transform.window)n.push(f.op),r.push(this.getDefaultName(f)),i.push(f.param===void 0?null:f.param),t.push(f.field===void 0?null:f.field);const o=this.transform.frame,s=this.transform.groupby;if(o&&o[0]===null&&o[1]===null&&n.every(f=>o8(f)))return{type:"joinaggregate",as:r,ops:n,fields:t,...s!==void 0?{groupby:s}:{}};const a=[],l=[];if(this.transform.sort!==void 0)for(const f of this.transform.sort)a.push(f.field),l.push(f.order??"ascending");const u={field:a,order:l},c=this.transform.ignorePeers;return{type:"window",params:i,as:r,ops:n,fields:t,sort:u,...c!==void 0?{ignorePeers:c}:{},...s!==void 0?{groupby:s}:{},...o!==void 0?{frame:o}:{}}}}function qQe(e){function t(n){if(!(n instanceof mm)){const r=n.clone();if(r instanceof yi){const i=hM+r.getSource();r.setSource(i),e.model.component.data.outputNodes[i]=r}else(r instanceof bs||r instanceof _l||r instanceof ym||r instanceof rh)&&r.addDimensions(e.fields);for(const i of n.children.flatMap(t))i.parent=r;return[r]}return n.children.flatMap(t)}return t}function dM(e){if(e instanceof mm)if(e.numChildren()===1&&!(e.children[0]instanceof yi)){const t=e.children[0];(t instanceof bs||t instanceof _l||t instanceof ym||t instanceof rh)&&t.addDimensions(e.fields),t.swapWithParent(),dM(e)}else{const t=e.model.component.data.main;Mle(t);const n=qQe(e),r=e.children.map(n).flat();for(const i of r)i.parent=t}else e.children.map(dM)}function Mle(e){if(e instanceof yi&&e.type===tn.Main&&e.numChildren()===1){const t=e.children[0];t instanceof mm||(t.swapWithParent(),Mle(e))}}const hM="scale_",Ex=5;function pM(e){for(const t of e){for(const n of t.children)if(n.parent!==t)return!1;if(!pM(t.children))return!1}return!0}function qo(e,t){let n=!1;for(const r of t)n=e.optimize(r)||n;return n}function MV(e,t,n){let r=e.sources,i=!1;return i=qo(new NQe,r)||i,i=qo(new DQe(t),r)||i,r=r.filter(o=>o.numChildren()>0),i=qo(new zQe,r)||i,r=r.filter(o=>o.numChildren()>0),n||(i=qo(new IQe,r)||i,i=qo(new UQe(t),r)||i,i=qo(new OQe,r)||i,i=qo(new LQe,r)||i,i=qo(new BQe,r)||i,i=qo(new jQe,r)||i,i=qo(new RQe,r)||i,i=qo(new VQe,r)||i),e.sources=r,i}function GQe(e,t){pM(e.sources);let n=0,r=0;for(let i=0;i<Ex&&MV(e,t,!0);i++)n++;e.sources.map(dM);for(let i=0;i<Ex&&MV(e,t,!1);i++)r++;pM(e.sources),Math.max(n,r)===Ex&&Z(`Maximum optimization runs(${Ex}) reached.`)}class Mn{constructor(t){Object.defineProperty(this,"signal",{enumerable:!0,get:t})}static fromName(t,n){return new Mn(()=>t(n))}}function Fle(e){Ut(e)?YQe(e):XQe(e)}function YQe(e){const t=e.component.scales;for(const n of X(t)){const r=QQe(e,n);if(t[n].setWithExplicit("domains",r),JQe(e,n),e.component.data.isFaceted){let o=e;for(;!Gi(o)&&o.parent;)o=o.parent;if(o.component.resolve.scale[n]==="shared")for(const a of r.value)hl(a)&&(a.data=hM+a.data.replace(hM,""))}}}function XQe(e){for(const n of e.children)Fle(n);const t=e.component.scales;for(const n of X(t)){let r,i=null;for(const o of e.children){const s=o.component.scales[n];if(s){r===void 0?r=s.getWithExplicit("domains"):r=xc(r,s.getWithExplicit("domains"),"domains","scale",gM);const a=s.get("selectionExtent");i&&a&&i.param!==a.param&&Z(HHe),i=a}}t[n].setWithExplicit("domains",r),i&&t[n].set("selectionExtent",i,!0)}}function KQe(e,t,n,r){if(e==="unaggregated"){const{valid:i,reason:o}=FV(t,n);if(!i){Z(o);return}}else if(e===void 0&&r.useUnaggregatedDomain){const{valid:i}=FV(t,n);if(i)return"unaggregated"}return e}function QQe(e,t){const n=e.getScaleComponent(t).get("type"),{encoding:r}=e,i=KQe(e.scaleDomain(t),e.typedFieldDef(t),n,e.config.scale);return i!==e.scaleDomain(t)&&(e.specifiedScales[t]={...e.specifiedScales[t],domain:i}),t==="x"&&Sn(r.x2)?Sn(r.x)?xc(au(n,i,e,"x"),au(n,i,e,"x2"),"domain","scale",gM):au(n,i,e,"x2"):t==="y"&&Sn(r.y2)?Sn(r.y)?xc(au(n,i,e,"y"),au(n,i,e,"y2"),"domain","scale",gM):au(n,i,e,"y2"):au(n,i,e,t)}function ZQe(e,t,n){return e.map(r=>({signal:`{data: ${K_(r,{timeUnit:n,type:t})}}`}))}function c5(e,t,n){var i;const r=(i=In(n))==null?void 0:i.unit;return t==="temporal"||r?ZQe(e,t,r):[e]}function au(e,t,n,r){const{encoding:i,markDef:o,mark:s,config:a,stack:l}=n,u=Sn(i[r]),{type:c}=u,f=u.timeUnit,d=qXe({invalid:Ea("invalid",o,a),isPath:jc(s)});if(pGe(t)){const g=au(e,void 0,n,r),m=c5(t.unionWith,c,f);return Ys([...m,...g.value])}else{if(me(t))return Ys([t]);if(t&&t!=="unaggregated"&&!Ese(t))return Ys(c5(t,c,f))}if(l&&r===l.fieldChannel){if(l.offset==="normalize")return Ti([[0,1]]);const g=n.requestDataName(d);return Ti([{data:g,field:n.vgField(r,{suffix:"start"})},{data:g,field:n.vgField(r,{suffix:"end"})}])}const h=ja(r)&&J(u)?eZe(n,r,e):void 0;if(Ba(u)){const g=c5([u.datum],c,f);return Ti(g)}const p=u;if(t==="unaggregated"){const{field:g}=u;return Ti([{data:n.requestDataName(d),field:ie({field:g,aggregate:"min"})},{data:n.requestDataName(d),field:ie({field:g,aggregate:"max"})}])}else if(Et(p.bin)){if(Ln(e))return Ti(e==="bin-ordinal"?[]:[{data:F1(h)?n.requestDataName(d):n.requestDataName(tn.Raw),field:n.vgField(r,eb(p,r)?{binSuffix:"range"}:{}),sort:h===!0||!se(h)?{field:n.vgField(r,{}),op:"min"}:h}]);{const{bin:g}=p;if(Et(g)){const m=t9(n,p.field,g);return Ti([new Mn(()=>{const y=n.getSignalName(m);return`[${y}.start, ${y}.stop]`})])}else return Ti([{data:n.requestDataName(d),field:n.vgField(r,{})}])}}else if(p.timeUnit&&ze(["time","utc"],e)){const g=i[za(r)];if(Use(p,g,o,a)){const m=n.requestDataName(d),y=bc({fieldDef:p,fieldDef2:g,markDef:o,config:a}),v=R1(s)&&y!==.5&&un(r);return Ti([{data:m,field:n.vgField(r,v?{suffix:nE}:{})},{data:m,field:n.vgField(r,{suffix:v?rE:"end"})}])}}return Ti(h?[{data:F1(h)?n.requestDataName(d):n.requestDataName(tn.Raw),field:n.vgField(r),sort:h}]:[{data:n.requestDataName(d),field:n.vgField(r)}])}function f5(e,t){const{op:n,field:r,order:i}=e;return{op:n??(t?"sum":q_),...r?{field:Lo(r)}:{},...i?{order:i}:{}}}function JQe(e,t){var a;const n=e.component.scales[t],r=e.specifiedScales[t].domain,i=(a=e.fieldDef(t))==null?void 0:a.bin,o=Ese(r)?r:void 0,s=Qd(i)&&L_(i.extent)?i.extent:void 0;(o||s)&&n.set("selectionExtent",o??s,!0)}function eZe(e,t,n){if(!Ln(n))return;const r=e.fieldDef(t),i=r.sort;if(jse(i))return{op:"min",field:Ng(r,t),order:"ascending"};const{stack:o}=e,s=o?new Set([...o.groupbyFields,...o.stackBy.map(a=>a.fieldDef.field)]):void 0;if(kl(i)){const a=o&&!s.has(i.field);return f5(i,a)}else if(qGe(i)){const{encoding:a,order:l}=i,u=e.fieldDef(a),{aggregate:c,field:f}=u,d=o&&!s.has(f);if(Nl(c)||zc(c))return f5({field:ie(u),order:l},d);if(o8(c)||!c)return f5({op:c,field:f,order:l},d)}else{if(i==="descending")return{op:"min",field:e.vgField(t),order:"descending"};if(ze(["ascending",void 0],i))return!0}}function FV(e,t){const{aggregate:n,type:r}=e;return n?le(n)&&!AHe.has(n)?{valid:!1,reason:yqe(n)}:r==="quantitative"&&t==="log"?{valid:!1,reason:vqe(e)}:{valid:!0}:{valid:!1,reason:mqe(e)}}function gM(e,t,n,r){return e.explicit&&t.explicit&&Z(kqe(n,r,e.value,t.value)),{explicit:e.explicit,value:[...e.value,...t.value]}}function tZe(e){const t=la(e.map(s=>{if(hl(s)){const{sort:a,...l}=s;return l}return s}),Be),n=la(e.map(s=>{if(hl(s)){const a=s.sort;return a!==void 0&&!F1(a)&&("op"in a&&a.op==="count"&&delete a.field,a.order==="ascending"&&delete a.order),a}}).filter(s=>s!==void 0),Be);if(t.length===0)return;if(t.length===1){const s=e[0];if(hl(s)&&n.length>0){let a=n[0];if(n.length>1){Z(zU);const l=n.filter(u=>se(u)&&"op"in u&&u.op!=="min");n.every(u=>se(u)&&"op"in u)&&l.length===1?a=l[0]:a=!0}else if(se(a)&&"field"in a){const l=a.field;s.field===l&&(a=a.order?{order:a.order}:!0)}return{...s,sort:a}}return s}const r=la(n.map(s=>F1(s)||!("op"in s)||le(s.op)&&ce(CHe,s.op)?s:(Z(_qe(s)),!0)),Be);let i;r.length===1?i=r[0]:r.length>1&&(Z(zU),i=!0);const o=la(e.map(s=>hl(s)?s.data:null),s=>s);return o.length===1&&o[0]!==null?{data:o[0],fields:t.map(a=>a.field),...i?{sort:i}:{}}:{fields:t,...i?{sort:i}:{}}}function o9(e){if(hl(e)&&le(e.field))return e.field;if(THe(e)){let t;for(const n of e.fields)if(hl(n)&&le(n.field)){if(!t)t=n.field;else if(t!==n.field)return Z(Eqe),t}return Z($qe),t}else if(MHe(e)){Z(Aqe);const t=e.fields[0];return le(t)?t:void 0}}function lE(e,t){const r=e.component.scales[t].get("domains").map(i=>(hl(i)&&(i.data=e.lookupDataSource(i.data)),i));return tZe(r)}function Ple(e){return vm(e)||s9(e)?e.children.reduce((t,n)=>t.concat(Ple(n)),PV(e)):PV(e)}function PV(e){return X(e.component.scales).reduce((t,n)=>{const r=e.component.scales[n];if(r.merged)return t;const i=r.combine(),{name:o,type:s,selectionExtent:a,domains:l,range:u,reverse:c,...f}=i,d=nZe(i.range,o,n,e),h=lE(e,n),p=a?ZXe(e,a,r,h):null;return t.push({name:o,type:s,...h?{domain:h}:{},...p?{domainRaw:p}:{},range:d,...c!==void 0?{reverse:c}:{},...f}),t},[])}function nZe(e,t,n,r){if(un(n)){if(Zd(e))return{step:{signal:`${t}_step`}}}else if(se(e)&&hl(e))return{...e,data:r.lookupDataSource(e.data)};return e}class Rle extends Ql{constructor(t,n){super({},{name:t}),this.merged=!1,this.setWithExplicit("type",n)}domainHasZero(){const t=this.get("type");if(ze([Yn.LOG,Yn.TIME,Yn.UTC],t))return"definitely-not";const n=this.get("zero");if(n===!0||n===void 0&&ze([Yn.LINEAR,Yn.SQRT,Yn.POW],t))return"definitely";const r=this.get("domains");if(r.length>0){let i=!1,o=!1,s=!1;for(const a of r){if(G(a)){const l=a[0],u=a[a.length-1];if(Ze(l)&&Ze(u))if(l<=0&&u>=0){i=!0;continue}else{o=!0;continue}}s=!0}if(i)return"definitely";if(o&&!s)return"definitely-not"}return"maybe"}}const rZe=["range","scheme"];function iZe(e){const t=e.component.scales;for(const n of i8){const r=t[n];if(!r)continue;const i=oZe(n,e);r.setWithExplicit("range",i)}}function RV(e,t){const n=e.fieldDef(t);if(n!=null&&n.bin){const{bin:r,field:i}=n,o=_i(t),s=e.getName(o);if(se(r)&&r.binned&&r.step!==void 0)return new Mn(()=>{const a=e.scaleName(t),l=`(domain("${a}")[1] - domain("${a}")[0]) / ${r.step}`;return`${e.getSignalName(s)} / (${l})`});if(Et(r)){const a=t9(e,i,r);return new Mn(()=>{const l=e.getSignalName(a),u=`(${l}.stop - ${l}.start) / ${l}.step`;return`${e.getSignalName(s)} / (${u})`})}}}function oZe(e,t){const n=t.specifiedScales[e],{size:r}=t,o=t.getScaleComponent(e).get("type");for(const f of rZe)if(n[f]!==void 0){const d=Q4(o,f),h=$se(e,f);if(!d)Z(sse(o,f,e));else if(h)Z(h);else switch(f){case"range":{const p=n.range;if(G(p)){if(un(e))return Ys(p.map(g=>{if(g==="width"||g==="height"){const m=t.getName(g),y=t.getSignalName.bind(t);return Mn.fromName(y,m)}return g}))}else if(se(p))return Ys({data:t.requestDataName(tn.Main),field:p.field,sort:{op:"min",field:t.vgField(e)}});return Ys(p)}case"scheme":return Ys(sZe(n[f]))}}const s=e===zt||e==="xOffset"?"width":"height",a=r[s];if(Aa(a)){if(un(e))if(Ln(o)){const f=Ole(a,t,e);if(f)return Ys({step:f})}else Z(ase(s));else if(Gv(e)){const f=e===Dc?"x":"y";if(t.getScaleComponent(f).get("type")==="band"){const p=Nle(a,o);if(p)return Ys(p)}}}const{rangeMin:l,rangeMax:u}=n,c=aZe(e,t);return(l!==void 0||u!==void 0)&&Q4(o,"rangeMin")&&G(c)&&c.length===2?Ys([l??c[0],u??c[1]]):Ti(c)}function sZe(e){return hGe(e)?{scheme:e.name,...mi(e,["name"])}:{scheme:e}}function Dle(e,t,n,{center:r}={}){const i=_i(e),o=t.getName(i),s=t.getSignalName.bind(t);return e===Un&&Es(n)?r?[Mn.fromName(a=>`${s(a)}/2`,o),Mn.fromName(a=>`-${s(a)}/2`,o)]:[Mn.fromName(s,o),0]:r?[Mn.fromName(a=>`-${s(a)}/2`,o),Mn.fromName(a=>`${s(a)}/2`,o)]:[0,Mn.fromName(s,o)]}function aZe(e,t){const{size:n,config:r,mark:i,encoding:o}=t,{type:s}=Sn(o[e]),l=t.getScaleComponent(e).get("type"),{domain:u,domainMid:c}=t.specifiedScales[e];switch(e){case zt:case Un:{if(ze(["point","band"],l)){const f=Ile(e,n,r.view);if(Aa(f))return{step:Ole(f,t,e)}}return Dle(e,t,l)}case Dc:case dm:return lZe(e,t,l);case Gl:{const f=fZe(i,r),d=dZe(i,n,t,r);return Tg(l)?cZe(f,d,uZe(l,r,u,e)):[f,d]}case Bo:return[0,Math.PI*2];case Xd:return[0,360];case Ds:return[0,new Mn(()=>{const f=t.getSignalName(Gi(t.parent)?"child_width":"width"),d=t.getSignalName(Gi(t.parent)?"child_height":"height");return`min(${f},${d})/2`})];case Ic:return[r.scale.minStrokeWidth,r.scale.maxStrokeWidth];case Lc:return[[1,0],[4,2],[2,1],[1,1],[1,2,4,2]];case Ci:return"symbol";case ki:case Ia:case La:return l==="ordinal"?s==="nominal"?"category":"ordinal":c!==void 0?"diverging":i==="rect"||i==="geoshape"?"heatmap":"ramp";case Yl:case Oc:case Nc:return[r.scale.minOpacity,r.scale.maxOpacity]}}function Ole(e,t,n){const{encoding:r}=t,i=t.getScaleComponent(n),o=e8(n),s=r[o];if(xae({step:e,offsetIsDiscrete:Pe(s)&&wse(s.type)})==="offset"&&eae(r,o)){const l=t.getScaleComponent(o);let c=`domain('${t.scaleName(o)}').length`;if(l.get("type")==="band"){const d=l.get("paddingInner")??l.get("padding")??0,h=l.get("paddingOuter")??l.get("padding")??0;c=`bandspace(${c}, ${d}, ${h})`}const f=i.get("paddingInner")??i.get("padding");return{signal:`${e.step} * ${c} / (1-${DHe(f)})`}}else return e.step}function Nle(e,t){if(xae({step:e,offsetIsDiscrete:Ln(t)})==="offset")return{step:e.step}}function lZe(e,t,n){const r=e===Dc?"x":"y",i=t.getScaleComponent(r);if(!i)return Dle(r,t,n,{center:!0});const o=i.get("type"),s=t.scaleName(r),{markDef:a,config:l}=t;if(o==="band"){const u=Ile(r,t.size,t.config.view);if(Aa(u)){const c=Nle(u,n);if(c)return c}return[0,{signal:`bandwidth('${s}')`}]}else{const u=t.encoding[r];if(J(u)&&u.timeUnit){const c=yse(u.timeUnit,p=>`scale('${s}', ${p})`),f=t.config.scale.bandWithNestedOffsetPaddingInner,d=bc({fieldDef:u,markDef:a,config:l})-.5,h=d!==0?` + ${d}`:"";if(f){const p=me(f)?`${f.signal}/2`+h:`${f/2+d}`,g=me(f)?`(1 - ${f.signal}/2)`+h:`${1-f/2+d}`;return[{signal:`${p} * (${c})`},{signal:`${g} * (${c})`}]}return[0,{signal:c}]}return Aoe(`Cannot use ${e} scale if ${r} scale is not discrete.`)}}function Ile(e,t,n){const r=e===zt?"width":"height",i=t[r];return i||uk(n,r)}function uZe(e,t,n,r){switch(e){case"quantile":return t.scale.quantileCount;case"quantize":return t.scale.quantizeCount;case"threshold":return n!==void 0&&G(n)?n.length+1:(Z(Iqe(r)),3)}}function cZe(e,t,n){const r=()=>{const i=ps(t),o=ps(e),s=`(${i} - ${o}) / (${n} - 1)`;return`sequence(${o}, ${i} + ${s}, ${s})`};return me(t)?new Mn(r):{signal:r()}}function fZe(e,t){switch(e){case"bar":case"tick":return t.scale.minBandSize;case"line":case"trail":case"rule":return t.scale.minStrokeWidth;case"text":return t.scale.minFontSize;case"point":case"square":case"circle":return t.scale.minSize}throw new Error(z_("size",e))}const DV=.95;function dZe(e,t,n,r){const i={x:RV(n,"x"),y:RV(n,"y")};switch(e){case"bar":case"tick":{if(r.scale.maxBandSize!==void 0)return r.scale.maxBandSize;const o=OV(t,i,r.view);return Ze(o)?o-1:new Mn(()=>`${o.signal} - 1`)}case"line":case"trail":case"rule":return r.scale.maxStrokeWidth;case"text":return r.scale.maxFontSize;case"point":case"square":case"circle":{if(r.scale.maxSize)return r.scale.maxSize;const o=OV(t,i,r.view);return Ze(o)?Math.pow(DV*o,2):new Mn(()=>`pow(${DV} * ${o.signal}, 2)`)}}throw new Error(z_("size",e))}function OV(e,t,n){const r=Aa(e.width)?e.width.step:tM(n,"width"),i=Aa(e.height)?e.height.step:tM(n,"height");return t.x||t.y?new Mn(()=>`min(${[t.x?t.x.signal:r,t.y?t.y.signal:i].join(", ")})`):Math.min(r,i)}function Lle(e,t){Ut(e)?hZe(e,t):jle(e,t)}function hZe(e,t){const n=e.component.scales,{config:r,encoding:i,markDef:o,specifiedScales:s}=e;for(const a of X(n)){const l=s[a],u=n[a],c=e.getScaleComponent(a),f=Sn(i[a]),d=l[t],h=c.get("type"),p=c.get("padding"),g=c.get("paddingInner"),m=Q4(h,t),y=$se(a,t);if(d!==void 0&&(m?y&&Z(y):Z(sse(h,t,a))),m&&y===void 0)if(d!==void 0){const v=f.timeUnit,b=f.type;switch(t){case"domainMax":case"domainMin":Jd(l[t])||b==="temporal"||v?u.set(t,{signal:K_(l[t],{type:b,timeUnit:v})},!0):u.set(t,l[t],!0);break;default:u.copyKeyFromObject(t,l)}}else{const v=K(NV,t)?NV[t]({model:e,channel:a,fieldOrDatumDef:f,scaleType:h,scalePadding:p,scalePaddingInner:g,domain:l.domain,domainMin:l.domainMin,domainMax:l.domainMax,markDef:o,config:r,hasNestedOffsetScale:tae(i,a),hasSecondaryRangeChannel:!!i[za(a)]}):r.scale[t];v!==void 0&&u.set(t,v,!1)}}}const NV={bins:({model:e,fieldOrDatumDef:t})=>J(t)?pZe(e,t):void 0,interpolate:({channel:e,fieldOrDatumDef:t})=>gZe(e,t.type),nice:({scaleType:e,channel:t,domain:n,domainMin:r,domainMax:i,fieldOrDatumDef:o})=>mZe(e,t,n,r,i,o),padding:({channel:e,scaleType:t,fieldOrDatumDef:n,markDef:r,config:i})=>yZe(e,t,i.scale,n,r,i.bar),paddingInner:({scalePadding:e,channel:t,markDef:n,scaleType:r,config:i,hasNestedOffsetScale:o})=>vZe(e,t,n.type,r,i.scale,o),paddingOuter:({scalePadding:e,channel:t,scaleType:n,scalePaddingInner:r,config:i,hasNestedOffsetScale:o})=>bZe(e,t,n,r,i.scale,o),reverse:({fieldOrDatumDef:e,scaleType:t,channel:n,config:r})=>{const i=J(e)?e.sort:void 0;return xZe(t,i,n,r.scale)},zero:({channel:e,fieldOrDatumDef:t,domain:n,markDef:r,scaleType:i,config:o,hasSecondaryRangeChannel:s})=>wZe(e,t,n,r,i,o.scale,s)};function zle(e){Ut(e)?iZe(e):jle(e,"range")}function jle(e,t){const n=e.component.scales;for(const r of e.children)t==="range"?zle(r):Lle(r,t);for(const r of X(n)){let i;for(const o of e.children){const s=o.component.scales[r];if(s){const a=s.getWithExplicit(t);i=xc(i,a,t,"scale",Rae((l,u)=>{switch(t){case"range":return l.step&&u.step?l.step-u.step:0}return 0}))}}n[r].setWithExplicit(t,i)}}function pZe(e,t){const n=t.bin;if(Et(n)){const r=t9(e,t.field,n);return new Mn(()=>e.getSignalName(r))}else if(Hn(n)&&Qd(n)&&n.step!==void 0)return{step:n.step}}function gZe(e,t){if(ze([ki,Ia,La],e)&&t!=="nominal")return"hcl"}function mZe(e,t,n,r,i,o){var s;if(!((s=As(o))!=null&&s.bin||G(n)||i!=null||r!=null||ze([Yn.TIME,Yn.UTC],e)))return un(t)?!0:void 0}function yZe(e,t,n,r,i,o){if(un(e)){if(ua(t)){if(n.continuousPadding!==void 0)return n.continuousPadding;const{type:s,orient:a}=i;if(s==="bar"&&!(J(r)&&(r.bin||r.timeUnit))&&(a==="vertical"&&e==="x"||a==="horizontal"&&e==="y"))return o.continuousBandSize}if(t===Yn.POINT)return n.pointPadding}}function vZe(e,t,n,r,i,o=!1){if(e===void 0){if(un(t)){const{bandPaddingInner:s,barBandPaddingInner:a,rectBandPaddingInner:l,tickBandPaddingInner:u,bandWithNestedOffsetPaddingInner:c}=i;return o?c:ln(s,n==="bar"?a:n==="tick"?u:l)}else if(Gv(t)&&r===Yn.BAND)return i.offsetBandPaddingInner}}function bZe(e,t,n,r,i,o=!1){if(e===void 0){if(un(t)){const{bandPaddingOuter:s,bandWithNestedOffsetPaddingOuter:a}=i;if(o)return a;if(n===Yn.BAND)return ln(s,me(r)?{signal:`${r.signal}/2`}:r/2)}else if(Gv(t)){if(n===Yn.POINT)return .5;if(n===Yn.BAND)return i.offsetBandPaddingOuter}}}function xZe(e,t,n,r){if(n==="x"&&r.xReverse!==void 0)return Es(e)&&t==="descending"?me(r.xReverse)?{signal:`!${r.xReverse.signal}`}:!r.xReverse:r.xReverse;if(Es(e)&&t==="descending")return!0}function wZe(e,t,n,r,i,o,s){if(!!n&&n!=="unaggregated"&&Es(i)){if(G(n)){const l=n[0],u=n[n.length-1];if(Ze(l)&&l<=0&&Ze(u)&&u>=0)return!0}return!1}if(e==="size"&&t.type==="quantitative"&&!Tg(i))return!0;if(!(J(t)&&t.bin)&&ze([...Xl,...mHe],e)){const{orient:l,type:u}=r;return ze(["bar","area","line","trail"],u)&&(l==="horizontal"&&e==="y"||l==="vertical"&&e==="x")?!1:ze(["bar","area"],u)&&!s?!0:o==null?void 0:o.zero}return!1}function SZe(e,t,n,r,i=!1){const o=kZe(t,n,r,i),{type:s}=e;return ja(t)?s!==void 0?xGe(t,s)?J(n)&&!bGe(s,n.type)?(Z(wqe(s,o)),o):s:(Z(xqe(t,s,o)),o):o:null}function kZe(e,t,n,r){var i;switch(t.type){case"nominal":case"ordinal":{if(Sp(e)||t5(e)==="discrete")return e==="shape"&&t.type==="ordinal"&&Z(n5(e,"ordinal")),"ordinal";if(un(e)||Gv(e)){if(ze(["rect","bar","image","rule","tick"],n.type)||r)return"band"}else if(n.type==="arc"&&e in r8)return"band";const o=n[_i(e)];return _d(o)||Fg(t)&&((i=t.axis)!=null&&i.tickBand)?"band":"point"}case"temporal":return Sp(e)?"time":t5(e)==="discrete"?(Z(n5(e,"temporal")),"ordinal"):J(t)&&t.timeUnit&&In(t.timeUnit).utc?"utc":"time";case"quantitative":return Sp(e)?J(t)&&Et(t.bin)?"bin-ordinal":"linear":t5(e)==="discrete"?(Z(n5(e,"quantitative")),"ordinal"):"linear";case"geojson":return}throw new Error(ise(t.type))}function CZe(e,{ignoreRange:t}={}){Ble(e),Fle(e);for(const n of vGe)Lle(e,n);t||zle(e)}function Ble(e){Ut(e)?e.component.scales=_Ze(e):e.component.scales=$Ze(e)}function _Ze(e){const{encoding:t,mark:n,markDef:r}=e,i={};for(const o of i8){const s=Sn(t[o]);if(s&&n===Mse&&o===Ci&&s.type===hm)continue;let a=s&&s.scale;if(s&&a!==null&&a!==!1){a??(a={});const l=tae(t,o),u=SZe(a,o,s,r,l);i[o]=new Rle(e.scaleName(`${o}`,!0),{value:u,explicit:a.type===u})}}return i}const EZe=Rae((e,t)=>BU(e)-BU(t));function $Ze(e){var t;const n=e.component.scales={},r={},i=e.component.resolve;for(const o of e.children){Ble(o);for(const s of X(o.component.scales))if((t=i.scale)[s]??(t[s]=vle(s,e)),i.scale[s]==="shared"){const a=r[s],l=o.component.scales[s].getWithExplicit("type");a?lGe(a.value,l.value)?r[s]=xc(a,l,"type","scale",EZe):(i.scale[s]="independent",delete r[s]):r[s]=l}}for(const o of X(r)){const s=e.scaleName(o,!0),a=r[o];n[o]=new Rle(s,a);for(const l of e.children){const u=l.component.scales[o];u&&(l.renameScale(u.get("name"),s),u.merged=!0)}}return n}class d5{constructor(){this.nameMap={}}rename(t,n){this.nameMap[t]=n}has(t){return this.nameMap[t]!==void 0}get(t){for(;this.nameMap[t]&&t!==this.nameMap[t];)t=this.nameMap[t];return t}}function Ut(e){return(e==null?void 0:e.type)==="unit"}function Gi(e){return(e==null?void 0:e.type)==="facet"}function s9(e){return(e==null?void 0:e.type)==="concat"}function vm(e){return(e==null?void 0:e.type)==="layer"}class a9{constructor(t,n,r,i,o,s,a){this.type=n,this.parent=r,this.config=o,this.correctDataNames=l=>{var u,c,f;return(u=l.from)!=null&&u.data&&(l.from.data=this.lookupDataSource(l.from.data)),(f=(c=l.from)==null?void 0:c.facet)!=null&&f.data&&(l.from.facet.data=this.lookupDataSource(l.from.facet.data)),l},this.parent=r,this.config=o,this.view=Gn(a),this.name=t.name??i,this.title=mu(t.title)?{text:t.title}:t.title?Gn(t.title):void 0,this.scaleNameMap=r?r.scaleNameMap:new d5,this.projectionNameMap=r?r.projectionNameMap:new d5,this.signalNameMap=r?r.signalNameMap:new d5,this.data=t.data,this.description=t.description,this.transforms=DXe(t.transform??[]),this.layout=n==="layer"||n==="unit"?{}:LYe(t,n,o),this.component={data:{sources:r?r.component.data.sources:[],outputNodes:r?r.component.data.outputNodes:{},outputNodeRefCounts:r?r.component.data.outputNodeRefCounts:{},isFaceted:G_(t)||(r==null?void 0:r.component.data.isFaceted)&&t.data===void 0},layoutSize:new Ql,layoutHeaders:{row:{},column:{},facet:{}},mark:null,resolve:{scale:{},axis:{},legend:{},...s?Me(s):{}},selection:null,scales:null,projection:null,axes:{},legends:{}}}get width(){return this.getSizeSignalRef("width")}get height(){return this.getSizeSignalRef("height")}parse(){this.parseScale(),this.parseLayoutSize(),this.renameTopLevelLayoutSizeSignal(),this.parseSelections(),this.parseProjection(),this.parseData(),this.parseAxesAndHeaders(),this.parseLegends(),this.parseMarkGroup()}parseScale(){CZe(this)}parseProjection(){Ale(this)}renameTopLevelLayoutSizeSignal(){this.getName("width")!=="width"&&this.renameSignal(this.getName("width"),"width"),this.getName("height")!=="height"&&this.renameSignal(this.getName("height"),"height")}parseLegends(){kle(this)}assembleEncodeFromView(t){const{style:n,...r}=t,i={};for(const o of X(r)){const s=r[o];s!==void 0&&(i[o]=Pt(s))}return i}assembleGroupEncodeEntry(t){let n={};return this.view&&(n=this.assembleEncodeFromView(this.view)),!t&&(this.description&&(n.description=Pt(this.description)),this.type==="unit"||this.type==="layer")?{width:this.getSizeSignalRef("width"),height:this.getSizeSignalRef("height"),...n}:vt(n)?void 0:n}assembleLayout(){if(!this.layout)return;const{spacing:t,...n}=this.layout,{component:r,config:i}=this,o=GKe(r.layoutHeaders,i);return{padding:t,...this.assembleDefaultLayout(),...n,...o?{titleBand:o}:{}}}assembleDefaultLayout(){return{}}assembleHeaderMarks(){const{layoutHeaders:t}=this.component;let n=[];for(const r of $o)t[r].title&&n.push(BKe(this,r));for(const r of Q8)n=n.concat(UKe(this,r));return n}assembleAxes(){return AKe(this.component.axes,this.config)}assembleLegends(){return _le(this)}assembleProjections(){return mQe(this)}assembleTitle(){const{encoding:t,...n}=this.title??{},r={...Xoe(this.config.title).nonMarkTitleProperties,...n,...t?{encode:{update:t}}:{}};if(r.text)return ze(["unit","layer"],this.type)?ze(["middle",void 0],r.anchor)&&(r.frame??(r.frame="group")):r.anchor??(r.anchor="start"),vt(r)?void 0:r}assembleGroup(t=[]){const n={};t=t.concat(this.assembleSignals()),t.length>0&&(n.signals=t);const r=this.assembleLayout();r&&(n.layout=r),n.marks=[].concat(this.assembleHeaderMarks(),this.assembleMarks());const i=!this.parent||Gi(this.parent)?Ple(this):[];i.length>0&&(n.scales=i);const o=this.assembleAxes();o.length>0&&(n.axes=o);const s=this.assembleLegends();return s.length>0&&(n.legends=s),n}getName(t){return Lt((this.name?`${this.name}_`:"")+t)}getDataName(t){return this.getName(tn[t].toLowerCase())}requestDataName(t){const n=this.getDataName(t),r=this.component.data.outputNodeRefCounts;return r[n]=(r[n]||0)+1,n}getSizeSignalRef(t){if(Gi(this.parent)){const n=mle(t),r=N_(n),i=this.component.scales[r];if(i&&!i.merged){const o=i.get("type"),s=i.get("range");if(Ln(o)&&Zd(s)){const a=i.get("name"),l=lE(this,r),u=o9(l);if(u){const c=ie({aggregate:"distinct",field:u},{expr:"datum"});return{signal:gle(a,i,c)}}else return Z(a8(r)),null}}}return{signal:this.signalNameMap.get(this.getName(t))}}lookupDataSource(t){const n=this.component.data.outputNodes[t];return n?n.getSource():t}getSignalName(t){return this.signalNameMap.get(t)}renameSignal(t,n){this.signalNameMap.rename(t,n)}renameScale(t,n){this.scaleNameMap.rename(t,n)}renameProjection(t,n){this.projectionNameMap.rename(t,n)}scaleName(t,n){if(n)return this.getName(t);if(Boe(t)&&ja(t)&&this.component.scales[t]||this.scaleNameMap.has(this.getName(t)))return this.scaleNameMap.get(this.getName(t))}projectionName(t){if(t)return this.getName("projection");if(this.component.projection&&!this.component.projection.merged||this.projectionNameMap.has(this.getName("projection")))return this.projectionNameMap.get(this.getName("projection"))}getScaleComponent(t){if(!this.component.scales)throw new Error("getScaleComponent cannot be called before parseScale(). Make sure you have called parseScale or use parseUnitModelWithScale().");const n=this.component.scales[t];return n&&!n.merged?n:this.parent?this.parent.getScaleComponent(t):void 0}getScaleType(t){const n=this.getScaleComponent(t);return n?n.get("type"):void 0}getSelectionComponent(t,n){let r=this.component.selection[t];if(!r&&this.parent&&(r=this.parent.getSelectionComponent(t,n)),!r)throw new Error(zHe(n));return r}hasAxisOrientSignalRef(){var t,n;return((t=this.component.axes.x)==null?void 0:t.some(r=>r.hasOrientSignalRef()))||((n=this.component.axes.y)==null?void 0:n.some(r=>r.hasOrientSignalRef()))}}class Ule extends a9{vgField(t,n={}){const r=this.fieldDef(t);if(r)return ie(r,n)}reduceFieldDef(t,n){return hYe(this.getMapping(),(r,i,o)=>{const s=As(i);return s?t(r,s,o):r},n)}forEachFieldDef(t,n){R8(this.getMapping(),(r,i)=>{const o=As(r);o&&t(o,i)},n)}}class uE extends gt{clone(){return new uE(null,Me(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=Me(n);const r=this.transform.as??[void 0,void 0];this.transform.as=[r[0]??"value",r[1]??"density"];const i=this.transform.resolve??"shared";this.transform.resolve=i}dependentFields(){return new Set([this.transform.density,...this.transform.groupby??[]])}producedFields(){return new Set(this.transform.as)}hash(){return`DensityTransform ${Be(this.transform)}`}assemble(){const{density:t,...n}=this.transform,r={type:"kde",field:t,...n};return r.resolve=this.transform.resolve,r}}class cE extends gt{clone(){return new cE(null,Me(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=Me(n)}dependentFields(){return new Set([this.transform.extent])}producedFields(){return new Set([])}hash(){return`ExtentTransform ${Be(this.transform)}`}assemble(){const{extent:t,param:n}=this.transform;return{type:"extent",field:t,signal:n}}}class fE extends gt{clone(){return new fE(this.parent,Me(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=Me(n);const{flatten:r,as:i=[]}=this.transform;this.transform.as=r.map((o,s)=>i[s]??o)}dependentFields(){return new Set(this.transform.flatten)}producedFields(){return new Set(this.transform.as)}hash(){return`FlattenTransform ${Be(this.transform)}`}assemble(){const{flatten:t,as:n}=this.transform;return{type:"flatten",fields:t,as:n}}}class dE extends gt{clone(){return new dE(null,Me(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=Me(n);const r=this.transform.as??[void 0,void 0];this.transform.as=[r[0]??"key",r[1]??"value"]}dependentFields(){return new Set(this.transform.fold)}producedFields(){return new Set(this.transform.as)}hash(){return`FoldTransform ${Be(this.transform)}`}assemble(){const{fold:t,as:n}=this.transform;return{type:"fold",fields:t,as:n}}}class _p extends gt{clone(){return new _p(null,Me(this.fields),this.geojson,this.signal)}static parseAll(t,n){if(n.component.projection&&!n.component.projection.isFit)return t;let r=0;for(const i of[[Ns,Os],[zo,Is]]){const o=i.map(s=>{const a=Sn(n.encoding[s]);return J(a)?a.field:Ba(a)?{expr:`${a.datum}`}:$s(a)?{expr:`${a.value}`}:void 0});(o[0]||o[1])&&(t=new _p(t,o,null,n.getName(`geojson_${r++}`)))}if(n.channelHasField(Ci)){const i=n.typedFieldDef(Ci);i.type===hm&&(t=new _p(t,null,i.field,n.getName(`geojson_${r++}`)))}return t}constructor(t,n,r,i){super(t),this.fields=n,this.geojson=r,this.signal=i}dependentFields(){const t=(this.fields??[]).filter(le);return new Set([...this.geojson?[this.geojson]:[],...t])}producedFields(){return new Set}hash(){return`GeoJSON ${this.geojson} ${this.signal} ${Be(this.fields)}`}assemble(){return[...this.geojson?[{type:"filter",expr:`isValid(datum["${this.geojson}"])`}]:[],{type:"geojson",...this.fields?{fields:this.fields}:{},...this.geojson?{geojson:this.geojson}:{},signal:this.signal}]}}class O1 extends gt{clone(){return new O1(null,this.projection,Me(this.fields),Me(this.as))}constructor(t,n,r,i){super(t),this.projection=n,this.fields=r,this.as=i}static parseAll(t,n){if(!n.projectionName())return t;for(const r of[[Ns,Os],[zo,Is]]){const i=r.map(s=>{const a=Sn(n.encoding[s]);return J(a)?a.field:Ba(a)?{expr:`${a.datum}`}:$s(a)?{expr:`${a.value}`}:void 0}),o=r[0]===zo?"2":"";(i[0]||i[1])&&(t=new O1(t,n.projectionName(),i,[n.getName(`x${o}`),n.getName(`y${o}`)]))}return t}dependentFields(){return new Set(this.fields.filter(le))}producedFields(){return new Set(this.as)}hash(){return`Geopoint ${this.projection} ${Be(this.fields)} ${Be(this.as)}`}assemble(){return{type:"geopoint",projection:this.projection,fields:this.fields,as:this.as}}}class td extends gt{clone(){return new td(null,Me(this.transform))}constructor(t,n){super(t),this.transform=n}dependentFields(){return new Set([this.transform.impute,this.transform.key,...this.transform.groupby??[]])}producedFields(){return new Set([this.transform.impute])}processSequence(t){const{start:n=0,stop:r,step:i}=t;return{signal:`sequence(${[n,r,...i?[i]:[]].join(",")})`}}static makeFromTransform(t,n){return new td(t,n)}static makeFromEncoding(t,n){const r=n.encoding,i=r.x,o=r.y;if(J(i)&&J(o)){const s=i.impute?i:o.impute?o:void 0;if(s===void 0)return;const a=i.impute?o:o.impute?i:void 0,{method:l,value:u,frame:c,keyvals:f}=s.impute,d=iae(n.mark,r);return new td(t,{impute:s.field,key:a.field,...l?{method:l}:{},...u!==void 0?{value:u}:{},...c?{frame:c}:{},...f!==void 0?{keyvals:f}:{},...d.length?{groupby:d}:{}})}return null}hash(){return`Impute ${Be(this.transform)}`}assemble(){const{impute:t,key:n,keyvals:r,method:i,groupby:o,value:s,frame:a=[null,null]}=this.transform,l={type:"impute",field:t,key:n,...r?{keyvals:gXe(r)?this.processSequence(r):r}:{},method:"value",...o?{groupby:o}:{},value:!i||i==="value"?s:null};if(i&&i!=="value"){const u={type:"window",as:[`imputed_${t}_value`],ops:[i],fields:[t],frame:a,ignorePeers:!1,...o?{groupby:o}:{}},c={type:"formula",expr:`datum.${t} === null ? datum.imputed_${t}_value : datum.${t}`,as:t};return[l,u,c]}else return[l]}}class hE extends gt{clone(){return new hE(null,Me(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=Me(n);const r=this.transform.as??[void 0,void 0];this.transform.as=[r[0]??n.on,r[1]??n.loess]}dependentFields(){return new Set([this.transform.loess,this.transform.on,...this.transform.groupby??[]])}producedFields(){return new Set(this.transform.as)}hash(){return`LoessTransform ${Be(this.transform)}`}assemble(){const{loess:t,on:n,...r}=this.transform;return{type:"loess",x:n,y:t,...r}}}class N1 extends gt{clone(){return new N1(null,Me(this.transform),this.secondary)}constructor(t,n,r){super(t),this.transform=n,this.secondary=r}static make(t,n,r,i){const o=n.component.data.sources,{from:s}=r;let a=null;if(mXe(s)){let l=Hle(s.data,o);l||(l=new Td(s.data),o.push(l));const u=n.getName(`lookup_${i}`);a=new yi(l,u,tn.Lookup,n.component.data.outputNodeRefCounts),n.component.data.outputNodes[u]=a}else if(yXe(s)){const l=s.param;r={as:l,...r};let u;try{u=n.getSelectionComponent(Lt(l),l)}catch{throw new Error(VHe(l))}if(a=u.materialized,!a)throw new Error(WHe(l))}return new N1(t,r,a.getSource())}dependentFields(){return new Set([this.transform.lookup])}producedFields(){return new Set(this.transform.as?ae(this.transform.as):this.transform.from.fields)}hash(){return`Lookup ${Be({transform:this.transform,secondary:this.secondary})}`}assemble(){let t;if(this.transform.from.fields)t={values:this.transform.from.fields,...this.transform.as?{as:ae(this.transform.as)}:{}};else{let n=this.transform.as;le(n)||(Z(ZHe),n="_lookup"),t={as:[n]}}return{type:"lookup",from:this.secondary,key:this.transform.from.key,fields:[this.transform.lookup],...t,...this.transform.default?{default:this.transform.default}:{}}}}class pE extends gt{clone(){return new pE(null,Me(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=Me(n);const r=this.transform.as??[void 0,void 0];this.transform.as=[r[0]??"prob",r[1]??"value"]}dependentFields(){return new Set([this.transform.quantile,...this.transform.groupby??[]])}producedFields(){return new Set(this.transform.as)}hash(){return`QuantileTransform ${Be(this.transform)}`}assemble(){const{quantile:t,...n}=this.transform;return{type:"quantile",field:t,...n}}}class gE extends gt{clone(){return new gE(null,Me(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=Me(n);const r=this.transform.as??[void 0,void 0];this.transform.as=[r[0]??n.on,r[1]??n.regression]}dependentFields(){return new Set([this.transform.regression,this.transform.on,...this.transform.groupby??[]])}producedFields(){return new Set(this.transform.as)}hash(){return`RegressionTransform ${Be(this.transform)}`}assemble(){const{regression:t,on:n,...r}=this.transform;return{type:"regression",x:n,y:t,...r}}}class mE extends gt{clone(){return new mE(null,Me(this.transform))}constructor(t,n){super(t),this.transform=n}addDimensions(t){this.transform.groupby=la((this.transform.groupby??[]).concat(t),n=>n)}producedFields(){}dependentFields(){return new Set([this.transform.pivot,this.transform.value,...this.transform.groupby??[]])}hash(){return`PivotTransform ${Be(this.transform)}`}assemble(){const{pivot:t,value:n,groupby:r,limit:i,op:o}=this.transform;return{type:"pivot",field:t,value:n,...i!==void 0?{limit:i}:{},...o!==void 0?{op:o}:{},...r!==void 0?{groupby:r}:{}}}}class yE extends gt{clone(){return new yE(null,Me(this.transform))}constructor(t,n){super(t),this.transform=n}dependentFields(){return new Set}producedFields(){return new Set}hash(){return`SampleTransform ${Be(this.transform)}`}assemble(){return{type:"sample",size:this.transform.sample}}}function Vle(e){let t=0;function n(r,i){if(r instanceof Td&&!r.isGenerator&&!Rg(r.data)&&(e.push(i),i={name:null,source:i.name,transform:[]}),r instanceof Sr&&(r.parent instanceof Td&&!i.source?(i.format={...i.format,parse:r.assembleFormatParse()},i.transform.push(...r.assembleTransforms(!0))):i.transform.push(...r.assembleTransforms())),r instanceof mm){i.name||(i.name=`data_${t++}`),!i.source||i.transform.length>0?(e.push(i),r.data=i.name):r.data=i.source,e.push(...r.assemble());return}switch((r instanceof rb||r instanceof ib||r instanceof Lg||r instanceof gm||r instanceof Og||r instanceof O1||r instanceof bs||r instanceof N1||r instanceof ym||r instanceof rh||r instanceof dE||r instanceof fE||r instanceof uE||r instanceof hE||r instanceof pE||r instanceof gE||r instanceof Sc||r instanceof yE||r instanceof mE||r instanceof cE)&&i.transform.push(r.assemble()),(r instanceof wa||r instanceof xa||r instanceof td||r instanceof _l||r instanceof _p)&&i.transform.push(...r.assemble()),r instanceof yi&&(i.source&&i.transform.length===0?r.setSource(i.source):r.parent instanceof yi?r.setSource(i.name):(i.name||(i.name=`data_${t++}`),r.setSource(i.name),r.numChildren()===1&&(e.push(i),i={name:null,source:i.name,transform:[]}))),r.numChildren()){case 0:r instanceof yi&&(!i.source||i.transform.length>0)&&e.push(i);break;case 1:n(r.children[0],i);break;default:{i.name||(i.name=`data_${t++}`);let o=i.name;!i.source||i.transform.length>0?e.push(i):o=i.source;for(const s of r.children)n(s,{name:null,source:o,transform:[]});break}}}return n}function AZe(e){const t=[],n=Vle(t);for(const r of e.children)n(r,{source:e.name,name:null,transform:[]});return t}function TZe(e,t){const n=[],r=Vle(n);let i=0;for(const s of e.sources){s.hasName()||(s.dataName=`source_${i++}`);const a=s.assemble();r(s,a)}for(const s of n)s.transform.length===0&&delete s.transform;let o=0;for(const[s,a]of n.entries())(a.transform??[]).length===0&&!a.source&&n.splice(o++,0,n.splice(s,1)[0]);for(const s of n)for(const a of s.transform??[])a.type==="lookup"&&(a.from=e.outputNodes[a.from].getSource());for(const s of n)s.name in t&&(s.values=t[s.name]);return n}function MZe(e){return e==="top"||e==="left"||me(e)?"header":"footer"}function FZe(e){for(const t of $o)PZe(e,t);IV(e,"x"),IV(e,"y")}function PZe(e,t){var s;const{facet:n,config:r,child:i,component:o}=e;if(e.channelHasField(t)){const a=n[t],l=Ig("title",null,r,t);let u=kp(a,r,{allowDisabling:!0,includeDefault:l===void 0||!!l});i.component.layoutHeaders[t].title&&(u=G(u)?u.join(", "):u,u+=` / ${i.component.layoutHeaders[t].title}`,i.component.layoutHeaders[t].title=null);const c=Ig("labelOrient",a.header,r,t),f=a.header!==null?ln((s=a.header)==null?void 0:s.labels,r.header.labels,!0):!1,d=ze(["bottom","right"],c)?"footer":"header";o.layoutHeaders[t]={title:a.header!==null?u:null,facetFieldDef:a,[d]:t==="facet"?[]:[Wle(e,t,f)]}}}function Wle(e,t,n){const r=t==="row"?"height":"width";return{labels:n,sizeSignal:e.child.component.layoutSize.get(r)?e.child.getSizeSignalRef(r):void 0,axes:[]}}function IV(e,t){const{child:n}=e;if(n.component.axes[t]){const{layoutHeaders:r,resolve:i}=e.component;if(i.axis[t]=e9(i,t),i.axis[t]==="shared"){const o=t==="x"?"column":"row",s=r[o];for(const a of n.component.axes[t]){const l=MZe(a.get("orient"));s[l]??(s[l]=[Wle(e,o,!1)]);const u=q0(a,"main",e.config,{header:!0});u&&s[l][0].axes.push(u),a.mainExtracted=!0}}}}function RZe(e){l9(e),hk(e,"width"),hk(e,"height")}function DZe(e){l9(e);const t=e.layout.columns===1?"width":"childWidth",n=e.layout.columns===void 0?"height":"childHeight";hk(e,t),hk(e,n)}function l9(e){for(const t of e.children)t.parseLayoutSize()}function hk(e,t){const n=mle(t),r=N_(n),i=e.component.resolve,o=e.component.layoutSize;let s;for(const a of e.children){const l=a.component.layoutSize.getWithExplicit(n),u=i.scale[r]??vle(r,e);if(u==="independent"&&l.value==="step"){s=void 0;break}if(s){if(u==="independent"&&s.value!==l.value){s=void 0;break}s=xc(s,l,n,"")}else s=l}if(s){for(const a of e.children)e.renameSignal(a.getName(n),e.getName(t)),a.component.layoutSize.set(n,"merged",!1);o.setWithExplicit(t,s)}else o.setWithExplicit(t,{explicit:!1,value:void 0})}function OZe(e){const{size:t,component:n}=e;for(const r of Xl){const i=_i(r);if(t[i]){const o=t[i];n.layoutSize.set(i,Aa(o)?"step":o,!0)}else{const o=NZe(e,i);n.layoutSize.set(i,o,!1)}}}function NZe(e,t){const n=t==="width"?"x":"y",r=e.config,i=e.getScaleComponent(n);if(i){const o=i.get("type"),s=i.get("range");if(Ln(o)){const a=uk(r.view,t);return Zd(s)||Aa(a)?"step":a}else return eM(r.view,t)}else{if(e.hasProjection||e.mark==="arc")return eM(r.view,t);{const o=uk(r.view,t);return Aa(o)?o.step:o}}}function mM(e,t,n){return ie(t,{suffix:`by_${ie(e)}`,...n})}class Fy extends Ule{constructor(t,n,r,i){super(t,"facet",n,r,i,t.resolve),this.child=h9(t.spec,this,this.getName("child"),void 0,i),this.children=[this.child],this.facet=this.initFacet(t.facet)}initFacet(t){if(!Qv(t))return{facet:this.initFacetFieldDef(t,"facet")};const n=X(t),r={};for(const i of n){if(![wl,Sl].includes(i)){Z(z_(i,"facet"));break}const o=t[i];if(o.field===void 0){Z(X4(o,i));break}r[i]=this.initFacetFieldDef(o,i)}return r}initFacetFieldDef(t,n){const r=P8(t,n);return r.header?r.header=Gn(r.header):r.header===null&&(r.header=null),r}channelHasField(t){return K(this.facet,t)}fieldDef(t){return this.facet[t]}parseData(){this.component.data=vE(this),this.child.parseData()}parseLayoutSize(){l9(this)}parseSelections(){this.child.parseSelections(),this.component.selection=this.child.component.selection}parseMarkGroup(){this.child.parseMarkGroup()}parseAxesAndHeaders(){this.child.parseAxesAndHeaders(),FZe(this)}assembleSelectionTopLevelSignals(t){return this.child.assembleSelectionTopLevelSignals(t)}assembleSignals(){return this.child.assembleSignals(),[]}assembleSelectionData(t){return this.child.assembleSelectionData(t)}getHeaderLayoutMixins(){const t={};for(const n of $o)for(const r of Z8){const i=this.component.layoutHeaders[n],o=i[r],{facetFieldDef:s}=i;if(s){const a=Ig("titleOrient",s.header,this.config,n);if(["right","bottom"].includes(a)){const l=sE(n,a);t.titleAnchor??(t.titleAnchor={}),t.titleAnchor[l]="end"}}if(o!=null&&o[0]){const a=n==="row"?"height":"width",l=r==="header"?"headerBand":"footerBand";n!=="facet"&&!this.child.component.layoutSize.get(a)&&(t[l]??(t[l]={}),t[l][n]=.5),i.title&&(t.offset??(t.offset={}),t.offset[n==="row"?"rowTitle":"columnTitle"]=10)}}return t}assembleDefaultLayout(){const{column:t,row:n}=this.facet,r=t?this.columnDistinctSignal():n?1:void 0;let i="all";return(!n&&this.component.resolve.scale.x==="independent"||!t&&this.component.resolve.scale.y==="independent")&&(i="none"),{...this.getHeaderLayoutMixins(),...r?{columns:r}:{},bounds:"full",align:i}}assembleLayoutSignals(){return this.child.assembleLayoutSignals()}columnDistinctSignal(){if(!(this.parent&&this.parent instanceof Fy))return{signal:`length(data('${this.getName("column_domain")}'))`}}assembleGroupStyle(){}assembleGroup(t){return this.parent&&this.parent instanceof Fy?{...this.channelHasField("column")?{encode:{update:{columns:{field:ie(this.facet.column,{prefix:"distinct"})}}}}:{},...super.assembleGroup(t)}:super.assembleGroup(t)}getCardinalityAggregateForChild(){const t=[],n=[],r=[];if(this.child instanceof Fy){if(this.child.channelHasField("column")){const i=ie(this.child.facet.column);t.push(i),n.push("distinct"),r.push(`distinct_${i}`)}}else for(const i of Xl){const o=this.child.component.scales[i];if(o&&!o.merged){const s=o.get("type"),a=o.get("range");if(Ln(s)&&Zd(a)){const l=lE(this.child,i),u=o9(l);u?(t.push(u),n.push("distinct"),r.push(`distinct_${u}`)):Z(a8(i))}}}return{fields:t,ops:n,as:r}}assembleFacet(){const{name:t,data:n}=this.component.data.facetRoot,{row:r,column:i}=this.facet,{fields:o,ops:s,as:a}=this.getCardinalityAggregateForChild(),l=[];for(const c of $o){const f=this.facet[c];if(f){l.push(ie(f));const{bin:d,sort:h}=f;if(Et(d)&&l.push(ie(f,{binSuffix:"end"})),kl(h)){const{field:p,op:g=q_}=h,m=mM(f,h);r&&i?(o.push(m),s.push("max"),a.push(m)):(o.push(p),s.push(g),a.push(m))}else if(G(h)){const p=Ng(f,c);o.push(p),s.push("max"),a.push(p)}}}const u=!!r&&!!i;return{name:t,data:n,groupby:l,...u||o.length>0?{aggregate:{...u?{cross:u}:{},...o.length?{fields:o,ops:s,as:a}:{}}}:{}}}facetSortFields(t){const{facet:n}=this,r=n[t];return r?kl(r.sort)?[mM(r,r.sort,{expr:"datum"})]:G(r.sort)?[Ng(r,t,{expr:"datum"})]:[ie(r,{expr:"datum"})]:[]}facetSortOrder(t){const{facet:n}=this,r=n[t];if(r){const{sort:i}=r;return[(kl(i)?i.order:!G(i)&&i)||"ascending"]}return[]}assembleLabelTitle(){var i;const{facet:t,config:n}=this;if(t.facet)return uM(t.facet,"facet",n);const r={row:["top","bottom"],column:["left","right"]};for(const o of Q8)if(t[o]){const s=Ig("labelOrient",(i=t[o])==null?void 0:i.header,n,o);if(r[o].includes(s))return uM(t[o],o,n)}}assembleMarks(){const{child:t}=this,n=this.component.data.facetRoot,r=AZe(n),i=t.assembleGroupEncodeEntry(!1),o=this.assembleLabelTitle()||t.assembleTitle(),s=t.assembleGroupStyle();return[{name:this.getName("cell"),type:"group",...o?{title:o}:{},...s?{style:s}:{},from:{facet:this.assembleFacet()},sort:{field:$o.map(l=>this.facetSortFields(l)).flat(),order:$o.map(l=>this.facetSortOrder(l)).flat()},...r.length>0?{data:r}:{},...i?{encode:{update:i}}:{},...t.assembleGroup(YXe(this,[]))}]}getMapping(){return this.facet}}function IZe(e,t){const{row:n,column:r}=t;if(n&&r){let i=null;for(const o of[n,r])if(kl(o.sort)){const{field:s,op:a=q_}=o.sort;e=i=new rh(e,{joinaggregate:[{op:a,field:s,as:mM(o,o.sort,{forAs:!0})}],groupby:[ie(o)]})}return i}return null}function Hle(e,t){var n,r,i,o;for(const s of t){const a=s.data;if(e.name&&s.hasName()&&e.name!==s.dataName)continue;const l=(n=e.format)==null?void 0:n.mesh,u=(r=a.format)==null?void 0:r.feature;if(l&&u)continue;const c=(i=e.format)==null?void 0:i.feature;if((c||u)&&c!==u)continue;const f=(o=a.format)==null?void 0:o.mesh;if(!((l||f)&&l!==f)){if(D1(e)&&D1(a)){if(ji(e.values,a.values))return s}else if(Rg(e)&&Rg(a)){if(e.url===a.url)return s}else if(Dae(e)&&e.name===s.dataName)return s}}return null}function LZe(e,t){if(e.data||!e.parent){if(e.data===null){const r=new Td({values:[]});return t.push(r),r}const n=Hle(e.data,t);if(n)return tc(e.data)||(n.data.format=Toe({},e.data.format,n.data.format)),!n.hasName()&&e.data.name&&(n.dataName=e.data.name),n;{const r=new Td(e.data);return t.push(r),r}}else return e.parent.component.data.facetRoot?e.parent.component.data.facetRoot:e.parent.component.data.main}function zZe(e,t,n){let r=0;for(const i of t.transforms){let o,s;if($Xe(i))s=e=new Og(e,i),o="derived";else if(W8(i)){const a=TQe(i);s=e=Sr.makeWithAncestors(e,{},a,n)??e,e=new gm(e,t,i.filter)}else if(Tae(i))s=e=wa.makeFromTransform(e,i,t),o="number";else if(TXe(i))o="date",n.getWithExplicit(i.field).value===void 0&&(e=new Sr(e,{[i.field]:o}),n.set(i.field,o,!1)),s=e=xa.makeFromTransform(e,i);else if(MXe(i))s=e=bs.makeFromTransform(e,i),o="number",K8(t)&&(e=new Sc(e));else if(Aae(i))s=e=N1.make(e,t,i,r++),o="derived";else if(CXe(i))s=e=new ym(e,i),o="number";else if(_Xe(i))s=e=new rh(e,i),o="number";else if(FXe(i))s=e=_l.makeFromTransform(e,i),o="derived";else if(PXe(i))s=e=new dE(e,i),o="derived";else if(RXe(i))s=e=new cE(e,i),o="derived";else if(EXe(i))s=e=new fE(e,i),o="derived";else if(vXe(i))s=e=new mE(e,i),o="derived";else if(kXe(i))e=new yE(e,i);else if(AXe(i))s=e=td.makeFromTransform(e,i),o="derived";else if(bXe(i))s=e=new uE(e,i),o="derived";else if(xXe(i))s=e=new pE(e,i),o="derived";else if(wXe(i))s=e=new gE(e,i),o="derived";else if(SXe(i))s=e=new hE(e,i),o="derived";else{Z(QHe(i));continue}if(s&&o!==void 0)for(const a of s.producedFields()??[])n.set(a,o,!1)}return e}function vE(e){var m;let t=LZe(e,e.component.data.sources);const{outputNodes:n,outputNodeRefCounts:r}=e.component.data,i=e.data,s=!(i&&(tc(i)||Rg(i)||D1(i)))&&e.parent?e.parent.component.data.ancestorParse.clone():new HXe;tc(i)?(Oae(i)?t=new ib(t,i.sequence):H8(i)&&(t=new rb(t,i.graticule)),s.parseNothing=!0):((m=i==null?void 0:i.format)==null?void 0:m.parse)===null&&(s.parseNothing=!0),t=Sr.makeExplicit(t,e,s)??t,t=new Sc(t);const a=e.parent&&vm(e.parent);(Ut(e)||Gi(e))&&a&&(t=wa.makeFromEncoding(t,e)??t),e.transforms.length>0&&(t=zZe(t,e,s));const l=FQe(e),u=MQe(e);t=Sr.makeWithAncestors(t,{},{...l,...u},s)??t,Ut(e)&&(t=_p.parseAll(t,e),t=O1.parseAll(t,e)),(Ut(e)||Gi(e))&&(a||(t=wa.makeFromEncoding(t,e)??t),t=xa.makeFromEncoding(t,e)??t,t=Og.parseAllForSortIndex(t,e));const c=t=$x(tn.Raw,e,t);if(Ut(e)){const y=bs.makeFromEncoding(t,e);y&&(t=y,K8(e)&&(t=new Sc(t))),t=td.makeFromEncoding(t,e)??t,t=_l.makeFromEncoding(t,e)??t}let f,d;if(Ut(e)){const{markDef:y,mark:v,config:b}=e,x=mt("invalid",y,b),{marks:w,scales:k}=d=Iae({invalid:x,isPath:jc(v)});w!==k&&k==="include-invalid-values"&&(f=t=$x(tn.PreFilterInvalid,e,t)),w==="exclude-invalid-values"&&(t=Lg.make(t,e,d)??t)}const h=t=$x(tn.Main,e,t);let p;if(Ut(e)&&d){const{marks:y,scales:v}=d;y==="include-invalid-values"&&v==="exclude-invalid-values"&&(t=Lg.make(t,e,d)??t,p=t=$x(tn.PostFilterInvalid,e,t))}Ut(e)&&EKe(e,h);let g=null;if(Gi(e)){const y=e.getName("facet");t=IZe(t,e.facet)??t,g=new mm(t,e,y,h.getSource()),n[y]=g}return{...e.component.data,outputNodes:n,outputNodeRefCounts:r,raw:c,main:h,facetRoot:g,ancestorParse:s,preFilterInvalid:f,postFilterInvalid:p}}function $x(e,t,n){const{outputNodes:r,outputNodeRefCounts:i}=t.component.data,o=t.getDataName(e),s=new yi(n,o,e,i);return r[o]=s,s}class jZe extends a9{constructor(t,n,r,i){var o,s,a,l;super(t,"concat",n,r,i,t.resolve),(((s=(o=t.resolve)==null?void 0:o.axis)==null?void 0:s.x)==="shared"||((l=(a=t.resolve)==null?void 0:a.axis)==null?void 0:l.y)==="shared")&&Z(YHe),this.children=this.getChildren(t).map((u,c)=>h9(u,this,this.getName(`concat_${c}`),void 0,i))}parseData(){this.component.data=vE(this);for(const t of this.children)t.parseData()}parseSelections(){this.component.selection={};for(const t of this.children){t.parseSelections();for(const n of X(t.component.selection))this.component.selection[n]=t.component.selection[n]}}parseMarkGroup(){for(const t of this.children)t.parseMarkGroup()}parseAxesAndHeaders(){for(const t of this.children)t.parseAxesAndHeaders()}getChildren(t){return J_(t)?t.vconcat:U8(t)?t.hconcat:t.concat}parseLayoutSize(){DZe(this)}parseAxisGroup(){return null}assembleSelectionTopLevelSignals(t){return this.children.reduce((n,r)=>r.assembleSelectionTopLevelSignals(n),t)}assembleSignals(){return this.children.forEach(t=>t.assembleSignals()),[]}assembleLayoutSignals(){const t=J8(this);for(const n of this.children)t.push(...n.assembleLayoutSignals());return t}assembleSelectionData(t){return this.children.reduce((n,r)=>r.assembleSelectionData(n),t)}assembleMarks(){return this.children.map(t=>{const n=t.assembleTitle(),r=t.assembleGroupStyle(),i=t.assembleGroupEncodeEntry(!1);return{type:"group",name:t.getName("group"),...n?{title:n}:{},...r?{style:r}:{},...i?{encode:{update:i}}:{},...t.assembleGroup()}})}assembleGroupStyle(){}assembleDefaultLayout(){const t=this.layout.columns;return{...t!=null?{columns:t}:{},bounds:"full",align:"each"}}}function BZe(e){return e===!1||e===null}const UZe={disable:1,gridScale:1,scale:1,...Zse,labelExpr:1,encode:1},qle=X(UZe);class u9 extends Ql{constructor(t={},n={},r=!1){super(),this.explicit=t,this.implicit=n,this.mainExtracted=r}clone(){return new u9(Me(this.explicit),Me(this.implicit),this.mainExtracted)}hasAxisPart(t){return t==="axis"?!0:t==="grid"||t==="title"?!!this.get(t):!BZe(this.get(t))}hasOrientSignalRef(){return me(this.explicit.orient)}}function VZe(e,t,n){const{encoding:r,config:i}=e,o=Sn(r[t])??Sn(r[za(t)]),s=e.axis(t)||{},{format:a,formatType:l}=s;if(Ed(l))return{text:gs({fieldOrDatumDef:o,field:"datum.value",format:a,formatType:l,config:i}),...n};if(a===void 0&&l===void 0&&i.customFormatTypes){if(Mg(o)==="quantitative"){if(Fg(o)&&o.stack==="normalize"&&i.normalizedNumberFormatType)return{text:gs({fieldOrDatumDef:o,field:"datum.value",format:i.normalizedNumberFormat,formatType:i.normalizedNumberFormatType,config:i}),...n};if(i.numberFormatType)return{text:gs({fieldOrDatumDef:o,field:"datum.value",format:i.numberFormat,formatType:i.numberFormatType,config:i}),...n}}if(Mg(o)==="temporal"&&i.timeFormatType&&J(o)&&!o.timeUnit)return{text:gs({fieldOrDatumDef:o,field:"datum.value",format:i.timeFormat,formatType:i.timeFormatType,config:i}),...n}}return n}function WZe(e){return Xl.reduce((t,n)=>(e.component.scales[n]&&(t[n]=[QZe(n,e)]),t),{})}const HZe={bottom:"top",top:"bottom",left:"right",right:"left"};function qZe(e){const{axes:t,resolve:n}=e.component,r={top:0,bottom:0,right:0,left:0};for(const i of e.children){i.parseAxesAndHeaders();for(const o of X(i.component.axes))n.axis[o]=e9(e.component.resolve,o),n.axis[o]==="shared"&&(t[o]=GZe(t[o],i.component.axes[o]),t[o]||(n.axis[o]="independent",delete t[o]))}for(const i of Xl){for(const o of e.children)if(o.component.axes[i]){if(n.axis[i]==="independent"){t[i]=(t[i]??[]).concat(o.component.axes[i]);for(const s of o.component.axes[i]){const{value:a,explicit:l}=s.getWithExplicit("orient");if(!me(a)){if(r[a]>0&&!l){const u=HZe[a];r[a]>r[u]&&s.set("orient",u,!1)}r[a]++}}}delete o.component.axes[i]}if(n.axis[i]==="independent"&&t[i]&&t[i].length>1)for(const[o,s]of(t[i]||[]).entries())o>0&&s.get("grid")&&!s.explicit.grid&&(s.implicit.grid=!1)}}function GZe(e,t){if(e){if(e.length!==t.length)return;const n=e.length;for(let r=0;r<n;r++){const i=e[r],o=t[r];if(!!i!=!!o)return;if(i&&o){const s=i.getWithExplicit("orient"),a=o.getWithExplicit("orient");if(s.explicit&&a.explicit&&s.value!==a.value)return;e[r]=YZe(i,o)}}}else return t.map(n=>n.clone());return e}function YZe(e,t){for(const n of qle){const r=xc(e.getWithExplicit(n),t.getWithExplicit(n),n,"axis",(i,o)=>{switch(n){case"title":return nse(i,o);case"gridScale":return{explicit:i.explicit,value:ln(i.value,o.value)}}return tE(i,o,n,"axis")});e.setWithExplicit(n,r)}return e}function XZe(e,t,n,r,i){if(t==="disable")return n!==void 0;switch(n=n||{},t){case"titleAngle":case"labelAngle":return e===(me(n.labelAngle)?n.labelAngle:P1(n.labelAngle));case"values":return!!n.values;case"encode":return!!n.encoding||!!n.labelAngle;case"title":if(e===fle(r,i))return!0}return e===n[t]}const KZe=new Set(["grid","translate","format","formatType","orient","labelExpr","tickCount","position","tickMinStep"]);function QZe(e,t){var y,v;let n=t.axis(e);const r=new u9,i=Sn(t.encoding[e]),{mark:o,config:s}=t,a=(n==null?void 0:n.orient)||((y=s[e==="x"?"axisX":"axisY"])==null?void 0:y.orient)||((v=s.axis)==null?void 0:v.orient)||NKe(e),l=t.getScaleComponent(e).get("type"),u=TKe(e,l,a,t.config),c=n!==void 0?!n:aM("disable",s.style,n==null?void 0:n.style,u).configValue;if(r.set("disable",c,n!==void 0),c)return r;n=n||{};const f=RKe(i,n,e,s.style,u),d=Lse(n.formatType,i,l),h=Ise(i,i.type,n.format,n.formatType,s,!0),p={fieldOrDatumDef:i,axis:n,channel:e,model:t,scaleType:l,orient:a,labelAngle:f,format:h,formatType:d,mark:o,config:s};for(const b of qle){const x=b in SV?SV[b](p):YU(b)?n[b]:void 0,w=x!==void 0,k=XZe(x,b,n,t,e);if(w&&k)r.set(b,x,k);else{const{configValue:S=void 0,configFrom:C=void 0}=YU(b)&&b!=="values"?aM(b,s.style,n.style,u):{},_=S!==void 0;w&&!_?r.set(b,x,k):(C!=="vgAxisConfig"||KZe.has(b)&&_||tb(S)||me(S))&&r.set(b,S,!1)}}const g=n.encoding??{},m=Qse.reduce((b,x)=>{if(!r.hasAxisPart(x))return b;const w=yle(g[x]??{},t),k=x==="labels"?VZe(t,e,w):w;return k!==void 0&&!vt(k)&&(b[x]={update:k}),b},{});return vt(m)||r.set("encode",m,!!n.encoding||n.labelAngle!==void 0),r}function ZZe({encoding:e,size:t}){for(const n of Xl){const r=_i(n);Aa(t[r])&&zu(e[n])&&(delete t[r],Z(ase(r)))}return t}const JZe={vgMark:"arc",encodeEntry:e=>({...Uo(e,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"}),...Hr("x",e,{defaultPos:"mid"}),...Hr("y",e,{defaultPos:"mid"}),...Il(e,"radius"),...Il(e,"theta")})},eJe={vgMark:"area",encodeEntry:e=>({...Uo(e,{align:"ignore",baseline:"ignore",color:"include",orient:"include",size:"ignore",theta:"ignore"}),...ck("x",e,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:e.markDef.orient==="horizontal"}),...ck("y",e,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:e.markDef.orient==="vertical"}),...X8(e)})},tJe={vgMark:"rect",encodeEntry:e=>({...Uo(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...Il(e,"x"),...Il(e,"y")})},nJe={vgMark:"shape",encodeEntry:e=>({...Uo(e,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"})}),postEncodingTransform:e=>{const{encoding:t}=e,n=t.shape;return[{type:"geoshape",projection:e.projectionName(),...n&&J(n)&&n.type===hm?{field:ie(n,{expr:"datum"})}:{}}]}},rJe={vgMark:"image",encodeEntry:e=>({...Uo(e,{align:"ignore",baseline:"ignore",color:"ignore",orient:"ignore",size:"ignore",theta:"ignore"}),...Il(e,"x"),...Il(e,"y"),...G8(e,"url")})},iJe={vgMark:"line",encodeEntry:e=>({...Uo(e,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"}),...Hr("x",e,{defaultPos:"mid"}),...Hr("y",e,{defaultPos:"mid"}),...Kn("size",e,{vgChannel:"strokeWidth"}),...X8(e)})},oJe={vgMark:"trail",encodeEntry:e=>({...Uo(e,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"}),...Hr("x",e,{defaultPos:"mid"}),...Hr("y",e,{defaultPos:"mid"}),...Kn("size",e),...X8(e)})};function c9(e,t){const{config:n}=e;return{...Uo(e,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"}),...Hr("x",e,{defaultPos:"mid"}),...Hr("y",e,{defaultPos:"mid"}),...Kn("size",e),...Kn("angle",e),...sJe(e,n,t)}}function sJe(e,t,n){return n?{shape:{value:n}}:Kn("shape",e)}const aJe={vgMark:"symbol",encodeEntry:e=>c9(e)},lJe={vgMark:"symbol",encodeEntry:e=>c9(e,"circle")},uJe={vgMark:"symbol",encodeEntry:e=>c9(e,"square")},cJe={vgMark:"rect",encodeEntry:e=>({...Uo(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...Il(e,"x"),...Il(e,"y")})},fJe={vgMark:"rule",encodeEntry:e=>{const{markDef:t}=e,n=t.orient;return!e.encoding.x&&!e.encoding.y&&!e.encoding.latitude&&!e.encoding.longitude?{}:{...Uo(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...ck("x",e,{defaultPos:n==="horizontal"?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:n!=="vertical"}),...ck("y",e,{defaultPos:n==="vertical"?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:n!=="horizontal"}),...Kn("size",e,{vgChannel:"strokeWidth"})}}},dJe={vgMark:"text",encodeEntry:e=>{const{config:t,encoding:n}=e;return{...Uo(e,{align:"include",baseline:"include",color:"include",size:"ignore",orient:"ignore",theta:"include"}),...Hr("x",e,{defaultPos:"mid"}),...Hr("y",e,{defaultPos:"mid"}),...G8(e),...Kn("size",e,{vgChannel:"fontSize"}),...Kn("angle",e),...vV("align",hJe(e.markDef,n,t)),...vV("baseline",pJe(e.markDef,n,t)),...Hr("radius",e,{defaultPos:null}),...Hr("theta",e,{defaultPos:null})}}};function hJe(e,t,n){if(mt("align",e,n)===void 0)return"center"}function pJe(e,t,n){if(mt("baseline",e,n)===void 0)return"middle"}const gJe={vgMark:"rect",encodeEntry:e=>{const{config:t,markDef:n}=e,r=n.orient,i=r==="horizontal"?"x":"y",o=r==="horizontal"?"y":"x",s=r==="horizontal"?"height":"width";return{...Uo(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...Il(e,i),...Hr(o,e,{defaultPos:"mid",vgChannel:o==="y"?"yc":"xc"}),[s]:Pt(mt("thickness",n,t))}}},Ax={arc:JZe,area:eJe,bar:tJe,circle:lJe,geoshape:nJe,image:rJe,line:iJe,point:aJe,rect:cJe,rule:fJe,square:uJe,text:dJe,tick:gJe,trail:oJe};function mJe(e){if(ze([W_,U_,CGe],e.mark)){const t=iae(e.mark,e.encoding);if(t.length>0)return yJe(e,t)}else if(e.mark===V_){const t=G4.some(n=>mt(n,e.markDef,e.config));if(e.stack&&!e.fieldDef("size")&&t)return vJe(e)}return f9(e)}const LV="faceted_path_";function yJe(e,t){return[{name:e.getName("pathgroup"),type:"group",from:{facet:{name:LV+e.requestDataName(tn.Main),data:e.requestDataName(tn.Main),groupby:t}},encode:{update:{width:{field:{group:"width"}},height:{field:{group:"height"}}}},marks:f9(e,{fromPrefix:LV})}]}const zV="stack_group_";function vJe(e){var u;const[t]=f9(e,{fromPrefix:zV}),n=e.scaleName(e.stack.fieldChannel),r=(c={})=>e.vgField(e.stack.fieldChannel,c),i=(c,f)=>{const d=[r({prefix:"min",suffix:"start",expr:f}),r({prefix:"max",suffix:"start",expr:f}),r({prefix:"min",suffix:"end",expr:f}),r({prefix:"max",suffix:"end",expr:f})];return`${c}(${d.map(h=>`scale('${n}',${h})`).join(",")})`};let o,s;e.stack.fieldChannel==="x"?(o={...kg(t.encode.update,["y","yc","y2","height",...G4]),x:{signal:i("min","datum")},x2:{signal:i("max","datum")},clip:{value:!0}},s={x:{field:{group:"x"},mult:-1},height:{field:{group:"height"}}},t.encode.update={...mi(t.encode.update,["y","yc","y2"]),height:{field:{group:"height"}}}):(o={...kg(t.encode.update,["x","xc","x2","width"]),y:{signal:i("min","datum")},y2:{signal:i("max","datum")},clip:{value:!0}},s={y:{field:{group:"y"},mult:-1},width:{field:{group:"width"}}},t.encode.update={...mi(t.encode.update,["x","xc","x2"]),width:{field:{group:"width"}}});for(const c of G4){const f=Ea(c,e.markDef,e.config);t.encode.update[c]?(o[c]=t.encode.update[c],delete t.encode.update[c]):f&&(o[c]=Pt(f)),f&&(t.encode.update[c]={value:0})}const a=[];if(((u=e.stack.groupbyChannels)==null?void 0:u.length)>0)for(const c of e.stack.groupbyChannels){const f=e.fieldDef(c),d=ie(f);d&&a.push(d),(f!=null&&f.bin||f!=null&&f.timeUnit)&&a.push(ie(f,{binSuffix:"end"}))}return o=["stroke","strokeWidth","strokeJoin","strokeCap","strokeDash","strokeDashOffset","strokeMiterLimit","strokeOpacity"].reduce((c,f)=>{if(t.encode.update[f])return{...c,[f]:t.encode.update[f]};{const d=Ea(f,e.markDef,e.config);return d!==void 0?{...c,[f]:Pt(d)}:c}},o),o.stroke&&(o.strokeForeground={value:!0},o.strokeOffset={value:0}),[{type:"group",from:{facet:{data:e.requestDataName(tn.Main),name:zV+e.requestDataName(tn.Main),groupby:a,aggregate:{fields:[r({suffix:"start"}),r({suffix:"start"}),r({suffix:"end"}),r({suffix:"end"})],ops:["min","max","min","max"]}}},encode:{update:o},marks:[{type:"group",encode:{update:s},marks:[t]}]}]}function bJe(e){const{encoding:t,stack:n,mark:r,markDef:i,config:o}=e,s=t.order;if(!(!G(s)&&$s(s)&&H4(s.value)||!s&&H4(mt("order",i,o)))){if((G(s)||J(s))&&!n)return Joe(s,{expr:"datum"});if(jc(r)){const a=i.orient==="horizontal"?"y":"x",l=t[a];if(J(l))return{field:a}}}}function f9(e,t={fromPrefix:""}){const{mark:n,markDef:r,encoding:i,config:o}=e,s=ln(r.clip,xJe(e),wJe(e)),a=Qoe(r),l=i.key,u=bJe(e),c=SJe(e),f=mt("aria",r,o),d=Ax[n].postEncodingTransform?Ax[n].postEncodingTransform(e):null;return[{name:e.getName("marks"),type:Ax[n].vgMark,...s?{clip:s}:{},...a?{style:a}:{},...l?{key:l.field}:{},...u?{sort:u}:{},...c||{},...f===!1?{aria:f}:{},from:{data:t.fromPrefix+e.requestDataName(tn.Main)},encode:{update:Ax[n].encodeEntry(e)},...d?{transform:d}:{}}]}function xJe(e){const t=e.getScaleComponent("x"),n=e.getScaleComponent("y");return t!=null&&t.get("selectionExtent")||n!=null&&n.get("selectionExtent")?!0:void 0}function wJe(e){const t=e.component.projection;return t&&!t.isFit?!0:void 0}function SJe(e){if(!e.component.selection)return null;const t=X(e.component.selection).length;let n=t,r=e.parent;for(;r&&n===0;)n=X(r.component.selection).length,r=r.parent;return n?{interactive:t>0||e.mark==="geoshape"||!!e.encoding.tooltip||!!e.markDef.tooltip}:null}class Gle extends Ule{constructor(t,n,r,i={},o){super(t,"unit",n,r,o,void 0,KU(t)?t.view:void 0),this.specifiedScales={},this.specifiedAxes={},this.specifiedLegends={},this.specifiedProjection={},this.selection=[],this.children=[];const s=$a(t.mark)?{...t.mark}:{type:t.mark},a=s.type;s.filled===void 0&&(s.filled=aXe(s,o,{graticule:t.data&&H8(t.data)}));const l=this.encoding=fYe(t.encoding||{},a,s.filled,o);this.markDef=_ae(s,l,o),this.size=ZZe({encoding:l,size:KU(t)?{...i,...t.width?{width:t.width}:{},...t.height?{height:t.height}:{}}:i}),this.stack=Cae(this.markDef,l),this.specifiedScales=this.initScales(a,l),this.specifiedAxes=this.initAxes(l),this.specifiedLegends=this.initLegends(l),this.specifiedProjection=t.projection,this.selection=(t.params??[]).filter(u=>j8(u))}get hasProjection(){const{encoding:t}=this,n=this.mark===Mse,r=t&&aHe.some(i=>Pe(t[i]));return n||r}scaleDomain(t){const n=this.specifiedScales[t];return n?n.domain:void 0}axis(t){return this.specifiedAxes[t]}legend(t){return this.specifiedLegends[t]}initScales(t,n){return i8.reduce((r,i)=>{const o=Sn(n[i]);return o&&(r[i]=this.initScale(o.scale??{})),r},{})}initScale(t){const{domain:n,range:r}=t,i=Gn(t);return G(n)&&(i.domain=n.map(Oi)),G(r)&&(i.range=r.map(Oi)),i}initAxes(t){return Xl.reduce((n,r)=>{const i=t[r];if(Pe(i)||r===zt&&Pe(t.x2)||r===Un&&Pe(t.y2)){const o=Pe(i)?i.axis:void 0;n[r]=o&&this.initAxis({...o})}return n},{})}initAxis(t){const n=X(t),r={};for(const i of n){const o=t[i];r[i]=tb(o)?Koe(o):Oi(o)}return r}initLegends(t){return yHe.reduce((n,r)=>{const i=Sn(t[r]);if(i&&bHe(r)){const o=i.legend;n[r]=o&&Gn(o)}return n},{})}parseData(){this.component.data=vE(this)}parseLayoutSize(){OZe(this)}parseSelections(){this.component.selection=_Ke(this,this.selection)}parseMarkGroup(){this.component.mark=mJe(this)}parseAxesAndHeaders(){this.component.axes=WZe(this)}assembleSelectionTopLevelSignals(t){return XXe(this,t)}assembleSignals(){return[...lle(this),...GXe(this,[])]}assembleSelectionData(t){return KXe(this,t)}assembleLayout(){return null}assembleLayoutSignals(){return J8(this)}assembleMarks(){let t=this.component.mark??[];return(!this.parent||!vm(this.parent))&&(t=zae(this,t)),t.map(this.correctDataNames)}assembleGroupStyle(){const{style:t}=this.view||{};return t!==void 0?t:this.encoding.x||this.encoding.y?"cell":"view"}getMapping(){return this.encoding}get mark(){return this.markDef.type}channelHasField(t){return Jf(this.encoding,t)}fieldDef(t){const n=this.encoding[t];return As(n)}typedFieldDef(t){const n=this.fieldDef(t);return Zr(n)?n:null}}class d9 extends a9{constructor(t,n,r,i,o){super(t,"layer",n,r,o,t.resolve,t.view);const s={...i,...t.width?{width:t.width}:{},...t.height?{height:t.height}:{}};this.children=t.layer.map((a,l)=>{if(eE(a))return new d9(a,this,this.getName(`layer_${l}`),s,o);if(Kl(a))return new Gle(a,this,this.getName(`layer_${l}`),s,o);throw new Error(s8(a))})}parseData(){this.component.data=vE(this);for(const t of this.children)t.parseData()}parseLayoutSize(){RZe(this)}parseSelections(){this.component.selection={};for(const t of this.children){t.parseSelections();for(const n of X(t.component.selection))this.component.selection[n]=t.component.selection[n]}}parseMarkGroup(){for(const t of this.children)t.parseMarkGroup()}parseAxesAndHeaders(){qZe(this)}assembleSelectionTopLevelSignals(t){return this.children.reduce((n,r)=>r.assembleSelectionTopLevelSignals(n),t)}assembleSignals(){return this.children.reduce((t,n)=>t.concat(n.assembleSignals()),lle(this))}assembleLayoutSignals(){return this.children.reduce((t,n)=>t.concat(n.assembleLayoutSignals()),J8(this))}assembleSelectionData(t){return this.children.reduce((n,r)=>r.assembleSelectionData(n),t)}assembleGroupStyle(){const t=new Set;for(const r of this.children)for(const i of ae(r.assembleGroupStyle()))t.add(i);const n=Array.from(t);return n.length>1?n:n.length===1?n[0]:void 0}assembleTitle(){let t=super.assembleTitle();if(t)return t;for(const n of this.children)if(t=n.assembleTitle(),t)return t}assembleLayout(){return null}assembleMarks(){return QXe(this,this.children.flatMap(t=>t.assembleMarks()))}assembleLegends(){return this.children.reduce((t,n)=>t.concat(n.assembleLegends()),_le(this))}}function h9(e,t,n,r,i){if(G_(e))return new Fy(e,t,n,i);if(eE(e))return new d9(e,t,n,r,i);if(Kl(e))return new Gle(e,t,n,r,i);if(OYe(e))return new jZe(e,t,n,i);throw new Error(s8(e))}function kJe(e,t={}){t.logger&&Lqe(t.logger),t.fieldTitle&&Yse(t.fieldTitle);try{const n=kae(Kg(t.config,e.config)),r=Pae(e,n),i=h9(r,null,"",void 0,n);return i.parse(),GQe(i.component.data,i),{spec:_Je(i,CJe(e,r.autosize,n,i),e.datasets,e.usermeta),normalized:r}}finally{t.logger&&zqe(),t.fieldTitle&&nYe()}}function CJe(e,t,n,r){const i=r.component.layoutSize.get("width"),o=r.component.layoutSize.get("height");if(t===void 0?(t={type:"pad"},r.hasAxisOrientSignalRef()&&(t.resize=!0)):le(t)&&(t={type:t}),i&&o&&UXe(t.type)){if(i==="step"&&o==="step")Z(DU()),t.type="pad";else if(i==="step"||o==="step"){const s=i==="step"?"width":"height";Z(DU(N_(s)));const a=s==="width"?"height":"width";t.type=VXe(a)}}return{...X(t).length===1&&t.type?t.type==="pad"?{}:{autosize:t.type}:{autosize:t},...lV(n,!1),...lV(e,!0)}}function _Je(e,t,n={},r){const i=e.config?XYe(e.config):void 0,o=[].concat(e.assembleSelectionData([]),TZe(e.component.data,n)),s=e.assembleProjections(),a=e.assembleTitle(),l=e.assembleGroupStyle(),u=e.assembleGroupEncodeEntry(!0);let c=e.assembleLayoutSignals();c=c.filter(h=>(h.name==="width"||h.name==="height")&&h.value!==void 0?(t[h.name]=+h.value,!1):!0);const{params:f,...d}=t;return{$schema:"https://vega.github.io/schema/vega/v5.json",...e.description?{description:e.description}:{},...d,...a?{title:a}:{},...l?{style:l}:{},...u?{encode:{update:u}}:{},data:o,...s.length>0?{projections:s}:{},...e.assembleGroup([...c,...e.assembleSelectionTopLevelSignals([]),...bae(f)]),...i?{config:i}:{},...r?{usermeta:r}:{}}}const EJe=tHe.version,$Je=Object.freeze(Object.defineProperty({__proto__:null,accessPathDepth:_g,accessPathWithDatum:KO,compile:kJe,contains:ze,deepEqual:ji,deleteNestedProperty:ek,duplicate:Me,entries:yc,every:GO,fieldIntersection:XO,flatAccessWithDatum:Foe,getFirstDefined:ln,hasIntersection:YO,hasProperty:K,hash:Be,internalField:Doe,isBoolean:F1,isEmpty:vt,isEqual:rHe,isInternalField:Ooe,isNullOrFalse:H4,isNumeric:M_,keys:X,logicalExpr:Ty,mergeDeep:Toe,never:Aoe,normalize:Pae,normalizeAngle:P1,omit:mi,pick:kg,prefixGenerator:q4,removePathFromField:fm,replaceAll:wd,replacePathInField:Lo,resetIdCounter:oHe,setEqual:Moe,some:Cg,stringify:bt,titleCase:Wv,unique:la,uniqueId:Roe,vals:tr,varName:Lt,version:EJe},Symbol.toStringTag,{value:"Module"}));function Yle(e){const[t,n]=/schema\/([\w-]+)\/([\w\.\-]+)\.json$/g.exec(e).slice(1,3);return{library:t,version:n}}var AJe="vega-themes",TJe="2.15.0",MJe="Themes for stylized Vega and Vega-Lite visualizations.",FJe=["vega","vega-lite","themes","style"],PJe="BSD-3-Clause",RJe={name:"UW Interactive Data Lab",url:"https://idl.cs.washington.edu"},DJe=[{name:"Emily Gu",url:"https://github.com/emilygu"},{name:"Arvind Satyanarayan",url:"http://arvindsatya.com"},{name:"Jeffrey Heer",url:"https://idl.cs.washington.edu"},{name:"Dominik Moritz",url:"https://www.domoritz.de"}],OJe="build/vega-themes.js",p9="build/vega-themes.module.js",NJe="build/vega-themes.min.js",IJe="build/vega-themes.min.js",LJe="build/vega-themes.module.d.ts",zJe={type:"git",url:"https://github.com/vega/vega-themes.git"},jJe=["src","build"],BJe={prebuild:"yarn clean",build:"rollup -c",clean:"rimraf build && rimraf examples/build","copy:data":"rsync -r node_modules/vega-datasets/data/* examples/data","copy:build":"rsync -r build/* examples/build","deploy:gh":"yarn build && mkdir -p examples/build && rsync -r build/* examples/build && gh-pages -d examples",preversion:"yarn lint",serve:"browser-sync start -s -f build examples --serveStatic examples",start:"yarn build && concurrently --kill-others -n Server,Rollup 'yarn serve' 'rollup -c -w'",format:"eslint . --fix",lint:"eslint .",release:"release-it"},UJe={"@babel/core":"^7.24.6","@babel/plugin-transform-runtime":"^7.24.6","@babel/preset-env":"^7.24.6","@babel/preset-typescript":"^7.24.6","@release-it/conventional-changelog":"^8.0.1","@rollup/plugin-json":"^6.1.0","@rollup/plugin-node-resolve":"^15.2.3","@rollup/plugin-terser":"^0.4.4","@typescript-eslint/eslint-plugin":"^7.11.0","@typescript-eslint/parser":"^7.11.0","browser-sync":"^3.0.2",concurrently:"^8.2.2",eslint:"^8.45.0","eslint-config-prettier":"^9.1.0","eslint-plugin-prettier":"^5.1.3","gh-pages":"^6.1.1",prettier:"^3.2.5","release-it":"^17.3.0",rollup:"^4.18.0","rollup-plugin-bundle-size":"^1.0.3","rollup-plugin-ts":"^3.4.5",typescript:"^5.4.5",vega:"^5.25.0","vega-lite":"^5.9.3"},VJe={vega:"*","vega-lite":"*"},WJe={},HJe={name:AJe,version:TJe,description:MJe,keywords:FJe,license:PJe,author:RJe,contributors:DJe,main:OJe,module:p9,unpkg:NJe,jsdelivr:IJe,types:LJe,repository:zJe,files:jJe,scripts:BJe,devDependencies:UJe,peerDependencies:VJe,dependencies:WJe};const Ch="#fff",jV="#888",qJe={background:"#333",view:{stroke:jV},title:{color:Ch,subtitleColor:Ch},style:{"guide-label":{fill:Ch},"guide-title":{fill:Ch}},axis:{domainColor:Ch,gridColor:jV,tickColor:Ch}},Kc="#4572a7",GJe={background:"#fff",arc:{fill:Kc},area:{fill:Kc},line:{stroke:Kc,strokeWidth:2},path:{stroke:Kc},rect:{fill:Kc},shape:{stroke:Kc},symbol:{fill:Kc,strokeWidth:1.5,size:50},axis:{bandPosition:.5,grid:!0,gridColor:"#000000",gridOpacity:1,gridWidth:.5,labelPadding:10,tickSize:5,tickWidth:.5},axisBand:{grid:!1,tickExtra:!0},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:50,symbolType:"square"},range:{category:["#4572a7","#aa4643","#8aa453","#71598e","#4598ae","#d98445","#94aace","#d09393","#b9cc98","#a99cbc"]}},Qc="#30a2da",h5="#cbcbcb",YJe="#999",XJe="#333",BV="#f0f0f0",UV="#333",KJe={arc:{fill:Qc},area:{fill:Qc},axis:{domainColor:h5,grid:!0,gridColor:h5,gridWidth:1,labelColor:YJe,labelFontSize:10,titleColor:XJe,tickColor:h5,tickSize:10,titleFontSize:14,titlePadding:10,labelPadding:4},axisBand:{grid:!1},background:BV,group:{fill:BV},legend:{labelColor:UV,labelFontSize:11,padding:1,symbolSize:30,symbolType:"square",titleColor:UV,titleFontSize:14,titlePadding:10},line:{stroke:Qc,strokeWidth:2},path:{stroke:Qc,strokeWidth:.5},rect:{fill:Qc},range:{category:["#30a2da","#fc4f30","#e5ae38","#6d904f","#8b8b8b","#b96db8","#ff9e27","#56cc60","#52d2ca","#52689e","#545454","#9fe4f8"],diverging:["#cc0020","#e77866","#f6e7e1","#d6e8ed","#91bfd9","#1d78b5"],heatmap:["#d6e8ed","#cee0e5","#91bfd9","#549cc6","#1d78b5"]},point:{filled:!0,shape:"circle"},shape:{stroke:Qc},bar:{binSpacing:2,fill:Qc,stroke:null},title:{anchor:"start",fontSize:24,fontWeight:600,offset:20}},Zc="#000",QJe={group:{fill:"#e5e5e5"},arc:{fill:Zc},area:{fill:Zc},line:{stroke:Zc},path:{stroke:Zc},rect:{fill:Zc},shape:{stroke:Zc},symbol:{fill:Zc,size:40},axis:{domain:!1,grid:!0,gridColor:"#FFFFFF",gridOpacity:1,labelColor:"#7F7F7F",labelPadding:4,tickColor:"#7F7F7F",tickSize:5.67,titleFontSize:16,titleFontWeight:"normal"},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:40},range:{category:["#000000","#7F7F7F","#1A1A1A","#999999","#333333","#B0B0B0","#4D4D4D","#C9C9C9","#666666","#DCDCDC"]}},ZJe=22,JJe="normal",VV="Benton Gothic, sans-serif",WV=11.5,eet="normal",Jc="#82c6df",p5="Benton Gothic Bold, sans-serif",HV="normal",qV=13,s0={"category-6":["#ec8431","#829eb1","#c89d29","#3580b1","#adc839","#ab7fb4"],"fire-7":["#fbf2c7","#f9e39c","#f8d36e","#f4bb6a","#e68a4f","#d15a40","#ab4232"],"fireandice-6":["#e68a4f","#f4bb6a","#f9e39c","#dadfe2","#a6b7c6","#849eae"],"ice-7":["#edefee","#dadfe2","#c4ccd2","#a6b7c6","#849eae","#607785","#47525d"]},tet={background:"#ffffff",title:{anchor:"start",color:"#000000",font:p5,fontSize:ZJe,fontWeight:JJe},arc:{fill:Jc},area:{fill:Jc},line:{stroke:Jc,strokeWidth:2},path:{stroke:Jc},rect:{fill:Jc},shape:{stroke:Jc},symbol:{fill:Jc,size:30},axis:{labelFont:VV,labelFontSize:WV,labelFontWeight:eet,titleFont:p5,titleFontSize:qV,titleFontWeight:HV},axisX:{labelAngle:0,labelPadding:4,tickSize:3},axisY:{labelBaseline:"middle",maxExtent:45,minExtent:45,tickSize:2,titleAlign:"left",titleAngle:0,titleX:-45,titleY:-11},legend:{labelFont:VV,labelFontSize:WV,symbolType:"square",titleFont:p5,titleFontSize:qV,titleFontWeight:HV},range:{category:s0["category-6"],diverging:s0["fireandice-6"],heatmap:s0["fire-7"],ordinal:s0["fire-7"],ramp:s0["fire-7"]}},ef="#ab5787",Tx="#979797",net={background:"#f9f9f9",arc:{fill:ef},area:{fill:ef},line:{stroke:ef},path:{stroke:ef},rect:{fill:ef},shape:{stroke:ef},symbol:{fill:ef,size:30},axis:{domainColor:Tx,domainWidth:.5,gridWidth:.2,labelColor:Tx,tickColor:Tx,tickWidth:.2,titleColor:Tx},axisBand:{grid:!1},axisX:{grid:!0,tickSize:10},axisY:{domain:!1,grid:!0,tickSize:0},legend:{labelFontSize:11,padding:1,symbolSize:30,symbolType:"square"},range:{category:["#ab5787","#51b2e5","#703c5c","#168dd9","#d190b6","#00609f","#d365ba","#154866","#666666","#c4c4c4"]}},tf="#3e5c69",ret={background:"#fff",arc:{fill:tf},area:{fill:tf},line:{stroke:tf},path:{stroke:tf},rect:{fill:tf},shape:{stroke:tf},symbol:{fill:tf},axis:{domainWidth:.5,grid:!0,labelPadding:2,tickSize:5,tickWidth:.5,titleFontWeight:"normal"},axisBand:{grid:!1},axisX:{gridWidth:.2},axisY:{gridDash:[3],gridWidth:.4},legend:{labelFontSize:11,padding:1,symbolType:"square"},range:{category:["#3e5c69","#6793a6","#182429","#0570b0","#3690c0","#74a9cf","#a6bddb","#e2ddf2"]}},uo="#1696d2",GV="#000000",iet="#FFFFFF",Mx="Lato",g5="Lato",oet="Lato",set="#DEDDDD",aet=18,a0={"main-colors":["#1696d2","#d2d2d2","#000000","#fdbf11","#ec008b","#55b748","#5c5859","#db2b27"],"shades-blue":["#CFE8F3","#A2D4EC","#73BFE2","#46ABDB","#1696D2","#12719E","#0A4C6A","#062635"],"shades-gray":["#F5F5F5","#ECECEC","#E3E3E3","#DCDBDB","#D2D2D2","#9D9D9D","#696969","#353535"],"shades-yellow":["#FFF2CF","#FCE39E","#FDD870","#FCCB41","#FDBF11","#E88E2D","#CA5800","#843215"],"shades-magenta":["#F5CBDF","#EB99C2","#E46AA7","#E54096","#EC008B","#AF1F6B","#761548","#351123"],"shades-green":["#DCEDD9","#BCDEB4","#98CF90","#78C26D","#55B748","#408941","#2C5C2D","#1A2E19"],"shades-black":["#D5D5D4","#ADABAC","#848081","#5C5859","#332D2F","#262223","#1A1717","#0E0C0D"],"shades-red":["#F8D5D4","#F1AAA9","#E9807D","#E25552","#DB2B27","#A4201D","#6E1614","#370B0A"],"one-group":["#1696d2","#000000"],"two-groups-cat-1":["#1696d2","#000000"],"two-groups-cat-2":["#1696d2","#fdbf11"],"two-groups-cat-3":["#1696d2","#db2b27"],"two-groups-seq":["#a2d4ec","#1696d2"],"three-groups-cat":["#1696d2","#fdbf11","#000000"],"three-groups-seq":["#a2d4ec","#1696d2","#0a4c6a"],"four-groups-cat-1":["#000000","#d2d2d2","#fdbf11","#1696d2"],"four-groups-cat-2":["#1696d2","#ec0008b","#fdbf11","#5c5859"],"four-groups-seq":["#cfe8f3","#73bf42","#1696d2","#0a4c6a"],"five-groups-cat-1":["#1696d2","#fdbf11","#d2d2d2","#ec008b","#000000"],"five-groups-cat-2":["#1696d2","#0a4c6a","#d2d2d2","#fdbf11","#332d2f"],"five-groups-seq":["#cfe8f3","#73bf42","#1696d2","#0a4c6a","#000000"],"six-groups-cat-1":["#1696d2","#ec008b","#fdbf11","#000000","#d2d2d2","#55b748"],"six-groups-cat-2":["#1696d2","#d2d2d2","#ec008b","#fdbf11","#332d2f","#0a4c6a"],"six-groups-seq":["#cfe8f3","#a2d4ec","#73bfe2","#46abdb","#1696d2","#12719e"],"diverging-colors":["#ca5800","#fdbf11","#fdd870","#fff2cf","#cfe8f3","#73bfe2","#1696d2","#0a4c6a"]},uet={background:iet,title:{anchor:"start",fontSize:aet,font:Mx},axisX:{domain:!0,domainColor:GV,domainWidth:1,grid:!1,labelFontSize:12,labelFont:g5,labelAngle:0,tickColor:GV,tickSize:5,titleFontSize:12,titlePadding:10,titleFont:Mx},axisY:{domain:!1,domainWidth:1,grid:!0,gridColor:set,gridWidth:1,labelFontSize:12,labelFont:g5,labelPadding:8,ticks:!1,titleFontSize:12,titlePadding:10,titleFont:Mx,titleAngle:0,titleY:-10,titleX:18},legend:{labelFontSize:12,labelFont:g5,symbolSize:100,titleFontSize:12,titlePadding:10,titleFont:Mx,orient:"right",offset:10},view:{stroke:"transparent"},range:{category:a0["six-groups-cat-1"],diverging:a0["diverging-colors"],heatmap:a0["diverging-colors"],ordinal:a0["six-groups-seq"],ramp:a0["shades-blue"]},area:{fill:uo},rect:{fill:uo},line:{color:uo,stroke:uo,strokeWidth:5},trail:{color:uo,stroke:uo,strokeWidth:0,size:1},path:{stroke:uo,strokeWidth:.5},point:{filled:!0},text:{font:oet,color:uo,fontSize:11,align:"center",fontWeight:400,size:11},style:{bar:{fill:uo,stroke:null}},arc:{fill:uo},shape:{stroke:uo},symbol:{fill:uo,size:30}},nf="#3366CC",YV="#ccc",Fx="Arial, sans-serif",cet={arc:{fill:nf},area:{fill:nf},path:{stroke:nf},rect:{fill:nf},shape:{stroke:nf},symbol:{stroke:nf},circle:{fill:nf},background:"#fff",padding:{top:10,right:10,bottom:10,left:10},style:{"guide-label":{font:Fx,fontSize:12},"guide-title":{font:Fx,fontSize:12},"group-title":{font:Fx,fontSize:12}},title:{font:Fx,fontSize:14,fontWeight:"bold",dy:-3,anchor:"start"},axis:{gridColor:YV,tickColor:YV,domain:!1,grid:!0},range:{category:["#4285F4","#DB4437","#F4B400","#0F9D58","#AB47BC","#00ACC1","#FF7043","#9E9D24","#5C6BC0","#F06292","#00796B","#C2185B"],heatmap:["#c6dafc","#5e97f6","#2a56c6"]}},g9=e=>e*(1/3+1),XV=g9(9),KV=g9(10),QV=g9(12),l0="Segoe UI",ZV="wf_standard-font, helvetica, arial, sans-serif",JV="#252423",u0="#605E5C",eW="transparent",fet="#C8C6C4",Yo="#118DFF",det="#12239E",het="#E66C37",pet="#6B007B",get="#E044A7",met="#744EC2",yet="#D9B300",vet="#D64550",Xle=Yo,Kle="#DEEFFF",tW=[Kle,Xle],bet=[Kle,"#c7e4ff","#b0d9ff","#9aceff","#83c3ff","#6cb9ff","#55aeff","#3fa3ff","#2898ff",Xle],xet={view:{stroke:eW},background:eW,font:l0,header:{titleFont:ZV,titleFontSize:QV,titleColor:JV,labelFont:l0,labelFontSize:KV,labelColor:u0},axis:{ticks:!1,grid:!1,domain:!1,labelColor:u0,labelFontSize:XV,titleFont:ZV,titleColor:JV,titleFontSize:QV,titleFontWeight:"normal"},axisQuantitative:{tickCount:3,grid:!0,gridColor:fet,gridDash:[1,5],labelFlush:!1},axisBand:{tickExtra:!0},axisX:{labelPadding:5},axisY:{labelPadding:10},bar:{fill:Yo},line:{stroke:Yo,strokeWidth:3,strokeCap:"round",strokeJoin:"round"},text:{font:l0,fontSize:XV,fill:u0},arc:{fill:Yo},area:{fill:Yo,line:!0,opacity:.6},path:{stroke:Yo},rect:{fill:Yo},point:{fill:Yo,filled:!0,size:75},shape:{stroke:Yo},symbol:{fill:Yo,strokeWidth:1.5,size:50},legend:{titleFont:l0,titleFontWeight:"bold",titleColor:u0,labelFont:l0,labelFontSize:KV,labelColor:u0,symbolType:"circle",symbolSize:75},range:{category:[Yo,det,het,pet,get,met,yet,vet],diverging:tW,heatmap:tW,ordinal:bet}},m5='IBM Plex Sans,system-ui,-apple-system,BlinkMacSystemFont,".sfnstext-regular",sans-serif',wet='IBM Plex Sans Condensed, system-ui, -apple-system, BlinkMacSystemFont, ".SFNSText-Regular", sans-serif',y5=400,Px={textPrimary:{g90:"#f4f4f4",g100:"#f4f4f4",white:"#161616",g10:"#161616"},textSecondary:{g90:"#c6c6c6",g100:"#c6c6c6",white:"#525252",g10:"#525252"},layerAccent01:{white:"#e0e0e0",g10:"#e0e0e0",g90:"#525252",g100:"#393939"},gridBg:{white:"#ffffff",g10:"#ffffff",g90:"#161616",g100:"#161616"}},ket=["#8a3ffc","#33b1ff","#007d79","#ff7eb6","#fa4d56","#fff1f1","#6fdc8c","#4589ff","#d12771","#d2a106","#08bdba","#bae6ff","#ba4e00","#d4bbff"],Cet=["#6929c4","#1192e8","#005d5d","#9f1853","#fa4d56","#570408","#198038","#002d9c","#ee538b","#b28600","#009d9a","#012749","#8a3800","#a56eff"];function bE({theme:e,background:t}){const n=["white","g10"].includes(e)?"light":"dark",r=Px.gridBg[e],i=Px.textPrimary[e],o=Px.textSecondary[e],s=n==="dark"?ket:Cet,a=n==="dark"?"#d4bbff":"#6929c4";return{background:t,arc:{fill:a},area:{fill:a},path:{stroke:a},rect:{fill:a},shape:{stroke:a},symbol:{stroke:a},circle:{fill:a},view:{fill:r,stroke:r},group:{fill:r},title:{color:i,anchor:"start",dy:-15,fontSize:16,font:m5,fontWeight:600},axis:{labelColor:o,labelFontSize:12,labelFont:wet,labelFontWeight:y5,titleColor:i,titleFontWeight:600,titleFontSize:12,grid:!0,gridColor:Px.layerAccent01[e],labelAngle:0},axisX:{titlePadding:10},axisY:{titlePadding:2.5},style:{"guide-label":{font:m5,fill:o,fontWeight:y5},"guide-title":{font:m5,fill:o,fontWeight:y5}},range:{category:s,diverging:["#750e13","#a2191f","#da1e28","#fa4d56","#ff8389","#ffb3b8","#ffd7d9","#fff1f1","#e5f6ff","#bae6ff","#82cfff","#33b1ff","#1192e8","#0072c3","#00539a","#003a6d"],heatmap:["#f6f2ff","#e8daff","#d4bbff","#be95ff","#a56eff","#8a3ffc","#6929c4","#491d8b","#31135e","#1c0f30"]}}}const _et=bE({theme:"white",background:"#ffffff"}),Eet=bE({theme:"g10",background:"#f4f4f4"}),$et=bE({theme:"g90",background:"#262626"}),Aet=bE({theme:"g100",background:"#161616"}),Tet=HJe.version,Met=Object.freeze(Object.defineProperty({__proto__:null,carbong10:Eet,carbong100:Aet,carbong90:$et,carbonwhite:_et,dark:qJe,excel:GJe,fivethirtyeight:KJe,ggplot2:QJe,googlecharts:cet,latimes:tet,powerbi:xet,quartz:net,urbaninstitute:uet,version:Tet,vox:ret},Symbol.toStringTag,{value:"Module"}));function Fet(e,t,n,r){if(G(e))return`[${e.map(i=>t(le(i)?i:nW(i,n))).join(", ")}]`;if(se(e)){let i="";const{title:o,image:s,...a}=e;o&&(i+=`<h2>${t(o)}</h2>`),s&&(i+=`<img src="${new URL(t(s),r||location.href).href}">`);const l=Object.keys(a);if(l.length>0){i+="<table>";for(const u of l){let c=a[u];c!==void 0&&(se(c)&&(c=nW(c,n)),i+=`<tr><td class="key">${t(u)}</td><td class="value">${t(c)}</td></tr>`)}i+="</table>"}return i||"{}"}return t(e)}function Pet(e){const t=[];return function(n,r){if(typeof r!="object"||r===null)return r;const i=t.indexOf(this)+1;return t.length=i,t.length>e?"[Object]":t.indexOf(r)>=0?"[Circular]":(t.push(r),r)}}function nW(e,t){return JSON.stringify(e,Pet(t))}var Ret=`#vg-tooltip-element {
  visibility: hidden;
  padding: 8px;
  position: fixed;
  z-index: 1000;
  font-family: sans-serif;
  font-size: 11px;
  border-radius: 3px;
  box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
  /* The default theme is the light theme. */
  background-color: rgba(255, 255, 255, 0.95);
  border: 1px solid #d9d9d9;
  color: black;
}
#vg-tooltip-element.visible {
  visibility: visible;
}
#vg-tooltip-element h2 {
  margin-top: 0;
  margin-bottom: 10px;
  font-size: 13px;
}
#vg-tooltip-element table {
  border-spacing: 0;
}
#vg-tooltip-element table tr {
  border: none;
}
#vg-tooltip-element table tr td {
  overflow: hidden;
  text-overflow: ellipsis;
  padding-top: 2px;
  padding-bottom: 2px;
}
#vg-tooltip-element table tr td.key {
  color: #808080;
  max-width: 150px;
  text-align: right;
  padding-right: 4px;
}
#vg-tooltip-element table tr td.value {
  display: block;
  max-width: 300px;
  max-height: 7em;
  text-align: left;
}
#vg-tooltip-element.dark-theme {
  background-color: rgba(32, 32, 32, 0.9);
  border: 1px solid #f5f5f5;
  color: white;
}
#vg-tooltip-element.dark-theme td.key {
  color: #bfbfbf;
}
`;const Qle="vg-tooltip-element",Det={offsetX:10,offsetY:10,id:Qle,styleId:"vega-tooltip-style",theme:"light",disableDefaultStyle:!1,sanitize:Oet,maxDepth:2,formatTooltip:Fet,baseURL:""};function Oet(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;")}function Net(e){if(!/^[A-Za-z]+[-:.\w]*$/.test(e))throw new Error("Invalid HTML ID");return Ret.toString().replace(Qle,e)}function Iet(e,t,n,r){let i=e.clientX+n;i+t.width>window.innerWidth&&(i=+e.clientX-n-t.width);let o=e.clientY+r;return o+t.height>window.innerHeight&&(o=+e.clientY-r-t.height),{x:i,y:o}}class Let{constructor(t){this.options={...Det,...t};const n=this.options.id;if(this.el=null,this.call=this.tooltipHandler.bind(this),!this.options.disableDefaultStyle&&!document.getElementById(this.options.styleId)){const r=document.createElement("style");r.setAttribute("id",this.options.styleId),r.innerHTML=Net(n);const i=document.head;i.childNodes.length>0?i.insertBefore(r,i.childNodes[0]):i.appendChild(r)}}tooltipHandler(t,n,r,i){if(this.el=document.getElementById(this.options.id),this.el||(this.el=document.createElement("div"),this.el.setAttribute("id",this.options.id),this.el.classList.add("vg-tooltip"),(document.fullscreenElement??document.body).appendChild(this.el)),i==null||i===""){this.el.classList.remove("visible",`${this.options.theme}-theme`);return}this.el.innerHTML=this.options.formatTooltip(i,this.options.sanitize,this.options.maxDepth,this.options.baseURL),this.el.classList.add("visible",`${this.options.theme}-theme`);const{x:o,y:s}=Iet(n,this.el.getBoundingClientRect(),this.options.offsetX,this.options.offsetY);this.el.style.top=`${s}px`,this.el.style.left=`${o}px`}}var v5={};function zet(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}class jet{constructor(){this.max=1e3,this.map=new Map}get(t){const n=this.map.get(t);if(n!==void 0)return this.map.delete(t),this.map.set(t,n),n}delete(t){return this.map.delete(t)}set(t,n){if(!this.delete(t)&&n!==void 0){if(this.map.size>=this.max){const i=this.map.keys().next().value;this.delete(i)}this.map.set(t,n)}return this}}var Bet=jet;const Uet=Object.freeze({loose:!0}),Vet=Object.freeze({}),Wet=e=>e?typeof e!="object"?Uet:e:Vet;var m9=Wet,yM={exports:{}};const Het="2.0.0",Zle=256,qet=Number.MAX_SAFE_INTEGER||9007199254740991,Get=16,Yet=Zle-6,Xet=["major","premajor","minor","preminor","patch","prepatch","prerelease"];var y9={MAX_LENGTH:Zle,MAX_SAFE_COMPONENT_LENGTH:Get,MAX_SAFE_BUILD_LENGTH:Yet,MAX_SAFE_INTEGER:qet,RELEASE_TYPES:Xet,SEMVER_SPEC_VERSION:Het,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2};const Ket=typeof process=="object"&&v5&&v5.NODE_DEBUG&&/\bsemver\b/i.test(v5.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};var xE=Ket;(function(e,t){const{MAX_SAFE_COMPONENT_LENGTH:n,MAX_SAFE_BUILD_LENGTH:r,MAX_LENGTH:i}=y9,o=xE;t=e.exports={};const s=t.re=[],a=t.safeRe=[],l=t.src=[],u=t.t={};let c=0;const f="[a-zA-Z0-9-]",d=[["\\s",1],["\\d",i],[f,r]],h=g=>{for(const[m,y]of d)g=g.split(`${m}*`).join(`${m}{0,${y}}`).split(`${m}+`).join(`${m}{1,${y}}`);return g},p=(g,m,y)=>{const v=h(m),b=c++;o(g,b,m),u[g]=b,l[b]=m,s[b]=new RegExp(m,y?"g":void 0),a[b]=new RegExp(v,y?"g":void 0)};p("NUMERICIDENTIFIER","0|[1-9]\\d*"),p("NUMERICIDENTIFIERLOOSE","\\d+"),p("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${f}*`),p("MAINVERSION",`(${l[u.NUMERICIDENTIFIER]})\\.(${l[u.NUMERICIDENTIFIER]})\\.(${l[u.NUMERICIDENTIFIER]})`),p("MAINVERSIONLOOSE",`(${l[u.NUMERICIDENTIFIERLOOSE]})\\.(${l[u.NUMERICIDENTIFIERLOOSE]})\\.(${l[u.NUMERICIDENTIFIERLOOSE]})`),p("PRERELEASEIDENTIFIER",`(?:${l[u.NUMERICIDENTIFIER]}|${l[u.NONNUMERICIDENTIFIER]})`),p("PRERELEASEIDENTIFIERLOOSE",`(?:${l[u.NUMERICIDENTIFIERLOOSE]}|${l[u.NONNUMERICIDENTIFIER]})`),p("PRERELEASE",`(?:-(${l[u.PRERELEASEIDENTIFIER]}(?:\\.${l[u.PRERELEASEIDENTIFIER]})*))`),p("PRERELEASELOOSE",`(?:-?(${l[u.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${l[u.PRERELEASEIDENTIFIERLOOSE]})*))`),p("BUILDIDENTIFIER",`${f}+`),p("BUILD",`(?:\\+(${l[u.BUILDIDENTIFIER]}(?:\\.${l[u.BUILDIDENTIFIER]})*))`),p("FULLPLAIN",`v?${l[u.MAINVERSION]}${l[u.PRERELEASE]}?${l[u.BUILD]}?`),p("FULL",`^${l[u.FULLPLAIN]}$`),p("LOOSEPLAIN",`[v=\\s]*${l[u.MAINVERSIONLOOSE]}${l[u.PRERELEASELOOSE]}?${l[u.BUILD]}?`),p("LOOSE",`^${l[u.LOOSEPLAIN]}$`),p("GTLT","((?:<|>)?=?)"),p("XRANGEIDENTIFIERLOOSE",`${l[u.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),p("XRANGEIDENTIFIER",`${l[u.NUMERICIDENTIFIER]}|x|X|\\*`),p("XRANGEPLAIN",`[v=\\s]*(${l[u.XRANGEIDENTIFIER]})(?:\\.(${l[u.XRANGEIDENTIFIER]})(?:\\.(${l[u.XRANGEIDENTIFIER]})(?:${l[u.PRERELEASE]})?${l[u.BUILD]}?)?)?`),p("XRANGEPLAINLOOSE",`[v=\\s]*(${l[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[u.XRANGEIDENTIFIERLOOSE]})(?:${l[u.PRERELEASELOOSE]})?${l[u.BUILD]}?)?)?`),p("XRANGE",`^${l[u.GTLT]}\\s*${l[u.XRANGEPLAIN]}$`),p("XRANGELOOSE",`^${l[u.GTLT]}\\s*${l[u.XRANGEPLAINLOOSE]}$`),p("COERCEPLAIN",`(^|[^\\d])(\\d{1,${n}})(?:\\.(\\d{1,${n}}))?(?:\\.(\\d{1,${n}}))?`),p("COERCE",`${l[u.COERCEPLAIN]}(?:$|[^\\d])`),p("COERCEFULL",l[u.COERCEPLAIN]+`(?:${l[u.PRERELEASE]})?(?:${l[u.BUILD]})?(?:$|[^\\d])`),p("COERCERTL",l[u.COERCE],!0),p("COERCERTLFULL",l[u.COERCEFULL],!0),p("LONETILDE","(?:~>?)"),p("TILDETRIM",`(\\s*)${l[u.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",p("TILDE",`^${l[u.LONETILDE]}${l[u.XRANGEPLAIN]}$`),p("TILDELOOSE",`^${l[u.LONETILDE]}${l[u.XRANGEPLAINLOOSE]}$`),p("LONECARET","(?:\\^)"),p("CARETTRIM",`(\\s*)${l[u.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",p("CARET",`^${l[u.LONECARET]}${l[u.XRANGEPLAIN]}$`),p("CARETLOOSE",`^${l[u.LONECARET]}${l[u.XRANGEPLAINLOOSE]}$`),p("COMPARATORLOOSE",`^${l[u.GTLT]}\\s*(${l[u.LOOSEPLAIN]})$|^$`),p("COMPARATOR",`^${l[u.GTLT]}\\s*(${l[u.FULLPLAIN]})$|^$`),p("COMPARATORTRIM",`(\\s*)${l[u.GTLT]}\\s*(${l[u.LOOSEPLAIN]}|${l[u.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",p("HYPHENRANGE",`^\\s*(${l[u.XRANGEPLAIN]})\\s+-\\s+(${l[u.XRANGEPLAIN]})\\s*$`),p("HYPHENRANGELOOSE",`^\\s*(${l[u.XRANGEPLAINLOOSE]})\\s+-\\s+(${l[u.XRANGEPLAINLOOSE]})\\s*$`),p("STAR","(<|>)?=?\\s*\\*"),p("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),p("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(yM,yM.exports);var v9=yM.exports;const rW=/^[0-9]+$/,Jle=(e,t)=>{const n=rW.test(e),r=rW.test(t);return n&&r&&(e=+e,t=+t),e===t?0:n&&!r?-1:r&&!n?1:e<t?-1:1},Qet=(e,t)=>Jle(t,e);var Zet={compareIdentifiers:Jle,rcompareIdentifiers:Qet};const Rx=xE,{MAX_LENGTH:iW,MAX_SAFE_INTEGER:Dx}=y9,{safeRe:oW,t:sW}=v9,Jet=m9,{compareIdentifiers:_h}=Zet;let ett=class Ws{constructor(t,n){if(n=Jet(n),t instanceof Ws){if(t.loose===!!n.loose&&t.includePrerelease===!!n.includePrerelease)return t;t=t.version}else if(typeof t!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof t}".`);if(t.length>iW)throw new TypeError(`version is longer than ${iW} characters`);Rx("SemVer",t,n),this.options=n,this.loose=!!n.loose,this.includePrerelease=!!n.includePrerelease;const r=t.trim().match(n.loose?oW[sW.LOOSE]:oW[sW.FULL]);if(!r)throw new TypeError(`Invalid Version: ${t}`);if(this.raw=t,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>Dx||this.major<0)throw new TypeError("Invalid major version");if(this.minor>Dx||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>Dx||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){const o=+i;if(o>=0&&o<Dx)return o}return i}):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(t){if(Rx("SemVer.compare",this.version,this.options,t),!(t instanceof Ws)){if(typeof t=="string"&&t===this.version)return 0;t=new Ws(t,this.options)}return t.version===this.version?0:this.compareMain(t)||this.comparePre(t)}compareMain(t){return t instanceof Ws||(t=new Ws(t,this.options)),_h(this.major,t.major)||_h(this.minor,t.minor)||_h(this.patch,t.patch)}comparePre(t){if(t instanceof Ws||(t=new Ws(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;let n=0;do{const r=this.prerelease[n],i=t.prerelease[n];if(Rx("prerelease compare",n,r,i),r===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(r===void 0)return-1;if(r===i)continue;return _h(r,i)}while(++n)}compareBuild(t){t instanceof Ws||(t=new Ws(t,this.options));let n=0;do{const r=this.build[n],i=t.build[n];if(Rx("build compare",n,r,i),r===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(r===void 0)return-1;if(r===i)continue;return _h(r,i)}while(++n)}inc(t,n,r){switch(t){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",n,r);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",n,r);break;case"prepatch":this.prerelease.length=0,this.inc("patch",n,r),this.inc("pre",n,r);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",n,r),this.inc("pre",n,r);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const i=Number(r)?1:0;if(!n&&r===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[i];else{let o=this.prerelease.length;for(;--o>=0;)typeof this.prerelease[o]=="number"&&(this.prerelease[o]++,o=-2);if(o===-1){if(n===this.prerelease.join(".")&&r===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(i)}}if(n){let o=[n,i];r===!1&&(o=[n]),_h(this.prerelease[0],n)===0?isNaN(this.prerelease[1])&&(this.prerelease=o):this.prerelease=o}break}default:throw new Error(`invalid increment argument: ${t}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};var b9=ett;const aW=b9,ttt=(e,t,n)=>new aW(e,n).compare(new aW(t,n));var bm=ttt;const ntt=bm,rtt=(e,t,n)=>ntt(e,t,n)===0;var itt=rtt;const ott=bm,stt=(e,t,n)=>ott(e,t,n)!==0;var att=stt;const ltt=bm,utt=(e,t,n)=>ltt(e,t,n)>0;var ctt=utt;const ftt=bm,dtt=(e,t,n)=>ftt(e,t,n)>=0;var htt=dtt;const ptt=bm,gtt=(e,t,n)=>ptt(e,t,n)<0;var mtt=gtt;const ytt=bm,vtt=(e,t,n)=>ytt(e,t,n)<=0;var btt=vtt;const xtt=itt,wtt=att,Stt=ctt,ktt=htt,Ctt=mtt,_tt=btt,Ett=(e,t,n,r)=>{switch(t){case"===":return typeof e=="object"&&(e=e.version),typeof n=="object"&&(n=n.version),e===n;case"!==":return typeof e=="object"&&(e=e.version),typeof n=="object"&&(n=n.version),e!==n;case"":case"=":case"==":return xtt(e,n,r);case"!=":return wtt(e,n,r);case">":return Stt(e,n,r);case">=":return ktt(e,n,r);case"<":return Ctt(e,n,r);case"<=":return _tt(e,n,r);default:throw new TypeError(`Invalid operator: ${t}`)}};var $tt=Ett,b5,lW;function Att(){if(lW)return b5;lW=1;const e=Symbol("SemVer ANY");class t{static get ANY(){return e}constructor(c,f){if(f=n(f),c instanceof t){if(c.loose===!!f.loose)return c;c=c.value}c=c.trim().split(/\s+/).join(" "),s("comparator",c,f),this.options=f,this.loose=!!f.loose,this.parse(c),this.semver===e?this.value="":this.value=this.operator+this.semver.version,s("comp",this)}parse(c){const f=this.options.loose?r[i.COMPARATORLOOSE]:r[i.COMPARATOR],d=c.match(f);if(!d)throw new TypeError(`Invalid comparator: ${c}`);this.operator=d[1]!==void 0?d[1]:"",this.operator==="="&&(this.operator=""),d[2]?this.semver=new a(d[2],this.options.loose):this.semver=e}toString(){return this.value}test(c){if(s("Comparator.test",c,this.options.loose),this.semver===e||c===e)return!0;if(typeof c=="string")try{c=new a(c,this.options)}catch{return!1}return o(c,this.operator,this.semver,this.options)}intersects(c,f){if(!(c instanceof t))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new l(c.value,f).test(this.value):c.operator===""?c.value===""?!0:new l(this.value,f).test(c.semver):(f=n(f),f.includePrerelease&&(this.value==="<0.0.0-0"||c.value==="<0.0.0-0")||!f.includePrerelease&&(this.value.startsWith("<0.0.0")||c.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&c.operator.startsWith(">")||this.operator.startsWith("<")&&c.operator.startsWith("<")||this.semver.version===c.semver.version&&this.operator.includes("=")&&c.operator.includes("=")||o(this.semver,"<",c.semver,f)&&this.operator.startsWith(">")&&c.operator.startsWith("<")||o(this.semver,">",c.semver,f)&&this.operator.startsWith("<")&&c.operator.startsWith(">")))}}b5=t;const n=m9,{safeRe:r,t:i}=v9,o=$tt,s=xE,a=b9,l=eue();return b5}var x5,uW;function eue(){if(uW)return x5;uW=1;class e{constructor(P,R){if(R=r(R),P instanceof e)return P.loose===!!R.loose&&P.includePrerelease===!!R.includePrerelease?P:new e(P.raw,R);if(P instanceof i)return this.raw=P.value,this.set=[[P]],this.format(),this;if(this.options=R,this.loose=!!R.loose,this.includePrerelease=!!R.includePrerelease,this.raw=P.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map(D=>this.parseRange(D.trim())).filter(D=>D.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const D=this.set[0];if(this.set=this.set.filter(I=>!p(I[0])),this.set.length===0)this.set=[D];else if(this.set.length>1){for(const I of this.set)if(I.length===1&&g(I[0])){this.set=[I];break}}}this.format()}format(){return this.range=this.set.map(P=>P.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(P){const D=((this.options.includePrerelease&&d)|(this.options.loose&&h))+":"+P,I=n.get(D);if(I)return I;const N=this.options.loose,B=N?a[l.HYPHENRANGELOOSE]:a[l.HYPHENRANGE];P=P.replace(B,A(this.options.includePrerelease)),o("hyphen replace",P),P=P.replace(a[l.COMPARATORTRIM],u),o("comparator trim",P),P=P.replace(a[l.TILDETRIM],c),o("tilde trim",P),P=P.replace(a[l.CARETTRIM],f),o("caret trim",P);let Y=P.split(" ").map(we=>y(we,this.options)).join(" ").split(/\s+/).map(we=>$(we,this.options));N&&(Y=Y.filter(we=>(o("loose invalid filter",we,this.options),!!we.match(a[l.COMPARATORLOOSE])))),o("range list",Y);const W=new Map,oe=Y.map(we=>new i(we,this.options));for(const we of oe){if(p(we))return[we];W.set(we.value,we)}W.size>1&&W.has("")&&W.delete("");const re=[...W.values()];return n.set(D,re),re}intersects(P,R){if(!(P instanceof e))throw new TypeError("a Range is required");return this.set.some(D=>m(D,R)&&P.set.some(I=>m(I,R)&&D.every(N=>I.every(B=>N.intersects(B,R)))))}test(P){if(!P)return!1;if(typeof P=="string")try{P=new s(P,this.options)}catch{return!1}for(let R=0;R<this.set.length;R++)if(O(this.set[R],P,this.options))return!0;return!1}}x5=e;const t=Bet,n=new t,r=m9,i=Att(),o=xE,s=b9,{safeRe:a,t:l,comparatorTrimReplace:u,tildeTrimReplace:c,caretTrimReplace:f}=v9,{FLAG_INCLUDE_PRERELEASE:d,FLAG_LOOSE:h}=y9,p=M=>M.value==="<0.0.0-0",g=M=>M.value==="",m=(M,P)=>{let R=!0;const D=M.slice();let I=D.pop();for(;R&&D.length;)R=D.every(N=>I.intersects(N,P)),I=D.pop();return R},y=(M,P)=>(o("comp",M,P),M=w(M,P),o("caret",M),M=b(M,P),o("tildes",M),M=S(M,P),o("xrange",M),M=_(M,P),o("stars",M),M),v=M=>!M||M.toLowerCase()==="x"||M==="*",b=(M,P)=>M.trim().split(/\s+/).map(R=>x(R,P)).join(" "),x=(M,P)=>{const R=P.loose?a[l.TILDELOOSE]:a[l.TILDE];return M.replace(R,(D,I,N,B,Y)=>{o("tilde",M,D,I,N,B,Y);let W;return v(I)?W="":v(N)?W=`>=${I}.0.0 <${+I+1}.0.0-0`:v(B)?W=`>=${I}.${N}.0 <${I}.${+N+1}.0-0`:Y?(o("replaceTilde pr",Y),W=`>=${I}.${N}.${B}-${Y} <${I}.${+N+1}.0-0`):W=`>=${I}.${N}.${B} <${I}.${+N+1}.0-0`,o("tilde return",W),W})},w=(M,P)=>M.trim().split(/\s+/).map(R=>k(R,P)).join(" "),k=(M,P)=>{o("caret",M,P);const R=P.loose?a[l.CARETLOOSE]:a[l.CARET],D=P.includePrerelease?"-0":"";return M.replace(R,(I,N,B,Y,W)=>{o("caret",M,I,N,B,Y,W);let oe;return v(N)?oe="":v(B)?oe=`>=${N}.0.0${D} <${+N+1}.0.0-0`:v(Y)?N==="0"?oe=`>=${N}.${B}.0${D} <${N}.${+B+1}.0-0`:oe=`>=${N}.${B}.0${D} <${+N+1}.0.0-0`:W?(o("replaceCaret pr",W),N==="0"?B==="0"?oe=`>=${N}.${B}.${Y}-${W} <${N}.${B}.${+Y+1}-0`:oe=`>=${N}.${B}.${Y}-${W} <${N}.${+B+1}.0-0`:oe=`>=${N}.${B}.${Y}-${W} <${+N+1}.0.0-0`):(o("no pr"),N==="0"?B==="0"?oe=`>=${N}.${B}.${Y}${D} <${N}.${B}.${+Y+1}-0`:oe=`>=${N}.${B}.${Y}${D} <${N}.${+B+1}.0-0`:oe=`>=${N}.${B}.${Y} <${+N+1}.0.0-0`),o("caret return",oe),oe})},S=(M,P)=>(o("replaceXRanges",M,P),M.split(/\s+/).map(R=>C(R,P)).join(" ")),C=(M,P)=>{M=M.trim();const R=P.loose?a[l.XRANGELOOSE]:a[l.XRANGE];return M.replace(R,(D,I,N,B,Y,W)=>{o("xRange",M,D,I,N,B,Y,W);const oe=v(N),re=oe||v(B),we=re||v(Y),De=we;return I==="="&&De&&(I=""),W=P.includePrerelease?"-0":"",oe?I===">"||I==="<"?D="<0.0.0-0":D="*":I&&De?(re&&(B=0),Y=0,I===">"?(I=">=",re?(N=+N+1,B=0,Y=0):(B=+B+1,Y=0)):I==="<="&&(I="<",re?N=+N+1:B=+B+1),I==="<"&&(W="-0"),D=`${I+N}.${B}.${Y}${W}`):re?D=`>=${N}.0.0${W} <${+N+1}.0.0-0`:we&&(D=`>=${N}.${B}.0${W} <${N}.${+B+1}.0-0`),o("xRange return",D),D})},_=(M,P)=>(o("replaceStars",M,P),M.trim().replace(a[l.STAR],"")),$=(M,P)=>(o("replaceGTE0",M,P),M.trim().replace(a[P.includePrerelease?l.GTE0PRE:l.GTE0],"")),A=M=>(P,R,D,I,N,B,Y,W,oe,re,we,De)=>(v(D)?R="":v(I)?R=`>=${D}.0.0${M?"-0":""}`:v(N)?R=`>=${D}.${I}.0${M?"-0":""}`:B?R=`>=${R}`:R=`>=${R}${M?"-0":""}`,v(oe)?W="":v(re)?W=`<${+oe+1}.0.0-0`:v(we)?W=`<${oe}.${+re+1}.0-0`:De?W=`<=${oe}.${re}.${we}-${De}`:M?W=`<${oe}.${re}.${+we+1}-0`:W=`<=${W}`,`${R} ${W}`.trim()),O=(M,P,R)=>{for(let D=0;D<M.length;D++)if(!M[D].test(P))return!1;if(P.prerelease.length&&!R.includePrerelease){for(let D=0;D<M.length;D++)if(o(M[D].semver),M[D].semver!==i.ANY&&M[D].semver.prerelease.length>0){const I=M[D].semver;if(I.major===P.major&&I.minor===P.minor&&I.patch===P.patch)return!0}return!1}return!0};return x5}const Ttt=eue(),Mtt=(e,t,n)=>{try{t=new Ttt(t,n)}catch{return!1}return t.test(e)};var Ftt=Mtt,tue=zet(Ftt);function Ptt(e,t,n){const r=e.open(t),i=1e4,o=250,{origin:s}=new URL(t);let a=~~(i/o);function l(c){c.source===r&&(a=0,e.removeEventListener("message",l,!1))}e.addEventListener("message",l,!1);function u(){a<=0||(r.postMessage(n,s),setTimeout(u,o),a-=1)}setTimeout(u,o)}var Rtt=`.vega-embed {
  position: relative;
  display: inline-block;
  box-sizing: border-box;
}
.vega-embed.has-actions {
  padding-right: 38px;
}
.vega-embed details:not([open]) > :not(summary) {
  display: none !important;
}
.vega-embed summary {
  list-style: none;
  position: absolute;
  top: 0;
  right: 0;
  padding: 6px;
  z-index: 1000;
  background: white;
  box-shadow: 1px 1px 3px rgba(0, 0, 0, 0.1);
  color: #1b1e23;
  border: 1px solid #aaa;
  border-radius: 999px;
  opacity: 0.2;
  transition: opacity 0.4s ease-in;
  cursor: pointer;
  line-height: 0px;
}
.vega-embed summary::-webkit-details-marker {
  display: none;
}
.vega-embed summary:active {
  box-shadow: #aaa 0px 0px 0px 1px inset;
}
.vega-embed summary svg {
  width: 14px;
  height: 14px;
}
.vega-embed details[open] summary {
  opacity: 0.7;
}
.vega-embed:hover summary, .vega-embed:focus-within summary {
  opacity: 1 !important;
  transition: opacity 0.2s ease;
}
.vega-embed .vega-actions {
  position: absolute;
  z-index: 1001;
  top: 35px;
  right: -9px;
  display: flex;
  flex-direction: column;
  padding-bottom: 8px;
  padding-top: 8px;
  border-radius: 4px;
  box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.2);
  border: 1px solid #d9d9d9;
  background: white;
  animation-duration: 0.15s;
  animation-name: scale-in;
  animation-timing-function: cubic-bezier(0.2, 0, 0.13, 1.5);
  text-align: left;
}
.vega-embed .vega-actions a {
  padding: 8px 16px;
  font-family: sans-serif;
  font-size: 14px;
  font-weight: 600;
  white-space: nowrap;
  color: #434a56;
  text-decoration: none;
}
.vega-embed .vega-actions a:hover, .vega-embed .vega-actions a:focus {
  background-color: #f7f7f9;
  color: black;
}
.vega-embed .vega-actions::before, .vega-embed .vega-actions::after {
  content: "";
  display: inline-block;
  position: absolute;
}
.vega-embed .vega-actions::before {
  left: auto;
  right: 14px;
  top: -16px;
  border: 8px solid rgba(0, 0, 0, 0);
  border-bottom-color: #d9d9d9;
}
.vega-embed .vega-actions::after {
  left: auto;
  right: 15px;
  top: -14px;
  border: 7px solid rgba(0, 0, 0, 0);
  border-bottom-color: #fff;
}
.vega-embed .chart-wrapper.fit-x {
  width: 100%;
}
.vega-embed .chart-wrapper.fit-y {
  height: 100%;
}

.vega-embed-wrapper {
  max-width: 100%;
  overflow: auto;
  padding-right: 14px;
}

@keyframes scale-in {
  from {
    opacity: 0;
    transform: scale(0.6);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}
`;function nue(e,...t){for(const n of t)Dtt(e,n);return e}function Dtt(e,t){for(const n of Object.keys(t))Qg(e,n,t[n],!0)}const Qo=wWe;let I1=$Je;const Ox=typeof window<"u"?window:void 0;var ZW;I1===void 0&&((ZW=Ox==null?void 0:Ox.vl)!=null&&ZW.compile)&&(I1=Ox.vl);const Ott={export:{svg:!0,png:!0},source:!0,compiled:!0,editor:!0},Ntt={CLICK_TO_VIEW_ACTIONS:"Click to view actions",COMPILED_ACTION:"View Compiled Vega",EDITOR_ACTION:"Open in Vega Editor",PNG_ACTION:"Save as PNG",SOURCE_ACTION:"View Source",SVG_ACTION:"Save as SVG"},Y0={vega:"Vega","vega-lite":"Vega-Lite"},pk={vega:Qo.version,"vega-lite":I1?I1.version:"not available"},Itt={vega:e=>e,"vega-lite":(e,t)=>I1.compile(e,{config:t}).spec},Ltt=`
<svg viewBox="0 0 16 16" fill="currentColor" stroke="none" stroke-width="1" stroke-linecap="round" stroke-linejoin="round">
  <circle r="2" cy="8" cx="2"></circle>
  <circle r="2" cy="8" cx="8"></circle>
  <circle r="2" cy="8" cx="14"></circle>
</svg>`,ztt="chart-wrapper";function jtt(e){return typeof e=="function"}function cW(e,t,n,r){const i=`<html><head>${t}</head><body><pre><code class="json">`,o=`</code></pre>${n}</body></html>`,s=window.open("");s.document.write(i+e+o),s.document.title=`${Y0[r]} JSON Source`}function Btt(e,t){if(e.$schema){const n=Yle(e.$schema);t&&t!==n.library&&console.warn(`The given visualization spec is written in ${Y0[n.library]}, but mode argument sets ${Y0[t]??t}.`);const r=n.library;return tue(pk[r],`^${n.version.slice(1)}`)||console.warn(`The input spec uses ${Y0[r]} ${n.version}, but the current version of ${Y0[r]} is v${pk[r]}.`),r}return"mark"in e||"encoding"in e||"layer"in e||"hconcat"in e||"vconcat"in e||"facet"in e||"repeat"in e?"vega-lite":"marks"in e||"signals"in e||"scales"in e||"axes"in e?"vega":t??"vega"}function rue(e){return!!(e&&"load"in e)}function fW(e){return rue(e)?e:Qo.loader(e)}function Utt(e){var n;const t=((n=e.usermeta)==null?void 0:n.embedOptions)??{};return le(t.defaultStyle)&&(t.defaultStyle=!1),t}async function iue(e,t,n={}){let r,i;le(t)?(i=fW(n.loader),r=JSON.parse(await i.load(t))):r=t;const o=Utt(r),s=o.loader;(!i||s)&&(i=fW(n.loader??s));const a=await dW(o,i),l=await dW(n,i),u={...nue(l,a),config:Kg(l.config??{},a.config??{})};return await Wtt(e,r,u,i)}async function dW(e,t){const n=le(e.config)?JSON.parse(await t.load(e.config)):e.config??{},r=le(e.patch)?JSON.parse(await t.load(e.patch)):e.patch;return{...e,...r?{patch:r}:{},...n?{config:n}:{}}}function Vtt(e){const t=e.getRootNode?e.getRootNode():document;return t instanceof ShadowRoot?{root:t,rootContainer:t}:{root:document,rootContainer:document.head??document.body}}async function Wtt(e,t,n={},r){const i=n.theme?Kg(Met[n.theme],n.config??{}):n.config,o=$c(n.actions)?n.actions:nue({},Ott,n.actions??{}),s={...Ntt,...n.i18n},a=n.renderer??"canvas",l=n.logLevel??Qo.Warn,u=n.downloadFileName??"visualization",c=typeof e=="string"?document.querySelector(e):e;if(!c)throw new Error(`${e} does not exist`);if(n.defaultStyle!==!1){const w="vega-embed-style",{root:k,rootContainer:S}=Vtt(c);if(!k.getElementById(w)){const C=document.createElement("style");C.id=w,C.innerHTML=n.defaultStyle===void 0||n.defaultStyle===!0?Rtt.toString():n.defaultStyle,S.appendChild(C)}}const f=Btt(t,n.mode);let d=Itt[f](t,i);if(f==="vega-lite"&&d.$schema){const w=Yle(d.$schema);tue(pk.vega,`^${w.version.slice(1)}`)||console.warn(`The compiled spec uses Vega ${w.version}, but current version is v${pk.vega}.`)}c.classList.add("vega-embed"),o&&c.classList.add("has-actions"),c.innerHTML="";let h=c;if(o){const w=document.createElement("div");w.classList.add(ztt),c.appendChild(w),h=w}const p=n.patch;if(p&&(d=p instanceof Function?p(d):bC(d,p,!0,!1).newDocument),n.formatLocale&&Qo.formatLocale(n.formatLocale),n.timeFormatLocale&&Qo.timeFormatLocale(n.timeFormatLocale),n.expressionFunctions)for(const w in n.expressionFunctions){const k=n.expressionFunctions[w];"fn"in k?Qo.expressionFunction(w,k.fn,k.visitor):k instanceof Function&&Qo.expressionFunction(w,k)}const{ast:g}=n,m=Qo.parse(d,f==="vega-lite"?{}:i,{ast:g}),y=new(n.viewClass||Qo.View)(m,{loader:r,logLevel:l,renderer:a,...g?{expr:Qo.expressionInterpreter??n.expr??FWe}:{}});if(y.addSignalListener("autosize",(w,k)=>{const{type:S}=k;S=="fit-x"?(h.classList.add("fit-x"),h.classList.remove("fit-y")):S=="fit-y"?(h.classList.remove("fit-x"),h.classList.add("fit-y")):S=="fit"?h.classList.add("fit-x","fit-y"):h.classList.remove("fit-x","fit-y")}),n.tooltip!==!1){const{loader:w,tooltip:k}=n,S=w&&!rue(w)?w==null?void 0:w.baseURL:void 0,C=jtt(k)?k:new Let({baseURL:S,...k===!0?{}:k}).call;y.tooltip(C)}let{hover:v}=n;if(v===void 0&&(v=f==="vega"),v){const{hoverSet:w,updateSet:k}=typeof v=="boolean"?{}:v;y.hover(w,k)}n&&(n.width!=null&&y.width(n.width),n.height!=null&&y.height(n.height),n.padding!=null&&y.padding(n.padding)),await y.initialize(h,n.bind).runAsync();let b;if(o!==!1){let w=c;if(n.defaultStyle!==!1||n.forceActionsMenu){const S=document.createElement("details");S.title=s.CLICK_TO_VIEW_ACTIONS,c.append(S),w=S;const C=document.createElement("summary");C.innerHTML=Ltt,S.append(C),b=_=>{S.contains(_.target)||S.removeAttribute("open")},document.addEventListener("click",b)}const k=document.createElement("div");if(w.append(k),k.classList.add("vega-actions"),o===!0||o.export!==!1){for(const S of["svg","png"])if(o===!0||o.export===!0||o.export[S]){const C=s[`${S.toUpperCase()}_ACTION`],_=document.createElement("a"),$=se(n.scaleFactor)?n.scaleFactor[S]:n.scaleFactor;_.text=C,_.href="#",_.target="_blank",_.download=`${u}.${S}`,_.addEventListener("mousedown",async function(A){A.preventDefault();const O=await y.toImageURL(S,$);this.href=O}),k.append(_)}}if(o===!0||o.source!==!1){const S=document.createElement("a");S.text=s.SOURCE_ACTION,S.href="#",S.addEventListener("click",function(C){cW(Z$(t),n.sourceHeader??"",n.sourceFooter??"",f),C.preventDefault()}),k.append(S)}if(f==="vega-lite"&&(o===!0||o.compiled!==!1)){const S=document.createElement("a");S.text=s.COMPILED_ACTION,S.href="#",S.addEventListener("click",function(C){cW(Z$(d),n.sourceHeader??"",n.sourceFooter??"","vega"),C.preventDefault()}),k.append(S)}if(o===!0||o.editor!==!1){const S=n.editorUrl??"https://vega.github.io/editor/",C=document.createElement("a");C.text=s.EDITOR_ACTION,C.href="#",C.addEventListener("click",function(_){Ptt(window,S,{config:i,mode:p?"vega":f,renderer:a,spec:Z$(p?d:t)}),_.preventDefault()}),k.append(C)}}function x(){b&&document.removeEventListener("click",b),y.finalize()}return{view:y,spec:t,vgSpec:d,finalize:x,embedOptions:n}}function oue(e){return`thumbnail@${JSON.stringify(e)}`}async function Htt(e,t){const n=qtt(e);if(n)return n;const r=await Gtt(e,t);return r&&sessionStorage.setItem(oue(e),r),r}function qtt(e){return sessionStorage.getItem(oue(e))}async function Gtt(e,t){if(!("mark"in e)||!e||!t)return;const n={disable:!0,title:"",grid:!1,ticks:!1,labels:!1},r={...e,width:100,height:100,config:{...e.config,mark:{strokeWidth:e.mark==="line"?4:0},legend:{disable:!0},axis:{disable:!0},style:{view:{stroke:"transparent"},cell:{stroke:"transparent"}}},data:{values:t},background:"transparent",title:void 0,encoding:Object.fromEntries(Object.entries(e.encoding??{}).map(([o,s])=>[o,{...s,legend:null,axis:n}]))};return(await(await iue(document.createElement("div"),r,{actions:!1}).then(o=>o.view)).toCanvas()).toDataURL()}function Ytt(e){try{return new URL(e),!0}catch{return!1}}function Xtt(e){try{const n=new URL(e).pathname.split("/"),r=n[n.length-1];return decodeURIComponent(r)}catch{throw new Error("Invalid URL")}}const Ktt={BASE_URL:"/Swipytics",DEV:!1,MODE:"production",PROD:!0,SSR:!1},hW=e=>{let t;const n=new Set,r=(c,f)=>{const d=typeof c=="function"?c(t):c;if(!Object.is(d,t)){const h=t;t=f??(typeof d!="object"||d===null)?d:Object.assign({},t,d),n.forEach(p=>p(t,h))}},i=()=>t,l={setState:r,getState:i,getInitialState:()=>u,subscribe:c=>(n.add(c),()=>n.delete(c)),destroy:()=>{(Ktt?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},u=t=e(r,i,l);return l},Qtt=e=>e?hW(e):hW;var sue={exports:{}},aue={},lue={exports:{}},uue={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zg=T;function Ztt(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Jtt=typeof Object.is=="function"?Object.is:Ztt,ent=zg.useState,tnt=zg.useEffect,nnt=zg.useLayoutEffect,rnt=zg.useDebugValue;function int(e,t){var n=t(),r=ent({inst:{value:n,getSnapshot:t}}),i=r[0].inst,o=r[1];return nnt(function(){i.value=n,i.getSnapshot=t,w5(i)&&o({inst:i})},[e,n,t]),tnt(function(){return w5(i)&&o({inst:i}),e(function(){w5(i)&&o({inst:i})})},[e]),rnt(n),n}function w5(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Jtt(e,n)}catch{return!0}}function ont(e,t){return t()}var snt=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?ont:int;uue.useSyncExternalStore=zg.useSyncExternalStore!==void 0?zg.useSyncExternalStore:snt;lue.exports=uue;var ant=lue.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wE=T,lnt=ant;function unt(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var cnt=typeof Object.is=="function"?Object.is:unt,fnt=lnt.useSyncExternalStore,dnt=wE.useRef,hnt=wE.useEffect,pnt=wE.useMemo,gnt=wE.useDebugValue;aue.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var o=dnt(null);if(o.current===null){var s={hasValue:!1,value:null};o.current=s}else s=o.current;o=pnt(function(){function l(h){if(!u){if(u=!0,c=h,h=r(h),i!==void 0&&s.hasValue){var p=s.value;if(i(p,h))return f=p}return f=h}if(p=f,cnt(c,h))return p;var g=r(h);return i!==void 0&&i(p,g)?p:(c=h,f=g)}var u=!1,c,f,d=n===void 0?null:n;return[function(){return l(t())},d===null?void 0:function(){return l(d())}]},[t,n,r,i]);var a=fnt(e,o[0],o[1]);return hnt(function(){s.hasValue=!0,s.value=a},[a]),gnt(a),a};sue.exports=aue;var mnt=sue.exports;const ynt=zl(mnt),cue={BASE_URL:"/Swipytics",DEV:!1,MODE:"production",PROD:!0,SSR:!1},{useDebugValue:vnt}=Bi,{useSyncExternalStoreWithSelector:bnt}=ynt;let pW=!1;const xnt=e=>e;function wnt(e,t=xnt,n){(cue?"production":void 0)!=="production"&&n&&!pW&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),pW=!0);const r=bnt(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return vnt(r),r}const gW=e=>{(cue?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?Qtt(e):e,n=(r,i)=>wnt(t,r,i);return Object.assign(n,t),n},SE=e=>e?gW(e):gW,j2={BASE_URL:"/Swipytics",DEV:!1,MODE:"production",PROD:!0,SSR:!1},vM=new Map,Nx=e=>{const t=vM.get(e);return t?Object.fromEntries(Object.entries(t.stores).map(([n,r])=>[n,r.getState()])):{}},Snt=(e,t,n)=>{if(e===void 0)return{type:"untracked",connection:t.connect(n)};const r=vM.get(n.name);if(r)return{type:"tracked",store:e,...r};const i={connection:t.connect(n),stores:{}};return vM.set(n.name,i),{type:"tracked",store:e,...i}},knt=(e,t={})=>(n,r,i)=>{const{enabled:o,anonymousActionType:s,store:a,...l}=t;let u;try{u=(o??(j2?"production":void 0)!=="production")&&window.__REDUX_DEVTOOLS_EXTENSION__}catch{}if(!u)return(j2?"production":void 0)!=="production"&&o&&console.warn("[zustand devtools middleware] Please install/enable Redux devtools extension"),e(n,r,i);const{connection:c,...f}=Snt(a,u,l);let d=!0;i.setState=(g,m,y)=>{const v=n(g,m);if(!d)return v;const b=y===void 0?{type:s||"anonymous"}:typeof y=="string"?{type:y}:y;return a===void 0?(c==null||c.send(b,r()),v):(c==null||c.send({...b,type:`${a}/${b.type}`},{...Nx(l.name),[a]:i.getState()}),v)};const h=(...g)=>{const m=d;d=!1,n(...g),d=m},p=e(i.setState,r,i);if(f.type==="untracked"?c==null||c.init(p):(f.stores[f.store]=i,c==null||c.init(Object.fromEntries(Object.entries(f.stores).map(([g,m])=>[g,g===f.store?p:m.getState()])))),i.dispatchFromDevtools&&typeof i.dispatch=="function"){let g=!1;const m=i.dispatch;i.dispatch=(...y)=>{(j2?"production":void 0)!=="production"&&y[0].type==="__setState"&&!g&&(console.warn('[zustand devtools middleware] "__setState" action type is reserved to set state from the devtools. Avoid using it.'),g=!0),m(...y)}}return c.subscribe(g=>{var m;switch(g.type){case"ACTION":if(typeof g.payload!="string"){console.error("[zustand devtools middleware] Unsupported action format");return}return S5(g.payload,y=>{if(y.type==="__setState"){if(a===void 0){h(y.state);return}Object.keys(y.state).length!==1&&console.error(`
                    [zustand devtools middleware] Unsupported __setState action format. 
                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),
                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }
                    `);const v=y.state[a];if(v==null)return;JSON.stringify(i.getState())!==JSON.stringify(v)&&h(v);return}i.dispatchFromDevtools&&typeof i.dispatch=="function"&&i.dispatch(y)});case"DISPATCH":switch(g.payload.type){case"RESET":return h(p),a===void 0?c==null?void 0:c.init(i.getState()):c==null?void 0:c.init(Nx(l.name));case"COMMIT":if(a===void 0){c==null||c.init(i.getState());return}return c==null?void 0:c.init(Nx(l.name));case"ROLLBACK":return S5(g.state,y=>{if(a===void 0){h(y),c==null||c.init(i.getState());return}h(y[a]),c==null||c.init(Nx(l.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return S5(g.state,y=>{if(a===void 0){h(y);return}JSON.stringify(i.getState())!==JSON.stringify(y[a])&&h(y[a])});case"IMPORT_STATE":{const{nextLiftedState:y}=g.payload,v=(m=y.computedStates.slice(-1)[0])==null?void 0:m.state;if(!v)return;h(a===void 0?v:v[a]),c==null||c.send(null,y);return}case"PAUSE_RECORDING":return d=!d}return}}),p},x9=knt,S5=(e,t)=>{let n;try{n=JSON.parse(e)}catch(r){console.error("[zustand devtools middleware] Could not parse the received json",r)}n!==void 0&&t(n)};function Cnt(e,t){let n;try{n=e()}catch{return}return{getItem:i=>{var o;const s=l=>l===null?null:JSON.parse(l,void 0),a=(o=n.getItem(i))!=null?o:null;return a instanceof Promise?a.then(s):s(a)},setItem:(i,o)=>n.setItem(i,JSON.stringify(o,void 0)),removeItem:i=>n.removeItem(i)}}const L1=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then(r){return L1(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return L1(r)(n)}}}},_nt=(e,t)=>(n,r,i)=>{let o={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:m=>m,version:0,merge:(m,y)=>({...y,...m}),...t},s=!1;const a=new Set,l=new Set;let u;try{u=o.getStorage()}catch{}if(!u)return e((...m)=>{console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),n(...m)},r,i);const c=L1(o.serialize),f=()=>{const m=o.partialize({...r()});let y;const v=c({state:m,version:o.version}).then(b=>u.setItem(o.name,b)).catch(b=>{y=b});if(y)throw y;return v},d=i.setState;i.setState=(m,y)=>{d(m,y),f()};const h=e((...m)=>{n(...m),f()},r,i);let p;const g=()=>{var m;if(!u)return;s=!1,a.forEach(v=>v(r()));const y=((m=o.onRehydrateStorage)==null?void 0:m.call(o,r()))||void 0;return L1(u.getItem.bind(u))(o.name).then(v=>{if(v)return o.deserialize(v)}).then(v=>{if(v)if(typeof v.version=="number"&&v.version!==o.version){if(o.migrate)return o.migrate(v.state,v.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return v.state}).then(v=>{var b;return p=o.merge(v,(b=r())!=null?b:h),n(p,!0),f()}).then(()=>{y==null||y(p,void 0),s=!0,l.forEach(v=>v(p))}).catch(v=>{y==null||y(void 0,v)})};return i.persist={setOptions:m=>{o={...o,...m},m.getStorage&&(u=m.getStorage())},clearStorage:()=>{u==null||u.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>g(),hasHydrated:()=>s,onHydrate:m=>(a.add(m),()=>{a.delete(m)}),onFinishHydration:m=>(l.add(m),()=>{l.delete(m)})},g(),p||h},Ent=(e,t)=>(n,r,i)=>{let o={storage:Cnt(()=>localStorage),partialize:g=>g,version:0,merge:(g,m)=>({...m,...g}),...t},s=!1;const a=new Set,l=new Set;let u=o.storage;if(!u)return e((...g)=>{console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),n(...g)},r,i);const c=()=>{const g=o.partialize({...r()});return u.setItem(o.name,{state:g,version:o.version})},f=i.setState;i.setState=(g,m)=>{f(g,m),c()};const d=e((...g)=>{n(...g),c()},r,i);i.getInitialState=()=>d;let h;const p=()=>{var g,m;if(!u)return;s=!1,a.forEach(v=>{var b;return v((b=r())!=null?b:d)});const y=((m=o.onRehydrateStorage)==null?void 0:m.call(o,(g=r())!=null?g:d))||void 0;return L1(u.getItem.bind(u))(o.name).then(v=>{if(v)if(typeof v.version=="number"&&v.version!==o.version){if(o.migrate)return[!0,o.migrate(v.state,v.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,v.state];return[!1,void 0]}).then(v=>{var b;const[x,w]=v;if(h=o.merge(w,(b=r())!=null?b:d),n(h,!0),x)return c()}).then(()=>{y==null||y(h,void 0),h=r(),s=!0,l.forEach(v=>v(h))}).catch(v=>{y==null||y(void 0,v)})};return i.persist={setOptions:g=>{o={...o,...g},g.storage&&(u=g.storage)},clearStorage:()=>{u==null||u.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>p(),hasHydrated:()=>s,onHydrate:g=>(a.add(g),()=>{a.delete(g)}),onFinishHydration:g=>(l.add(g),()=>{l.delete(g)})},o.skipHydration||p(),h||d},$nt=(e,t)=>"getStorage"in t||"serialize"in t||"deserialize"in t?((j2?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),_nt(e,t)):Ent(e,t),Ant=$nt,Tnt={json:w$e,csv:QP},El=SE(x9(e=>({filename:null,fileBuffer:null,data:void 0,schema:null,loading:!1,loadData:async t=>{e({loading:!0,filename:null,fileBuffer:null,data:void 0,schema:null});const n=t instanceof File?t.name:Xtt(t),r=n.split(".").pop(),o=await(await t3(t)).arrayBuffer(),s=new Uint8Array(o),a=await YP(o,Tnt[r],{worker:!0,fetch:{mode:"no-cors"}});e({filename:n,fileBuffer:s,data:a,schema:a.schema,loading:!1})}}))),bM=SE()(e=>({drawerExpanded:!0,setDrawerExpanded:t=>e({drawerExpanded:t})})),kt={black:"#000000",white:"#FFFFFF","blackAlpha.50":"rgba(0, 0, 0, 0.04)","blackAlpha.100":"rgba(0, 0, 0, 0.06)","blackAlpha.200":"rgba(0, 0, 0, 0.08)","blackAlpha.300":"rgba(0, 0, 0, 0.16)","blackAlpha.400":"rgba(0, 0, 0, 0.24)","blackAlpha.500":"rgba(0, 0, 0, 0.36)","blackAlpha.600":"rgba(0, 0, 0, 0.48)","blackAlpha.700":"rgba(0, 0, 0, 0.64)","blackAlpha.800":"rgba(0, 0, 0, 0.80)","blackAlpha.900":"rgba(0, 0, 0, 0.92)","whiteAlpha.50":"rgba(255, 255, 255, 0.04)","whiteAlpha.100":"rgba(255, 255, 255, 0.06)","whiteAlpha.200":"rgba(255, 255, 255, 0.08)","whiteAlpha.300":"rgba(255, 255, 255, 0.16)","whiteAlpha.400":"rgba(255, 255, 255, 0.24)","whiteAlpha.500":"rgba(255, 255, 255, 0.36)","whiteAlpha.600":"rgba(255, 255, 255, 0.48)","whiteAlpha.700":"rgba(255, 255, 255, 0.64)","whiteAlpha.800":"rgba(255, 255, 255, 0.80)","whiteAlpha.900":"rgba(255, 255, 255, 0.92)","gray.50":"#F7FAFC","gray.100":"#EDF2F7","gray.200":"#E2E8F0","gray.300":"#CBD5E0","gray.400":"#A0AEC0","gray.500":"#718096","gray.600":"#4A5568","gray.700":"#2D3748","gray.800":"#1A202C","gray.900":"#171923","red.50":"#FFF5F5","red.100":"#FED7D7","red.200":"#FEB2B2","red.300":"#FC8181","red.400":"#F56565","red.500":"#E53E3E","red.600":"#C53030","red.700":"#9B2C2C","red.800":"#822727","red.900":"#63171B","orange.50":"#FFFAF0","orange.100":"#FEEBC8","orange.200":"#FBD38D","orange.300":"#F6AD55","orange.400":"#ED8936","orange.500":"#DD6B20","orange.600":"#C05621","orange.700":"#9C4221","orange.800":"#7B341E","orange.900":"#652B19","yellow.50":"#FFFFF0","yellow.100":"#FEFCBF","yellow.200":"#FAF089","yellow.300":"#F6E05E","yellow.400":"#ECC94B","yellow.500":"#D69E2E","yellow.600":"#B7791F","yellow.700":"#975A16","yellow.800":"#744210","yellow.900":"#5F370E","green.50":"#F0FFF4","green.100":"#C6F6D5","green.200":"#9AE6B4","green.300":"#68D391","green.400":"#48BB78","green.500":"#38A169","green.600":"#2F855A","green.700":"#276749","green.800":"#22543D","green.900":"#1C4532","teal.50":"#E6FFFA","teal.100":"#B2F5EA","teal.200":"#81E6D9","teal.300":"#4FD1C5","teal.400":"#38B2AC","teal.500":"#319795","teal.600":"#2C7A7B","teal.700":"#285E61","teal.800":"#234E52","teal.900":"#1D4044","blue.50":"#EBF8FF","blue.100":"#BEE3F8","blue.200":"#90CDF4","blue.300":"#63B3ED","blue.400":"#4299E1","blue.500":"#3182CE","blue.600":"#2B6CB0","blue.700":"#2C5282","blue.800":"#2A4365","blue.900":"#1A365D","cyan.50":"#EDFDFD","cyan.100":"#C4F1F9","cyan.200":"#9DECF9","cyan.300":"#76E4F7","cyan.400":"#0BC5EA","cyan.500":"#00B5D8","cyan.600":"#00A3C4","cyan.700":"#0987A0","cyan.800":"#086F83","cyan.900":"#065666","purple.50":"#FAF5FF","purple.100":"#E9D8FD","purple.200":"#D6BCFA","purple.300":"#B794F4","purple.400":"#9F7AEA","purple.500":"#805AD5","purple.600":"#6B46C1","purple.700":"#553C9A","purple.800":"#44337A","purple.900":"#322659","pink.50":"#FFF5F7","pink.100":"#FED7E2","pink.200":"#FBB6CE","pink.300":"#F687B3","pink.400":"#ED64A6","pink.500":"#D53F8C","pink.600":"#B83280","pink.700":"#97266D","pink.800":"#702459","pink.900":"#521B41"},mW=[{name:"Barley",href:"https://cdn.jsdelivr.net/npm/vega-datasets@2/data/barley.json"},{name:"Cars",href:"https://cdn.jsdelivr.net/npm/vega-datasets@2/data/cars.json"},{name:"Crimea",href:"https://cdn.jsdelivr.net/npm/vega-datasets@2/data/crimea.json"},{name:"Jobs",href:"https://cdn.jsdelivr.net/npm/vega-datasets@2/data/jobs.json"},{name:"Population",href:"https://cdn.jsdelivr.net/npm/vega-datasets@2/data/population.json"},{name:"Movies",href:"https://cdn.jsdelivr.net/npm/vega-datasets@2/data/movies.json"},{name:"Birdstrikes",href:"https://cdn.jsdelivr.net/npm/vega-datasets@2/data/birdstrikes.csv"},{name:"Burtin",href:"https://cdn.jsdelivr.net/npm/vega-datasets@2/data/burtin.json"}],yW=50,Mnt=50,Fnt=1,mr="orange",ju={50:kt[`${mr}.50`],100:kt[`${mr}.100`],200:kt[`${mr}.200`],300:kt[`${mr}.300`],400:kt[`${mr}.400`],500:kt[`${mr}.500`],600:kt[`${mr}.600`],700:kt[`${mr}.700`],800:kt[`${mr}.800`],900:kt[`${mr}.900`]},vW="table",k5=3;/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const fue=Symbol("Comlink.proxy"),Pnt=Symbol("Comlink.endpoint"),due=Symbol("Comlink.releaseProxy"),C5=Symbol("Comlink.finalizer"),B2=Symbol("Comlink.thrown"),hue=e=>typeof e=="object"&&e!==null||typeof e=="function",Rnt={canHandle:e=>hue(e)&&e[fue],serialize(e){const{port1:t,port2:n}=new MessageChannel;return gue(e,t),[n,[n]]},deserialize(e){return e.start(),yue(e)}},Dnt={canHandle:e=>hue(e)&&B2 in e,serialize({value:e}){let t;return e instanceof Error?t={isError:!0,value:{message:e.message,name:e.name,stack:e.stack}}:t={isError:!1,value:e},[t,[]]},deserialize(e){throw e.isError?Object.assign(new Error(e.value.message),e.value):e.value}},pue=new Map([["proxy",Rnt],["throw",Dnt]]);function Ont(e,t){for(const n of e)if(t===n||n==="*"||n instanceof RegExp&&n.test(t))return!0;return!1}function gue(e,t=globalThis,n=["*"]){t.addEventListener("message",function r(i){if(!i||!i.data)return;if(!Ont(n,i.origin)){console.warn(`Invalid origin '${i.origin}' for comlink proxy`);return}const{id:o,type:s,path:a}=Object.assign({path:[]},i.data),l=(i.data.argumentList||[]).map(wf);let u;try{const c=a.slice(0,-1).reduce((d,h)=>d[h],e),f=a.reduce((d,h)=>d[h],e);switch(s){case"GET":u=f;break;case"SET":c[a.slice(-1)[0]]=wf(i.data.value),u=!0;break;case"APPLY":u=f.apply(c,l);break;case"CONSTRUCT":{const d=new f(...l);u=Bnt(d)}break;case"ENDPOINT":{const{port1:d,port2:h}=new MessageChannel;gue(e,h),u=jnt(d,[d])}break;case"RELEASE":u=void 0;break;default:return}}catch(c){u={value:c,[B2]:0}}Promise.resolve(u).catch(c=>({value:c,[B2]:0})).then(c=>{const[f,d]=yk(c);t.postMessage(Object.assign(Object.assign({},f),{id:o}),d),s==="RELEASE"&&(t.removeEventListener("message",r),mue(t),C5 in e&&typeof e[C5]=="function"&&e[C5]())}).catch(c=>{const[f,d]=yk({value:new TypeError("Unserializable return value"),[B2]:0});t.postMessage(Object.assign(Object.assign({},f),{id:o}),d)})}),t.start&&t.start()}function Nnt(e){return e.constructor.name==="MessagePort"}function mue(e){Nnt(e)&&e.close()}function yue(e,t){return xM(e,[],t)}function Ix(e){if(e)throw new Error("Proxy has been released and is not useable")}function vue(e){return Th(e,{type:"RELEASE"}).then(()=>{mue(e)})}const gk=new WeakMap,mk="FinalizationRegistry"in globalThis&&new FinalizationRegistry(e=>{const t=(gk.get(e)||0)-1;gk.set(e,t),t===0&&vue(e)});function Int(e,t){const n=(gk.get(t)||0)+1;gk.set(t,n),mk&&mk.register(e,t,e)}function Lnt(e){mk&&mk.unregister(e)}function xM(e,t=[],n=function(){}){let r=!1;const i=new Proxy(n,{get(o,s){if(Ix(r),s===due)return()=>{Lnt(i),vue(e),r=!0};if(s==="then"){if(t.length===0)return{then:()=>i};const a=Th(e,{type:"GET",path:t.map(l=>l.toString())}).then(wf);return a.then.bind(a)}return xM(e,[...t,s])},set(o,s,a){Ix(r);const[l,u]=yk(a);return Th(e,{type:"SET",path:[...t,s].map(c=>c.toString()),value:l},u).then(wf)},apply(o,s,a){Ix(r);const l=t[t.length-1];if(l===Pnt)return Th(e,{type:"ENDPOINT"}).then(wf);if(l==="bind")return xM(e,t.slice(0,-1));const[u,c]=bW(a);return Th(e,{type:"APPLY",path:t.map(f=>f.toString()),argumentList:u},c).then(wf)},construct(o,s){Ix(r);const[a,l]=bW(s);return Th(e,{type:"CONSTRUCT",path:t.map(u=>u.toString()),argumentList:a},l).then(wf)}});return Int(i,e),i}function znt(e){return Array.prototype.concat.apply([],e)}function bW(e){const t=e.map(yk);return[t.map(n=>n[0]),znt(t.map(n=>n[1]))]}const bue=new WeakMap;function jnt(e,t){return bue.set(e,t),e}function Bnt(e){return Object.assign(e,{[fue]:!0})}function yk(e){for(const[t,n]of pue)if(n.canHandle(e)){const[r,i]=n.serialize(e);return[{type:"HANDLER",name:t,value:r},i]}return[{type:"RAW",value:e},bue.get(e)||[]]}function wf(e){switch(e.type){case"HANDLER":return pue.get(e.name).deserialize(e.value);case"RAW":return e.value}}function Th(e,t,n){return new Promise(r=>{const i=Unt();e.addEventListener("message",function o(s){!s.data||!s.data.id||s.data.id!==i||(e.removeEventListener("message",o),r(s.data))}),e.start&&e.start(),e.postMessage(Object.assign({id:i},t),n)})}function Unt(){return new Array(4).fill(0).map(()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16)).join("-")}function Vnt(e){return new Worker("/Swipytics/assets/pyodide-worker-BBSifKST.js",{type:"module",name:e==null?void 0:e.name})}let go=null,vr=null;const Wnt=async(e,t)=>{if(!go||!vr)throw new Error("pyodide isn't loaded yet");return await vr.runPython(e,t)},Hnt=async(e,t)=>{if(!go||!vr)throw new Error("pyodide isn't loaded yet");return vr.callPythonFunction(e,t)},qnt=async(e,t)=>{if(!go||!vr)throw new Error("pyodide isn't loaded yet");return vr.writeFile(e,t)},Gnt=async e=>{if(!go||!vr)throw new Error("pyodide isn't loaded yet");return vr.readFile(e)},Ynt=async e=>(go||(go=new Vnt({name:"pyodide-worker"}),vr=yue(go),await vr.initialize(e)),{runPython:Wnt,callPythonFunction:Hnt,writeFile:qnt,readFile:Gnt,terminate:()=>{go==null||go.terminate(),go=null,vr==null||vr[due](),vr=null},initialize:async t=>{if(!go||!vr)throw new Error("pyodide isn't loaded yet");await vr.initialize(t)}});let Py;async function Xnt(e){const{packages:t}=e||{};return Py===void 0&&(Py=await Knt(t)),Py}const Knt=async e=>(Py=await Ynt(e),Py),ob=async()=>await Xnt({packages:["draco"]});var xue=Symbol.for("immer-nothing"),xW=Symbol.for("immer-draftable"),eo=Symbol.for("immer-state");function us(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var jg=Object.getPrototypeOf;function Bg(e){return!!e&&!!e[eo]}function Md(e){var t;return e?wue(e)||Array.isArray(e)||!!e[xW]||!!((t=e.constructor)!=null&&t[xW])||CE(e)||_E(e):!1}var Qnt=Object.prototype.constructor.toString();function wue(e){if(!e||typeof e!="object")return!1;const t=jg(e);if(t===null)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===Qnt}function vk(e,t){kE(e)===0?Reflect.ownKeys(e).forEach(n=>{t(n,e[n],e)}):e.forEach((n,r)=>t(r,n,e))}function kE(e){const t=e[eo];return t?t.type_:Array.isArray(e)?1:CE(e)?2:_E(e)?3:0}function wM(e,t){return kE(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Sue(e,t,n){const r=kE(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function Znt(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function CE(e){return e instanceof Map}function _E(e){return e instanceof Set}function hf(e){return e.copy_||e.base_}function SM(e,t){if(CE(e))return new Map(e);if(_E(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=wue(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[eo];let i=Reflect.ownKeys(r);for(let o=0;o<i.length;o++){const s=i[o],a=r[s];a.writable===!1&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(r[s]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[s]})}return Object.create(jg(e),r)}else{const r=jg(e);if(r!==null&&n)return{...e};const i=Object.create(r);return Object.assign(i,e)}}function w9(e,t=!1){return EE(e)||Bg(e)||!Md(e)||(kE(e)>1&&(e.set=e.add=e.clear=e.delete=Jnt),Object.freeze(e),t&&Object.entries(e).forEach(([n,r])=>w9(r,!0))),e}function Jnt(){us(2)}function EE(e){return Object.isFrozen(e)}var ert={};function Fd(e){const t=ert[e];return t||us(0,e),t}var z1;function kue(){return z1}function trt(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function wW(e,t){t&&(Fd("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function kM(e){CM(e),e.drafts_.forEach(nrt),e.drafts_=null}function CM(e){e===z1&&(z1=e.parent_)}function SW(e){return z1=trt(z1,e)}function nrt(e){const t=e[eo];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function kW(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[eo].modified_&&(kM(t),us(4)),Md(e)&&(e=bk(t,e),t.parent_||xk(t,e)),t.patches_&&Fd("Patches").generateReplacementPatches_(n[eo].base_,e,t.patches_,t.inversePatches_)):e=bk(t,n,[]),kM(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==xue?e:void 0}function bk(e,t,n){if(EE(t))return t;const r=t[eo];if(!r)return vk(t,(i,o)=>CW(e,r,t,i,o,n)),t;if(r.scope_!==e)return t;if(!r.modified_)return xk(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let o=i,s=!1;r.type_===3&&(o=new Set(i),i.clear(),s=!0),vk(o,(a,l)=>CW(e,r,i,a,l,n,s)),xk(e,i,!1),n&&e.patches_&&Fd("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function CW(e,t,n,r,i,o,s){if(Bg(i)){const a=o&&t&&t.type_!==3&&!wM(t.assigned_,r)?o.concat(r):void 0,l=bk(e,i,a);if(Sue(n,r,l),Bg(l))e.canAutoFreeze_=!1;else return}else s&&n.add(i);if(Md(i)&&!EE(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;bk(e,i),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,r)&&xk(e,i)}}function xk(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&w9(t,n)}function rrt(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:kue(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,o=S9;n&&(i=[r],o=j1);const{revoke:s,proxy:a}=Proxy.revocable(i,o);return r.draft_=a,r.revoke_=s,a}var S9={get(e,t){if(t===eo)return e;const n=hf(e);if(!wM(n,t))return irt(e,n,t);const r=n[t];return e.finalized_||!Md(r)?r:r===_5(e.base_,t)?(E5(e),e.copy_[t]=EM(r,e)):r},has(e,t){return t in hf(e)},ownKeys(e){return Reflect.ownKeys(hf(e))},set(e,t,n){const r=Cue(hf(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=_5(hf(e),t),o=i==null?void 0:i[eo];if(o&&o.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(Znt(n,i)&&(n!==void 0||wM(e.base_,t)))return!0;E5(e),_M(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return _5(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,E5(e),_M(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=hf(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){us(11)},getPrototypeOf(e){return jg(e.base_)},setPrototypeOf(){us(12)}},j1={};vk(S9,(e,t)=>{j1[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});j1.deleteProperty=function(e,t){return j1.set.call(this,e,t,void 0)};j1.set=function(e,t,n){return S9.set.call(this,e[0],t,n,e[0])};function _5(e,t){const n=e[eo];return(n?hf(n):e)[t]}function irt(e,t,n){var i;const r=Cue(t,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function Cue(e,t){if(!(t in e))return;let n=jg(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=jg(n)}}function _M(e){e.modified_||(e.modified_=!0,e.parent_&&_M(e.parent_))}function E5(e){e.copy_||(e.copy_=SM(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var ort=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const o=n;n=t;const s=this;return function(l=o,...u){return s.produce(l,c=>n.call(this,c,...u))}}typeof n!="function"&&us(6),r!==void 0&&typeof r!="function"&&us(7);let i;if(Md(t)){const o=SW(this),s=EM(t,void 0);let a=!0;try{i=n(s),a=!1}finally{a?kM(o):CM(o)}return wW(o,r),kW(i,o)}else if(!t||typeof t!="object"){if(i=n(t),i===void 0&&(i=t),i===xue&&(i=void 0),this.autoFreeze_&&w9(i,!0),r){const o=[],s=[];Fd("Patches").generateReplacementPatches_(t,i,o,s),r(o,s)}return i}else us(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(s,...a)=>this.produceWithPatches(s,l=>t(l,...a));let r,i;return[this.produce(t,n,(s,a)=>{r=s,i=a}),r,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){Md(e)||us(8),Bg(e)&&(e=srt(e));const t=SW(this),n=EM(e,void 0);return n[eo].isManual_=!0,CM(t),n}finishDraft(e,t){const n=e&&e[eo];(!n||!n.isManual_)&&us(9);const{scope_:r}=n;return wW(r,t),kW(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const r=Fd("Patches").applyPatches_;return Bg(e)?r(e,t):this.produce(e,i=>r(i,t))}};function EM(e,t){const n=CE(e)?Fd("MapSet").proxyMap_(e,t):_E(e)?Fd("MapSet").proxySet_(e,t):rrt(e,t);return(t?t.scope_:kue()).drafts_.push(n),n}function srt(e){return Bg(e)||us(10,e),_ue(e)}function _ue(e){if(!Md(e)||EE(e))return e;const t=e[eo];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=SM(e,t.scope_.immer_.useStrictShallowCopy_)}else n=SM(e,!0);return vk(n,(r,i)=>{Sue(n,r,_ue(i))}),t&&(t.finalized_=!1),n}var to=new ort,c0=to.produce;to.produceWithPatches.bind(to);to.setAutoFreeze.bind(to);to.setUseStrictShallowCopy.bind(to);to.applyPatches.bind(to);to.createDraft.bind(to);to.finishDraft.bind(to);const xm=SE()(x9(Ant(e=>({apiKey:"sk-...",setApiKey:t=>e({apiKey:t}),python:"pyodide",setPython:async t=>t==="server"&&!(await fetch("/api")).ok?!1:(e({python:t}),!0)}),{name:"settings-storage"}))),Jt=SE(x9((e,t)=>({filename:"",timestamp:0,charts:[],fields:[],currentChartIndex:-1,increaseCurrentChartIndex:()=>{t().setCurrentChartIndex(t().currentChartIndex+1)},decreaseCurrentChartIndex:()=>{t().setCurrentChartIndex(t().currentChartIndex-1)},setCurrentChartIndex:async n=>{const r=t();n<-1||(n>r.charts.length-Fnt-1&&await t().appendNextChart(),e({currentChartIndex:n}))},setCurrentChartToLast:()=>{const n=t();t().setCurrentChartIndex(n.charts.length-1)},getChartIndexByKey:n=>t().charts.findIndex(r=>r.key===n),loadingSession:!1,loadSession:async()=>{e({loadingSession:!0,charts:[],filename:"",timestamp:0,currentChartIndex:-1,fields:[]});const n=El.getState().filename,r=El.getState().fileBuffer;if(!(n&&r))throw new Error("No file buffer found");const i=await frt(n,r);e(c0(o=>{o.filename=i.filename,o.timestamp=i.timestamp,o.fields=i.fields,o.charts=i.charts,o.loadingSession=!1}))},appendingChart:!1,appendNextChart:async()=>{e({appendingChart:!0});const n=await drt();e(c0(r=>{r.charts.push(n),r.appendingChart=!1}))},appendChartToRear:n=>{e(c0(r=>{r.charts.pop(),r.charts.push(n)}))},callAppendChart:async n=>{e({appendingChart:!0}),await grt(n),e({appendingChart:!1})},renewCurrentChart:()=>e(c0(n=>{const r=n.charts[n.currentChartIndex];r.specIndex=(r.specIndex+1)%r.specs.length})),setCurrentChartPreferred:n=>{El.getState().data&&e(c0(i=>{i.charts[i.currentChartIndex].preferred=n}))}})));async function art(e,t){const n=await ob();return await n.writeFile(e,t),await n.callPythonFunction("loadData",{filename:e})}async function lrt(e,t){const n=new Blob([t]),r=new FormData;return r.append("file",n,e),await(await fetch("/api/loadData",{method:"POST",body:r})).json()}async function urt(){return await(await ob()).callPythonFunction("appendNextChart",{})}async function crt(){return await(await fetch("/api/appendNextChart")).json()}const frt=xm.getState().python==="pyodide"?art:lrt,drt=xm.getState().python==="pyodide"?urt:crt;async function hrt(e){return fetch("/api/appendChart",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({chart:e})})}async function prt(e){await(await ob()).callPythonFunction("callAppendChart",{chart:e})}const grt=xm.getState().python==="pyodide"?prt:hrt;async function mrt(e){try{return await(await fetch("/api/browseCharts",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({field_names:e})})).json()}catch(t){return console.error(t),[]}}async function yrt(e){return await(await ob()).callPythonFunction("browseCharts",{field_names:e})}const vrt=xm.getState().python==="pyodide"?yrt:mrt;function brt(){const{setCurrentChartToLast:e,appendChartToRear:t,callAppendChart:n}=Jt();return{appendChart:async i=>{await n(i),t(i),e()}}}function xrt(){const e=Jt(i=>i.charts),t=e.filter(i=>i.preferred),n=Jt(i=>i.setCurrentChartIndex);return{preferredCharts:t,handleClickBookmark:i=>{const o=e.findIndex(s=>s===i);n(o)}}}var sb=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Ug=typeof window>"u"||"Deno"in globalThis;function mo(){}function wrt(e,t){return typeof e=="function"?e(t):e}function $M(e){return typeof e=="number"&&e>=0&&e!==1/0}function Eue(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Ep(e,t){return typeof e=="function"?e(t):e}function os(e,t){return typeof e=="function"?e(t):e}function _W(e,t){const{type:n="all",exact:r,fetchStatus:i,predicate:o,queryKey:s,stale:a}=e;if(s){if(r){if(t.queryHash!==k9(s,t.options))return!1}else if(!U1(t.queryKey,s))return!1}if(n!=="all"){const l=t.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&t.isStale()!==a||i&&i!==t.state.fetchStatus||o&&!o(t))}function EW(e,t){const{exact:n,status:r,predicate:i,mutationKey:o}=e;if(o){if(!t.options.mutationKey)return!1;if(n){if(B1(t.options.mutationKey)!==B1(o))return!1}else if(!U1(t.options.mutationKey,o))return!1}return!(r&&t.state.status!==r||i&&!i(t))}function k9(e,t){return((t==null?void 0:t.queryKeyHashFn)||B1)(e)}function B1(e){return JSON.stringify(e,(t,n)=>TM(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function U1(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(n=>!U1(e[n],t[n])):!1}function $ue(e,t){if(e===t)return e;const n=$W(e)&&$W(t);if(n||TM(e)&&TM(t)){const r=n?e:Object.keys(e),i=r.length,o=n?t:Object.keys(t),s=o.length,a=n?[]:{};let l=0;for(let u=0;u<s;u++){const c=n?u:o[u];(!n&&r.includes(c)||n)&&e[c]===void 0&&t[c]===void 0?(a[c]=void 0,l++):(a[c]=$ue(e[c],t[c]),a[c]===e[c]&&e[c]!==void 0&&l++)}return i===s&&l===i?e:a}return t}function AM(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function $W(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function TM(e){if(!AW(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!AW(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function AW(e){return Object.prototype.toString.call(e)==="[object Object]"}function Srt(e){return new Promise(t=>{setTimeout(t,e)})}function MM(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?$ue(e,t):t}function krt(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function Crt(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var Aue=Symbol();function Tue(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Aue?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var Pf,Su,$p,JW,_rt=(JW=class extends sb{constructor(){super();Fe(this,Pf);Fe(this,Su);Fe(this,$p);pe(this,$p,t=>{if(!Ug&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){j(this,Su)||this.setEventListener(j(this,$p))}onUnsubscribe(){var t;this.hasListeners()||((t=j(this,Su))==null||t.call(this),pe(this,Su,void 0))}setEventListener(t){var n;pe(this,$p,t),(n=j(this,Su))==null||n.call(this),pe(this,Su,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){j(this,Pf)!==t&&(pe(this,Pf,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof j(this,Pf)=="boolean"?j(this,Pf):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Pf=new WeakMap,Su=new WeakMap,$p=new WeakMap,JW),C9=new _rt,Ap,ku,Tp,eH,Ert=(eH=class extends sb{constructor(){super();Fe(this,Ap,!0);Fe(this,ku);Fe(this,Tp);pe(this,Tp,t=>{if(!Ug&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){j(this,ku)||this.setEventListener(j(this,Tp))}onUnsubscribe(){var t;this.hasListeners()||((t=j(this,ku))==null||t.call(this),pe(this,ku,void 0))}setEventListener(t){var n;pe(this,Tp,t),(n=j(this,ku))==null||n.call(this),pe(this,ku,t(this.setOnline.bind(this)))}setOnline(t){j(this,Ap)!==t&&(pe(this,Ap,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return j(this,Ap)}},Ap=new WeakMap,ku=new WeakMap,Tp=new WeakMap,eH),wk=new Ert;function $rt(e){return Math.min(1e3*2**e,3e4)}function Mue(e){return(e??"online")==="online"?wk.isOnline():!0}var Fue=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function $5(e){return e instanceof Fue}function Pue(e){let t=!1,n=0,r=!1,i,o,s;const a=new Promise((y,v)=>{o=y,s=v}),l=y=>{var v;r||(p(new Fue(y)),(v=e.abort)==null||v.call(e))},u=()=>{t=!0},c=()=>{t=!1},f=()=>C9.isFocused()&&(e.networkMode==="always"||wk.isOnline())&&e.canRun(),d=()=>Mue(e.networkMode)&&e.canRun(),h=y=>{var v;r||(r=!0,(v=e.onSuccess)==null||v.call(e,y),i==null||i(),o(y))},p=y=>{var v;r||(r=!0,(v=e.onError)==null||v.call(e,y),i==null||i(),s(y))},g=()=>new Promise(y=>{var v;i=b=>{(r||f())&&y(b)},(v=e.onPause)==null||v.call(e)}).then(()=>{var y;i=void 0,r||(y=e.onContinue)==null||y.call(e)}),m=()=>{if(r)return;let y;const v=n===0?e.initialPromise:void 0;try{y=v??e.fn()}catch(b){y=Promise.reject(b)}Promise.resolve(y).then(h).catch(b=>{var C;if(r)return;const x=e.retry??(Ug?0:3),w=e.retryDelay??$rt,k=typeof w=="function"?w(n,b):w,S=x===!0||typeof x=="number"&&n<x||typeof x=="function"&&x(n,b);if(t||!S){p(b);return}n++,(C=e.onFail)==null||C.call(e,n,b),Srt(k).then(()=>f()?void 0:g()).then(()=>{t?p(b):m()})})};return{promise:a,cancel:l,continue:()=>(i==null||i(),a),cancelRetry:u,continueRetry:c,canStart:d,start:()=>(d()?m():g().then(m),a)}}function Art(){let e=[],t=0,n=d=>{d()},r=d=>{d()},i=d=>setTimeout(d,0);const o=d=>{i=d},s=d=>{let h;t++;try{h=d()}finally{t--,t||u()}return h},a=d=>{t?e.push(d):i(()=>{n(d)})},l=d=>(...h)=>{a(()=>{d(...h)})},u=()=>{const d=e;e=[],d.length&&i(()=>{r(()=>{d.forEach(h=>{n(h)})})})};return{batch:s,batchCalls:l,schedule:a,setNotifyFunction:d=>{n=d},setBatchNotifyFunction:d=>{r=d},setScheduler:o}}var Xn=Art(),Rf,tH,Rue=(tH=class{constructor(){Fe(this,Rf)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),$M(this.gcTime)&&pe(this,Rf,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Ug?1/0:5*60*1e3))}clearGcTimeout(){j(this,Rf)&&(clearTimeout(j(this,Rf)),pe(this,Rf,void 0))}},Rf=new WeakMap,tH),Mp,Fp,ho,pr,V1,Df,Zo,Xa,nH,Trt=(nH=class extends Rue{constructor(t){super();Fe(this,Zo);Fe(this,Mp);Fe(this,Fp);Fe(this,ho);Fe(this,pr);Fe(this,V1);Fe(this,Df);pe(this,Df,!1),pe(this,V1,t.defaultOptions),this.setOptions(t.options),this.observers=[],pe(this,ho,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,pe(this,Mp,Mrt(this.options)),this.state=t.state??j(this,Mp),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=j(this,pr))==null?void 0:t.promise}setOptions(t){this.options={...j(this,V1),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&j(this,ho).remove(this)}setData(t,n){const r=MM(this.state.data,t,this.options);return Ue(this,Zo,Xa).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){Ue(this,Zo,Xa).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,i;const n=(r=j(this,pr))==null?void 0:r.promise;return(i=j(this,pr))==null||i.cancel(t),n?n.then(mo).catch(mo):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(j(this,Mp))}isActive(){return this.observers.some(t=>os(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!Eue(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=j(this,pr))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=j(this,pr))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),j(this,ho).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(j(this,pr)&&(j(this,Df)?j(this,pr).cancel({revert:!0}):j(this,pr).cancelRetry()),this.scheduleGc()),j(this,ho).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ue(this,Zo,Xa).call(this,{type:"invalidate"})}fetch(t,n){var l,u,c;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(j(this,pr))return j(this,pr).continueRetry(),j(this,pr).promise}if(t&&this.setOptions(t),!this.options.queryFn){const f=this.observers.find(d=>d.options.queryFn);f&&this.setOptions(f.options)}const r=new AbortController,i=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(pe(this,Df,!0),r.signal)})},o=()=>{const f=Tue(this.options,n),d={queryKey:this.queryKey,meta:this.meta};return i(d),pe(this,Df,!1),this.options.persister?this.options.persister(f,d,this):f(d)},s={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};i(s),(l=this.options.behavior)==null||l.onFetch(s,this),pe(this,Fp,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=s.fetchOptions)==null?void 0:u.meta))&&Ue(this,Zo,Xa).call(this,{type:"fetch",meta:(c=s.fetchOptions)==null?void 0:c.meta});const a=f=>{var d,h,p,g;$5(f)&&f.silent||Ue(this,Zo,Xa).call(this,{type:"error",error:f}),$5(f)||((h=(d=j(this,ho).config).onError)==null||h.call(d,f,this),(g=(p=j(this,ho).config).onSettled)==null||g.call(p,this.state.data,f,this)),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return pe(this,pr,Pue({initialPromise:n==null?void 0:n.initialPromise,fn:s.fetchFn,abort:r.abort.bind(r),onSuccess:f=>{var d,h,p,g;if(f===void 0){a(new Error(`${this.queryHash} data is undefined`));return}this.setData(f),(h=(d=j(this,ho).config).onSuccess)==null||h.call(d,f,this),(g=(p=j(this,ho).config).onSettled)==null||g.call(p,f,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:a,onFail:(f,d)=>{Ue(this,Zo,Xa).call(this,{type:"failed",failureCount:f,error:d})},onPause:()=>{Ue(this,Zo,Xa).call(this,{type:"pause"})},onContinue:()=>{Ue(this,Zo,Xa).call(this,{type:"continue"})},retry:s.options.retry,retryDelay:s.options.retryDelay,networkMode:s.options.networkMode,canRun:()=>!0})),j(this,pr).start()}},Mp=new WeakMap,Fp=new WeakMap,ho=new WeakMap,pr=new WeakMap,V1=new WeakMap,Df=new WeakMap,Zo=new WeakSet,Xa=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...Due(r.data,this.options),fetchMeta:t.meta??null};case"success":return{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=t.error;return $5(i)&&i.revert&&j(this,Fp)?{...j(this,Fp),fetchStatus:"idle"}:{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),Xn.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),j(this,ho).notify({query:this,type:"updated",action:t})})},nH);function Due(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Mue(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Mrt(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Xs,rH,Frt=(rH=class extends sb{constructor(t={}){super();Fe(this,Xs);this.config=t,pe(this,Xs,new Map)}build(t,n,r){const i=n.queryKey,o=n.queryHash??k9(i,n);let s=this.get(o);return s||(s=new Trt({cache:this,queryKey:i,queryHash:o,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(i)}),this.add(s)),s}add(t){j(this,Xs).has(t.queryHash)||(j(this,Xs).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=j(this,Xs).get(t.queryHash);n&&(t.destroy(),n===t&&j(this,Xs).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Xn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return j(this,Xs).get(t)}getAll(){return[...j(this,Xs).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>_W(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>_W(t,r)):n}notify(t){Xn.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){Xn.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Xn.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Xs=new WeakMap,rH),Ks,Pr,Of,Qs,lu,iH,Prt=(iH=class extends Rue{constructor(t){super();Fe(this,Qs);Fe(this,Ks);Fe(this,Pr);Fe(this,Of);this.mutationId=t.mutationId,pe(this,Pr,t.mutationCache),pe(this,Ks,[]),this.state=t.state||Rrt(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){j(this,Ks).includes(t)||(j(this,Ks).push(t),this.clearGcTimeout(),j(this,Pr).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){pe(this,Ks,j(this,Ks).filter(n=>n!==t)),this.scheduleGc(),j(this,Pr).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){j(this,Ks).length||(this.state.status==="pending"?this.scheduleGc():j(this,Pr).remove(this))}continue(){var t;return((t=j(this,Of))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var i,o,s,a,l,u,c,f,d,h,p,g,m,y,v,b,x,w,k,S;pe(this,Of,Pue({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(C,_)=>{Ue(this,Qs,lu).call(this,{type:"failed",failureCount:C,error:_})},onPause:()=>{Ue(this,Qs,lu).call(this,{type:"pause"})},onContinue:()=>{Ue(this,Qs,lu).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>j(this,Pr).canRun(this)}));const n=this.state.status==="pending",r=!j(this,Of).canStart();try{if(!n){Ue(this,Qs,lu).call(this,{type:"pending",variables:t,isPaused:r}),await((o=(i=j(this,Pr).config).onMutate)==null?void 0:o.call(i,t,this));const _=await((a=(s=this.options).onMutate)==null?void 0:a.call(s,t));_!==this.state.context&&Ue(this,Qs,lu).call(this,{type:"pending",context:_,variables:t,isPaused:r})}const C=await j(this,Of).start();return await((u=(l=j(this,Pr).config).onSuccess)==null?void 0:u.call(l,C,t,this.state.context,this)),await((f=(c=this.options).onSuccess)==null?void 0:f.call(c,C,t,this.state.context)),await((h=(d=j(this,Pr).config).onSettled)==null?void 0:h.call(d,C,null,this.state.variables,this.state.context,this)),await((g=(p=this.options).onSettled)==null?void 0:g.call(p,C,null,t,this.state.context)),Ue(this,Qs,lu).call(this,{type:"success",data:C}),C}catch(C){try{throw await((y=(m=j(this,Pr).config).onError)==null?void 0:y.call(m,C,t,this.state.context,this)),await((b=(v=this.options).onError)==null?void 0:b.call(v,C,t,this.state.context)),await((w=(x=j(this,Pr).config).onSettled)==null?void 0:w.call(x,void 0,C,this.state.variables,this.state.context,this)),await((S=(k=this.options).onSettled)==null?void 0:S.call(k,void 0,C,t,this.state.context)),C}finally{Ue(this,Qs,lu).call(this,{type:"error",error:C})}}finally{j(this,Pr).runNext(this)}}},Ks=new WeakMap,Pr=new WeakMap,Of=new WeakMap,Qs=new WeakSet,lu=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Xn.batch(()=>{j(this,Ks).forEach(r=>{r.onMutationUpdate(t)}),j(this,Pr).notify({mutation:this,type:"updated",action:t})})},iH);function Rrt(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Mi,W1,oH,Drt=(oH=class extends sb{constructor(t={}){super();Fe(this,Mi);Fe(this,W1);this.config=t,pe(this,Mi,new Map),pe(this,W1,Date.now())}build(t,n,r){const i=new Prt({mutationCache:this,mutationId:++gb(this,W1)._,options:t.defaultMutationOptions(n),state:r});return this.add(i),i}add(t){const n=Lx(t),r=j(this,Mi).get(n)??[];r.push(t),j(this,Mi).set(n,r),this.notify({type:"added",mutation:t})}remove(t){var r;const n=Lx(t);if(j(this,Mi).has(n)){const i=(r=j(this,Mi).get(n))==null?void 0:r.filter(o=>o!==t);i&&(i.length===0?j(this,Mi).delete(n):j(this,Mi).set(n,i))}this.notify({type:"removed",mutation:t})}canRun(t){var r;const n=(r=j(this,Mi).get(Lx(t)))==null?void 0:r.find(i=>i.state.status==="pending");return!n||n===t}runNext(t){var r;const n=(r=j(this,Mi).get(Lx(t)))==null?void 0:r.find(i=>i!==t&&i.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){Xn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...j(this,Mi).values()].flat()}find(t){const n={exact:!0,...t};return this.getAll().find(r=>EW(n,r))}findAll(t={}){return this.getAll().filter(n=>EW(t,n))}notify(t){Xn.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return Xn.batch(()=>Promise.all(t.map(n=>n.continue().catch(mo))))}},Mi=new WeakMap,W1=new WeakMap,oH);function Lx(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function Ort(e){return{onFetch:(t,n)=>{const r=async()=>{var p,g,m,y,v;const i=t.options,o=(m=(g=(p=t.fetchOptions)==null?void 0:p.meta)==null?void 0:g.fetchMore)==null?void 0:m.direction,s=((y=t.state.data)==null?void 0:y.pages)||[],a=((v=t.state.data)==null?void 0:v.pageParams)||[],l={pages:[],pageParams:[]};let u=!1;const c=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(t.signal.aborted?u=!0:t.signal.addEventListener("abort",()=>{u=!0}),t.signal)})},f=Tue(t.options,t.fetchOptions),d=async(b,x,w)=>{if(u)return Promise.reject();if(x==null&&b.pages.length)return Promise.resolve(b);const k={queryKey:t.queryKey,pageParam:x,direction:w?"backward":"forward",meta:t.options.meta};c(k);const S=await f(k),{maxPages:C}=t.options,_=w?Crt:krt;return{pages:_(b.pages,S,C),pageParams:_(b.pageParams,x,C)}};let h;if(o&&s.length){const b=o==="backward",x=b?Nrt:TW,w={pages:s,pageParams:a},k=x(i,w);h=await d(w,k,b)}else{h=await d(l,a[0]??i.initialPageParam);const b=e??s.length;for(let x=1;x<b;x++){const w=TW(i,h);if(w==null)break;h=await d(h,w)}}return h};t.options.persister?t.fetchFn=()=>{var i,o;return(o=(i=t.options).persister)==null?void 0:o.call(i,r,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=r}}}function TW(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function Nrt(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var Xt,Cu,_u,Pp,Rp,Eu,Dp,Op,sH,Irt=(sH=class{constructor(e={}){Fe(this,Xt);Fe(this,Cu);Fe(this,_u);Fe(this,Pp);Fe(this,Rp);Fe(this,Eu);Fe(this,Dp);Fe(this,Op);pe(this,Xt,e.queryCache||new Frt),pe(this,Cu,e.mutationCache||new Drt),pe(this,_u,e.defaultOptions||{}),pe(this,Pp,new Map),pe(this,Rp,new Map),pe(this,Eu,0)}mount(){gb(this,Eu)._++,j(this,Eu)===1&&(pe(this,Dp,C9.subscribe(async e=>{e&&(await this.resumePausedMutations(),j(this,Xt).onFocus())})),pe(this,Op,wk.subscribe(async e=>{e&&(await this.resumePausedMutations(),j(this,Xt).onOnline())})))}unmount(){var e,t;gb(this,Eu)._--,j(this,Eu)===0&&((e=j(this,Dp))==null||e.call(this),pe(this,Dp,void 0),(t=j(this,Op))==null||t.call(this),pe(this,Op,void 0))}isFetching(e){return j(this,Xt).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return j(this,Cu).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=j(this,Xt).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const n=this.defaultQueryOptions(e),r=j(this,Xt).build(this,n);return e.revalidateIfStale&&r.isStaleByTime(Ep(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(t)}}getQueriesData(e){return j(this,Xt).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),i=j(this,Xt).get(r.queryHash),o=i==null?void 0:i.state.data,s=wrt(t,o);if(s!==void 0)return j(this,Xt).build(this,r).setData(s,{...n,manual:!0})}setQueriesData(e,t,n){return Xn.batch(()=>j(this,Xt).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=j(this,Xt).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=j(this,Xt);Xn.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=j(this,Xt),r={type:"active",...e};return Xn.batch(()=>(n.findAll(e).forEach(i=>{i.reset()}),this.refetchQueries(r,t)))}cancelQueries(e={},t={}){const n={revert:!0,...t},r=Xn.batch(()=>j(this,Xt).findAll(e).map(i=>i.cancel(n)));return Promise.all(r).then(mo).catch(mo)}invalidateQueries(e={},t={}){return Xn.batch(()=>{if(j(this,Xt).findAll(e).forEach(r=>{r.invalidate()}),e.refetchType==="none")return Promise.resolve();const n={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(n,t)})}refetchQueries(e={},t){const n={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},r=Xn.batch(()=>j(this,Xt).findAll(e).filter(i=>!i.isDisabled()).map(i=>{let o=i.fetch(void 0,n);return n.throwOnError||(o=o.catch(mo)),i.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(r).then(mo)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=j(this,Xt).build(this,t);return n.isStaleByTime(Ep(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(mo).catch(mo)}fetchInfiniteQuery(e){return e.behavior=Ort(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(mo).catch(mo)}resumePausedMutations(){return wk.isOnline()?j(this,Cu).resumePausedMutations():Promise.resolve()}getQueryCache(){return j(this,Xt)}getMutationCache(){return j(this,Cu)}getDefaultOptions(){return j(this,_u)}setDefaultOptions(e){pe(this,_u,e)}setQueryDefaults(e,t){j(this,Pp).set(B1(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...j(this,Pp).values()];let n={};return t.forEach(r=>{U1(e,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(e,t){j(this,Rp).set(B1(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...j(this,Rp).values()];let n={};return t.forEach(r=>{U1(e,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...j(this,_u).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=k9(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===Aue&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...j(this,_u).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){j(this,Xt).clear(),j(this,Cu).clear()}},Xt=new WeakMap,Cu=new WeakMap,_u=new WeakMap,Pp=new WeakMap,Rp=new WeakMap,Eu=new WeakMap,Dp=new WeakMap,Op=new WeakMap,sH),ii,Ve,H1,Rr,Nf,Np,Zs,q1,Ip,Lp,If,Lf,$u,zp,ft,X0,FM,PM,RM,DM,OM,NM,IM,Oue,aH,Lrt=(aH=class extends sb{constructor(t,n){super();Fe(this,ft);Fe(this,ii);Fe(this,Ve);Fe(this,H1);Fe(this,Rr);Fe(this,Nf);Fe(this,Np);Fe(this,Zs);Fe(this,q1);Fe(this,Ip);Fe(this,Lp);Fe(this,If);Fe(this,Lf);Fe(this,$u);Fe(this,zp,new Set);this.options=n,pe(this,ii,t),pe(this,Zs,null),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(j(this,Ve).addObserver(this),MW(j(this,Ve),this.options)?Ue(this,ft,X0).call(this):this.updateResult(),Ue(this,ft,DM).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return LM(j(this,Ve),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return LM(j(this,Ve),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Ue(this,ft,OM).call(this),Ue(this,ft,NM).call(this),j(this,Ve).removeObserver(this)}setOptions(t,n){const r=this.options,i=j(this,Ve);if(this.options=j(this,ii).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof os(this.options.enabled,j(this,Ve))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Ue(this,ft,IM).call(this),j(this,Ve).setOptions(this.options),r._defaulted&&!AM(this.options,r)&&j(this,ii).getQueryCache().notify({type:"observerOptionsUpdated",query:j(this,Ve),observer:this});const o=this.hasListeners();o&&FW(j(this,Ve),i,this.options,r)&&Ue(this,ft,X0).call(this),this.updateResult(n),o&&(j(this,Ve)!==i||os(this.options.enabled,j(this,Ve))!==os(r.enabled,j(this,Ve))||Ep(this.options.staleTime,j(this,Ve))!==Ep(r.staleTime,j(this,Ve)))&&Ue(this,ft,FM).call(this);const s=Ue(this,ft,PM).call(this);o&&(j(this,Ve)!==i||os(this.options.enabled,j(this,Ve))!==os(r.enabled,j(this,Ve))||s!==j(this,$u))&&Ue(this,ft,RM).call(this,s)}getOptimisticResult(t){const n=j(this,ii).getQueryCache().build(j(this,ii),t),r=this.createResult(n,t);return jrt(this,r)&&(pe(this,Rr,r),pe(this,Np,this.options),pe(this,Nf,j(this,Ve).state)),r}getCurrentResult(){return j(this,Rr)}trackResult(t,n){const r={};return Object.keys(t).forEach(i=>{Object.defineProperty(r,i,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(i),n==null||n(i),t[i])})}),r}trackProp(t){j(this,zp).add(t)}getCurrentQuery(){return j(this,Ve)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=j(this,ii).defaultQueryOptions(t),r=j(this,ii).getQueryCache().build(j(this,ii),n);return r.isFetchingOptimistic=!0,r.fetch().then(()=>this.createResult(r,n))}fetch(t){return Ue(this,ft,X0).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),j(this,Rr)))}createResult(t,n){var S;const r=j(this,Ve),i=this.options,o=j(this,Rr),s=j(this,Nf),a=j(this,Np),u=t!==r?t.state:j(this,H1),{state:c}=t;let f={...c},d=!1,h;if(n._optimisticResults){const C=this.hasListeners(),_=!C&&MW(t,n),$=C&&FW(t,r,n,i);(_||$)&&(f={...f,...Due(c.data,t.options)}),n._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:p,errorUpdatedAt:g,status:m}=f;if(n.select&&f.data!==void 0)if(o&&f.data===(s==null?void 0:s.data)&&n.select===j(this,q1))h=j(this,Ip);else try{pe(this,q1,n.select),h=n.select(f.data),h=MM(o==null?void 0:o.data,h,n),pe(this,Ip,h),pe(this,Zs,null)}catch(C){pe(this,Zs,C)}else h=f.data;if(n.placeholderData!==void 0&&h===void 0&&m==="pending"){let C;if(o!=null&&o.isPlaceholderData&&n.placeholderData===(a==null?void 0:a.placeholderData))C=o.data;else if(C=typeof n.placeholderData=="function"?n.placeholderData((S=j(this,Lp))==null?void 0:S.state.data,j(this,Lp)):n.placeholderData,n.select&&C!==void 0)try{C=n.select(C),pe(this,Zs,null)}catch(_){pe(this,Zs,_)}C!==void 0&&(m="success",h=MM(o==null?void 0:o.data,C,n),d=!0)}j(this,Zs)&&(p=j(this,Zs),h=j(this,Ip),g=Date.now(),m="error");const y=f.fetchStatus==="fetching",v=m==="pending",b=m==="error",x=v&&y,w=h!==void 0;return{status:m,fetchStatus:f.fetchStatus,isPending:v,isSuccess:m==="success",isError:b,isInitialLoading:x,isLoading:x,data:h,dataUpdatedAt:f.dataUpdatedAt,error:p,errorUpdatedAt:g,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:y,isRefetching:y&&!v,isLoadingError:b&&!w,isPaused:f.fetchStatus==="paused",isPlaceholderData:d,isRefetchError:b&&w,isStale:_9(t,n),refetch:this.refetch}}updateResult(t){const n=j(this,Rr),r=this.createResult(j(this,Ve),this.options);if(pe(this,Nf,j(this,Ve).state),pe(this,Np,this.options),j(this,Nf).data!==void 0&&pe(this,Lp,j(this,Ve)),AM(r,n))return;pe(this,Rr,r);const i={},o=()=>{if(!n)return!0;const{notifyOnChangeProps:s}=this.options,a=typeof s=="function"?s():s;if(a==="all"||!a&&!j(this,zp).size)return!0;const l=new Set(a??j(this,zp));return this.options.throwOnError&&l.add("error"),Object.keys(j(this,Rr)).some(u=>{const c=u;return j(this,Rr)[c]!==n[c]&&l.has(c)})};(t==null?void 0:t.listeners)!==!1&&o()&&(i.listeners=!0),Ue(this,ft,Oue).call(this,{...i,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Ue(this,ft,DM).call(this)}},ii=new WeakMap,Ve=new WeakMap,H1=new WeakMap,Rr=new WeakMap,Nf=new WeakMap,Np=new WeakMap,Zs=new WeakMap,q1=new WeakMap,Ip=new WeakMap,Lp=new WeakMap,If=new WeakMap,Lf=new WeakMap,$u=new WeakMap,zp=new WeakMap,ft=new WeakSet,X0=function(t){Ue(this,ft,IM).call(this);let n=j(this,Ve).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(mo)),n},FM=function(){Ue(this,ft,OM).call(this);const t=Ep(this.options.staleTime,j(this,Ve));if(Ug||j(this,Rr).isStale||!$M(t))return;const r=Eue(j(this,Rr).dataUpdatedAt,t)+1;pe(this,If,setTimeout(()=>{j(this,Rr).isStale||this.updateResult()},r))},PM=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(j(this,Ve)):this.options.refetchInterval)??!1},RM=function(t){Ue(this,ft,NM).call(this),pe(this,$u,t),!(Ug||os(this.options.enabled,j(this,Ve))===!1||!$M(j(this,$u))||j(this,$u)===0)&&pe(this,Lf,setInterval(()=>{(this.options.refetchIntervalInBackground||C9.isFocused())&&Ue(this,ft,X0).call(this)},j(this,$u)))},DM=function(){Ue(this,ft,FM).call(this),Ue(this,ft,RM).call(this,Ue(this,ft,PM).call(this))},OM=function(){j(this,If)&&(clearTimeout(j(this,If)),pe(this,If,void 0))},NM=function(){j(this,Lf)&&(clearInterval(j(this,Lf)),pe(this,Lf,void 0))},IM=function(){const t=j(this,ii).getQueryCache().build(j(this,ii),this.options);if(t===j(this,Ve))return;const n=j(this,Ve);pe(this,Ve,t),pe(this,H1,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},Oue=function(t){Xn.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(j(this,Rr))}),j(this,ii).getQueryCache().notify({query:j(this,Ve),type:"observerResultsUpdated"})})},aH);function zrt(e,t){return os(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function MW(e,t){return zrt(e,t)||e.state.data!==void 0&&LM(e,t,t.refetchOnMount)}function LM(e,t,n){if(os(t.enabled,e)!==!1){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&_9(e,t)}return!1}function FW(e,t,n,r){return(e!==t||os(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&_9(e,n)}function _9(e,t){return os(t.enabled,e)!==!1&&e.isStaleByTime(Ep(t.staleTime,e))}function jrt(e,t){return!AM(e.getCurrentResult(),t)}var Nue=T.createContext(void 0),Brt=e=>{const t=T.useContext(Nue);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},Urt=({client:e,children:t})=>(T.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),E.jsx(Nue.Provider,{value:e,children:t})),Iue=T.createContext(!1),Vrt=()=>T.useContext(Iue);Iue.Provider;function Wrt(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var Hrt=T.createContext(Wrt()),qrt=()=>T.useContext(Hrt);function Grt(e,t){return typeof e=="function"?e(...t):!!e}var Yrt=(e,t)=>{(e.suspense||e.throwOnError)&&(t.isReset()||(e.retryOnMount=!1))},Xrt=e=>{T.useEffect(()=>{e.clearReset()},[e])},Krt=({result:e,errorResetBoundary:t,throwOnError:n,query:r})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&Grt(n,[e.error,r]),Qrt=e=>{e.suspense&&(typeof e.staleTime!="number"&&(e.staleTime=1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},Zrt=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,Jrt=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function eit(e,t,n){var u,c,f,d;const r=Brt(),i=Vrt(),o=qrt(),s=r.defaultQueryOptions(e);(c=(u=r.getDefaultOptions().queries)==null?void 0:u._experimental_beforeQuery)==null||c.call(u,s),s._optimisticResults=i?"isRestoring":"optimistic",Qrt(s),Yrt(s,o),Xrt(o);const[a]=T.useState(()=>new t(r,s)),l=a.getOptimisticResult(s);if(T.useSyncExternalStore(T.useCallback(h=>{const p=i?()=>{}:a.subscribe(Xn.batchCalls(h));return a.updateResult(),p},[a,i]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),T.useEffect(()=>{a.setOptions(s,{listeners:!1})},[s,a]),Zrt(s,l))throw Jrt(s,a,o);if(Krt({result:l,errorResetBoundary:o,throwOnError:s.throwOnError,query:r.getQueryCache().get(s.queryHash)}))throw l.error;return(d=(f=r.getDefaultOptions().queries)==null?void 0:f._experimental_afterQuery)==null||d.call(f,s,l),s.notifyOnChangeProps?l:a.trackResult(l)}function Lue(e,t){return eit(e,Lrt)}function tit(){const[e,t]=T.useState([]),[n,r]=T.useState(""),[i,o]=T.useState(0),s=El(g=>g.filename),a=El(g=>g.data);T.useEffect(()=>{o(0)},[n]);const{data:l=[],isLoading:u}=Lue({queryKey:["browseCharts",s,...e.sort().join("&")],queryFn:async()=>{if(e.length===0)return[];const g=await vrt(e);return g}}),c=tot(n),{appendChart:f}=brt();T.useEffect(()=>{e.length>=k5&&r("")},[e]);const d=e.length>=k5,h=g=>{t(m=>m.includes(g)?m.filter(y=>y!==g):[...m,g]),r("")};return{browsedCharts:l,inputDisabled:d,loading:u,fieldNameMatches:c,inputValue:n,setInputValue:r,selectedFields:e,handleFieldSelection:h,appendChart:f,suggestionCursorIndex:i,handleKeydown:g=>{["ArrowDown","ArrowUp","ArrowLeft","ArrowRight"].includes(g.key)&&g.stopPropagation(),["ArrowDown","ArrowUp"].includes(g.key)?(g.preventDefault(),c.length>0&&o(m=>g.key==="ArrowDown"?Math.min(m+1,c.length-1):Math.max(m-1,0))):g.key==="Enter"&&e.length<=k5&&c.length>i&&h(c[i].item)}}}function nit(e){const{colorMode:t}=Gg(),n=El(u=>u.data),r=e.specs[e.specIndex],i=t==="dark"?"dark":void 0,[o,s]=Eh({base:[300,300],lg:[600,600]})??[300,300],a={...r,width:o,height:s,background:"transparent",data:{name:vW},config:{..."config"in r?r.config:{},axis:{labelFontSize:14,titleFontSize:16,titlePadding:16},autosize:{type:"fit"}}};return{data:{[vW]:n},chartTheme:i,spec:a}}function rit(e,t,{signal:n}={}){let r=null;const i=function(...s){r!==null&&clearTimeout(r),!(n!=null&&n.aborted)&&(r=setTimeout(()=>{e(...s),r=null},t))},o=function(){i.cancel()};return i.cancel=function(){r!==null&&(clearTimeout(r),r=null)},n==null||n.addEventListener("abort",o,{once:!0}),i}function PW(e){if(!e)return 0;const t=window.getComputedStyle(e),n=parseFloat(t.gap);return e.clientWidth+n}function iit(){const e=Jt(s=>s.charts),t=Jt(s=>s.currentChartIndex),n=Jt(s=>s.setCurrentChartIndex),r=Jt(s=>s.increaseCurrentChartIndex),i=Jt(s=>s.decreaseCurrentChartIndex),o=T.useRef(null);return T.useEffect(()=>{const s=o.current;if(!s)return;const a=rit(()=>{const l=s.scrollLeft,u=PW(s),c=Math.round(l/u);n(c-1)},Mnt);return s.addEventListener("scroll",a),()=>s.removeEventListener("scroll",a)},[n]),T.useEffect(()=>{const s=o.current;if(!s)return;const a=PW(s);s.scrollTo({left:(t+1)*a,behavior:"smooth"})},[t]),T.useEffect(()=>{const s=a=>{a.key==="ArrowLeft"&&(a.preventDefault(),i()),a.key==="ArrowRight"&&(a.preventDefault(),r())};return window.addEventListener("keydown",s),()=>window.removeEventListener("keydown",s)},[r,i]),{charts:e,currentChartIndex:t,ref:o}}function oit(){const e=Jt(p=>p.charts),t=Jt(p=>p.fields),n=Jt(p=>p.increaseCurrentChartIndex),r=Jt(p=>p.decreaseCurrentChartIndex),i=Jt(p=>p.renewCurrentChart),o=Jt(p=>p.currentChartIndex),s=o!==-1,a=o!==-1&&e[o].preferred,l=Jt(p=>p.setCurrentChartPreferred),u=i,c=n,f=r,d=()=>{l(!a)};return{sessionInitialized:t.length>0,chartDisplaying:s,currentChartPreferred:a,handleRenewChart:u,handleNextChart:c,handlePrevChart:f,handlePreferChart:d}}function zM(e,t,n){var r,i,o,s,a;t==null&&(t=100);function l(){var c=Date.now()-s;c<t&&c>=0?r=setTimeout(l,t-c):(r=null,n||(a=e.apply(o,i),o=i=null))}var u=function(){o=this,i=arguments,s=Date.now();var c=n&&!r;return r||(r=setTimeout(l,t)),c&&(a=e.apply(o,i),o=i=null),a};return u.clear=function(){r&&(clearTimeout(r),r=null)},u.flush=function(){r&&(a=e.apply(o,i),o=i=null,clearTimeout(r),r=null)},u}zM.debounce=zM;var sit=zM;const RW=zl(sit);function A5(e){let{debounce:t,scroll:n,polyfill:r,offsetSize:i}={debounce:0,scroll:!1,offsetSize:!1};const o=r||(typeof window>"u"?class{}:window.ResizeObserver);if(!o)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[s,a]=T.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),l=T.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:s}),u=t?typeof t=="number"?t:t.scroll:null,c=t?typeof t=="number"?t:t.resize:null,f=T.useRef(!1);T.useEffect(()=>(f.current=!0,()=>void(f.current=!1)));const[d,h,p]=T.useMemo(()=>{const v=()=>{if(!l.current.element)return;const{left:b,top:x,width:w,height:k,bottom:S,right:C,x:_,y:$}=l.current.element.getBoundingClientRect(),A={left:b,top:x,width:w,height:k,bottom:S,right:C,x:_,y:$};l.current.element instanceof HTMLElement&&i&&(A.height=l.current.element.offsetHeight,A.width=l.current.element.offsetWidth),Object.freeze(A),f.current&&!cit(l.current.lastBounds,A)&&a(l.current.lastBounds=A)};return[v,c?RW(v,c):v,u?RW(v,u):v]},[a,i,u,c]);function g(){l.current.scrollContainers&&(l.current.scrollContainers.forEach(v=>v.removeEventListener("scroll",p,!0)),l.current.scrollContainers=null),l.current.resizeObserver&&(l.current.resizeObserver.disconnect(),l.current.resizeObserver=null)}function m(){l.current.element&&(l.current.resizeObserver=new o(p),l.current.resizeObserver.observe(l.current.element),n&&l.current.scrollContainers&&l.current.scrollContainers.forEach(v=>v.addEventListener("scroll",p,{capture:!0,passive:!0})))}const y=v=>{!v||v===l.current.element||(g(),l.current.element=v,l.current.scrollContainers=zue(v),m())};return lit(p,!!n),ait(h),T.useEffect(()=>{g(),m()},[n,p,h]),T.useEffect(()=>g,[]),[y,s,d]}function ait(e){T.useEffect(()=>{const t=e;return window.addEventListener("resize",t),()=>void window.removeEventListener("resize",t)},[e])}function lit(e,t){T.useEffect(()=>{if(t){const n=e;return window.addEventListener("scroll",n,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",n,!0)}},[e,t])}function zue(e){const t=[];if(!e||e===document.body)return t;const{overflow:n,overflowX:r,overflowY:i}=window.getComputedStyle(e);return[n,r,i].some(o=>o==="auto"||o==="scroll")&&t.push(e),[...t,...zue(e.parentElement)]}const uit=["x","y","top","bottom","left","right","width","height"],cit=(e,t)=>uit.every(n=>e[n]===t[n]);function fit(){const e=bM(p=>p.drawerExpanded),t=bM(p=>p.setDrawerExpanded),n=XCe(),[r,i]=A5(),[o,s]=A5(),[a,l]=A5(),[u,c]=T.useState(!1),f=T.useMemo(()=>({expanded:{top:`calc(100dvh - ${l.height+s.height+i.height}px)`},collapsed:{top:`calc(100dvh - ${l.height+s.height+16}px)`},loadExpanded:{top:`calc(100dvh - ${l.height+s.height+i.height-200}px)`}}),[l,i,s]);return{animate:u?e?"expanded":"collapsed":"loadExpanded",dragControls:n,handleDragEnd:(p,g)=>{u||c(!0),t(g.offset.y>yW?!1:g.offset.y<-yW?!0:e)},bodyRef:r,handleRef:o,navigatorRef:a,navigatorBounds:l,variants:f}}function jue(){const e=El(s=>s.loading),t=El(s=>s.loadData),n=Jt(s=>s.loadingSession),r=Jt(s=>s.loadSession),i=bM(s=>s.setDrawerExpanded);return{loading:e||n,initializeSession:async s=>{await t(s),await r(),i(!1)}}}function dit(){const{loading:e,initializeSession:t}=jue(),[n,r]=T.useState(null);return{loading:e,selectedDemo:n,handleSubmit:()=>{n!=null&&n.href&&t(n.href)},handleDemoSelect:s=>{r(s)}}}function Ll(e){return Array.isArray?Array.isArray(e):Vue(e)==="[object Array]"}const hit=1/0;function pit(e){if(typeof e=="string")return e;let t=e+"";return t=="0"&&1/e==-hit?"-0":t}function git(e){return e==null?"":pit(e)}function ca(e){return typeof e=="string"}function Bue(e){return typeof e=="number"}function mit(e){return e===!0||e===!1||yit(e)&&Vue(e)=="[object Boolean]"}function Uue(e){return typeof e=="object"}function yit(e){return Uue(e)&&e!==null}function Di(e){return e!=null}function T5(e){return!e.trim().length}function Vue(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}const vit="Incorrect 'index' type",bit=e=>`Invalid value for key ${e}`,xit=e=>`Pattern length exceeds max of ${e}.`,wit=e=>`Missing ${e} property in key`,Sit=e=>`Property 'weight' in key '${e}' must be a positive integer`,DW=Object.prototype.hasOwnProperty;class kit{constructor(t){this._keys=[],this._keyMap={};let n=0;t.forEach(r=>{let i=Wue(r);this._keys.push(i),this._keyMap[i.id]=i,n+=i.weight}),this._keys.forEach(r=>{r.weight/=n})}get(t){return this._keyMap[t]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function Wue(e){let t=null,n=null,r=null,i=1,o=null;if(ca(e)||Ll(e))r=e,t=OW(e),n=jM(e);else{if(!DW.call(e,"name"))throw new Error(wit("name"));const s=e.name;if(r=s,DW.call(e,"weight")&&(i=e.weight,i<=0))throw new Error(Sit(s));t=OW(s),n=jM(s),o=e.getFn}return{path:t,id:n,weight:i,src:r,getFn:o}}function OW(e){return Ll(e)?e:e.split(".")}function jM(e){return Ll(e)?e.join("."):e}function Cit(e,t){let n=[],r=!1;const i=(o,s,a)=>{if(Di(o))if(!s[a])n.push(o);else{let l=s[a];const u=o[l];if(!Di(u))return;if(a===s.length-1&&(ca(u)||Bue(u)||mit(u)))n.push(git(u));else if(Ll(u)){r=!0;for(let c=0,f=u.length;c<f;c+=1)i(u[c],s,a+1)}else s.length&&i(u,s,a+1)}};return i(e,ca(t)?t.split("."):t,0),r?n:n[0]}const _it={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},Eit={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(e,t)=>e.score===t.score?e.idx<t.idx?-1:1:e.score<t.score?-1:1},$it={location:0,threshold:.6,distance:100},Ait={useExtendedSearch:!1,getFn:Cit,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var Re={...Eit,..._it,...$it,...Ait};const Tit=/[^ ]+/g;function Mit(e=1,t=3){const n=new Map,r=Math.pow(10,t);return{get(i){const o=i.match(Tit).length;if(n.has(o))return n.get(o);const s=1/Math.pow(o,.5*e),a=parseFloat(Math.round(s*r)/r);return n.set(o,a),a},clear(){n.clear()}}}class E9{constructor({getFn:t=Re.getFn,fieldNormWeight:n=Re.fieldNormWeight}={}){this.norm=Mit(n,3),this.getFn=t,this.isCreated=!1,this.setIndexRecords()}setSources(t=[]){this.docs=t}setIndexRecords(t=[]){this.records=t}setKeys(t=[]){this.keys=t,this._keysMap={},t.forEach((n,r)=>{this._keysMap[n.id]=r})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,ca(this.docs[0])?this.docs.forEach((t,n)=>{this._addString(t,n)}):this.docs.forEach((t,n)=>{this._addObject(t,n)}),this.norm.clear())}add(t){const n=this.size();ca(t)?this._addString(t,n):this._addObject(t,n)}removeAt(t){this.records.splice(t,1);for(let n=t,r=this.size();n<r;n+=1)this.records[n].i-=1}getValueForItemAtKeyId(t,n){return t[this._keysMap[n]]}size(){return this.records.length}_addString(t,n){if(!Di(t)||T5(t))return;let r={v:t,i:n,n:this.norm.get(t)};this.records.push(r)}_addObject(t,n){let r={i:n,$:{}};this.keys.forEach((i,o)=>{let s=i.getFn?i.getFn(t):this.getFn(t,i.path);if(Di(s)){if(Ll(s)){let a=[];const l=[{nestedArrIndex:-1,value:s}];for(;l.length;){const{nestedArrIndex:u,value:c}=l.pop();if(Di(c))if(ca(c)&&!T5(c)){let f={v:c,i:u,n:this.norm.get(c)};a.push(f)}else Ll(c)&&c.forEach((f,d)=>{l.push({nestedArrIndex:d,value:f})})}r.$[o]=a}else if(ca(s)&&!T5(s)){let a={v:s,n:this.norm.get(s)};r.$[o]=a}}}),this.records.push(r)}toJSON(){return{keys:this.keys,records:this.records}}}function Hue(e,t,{getFn:n=Re.getFn,fieldNormWeight:r=Re.fieldNormWeight}={}){const i=new E9({getFn:n,fieldNormWeight:r});return i.setKeys(e.map(Wue)),i.setSources(t),i.create(),i}function Fit(e,{getFn:t=Re.getFn,fieldNormWeight:n=Re.fieldNormWeight}={}){const{keys:r,records:i}=e,o=new E9({getFn:t,fieldNormWeight:n});return o.setKeys(r),o.setIndexRecords(i),o}function zx(e,{errors:t=0,currentLocation:n=0,expectedLocation:r=0,distance:i=Re.distance,ignoreLocation:o=Re.ignoreLocation}={}){const s=t/e.length;if(o)return s;const a=Math.abs(r-n);return i?s+a/i:a?1:s}function Pit(e=[],t=Re.minMatchCharLength){let n=[],r=-1,i=-1,o=0;for(let s=e.length;o<s;o+=1){let a=e[o];a&&r===-1?r=o:!a&&r!==-1&&(i=o-1,i-r+1>=t&&n.push([r,i]),r=-1)}return e[o-1]&&o-r>=t&&n.push([r,o-1]),n}const Sf=32;function Rit(e,t,n,{location:r=Re.location,distance:i=Re.distance,threshold:o=Re.threshold,findAllMatches:s=Re.findAllMatches,minMatchCharLength:a=Re.minMatchCharLength,includeMatches:l=Re.includeMatches,ignoreLocation:u=Re.ignoreLocation}={}){if(t.length>Sf)throw new Error(xit(Sf));const c=t.length,f=e.length,d=Math.max(0,Math.min(r,f));let h=o,p=d;const g=a>1||l,m=g?Array(f):[];let y;for(;(y=e.indexOf(t,p))>-1;){let S=zx(t,{currentLocation:y,expectedLocation:d,distance:i,ignoreLocation:u});if(h=Math.min(S,h),p=y+c,g){let C=0;for(;C<c;)m[y+C]=1,C+=1}}p=-1;let v=[],b=1,x=c+f;const w=1<<c-1;for(let S=0;S<c;S+=1){let C=0,_=x;for(;C<_;)zx(t,{errors:S,currentLocation:d+_,expectedLocation:d,distance:i,ignoreLocation:u})<=h?C=_:x=_,_=Math.floor((x-C)/2+C);x=_;let $=Math.max(1,d-_+1),A=s?f:Math.min(d+_,f)+c,O=Array(A+2);O[A+1]=(1<<S)-1;for(let P=A;P>=$;P-=1){let R=P-1,D=n[e.charAt(R)];if(g&&(m[R]=+!!D),O[P]=(O[P+1]<<1|1)&D,S&&(O[P]|=(v[P+1]|v[P])<<1|1|v[P+1]),O[P]&w&&(b=zx(t,{errors:S,currentLocation:R,expectedLocation:d,distance:i,ignoreLocation:u}),b<=h)){if(h=b,p=R,p<=d)break;$=Math.max(1,2*d-p)}}if(zx(t,{errors:S+1,currentLocation:d,expectedLocation:d,distance:i,ignoreLocation:u})>h)break;v=O}const k={isMatch:p>=0,score:Math.max(.001,b)};if(g){const S=Pit(m,a);S.length?l&&(k.indices=S):k.isMatch=!1}return k}function Dit(e){let t={};for(let n=0,r=e.length;n<r;n+=1){const i=e.charAt(n);t[i]=(t[i]||0)|1<<r-n-1}return t}class que{constructor(t,{location:n=Re.location,threshold:r=Re.threshold,distance:i=Re.distance,includeMatches:o=Re.includeMatches,findAllMatches:s=Re.findAllMatches,minMatchCharLength:a=Re.minMatchCharLength,isCaseSensitive:l=Re.isCaseSensitive,ignoreLocation:u=Re.ignoreLocation}={}){if(this.options={location:n,threshold:r,distance:i,includeMatches:o,findAllMatches:s,minMatchCharLength:a,isCaseSensitive:l,ignoreLocation:u},this.pattern=l?t:t.toLowerCase(),this.chunks=[],!this.pattern.length)return;const c=(d,h)=>{this.chunks.push({pattern:d,alphabet:Dit(d),startIndex:h})},f=this.pattern.length;if(f>Sf){let d=0;const h=f%Sf,p=f-h;for(;d<p;)c(this.pattern.substr(d,Sf),d),d+=Sf;if(h){const g=f-Sf;c(this.pattern.substr(g),g)}}else c(this.pattern,0)}searchIn(t){const{isCaseSensitive:n,includeMatches:r}=this.options;if(n||(t=t.toLowerCase()),this.pattern===t){let p={isMatch:!0,score:0};return r&&(p.indices=[[0,t.length-1]]),p}const{location:i,distance:o,threshold:s,findAllMatches:a,minMatchCharLength:l,ignoreLocation:u}=this.options;let c=[],f=0,d=!1;this.chunks.forEach(({pattern:p,alphabet:g,startIndex:m})=>{const{isMatch:y,score:v,indices:b}=Rit(t,p,g,{location:i+m,distance:o,threshold:s,findAllMatches:a,minMatchCharLength:l,includeMatches:r,ignoreLocation:u});y&&(d=!0),f+=v,y&&b&&(c=[...c,...b])});let h={isMatch:d,score:d?f/this.chunks.length:1};return d&&r&&(h.indices=c),h}}class Bc{constructor(t){this.pattern=t}static isMultiMatch(t){return NW(t,this.multiRegex)}static isSingleMatch(t){return NW(t,this.singleRegex)}search(){}}function NW(e,t){const n=e.match(t);return n?n[1]:null}class Oit extends Bc{constructor(t){super(t)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(t){const n=t===this.pattern;return{isMatch:n,score:n?0:1,indices:[0,this.pattern.length-1]}}}class Nit extends Bc{constructor(t){super(t)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(t){const r=t.indexOf(this.pattern)===-1;return{isMatch:r,score:r?0:1,indices:[0,t.length-1]}}}class Iit extends Bc{constructor(t){super(t)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(t){const n=t.startsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,this.pattern.length-1]}}}class Lit extends Bc{constructor(t){super(t)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(t){const n=!t.startsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,t.length-1]}}}class zit extends Bc{constructor(t){super(t)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(t){const n=t.endsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[t.length-this.pattern.length,t.length-1]}}}class jit extends Bc{constructor(t){super(t)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(t){const n=!t.endsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,t.length-1]}}}class Gue extends Bc{constructor(t,{location:n=Re.location,threshold:r=Re.threshold,distance:i=Re.distance,includeMatches:o=Re.includeMatches,findAllMatches:s=Re.findAllMatches,minMatchCharLength:a=Re.minMatchCharLength,isCaseSensitive:l=Re.isCaseSensitive,ignoreLocation:u=Re.ignoreLocation}={}){super(t),this._bitapSearch=new que(t,{location:n,threshold:r,distance:i,includeMatches:o,findAllMatches:s,minMatchCharLength:a,isCaseSensitive:l,ignoreLocation:u})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(t){return this._bitapSearch.searchIn(t)}}class Yue extends Bc{constructor(t){super(t)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(t){let n=0,r;const i=[],o=this.pattern.length;for(;(r=t.indexOf(this.pattern,n))>-1;)n=r+o,i.push([r,n-1]);const s=!!i.length;return{isMatch:s,score:s?0:1,indices:i}}}const BM=[Oit,Yue,Iit,Lit,jit,zit,Nit,Gue],IW=BM.length,Bit=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,Uit="|";function Vit(e,t={}){return e.split(Uit).map(n=>{let r=n.trim().split(Bit).filter(o=>o&&!!o.trim()),i=[];for(let o=0,s=r.length;o<s;o+=1){const a=r[o];let l=!1,u=-1;for(;!l&&++u<IW;){const c=BM[u];let f=c.isMultiMatch(a);f&&(i.push(new c(f,t)),l=!0)}if(!l)for(u=-1;++u<IW;){const c=BM[u];let f=c.isSingleMatch(a);if(f){i.push(new c(f,t));break}}}return i})}const Wit=new Set([Gue.type,Yue.type]);class Hit{constructor(t,{isCaseSensitive:n=Re.isCaseSensitive,includeMatches:r=Re.includeMatches,minMatchCharLength:i=Re.minMatchCharLength,ignoreLocation:o=Re.ignoreLocation,findAllMatches:s=Re.findAllMatches,location:a=Re.location,threshold:l=Re.threshold,distance:u=Re.distance}={}){this.query=null,this.options={isCaseSensitive:n,includeMatches:r,minMatchCharLength:i,findAllMatches:s,ignoreLocation:o,location:a,threshold:l,distance:u},this.pattern=n?t:t.toLowerCase(),this.query=Vit(this.pattern,this.options)}static condition(t,n){return n.useExtendedSearch}searchIn(t){const n=this.query;if(!n)return{isMatch:!1,score:1};const{includeMatches:r,isCaseSensitive:i}=this.options;t=i?t:t.toLowerCase();let o=0,s=[],a=0;for(let l=0,u=n.length;l<u;l+=1){const c=n[l];s.length=0,o=0;for(let f=0,d=c.length;f<d;f+=1){const h=c[f],{isMatch:p,indices:g,score:m}=h.search(t);if(p){if(o+=1,a+=m,r){const y=h.constructor.type;Wit.has(y)?s=[...s,...g]:s.push(g)}}else{a=0,o=0,s.length=0;break}}if(o){let f={isMatch:!0,score:a/o};return r&&(f.indices=s),f}}return{isMatch:!1,score:1}}}const UM=[];function qit(...e){UM.push(...e)}function VM(e,t){for(let n=0,r=UM.length;n<r;n+=1){let i=UM[n];if(i.condition(e,t))return new i(e,t)}return new que(e,t)}const Sk={AND:"$and",OR:"$or"},WM={PATH:"$path",PATTERN:"$val"},HM=e=>!!(e[Sk.AND]||e[Sk.OR]),Git=e=>!!e[WM.PATH],Yit=e=>!Ll(e)&&Uue(e)&&!HM(e),LW=e=>({[Sk.AND]:Object.keys(e).map(t=>({[t]:e[t]}))});function Xue(e,t,{auto:n=!0}={}){const r=i=>{let o=Object.keys(i);const s=Git(i);if(!s&&o.length>1&&!HM(i))return r(LW(i));if(Yit(i)){const l=s?i[WM.PATH]:o[0],u=s?i[WM.PATTERN]:i[l];if(!ca(u))throw new Error(bit(l));const c={keyId:jM(l),pattern:u};return n&&(c.searcher=VM(u,t)),c}let a={children:[],operator:o[0]};return o.forEach(l=>{const u=i[l];Ll(u)&&u.forEach(c=>{a.children.push(r(c))})}),a};return HM(e)||(e=LW(e)),r(e)}function Xit(e,{ignoreFieldNorm:t=Re.ignoreFieldNorm}){e.forEach(n=>{let r=1;n.matches.forEach(({key:i,norm:o,score:s})=>{const a=i?i.weight:null;r*=Math.pow(s===0&&a?Number.EPSILON:s,(a||1)*(t?1:o))}),n.score=r})}function Kit(e,t){const n=e.matches;t.matches=[],Di(n)&&n.forEach(r=>{if(!Di(r.indices)||!r.indices.length)return;const{indices:i,value:o}=r;let s={indices:i,value:o};r.key&&(s.key=r.key.src),r.idx>-1&&(s.refIndex=r.idx),t.matches.push(s)})}function Qit(e,t){t.score=e.score}function Zit(e,t,{includeMatches:n=Re.includeMatches,includeScore:r=Re.includeScore}={}){const i=[];return n&&i.push(Kit),r&&i.push(Qit),e.map(o=>{const{idx:s}=o,a={item:t[s],refIndex:s};return i.length&&i.forEach(l=>{l(o,a)}),a})}class wm{constructor(t,n={},r){this.options={...Re,...n},this.options.useExtendedSearch,this._keyStore=new kit(this.options.keys),this.setCollection(t,r)}setCollection(t,n){if(this._docs=t,n&&!(n instanceof E9))throw new Error(vit);this._myIndex=n||Hue(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(t){Di(t)&&(this._docs.push(t),this._myIndex.add(t))}remove(t=()=>!1){const n=[];for(let r=0,i=this._docs.length;r<i;r+=1){const o=this._docs[r];t(o,r)&&(this.removeAt(r),r-=1,i-=1,n.push(o))}return n}removeAt(t){this._docs.splice(t,1),this._myIndex.removeAt(t)}getIndex(){return this._myIndex}search(t,{limit:n=-1}={}){const{includeMatches:r,includeScore:i,shouldSort:o,sortFn:s,ignoreFieldNorm:a}=this.options;let l=ca(t)?ca(this._docs[0])?this._searchStringList(t):this._searchObjectList(t):this._searchLogical(t);return Xit(l,{ignoreFieldNorm:a}),o&&l.sort(s),Bue(n)&&n>-1&&(l=l.slice(0,n)),Zit(l,this._docs,{includeMatches:r,includeScore:i})}_searchStringList(t){const n=VM(t,this.options),{records:r}=this._myIndex,i=[];return r.forEach(({v:o,i:s,n:a})=>{if(!Di(o))return;const{isMatch:l,score:u,indices:c}=n.searchIn(o);l&&i.push({item:o,idx:s,matches:[{score:u,value:o,norm:a,indices:c}]})}),i}_searchLogical(t){const n=Xue(t,this.options),r=(a,l,u)=>{if(!a.children){const{keyId:f,searcher:d}=a,h=this._findMatches({key:this._keyStore.get(f),value:this._myIndex.getValueForItemAtKeyId(l,f),searcher:d});return h&&h.length?[{idx:u,item:l,matches:h}]:[]}const c=[];for(let f=0,d=a.children.length;f<d;f+=1){const h=a.children[f],p=r(h,l,u);if(p.length)c.push(...p);else if(a.operator===Sk.AND)return[]}return c},i=this._myIndex.records,o={},s=[];return i.forEach(({$:a,i:l})=>{if(Di(a)){let u=r(n,a,l);u.length&&(o[l]||(o[l]={idx:l,item:a,matches:[]},s.push(o[l])),u.forEach(({matches:c})=>{o[l].matches.push(...c)}))}}),s}_searchObjectList(t){const n=VM(t,this.options),{keys:r,records:i}=this._myIndex,o=[];return i.forEach(({$:s,i:a})=>{if(!Di(s))return;let l=[];r.forEach((u,c)=>{l.push(...this._findMatches({key:u,value:s[c],searcher:n}))}),l.length&&o.push({idx:a,item:s,matches:l})}),o}_findMatches({key:t,value:n,searcher:r}){if(!Di(n))return[];let i=[];if(Ll(n))n.forEach(({v:o,i:s,n:a})=>{if(!Di(o))return;const{isMatch:l,score:u,indices:c}=r.searchIn(o);l&&i.push({score:u,key:t,value:o,idx:s,norm:a,indices:c})});else{const{v:o,n:s}=n,{isMatch:a,score:l,indices:u}=r.searchIn(o);a&&i.push({score:l,key:t,value:o,norm:s,indices:u})}return i}}wm.version="7.0.0";wm.createIndex=Hue;wm.parseIndex=Fit;wm.config=Re;wm.parseQuery=Xue;qit(Hit);const Jit={includeScore:!1,threshold:.3},eot=e=>new wm(e,Jit);function tot(e){const t=Jt(i=>i.fields),n=T.useMemo(()=>t.map(i=>i.name),[t]);return eot(n).search(e)}function not(){var c,f;const{loading:e,initializeSession:t}=jue(),[n,r]=T.useState(""),i=T.useRef(null),o=d=>{var p,g;const h=((g=d.target.files)==null?void 0:g[((p=d.target.files)==null?void 0:p.length)-1].name)??"";r(h)},s=d=>{r(d.target.value),i.current&&(i.current.value="",i.current.files=null)},a=()=>{i.current&&i.current.click()},l=()=>{var d,h;if((h=(d=i.current)==null?void 0:d.files)!=null&&h.length){const p=i.current.files[0];t(p)}else Ytt(n)&&t(n)},u=!n&&!((f=(c=i.current)==null?void 0:c.files)!=null&&f.length);return{fileInputRef:i,inputDisabled:u,loadingData:e,pathInput:n,handleInputChange:s,handleSubmit:l,handleFileChange:o,handleFileButtonClick:a}}function rot(e,t){t.domain&&("nice"in e||"quantiles"in e||"padding"in e,e.domain(t.domain))}function iot(e,t){t.range&&("padding"in e,e.range(t.range))}function oot(e,t){"align"in e&&"align"in t&&typeof t.align<"u"&&e.align(t.align)}function sot(e,t){"base"in e&&"base"in t&&typeof t.base<"u"&&e.base(t.base)}function aot(e,t){"clamp"in e&&"clamp"in t&&typeof t.clamp<"u"&&e.clamp(t.clamp)}function lot(e,t){"constant"in e&&"constant"in t&&typeof t.constant<"u"&&e.constant(t.constant)}function uot(e,t){"exponent"in e&&"exponent"in t&&typeof t.exponent<"u"&&e.exponent(t.exponent)}var zW={lab:_ee,hcl:$ee,"hcl-long":Aee,hsl:kee,"hsl-long":Cee,cubehelix:Mee,"cubehelix-long":Fee,rgb:tS};function cot(e){switch(e){case"lab":case"hcl":case"hcl-long":case"hsl":case"hsl-long":case"cubehelix":case"cubehelix-long":case"rgb":return zW[e]}var t=e.type,n=e.gamma,r=zW[t];return typeof n>"u"?r:r.gamma(n)}function fot(e,t){if("interpolate"in t&&"interpolate"in e&&typeof t.interpolate<"u"){var n=cot(t.interpolate);e.interpolate(n)}}var dot=new Date(Date.UTC(2020,1,2,3,4,5)),hot="%Y-%m-%d %H:%M";function pot(e){var t=e.tickFormat(1,hot)(dot);return t==="2020-02-02 03:04"}var jW={day:ma,hour:pv,minute:dv,month:og,second:fs,week:zd,year:Ss},BW={day:bl,hour:gv,minute:hv,month:sg,second:fs,week:Bd,year:ks};function got(e,t){if("nice"in t&&typeof t.nice<"u"&&"nice"in e){var n=t.nice;if(typeof n=="boolean")n&&e.nice();else if(typeof n=="number")e.nice(n);else{var r=e,i=pot(r);if(typeof n=="string")r.nice(i?BW[n]:jW[n]);else{var o=n.interval,s=n.step,a=(i?BW[o]:jW[o]).every(s);a!=null&&r.nice(a)}}}}function mot(e,t){"padding"in e&&"padding"in t&&typeof t.padding<"u"&&e.padding(t.padding),"paddingInner"in e&&"paddingInner"in t&&typeof t.paddingInner<"u"&&e.paddingInner(t.paddingInner),"paddingOuter"in e&&"paddingOuter"in t&&typeof t.paddingOuter<"u"&&e.paddingOuter(t.paddingOuter)}function yot(e,t){if(t.reverse){var n=e.range().slice().reverse();"padding"in e,e.range(n)}}function vot(e,t){"round"in t&&typeof t.round<"u"&&(t.round&&"interpolate"in t&&typeof t.interpolate<"u"?console.warn("[visx/scale/applyRound] ignoring round: scale config contains round and interpolate. only applying interpolate. config:",t):"round"in e?e.round(t.round):"interpolate"in e&&t.round&&e.interpolate(im))}function bot(e,t){"unknown"in e&&"unknown"in t&&typeof t.unknown<"u"&&e.unknown(t.unknown)}function xot(e,t){if("zero"in t&&t.zero===!0){var n=e.domain(),r=n[0],i=n[1],o=i<r,s=o?[i,r]:[r,i],a=s[0],l=s[1],u=[Math.min(0,a),Math.max(0,l)];e.domain(o?u.reverse():u)}}var wot=["domain","nice","zero","interpolate","round","range","reverse","align","base","clamp","constant","exponent","padding","unknown"],Sot={domain:rot,nice:got,zero:xot,interpolate:fot,round:vot,align:oot,base:sot,clamp:aot,constant:lot,exponent:uot,padding:mot,range:iot,reverse:yot,unknown:bot};function kot(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=new Set(t),i=wot.filter(function(o){return r.has(o)});return function(s,a){return typeof a<"u"&&i.forEach(function(l){Sot[l](s,a)}),s}}var Cot=kot("domain","range","reverse","clamp","interpolate","nice","round","zero");function _ot(e){return Cot(E6(),e)}const f0={TOP:12,RIGHT:10,BOTTOM:12,LEFT:10},Eot=6;function $ot({width:e,height:t,r:n}){const r=Jt(p=>p.charts),i=Jt(p=>p.currentChartIndex),{preferredColor:o}=Ua(),s=Us(kt["gray.400"],kt["gray.600"]),a=Math.min(e-f0.LEFT-f0.RIGHT,(Eot+2*n)*r.length),l=t-f0.TOP-f0.BOTTOM,u=e/2,c=l/2+f0.TOP,f=n-Math.floor(r.length/40),d=_ot({domain:[0,r.length-1],range:[u-a/2,u+a/2]});return r.map((p,g)=>({key:`indicator-${p.key}`,cx:d(g),cy:c,r:g===i?2*f:f,fill:p.preferred?o:s,isActive:g===i}))}function Ua(){const e=Eh({base:0,lg:"18px"}),t=Eh({base:window.innerWidth,lg:880}),n=Eh({base:"100vh",lg:"calc(80vh - 18px)"}),r=Eh({base:!0,lg:!1}),i=Us(kt.white,kt["gray.900"]),o=Us(kt.white,kt["gray.900"]),s=Us(kt["gray.200"],kt["gray.700"]),a=Eh({base:320,lg:560}),l=5,u=50,c=Us(kt["gray.100"],kt["gray.800"]),f=Us(ju[600],ju[300]),d=Us(ju[500],ju[400]),h=Us(kt["red.500"],kt["red.200"]),p=Us(kt["orange.50"],kt["orange.800"]),g=Us(kt["orange.100"],kt["orange.700"]);return{accentColor:f,accentHoverColor:d,borderColor:s,preferredColor:h,buttonColor:c,cardPadding:e,cardWidth:t,cardHeight:n,cardColor:o,drawerBgColor:i,tabPanelHeight:a,tabIconSize:l,thumbnailSize:u,mobile:r,scrollbarStyle:{"&::-webkit-scrollbar":{width:"5px"},"&::-webkit-scrollbar-track":{background:"transparent"},"&::-webkit-scrollbar-thumb":{background:f,borderRadius:"5px"},"&::-webkit-scrollbar-thumb:hover":{background:d}},accentSelected:p,accentSelectedHover:g}}function $9(){const e=xm(r=>r.python),{isLoading:t,data:n}=Lue({queryKey:["loadPyodide",e],queryFn:async()=>e==="server"?null:await ob()});return{loadingPyodide:e==="pyodide"&&t,pyodide:n}}function Aot(){const{apiKey:e,setApiKey:t,python:n,setPython:r}=xm(),{loadingPyodide:i}=$9(),{colorMode:o,toggleColorMode:s}=Gg(),a=p_e(),l=p=>{t(p.target.value)},u=()=>{console.log("Downloading logs...")},[c,f]=T.useState("en"),d=async()=>{!await r(n==="pyodide"?"server":"pyodide")&&!a.isActive("server-not-available")&&a({id:"server-not-available",position:"bottom",title:"Server is not available.",description:"Failed to access Python backend. Only local Pyodide is available. Please refer the GitHub README for more information.",status:"error",duration:3e3,isClosable:!0,containerStyle:{margin:10}})};return{python:n,handleServerButtonClick:()=>{d()},apiKey:e,loadingPyodide:i,handleApiKeyChange:l,handleDownloadLogs:u,colorMode:o,toggleColorMode:s,locale:c,setLocale:f}}function Kue({chart:e,handleClick:t}){const{drawerBgColor:n,thumbnailSize:r}=Ua(),i=El(a=>a.data),[o,s]=T.useState(e.thumbnail);return T.useEffect(()=>{!o&&i&&(async()=>{const l=await Htt(e.specs[0],i);s(l)})()},[e.specs,i,o]),E.jsxs(mK,{as:Wt,flexDir:"column",children:[E.jsxs(Wt,{p:1,gap:2,borderRadius:"md",onClick:()=>t(e),_hover:{cursor:"pointer",bg:n},children:[!!o&&E.jsx(oK,{src:o,alt:`Chart thumbnail ${e.title}`,w:r,h:r}),E.jsxs(Wt,{flexDir:"column",children:[E.jsx(av,{size:"sm",children:e.fields.map(a=>a.name).join(" & ")}),E.jsx(Mt,{size:"xs",children:"This chart is very good"})]})]}),E.jsx(BP,{my:1})]},`bookmark-${e.key}`)}function Tot({...e}){const{preferredCharts:t,handleClickBookmark:n}=xrt();return E.jsx(Nd,{display:"flex",flexDirection:"column",height:"full",...e,children:E.jsx(LP,{m:0,p:0,width:"full",overflowY:"auto",children:t.map(r=>E.jsx(Kue,{chart:r,handleClick:n},`bookmark-${r.key}`))})})}function Mot(){const{scrollbarStyle:e,buttonColor:t,borderColor:n,cardColor:r,accentSelected:i,accentSelectedHover:o,accentColor:s}=Ua(),{browsedCharts:a,inputDisabled:l,loading:u,fieldNameMatches:c,selectedFields:f,inputValue:d,setInputValue:h,handleFieldSelection:p,appendChart:g,handleKeydown:m,suggestionCursorIndex:y}=tit();return E.jsxs(Nd,{as:cs,w:"full",alignItems:"center",h:"100%",children:[E.jsxs(Fw,{w:"100%",position:"relative",children:[E.jsxs(bK,{spacing:1,borderRadius:"md",alignItems:"flex-start",w:"100%",flexWrap:"wrap",border:"1px solid",borderColor:n,p:2,children:[f.map(v=>E.jsxs(FK,{borderRadius:"full",colorScheme:mr,children:[E.jsx(PK,{children:v}),E.jsx(DK,{onClick:()=>p(v)})]},v)),E.jsx(Jp,{type:"text",w:"fit-content",h:"fit-content",px:2,minW:48,placeholder:"Input field names to search...",borderColor:"transparent",value:d,onChange:v=>h(v.target.value),disabled:l,_focusVisible:{borderColor:"transparent"},_hover:{borderColor:"transparent"},onKeyDown:m})]}),c.length>0&&E.jsx(cs,{alignItems:"flex-start",borderRadius:6,overflow:"hidden",gap:0,w:"full",borderColor:n,borderWidth:1,position:"absolute",zIndex:1,children:c.map((v,b)=>E.jsx(Fw,{onClick:()=>p(v.item),bgColor:(()=>{const x=f.includes(v.item),w=b===y;return x?w?o:i:w?t:r})(),w:"100%",pl:2,cursor:"pointer",borderTopWidth:1,borderTopColor:n,children:v.item},v.item))})]}),u?E.jsx(dC,{size:"md",my:8,color:s}):E.jsx(LP,{m:0,p:0,width:"full",overflowY:"scroll",sx:e,flex:1,children:a.map(v=>E.jsx(Kue,{chart:v,handleClick:()=>void g(v)},`${v.key}-${v.timestamp}`))})]})}const UW={};function qM(e,t){e===void 0&&(e=UW),t===void 0&&(t=UW);const n=Object.keys(e),r=Object.keys(t);return e===t||n.length===r.length&&n.every(i=>e[i]===t[i])}function Fot(e){return!!e&&{}.toString.call(e)==="[object Function]"}function Pot(e,t,n){n&&(Fot(n)?n(e.data(t)):e.change(t,Qo.changeset().remove(()=>!0).insert(n)))}function Rot(e,t){Object.keys(t).forEach(n=>{Pot(e,n,t[n])})}function Que(e){const t=new Set;return e.forEach(n=>{Object.keys(n).forEach(r=>{t.add(r)})}),t}const Zue=()=>{};function M5(e,t){const n=Object.keys(t);return n.forEach(r=>{try{e.addSignalListener(r,t[r])}catch(i){console.warn("Cannot add invalid signal listener.",i)}}),n.length>0}var Dot=function e(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var r,i,o;if(Array.isArray(t)){if(r=t.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(o=Object.keys(t),r=o.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,o[i]))return!1;for(i=r;i--!==0;){var s=o[i];if(!e(t[s],n[s]))return!1}return!0}return t!==t&&n!==n};const Oot=zl(Dot);function Not(e,t){if(e===t)return!1;const n={width:!1,height:!1,isExpensive:!1},r=Que([e,t]);return r.has("width")&&(!("width"in e)||!("width"in t)||e.width!==t.width)&&("width"in e&&typeof e.width=="number"?n.width=e.width:n.isExpensive=!0),r.has("height")&&(!("height"in e)||!("height"in t)||e.height!==t.height)&&("height"in e&&typeof e.height=="number"?n.height=e.height:n.isExpensive=!0),r.delete("width"),r.delete("height"),[...r].some(i=>!(i in e)||!(i in t)||!Oot(e[i],t[i]))&&(n.isExpensive=!0),n.width!==!1||n.height!==!1||n.isExpensive?n:!1}function VW(e,t){const n=Object.keys(t);return n.forEach(r=>{try{e.removeSignalListener(r,t[r])}catch(i){console.warn("Cannot remove invalid signal listener.",i)}}),n.length>0}function F5(e){const{spec:t,width:n,height:r}=e;return typeof n<"u"&&typeof r<"u"?{...t,width:n,height:r}:typeof n<"u"?{...t,width:n}:typeof r<"u"?{...t,height:r}:t}function K0(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Jue extends Bi.PureComponent{constructor(){super(...arguments),K0(this,"containerRef",Bi.createRef()),K0(this,"resultPromise",void 0),K0(this,"handleError",t=>{const{onError:n=Zue}=this.props;n(t,this.containerRef.current),console.warn(t)}),K0(this,"modifyView",t=>{this.resultPromise&&this.resultPromise.then(n=>(n&&t(n.view),!0)).catch(this.handleError)})}componentDidMount(){this.createView()}componentDidUpdate(t){const n=Que([this.props,t]);if(n.delete("className"),n.delete("signalListeners"),n.delete("spec"),n.delete("style"),n.delete("width"),n.delete("height"),Array.from(n).some(r=>this.props[r]!==t[r]))this.clearView(),this.createView();else{const r=Not(F5(this.props),F5(t)),{signalListeners:i}=this.props,{signalListeners:o}=t;if(r)if(r.isExpensive)this.clearView(),this.createView();else{const s=!qM(i,o);this.modifyView(a=>{r.width!==!1&&a.width(r.width),r.height!==!1&&a.height(r.height),s&&(o&&VW(a,o),i&&M5(a,i)),a.run()})}else qM(i,o)||this.modifyView(s=>{o&&VW(s,o),i&&M5(s,i),s.run()})}}componentWillUnmount(){this.clearView()}createView(){const{spec:t,onNewView:n,signalListeners:r={},width:i,height:o,...s}=this.props;if(this.containerRef.current){const a=F5(this.props);this.resultPromise=iue(this.containerRef.current,a,s).then(l=>{if(l){const{view:u}=l;M5(u,r)&&u.run()}return l}).catch(this.handleError),n&&this.modifyView(n)}}clearView(){return this.resultPromise&&this.resultPromise.then(t=>{t&&t.finalize()}).catch(this.handleError),this.resultPromise=void 0,this}render(){const{className:t,style:n}=this.props;return Bi.createElement("div",{ref:this.containerRef,className:t,style:n})}}K0(Jue,"propTypes",{className:v7.string,onError:v7.func});function GM(){return GM=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},GM.apply(this,arguments)}function YM(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Iot={};class ece extends Bi.PureComponent{constructor(){super(...arguments),YM(this,"vegaEmbed",Bi.createRef()),YM(this,"handleNewView",t=>{this.update();const{onNewView:n=Zue}=this.props;n(t)})}componentDidMount(){this.update()}componentDidUpdate(t){qM(this.props.data,t.data)||this.update()}update(){const{data:t}=this.props;this.vegaEmbed.current&&t&&Object.keys(t).length>0&&this.vegaEmbed.current.modifyView(n=>{Rot(n,t),n.resize().run()})}render(){const{data:t,...n}=this.props;return Bi.createElement(Jue,GM({ref:this.vegaEmbed},n,{onNewView:this.handleNewView}))}}YM(ece,"defaultProps",{data:Iot});function XM(){return XM=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},XM.apply(this,arguments)}function Lot(e){return Bi.createElement(ece,XM({},e,{mode:"vega-lite"}))}function zot({chart:e,...t}){const{data:n,chartTheme:r,spec:i}=nit(e);return E.jsxs(ld,{maxW:"800px",scrollSnapAlign:"start",...t,children:[E.jsx(av,{children:e.title}),E.jsx(Lot,{spec:i,data:n,theme:r,actions:!1,renderer:"canvas",logLevel:xC}),E.jsx(Wt,{minH:{base:"300px",lg:"0px"}})]})}const jot=T.memo(zot);/**
 * @license hugeicons-react v0.2.0
 *
 * See the LICENSE file in the root directory of this source tree.
 */var Bot={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license hugeicons-react v0.2.0
 *
 * See the LICENSE file in the root directory of this source tree.
 */const Gt=(e,t)=>{const n=T.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:o=1.5,className:s="",children:a,...l},u)=>{const c={ref:u,...Bot,width:i,height:i,strokeWidth:o,color:r,className:s,...l};return T.createElement("svg",c,(t==null?void 0:t.map(([f,d])=>T.createElement(f,{key:d.id,...d})))??[],...Array.isArray(a)?a:[a])});return n.displayName=`${e}Icon`,n};/**
 * @license hugeicons-react v0.2.0
 *
 * See the LICENSE file in the root directory of this source tree.
 */const Uot=Gt("ArrowDown01Icon",[["path",{d:"M18 9.00005C18 9.00005 13.5811 15 12 15C10.4188 15 6 9 6 9",stroke:"currentColor",key:"k0"}]]);/**
 * @license hugeicons-react v0.2.0
 *
 * See the LICENSE file in the root directory of this source tree.
 */const Vot=Gt("ArrowLeft01Icon",[["path",{d:"M15 6C15 6 9.00001 10.4189 9 12C8.99999 13.5812 15 18 15 18",stroke:"currentColor",key:"k0"}]]);/**
 * @license hugeicons-react v0.2.0
 *
 * See the LICENSE file in the root directory of this source tree.
 */const Wot=Gt("ArrowRight01Icon",[["path",{d:"M9.00005 6C9.00005 6 15 10.4189 15 12C15 13.5812 9 18 9 18",stroke:"currentColor",key:"k0"}]]);/**
 * @license hugeicons-react v0.2.0
 *
 * See the LICENSE file in the root directory of this source tree.
 */const Hot=Gt("Calendar03Icon",[["path",{d:"M18 2V4M6 2V4",stroke:"currentColor",key:"k0"}],["path",{d:"M11.9955 13H12.0045M11.9955 17H12.0045M15.991 13H16M8 13H8.00897M8 17H8.00897",stroke:"currentColor",key:"k1"}],["path",{d:"M3.5 8H20.5",stroke:"currentColor",key:"k2"}],["path",{d:"M2.5 12.2432C2.5 7.88594 2.5 5.70728 3.75212 4.35364C5.00424 3 7.01949 3 11.05 3H12.95C16.9805 3 18.9958 3 20.2479 4.35364C21.5 5.70728 21.5 7.88594 21.5 12.2432V12.7568C21.5 17.1141 21.5 19.2927 20.2479 20.6464C18.9958 22 16.9805 22 12.95 22H11.05C7.01949 22 5.00424 22 3.75212 20.6464C2.5 19.2927 2.5 17.1141 2.5 12.7568V12.2432Z",stroke:"currentColor",key:"k3"}],["path",{d:"M3 8H21",stroke:"currentColor",key:"k4"}]]);/**
 * @license hugeicons-react v0.2.0
 *
 * See the LICENSE file in the root directory of this source tree.
 */const qot=Gt("CloudIcon",[["path",{d:"M17.4776 10.0001C17.485 10 17.4925 10 17.5 10C19.9853 10 22 12.0147 22 14.5C22 16.9853 19.9853 19 17.5 19H7C4.23858 19 2 16.7614 2 14C2 11.4003 3.98398 9.26407 6.52042 9.0227M17.4776 10.0001C17.4924 9.83536 17.5 9.66856 17.5 9.5C17.5 6.46243 15.0376 4 12 4C9.12324 4 6.76233 6.20862 6.52042 9.0227M17.4776 10.0001C17.3753 11.1345 16.9286 12.1696 16.2428 13M6.52042 9.0227C6.67826 9.00768 6.83823 9 7 9C8.12582 9 9.16474 9.37209 10.0005 10",stroke:"currentColor",key:"k0"}]]);/**
 * @license hugeicons-react v0.2.0
 *
 * See the LICENSE file in the root directory of this source tree.
 */const Got=Gt("Exchange01Icon",[["path",{d:"M16.9767 19.5C19.4017 17.8876 21 15.1305 21 12C21 7.02944 16.9706 3 12 3C11.3126 3 10.6432 3.07706 10 3.22302M16.9767 19.5V16M16.9767 19.5H20.5M7 4.51555C4.58803 6.13007 3 8.87958 3 12C3 16.9706 7.02944 21 12 21C12.6874 21 13.3568 20.9229 14 20.777M7 4.51555V8M7 4.51555H3.5",stroke:"currentColor",key:"k0"}]]);/**
 * @license hugeicons-react v0.2.0
 *
 * See the LICENSE file in the root directory of this source tree.
 */const Yot=Gt("FileAttachmentIcon",[["path",{d:"M4 12.0004L4 14.5446C4 17.7896 4 19.4121 4.88607 20.5111C5.06508 20.7331 5.26731 20.9354 5.48933 21.1144C6.58831 22.0004 8.21082 22.0004 11.4558 22.0004C12.1614 22.0004 12.5141 22.0004 12.8372 21.8864C12.9044 21.8627 12.9702 21.8354 13.0345 21.8047C13.3436 21.6569 13.593 21.4074 14.0919 20.9085L18.8284 16.172C19.4065 15.5939 19.6955 15.3049 19.8478 14.9374C20 14.5698 20 14.1611 20 13.3436V10.0004C20 6.22919 20 4.34358 18.8284 3.172C17.7693 2.11284 16.1265 2.01122 13.0345 2.00146M13 21.5004V21.0004C13 18.172 13 16.7578 13.8787 15.8791C14.7574 15.0004 16.1716 15.0004 19 15.0004H19.5",stroke:"currentColor",key:"k0"}],["path",{d:"M4 8.23028V5.46105C4 3.54929 5.567 1.99951 7.5 1.99951C9.433 1.99951 11 3.54929 11 5.46105V9.26874C11 10.2246 10.2165 10.9995 9.25 10.9995C8.2835 10.9995 7.5 10.2246 7.5 9.26874V5.46105",stroke:"currentColor",key:"k1"}]]);/**
 * @license hugeicons-react v0.2.0
 *
 * See the LICENSE file in the root directory of this source tree.
 */const Xot=Gt("GithubIcon",[["path",{d:"M10 20.5675C6.57143 21.7248 3.71429 20.5675 2 17",stroke:"currentColor",key:"k0"}],["path",{d:"M10 22V18.7579C10 18.1596 10.1839 17.6396 10.4804 17.1699C10.6838 16.8476 10.5445 16.3904 10.1771 16.2894C7.13394 15.4528 5 14.1077 5 9.64606C5 8.48611 5.38005 7.39556 6.04811 6.4464C6.21437 6.21018 6.29749 6.09208 6.31748 5.9851C6.33746 5.87813 6.30272 5.73852 6.23322 5.45932C5.95038 4.32292 5.96871 3.11619 6.39322 2.02823C6.39322 2.02823 7.27042 1.74242 9.26698 2.98969C9.72282 3.27447 9.95075 3.41686 10.1515 3.44871C10.3522 3.48056 10.6206 3.41384 11.1573 3.28041C11.8913 3.09795 12.6476 3 13.5 3C14.3524 3 15.1087 3.09795 15.8427 3.28041C16.3794 3.41384 16.6478 3.48056 16.8485 3.44871C17.0493 3.41686 17.2772 3.27447 17.733 2.98969C19.7296 1.74242 20.6068 2.02823 20.6068 2.02823C21.0313 3.11619 21.0496 4.32292 20.7668 5.45932C20.6973 5.73852 20.6625 5.87813 20.6825 5.9851C20.7025 6.09207 20.7856 6.21019 20.9519 6.4464C21.6199 7.39556 22 8.48611 22 9.64606C22 14.1077 19.8661 15.4528 16.8229 16.2894C16.4555 16.3904 16.3162 16.8476 16.5196 17.1699C16.8161 17.6396 17 18.1596 17 18.7579V22",stroke:"currentColor",key:"k1"}]]);/**
 * @license hugeicons-react v0.2.0
 *
 * See the LICENSE file in the root directory of this source tree.
 */const Kot=Gt("GridIcon",[["path",{d:"M7 2V22",stroke:"currentColor",key:"k0"}],["path",{d:"M17 2V22",stroke:"currentColor",key:"k1"}],["path",{d:"M22 7L2 7",stroke:"currentColor",key:"k2"}],["path",{d:"M22 17L2 17",stroke:"currentColor",key:"k3"}]]);/**
 * @license hugeicons-react v0.2.0
 *
 * See the LICENSE file in the root directory of this source tree.
 */const Qot=Gt("HeartAddIcon",[["path",{d:"M12 21C10.6588 21 9.88572 20.4278 8.33953 19.2834C0.221721 13.2749 1.01807 6.15294 4.53744 3.99415C7.21909 2.34923 9.55962 3.01211 10.9656 4.06801C11.5422 4.50096 11.8304 4.71743 12 4.71743C12.1696 4.71743 12.4578 4.50096 13.0344 4.06801C14.4404 3.01211 16.7809 2.34923 19.4626 3.99415C21.1812 5.04838 22.2505 7.28623 21.9494 10",stroke:"currentColor",key:"k0"}],["path",{d:"M14 17H22M18 13L18 21",stroke:"currentColor",key:"k1"}]]);/**
 * @license hugeicons-react v0.2.0
 *
 * See the LICENSE file in the root directory of this source tree.
 */const tce=Gt("HeartCheckIcon",[["path",{d:"M12 21C10.6588 21 9.88572 20.4278 8.33953 19.2834C0.221721 13.2749 1.01807 6.15294 4.53744 3.99415C7.21909 2.34923 9.55962 3.01211 10.9656 4.06801C11.5422 4.50096 11.8304 4.71743 12 4.71743C12.1696 4.71743 12.4578 4.50096 13.0344 4.06801C14.4404 3.01211 16.7809 2.34923 19.4626 3.99415C21.1812 5.04838 22.2505 7.28623 21.9494 10",stroke:"currentColor",key:"k0"}],["path",{d:"M14 18C14 18 15 18 16 20C16 20 19.1765 15 22 14",stroke:"currentColor",key:"k1"}]]);/**
 * @license hugeicons-react v0.2.0
 *
 * See the LICENSE file in the root directory of this source tree.
 */const Zot=Gt("LabelImportantIcon",[["path",{d:"M13 4H6.23456C3.79424 4 2.57407 4 2.14438 4.76649C2.13129 4.78984 2.11883 4.81353 2.10701 4.83754C1.71893 5.62592 2.41032 6.63129 3.7931 8.64204C4.89612 10.246 5.44763 11.048 5.4611 11.9555C5.46154 11.9852 5.46154 12.0148 5.4611 12.0445C5.44763 12.952 4.89612 13.754 3.7931 15.358C2.41032 17.3687 1.71893 18.3741 2.10701 19.1625C2.11883 19.1865 2.13129 19.2102 2.14438 19.2335C2.57407 20 3.79424 20 6.23456 20H13C14.9628 20 15.9443 20 16.7889 19.5777C17.6334 19.1554 18.2223 18.3703 19.4 16.8C21.1333 14.4889 22 13.3333 22 12C22 10.6667 21.1333 9.51111 19.4 7.2C18.2223 5.62972 17.6334 4.84458 16.7889 4.42229C15.9443 4 14.9628 4 13 4Z",stroke:"currentColor",key:"k0"}]]);/**
 * @license hugeicons-react v0.2.0
 *
 * See the LICENSE file in the root directory of this source tree.
 */const Jot=Gt("Moon01Icon",[["path",{d:"M21.0985 7.84477C20.458 8.55417 19.5311 9 18.5 9C16.567 9 15 7.433 15 5.5C15 4.46895 15.4458 3.54203 16.1552 2.90149M21.0985 7.84477C21.6774 9.11025 22 10.5174 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C13.4826 2 14.8898 2.32262 16.1552 2.90149M21.0985 7.84477C20.0998 5.66155 18.3384 3.90018 16.1552 2.90149",stroke:"currentColor",key:"k0"}],["path",{d:"M10 8H10.0064",stroke:"currentColor",key:"k1"}],["path",{d:"M7 14H7.00635",stroke:"currentColor",key:"k2"}],["path",{d:"M16 16C16 17.1046 15.1046 18 14 18C12.8954 18 12 17.1046 12 16C12 14.8954 12.8954 14 14 14C15.1046 14 16 14.8954 16 16Z",stroke:"currentColor",key:"k3"}]]);/**
 * @license hugeicons-react v0.2.0
 *
 * See the LICENSE file in the root directory of this source tree.
 */const est=Gt("PresentationBarChart01Icon",[["path",{d:"M12 18V22",stroke:"currentColor",key:"k0"}],["path",{d:"M10 18L5 22",stroke:"currentColor",key:"k1"}],["path",{d:"M14 18L19 22",stroke:"currentColor",key:"k2"}],["path",{d:"M2.5 12C2.5 14.8284 2.5 16.2426 3.37868 17.1213C4.25736 18 5.67157 18 8.5 18H15.5C18.3284 18 19.7426 18 20.6213 17.1213C21.5 16.2426 21.5 14.8284 21.5 12V8C21.5 5.17157 21.5 3.75736 20.6213 2.87868C19.7426 2 18.3284 2 15.5 2H8.5C5.67157 2 4.25736 2 3.37868 2.87868C2.5 3.75736 2.5 5.17157 2.5 8V12Z",stroke:"currentColor",key:"k3"}],["path",{d:"M8 13V10M12 13V7M16 13V11",stroke:"currentColor",key:"k4"}]]);/**
 * @license hugeicons-react v0.2.0
 *
 * See the LICENSE file in the root directory of this source tree.
 */const tst=Gt("ProfileIcon",[["path",{d:"M2.5 12C2.5 7.52166 2.5 5.28249 3.89124 3.89124C5.28249 2.5 7.52166 2.5 12 2.5C16.4783 2.5 18.7175 2.5 20.1088 3.89124C21.5 5.28249 21.5 7.52166 21.5 12C21.5 16.4783 21.5 18.7175 20.1088 20.1088C18.7175 21.5 16.4783 21.5 12 21.5C7.52166 21.5 5.28249 21.5 3.89124 20.1088C2.5 18.7175 2.5 16.4783 2.5 12Z",stroke:"currentColor",key:"k0"}],["path",{d:"M11 7L17 7",stroke:"currentColor",key:"k1"}],["path",{d:"M7 7L8 7",stroke:"currentColor",key:"k2"}],["path",{d:"M7 12L8 12",stroke:"currentColor",key:"k3"}],["path",{d:"M7 17L8 17",stroke:"currentColor",key:"k4"}],["path",{d:"M11 12L17 12",stroke:"currentColor",key:"k5"}],["path",{d:"M11 17L17 17",stroke:"currentColor",key:"k6"}]]);/**
 * @license hugeicons-react v0.2.0
 *
 * See the LICENSE file in the root directory of this source tree.
 */const nst=Gt("Search01Icon",[["path",{d:"M17.5 17.5L22 22",stroke:"currentColor",key:"k0"}],["path",{d:"M20 11C20 6.02944 15.9706 2 11 2C6.02944 2 2 6.02944 2 11C2 15.9706 6.02944 20 11 20C15.9706 20 20 15.9706 20 11Z",stroke:"currentColor",key:"k1"}]]);/**
 * @license hugeicons-react v0.2.0
 *
 * See the LICENSE file in the root directory of this source tree.
 */const rst=Gt("Settings01Icon",[["path",{d:"M21.3175 7.14139L20.8239 6.28479C20.4506 5.63696 20.264 5.31305 19.9464 5.18388C19.6288 5.05472 19.2696 5.15664 18.5513 5.36048L17.3311 5.70418C16.8725 5.80994 16.3913 5.74994 15.9726 5.53479L15.6357 5.34042C15.2766 5.11043 15.0004 4.77133 14.8475 4.37274L14.5136 3.37536C14.294 2.71534 14.1842 2.38533 13.9228 2.19657C13.6615 2.00781 13.3143 2.00781 12.6199 2.00781H11.5051C10.8108 2.00781 10.4636 2.00781 10.2022 2.19657C9.94085 2.38533 9.83106 2.71534 9.61149 3.37536L9.27753 4.37274C9.12465 4.77133 8.84845 5.11043 8.48937 5.34042L8.15249 5.53479C7.73374 5.74994 7.25259 5.80994 6.79398 5.70418L5.57375 5.36048C4.85541 5.15664 4.49625 5.05472 4.17867 5.18388C3.86109 5.31305 3.67445 5.63696 3.30115 6.28479L2.80757 7.14139C2.45766 7.74864 2.2827 8.05227 2.31666 8.37549C2.35061 8.69871 2.58483 8.95918 3.05326 9.48012L4.0843 10.6328C4.3363 10.9518 4.51521 11.5078 4.51521 12.0077C4.51521 12.5078 4.33636 13.0636 4.08433 13.3827L3.05326 14.5354C2.58483 15.0564 2.35062 15.3168 2.31666 15.6401C2.2827 15.9633 2.45766 16.2669 2.80757 16.8741L3.30114 17.7307C3.67443 18.3785 3.86109 18.7025 4.17867 18.8316C4.49625 18.9608 4.85542 18.8589 5.57377 18.655L6.79394 18.3113C7.25263 18.2055 7.73387 18.2656 8.15267 18.4808L8.4895 18.6752C8.84851 18.9052 9.12464 19.2442 9.2775 19.6428L9.61149 20.6403C9.83106 21.3003 9.94085 21.6303 10.2022 21.8191C10.4636 22.0078 10.8108 22.0078 11.5051 22.0078H12.6199C13.3143 22.0078 13.6615 22.0078 13.9228 21.8191C14.1842 21.6303 14.294 21.3003 14.5136 20.6403L14.8476 19.6428C15.0004 19.2442 15.2765 18.9052 15.6356 18.6752L15.9724 18.4808C16.3912 18.2656 16.8724 18.2055 17.3311 18.3113L18.5513 18.655C19.2696 18.8589 19.6288 18.9608 19.9464 18.8316C20.264 18.7025 20.4506 18.3785 20.8239 17.7307L21.3175 16.8741C21.6674 16.2669 21.8423 15.9633 21.8084 15.6401C21.7744 15.3168 21.5402 15.0564 21.0718 14.5354L20.0407 13.3827C19.7887 13.0636 19.6098 12.5078 19.6098 12.0077C19.6098 11.5078 19.7888 10.9518 20.0407 10.6328L21.0718 9.48012C21.5402 8.95918 21.7744 8.69871 21.8084 8.37549C21.8423 8.05227 21.6674 7.74864 21.3175 7.14139Z",stroke:"currentColor",key:"k0"}],["path",{d:"M15.5195 12C15.5195 13.933 13.9525 15.5 12.0195 15.5C10.0865 15.5 8.51953 13.933 8.51953 12C8.51953 10.067 10.0865 8.5 12.0195 8.5C13.9525 8.5 15.5195 10.067 15.5195 12Z",stroke:"currentColor",key:"k1"}]]);/**
 * @license hugeicons-react v0.2.0
 *
 * See the LICENSE file in the root directory of this source tree.
 */const ist=Gt("SmartPhone01Icon",[["path",{d:"M5 9C5 5.70017 5 4.05025 6.02513 3.02513C7.05025 2 8.70017 2 12 2C15.2998 2 16.9497 2 17.9749 3.02513C19 4.05025 19 5.70017 19 9V15C19 18.2998 19 19.9497 17.9749 20.9749C16.9497 22 15.2998 22 12 22C8.70017 22 7.05025 22 6.02513 20.9749C5 19.9497 5 18.2998 5 15V9Z",stroke:"currentColor",key:"k0"}],["path",{d:"M11 19H13",stroke:"currentColor",key:"k1"}],["path",{d:"M9 2L9.089 2.53402C9.28188 3.69129 9.37832 4.26993 9.77519 4.62204C10.1892 4.98934 10.7761 5 12 5C13.2239 5 13.8108 4.98934 14.2248 4.62204C14.6217 4.26993 14.7181 3.69129 14.911 2.53402L15 2",stroke:"currentColor",key:"k2"}]]);/**
 * @license hugeicons-react v0.2.0
 *
 * See the LICENSE file in the root directory of this source tree.
 */const nce=Gt("StartUp02Icon",[["path",{d:"M7 11.2947C12.284 1.44656 18.8635 1.333 21.4928 2.50724C22.667 5.1365 22.5534 11.716 12.7053 17C12.6031 16.4129 12.0352 14.8749 10.5801 13.4199C9.12512 11.9648 7.58712 11.3969 7 11.2947Z",stroke:"currentColor",key:"k0"}],["path",{d:"M14 16.8C16.0428 17.7334 16.2609 19.4069 16.5439 21C16.5439 21 20.8223 18.0481 18.0856 14",stroke:"currentColor",key:"k1"}],["path",{d:"M7.19998 9.99987C6.26664 7.95709 4.59305 7.73899 3 7.45601C3 7.45601 5.95194 3.17753 10 5.91431",stroke:"currentColor",key:"k2"}],["path",{d:"M6.20866 13.9998C5.57677 14.6317 4.50255 16.4642 5.26082 18.739C7.53564 19.4973 9.36813 18.4231 10 17.7912",stroke:"currentColor",key:"k3"}],["path",{d:"M18.0952 7.753C18.0952 6.7328 17.2682 5.90578 16.248 5.90578C15.2278 5.90578 14.4008 6.7328 14.4008 7.753C14.4008 8.77319 15.2278 9.60022 16.248 9.60022C17.2682 9.60022 18.0952 8.77319 18.0952 7.753Z",stroke:"currentColor",key:"k4"}]]);/**
 * @license hugeicons-react v0.2.0
 *
 * See the LICENSE file in the root directory of this source tree.
 */const ost=Gt("Sun03Icon",[["path",{d:"M17 12C17 14.7614 14.7614 17 12 17C9.23858 17 7 14.7614 7 12C7 9.23858 9.23858 7 12 7C14.7614 7 17 9.23858 17 12Z",stroke:"currentColor",key:"k0"}],["path",{d:"M12 2V3.5M12 20.5V22M19.0708 19.0713L18.0101 18.0106M5.98926 5.98926L4.9286 4.9286M22 12H20.5M3.5 12H2M19.0713 4.92871L18.0106 5.98937M5.98975 18.0107L4.92909 19.0714",stroke:"currentColor",key:"k1"}]]);/**
 * @license hugeicons-react v0.2.0
 *
 * See the LICENSE file in the root directory of this source tree.
 */const sst=Gt("SwipeLeft02Icon",[["path",{d:"M15 4.50195H21M15 4.50195C15 3.80172 16.9943 2.49348 17.5 2.00195M15 4.50195C15 5.20218 16.9943 6.51042 17.5 7.00195",stroke:"currentColor",key:"k0"}],["path",{d:"M15.3913 21.998C15.3395 20.084 15.4684 19.8535 15.6052 19.4277C15.7419 19.002 16.6982 17.4665 17.0366 16.3695C18.1313 12.8202 17.111 12.0653 15.7507 11.0588C14.2422 9.94257 11.3968 9.37728 9.98573 9.49966V3.7462C9.98573 2.78288 9.20481 2.00195 8.24148 2.00195C7.27816 2.00195 6.49723 2.78288 6.49723 3.7462V9.96607M6.49774 21.9988V20.9854C6.43328 20.041 5.49529 18.9235 4.32672 17.3166C3.12509 15.576 2.86688 14.6973 3.05591 13.8848C3.15329 13.4694 3.40594 12.7832 4.64647 11.6104L6.49723 9.96607M6.49723 14.0323V9.96607",stroke:"currentColor",key:"k1"}]]);/**
 * @license hugeicons-react v0.2.0
 *
 * See the LICENSE file in the root directory of this source tree.
 */const ast=Gt("Tag01Icon",[["circle",{cx:"1.5",cy:"1.5",r:"1.5",transform:"matrix(1 0 0 -1 16 8)",stroke:"currentColor",key:"k0"}],["path",{d:"M2.77423 11.1439C1.77108 12.2643 1.7495 13.9546 2.67016 15.1437C4.49711 17.5033 6.49674 19.5029 8.85633 21.3298C10.0454 22.2505 11.7357 22.2289 12.8561 21.2258C15.8979 18.5022 18.6835 15.6559 21.3719 12.5279C21.6377 12.2187 21.8039 11.8397 21.8412 11.4336C22.0062 9.63798 22.3452 4.46467 20.9403 3.05974C19.5353 1.65481 14.362 1.99377 12.5664 2.15876C12.1603 2.19608 11.7813 2.36233 11.472 2.62811C8.34412 5.31646 5.49781 8.10211 2.77423 11.1439Z",stroke:"currentColor",key:"k1"}],["path",{d:"M7 14L10 17",stroke:"currentColor",key:"k2"}]]);/**
 * @license hugeicons-react v0.2.0
 *
 * See the LICENSE file in the root directory of this source tree.
 */const lst=Gt("TextFontIcon",[["path",{d:"M14 19L11.1069 10.7479C9.76348 6.91597 9.09177 5 8 5C6.90823 5 6.23652 6.91597 4.89309 10.7479L2 19M4.5 12H11.5",stroke:"currentColor",key:"k0"}],["path",{d:"M21.9692 13.9392V18.4392M21.9692 13.9392C22.0164 13.1161 22.0182 12.4891 21.9194 11.9773C21.6864 10.7709 20.4258 10.0439 19.206 9.89599C18.0385 9.75447 17.1015 10.055 16.1535 11.4363M21.9692 13.9392L19.1256 13.9392C18.6887 13.9392 18.2481 13.9603 17.8272 14.0773C15.2545 14.7925 15.4431 18.4003 18.0233 18.845C18.3099 18.8944 18.6025 18.9156 18.8927 18.9026C19.5703 18.8724 20.1955 18.545 20.7321 18.1301C21.3605 17.644 21.9692 16.9655 21.9692 15.9392V13.9392Z",stroke:"currentColor",key:"k1"}]]);function ust(){return E.jsxs(cs,{w:"full",color:"gray",gap:1,mt:4,p:0,children:[E.jsxs(Wt,{gap:1,children:[E.jsx(Mt,{fontSize:"xs",textAlign:"center",children:"Swipytics @ 2024"}),E.jsx(p2,{href:"https://jiwnchoi.me",isExternal:!0,children:E.jsx(Mt,{fontSize:"xs",textAlign:"center",textDecoration:"underline",children:"Jiwon Choi"})}),E.jsx(Mt,{fontSize:"xs",textAlign:"center",children:"All rights reserved."})]}),E.jsxs(Wt,{gap:4,children:[E.jsx(p2,{href:"https://github.com/jiwnchoi/Swipytics",isExternal:!0,children:E.jsx(ko,{leftIcon:E.jsx(yt,{as:Xot}),size:"xs",variant:"link",color:"gray",children:"Github"})}),E.jsx(p2,{href:"https://idclab.skku.edu",isExternal:!0,children:E.jsxs(ko,{variant:"link",size:"xs",leftIcon:E.jsx(yt,{as:Zot}),color:"gray",children:[E.jsx(Mt,{fontFamily:"Rajdhani",fontWeight:600,fontSize:"sm",children:"IDC"}),E.jsx(Mt,{fontFamily:"Rajdhani",fontWeight:500,fontSize:"sm",children:"Lab"})]})})]})]})}function cst(e){const{mobile:t}=Ua();return E.jsxs(Wt,{justify:t?"start":"center",...e,children:[E.jsxs(ld,{flexDir:"column",minH:"400px",children:[E.jsxs(ld,{gap:2,mb:4,children:[E.jsx(yt,{as:sst,boxSize:16}),E.jsx(av,{fontSize:48,children:"Swipytics"})]}),E.jsx(Mt,{textColor:"gray",textAlign:"center",children:"The Simplest On-the-fly Exploratory Analytics"})]}),E.jsx(ust,{})]})}const fst=T.memo(cst);function dst(e){const{charts:t,ref:n}=iit(),{cardHeight:r,cardColor:i,cardWidth:o}=Ua();return E.jsxs(Wt,{ref:n,scrollSnapType:"x mandatory",overflowX:"auto",style:{WebkitOverflowScrolling:"touch"},sx:{"&::-webkit-scrollbar":{display:"none"}},...e,children:[E.jsx(fst,{flexDir:"column",minW:"full",w:o,maxW:o,minH:r,bgColor:i,borderRadius:"lg",scrollSnapAlign:"center"}),t.map(s=>E.jsx(jot,{minW:o,maxW:o,chart:s,minH:r,bgColor:i,flexDirection:"column",borderRadius:"lg"},s.key))]})}function hst(e){const{sessionInitialized:t,chartDisplaying:n,currentChartPreferred:r,handleNextChart:i,handlePrevChart:o,handleRenewChart:s,handlePreferChart:a}=oit();return E.jsxs(sK,{...e,children:[E.jsx(ko,{py:8,size:"lg",w:"full","aria-label":"Previous chart",onClick:o,isDisabled:!t||!n,variant:"ghost",children:E.jsxs(cs,{spacing:2,children:[E.jsx(yt,{as:Vot,boxSize:6}),E.jsx(Mt,{fontSize:"sm",children:"Prev"})]})}),E.jsx(ko,{py:8,size:"lg",w:"full","aria-label":"Next chart",onClick:i,isDisabled:!t,variant:"ghost",children:E.jsxs(cs,{spacing:2,children:[E.jsx(yt,{as:Wot,boxSize:6}),E.jsx(Mt,{fontSize:"sm",children:"Next"})]})}),E.jsx(ko,{py:8,size:"lg",w:"full","aria-label":"Renew current chart",onClick:s,isDisabled:!t||!n,variant:"ghost",children:E.jsxs(cs,{spacing:2,children:[E.jsx(yt,{as:Got,boxSize:6}),E.jsx(Mt,{fontSize:"sm",children:"Redesign"})]})}),E.jsx(ko,{py:8,size:"lg",w:"full","aria-label":"Bookmark current chart",onClick:a,colorScheme:r?"red":"gray",isDisabled:!t||!n,variant:r?"solid":"ghost",children:E.jsxs(cs,{spacing:2,children:[E.jsx(yt,{as:r?tce:Qot,boxSize:6}),E.jsx(Mt,{fontSize:"sm",children:"Like"})]})})]})}function pst({children:e,controller:t,...n}){const{animate:r,dragControls:i,handleDragEnd:o,bodyRef:s,handleRef:a,navigatorRef:l,navigatorBounds:u,variants:c}=fit(),{drawerBgColor:f,borderColor:d}=Ua();return E.jsxs(fC.div,{dragControls:i,style:{width:"100%",left:0,position:"fixed"},variants:c,initial:r,animate:r,drag:"y",dragListener:!0,dragConstraints:{bottom:0,top:0},dragElastic:0,onDragEnd:o,whileTap:{cursor:"grabbing"},children:[E.jsxs(ld,{h:"fit-content",flexDir:"column",gap:0,border:"1px solid",borderColor:d,borderRadius:"xl",boxShadow:"0px -4px 10px rgba(0, 0, 0, 0.1)",bgColor:f,...n,children:[E.jsx(Wt,{bgColor:"gray",minH:1,mt:2,borderRadius:4,minW:10,ref:a}),E.jsx(Wt,{w:"full",ref:s,p:4,flexDir:"column",children:e}),E.jsx(Wt,{minH:"100dvh"})]}),E.jsx(J1,{children:E.jsx(Wt,{borderX:"1px solid",borderBottom:"1px solid",borderColor:d,onPointerDown:h=>i.start(h),bgColor:f,ref:l,position:"absolute",top:`calc(100dvh - ${u.height}px)`,p:4,pb:8,left:0,zIndex:500,w:"full",children:t})})]})}function gst({children:e,...t}){const{tabPanelHeight:n}=Ua();return E.jsx(Wt,{...t,children:E.jsx(cs,{w:"full",h:n,gap:4,rounded:"lg",p:4,align:"start",minH:"full",children:e})})}function mst({children:e,controller:t,...n}){const{mobile:r}=Ua();return r?E.jsx(pst,{...n,controller:t,children:e}):E.jsxs(gst,{...n,children:[e,E.jsx(zP,{}),t]})}function yst(e){const{loadingPyodide:t}=$9(),{loadingData:n,fileInputRef:r,pathInput:i,inputDisabled:o,handleFileButtonClick:s,handleFileChange:a,handleInputChange:l,handleSubmit:u}=not();return E.jsxs(Wt,{as:lK,...e,children:[E.jsxs(hK,{children:[E.jsx(Jp,{placeholder:"https://...",onChange:l,value:i,borderRightRadius:0,_focusVisible:{borderColor:mr}}),E.jsxs(NP,{children:[E.jsx(Jp,{type:"file",display:"none",ref:r,onChange:a,accept:".csv,.json"}),E.jsx(Mw,{"aria-label":"Select File",icon:E.jsx(yt,{as:Yot}),variant:"link",onClick:s})]})]}),E.jsx(Mw,{borderLeftRadius:0,colorScheme:mr,type:"submit",isLoading:n||t,icon:E.jsx(yt,{as:nce}),"aria-label":"Load Data",isDisabled:o,onClick:u,children:o?"Please Input Data":"Load Data"})]})}const vst=({metadataType:e,...t})=>{switch(e){case"numeric":return E.jsx(yt,{as:Kot,...t});case"categorical":return E.jsx(yt,{as:lst,...t});case"datetime":return E.jsx(yt,{as:Hot,...t});case"name":return E.jsx(yt,{as:ast,...t});default:return null}},d0=fv(".3~s");function Xo({children:e}){return E.jsx(Wt,{flexDir:"column",justify:"center",alignItems:"start",w:"full",h:"full",children:E.jsx(wK,{children:e})})}function bst({metadata:e}){switch(e.type){case"datetime":return E.jsxs(my,{gridTemplateColumns:"1fr 4fr",children:[E.jsx(Xo,{children:"min"}),E.jsx(Mt,{children:e.min}),E.jsx(Xo,{children:"max"}),E.jsx(Mt,{children:e.max})]});case"numeric":return E.jsxs(my,{gridTemplateColumns:"2fr 3fr 2fr 3fr",children:[E.jsx(Xo,{children:"min"}),E.jsx(Mt,{children:d0(e.min)}),E.jsx(Xo,{children:"max"}),E.jsx(Mt,{children:d0(e.max)}),E.jsx(Xo,{children:"mean"}),E.jsx(Mt,{children:d0(e.mean)}),E.jsx(Xo,{children:"median"}),E.jsx(Mt,{children:d0(e.median)}),E.jsx(Xo,{children:"std"}),E.jsx(Mt,{children:d0(e.std)})]});case"categorical":return E.jsxs(my,{gridTemplateColumns:"1fr 4fr",children:[E.jsx(Xo,{children:"top"}),E.jsx(Mt,{children:e.top}),E.jsx(Xo,{children:"freq"}),E.jsx(Mt,{children:e.freq})]});case"name":default:return null}}function xst({field:e}){return E.jsxs(tK,{children:[E.jsx(ZX,{borderRadius:"md",children:E.jsxs(Wt,{w:"full",gap:2,align:"center",children:[E.jsx(vst,{metadataType:e.type,boxSize:4}),E.jsx(av,{fontSize:"md",children:e.name}),E.jsx(zP,{}),E.jsx(eK,{})]})}),E.jsxs(rK,{px:2,pb:2,children:[E.jsxs(my,{gridTemplateColumns:"2fr 3fr 2fr 3fr",children:[E.jsx(Xo,{children:"unique"}),E.jsx(Mt,{children:e.metadata.unique}),E.jsx(Xo,{children:"missing"}),E.jsx(Mt,{children:e.metadata.missing})]}),E.jsx(bst,{metadata:e.metadata})]})]})}function wst(e){const t=Jt(n=>n.fields);return E.jsx(Nd,{as:cs,h:"full",...e,children:E.jsx(Wt,{h:"full",w:"full",overflowY:"auto",flexDir:"column",children:E.jsx(iK,{allowMultiple:!0,children:t.map(n=>E.jsx(xst,{field:n},n.name))})})})}function Sst(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var rce=Sst,kst=typeof Au=="object"&&Au&&Au.Object===Object&&Au,Cst=kst,_st=Cst,Est=typeof self=="object"&&self&&self.Object===Object&&self,$st=_st||Est||Function("return this")(),ice=$st,Ast=ice,Tst=function(){return Ast.Date.now()},Mst=Tst,Fst=/\s/;function Pst(e){for(var t=e.length;t--&&Fst.test(e.charAt(t)););return t}var Rst=Pst,Dst=Rst,Ost=/^\s+/;function Nst(e){return e&&e.slice(0,Dst(e)+1).replace(Ost,"")}var Ist=Nst,Lst=ice,zst=Lst.Symbol,oce=zst,WW=oce,sce=Object.prototype,jst=sce.hasOwnProperty,Bst=sce.toString,h0=WW?WW.toStringTag:void 0;function Ust(e){var t=jst.call(e,h0),n=e[h0];try{e[h0]=void 0;var r=!0}catch{}var i=Bst.call(e);return r&&(t?e[h0]=n:delete e[h0]),i}var Vst=Ust,Wst=Object.prototype,Hst=Wst.toString;function qst(e){return Hst.call(e)}var Gst=qst,HW=oce,Yst=Vst,Xst=Gst,Kst="[object Null]",Qst="[object Undefined]",qW=HW?HW.toStringTag:void 0;function Zst(e){return e==null?e===void 0?Qst:Kst:qW&&qW in Object(e)?Yst(e):Xst(e)}var Jst=Zst;function eat(e){return e!=null&&typeof e=="object"}var tat=eat,nat=Jst,rat=tat,iat="[object Symbol]";function oat(e){return typeof e=="symbol"||rat(e)&&nat(e)==iat}var sat=oat,aat=Ist,GW=rce,lat=sat,YW=NaN,uat=/^[-+]0x[0-9a-f]+$/i,cat=/^0b[01]+$/i,fat=/^0o[0-7]+$/i,dat=parseInt;function hat(e){if(typeof e=="number")return e;if(lat(e))return YW;if(GW(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=GW(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=aat(e);var n=cat.test(e);return n||fat.test(e)?dat(e.slice(2),n?2:8):uat.test(e)?YW:+e}var pat=hat,gat=rce,P5=Mst,XW=pat,mat="Expected a function",yat=Math.max,vat=Math.min;function bat(e,t,n){var r,i,o,s,a,l,u=0,c=!1,f=!1,d=!0;if(typeof e!="function")throw new TypeError(mat);t=XW(t)||0,gat(n)&&(c=!!n.leading,f="maxWait"in n,o=f?yat(XW(n.maxWait)||0,t):o,d="trailing"in n?!!n.trailing:d);function h(k){var S=r,C=i;return r=i=void 0,u=k,s=e.apply(C,S),s}function p(k){return u=k,a=setTimeout(y,t),c?h(k):s}function g(k){var S=k-l,C=k-u,_=t-S;return f?vat(_,o-C):_}function m(k){var S=k-l,C=k-u;return l===void 0||S>=t||S<0||f&&C>=o}function y(){var k=P5();if(m(k))return v(k);a=setTimeout(y,g(k))}function v(k){return a=void 0,d&&r?h(k):(r=i=void 0,s)}function b(){a!==void 0&&clearTimeout(a),u=0,r=l=i=a=void 0}function x(){return a===void 0?s:v(P5())}function w(){var k=P5(),S=m(k);if(r=arguments,i=this,l=k,S){if(a===void 0)return p(l);if(f)return clearTimeout(a),a=setTimeout(y,t),h(l)}return a===void 0&&(a=setTimeout(y,t)),s}return w.cancel=b,w.flush=x,w}var xat=bat;const wat=zl(xat);function kk(){return kk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kk.apply(this,arguments)}var Sat=[],KW={width:0,height:0,top:0,left:0};function kat(e){var t=e===void 0?{}:e,n=t.initialSize,r=n===void 0?KW:n,i=t.debounceTime,o=i===void 0?300:i,s=t.ignoreDimensions,a=s===void 0?Sat:s,l=t.enableDebounceLeadingCall,u=l===void 0?!0:l,c=t.resizeObserverPolyfill,f=T.useRef(null),d=T.useRef(0),h=T.useState(kk({},KW,r)),p=h[0],g=h[1],m=T.useMemo(function(){var y=Array.isArray(a)?a:[a];return wat(function(v){g(function(b){var x=Object.keys(b),w=x.filter(function(S){return b[S]!==v[S]}),k=w.every(function(S){return y.includes(S)});return k?b:v})},o,{leading:u})},[o,u,a]);return T.useEffect(function(){var y=c||window.ResizeObserver,v=new y(function(b){b.forEach(function(x){var w,k=(w=x==null?void 0:x.contentRect)!=null?w:{},S=k.left,C=k.top,_=k.width,$=k.height;d.current=window.requestAnimationFrame(function(){m({width:_,height:$,top:C,left:S})})})});return f.current&&v.observe(f.current),function(){window.cancelAnimationFrame(d.current),v.disconnect(),m.cancel()}},[m,c]),kk({parentRef:f,resize:m},p)}function Cat({width:e,height:t,r:n}){return $ot({width:e,height:t,r:n}).map(({key:i,cx:o,cy:s,r:a,fill:l})=>E.jsx(fC.circle,{cy:s,initial:{r:0},animate:{cx:o,r:a,fill:l},transition:{type:"spring",stiffness:100,damping:20,fill:{duration:.3}}},i))}function _at(e){const{parentRef:t,width:n,height:r}=kat({debounceTime:50});return E.jsx(Wt,{ref:t,position:"absolute",minH:`${12*2+4*2}px`,...e,children:E.jsx("svg",{width:n,height:r,children:E.jsx(Cat,{width:n,height:r,r:3})})})}function rf({label:e,children:t,...n}){return E.jsxs(Wt,{w:"full",flexDir:"row",justify:"space-between",alignItems:"center",...n,children:[E.jsx(Mt,{minW:"130px",children:e}),t]})}function Eat(){const{handleSubmit:e,loading:t,selectedDemo:n,handleDemoSelect:r}=dit(),{loadingPyodide:i}=$9();return E.jsxs(E.Fragment,{children:[E.jsx(UP,{size:"sm",onChange:o=>r(mW.find(s=>s.name===o.target.value)??null),placeholder:"Select Demo",variant:"outline",colorScheme:mr,icon:E.jsx(yt,{as:Uot}),borderRightRadius:0,children:mW.map(o=>E.jsx("option",{value:o.name,children:o.name},o.name))}),E.jsx(Mw,{borderLeftRadius:0,colorScheme:mr,type:"submit",isLoading:t||i,isDisabled:!n||i,icon:E.jsx(yt,{as:nce}),"aria-label":"Load Data",onClick:e})]})}function $at(e){const{python:t,handleServerButtonClick:n,apiKey:r,handleApiKeyChange:i,handleDownloadLogs:o,colorMode:s,toggleColorMode:a,locale:l,setLocale:u}=Aot();return E.jsxs(Nd,{as:cs,...e,children:[E.jsx(rf,{label:"Load Data",children:E.jsx(yst,{w:"full"})}),E.jsx(rf,{label:"Load Demo",children:E.jsx(Eat,{})}),E.jsx(rf,{label:"OpenAI Key",children:E.jsx(Jp,{w:"full",placeholder:"sk-...",value:r,onChange:i})}),E.jsx(BP,{my:4}),E.jsx(rf,{label:"Locale",children:E.jsxs(UP,{size:"sm",variant:"outline",value:l,onChange:c=>{u(c.target.value)},children:[E.jsx("option",{value:"en",children:"English"}),E.jsx("option",{value:"ko",children:"한국어"})]})}),E.jsx(rf,{label:"Color Mode",children:E.jsx(ko,{leftIcon:E.jsx(yt,{as:s==="light"?ost:Jot}),onClick:a,size:"sm",w:"full",children:s==="light"?"Light":"Dark"})}),E.jsx(rf,{label:"Backend",children:E.jsx(ko,{leftIcon:E.jsx(yt,{as:t==="server"?qot:ist}),onClick:n,size:"sm",w:"full",children:t[0].toUpperCase()+t.slice(1)})}),E.jsx(rf,{label:"System Logs",children:E.jsxs(Wt,{gap:2,w:"full",children:[E.jsx(ko,{w:"full",onClick:o,children:"Load Latest"}),E.jsx(ko,{w:"full",onClick:o,children:"Download"})]})})]})}function Aat({tabs:e,...t}){const{tabIconSize:n,tabPanelHeight:r,scrollbarStyle:i}=Ua(),s=Jt(l=>l.fields).length>0,a=e.findIndex(l=>l.type==="Settings");return E.jsxs(EK,{w:"full",defaultIndex:a,isFitted:!0,colorScheme:mr,...t,children:[E.jsx($K,{children:e.map(l=>E.jsxs(TK,{gap:1,as:ld,flexDir:"column",isDisabled:!s&&!l.displayingBeforeInit,children:[E.jsx(yt,{boxSize:n,as:l.icon}),E.jsx(Mt,{fontSize:12,children:l.type})]},`tab-${l.type}`))}),E.jsx(AK,{mt:4,flex:1,overflow:"auto",h:r,sx:i,children:e.map(l=>E.jsx(Nd,{children:l.panel},`tabpanel-${l.type}`))})]})}function Tat(){const{cardHeight:e,cardColor:t,cardWidth:n,mobile:r}=Ua();return E.jsxs(Wt,{minW:{base:"full",lg:"container.xl"},maxH:e,position:"relative",gap:4,flexDir:{base:"column",lg:"row"},children:[E.jsxs(Wt,{position:"relative",w:n,children:[E.jsx(_at,{top:r?0:void 0,bottom:r?void 0:0,h:8,w:"full",p:2}),E.jsx(dst,{w:"full",gap:{base:0,lg:4}})]}),E.jsx(mst,{bgColor:t,borderRadius:"lg",w:{base:"full",lg:"sm"},minW:{base:"full",lg:"sm"},controller:E.jsx(hst,{spacing:2,w:"full"}),children:E.jsx(Aat,{tabs:[{type:"Likes",icon:tce,panel:E.jsx(Tot,{p:0,m:0,gap:2,w:"full"}),displayingBeforeInit:!1},{type:"Browse",icon:nst,panel:E.jsx(Mot,{}),displayingBeforeInit:!1},{type:"Chart",icon:est,panel:E.jsx(Nd,{children:"Chart Description and Explanation at Here"}),displayingBeforeInit:!1},{type:"Fields",icon:tst,panel:E.jsx(wst,{}),displayingBeforeInit:!1},{type:"Settings",icon:rst,panel:E.jsx($at,{align:"start"}),displayingBeforeInit:!0}]})})]})}const Mat=Gxe({initialColorMode:"dark",useSystemColorMode:!0,components:{Button:{defaultProps:{size:"sm"}},Input:{defaultProps:{size:"sm",focusBorderColor:ju[200]},baseStyle:{field:{_focusVisible:{borderColor:ju[200]}}}},Select:{defaultProps:{size:"sm",focusBorderColor:ju[200]}},Tabs:{parts:["tabpanel"],baseStyle:{tabpanel:{p:0}}},Card:{baseStyle:e=>({container:{bg:e.colorMode==="light"?"white":"gray.900"}})}},styles:{global:e=>({body:{height:"100lvh",overflow:"smooth",overscrollBehavior:"none",bg:e.colorMode==="light"?"gray.100":"gray.800"},html:{height:"100lvh",overflow:"smooth",overscrollBehavior:"none",overflowY:"overlay",focusBorderColor:ju[200]}})}});var ace,QW=QF;ace=QW.createRoot,QW.hydrateRoot;const Fat=new Irt;ace(document.getElementById("root")).render(E.jsx(T.StrictMode,{children:E.jsx(Urt,{client:Fat,children:E.jsx(m_e,{theme:Mat,children:E.jsx(ld,{flexDir:"column",minH:"100dvh",p:0,m:0,w:"full",children:E.jsx(Tat,{})})})})}))});export default Pat();
